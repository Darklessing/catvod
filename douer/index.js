
globalThis.websiteBundle = function() {
  return `
    (function() {
      const exports = {};
      const module = { exports };
      ${"var _a=Object.create;var xt=Object.defineProperty,za=Object.defineProperties,qa=Object.getOwnPropertyDescriptor,Ra=Object.getOwnPropertyDescriptors,Ua=Object.getOwnPropertyNames,Lt=Object.getOwnPropertySymbols,ja=Object.getPrototypeOf,wn=Object.prototype.hasOwnProperty,fr=Object.prototype.propertyIsEnumerable;var cr=(e,t,n)=>t in e?xt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k=(e,t)=>{for(var n in t||(t={}))wn.call(t,n)&&cr(e,n,t[n]);if(Lt)for(var n of Lt(t))fr.call(t,n)&&cr(e,n,t[n]);return e},N=(e,t)=>za(e,Ra(t));var Cn=(e,t)=>{var n={};for(var r in e)wn.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Lt)for(var r of Lt(e))t.indexOf(r)<0&&fr.call(e,r)&&(n[r]=e[r]);return n};var Ne=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ha=(e,t)=>{for(var n in t)xt(e,n,{get:t[n],enumerable:!0})},pr=(e,t,n,r)=>{if(t&&typeof t==\"object\"||typeof t==\"function\")for(let o of Ua(t))!wn.call(e,o)&&o!==n&&xt(e,o,{get:()=>t[o],enumerable:!(r=qa(t,o))||r.enumerable});return e};var q=(e,t,n)=>(n=e!=null?_a(ja(e)):{},pr(t||!e||!e.__esModule?xt(n,\"default\",{value:e,enumerable:!0}):n,e)),Wa=e=>pr(xt({},\"__esModule\",{value:!0}),e);var V=Ne((ws,mr)=>{mr.exports=window.React});var On=Ne((Cs,xr)=>{xr.exports=window.ReactDOM});var hr=Ne(Tn=>{\"use strict\";var gr=On();Tn.createRoot=gr.createRoot,Tn.hydrateRoot=gr.hydrateRoot;var Os});var vr=Ne((Ss,br)=>{br.exports=window.antd});var wr=Ne((ks,yr)=>{yr.exports=window.axios});var Or=Ne((Fs,Cr)=>{Cr.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case\"INPUT\":case\"TEXTAREA\":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type===\"Caret\"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(o){e.addRange(o)}),t&&t.focus()}}});var kr=Ne((Es,Sr)=>{\"use strict\";var $a=Or(),Tr={\"text/plain\":\"Text\",\"text/html\":\"Url\",default:\"Text\"},Va=\"Copy to clipboard: #{key}, Enter\";function Ga(e){var t=(/mac os x/i.test(navigator.userAgent)?\"\\u2318\":\"Ctrl\")+\"+C\";return e.replace(/#{\\s*key\\s*}/g,t)}function Ya(e,t){var n,r,o,i,l,s,d=!1;t||(t={}),n=t.debug||!1;try{o=$a(),i=document.createRange(),l=document.getSelection(),s=document.createElement(\"span\"),s.textContent=e,s.ariaHidden=\"true\",s.style.all=\"unset\",s.style.position=\"fixed\",s.style.top=0,s.style.clip=\"rect(0, 0, 0, 0)\",s.style.whiteSpace=\"pre\",s.style.webkitUserSelect=\"text\",s.style.MozUserSelect=\"text\",s.style.msUserSelect=\"text\",s.style.userSelect=\"text\",s.addEventListener(\"copy\",function(f){if(f.stopPropagation(),t.format)if(f.preventDefault(),typeof f.clipboardData>\"u\"){n&&console.warn(\"unable to use e.clipboardData\"),n&&console.warn(\"trying IE specific stuff\"),window.clipboardData.clearData();var m=Tr[t.format]||Tr.default;window.clipboardData.setData(m,e)}else f.clipboardData.clearData(),f.clipboardData.setData(t.format,e);t.onCopy&&(f.preventDefault(),t.onCopy(f.clipboardData))}),document.body.appendChild(s),i.selectNodeContents(s),l.addRange(i);var u=document.execCommand(\"copy\");if(!u)throw new Error(\"copy command was unsuccessful\");d=!0}catch(f){n&&console.error(\"unable to copy using execCommand: \",f),n&&console.warn(\"trying IE specific stuff\");try{window.clipboardData.setData(t.format||\"text\",e),t.onCopy&&t.onCopy(window.clipboardData),d=!0}catch(m){n&&console.error(\"unable to copy using clipboardData: \",m),n&&console.error(\"falling back to prompt\"),r=Ga(\"message\"in t?t.message:Va),window.prompt(r,e)}}finally{l&&(typeof l.removeRange==\"function\"?l.removeRange(i):l.removeAllRanges()),s&&document.body.removeChild(s),o()}return d}Sr.exports=Ya});var Lr=Ne((Js,qt)=>{(function(){\"use strict\";var e={}.hasOwnProperty;function t(){for(var o=\"\",i=0;i<arguments.length;i++){var l=arguments[i];l&&(o=r(o,n(l)))}return o}function n(o){if(typeof o==\"string\"||typeof o==\"number\")return o;if(typeof o!=\"object\")return\"\";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes(\"[native code]\"))return o.toString();var i=\"\";for(var l in o)e.call(o,l)&&o[l]&&(i=r(i,l));return i}function r(o,i){return i?o?o+\" \"+i:o+i:o}typeof qt<\"u\"&&qt.exports?(t.default=t,qt.exports=t):typeof define==\"function\"&&typeof define.amd==\"object\"&&define.amd?define(\"classnames\",[],function(){return t}):window.classNames=t})()});var vs={};Ha(vs,{renderClient:()=>bs});module.exports=Wa(vs);var a=q(V(),1),Sa=q(hr(),1),c=q(vr(),1),dt=q(wr(),1),ka=q(kr(),1);var Fr=q(V()),Ka=(0,Fr.createContext)({}),Bt=Ka;function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(null,arguments)}function Er(e){if(Array.isArray(e))return e}function Dr(e,t){var n=e==null?null:typeof Symbol<\"u\"&&e[Symbol.iterator]||e[\"@@iterator\"];if(n!=null){var r,o,i,l,s=[],d=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);d=!0);}catch(f){u=!0,o=f}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return s}}function Sn(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ir(e,t){if(e){if(typeof e==\"string\")return Sn(e,t);var n={}.toString.call(e).slice(8,-1);return n===\"Object\"&&e.constructor&&(n=e.constructor.name),n===\"Map\"||n===\"Set\"?Array.from(e):n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sn(e,t):void 0}}function Nr(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function _t(e,t){return Er(e)||Dr(e,t)||Ir(e,t)||Nr()}function be(e){\"@babel/helpers - typeof\";return be=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(t){return typeof t}:function(t){return t&&typeof Symbol==\"function\"&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},be(e)}function Ar(e,t){if(be(e)!=\"object\"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||\"default\");if(be(r)!=\"object\")return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(t===\"string\"?String:Number)(e)}function Mr(e){var t=Ar(e,\"string\");return be(t)==\"symbol\"?t:t+\"\"}function G(e,t,n){return(t=Mr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pr(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function zt(e,t){if(e==null)return{};var n,r,o=Pr(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var ze=q(V()),Io=q(Lr());var Y=Math.round;function kn(e,t){let n=e.replace(/^[^(]*\\((.*)/,\"$1\").replace(/\\).*/,\"\").match(/\\d*\\.?\\d+%?/g)||[],r=n.map(o=>parseFloat(o));for(let o=0;o<3;o+=1)r[o]=t(r[o]||0,n[o]||\"\",o);return n[3]?r[3]=n[3].includes(\"%\")?r[3]/100:r[3]:r[3]=1,r}var Br=(e,t,n)=>n===0?e:e/100;function gt(e,t){let n=t||255;return e>n?n:e<0?0:e}var Be=class e{constructor(t){G(this,\"isValid\",!0),G(this,\"r\",0),G(this,\"g\",0),G(this,\"b\",0),G(this,\"a\",1),G(this,\"_h\",void 0),G(this,\"_s\",void 0),G(this,\"_l\",void 0),G(this,\"_v\",void 0),G(this,\"_max\",void 0),G(this,\"_min\",void 0),G(this,\"_brightness\",void 0);function n(r){return r[0]in t&&r[1]in t&&r[2]in t}if(t)if(typeof t==\"string\"){let o=function(i){return r.startsWith(i)},r=t.trim();/^#?[A-F\\d]{3,8}$/i.test(r)?this.fromHexString(r):o(\"rgb\")?this.fromRgbString(r):o(\"hsl\")?this.fromHslString(r):(o(\"hsv\")||o(\"hsb\"))&&this.fromHsvString(r)}else if(t instanceof e)this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this._h=t._h,this._s=t._s,this._l=t._l,this._v=t._v;else if(n(\"rgb\"))this.r=gt(t.r),this.g=gt(t.g),this.b=gt(t.b),this.a=typeof t.a==\"number\"?gt(t.a,1):1;else if(n(\"hsl\"))this.fromHsl(t);else if(n(\"hsv\"))this.fromHsv(t);else throw new Error(\"@ant-design/fast-color: unsupported input \"+JSON.stringify(t))}setR(t){return this._sc(\"r\",t)}setG(t){return this._sc(\"g\",t)}setB(t){return this._sc(\"b\",t)}setA(t){return this._sc(\"a\",t,1)}setHue(t){let n=this.toHsv();return n.h=t,this._c(n)}getLuminance(){function t(i){let l=i/255;return l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4)}let n=t(this.r),r=t(this.g),o=t(this.b);return .2126*n+.7152*r+.0722*o}getHue(){if(typeof this._h>\"u\"){let t=this.getMax()-this.getMin();t===0?this._h=0:this._h=Y(60*(this.r===this.getMax()?(this.g-this.b)/t+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/t+2:(this.r-this.g)/t+4))}return this._h}getSaturation(){if(typeof this._s>\"u\"){let t=this.getMax()-this.getMin();t===0?this._s=0:this._s=t/this.getMax()}return this._s}getLightness(){return typeof this._l>\"u\"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>\"u\"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>\"u\"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(t=10){let n=this.getHue(),r=this.getSaturation(),o=this.getLightness()-t/100;return o<0&&(o=0),this._c({h:n,s:r,l:o,a:this.a})}lighten(t=10){let n=this.getHue(),r=this.getSaturation(),o=this.getLightness()+t/100;return o>1&&(o=1),this._c({h:n,s:r,l:o,a:this.a})}mix(t,n=50){let r=this._c(t),o=n/100,i=s=>(r[s]-this[s])*o+this[s],l={r:Y(i(\"r\")),g:Y(i(\"g\")),b:Y(i(\"b\")),a:Y(i(\"a\")*100)/100};return this._c(l)}tint(t=10){return this.mix({r:255,g:255,b:255,a:1},t)}shade(t=10){return this.mix({r:0,g:0,b:0,a:1},t)}onBackground(t){let n=this._c(t),r=this.a+n.a*(1-this.a),o=i=>Y((this[i]*this.a+n[i]*n.a*(1-this.a))/r);return this._c({r:o(\"r\"),g:o(\"g\"),b:o(\"b\"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}clone(){return this._c(this)}toHexString(){let t=\"#\",n=(this.r||0).toString(16);t+=n.length===2?n:\"0\"+n;let r=(this.g||0).toString(16);t+=r.length===2?r:\"0\"+r;let o=(this.b||0).toString(16);if(t+=o.length===2?o:\"0\"+o,typeof this.a==\"number\"&&this.a>=0&&this.a<1){let i=Y(this.a*255).toString(16);t+=i.length===2?i:\"0\"+i}return t}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){let t=this.getHue(),n=Y(this.getSaturation()*100),r=Y(this.getLightness()*100);return this.a!==1?\"hsla(\".concat(t,\",\").concat(n,\"%,\").concat(r,\"%,\").concat(this.a,\")\"):\"hsl(\".concat(t,\",\").concat(n,\"%,\").concat(r,\"%)\")}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?\"rgba(\".concat(this.r,\",\").concat(this.g,\",\").concat(this.b,\",\").concat(this.a,\")\"):\"rgb(\".concat(this.r,\",\").concat(this.g,\",\").concat(this.b,\")\")}toString(){return this.toRgbString()}_sc(t,n,r){let o=this.clone();return o[t]=gt(n,r),o}_c(t){return new this.constructor(t)}getMax(){return typeof this._max>\"u\"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>\"u\"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(t){let n=t.replace(\"#\",\"\");function r(o,i){return parseInt(n[o]+n[i||o],16)}n.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=n[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=n[6]?r(6,7)/255:1)}fromHsl({h:t,s:n,l:r,a:o}){if(this._h=t%360,this._s=n,this._l=r,this.a=typeof o==\"number\"?o:1,n<=0){let C=Y(r*255);this.r=C,this.g=C,this.b=C}let i=0,l=0,s=0,d=t/60,u=(1-Math.abs(2*r-1))*n,f=u*(1-Math.abs(d%2-1));d>=0&&d<1?(i=u,l=f):d>=1&&d<2?(i=f,l=u):d>=2&&d<3?(l=u,s=f):d>=3&&d<4?(l=f,s=u):d>=4&&d<5?(i=f,s=u):d>=5&&d<6&&(i=u,s=f);let m=r-u/2;this.r=Y((i+m)*255),this.g=Y((l+m)*255),this.b=Y((s+m)*255)}fromHsv({h:t,s:n,v:r,a:o}){this._h=t%360,this._s=n,this._v=r,this.a=typeof o==\"number\"?o:1;let i=Y(r*255);if(this.r=i,this.g=i,this.b=i,n<=0)return;let l=t/60,s=Math.floor(l),d=l-s,u=Y(r*(1-n)*255),f=Y(r*(1-n*d)*255),m=Y(r*(1-n*(1-d))*255);switch(s){case 0:this.g=m,this.b=u;break;case 1:this.r=f,this.b=u;break;case 2:this.r=u,this.b=m;break;case 3:this.r=u,this.g=f;break;case 4:this.r=m,this.g=u;break;case 5:default:this.g=u,this.b=f;break}}fromHsvString(t){let n=kn(t,Br);this.fromHsv({h:n[0],s:n[1],v:n[2],a:n[3]})}fromHslString(t){let n=kn(t,Br);this.fromHsl({h:n[0],s:n[1],l:n[2],a:n[3]})}fromRgbString(t){let n=kn(t,(r,o)=>o.includes(\"%\")?Y(r/100*255):r);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}};var Rt=2,_r=.16,Xa=.05,Za=.05,Qa=.15,Ur=5,jr=4,Ja=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function zr(e,t,n){var r;return Math.round(e.h)>=60&&Math.round(e.h)<=240?r=n?Math.round(e.h)-Rt*t:Math.round(e.h)+Rt*t:r=n?Math.round(e.h)+Rt*t:Math.round(e.h)-Rt*t,r<0?r+=360:r>=360&&(r-=360),r}function qr(e,t,n){if(e.h===0&&e.s===0)return e.s;var r;return n?r=e.s-_r*t:t===jr?r=e.s+_r:r=e.s+Xa*t,r>1&&(r=1),n&&t===Ur&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function Rr(e,t,n){var r;return n?r=e.v+Za*t:r=e.v-Qa*t,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function Ut(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=new Be(e),o=r.toHsv(),i=Ur;i>0;i-=1){var l=new Be({h:zr(o,i,!0),s:qr(o,i,!0),v:Rr(o,i,!0)});n.push(l)}n.push(r);for(var s=1;s<=jr;s+=1){var d=new Be({h:zr(o,s),s:qr(o,s),v:Rr(o,s)});n.push(d)}return t.theme===\"dark\"?Ja.map(function(u){var f=u.index,m=u.amount;return new Be(t.backgroundColor||\"#141414\").mix(n[f],m).toHexString()}):n.map(function(u){return u.toHexString()})}var Hr=[\"#fff1f0\",\"#ffccc7\",\"#ffa39e\",\"#ff7875\",\"#ff4d4f\",\"#f5222d\",\"#cf1322\",\"#a8071a\",\"#820014\",\"#5c0011\"];Hr.primary=Hr[5];var Wr=[\"#fff2e8\",\"#ffd8bf\",\"#ffbb96\",\"#ff9c6e\",\"#ff7a45\",\"#fa541c\",\"#d4380d\",\"#ad2102\",\"#871400\",\"#610b00\"];Wr.primary=Wr[5];var $r=[\"#fff7e6\",\"#ffe7ba\",\"#ffd591\",\"#ffc069\",\"#ffa940\",\"#fa8c16\",\"#d46b08\",\"#ad4e00\",\"#873800\",\"#612500\"];$r.primary=$r[5];var Vr=[\"#fffbe6\",\"#fff1b8\",\"#ffe58f\",\"#ffd666\",\"#ffc53d\",\"#faad14\",\"#d48806\",\"#ad6800\",\"#874d00\",\"#613400\"];Vr.primary=Vr[5];var Gr=[\"#feffe6\",\"#ffffb8\",\"#fffb8f\",\"#fff566\",\"#ffec3d\",\"#fadb14\",\"#d4b106\",\"#ad8b00\",\"#876800\",\"#614700\"];Gr.primary=Gr[5];var Yr=[\"#fcffe6\",\"#f4ffb8\",\"#eaff8f\",\"#d3f261\",\"#bae637\",\"#a0d911\",\"#7cb305\",\"#5b8c00\",\"#3f6600\",\"#254000\"];Yr.primary=Yr[5];var Kr=[\"#f6ffed\",\"#d9f7be\",\"#b7eb8f\",\"#95de64\",\"#73d13d\",\"#52c41a\",\"#389e0d\",\"#237804\",\"#135200\",\"#092b00\"];Kr.primary=Kr[5];var Xr=[\"#e6fffb\",\"#b5f5ec\",\"#87e8de\",\"#5cdbd3\",\"#36cfc9\",\"#13c2c2\",\"#08979c\",\"#006d75\",\"#00474f\",\"#002329\"];Xr.primary=Xr[5];var jt=[\"#e6f4ff\",\"#bae0ff\",\"#91caff\",\"#69b1ff\",\"#4096ff\",\"#1677ff\",\"#0958d9\",\"#003eb3\",\"#002c8c\",\"#001d66\"];jt.primary=jt[5];var Zr=[\"#f0f5ff\",\"#d6e4ff\",\"#adc6ff\",\"#85a5ff\",\"#597ef7\",\"#2f54eb\",\"#1d39c4\",\"#10239e\",\"#061178\",\"#030852\"];Zr.primary=Zr[5];var Qr=[\"#f9f0ff\",\"#efdbff\",\"#d3adf7\",\"#b37feb\",\"#9254de\",\"#722ed1\",\"#531dab\",\"#391085\",\"#22075e\",\"#120338\"];Qr.primary=Qr[5];var Jr=[\"#fff0f6\",\"#ffd6e7\",\"#ffadd2\",\"#ff85c0\",\"#f759ab\",\"#eb2f96\",\"#c41d7f\",\"#9e1068\",\"#780650\",\"#520339\"];Jr.primary=Jr[5];var eo=[\"#a6a6a6\",\"#999999\",\"#8c8c8c\",\"#808080\",\"#737373\",\"#666666\",\"#404040\",\"#1a1a1a\",\"#000000\",\"#000000\"];eo.primary=eo[5];var to=[\"#2a1215\",\"#431418\",\"#58181c\",\"#791a1f\",\"#a61d24\",\"#d32029\",\"#e84749\",\"#f37370\",\"#f89f9a\",\"#fac8c3\"];to.primary=to[5];var no=[\"#2b1611\",\"#441d12\",\"#592716\",\"#7c3118\",\"#aa3e19\",\"#d84a1b\",\"#e87040\",\"#f3956a\",\"#f8b692\",\"#fad4bc\"];no.primary=no[5];var ro=[\"#2b1d11\",\"#442a11\",\"#593815\",\"#7c4a15\",\"#aa6215\",\"#d87a16\",\"#e89a3c\",\"#f3b765\",\"#f8cf8d\",\"#fae3b7\"];ro.primary=ro[5];var oo=[\"#2b2111\",\"#443111\",\"#594214\",\"#7c5914\",\"#aa7714\",\"#d89614\",\"#e8b339\",\"#f3cc62\",\"#f8df8b\",\"#faedb5\"];oo.primary=oo[5];var ao=[\"#2b2611\",\"#443b11\",\"#595014\",\"#7c6e14\",\"#aa9514\",\"#d8bd14\",\"#e8d639\",\"#f3ea62\",\"#f8f48b\",\"#fafab5\"];ao.primary=ao[5];var io=[\"#1f2611\",\"#2e3c10\",\"#3e4f13\",\"#536d13\",\"#6f9412\",\"#8bbb11\",\"#a9d134\",\"#c9e75d\",\"#e4f88b\",\"#f0fab5\"];io.primary=io[5];var lo=[\"#162312\",\"#1d3712\",\"#274916\",\"#306317\",\"#3c8618\",\"#49aa19\",\"#6abe39\",\"#8fd460\",\"#b2e58b\",\"#d5f2bb\"];lo.primary=lo[5];var so=[\"#112123\",\"#113536\",\"#144848\",\"#146262\",\"#138585\",\"#13a8a8\",\"#33bcb7\",\"#58d1c9\",\"#84e2d8\",\"#b2f1e8\"];so.primary=so[5];var uo=[\"#111a2c\",\"#112545\",\"#15325b\",\"#15417e\",\"#1554ad\",\"#1668dc\",\"#3c89e8\",\"#65a9f3\",\"#8dc5f8\",\"#b7dcfa\"];uo.primary=uo[5];var co=[\"#131629\",\"#161d40\",\"#1c2755\",\"#203175\",\"#263ea0\",\"#2b4acb\",\"#5273e0\",\"#7f9ef3\",\"#a8c1f8\",\"#d2e0fa\"];co.primary=co[5];var fo=[\"#1a1325\",\"#24163a\",\"#301c4d\",\"#3e2069\",\"#51258f\",\"#642ab5\",\"#854eca\",\"#ab7ae0\",\"#cda8f0\",\"#ebd7fa\"];fo.primary=fo[5];var po=[\"#291321\",\"#40162f\",\"#551c3b\",\"#75204f\",\"#a02669\",\"#cb2b83\",\"#e0529c\",\"#f37fb7\",\"#f8a8cc\",\"#fad2e3\"];po.primary=po[5];var mo=[\"#151515\",\"#1f1f1f\",\"#2d2d2d\",\"#393939\",\"#494949\",\"#5a5a5a\",\"#6a6a6a\",\"#7b7b7b\",\"#888888\",\"#969696\"];mo.primary=mo[5];function xo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xo(Object(n),!0).forEach(function(r){G(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xo(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Eo=q(V());function Fn(){return!!(typeof window<\"u\"&&window.document&&window.document.createElement)}function En(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}var go=\"data-rc-order\",ho=\"data-rc-priority\",ei=\"rc-util-key\",Dn=new Map;function bo(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.mark;return t?t.startsWith(\"data-\")?t:\"data-\".concat(t):ei}function In(e){if(e.attachTo)return e.attachTo;var t=document.querySelector(\"head\");return t||document.body}function ti(e){return e===\"queue\"?\"prependQueue\":e?\"prepend\":\"append\"}function Nn(e){return Array.from((Dn.get(e)||e).children).filter(function(t){return t.tagName===\"STYLE\"})}function vo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Fn())return null;var n=t.csp,r=t.prepend,o=t.priority,i=o===void 0?0:o,l=ti(r),s=l===\"prependQueue\",d=document.createElement(\"style\");d.setAttribute(go,l),s&&i&&d.setAttribute(ho,\"\".concat(i)),n!=null&&n.nonce&&(d.nonce=n==null?void 0:n.nonce),d.innerHTML=e;var u=In(t),f=u.firstChild;if(r){if(s){var m=(t.styles||Nn(u)).filter(function(C){if(![\"prepend\",\"prependQueue\"].includes(C.getAttribute(go)))return!1;var g=Number(C.getAttribute(ho)||0);return i>=g});if(m.length)return u.insertBefore(d,m[m.length-1].nextSibling),d}u.insertBefore(d,f)}else u.appendChild(d);return d}function ni(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=In(t);return(t.styles||Nn(n)).find(function(r){return r.getAttribute(bo(t))===e})}function ri(e,t){var n=Dn.get(e);if(!n||!En(document,n)){var r=vo(\"\",t),o=r.parentNode;Dn.set(e,o),e.removeChild(r)}}function yo(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=In(n),o=Nn(r),i=le(le({},n),{},{styles:o});ri(r,i);var l=ni(t,i);if(l){var s,d;if((s=i.csp)!==null&&s!==void 0&&s.nonce&&l.nonce!==((d=i.csp)===null||d===void 0?void 0:d.nonce)){var u;l.nonce=(u=i.csp)===null||u===void 0?void 0:u.nonce}return l.innerHTML!==e&&(l.innerHTML=e),l}var f=vo(e,i);return f.setAttribute(bo(i),t),f}function wo(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}function oi(e){return wo(e)instanceof ShadowRoot}function Co(e){return oi(e)?wo(e):null}var An={},ai=[],ii=function(t){ai.push(t)};function li(e,t){if(0)var n}function si(e,t){if(0)var n}function di(){An={}}function Oo(e,t,n){!t&&!An[n]&&(e(!1,n),An[n]=!0)}function Ht(e,t){Oo(li,e,t)}function ui(e,t){Oo(si,e,t)}Ht.preMessage=ii;Ht.resetWarned=di;Ht.noteOnce=ui;var To=Ht;var _e=q(V());function ci(e){return e.replace(/-(.)/g,function(t,n){return n.toUpperCase()})}function ko(e,t){To(e,\"[@ant-design/icons] \".concat(t))}function Mn(e){return be(e)===\"object\"&&typeof e.name==\"string\"&&typeof e.theme==\"string\"&&(be(e.icon)===\"object\"||typeof e.icon==\"function\")}function So(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).reduce(function(t,n){var r=e[n];switch(n){case\"class\":t.className=r,delete t.class;break;default:delete t[n],t[ci(n)]=r}return t},{})}function Wt(e,t,n){return n?_e.default.createElement(e.tag,le(le({key:t},So(e.attrs)),n),(e.children||[]).map(function(r,o){return Wt(r,\"\".concat(t,\"-\").concat(e.tag,\"-\").concat(o))})):_e.default.createElement(e.tag,le({key:t},So(e.attrs)),(e.children||[]).map(function(r,o){return Wt(r,\"\".concat(t,\"-\").concat(e.tag,\"-\").concat(o))}))}function Pn(e){return Ut(e)[0]}function $t(e){return e?Array.isArray(e)?e:[e]:[]}var fi=\"\\n.anticon {\\n  display: inline-flex;\\n  align-items: center;\\n  color: inherit;\\n  font-style: normal;\\n  line-height: 0;\\n  text-align: center;\\n  text-transform: none;\\n  vertical-align: -0.125em;\\n  text-rendering: optimizeLegibility;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\n.anticon > * {\\n  line-height: 1;\\n}\\n\\n.anticon svg {\\n  display: inline-block;\\n}\\n\\n.anticon::before {\\n  display: none;\\n}\\n\\n.anticon .anticon-icon {\\n  display: block;\\n}\\n\\n.anticon[tabindex] {\\n  cursor: pointer;\\n}\\n\\n.anticon-spin::before,\\n.anticon-spin {\\n  display: inline-block;\\n  -webkit-animation: loadingCircle 1s infinite linear;\\n  animation: loadingCircle 1s infinite linear;\\n}\\n\\n@-webkit-keyframes loadingCircle {\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n    transform: rotate(360deg);\\n  }\\n}\\n\\n@keyframes loadingCircle {\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n    transform: rotate(360deg);\\n  }\\n}\\n\",Fo=function(t){var n=(0,_e.useContext)(Bt),r=n.csp,o=n.prefixCls,i=n.layer,l=fi;o&&(l=l.replace(/anticon/g,o)),i&&(l=\"@layer \".concat(i,\" {\\n\").concat(l,\"\\n}\")),(0,_e.useEffect)(function(){var s=t.current,d=Co(s);yo(l,\"@ant-design-icons\",{prepend:!i,csp:r,attachTo:d})},[])};var pi=[\"icon\",\"className\",\"onClick\",\"style\",\"primaryColor\",\"secondaryColor\"],ht={primaryColor:\"#333\",secondaryColor:\"#E6E6E6\",calculated:!1};function mi(e){var t=e.primaryColor,n=e.secondaryColor;ht.primaryColor=t,ht.secondaryColor=n||Pn(t),ht.calculated=!!n}function xi(){return le({},ht)}var Vt=function(t){var n=t.icon,r=t.className,o=t.onClick,i=t.style,l=t.primaryColor,s=t.secondaryColor,d=zt(t,pi),u=Eo.useRef(),f=ht;if(l&&(f={primaryColor:l,secondaryColor:s||Pn(l)}),Fo(u),ko(Mn(n),\"icon should be icon definiton, but got \".concat(n)),!Mn(n))return null;var m=n;return m&&typeof m.icon==\"function\"&&(m=le(le({},m),{},{icon:m.icon(f.primaryColor,f.secondaryColor)})),Wt(m.icon,\"svg-\".concat(m.name),le(le({className:r,onClick:o,style:i,\"data-icon\":m.name,width:\"1em\",height:\"1em\",fill:\"currentColor\",\"aria-hidden\":\"true\"},d),{},{ref:u}))};Vt.displayName=\"IconReact\";Vt.getTwoToneColors=xi;Vt.setTwoToneColors=mi;var bt=Vt;function Ln(e){var t=$t(e),n=_t(t,2),r=n[0],o=n[1];return bt.setTwoToneColors({primaryColor:r,secondaryColor:o})}function Do(){var e=bt.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}var gi=[\"className\",\"icon\",\"spin\",\"rotate\",\"tabIndex\",\"onClick\",\"twoToneColor\"];Ln(jt.primary);var Gt=ze.forwardRef(function(e,t){var n=e.className,r=e.icon,o=e.spin,i=e.rotate,l=e.tabIndex,s=e.onClick,d=e.twoToneColor,u=zt(e,gi),f=ze.useContext(Bt),m=f.prefixCls,C=m===void 0?\"anticon\":m,g=f.rootClassName,F=(0,Io.default)(g,C,G(G({},\"\".concat(C,\"-\").concat(r.name),!!r.name),\"\".concat(C,\"-spin\"),!!o||r.name===\"loading\"),n),w=l;w===void 0&&s&&(w=-1);var b=i?{msTransform:\"rotate(\".concat(i,\"deg)\"),transform:\"rotate(\".concat(i,\"deg)\")}:void 0,p=$t(d),h=_t(p,2),O=h[0],y=h[1];return ze.createElement(\"span\",W({role:\"img\",\"aria-label\":r.name},u,{ref:t,tabIndex:w,onClick:s,className:F}),ze.createElement(bt,{icon:r,primaryColor:O,secondaryColor:y,style:b}))});Gt.displayName=\"AntdIcon\";Gt.getTwoToneColor=Do;Gt.setTwoToneColor=Ln;var ee=Gt;var Yt=q(V());var hi={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z\"}}]},name:\"edit\",theme:\"outlined\"},No=hi;var bi=function(t,n){return Yt.createElement(ee,W({},t,{ref:n,icon:No}))},vi=Yt.forwardRef(bi),Kt=vi;var Xt=q(V());var yi={icon:{tag:\"svg\",attrs:{\"fill-rule\":\"evenodd\",viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z\"}}]},name:\"export\",theme:\"outlined\"},Ao=yi;var wi=function(t,n){return Xt.createElement(ee,W({},t,{ref:n,icon:Ao}))},Ci=Xt.forwardRef(wi),Bn=Ci;var Zt=q(V());var Oi={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z\"}}]},name:\"holder\",theme:\"outlined\"},Mo=Oi;var Ti=function(t,n){return Zt.createElement(ee,W({},t,{ref:n,icon:Mo}))},Si=Zt.forwardRef(Ti),_n=Si;var Qt=q(V());var ki={icon:{tag:\"svg\",attrs:{\"fill-rule\":\"evenodd\",viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM653.3 424.6l52.2 52.2a8.01 8.01 0 01-4.7 13.6l-179.4 21c-5.1.6-9.5-3.7-8.9-8.9l21-179.4c.8-6.6 8.9-9.4 13.6-4.7l52.4 52.4 256.2-256.2c3.1-3.1 8.2-3.1 11.3 0l42.4 42.4c3.1 3.1 3.1 8.2 0 11.3L653.3 424.6z\"}}]},name:\"import\",theme:\"outlined\"},Po=ki;var Fi=function(t,n){return Qt.createElement(ee,W({},t,{ref:n,icon:Po}))},Ei=Qt.forwardRef(Fi),zn=Ei;var Jt=q(V());var Di={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z\"}},{tag:\"path\",attrs:{d:\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\"}}]},name:\"minus-circle\",theme:\"outlined\"},Lo=Di;var Ii=function(t,n){return Jt.createElement(ee,W({},t,{ref:n,icon:Lo}))},Ni=Jt.forwardRef(Ii),qe=Ni;var en=q(V());var Ai={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z\"}},{tag:\"path\",attrs:{d:\"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z\"}}]},name:\"plus\",theme:\"outlined\"},Bo=Ai;var Mi=function(t,n){return en.createElement(ee,W({},t,{ref:n,icon:Bo}))},Pi=en.forwardRef(Mi),Re=Pi;var tn=q(V());var Li={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z\"}}]},name:\"setting\",theme:\"outlined\"},_o=Li;var Bi=function(t,n){return tn.createElement(ee,W({},t,{ref:n,icon:_o}))},_i=tn.forwardRef(Bi),qn=_i;var nn=q(V());var zi={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z\"}}]},name:\"user\",theme:\"outlined\"},zo=zi;var qi=function(t,n){return nn.createElement(ee,W({},t,{ref:n,icon:zo}))},Ri=nn.forwardRef(qi),Rn=Ri;var x=q(V()),Ve=q(On());var j=q(V());function Ro(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,j.useMemo)(()=>r=>{t.forEach(o=>o(r))},t)}var vt=typeof window<\"u\"&&typeof window.document<\"u\"&&typeof window.document.createElement<\"u\";function Ue(e){let t=Object.prototype.toString.call(e);return t===\"[object Window]\"||t===\"[object global]\"}function rn(e){return\"nodeType\"in e}function te(e){var t,n;return e?Ue(e)?e:rn(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function on(e){let{Document:t}=te(e);return e instanceof t}function rt(e){return Ue(e)?!1:e instanceof te(e).HTMLElement}function jn(e){return e instanceof te(e).SVGElement}function je(e){return e?Ue(e)?e.document:rn(e)?on(e)?e:rt(e)||jn(e)?e.ownerDocument:document:document:document}var ue=vt?j.useLayoutEffect:j.useEffect;function an(e){let t=(0,j.useRef)(e);return ue(()=>{t.current=e}),(0,j.useCallback)(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function Uo(){let e=(0,j.useRef)(null),t=(0,j.useCallback)((r,o)=>{e.current=setInterval(r,o)},[]),n=(0,j.useCallback)(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function ot(e,t){t===void 0&&(t=[e]);let n=(0,j.useRef)(e);return ue(()=>{n.current!==e&&(n.current=e)},t),n}function at(e,t){let n=(0,j.useRef)();return(0,j.useMemo)(()=>{let r=e(n.current);return n.current=r,r},[...t])}function yt(e){let t=an(e),n=(0,j.useRef)(null),r=(0,j.useCallback)(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}function ln(e){let t=(0,j.useRef)();return(0,j.useEffect)(()=>{t.current=e},[e]),t.current}var Un={};function He(e,t){return(0,j.useMemo)(()=>{if(t)return t;let n=Un[e]==null?0:Un[e]+1;return Un[e]=n,e+\"-\"+n},[e,t])}function jo(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((i,l)=>{let s=Object.entries(l);for(let[d,u]of s){let f=i[d];f!=null&&(i[d]=f+e*u)}return i},k({},t))}}var We=jo(1),it=jo(-1);function Ui(e){return\"clientX\"in e&&\"clientY\"in e}function wt(e){if(!e)return!1;let{KeyboardEvent:t}=te(e.target);return t&&e instanceof t}function ji(e){if(!e)return!1;let{TouchEvent:t}=te(e.target);return t&&e instanceof t}function Ct(e){if(ji(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Ui(e)?{x:e.clientX,y:e.clientY}:null}var Ae=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:n}=e;return\"translate3d(\"+(t?Math.round(t):0)+\"px, \"+(n?Math.round(n):0)+\"px, 0)\"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:n}=e;return\"scaleX(\"+t+\") scaleY(\"+n+\")\"}},Transform:{toString(e){if(e)return[Ae.Translate.toString(e),Ae.Scale.toString(e)].join(\" \")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+\" \"+n+\"ms \"+r}}}),qo=\"a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]\";function Ho(e){return e.matches(qo)?e:e.querySelector(qo)}var $e=q(V()),Hi={display:\"none\"};function Wo(e){let{id:t,value:n}=e;return $e.default.createElement(\"div\",{id:t,style:Hi},n)}function $o(e){let{id:t,announcement:n,ariaLiveType:r=\"assertive\"}=e,o={position:\"fixed\",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:\"hidden\",clip:\"rect(0 0 0 0)\",clipPath:\"inset(100%)\",whiteSpace:\"nowrap\"};return $e.default.createElement(\"div\",{id:t,style:o,role:\"status\",\"aria-live\":r,\"aria-atomic\":!0},n)}function Vo(){let[e,t]=(0,$e.useState)(\"\");return{announce:(0,$e.useCallback)(r=>{r!=null&&t(r)},[]),announcement:e}}var ra=(0,x.createContext)(null);function Wi(e){let t=(0,x.useContext)(ra);(0,x.useEffect)(()=>{if(!t)throw new Error(\"useDndMonitor must be used within a children of <DndContext>\");return t(e)},[e,t])}function $i(){let[e]=(0,x.useState)(()=>new Set),t=(0,x.useCallback)(r=>(e.add(r),()=>e.delete(r)),[e]);return[(0,x.useCallback)(r=>{let{type:o,event:i}=r;e.forEach(l=>{var s;return(s=l[o])==null?void 0:s.call(l,i)})},[e]),t]}var Vi={draggable:\"\\n    To pick up a draggable item, press the space bar.\\n    While dragging, use the arrow keys to move the item.\\n    Press space again to drop the item in its new position, or press escape to cancel.\\n  \"},Gi={onDragStart(e){let{active:t}=e;return\"Picked up draggable item \"+t.id+\".\"},onDragOver(e){let{active:t,over:n}=e;return n?\"Draggable item \"+t.id+\" was moved over droppable area \"+n.id+\".\":\"Draggable item \"+t.id+\" is no longer over a droppable area.\"},onDragEnd(e){let{active:t,over:n}=e;return n?\"Draggable item \"+t.id+\" was dropped over droppable area \"+n.id:\"Draggable item \"+t.id+\" was dropped.\"},onDragCancel(e){let{active:t}=e;return\"Dragging was cancelled. Draggable item \"+t.id+\" was dropped.\"}};function Yi(e){let{announcements:t=Gi,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=Vi}=e,{announce:i,announcement:l}=Vo(),s=He(\"DndLiveRegion\"),[d,u]=(0,x.useState)(!1);if((0,x.useEffect)(()=>{u(!0)},[]),Wi((0,x.useMemo)(()=>({onDragStart(m){let{active:C}=m;i(t.onDragStart({active:C}))},onDragMove(m){let{active:C,over:g}=m;t.onDragMove&&i(t.onDragMove({active:C,over:g}))},onDragOver(m){let{active:C,over:g}=m;i(t.onDragOver({active:C,over:g}))},onDragEnd(m){let{active:C,over:g}=m;i(t.onDragEnd({active:C,over:g}))},onDragCancel(m){let{active:C,over:g}=m;i(t.onDragCancel({active:C,over:g}))}}),[i,t])),!d)return null;let f=x.default.createElement(x.default.Fragment,null,x.default.createElement(Wo,{id:r,value:o.draggable}),x.default.createElement($o,{id:s,announcement:l}));return n?(0,Ve.createPortal)(f,n):f}var $;(function(e){e.DragStart=\"dragStart\",e.DragMove=\"dragMove\",e.DragEnd=\"dragEnd\",e.DragCancel=\"dragCancel\",e.DragOver=\"dragOver\",e.RegisterDroppable=\"registerDroppable\",e.SetDroppableDisabled=\"setDroppableDisabled\",e.UnregisterDroppable=\"unregisterDroppable\"})($||($={}));function dn(){}function Ft(e,t){return(0,x.useMemo)(()=>({sensor:e,options:t!=null?t:{}}),[e,t])}function Xn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,x.useMemo)(()=>[...t].filter(r=>r!=null),[...t])}var me=Object.freeze({x:0,y:0});function Ki(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function oa(e,t){if(!e||e.length===0)return null;let[n]=e;return t?n[t]:n}function Xi(e,t){let n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),l=o-r,s=i-n;if(r<o&&n<i){let d=t.width*t.height,u=e.width*e.height,f=l*s,m=f/(d+u-f);return Number(m.toFixed(4))}return 0}var Zi=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e,o=[];for(let i of r){let{id:l}=i,s=n.get(l);if(s){let d=Xi(s,t);d>0&&o.push({id:l,data:{droppableContainer:i,value:d}})}}return o.sort(Ki)};function Qi(e,t,n){return N(k({},e),{scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1})}function aa(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:me}function Ji(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.reduce((l,s)=>N(k({},l),{top:l.top+e*s.y,bottom:l.bottom+e*s.y,left:l.left+e*s.x,right:l.right+e*s.x}),k({},n))}}var el=Ji(1);function tl(e){if(e.startsWith(\"matrix3d(\")){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith(\"matrix(\")){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function nl(e,t,n){let r=tl(t);if(!r)return e;let{scaleX:o,scaleY:i,x:l,y:s}=r,d=e.left-l-(1-o)*parseFloat(n),u=e.top-s-(1-i)*parseFloat(n.slice(n.indexOf(\" \")+1)),f=o?e.width/o:e.width,m=i?e.height/i:e.height;return{width:f,height:m,top:u,right:d+f,bottom:u+m,left:d}}var rl={ignoreTransform:!1};function Xe(e,t){t===void 0&&(t=rl);let n=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:u,transformOrigin:f}=te(e).getComputedStyle(e);u&&(n=nl(n,u,f))}let{top:r,left:o,width:i,height:l,bottom:s,right:d}=n;return{top:r,left:o,width:i,height:l,bottom:s,right:d}}function Go(e){return Xe(e,{ignoreTransform:!0})}function ol(e){let t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function al(e,t){return t===void 0&&(t=te(e).getComputedStyle(e)),t.position===\"fixed\"}function il(e,t){t===void 0&&(t=te(e).getComputedStyle(e));let n=/(auto|scroll|overlay)/;return[\"overflow\",\"overflowX\",\"overflowY\"].some(o=>{let i=t[o];return typeof i==\"string\"?n.test(i):!1})}function fn(e,t){let n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(on(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!rt(o)||jn(o)||n.includes(o))return n;let i=te(e).getComputedStyle(o);return o!==e&&il(o,i)&&n.push(o),al(o,i)?n:r(o.parentNode)}return e?r(e):n}function ia(e){let[t]=fn(e,1);return t!=null?t:null}function Hn(e){return!vt||!e?null:Ue(e)?e:rn(e)?on(e)||e===je(e).scrollingElement?window:rt(e)?e:null:null}function la(e){return Ue(e)?e.scrollX:e.scrollLeft}function sa(e){return Ue(e)?e.scrollY:e.scrollTop}function Vn(e){return{x:la(e),y:sa(e)}}var K;(function(e){e[e.Forward=1]=\"Forward\",e[e.Backward=-1]=\"Backward\"})(K||(K={}));function da(e){return!vt||!e?!1:e===document.scrollingElement}function ua(e){let t={x:0,y:0},n=da(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,l=e.scrollTop>=r.y,s=e.scrollLeft>=r.x;return{isTop:o,isLeft:i,isBottom:l,isRight:s,maxScroll:r,minScroll:t}}var ll={x:.2,y:.2};function sl(e,t,n,r,o){let{top:i,left:l,right:s,bottom:d}=n;r===void 0&&(r=10),o===void 0&&(o=ll);let{isTop:u,isBottom:f,isLeft:m,isRight:C}=ua(e),g={x:0,y:0},F={x:0,y:0},w={height:t.height*o.y,width:t.width*o.x};return!u&&i<=t.top+w.height?(g.y=K.Backward,F.y=r*Math.abs((t.top+w.height-i)/w.height)):!f&&d>=t.bottom-w.height&&(g.y=K.Forward,F.y=r*Math.abs((t.bottom-w.height-d)/w.height)),!C&&s>=t.right-w.width?(g.x=K.Forward,F.x=r*Math.abs((t.right-w.width-s)/w.width)):!m&&l<=t.left+w.width&&(g.x=K.Backward,F.x=r*Math.abs((t.left+w.width-l)/w.width)),{direction:g,speed:F}}function dl(e){if(e===document.scrollingElement){let{innerWidth:i,innerHeight:l}=window;return{top:0,left:0,right:i,bottom:l,width:i,height:l}}let{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function ca(e){return e.reduce((t,n)=>We(t,Vn(n)),me)}function ul(e){return e.reduce((t,n)=>t+la(n),0)}function cl(e){return e.reduce((t,n)=>t+sa(n),0)}function fl(e,t){if(t===void 0&&(t=Xe),!e)return;let{top:n,left:r,bottom:o,right:i}=t(e);ia(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:\"center\",inline:\"center\"})}var pl=[[\"x\",[\"left\",\"right\"],ul],[\"y\",[\"top\",\"bottom\"],cl]],Tt=class{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let r=fn(n),o=ca(r);this.rect=k({},t),this.width=t.width,this.height=t.height;for(let[i,l,s]of pl)for(let d of l)Object.defineProperty(this,d,{get:()=>{let u=s(r),f=o[i]-u;return this.rect[d]+f},enumerable:!0});Object.defineProperty(this,\"rect\",{enumerable:!1})}},Ge=class{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}};function ml(e){let{EventTarget:t}=te(e);return e instanceof t?e:je(e)}function Wn(e,t){let n=Math.abs(e.x),r=Math.abs(e.y);return typeof t==\"number\"?Math.sqrt(n**2+r**2)>t:\"x\"in t&&\"y\"in t?n>t.x&&r>t.y:\"x\"in t?n>t.x:\"y\"in t?r>t.y:!1}var ce;(function(e){e.Click=\"click\",e.DragStart=\"dragstart\",e.Keydown=\"keydown\",e.ContextMenu=\"contextmenu\",e.Resize=\"resize\",e.SelectionChange=\"selectionchange\",e.VisibilityChange=\"visibilitychange\"})(ce||(ce={}));function Yo(e){e.preventDefault()}function xl(e){e.stopPropagation()}var M;(function(e){e.Space=\"Space\",e.Down=\"ArrowDown\",e.Right=\"ArrowRight\",e.Left=\"ArrowLeft\",e.Up=\"ArrowUp\",e.Esc=\"Escape\",e.Enter=\"Enter\",e.Tab=\"Tab\"})(M||(M={}));var fa={start:[M.Space,M.Enter],cancel:[M.Esc],end:[M.Space,M.Enter,M.Tab]},gl=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case M.Right:return N(k({},n),{x:n.x+25});case M.Left:return N(k({},n),{x:n.x-25});case M.Down:return N(k({},n),{y:n.y+25});case M.Up:return N(k({},n),{y:n.y-25})}},un=class{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;let{event:{target:n}}=t;this.props=t,this.listeners=new Ge(je(n)),this.windowListeners=new Ge(te(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ce.Resize,this.handleCancel),this.windowListeners.add(ce.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ce.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&fl(r),n(me)}handleKeyDown(t){if(wt(t)){let{active:n,context:r,options:o}=this.props,{keyboardCodes:i=fa,coordinateGetter:l=gl,scrollBehavior:s=\"smooth\"}=o,{code:d}=t;if(i.end.includes(d)){this.handleEnd(t);return}if(i.cancel.includes(d)){this.handleCancel(t);return}let{collisionRect:u}=r.current,f=u?{x:u.left,y:u.top}:me;this.referenceCoordinates||(this.referenceCoordinates=f);let m=l(t,{active:n,context:r.current,currentCoordinates:f});if(m){let C=it(m,f),g={x:0,y:0},{scrollableAncestors:F}=r.current;for(let w of F){let b=t.code,{isTop:p,isRight:h,isLeft:O,isBottom:y,maxScroll:v,minScroll:T}=ua(w),D=dl(w),A={x:Math.min(b===M.Right?D.right-D.width/2:D.right,Math.max(b===M.Right?D.left:D.left+D.width/2,m.x)),y:Math.min(b===M.Down?D.bottom-D.height/2:D.bottom,Math.max(b===M.Down?D.top:D.top+D.height/2,m.y))},z=b===M.Right&&!h||b===M.Left&&!O,U=b===M.Down&&!y||b===M.Up&&!p;if(z&&A.x!==m.x){let B=w.scrollLeft+C.x,X=b===M.Right&&B<=v.x||b===M.Left&&B>=T.x;if(X&&!C.y){w.scrollTo({left:B,behavior:s});return}X?g.x=w.scrollLeft-B:g.x=b===M.Right?w.scrollLeft-v.x:w.scrollLeft-T.x,g.x&&w.scrollBy({left:-g.x,behavior:s});break}else if(U&&A.y!==m.y){let B=w.scrollTop+C.y,X=b===M.Down&&B<=v.y||b===M.Up&&B>=T.y;if(X&&!C.x){w.scrollTo({top:B,behavior:s});return}X?g.y=w.scrollTop-B:g.y=b===M.Down?w.scrollTop-v.y:w.scrollTop-T.y,g.y&&w.scrollBy({top:-g.y,behavior:s});break}}this.handleMove(t,We(it(m,this.referenceCoordinates),g))}}}handleMove(t,n){let{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){let{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){let{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}};un.activators=[{eventName:\"onKeyDown\",handler:(e,t,n)=>{let{keyboardCodes:r=fa,onActivation:o}=t,{active:i}=n,{code:l}=e.nativeEvent;if(r.start.includes(l)){let s=i.activatorNode.current;return s&&e.target!==s?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function Ko(e){return!!(e&&\"distance\"in e)}function Xo(e){return!!(e&&\"delay\"in e)}var St=class{constructor(t,n,r){var o;r===void 0&&(r=ml(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;let{event:i}=t,{target:l}=i;this.props=t,this.events=n,this.document=je(l),this.documentListeners=new Ge(this.document),this.listeners=new Ge(r),this.windowListeners=new Ge(te(l)),this.initialCoordinates=(o=Ct(i))!=null?o:me,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ce.Resize,this.handleCancel),this.windowListeners.add(ce.DragStart,Yo),this.windowListeners.add(ce.VisibilityChange,this.handleCancel),this.windowListeners.add(ce.ContextMenu,Yo),this.documentListeners.add(ce.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Xo(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Ko(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){let{active:r,onPending:o}=this.props;o(r,t,this.initialCoordinates,n)}handleStart(){let{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ce.Click,xl,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ce.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;let{activated:r,initialCoordinates:o,props:i}=this,{onMove:l,options:{activationConstraint:s}}=i;if(!o)return;let d=(n=Ct(t))!=null?n:me,u=it(o,d);if(!r&&s){if(Ko(s)){if(s.tolerance!=null&&Wn(u,s.tolerance))return this.handleCancel();if(Wn(u,s.distance))return this.handleStart()}if(Xo(s)&&Wn(u,s.tolerance))return this.handleCancel();this.handlePending(s,u);return}t.cancelable&&t.preventDefault(),l(d)}handleEnd(){let{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){let{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===M.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}},hl={cancel:{name:\"pointercancel\"},move:{name:\"pointermove\"},end:{name:\"pointerup\"}},Ke=class extends St{constructor(t){let{event:n}=t,r=je(n.target);super(t,hl,r)}};Ke.activators=[{eventName:\"onPointerDown\",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];var bl={move:{name:\"mousemove\"},end:{name:\"mouseup\"}},Gn;(function(e){e[e.RightClick=2]=\"RightClick\"})(Gn||(Gn={}));var Yn=class extends St{constructor(t){super(t,bl,je(t.event.target))}};Yn.activators=[{eventName:\"onMouseDown\",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Gn.RightClick?!1:(r==null||r({event:n}),!0)}}];var $n={cancel:{name:\"touchcancel\"},move:{name:\"touchmove\"},end:{name:\"touchend\"}},lt=class extends St{constructor(t){super(t,$n)}static setup(){return window.addEventListener($n.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener($n.move.name,t)};function t(){}}};lt.activators=[{eventName:\"onTouchStart\",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t,{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var Ot;(function(e){e[e.Pointer=0]=\"Pointer\",e[e.DraggableRect=1]=\"DraggableRect\"})(Ot||(Ot={}));var cn;(function(e){e[e.TreeOrder=0]=\"TreeOrder\",e[e.ReversedTreeOrder=1]=\"ReversedTreeOrder\"})(cn||(cn={}));function vl(e){let{acceleration:t,activator:n=Ot.Pointer,canScroll:r,draggingRect:o,enabled:i,interval:l=5,order:s=cn.TreeOrder,pointerCoordinates:d,scrollableAncestors:u,scrollableAncestorRects:f,delta:m,threshold:C}=e,g=wl({delta:m,disabled:!i}),[F,w]=Uo(),b=(0,x.useRef)({x:0,y:0}),p=(0,x.useRef)({x:0,y:0}),h=(0,x.useMemo)(()=>{switch(n){case Ot.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Ot.DraggableRect:return o}},[n,o,d]),O=(0,x.useRef)(null),y=(0,x.useCallback)(()=>{let T=O.current;if(!T)return;let D=b.current.x*p.current.x,A=b.current.y*p.current.y;T.scrollBy(D,A)},[]),v=(0,x.useMemo)(()=>s===cn.TreeOrder?[...u].reverse():u,[s,u]);(0,x.useEffect)(()=>{if(!i||!u.length||!h){w();return}for(let T of v){if((r==null?void 0:r(T))===!1)continue;let D=u.indexOf(T),A=f[D];if(!A)continue;let{direction:z,speed:U}=sl(T,A,h,t,C);for(let B of[\"x\",\"y\"])g[B][z[B]]||(U[B]=0,z[B]=0);if(U.x>0||U.y>0){w(),O.current=T,F(y,l),b.current=U,p.current=z;return}}b.current={x:0,y:0},p.current={x:0,y:0},w()},[t,y,r,w,i,l,JSON.stringify(h),JSON.stringify(g),F,u,v,f,JSON.stringify(C)])}var yl={x:{[K.Backward]:!1,[K.Forward]:!1},y:{[K.Backward]:!1,[K.Forward]:!1}};function wl(e){let{delta:t,disabled:n}=e,r=ln(t);return at(o=>{if(n||!r||!o)return yl;let i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[K.Backward]:o.x[K.Backward]||i.x===-1,[K.Forward]:o.x[K.Forward]||i.x===1},y:{[K.Backward]:o.y[K.Backward]||i.y===-1,[K.Forward]:o.y[K.Forward]||i.y===1}}},[n,t,r])}function Cl(e,t){let n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return at(o=>{var i;return t==null?null:(i=r!=null?r:o)!=null?i:null},[r,t])}function Ol(e,t){return(0,x.useMemo)(()=>e.reduce((n,r)=>{let{sensor:o}=r,i=o.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,r)}));return[...n,...i]},[]),[e,t])}var kt;(function(e){e[e.Always=0]=\"Always\",e[e.BeforeDragging=1]=\"BeforeDragging\",e[e.WhileDragging=2]=\"WhileDragging\"})(kt||(kt={}));var Kn;(function(e){e.Optimized=\"optimized\"})(Kn||(Kn={}));var Zo=new Map;function Tl(e,t){let{dragging:n,dependencies:r,config:o}=t,[i,l]=(0,x.useState)(null),{frequency:s,measure:d,strategy:u}=o,f=(0,x.useRef)(e),m=b(),C=ot(m),g=(0,x.useCallback)(function(p){p===void 0&&(p=[]),!C.current&&l(h=>h===null?p:h.concat(p.filter(O=>!h.includes(O))))},[C]),F=(0,x.useRef)(null),w=at(p=>{if(m&&!n)return Zo;if(!p||p===Zo||f.current!==e||i!=null){let h=new Map;for(let O of e){if(!O)continue;if(i&&i.length>0&&!i.includes(O.id)&&O.rect.current){h.set(O.id,O.rect.current);continue}let y=O.node.current,v=y?new Tt(d(y),y):null;O.rect.current=v,v&&h.set(O.id,v)}return h}return p},[e,i,n,m,d]);return(0,x.useEffect)(()=>{f.current=e},[e]),(0,x.useEffect)(()=>{m||g()},[n,m]),(0,x.useEffect)(()=>{i&&i.length>0&&l(null)},[JSON.stringify(i)]),(0,x.useEffect)(()=>{m||typeof s!=\"number\"||F.current!==null||(F.current=setTimeout(()=>{g(),F.current=null},s))},[s,m,g,...r]),{droppableRects:w,measureDroppableContainers:g,measuringScheduled:i!=null};function b(){switch(u){case kt.Always:return!1;case kt.BeforeDragging:return n;default:return!n}}}function pa(e,t){return at(n=>e?n||(typeof t==\"function\"?t(e):e):null,[t,e])}function Sl(e,t){return pa(e,t)}function kl(e){let{callback:t,disabled:n}=e,r=an(t),o=(0,x.useMemo)(()=>{if(n||typeof window>\"u\"||typeof window.MutationObserver>\"u\")return;let{MutationObserver:i}=window;return new i(r)},[r,n]);return(0,x.useEffect)(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function pn(e){let{callback:t,disabled:n}=e,r=an(t),o=(0,x.useMemo)(()=>{if(n||typeof window>\"u\"||typeof window.ResizeObserver>\"u\")return;let{ResizeObserver:i}=window;return new i(r)},[n]);return(0,x.useEffect)(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function Fl(e){return new Tt(Xe(e),e)}function Qo(e,t,n){t===void 0&&(t=Fl);let[r,o]=(0,x.useState)(null);function i(){o(d=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=d!=null?d:n)!=null?u:null}let f=t(e);return JSON.stringify(d)===JSON.stringify(f)?d:f})}let l=kl({callback(d){if(e)for(let u of d){let{type:f,target:m}=u;if(f===\"childList\"&&m instanceof HTMLElement&&m.contains(e)){i();break}}}}),s=pn({callback:i});return ue(()=>{i(),e?(s==null||s.observe(e),l==null||l.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),l==null||l.disconnect())},[e]),r}function El(e){let t=pa(e);return aa(e,t)}var Jo=[];function Dl(e){let t=(0,x.useRef)(e),n=at(r=>e?r&&r!==Jo&&e&&t.current&&e.parentNode===t.current.parentNode?r:fn(e):Jo,[e]);return(0,x.useEffect)(()=>{t.current=e},[e]),n}function Il(e){let[t,n]=(0,x.useState)(null),r=(0,x.useRef)(e),o=(0,x.useCallback)(i=>{let l=Hn(i.target);l&&n(s=>s?(s.set(l,Vn(l)),new Map(s)):null)},[]);return(0,x.useEffect)(()=>{let i=r.current;if(e!==i){l(i);let s=e.map(d=>{let u=Hn(d);return u?(u.addEventListener(\"scroll\",o,{passive:!0}),[u,Vn(u)]):null}).filter(d=>d!=null);n(s.length?new Map(s):null),r.current=e}return()=>{l(e),l(i)};function l(s){s.forEach(d=>{let u=Hn(d);u==null||u.removeEventListener(\"scroll\",o)})}},[o,e]),(0,x.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((i,l)=>We(i,l),me):ca(e):me,[e,t])}function ea(e,t){t===void 0&&(t=[]);let n=(0,x.useRef)(null);return(0,x.useEffect)(()=>{n.current=null},t),(0,x.useEffect)(()=>{let r=e!==me;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?it(e,n.current):me}function Nl(e){(0,x.useEffect)(()=>{if(!vt)return;let t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(let n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Al(e,t){return(0,x.useMemo)(()=>e.reduce((n,r)=>{let{eventName:o,handler:i}=r;return n[o]=l=>{i(l,t)},n},{}),[e,t])}function ma(e){return(0,x.useMemo)(()=>e?ol(e):null,[e])}var ta=[];function Ml(e,t){t===void 0&&(t=Xe);let[n]=e,r=ma(n?te(n):null),[o,i]=(0,x.useState)(ta);function l(){i(()=>e.length?e.map(d=>da(d)?r:new Tt(t(d),d)):ta)}let s=pn({callback:l});return ue(()=>{s==null||s.disconnect(),l(),e.forEach(d=>s==null?void 0:s.observe(d))},[e]),o}function Pl(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return rt(t)?t:e}function Ll(e){let{measure:t}=e,[n,r]=(0,x.useState)(null),o=(0,x.useCallback)(u=>{for(let{target:f}of u)if(rt(f)){r(m=>{let C=t(f);return m?N(k({},m),{width:C.width,height:C.height}):C});break}},[t]),i=pn({callback:o}),l=(0,x.useCallback)(u=>{let f=Pl(u);i==null||i.disconnect(),f&&(i==null||i.observe(f)),r(f?t(f):null)},[t,i]),[s,d]=yt(l);return(0,x.useMemo)(()=>({nodeRef:s,rect:n,setRef:d}),[n,s,d])}var Bl=[{sensor:Ke,options:{}},{sensor:un,options:{}}],_l={current:{}},sn={draggable:{measure:Go},droppable:{measure:Go,strategy:kt.WhileDragging,frequency:Kn.Optimized},dragOverlay:{measure:Xe}},Ye=class extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}},zl={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ye,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:dn},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:sn,measureDroppableContainers:dn,windowRect:null,measuringScheduled:!1},ql={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:\"\"},dispatch:dn,draggableNodes:new Map,over:null,measureDroppableContainers:dn},mn=(0,x.createContext)(ql),xa=(0,x.createContext)(zl);function Rl(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ye}}}function Ul(e,t){switch(t.type){case $.DragStart:return N(k({},e),{draggable:N(k({},e.draggable),{initialCoordinates:t.initialCoordinates,active:t.active})});case $.DragMove:return e.draggable.active==null?e:N(k({},e),{draggable:N(k({},e.draggable),{translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}})});case $.DragEnd:case $.DragCancel:return N(k({},e),{draggable:N(k({},e.draggable),{active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}})});case $.RegisterDroppable:{let{element:n}=t,{id:r}=n,o=new Ye(e.droppable.containers);return o.set(r,n),N(k({},e),{droppable:N(k({},e.droppable),{containers:o})})}case $.SetDroppableDisabled:{let{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;let l=new Ye(e.droppable.containers);return l.set(n,N(k({},i),{disabled:o})),N(k({},e),{droppable:N(k({},e.droppable),{containers:l})})}case $.UnregisterDroppable:{let{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;let i=new Ye(e.droppable.containers);return i.delete(n),N(k({},e),{droppable:N(k({},e.droppable),{containers:i})})}default:return e}}function jl(e){let{disabled:t}=e,{active:n,activatorEvent:r,draggableNodes:o}=(0,x.useContext)(mn),i=ln(r),l=ln(n==null?void 0:n.id);return(0,x.useEffect)(()=>{if(!t&&!r&&i&&l!=null){if(!wt(i)||document.activeElement===i.target)return;let s=o.get(l);if(!s)return;let{activatorNode:d,node:u}=s;if(!d.current&&!u.current)return;requestAnimationFrame(()=>{for(let f of[d.current,u.current]){if(!f)continue;let m=Ho(f);if(m){m.focus();break}}})}},[r,t,o,l,i]),null}function Hl(e,t){let o=t,{transform:n}=o,r=Cn(o,[\"transform\"]);return e!=null&&e.length?e.reduce((i,l)=>l(k({transform:i},r)),n):n}function Wl(e){return(0,x.useMemo)(()=>({draggable:k(k({},sn.draggable),e==null?void 0:e.draggable),droppable:k(k({},sn.droppable),e==null?void 0:e.droppable),dragOverlay:k(k({},sn.dragOverlay),e==null?void 0:e.dragOverlay)}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function $l(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e,i=(0,x.useRef)(!1),{x:l,y:s}=typeof o==\"boolean\"?{x:o,y:o}:o;ue(()=>{if(!l&&!s||!t){i.current=!1;return}if(i.current||!r)return;let u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;let f=n(u),m=aa(f,r);if(l||(m.x=0),s||(m.y=0),i.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){let C=ia(u);C&&C.scrollBy({top:m.y,left:m.x})}},[t,l,s,r,n])}var ga=(0,x.createContext)(N(k({},me),{scaleX:1,scaleY:1})),Me;(function(e){e[e.Uninitialized=0]=\"Uninitialized\",e[e.Initializing=1]=\"Initializing\",e[e.Initialized=2]=\"Initialized\"})(Me||(Me={}));var Zn=(0,x.memo)(function(t){var n,r,o,i;let ur=t,{id:l,accessibility:s,autoScroll:d=!0,children:u,sensors:f=Bl,collisionDetection:m=Zi,measuring:C,modifiers:g}=ur,F=Cn(ur,[\"id\",\"accessibility\",\"autoScroll\",\"children\",\"sensors\",\"collisionDetection\",\"measuring\",\"modifiers\"]),w=(0,x.useReducer)(Ul,void 0,Rl),[b,p]=w,[h,O]=$i(),[y,v]=(0,x.useState)(Me.Uninitialized),T=y===Me.Initialized,{draggable:{active:D,nodes:A,translate:z},droppable:{containers:U}}=b,B=D!=null?A.get(D):null,X=(0,x.useRef)({initial:null,translated:null}),ne=(0,x.useMemo)(()=>{var J;return D!=null?{id:D,data:(J=B==null?void 0:B.data)!=null?J:_l,rect:X}:null},[D,B]),se=(0,x.useRef)(null),[Pe,Oe]=(0,x.useState)(null),[Z,Te]=(0,x.useState)(null),fe=ot(F,Object.values(F)),S=He(\"DndDescribedBy\",l),E=(0,x.useMemo)(()=>U.getEnabled(),[U]),I=Wl(C),{droppableRects:L,measureDroppableContainers:pe,measuringScheduled:Le}=Tl(E,{dragging:T,dependencies:[z.x,z.y],config:I.droppable}),re=Cl(A,D),At=(0,x.useMemo)(()=>Z?Ct(Z):null,[Z]),Se=Ba(),ye=Sl(re,I.draggable.measure);$l({activeNode:D!=null?A.get(D):null,config:Se.layoutShiftCompensation,initialRect:ye,measure:I.draggable.measure});let P=Qo(re,I.draggable.measure,ye),ut=Qo(re?re.parentElement:null),xe=(0,x.useRef)({activatorEvent:null,active:null,activeNode:re,collisionRect:null,collisions:null,droppableRects:L,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:U,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ze=U.getNodeFor((n=xe.current.over)==null?void 0:n.id),we=Ll({measure:I.dragOverlay.measure}),Qe=(r=we.nodeRef.current)!=null?r:re,Je=T?(o=we.rect)!=null?o:P:null,nr=!!(we.nodeRef.current&&we.rect),rr=El(nr?null:P),bn=ma(Qe?te(Qe):null),ke=Dl(T?Ze!=null?Ze:re:null),Mt=Ml(ke),Pt=Hl(g,{transform:{x:z.x-rr.x,y:z.y-rr.y,scaleX:1,scaleY:1},activatorEvent:Z,active:ne,activeNodeRect:P,containerNodeRect:ut,draggingNodeRect:Je,over:xe.current.over,overlayNodeRect:we.rect,scrollableAncestors:ke,scrollableAncestorRects:Mt,windowRect:bn}),or=At?We(At,z):null,ar=Il(ke),Da=ea(ar),Ia=ea(ar,[P]),et=We(Pt,Da),tt=Je?el(Je,Pt):null,ct=ne&&tt?m({active:ne,collisionRect:tt,droppableRects:L,droppableContainers:E,pointerCoordinates:or}):null,ir=oa(ct,\"id\"),[Fe,lr]=(0,x.useState)(null),Na=nr?Pt:We(Pt,Ia),Aa=Qi(Na,(i=Fe==null?void 0:Fe.rect)!=null?i:null,P),vn=(0,x.useRef)(null),sr=(0,x.useCallback)((J,oe)=>{let{sensor:ae,options:Ee}=oe;if(se.current==null)return;let de=A.get(se.current);if(!de)return;let ie=J.nativeEvent,ge=new ae({active:se.current,activeNode:de,event:ie,options:Ee,context:xe,onAbort(Q){if(!A.get(Q))return;let{onDragAbort:he}=fe.current,Ce={id:Q};he==null||he(Ce),h({type:\"onDragAbort\",event:Ce})},onPending(Q,De,he,Ce){if(!A.get(Q))return;let{onDragPending:pt}=fe.current,Ie={id:Q,constraint:De,initialCoordinates:he,offset:Ce};pt==null||pt(Ie),h({type:\"onDragPending\",event:Ie})},onStart(Q){let De=se.current;if(De==null)return;let he=A.get(De);if(!he)return;let{onDragStart:Ce}=fe.current,ft={activatorEvent:ie,active:{id:De,data:he.data,rect:X}};(0,Ve.unstable_batchedUpdates)(()=>{Ce==null||Ce(ft),v(Me.Initializing),p({type:$.DragStart,initialCoordinates:Q,active:De}),h({type:\"onDragStart\",event:ft}),Oe(vn.current),Te(ie)})},onMove(Q){p({type:$.DragMove,coordinates:Q})},onEnd:nt($.DragEnd),onCancel:nt($.DragCancel)});vn.current=ge;function nt(Q){return async function(){let{active:he,collisions:Ce,over:ft,scrollAdjustedTranslate:pt}=xe.current,Ie=null;if(he&&pt){let{cancelDrop:mt}=fe.current;Ie={activatorEvent:ie,active:he,collisions:Ce,delta:pt,over:ft},Q===$.DragEnd&&typeof mt==\"function\"&&await Promise.resolve(mt(Ie))&&(Q=$.DragCancel)}se.current=null,(0,Ve.unstable_batchedUpdates)(()=>{p({type:Q}),v(Me.Uninitialized),lr(null),Oe(null),Te(null),vn.current=null;let mt=Q===$.DragEnd?\"onDragEnd\":\"onDragCancel\";if(Ie){let yn=fe.current[mt];yn==null||yn(Ie),h({type:mt,event:Ie})}})}}},[A]),Ma=(0,x.useCallback)((J,oe)=>(ae,Ee)=>{let de=ae.nativeEvent,ie=A.get(Ee);if(se.current!==null||!ie||de.dndKit||de.defaultPrevented)return;let ge={active:ie};J(ae,oe.options,ge)===!0&&(de.dndKit={capturedBy:oe.sensor},se.current=Ee,sr(ae,oe))},[A,sr]),dr=Ol(f,Ma);Nl(f),ue(()=>{P&&y===Me.Initializing&&v(Me.Initialized)},[P,y]),(0,x.useEffect)(()=>{let{onDragMove:J}=fe.current,{active:oe,activatorEvent:ae,collisions:Ee,over:de}=xe.current;if(!oe||!ae)return;let ie={active:oe,activatorEvent:ae,collisions:Ee,delta:{x:et.x,y:et.y},over:de};(0,Ve.unstable_batchedUpdates)(()=>{J==null||J(ie),h({type:\"onDragMove\",event:ie})})},[et.x,et.y]),(0,x.useEffect)(()=>{let{active:J,activatorEvent:oe,collisions:ae,droppableContainers:Ee,scrollAdjustedTranslate:de}=xe.current;if(!J||se.current==null||!oe||!de)return;let{onDragOver:ie}=fe.current,ge=Ee.get(ir),nt=ge&&ge.rect.current?{id:ge.id,rect:ge.rect.current,data:ge.data,disabled:ge.disabled}:null,Q={active:J,activatorEvent:oe,collisions:ae,delta:{x:de.x,y:de.y},over:nt};(0,Ve.unstable_batchedUpdates)(()=>{lr(nt),ie==null||ie(Q),h({type:\"onDragOver\",event:Q})})},[ir]),ue(()=>{xe.current={activatorEvent:Z,active:ne,activeNode:re,collisionRect:tt,collisions:ct,droppableRects:L,draggableNodes:A,draggingNode:Qe,draggingNodeRect:Je,droppableContainers:U,over:Fe,scrollableAncestors:ke,scrollAdjustedTranslate:et},X.current={initial:Je,translated:tt}},[ne,re,ct,tt,A,Qe,Je,L,U,Fe,ke,et]),vl(N(k({},Se),{delta:z,draggingRect:tt,pointerCoordinates:or,scrollableAncestors:ke,scrollableAncestorRects:Mt}));let Pa=(0,x.useMemo)(()=>({active:ne,activeNode:re,activeNodeRect:P,activatorEvent:Z,collisions:ct,containerNodeRect:ut,dragOverlay:we,draggableNodes:A,droppableContainers:U,droppableRects:L,over:Fe,measureDroppableContainers:pe,scrollableAncestors:ke,scrollableAncestorRects:Mt,measuringConfiguration:I,measuringScheduled:Le,windowRect:bn}),[ne,re,P,Z,ct,ut,we,A,U,L,Fe,pe,ke,Mt,I,Le,bn]),La=(0,x.useMemo)(()=>({activatorEvent:Z,activators:dr,active:ne,activeNodeRect:P,ariaDescribedById:{draggable:S},dispatch:p,draggableNodes:A,over:Fe,measureDroppableContainers:pe}),[Z,dr,ne,P,p,S,A,Fe,pe]);return x.default.createElement(ra.Provider,{value:O},x.default.createElement(mn.Provider,{value:La},x.default.createElement(xa.Provider,{value:Pa},x.default.createElement(ga.Provider,{value:Aa},u)),x.default.createElement(jl,{disabled:(s==null?void 0:s.restoreFocus)===!1})),x.default.createElement(Yi,N(k({},s),{hiddenTextDescribedById:S})));function Ba(){let J=(Pe==null?void 0:Pe.autoScrollEnabled)===!1,oe=typeof d==\"object\"?d.enabled===!1:d===!1,ae=T&&!J&&!oe;return typeof d==\"object\"?N(k({},d),{enabled:ae}):{enabled:ae}}}),Vl=(0,x.createContext)(null),na=\"button\",Gl=\"Draggable\";function ha(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e,i=He(Gl),{activators:l,activatorEvent:s,active:d,activeNodeRect:u,ariaDescribedById:f,draggableNodes:m,over:C}=(0,x.useContext)(mn),{role:g=na,roleDescription:F=\"draggable\",tabIndex:w=0}=o!=null?o:{},b=(d==null?void 0:d.id)===t,p=(0,x.useContext)(b?ga:Vl),[h,O]=yt(),[y,v]=yt(),T=Al(l,t),D=ot(n);ue(()=>(m.set(t,{id:t,key:i,node:h,activatorNode:y,data:D}),()=>{let z=m.get(t);z&&z.key===i&&m.delete(t)}),[m,t]);let A=(0,x.useMemo)(()=>({role:g,tabIndex:w,\"aria-disabled\":r,\"aria-pressed\":b&&g===na?!0:void 0,\"aria-roledescription\":F,\"aria-describedby\":f.draggable}),[r,g,w,b,F,f.draggable]);return{active:d,activatorEvent:s,activeNodeRect:u,attributes:A,isDragging:b,listeners:r?void 0:T,node:h,over:C,setNodeRef:O,setActivatorNodeRef:v,transform:p}}function ba(){return(0,x.useContext)(xa)}var Yl=\"Droppable\",Kl={timeout:25};function va(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e,i=He(Yl),{active:l,dispatch:s,over:d,measureDroppableContainers:u}=(0,x.useContext)(mn),f=(0,x.useRef)({disabled:n}),m=(0,x.useRef)(!1),C=(0,x.useRef)(null),g=(0,x.useRef)(null),{disabled:F,updateMeasurementsFor:w,timeout:b}=k(k({},Kl),o),p=ot(w!=null?w:r),h=(0,x.useCallback)(()=>{if(!m.current){m.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{u(Array.isArray(p.current)?p.current:[p.current]),g.current=null},b)},[b]),O=pn({callback:h,disabled:F||!l}),y=(0,x.useCallback)((A,z)=>{O&&(z&&(O.unobserve(z),m.current=!1),A&&O.observe(A))},[O]),[v,T]=yt(y),D=ot(t);return(0,x.useEffect)(()=>{!O||!v.current||(O.disconnect(),m.current=!1,O.observe(v.current))},[v,O]),(0,x.useEffect)(()=>(s({type:$.RegisterDroppable,element:{id:r,key:i,disabled:n,node:v,rect:C,data:D}}),()=>s({type:$.UnregisterDroppable,key:i,id:r})),[r]),(0,x.useEffect)(()=>{n!==f.current.disabled&&(s({type:$.SetDroppableDisabled,id:r,key:i,disabled:n}),f.current.disabled=n)},[r,i,n,s]),{active:l,rect:C,isOver:(d==null?void 0:d.id)===r,node:v,over:d,setNodeRef:T}}var Qn=e=>{let{transform:t}=e;return N(k({},t),{x:0})};var H=q(V());function Et(e,t,n){let r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Xl(e,t){return e.reduce((n,r,o)=>{let i=t.get(r);return i&&(n[o]=i),n},Array(e.length))}function xn(e){return e!==null&&e>=0}function Zl(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Ql(e){return typeof e==\"boolean\"?{draggable:e,droppable:e}:e}var ya=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e,i=Et(t,r,n),l=t[o],s=i[o];return!s||!l?null:{x:s.left-l.left,y:s.top-l.top,scaleX:s.width/l.width,scaleY:s.height/l.height}};var gn={scaleX:1,scaleY:1},Jn=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:l}=e,s=(t=i[n])!=null?t:r;if(!s)return null;if(o===n){let u=i[l];return u?k({x:0,y:n<l?u.top+u.height-(s.top+s.height):u.top-s.top},gn):null}let d=Jl(i,o,n);return o>n&&o<=l?k({x:0,y:-s.height-d},gn):o<n&&o>=l?k({x:0,y:s.height+d},gn):k({x:0,y:0},gn)};function Jl(e,t,n){let r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}var wa=\"Sortable\",Ca=H.default.createContext({activeIndex:-1,containerId:wa,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:ya,disabled:{draggable:!1,droppable:!1}});function er(e){let{children:t,id:n,items:r,strategy:o=ya,disabled:i=!1}=e,{active:l,dragOverlay:s,droppableRects:d,over:u,measureDroppableContainers:f}=ba(),m=He(wa,n),C=s.rect!==null,g=(0,H.useMemo)(()=>r.map(T=>typeof T==\"object\"&&\"id\"in T?T.id:T),[r]),F=l!=null,w=l?g.indexOf(l.id):-1,b=u?g.indexOf(u.id):-1,p=(0,H.useRef)(g),h=!Zl(g,p.current),O=b!==-1&&w===-1||h,y=Ql(i);ue(()=>{h&&F&&f(g)},[h,g,F,f]),(0,H.useEffect)(()=>{p.current=g},[g]);let v=(0,H.useMemo)(()=>({activeIndex:w,containerId:m,disabled:y,disableTransforms:O,items:g,overIndex:b,useDragOverlay:C,sortedRects:Xl(g,d),strategy:o}),[w,m,y.draggable,y.droppable,O,g,b,d,C,o]);return H.default.createElement(Ca.Provider,{value:v},t)}var es=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return Et(n,r,o).indexOf(t)},ts=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:l,previousItems:s,previousContainerId:d,transition:u}=e;return!u||!r||s!==i&&o===l?!1:n?!0:l!==o&&t===d},ns={duration:200,easing:\"ease\"},Oa=\"transform\",rs=Ae.Transition.toString({property:Oa,duration:0,easing:\"linear\"}),os={roleDescription:\"sortable\"};function as(e){let{disabled:t,index:n,node:r,rect:o}=e,[i,l]=(0,H.useState)(null),s=(0,H.useRef)(n);return ue(()=>{if(!t&&n!==s.current&&r.current){let d=o.current;if(d){let u=Xe(r.current,{ignoreTransform:!0}),f={x:d.left-u.left,y:d.top-u.top,scaleX:d.width/u.width,scaleY:d.height/u.height};(f.x||f.y)&&l(f)}}n!==s.current&&(s.current=n)},[t,n,r,o]),(0,H.useEffect)(()=>{i&&l(null)},[i]),i}function tr(e){let{animateLayoutChanges:t=ts,attributes:n,disabled:r,data:o,getNewIndex:i=es,id:l,strategy:s,resizeObserverConfig:d,transition:u=ns}=e,{items:f,containerId:m,activeIndex:C,disabled:g,disableTransforms:F,sortedRects:w,overIndex:b,useDragOverlay:p,strategy:h}=(0,H.useContext)(Ca),O=is(r,g),y=f.indexOf(l),v=(0,H.useMemo)(()=>k({sortable:{containerId:m,index:y,items:f}},o),[m,o,y,f]),T=(0,H.useMemo)(()=>f.slice(f.indexOf(l)),[f,l]),{rect:D,node:A,isOver:z,setNodeRef:U}=va({id:l,data:v,disabled:O.droppable,resizeObserverConfig:k({updateMeasurementsFor:T},d)}),{active:B,activatorEvent:X,activeNodeRect:ne,attributes:se,setNodeRef:Pe,listeners:Oe,isDragging:Z,over:Te,setActivatorNodeRef:fe,transform:S}=ha({id:l,data:v,attributes:k(k({},os),n),disabled:O.draggable}),E=Ro(U,Pe),I=!!B,L=I&&!F&&xn(C)&&xn(b),pe=!p&&Z,Le=pe&&L?S:null,re=s!=null?s:h,At=L?Le!=null?Le:re({rects:w,activeNodeRect:ne,activeIndex:C,overIndex:b,index:y}):null,Se=xn(C)&&xn(b)?i({id:l,items:f,activeIndex:C,overIndex:b}):y,ye=B==null?void 0:B.id,P=(0,H.useRef)({activeId:ye,items:f,newIndex:Se,containerId:m}),ut=f!==P.current.items,xe=t({active:B,containerId:m,isDragging:Z,isSorting:I,id:l,index:y,items:f,newIndex:P.current.newIndex,previousItems:P.current.items,previousContainerId:P.current.containerId,transition:u,wasDragging:P.current.activeId!=null}),Ze=as({disabled:!xe,index:y,node:A,rect:D});return(0,H.useEffect)(()=>{I&&P.current.newIndex!==Se&&(P.current.newIndex=Se),m!==P.current.containerId&&(P.current.containerId=m),f!==P.current.items&&(P.current.items=f)},[I,Se,m,f]),(0,H.useEffect)(()=>{if(ye===P.current.activeId)return;if(ye!=null&&P.current.activeId==null){P.current.activeId=ye;return}let Qe=setTimeout(()=>{P.current.activeId=ye},50);return()=>clearTimeout(Qe)},[ye]),{active:B,activeIndex:C,attributes:se,data:v,rect:D,index:y,newIndex:Se,items:f,isOver:z,isSorting:I,isDragging:Z,listeners:Oe,node:A,overIndex:b,over:Te,setNodeRef:E,setActivatorNodeRef:fe,setDroppableNodeRef:U,setDraggableNodeRef:Pe,transform:Ze!=null?Ze:At,transition:we()};function we(){if(Ze||ut&&P.current.newIndex===y)return rs;if(!(pe&&!wt(X)||!u)&&(I||xe))return Ae.Transition.toString(N(k({},u),{property:Oa}))}}function is(e,t){var n,r;return typeof e==\"boolean\"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}var tc=[M.Down,M.Right,M.Up,M.Left];if(typeof window<\"u\"){let e=document.createElement(\"style\");e.textContent=\".container {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  flex: 1;\\n  width: 100%;\\n  padding: 16px;\\n  box-sizing: border-box;\\n  background: #F2F2F7;\\n}\\n.qrcode-card {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  width: 100%;\\n  max-width: 360px;\\n  margin: 0 auto;\\n  padding: 24px 20px;\\n}\\n.qrcode-wrapper {\\n  position: relative;\\n  cursor: pointer;\\n  margin-bottom: 24px;\\n  display: flex;\\n  justify-content: center;\\n}\\n.qrcode-wrapper:hover .qrcode-glow {\\n  opacity: 0.4;\\n}\\n.qrcode-glow {\\n  position: absolute;\\n  inset: -4px;\\n  background: linear-gradient(135deg, #60a5fa 0%, #a78bfa 100%);\\n  border-radius: 24px;\\n  filter: blur(12px);\\n  opacity: 0.2;\\n  transition: opacity 0.3s ease;\\n  z-index: 0;\\n}\\n.qrcode-container {\\n  position: relative;\\n  background: #fff;\\n  padding: 16px;\\n  border-radius: 20px;\\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\\n  border: 1px solid rgba(0, 0, 0, 0.05);\\n  z-index: 1;\\n}\\n.qrcode-image {\\n  width: 160px;\\n  height: 160px;\\n  border-radius: 12px;\\n  object-fit: cover;\\n  transition: opacity 0.3s ease;\\n}\\n.qrcode-image--loading {\\n  opacity: 0.3;\\n}\\n.qrcode-overlay {\\n  position: absolute;\\n  inset: 0;\\n  background: rgba(255, 255, 255, 0.95);\\n  backdrop-filter: blur(4px);\\n  border-radius: 20px;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  gap: 12px;\\n  z-index: 10;\\n}\\n.qrcode-overlay span {\\n  font-size: 12px;\\n  font-weight: 500;\\n  color: #8E8E93;\\n  letter-spacing: 0.5px;\\n}\\n.qrcode-spinner {\\n  width: 32px;\\n  height: 32px;\\n  border: 2px solid rgba(59, 130, 246, 0.2);\\n  border-top-color: #3b82f6;\\n  border-radius: 50%;\\n  animation: spin 0.8s linear infinite;\\n}\\n@keyframes spin {\\n  to {\\n    transform: rotate(360deg);\\n  }\\n}\\n.qrcode-status {\\n  position: absolute;\\n  bottom: -14px;\\n  left: 50%;\\n  transform: translateX(-50%);\\n  display: flex;\\n  align-items: center;\\n  gap: 6px;\\n  padding: 4px 12px;\\n  background: rgba(255, 255, 255, 0.95);\\n  backdrop-filter: blur(8px);\\n  border-radius: 12px;\\n  border: 1px solid rgba(0, 0, 0, 0.05);\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);\\n  z-index: 20;\\n  white-space: nowrap;\\n}\\n.status-dot {\\n  width: 6px;\\n  height: 6px;\\n  border-radius: 50%;\\n  flex-shrink: 0;\\n  transition: background-color 0.3s ease;\\n}\\n.status-dot--pulse {\\n  animation: pulse 1.5s ease-in-out infinite;\\n}\\n@keyframes pulse {\\n  0%,\\n  100% {\\n    opacity: 1;\\n  }\\n  50% {\\n    opacity: 0.5;\\n  }\\n}\\n.status-text {\\n  font-size: 10px;\\n  font-weight: 600;\\n  color: #8E8E93;\\n  text-transform: uppercase;\\n  letter-spacing: 0.5px;\\n  white-space: nowrap;\\n}\\n.cookie-result-wrapper {\\n  width: 100%;\\n  margin-bottom: 20px;\\n}\\n.cookie-result {\\n  width: 100%;\\n  height: 120px;\\n  padding: 14px;\\n  background: rgba(118, 118, 128, 0.08);\\n  border: none;\\n  border-radius: 16px;\\n  font-size: 12px;\\n  font-family: 'SF Mono', Monaco, 'Courier New', monospace;\\n  color: #1C1C1E;\\n  resize: none;\\n  outline: none;\\n  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.04);\\n  transition: background-color 0.2s ease, box-shadow 0.2s ease;\\n  box-sizing: border-box;\\n}\\n.cookie-result::placeholder {\\n  color: #8E8E93;\\n}\\n.cookie-result:focus {\\n  background: rgba(255, 255, 255, 0.8);\\n  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.04), 0 0 0 2px rgba(59, 130, 246, 0.2);\\n}\\n.action-buttons {\\n  display: grid;\\n  grid-template-columns: 1fr 1fr;\\n  gap: 12px;\\n  width: 100%;\\n}\\n.action-btn {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  gap: 8px;\\n  padding: 14px 20px;\\n  border-radius: 16px;\\n  font-size: 14px;\\n  font-weight: 600;\\n  cursor: pointer;\\n  transition: all 0.2s ease;\\n  border: none;\\n  outline: none;\\n}\\n.action-btn:active {\\n  transform: scale(0.98);\\n}\\n.action-btn--primary {\\n  background: #1C1C1E;\\n  color: #fff;\\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\\n}\\n.action-btn--primary:hover {\\n  background: #2C2C2E;\\n}\\n.action-btn--secondary {\\n  background: #fff;\\n  color: #1C1C1E;\\n  border: 1px solid rgba(0, 0, 0, 0.08);\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);\\n}\\n.action-btn--secondary:hover {\\n  background: #F9F9F9;\\n}\\n.btn-icon {\\n  width: 16px;\\n  height: 16px;\\n  opacity: 0.7;\\n}\\n.qrcodeCard {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n}\\n.qrcodeCard img {\\n  width: 150px;\\n  height: 150px;\\n  cursor: pointer;\\n}\\n.qrcodeCard .btns {\\n  display: flex;\\n  justify-content: space-around;\\n  margin-top: 24px;\\n}\\n.dynamic-delete-button {\\n  position: relative;\\n  top: 2px;\\n  margin: 0 8px;\\n  color: #555;\\n  font-size: 18px;\\n  cursor: pointer;\\n  transition: all 0.3s;\\n}\\n.dynamic-delete-button:hover {\\n  color: #777;\\n}\\n.dynamic-delete-button[disabled] {\\n  cursor: not-allowed;\\n  opacity: 0.5;\\n}\\n.domain-edit-modal {\\n  --domain-action-size: 32px;\\n  --domain-action-gap: 8px;\\n  --domain-action-total: calc(var(--domain-action-size) + var(--domain-action-gap));\\n  --domain-row-gap: 12px;\\n  --domain-label-width: 72px;\\n}\\n.domain-edit-modal .ant-form-horizontal .ant-form-item-label {\\n  flex: 0 0 var(--domain-label-width) !important;\\n  max-width: var(--domain-label-width) !important;\\n  padding-left: 8px;\\n  padding-right: 12px;\\n  padding-bottom: 0 !important;\\n  display: flex !important;\\n  align-items: center !important;\\n  height: 32px !important;\\n  text-align: right;\\n}\\n.domain-edit-modal .ant-form-horizontal .ant-form-item-label > label {\\n  height: 32px !important;\\n  line-height: 32px !important;\\n}\\n.domain-edit-modal .ant-form-horizontal .ant-form-item-control {\\n  flex: 1 1 auto !important;\\n  max-width: calc(100% - var(--domain-label-width)) !important;\\n  min-width: 0;\\n}\\n.domain-edit-modal .domain-edit-aligned-input {\\n  width: calc(100% - var(--domain-action-total));\\n}\\n.domain-edit-modal .domain-edit-add-button {\\n  width: calc(100% - var(--domain-action-total));\\n}\\n.domain-edit-modal .ant-form-item {\\n  margin-bottom: var(--domain-row-gap);\\n}\\n.domain-edit-modal .ant-form-item:last-child {\\n  margin-bottom: 0;\\n}\\n.domain-list-row {\\n  display: flex;\\n  align-items: center;\\n  gap: var(--domain-action-gap, 8px);\\n  width: 100%;\\n}\\n.domain-list-input {\\n  flex: 1;\\n  min-width: 0;\\n}\\n.domain-list-action {\\n  width: var(--domain-action-size, 32px);\\n  flex: 0 0 var(--domain-action-size, 32px);\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n.domain-list-action--placeholder {\\n  visibility: hidden;\\n}\\n.domain-list-row .dynamic-delete-button {\\n  margin: 0;\\n}\\n.sites-table .ant-table-tbody > tr > td {\\n  padding: 8px 16px;\\n}\\n.sites-table .ant-table-thead > tr > th {\\n  white-space: nowrap;\\n}\\n.main-card {\\n  min-height: auto;\\n  max-height: calc(100vh - 100px);\\n  width: 100%;\\n  max-width: 420px;\\n  overflow: auto;\\n  background: rgba(255, 255, 255, 0.65);\\n  backdrop-filter: blur(50px);\\n  border-radius: 32px;\\n  box-shadow: 0 24px 48px -12px rgba(0, 0, 0, 0.08), 0 0 0 1px rgba(255, 255, 255, 0.5) inset, 0 0 0 1px rgba(0, 0, 0, 0.03);\\n  border: 1px solid rgba(255, 255, 255, 0.2);\\n  animation: fadeInUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;\\n}\\n.main-card .ant-card-body {\\n  padding: 24px 16px;\\n}\\n.main-card .ant-tabs-nav {\\n  margin-bottom: 16px;\\n}\\n.main-card .ant-tabs-nav::before {\\n  display: none;\\n}\\n.main-card .ant-tabs-nav-list {\\n  display: flex;\\n  flex-wrap: wrap;\\n  gap: 6px;\\n  padding: 6px;\\n  background: rgba(118, 118, 128, 0.1);\\n  border-radius: 14px;\\n  width: 100%;\\n  justify-content: center;\\n}\\n.main-card .ant-tabs-tab {\\n  flex: 1;\\n  min-width: 0;\\n  margin: 0 !important;\\n  padding: 8px 12px !important;\\n  border-radius: 10px;\\n  font-size: 13px;\\n  font-weight: 500;\\n  color: #8E8E93;\\n  background: transparent;\\n  transition: all 0.3s ease;\\n  justify-content: center;\\n}\\n.main-card .ant-tabs-tab:hover {\\n  color: #1C1C1E;\\n}\\n.main-card .ant-tabs-tab.ant-tabs-tab-active {\\n  background: #fff;\\n  color: #1C1C1E;\\n  box-shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.12), 0 1px 1px rgba(0, 0, 0, 0.05);\\n}\\n.main-card .ant-tabs-tab.ant-tabs-tab-active .ant-tabs-tab-btn {\\n  color: #1C1C1E;\\n}\\n.main-card .ant-tabs-ink-bar {\\n  display: none;\\n}\\n@keyframes fadeInUp {\\n  from {\\n    opacity: 0;\\n    transform: translateY(16px);\\n  }\\n  to {\\n    opacity: 1;\\n    transform: translateY(0);\\n  }\\n}\\n.app-layout {\\n  display: flex;\\n  flex-direction: column;\\n  min-height: 100vh;\\n  width: 100%;\\n  background: #F2F2F7;\\n}\\n.top-nav-bar {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: 100%;\\n  padding: 12px 16px;\\n  background: transparent;\\n  box-sizing: border-box;\\n}\\n.nav-pill {\\n  display: flex;\\n  align-items: center;\\n  gap: 4px;\\n  padding: 4px;\\n  background: rgba(255, 255, 255, 0.65);\\n  backdrop-filter: blur(20px);\\n  border-radius: 20px;\\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.06), 0 0 0 1px rgba(255, 255, 255, 0.5) inset, 0 0 0 1px rgba(0, 0, 0, 0.03);\\n}\\n.nav-tab {\\n  display: flex;\\n  align-items: center;\\n  gap: 6px;\\n  padding: 8px 16px;\\n  border-radius: 16px;\\n  cursor: pointer;\\n  font-size: 13px;\\n  font-weight: 500;\\n  color: #8E8E93;\\n  background: transparent;\\n  border: none;\\n  transition: all 0.3s ease;\\n}\\n.nav-tab:hover {\\n  color: #1C1C1E;\\n}\\n.nav-tab--active {\\n  color: #1C1C1E;\\n  background: #fff;\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\\n}\\n.nav-tab--active:hover {\\n  background: #fff;\\n  color: #1C1C1E;\\n}\\n.nav-tab .anticon {\\n  font-size: 14px;\\n}\\n.nav-divider {\\n  width: 1px;\\n  height: 20px;\\n  background: rgba(0, 0, 0, 0.1);\\n  margin: 0 4px;\\n}\\n.nav-actions {\\n  display: flex;\\n  align-items: center;\\n  gap: 2px;\\n}\\n.nav-actions .ant-btn {\\n  color: #8E8E93;\\n  font-size: 12px;\\n  font-weight: 500;\\n  padding: 6px 12px;\\n  height: auto;\\n  border-radius: 12px;\\n}\\n.nav-actions .ant-btn:hover {\\n  color: #1C1C1E;\\n  background: rgba(0, 0, 0, 0.04);\\n}\\n.drag-handle {\\n  cursor: grab;\\n  color: #999;\\n  font-size: 18px;\\n  padding: 8px;\\n  touch-action: none;\\n}\\n.drag-handle:active {\\n  cursor: grabbing;\\n}\\n.pansou-config-modal {\\n  max-width: 420px;\\n}\\n.pansou-config-modal .ant-modal-body {\\n  padding: 16px 24px;\\n}\\n.pansou-config-tabs {\\n  margin-bottom: 16px;\\n}\\n.pansou-config-tabs .ant-tabs-nav {\\n  margin-bottom: 12px;\\n}\\n.pansou-config-tabs .ant-tabs-nav::before {\\n  display: none;\\n}\\n.pansou-config-tabs .ant-tabs-nav-list {\\n  gap: 4px;\\n}\\n.pansou-config-tabs .ant-tabs-tab {\\n  padding: 8px 16px;\\n  border-radius: 10px;\\n  font-size: 13px;\\n  font-weight: 500;\\n  color: #8E8E93;\\n  background: transparent;\\n  margin: 0 !important;\\n  transition: all 0.2s ease;\\n}\\n.pansou-config-tabs .ant-tabs-tab:hover {\\n  color: #1C1C1E;\\n}\\n.pansou-config-tabs .ant-tabs-tab.ant-tabs-tab-active {\\n  background: rgba(118, 118, 128, 0.12);\\n  color: #1C1C1E;\\n}\\n.pansou-config-tabs .ant-tabs-tab.ant-tabs-tab-active .ant-tabs-tab-btn {\\n  color: #1C1C1E;\\n}\\n.pansou-config-tabs .ant-tabs-ink-bar {\\n  display: none;\\n}\\n.pansou-config-tabs .ant-badge-count {\\n  font-size: 11px;\\n  background: #1C1C1E;\\n  box-shadow: none;\\n}\\n.pansou-checkbox-section {\\n  min-height: 200px;\\n  max-height: 400px;\\n  overflow-y: auto;\\n}\\n.pansou-checkbox-header {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-bottom: 12px;\\n  padding: 0 4px;\\n  color: #8E8E93;\\n  font-size: 13px;\\n}\\n.pansou-checkbox-header .ant-btn-link {\\n  color: #1C1C1E;\\n  font-weight: 500;\\n  padding: 4px 8px;\\n  height: auto;\\n}\\n.pansou-checkbox-header .ant-btn-link:hover,\\n.pansou-checkbox-header .ant-btn-link:focus,\\n.pansou-checkbox-header .ant-btn-link:active {\\n  color: #3C3C3E;\\n  background: rgba(0, 0, 0, 0.04);\\n}\\n.pansou-add-channel {\\n  display: flex;\\n  gap: 8px;\\n  margin-bottom: 12px;\\n}\\n.pansou-checkbox-grid {\\n  display: grid;\\n  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\\n  gap: 8px;\\n}\\n.pansou-checkbox-card {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  padding: 10px 14px;\\n  border: 1px solid rgba(0, 0, 0, 0.06);\\n  border-radius: 10px;\\n  cursor: pointer;\\n  transition: all 0.2s;\\n  background: #fff;\\n}\\n.pansou-checkbox-card:hover {\\n  border-color: rgba(0, 0, 0, 0.12);\\n  background: #F9F9F9;\\n}\\n.pansou-checkbox-card--selected {\\n  border-color: #1C1C1E;\\n  background: rgba(28, 28, 30, 0.04);\\n}\\n.pansou-checkbox-card--selected .pansou-checkbox-card__check {\\n  color: #1C1C1E;\\n}\\n.pansou-checkbox-card__label {\\n  flex: 1;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  font-size: 13px;\\n}\\n.pansou-checkbox-card__delete {\\n  flex-shrink: 0;\\n  color: #8E8E93;\\n  font-size: 14px;\\n  margin-left: 6px;\\n  transition: color 0.2s;\\n}\\n.pansou-checkbox-card__delete:hover {\\n  color: #ef4444;\\n}\\n.pansou-empty-tip {\\n  text-align: center;\\n  color: #8E8E93;\\n  padding: 40px 0;\\n  font-size: 13px;\\n}\\n.pansou-config-footer {\\n  margin-top: 16px;\\n  padding-top: 16px;\\n  border-top: 1px solid rgba(0, 0, 0, 0.06);\\n}\\n.ant-input,\\n.ant-input-password .ant-input,\\n.ant-input-number,\\n.ant-input-number-input {\\n  background: rgba(118, 118, 128, 0.08);\\n  border: none;\\n  border-radius: 12px;\\n  font-size: 14px;\\n}\\n.ant-input:focus,\\n.ant-input-password .ant-input:focus,\\n.ant-input-number:focus,\\n.ant-input-number-input:focus,\\n.ant-input:hover,\\n.ant-input-password .ant-input:hover,\\n.ant-input-number:hover,\\n.ant-input-number-input:hover,\\n.ant-input.ant-input-focused,\\n.ant-input-password .ant-input.ant-input-focused,\\n.ant-input-number.ant-input-focused,\\n.ant-input-number-input.ant-input-focused {\\n  background: rgba(255, 255, 255, 0.8);\\n  box-shadow: 0 0 0 2px rgba(28, 28, 30, 0.15);\\n  border-color: transparent;\\n}\\n.ant-input {\\n  padding: 10px 14px;\\n}\\n.ant-input-affix-wrapper {\\n  background: rgba(118, 118, 128, 0.08);\\n  border: none;\\n  border-radius: 12px;\\n  padding: 6px 14px;\\n}\\n.ant-input-affix-wrapper:focus,\\n.ant-input-affix-wrapper:hover,\\n.ant-input-affix-wrapper.ant-input-affix-wrapper-focused {\\n  background: rgba(255, 255, 255, 0.8);\\n  box-shadow: 0 0 0 2px rgba(28, 28, 30, 0.15);\\n  border-color: transparent !important;\\n}\\n.ant-input-affix-wrapper .ant-input {\\n  background: transparent;\\n  padding: 4px 0;\\n  box-shadow: none;\\n}\\n.ant-input-affix-wrapper .ant-input:focus,\\n.ant-input-affix-wrapper .ant-input:hover {\\n  box-shadow: none;\\n}\\n.ant-input-number {\\n  width: 100%;\\n  padding: 0;\\n}\\n.ant-input-number .ant-input-number-input {\\n  padding: 10px 14px;\\n  height: auto;\\n}\\n.ant-input-number:focus,\\n.ant-input-number:hover,\\n.ant-input-number.ant-input-number-focused {\\n  border-color: transparent !important;\\n}\\n.ant-input-number-group-addon {\\n  background: rgba(118, 118, 128, 0.08);\\n  border: none;\\n  border-radius: 0 12px 12px 0;\\n  color: #8E8E93;\\n  font-size: 13px;\\n  padding: 0 14px;\\n  min-width: 50px;\\n  text-align: center;\\n}\\n.ant-input-number-group .ant-input-number {\\n  border-radius: 12px 0 0 12px;\\n}\\n.ios-form .ant-form-item {\\n  margin-bottom: 16px;\\n}\\n.ios-form .ant-form-item-label > label {\\n  color: #8E8E93;\\n  font-size: 13px;\\n  font-weight: 500;\\n}\\n.ios-button-group {\\n  display: flex;\\n  gap: 12px;\\n  margin-top: 20px;\\n}\\n.action-btn--danger {\\n  background: #fff;\\n  color: #ef4444;\\n  border: 1px solid rgba(239, 68, 68, 0.3);\\n}\\n.action-btn--danger:hover {\\n  background: rgba(239, 68, 68, 0.05);\\n}\\n.ios-modal {\\n  max-width: 420px;\\n}\\n.ios-modal .ant-modal-content {\\n  background: rgba(255, 255, 255, 0.9);\\n  backdrop-filter: blur(30px);\\n  border-radius: 24px;\\n  box-shadow: 0 24px 48px -12px rgba(0, 0, 0, 0.15);\\n  border: 1px solid rgba(255, 255, 255, 0.3);\\n}\\n.ios-modal .ant-modal-header {\\n  background: transparent;\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.06);\\n  padding: 20px 24px;\\n  border-radius: 24px 24px 0 0;\\n}\\n.ios-modal .ant-modal-title {\\n  font-size: 17px;\\n  font-weight: 600;\\n  color: #1C1C1E;\\n}\\n.ios-modal .ant-modal-body {\\n  padding: 20px 24px;\\n}\\n.ios-modal .ant-modal-footer {\\n  border-top: 1px solid rgba(0, 0, 0, 0.06);\\n  padding: 16px 24px;\\n}\\n.ios-modal .ant-modal-close {\\n  top: 16px;\\n  right: 16px;\\n}\\n.ios-modal .ant-modal-close .ant-modal-close-x {\\n  color: #8E8E93;\\n}\\n.ios-modal .ant-modal-close .ant-modal-close-x:hover {\\n  color: #1C1C1E;\\n}\\n.ant-message .ant-message-notice-content {\\n  background: rgba(255, 255, 255, 0.85);\\n  backdrop-filter: blur(20px);\\n  border-radius: 16px;\\n  padding: 12px 20px;\\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\\n  border: 1px solid rgba(255, 255, 255, 0.5);\\n}\\n.ios-alert {\\n  background: rgba(59, 130, 246, 0.08);\\n  border: none;\\n  border-radius: 12px;\\n}\\n.ios-alert .ant-alert-message {\\n  color: #1C1C1E;\\n  font-weight: 500;\\n}\\n.ios-alert .ant-alert-description {\\n  color: #8E8E93;\\n}\\n.ant-switch {\\n  background: rgba(120, 120, 128, 0.16);\\n  min-width: 51px;\\n  height: 31px;\\n}\\n.ant-switch .ant-switch-handle {\\n  width: 27px;\\n  height: 27px;\\n  top: 2px;\\n  inset-inline-start: 2px;\\n}\\n.ant-switch .ant-switch-handle::before {\\n  border-radius: 50%;\\n  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15), 0 1px 1px rgba(0, 0, 0, 0.16);\\n}\\n.ant-switch:hover:not(.ant-switch-disabled) {\\n  background: rgba(120, 120, 128, 0.24);\\n}\\n.ant-switch:focus {\\n  box-shadow: none;\\n}\\n.ant-switch.ant-switch-checked {\\n  background: #34C759;\\n}\\n.ant-switch.ant-switch-checked .ant-switch-handle {\\n  inset-inline-start: calc(100% - 29px);\\n}\\n.ant-switch.ant-switch-checked:hover:not(.ant-switch-disabled) {\\n  background: #2DB84E;\\n}\\n.ios-edit-btn {\\n  color: #8E8E93;\\n  padding: 4px 8px;\\n  border-radius: 8px;\\n  transition: all 0.2s ease;\\n}\\n.ios-edit-btn:hover {\\n  color: #1C1C1E;\\n  background: rgba(0, 0, 0, 0.04);\\n}\\n.ios-edit-btn .anticon {\\n  font-size: 16px;\\n}\\n.ios-tag {\\n  background: rgba(118, 118, 128, 0.12);\\n  border: none;\\n  border-radius: 6px;\\n  color: #8E8E93;\\n  font-size: 11px;\\n  font-weight: 500;\\n  padding: 2px 8px;\\n  line-height: 1.4;\\n}\\n.ant-space-compact .ant-input {\\n  border-radius: 12px 0 0 12px;\\n}\\n.ant-space-compact .ant-btn {\\n  border-radius: 0 12px 12px 0;\\n}\\n.ant-space-compact .ant-btn-primary {\\n  background: #1C1C1E;\\n  border: none;\\n}\\n.ant-space-compact .ant-btn-primary:hover,\\n.ant-space-compact .ant-btn-primary:focus,\\n.ant-space-compact .ant-btn-primary:active {\\n  background: #2C2C2E !important;\\n}\\n.ant-btn-primary {\\n  background: #1C1C1E;\\n  border: none;\\n  border-radius: 12px;\\n}\\n.ant-btn-primary:hover,\\n.ant-btn-primary:focus,\\n.ant-btn-primary:active {\\n  background: #2C2C2E !important;\\n  border-color: transparent !important;\\n}\\n.ant-btn-dashed {\\n  border-radius: 12px;\\n  border-color: rgba(0, 0, 0, 0.15) !important;\\n  color: #8E8E93;\\n}\\n.ant-btn-dashed:hover,\\n.ant-btn-dashed:focus,\\n.ant-btn-dashed:active {\\n  color: #1C1C1E !important;\\n  border-color: rgba(0, 0, 0, 0.3) !important;\\n  background: rgba(0, 0, 0, 0.02) !important;\\n}\\n.ant-btn-text:hover,\\n.ant-btn-text:focus,\\n.ant-btn-text:active {\\n  background: rgba(0, 0, 0, 0.04) !important;\\n  color: #1C1C1E !important;\\n}\\n.ant-btn-link {\\n  color: #1C1C1E;\\n}\\n.ant-btn-link:hover,\\n.ant-btn-link:focus,\\n.ant-btn-link:active {\\n  color: #3C3C3E !important;\\n  background: transparent !important;\\n}\\n.ant-btn-dangerous.ant-btn-text {\\n  color: #ef4444;\\n}\\n.ant-btn-dangerous.ant-btn-text:hover,\\n.ant-btn-dangerous.ant-btn-text:focus,\\n.ant-btn-dangerous.ant-btn-text:active {\\n  color: #dc2626 !important;\\n  background: rgba(239, 68, 68, 0.04) !important;\\n}\\n.action-btn--secondary-outline {\\n  background: #fff;\\n  color: #8E8E93;\\n  border: 1px solid rgba(0, 0, 0, 0.08);\\n}\\n.action-btn--secondary-outline:hover {\\n  color: #1C1C1E;\\n  background: #F9F9F9;\\n}\\n.pansou-add-channel .ant-btn-primary {\\n  background: #1C1C1E;\\n  border: none;\\n  border-radius: 12px;\\n  font-weight: 500;\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\\n}\\n.pansou-add-channel .ant-btn-primary:hover,\\n.pansou-add-channel .ant-btn-primary:focus,\\n.pansou-add-channel .ant-btn-primary:active {\\n  background: #2C2C2E !important;\\n  border-color: transparent !important;\\n}\\n.pansou-add-channel .ant-input {\\n  background: rgba(118, 118, 128, 0.08);\\n  border: none;\\n  border-radius: 12px;\\n  padding: 8px 14px;\\n}\\n.pansou-add-channel .ant-input:focus,\\n.pansou-add-channel .ant-input:hover {\\n  background: rgba(255, 255, 255, 0.8);\\n  box-shadow: 0 0 0 2px rgba(28, 28, 30, 0.15);\\n  border-color: transparent;\\n}\\n.pansou-add-channel .ant-input-clear-icon {\\n  color: #8E8E93;\\n}\\n.pansou-add-channel .ant-input-clear-icon:hover {\\n  color: #1C1C1E;\\n}\\n.pansou-add-channel .ant-input-affix-wrapper {\\n  background: rgba(118, 118, 128, 0.08);\\n  border: none;\\n  border-radius: 12px;\\n  padding: 4px 14px;\\n}\\n.pansou-add-channel .ant-input-affix-wrapper:focus,\\n.pansou-add-channel .ant-input-affix-wrapper:hover,\\n.pansou-add-channel .ant-input-affix-wrapper.ant-input-affix-wrapper-focused {\\n  background: rgba(255, 255, 255, 0.8);\\n  box-shadow: 0 0 0 2px rgba(28, 28, 30, 0.15);\\n  border-color: transparent !important;\\n}\\n.pansou-add-channel .ant-input-affix-wrapper .ant-input {\\n  background: transparent;\\n  box-shadow: none;\\n  padding: 4px 0;\\n}\\n.pansou-add-channel .ant-input-affix-wrapper .ant-input:focus,\\n.pansou-add-channel .ant-input-affix-wrapper .ant-input:hover {\\n  box-shadow: none;\\n}\\n\",document.head.appendChild(e)}var Dt=\"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAICAgICAQICAgIDAgIDAwYEAwMDAwcFBQQGCAcJCAgHCAgJCg0LCQoMCggICw8LDA0ODg8OCQsQERAOEQ0ODg7/2wBDAQIDAwMDAwcEBAcOCQgJDg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg7/wgARCAE8ATwDAREAAhEBAxEB/8QAHQAAAgIDAQEBAAAAAAAAAAAABQYABAIDBwEJCP/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAPv4QhCEIQhCEIQhCEIQhCEIQhCEIQhCEIQhCGsoFU8IQhD0tG80FgtEKxQNRkXDMpmZfNpSMDcVDQQhCEMi6XTIgMEEWzI9IQ8MRjGQCh4PngtCKUjaN4QE43j6XRQKwZFIEGw9IQxMhyHcskARycDjCbTwhrF4KnRCsEzSUgOIxsKQ6DaI4MOgGg58XxsEQ2B0h4ZFUXRyOpF8gBOVG8cwQVS2FhPKZ1MLGAqi0aSoYC8Nw5iUKoyEFMNDeJo1B0DGkIlwRAudSL5ACcsLQZObgcMHRwQUTpZZN4KEYrjMLwCD4SFwGF8JgAuDaKA0mk50UxoH0UwmdSL5ACcrLZeOVAINnVimUB5BBbKQjBU6gQBAI2hw1A4UxYGkchPGcGnLiiNx00WQodSL5ACcrLYaObgcLnRgUDzo5SAZgBDadRLQiA4bS+JwpgMrDsMwljSaDnhTGgfRSCZ1IvkAJyosDoCCoWguJxTOpF0DmIugo6EbTlwROjmIiCEHBlDJpOejQMAFNISLYhhc6kXyAI5OCBjNp4emoXQmdFKhdK4tFUMhYQQoOJTKolDOGDEhzY2h8hD0pi4OZ1EvkBggCyZEPTwxMRlGUWzQYFQEgsNgkZxtKBfF0rgUuDqLIJNh4Q9MT0cx5LRDWUCmDikXCkDz0NBUWheChVOaAQ3mY8DuXw8UxFEIvHSxhNhrBZgFCA0JDAbiEIaxXF0Oi+KxiHw2AjaNYHOTAAtFsJlwJHRBgFk5iLA2HSxqKghFEfC0IxfH4tkIeFcDlIJgoAlYqmstlMOBQRBaGcPmAsi0NQ7C6c6F8vj8dEBRzUqj0NgmhA6WXiHhVForDQXweJgvmQZChzsEjGbzwtDQaRbAIDLwJF01Bk6CPYrimGA+MgOLo0FghVFoVi2PATA5ycXx6HwrHIRHDZ0UKCGfk8/aAUMjmgFChTNQ1DiNoIF0sG4Ih8Mlg9IUBNF03h8aiockBR0YZxVOXiyO510rn5DPnEdwPrGBxbK5vF8rDYHBwCAqiQBxpOhDGbCEKgpHOxUGE6oZHPwSOQYOZiWXjpB0c+UQiC+GD6oHIjs5fAInggYB7GUtmYnCmP4yBAKGZAac+Ofi+FDpRmbS4XzE5WKI1HRT8bCcfvA+cZ+0wOfJA+uYfDYCE0zD4YN4xm0EjoUy8OJZIVRbF0VBaCw2jiUCsMQrHNCiHD5Gn1dL4GD46HzfOjHeguagSaCyNhrKIyDUMhqLodNpCFMVBTAYujKdHIahqB5yAQTSfJY+shsLZ086afOUJH6cB5vGMoi2XSuL4WGwPDeMhZIQhWE8VwUKgUG8vhkaTQIApAU+c53s/RAYG4JHxmPqAdjKgPGYuCKJhiaAWQJj8dGGQ2kIYA8UxHBwYMimNA5lYFG0FiCfJs/Yp+rDn583DrR+8jqxvFY9DgKEM2l8WACYhw6mdLLpDQCjM2AkEi0XS4Q3goqhYsGAKPw4cFLR+nTvYYG4yNhSFAEA0Oj4Czm5QGU6idELZAYJRBtLwuHPhiN4pGYeCYIF0ohYegSaQ6bAOKgTHQXzlANIOJ1ACnJzadJH8MmZCkKQtBIKCSLI/B0ClA0jSbgCK5VOmFosjEeigcvMx7BwiBADGZ04ggjGPofLZ6QoCaADwFCYUxvD54CRdDYeNYvnh0o2F0ZgYJYIMjEAgULAYHnShxFoolsbRtN5AaJx6bRSA54bzaQGi8Fg0CgeMAwkGAMCUKAbCArAYMF4rAcLjaCRJKx086gXiFQWigQpGshD0IGsVw4XxIA4WBwcGYCnPQKEAyVAudFN56JAhHhqK4eOoHRC4QEHNRYNxmeEMTSMw8mgsCocxBZdPTaZlEDmgJDsaS+PwNCYqHOSgUy6dEOmDKbiAE5OUhqMzE9PBULI/AkKi0c0KQYGEXgCeFYxLQfPBgOjEN4ogUyFA0jUdKHUskAJystDcLZQLwxiqDxtFcaS+LZXMQaKxZN4qFQ3HpmHhqLpkCg+M4vFIsjWNJvIATlhaChzACBo6eDSgPpSDodNRpFg5ULR0EIHNDEZgebyyLpsG8YRnGQzMTAsFk9IATlZbLxysBBs6qUygdCNQWDgJFwDCwK4bLIlhk6gazeDzngbOkDCDD0YCAE3h42kAJywtDAIIICo/AMHjyBS6NILEY0l8Ai+ajANHVC8bBcEkeg8UBMKo6m0BhsdSyQAnKTMdioVzeXBLK5000CuXg8UhcAYXAgICxoHA9CRrFMYQGKIJNocN4yD2MhuIAzlIBDJtIQ1gUOnVwgLItF4vCMBB9BwnG4qBwaxqN4rCsKYFPRkDwACJ0gdCwQoiaL5D0hDwgwDkXSsLJXLItGI0lYWDUeF8bw+ZgcTwOYGYfDAuFMaxpN5DE0GkhCEIQ2lgyPDSYmRpIbzE0nhDIsG0hgVjAhDabTSYG43npCEIQhCEIQhCEIQhCEIQhCEIQhCEIQhCEIf/8QAJRAAAwEBAAIBBAMBAQEAAAAAAwQFAgEAFRAGBwgUERITFiBQ/9oACAEBAAECAP8Ax/P/AMTWyudpez9n7P2fs80xu9Y64I/O+EPqj7PNIbWmdUBviL3RGcN9Y297P2fs/Z+z9nikFnPfhwtOn2xyr7T2ntO1c2ZtTTO3J7GD6YpOtWPcAszaDLLVNCqgydl+qpTI49W5Y9p7T2ntO1QWZNBbXxS7Y0sqGT6r1XJJZLCsjQA6nLrsOZpUzmHxPuImiBpKJ9ns0aTtCSYu3/EUMSPU+q5JPKICDpHvxT8p8kC5wz3sgPfxVFM5Mx/gQVEGu71+qXRSRO6PVZwym+31kEfhvD5kBNsj/KSzZ8URwvEfml5S8k+PHoUPZzqSJ6nk7xE3aGWniPMpbyo8lxBHhWmgeuXW/lzcnw3hvJfazTdPNSS+MtLyH4j80vKfknyn5T+Jfkzyn5O8Foxl3X3Wyx+ohYnHTNxUI521D5fc23E0bw3k3y3455nyJ4Dyj5D8R+aXlPyT48ChO9ZOnIAqcm+JhbnbB1ZudLHM8c1QeW8RQNig4zSNwU6Omzg3kvlZVubmXJQwKl5D8R+aflTskvPDo+tAh5VLM7N6bwifFqGVOTDUCUiRfE+sdrLFDOnCkKJUsH7IMYZJ/JqybG6BYXiPzS5Yyq0Gv7X2vKpa7LUjK5SUQONunPzSVM7lDUbv7PH3emDJ4Zxag/p/xF/Ff2vteVmKuzwcI/LYqkzUfkz13rfXdnYkzJul2QjZITvG3BU8VzNxO7GNXSjKHDN0pbWBvSeSPWeu9d63ssEiSitj41gqeph1MiyqbHS4MmTenddwqpRDRPw+XAsxnQ0AHDhtKoo1iYxNawt6vUwwBBFOLO1hLQf/ACTyj0exapbIXBkGtvHOpxbFYNRXi40BzgB/bQqzKGiU8Vs8ZlVZlITDbVKolXn0GmHnpTimvnvSFYwOdhNyaSX2eQeNfraPPpH3USwghMxFJIoId5Koip1ar729pmkOpsVXX2VdymtboBjCS58mM5QWeV7/AFa6+/qtgic86tYitMFnm/1FmVWm2T8bn/3xWdcJ5nCSshAK9bGUV5CU8YDzkJ4MfBiPOHMhlLXNUe2DLeSVU16Pbu+mn+Sk2122efmWq8qo4vUGHOEzprqIpodBp9T/AAw3iovTV0IXOfDPHx70GinWVYo9r+Jbkl4zVqVW88hLzFao/uF9+/uz9Ufjb+QYGm2jIYk9E4RUqpVcIYMCgm/zB5uJuB9+T9pFpuEpSH5rD7NAIUpYWt2G9lSUiIDN+RH5P/b38R/vL9CfYD7FaY+iPvMm0QreXc8NPdnuBpZq6JXXECUvg67Y9fDfa2nQlVlaSdKYCfEFgvBsp5Xk4n7/ADP+7f4i/Zl/dL8SJAfrL6ZBqP8AUS9UZqWDeAMrSE8KghUdKsqoJnc7a3yYbk1iRQndGm9P2sJwyjORVZb6yzwrn5B/U/03o1rTUtMET85fov8AGuiDAmzn2r1VYai7QwvJuIjF5tNREWfj+D8fMfrae+yHUmWAqpqipCuAKP8An7ucXa/unmBhXz8+af4ny8yjopoBhuRCLAcba1tF1WyrbnuB7z/wfNFbYnDm8nhWbxVScX25inNNCZk/l39vfxl+uupIzk/D/Uf3x+5P24+mU1HJgAJbOpTmGCMBk9dy0m/IrTnxa+e+HXopOJDngAXOBzMgMeh1rIHJ31h9ufqX6P8Atz+U0j6l+ufvZ96/yT/Gz7LSdzNN6Y4sUVB9pzafDKuIkHjc9mAdPvwQhXgtEXJJZmG8UBpQR9UDGHpdzT+HPqn6V+uPwaf/ABRl/h79ufxczFSRWZ0cSromaRK3WZnFEqiDwxDmow0lc/DfXSpOKtdLTaOab4905VyKi/RbXMTrk+guZzqyoZHYzqJmZ51uWeP44rgMXCGLWXxT0I8pJIefhjL4N6SeJSq1xuyTl4VEogvpPnywi8sjybkqya4R77W09meVF2qzvI02xTnJLlTBUpaKPgS878M7fZ7jo23XTL9QexX7Vbo6cQqZrkrNvIdnlM8iyIjrjjnU+TdlefwXDTpFuwi7Cyrx5e5Nog38N4bVVRYScmai8h4lev8AXNI7WSS4gyDAUlhtc3PGRupX7TTolovu4wvJ5JNH2jOcFYepuPKNfT5Uu/B+tF4/ultn/b/b/bJQjamkkIS2AUdgJ+zp6e4KhRrPUP2Vmx7NiSBRTo9LWVzMZpbf52ajDTUz8PErPfv5Y/2/3/36xx6U+HWh55Ycfew5hr+uGe1z0SE8T8Sw1mRwXdkBq3xlbSmsJ8jYm4Fz4p+V+IJAk9meu5MLIdSlcwclIDNkTaeU0kuIvg6Loe58AQFDb0c6pOh/tU0FBmS1PAtMLJYX78U/KfkjOzM1vdq1hnq5n+b4XEsTU00D/nuzGmTnTQYmMiyPgP4HlEq9nNvdUhZS+5rEH/nl4c5EGfin5S8k+US0m/3Zjc4tPyd4AO5yCvAdW0CpivoPY+KOX+JLiknmKSzTzEV2gmCOgkLH6vU+Ljxn5p+U/JPlLlPP9ZmZnKfk7xbemkjc202eyd91MiyDrdFncYaSbMlaVUVOrKkzJvFztLUgGOY1FR4Wvil5S8k+NrPyvSoSU1qnJ3gsn4i4Buh42IGO8cUKPnnUpQZvSbHux4MUpfrLFejWSrJ2D1dlmZW58U/KnZTA2CY/XEPZ6jEvqIXUDDSazoyTmeNgFSUWFoQNJukaS3QDkC7dGuewR5Yo2x0Jxp2Q8+KObAQ7FQ9j7D2G6BtxwTMGC9PKJNg56Z18Tw1wf16bnUiKKKInRcQb235pYac6ZuQdScSQdfvwyKhK1C5E9L6X0nYmIU6UqL+DBbngnmRZjrRFUHZpYXofQKxkURi7hxRyRqB/zo/p5CPqa3FDEnogz8dzpf8AS/R/R/R/R/R4lhfPPO86Hi/Q9U4pkOgdS/R/R4ngXx3HVf0f0eJYW/y6rxLAOc/+T//EAD0QAAICAQMCAgkCBQEGBwAAAAECAAMRBBIhBTEGEwcQIiMkQVFScRQyCCBCYYFiM1BykbLRJVNzgqGiwv/aAAgBAQADPwD+Qf7lABipnmL90T74n3xPvi/fE++J90V/nBjvFz3gccTI9QQHJirnmL9win+oRXHeALmICfaiv85uEwIEzFPzgwYqkjdE++J98X7hF+4RfuEX74pz7UDjvMj1lK2jV2MA0sNh9qWkZ3GW/cZb9xlv3GWgdzLBZgtGsIBaHyMywXEZhIEATvBsPMKI5Bjq7ANLT2Yx9+C0a2vvGFBliWNzHawDdN9Q5ipSeZsdhuhezvCNOTmMljYaWsT7Ut+plv3GW/cZb9xlw+Zj7+WjW/Obq/WRU8Y6lxHusjGuGGExhWcR6rTGF4ENmljG3OIaq4awRCcjML0NiO95h8omGu+EgCb9KYQ7EQ16qBaO8IrYZjPe3MZrYf0ZjPewj2w7O0Pq4PEZEaPVqSIdwmafX7p5nVtAbOZXXpsmVIx5Ep+olT/MSuzT5ihyQJjWCA6cZiRfLOIeSIa3OTPNXEO/diLXURA2omMRV0h5ilmxNt+YfKxmNdWYwvmLRPgz+IDqz+YvlCV1VSlWPIlJ+YlTnGYjUGAaoz3onufVwZ7p58Y359RTSHB+UcWtzH+6O1wG6F9JM7p8ZBXpgYofG6B07xBW0QOcGeZbN2nJx8o/OBHFxJENCQtSQDLLWbvLd2dssSBasGIXMzcJ8GfxPjD+ZimFKG5jC1vaj7/3RnsXmF9JPfme+nufVwZ7p58W3q+Fb8T3rww+eJ8H/ifunxkb9HxLFuMIQjMY1Ngx2uOYTesD6fGIhydsrr3cCYsIEax4uzJWVITwJUiGbNwBhe88zc4nwZ/E+MP5nw09y0PnNPbE96s+DP8Awz3899Pc+v3Tz4tvzOYX0bcRmub2Y/2x1tHswpo5jdM6yb9LOWOI9bECNYhBmCTNmqE9wIErYzFrAGefbAFzieXScDtGrLR2yMx78yw3Z2xkI4m3SET4w/mZoheo8RzY3Ebd+0xksHEKaMz35nvp7n1+6eY1bQC2V2abBlTk8CVZ7CVI3YSuvTEQGxpnWCAacZlbAxXcnERKzkRfam3VQCkQGh8Q/q2mXERaIj1sJlHMP6kwWAZErVclJXX8oF0zTGrP5i+UORK7aj2lTEnAlOewlVbdhETTmBtUZ70T3PrJqeMNQ5jU3QhMZ9ePnCayAY9tpjG8GGvSwi0jMVk5MCocTzCYK2zAh25i2aU8wNqmnIhr08LORPM07GfEHj5xUrGZXWmAYrEjdPM0zRk1LGNXDtxn1kdjGesjMa3Uw7hMU+vfWY1ljkLLRYeJaBLZb9JbLCOxjl+RCjjiEUERltYwoCMxrYyAsYEU8zbd3gOnILQWXzOIX08fzoxohFhOJ+nRhCXIDQvd3nm6SM7khZaGOAZcPkZb9JbLvoZaR2MfzORDXjiba/WCDFfPEr5O2VpngSrfjAlRTtKkzwJSD8pTnuJWe0XyYh3YM32nEJr5E8uhoQ7CEGMEPMJsgQDmVmrlpW7dxFsrilDgRl34jrecwV3DJiPWBmV3DOIh/pErUH2ZUhPAlLuRK3XsJWiHgSpHifKe7/l90YQGxLPPMbyJYC2Jd5h5Mu39zHU8mZoPMZrDzAX5i+TC1D4EIufiEtGcdo4/pMsq+REtq+ZjC4ZaB6hkwPVEKNmIHcieXf3hV1BaBkGWitXnMVKm5myxsNM38vFdO8zSxBjLeRmF7AMzdV/JgQAERbcwb84mKyIHzxEBPErWCrIEdzjMOzM8i6Bl27pXdpzEYtxPf9ojJyJWU/bEVD7MCbsR6ruIUIBMHkfugCsN0NrtzM2E5jK4wZZkDJjHTRlpbmWW2NzLUtBlvAJMZ9LHOoJjC4ZmKf5AqmbGbmeZZiB0girW0WpmEDOQDDqGhLZxBXpjDXe+IaruTN1eN0/UzZlsRKnxKzTECHE84tOCwEOmu+mIRURmWW5IMcucws8LuJ2mzSRiGENlxyINucQVvB5OILLO0FR7Tanr2qZgMMw2WGe9zAKoCJil43nvHfUQtgkRESKtLQeY+IRcZZZYBGKjImzTNPIvcs2FHJM8NaX+IhOgrovO8CLmi/rg3GwXZ/2qp86R2PG49x9DR1TplGs0Wor1mjvrWym+lwyWIwyrKw4IIIOYc8iKunaEXPtlhYxnryRNmeJmyBecRa8CB6MQuCcQUuZXXxmVgkboH+cW2ALkTA9ZNZjbmgrY5ldZ7iKxwGgdJmh5794BqIu0QJSYAjjdBa74MLXzdauRFGmBxMUPPRh4K6pqdH1DxCnUup1Eh9D0pP1NqkdwSDsU/wBmYTwD429IbeIvBXQeoeH9TqWLdRq1IrWq9/8AzVVGOxj/AFckHv3zm/0c9Wo8J+ML7NX4F1FmKruXfpTk/vUdzUTyyDt3HzB0l/SaNbo769VpL6ltouqcMliMMqykcEEEEERXyoM/UMx7zyyTtgprIIi7jEF0UpgQs8wgzFaqEZKiWVFpYbTzLHIhWsZg2fyDaYih4ELbWj+ccNGe4DM9z3gNJGYbnbEsF5OJYAIyaU/iNvcZMNlhhstyFzCrqcTTdP6LfrNZeml0mnqa2+61gqVooJZiT2AAJnWfHvVtf4V8Bau7pHglSarNVVmvU9U7gknulR+SdyOW+g8eeMtBR1fxFangrolwD1fqqTZrLVPIIpyNoP1dgf7Gein0ZXp4W8NdX6t4m8aIwPUbrtTUNLoR9hVKwTYfpu9n5zXelPxGOsdZFvTfAmjtxqtSOH1rDvTUf+p/lOm9C8J6bp2gSrp/Sen6VKaKwdqUU1rtVeewVQJ4K9Ifijr3TPDPVf1mq6VdstDDaL07edV99e7K5/7qTWaxkypk4xCwbEdXaFLJ7QBaV7O8qRe4iNxuiXVGLtcwHVxVpBi1DvA/zmV9ZFbSzc0sdmjhicGeXcIBph7UNpwDPM7iVp3ErXgTNDYjF3OIVu5iAjMqrQciX9H8D9M9GXRtSab+sV/q+sOh5/SqxFdX4d1JP9q8dmnTdf04elfxTpE1QS8p4d0lyZUMhw2qI7EhgVT6FSZU9Vg3cEYO0kH/AJieZ/EvbqT1p7fR3a51dpsuLa0sWydOSe+Sf9qecf3mi6N4c0fR+j6Ovp/TNJUKtNpqF2pWo7ACabxr6NOteGOpW31aLqWmNFtmntKOueQQR9CBweD2IIJB8VegX+KX28jqfRdZtuVSVr12nb/82IQR9CfqJpuqeF+ndY6df5+g12mr1Oms7b63UMp/5EQscFottPMTa0xa0KHvHXsZay9zLFfljMpgtPOqMLarIHzhTTSwOY5cZnu/XuUwWE8RAG9mKqtgRqbeIwwpMFuMmKKMiFMxzbiedR2gKOdsFFrcdjPJc8wqmN01fij+NHxed5sNWsr6fpq88KKkWvA/LBj+TNN4Z9H/AEXw9oMJo+m6GrS1BRjIRQufycZMLg+3DdaeZ5xEDU5KSjp3jTwV4ppqxZrtLfotSQPnSwdP8kWvL+rfwhdFS5za/T9Tfo8nvtV96j/CuBHV49aRrlMdmPEcAw74DTBUpIhrt7zzgATKzgxPLxBa3Amwzah/kAUxU3CC4mDYxhpumCOYHoEFomLYBVAaXh32YlgtMtEv6L/GZ4vuvTc1XXP1e36qxFo/+CINVoKdVQ4sourWytx2ZSMgx/qYxsEAAzKv0v8AiaUaD0d9GRwdSbNZqXX7VArRf+ZLS2r+Eim+wYTWdX1N1X91G2v/AKq2hNZOI6ORiGw4Igas8TYjcQ0W9psrIm9DHFuYa25MCJ3gZsbolqxCn8uUMdt0atyTAKmnmXGOpzDTUATFPBaJY8BSB62nmu/EJJ9mNXu9majp3pD6T4701HwHU6V0escDtqKwdhP/ABV8D/0jKPGnoQo8OazUA+JegVCiyt29u/TDiq0fUAYQ/QgfcIwsxiHvtn6VOZpen9K1Or1mpTTaSio2XXWuFStFBLMSewABJmq9M/8AFFqtf0am7VaIunTeg6YD23rDEKcfV3Zm/wDcBNN4N9EHhrwpQwcdO0SVWuOz2n2rH/y5YxX0/aDk4i02SsjES2huJhmIEet2EawQqpOI1bx1jq3eYCgtBag5m5f5AYrq0O18CWFmG0xhZlli1pCVO2W+ZHDDM2VcmIMjMrscyqxIjA8Tonj30bdW8K9doL6DW17d6Ab6XHKWIfkykAiekT+Hn08U2h7endQ0thfpvVaUzp9fV9RnhgRwyHt2M8D+JNHptF43x4O67gK9zBrNHe3zYOBmvP0fgfcZ4L1/TF1PT/FnRtdQV3CyjqdLjH+Gnos8HaCx+p+Nem3XqONJoLxqryfkNlWSM/VsCdd9JNV/h3oNN3QPCBf26i2dRrsHjzSOAv8AoBI+pM1nRNXV6QfGOhbT9UKf+DaC8YegMCDdYp7MQcKD2GTC165g8gRPLMzYcRq35iCrBaVvW3Ii+e0Umb6TgQqWO2bSZiMLBHYCZp9e0GBGIzBaMZi3IYrEkrEqRjibLiILRyJWgyRK6TAUIDR3JwZaGOcwoOTEKcmVB+4nhTx/4Nv6B4s6Pp+tdLtO7y7hzW3IDo4wyNyfaUg8zVfrr9b6OvFNL6Y8p07rmVZPqBdWp3f2yg/M9OeivNdXhKjXJ99HWdIF/wDvYpnpY6peB1duleHKP6zfrPOcD+wqDA/5YTwX4A11HVLxZ4p8RVkMmt1tYFdLfWqrkL+SWI+RlgP7TDQ4JE8urGY1sLgkieTUTGqYgNHcEbobLDzHZxC+n5EC0tkTZawE3EgRnsBxCgHE21+sipsR1taMtnJissTYYgreBtWcGZqHzhFJxLRaY5bmK8U15AjVA4lqsZYpjGxQTN+lzH3kCG1+REZOViYPswUoxAhrtIzBYYp00HkWRmveWEQq/MXeuYn6aDyXm+9oXccQYU7YK6+02r68oYuWMNVp2wqeTAKG9qcuN08zU8njMQ0gZldlUqYkxKQYK7duYllQ5lVqSshjEQnE26oTdpxFJiKYuyIqGA1PG89o9bz4fkwNQ3MD3mVmntEqc4nl3YzC9HeGyhoW1ZyPnK0xkSutB2ibcCZHr2o09phDa5j1KTLFrYCW2WMY4uzzHqUAw7CJlTCyNG87OYyiHZBtIzBbnEJ1IMCaaAPibzB5PJi1o0Wx2BMFxzBXyJ5CYz2hcEZh87MIpxGfdGF8ygzFt00StyYunzzBvxunm45m5PWTW0ZrjPrB5DYjMx4jN/TCD+2Onylv0Mtlqo3Bji7tLGHAMtFWcGWV5jvbNgDQVptzGteFBmCqk8wDeA0zectK9nLSvyjzAzMFj33R2GdssC42x9hysNFhyIKDgtK/JI3xGRsNCXbBlhvjttmafWNhiI7ZlSEgNK2XGZS2ZT9RKfqJT9RKT9JVbFepsCe/PswImSJXVQZWC0TzTESmYt7xCMkytKe4g8pgHhd25h3d43YGWPXH3kmBrhkRBR2lQOJW1JgQNiGu04jgY3GOwOWhsMLuOIUA4m2r17amjJa+DLWc4aWkdzLvqZd9TLvqZaB3MsV+TGZwMxX0/Mr82KlJIhrrbmMbH5h3HmO64zHJzzHo+ccKRujWAjMLE+rLyvyOYgc4g88YhGj4j+eY3kczKNC1jcRlXsYRBviELE2CAL68VPCdS8820RfLyREHylX0EQ/IRfKOFnlWtCl4nl6OEakjMNtEZ62lnnNxHh3jMUUHiBS2I5c4jiEerYYUqxum9+8BuERtPKy5MSug8wOWAi2seJigkLHV24joe0srIEZkEzX6uDPdPPi2g8yJVpoiMeYn3RHfvFs00GWmNTCdBx9JZ+rP5jNSAZ5tU3OfZgH9MFGTiLUjCC21p5wmyljibHYQtGjiOXj0nM8tMFoD84XrIBjXWmZ7iCzTniBnPsz/AEwo/aGqbU9funnxjfn1FdK2DHFz8mPnuY5uHJhbRT90+MgfSRWuJIgQRTX2lXOQJTsPAiCt8Rw7gRjfzE8kZiDStB+oYCeY+JupziMjdoW+UNVLGWVuRLbGllqRu5EFWMiIUxEb5CV4PEqWIO0wvr908+Lf8/8Af1fCt+IfNeH6Q+eJjRj8T90+MgGkieZFaDycwVAwKSN089WGZ5oY4hpvPEFKYzBZp2G6F7zM3iLZphxAzdoFTtFTTtxN97AD5wsw9mKlYyolVdRldLkZis+N0Vl7wKp5gRyMwWPNyev3Tz4xvzOYbNGY72NhY/2mOloO2GvSYmN0+Mjfo+JYtxzChwTA9MZ62xLfNPeOG5itURN24gRqnMezKxic4my8QCgRIhrOJmp4G1cRagYlCd8RBWw3zLnDwi7looqHtRWU4eNbacHMfMIrHr908xqmirbyZW9HJlLse0olKStKCMwNYwzM6sQPphBtY7Y1NxxCDgmLbVKyGOBEpDYgNxGYLqIqk8RRdE8qKmpgWjvGYnBjskNlJhTVQVafvMbgHjlj7caxv3Rt8tRP3Ry+GaLYRkxNkG315qeN57y2q0y1V7mW/WWSyWFSMyy14/nAmYpED1mAhjiNRacRxxCNO0sYvLHvhGlEJVsCOlxlhQiWC3MsPEa0Amba4HqORNhc4j1hgJa7NLSZYX7GM57Qig8R6rTLK3xGZBM1+vejTzXYhYd54jj5R/oY/wBDH+2P9Id/InlPyJsT1BkPE3scCFW7QmojEZ3bibH/AGzZTjE81GhLn2Yfthz+2FH7QVqMiKqwFDA6NxC7txCSfZn+iYblYK/6YDSeJudsLCr9oasTCevIitE+giRIkSJEip8oF9WRAYBAYh+URfkIAICDEPyiRIg+QgX1giKc5ESJEirBiISciIPkIEmB/ur/xAAUEQEAAAAAAAAAAAAAAAAAAACg/9oACAECAQE/AEgf/8QAFBEBAAAAAAAAAAAAAAAAAAAAoP/aAAgBAwEBPwBIH//Z\";var{TabPane:ve}=c.Tabs,_=dt.default.create({baseURL:\"/website\"});_.interceptors.response.use(function(e){if(e.data.code!==0)throw c.message.error(e.data.message),new Error(e.data);return e.data.data},function(e){return Promise.reject(e)});c.message.config({top:\"40%\"});var R={IDLE:\"idle\",LOADING:\"loading\",WAITING:\"waiting\",SCANNED:\"scanned\",SUCCESS:\"success\",EXPIRED:\"expired\",ERROR:\"error\"},It={NEW:\"NEW\",SCANNED:\"SCANNED\",CONFIRMED:\"CONFIRMED\",EXPIRED:\"EXPIRED\",CANCELED:\"CANCELED\"},ss={[R.IDLE]:\"READY\",[R.LOADING]:\"LOADING\",[R.WAITING]:\"SCAN ME\",[R.SCANNED]:\"CONFIRM\",[R.SUCCESS]:\"SUCCESS\",[R.EXPIRED]:\"EXPIRED\",[R.ERROR]:\"ERROR\"};function Nt({qrcodeUrl:e,cacheUrl:t,checkStatusUrl:n}){let[r,o]=a.default.useState(\"\"),[i,l]=a.default.useState(R.IDLE),[s,d]=a.default.useState(Dt),[u,f]=a.default.useState(null),m=(0,a.useRef)(null),C=(0,a.useRef)(null),g=(0,a.useCallback)(()=>{m.current&&(clearInterval(m.current),m.current=null),C.current&&(clearTimeout(C.current),C.current=null)},[]),F=(0,a.useCallback)(y=>{g(),m.current=setInterval(async()=>{try{let v=await dt.default.post(\"/website\".concat(n),{sessionKey:y});if(v.data.code===0&&v.data.data){let{status:T,cookie:D}=v.data.data;switch(T){case It.CONFIRMED:g(),o(D),l(R.SUCCESS),await _.put(t,{cookie:D}),c.message.success(\"\\u626B\\u7801\\u6210\\u529F\\uFF0C\\u5DF2\\u81EA\\u52A8\\u5165\\u5E93\"),setTimeout(()=>{d(Dt),l(R.IDLE),f(null)},2e3);break;case It.SCANNED:l(R.SCANNED);break;case It.EXPIRED:case It.CANCELED:g(),d(Dt),l(R.EXPIRED),f(null),c.message.warning(\"\\u4E8C\\u7EF4\\u7801\\u5DF2\\u8FC7\\u671F\\uFF0C\\u8BF7\\u91CD\\u65B0\\u70B9\\u51FB\");break;case It.NEW:default:break}}}catch(v){}},2e3),C.current=setTimeout(()=>{g(),d(Dt),l(R.EXPIRED),f(null),c.message.warning(\"\\u4E8C\\u7EF4\\u7801\\u5DF2\\u8FC7\\u671F\\uFF0C\\u8BF7\\u91CD\\u65B0\\u70B9\\u51FB\")},12e4)},[t,n,g]),w=(0,a.useCallback)(async()=>{if(i!==R.LOADING){g(),l(R.LOADING),f(null);try{let y=await dt.default.get(\"/website\".concat(e,\"?t=\").concat(Date.now()),{responseType:\"blob\"}),v=y.headers[\"x-session-key\"];if(v){f(v);let T=URL.createObjectURL(y.data);d(T),l(R.WAITING),F(v)}else throw new Error(\"\\u672A\\u83B7\\u53D6\\u5230 sessionKey\")}catch(y){console.error(\"\\u83B7\\u53D6\\u4E8C\\u7EF4\\u7801\\u5931\\u8D25:\",y),l(R.ERROR),c.message.error(\"\\u83B7\\u53D6\\u4E8C\\u7EF4\\u7801\\u5931\\u8D25\")}}},[e,i,g,F]),b=(0,a.useCallback)(y=>{if(!y){c.message.warning(\"\\u6CA1\\u6709\\u53EF\\u590D\\u5236\\u7684\\u5185\\u5BB9\");return}(0,ka.default)(y),c.message.success(\"\\u5DF2\\u590D\\u5236\\u5230\\u526A\\u8D34\\u677F\")},[]),p=(0,a.useCallback)(async()=>{if(!r){c.message.warning(\"\\u6CA1\\u6709\\u53EF\\u5165\\u5E93\\u7684\\u5185\\u5BB9\");return}await _.put(t,{cookie:r}),c.message.success(\"\\u5165\\u5E93\\u6210\\u529F\")},[t,r]);(0,a.useEffect)(()=>(_.get(t).then(y=>{o(y||\"\")}),()=>g()),[t,g]);let h=()=>{switch(i){case R.SUCCESS:return\"#22c55e\";case R.ERROR:case R.EXPIRED:return\"#ef4444\";default:return\"#3b82f6\"}},O=i===R.LOADING;return a.default.createElement(\"div\",{className:\"qrcode-card\"},a.default.createElement(\"div\",{className:\"qrcode-wrapper\",onClick:w},a.default.createElement(\"div\",{className:\"qrcode-glow\"}),a.default.createElement(\"div\",{className:\"qrcode-container\"},a.default.createElement(\"img\",{src:s,alt:\"\\u626B\\u7801\\u533A\\u57DF\",className:\"qrcode-image \".concat(O?\"qrcode-image--loading\":\"\")}),O&&a.default.createElement(\"div\",{className:\"qrcode-overlay\"},a.default.createElement(\"div\",{className:\"qrcode-spinner\"}),a.default.createElement(\"span\",null,\"\\u751F\\u6210\\u4E2D...\"))),a.default.createElement(\"div\",{className:\"qrcode-status\"},a.default.createElement(\"div\",{className:\"status-dot \".concat(i===R.WAITING||i===R.SCANNED?\"status-dot--pulse\":\"\"),style:{backgroundColor:h()}}),a.default.createElement(\"span\",{className:\"status-text\"},ss[i]))),a.default.createElement(\"div\",{className:\"cookie-result-wrapper\"},a.default.createElement(\"textarea\",{className:\"cookie-result\",value:r,onChange:y=>o(y.target.value),placeholder:\"\\u70B9\\u51FB\\u4E0A\\u65B9\\u4E8C\\u7EF4\\u7801\\u5F00\\u59CB\\u626B\\u7801...\",spellCheck:\"false\"})),a.default.createElement(\"div\",{className:\"action-buttons\"},a.default.createElement(\"button\",{className:\"action-btn action-btn--primary\",onClick:()=>b(r)},a.default.createElement(\"span\",null,\"\\u590D\\u5236\"),a.default.createElement(\"svg\",{className:\"btn-icon\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\"},a.default.createElement(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"}))),a.default.createElement(\"button\",{className:\"action-btn action-btn--secondary\",onClick:p},a.default.createElement(\"span\",null,\"\\u5165\\u5E93\"),a.default.createElement(\"svg\",{className:\"btn-icon\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\"},a.default.createElement(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M5 13l4 4L19 7\"})))))}function Ta({api:e}){let[t]=c.Form.useForm(),n=async()=>{try{let r=await t.validateFields();await _.put(e,r),c.message.success(\"\\u5165\\u5E93\\u6210\\u529F\")}catch(r){console.error(r),c.message.error(\"\\u5165\\u5E93\\u5931\\u8D25\\uFF1A\".concat(r==null?void 0:r.message))}};return(0,a.useEffect)(()=>{_.get(e).then(r=>{t.setFieldsValue(r)})},[]),a.default.createElement(c.Form,{form:t,className:\"ios-form\",layout:\"vertical\"},a.default.createElement(c.Form.Item,{label:\"\\u8D26\\u53F7\",name:\"username\"},a.default.createElement(c.Input,null)),a.default.createElement(c.Form.Item,{label:\"\\u5BC6\\u7801\",name:\"password\"},a.default.createElement(c.Input.Password,null)),a.default.createElement(c.Form.Item,{label:null},a.default.createElement(\"button\",{className:\"action-btn action-btn--primary\",onClick:n},\"\\u4FDD\\u5B58\")))}function ds({visible:e,onCancel:t,onSave:n,panKey:r,panName:o,chunkSize:i,poolSize:l}){let[s]=c.Form.useForm();(0,a.useEffect)(()=>{e&&s.setFieldsValue({chunkSize:i||512,poolSize:l||10})},[e,i,l,s]);let d=async()=>{try{let u=await s.validateFields();n(u)}catch(u){console.error(\"\\u9A8C\\u8BC1\\u5931\\u8D25:\",u)}};return a.default.createElement(c.Modal,{title:\"\".concat(o,\" \\u4E0B\\u8F7D\\u914D\\u7F6E\"),open:e,onCancel:t,width:\"90%\",className:\"ios-modal\",footer:null},a.default.createElement(c.Alert,{message:\"\\u914D\\u7F6E\\u8BF4\\u660E\",description:a.default.createElement(a.default.Fragment,null,a.default.createElement(\"div\",null,\"\\u2022 \\u5206\\u7247\\u5927\\u5C0F\\uFF1A\\u5EFA\\u8BAE 256-1024 KB\"),a.default.createElement(\"div\",null,\"\\u2022 \\u7EBF\\u7A0B\\u6570\\uFF1A\\u5EFA\\u8BAE 5-15\"),a.default.createElement(\"div\",null,\"\\u2022 \\u53C2\\u6570\\u8FC7\\u5927\\u53EF\\u80FD\\u5BFC\\u81F4\\u9650\\u901F\\u6216\\u5C01\\u7981\")),type:\"info\",showIcon:!0,className:\"ios-alert\",style:{marginBottom:16}}),a.default.createElement(c.Form,{form:s,layout:\"vertical\",className:\"ios-form ios-input-number\"},a.default.createElement(c.Form.Item,{label:\"\\u5206\\u7247\\u5927\\u5C0F (KB)\",name:\"chunkSize\",rules:[{required:!0,message:\"\\u8BF7\\u8F93\\u5165\\u5206\\u7247\\u5927\\u5C0F\"},{type:\"number\",min:64,max:2048,message:\"\\u8303\\u56F4: 64-2048 KB\"}]},a.default.createElement(c.InputNumber,{style:{width:\"100%\"},placeholder:\"512\",addonAfter:\"KB\"})),a.default.createElement(c.Form.Item,{label:\"\\u5E76\\u53D1\\u7EBF\\u7A0B\\u6570\",name:\"poolSize\",rules:[{required:!0,message:\"\\u8BF7\\u8F93\\u5165\\u7EBF\\u7A0B\\u6570\"},{type:\"number\",min:1,max:20,message:\"\\u8303\\u56F4: 1-20\"}]},a.default.createElement(c.InputNumber,{style:{width:\"100%\"},placeholder:\"10\",addonAfter:\"\\u7EBF\\u7A0B\"})),a.default.createElement(c.Form.Item,{style:{marginBottom:0,marginTop:24}},a.default.createElement(\"div\",{className:\"ios-button-group\",style:{justifyContent:\"flex-end\"}},a.default.createElement(\"button\",{className:\"action-btn action-btn--secondary-outline\",onClick:t},\"\\u53D6\\u6D88\"),a.default.createElement(\"button\",{className:\"action-btn action-btn--primary\",onClick:d},\"\\u4FDD\\u5B58\")))))}var Fa=e=>{let{attributes:t,listeners:n,setNodeRef:r,transform:o,transition:i,isDragging:l}=tr({id:e[\"data-row-key\"]}),s=k(N(k({},e.style),{transform:Ae.Translate.toString(o),transition:i}),l?{position:\"relative\",zIndex:9999}:{});return a.default.createElement(\"tr\",k(N(k({},e),{ref:r,style:s}),t))},Ea=({rowKey:e})=>{let{listeners:t,setActivatorNodeRef:n}=tr({id:e});return a.default.createElement(_n,k({ref:n,className:\"drag-handle\"},t))},hn=\"https://pan.wnng.cn\",st=[{key:\"baidu\",name:\"\\u767E\\u5EA6\\u7F51\\u76D8\"},{key:\"aliyun\",name:\"\\u963F\\u91CC\\u4E91\\u76D8\"},{key:\"quark\",name:\"\\u5938\\u514B\\u7F51\\u76D8\"},{key:\"tianyi\",name:\"\\u5929\\u7FFC\\u4E91\\u76D8\"},{key:\"115\",name:\"115\\u7F51\\u76D8\"},{key:\"xunlei\",name:\"\\u8FC5\\u96F7\\u7F51\\u76D8\"},{key:\"uc\",name:\"UC\\u7F51\\u76D8\"},{key:\"yidong\",name:\"\\u79FB\\u52A8\\u4E91\\u76D8\"},{key:\"pikpak\",name:\"PikPak\"},{key:\"123pan\",name:\"123\\u7F51\\u76D8\"},{key:\"magnet\",name:\"\\u78C1\\u529B\\u94FE\\u63A5\"},{key:\"ed2k\",name:\"\\u7535\\u9A74\\u94FE\\u63A5\"}],us=[{key:\"nodejs_muou\",api:\"/muou/urls\",name:\"\\u6728\\u5076\"},{key:\"nodejs_wanou\",api:\"/wanou/urls\",name:\"\\u73A9\\u5076\"},{key:\"nodejs_leijing\",api:\"/leijing/urls\",name:\"\\u96F7\\u9CB8\"},{key:\"nodejs_zhizhen\",api:\"/zhizhen/urls\",name:\"\\u81F3\\u81FB\"},{key:\"nodejs_duoduo\",api:\"/duoduo/urls\",name:\"\\u591A\\u591A\"},{key:\"nodejs_erxiao\",api:\"/erxiao/urls\",name:\"\\u4E8C\\u5C0F\"},{key:\"nodejs_huban\",api:\"/huban/urls\",name:\"\\u864E\\u6591\"},{key:\"nodejs_labi\",api:\"/labi/urls\",name:\"\\u8FA3\\u7B14\"},{key:\"nodejs_ouge\",api:\"/ouge/urls\",name:\"\\u6B27\\u6B4C\"},{key:\"nodejs_xiaoban\",api:\"/xiaoban/urls\",name:\"\\u5C0F\\u73ED\"},{key:\"nodejs_tgchannel\",api:\"/tgchannel/config\",name:\"TG\\u9891\\u9053\",type:\"tg\"},{key:\"nodejs_tgsou\",api:\"/tgsou/config\",name:\"TG\\u641C\",type:\"tg\"},{key:\"nodejs_pansou\",api:\"/pansou/config\",name:\"PanSou\",type:\"pansou\"},{key:\"nodejs_live2vod\",api:\"/live2vod/config\",name:\"\\u76F4\\u64AD\\u8F6C\\u70B9\\u64AD\",type:\"live2vod\"}],cs=us.reduce((e,t)=>(e[t.key]={api:t.api,name:t.name,type:t.type},e),{});function fs({visible:e,onCancel:t,onSave:n,siteName:r}){let[o]=c.Form.useForm(),[i,l]=(0,a.useState)(!1),[s,d]=(0,a.useState)(\"channels\"),[u,f]=(0,a.useState)([]),[m,C]=(0,a.useState)([]),[g,F]=(0,a.useState)(!1),[w,b]=(0,a.useState)([]),[p,h]=(0,a.useState)([]),[O,y]=(0,a.useState)([]),[v,T]=(0,a.useState)(\"\"),[D,A]=(0,a.useState)([]),z=(0,a.useRef)(0),U=()=>{let S=v.trim();if(S){if(u.includes(S)){c.message.warning('\\u9891\\u9053 \"'.concat(S,'\" \\u5DF2\\u5B58\\u5728')),T(\"\");return}f([S,...u]),A([S,...D]),b([S,...w]),T(\"\"),c.message.success('\\u5DF2\\u6DFB\\u52A0\\u9891\\u9053 \"'.concat(S,'\"'))}},B=(S,E)=>{E.stopPropagation(),f(u.filter(I=>I!==S)),b(w.filter(I=>I!==S)),A(D.filter(I=>I!==S)),c.message.success('\\u5DF2\\u5220\\u9664\\u9891\\u9053 \"'.concat(S,'\"'))},X=(0,a.useCallback)(async S=>{if(!S)return null;F(!0);try{let E=await dt.default.get(\"\".concat(S,\"/api/health\"));if(E.data){let I=E.data.channels||[],L=E.data.plugins||[];return f(I),C(L),{channels:I,plugins:L}}return null}catch(E){return console.error(\"\\u83B7\\u53D6 PanSou \\u9009\\u9879\\u5931\\u8D25:\",E),null}finally{F(!1)}},[]);(0,a.useEffect)(()=>{let S=++z.current;if(!e){l(!1),T(\"\");return}l(!0),_.get(\"/pansou/config\").then(async E=>{if(z.current!==S)return;let I=E.url||hn;o.setFieldsValue({name:r,url:I});let L=await X(I);E.channels&&E.channels.length>0?b(E.channels):L!=null&&L.channels&&b(L.channels),E.plugins&&E.plugins.length>0?h(E.plugins):L!=null&&L.plugins&&h(L.plugins),E.cloudTypes&&E.cloudTypes.length>0?y(E.cloudTypes):y(st.map(pe=>pe.key))}).catch(E=>{z.current===S&&(console.error(E),c.message.error(\"\\u52A0\\u8F7D\\u914D\\u7F6E\\u5931\\u8D25\"))}).finally(()=>{z.current===S&&l(!1)})},[e,r,o,X]);let ne=(0,a.useCallback)(S=>{let E=S.target.value||hn;X(E)},[X]),se=async()=>{let S;try{S=await o.validateFields()}catch(E){return}try{l(!0);let E={url:S.url||\"\",channels:w,plugins:p,cloudTypes:O};await _.put(\"/pansou/config\",E),c.message.success(\"\\u4FDD\\u5B58\\u6210\\u529F\"),n(S.name),t()}catch(E){console.error(E),c.message.error(\"\\u4FDD\\u5B58\\u5931\\u8D25\\uFF1A\".concat((E==null?void 0:E.message)||\"\\u8BF7\\u6C42\\u5931\\u8D25\"))}finally{l(!1)}},Pe=async()=>{try{l(!0),await _.delete(\"/pansou/config\");let E=(await _.get(\"/pansou/config\")).url||hn;o.setFieldsValue({url:E});let I=await X(E);b((I==null?void 0:I.channels)||[]),h((I==null?void 0:I.plugins)||[]),y(st.map(L=>L.key)),c.message.success(\"\\u91CD\\u7F6E\\u6210\\u529F\")}catch(S){console.error(S),c.message.error(\"\\u91CD\\u7F6E\\u5931\\u8D25\\uFF1A\".concat(S==null?void 0:S.message))}finally{l(!1)}},Oe=(S,E,I)=>{S.includes(I)?E(S.filter(L=>L!==I)):E([...S,I])},Z=(S,E,I)=>{E.length===S.length?I([]):I([...S])},Te=(S,E,I,L,pe,Le)=>a.default.createElement(\"div\",{key:S,className:\"pansou-checkbox-card \".concat(E?\"pansou-checkbox-card--selected\":\"\"),onClick:I},a.default.createElement(\"span\",{className:\"pansou-checkbox-card__label\"},L||S),pe&&a.default.createElement(qe,{className:\"pansou-checkbox-card__delete\",onClick:Le})),fe=[{key:\"channels\",label:a.default.createElement(c.Badge,{count:w.length,overflowCount:9999,size:\"small\",offset:[12,-4]},a.default.createElement(\"span\",{style:{paddingRight:8}},\"TG\\u9891\\u9053\"))},{key:\"plugins\",label:a.default.createElement(c.Badge,{count:p.length,overflowCount:9999,size:\"small\",offset:[12,-4]},a.default.createElement(\"span\",{style:{paddingRight:8}},\"\\u641C\\u7D22\\u63D2\\u4EF6\"))},{key:\"cloudTypes\",label:a.default.createElement(c.Badge,{count:O.length,overflowCount:9999,size:\"small\",offset:[12,-4]},a.default.createElement(\"span\",{style:{paddingRight:8}},\"\\u7F51\\u76D8\\u7C7B\\u578B\"))}];return a.default.createElement(c.Modal,{title:\"\\u7F16\\u8F91 \".concat(r||\"PanSou\"),open:e,onCancel:t,className:\"ios-modal pansou-config-modal\",footer:null,width:\"90%\",destroyOnClose:!0},a.default.createElement(c.Spin,{spinning:i},a.default.createElement(c.Form,{form:o,layout:\"horizontal\",labelCol:{span:4},wrapperCol:{span:20},className:\"ios-form\"},a.default.createElement(c.Form.Item,{label:\"\\u540D\\u79F0\",name:\"name\"},a.default.createElement(c.Input,{placeholder:\"\\u7AD9\\u6E90\\u540D\\u79F0\"})),a.default.createElement(c.Form.Item,{label:\"API \\u5730\\u5740\",name:\"url\"},a.default.createElement(c.Input,{placeholder:\"\\u7559\\u7A7A\\u4F7F\\u7528\\u9ED8\\u8BA4: \".concat(hn),onBlur:ne}))),a.default.createElement(c.Tabs,{activeKey:s,onChange:d,items:fe,className:\"pansou-config-tabs\"}),a.default.createElement(c.Spin,{spinning:g},s===\"channels\"&&a.default.createElement(\"div\",{className:\"pansou-checkbox-section\"},a.default.createElement(\"div\",{className:\"pansou-checkbox-header\"},a.default.createElement(\"span\",null,\"\\u5DF2\\u9009 \",w.length,\" / \",u.length),a.default.createElement(c.Space,null,a.default.createElement(c.Button,{type:\"link\",size:\"small\",onClick:()=>Z(u,w,b)},w.length===u.length?\"\\u53D6\\u6D88\\u5168\\u9009\":\"\\u5168\\u9009\"))),a.default.createElement(\"div\",{className:\"pansou-add-channel\"},a.default.createElement(c.Input,{placeholder:\"\\u641C\\u7D22\\u6216\\u6DFB\\u52A0\\u9891\\u9053\",value:v,onChange:S=>T(S.target.value),onPressEnter:U,allowClear:!0,style:{flex:1}}),a.default.createElement(c.Button,{type:\"primary\",icon:a.default.createElement(Re,null),onClick:U},\"\\u6DFB\\u52A0\")),a.default.createElement(\"div\",{className:\"pansou-checkbox-grid\"},u.filter(S=>!v||S.toLowerCase().includes(v.toLowerCase())).map(S=>Te(S,w.includes(S),()=>Oe(w,b,S),S,D.includes(S),E=>B(S,E)))),u.length===0&&!g&&a.default.createElement(\"div\",{className:\"pansou-empty-tip\"},\"\\u8BF7\\u5148\\u914D\\u7F6E\\u6B63\\u786E\\u7684 API \\u5730\\u5740\\u4EE5\\u52A0\\u8F7D\\u53EF\\u7528\\u9891\\u9053\")),s===\"plugins\"&&a.default.createElement(\"div\",{className:\"pansou-checkbox-section\"},a.default.createElement(\"div\",{className:\"pansou-checkbox-header\"},a.default.createElement(\"span\",null,\"\\u5DF2\\u9009 \",p.length,\" / \",m.length),a.default.createElement(c.Button,{type:\"link\",size:\"small\",onClick:()=>Z(m,p,h)},p.length===m.length?\"\\u53D6\\u6D88\\u5168\\u9009\":\"\\u5168\\u9009\")),a.default.createElement(\"div\",{className:\"pansou-checkbox-grid\"},m.map(S=>Te(S,p.includes(S),()=>Oe(p,h,S),S,!1,null))),m.length===0&&!g&&a.default.createElement(\"div\",{className:\"pansou-empty-tip\"},\"\\u8BF7\\u5148\\u914D\\u7F6E\\u6B63\\u786E\\u7684 API \\u5730\\u5740\\u4EE5\\u52A0\\u8F7D\\u53EF\\u7528\\u63D2\\u4EF6\")),s===\"cloudTypes\"&&a.default.createElement(\"div\",{className:\"pansou-checkbox-section\"},a.default.createElement(\"div\",{className:\"pansou-checkbox-header\"},a.default.createElement(\"span\",null,\"\\u5DF2\\u9009 \",O.length,\" / \",st.length),a.default.createElement(c.Button,{type:\"link\",size:\"small\",onClick:()=>Z(st.map(S=>S.key),O,y)},O.length===st.length?\"\\u53D6\\u6D88\\u5168\\u9009\":\"\\u5168\\u9009\")),a.default.createElement(\"div\",{className:\"pansou-checkbox-grid\"},st.map(S=>Te(S.key,O.includes(S.key),()=>Oe(O,y,S.key),S.name,!1,null))))),a.default.createElement(\"div\",{className:\"pansou-config-footer ios-button-group\"},a.default.createElement(\"button\",{className:\"action-btn action-btn--primary\",onClick:se,disabled:i},\"\\u4FDD\\u5B58\"),a.default.createElement(\"button\",{className:\"action-btn action-btn--danger\",onClick:Pe,disabled:i},\"\\u91CD\\u7F6E\"))))}function ps({visible:e,onCancel:t,onSave:n,siteKey:r,siteName:o}){let[i]=c.Form.useForm(),[l,s]=(0,a.useState)(!1),d=cs[r],u=!!d,f=(d==null?void 0:d.type)===\"tg\",m=(d==null?void 0:d.type)===\"live2vod\",C=(0,a.useRef)(0),g=p=>{if(p===\"\"||p===null||typeof p>\"u\")return null;let h=Number(p);return Number.isFinite(h)?h:null},F=p=>{if(p==null||p===\"\")return\"\";let h=Number(p);return Number.isFinite(h)?h:\"\"};(0,a.useEffect)(()=>{let p=++C.current;if(!e){s(!1);return}u?(s(!0),_.get(d.api).then(h=>{if(C.current===p)if(f){let O=[],y=new Set;h.channelNameMap&&Object.keys(h.channelNameMap).forEach(v=>y.add(v)),h.channelUsername&&h.channelUsername.forEach(v=>y.add(v)),h.homeChannelUsername&&h.homeChannelUsername.forEach(v=>y.add(v)),y.forEach(v=>{var T;O.push({id:v,name:((T=h.channelNameMap)==null?void 0:T[v])||\"\"})}),i.setFieldsValue({name:o,url:h.url,count:g(h==null?void 0:h.count),pic:h.pic,channels:O.length>0?O:[{id:\"\",name:\"\"}]})}else m?i.setFieldsValue({name:o,sources:h.sources||[{name:\"\",url:\"\"}]}):i.setFieldsValue({urls:h,name:o})}).catch(h=>{C.current===p&&(console.error(h),c.message.error(\"\\u52A0\\u8F7D\\u914D\\u7F6E\\u5931\\u8D25\"))}).finally(()=>{C.current===p&&s(!1)})):i.setFieldsValue({name:o})},[e,r,o,u,f,m,i,d]);let w=async()=>{let p;try{p=await i.validateFields()}catch(h){return}try{if(s(!0),u)if(f){let h={},O=[],y=[];p.channels&&p.channels.length>0&&p.channels.forEach(T=>{T.id&&(T.name&&(h[T.id]=T.name),O.push(T.id),r===\"nodejs_tgchannel\"&&y.push(T.id))});let v=k({url:p.url,count:F(p.count),pic:p.pic,channelNameMap:h,channelUsername:O},r===\"nodejs_tgchannel\"?{homeChannelUsername:y}:{});await _.put(d.api,v)}else if(m){let h={sources:p.sources||[]};await _.put(d.api,h)}else await _.put(d.api,p.urls);c.message.success(\"\\u4FDD\\u5B58\\u6210\\u529F\"),n(p.name),t()}catch(h){console.error(h),c.message.error(\"\\u4FDD\\u5B58\\u5931\\u8D25\\uFF1A\".concat((h==null?void 0:h.message)||\"\\u8BF7\\u6C42\\u5931\\u8D25\"))}finally{s(!1)}},b=async()=>{if(u)try{s(!0),await _.delete(d.api);let p=await _.get(d.api);if(f){let h=[],O=new Set;p.channelNameMap&&Object.keys(p.channelNameMap).forEach(y=>O.add(y)),p.channelUsername&&p.channelUsername.forEach(y=>O.add(y)),p.homeChannelUsername&&p.homeChannelUsername.forEach(y=>O.add(y)),O.forEach(y=>{var v;h.push({id:y,name:((v=p.channelNameMap)==null?void 0:v[y])||\"\"})}),i.setFieldsValue({url:p.url,count:g(p==null?void 0:p.count),pic:p.pic,channels:h.length>0?h:[{id:\"\",name:\"\"}]})}else m?i.setFieldsValue({sources:p.sources||[{name:\"\",url:\"\"}]}):i.setFieldsValue({urls:p});c.message.success(\"\\u91CD\\u7F6E\\u6210\\u529F\")}catch(p){console.error(p),c.message.error(\"\\u91CD\\u7F6E\\u5931\\u8D25\\uFF1A\".concat(p==null?void 0:p.message))}finally{s(!1)}};return a.default.createElement(c.Modal,{title:\"\\u7F16\\u8F91 \".concat(o||(d==null?void 0:d.name)||\"\"),open:e,onCancel:t,className:\"ios-modal domain-edit-modal\",footer:null,width:\"90%\",destroyOnClose:!0},a.default.createElement(c.Form,{form:i,layout:\"vertical\",requiredMark:!1,colon:!1},a.default.createElement(c.Form.Item,{label:\"\\u540D\\u79F0\",name:\"name\",rules:[{required:!0,message:\"\\u8BF7\\u8F93\\u5165\\u540D\\u79F0\"}]},a.default.createElement(c.Input,{placeholder:\"\\u8BF7\\u8F93\\u5165\\u540D\\u79F0\",className:\"domain-edit-aligned-input\"})),u&&!f&&!m&&a.default.createElement(a.default.Fragment,null,a.default.createElement(c.Form.List,{name:\"urls\",rules:[{required:!0,message:\"\\u8BF7\\u6DFB\\u52A0\\u57DF\\u540D\"}]},(p,{add:h,remove:O},{errors:y})=>a.default.createElement(a.default.Fragment,null,p.map((v,T)=>a.default.createElement(c.Form.Item,{label:T===0?\"\\u57DF\\u540D\":null,required:!1,key:v.key,style:{marginBottom:12}},a.default.createElement(\"div\",{className:\"domain-list-row\"},a.default.createElement(c.Form.Item,N(k({},v),{validateTrigger:[\"onChange\",\"onBlur\"],rules:[{required:!0,whitespace:!0,message:\"\\u8BF7\\u8F93\\u5165\\u57DF\\u540D\"}],noStyle:!0}),a.default.createElement(c.Input,{placeholder:\"\\u8BF7\\u8F93\\u5165\\u57DF\\u540D\",className:\"domain-list-input\"})),a.default.createElement(\"span\",{className:\"domain-list-action\".concat(p.length>1?\"\":\" domain-list-action--placeholder\")},p.length>1?a.default.createElement(qe,{className:\"dynamic-delete-button\",onClick:()=>O(v.name)}):null)))),a.default.createElement(c.Form.Item,{label:null},a.default.createElement(c.Button,{type:\"dashed\",onClick:()=>h(),className:\"domain-edit-add-button\",icon:a.default.createElement(Re,null)},\"\\u6DFB\\u52A0\\u57DF\\u540D\"),a.default.createElement(c.Form.ErrorList,{errors:y}))))),u&&f&&a.default.createElement(a.default.Fragment,null,a.default.createElement(c.Form.Item,{label:\"TG\\u57DF\\u540D\",name:\"url\",rules:[{required:!0,message:\"\\u8BF7\\u8F93\\u5165TG\\u57DF\\u540D\"}]},a.default.createElement(c.Input,{placeholder:\"\\u8BF7\\u8F93\\u5165TG\\u57DF\\u540D\",className:\"domain-edit-aligned-input\"})),a.default.createElement(c.Form.Item,{label:\"\\u5355\\u9891\\u9053\\u8D44\\u6E90\\u6570\\u91CF\",name:\"count\"},a.default.createElement(c.InputNumber,{min:1,placeholder:\"\\u7559\\u7A7A\\u8868\\u793A\\u4E0D\\u9650\\u5236\",className:\"domain-edit-aligned-input\"})),a.default.createElement(c.Form.List,{name:\"channels\",rules:[{validator:async(p,h)=>{if(!h||h.length===0)return Promise.reject(new Error(\"\\u8BF7\\u81F3\\u5C11\\u6DFB\\u52A0\\u4E00\\u4E2A\\u9891\\u9053\"))}}]},(p,{add:h,remove:O},{errors:y})=>a.default.createElement(a.default.Fragment,null,p.map((v,T)=>a.default.createElement(c.Form.Item,{label:T===0?\"\\u9891\\u9053\\u5217\\u8868\":\"\",required:!1,key:v.key,style:{marginBottom:12}},a.default.createElement(\"div\",{className:\"domain-list-row\"},a.default.createElement(c.Form.Item,N(k({},v),{name:[v.name,\"name\"],style:{marginBottom:0,flex:\"1\"}}),a.default.createElement(c.Input,{placeholder:\"\\u540D\\u79F0\"})),a.default.createElement(c.Form.Item,N(k({},v),{name:[v.name,\"id\"],rules:[{required:!0,whitespace:!0,message:\"\\u8BF7\\u8F93\\u5165\\u9891\\u9053ID\"}],style:{marginBottom:0,flex:\"1\"}}),a.default.createElement(c.Input,{placeholder:\"\\u9891\\u9053ID\"})),a.default.createElement(\"span\",{className:\"domain-list-action\".concat(p.length>1?\"\":\" domain-list-action--placeholder\")},p.length>1?a.default.createElement(qe,{className:\"dynamic-delete-button\",onClick:()=>O(v.name)}):null)))),a.default.createElement(c.Form.Item,{label:\"\"},a.default.createElement(c.Button,{type:\"dashed\",onClick:()=>h({id:\"\",name:\"\"}),className:\"domain-edit-add-button\",icon:a.default.createElement(Re,null)},\"\\u6DFB\\u52A0\\u9891\\u9053\"),a.default.createElement(c.Form.ErrorList,{errors:y})))),a.default.createElement(c.Form.Item,{label:\"\\u663E\\u793A\\u56FE\\u7247\",name:\"pic\",valuePropName:\"checked\"},a.default.createElement(c.Switch,null))),u&&m&&a.default.createElement(a.default.Fragment,null,a.default.createElement(c.Form.List,{name:\"sources\",rules:[{validator:async(p,h)=>{if(!h||h.length===0)return Promise.reject(new Error(\"\\u8BF7\\u81F3\\u5C11\\u6DFB\\u52A0\\u4E00\\u4E2A\\u76F4\\u64AD\\u6E90\"))}}]},(p,{add:h,remove:O},{errors:y})=>a.default.createElement(a.default.Fragment,null,p.map((v,T)=>a.default.createElement(c.Form.Item,{label:T===0?\"\\u76F4\\u64AD\\u6E90\\u5217\\u8868\":\"\",required:!1,key:v.key,style:{marginBottom:12}},a.default.createElement(\"div\",{className:\"domain-list-row\"},a.default.createElement(c.Form.Item,N(k({},v),{name:[v.name,\"name\"],rules:[{required:!0,whitespace:!0,message:\"\\u8BF7\\u8F93\\u5165\\u540D\\u79F0\"}],style:{marginBottom:0,flex:\"1\"}}),a.default.createElement(c.Input,{placeholder:\"\\u540D\\u79F0\"})),a.default.createElement(c.Form.Item,N(k({},v),{name:[v.name,\"url\"],rules:[{required:!0,whitespace:!0,message:\"\\u8BF7\\u8F93\\u5165\\u76F4\\u64AD\\u6E90URL\"}],style:{marginBottom:0,flex:\"2\"}}),a.default.createElement(c.Input,{placeholder:\"\\u76F4\\u64AD\\u6E90URL (m3u/txt)\"})),a.default.createElement(\"span\",{className:\"domain-list-action\".concat(p.length>1?\"\":\" domain-list-action--placeholder\")},p.length>1?a.default.createElement(qe,{className:\"dynamic-delete-button\",onClick:()=>O(v.name)}):null)))),a.default.createElement(c.Form.Item,{label:\"\"},a.default.createElement(c.Button,{type:\"dashed\",onClick:()=>h({name:\"\",url:\"\"}),className:\"domain-edit-add-button\",icon:a.default.createElement(Re,null)},\"\\u6DFB\\u52A0\\u76F4\\u64AD\\u6E90\"),a.default.createElement(c.Form.ErrorList,{errors:y}))))),a.default.createElement(c.Form.Item,{label:null},a.default.createElement(\"div\",{className:\"ios-button-group\"},a.default.createElement(\"button\",{className:\"action-btn action-btn--primary\",onClick:w,disabled:l},\"\\u4FDD\\u5B58\"),u&&a.default.createElement(\"button\",{className:\"action-btn action-btn--danger\",onClick:b,disabled:l},\"\\u91CD\\u7F6E\")))))}function ms(){let[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!1),[o,i]=(0,a.useState)(!1),[l,s]=(0,a.useState)(null),d=b=>{s(b),b.key===\"nodejs_pansou\"?i(!0):r(!0)},u=b=>{if(l){let p=e.findIndex(h=>h.key===l.key);p!==-1&&(e[p].name=b,t([...e]))}},f=(0,a.useMemo)(()=>[{title:\"\",dataIndex:\"drag\",width:40,render(b,p){return a.default.createElement(Ea,{rowKey:p.key})}},{title:\"\\u7AD9\\u6E90\",dataIndex:\"name\",render(b,p){return a.default.createElement(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:\"8px\",flexWrap:\"wrap\"}},a.default.createElement(\"span\",{style:{flex:1}},b),p.t4&&a.default.createElement(c.Tag,{className:\"ios-tag\"},\"T4\"),p.cms&&a.default.createElement(c.Tag,{className:\"ios-tag\"},\"CMS\"))}},{title:\"\\u542F\\u7528\",dataIndex:\"enable\",render(b,p,h){return a.default.createElement(c.Switch,{value:b,onChange:O=>{e[h].enable=O,t([...e])}})},width:80},{title:\"\\u64CD\\u4F5C\",dataIndex:\"action\",width:60,render(b,p){return a.default.createElement(c.Button,{type:\"text\",className:\"ios-edit-btn\",icon:a.default.createElement(Kt,null),onClick:()=>d(p),size:\"small\"})}}],[e]),m=Xn(Ft(Ke,{activationConstraint:{distance:1}}),Ft(lt,{activationConstraint:{delay:150,tolerance:5}})),C=({active:b,over:p})=>{b.id!==(p==null?void 0:p.id)&&t(h=>{let O=h.findIndex(v=>v.key===b.id),y=h.findIndex(v=>v.key===(p==null?void 0:p.id));return Et(h,O,y)})},g=async()=>{let p=(await dt.default.get(\"/full-config\")).data.video.sites,h=await _.get(\"/sites/list\"),O={},y={};p.forEach(T=>{y[T.key]=T});let v=h.filter(T=>(O[T.key]=!0,y[T.key])).map(T=>{let D=y[T.key];return{key:T.key,name:T.name||D.name,enable:T.enable,t4:D.t4,cms:D.cms}});p.forEach(T=>{O[T.key]||v.push({key:T.key,name:T.name,enable:!0,t4:T.t4,cms:T.cms})}),t(v)},F=async()=>{try{await _.put(\"/sites/list\",{list:e}),c.message.success({content:a.default.createElement(a.default.Fragment,null,\"\\u8BBE\\u7F6E\\u6210\\u529F\",a.default.createElement(\"br\",null),\"\\u9700\\u91CD\\u65B0\\u52A0\\u8F7D\\u6E90\\uFF01\",a.default.createElement(\"br\",null),\"\\u9700\\u91CD\\u65B0\\u52A0\\u8F7D\\u6E90\\uFF01\",a.default.createElement(\"br\",null),\"\\u9700\\u91CD\\u65B0\\u52A0\\u8F7D\\u6E90\\uFF01\",a.default.createElement(\"br\",null)),duration:5})}catch(b){console.error(b),c.message.error(\"\\u8BBE\\u7F6E\\u5931\\u8D25\\uFF1A\".concat(b==null?void 0:b.message))}},w=async()=>{try{await _.delete(\"/sites/list\"),g(),c.message.success(\"\\u91CD\\u7F6E\\u6210\\u529F\")}catch(b){console.error(b),c.message.error(\"\\u91CD\\u7F6E\\u5931\\u8D25\\uFF1A\".concat(b==null?void 0:b.message))}};return(0,a.useEffect)(()=>{g()},[]),a.default.createElement(\"div\",null,a.default.createElement(Zn,{sensors:m,modifiers:[Qn],onDragEnd:C},a.default.createElement(er,{items:e.map(b=>b.key),strategy:Jn},a.default.createElement(c.Table,{components:{body:{row:Fa}},rowKey:\"key\",columns:f,dataSource:e,pagination:!1,className:\"sites-table\"}))),a.default.createElement(\"div\",{className:\"ios-button-group\"},a.default.createElement(\"button\",{className:\"action-btn action-btn--primary\",onClick:F},\"\\u4FDD\\u5B58\"),a.default.createElement(\"button\",{className:\"action-btn action-btn--danger\",onClick:w},\"\\u91CD\\u7F6E\")),a.default.createElement(ps,{visible:n,onCancel:()=>r(!1),onSave:u,siteKey:l==null?void 0:l.key,siteName:l==null?void 0:l.name}),a.default.createElement(fs,{visible:o,onCancel:()=>i(!1),onSave:u,siteName:l==null?void 0:l.name}))}function xs(){let[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!1),[o,i]=(0,a.useState)(null),l=(0,a.useMemo)(()=>[{title:\"\",dataIndex:\"drag\",width:40,render(g,F){return a.default.createElement(Ea,{rowKey:F.key})}},{title:\"\\u7F51\\u76D8\",dataIndex:\"name\",render(g,F){return a.default.createElement(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:\"8px\",flexWrap:\"wrap\"}},a.default.createElement(\"span\",{style:{flex:1}},g),(F.key===\"quark\"||F.key===\"uc\")&&F.chunkSize&&a.default.createElement(c.Tag,{className:\"ios-tag\"},F.chunkSize,\"KB/\",F.poolSize,\"\\u7EBF\\u7A0B\"))}},{title:\"\\u542F\\u7528\",dataIndex:\"enable\",render(g,F,w){return a.default.createElement(c.Switch,{value:g,onChange:b=>{e[w].enable=b,t([...e])}})},width:80},{title:\"\\u64CD\\u4F5C\",dataIndex:\"action\",width:60,render(g,F,w){return F.key===\"quark\"||F.key===\"uc\"?a.default.createElement(c.Button,{type:\"text\",className:\"ios-edit-btn\",icon:a.default.createElement(Kt,null),onClick:()=>{i(N(k({},F),{index:w})),r(!0)},size:\"small\"}):null}}],[e]),s=Xn(Ft(Ke,{activationConstraint:{distance:1}}),Ft(lt,{activationConstraint:{delay:150,tolerance:5}})),d=({active:g,over:F})=>{g.id!==(F==null?void 0:F.id)&&t(w=>{let b=w.findIndex(h=>h.key===g.id),p=w.findIndex(h=>h.key===(F==null?void 0:F.id));return Et(w,b,p)})},u=async()=>{let g=await _.get(\"/pans/list\");t(g)},f=async()=>{try{await _.put(\"/pans/list\",{list:e}),c.message.success({content:a.default.createElement(a.default.Fragment,null,\"\\u8BBE\\u7F6E\\u6210\\u529F\",a.default.createElement(\"br\",null),a.default.createElement(\"span\",{style:{fontSize:\"12px\",color:\"#999\"}},\"\\u914D\\u7F6E\\u5DF2\\u4FDD\\u5B58\\u5E76\\u7ACB\\u5373\\u751F\\u6548\")),duration:2})}catch(g){console.error(g),c.message.error(\"\\u8BBE\\u7F6E\\u5931\\u8D25\\uFF1A\".concat(g==null?void 0:g.message))}},m=async()=>{try{await _.delete(\"/pans/list\"),u(),c.message.success(\"\\u91CD\\u7F6E\\u6210\\u529F\")}catch(g){console.error(g),c.message.error(\"\\u91CD\\u7F6E\\u5931\\u8D25\\uFF1A\".concat(g==null?void 0:g.message))}},C=g=>{e[o.index]=N(k({},e[o.index]),{chunkSize:g.chunkSize,poolSize:g.poolSize}),t([...e]),r(!1),c.message.info('\\u914D\\u7F6E\\u5DF2\\u66F4\\u65B0\\uFF0C\\u8BF7\\u70B9\\u51FB\\u4E0B\\u65B9\"\\u4FDD\\u5B58\"\\u6309\\u94AE\\u4FDD\\u5B58\\u914D\\u7F6E')};return(0,a.useEffect)(()=>{u()},[]),a.default.createElement(\"div\",null,a.default.createElement(Zn,{sensors:s,modifiers:[Qn],onDragEnd:d},a.default.createElement(er,{items:e.map(g=>g.key),strategy:Jn},a.default.createElement(c.Table,{components:{body:{row:Fa}},rowKey:\"key\",columns:l,dataSource:e,pagination:!1,className:\"sites-table\"}))),a.default.createElement(\"div\",{className:\"ios-button-group\"},a.default.createElement(\"button\",{className:\"action-btn action-btn--primary\",onClick:f},\"\\u4FDD\\u5B58\"),a.default.createElement(\"button\",{className:\"action-btn action-btn--danger\",onClick:m},\"\\u91CD\\u7F6E\")),a.default.createElement(ds,{visible:n,onCancel:()=>r(!1),onSave:C,panKey:o==null?void 0:o.key,panName:o==null?void 0:o.name,chunkSize:o==null?void 0:o.chunkSize,poolSize:o==null?void 0:o.poolSize}))}function gs(){let[e]=c.Form.useForm(),t=\"/danmu/setting\",n=async()=>{let i=await _.get(t);e.setFieldsValue(i)},r=async()=>{let i=await e.validateFields();try{await _.put(t,i),c.message.success(\"\\u4FDD\\u5B58\\u6210\\u529F\")}catch(l){console.error(l),c.message.error(\"\\u4FDD\\u5B58\\u5931\\u8D25\\uFF1A\".concat(l==null?void 0:l.message))}},o=async()=>{try{await _.delete(t),n(),c.message.success(\"\\u91CD\\u7F6E\\u6210\\u529F\")}catch(i){console.error(i),c.message.error(\"\\u91CD\\u7F6E\\u5931\\u8D25\\uFF1A\".concat(i==null?void 0:i.message))}};return(0,a.useEffect)(()=>{n()},[]),a.default.createElement(c.Form,{form:e,layout:\"vertical\",style:{maxWidth:600},className:\"ios-form\"},a.default.createElement(c.Alert,{message:\"\\u5F00\\u542F\\u81EA\\u52A8\\u63A8\\u9001\\u65F6\\uFF0C\\u81EA\\u52A8\\u9009\\u53D6\\u6700\\u5FEB\\u54CD\\u5E94\\u7684API\",type:\"info\",className:\"ios-alert\",style:{marginBottom:24}}),a.default.createElement(c.Form.Item,{label:\"API \\u5217\\u8868\",style:{marginBottom:8}},a.default.createElement(c.Form.List,{name:\"urls\",rules:[{required:!0,message:\"\\u8BF7\\u6DFB\\u52A0API\\u5730\\u5740\"}]},(i,{add:l,remove:s},{errors:d})=>a.default.createElement(\"div\",{style:{display:\"flex\",flexDirection:\"column\",gap:12}},i.map(u=>a.default.createElement(\"div\",{key:u.key,className:\"domain-list-row\"},a.default.createElement(c.Form.Item,N(k({},u),{name:[u.name,\"address\"],validateTrigger:[\"onChange\",\"onBlur\"],rules:[{required:!0,whitespace:!0,message:\"\\u8BF7\\u8F93\\u5165API\\u5730\\u5740\"}],style:{flex:1,marginBottom:0}}),a.default.createElement(c.Input,{placeholder:\"\\u8BF7\\u8F93\\u5165API\\u5730\\u5740\"})),a.default.createElement(c.Form.Item,N(k({},u),{name:[u.name,\"name\"],validateTrigger:[\"onChange\",\"onBlur\"],style:{width:100,marginBottom:0,flexShrink:0}}),a.default.createElement(c.Input,{placeholder:\"\\u522B\\u540D\"})),a.default.createElement(\"span\",{className:\"domain-list-action\".concat(i.length>1?\"\":\" domain-list-action--placeholder\")},i.length>1?a.default.createElement(qe,{className:\"dynamic-delete-button\",onClick:()=>s(u.name)}):null))),a.default.createElement(c.Button,{type:\"dashed\",onClick:()=>l(),block:!0,icon:a.default.createElement(Re,null)},\"\\u6DFB\\u52A0 API\"),a.default.createElement(c.Form.ErrorList,{errors:d})))),a.default.createElement(c.Form.Item,{label:\"\\u81EA\\u52A8\\u63A8\\u9001\",name:\"autoPush\",valuePropName:\"checked\",style:{marginBottom:16}},a.default.createElement(c.Switch,null)),a.default.createElement(c.Form.Item,{label:\"\\u8C03\\u8BD5\\u4FE1\\u606F\",name:\"debug\",valuePropName:\"checked\",tooltip:\"\\u5F00\\u542F\\u540E\\u5728\\u63A7\\u5236\\u53F0\\u663E\\u793A\\u8BE6\\u7EC6\\u7684\\u5F39\\u5E55\\u5339\\u914D\\u8C03\\u8BD5\\u4FE1\\u606F\",style:{marginBottom:24}},a.default.createElement(c.Switch,null)),a.default.createElement(c.Form.Item,{style:{marginBottom:0}},a.default.createElement(\"div\",{className:\"ios-button-group\"},a.default.createElement(\"button\",{className:\"action-btn action-btn--primary\",onClick:r},\"\\u4FDD\\u5B58\"),a.default.createElement(\"button\",{className:\"action-btn action-btn--danger\",onClick:o},\"\\u91CD\\u7F6E\"))))}function hs(){let[e,t]=(0,a.useState)(\"account\"),n={accept:\".json\",showUploadList:!1,beforeUpload(i){let l=new FileReader;return l.onload=async s=>{try{let d=JSON.parse(s.target.result);await _.put(\"/backup\",d),c.message.success(\"\".concat(i.name,\"\\u5BFC\\u5165\\u6210\\u529F\"))}catch(d){c.message.error(\"\".concat(i.name,\"\\u5BFC\\u5165\\u5931\\u8D25: \").concat(d.message)),console.error(\"Error parsing JSON:\",d)}},l.readAsText(i),!1}},r=[{key:\"account\",label:\"\\u767B\\u5F55\",icon:a.default.createElement(Rn,null)},{key:\"settings\",label:\"\\u8BBE\\u7F6E\",icon:a.default.createElement(qn,null)}],o=()=>{switch(e){case\"account\":return a.default.createElement(c.Tabs,{destroyInactiveTabPane:!0},a.default.createElement(ve,{tab:\"\\u5938\\u514B\",key:\"quark\"},a.default.createElement(Nt,{qrcodeUrl:\"/quark/qrcode\",cacheUrl:\"/quark/cookie\",checkStatusUrl:\"/quark/check-status\"})),a.default.createElement(ve,{tab:\"UC\",key:\"uc-cookie\"},a.default.createElement(Nt,{qrcodeUrl:\"/uc/qrcode\",cacheUrl:\"/uc/cookie\",checkStatusUrl:\"/uc/check-status\"})),a.default.createElement(ve,{tab:\"UT\",key:\"uc-token\"},a.default.createElement(Nt,{qrcodeUrl:\"/uc-tv/qrcode\",cacheUrl:\"/uc-tv/token\",checkStatusUrl:\"/uc-tv/check-status\"})),a.default.createElement(ve,{tab:\"115\",key:\"115\"},a.default.createElement(Nt,{qrcodeUrl:\"/115/qrcode\",cacheUrl:\"/115/cookie\",checkStatusUrl:\"/115/check-status\"})),a.default.createElement(ve,{tab:\"\\u767E\\u5EA6\",key:\"baidu\"},a.default.createElement(Nt,{qrcodeUrl:\"/baidu/qrcode\",cacheUrl:\"/baidu/cookie\",checkStatusUrl:\"/baidu/check-status\"})),a.default.createElement(ve,{tab:\"\\u5929\\u7FFC\",key:\"tianyi\"},a.default.createElement(Ta,{api:\"/tianyi/account\"})),a.default.createElement(ve,{tab:\"123\",key:\"123\"},a.default.createElement(Ta,{api:\"/pan123/account\"})));case\"settings\":return a.default.createElement(c.Tabs,{destroyOnHidden:!0},a.default.createElement(ve,{tab:\"\\u7AD9\\u6E90\\u5217\\u8868\",key:\"sites\"},a.default.createElement(ms,null)),a.default.createElement(ve,{tab:\"\\u7F51\\u76D8\\u5217\\u8868\",key:\"pans\"},a.default.createElement(xs,null)),a.default.createElement(ve,{tab:\"\\u5F39\\u5E55\\u8BBE\\u7F6E\",key:\"danmu\"},a.default.createElement(gs,null)));default:return null}};return a.default.createElement(\"div\",{className:\"app-layout\"},a.default.createElement(\"div\",{className:\"top-nav-bar\"},a.default.createElement(\"div\",{className:\"nav-pill\"},r.map(i=>a.default.createElement(\"div\",{key:i.key,className:\"nav-tab \".concat(e===i.key?\"nav-tab--active\":\"\"),onClick:()=>t(i.key)},i.icon,a.default.createElement(\"span\",null,i.label))),a.default.createElement(\"div\",{className:\"nav-divider\"}),a.default.createElement(\"div\",{className:\"nav-actions\"},a.default.createElement(c.Upload,k({},n),a.default.createElement(c.Button,{type:\"text\",icon:a.default.createElement(zn,null),size:\"small\"},\"\\u5BFC\\u5165\")),a.default.createElement(c.Button,{type:\"text\",icon:a.default.createElement(Bn,null),size:\"small\",href:\"/website/backup\",target:\"_blank\"},\"\\u5BFC\\u51FA\")))),a.default.createElement(\"div\",{className:\"container\"},a.default.createElement(c.Card,{className:\"main-card\"},o())))}function bs(){(0,Sa.createRoot)(document.getElementById(\"app\")).render(a.default.createElement(hs,null))}\n/*! Bundled license information:\n\nclassnames/index.js:\n  (*!\n  \tCopyright (c) 2018 Jed Watson.\n  \tLicensed under the MIT License (MIT), see\n  \thttp://jedwatson.github.io/classnames\n  *)\n*/\n"}
      module.exports.renderClient();
    })();
  `;
}();



globalThis.danmuBundle = function() {
  return `
    (function() {
      const exports = {};
      const module = { exports };
      ${"var Bt=Object.create;var R=Object.defineProperty,Lt=Object.defineProperties,Nt=Object.getOwnPropertyDescriptor,Ht=Object.getOwnPropertyDescriptors,qt=Object.getOwnPropertyNames,pe=Object.getOwnPropertySymbols,Ut=Object.getPrototypeOf,ce=Object.prototype.hasOwnProperty,jt=Object.prototype.propertyIsEnumerable;var xe=(t,e,r)=>e in t?R(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,he=(t,e)=>{for(var r in e||(e={}))ce.call(e,r)&&xe(t,r,e[r]);if(pe)for(var r of pe(e))jt.call(e,r)&&xe(t,r,e[r]);return t},Oe=(t,e)=>Lt(t,Ht(e));var D=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Wt=(t,e)=>{for(var r in e)R(t,r,{get:e[r],enumerable:!0})},ge=(t,e,r,o)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of qt(e))!ce.call(t,a)&&a!==r&&R(t,a,{get:()=>e[a],enumerable:!(o=Nt(e,a))||o.enumerable});return t};var T=(t,e,r)=>(r=t!=null?Bt(Ut(t)):{},ge(e||!t||!t.__esModule?R(r,\"default\",{value:t,enumerable:!0}):r,t)),Vt=t=>ge(R({},\"__esModule\",{value:!0}),t);var C=D((vr,Te)=>{Te.exports=window.React});var be=D((Sr,we)=>{we.exports=window.ReactDOM});var Ce=D(X=>{\"use strict\";var Fe=be();X.createRoot=Fe.createRoot,X.hydrateRoot=Fe.hydrateRoot;var kr});var ve=D((Ar,ye)=>{ye.exports=window.antd});var Ee=D((eo,H)=>{(function(){\"use strict\";var t={}.hasOwnProperty;function e(){for(var a=\"\",l=0;l<arguments.length;l++){var n=arguments[l];n&&(a=o(a,r(n)))}return a}function r(a){if(typeof a==\"string\"||typeof a==\"number\")return a;if(typeof a!=\"object\")return\"\";if(Array.isArray(a))return e.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes(\"[native code]\"))return a.toString();var l=\"\";for(var n in a)t.call(a,n)&&a[n]&&(l=o(l,n));return l}function o(a,l){return l?a?a+\" \"+l:a+l:a}typeof H<\"u\"&&H.exports?(e.default=e,H.exports=e):typeof define==\"function\"&&typeof define.amd==\"object\"&&define.amd?define(\"classnames\",[],function(){return e}):window.classNames=e})()});var Mt=D((ia,Rt)=>{Rt.exports=window.axios});var Cr={};Wt(Cr,{Danmu:()=>Et,renderDanmu:()=>Fr});module.exports=Vt(Cr);var s=T(C(),1),_t=T(Ce(),1),x=T(ve(),1);var Se=T(C()),zt=(0,Se.createContext)({}),B=zt;function y(){return y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)({}).hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},y.apply(null,arguments)}function ke(t){if(Array.isArray(t))return t}function Pe(t,e){var r=t==null?null:typeof Symbol<\"u\"&&t[Symbol.iterator]||t[\"@@iterator\"];if(r!=null){var o,a,l,n,u=[],f=!0,i=!1;try{if(l=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(o=l.call(r)).done)&&(u.push(o.value),u.length!==e);f=!0);}catch(m){i=!0,a=m}finally{try{if(!f&&r.return!=null&&(n=r.return(),Object(n)!==n))return}finally{if(i)throw a}}return u}}function ee(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,o=Array(e);r<e;r++)o[r]=t[r];return o}function Ae(t,e){if(t){if(typeof t==\"string\")return ee(t,e);var r={}.toString.call(t).slice(8,-1);return r===\"Object\"&&t.constructor&&(r=t.constructor.name),r===\"Map\"||r===\"Set\"?Array.from(t):r===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ee(t,e):void 0}}function De(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function L(t,e){return ke(t)||Pe(t,e)||Ae(t,e)||De()}function w(t){\"@babel/helpers - typeof\";return w=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(e){return typeof e}:function(e){return e&&typeof Symbol==\"function\"&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},w(t)}function Re(t,e){if(w(t)!=\"object\"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var o=r.call(t,e||\"default\");if(w(o)!=\"object\")return o;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(e===\"string\"?String:Number)(t)}function Me(t){var e=Re(t,\"string\");return w(e)==\"symbol\"?e:e+\"\"}function h(t,e,r){return(e=Me(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _e(t,e){if(t==null)return{};var r={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)!==-1)continue;r[o]=t[o]}return r}function N(t,e){if(t==null)return{};var r,o,a=_e(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)r=l[o],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}var k=T(C()),Pt=T(Ee());var O=Math.round;function te(t,e){let r=t.replace(/^[^(]*\\((.*)/,\"$1\").replace(/\\).*/,\"\").match(/\\d*\\.?\\d+%?/g)||[],o=r.map(a=>parseFloat(a));for(let a=0;a<3;a+=1)o[a]=e(o[a]||0,r[a]||\"\",a);return r[3]?o[3]=r[3].includes(\"%\")?o[3]/100:o[3]:o[3]=1,o}var Ie=(t,e,r)=>r===0?t:t/100;function M(t,e){let r=e||255;return t>r?r:t<0?0:t}var v=class t{constructor(e){h(this,\"isValid\",!0),h(this,\"r\",0),h(this,\"g\",0),h(this,\"b\",0),h(this,\"a\",1),h(this,\"_h\",void 0),h(this,\"_s\",void 0),h(this,\"_l\",void 0),h(this,\"_v\",void 0),h(this,\"_max\",void 0),h(this,\"_min\",void 0),h(this,\"_brightness\",void 0);function r(o){return o[0]in e&&o[1]in e&&o[2]in e}if(e)if(typeof e==\"string\"){let a=function(l){return o.startsWith(l)},o=e.trim();/^#?[A-F\\d]{3,8}$/i.test(o)?this.fromHexString(o):a(\"rgb\")?this.fromRgbString(o):a(\"hsl\")?this.fromHslString(o):(a(\"hsv\")||a(\"hsb\"))&&this.fromHsvString(o)}else if(e instanceof t)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(r(\"rgb\"))this.r=M(e.r),this.g=M(e.g),this.b=M(e.b),this.a=typeof e.a==\"number\"?M(e.a,1):1;else if(r(\"hsl\"))this.fromHsl(e);else if(r(\"hsv\"))this.fromHsv(e);else throw new Error(\"@ant-design/fast-color: unsupported input \"+JSON.stringify(e))}setR(e){return this._sc(\"r\",e)}setG(e){return this._sc(\"g\",e)}setB(e){return this._sc(\"b\",e)}setA(e){return this._sc(\"a\",e,1)}setHue(e){let r=this.toHsv();return r.h=e,this._c(r)}getLuminance(){function e(l){let n=l/255;return n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}let r=e(this.r),o=e(this.g),a=e(this.b);return .2126*r+.7152*o+.0722*a}getHue(){if(typeof this._h>\"u\"){let e=this.getMax()-this.getMin();e===0?this._h=0:this._h=O(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>\"u\"){let e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>\"u\"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>\"u\"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>\"u\"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){let r=this.getHue(),o=this.getSaturation(),a=this.getLightness()-e/100;return a<0&&(a=0),this._c({h:r,s:o,l:a,a:this.a})}lighten(e=10){let r=this.getHue(),o=this.getSaturation(),a=this.getLightness()+e/100;return a>1&&(a=1),this._c({h:r,s:o,l:a,a:this.a})}mix(e,r=50){let o=this._c(e),a=r/100,l=u=>(o[u]-this[u])*a+this[u],n={r:O(l(\"r\")),g:O(l(\"g\")),b:O(l(\"b\")),a:O(l(\"a\")*100)/100};return this._c(n)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){let r=this._c(e),o=this.a+r.a*(1-this.a),a=l=>O((this[l]*this.a+r[l]*r.a*(1-this.a))/o);return this._c({r:a(\"r\"),g:a(\"g\"),b:a(\"b\"),a:o})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e=\"#\",r=(this.r||0).toString(16);e+=r.length===2?r:\"0\"+r;let o=(this.g||0).toString(16);e+=o.length===2?o:\"0\"+o;let a=(this.b||0).toString(16);if(e+=a.length===2?a:\"0\"+a,typeof this.a==\"number\"&&this.a>=0&&this.a<1){let l=O(this.a*255).toString(16);e+=l.length===2?l:\"0\"+l}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){let e=this.getHue(),r=O(this.getSaturation()*100),o=O(this.getLightness()*100);return this.a!==1?\"hsla(\".concat(e,\",\").concat(r,\"%,\").concat(o,\"%,\").concat(this.a,\")\"):\"hsl(\".concat(e,\",\").concat(r,\"%,\").concat(o,\"%)\")}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?\"rgba(\".concat(this.r,\",\").concat(this.g,\",\").concat(this.b,\",\").concat(this.a,\")\"):\"rgb(\".concat(this.r,\",\").concat(this.g,\",\").concat(this.b,\")\")}toString(){return this.toRgbString()}_sc(e,r,o){let a=this.clone();return a[e]=M(r,o),a}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>\"u\"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>\"u\"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){let r=e.replace(\"#\",\"\");function o(a,l){return parseInt(r[a]+r[l||a],16)}r.length<6?(this.r=o(0),this.g=o(1),this.b=o(2),this.a=r[3]?o(3)/255:1):(this.r=o(0,1),this.g=o(2,3),this.b=o(4,5),this.a=r[6]?o(6,7)/255:1)}fromHsl({h:e,s:r,l:o,a}){if(this._h=e%360,this._s=r,this._l=o,this.a=typeof a==\"number\"?a:1,r<=0){let d=O(o*255);this.r=d,this.g=d,this.b=d}let l=0,n=0,u=0,f=e/60,i=(1-Math.abs(2*o-1))*r,m=i*(1-Math.abs(f%2-1));f>=0&&f<1?(l=i,n=m):f>=1&&f<2?(l=m,n=i):f>=2&&f<3?(n=i,u=m):f>=3&&f<4?(n=m,u=i):f>=4&&f<5?(l=m,u=i):f>=5&&f<6&&(l=i,u=m);let p=o-i/2;this.r=O((l+p)*255),this.g=O((n+p)*255),this.b=O((u+p)*255)}fromHsv({h:e,s:r,v:o,a}){this._h=e%360,this._s=r,this._v=o,this.a=typeof a==\"number\"?a:1;let l=O(o*255);if(this.r=l,this.g=l,this.b=l,r<=0)return;let n=e/60,u=Math.floor(n),f=n-u,i=O(o*(1-r)*255),m=O(o*(1-r*f)*255),p=O(o*(1-r*(1-f))*255);switch(u){case 0:this.g=p,this.b=i;break;case 1:this.r=m,this.b=i;break;case 2:this.r=i,this.b=p;break;case 3:this.r=i,this.g=m;break;case 4:this.r=p,this.g=i;break;case 5:default:this.g=i,this.b=m;break}}fromHsvString(e){let r=te(e,Ie);this.fromHsv({h:r[0],s:r[1],v:r[2],a:r[3]})}fromHslString(e){let r=te(e,Ie);this.fromHsl({h:r[0],s:r[1],l:r[2],a:r[3]})}fromRgbString(e){let r=te(e,(o,a)=>a.includes(\"%\")?O(o/100*255):o);this.r=r[0],this.g=r[1],this.b=r[2],this.a=r[3]}};var q=2,Be=.16,Gt=.05,$t=.05,Qt=.15,qe=5,Ue=4,Yt=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function Le(t,e,r){var o;return Math.round(t.h)>=60&&Math.round(t.h)<=240?o=r?Math.round(t.h)-q*e:Math.round(t.h)+q*e:o=r?Math.round(t.h)+q*e:Math.round(t.h)-q*e,o<0?o+=360:o>=360&&(o-=360),o}function Ne(t,e,r){if(t.h===0&&t.s===0)return t.s;var o;return r?o=t.s-Be*e:e===Ue?o=t.s+Be:o=t.s+Gt*e,o>1&&(o=1),r&&e===qe&&o>.1&&(o=.1),o<.06&&(o=.06),Math.round(o*100)/100}function He(t,e,r){var o;return r?o=t.v+$t*e:o=t.v-Qt*e,o=Math.max(0,Math.min(1,o)),Math.round(o*100)/100}function U(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=[],o=new v(t),a=o.toHsv(),l=qe;l>0;l-=1){var n=new v({h:Le(a,l,!0),s:Ne(a,l,!0),v:He(a,l,!0)});r.push(n)}r.push(o);for(var u=1;u<=Ue;u+=1){var f=new v({h:Le(a,u),s:Ne(a,u),v:He(a,u)});r.push(f)}return e.theme===\"dark\"?Yt.map(function(i){var m=i.index,p=i.amount;return new v(e.backgroundColor||\"#141414\").mix(r[m],p).toHexString()}):r.map(function(i){return i.toHexString()})}var je=[\"#fff1f0\",\"#ffccc7\",\"#ffa39e\",\"#ff7875\",\"#ff4d4f\",\"#f5222d\",\"#cf1322\",\"#a8071a\",\"#820014\",\"#5c0011\"];je.primary=je[5];var We=[\"#fff2e8\",\"#ffd8bf\",\"#ffbb96\",\"#ff9c6e\",\"#ff7a45\",\"#fa541c\",\"#d4380d\",\"#ad2102\",\"#871400\",\"#610b00\"];We.primary=We[5];var Ve=[\"#fff7e6\",\"#ffe7ba\",\"#ffd591\",\"#ffc069\",\"#ffa940\",\"#fa8c16\",\"#d46b08\",\"#ad4e00\",\"#873800\",\"#612500\"];Ve.primary=Ve[5];var ze=[\"#fffbe6\",\"#fff1b8\",\"#ffe58f\",\"#ffd666\",\"#ffc53d\",\"#faad14\",\"#d48806\",\"#ad6800\",\"#874d00\",\"#613400\"];ze.primary=ze[5];var Ge=[\"#feffe6\",\"#ffffb8\",\"#fffb8f\",\"#fff566\",\"#ffec3d\",\"#fadb14\",\"#d4b106\",\"#ad8b00\",\"#876800\",\"#614700\"];Ge.primary=Ge[5];var $e=[\"#fcffe6\",\"#f4ffb8\",\"#eaff8f\",\"#d3f261\",\"#bae637\",\"#a0d911\",\"#7cb305\",\"#5b8c00\",\"#3f6600\",\"#254000\"];$e.primary=$e[5];var Qe=[\"#f6ffed\",\"#d9f7be\",\"#b7eb8f\",\"#95de64\",\"#73d13d\",\"#52c41a\",\"#389e0d\",\"#237804\",\"#135200\",\"#092b00\"];Qe.primary=Qe[5];var Ye=[\"#e6fffb\",\"#b5f5ec\",\"#87e8de\",\"#5cdbd3\",\"#36cfc9\",\"#13c2c2\",\"#08979c\",\"#006d75\",\"#00474f\",\"#002329\"];Ye.primary=Ye[5];var j=[\"#e6f4ff\",\"#bae0ff\",\"#91caff\",\"#69b1ff\",\"#4096ff\",\"#1677ff\",\"#0958d9\",\"#003eb3\",\"#002c8c\",\"#001d66\"];j.primary=j[5];var Ze=[\"#f0f5ff\",\"#d6e4ff\",\"#adc6ff\",\"#85a5ff\",\"#597ef7\",\"#2f54eb\",\"#1d39c4\",\"#10239e\",\"#061178\",\"#030852\"];Ze.primary=Ze[5];var Ke=[\"#f9f0ff\",\"#efdbff\",\"#d3adf7\",\"#b37feb\",\"#9254de\",\"#722ed1\",\"#531dab\",\"#391085\",\"#22075e\",\"#120338\"];Ke.primary=Ke[5];var Je=[\"#fff0f6\",\"#ffd6e7\",\"#ffadd2\",\"#ff85c0\",\"#f759ab\",\"#eb2f96\",\"#c41d7f\",\"#9e1068\",\"#780650\",\"#520339\"];Je.primary=Je[5];var Xe=[\"#a6a6a6\",\"#999999\",\"#8c8c8c\",\"#808080\",\"#737373\",\"#666666\",\"#404040\",\"#1a1a1a\",\"#000000\",\"#000000\"];Xe.primary=Xe[5];var et=[\"#2a1215\",\"#431418\",\"#58181c\",\"#791a1f\",\"#a61d24\",\"#d32029\",\"#e84749\",\"#f37370\",\"#f89f9a\",\"#fac8c3\"];et.primary=et[5];var tt=[\"#2b1611\",\"#441d12\",\"#592716\",\"#7c3118\",\"#aa3e19\",\"#d84a1b\",\"#e87040\",\"#f3956a\",\"#f8b692\",\"#fad4bc\"];tt.primary=tt[5];var rt=[\"#2b1d11\",\"#442a11\",\"#593815\",\"#7c4a15\",\"#aa6215\",\"#d87a16\",\"#e89a3c\",\"#f3b765\",\"#f8cf8d\",\"#fae3b7\"];rt.primary=rt[5];var ot=[\"#2b2111\",\"#443111\",\"#594214\",\"#7c5914\",\"#aa7714\",\"#d89614\",\"#e8b339\",\"#f3cc62\",\"#f8df8b\",\"#faedb5\"];ot.primary=ot[5];var at=[\"#2b2611\",\"#443b11\",\"#595014\",\"#7c6e14\",\"#aa9514\",\"#d8bd14\",\"#e8d639\",\"#f3ea62\",\"#f8f48b\",\"#fafab5\"];at.primary=at[5];var lt=[\"#1f2611\",\"#2e3c10\",\"#3e4f13\",\"#536d13\",\"#6f9412\",\"#8bbb11\",\"#a9d134\",\"#c9e75d\",\"#e4f88b\",\"#f0fab5\"];lt.primary=lt[5];var nt=[\"#162312\",\"#1d3712\",\"#274916\",\"#306317\",\"#3c8618\",\"#49aa19\",\"#6abe39\",\"#8fd460\",\"#b2e58b\",\"#d5f2bb\"];nt.primary=nt[5];var ft=[\"#112123\",\"#113536\",\"#144848\",\"#146262\",\"#138585\",\"#13a8a8\",\"#33bcb7\",\"#58d1c9\",\"#84e2d8\",\"#b2f1e8\"];ft.primary=ft[5];var it=[\"#111a2c\",\"#112545\",\"#15325b\",\"#15417e\",\"#1554ad\",\"#1668dc\",\"#3c89e8\",\"#65a9f3\",\"#8dc5f8\",\"#b7dcfa\"];it.primary=it[5];var dt=[\"#131629\",\"#161d40\",\"#1c2755\",\"#203175\",\"#263ea0\",\"#2b4acb\",\"#5273e0\",\"#7f9ef3\",\"#a8c1f8\",\"#d2e0fa\"];dt.primary=dt[5];var ut=[\"#1a1325\",\"#24163a\",\"#301c4d\",\"#3e2069\",\"#51258f\",\"#642ab5\",\"#854eca\",\"#ab7ae0\",\"#cda8f0\",\"#ebd7fa\"];ut.primary=ut[5];var st=[\"#291321\",\"#40162f\",\"#551c3b\",\"#75204f\",\"#a02669\",\"#cb2b83\",\"#e0529c\",\"#f37fb7\",\"#f8a8cc\",\"#fad2e3\"];st.primary=st[5];var mt=[\"#151515\",\"#1f1f1f\",\"#2d2d2d\",\"#393939\",\"#494949\",\"#5a5a5a\",\"#6a6a6a\",\"#7b7b7b\",\"#888888\",\"#969696\"];mt.primary=mt[5];function pt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,o)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pt(Object(r),!0).forEach(function(o){h(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pt(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}var St=T(C());function re(){return!!(typeof window<\"u\"&&window.document&&window.document.createElement)}function oe(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var r=e;r;){if(r===t)return!0;r=r.parentNode}return!1}var xt=\"data-rc-order\",ct=\"data-rc-priority\",Zt=\"rc-util-key\",ae=new Map;function ht(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith(\"data-\")?e:\"data-\".concat(e):Zt}function le(t){if(t.attachTo)return t.attachTo;var e=document.querySelector(\"head\");return e||document.body}function Kt(t){return t===\"queue\"?\"prependQueue\":t?\"prepend\":\"append\"}function ne(t){return Array.from((ae.get(t)||t).children).filter(function(e){return e.tagName===\"STYLE\"})}function Ot(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!re())return null;var r=e.csp,o=e.prepend,a=e.priority,l=a===void 0?0:a,n=Kt(o),u=n===\"prependQueue\",f=document.createElement(\"style\");f.setAttribute(xt,n),u&&l&&f.setAttribute(ct,\"\".concat(l)),r!=null&&r.nonce&&(f.nonce=r==null?void 0:r.nonce),f.innerHTML=t;var i=le(e),m=i.firstChild;if(o){if(u){var p=(e.styles||ne(i)).filter(function(d){if(![\"prepend\",\"prependQueue\"].includes(d.getAttribute(xt)))return!1;var c=Number(d.getAttribute(ct)||0);return l>=c});if(p.length)return i.insertBefore(f,p[p.length-1].nextSibling),f}i.insertBefore(f,m)}else i.appendChild(f);return f}function Jt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=le(e);return(e.styles||ne(r)).find(function(o){return o.getAttribute(ht(e))===t})}function Xt(t,e){var r=ae.get(t);if(!r||!oe(document,r)){var o=Ot(\"\",e),a=o.parentNode;ae.set(t,a),t.removeChild(o)}}function gt(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=le(r),a=ne(o),l=g(g({},r),{},{styles:a});Xt(o,l);var n=Jt(e,l);if(n){var u,f;if((u=l.csp)!==null&&u!==void 0&&u.nonce&&n.nonce!==((f=l.csp)===null||f===void 0?void 0:f.nonce)){var i;n.nonce=(i=l.csp)===null||i===void 0?void 0:i.nonce}return n.innerHTML!==t&&(n.innerHTML=t),n}var m=Ot(t,l);return m.setAttribute(ht(l),e),m}function Tt(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}function er(t){return Tt(t)instanceof ShadowRoot}function wt(t){return er(t)?Tt(t):null}var fe={},tr=[],rr=function(e){tr.push(e)};function or(t,e){if(0)var r}function ar(t,e){if(0)var r}function lr(){fe={}}function bt(t,e,r){!e&&!fe[r]&&(t(!1,r),fe[r]=!0)}function W(t,e){bt(or,t,e)}function nr(t,e){bt(ar,t,e)}W.preMessage=rr;W.resetWarned=lr;W.noteOnce=nr;var Ft=W;var S=T(C());function fr(t){return t.replace(/-(.)/g,function(e,r){return r.toUpperCase()})}function yt(t,e){Ft(t,\"[@ant-design/icons] \".concat(e))}function ie(t){return w(t)===\"object\"&&typeof t.name==\"string\"&&typeof t.theme==\"string\"&&(w(t.icon)===\"object\"||typeof t.icon==\"function\")}function Ct(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,r){var o=t[r];switch(r){case\"class\":e.className=o,delete e.class;break;default:delete e[r],e[fr(r)]=o}return e},{})}function V(t,e,r){return r?S.default.createElement(t.tag,g(g({key:e},Ct(t.attrs)),r),(t.children||[]).map(function(o,a){return V(o,\"\".concat(e,\"-\").concat(t.tag,\"-\").concat(a))})):S.default.createElement(t.tag,g({key:e},Ct(t.attrs)),(t.children||[]).map(function(o,a){return V(o,\"\".concat(e,\"-\").concat(t.tag,\"-\").concat(a))}))}function de(t){return U(t)[0]}function z(t){return t?Array.isArray(t)?t:[t]:[]}var ir=\"\\n.anticon {\\n  display: inline-flex;\\n  align-items: center;\\n  color: inherit;\\n  font-style: normal;\\n  line-height: 0;\\n  text-align: center;\\n  text-transform: none;\\n  vertical-align: -0.125em;\\n  text-rendering: optimizeLegibility;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\n.anticon > * {\\n  line-height: 1;\\n}\\n\\n.anticon svg {\\n  display: inline-block;\\n}\\n\\n.anticon::before {\\n  display: none;\\n}\\n\\n.anticon .anticon-icon {\\n  display: block;\\n}\\n\\n.anticon[tabindex] {\\n  cursor: pointer;\\n}\\n\\n.anticon-spin::before,\\n.anticon-spin {\\n  display: inline-block;\\n  -webkit-animation: loadingCircle 1s infinite linear;\\n  animation: loadingCircle 1s infinite linear;\\n}\\n\\n@-webkit-keyframes loadingCircle {\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n    transform: rotate(360deg);\\n  }\\n}\\n\\n@keyframes loadingCircle {\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n    transform: rotate(360deg);\\n  }\\n}\\n\",vt=function(e){var r=(0,S.useContext)(B),o=r.csp,a=r.prefixCls,l=r.layer,n=ir;a&&(n=n.replace(/anticon/g,a)),l&&(n=\"@layer \".concat(l,\" {\\n\").concat(n,\"\\n}\")),(0,S.useEffect)(function(){var u=e.current,f=wt(u);gt(n,\"@ant-design-icons\",{prepend:!l,csp:o,attachTo:f})},[])};var dr=[\"icon\",\"className\",\"onClick\",\"style\",\"primaryColor\",\"secondaryColor\"],_={primaryColor:\"#333\",secondaryColor:\"#E6E6E6\",calculated:!1};function ur(t){var e=t.primaryColor,r=t.secondaryColor;_.primaryColor=e,_.secondaryColor=r||de(e),_.calculated=!!r}function sr(){return g({},_)}var G=function(e){var r=e.icon,o=e.className,a=e.onClick,l=e.style,n=e.primaryColor,u=e.secondaryColor,f=N(e,dr),i=St.useRef(),m=_;if(n&&(m={primaryColor:n,secondaryColor:u||de(n)}),vt(i),yt(ie(r),\"icon should be icon definiton, but got \".concat(r)),!ie(r))return null;var p=r;return p&&typeof p.icon==\"function\"&&(p=g(g({},p),{},{icon:p.icon(m.primaryColor,m.secondaryColor)})),V(p.icon,\"svg-\".concat(p.name),g(g({className:o,onClick:a,style:l,\"data-icon\":p.name,width:\"1em\",height:\"1em\",fill:\"currentColor\",\"aria-hidden\":\"true\"},f),{},{ref:i}))};G.displayName=\"IconReact\";G.getTwoToneColors=sr;G.setTwoToneColors=ur;var E=G;function ue(t){var e=z(t),r=L(e,2),o=r[0],a=r[1];return E.setTwoToneColors({primaryColor:o,secondaryColor:a})}function kt(){var t=E.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var mr=[\"className\",\"icon\",\"spin\",\"rotate\",\"tabIndex\",\"onClick\",\"twoToneColor\"];ue(j.primary);var $=k.forwardRef(function(t,e){var r=t.className,o=t.icon,a=t.spin,l=t.rotate,n=t.tabIndex,u=t.onClick,f=t.twoToneColor,i=N(t,mr),m=k.useContext(B),p=m.prefixCls,d=p===void 0?\"anticon\":p,c=m.rootClassName,P=(0,Pt.default)(c,d,h(h({},\"\".concat(d,\"-\").concat(o.name),!!o.name),\"\".concat(d,\"-spin\"),!!a||o.name===\"loading\"),r),A=n;A===void 0&&u&&(A=-1);var b=l?{msTransform:\"rotate(\".concat(l,\"deg)\"),transform:\"rotate(\".concat(l,\"deg)\")}:void 0,F=z(f),I=L(F,2),J=I[0],It=I[1];return k.createElement(\"span\",y({role:\"img\",\"aria-label\":o.name},i,{ref:e,tabIndex:A,onClick:u,className:P}),k.createElement(E,{icon:o,primaryColor:J,secondaryColor:It,style:b}))});$.displayName=\"AntdIcon\";$.getTwoToneColor=kt;$.setTwoToneColor=ue;var Q=$;var Y=T(C());var pr={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M839.6 433.8L749 150.5a9.24 9.24 0 00-8.9-6.5h-77.4c-4.1 0-7.6 2.6-8.9 6.5l-91.3 283.3c-.3.9-.5 1.9-.5 2.9 0 5.1 4.2 9.3 9.3 9.3h56.4c4.2 0 7.8-2.8 9-6.8l17.5-61.6h89l17.3 61.5c1.1 4 4.8 6.8 9 6.8h61.2c1 0 1.9-.1 2.8-.4 2.4-.8 4.3-2.4 5.5-4.6 1.1-2.2 1.3-4.7.6-7.1zM663.3 325.5l32.8-116.9h6.3l32.1 116.9h-71.2zm143.5 492.9H677.2v-.4l132.6-188.9c1.1-1.6 1.7-3.4 1.7-5.4v-36.4c0-5.1-4.2-9.3-9.3-9.3h-204c-5.1 0-9.3 4.2-9.3 9.3v43c0 5.1 4.2 9.3 9.3 9.3h122.6v.4L587.7 828.9a9.35 9.35 0 00-1.7 5.4v36.4c0 5.1 4.2 9.3 9.3 9.3h211.4c5.1 0 9.3-4.2 9.3-9.3v-43a9.2 9.2 0 00-9.2-9.3zM416 702h-76V172c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v530h-76c-6.7 0-10.5 7.8-6.3 13l112 141.9a8 8 0 0012.6 0l112-141.9c4.1-5.2.4-13-6.3-13z\"}}]},name:\"sort-ascending\",theme:\"outlined\"},At=pr;var xr=function(e,r){return Y.createElement(Q,y({},e,{ref:r,icon:At}))},cr=Y.forwardRef(xr),se=cr;var Z=T(C());var hr={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M839.6 433.8L749 150.5a9.24 9.24 0 00-8.9-6.5h-77.4c-4.1 0-7.6 2.6-8.9 6.5l-91.3 283.3c-.3.9-.5 1.9-.5 2.9 0 5.1 4.2 9.3 9.3 9.3h56.4c4.2 0 7.8-2.8 9-6.8l17.5-61.6h89l17.3 61.5c1.1 4 4.8 6.8 9 6.8h61.2c1 0 1.9-.1 2.8-.4 2.4-.8 4.3-2.4 5.5-4.6 1.1-2.2 1.3-4.7.6-7.1zM663.3 325.5l32.8-116.9h6.3l32.1 116.9h-71.2zm143.5 492.9H677.2v-.4l132.6-188.9c1.1-1.6 1.7-3.4 1.7-5.4v-36.4c0-5.1-4.2-9.3-9.3-9.3h-204c-5.1 0-9.3 4.2-9.3 9.3v43c0 5.1 4.2 9.3 9.3 9.3h122.6v.4L587.7 828.9a9.35 9.35 0 00-1.7 5.4v36.4c0 5.1 4.2 9.3 9.3 9.3h211.4c5.1 0 9.3-4.2 9.3-9.3v-43a9.2 9.2 0 00-9.2-9.3zM310.3 167.1a8 8 0 00-12.6 0L185.7 309c-4.2 5.3-.4 13 6.3 13h76v530c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V322h76c6.7 0 10.5-7.8 6.3-13l-112-141.9z\"}}]},name:\"sort-descending\",theme:\"outlined\"},Dt=hr;var Or=function(e,r){return Z.createElement(Q,y({},e,{ref:r,icon:Dt}))},gr=Z.forwardRef(Or),me=gr;var K=T(Mt(),1);if(typeof window<\"u\"){let t=document.createElement(\"style\");t.textContent=\"html,\\nbody,\\n#app {\\n  height: 100%;\\n  margin: 0;\\n  padding: 0;\\n  overflow: hidden;\\n}\\n.danmu-container {\\n  display: flex;\\n  flex-direction: column;\\n  height: 100%;\\n  padding: 20px;\\n  box-sizing: border-box;\\n}\\n.danmu-container .main-title {\\n  text-align: center;\\n  transition: all 0.3s ease-out;\\n  max-height: 50px;\\n  opacity: 1;\\n  margin-bottom: 20px;\\n  overflow: hidden;\\n}\\n.danmu-container .main-title.hidden {\\n  max-height: 0;\\n  opacity: 0;\\n  margin: 0;\\n}\\n.danmu-container .search-input {\\n  margin-bottom: 20px;\\n}\\n.danmu-container .result-container {\\n  flex-grow: 1;\\n  overflow: hidden;\\n  display: flex;\\n  flex-direction: column;\\n}\\n.danmu-container .result-container .spin-container {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  height: 100%;\\n}\\n.danmu-container .result-container > .ant-tabs {\\n  flex-grow: 1;\\n  display: flex;\\n  flex-direction: column;\\n  overflow: hidden;\\n}\\n.danmu-container .result-container > .ant-tabs .ant-tabs-content-holder {\\n  overflow-y: auto;\\n  flex-grow: 1;\\n}\\n.drawer {\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  bottom: 0;\\n}\\n.drawer .ant-drawer-mask {\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  bottom: 0;\\n}\\n.drawer .ant-drawer-content-wrapper {\\n  left: 0;\\n  right: 0;\\n}\\n.drawer .ant-drawer-title {\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n.drawer .ant-list-item {\\n  padding: 16px 24px;\\n}\\n@media (max-width: 768px) {\\n  .danmu-container {\\n    padding: 10px;\\n  }\\n  .danmu-container .search-input {\\n    margin-bottom: 8px;\\n  }\\n  .danmu-container .ant-tabs-left > .ant-tabs-nav {\\n    width: 80px;\\n  }\\n  .danmu-container .ant-tabs-nav {\\n    margin: 0;\\n  }\\n  .danmu-container .ant-tabs-tab {\\n    font-size: 12px;\\n    padding: 8px 12px;\\n  }\\n  .danmu-container .anime-episode-container {\\n    flex-direction: column;\\n  }\\n  .danmu-container .anime-episode-container .anime-list-col,\\n  .danmu-container .anime-episode-container .episode-list-col {\\n    width: 100%;\\n    border-right: none;\\n    max-height: 50vh;\\n  }\\n  .danmu-container .anime-episode-container .anime-list-col {\\n    border-bottom: 1px solid #f0f0f0;\\n  }\\n  .drawer .ant-drawer-header {\\n    padding: 16px 12px;\\n  }\\n  .drawer .ant-list-item {\\n    padding: 12px;\\n  }\\n}\\n\",document.head.appendChild(t)}var{Search:Tr}=x.Input,{Title:wr}=x.Typography,br=({animes:t,sourceUrl:e,sourceName:r})=>{let[o,a]=(0,s.useState)(!1),[l,n]=(0,s.useState)(null),[u,f]=(0,s.useState)(!1),i=async d=>{try{let c=\"\".concat(e,\"/api/v2/comment/\").concat(d.episodeId);await K.default.post(\"/website/danmu/push\",{url:\"\".concat(c,\"?format=xml\"),previewUrl:\"\".concat(c,\"?format=json\"),sourceName:r}),a(!1)}catch(c){console.error(c),x.message.error(\"\\u63A8\\u9001\\u5931\\u8D25\")}},m=d=>{n(d),a(!0),f(!1)},p=()=>{l&&(n(Oe(he({},l),{episodes:[...l.episodes].reverse()})),f(d=>!d))};return!t||t.length===0?s.default.createElement(x.Empty,{description:\"\\u8BE5\\u6765\\u6E90\\u4E0B\\u65E0\\u7ED3\\u679C\"}):s.default.createElement(s.default.Fragment,null,s.default.createElement(x.List,{dataSource:t,renderItem:d=>s.default.createElement(x.List.Item,{onClick:()=>m(d)},d.animeTitle)}),l&&s.default.createElement(x.Drawer,{title:l.animeTitle,placement:\"bottom\",onClose:()=>a(!1),open:o,height:\"80%\",destroyOnClose:!0,closable:!1,bodyStyle:{padding:0},rootClassName:\"drawer\",extra:s.default.createElement(x.Button,{icon:u?s.default.createElement(se,null):s.default.createElement(me,null),onClick:p,style:{marginLeft:16}})},s.default.createElement(x.List,{dataSource:l.episodes,renderItem:d=>s.default.createElement(x.List.Item,{onClick:()=>i(d)},d.episodeTitle)})))};function Et(){let[t,e]=(0,s.useState)([]),[r,o]=(0,s.useState)(!1),[a,l]=(0,s.useState)([]),[n,u]=(0,s.useState)(!1),[f,i]=(0,s.useState)(new URLSearchParams(window.location.search).get(\"keyword\")||\"\");(0,s.useEffect)(()=>{K.default.get(\"/website/danmu/setting\").then(d=>{d.data.code===0&&d.data.data&&d.data.data.urls?e(d.data.data.urls.map(c=>({name:c.name||new URL(c.address).hostname,url:c.address}))):x.message.error(\"\\u83B7\\u53D6\\u5F39\\u5E55\\u6E90\\u5931\\u8D25\")}).catch(d=>{console.error(d),x.message.error(\"\\u83B7\\u53D6\\u5F39\\u5E55\\u6E90\\u5931\\u8D25\")})},[]);let m=(0,s.useCallback)((d,c=!1)=>{let P=d.trim();if(!P){c||x.message.warning(\"\\u8BF7\\u8F93\\u5165\\u641C\\u7D22\\u5173\\u952E\\u8BCD\");return}if(t.length===0&&!c){x.message.error(\"\\u6CA1\\u6709\\u53EF\\u7528\\u7684\\u5F39\\u5E55\\u6E90\");return}if(i(P),!c){let b=new URL(window.location);b.searchParams.set(\"keyword\",P),window.history.pushState({},\"\",b)}o(!0),u(!0),l([]);let A=0;t.forEach(b=>{K.default.get(\"\".concat(b.url,\"/api/v2/search/episodes\"),{params:{anime:P}}).then(F=>{if(F.data.success&&F.data.animes&&F.data.animes.length>0){let I={sourceName:b.name,sourceUrl:b.url,data:F.data};l(J=>[...J,I])}}).catch(F=>console.error(\"Search from \".concat(b.name,\" failed:\"),F)).finally(()=>{A++,A===t.length&&o(!1)})})},[t]);(0,s.useEffect)(()=>{if(t.length>0){let c=new URLSearchParams(window.location.search).get(\"keyword\");c&&m(c,!0)}},[t,m]);let p=a.map((d,c)=>({key:\"\".concat(d.sourceName,\"-\").concat(c),label:d.sourceName,children:s.default.createElement(br,{animes:d.data.animes,sourceUrl:d.sourceUrl,sourceName:d.sourceName})}));return s.default.createElement(\"div\",{className:\"danmu-container\"},s.default.createElement(wr,{level:2,className:\"main-title \".concat(n?\"hidden\":\"\")},\"\\u5F39\\u5E55\\u641C\\u7D22\"),s.default.createElement(Tr,{placeholder:\"\\u8F93\\u5165\\u5F71\\u89C6\\u540D\\u79F0...\",enterButton:\"\\u641C\\u7D22\",size:\"large\",onSearch:d=>m(d),loading:r,className:\"search-input\",value:f,onChange:d=>i(d.target.value)}),s.default.createElement(\"div\",{className:\"result-container\"},n&&a.length===0&&r&&s.default.createElement(\"div\",{className:\"spin-container\"},s.default.createElement(x.Spin,{size:\"large\"})),a.length>0&&s.default.createElement(x.Tabs,{items:p,size:\"small\"}),n&&a.length===0&&!r&&s.default.createElement(x.Empty,{description:\"\\u672A\\u627E\\u5230\\u76F8\\u5173\\u7ED3\\u679C\"})))}function Fr(){(0,_t.createRoot)(document.getElementById(\"app\")).render(s.default.createElement(Et,null))}\n/*! Bundled license information:\n\nclassnames/index.js:\n  (*!\n  \tCopyright (c) 2018 Jed Watson.\n  \tLicensed under the MIT License (MIT), see\n  \thttp://jedwatson.github.io/classnames\n  *)\n*/\n"}
      module.exports.renderDanmu();
    })();
  `;
}();


var She=Object.create;var fy=Object.defineProperty;var The=Object.getOwnPropertyDescriptor;var Bhe=Object.getOwnPropertyNames;var Rhe=Object.getPrototypeOf,Nhe=Object.prototype.hasOwnProperty;var Es=(e,t)=>()=>(e&&(t=e(e=0)),t);var I=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),On=(e,t)=>{for(var r in t)fy(e,r,{get:t[r],enumerable:!0})},D8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Bhe(t))!Nhe.call(e,s)&&s!==r&&fy(e,s,{get:()=>t[s],enumerable:!(n=The(t,s))||n.enumerable});return e};var ke=(e,t,r)=>(r=e!=null?She(Rhe(e)):{},D8(t||!e||!e.__esModule?fy(r,"default",{value:e,enumerable:!0}):r,e)),khe=e=>D8(fy({},"__esModule",{value:!0}),e);var O8=I(($ct,P8)=>{"use strict";function Dhe(e){var t=new e,r=t;function n(){var i=t;return i.next?t=i.next:(t=new e,r=t),i.next=null,i}function s(i){r.next=i,r=i}return{get:n,release:s}}P8.exports=Dhe});var L8=I((Lct,v2)=>{"use strict";var Phe=O8();function $8(e,t,r){if(typeof e=="function"&&(r=t,t=e,e=null),!(r>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");var n=Phe(Ohe),s=null,i=null,a=0,o=null,c={push:m,drain:xs,saturated:xs,pause:l,paused:!1,get concurrency(){return r},set concurrency(C){if(!(C>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");if(r=C,!c.paused)for(;s&&a<r;)a++,g()},running:u,resume:h,idle:p,length:d,getQueue:f,unshift:A,empty:xs,kill:x,killAndDrain:y,error:_,abort:b};return c;function u(){return a}function l(){c.paused=!0}function d(){for(var C=s,w=0;C;)C=C.next,w++;return w}function f(){for(var C=s,w=[];C;)w.push(C.value),C=C.next;return w}function h(){if(c.paused){if(c.paused=!1,s===null){a++,g();return}for(;s&&a<r;)a++,g()}}function p(){return a===0&&c.length()===0}function m(C,w){var S=n.get();S.context=e,S.release=g,S.value=C,S.callback=w||xs,S.errorHandler=o,a>=r||c.paused?i?(i.next=S,i=S):(s=S,i=S,c.saturated()):(a++,t.call(e,S.value,S.worked))}function A(C,w){var S=n.get();S.context=e,S.release=g,S.value=C,S.callback=w||xs,S.errorHandler=o,a>=r||c.paused?s?(S.next=s,s=S):(s=S,i=S,c.saturated()):(a++,t.call(e,S.value,S.worked))}function g(C){C&&n.release(C);var w=s;w&&a<=r?c.paused?a--:(i===s&&(i=null),s=w.next,w.next=null,t.call(e,w.value,w.worked),i===null&&c.empty()):--a===0&&c.drain()}function x(){s=null,i=null,c.drain=xs}function y(){s=null,i=null,c.drain(),c.drain=xs}function b(){var C=s;for(s=null,i=null;C;){var w=C.next,S=C.callback,T=C.errorHandler,R=C.value,P=C.context;C.value=null,C.callback=xs,C.errorHandler=null,T&&T(new Error("abort"),R),S.call(P,new Error("abort")),C.release(C),C=w}c.drain=xs}function _(C){o=C}}function xs(){}function Ohe(){this.value=null,this.callback=xs,this.next=null,this.release=xs,this.context=null,this.errorHandler=null;var e=this;this.worked=function(r,n){var s=e.callback,i=e.errorHandler,a=e.value;e.value=null,e.callback=xs,e.errorHandler&&i(r,a),s.call(e.context,r,n),e.release(e)}}function $he(e,t,r){typeof e=="function"&&(r=t,t=e,e=null);function n(l,d){t.call(this,l).then(function(f){d(null,f)},d)}var s=$8(e,n,r),i=s.push,a=s.unshift;return s.push=o,s.unshift=c,s.drained=u,s;function o(l){var d=new Promise(function(f,h){i(l,function(p,m){if(p){h(p);return}f(m)})});return d.catch(xs),d}function c(l){var d=new Promise(function(f,h){a(l,function(p,m){if(p){h(p);return}f(m)})});return d.catch(xs),d}function u(){var l=new Promise(function(d){process.nextTick(function(){if(s.idle())d();else{var f=s.drain;s.drain=function(){typeof f=="function"&&f(),d(),s.drain=f}}})});return l}}v2.exports=$8;v2.exports.promise=$he});var I2=I((Mct,py)=>{"use strict";var{format:Lhe}=require("node:util");function Mhe(){return`${this.name} [${this.code}]: ${this.message}`}function _2(e,t,r=500,n=Error){if(!e)throw new Error("Fastify error code must not be empty");if(!t)throw new Error("Fastify error message must not be empty");e=e.toUpperCase(),!r&&(r=void 0);function s(...i){if(!new.target)return new s(...i);this.code=e,this.name="FastifyError",this.statusCode=r;let a=i.length-1;a!==-1&&i[a]&&typeof i[a]=="object"&&"cause"in i[a]&&(this.cause=i.pop().cause),this.message=Lhe(t,...i),Error.stackTraceLimit!==0&&Error.captureStackTrace(this,s)}return s.prototype=Object.create(n.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),s.prototype[Symbol.toStringTag]="Error",s.prototype.toString=Mhe,s}py.exports=_2;py.exports.default=_2;py.exports.createError=_2});var hy=I((Fct,M8)=>{"use strict";var{createError:uc}=I2();M8.exports={AVV_ERR_EXPOSE_ALREADY_DEFINED:uc("AVV_ERR_EXPOSE_ALREADY_DEFINED","'%s' is already defined, specify an expose option for '%s'"),AVV_ERR_ATTRIBUTE_ALREADY_DEFINED:uc("AVV_ERR_ATTRIBUTE_ALREADY_DEFINED","'%s' is already defined"),AVV_ERR_CALLBACK_NOT_FN:uc("AVV_ERR_CALLBACK_NOT_FN","Callback for '%s' hook is not a function. Received: '%s'"),AVV_ERR_PLUGIN_NOT_VALID:uc("AVV_ERR_PLUGIN_NOT_VALID","Plugin must be a function or a promise. Received: '%s'"),AVV_ERR_ROOT_PLG_BOOTED:uc("AVV_ERR_ROOT_PLG_BOOTED","Root plugin has already booted"),AVV_ERR_PARENT_PLG_LOADED:uc("AVV_ERR_PARENT_PLG_LOADED","Impossible to load '%s' plugin because the parent '%s' was already loaded"),AVV_ERR_READY_TIMEOUT:uc("AVV_ERR_READY_TIMEOUT","Plugin did not start in time: '%s'. You may have forgotten to call 'done' function or to resolve a Promise"),AVV_ERR_PLUGIN_EXEC_TIMEOUT:uc("AVV_ERR_PLUGIN_EXEC_TIMEOUT","Plugin did not start in time: '%s'. You may have forgotten to call 'done' function or to resolve a Promise")}});var wd=I((Qct,F8)=>{"use strict";var Fhe=Symbol("avvio.Boot"),Qhe=Symbol("isOnCloseHandler"),Uhe=Symbol("avvio.ThenifyDoNotWrap"),qhe=Symbol("avvio.TimeTree.untrackNode"),jhe=Symbol("avvio.TimeTree.trackNode"),Hhe=Symbol("avvio.TimeTree.getParent"),zhe=Symbol("avvio.TimeTree.getNode"),Ghe=Symbol("avvio.TimeTree.addNode"),Vhe=Symbol.for("plugin-meta");F8.exports={kAvvio:Fhe,kIsOnCloseHandler:Qhe,kThenifyDoNotWrap:Uhe,kUntrackNode:qhe,kTrackNode:jhe,kGetParent:Hhe,kGetNode:zhe,kAddNode:Ghe,kPluginMeta:Vhe}});var G8=I((Uct,z8)=>{"use strict";var{kUntrackNode:Q8,kTrackNode:C2,kGetParent:U8,kGetNode:q8,kAddNode:j8}=wd(),w2=class{constructor(){this.root=null,this.tableId=new Map,this.tableLabel=new Map}[C2](t){this.tableId.set(t.id,t),this.tableLabel.has(t.label)?this.tableLabel.get(t.label).push(t):this.tableLabel.set(t.label,[t])}[Q8](t){this.tableId.delete(t.id);let r=this.tableLabel.get(t.label);r.pop(),r.length===0&&this.tableLabel.delete(t.label)}[U8](t){if(t===null)return null;if(this.tableLabel.has(t)){let r=this.tableLabel.get(t);return r[r.length-1]}else return null}[q8](t){return this.tableId.get(t)}[j8](t,r,n){let s=this[U8](t);if(s===null)return this.root={parent:null,id:"root",label:r,nodes:[],start:n,stop:null,diff:-1},this[C2](this.root),this.root.id;let a=`${r}-${Math.random()}`,o={parent:t,id:a,label:r,nodes:[],start:n,stop:null,diff:-1};return s.nodes.push(o),this[C2](o),a}start(t,r,n=Date.now()){return this[j8](t,r,n)}stop(t,r=Date.now()){let n=this[q8](t);n&&(n.stop=r,n.diff=n.stop-n.start||0,this[Q8](n))}toJSON(){return Object.assign({},this.root)}prettyPrint(){return H8(this.toJSON())}};function H8(e,t=""){let r=t,n=e.nodes.length,s=n-1;r+=`${e.label} ${e.diff} ms
`;for(let i=0;i<n;++i){let a=e.nodes[i],o=t+(i===s?"  ":"\u2502 ");r+=t,r+=i===s?"\u2514\u2500":"\u251C\u2500",r+=a.nodes.length===0?"\u2500 ":"\u252C ",r+=H8(a,o).slice(t.length+2)}return r}z8.exports={TimeTree:w2}});var my=I((qct,V8)=>{"use strict";var{debuglog:Khe}=require("node:util"),Yhe=Khe("avvio");V8.exports={debug:Yhe}});var Y8=I((jct,K8)=>{"use strict";function Whe(){let e={resolve:null,reject:null,promise:null};return e.promise=new Promise((t,r)=>{e.resolve=t,e.reject=r}),e}K8.exports={createPromise:Whe}});var J8=I((Hct,W8)=>{"use strict";var{kPluginMeta:S2}=wd();function Jhe(e,t){return e[S2]&&e[S2].name?e[S2].name:t&&t.name?t.name:e.name?e.name:e.toString().split(`
`).slice(0,2).map(r=>r.trim()).join(" -- ")}W8.exports={getPluginName:Jhe}});var gy=I((zct,X8)=>{"use strict";function Xhe(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}X8.exports={isPromiseLike:Xhe}});var eL=I((Gct,Z8)=>{"use strict";var{EventEmitter:Zhe}=require("node:events"),{inherits:eme}=require("node:util"),{debug:_n}=my(),{createPromise:tme}=Y8(),{AVV_ERR_PLUGIN_EXEC_TIMEOUT:rme}=hy(),{getPluginName:nme}=J8(),{isPromiseLike:sme}=gy();function Sd(e,t,r,n,s){this.queue=e,this.func=t,this.options=r,this.isAfter=n,this.timeout=s,this.started=!1,this.name=nme(t,r),this.queue.pause(),this._error=null,this.loaded=!1,this._promise=null,this.startTime=null}eme(Sd,Zhe);Sd.prototype.exec=function(e,t){_n("exec",this.name),this.server=e;let r=this.func,n=this.name,s=!1;this.options=typeof this.options=="function"?this.options(this.server):this.options;let i=null,a=c=>{if(s){_n("loading complete",n);return}this._error=c,_n(c?"exec errored":"exec completed",n),s=!0,i&&clearTimeout(i),t(c)};this.timeout>0&&(_n("setting up timeout",n,this.timeout),i=setTimeout(function(){_n("timed out",n),i=null;let c=new rme(n);c.fn=r,a(c)},this.timeout)),this.started=!0,this.startTime=Date.now(),this.emit("start",this.server?this.server.name:null,this.name,Date.now());let o=r(this.server,this.options,a);sme(o)&&(_n("exec: resolving promise",n),o.then(()=>process.nextTick(a),c=>process.nextTick(a,c)))};Sd.prototype.loadedSoFar=function(){if(_n("loadedSoFar",this.name),this.loaded)return Promise.resolve();let e=()=>{this.server.after((r,n)=>{this._error=r,this.queue.pause(),this._promise&&(r?(_n("rejecting promise",this.name,r),this._promise.reject(r)):(_n("resolving promise",this.name),this._promise.resolve()),this._promise=null),process.nextTick(n,r)}),this.queue.resume()},t;return this._promise?t=Promise.resolve():(this._promise=tme(),t=this._promise.promise,this.server?e():this.on("start",e)),t};Sd.prototype.enqueue=function(e,t){_n("enqueue",this.name,e.name),this.emit("enqueue",this.server?this.server.name:null,this.name,Date.now()),this.queue.push(e,t)};Sd.prototype.finish=function(e,t){_n("finish",this.name,e);let r=()=>{this.loaded||(_n("loaded",this.name),this.emit("loaded",this.server?this.server.name:null,this.name,Date.now()),this.loaded=!0,t(e))};if(e){this._promise&&(this._promise.reject(e),this._promise=null),r();return}let n=()=>{if(_n("check",this.name,this.queue.length(),this.queue.running(),this._promise),this.queue.length()===0&&this.queue.running()===0)if(this._promise){let s=()=>{_n("wrap"),queueMicrotask(n)};this._promise.resolve(),this._promise.promise.then(s,s),this._promise=null}else r();else _n("delayed",this.name),this.queue.drain=()=>{_n("drain",this.name),this.queue.drain=ime,queueMicrotask(n)}};queueMicrotask(n),this.queue.resume()};function ime(){}Z8.exports={Plugin:Sd}});var rL=I((Vct,tL)=>{"use strict";var{AVV_ERR_PLUGIN_NOT_VALID:T2}=hy();function ame(e){if(!(e&&(typeof e=="function"||typeof e.then=="function")))throw Array.isArray(e)?new T2("array"):e===null?new T2("null"):new T2(typeof e)}tL.exports={validatePlugin:ame}});var sL=I((Kct,nL)=>{"use strict";function ome(e){return e!==null&&typeof e=="object"&&typeof e.default=="function"}nL.exports={isBundledOrTypescriptPlugin:ome}});var oL=I((Yct,aL)=>{"use strict";var{debug:iL}=my(),{kThenifyDoNotWrap:B2}=wd();function cme(){if(this.booted){iL("thenify returning undefined because we are already booted");return}if(this[B2]){this[B2]=!1;return}return iL("thenify"),(e,t)=>this._loadRegistered().then(()=>(this[B2]=!0,e(this._server)),t)}aL.exports={thenify:cme}});var uL=I((Wct,cL)=>{"use strict";var{isPromiseLike:ume}=gy(),{kAvvio:lme}=wd();function dme(e,t,r){let n=e.apply(e,t);ume(n)&&!n[lme]?n.then(()=>process.nextTick(r),s=>process.nextTick(r,s)):r&&process.nextTick(r)}cL.exports={executeWithThenable:dme}});var AL=I((Jct,N2)=>{"use strict";var Ay=L8(),fme=require("node:events").EventEmitter,pme=require("node:util").inherits,{AVV_ERR_EXPOSE_ALREADY_DEFINED:m0,AVV_ERR_CALLBACK_NOT_FN:Td,AVV_ERR_ROOT_PLG_BOOTED:hme,AVV_ERR_READY_TIMEOUT:mme,AVV_ERR_ATTRIBUTE_ALREADY_DEFINED:gme}=hy(),{kAvvio:fL,kIsOnCloseHandler:pL}=wd(),{TimeTree:Ame}=G8(),{Plugin:hL}=eL(),{debug:Bd}=my(),{validatePlugin:yme}=rL(),{isBundledOrTypescriptPlugin:bme}=sL(),{isPromiseLike:Eme}=gy(),{thenify:mL}=oL(),{executeWithThenable:lL}=uL();function Mr(e,t,r){if(typeof e=="function"&&arguments.length===1&&(r=e,t={},e=null),typeof t=="function"&&(r=t,t={}),t=t||{},t.autostart=t.autostart!==!1,t.timeout=Number(t.timeout)||0,t.expose=t.expose||{},!new.target)return new Mr(e,t,r);this._server=e||this,this._opts=t,e&&this._expose(),this._current=[],this._error=null,this._lastUsed=null,this.setMaxListeners(0),r&&this.once("start",r),this.started=!1,this.booted=!1,this.pluginTree=new Ame,this._readyQ=Ay(this,gL,1),this._readyQ.pause(),this._readyQ.drain=()=>{this.emit("start"),this._readyQ.drain=dL},this._closeQ=Ay(this,vme,1),this._closeQ.pause(),this._closeQ.drain=()=>{this.emit("close"),this._closeQ.drain=dL},this._doStart=null;let n=this;this._root=new hL(Ay(this,this._loadPluginNextTick,1),function(i,a,o){n._doStart=o,a.autostart&&n.start()},t,!1,0),this._trackPluginLoading(this._root),this._loadPlugin(this._root,s=>{Bd("root plugin ready");try{this.emit("preReady"),this._root=null}catch(i){s=s||this._error||i}if(s){if(this._error=s,this._readyQ.length()===0)throw s}else this.booted=!0;this._readyQ.resume()})}pme(Mr,fme);Mr.prototype.start=function(){return this.started=!0,process.nextTick(this._doStart),this};Mr.prototype.override=function(e,t,r){return e};Mr.prototype[fL]=!0;Mr.prototype.use=function(e,t){return this._lastUsed=this._addPlugin(e,t,!1),this};Mr.prototype._loadRegistered=function(){let e=this._current[0];return!this.started&&!this.booted&&process.nextTick(()=>this._root.queue.resume()),e?e.loadedSoFar():Promise.resolve()};Object.defineProperty(Mr.prototype,"then",{get:mL});Mr.prototype._addPlugin=function(e,t,r){if(bme(e)&&(e=e.default),yme(e),t=t||{},this.booted)throw new hme;let n=this._current[0],s=this._opts.timeout;if(!n.loaded&&n.timeout>0){let a=Date.now()-n.startTime;s=n.timeout-(a+3)}let i=new hL(Ay(this,this._loadPluginNextTick,1),e,t,r,s);if(this._trackPluginLoading(i),n.loaded)throw new Error(i.name,n.name);return n.enqueue(i,a=>{a&&(this._error=a)}),i};Mr.prototype._expose=function(){let t=this,r=t._server,{use:n="use",after:s="after",ready:i="ready",onClose:a="onClose",close:o="close"}=this._opts.expose;if(r[n])throw new m0(n,"use");if(r[n]=function(c,u){return t.use(c,u),this},r[s])throw new m0(s,"after");if(r[s]=function(c){return typeof c!="function"?t._loadRegistered():(t.after(R2(c,this)),this)},r[i])throw new m0(i,"ready");if(r[i]=function(c){if(c&&typeof c!="function")throw new Td(i,typeof c);return t.ready(c?R2(c,this):void 0)},r[a])throw new m0(a,"onClose");if(r[a]=function(c){if(typeof c!="function")throw new Td(a,typeof c);return t.onClose(_me(c,this)),this},r[o])throw new m0(o,"close");if(r[o]=function(c){if(c&&typeof c!="function")throw new Td(o,typeof c);return c?(t.close(R2(c,this)),this):t.close()},r.then)throw new gme("then");Object.defineProperty(r,"then",{get:mL.bind(t)}),r[fL]=!0};Mr.prototype.after=function(e){if(!e)return this._loadRegistered();this._addPlugin(t.bind(this),{},!0);function t(r,n,s){gL.call(this,e,s)}return this};Mr.prototype.onClose=function(e){if(typeof e!="function")throw new Td("onClose",typeof e);return e[pL]=!0,this._closeQ.unshift(e,t=>{t&&(this._error=t)}),this};Mr.prototype.close=function(e){let t;if(e){if(typeof e!="function")throw new Td("close",typeof e)}else t=new Promise(function(r,n){e=function(s){if(s)return n(s);r()}});return this.ready(()=>{this._error=null,this._closeQ.push(e),process.nextTick(this._closeQ.resume.bind(this._closeQ))}),t};Mr.prototype.ready=function(e){if(e){if(typeof e!="function")throw new Td("ready",typeof e);this._readyQ.push(e),queueMicrotask(this.start.bind(this));return}return new Promise((t,r)=>{this._readyQ.push(s),this.start();let n=this._current[0].server;function s(i,a,o){i?r(i):t(n),process.nextTick(o)}})};Mr.prototype._trackPluginLoading=function(e){let t=this._current[0]?.name||null;e.once("start",(r,n,s)=>{let i=this.pluginTree.start(t||null,n,s);e.once("loaded",(a,o,c)=>{this.pluginTree.stop(i,c)})})};Mr.prototype.prettyPrint=function(){return this.pluginTree.prettyPrint()};Mr.prototype.toJSON=function(){return this.pluginTree.toJSON()};Mr.prototype._loadPlugin=function(e,t){let r=this;if(Eme(e.func)){e.func.then(a=>{typeof a.default=="function"&&(a=a.default),e.func=a,this._loadPlugin(e,t)},t);return}let n=r._current[0];if(r._current.unshift(e),r._error&&!e.isAfter){Bd("skipping loading of plugin as instance errored and it is not an after",e.name),process.nextTick(i);return}let s=n&&n.server||r._server;if(!e.isAfter)try{s=r.override(s,e.func,e.options)}catch(a){return Bd("override errored",e.name),i(a)}e.exec(s,i);function i(a){e.finish(a,o=>{r._current.shift(),t(o)})}};Mr.prototype._loadPluginNextTick=function(e,t){process.nextTick(this._loadPlugin.bind(this),e,t)};function dL(){}function gL(e,t){let r=this._server,n=this._error;if(this._error=null,e.length===0)this._error=n,lL(e,[],t);else if(e.length===1)lL(e,[n],t);else if(this._opts.timeout===0){let s=i=>{this._error=i,t(this._error)};e.length===2?e(n,s):e(n,r,s)}else xme.call(this,e,n,r,t)}function xme(e,t,r,n){let s=e.unwrappedName??e.name;Bd("setting up ready timeout",s,this._opts.timeout);let i=setTimeout(()=>{Bd("timed out",s),i=null;let o=new mme(s);o.fn=e,this._error=o,n(o)},this._opts.timeout);e.length===2?e(t,a.bind(this)):e(t,r,a.bind(this));function a(o){i&&(clearTimeout(i),this._error=o,n(this._error))}}function vme(e,t){let r=this._server,n=e[pL];if(e.length===0||e.length===1){let s;n?s=e(r):s=e(this._error),s&&typeof s.then=="function"?(Bd("resolving close/onClose promise"),s.then(()=>process.nextTick(t),i=>process.nextTick(t,i))):process.nextTick(t)}else e.length===2?e(n?r:this._error,t):n?e(r,t):e(this._error,r,t)}function _me(e,t){return r.bind(t);function r(n,s){let i;e.length===0?(i=e(),i&&i.then?i.then(function(){process.nextTick(s)},s):process.nextTick(s)):e.length===1?(i=e(this),i&&i.then?i.then(function(){process.nextTick(s)},s):process.nextTick(s)):e(this,s)}}function R2(e,t){let r=n.bind(t);return r.unwrappedName=e.name,r;function n(s,i){let a;e?e.length===0?(a=e(),a&&a.then?a.then(function(){process.nextTick(i,s)},i):process.nextTick(i,s)):e.length===1?(a=e(s),a&&a.then?a.then(function(){process.nextTick(i)},i):process.nextTick(i)):e.length===2?e(s,i):e(s,this,i):process.nextTick(i)}}N2.exports=Mr;N2.exports.express=function(e){return Mr(e,{expose:{use:"load"}})}});var cn=I((Xct,yL)=>{"use strict";var Ime={kAvvioBoot:Symbol("fastify.avvioBoot"),kChildren:Symbol("fastify.children"),kServerBindings:Symbol("fastify.serverBindings"),kBodyLimit:Symbol("fastify.bodyLimit"),kRoutePrefix:Symbol("fastify.routePrefix"),kLogLevel:Symbol("fastify.logLevel"),kLogSerializers:Symbol("fastify.logSerializers"),kHooks:Symbol("fastify.hooks"),kContentTypeParser:Symbol("fastify.contentTypeParser"),kState:Symbol("fastify.state"),kOptions:Symbol("fastify.options"),kDisableRequestLogging:Symbol("fastify.disableRequestLogging"),kPluginNameChain:Symbol("fastify.pluginNameChain"),kRouteContext:Symbol("fastify.context"),kPublicRouteContext:Symbol("fastify.routeOptions"),kGenReqId:Symbol("fastify.genReqId"),kSchemaController:Symbol("fastify.schemaController"),kSchemaHeaders:Symbol("headers-schema"),kSchemaParams:Symbol("params-schema"),kSchemaQuerystring:Symbol("querystring-schema"),kSchemaBody:Symbol("body-schema"),kSchemaResponse:Symbol("response-schema"),kSchemaErrorFormatter:Symbol("fastify.schemaErrorFormatter"),kSchemaVisited:Symbol("fastify.schemas.visited"),kRequest:Symbol("fastify.Request"),kRequestPayloadStream:Symbol("fastify.RequestPayloadStream"),kRequestAcceptVersion:Symbol("fastify.RequestAcceptVersion"),kRequestCacheValidateFns:Symbol("fastify.request.cache.validateFns"),kRequestOriginalUrl:Symbol("fastify.request.originalUrl"),kFourOhFour:Symbol("fastify.404"),kCanSetNotFoundHandler:Symbol("fastify.canSetNotFoundHandler"),kFourOhFourLevelInstance:Symbol("fastify.404LogLevelInstance"),kFourOhFourContext:Symbol("fastify.404ContextKey"),kDefaultJsonParse:Symbol("fastify.defaultJSONParse"),kReply:Symbol("fastify.Reply"),kReplySerializer:Symbol("fastify.reply.serializer"),kReplyIsError:Symbol("fastify.reply.isError"),kReplyHeaders:Symbol("fastify.reply.headers"),kReplyTrailers:Symbol("fastify.reply.trailers"),kReplyHasStatusCode:Symbol("fastify.reply.hasStatusCode"),kReplyHijacked:Symbol("fastify.reply.hijacked"),kReplyStartTime:Symbol("fastify.reply.startTime"),kReplyNextErrorHandler:Symbol("fastify.reply.nextErrorHandler"),kReplyEndTime:Symbol("fastify.reply.endTime"),kReplyErrorHandlerCalled:Symbol("fastify.reply.errorHandlerCalled"),kReplyIsRunningOnErrorHook:Symbol("fastify.reply.isRunningOnErrorHook"),kReplySerializerDefault:Symbol("fastify.replySerializerDefault"),kReplyCacheSerializeFns:Symbol("fastify.reply.cache.serializeFns"),kTestInternals:Symbol("fastify.testInternals"),kErrorHandler:Symbol("fastify.errorHandler"),kChildLoggerFactory:Symbol("fastify.childLoggerFactory"),kHasBeenDecorated:Symbol("fastify.hasBeenDecorated"),kKeepAliveConnections:Symbol("fastify.keepAliveConnections"),kRouteByFastify:Symbol("fastify.routeByFastify")};yL.exports=Ime});var P2=I((Zct,yy)=>{"use strict";var{format:k2}=require("node:util");function Cme(e){return bL({...e,name:"DeprecationWarning"})}function bL({name:e,code:t,message:r,unlimited:n=!1}={}){if(!e)throw new Error("Warning name must not be empty");if(!t)throw new Error("Warning code must not be empty");if(!r)throw new Error("Warning message must not be empty");if(typeof n!="boolean")throw new Error("Warning opts.unlimited must be a boolean");t=t.toUpperCase();let s={[e]:function(a,o,c){i.emitted===!0&&i.unlimited!==!0||(i.emitted=!0,process.emitWarning(i.format(a,o,c),i.name,i.code))}};n&&(s={[e]:function(a,o,c){i.emitted=!0,process.emitWarning(i.format(a,o,c),i.name,i.code)}});let i=s[e];return i.emitted=!1,i.message=r,i.unlimited=n,i.code=t,i.format=function(a,o,c){let u;return a&&o&&c?u=k2(r,a,o,c):a&&o?u=k2(r,a,o):a?u=k2(r,a):u=r,u},i}var D2={createWarning:bL,createDeprecation:Cme};yy.exports=D2;yy.exports.default=D2;yy.exports.processWarning=D2});var oo=I((eut,xL)=>{"use strict";var{createDeprecation:$n,createWarning:EL}=P2(),wme=$n({code:"FSTDEP005",message:'You are accessing the deprecated "request.connection" property. Use "request.socket" instead.'}),Sme=$n({code:"FSTDEP006",message:"You are decorating Request/Reply with a reference type. This reference is shared amongst all requests. Use onRequest hook instead. Property: %s"}),Tme=$n({code:"FSTDEP007",message:'You are trying to set a HEAD route using "exposeHeadRoute" route flag when a sibling route is already set. See documentation for more info.'}),Bme=$n({code:"FSTDEP008",message:'You are using route constraints via the route { version: "..." } option, use { constraints: { version: "..." } } option instead.'}),Rme=$n({code:"FSTDEP009",message:'You are using a custom route versioning strategy via the server { versioning: "..." } option, use { constraints: { version: "..." } } option instead.'}),Nme=$n({code:"FSTDEP010",message:'Modifying the "reply.sent" property is deprecated. Use the "reply.hijack()" method instead.'}),kme=$n({code:"FSTDEP011",message:'Variadic listen method is deprecated. Please use ".listen(optionsObject)" instead. The variadic signature will be removed in `fastify@5`.'}),Dme=$n({code:"FSTDEP012",message:'request.context property access is deprecated. Please use "request.routeOptions.config" or "request.routeOptions.schema" instead for accessing Route settings. The "request.context" will be removed in `fastify@5`.'}),Pme=$n({code:"FSTDEP013",message:'Direct return of "trailers" function is deprecated. Please use "callback" or "async-await" for return value. The support of direct return will removed in `fastify@5`.'}),Ome=$n({code:"FSTDEP014",message:"You are trying to set/access the default route. This property is deprecated. Please, use setNotFoundHandler if you want to custom a 404 handler or the wildcard (*) to match all routes."}),$me=$n({code:"FSTDEP015",message:'You are accessing the deprecated "request.routeSchema" property. Use "request.routeOptions.schema" instead. Property "req.routeSchema" will be removed in `fastify@5`.'}),Lme=$n({code:"FSTDEP016",message:'You are accessing the deprecated "request.routeConfig" property. Use "request.routeOptions.config" instead. Property "req.routeConfig" will be removed in `fastify@5`.'}),Mme=$n({code:"FSTDEP017",message:'You are accessing the deprecated "request.routerPath" property. Use "request.routeOptions.url" instead. Property "req.routerPath" will be removed in `fastify@5`.'}),Fme=$n({code:"FSTDEP018",message:'You are accessing the deprecated "request.routerMethod" property. Use "request.routeOptions.method" instead. Property "req.routerMethod" will be removed in `fastify@5`.'}),Qme=$n({code:"FSTDEP019",message:'reply.context property access is deprecated. Please use "request.routeOptions.config" or "request.routeOptions.schema" instead for accessing Route settings. The "reply.context" will be removed in `fastify@5`.'}),Ume=$n({code:"FSTDEP020",message:'You are using the deprecated "reply.getResponseTime()"" method. Use the "request.elapsedTime" property instead. Method "reply.getResponseTime()" will be removed in `fastify@5`.'}),qme=EL({name:"FastifyWarning",code:"FSTWRN001",message:"The %s schema for %s: %s is missing. This may indicate the schema is not well specified.",unlimited:!0}),jme=EL({name:"FastifyWarning",code:"FSTWRN002",message:"The %s plugin being registered mixes async and callback styles, which will result in an error in `fastify@5`",unlimited:!0});xL.exports={FSTDEP005:wme,FSTDEP006:Sme,FSTDEP007:Tme,FSTDEP008:Bme,FSTDEP009:Rme,FSTDEP010:Nme,FSTDEP011:kme,FSTDEP012:Dme,FSTDEP013:Pme,FSTDEP014:Ome,FSTDEP015:$me,FSTDEP016:Lme,FSTDEP017:Mme,FSTDEP018:Fme,FSTDEP019:Qme,FSTDEP020:Ume,FSTWRN001:qme,FSTWRN002:jme}});var Ln=I((tut,by)=>{"use strict";var ye=I2(),Rd={FST_ERR_NOT_FOUND:ye("FST_ERR_NOT_FOUND","Not Found",404),FST_ERR_OPTIONS_NOT_OBJ:ye("FST_ERR_OPTIONS_NOT_OBJ","Options must be an object",500,TypeError),FST_ERR_QSP_NOT_FN:ye("FST_ERR_QSP_NOT_FN","querystringParser option should be a function, instead got '%s'",500,TypeError),FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN:ye("FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN","schemaController.bucket option should be a function, instead got '%s'",500,TypeError),FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN:ye("FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN","schemaErrorFormatter option should be a non async function. Instead got '%s'.",500,TypeError),FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ:ye("FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ","ajv.customOptions option should be an object, instead got '%s'",500,TypeError),FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR:ye("FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR","ajv.plugins option should be an array, instead got '%s'",500,TypeError),FST_ERR_VERSION_CONSTRAINT_NOT_STR:ye("FST_ERR_VERSION_CONSTRAINT_NOT_STR","Version constraint should be a string.",500,TypeError),FST_ERR_VALIDATION:ye("FST_ERR_VALIDATION","%s",400),FST_ERR_LISTEN_OPTIONS_INVALID:ye("FST_ERR_LISTEN_OPTIONS_INVALID","Invalid listen options: '%s'",500,TypeError),FST_ERR_CTP_ALREADY_PRESENT:ye("FST_ERR_CTP_ALREADY_PRESENT","Content type parser '%s' already present."),FST_ERR_CTP_INVALID_TYPE:ye("FST_ERR_CTP_INVALID_TYPE","The content type should be a string or a RegExp",500,TypeError),FST_ERR_CTP_EMPTY_TYPE:ye("FST_ERR_CTP_EMPTY_TYPE","The content type cannot be an empty string",500,TypeError),FST_ERR_CTP_INVALID_HANDLER:ye("FST_ERR_CTP_INVALID_HANDLER","The content type handler should be a function",500,TypeError),FST_ERR_CTP_INVALID_PARSE_TYPE:ye("FST_ERR_CTP_INVALID_PARSE_TYPE","The body parser can only parse your data as 'string' or 'buffer', you asked '%s' which is not supported.",500,TypeError),FST_ERR_CTP_BODY_TOO_LARGE:ye("FST_ERR_CTP_BODY_TOO_LARGE","Request body is too large",413,RangeError),FST_ERR_CTP_INVALID_MEDIA_TYPE:ye("FST_ERR_CTP_INVALID_MEDIA_TYPE","Unsupported Media Type: %s",415),FST_ERR_CTP_INVALID_CONTENT_LENGTH:ye("FST_ERR_CTP_INVALID_CONTENT_LENGTH","Request body size did not match Content-Length",400,RangeError),FST_ERR_CTP_EMPTY_JSON_BODY:ye("FST_ERR_CTP_EMPTY_JSON_BODY","Body cannot be empty when content-type is set to 'application/json'",400),FST_ERR_CTP_INSTANCE_ALREADY_STARTED:ye("FST_ERR_CTP_INSTANCE_ALREADY_STARTED",'Cannot call "%s" when fastify instance is already started!',400),FST_ERR_DEC_ALREADY_PRESENT:ye("FST_ERR_DEC_ALREADY_PRESENT","The decorator '%s' has already been added!"),FST_ERR_DEC_DEPENDENCY_INVALID_TYPE:ye("FST_ERR_DEC_DEPENDENCY_INVALID_TYPE","The dependencies of decorator '%s' must be of type Array.",500,TypeError),FST_ERR_DEC_MISSING_DEPENDENCY:ye("FST_ERR_DEC_MISSING_DEPENDENCY","The decorator is missing dependency '%s'."),FST_ERR_DEC_AFTER_START:ye("FST_ERR_DEC_AFTER_START","The decorator '%s' has been added after start!"),FST_ERR_HOOK_INVALID_TYPE:ye("FST_ERR_HOOK_INVALID_TYPE","The hook name must be a string",500,TypeError),FST_ERR_HOOK_INVALID_HANDLER:ye("FST_ERR_HOOK_INVALID_HANDLER","%s hook should be a function, instead got %s",500,TypeError),FST_ERR_HOOK_INVALID_ASYNC_HANDLER:ye("FST_ERR_HOOK_INVALID_ASYNC_HANDLER","Async function has too many arguments. Async hooks should not use the 'done' argument.",500,TypeError),FST_ERR_HOOK_NOT_SUPPORTED:ye("FST_ERR_HOOK_NOT_SUPPORTED","%s hook not supported!",500,TypeError),FST_ERR_MISSING_MIDDLEWARE:ye("FST_ERR_MISSING_MIDDLEWARE","You must register a plugin for handling middlewares, visit fastify.dev/docs/latest/Reference/Middleware/ for more info.",500),FST_ERR_HOOK_TIMEOUT:ye("FST_ERR_HOOK_TIMEOUT","A callback for '%s' hook timed out. You may have forgotten to call 'done' function or to resolve a Promise"),FST_ERR_LOG_INVALID_DESTINATION:ye("FST_ERR_LOG_INVALID_DESTINATION","Cannot specify both logger.stream and logger.file options"),FST_ERR_LOG_INVALID_LOGGER:ye("FST_ERR_LOG_INVALID_LOGGER","Invalid logger object provided. The logger instance should have these functions(s): '%s'.",500,TypeError),FST_ERR_REP_INVALID_PAYLOAD_TYPE:ye("FST_ERR_REP_INVALID_PAYLOAD_TYPE","Attempted to send payload of invalid type '%s'. Expected a string or Buffer.",500,TypeError),FST_ERR_REP_RESPONSE_BODY_CONSUMED:ye("FST_ERR_REP_RESPONSE_BODY_CONSUMED","Response.body is already consumed."),FST_ERR_REP_ALREADY_SENT:ye("FST_ERR_REP_ALREADY_SENT",'Reply was already sent, did you forget to "return reply" in "%s" (%s)?'),FST_ERR_REP_SENT_VALUE:ye("FST_ERR_REP_SENT_VALUE","The only possible value for reply.sent is true.",500,TypeError),FST_ERR_SEND_INSIDE_ONERR:ye("FST_ERR_SEND_INSIDE_ONERR","You cannot use `send` inside the `onError` hook"),FST_ERR_SEND_UNDEFINED_ERR:ye("FST_ERR_SEND_UNDEFINED_ERR","Undefined error has occurred"),FST_ERR_BAD_STATUS_CODE:ye("FST_ERR_BAD_STATUS_CODE","Called reply with an invalid status code: %s"),FST_ERR_BAD_TRAILER_NAME:ye("FST_ERR_BAD_TRAILER_NAME","Called reply.trailer with an invalid header name: %s"),FST_ERR_BAD_TRAILER_VALUE:ye("FST_ERR_BAD_TRAILER_VALUE","Called reply.trailer('%s', fn) with an invalid type: %s. Expected a function."),FST_ERR_FAILED_ERROR_SERIALIZATION:ye("FST_ERR_FAILED_ERROR_SERIALIZATION","Failed to serialize an error. Error: %s. Original error: %s"),FST_ERR_MISSING_SERIALIZATION_FN:ye("FST_ERR_MISSING_SERIALIZATION_FN",'Missing serialization function. Key "%s"'),FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN:ye("FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN",'Missing serialization function. Key "%s:%s"'),FST_ERR_REQ_INVALID_VALIDATION_INVOCATION:ye("FST_ERR_REQ_INVALID_VALIDATION_INVOCATION",'Invalid validation invocation. Missing validation function for HTTP part "%s" nor schema provided.'),FST_ERR_SCH_MISSING_ID:ye("FST_ERR_SCH_MISSING_ID","Missing schema $id property"),FST_ERR_SCH_ALREADY_PRESENT:ye("FST_ERR_SCH_ALREADY_PRESENT","Schema with id '%s' already declared!"),FST_ERR_SCH_CONTENT_MISSING_SCHEMA:ye("FST_ERR_SCH_CONTENT_MISSING_SCHEMA","Schema is missing for the content type '%s'"),FST_ERR_SCH_DUPLICATE:ye("FST_ERR_SCH_DUPLICATE","Schema with '%s' already present!"),FST_ERR_SCH_VALIDATION_BUILD:ye("FST_ERR_SCH_VALIDATION_BUILD","Failed building the validation schema for %s: %s, due to error %s"),FST_ERR_SCH_SERIALIZATION_BUILD:ye("FST_ERR_SCH_SERIALIZATION_BUILD","Failed building the serialization schema for %s: %s, due to error %s"),FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX:ye("FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX",'response schemas should be nested under a valid status code, e.g { 2xx: { type: "object" } }'),FST_ERR_HTTP2_INVALID_VERSION:ye("FST_ERR_HTTP2_INVALID_VERSION","HTTP2 is available only from node >= 8.8.1"),FST_ERR_INIT_OPTS_INVALID:ye("FST_ERR_INIT_OPTS_INVALID","Invalid initialization options: '%s'"),FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE:ye("FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE","Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method"),FST_ERR_DUPLICATED_ROUTE:ye("FST_ERR_DUPLICATED_ROUTE","Method '%s' already declared for route '%s'"),FST_ERR_BAD_URL:ye("FST_ERR_BAD_URL","'%s' is not a valid url component",400,URIError),FST_ERR_ASYNC_CONSTRAINT:ye("FST_ERR_ASYNC_CONSTRAINT","Unexpected error from async constraint",500),FST_ERR_DEFAULT_ROUTE_INVALID_TYPE:ye("FST_ERR_DEFAULT_ROUTE_INVALID_TYPE","The defaultRoute type should be a function",500,TypeError),FST_ERR_INVALID_URL:ye("FST_ERR_INVALID_URL","URL must be a string. Received '%s'",400,TypeError),FST_ERR_ROUTE_OPTIONS_NOT_OBJ:ye("FST_ERR_ROUTE_OPTIONS_NOT_OBJ",'Options for "%s:%s" route must be an object',500,TypeError),FST_ERR_ROUTE_DUPLICATED_HANDLER:ye("FST_ERR_ROUTE_DUPLICATED_HANDLER",'Duplicate handler for "%s:%s" route is not allowed!',500),FST_ERR_ROUTE_HANDLER_NOT_FN:ye("FST_ERR_ROUTE_HANDLER_NOT_FN","Error Handler for %s:%s route, if defined, must be a function",500,TypeError),FST_ERR_ROUTE_MISSING_HANDLER:ye("FST_ERR_ROUTE_MISSING_HANDLER",'Missing handler function for "%s:%s" route.',500),FST_ERR_ROUTE_METHOD_INVALID:ye("FST_ERR_ROUTE_METHOD_INVALID","Provided method is invalid!",500,TypeError),FST_ERR_ROUTE_METHOD_NOT_SUPPORTED:ye("FST_ERR_ROUTE_METHOD_NOT_SUPPORTED","%s method is not supported.",500),FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED:ye("FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED","Body validation schema for %s:%s route is not supported!",500),FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT:ye("FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT","'bodyLimit' option must be an integer > 0. Got '%s'",500,TypeError),FST_ERR_ROUTE_REWRITE_NOT_STR:ye("FST_ERR_ROUTE_REWRITE_NOT_STR",'Rewrite url for "%s" needs to be of type "string" but received "%s"',500,TypeError),FST_ERR_REOPENED_CLOSE_SERVER:ye("FST_ERR_REOPENED_CLOSE_SERVER","Fastify has already been closed and cannot be reopened"),FST_ERR_REOPENED_SERVER:ye("FST_ERR_REOPENED_SERVER","Fastify is already listening"),FST_ERR_INSTANCE_ALREADY_LISTENING:ye("FST_ERR_INSTANCE_ALREADY_LISTENING","Fastify instance is already listening. %s"),FST_ERR_PLUGIN_VERSION_MISMATCH:ye("FST_ERR_PLUGIN_VERSION_MISMATCH","fastify-plugin: %s - expected '%s' fastify version, '%s' is installed"),FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE:ye("FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE","The decorator '%s'%s is not present in %s"),FST_ERR_PLUGIN_CALLBACK_NOT_FN:ye("FST_ERR_PLUGIN_CALLBACK_NOT_FN","fastify-plugin: %s",500,TypeError),FST_ERR_PLUGIN_NOT_VALID:ye("FST_ERR_PLUGIN_NOT_VALID","fastify-plugin: %s"),FST_ERR_ROOT_PLG_BOOTED:ye("FST_ERR_ROOT_PLG_BOOTED","fastify-plugin: %s"),FST_ERR_PARENT_PLUGIN_BOOTED:ye("FST_ERR_PARENT_PLUGIN_BOOTED","fastify-plugin: %s"),FST_ERR_PLUGIN_TIMEOUT:ye("FST_ERR_PLUGIN_TIMEOUT","fastify-plugin: %s")};function Hme(e,t){return t.cause=e,t}by.exports=Rd;by.exports.appendStackTrace=Hme;by.exports.AVVIO_ERRORS_MAP={AVV_ERR_CALLBACK_NOT_FN:Rd.FST_ERR_PLUGIN_CALLBACK_NOT_FN,AVV_ERR_PLUGIN_NOT_VALID:Rd.FST_ERR_PLUGIN_NOT_VALID,AVV_ERR_ROOT_PLG_BOOTED:Rd.FST_ERR_ROOT_PLG_BOOTED,AVV_ERR_PARENT_PLG_LOADED:Rd.FST_ERR_PARENT_PLUGIN_BOOTED,AVV_ERR_READY_TIMEOUT:Rd.FST_ERR_PLUGIN_TIMEOUT}});var lc=I((rut,RL)=>{"use strict";var zme=["onRoute","onRegister","onReady","onListen","preClose","onClose"],CL=["onTimeout","onRequest","preParsing","preValidation","preSerialization","preHandler","onSend","onResponse","onError","onRequestAbort"],Gme=CL.concat(zme),{FST_ERR_HOOK_INVALID_TYPE:Vme,FST_ERR_HOOK_INVALID_HANDLER:Kme,FST_ERR_SEND_UNDEFINED_ERR:Ey,FST_ERR_HOOK_TIMEOUT:Yme,FST_ERR_HOOK_NOT_SUPPORTED:Wme,AVVIO_ERRORS_MAP:vL,appendStackTrace:_L}=Ln(),{kChildren:g0,kHooks:wL,kRequestPayloadStream:IL}=cn();function A0(){this.onRequest=[],this.preParsing=[],this.preValidation=[],this.preSerialization=[],this.preHandler=[],this.onResponse=[],this.onSend=[],this.onError=[],this.onRoute=[],this.onRegister=[],this.onReady=[],this.onListen=[],this.onTimeout=[],this.onRequestAbort=[],this.preClose=[]}A0.prototype=Object.create(null);A0.prototype.validate=function(e,t){if(typeof e!="string")throw new Vme;if(Array.isArray(this[e])===!1)throw new Wme(e);if(typeof t!="function")throw new Kme(e,Object.prototype.toString.call(t))};A0.prototype.add=function(e,t){this.validate(e,t),this[e].push(t)};function Jme(e){let t=new A0;return t.onRequest=e.onRequest.slice(),t.preParsing=e.preParsing.slice(),t.preValidation=e.preValidation.slice(),t.preSerialization=e.preSerialization.slice(),t.preHandler=e.preHandler.slice(),t.onSend=e.onSend.slice(),t.onResponse=e.onResponse.slice(),t.onError=e.onError.slice(),t.onRoute=e.onRoute.slice(),t.onRegister=e.onRegister.slice(),t.onTimeout=e.onTimeout.slice(),t.onRequestAbort=e.onRequestAbort.slice(),t.onReady=[],t.onListen=[],t.preClose=[],t}function SL(e,t,r,n){let s=r[wL][e],i=0,a=0;c();function o(l){if(l){l.code==="AVV_ERR_READY_TIMEOUT"?l=_L(l,new Yme(e)):l=vL[l.code]!=null?_L(l,new vL[l.code](l.message)):l,n(l);return}n()}function c(l){if(l){o(l);return}if(i===s.length&&a===r[g0].length){i===0&&a===0?o():t(function(f,h){o(f),h(f)});return}if(i===s.length&&a<r[g0].length){let d=r[g0][a++];SL(e,t,d,c);return}t(u(s[i++],r)),c()}function u(l,d){return function(f,h){if(f){h(f);return}if(l.length===1){try{l.call(d,h)}catch(p){h(p)}return}try{let p=l.call(d);if(p&&typeof p.then=="function"){p.then(h,h);return}}catch(p){f=p}h(f)}}}function TL(e){let t=e[wL].onListen,r=t.length,n=0,s=0;i();function i(o){if(o&&e.log.error(o),n===r){for(;s<e[g0].length;){let c=e[g0][s++];TL(c)}return}a(t[n++],e,i)}async function a(o,c,u){if(o.length===1){try{o.call(c,u)}catch(l){u(l)}return}try{let l=o.call(c);if(l&&typeof l.then=="function"){l.then(u,u);return}u()}catch(l){u(l)}}}function Nd(e){return function(r,n,s,i){let a=0;function o(l){if(l||a===r.length){i(l,n,s);return}let d;try{d=e(r[a++],n,s,o)}catch(f){i(f,n,s);return}d&&typeof d.then=="function"&&d.then(c,u)}function c(){o()}function u(l){l||(l=new Ey),i(l,n,s)}o()}}function Xme(e,t,r,n){return e(t,r,n)}var Zme=Nd(Xme),ege=Nd(y0),tge=Nd(y0),rge=Nd(y0),nge=Nd(y0);function BL(e,t,r,n,s){let i=0;function a(u,l){if(u){s(u,t,r,n);return}if(l!==void 0&&(n=l),i===e.length){s(null,t,r,n);return}let d;try{d=e[i++](t,r,n,a)}catch(f){s(f,t,r);return}d&&typeof d.then=="function"&&d.then(o,c)}function o(u){a(null,u)}function c(u){u||(u=new Ey),s(u,t,r,n)}a()}var sge=BL;function ige(e,t,r,n){let s=0;function i(c,u){if(r.sent)return;if(u!==void 0&&(t[IL]=u),c||s===e.length){n(c,t,r);return}let l;try{l=e[s++](t,r,t[IL],i)}catch(d){n(d,t,r);return}l&&typeof l.then=="function"&&l.then(a,o)}function a(c){i(null,c)}function o(c){c||(c=new Ey),n(c,t,r)}i()}function age(e,t,r){let n=0;function s(o){if(o||n===e.length){r(o,t);return}let c;try{c=e[n++](t,s)}catch(u){r(u,t);return}c&&typeof c.then=="function"&&c.then(i,a)}function i(){s()}function a(o){o||(o=new Ey),r(o,t)}s()}function y0(e,t,r,n){if(r.sent!==!0)return e(t,r,n)}RL.exports={Hooks:A0,buildHooks:Jme,hookRunnerGenerator:Nd,preParsingHookRunner:ige,onResponseHookRunner:Zme,onSendHookRunner:BL,preSerializationHookRunner:sge,onRequestAbortHookRunner:age,hookIterator:y0,hookRunnerApplication:SL,onListenHookRunner:TL,preHandlerHookRunner:tge,preValidationHookRunner:ege,onRequestHookRunner:nge,onTimeoutHookRunner:rge,lifecycleHooks:CL,supportedHooks:Gme}});var QL=I((nut,$2)=>{"use strict";var oge=require("node:http"),cge=require("node:https"),uge=require("node:dns"),{FSTDEP011:NL}=oo(),{kState:Mn,kOptions:lge,kServerBindings:dge}=cn(),{onListenHookRunner:xy}=lc(),{FST_ERR_HTTP2_INVALID_VERSION:fge,FST_ERR_REOPENED_CLOSE_SERVER:PL,FST_ERR_REOPENED_SERVER:OL,FST_ERR_LISTEN_OPTIONS_INVALID:pge}=Ln();$2.exports.createServer=hge;$2.exports.compileValidateHTTPVersion=gge;function $L(e){return`Server listening at ${e}`}function hge(e,t){let r=ML(e,t);function n(s,...i){let a=i.slice(-1).pop(),o=Object.prototype.toString.call(arguments[0]);if(arguments.length===0)s=O2([]);else if(arguments.length>0&&o!=="[object Object]"&&o!=="[object Function]")NL(),s=O2(Array.from(arguments)),a=s.cb;else if(i.length>1){NL();let u=s.path?[s.path]:[s.port??0,s.host??"localhost"];Object.assign(s,O2([...u,...i]))}else s.cb=a;if(s.signal){if(typeof s.signal.on!="function"&&typeof s.signal.addEventListener!="function")throw new pge("Invalid options.signal");if(s.signal.aborted)this.close();else{let u=()=>{this.close()};s.signal.addEventListener("abort",u,{once:!0})}}let c;if(s.path==null?c=s.host??"localhost":c=s.host,Object.prototype.hasOwnProperty.call(s,"host")===!1&&(s.host=c),c==="localhost"?s.cb=(u,l)=>{if(u){a(u,l);return}kL.call(this,r,t,e,s,()=>{this[Mn].listening=!0,a(null,l),xy(this)})}:s.cb=(u,l)=>{if(u){a(u,l);return}this[Mn].listening=!0,a(null,l),xy(this)},a===void 0)return mge.call(this,r,s).then(l=>new Promise((d,f)=>{c==="localhost"?kL.call(this,r,t,e,s,()=>{this[Mn].listening=!0,d(l),xy(this)}):(d(l),xy(this))}));this.ready(LL.call(this,r,s))}return{server:r,listen:n}}function kL(e,t,r,n,s){this[Mn].listening=!1,uge.lookup(n.host,{all:!0},(i,a)=>{if(i){s();return}let o=e.listening&&r.serverFactory,c=0,u=0;if(!o){let d=e.address();for(let f of a)if(f.address!==d.address){c++;let h=Object.assign({},n,{host:f.address,port:d.port,cb:A=>{u++,A||this[dge].push(p),u===c&&s()}}),p=ML(r,t),m=()=>{p.close(()=>{}),r.forceCloseConnections==="idle"?p.closeIdleConnections():typeof p.closeAllConnections=="function"&&r.forceCloseConnections&&p.closeAllConnections()};p.on("upgrade",e.emit.bind(e,"upgrade")),e.on("unref",m),e.on("close",m),e.on("error",m),this[Mn].listening=!1,LL.call(this,p,h)()}}if(c===0){s();return}let l=e.unref;e.unref=function(){l.call(e),e.emit("unref")}})}function LL(e,t){let r=n=>{if(e.removeListener("error",r),n)this[Mn].listening=!1,t.cb(n,null);else{let s=FL.call(this,e,t.listenTextResolver||$L);t.cb(null,s)}};return n=>{if(n!=null)return t.cb(n);if(this[Mn].listening&&this[Mn].closing)return t.cb(new PL,null);if(this[Mn].listening)return t.cb(new OL,null);e.once("error",r),this[Mn].closing||(e.listen(t,r),this[Mn].listening=!0)}}function mge(e,t){return this[Mn].listening&&this[Mn].closing?Promise.reject(new PL):this[Mn].listening?Promise.reject(new OL):this.ready().then(()=>{let r,n=new Promise((i,a)=>{r=o=>{this[Mn].listening=!1,a(o)},e.once("error",r)}),s=new Promise((i,a)=>{e.listen(t,()=>{e.removeListener("error",r),i(FL.call(this,e,t.listenTextResolver||$L))}),this[Mn].listening=!0});return Promise.race([n,s])})}function gge(e){let t=!1,r=new Map;return e.serverFactory&&(t=!0),e.http2?(r.set("2.0",!0),e.https&&e.https.allowHTTP1===!0&&(r.set("1.1",!0),r.set("1.0",!0))):(r.set("1.1",!0),r.set("1.0",!0)),function(s){return t||r.has(s)}}function ML(e,t){let r=null,n=e.https===!0?{}:e.https;return e.serverFactory?r=e.serverFactory(t,e):e.http2?(typeof n=="object"?r=DL().createSecureServer(n,t):r=DL().createServer(t),r.on("session",yge(e.http2SessionTimeout))):(n?r=cge.createServer(n,t):r=oge.createServer(e.http,t),r.keepAliveTimeout=e.keepAliveTimeout,r.requestTimeout=e.requestTimeout,e.maxRequestsPerSocket>0&&(r.maxRequestsPerSocket=e.maxRequestsPerSocket)),e.serverFactory||r.setTimeout(e.connectionTimeout),r}function O2(e){if(e.length===0)return{port:0,host:"localhost"};let r={cb:typeof e[e.length-1]=="function"?e.pop():void 0},n=e[0],s=e.length,i=e[s-1];return typeof n=="string"&&isNaN(n)?(r.path=n,r.backlog=s>1?i:void 0):(r.port=s>=1&&Number.isInteger(n)?n:Age(n),r.host=s>=2&&e[1]?e[1]:"localhost",r.backlog=s>=3?e[2]:void 0),r}function Age(e){let t=Number(e);return t>=0&&!Number.isNaN(t)&&Number.isInteger(t)?t:0}function FL(e,t){let r=e.address(),n=typeof r=="string";n||(r.address.indexOf(":")===-1?r=r.address+":"+r.port:r="["+r.address+"]:"+r.port),r=(n?"":"http"+(this[lge].https?"s":"")+"://")+r;let s=t(r);return this.log.info(s),r}function DL(){try{return require("node:http2")}catch{throw new fge}}function yge(e){return function(t){t.setTimeout(e,bge)}}function bge(){this.close()}});var Q2=I((sut,qL)=>{"use strict";var{kSchemaHeaders:Iy,kSchemaParams:L2,kSchemaQuerystring:M2,kSchemaBody:F2,kSchemaResponse:UL}=cn(),Ege=/^[1-5]{1}[0-9]{2}$|^[1-5]xx$|^default$/,{FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX:xge}=Ln(),{FSTWRN001:vy}=oo();function vge(e,t){if(!e.schema||!e.schema.response)return;let{method:r,url:n}=e.config||{};e[UL]=Object.keys(e.schema.response).reduce(function(s,i){let a=e.schema.response[i];if(i=i.toLowerCase(),!Ege.exec(i))throw new xge;if(a.content){let o={};for(let c of Object.keys(a.content)){let u=a.content[c].schema;o[c]=t({schema:u,url:n,method:r,httpStatus:i,contentType:c})}s[i]=o}else s[i]=t({schema:a,url:n,method:r,httpStatus:i});return s},{})}function _ge(e,t,r){let{schema:n}=e;if(!n)return;let{method:s,url:i}=e.config||{},a=n.headers;if(a&&(r||Object.getPrototypeOf(a)!==Object.prototype))e[Iy]=t({schema:a,method:s,url:i,httpPart:"headers"});else if(a){let o={};Object.keys(a).forEach(c=>{o[c]=a[c]}),o.required instanceof Array&&(o.required=o.required.map(c=>c.toLowerCase())),a.properties&&(o.properties={},Object.keys(a.properties).forEach(c=>{o.properties[c.toLowerCase()]=a.properties[c]})),e[Iy]=t({schema:o,method:s,url:i,httpPart:"headers"})}else Object.prototype.hasOwnProperty.call(n,"headers")&&vy("headers",s,i);n.body?e[F2]=t({schema:n.body,method:s,url:i,httpPart:"body"}):Object.prototype.hasOwnProperty.call(n,"body")&&vy("body",s,i),n.querystring?e[M2]=t({schema:n.querystring,method:s,url:i,httpPart:"querystring"}):Object.prototype.hasOwnProperty.call(n,"querystring")&&vy("querystring",s,i),n.params?e[L2]=t({schema:n.params,method:s,url:i,httpPart:"params"}):Object.prototype.hasOwnProperty.call(n,"params")&&vy("params",s,i)}function _y(e,t,r){let n=t[r]===void 0,s=e&&e(n?null:t[r]);if(s?.then)return s.then(a=>i(a)).catch(a=>a);return i(s);function i(a){return a===!1?e.errors:a&&a.error?a.error:(a&&a.value&&(t[r]=a.value),!1)}}function Cy(e,t,r){let n=r===void 0;if(n||!r.skipParams){let i=_y(e[L2],t,"params");if(i)return typeof i.then!="function"?dc(i,"params",e.schemaErrorFormatter):Ige(i,e,t)}if(n||!r.skipBody){let i=_y(e[F2],t,"body");if(i)return typeof i.then!="function"?dc(i,"body",e.schemaErrorFormatter):Cge(i,e,t)}if(n||!r.skipQuery){let i=_y(e[M2],t,"query");if(i)return typeof i.then!="function"?dc(i,"querystring",e.schemaErrorFormatter):wge(i,e,t)}let s=_y(e[Iy],t,"headers");return s?typeof s.then!="function"?dc(s,"headers",e.schemaErrorFormatter):Sge(s,e,t):!1}function Ige(e,t,r){return e.then(n=>n?dc(n,"params",t.schemaErrorFormatter):Cy(t,r,{skipParams:!0}))}function Cge(e,t,r){return e.then(n=>n?dc(n,"body",t.schemaErrorFormatter):Cy(t,r,{skipParams:!0,skipBody:!0}))}function wge(e,t,r){return e.then(n=>n?dc(n,"querystring",t.schemaErrorFormatter):Cy(t,r,{skipParams:!0,skipBody:!0,skipQuery:!0}))}function Sge(e,t,r){return e.then(n=>n?dc(n,"headers",t.schemaErrorFormatter):!1)}function dc(e,t,r){if(e instanceof Error)return e.statusCode=e.statusCode||400,e.code=e.code||"FST_ERR_VALIDATION",e.validationContext=e.validationContext||t,e;let n=r(e,t);return n.statusCode=n.statusCode||400,n.code=n.code||"FST_ERR_VALIDATION",n.validation=e,n.validationContext=t,n}qL.exports={symbols:{bodySchema:F2,querystringSchema:M2,responseSchema:UL,paramsSchema:L2,headersSchema:Iy},compileSchemasForValidation:_ge,compileSchemasForSerialization:vge,validate:Cy}});var U2=I((iut,HL)=>{"use strict";var{kReplyIsError:jL,kReplyHijacked:Tge}=cn();function Bge(e,t){e.then(function(r){if(t[Tge]!==!0&&(r!==void 0||t.sent===!1&&t.raw.headersSent===!1&&t.request.raw.aborted===!1))try{t.send(r)}catch(n){t[jL]=!0,t.send(n)}},function(r){if(t.sent===!0){t.log.error({err:r},"Promise errored, but reply.sent = true was set");return}t[jL]=!0;try{t.send(r)}catch(n){t.send(n)}})}HL.exports=Bge});var z2=I((aut,H2)=>{"use strict";var{validate:Rge}=Q2(),{preValidationHookRunner:Nge,preHandlerHookRunner:kge}=lc(),Dge=U2(),{kReplyIsError:wy,kRouteContext:pc}=cn();function Pge(e,t,r){if(r.sent===!0)return;if(e!=null){r[wy]=!0,r.send(e);return}let n=t.raw.method,s=t.headers,i=t[pc];if(n==="GET"||n==="HEAD"){fc(t,r);return}let a=s["content-type"];if(n==="POST"||n==="PUT"||n==="PATCH"||n==="TRACE"||n==="SEARCH"){a===void 0?s["transfer-encoding"]===void 0&&(s["content-length"]==="0"||s["content-length"]===void 0)?fc(t,r):i.contentTypeParser.run("",fc,t,r):i.contentTypeParser.run(a,fc,t,r);return}if(n==="OPTIONS"||n==="DELETE"){a!==void 0&&(s["transfer-encoding"]!==void 0||s["content-length"]!==void 0)?i.contentTypeParser.run(a,fc,t,r):fc(t,r);return}fc(t,r)}function fc(e,t){try{e[pc].preValidation!==null?Nge(e[pc].preValidation,e,t,q2):q2(null,e,t)}catch(r){q2(r,e,t)}}function q2(e,t,r){if(r.sent===!0)return;if(e!=null){r[wy]=!0,r.send(e);return}let n=Rge(r[pc],t);if(n&&typeof n.then=="function"||!1){let i=zL.bind(null,t,r);n.then(i,i)}else zL(t,r,n)}function zL(e,t,r){if(r){if(t[pc].attachValidation===!1){t.send(r);return}t.request.validationError=r}e[pc].preHandler!==null?kge(e[pc].preHandler,e,t,j2):j2(null,e,t)}function j2(e,t,r){if(r.sent)return;if(e!=null){r[wy]=!0,r.send(e);return}let n;try{n=t[pc].handler(t,r)}catch(s){r[wy]=!0,r.send(s);return}n!==void 0&&(n!==null&&typeof n.then=="function"?Dge(n,r):r.send(n))}H2.exports=Pge;H2.exports[Symbol.for("internals")]={handler:fc,preHandlerCallback:j2}});var VL=I((out,GL)=>{"use strict";function kd(){}var Oge={fatal:kd,error:kd,warn:kd,info:kd,debug:kd,trace:kd};Object.defineProperty(GL,"exports",{get(){return Object.create(Oge)}})});var V2=I((cut,WL)=>{"use strict";var b0=e=>e&&typeof e.message=="string",G2=e=>{if(!e)return;let t=e.cause;if(typeof t=="function"){let r=e.cause();return b0(r)?r:void 0}else return b0(t)?t:void 0},KL=(e,t)=>{if(!b0(e))return"";let r=e.stack||"";if(t.has(e))return r+`
causes have become circular...`;let n=G2(e);return n?(t.add(e),r+`
caused by: `+KL(n,t)):r},$ge=e=>KL(e,new Set),YL=(e,t,r)=>{if(!b0(e))return"";let n=r?"":e.message||"";if(t.has(e))return n+": ...";let s=G2(e);if(s){t.add(e);let i=typeof e.cause=="function";return n+(i?"":": ")+YL(s,t,i)}else return n},Lge=e=>YL(e,new Set);WL.exports={isErrorLike:b0,getErrorCause:G2,stackWithCauses:$ge,messageWithCauses:Lge}});var K2=I((uut,XL)=>{"use strict";var Mge=Symbol("circular-ref-tag"),Sy=Symbol("pino-raw-err-ref"),JL=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},aggregateErrors:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[Sy]},set:function(e){this[Sy]=e}}});Object.defineProperty(JL,Sy,{writable:!0,value:{}});XL.exports={pinoErrProto:JL,pinoErrorSymbols:{seen:Mge,rawSymbol:Sy}}});var tM=I((lut,eM)=>{"use strict";eM.exports=W2;var{messageWithCauses:Fge,stackWithCauses:Qge,isErrorLike:ZL}=V2(),{pinoErrProto:Uge,pinoErrorSymbols:qge}=K2(),{seen:Y2}=qge,{toString:jge}=Object.prototype;function W2(e){if(!ZL(e))return e;e[Y2]=void 0;let t=Object.create(Uge);t.type=jge.call(e.constructor)==="[object Function]"?e.constructor.name:e.name,t.message=Fge(e),t.stack=Qge(e),Array.isArray(e.errors)&&(t.aggregateErrors=e.errors.map(r=>W2(r)));for(let r in e)if(t[r]===void 0){let n=e[r];ZL(n)?r!=="cause"&&!Object.prototype.hasOwnProperty.call(n,Y2)&&(t[r]=W2(n)):t[r]=n}return delete e[Y2],t.raw=e,t}});var nM=I((dut,rM)=>{"use strict";rM.exports=By;var{isErrorLike:J2}=V2(),{pinoErrProto:Hge,pinoErrorSymbols:zge}=K2(),{seen:Ty}=zge,{toString:Gge}=Object.prototype;function By(e){if(!J2(e))return e;e[Ty]=void 0;let t=Object.create(Hge);t.type=Gge.call(e.constructor)==="[object Function]"?e.constructor.name:e.name,t.message=e.message,t.stack=e.stack,Array.isArray(e.errors)&&(t.aggregateErrors=e.errors.map(r=>By(r))),J2(e.cause)&&!Object.prototype.hasOwnProperty.call(e.cause,Ty)&&(t.cause=By(e.cause));for(let r in e)if(t[r]===void 0){let n=e[r];J2(n)?Object.prototype.hasOwnProperty.call(n,Ty)||(t[r]=By(n)):t[r]=n}return delete e[Ty],t.raw=e,t}});var oM=I((fut,aM)=>{"use strict";aM.exports={mapHttpRequest:Vge,reqSerializer:iM};var X2=Symbol("pino-raw-req-ref"),sM=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},query:{enumerable:!0,writable:!0,value:""},params:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[X2]},set:function(e){this[X2]=e}}});Object.defineProperty(sM,X2,{writable:!0,value:{}});function iM(e){let t=e.info||e.socket,r=Object.create(sM);if(r.id=typeof e.id=="function"?e.id():e.id||(e.info?e.info.id:void 0),r.method=e.method,e.originalUrl)r.url=e.originalUrl;else{let n=e.path;r.url=typeof n=="string"?n:e.url?e.url.path||e.url:void 0}return e.query&&(r.query=e.query),e.params&&(r.params=e.params),r.headers=e.headers,r.remoteAddress=t&&t.remoteAddress,r.remotePort=t&&t.remotePort,r.raw=e.raw||e,r}function Vge(e){return{req:iM(e)}}});var dM=I((put,lM)=>{"use strict";lM.exports={mapHttpResponse:Kge,resSerializer:uM};var Z2=Symbol("pino-raw-res-ref"),cM=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[Z2]},set:function(e){this[Z2]=e}}});Object.defineProperty(cM,Z2,{writable:!0,value:{}});function uM(e){let t=Object.create(cM);return t.statusCode=e.headersSent?e.statusCode:null,t.headers=e.getHeaders?e.getHeaders():e._headers,t.raw=e,t}function Kge(e){return{res:uM(e)}}});var tC=I((hut,fM)=>{"use strict";var eC=tM(),Yge=nM(),Ry=oM(),Ny=dM();fM.exports={err:eC,errWithCause:Yge,mapHttpRequest:Ry.mapHttpRequest,mapHttpResponse:Ny.mapHttpResponse,req:Ry.reqSerializer,res:Ny.resSerializer,wrapErrorSerializer:function(t){return t===eC?t:function(n){return t(eC(n))}},wrapRequestSerializer:function(t){return t===Ry.reqSerializer?t:function(n){return t(Ry.reqSerializer(n))}},wrapResponseSerializer:function(t){return t===Ny.resSerializer?t:function(n){return t(Ny.resSerializer(n))}}}});var rC=I((mut,pM)=>{"use strict";function Wge(e,t){return t}pM.exports=function(){let t=Error.prepareStackTrace;Error.prepareStackTrace=Wge;let r=new Error().stack;if(Error.prepareStackTrace=t,!Array.isArray(r))return;let n=r.slice(2),s=[];for(let i of n)i&&s.push(i.getFileName());return s}});var mM=I((gut,hM)=>{"use strict";hM.exports=Jge;function Jge(e={}){let{ERR_PATHS_MUST_BE_STRINGS:t=()=>"fast-redact - Paths must be (non-empty) strings",ERR_INVALID_PATH:r=n=>`fast-redact \u2013 Invalid path (${n})`}=e;return function({paths:s}){s.forEach(i=>{if(typeof i!="string")throw Error(t());try{if(//.test(i))throw Error();let a=(i[0]==="["?"":".")+i.replace(/^\*/,"\u3007").replace(/\.\*/g,".\u3007").replace(/\[\*\]/g,"[\u3007]");if(/\n|\r|;/.test(a)||/\/\*/.test(a))throw Error();Function(`
            'use strict'
            const o = new Proxy({}, { get: () => o, set: () => { throw Error() } });
            const \u3007 = null;
            o${a}
            if ([o${a}].length !== 1) throw Error()`)()}catch{throw Error(r(i))}})}}});var ky=I((Aut,gM)=>{"use strict";gM.exports=/[^.[\]]+|\[((?:.)*?)\]/g});var yM=I((yut,AM)=>{"use strict";var Xge=ky();AM.exports=Zge;function Zge({paths:e}){let t=[];var r=0;let n=e.reduce(function(s,i,a){var o=i.match(Xge).map(l=>l.replace(/'|"|`/g,""));let c=i[0]==="[";o=o.map(l=>l[0]==="["?l.substr(1,l.length-2):l);let u=o.indexOf("*");if(u>-1){let l=o.slice(0,u),d=l.join("."),f=o.slice(u+1,o.length),h=f.length>0;r++,t.push({before:l,beforeStr:d,after:f,nested:h})}else s[i]={path:o,val:void 0,precensored:!1,circle:"",escPath:JSON.stringify(i),leadingBracket:c};return s},{});return{wildcards:t,wcLen:r,secret:n}}});var EM=I((but,bM)=>{"use strict";var eAe=ky();bM.exports=tAe;function tAe({secret:e,serialize:t,wcLen:r,strict:n,isCensorFct:s,censorFctTakesPath:i},a){let o=Function("o",`
    if (typeof o !== 'object' || o == null) {
      ${iAe(n,t)}
    }
    const { censor, secret } = this
    const originalSecret = {}
    const secretKeys = Object.keys(secret)
    for (var i = 0; i < secretKeys.length; i++) {
      originalSecret[secretKeys[i]] = secret[secretKeys[i]]
    }

    ${rAe(e,s,i)}
    this.compileRestore()
    ${nAe(r>0,s,i)}
    this.secret = originalSecret
    ${sAe(t)}
  `).bind(a);return o.state=a,t===!1&&(o.restore=c=>a.restore(c)),o}function rAe(e,t,r){return Object.keys(e).map(n=>{let{escPath:s,leadingBracket:i,path:a}=e[n],o=i?1:0,c=i?"":".",u=[];for(var l;(l=eAe.exec(n))!==null;){let[,p]=l,{index:m,input:A}=l;m>o&&u.push(A.substring(0,m-(p?0:1)))}var d=u.map(p=>`o${c}${p}`).join(" && ");d.length===0?d+=`o${c}${n} != null`:d+=` && o${c}${n} != null`;let f=`
      switch (true) {
        ${u.reverse().map(p=>`
          case o${c}${p} === censor:
            secret[${s}].circle = ${JSON.stringify(p)}
            break
        `).join(`
`)}
      }
    `,h=r?`val, ${JSON.stringify(a)}`:"val";return`
      if (${d}) {
        const val = o${c}${n}
        if (val === censor) {
          secret[${s}].precensored = true
        } else {
          secret[${s}].val = val
          o${c}${n} = ${t?`censor(${h})`:"censor"}
          ${f}
        }
      }
    `}).join(`
`)}function nAe(e,t,r){return e===!0?`
    {
      const { wildcards, wcLen, groupRedact, nestedRedact } = this
      for (var i = 0; i < wcLen; i++) {
        const { before, beforeStr, after, nested } = wildcards[i]
        if (nested === true) {
          secret[beforeStr] = secret[beforeStr] || []
          nestedRedact(secret[beforeStr], o, before, after, censor, ${t}, ${r})
        } else secret[beforeStr] = groupRedact(o, before, censor, ${t}, ${r})
      }
    }
  `:""}function sAe(e){return e===!1?"return o":`
    var s = this.serialize(o)
    this.restore(o)
    return s
  `}function iAe(e,t){return e===!0?"throw Error('fast-redact: primitives cannot be redacted')":t===!1?"return o":"return this.serialize(o)"}});var sC=I((Eut,_M)=>{"use strict";_M.exports={groupRedact:oAe,groupRestore:aAe,nestedRedact:uAe,nestedRestore:cAe};function aAe({keys:e,values:t,target:r}){if(r==null||typeof r=="string")return;let n=e.length;for(var s=0;s<n;s++){let i=e[s];r[i]=t[s]}}function oAe(e,t,r,n,s){let i=xM(e,t);if(i==null||typeof i=="string")return{keys:null,values:null,target:i,flat:!0};let a=Object.keys(i),o=a.length,c=t.length,u=s?[...t]:void 0,l=new Array(o);for(var d=0;d<o;d++){let f=a[d];l[d]=i[f],s?(u[c]=f,i[f]=r(i[f],u)):n?i[f]=r(i[f]):i[f]=r}return{keys:a,values:l,target:i,flat:!0}}function cAe(e){for(let t=0;t<e.length;t++){let{target:r,path:n,value:s}=e[t],i=r;for(let a=n.length-1;a>0;a--)i=i[n[a]];i[n[0]]=s}}function uAe(e,t,r,n,s,i,a){let o=xM(t,r);if(o==null)return;let c=Object.keys(o),u=c.length;for(var l=0;l<u;l++){let d=c[l];lAe(e,o,d,r,n,s,i,a)}return e}function nC(e,t){return e!=null?"hasOwn"in Object?Object.hasOwn(e,t):Object.prototype.hasOwnProperty.call(e,t):!1}function lAe(e,t,r,n,s,i,a,o){let c=s.length,u=c-1,l=r;var d=-1,f,h,p,m=null,A=null,g,x,y=!1,b=0,_=0,C=dAe();if(p=f=t[r],typeof f=="object"){for(;f!=null&&++d<c&&(_+=1,r=s[d],m=p,!(r!=="*"&&!A&&!(typeof f=="object"&&r in f)));)if(!(r==="*"&&(A==="*"&&(y=!0),A=r,d!==u))){if(A){let S=Object.keys(f);for(var w=0;w<S.length;w++){let T=S[w];if(x=f[T],g=r==="*",y)C=co(C,T,_),b=d,p=vM(x,b-1,r,n,s,i,a,o,l,f,h,p,g,T,d,u,C,e,t[l],_+1);else if(g||typeof x=="object"&&x!==null&&r in x){if(g?p=x:p=x[r],h=d!==u?p:a?o?i(p,[...n,l,...s]):i(p):i,g){let R=E0(co(C,T,_),p,t[l]);e.push(R),f[T]=h}else if(x[r]!==h)if(h===void 0&&i!==void 0||nC(x,r)&&h===p)C=co(C,T,_);else{C=co(C,T,_);let R=E0(co(C,r,_+1),p,t[l]);e.push(R),x[r]=h}}}A=null}else{if(p=f[r],C=co(C,r,_),h=d!==u?p:a?o?i(p,[...n,l,...s]):i(p):i,!(nC(f,r)&&h===p||h===void 0&&i!==void 0)){let S=E0(C,p,t[l]);e.push(S),f[r]=h}f=f[r]}if(typeof f!="object")break}}}function xM(e,t){for(var r=-1,n=t.length,s=e;s!=null&&++r<n;)s=s[t[r]];return s}function vM(e,t,r,n,s,i,a,o,c,u,l,d,f,h,p,m,A,g,x,y){if(t===0&&(f||typeof e=="object"&&e!==null&&r in e)){if(f?d=e:d=e[r],l=p!==m?d:a?o?i(d,[...n,c,...s]):i(d):i,f){let b=E0(A,d,x);g.push(b),u[h]=l}else if(e[r]!==l){if(!(l===void 0&&i!==void 0||nC(e,r)&&l===d)){let b=E0(co(A,r,y+1),d,x);g.push(b),e[r]=l}}}for(let b in e)typeof e[b]=="object"&&(A=co(A,b,y),vM(e[b],t-1,r,n,s,i,a,o,c,u,l,d,f,h,p,m,A,g,x,y+1))}function dAe(){return{parent:null,key:null,children:[],depth:0}}function co(e,t,r){if(e.depth===r)return co(e.parent,t,r);var n={parent:e,key:t,depth:r,children:[]};return e.children.push(n),n}function E0(e,t,r){let n=e,s=[];do s.push(n.key),n=n.parent;while(n.parent!=null);return{path:s,value:t,target:r}}});var CM=I((xut,IM)=>{"use strict";var{groupRestore:fAe,nestedRestore:pAe}=sC();IM.exports=hAe;function hAe(){return function(){if(this.restore){this.restore.state.secret=this.secret;return}let{secret:t,wcLen:r}=this,n=Object.keys(t),s=mAe(t,n),i=r>0,a=i?{secret:t,groupRestore:fAe,nestedRestore:pAe}:{secret:t};this.restore=Function("o",gAe(s,n,i)).bind(a),this.restore.state=a}}function mAe(e,t){return t.map(r=>{let{circle:n,escPath:s,leadingBracket:i}=e[r],o=n?`o.${n} = secret[${s}].val`:`o${i?"":"."}${r} = secret[${s}].val`,c=`secret[${s}].val = undefined`;return`
      if (secret[${s}].val !== undefined) {
        try { ${o} } catch (e) {}
        ${c}
      }
    `}).join("")}function gAe(e,t,r){return`
    const secret = this.secret
    ${r===!0?`
    const keys = Object.keys(secret)
    const len = keys.length
    for (var i = len - 1; i >= ${t.length}; i--) {
      const k = keys[i]
      const o = secret[k]
      if (o) {
        if (o.flat === true) this.groupRestore(o)
        else this.nestedRestore(o)
        secret[k] = null
      }
    }
  `:""}
    ${e}
    return o
  `}});var SM=I((vut,wM)=>{"use strict";wM.exports=AAe;function AAe(e){let{secret:t,censor:r,compileRestore:n,serialize:s,groupRedact:i,nestedRedact:a,wildcards:o,wcLen:c}=e,u=[{secret:t,censor:r,compileRestore:n}];return s!==!1&&u.push({serialize:s}),c>0&&u.push({groupRedact:i,nestedRedact:a,wildcards:o,wcLen:c}),Object.assign(...u)}});var RM=I((_ut,BM)=>{"use strict";var TM=mM(),yAe=yM(),bAe=EM(),EAe=CM(),{groupRedact:xAe,nestedRedact:vAe}=sC(),_Ae=SM(),IAe=ky(),CAe=TM(),iC=e=>e;iC.restore=iC;var wAe="[REDACTED]";aC.rx=IAe;aC.validator=TM;BM.exports=aC;function aC(e={}){let t=Array.from(new Set(e.paths||[])),r="serialize"in e&&(e.serialize===!1||typeof e.serialize=="function")?e.serialize:JSON.stringify,n=e.remove;if(n===!0&&r!==JSON.stringify)throw Error("fast-redact \u2013 remove option may only be set when serializer is JSON.stringify");let s=n===!0?void 0:"censor"in e?e.censor:wAe,i=typeof s=="function",a=i&&s.length>1;if(t.length===0)return r||iC;CAe({paths:t,serialize:r,censor:s});let{wildcards:o,wcLen:c,secret:u}=yAe({paths:t,censor:s}),l=EAe(),d="strict"in e?e.strict:!0;return bAe({secret:u,wcLen:c,serialize:r,strict:d,isCensorFct:i,censorFctTakesPath:a},_Ae({secret:u,censor:s,compileRestore:l,serialize:r,groupRedact:xAe,nestedRedact:vAe,wildcards:o,wcLen:c}))}});var Dd=I((Iut,NM)=>{"use strict";var SAe=Symbol("pino.setLevel"),TAe=Symbol("pino.getLevel"),BAe=Symbol("pino.levelVal"),RAe=Symbol("pino.levelComp"),NAe=Symbol("pino.useLevelLabels"),kAe=Symbol("pino.useOnlyCustomLevels"),DAe=Symbol("pino.mixin"),PAe=Symbol("pino.lsCache"),OAe=Symbol("pino.chindings"),$Ae=Symbol("pino.asJson"),LAe=Symbol("pino.write"),MAe=Symbol("pino.redactFmt"),FAe=Symbol("pino.time"),QAe=Symbol("pino.timeSliceIndex"),UAe=Symbol("pino.stream"),qAe=Symbol("pino.stringify"),jAe=Symbol("pino.stringifySafe"),HAe=Symbol("pino.stringifiers"),zAe=Symbol("pino.end"),GAe=Symbol("pino.formatOpts"),VAe=Symbol("pino.messageKey"),KAe=Symbol("pino.errorKey"),YAe=Symbol("pino.nestedKey"),WAe=Symbol("pino.nestedKeyStr"),JAe=Symbol("pino.mixinMergeStrategy"),XAe=Symbol("pino.msgPrefix"),ZAe=Symbol("pino.wildcardFirst"),eye=Symbol.for("pino.serializers"),tye=Symbol.for("pino.formatters"),rye=Symbol.for("pino.hooks"),nye=Symbol.for("pino.metadata");NM.exports={setLevelSym:SAe,getLevelSym:TAe,levelValSym:BAe,levelCompSym:RAe,useLevelLabelsSym:NAe,mixinSym:DAe,lsCacheSym:PAe,chindingsSym:OAe,asJsonSym:$Ae,writeSym:LAe,serializersSym:eye,redactFmtSym:MAe,timeSym:FAe,timeSliceIndexSym:QAe,streamSym:UAe,stringifySym:qAe,stringifySafeSym:jAe,stringifiersSym:HAe,endSym:zAe,formatOptsSym:GAe,messageKeySym:VAe,errorKeySym:KAe,nestedKeySym:YAe,wildcardFirstSym:ZAe,needsMetadataGsym:nye,useOnlyCustomLevelsSym:kAe,formattersSym:tye,hooksSym:rye,nestedKeyStrSym:WAe,mixinMergeStrategySym:JAe,msgPrefixSym:XAe}});var uC=I((Cut,OM)=>{"use strict";var cC=RM(),{redactFmtSym:sye,wildcardFirstSym:Dy}=Dd(),{rx:oC,validator:iye}=cC,kM=iye({ERR_PATHS_MUST_BE_STRINGS:()=>"pino \u2013 redacted paths must be strings",ERR_INVALID_PATH:e=>`pino \u2013 redact paths array contains an invalid path (${e})`}),DM="[Redacted]",PM=!1;function aye(e,t){let{paths:r,censor:n}=oye(e),s=r.reduce((o,c)=>{oC.lastIndex=0;let u=oC.exec(c),l=oC.exec(c),d=u[1]!==void 0?u[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):u[0];if(d==="*"&&(d=Dy),l===null)return o[d]=null,o;if(o[d]===null)return o;let{index:f}=l,h=`${c.substr(f,c.length-1)}`;return o[d]=o[d]||[],d!==Dy&&o[d].length===0&&o[d].push(...o[Dy]||[]),d===Dy&&Object.keys(o).forEach(function(p){o[p]&&o[p].push(h)}),o[d].push(h),o},{}),i={[sye]:cC({paths:r,censor:n,serialize:t,strict:PM})},a=(...o)=>t(typeof n=="function"?n(...o):n);return[...Object.keys(s),...Object.getOwnPropertySymbols(s)].reduce((o,c)=>{if(s[c]===null)o[c]=u=>a(u,[c]);else{let u=typeof n=="function"?(l,d)=>n(l,[c,...d]):n;o[c]=cC({paths:s[c],censor:u,serialize:t,strict:PM})}return o},i)}function oye(e){if(Array.isArray(e))return e={paths:e,censor:DM},kM(e),e;let{paths:t,censor:r=DM,remove:n}=e;if(Array.isArray(t)===!1)throw Error("pino \u2013 redact must contain an array of strings");return n===!0&&(r=void 0),kM({paths:t,censor:r}),{paths:t,censor:r}}OM.exports=aye});var LM=I((wut,$M)=>{"use strict";var cye=()=>"",uye=()=>`,"time":${Date.now()}`,lye=()=>`,"time":${Math.round(Date.now()/1e3)}`,dye=()=>`,"time":"${new Date(Date.now()).toISOString()}"`;$M.exports={nullTime:cye,epochTime:uye,unixTime:lye,isoTime:dye}});var FM=I((Sut,MM)=>{"use strict";function fye(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}MM.exports=pye;function pye(e,t,r){var n=r&&r.stringify||fye,s=1;if(typeof e=="object"&&e!==null){var i=t.length+s;if(i===1)return e;var a=new Array(i);a[0]=n(e);for(var o=1;o<i;o++)a[o]=n(t[o]);return a.join(" ")}if(typeof e!="string")return e;var c=t.length;if(c===0)return e;for(var u="",l=1-s,d=-1,f=e&&e.length||0,h=0;h<f;){if(e.charCodeAt(h)===37&&h+1<f){switch(d=d>-1?d:0,e.charCodeAt(h+1)){case 100:case 102:if(l>=c||t[l]==null)break;d<h&&(u+=e.slice(d,h)),u+=Number(t[l]),d=h+2,h++;break;case 105:if(l>=c||t[l]==null)break;d<h&&(u+=e.slice(d,h)),u+=Math.floor(Number(t[l])),d=h+2,h++;break;case 79:case 111:case 106:if(l>=c||t[l]===void 0)break;d<h&&(u+=e.slice(d,h));var p=typeof t[l];if(p==="string"){u+="'"+t[l]+"'",d=h+2,h++;break}if(p==="function"){u+=t[l].name||"<anonymous>",d=h+2,h++;break}u+=n(t[l]),d=h+2,h++;break;case 115:if(l>=c)break;d<h&&(u+=e.slice(d,h)),u+=String(t[l]),d=h+2,h++;break;case 37:d<h&&(u+=e.slice(d,h)),u+="%",d=h+2,h++,l--;break}++l}++h}return d===-1?e:(d<f&&(u+=e.slice(d)),u)}});var dC=I((Tut,lC)=>{"use strict";if(typeof SharedArrayBuffer<"u"&&typeof Atomics<"u"){let t=function(r){if((r>0&&r<1/0)===!1)throw typeof r!="number"&&typeof r!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");Atomics.wait(e,0,0,Number(r))},e=new Int32Array(new SharedArrayBuffer(4));lC.exports=t}else{let e=function(t){if((t>0&&t<1/0)===!1)throw typeof t!="number"&&typeof t!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");let n=Date.now()+Number(t);for(;n>Date.now(););};lC.exports=e}});var VM=I((But,GM)=>{"use strict";var Fr=require("fs"),hye=require("events"),mye=require("util").inherits,QM=require("path"),pC=dC(),Py=100,Oy=Buffer.allocUnsafe(0),gye=16*1024,UM="buffer",qM="utf8";function jM(e,t){t._opening=!0,t._writing=!0,t._asyncDrainScheduled=!1;function r(i,a){if(i){t._reopening=!1,t._writing=!1,t._opening=!1,t.sync?process.nextTick(()=>{t.listenerCount("error")>0&&t.emit("error",i)}):t.emit("error",i);return}let o=t._reopening;t.fd=a,t.file=e,t._reopening=!1,t._opening=!1,t._writing=!1,t.sync?process.nextTick(()=>t.emit("ready")):t.emit("ready"),!t.destroyed&&(!t._writing&&t._len>t.minLength||t._flushPending?t._actualWrite():o&&process.nextTick(()=>t.emit("drain")))}let n=t.append?"a":"w",s=t.mode;if(t.sync)try{t.mkdir&&Fr.mkdirSync(QM.dirname(e),{recursive:!0});let i=Fr.openSync(e,n,s);r(null,i)}catch(i){throw r(i),i}else t.mkdir?Fr.mkdir(QM.dirname(e),{recursive:!0},i=>{if(i)return r(i);Fr.open(e,n,s,r)}):Fr.open(e,n,s,r)}function Mi(e){if(!(this instanceof Mi))return new Mi(e);let{fd:t,dest:r,minLength:n,maxLength:s,maxWrite:i,sync:a,append:o=!0,mkdir:c,retryEAGAIN:u,fsync:l,contentMode:d,mode:f}=e||{};t=t||r,this._len=0,this.fd=-1,this._bufs=[],this._lens=[],this._writing=!1,this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this._flushPending=!1,this._hwm=Math.max(n||0,16387),this.file=null,this.destroyed=!1,this.minLength=n||0,this.maxLength=s||0,this.maxWrite=i||gye,this.sync=a||!1,this.writable=!0,this._fsync=l||!1,this.append=o||!1,this.mode=f,this.retryEAGAIN=u||(()=>!0),this.mkdir=c||!1;let h,p;if(d===UM)this._writingBuf=Oy,this.write=bye,this.flush=xye,this.flushSync=_ye,this._actualWrite=Cye,h=()=>Fr.writeSync(this.fd,this._writingBuf),p=()=>Fr.write(this.fd,this._writingBuf,this.release);else if(d===void 0||d===qM)this._writingBuf="",this.write=yye,this.flush=Eye,this.flushSync=vye,this._actualWrite=Iye,h=()=>Fr.writeSync(this.fd,this._writingBuf,"utf8"),p=()=>Fr.write(this.fd,this._writingBuf,"utf8",this.release);else throw new Error(`SonicBoom supports "${qM}" and "${UM}", but passed ${d}`);if(typeof t=="number")this.fd=t,process.nextTick(()=>this.emit("ready"));else if(typeof t=="string")jM(t,this);else throw new Error("SonicBoom supports only file descriptors and files");if(this.minLength>=this.maxWrite)throw new Error(`minLength should be smaller than maxWrite (${this.maxWrite})`);this.release=(m,A)=>{if(m){if((m.code==="EAGAIN"||m.code==="EBUSY")&&this.retryEAGAIN(m,this._writingBuf.length,this._len-this._writingBuf.length))if(this.sync)try{pC(Py),this.release(void 0,0)}catch(y){this.release(y)}else setTimeout(p,Py);else this._writing=!1,this.emit("error",m);return}this.emit("write",A);let g=fC(this._writingBuf,this._len,A);if(this._len=g.len,this._writingBuf=g.writingBuf,this._writingBuf.length){if(!this.sync){p();return}try{do{let y=h(),b=fC(this._writingBuf,this._len,y);this._len=b.len,this._writingBuf=b.writingBuf}while(this._writingBuf.length)}catch(y){this.release(y);return}}this._fsync&&Fr.fsyncSync(this.fd);let x=this._len;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):x>this.minLength?this._actualWrite():this._ending?x>0?this._actualWrite():(this._writing=!1,$y(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(Aye,this)):this.emit("drain"))},this.on("newListener",function(m){m==="drain"&&(this._asyncDrainScheduled=!1)})}function fC(e,t,r){return typeof e=="string"&&Buffer.byteLength(e)!==r&&(r=Buffer.from(e).subarray(0,r).toString().length),t=Math.max(t-r,0),e=e.slice(r),{writingBuf:e,len:t}}function Aye(e){e.listenerCount("drain")>0&&(e._asyncDrainScheduled=!1,e.emit("drain"))}mye(Mi,hye);function HM(e,t){return e.length===0?Oy:e.length===1?e[0]:Buffer.concat(e,t)}function yye(e){if(this.destroyed)throw new Error("SonicBoom destroyed");let t=this._len+e.length,r=this._bufs;return this.maxLength&&t>this.maxLength?(this.emit("drop",e),this._len<this._hwm):(r.length===0||r[r.length-1].length+e.length>this.maxWrite?r.push(""+e):r[r.length-1]+=e,this._len=t,!this._writing&&this._len>=this.minLength&&this._actualWrite(),this._len<this._hwm)}function bye(e){if(this.destroyed)throw new Error("SonicBoom destroyed");let t=this._len+e.length,r=this._bufs,n=this._lens;return this.maxLength&&t>this.maxLength?(this.emit("drop",e),this._len<this._hwm):(r.length===0||n[n.length-1]+e.length>this.maxWrite?(r.push([e]),n.push(e.length)):(r[r.length-1].push(e),n[n.length-1]+=e.length),this._len=t,!this._writing&&this._len>=this.minLength&&this._actualWrite(),this._len<this._hwm)}function zM(e){this._flushPending=!0;let t=()=>{this._fsync?(this._flushPending=!1,e()):Fr.fsync(this.fd,n=>{this._flushPending=!1,e(n)}),this.off("error",r)},r=n=>{this._flushPending=!1,e(n),this.off("drain",t)};this.once("drain",t),this.once("error",r)}function Eye(e){if(e!=null&&typeof e!="function")throw new Error("flush cb must be a function");if(this.destroyed){let t=new Error("SonicBoom destroyed");if(e){e(t);return}throw t}if(this.minLength<=0){e?.();return}e&&zM.call(this,e),!this._writing&&(this._bufs.length===0&&this._bufs.push(""),this._actualWrite())}function xye(e){if(e!=null&&typeof e!="function")throw new Error("flush cb must be a function");if(this.destroyed){let t=new Error("SonicBoom destroyed");if(e){e(t);return}throw t}if(this.minLength<=0){e?.();return}e&&zM.call(this,e),!this._writing&&(this._bufs.length===0&&(this._bufs.push([]),this._lens.push(0)),this._actualWrite())}Mi.prototype.reopen=function(e){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.reopen(e)});return}if(this._ending)return;if(!this.file)throw new Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");if(e&&(this.file=e),this._reopening=!0,this._writing)return;let t=this.fd;this.once("ready",()=>{t!==this.fd&&Fr.close(t,r=>{if(r)return this.emit("error",r)})}),jM(this.file,this)};Mi.prototype.end=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.end()});return}this._ending||(this._ending=!0,!this._writing&&(this._len>0&&this.fd>=0?this._actualWrite():$y(this)))};function vye(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift(this._writingBuf),this._writingBuf="");let e="";for(;this._bufs.length||e;){e.length<=0&&(e=this._bufs[0]);try{let t=Fr.writeSync(this.fd,e,"utf8"),r=fC(e,this._len,t);e=r.writingBuf,this._len=r.len,e.length<=0&&this._bufs.shift()}catch(t){if((t.code==="EAGAIN"||t.code==="EBUSY")&&!this.retryEAGAIN(t,e.length,this._len-e.length))throw t;pC(Py)}}try{Fr.fsyncSync(this.fd)}catch{}}function _ye(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift([this._writingBuf]),this._writingBuf=Oy);let e=Oy;for(;this._bufs.length||e.length;){e.length<=0&&(e=HM(this._bufs[0],this._lens[0]));try{let t=Fr.writeSync(this.fd,e);e=e.subarray(t),this._len=Math.max(this._len-t,0),e.length<=0&&(this._bufs.shift(),this._lens.shift())}catch(t){if((t.code==="EAGAIN"||t.code==="EBUSY")&&!this.retryEAGAIN(t,e.length,this._len-e.length))throw t;pC(Py)}}}Mi.prototype.destroy=function(){this.destroyed||$y(this)};function Iye(){let e=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf||this._bufs.shift()||"",this.sync)try{let t=Fr.writeSync(this.fd,this._writingBuf,"utf8");e(null,t)}catch(t){e(t)}else Fr.write(this.fd,this._writingBuf,"utf8",e)}function Cye(){let e=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf.length?this._writingBuf:HM(this._bufs.shift(),this._lens.shift()),this.sync)try{let t=Fr.writeSync(this.fd,this._writingBuf);e(null,t)}catch(t){e(t)}else Fr.write(this.fd,this._writingBuf,e)}function $y(e){if(e.fd===-1){e.once("ready",$y.bind(null,e));return}e.destroyed=!0,e._bufs=[],e._lens=[],Fr.fsync(e.fd,t);function t(){e.fd!==1&&e.fd!==2?Fr.close(e.fd,r):r()}function r(n){if(n){e.emit("error",n);return}e._ending&&!e._writing&&e.emit("finish"),e.emit("close")}}Mi.SonicBoom=Mi;Mi.default=Mi;GM.exports=Mi});var hC=I((Rut,XM)=>{"use strict";var Fi={exit:[],beforeExit:[]},KM={exit:Tye,beforeExit:Bye},Pd;function wye(){Pd===void 0&&(Pd=new FinalizationRegistry(Rye))}function Sye(e){Fi[e].length>0||process.on(e,KM[e])}function YM(e){Fi[e].length>0||(process.removeListener(e,KM[e]),Fi.exit.length===0&&Fi.beforeExit.length===0&&(Pd=void 0))}function Tye(){WM("exit")}function Bye(){WM("beforeExit")}function WM(e){for(let t of Fi[e]){let r=t.deref(),n=t.fn;r!==void 0&&n(r,e)}Fi[e]=[]}function Rye(e){for(let t of["exit","beforeExit"]){let r=Fi[t].indexOf(e);Fi[t].splice(r,r+1),YM(t)}}function JM(e,t,r){if(t===void 0)throw new Error("the object can't be undefined");Sye(e);let n=new WeakRef(t);n.fn=r,wye(),Pd.register(t,n),Fi[e].push(n)}function Nye(e,t){JM("exit",e,t)}function kye(e,t){JM("beforeExit",e,t)}function Dye(e){if(Pd!==void 0){Pd.unregister(e);for(let t of["exit","beforeExit"])Fi[t]=Fi[t].filter(r=>{let n=r.deref();return n&&n!==e}),YM(t)}}XM.exports={register:Nye,registerBeforeExit:kye,unregister:Dye}});var ZM=I((Nut,Pye)=>{Pye.exports={name:"thread-stream",version:"2.7.0",description:"A streaming way to send data to a Node.js Worker Thread",main:"index.js",types:"index.d.ts",dependencies:{"real-require":"^0.2.0"},devDependencies:{"@types/node":"^20.1.0","@types/tap":"^15.0.0","@yao-pkg/pkg":"^5.11.5",desm:"^1.3.0",fastbench:"^1.0.1",husky:"^9.0.6","pino-elasticsearch":"^8.0.0","sonic-boom":"^3.0.0",standard:"^17.0.0",tap:"^16.2.0","ts-node":"^10.8.0",typescript:"^5.3.2","why-is-node-running":"^2.2.2"},scripts:{test:'standard && npm run transpile && tap "test/**/*.test.*js" && tap --ts test/*.test.*ts',"test:ci":"standard && npm run transpile && npm run test:ci:js && npm run test:ci:ts","test:ci:js":'tap --no-check-coverage --timeout=120 --coverage-report=lcovonly "test/**/*.test.*js"',"test:ci:ts":'tap --ts --no-check-coverage --coverage-report=lcovonly "test/**/*.test.*ts"',"test:yarn":'npm run transpile && tap "test/**/*.test.js" --no-check-coverage',transpile:"sh ./test/ts/transpile.sh",prepare:"husky install"},standard:{ignore:["test/ts/**/*"]},repository:{type:"git",url:"git+https://github.com/mcollina/thread-stream.git"},keywords:["worker","thread","threads","stream"],author:"Matteo Collina <hello@matteocollina.com>",license:"MIT",bugs:{url:"https://github.com/mcollina/thread-stream/issues"},homepage:"https://github.com/mcollina/thread-stream#readme"}});var tF=I((kut,eF)=>{"use strict";function Oye(e,t,r,n,s){let i=Date.now()+n,a=Atomics.load(e,t);if(a===r){s(null,"ok");return}let o=a,c=u=>{Date.now()>i?s(null,"timed-out"):setTimeout(()=>{o=a,a=Atomics.load(e,t),a===o?c(u>=1e3?1e3:u*2):a===r?s(null,"ok"):s(null,"not-equal")},u)};c(1)}function $ye(e,t,r,n,s){let i=Date.now()+n,a=Atomics.load(e,t);if(a!==r){s(null,"ok");return}let o=c=>{Date.now()>i?s(null,"timed-out"):setTimeout(()=>{a=Atomics.load(e,t),a!==r?s(null,"ok"):o(c>=1e3?1e3:c*2)},c)};o(1)}eF.exports={wait:Oye,waitDiff:$ye}});var nF=I((Dut,rF)=>{"use strict";rF.exports={WRITE_INDEX:4,READ_INDEX:8}});var cF=I((Put,oF)=>{"use strict";var{version:Lye}=ZM(),{EventEmitter:Mye}=require("events"),{Worker:Fye}=require("worker_threads"),{join:Qye}=require("path"),{pathToFileURL:Uye}=require("url"),{wait:qye}=tF(),{WRITE_INDEX:vs,READ_INDEX:ma}=nF(),jye=require("buffer"),Hye=require("assert"),de=Symbol("kImpl"),zye=jye.constants.MAX_STRING_LENGTH,x0=class{constructor(t){this._value=t}deref(){return this._value}},My=class{register(){}unregister(){}},Gye=process.env.NODE_V8_COVERAGE?My:global.FinalizationRegistry||My,Vye=process.env.NODE_V8_COVERAGE?x0:global.WeakRef||x0,sF=new Gye(e=>{e.exited||e.terminate()});function Kye(e,t){let{filename:r,workerData:n}=t,i=("__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{})["thread-stream-worker"]||Qye(__dirname,"lib","worker.js"),a=new Fye(i,{...t.workerOpts,trackUnmanagedFds:!1,workerData:{filename:r.indexOf("file://")===0?r:Uye(r).href,dataBuf:e[de].dataBuf,stateBuf:e[de].stateBuf,workerData:{$context:{threadStreamVersion:Lye},...n}}});return a.stream=new x0(e),a.on("message",Yye),a.on("exit",aF),sF.register(e,a),a}function iF(e){Hye(!e[de].sync),e[de].needDrain&&(e[de].needDrain=!1,e.emit("drain"))}function Ly(e){let t=Atomics.load(e[de].state,vs),r=e[de].data.length-t;if(r>0){if(e[de].buf.length===0){e[de].flushing=!1,e[de].ending?bC(e):e[de].needDrain&&process.nextTick(iF,e);return}let n=e[de].buf.slice(0,r),s=Buffer.byteLength(n);s<=r?(e[de].buf=e[de].buf.slice(r),Fy(e,n,Ly.bind(null,e))):e.flush(()=>{if(!e.destroyed){for(Atomics.store(e[de].state,ma,0),Atomics.store(e[de].state,vs,0);s>e[de].data.length;)r=r/2,n=e[de].buf.slice(0,r),s=Buffer.byteLength(n);e[de].buf=e[de].buf.slice(r),Fy(e,n,Ly.bind(null,e))}})}else if(r===0){if(t===0&&e[de].buf.length===0)return;e.flush(()=>{Atomics.store(e[de].state,ma,0),Atomics.store(e[de].state,vs,0),Ly(e)})}else ga(e,new Error("overwritten"))}function Yye(e){let t=this.stream.deref();if(t===void 0){this.exited=!0,this.terminate();return}switch(e.code){case"READY":this.stream=new Vye(t),t.flush(()=>{t[de].ready=!0,t.emit("ready")});break;case"ERROR":ga(t,e.err);break;case"EVENT":Array.isArray(e.args)?t.emit(e.name,...e.args):t.emit(e.name,e.args);break;case"WARNING":process.emitWarning(e.err);break;default:ga(t,new Error("this should not happen: "+e.code))}}function aF(e){let t=this.stream.deref();t!==void 0&&(sF.unregister(t),t.worker.exited=!0,t.worker.off("exit",aF),ga(t,e!==0?new Error("the worker thread exited"):null))}var gC=class extends Mye{constructor(t={}){if(super(),t.bufferSize<4)throw new Error("bufferSize must at least fit a 4-byte utf-8 char");this[de]={},this[de].stateBuf=new SharedArrayBuffer(128),this[de].state=new Int32Array(this[de].stateBuf),this[de].dataBuf=new SharedArrayBuffer(t.bufferSize||4*1024*1024),this[de].data=Buffer.from(this[de].dataBuf),this[de].sync=t.sync||!1,this[de].ending=!1,this[de].ended=!1,this[de].needDrain=!1,this[de].destroyed=!1,this[de].flushing=!1,this[de].ready=!1,this[de].finished=!1,this[de].errored=null,this[de].closed=!1,this[de].buf="",this.worker=Kye(this,t),this.on("message",(r,n)=>{this.worker.postMessage(r,n)})}write(t){if(this[de].destroyed)return AC(this,new Error("the worker has exited")),!1;if(this[de].ending)return AC(this,new Error("the worker is ending")),!1;if(this[de].flushing&&this[de].buf.length+t.length>=zye)try{mC(this),this[de].flushing=!0}catch(r){return ga(this,r),!1}if(this[de].buf+=t,this[de].sync)try{return mC(this),!0}catch(r){return ga(this,r),!1}return this[de].flushing||(this[de].flushing=!0,setImmediate(Ly,this)),this[de].needDrain=this[de].data.length-this[de].buf.length-Atomics.load(this[de].state,vs)<=0,!this[de].needDrain}end(){this[de].destroyed||(this[de].ending=!0,bC(this))}flush(t){if(this[de].destroyed){typeof t=="function"&&process.nextTick(t,new Error("the worker has exited"));return}let r=Atomics.load(this[de].state,vs);qye(this[de].state,ma,r,1/0,(n,s)=>{if(n){ga(this,n),process.nextTick(t,n);return}if(s==="not-equal"){this.flush(t);return}process.nextTick(t)})}flushSync(){this[de].destroyed||(mC(this),yC(this))}unref(){this.worker.unref()}ref(){this.worker.ref()}get ready(){return this[de].ready}get destroyed(){return this[de].destroyed}get closed(){return this[de].closed}get writable(){return!this[de].destroyed&&!this[de].ending}get writableEnded(){return this[de].ending}get writableFinished(){return this[de].finished}get writableNeedDrain(){return this[de].needDrain}get writableObjectMode(){return!1}get writableErrored(){return this[de].errored}};function AC(e,t){setImmediate(()=>{e.emit("error",t)})}function ga(e,t){e[de].destroyed||(e[de].destroyed=!0,t&&(e[de].errored=t,AC(e,t)),e.worker.exited?setImmediate(()=>{e[de].closed=!0,e.emit("close")}):e.worker.terminate().catch(()=>{}).then(()=>{e[de].closed=!0,e.emit("close")}))}function Fy(e,t,r){let n=Atomics.load(e[de].state,vs),s=Buffer.byteLength(t);return e[de].data.write(t,n),Atomics.store(e[de].state,vs,n+s),Atomics.notify(e[de].state,vs),r(),!0}function bC(e){if(!(e[de].ended||!e[de].ending||e[de].flushing)){e[de].ended=!0;try{e.flushSync();let t=Atomics.load(e[de].state,ma);Atomics.store(e[de].state,vs,-1),Atomics.notify(e[de].state,vs);let r=0;for(;t!==-1;){if(Atomics.wait(e[de].state,ma,t,1e3),t=Atomics.load(e[de].state,ma),t===-2){ga(e,new Error("end() failed"));return}if(++r===10){ga(e,new Error("end() took too long (10s)"));return}}process.nextTick(()=>{e[de].finished=!0,e.emit("finish")})}catch(t){ga(e,t)}}}function mC(e){let t=()=>{e[de].ending?bC(e):e[de].needDrain&&process.nextTick(iF,e)};for(e[de].flushing=!1;e[de].buf.length!==0;){let r=Atomics.load(e[de].state,vs),n=e[de].data.length-r;if(n===0){yC(e),Atomics.store(e[de].state,ma,0),Atomics.store(e[de].state,vs,0);continue}else if(n<0)throw new Error("overwritten");let s=e[de].buf.slice(0,n),i=Buffer.byteLength(s);if(i<=n)e[de].buf=e[de].buf.slice(n),Fy(e,s,t);else{for(yC(e),Atomics.store(e[de].state,ma,0),Atomics.store(e[de].state,vs,0);i>e[de].buf.length;)n=n/2,s=e[de].buf.slice(0,n),i=Buffer.byteLength(s);e[de].buf=e[de].buf.slice(n),Fy(e,s,t)}}}function yC(e){if(e[de].flushing)throw new Error("unable to flush while flushing");let t=Atomics.load(e[de].state,vs),r=0;for(;;){let n=Atomics.load(e[de].state,ma);if(n===-2)throw Error("_flushSync failed");if(n!==t)Atomics.wait(e[de].state,ma,n,1e3);else break;if(++r===10)throw new Error("_flushSync took too long (10s)")}}oF.exports=gC});var vC=I((Out,uF)=>{"use strict";var{createRequire:Wye}=require("module"),Jye=rC(),{join:EC,isAbsolute:Xye,sep:Zye}=require("path"),e1e=dC(),xC=hC(),t1e=cF();function r1e(e){xC.register(e,s1e),xC.registerBeforeExit(e,i1e),e.on("close",function(){xC.unregister(e)})}function n1e(e,t,r){let n=new t1e({filename:e,workerData:t,workerOpts:r});n.on("ready",s),n.on("close",function(){process.removeListener("exit",i)}),process.on("exit",i);function s(){process.removeListener("exit",i),n.unref(),r.autoEnd!==!1&&r1e(n)}function i(){n.closed||(n.flushSync(),e1e(100),n.end())}return n}function s1e(e){e.ref(),e.flushSync(),e.end(),e.once("close",function(){e.unref()})}function i1e(e){e.flushSync()}function a1e(e){let{pipeline:t,targets:r,levels:n,dedupe:s,options:i={},worker:a={},caller:o=Jye()}=e,c=typeof o=="string"?[o]:o,u="__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{},l=e.target;if(l&&r)throw new Error("only one of target or targets can be specified");return r?(l=u["pino-worker"]||EC(__dirname,"worker.js"),i.targets=r.map(f=>({...f,target:d(f.target)}))):t&&(l=u["pino-pipeline-worker"]||EC(__dirname,"worker-pipeline.js"),i.targets=t.map(f=>({...f,target:d(f.target)}))),n&&(i.levels=n),s&&(i.dedupe=s),i.pinoWillSendConfig=!0,n1e(d(l),i,a);function d(f){if(f=u[f]||f,Xye(f)||f.indexOf("file://")===0)return f;if(f==="pino/file")return EC(__dirname,"..","file.js");let h;for(let p of c)try{let m=p==="node:repl"?process.cwd()+Zye:p;h=Wye(m).resolve(f);break}catch{continue}if(!h)throw new Error(`unable to determine transport target for "${f}"`);return h}}uF.exports=a1e});var qy=I(($ut,EF)=>{"use strict";var lF=FM(),{mapHttpRequest:o1e,mapHttpResponse:c1e}=tC(),IC=VM(),dF=hC(),{lsCacheSym:u1e,chindingsSym:hF,writeSym:fF,serializersSym:mF,formatOptsSym:pF,endSym:l1e,stringifiersSym:gF,stringifySym:AF,stringifySafeSym:CC,wildcardFirstSym:yF,nestedKeySym:d1e,formattersSym:bF,messageKeySym:f1e,errorKeySym:p1e,nestedKeyStrSym:h1e,msgPrefixSym:Qy}=Dd(),{isMainThread:m1e}=require("worker_threads"),g1e=vC();function Od(){}function A1e(e,t){if(!t)return r;return function(...s){t.call(this,s,r,e)};function r(n,...s){if(typeof n=="object"){let i=n;n!==null&&(n.method&&n.headers&&n.socket?n=o1e(n):typeof n.setHeader=="function"&&(n=c1e(n)));let a;i===null&&s.length===0?a=[null]:(i=s.shift(),a=s),typeof this[Qy]=="string"&&i!==void 0&&i!==null&&(i=this[Qy]+i),this[fF](n,lF(i,a,this[pF]),e)}else{let i=n===void 0?s.shift():n;typeof this[Qy]=="string"&&i!==void 0&&i!==null&&(i=this[Qy]+i),this[fF](null,lF(i,s,this[pF]),e)}}}function _C(e){let t="",r=0,n=!1,s=255,i=e.length;if(i>100)return JSON.stringify(e);for(var a=0;a<i&&s>=32;a++)s=e.charCodeAt(a),(s===34||s===92)&&(t+=e.slice(r,a)+"\\",r=a,n=!0);return n?t+=e.slice(r):t=e,s<32?JSON.stringify(e):'"'+t+'"'}function y1e(e,t,r,n){let s=this[AF],i=this[CC],a=this[gF],o=this[l1e],c=this[hF],u=this[mF],l=this[bF],d=this[f1e],f=this[p1e],h=this[u1e][r]+n;h=h+c;let p;l.log&&(e=l.log(e));let m=a[yF],A="";for(let x in e)if(p=e[x],Object.prototype.hasOwnProperty.call(e,x)&&p!==void 0){u[x]?p=u[x](p):x===f&&u.err&&(p=u.err(p));let y=a[x]||m;switch(typeof p){case"undefined":case"function":continue;case"number":Number.isFinite(p)===!1&&(p=null);case"boolean":y&&(p=y(p));break;case"string":p=(y||_C)(p);break;default:p=(y||s)(p,i)}if(p===void 0)continue;let b=_C(x);A+=","+b+":"+p}let g="";if(t!==void 0){p=u[d]?u[d](t):t;let x=a[d]||m;switch(typeof p){case"function":break;case"number":Number.isFinite(p)===!1&&(p=null);case"boolean":x&&(p=x(p)),g=',"'+d+'":'+p;break;case"string":p=(x||_C)(p),g=',"'+d+'":'+p;break;default:p=(x||s)(p,i),g=',"'+d+'":'+p}}return this[d1e]&&A?h+this[h1e]+A.slice(1)+"}"+g+o:h+A+g+o}function b1e(e,t){let r,n=e[hF],s=e[AF],i=e[CC],a=e[gF],o=a[yF],c=e[mF],u=e[bF].bindings;t=u(t);for(let l in t)if(r=t[l],(l!=="level"&&l!=="serializers"&&l!=="formatters"&&l!=="customLevels"&&t.hasOwnProperty(l)&&r!==void 0)===!0){if(r=c[l]?c[l](r):r,r=(a[l]||o||s)(r,i),r===void 0)continue;n+=',"'+l+'":'+r}return n}function E1e(e){return e.write!==e.constructor.prototype.write}var x1e=process.env.NODE_V8_COVERAGE||process.env.V8_COVERAGE;function Uy(e){let t=new IC(e);return t.on("error",r),!x1e&&!e.sync&&m1e&&(dF.register(t,v1e),t.on("close",function(){dF.unregister(t)})),t;function r(n){if(n.code==="EPIPE"){t.write=Od,t.end=Od,t.flushSync=Od,t.destroy=Od;return}t.removeListener("error",r),t.emit("error",n)}}function v1e(e,t){e.destroyed||(t==="beforeExit"?(e.flush(),e.on("drain",function(){e.end()})):e.flushSync())}function _1e(e){return function(r,n,s={},i){if(typeof s=="string")i=Uy({dest:s}),s={};else if(typeof i=="string"){if(s&&s.transport)throw Error("only one of option.transport or stream can be specified");i=Uy({dest:i})}else if(s instanceof IC||s.writable||s._writableState)i=s,s={};else if(s.transport){if(s.transport instanceof IC||s.transport.writable||s.transport._writableState)throw Error("option.transport do not allow stream, please pass to option directly. e.g. pino(transport)");if(s.transport.targets&&s.transport.targets.length&&s.formatters&&typeof s.formatters.level=="function")throw Error("option.transport.targets do not allow custom level formatters");let c;s.customLevels&&(c=s.useOnlyCustomLevels?s.customLevels:Object.assign({},s.levels,s.customLevels)),i=g1e({caller:n,...s.transport,levels:c})}if(s=Object.assign({},e,s),s.serializers=Object.assign({},e.serializers,s.serializers),s.formatters=Object.assign({},e.formatters,s.formatters),s.prettyPrint)throw new Error("prettyPrint option is no longer supported, see the pino-pretty package (https://github.com/pinojs/pino-pretty)");let{enabled:a,onChild:o}=s;return a===!1&&(s.level="silent"),o||(s.onChild=Od),i||(E1e(process.stdout)?i=process.stdout:i=Uy({fd:process.stdout.fd||1})),{opts:s,stream:i}}}function I1e(e,t){try{return JSON.stringify(e)}catch{try{return(t||this[CC])(e)}catch{return'"[unable to serialize, circular reference is too complex to analyze]"'}}}function C1e(e,t,r){return{level:e,bindings:t,log:r}}function w1e(e){let t=Number(e);return typeof e=="string"&&Number.isFinite(t)?t:e===void 0?1:e}EF.exports={noop:Od,buildSafeSonicBoom:Uy,asChindings:b1e,asJson:y1e,genLog:A1e,createArgsNormalizer:_1e,stringify:I1e,buildFormatters:C1e,normalizeDestFileDescriptor:w1e}});var jy=I((Lut,xF)=>{var S1e={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},T1e={ASC:"ASC",DESC:"DESC"};xF.exports={DEFAULT_LEVELS:S1e,SORTING_ORDER:T1e}});var TC=I((Mut,CF)=>{"use strict";var{lsCacheSym:B1e,levelValSym:wC,useOnlyCustomLevelsSym:R1e,streamSym:N1e,formattersSym:k1e,hooksSym:D1e,levelCompSym:vF}=Dd(),{noop:P1e,genLog:Qu}=qy(),{DEFAULT_LEVELS:Aa,SORTING_ORDER:_F}=jy(),IF={fatal:e=>{let t=Qu(Aa.fatal,e);return function(...r){let n=this[N1e];if(t.call(this,...r),typeof n.flushSync=="function")try{n.flushSync()}catch{}}},error:e=>Qu(Aa.error,e),warn:e=>Qu(Aa.warn,e),info:e=>Qu(Aa.info,e),debug:e=>Qu(Aa.debug,e),trace:e=>Qu(Aa.trace,e)},SC=Object.keys(Aa).reduce((e,t)=>(e[Aa[t]]=t,e),{}),O1e=Object.keys(SC).reduce((e,t)=>(e[t]='{"level":'+Number(t),e),{});function $1e(e){let t=e[k1e].level,{labels:r}=e.levels,n={};for(let s in r){let i=t(r[s],Number(s));n[s]=JSON.stringify(i).slice(0,-1)}return e[B1e]=n,e}function L1e(e,t){if(t)return!1;switch(e){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}function M1e(e){let{labels:t,values:r}=this.levels;if(typeof e=="number"){if(t[e]===void 0)throw Error("unknown level value"+e);e=t[e]}if(r[e]===void 0)throw Error("unknown level "+e);let n=this[wC],s=this[wC]=r[e],i=this[R1e],a=this[vF],o=this[D1e].logMethod;for(let c in r){if(a(r[c],s)===!1){this[c]=P1e;continue}this[c]=L1e(c,i)?IF[c](o):Qu(r[c],o)}this.emit("level-change",e,s,t[n],n,this)}function F1e(e){let{levels:t,levelVal:r}=this;return t&&t.labels?t.labels[r]:""}function Q1e(e){let{values:t}=this.levels,r=t[e];return r!==void 0&&this[vF](r,this[wC])}function U1e(e,t,r){return e===_F.DESC?t<=r:t>=r}function q1e(e){return typeof e=="string"?U1e.bind(null,e):e}function j1e(e=null,t=!1){let r=e?Object.keys(e).reduce((i,a)=>(i[e[a]]=a,i),{}):null,n=Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),t?null:SC,r),s=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),t?null:Aa,e);return{labels:n,values:s}}function H1e(e,t,r){if(typeof e=="number"){if(![].concat(Object.keys(t||{}).map(i=>t[i]),r?[]:Object.keys(SC).map(i=>+i),1/0).includes(e))throw Error(`default level:${e} must be included in custom levels`);return}let n=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),r?null:Aa,t);if(!(e in n))throw Error(`default level:${e} must be included in custom levels`)}function z1e(e,t){let{labels:r,values:n}=e;for(let s in t){if(s in n)throw Error("levels cannot be overridden");if(t[s]in r)throw Error("pre-existing level values cannot be used for new levels")}}function G1e(e){if(typeof e!="function"&&!(typeof e=="string"&&Object.values(_F).includes(e)))throw new Error('Levels comparison should be one of "ASC", "DESC" or "function" type')}CF.exports={initialLsCache:O1e,genLsCache:$1e,levelMethods:IF,getLevel:F1e,setLevel:M1e,isLevelEnabled:Q1e,mappings:j1e,assertNoLevelCollisions:z1e,assertDefaultLevelFound:H1e,genLevelComparison:q1e,assertLevelComparison:G1e}});var BC=I((Fut,wF)=>{"use strict";wF.exports={version:"8.21.0"}});var LF=I((Uut,$F)=>{"use strict";var{EventEmitter:V1e}=require("events"),{lsCacheSym:K1e,levelValSym:Y1e,setLevelSym:NC,getLevelSym:SF,chindingsSym:kC,parsedChindingsSym:W1e,mixinSym:J1e,asJsonSym:kF,writeSym:X1e,mixinMergeStrategySym:Z1e,timeSym:ebe,timeSliceIndexSym:tbe,streamSym:DF,serializersSym:Uu,formattersSym:RC,errorKeySym:rbe,messageKeySym:nbe,useOnlyCustomLevelsSym:sbe,needsMetadataGsym:ibe,redactFmtSym:abe,stringifySym:obe,formatOptsSym:cbe,stringifiersSym:ube,msgPrefixSym:TF}=Dd(),{getLevel:lbe,setLevel:dbe,isLevelEnabled:fbe,mappings:pbe,initialLsCache:hbe,genLsCache:mbe,assertNoLevelCollisions:gbe}=TC(),{asChindings:PF,asJson:Abe,buildFormatters:BF,stringify:RF}=qy(),{version:ybe}=BC(),bbe=uC(),Ebe=class{},OF={constructor:Ebe,child:xbe,bindings:vbe,setBindings:_be,flush:Sbe,isLevelEnabled:fbe,version:ybe,get level(){return this[SF]()},set level(e){this[NC](e)},get levelVal(){return this[Y1e]},set levelVal(e){throw Error("levelVal is read-only")},[K1e]:hbe,[X1e]:Cbe,[kF]:Abe,[SF]:lbe,[NC]:dbe};Object.setPrototypeOf(OF,V1e.prototype);$F.exports=function(){return Object.create(OF)};var NF=e=>e;function xbe(e,t){if(!e)throw Error("missing bindings for child Pino");t=t||{};let r=this[Uu],n=this[RC],s=Object.create(this);if(t.hasOwnProperty("serializers")===!0){s[Uu]=Object.create(null);for(let l in r)s[Uu][l]=r[l];let c=Object.getOwnPropertySymbols(r);for(var i=0;i<c.length;i++){let l=c[i];s[Uu][l]=r[l]}for(let l in t.serializers)s[Uu][l]=t.serializers[l];let u=Object.getOwnPropertySymbols(t.serializers);for(var a=0;a<u.length;a++){let l=u[a];s[Uu][l]=t.serializers[l]}}else s[Uu]=r;if(t.hasOwnProperty("formatters")){let{level:c,bindings:u,log:l}=t.formatters;s[RC]=BF(c||n.level,u||NF,l||n.log)}else s[RC]=BF(n.level,NF,n.log);if(t.hasOwnProperty("customLevels")===!0&&(gbe(this.levels,t.customLevels),s.levels=pbe(t.customLevels,s[sbe]),mbe(s)),typeof t.redact=="object"&&t.redact!==null||Array.isArray(t.redact)){s.redact=t.redact;let c=bbe(s.redact,RF),u={stringify:c[abe]};s[obe]=RF,s[ube]=c,s[cbe]=u}typeof t.msgPrefix=="string"&&(s[TF]=(this[TF]||"")+t.msgPrefix),s[kC]=PF(s,e);let o=t.level||this.level;return s[NC](o),this.onChild(s),s}function vbe(){let t=`{${this[kC].substr(1)}}`,r=JSON.parse(t);return delete r.pid,delete r.hostname,r}function _be(e){let t=PF(this,e);this[kC]=t,delete this[W1e]}function Ibe(e,t){return Object.assign(t,e)}function Cbe(e,t,r){let n=this[ebe](),s=this[J1e],i=this[rbe],a=this[nbe],o=this[Z1e]||Ibe,c;e==null?c={}:e instanceof Error?(c={[i]:e},t===void 0&&(t=e.message)):(c=e,t===void 0&&e[a]===void 0&&e[i]&&(t=e[i].message)),s&&(c=o(c,s(c,r,this)));let u=this[kF](c,t,r,n),l=this[DF];l[ibe]===!0&&(l.lastLevel=r,l.lastObj=c,l.lastMsg=t,l.lastTime=n.slice(this[tbe]),l.lastLogger=this),l.write(u)}function wbe(){}function Sbe(e){if(e!=null&&typeof e!="function")throw Error("callback must be a function");let t=this[DF];typeof t.flush=="function"?t.flush(e||wbe):e&&e()}});var UF=I(($C,QF)=>{"use strict";var{hasOwnProperty:v0}=Object.prototype,ju=OC();ju.configure=OC;ju.stringify=ju;ju.default=ju;$C.stringify=ju;$C.configure=OC;QF.exports=ju;var Tbe=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function hc(e){return e.length<5e3&&!Tbe.test(e)?`"${e}"`:JSON.stringify(e)}function DC(e,t){if(e.length>200||t)return e.sort(t);for(let r=1;r<e.length;r++){let n=e[r],s=r;for(;s!==0&&e[s-1]>n;)e[s]=e[s-1],s--;e[s]=n}return e}var Bbe=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function PC(e){return Bbe.call(e)!==void 0&&e.length!==0}function MF(e,t,r){e.length<r&&(r=e.length);let n=t===","?"":" ",s=`"0":${n}${e[0]}`;for(let i=1;i<r;i++)s+=`${t}"${i}":${n}${e[i]}`;return s}function Rbe(e){if(v0.call(e,"circularValue")){let t=e.circularValue;if(typeof t=="string")return`"${t}"`;if(t==null)return t;if(t===Error||t===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function Nbe(e){let t;if(v0.call(e,"deterministic")&&(t=e.deterministic,typeof t!="boolean"&&typeof t!="function"))throw new TypeError('The "deterministic" argument must be of type boolean or comparator function');return t===void 0?!0:t}function kbe(e,t){let r;if(v0.call(e,t)&&(r=e[t],typeof r!="boolean"))throw new TypeError(`The "${t}" argument must be of type boolean`);return r===void 0?!0:r}function FF(e,t){let r;if(v0.call(e,t)){if(r=e[t],typeof r!="number")throw new TypeError(`The "${t}" argument must be of type number`);if(!Number.isInteger(r))throw new TypeError(`The "${t}" argument must be an integer`);if(r<1)throw new RangeError(`The "${t}" argument must be >= 1`)}return r===void 0?1/0:r}function qu(e){return e===1?"1 item":`${e} items`}function Dbe(e){let t=new Set;for(let r of e)(typeof r=="string"||typeof r=="number")&&t.add(String(r));return t}function Pbe(e){if(v0.call(e,"strict")){let t=e.strict;if(typeof t!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(t)return r=>{let n=`Object can not safely be stringified. Received type ${typeof r}`;throw typeof r!="function"&&(n+=` (${r.toString()})`),new Error(n)}}}function OC(e){e={...e};let t=Pbe(e);t&&(e.bigint===void 0&&(e.bigint=!1),"circularValue"in e||(e.circularValue=Error));let r=Rbe(e),n=kbe(e,"bigint"),s=Nbe(e),i=typeof s=="function"?s:void 0,a=FF(e,"maximumDepth"),o=FF(e,"maximumBreadth");function c(h,p,m,A,g,x){let y=p[h];switch(typeof y=="object"&&y!==null&&typeof y.toJSON=="function"&&(y=y.toJSON(h)),y=A.call(p,h,y),typeof y){case"string":return hc(y);case"object":{if(y===null)return"null";if(m.indexOf(y)!==-1)return r;let b="",_=",",C=x;if(Array.isArray(y)){if(y.length===0)return"[]";if(a<m.length+1)return'"[Array]"';m.push(y),g!==""&&(x+=g,b+=`
${x}`,_=`,
${x}`);let N=Math.min(y.length,o),D=0;for(;D<N-1;D++){let q=c(String(D),y,m,A,g,x);b+=q!==void 0?q:"null",b+=_}let k=c(String(D),y,m,A,g,x);if(b+=k!==void 0?k:"null",y.length-1>o){let q=y.length-o-1;b+=`${_}"... ${qu(q)} not stringified"`}return g!==""&&(b+=`
${C}`),m.pop(),`[${b}]`}let w=Object.keys(y),S=w.length;if(S===0)return"{}";if(a<m.length+1)return'"[Object]"';let T="",R="";g!==""&&(x+=g,_=`,
${x}`,T=" ");let P=Math.min(S,o);s&&!PC(y)&&(w=DC(w,i)),m.push(y);for(let N=0;N<P;N++){let D=w[N],k=c(D,y,m,A,g,x);k!==void 0&&(b+=`${R}${hc(D)}:${T}${k}`,R=_)}if(S>o){let N=S-o;b+=`${R}"...":${T}"${qu(N)} not stringified"`,R=_}return g!==""&&R.length>1&&(b=`
${x}${b}
${C}`),m.pop(),`{${b}}`}case"number":return isFinite(y)?String(y):t?t(y):"null";case"boolean":return y===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(y);default:return t?t(y):void 0}}function u(h,p,m,A,g,x){switch(typeof p=="object"&&p!==null&&typeof p.toJSON=="function"&&(p=p.toJSON(h)),typeof p){case"string":return hc(p);case"object":{if(p===null)return"null";if(m.indexOf(p)!==-1)return r;let y=x,b="",_=",";if(Array.isArray(p)){if(p.length===0)return"[]";if(a<m.length+1)return'"[Array]"';m.push(p),g!==""&&(x+=g,b+=`
${x}`,_=`,
${x}`);let S=Math.min(p.length,o),T=0;for(;T<S-1;T++){let P=u(String(T),p[T],m,A,g,x);b+=P!==void 0?P:"null",b+=_}let R=u(String(T),p[T],m,A,g,x);if(b+=R!==void 0?R:"null",p.length-1>o){let P=p.length-o-1;b+=`${_}"... ${qu(P)} not stringified"`}return g!==""&&(b+=`
${y}`),m.pop(),`[${b}]`}m.push(p);let C="";g!==""&&(x+=g,_=`,
${x}`,C=" ");let w="";for(let S of A){let T=u(S,p[S],m,A,g,x);T!==void 0&&(b+=`${w}${hc(S)}:${C}${T}`,w=_)}return g!==""&&w.length>1&&(b=`
${x}${b}
${y}`),m.pop(),`{${b}}`}case"number":return isFinite(p)?String(p):t?t(p):"null";case"boolean":return p===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(p);default:return t?t(p):void 0}}function l(h,p,m,A,g){switch(typeof p){case"string":return hc(p);case"object":{if(p===null)return"null";if(typeof p.toJSON=="function"){if(p=p.toJSON(h),typeof p!="object")return l(h,p,m,A,g);if(p===null)return"null"}if(m.indexOf(p)!==-1)return r;let x=g;if(Array.isArray(p)){if(p.length===0)return"[]";if(a<m.length+1)return'"[Array]"';m.push(p),g+=A;let T=`
${g}`,R=`,
${g}`,P=Math.min(p.length,o),N=0;for(;N<P-1;N++){let k=l(String(N),p[N],m,A,g);T+=k!==void 0?k:"null",T+=R}let D=l(String(N),p[N],m,A,g);if(T+=D!==void 0?D:"null",p.length-1>o){let k=p.length-o-1;T+=`${R}"... ${qu(k)} not stringified"`}return T+=`
${x}`,m.pop(),`[${T}]`}let y=Object.keys(p),b=y.length;if(b===0)return"{}";if(a<m.length+1)return'"[Object]"';g+=A;let _=`,
${g}`,C="",w="",S=Math.min(b,o);PC(p)&&(C+=MF(p,_,o),y=y.slice(p.length),S-=p.length,w=_),s&&(y=DC(y,i)),m.push(p);for(let T=0;T<S;T++){let R=y[T],P=l(R,p[R],m,A,g);P!==void 0&&(C+=`${w}${hc(R)}: ${P}`,w=_)}if(b>o){let T=b-o;C+=`${w}"...": "${qu(T)} not stringified"`,w=_}return w!==""&&(C=`
${g}${C}
${x}`),m.pop(),`{${C}}`}case"number":return isFinite(p)?String(p):t?t(p):"null";case"boolean":return p===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(p);default:return t?t(p):void 0}}function d(h,p,m){switch(typeof p){case"string":return hc(p);case"object":{if(p===null)return"null";if(typeof p.toJSON=="function"){if(p=p.toJSON(h),typeof p!="object")return d(h,p,m);if(p===null)return"null"}if(m.indexOf(p)!==-1)return r;let A="",g=p.length!==void 0;if(g&&Array.isArray(p)){if(p.length===0)return"[]";if(a<m.length+1)return'"[Array]"';m.push(p);let C=Math.min(p.length,o),w=0;for(;w<C-1;w++){let T=d(String(w),p[w],m);A+=T!==void 0?T:"null",A+=","}let S=d(String(w),p[w],m);if(A+=S!==void 0?S:"null",p.length-1>o){let T=p.length-o-1;A+=`,"... ${qu(T)} not stringified"`}return m.pop(),`[${A}]`}let x=Object.keys(p),y=x.length;if(y===0)return"{}";if(a<m.length+1)return'"[Object]"';let b="",_=Math.min(y,o);g&&PC(p)&&(A+=MF(p,",",o),x=x.slice(p.length),_-=p.length,b=","),s&&(x=DC(x,i)),m.push(p);for(let C=0;C<_;C++){let w=x[C],S=d(w,p[w],m);S!==void 0&&(A+=`${b}${hc(w)}:${S}`,b=",")}if(y>o){let C=y-o;A+=`${b}"...":"${qu(C)} not stringified"`}return m.pop(),`{${A}}`}case"number":return isFinite(p)?String(p):t?t(p):"null";case"boolean":return p===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(p);default:return t?t(p):void 0}}function f(h,p,m){if(arguments.length>1){let A="";if(typeof m=="number"?A=" ".repeat(Math.min(m,10)):typeof m=="string"&&(A=m.slice(0,10)),p!=null){if(typeof p=="function")return c("",{"":h},[],p,A,"");if(Array.isArray(p))return u("",h,[],Dbe(p),A,"")}if(A.length!==0)return l("",h,[],A,"")}return d("",h,[])}return f}});var HF=I((qut,jF)=>{"use strict";var LC=Symbol.for("pino.metadata"),{DEFAULT_LEVELS:qF}=jy(),Obe=qF.info;function $be(e,t){let r=0;e=e||[],t=t||{dedupe:!1};let n=Object.create(qF);n.silent=1/0,t.levels&&typeof t.levels=="object"&&Object.keys(t.levels).forEach(d=>{n[d]=t.levels[d]});let s={write:i,add:c,emit:a,flushSync:o,end:u,minLevel:0,streams:[],clone:l,[LC]:!0,streamLevels:n};return Array.isArray(e)?e.forEach(c,s):c.call(s,e),e=null,s;function i(d){let f,h=this.lastLevel,{streams:p}=this,m=0,A;for(let g=Mbe(p.length,t.dedupe);Qbe(g,p.length,t.dedupe);g=Fbe(g,t.dedupe))if(f=p[g],f.level<=h){if(m!==0&&m!==f.level)break;if(A=f.stream,A[LC]){let{lastTime:x,lastMsg:y,lastObj:b,lastLogger:_}=this;A.lastLevel=h,A.lastTime=x,A.lastMsg=y,A.lastObj=b,A.lastLogger=_}A.write(d),t.dedupe&&(m=f.level)}else if(!t.dedupe)break}function a(...d){for(let{stream:f}of this.streams)typeof f.emit=="function"&&f.emit(...d)}function o(){for(let{stream:d}of this.streams)typeof d.flushSync=="function"&&d.flushSync()}function c(d){if(!d)return s;let f=typeof d.write=="function"||d.stream,h=d.write?d:d.stream;if(!f)throw Error("stream object needs to implement either StreamEntry or DestinationStream interface");let{streams:p,streamLevels:m}=this,A;typeof d.levelVal=="number"?A=d.levelVal:typeof d.level=="string"?A=m[d.level]:typeof d.level=="number"?A=d.level:A=Obe;let g={stream:h,level:A,levelVal:void 0,id:r++};return p.unshift(g),p.sort(Lbe),this.minLevel=p[0].level,s}function u(){for(let{stream:d}of this.streams)typeof d.flushSync=="function"&&d.flushSync(),d.end()}function l(d){let f=new Array(this.streams.length);for(let h=0;h<f.length;h++)f[h]={level:d,stream:this.streams[h].stream};return{write:i,add:c,minLevel:d,streams:f,clone:l,emit:a,flushSync:o,[LC]:!0}}}function Lbe(e,t){return e.level-t.level}function Mbe(e,t){return t?e-1:0}function Fbe(e,t){return t?e-1:e+1}function Qbe(e,t,r){return r?e>=0:e<t}jF.exports=$be});var n9=I((jut,si)=>{"use strict";var Ube=require("os"),XF=tC(),qbe=rC(),jbe=uC(),ZF=LM(),Hbe=LF(),e9=Dd(),{configure:zbe}=UF(),{assertDefaultLevelFound:Gbe,mappings:t9,genLsCache:Vbe,genLevelComparison:Kbe,assertLevelComparison:Ybe}=TC(),{DEFAULT_LEVELS:Wbe,SORTING_ORDER:Jbe}=jy(),{createArgsNormalizer:Xbe,asChindings:Zbe,buildSafeSonicBoom:zF,buildFormatters:eEe,stringify:MC,normalizeDestFileDescriptor:GF,noop:tEe}=qy(),{version:rEe}=BC(),{chindingsSym:VF,redactFmtSym:nEe,serializersSym:KF,timeSym:sEe,timeSliceIndexSym:iEe,streamSym:aEe,stringifySym:YF,stringifySafeSym:FC,stringifiersSym:WF,setLevelSym:oEe,endSym:cEe,formatOptsSym:uEe,messageKeySym:lEe,errorKeySym:dEe,nestedKeySym:fEe,mixinSym:pEe,levelCompSym:hEe,useOnlyCustomLevelsSym:mEe,formattersSym:JF,hooksSym:gEe,nestedKeyStrSym:AEe,mixinMergeStrategySym:yEe,msgPrefixSym:bEe}=e9,{epochTime:r9,nullTime:EEe}=ZF,{pid:xEe}=process,vEe=Ube.hostname(),_Ee=XF.err,IEe={level:"info",levelComparison:Jbe.ASC,levels:Wbe,messageKey:"msg",errorKey:"err",nestedKey:null,enabled:!0,base:{pid:xEe,hostname:vEe},serializers:Object.assign(Object.create(null),{err:_Ee}),formatters:Object.assign(Object.create(null),{bindings(e){return e},level(e,t){return{level:t}}}),hooks:{logMethod:void 0},timestamp:r9,name:void 0,redact:null,customLevels:null,useOnlyCustomLevels:!1,depthLimit:5,edgeLimit:100},CEe=Xbe(IEe),wEe=Object.assign(Object.create(null),XF);function QC(...e){let t={},{opts:r,stream:n}=CEe(t,qbe(),...e),{redact:s,crlf:i,serializers:a,timestamp:o,messageKey:c,errorKey:u,nestedKey:l,base:d,name:f,level:h,customLevels:p,levelComparison:m,mixin:A,mixinMergeStrategy:g,useOnlyCustomLevels:x,formatters:y,hooks:b,depthLimit:_,edgeLimit:C,onChild:w,msgPrefix:S}=r,T=zbe({maximumDepth:_,maximumBreadth:C}),R=eEe(y.level,y.bindings,y.log),P=MC.bind({[FC]:T}),N=s?jbe(s,P):{},D=s?{stringify:N[nEe]}:{stringify:P},k="}"+(i?`\r
`:`
`),q=Zbe.bind(null,{[VF]:"",[KF]:a,[WF]:N,[YF]:MC,[FC]:T,[JF]:R}),j="";d!==null&&(f===void 0?j=q(d):j=q(Object.assign({},d,{name:f})));let G=o instanceof Function?o:o?r9:EEe,J=G().indexOf(":")+1;if(x&&!p)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(A&&typeof A!="function")throw Error(`Unknown mixin type "${typeof A}" - expected "function"`);if(S&&typeof S!="string")throw Error(`Unknown msgPrefix type "${typeof S}" - expected "string"`);Gbe(h,p,x);let Q=t9(p,x);typeof n.emit=="function"&&n.emit("message",{code:"PINO_CONFIG",config:{levels:Q,messageKey:c,errorKey:u}}),Ybe(m);let te=Kbe(m);return Object.assign(t,{levels:Q,[hEe]:te,[mEe]:x,[aEe]:n,[sEe]:G,[iEe]:J,[YF]:MC,[FC]:T,[WF]:N,[cEe]:k,[uEe]:D,[lEe]:c,[dEe]:u,[fEe]:l,[AEe]:l?`,${JSON.stringify(l)}:{`:"",[KF]:a,[pEe]:A,[yEe]:g,[VF]:j,[JF]:R,[gEe]:b,silent:tEe,onChild:w,[bEe]:S}),Object.setPrototypeOf(t,Hbe()),Vbe(t),t[oEe](h),t}si.exports=QC;si.exports.destination=(e=process.stdout.fd)=>typeof e=="object"?(e.dest=GF(e.dest||process.stdout.fd),zF(e)):zF({dest:GF(e),minLength:0});si.exports.transport=vC();si.exports.multistream=HF();si.exports.levels=t9();si.exports.stdSerializers=wEe;si.exports.stdTimeFunctions=Object.assign({},ZF);si.exports.symbols=e9;si.exports.version=rEe;si.exports.default=QC;si.exports.pino=QC});var _0=I((Hut,c9)=>{"use strict";var SEe=VL(),Hy=n9(),{serializersSym:s9}=Hy.symbols,{FST_ERR_LOG_INVALID_DESTINATION:TEe,FST_ERR_LOG_INVALID_LOGGER:BEe}=Ln();function i9(e){if(e.stream&&e.file)throw new TEe;e.file&&(e.stream=Hy.destination(e.file),delete e.file);let t=e.logger,r=e.genReqId,n=null;return t?(e.logger=void 0,e.genReqId=void 0,t[s9]&&(e.serializers=Object.assign({},e.serializers,t[s9])),n=t.child({},e),e.logger=t,e.genReqId=r):n=Hy(e,e.stream),n}var UC={req:function(t){return{method:t.method,url:t.url,version:t.headers&&t.headers["accept-version"],hostname:t.hostname,remoteAddress:t.ip,remotePort:t.socket?t.socket.remotePort:void 0}},err:Hy.stdSerializers.err,res:function(t){return{statusCode:t.statusCode}}};function REe(){let e=process.hrtime();return e[0]*1e3+e[1]/1e6}function NEe(e){if(!e.logger){let n=SEe;return n.child=()=>n,{logger:n,hasLogger:!1}}if(a9(e.logger))return{logger:i9({logger:e.logger,serializers:Object.assign({},UC,e.logger.serializers)}),hasLogger:!0};let t={};return Object.prototype.toString.call(e.logger)==="[object Object]"&&Reflect.ownKeys(e.logger).forEach(n=>{Object.defineProperty(t,n,{value:e.logger[n],writable:!0,enumerable:!0,configurable:!0})}),t.level=t.level||"info",t.serializers=Object.assign({},UC,t.serializers),e.logger=t,{logger:i9(e.logger),hasLogger:!0}}function a9(e,t){let r=["info","error","debug","fatal","warn","trace","child"],n=e?r.filter(s=>!e[s]||typeof e[s]!="function"):r;if(n.length){if(n.length===r.length&&!t)return!1;throw BEe(n.join(","))}else return!0}function kEe(e,t,r,n,s){let i={[e.requestIdLogLabel]:n},a=e.childLoggerFactory.call(e.server,t,i,s||{},r);return e.childLoggerFactory!==o9&&a9(a,!0),a}function o9(e,t,r){return e.child(t,r)}c9.exports={createLogger:NEe,createChildLogger:kEe,defaultChildLoggerFactory:o9,serializers:UC,now:REe}});var zy=I((zut,u9)=>{"use strict";u9.exports=DEe;function $d(e){return e instanceof Buffer?Buffer.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}function DEe(e){if(e=e||{},e.circles)return PEe(e);let t=new Map;if(t.set(Date,a=>new Date(a)),t.set(Map,(a,o)=>new Map(n(Array.from(a),o))),t.set(Set,(a,o)=>new Set(n(Array.from(a),o))),e.constructorHandlers)for(let a of e.constructorHandlers)t.set(a[0],a[1]);let r=null;return e.proto?i:s;function n(a,o){let c=Object.keys(a),u=new Array(c.length);for(let l=0;l<c.length;l++){let d=c[l],f=a[d];typeof f!="object"||f===null?u[d]=f:f.constructor!==Object&&(r=t.get(f.constructor))?u[d]=r(f,o):ArrayBuffer.isView(f)?u[d]=$d(f):u[d]=o(f)}return u}function s(a){if(typeof a!="object"||a===null)return a;if(Array.isArray(a))return n(a,s);if(a.constructor!==Object&&(r=t.get(a.constructor)))return r(a,s);let o={};for(let c in a){if(Object.hasOwnProperty.call(a,c)===!1)continue;let u=a[c];typeof u!="object"||u===null?o[c]=u:u.constructor!==Object&&(r=t.get(u.constructor))?o[c]=r(u,s):ArrayBuffer.isView(u)?o[c]=$d(u):o[c]=s(u)}return o}function i(a){if(typeof a!="object"||a===null)return a;if(Array.isArray(a))return n(a,i);if(a.constructor!==Object&&(r=t.get(a.constructor)))return r(a,i);let o={};for(let c in a){let u=a[c];typeof u!="object"||u===null?o[c]=u:u.constructor!==Object&&(r=t.get(u.constructor))?o[c]=r(u,i):ArrayBuffer.isView(u)?o[c]=$d(u):o[c]=i(u)}return o}}function PEe(e){let t=[],r=[],n=new Map;if(n.set(Date,c=>new Date(c)),n.set(Map,(c,u)=>new Map(i(Array.from(c),u))),n.set(Set,(c,u)=>new Set(i(Array.from(c),u))),e.constructorHandlers)for(let c of e.constructorHandlers)n.set(c[0],c[1]);let s=null;return e.proto?o:a;function i(c,u){let l=Object.keys(c),d=new Array(l.length);for(let f=0;f<l.length;f++){let h=l[f],p=c[h];if(typeof p!="object"||p===null)d[h]=p;else if(p.constructor!==Object&&(s=n.get(p.constructor)))d[h]=s(p,u);else if(ArrayBuffer.isView(p))d[h]=$d(p);else{let m=t.indexOf(p);m!==-1?d[h]=r[m]:d[h]=u(p)}}return d}function a(c){if(typeof c!="object"||c===null)return c;if(Array.isArray(c))return i(c,a);if(c.constructor!==Object&&(s=n.get(c.constructor)))return s(c,a);let u={};t.push(c),r.push(u);for(let l in c){if(Object.hasOwnProperty.call(c,l)===!1)continue;let d=c[l];if(typeof d!="object"||d===null)u[l]=d;else if(d.constructor!==Object&&(s=n.get(d.constructor)))u[l]=s(d,a);else if(ArrayBuffer.isView(d))u[l]=$d(d);else{let f=t.indexOf(d);f!==-1?u[l]=r[f]:u[l]=a(d)}}return t.pop(),r.pop(),u}function o(c){if(typeof c!="object"||c===null)return c;if(Array.isArray(c))return i(c,o);if(c.constructor!==Object&&(s=n.get(c.constructor)))return s(c,o);let u={};t.push(c),r.push(u);for(let l in c){let d=c[l];if(typeof d!="object"||d===null)u[l]=d;else if(d.constructor!==Object&&(s=n.get(d.constructor)))u[l]=s(d,o);else if(ArrayBuffer.isView(d))u[l]=$d(d);else{let f=t.indexOf(d);f!==-1?u[l]=r[f]:u[l]=o(d)}}return t.pop(),r.pop(),u}}});var I0=I((Gut,p9)=>{"use strict";var OEe=zy()({circles:!1,proto:!0}),{kSchemaVisited:l9,kSchemaResponse:$Ee}=cn(),jC=Symbol.for("fluent-schema-object"),{FST_ERR_SCH_MISSING_ID:LEe,FST_ERR_SCH_ALREADY_PRESENT:MEe,FST_ERR_SCH_DUPLICATE:FEe,FST_ERR_SCH_CONTENT_MISSING_SCHEMA:QEe}=Ln(),f9=["params","body","querystring","query","headers"];function Gy(e){this.store=e||{}}Gy.prototype.add=function(e){let t=OEe(e.isFluentSchema||e.isFluentJSONSchema||e[jC]?e.valueOf():e),r=t.$id;if(!r)throw new LEe;if(this.store[r])throw new MEe(r);this.store[r]=t};Gy.prototype.getSchemas=function(){return Object.assign({},this.store)};Gy.prototype.getSchema=function(e){return this.store[e]};function d9(e){return typeof e=="object"&&Object.getPrototypeOf(e)!==Object.prototype}function UEe(e,t){if(e[l9])return e;if(e.query){if(e.querystring)throw new FEe("querystring");e.querystring=e.query}qEe(e);for(let r of f9){let n=e[r];n&&!d9(n)&&(e[r]=qC(n,t.jsonShorthand))}if(e.response){let r=Object.keys(e.response);for(let n of r){if(d9(e.response[n]))continue;let s=e.response[n].content,i=!1;if(s){let a=Object.keys(s);for(let o=0;o<a.length;o++){let c=a[o];if(!s[c].schema){if(a.length===1)break;throw new QEe(c)}e.response[n].content[c].schema=qC(s[c].schema,t.jsonShorthand),o===a.length-1&&(i=!0)}}i||(e.response[n]=qC(e.response[n],t.jsonShorthand))}}return e[l9]=!0,e}function qEe(e){for(let t of f9)e[t]&&(e[t].isFluentSchema||e[t][jC])&&(e[t]=e[t].valueOf());if(e.response){let t=Object.keys(e.response);for(let r of t)(e.response[r].isFluentSchema||e.response[r][jC])&&(e.response[r]=e.response[r].valueOf())}}function qC(e,t){return!t||e.$ref||e.oneOf||e.allOf||e.anyOf||e.$merge||e.$patch?e:!e.type&&!e.properties?{type:"object",properties:e}:e}function jEe(e,t,r){let n=e[$Ee];if(!n)return!1;if(n[t]){if(n[t].constructor===Object&&r){let i=r.split(";",1)[0];return n[t][i]?n[t][i]:!1}return n[t]}let s=(t+"")[0]+"xx";if(n[s]){if(n[s].constructor===Object&&r){let i=r.split(";",1)[0];return n[s][i]?n[s][i]:!1}return n[s]}if(n.default){if(n.default.constructor===Object&&r){let i=r.split(";",1)[0];return n.default[i]?n.default[i]:!1}return n.default}return!1}p9.exports={buildSchemas(e){return new Gy(e)},getSchemaSerializer:jEe,normalizeSchema:UEe}});var HC=I((Vut,m9)=>{"use strict";var HEe=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;m9.exports=class h9{constructor(t){switch(t&&t.rounding){case"floor":this.parseInteger=Math.floor;break;case"ceil":this.parseInteger=Math.ceil;break;case"round":this.parseInteger=Math.round;break;case"trunc":default:this.parseInteger=Math.trunc;break}this._options=t}asInteger(t){if(Number.isInteger(t))return""+t;if(typeof t=="bigint")return t.toString();let r=this.parseInteger(t);if(r===1/0||r===-1/0||r!==r)throw new Error(`The value "${t}" cannot be converted to an integer.`);return""+r}asNumber(t){let r=Number(t);if(r!==r)throw new Error(`The value "${t}" cannot be converted to a number.`);return r===1/0||r===-1/0?"null":""+r}asBoolean(t){return t&&"true"||"false"}asDateTime(t){if(t===null)return'""';if(t instanceof Date)return'"'+t.toISOString()+'"';if(typeof t=="string")return'"'+t+'"';throw new Error(`The value "${t}" cannot be converted to a date-time.`)}asDate(t){if(t===null)return'""';if(t instanceof Date)return'"'+new Date(t.getTime()-t.getTimezoneOffset()*6e4).toISOString().slice(0,10)+'"';if(typeof t=="string")return'"'+t+'"';throw new Error(`The value "${t}" cannot be converted to a date.`)}asTime(t){if(t===null)return'""';if(t instanceof Date)return'"'+new Date(t.getTime()-t.getTimezoneOffset()*6e4).toISOString().slice(11,19)+'"';if(typeof t=="string")return'"'+t+'"';throw new Error(`The value "${t}" cannot be converted to a time.`)}asString(t){let r=t.length;if(r<42){let s="",i=-1,a=255;for(var n=0;n<r;n++)if(a=t.charCodeAt(n),a===34||a===92)i===-1&&(i=0),s+=t.slice(i,n)+"\\",i=n;else if(a<32||a>=55296&&a<=57343)return JSON.stringify(t);return i===-1&&'"'+t+'"'||'"'+s+t.slice(i)+'"'}else return r<5e3&&HEe.test(t)===!1?'"'+t+'"':JSON.stringify(t)}asUnsafeString(t){return'"'+t+'"'}getState(){return this._options}static restoreFromState(t){return new h9(t)}}});var S0=I(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.regexpCode=Pt.getEsmExportName=Pt.getProperty=Pt.safeStringify=Pt.stringify=Pt.strConcat=Pt.addCodeArg=Pt.str=Pt._=Pt.nil=Pt._Code=Pt.Name=Pt.IDENTIFIER=Pt._CodeOrName=void 0;var C0=class{};Pt._CodeOrName=C0;Pt.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var Hu=class extends C0{constructor(t){if(super(),!Pt.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};Pt.Name=Hu;var ii=class extends C0{constructor(t){super(),this._items=typeof t=="string"?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let t=this._items[0];return t===""||t==='""'}get str(){var t;return(t=this._str)!==null&&t!==void 0?t:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var t;return(t=this._names)!==null&&t!==void 0?t:this._names=this._items.reduce((r,n)=>(n instanceof Hu&&(r[n.str]=(r[n.str]||0)+1),r),{})}};Pt._Code=ii;Pt.nil=new ii("");function g9(e,...t){let r=[e[0]],n=0;for(;n<t.length;)GC(r,t[n]),r.push(e[++n]);return new ii(r)}Pt._=g9;var zC=new ii("+");function A9(e,...t){let r=[w0(e[0])],n=0;for(;n<t.length;)r.push(zC),GC(r,t[n]),r.push(zC,w0(e[++n]));return zEe(r),new ii(r)}Pt.str=A9;function GC(e,t){t instanceof ii?e.push(...t._items):t instanceof Hu?e.push(t):e.push(KEe(t))}Pt.addCodeArg=GC;function zEe(e){let t=1;for(;t<e.length-1;){if(e[t]===zC){let r=GEe(e[t-1],e[t+1]);if(r!==void 0){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}function GEe(e,t){if(t==='""')return e;if(e==='""')return t;if(typeof e=="string")return t instanceof Hu||e[e.length-1]!=='"'?void 0:typeof t!="string"?`${e.slice(0,-1)}${t}"`:t[0]==='"'?e.slice(0,-1)+t.slice(1):void 0;if(typeof t=="string"&&t[0]==='"'&&!(e instanceof Hu))return`"${e}${t.slice(1)}`}function VEe(e,t){return t.emptyStr()?e:e.emptyStr()?t:A9`${e}${t}`}Pt.strConcat=VEe;function KEe(e){return typeof e=="number"||typeof e=="boolean"||e===null?e:w0(Array.isArray(e)?e.join(","):e)}function YEe(e){return new ii(w0(e))}Pt.stringify=YEe;function w0(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}Pt.safeStringify=w0;function WEe(e){return typeof e=="string"&&Pt.IDENTIFIER.test(e)?new ii(`.${e}`):g9`[${e}]`}Pt.getProperty=WEe;function JEe(e){if(typeof e=="string"&&Pt.IDENTIFIER.test(e))return new ii(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)}Pt.getEsmExportName=JEe;function XEe(e){return new ii(e.toString())}Pt.regexpCode=XEe});var YC=I(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.ValueScope=Is.ValueScopeName=Is.Scope=Is.varKinds=Is.UsedValueState=void 0;var _s=S0(),VC=class extends Error{constructor(t){super(`CodeGen: "code" for ${t} not defined`),this.value=t.value}},Vy;(function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"})(Vy||(Is.UsedValueState=Vy={}));Is.varKinds={const:new _s.Name("const"),let:new _s.Name("let"),var:new _s.Name("var")};var Ky=class{constructor({prefixes:t,parent:r}={}){this._names={},this._prefixes=t,this._parent=r}toName(t){return t instanceof _s.Name?t:this.name(t)}name(t){return new _s.Name(this._newName(t))}_newName(t){let r=this._names[t]||this._nameGroup(t);return`${t}${r.index++}`}_nameGroup(t){var r,n;if(!((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0)&&n.has(t)||this._prefixes&&!this._prefixes.has(t))throw new Error(`CodeGen: prefix "${t}" is not allowed in this scope`);return this._names[t]={prefix:t,index:0}}};Is.Scope=Ky;var Yy=class extends _s.Name{constructor(t,r){super(r),this.prefix=t}setValue(t,{property:r,itemIndex:n}){this.value=t,this.scopePath=(0,_s._)`.${new _s.Name(r)}[${n}]`}};Is.ValueScopeName=Yy;var ZEe=(0,_s._)`\n`,KC=class extends Ky{constructor(t){super(t),this._values={},this._scope=t.scope,this.opts={...t,_n:t.lines?ZEe:_s.nil}}get(){return this._scope}name(t){return new Yy(t,this._newName(t))}value(t,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let s=this.toName(t),{prefix:i}=s,a=(n=r.key)!==null&&n!==void 0?n:r.ref,o=this._values[i];if(o){let l=o.get(a);if(l)return l}else o=this._values[i]=new Map;o.set(a,s);let c=this._scope[i]||(this._scope[i]=[]),u=c.length;return c[u]=r.ref,s.setValue(r,{property:i,itemIndex:u}),s}getValue(t,r){let n=this._values[t];if(n)return n.get(r)}scopeRefs(t,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return(0,_s._)`${t}${n.scopePath}`})}scopeCode(t=this._values,r,n){return this._reduceValues(t,s=>{if(s.value===void 0)throw new Error(`CodeGen: name "${s}" has no value`);return s.value.code},r,n)}_reduceValues(t,r,n={},s){let i=_s.nil;for(let a in t){let o=t[a];if(!o)continue;let c=n[a]=n[a]||new Map;o.forEach(u=>{if(c.has(u))return;c.set(u,Vy.Started);let l=r(u);if(l){let d=this.opts.es5?Is.varKinds.var:Is.varKinds.const;i=(0,_s._)`${i}${d} ${u} = ${l};${this.opts._n}`}else if(l=s?.(u))i=(0,_s._)`${i}${l}${this.opts._n}`;else throw new VC(u);c.set(u,Vy.Completed)})}return i}};Is.ValueScope=KC});var at=I(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.or=lt.and=lt.not=lt.CodeGen=lt.operators=lt.varKinds=lt.ValueScopeName=lt.ValueScope=lt.Scope=lt.Name=lt.regexpCode=lt.stringify=lt.getProperty=lt.nil=lt.strConcat=lt.str=lt._=void 0;var It=S0(),Qi=YC(),mc=S0();Object.defineProperty(lt,"_",{enumerable:!0,get:function(){return mc._}});Object.defineProperty(lt,"str",{enumerable:!0,get:function(){return mc.str}});Object.defineProperty(lt,"strConcat",{enumerable:!0,get:function(){return mc.strConcat}});Object.defineProperty(lt,"nil",{enumerable:!0,get:function(){return mc.nil}});Object.defineProperty(lt,"getProperty",{enumerable:!0,get:function(){return mc.getProperty}});Object.defineProperty(lt,"stringify",{enumerable:!0,get:function(){return mc.stringify}});Object.defineProperty(lt,"regexpCode",{enumerable:!0,get:function(){return mc.regexpCode}});Object.defineProperty(lt,"Name",{enumerable:!0,get:function(){return mc.Name}});var Zy=YC();Object.defineProperty(lt,"Scope",{enumerable:!0,get:function(){return Zy.Scope}});Object.defineProperty(lt,"ValueScope",{enumerable:!0,get:function(){return Zy.ValueScope}});Object.defineProperty(lt,"ValueScopeName",{enumerable:!0,get:function(){return Zy.ValueScopeName}});Object.defineProperty(lt,"varKinds",{enumerable:!0,get:function(){return Zy.varKinds}});lt.operators={GT:new It._Code(">"),GTE:new It._Code(">="),LT:new It._Code("<"),LTE:new It._Code("<="),EQ:new It._Code("==="),NEQ:new It._Code("!=="),NOT:new It._Code("!"),OR:new It._Code("||"),AND:new It._Code("&&"),ADD:new It._Code("+")};var uo=class{optimizeNodes(){return this}optimizeNames(t,r){return this}},WC=class extends uo{constructor(t,r,n){super(),this.varKind=t,this.name=r,this.rhs=n}render({es5:t,_n:r}){let n=t?Qi.varKinds.var:this.varKind,s=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${s};`+r}optimizeNames(t,r){if(t[this.name.str])return this.rhs&&(this.rhs=Md(this.rhs,t,r)),this}get names(){return this.rhs instanceof It._CodeOrName?this.rhs.names:{}}},Wy=class extends uo{constructor(t,r,n){super(),this.lhs=t,this.rhs=r,this.sideEffects=n}render({_n:t}){return`${this.lhs} = ${this.rhs};`+t}optimizeNames(t,r){if(!(this.lhs instanceof It.Name&&!t[this.lhs.str]&&!this.sideEffects))return this.rhs=Md(this.rhs,t,r),this}get names(){let t=this.lhs instanceof It.Name?{}:{...this.lhs.names};return Xy(t,this.rhs)}},JC=class extends Wy{constructor(t,r,n,s){super(t,n,s),this.op=r}render({_n:t}){return`${this.lhs} ${this.op}= ${this.rhs};`+t}},XC=class extends uo{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`${this.label}:`+t}},ZC=class extends uo{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`break${this.label?` ${this.label}`:""};`+t}},ew=class extends uo{constructor(t){super(),this.error=t}render({_n:t}){return`throw ${this.error};`+t}get names(){return this.error.names}},tw=class extends uo{constructor(t){super(),this.code=t}render({_n:t}){return`${this.code};`+t}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(t,r){return this.code=Md(this.code,t,r),this}get names(){return this.code instanceof It._CodeOrName?this.code.names:{}}},T0=class extends uo{constructor(t=[]){super(),this.nodes=t}render(t){return this.nodes.reduce((r,n)=>r+n.render(t),"")}optimizeNodes(){let{nodes:t}=this,r=t.length;for(;r--;){let n=t[r].optimizeNodes();Array.isArray(n)?t.splice(r,1,...n):n?t[r]=n:t.splice(r,1)}return t.length>0?this:void 0}optimizeNames(t,r){let{nodes:n}=this,s=n.length;for(;s--;){let i=n[s];i.optimizeNames(t,r)||(exe(t,i.names),n.splice(s,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((t,r)=>Vu(t,r.names),{})}},lo=class extends T0{render(t){return"{"+t._n+super.render(t)+"}"+t._n}},rw=class extends T0{},Ld=class extends lo{};Ld.kind="else";var zu=class e extends lo{constructor(t,r){super(r),this.condition=t}render(t){let r=`if(${this.condition})`+super.render(t);return this.else&&(r+="else "+this.else.render(t)),r}optimizeNodes(){super.optimizeNodes();let t=this.condition;if(t===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new Ld(n):n}if(r)return t===!1?r instanceof e?r:r.nodes:this.nodes.length?this:new e(y9(t),r instanceof e?[r]:r.nodes);if(!(t===!1||!this.nodes.length))return this}optimizeNames(t,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(t,r),!!(super.optimizeNames(t,r)||this.else))return this.condition=Md(this.condition,t,r),this}get names(){let t=super.names;return Xy(t,this.condition),this.else&&Vu(t,this.else.names),t}};zu.kind="if";var Gu=class extends lo{};Gu.kind="for";var nw=class extends Gu{constructor(t){super(),this.iteration=t}render(t){return`for(${this.iteration})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iteration=Md(this.iteration,t,r),this}get names(){return Vu(super.names,this.iteration.names)}},sw=class extends Gu{constructor(t,r,n,s){super(),this.varKind=t,this.name=r,this.from=n,this.to=s}render(t){let r=t.es5?Qi.varKinds.var:this.varKind,{name:n,from:s,to:i}=this;return`for(${r} ${n}=${s}; ${n}<${i}; ${n}++)`+super.render(t)}get names(){let t=Xy(super.names,this.from);return Xy(t,this.to)}},Jy=class extends Gu{constructor(t,r,n,s){super(),this.loop=t,this.varKind=r,this.name=n,this.iterable=s}render(t){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iterable=Md(this.iterable,t,r),this}get names(){return Vu(super.names,this.iterable.names)}},B0=class extends lo{constructor(t,r,n){super(),this.name=t,this.args=r,this.async=n}render(t){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(t)}};B0.kind="func";var R0=class extends T0{render(t){return"return "+super.render(t)}};R0.kind="return";var iw=class extends lo{render(t){let r="try"+super.render(t);return this.catch&&(r+=this.catch.render(t)),this.finally&&(r+=this.finally.render(t)),r}optimizeNodes(){var t,r;return super.optimizeNodes(),(t=this.catch)===null||t===void 0||t.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(t,r){var n,s;return super.optimizeNames(t,r),(n=this.catch)===null||n===void 0||n.optimizeNames(t,r),(s=this.finally)===null||s===void 0||s.optimizeNames(t,r),this}get names(){let t=super.names;return this.catch&&Vu(t,this.catch.names),this.finally&&Vu(t,this.finally.names),t}},N0=class extends lo{constructor(t){super(),this.error=t}render(t){return`catch(${this.error})`+super.render(t)}};N0.kind="catch";var k0=class extends lo{render(t){return"finally"+super.render(t)}};k0.kind="finally";var aw=class{constructor(t,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...r,_n:r.lines?`
`:""},this._extScope=t,this._scope=new Qi.Scope({parent:t}),this._nodes=[new rw]}toString(){return this._root.render(this.opts)}name(t){return this._scope.name(t)}scopeName(t){return this._extScope.name(t)}scopeValue(t,r){let n=this._extScope.value(t,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(t,r){return this._extScope.getValue(t,r)}scopeRefs(t){return this._extScope.scopeRefs(t,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(t,r,n,s){let i=this._scope.toName(r);return n!==void 0&&s&&(this._constants[i.str]=n),this._leafNode(new WC(t,i,n)),i}const(t,r,n){return this._def(Qi.varKinds.const,t,r,n)}let(t,r,n){return this._def(Qi.varKinds.let,t,r,n)}var(t,r,n){return this._def(Qi.varKinds.var,t,r,n)}assign(t,r,n){return this._leafNode(new Wy(t,r,n))}add(t,r){return this._leafNode(new JC(t,lt.operators.ADD,r))}code(t){return typeof t=="function"?t():t!==It.nil&&this._leafNode(new tw(t)),this}object(...t){let r=["{"];for(let[n,s]of t)r.length>1&&r.push(","),r.push(n),(n!==s||this.opts.es5)&&(r.push(":"),(0,It.addCodeArg)(r,s));return r.push("}"),new It._Code(r)}if(t,r,n){if(this._blockNode(new zu(t)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(t){return this._elseNode(new zu(t))}else(){return this._elseNode(new Ld)}endIf(){return this._endBlockNode(zu,Ld)}_for(t,r){return this._blockNode(t),r&&this.code(r).endFor(),this}for(t,r){return this._for(new nw(t),r)}forRange(t,r,n,s,i=this.opts.es5?Qi.varKinds.var:Qi.varKinds.let){let a=this._scope.toName(t);return this._for(new sw(i,a,r,n),()=>s(a))}forOf(t,r,n,s=Qi.varKinds.const){let i=this._scope.toName(t);if(this.opts.es5){let a=r instanceof It.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,It._)`${a}.length`,o=>{this.var(i,(0,It._)`${a}[${o}]`),n(i)})}return this._for(new Jy("of",s,i,r),()=>n(i))}forIn(t,r,n,s=this.opts.es5?Qi.varKinds.var:Qi.varKinds.const){if(this.opts.ownProperties)return this.forOf(t,(0,It._)`Object.keys(${r})`,n);let i=this._scope.toName(t);return this._for(new Jy("in",s,i,r),()=>n(i))}endFor(){return this._endBlockNode(Gu)}label(t){return this._leafNode(new XC(t))}break(t){return this._leafNode(new ZC(t))}return(t){let r=new R0;if(this._blockNode(r),this.code(t),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(R0)}try(t,r,n){if(!r&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let s=new iw;if(this._blockNode(s),this.code(t),r){let i=this.name("e");this._currNode=s.catch=new N0(i),r(i)}return n&&(this._currNode=s.finally=new k0,this.code(n)),this._endBlockNode(N0,k0)}throw(t){return this._leafNode(new ew(t))}block(t,r){return this._blockStarts.push(this._nodes.length),t&&this.code(t).endBlock(r),this}endBlock(t){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||t!==void 0&&n!==t)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${t} expected`);return this._nodes.length=r,this}func(t,r=It.nil,n,s){return this._blockNode(new B0(t,r,n)),s&&this.code(s).endFunc(),this}endFunc(){return this._endBlockNode(B0)}optimize(t=1){for(;t-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(t){return this._currNode.nodes.push(t),this}_blockNode(t){this._currNode.nodes.push(t),this._nodes.push(t)}_endBlockNode(t,r){let n=this._currNode;if(n instanceof t||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${t.kind}/${r.kind}`:t.kind}"`)}_elseNode(t){let r=this._currNode;if(!(r instanceof zu))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=t,this}get _root(){return this._nodes[0]}get _currNode(){let t=this._nodes;return t[t.length-1]}set _currNode(t){let r=this._nodes;r[r.length-1]=t}};lt.CodeGen=aw;function Vu(e,t){for(let r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function Xy(e,t){return t instanceof It._CodeOrName?Vu(e,t.names):e}function Md(e,t,r){if(e instanceof It.Name)return n(e);if(!s(e))return e;return new It._Code(e._items.reduce((i,a)=>(a instanceof It.Name&&(a=n(a)),a instanceof It._Code?i.push(...a._items):i.push(a),i),[]));function n(i){let a=r[i.str];return a===void 0||t[i.str]!==1?i:(delete t[i.str],a)}function s(i){return i instanceof It._Code&&i._items.some(a=>a instanceof It.Name&&t[a.str]===1&&r[a.str]!==void 0)}}function exe(e,t){for(let r in t)e[r]=(e[r]||0)-(t[r]||0)}function y9(e){return typeof e=="boolean"||typeof e=="number"||e===null?!e:(0,It._)`!${ow(e)}`}lt.not=y9;var txe=b9(lt.operators.AND);function rxe(...e){return e.reduce(txe)}lt.and=rxe;var nxe=b9(lt.operators.OR);function sxe(...e){return e.reduce(nxe)}lt.or=sxe;function b9(e){return(t,r)=>t===It.nil?r:r===It.nil?t:(0,It._)`${ow(t)} ${e} ${ow(r)}`}function ow(e){return e instanceof It.Name?e:(0,It._)`(${e})`}});var Ot=I(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.checkStrictMode=mt.getErrorPath=mt.Type=mt.useFunc=mt.setEvaluated=mt.evaluatedPropsToName=mt.mergeEvaluated=mt.eachItem=mt.unescapeJsonPointer=mt.escapeJsonPointer=mt.escapeFragment=mt.unescapeFragment=mt.schemaRefOrVal=mt.schemaHasRulesButRef=mt.schemaHasRules=mt.checkUnknownRules=mt.alwaysValidSchema=mt.toHash=void 0;var or=at(),ixe=S0();function axe(e){let t={};for(let r of e)t[r]=!0;return t}mt.toHash=axe;function oxe(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(v9(e,t),!_9(t,e.self.RULES.all))}mt.alwaysValidSchema=oxe;function v9(e,t=e.schema){let{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;let s=n.RULES.keywords;for(let i in t)s[i]||w9(e,`unknown keyword: "${i}"`)}mt.checkUnknownRules=v9;function _9(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(t[r])return!0;return!1}mt.schemaHasRules=_9;function cxe(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}mt.schemaHasRulesButRef=cxe;function uxe({topSchemaRef:e,schemaPath:t},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,or._)`${r}`}return(0,or._)`${e}${t}${(0,or.getProperty)(n)}`}mt.schemaRefOrVal=uxe;function lxe(e){return I9(decodeURIComponent(e))}mt.unescapeFragment=lxe;function dxe(e){return encodeURIComponent(uw(e))}mt.escapeFragment=dxe;function uw(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}mt.escapeJsonPointer=uw;function I9(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}mt.unescapeJsonPointer=I9;function fxe(e,t){if(Array.isArray(e))for(let r of e)t(r);else t(e)}mt.eachItem=fxe;function E9({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(s,i,a,o)=>{let c=a===void 0?i:a instanceof or.Name?(i instanceof or.Name?e(s,i,a):t(s,i,a),a):i instanceof or.Name?(t(s,a,i),i):r(i,a);return o===or.Name&&!(c instanceof or.Name)?n(s,c):c}}mt.mergeEvaluated={props:E9({mergeNames:(e,t,r)=>e.if((0,or._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,or._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,or._)`${r} || {}`).code((0,or._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,or._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,or._)`${r} || {}`),lw(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:C9}),items:E9({mergeNames:(e,t,r)=>e.if((0,or._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,or._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,or._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,or._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function C9(e,t){if(t===!0)return e.var("props",!0);let r=e.var("props",(0,or._)`{}`);return t!==void 0&&lw(e,r,t),r}mt.evaluatedPropsToName=C9;function lw(e,t,r){Object.keys(r).forEach(n=>e.assign((0,or._)`${t}${(0,or.getProperty)(n)}`,!0))}mt.setEvaluated=lw;var x9={};function pxe(e,t){return e.scopeValue("func",{ref:t,code:x9[t.code]||(x9[t.code]=new ixe._Code(t.code))})}mt.useFunc=pxe;var cw;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(cw||(mt.Type=cw={}));function hxe(e,t,r){if(e instanceof or.Name){let n=t===cw.Num;return r?n?(0,or._)`"[" + ${e} + "]"`:(0,or._)`"['" + ${e} + "']"`:n?(0,or._)`"/" + ${e}`:(0,or._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,or.getProperty)(e).toString():"/"+uw(e)}mt.getErrorPath=hxe;function w9(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}mt.checkStrictMode=w9});var fo=I(dw=>{"use strict";Object.defineProperty(dw,"__esModule",{value:!0});var Fn=at(),mxe={data:new Fn.Name("data"),valCxt:new Fn.Name("valCxt"),instancePath:new Fn.Name("instancePath"),parentData:new Fn.Name("parentData"),parentDataProperty:new Fn.Name("parentDataProperty"),rootData:new Fn.Name("rootData"),dynamicAnchors:new Fn.Name("dynamicAnchors"),vErrors:new Fn.Name("vErrors"),errors:new Fn.Name("errors"),this:new Fn.Name("this"),self:new Fn.Name("self"),scope:new Fn.Name("scope"),json:new Fn.Name("json"),jsonPos:new Fn.Name("jsonPos"),jsonLen:new Fn.Name("jsonLen"),jsonPart:new Fn.Name("jsonPart")};dw.default=mxe});var D0=I(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});Qn.extendErrors=Qn.resetErrorsCount=Qn.reportExtraError=Qn.reportError=Qn.keyword$DataError=Qn.keywordError=void 0;var Tt=at(),e1=Ot(),is=fo();Qn.keywordError={message:({keyword:e})=>(0,Tt.str)`must pass "${e}" keyword validation`};Qn.keyword$DataError={message:({keyword:e,schemaType:t})=>t?(0,Tt.str)`"${e}" keyword must be ${t} ($data)`:(0,Tt.str)`"${e}" keyword is invalid ($data)`};function gxe(e,t=Qn.keywordError,r,n){let{it:s}=e,{gen:i,compositeRule:a,allErrors:o}=s,c=B9(e,t,r);n??(a||o)?S9(i,c):T9(s,(0,Tt._)`[${c}]`)}Qn.reportError=gxe;function Axe(e,t=Qn.keywordError,r){let{it:n}=e,{gen:s,compositeRule:i,allErrors:a}=n,o=B9(e,t,r);S9(s,o),i||a||T9(n,is.default.vErrors)}Qn.reportExtraError=Axe;function yxe(e,t){e.assign(is.default.errors,t),e.if((0,Tt._)`${is.default.vErrors} !== null`,()=>e.if(t,()=>e.assign((0,Tt._)`${is.default.vErrors}.length`,t),()=>e.assign(is.default.vErrors,null)))}Qn.resetErrorsCount=yxe;function bxe({gen:e,keyword:t,schemaValue:r,data:n,errsCount:s,it:i}){if(s===void 0)throw new Error("ajv implementation error");let a=e.name("err");e.forRange("i",s,is.default.errors,o=>{e.const(a,(0,Tt._)`${is.default.vErrors}[${o}]`),e.if((0,Tt._)`${a}.instancePath === undefined`,()=>e.assign((0,Tt._)`${a}.instancePath`,(0,Tt.strConcat)(is.default.instancePath,i.errorPath))),e.assign((0,Tt._)`${a}.schemaPath`,(0,Tt.str)`${i.errSchemaPath}/${t}`),i.opts.verbose&&(e.assign((0,Tt._)`${a}.schema`,r),e.assign((0,Tt._)`${a}.data`,n))})}Qn.extendErrors=bxe;function S9(e,t){let r=e.const("err",t);e.if((0,Tt._)`${is.default.vErrors} === null`,()=>e.assign(is.default.vErrors,(0,Tt._)`[${r}]`),(0,Tt._)`${is.default.vErrors}.push(${r})`),e.code((0,Tt._)`${is.default.errors}++`)}function T9(e,t){let{gen:r,validateName:n,schemaEnv:s}=e;s.$async?r.throw((0,Tt._)`new ${e.ValidationError}(${t})`):(r.assign((0,Tt._)`${n}.errors`,t),r.return(!1))}var Ku={keyword:new Tt.Name("keyword"),schemaPath:new Tt.Name("schemaPath"),params:new Tt.Name("params"),propertyName:new Tt.Name("propertyName"),message:new Tt.Name("message"),schema:new Tt.Name("schema"),parentSchema:new Tt.Name("parentSchema")};function B9(e,t,r){let{createErrors:n}=e.it;return n===!1?(0,Tt._)`{}`:Exe(e,t,r)}function Exe(e,t,r={}){let{gen:n,it:s}=e,i=[xxe(s,r),vxe(e,r)];return _xe(e,t,i),n.object(...i)}function xxe({errorPath:e},{instancePath:t}){let r=t?(0,Tt.str)`${e}${(0,e1.getErrorPath)(t,e1.Type.Str)}`:e;return[is.default.instancePath,(0,Tt.strConcat)(is.default.instancePath,r)]}function vxe({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:n}){let s=n?t:(0,Tt.str)`${t}/${e}`;return r&&(s=(0,Tt.str)`${s}${(0,e1.getErrorPath)(r,e1.Type.Str)}`),[Ku.schemaPath,s]}function _xe(e,{params:t,message:r},n){let{keyword:s,data:i,schemaValue:a,it:o}=e,{opts:c,propertyName:u,topSchemaRef:l,schemaPath:d}=o;n.push([Ku.keyword,s],[Ku.params,typeof t=="function"?t(e):t||(0,Tt._)`{}`]),c.messages&&n.push([Ku.message,typeof r=="function"?r(e):r]),c.verbose&&n.push([Ku.schema,a],[Ku.parentSchema,(0,Tt._)`${l}${d}`],[is.default.data,i]),u&&n.push([Ku.propertyName,u])}});var N9=I(Fd=>{"use strict";Object.defineProperty(Fd,"__esModule",{value:!0});Fd.boolOrEmptySchema=Fd.topBoolOrEmptySchema=void 0;var Ixe=D0(),Cxe=at(),wxe=fo(),Sxe={message:"boolean schema is false"};function Txe(e){let{gen:t,schema:r,validateName:n}=e;r===!1?R9(e,!1):typeof r=="object"&&r.$async===!0?t.return(wxe.default.data):(t.assign((0,Cxe._)`${n}.errors`,null),t.return(!0))}Fd.topBoolOrEmptySchema=Txe;function Bxe(e,t){let{gen:r,schema:n}=e;n===!1?(r.var(t,!1),R9(e)):r.var(t,!0)}Fd.boolOrEmptySchema=Bxe;function R9(e,t){let{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Ixe.reportError)(s,Sxe,void 0,t)}});var fw=I(Qd=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});Qd.getRules=Qd.isJSONType=void 0;var Rxe=["string","number","integer","boolean","null","object","array"],Nxe=new Set(Rxe);function kxe(e){return typeof e=="string"&&Nxe.has(e)}Qd.isJSONType=kxe;function Dxe(){let e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Qd.getRules=Dxe});var pw=I(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc.shouldUseRule=gc.shouldUseGroup=gc.schemaHasRulesForType=void 0;function Pxe({schema:e,self:t},r){let n=t.RULES.types[r];return n&&n!==!0&&k9(e,n)}gc.schemaHasRulesForType=Pxe;function k9(e,t){return t.rules.some(r=>D9(e,r))}gc.shouldUseGroup=k9;function D9(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}gc.shouldUseRule=D9});var P0=I(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.reportTypeError=Un.checkDataTypes=Un.checkDataType=Un.coerceAndCheckDataType=Un.getJSONTypes=Un.getSchemaTypes=Un.DataType=void 0;var Oxe=fw(),$xe=pw(),Lxe=D0(),tt=at(),P9=Ot(),Ud;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(Ud||(Un.DataType=Ud={}));function Mxe(e){let t=O9(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}Un.getSchemaTypes=Mxe;function O9(e){let t=Array.isArray(e)?e:e?[e]:[];if(t.every(Oxe.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}Un.getJSONTypes=O9;function Fxe(e,t){let{gen:r,data:n,opts:s}=e,i=Qxe(t,s.coerceTypes),a=t.length>0&&!(i.length===0&&t.length===1&&(0,$xe.schemaHasRulesForType)(e,t[0]));if(a){let o=mw(t,n,s.strictNumbers,Ud.Wrong);r.if(o,()=>{i.length?Uxe(e,t,i):gw(e)})}return a}Un.coerceAndCheckDataType=Fxe;var $9=new Set(["string","number","integer","boolean","null"]);function Qxe(e,t){return t?e.filter(r=>$9.has(r)||t==="array"&&r==="array"):[]}function Uxe(e,t,r){let{gen:n,data:s,opts:i}=e,a=n.let("dataType",(0,tt._)`typeof ${s}`),o=n.let("coerced",(0,tt._)`undefined`);i.coerceTypes==="array"&&n.if((0,tt._)`${a} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,tt._)`${s}[0]`).assign(a,(0,tt._)`typeof ${s}`).if(mw(t,s,i.strictNumbers),()=>n.assign(o,s))),n.if((0,tt._)`${o} !== undefined`);for(let u of r)($9.has(u)||u==="array"&&i.coerceTypes==="array")&&c(u);n.else(),gw(e),n.endIf(),n.if((0,tt._)`${o} !== undefined`,()=>{n.assign(s,o),qxe(e,o)});function c(u){switch(u){case"string":n.elseIf((0,tt._)`${a} == "number" || ${a} == "boolean"`).assign(o,(0,tt._)`"" + ${s}`).elseIf((0,tt._)`${s} === null`).assign(o,(0,tt._)`""`);return;case"number":n.elseIf((0,tt._)`${a} == "boolean" || ${s} === null
              || (${a} == "string" && ${s} && ${s} == +${s})`).assign(o,(0,tt._)`+${s}`);return;case"integer":n.elseIf((0,tt._)`${a} === "boolean" || ${s} === null
              || (${a} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(o,(0,tt._)`+${s}`);return;case"boolean":n.elseIf((0,tt._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(o,!1).elseIf((0,tt._)`${s} === "true" || ${s} === 1`).assign(o,!0);return;case"null":n.elseIf((0,tt._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(o,null);return;case"array":n.elseIf((0,tt._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${s} === null`).assign(o,(0,tt._)`[${s}]`)}}}function qxe({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,tt._)`${t} !== undefined`,()=>e.assign((0,tt._)`${t}[${r}]`,n))}function hw(e,t,r,n=Ud.Correct){let s=n===Ud.Correct?tt.operators.EQ:tt.operators.NEQ,i;switch(e){case"null":return(0,tt._)`${t} ${s} null`;case"array":i=(0,tt._)`Array.isArray(${t})`;break;case"object":i=(0,tt._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=a((0,tt._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=a();break;default:return(0,tt._)`typeof ${t} ${s} ${e}`}return n===Ud.Correct?i:(0,tt.not)(i);function a(o=tt.nil){return(0,tt.and)((0,tt._)`typeof ${t} == "number"`,o,r?(0,tt._)`isFinite(${t})`:tt.nil)}}Un.checkDataType=hw;function mw(e,t,r,n){if(e.length===1)return hw(e[0],t,r,n);let s,i=(0,P9.toHash)(e);if(i.array&&i.object){let a=(0,tt._)`typeof ${t} != "object"`;s=i.null?a:(0,tt._)`!${t} || ${a}`,delete i.null,delete i.array,delete i.object}else s=tt.nil;i.number&&delete i.integer;for(let a in i)s=(0,tt.and)(s,hw(a,t,r,n));return s}Un.checkDataTypes=mw;var jxe={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,tt._)`{type: ${e}}`:(0,tt._)`{type: ${t}}`};function gw(e){let t=Hxe(e);(0,Lxe.reportError)(t,jxe)}Un.reportTypeError=gw;function Hxe(e){let{gen:t,data:r,schema:n}=e,s=(0,P9.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:e}}});var M9=I(t1=>{"use strict";Object.defineProperty(t1,"__esModule",{value:!0});t1.assignDefaults=void 0;var qd=at(),zxe=Ot();function Gxe(e,t){let{properties:r,items:n}=e.schema;if(t==="object"&&r)for(let s in r)L9(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,i)=>L9(e,i,s.default))}t1.assignDefaults=Gxe;function L9(e,t,r){let{gen:n,compositeRule:s,data:i,opts:a}=e;if(r===void 0)return;let o=(0,qd._)`${i}${(0,qd.getProperty)(t)}`;if(s){(0,zxe.checkStrictMode)(e,`default is ignored for: ${o}`);return}let c=(0,qd._)`${o} === undefined`;a.useDefaults==="empty"&&(c=(0,qd._)`${c} || ${o} === null || ${o} === ""`),n.if(c,(0,qd._)`${o} = ${(0,qd.stringify)(r)}`)}});var ai=I(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.validateUnion=Zt.validateArray=Zt.usePattern=Zt.callValidateCode=Zt.schemaProperties=Zt.allSchemaProperties=Zt.noPropertyInData=Zt.propertyInData=Zt.isOwnProperty=Zt.hasPropFunc=Zt.reportMissingProp=Zt.checkMissingProp=Zt.checkReportMissingProp=void 0;var Ar=at(),Aw=Ot(),Ac=fo(),Vxe=Ot();function Kxe(e,t){let{gen:r,data:n,it:s}=e;r.if(bw(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Ar._)`${t}`},!0),e.error()})}Zt.checkReportMissingProp=Kxe;function Yxe({gen:e,data:t,it:{opts:r}},n,s){return(0,Ar.or)(...n.map(i=>(0,Ar.and)(bw(e,t,i,r.ownProperties),(0,Ar._)`${s} = ${i}`)))}Zt.checkMissingProp=Yxe;function Wxe(e,t){e.setParams({missingProperty:t},!0),e.error()}Zt.reportMissingProp=Wxe;function F9(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Ar._)`Object.prototype.hasOwnProperty`})}Zt.hasPropFunc=F9;function yw(e,t,r){return(0,Ar._)`${F9(e)}.call(${t}, ${r})`}Zt.isOwnProperty=yw;function Jxe(e,t,r,n){let s=(0,Ar._)`${t}${(0,Ar.getProperty)(r)} !== undefined`;return n?(0,Ar._)`${s} && ${yw(e,t,r)}`:s}Zt.propertyInData=Jxe;function bw(e,t,r,n){let s=(0,Ar._)`${t}${(0,Ar.getProperty)(r)} === undefined`;return n?(0,Ar.or)(s,(0,Ar.not)(yw(e,t,r))):s}Zt.noPropertyInData=bw;function Q9(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Zt.allSchemaProperties=Q9;function Xxe(e,t){return Q9(t).filter(r=>!(0,Aw.alwaysValidSchema)(e,t[r]))}Zt.schemaProperties=Xxe;function Zxe({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:i},it:a},o,c,u){let l=u?(0,Ar._)`${e}, ${t}, ${n}${s}`:t,d=[[Ac.default.instancePath,(0,Ar.strConcat)(Ac.default.instancePath,i)],[Ac.default.parentData,a.parentData],[Ac.default.parentDataProperty,a.parentDataProperty],[Ac.default.rootData,Ac.default.rootData]];a.opts.dynamicRef&&d.push([Ac.default.dynamicAnchors,Ac.default.dynamicAnchors]);let f=(0,Ar._)`${l}, ${r.object(...d)}`;return c!==Ar.nil?(0,Ar._)`${o}.call(${c}, ${f})`:(0,Ar._)`${o}(${f})`}Zt.callValidateCode=Zxe;var eve=(0,Ar._)`new RegExp`;function tve({gen:e,it:{opts:t}},r){let n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,i=s(r,n);return e.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,Ar._)`${s.code==="new RegExp"?eve:(0,Vxe.useFunc)(e,s)}(${r}, ${n})`})}Zt.usePattern=tve;function rve(e){let{gen:t,data:r,keyword:n,it:s}=e,i=t.name("valid");if(s.allErrors){let o=t.let("valid",!0);return a(()=>t.assign(o,!1)),o}return t.var(i,!0),a(()=>t.break()),i;function a(o){let c=t.const("len",(0,Ar._)`${r}.length`);t.forRange("i",0,c,u=>{e.subschema({keyword:n,dataProp:u,dataPropType:Aw.Type.Num},i),t.if((0,Ar.not)(i),o)})}}Zt.validateArray=rve;function nve(e){let{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,Aw.alwaysValidSchema)(s,c))&&!s.opts.unevaluated)return;let a=t.let("valid",!1),o=t.name("_valid");t.block(()=>r.forEach((c,u)=>{let l=e.subschema({keyword:n,schemaProp:u,compositeRule:!0},o);t.assign(a,(0,Ar._)`${a} || ${o}`),e.mergeValidEvaluated(l,o)||t.if((0,Ar.not)(a))})),e.result(a,()=>e.reset(),()=>e.error(!0))}Zt.validateUnion=nve});var j9=I(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.validateKeywordUsage=ya.validSchemaType=ya.funcKeywordCode=ya.macroKeywordCode=void 0;var as=at(),Yu=fo(),sve=ai(),ive=D0();function ave(e,t){let{gen:r,keyword:n,schema:s,parentSchema:i,it:a}=e,o=t.macro.call(a.self,s,i,a),c=q9(r,n,o);a.opts.validateSchema!==!1&&a.self.validateSchema(o,!0);let u=r.name("valid");e.subschema({schema:o,schemaPath:as.nil,errSchemaPath:`${a.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}ya.macroKeywordCode=ave;function ove(e,t){var r;let{gen:n,keyword:s,schema:i,parentSchema:a,$data:o,it:c}=e;uve(c,t);let u=!o&&t.compile?t.compile.call(c.self,i,a,c):t.validate,l=q9(n,s,u),d=n.let("valid");e.block$data(d,f),e.ok((r=t.valid)!==null&&r!==void 0?r:d);function f(){if(t.errors===!1)m(),t.modifying&&U9(e),A(()=>e.error());else{let g=t.async?h():p();t.modifying&&U9(e),A(()=>cve(e,g))}}function h(){let g=n.let("ruleErrs",null);return n.try(()=>m((0,as._)`await `),x=>n.assign(d,!1).if((0,as._)`${x} instanceof ${c.ValidationError}`,()=>n.assign(g,(0,as._)`${x}.errors`),()=>n.throw(x))),g}function p(){let g=(0,as._)`${l}.errors`;return n.assign(g,null),m(as.nil),g}function m(g=t.async?(0,as._)`await `:as.nil){let x=c.opts.passContext?Yu.default.this:Yu.default.self,y=!("compile"in t&&!o||t.schema===!1);n.assign(d,(0,as._)`${g}${(0,sve.callValidateCode)(e,l,x,y)}`,t.modifying)}function A(g){var x;n.if((0,as.not)((x=t.valid)!==null&&x!==void 0?x:d),g)}}ya.funcKeywordCode=ove;function U9(e){let{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,as._)`${n.parentData}[${n.parentDataProperty}]`))}function cve(e,t){let{gen:r}=e;r.if((0,as._)`Array.isArray(${t})`,()=>{r.assign(Yu.default.vErrors,(0,as._)`${Yu.default.vErrors} === null ? ${t} : ${Yu.default.vErrors}.concat(${t})`).assign(Yu.default.errors,(0,as._)`${Yu.default.vErrors}.length`),(0,ive.extendErrors)(e)},()=>e.error())}function uve({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function q9(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,as.stringify)(r)})}function lve(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}ya.validSchemaType=lve;function dve({schema:e,opts:t,self:r,errSchemaPath:n},s,i){if(Array.isArray(s.keyword)?!s.keyword.includes(i):s.keyword!==i)throw new Error("ajv implementation error");let a=s.dependencies;if(a?.some(o=>!Object.prototype.hasOwnProperty.call(e,o)))throw new Error(`parent schema must have dependencies of ${i}: ${a.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[i])){let c=`keyword "${i}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}ya.validateKeywordUsage=dve});var z9=I(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});yc.extendSubschemaMode=yc.extendSubschemaData=yc.getSubschema=void 0;var ba=at(),H9=Ot();function fve(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:i,topSchemaRef:a}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){let o=e.schema[t];return r===void 0?{schema:o,schemaPath:(0,ba._)`${e.schemaPath}${(0,ba.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:o[r],schemaPath:(0,ba._)`${e.schemaPath}${(0,ba.getProperty)(t)}${(0,ba.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,H9.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||i===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:a,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}yc.getSubschema=fve;function pve(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:i,propertyName:a}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:o}=t;if(r!==void 0){let{errorPath:u,dataPathArr:l,opts:d}=t,f=o.let("data",(0,ba._)`${t.data}${(0,ba.getProperty)(r)}`,!0);c(f),e.errorPath=(0,ba.str)`${u}${(0,H9.getErrorPath)(r,n,d.jsPropertySyntax)}`,e.parentDataProperty=(0,ba._)`${r}`,e.dataPathArr=[...l,e.parentDataProperty]}if(s!==void 0){let u=s instanceof ba.Name?s:o.let("data",s,!0);c(u),a!==void 0&&(e.propertyName=a)}i&&(e.dataTypes=i);function c(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}yc.extendSubschemaData=pve;function hve(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:i}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),i!==void 0&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=r}yc.extendSubschemaMode=hve});var oi=I((clt,G9)=>{"use strict";G9.exports=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var a=i[s];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r}});var K9=I((ult,V9)=>{"use strict";var bc=V9.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};r1(t,n,s,e,"",e)};bc.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};bc.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};bc.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};bc.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function r1(e,t,r,n,s,i,a,o,c,u){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,i,a,o,c,u);for(var l in n){var d=n[l];if(Array.isArray(d)){if(l in bc.arrayKeywords)for(var f=0;f<d.length;f++)r1(e,t,r,d[f],s+"/"+l+"/"+f,i,s,l,n,f)}else if(l in bc.propsKeywords){if(d&&typeof d=="object")for(var h in d)r1(e,t,r,d[h],s+"/"+l+"/"+mve(h),i,s,l,n,h)}else(l in bc.keywords||e.allKeys&&!(l in bc.skipKeywords))&&r1(e,t,r,d,s+"/"+l,i,s,l,n)}r(n,s,i,a,o,c,u)}}function mve(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}});var O0=I(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.getSchemaRefs=Cs.resolveUrl=Cs.normalizeId=Cs._getFullPath=Cs.getFullPath=Cs.inlineRef=void 0;var gve=Ot(),Ave=oi(),yve=K9(),bve=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Eve(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Ew(e):t?Y9(e)<=t:!1}Cs.inlineRef=Eve;var xve=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Ew(e){for(let t in e){if(xve.has(t))return!0;let r=e[t];if(Array.isArray(r)&&r.some(Ew)||typeof r=="object"&&Ew(r))return!0}return!1}function Y9(e){let t=0;for(let r in e){if(r==="$ref")return 1/0;if(t++,!bve.has(r)&&(typeof e[r]=="object"&&(0,gve.eachItem)(e[r],n=>t+=Y9(n)),t===1/0))return 1/0}return t}function W9(e,t="",r){r!==!1&&(t=jd(t));let n=e.parse(t);return J9(e,n)}Cs.getFullPath=W9;function J9(e,t){return e.serialize(t).split("#")[0]+"#"}Cs._getFullPath=J9;var vve=/#\/?$/;function jd(e){return e?e.replace(vve,""):""}Cs.normalizeId=jd;function _ve(e,t,r){return r=jd(r),e.resolve(t,r)}Cs.resolveUrl=_ve;var Ive=/^[a-z_][-a-z0-9._]*$/i;function Cve(e,t){if(typeof e=="boolean")return{};let{schemaId:r,uriResolver:n}=this.opts,s=jd(e[r]||t),i={"":s},a=W9(n,s,!1),o={},c=new Set;return yve(e,{allKeys:!0},(d,f,h,p)=>{if(p===void 0)return;let m=a+f,A=i[p];typeof d[r]=="string"&&(A=g.call(this,d[r])),x.call(this,d.$anchor),x.call(this,d.$dynamicAnchor),i[f]=A;function g(y){let b=this.opts.uriResolver.resolve;if(y=jd(A?b(A,y):y),c.has(y))throw l(y);c.add(y);let _=this.refs[y];return typeof _=="string"&&(_=this.refs[_]),typeof _=="object"?u(d,_.schema,y):y!==jd(m)&&(y[0]==="#"?(u(d,o[y],y),o[y]=d):this.refs[y]=m),y}function x(y){if(typeof y=="string"){if(!Ive.test(y))throw new Error(`invalid anchor "${y}"`);g.call(this,`#${y}`)}}}),o;function u(d,f,h){if(f!==void 0&&!Ave(d,f))throw l(h)}function l(d){return new Error(`reference "${d}" resolves to more than one schema`)}}Cs.getSchemaRefs=Cve});var M0=I(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.getData=Ec.KeywordCxt=Ec.validateFunctionCode=void 0;var rQ=N9(),X9=P0(),vw=pw(),n1=P0(),wve=M9(),L0=j9(),xw=z9(),Le=at(),Ke=fo(),Sve=O0(),po=Ot(),$0=D0();function Tve(e){if(iQ(e)&&(aQ(e),sQ(e))){Nve(e);return}nQ(e,()=>(0,rQ.topBoolOrEmptySchema)(e))}Ec.validateFunctionCode=Tve;function nQ({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},i){s.code.es5?e.func(t,(0,Le._)`${Ke.default.data}, ${Ke.default.valCxt}`,n.$async,()=>{e.code((0,Le._)`"use strict"; ${Z9(r,s)}`),Rve(e,s),e.code(i)}):e.func(t,(0,Le._)`${Ke.default.data}, ${Bve(s)}`,n.$async,()=>e.code(Z9(r,s)).code(i))}function Bve(e){return(0,Le._)`{${Ke.default.instancePath}="", ${Ke.default.parentData}, ${Ke.default.parentDataProperty}, ${Ke.default.rootData}=${Ke.default.data}${e.dynamicRef?(0,Le._)`, ${Ke.default.dynamicAnchors}={}`:Le.nil}}={}`}function Rve(e,t){e.if(Ke.default.valCxt,()=>{e.var(Ke.default.instancePath,(0,Le._)`${Ke.default.valCxt}.${Ke.default.instancePath}`),e.var(Ke.default.parentData,(0,Le._)`${Ke.default.valCxt}.${Ke.default.parentData}`),e.var(Ke.default.parentDataProperty,(0,Le._)`${Ke.default.valCxt}.${Ke.default.parentDataProperty}`),e.var(Ke.default.rootData,(0,Le._)`${Ke.default.valCxt}.${Ke.default.rootData}`),t.dynamicRef&&e.var(Ke.default.dynamicAnchors,(0,Le._)`${Ke.default.valCxt}.${Ke.default.dynamicAnchors}`)},()=>{e.var(Ke.default.instancePath,(0,Le._)`""`),e.var(Ke.default.parentData,(0,Le._)`undefined`),e.var(Ke.default.parentDataProperty,(0,Le._)`undefined`),e.var(Ke.default.rootData,Ke.default.data),t.dynamicRef&&e.var(Ke.default.dynamicAnchors,(0,Le._)`{}`)})}function Nve(e){let{schema:t,opts:r,gen:n}=e;nQ(e,()=>{r.$comment&&t.$comment&&cQ(e),$ve(e),n.let(Ke.default.vErrors,null),n.let(Ke.default.errors,0),r.unevaluated&&kve(e),oQ(e),Fve(e)})}function kve(e){let{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,Le._)`${r}.evaluated`),t.if((0,Le._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,Le._)`${e.evaluated}.props`,(0,Le._)`undefined`)),t.if((0,Le._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,Le._)`${e.evaluated}.items`,(0,Le._)`undefined`))}function Z9(e,t){let r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,Le._)`/*# sourceURL=${r} */`:Le.nil}function Dve(e,t){if(iQ(e)&&(aQ(e),sQ(e))){Pve(e,t);return}(0,rQ.boolOrEmptySchema)(e,t)}function sQ({schema:e,self:t}){if(typeof e=="boolean")return!e;for(let r in e)if(t.RULES.all[r])return!0;return!1}function iQ(e){return typeof e.schema!="boolean"}function Pve(e,t){let{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&cQ(e),Lve(e),Mve(e);let i=n.const("_errs",Ke.default.errors);oQ(e,i),n.var(t,(0,Le._)`${i} === ${Ke.default.errors}`)}function aQ(e){(0,po.checkUnknownRules)(e),Ove(e)}function oQ(e,t){if(e.opts.jtd)return eQ(e,[],!1,t);let r=(0,X9.getSchemaTypes)(e.schema),n=(0,X9.coerceAndCheckDataType)(e,r);eQ(e,r,!n,t)}function Ove(e){let{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,po.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function $ve(e){let{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,po.checkStrictMode)(e,"default is ignored in the schema root")}function Lve(e){let t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Sve.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function Mve(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function cQ({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){let i=r.$comment;if(s.$comment===!0)e.code((0,Le._)`${Ke.default.self}.logger.log(${i})`);else if(typeof s.$comment=="function"){let a=(0,Le.str)`${n}/$comment`,o=e.scopeValue("root",{ref:t.root});e.code((0,Le._)`${Ke.default.self}.opts.$comment(${i}, ${a}, ${o}.schema)`)}}function Fve(e){let{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:i}=e;r.$async?t.if((0,Le._)`${Ke.default.errors} === 0`,()=>t.return(Ke.default.data),()=>t.throw((0,Le._)`new ${s}(${Ke.default.vErrors})`)):(t.assign((0,Le._)`${n}.errors`,Ke.default.vErrors),i.unevaluated&&Qve(e),t.return((0,Le._)`${Ke.default.errors} === 0`))}function Qve({gen:e,evaluated:t,props:r,items:n}){r instanceof Le.Name&&e.assign((0,Le._)`${t}.props`,r),n instanceof Le.Name&&e.assign((0,Le._)`${t}.items`,n)}function eQ(e,t,r,n){let{gen:s,schema:i,data:a,allErrors:o,opts:c,self:u}=e,{RULES:l}=u;if(i.$ref&&(c.ignoreKeywordsWithRef||!(0,po.schemaHasRulesButRef)(i,l))){s.block(()=>lQ(e,"$ref",l.all.$ref.definition));return}c.jtd||Uve(e,t),s.block(()=>{for(let f of l.rules)d(f);d(l.post)});function d(f){(0,vw.shouldUseGroup)(i,f)&&(f.type?(s.if((0,n1.checkDataType)(f.type,a,c.strictNumbers)),tQ(e,f),t.length===1&&t[0]===f.type&&r&&(s.else(),(0,n1.reportTypeError)(e)),s.endIf()):tQ(e,f),o||s.if((0,Le._)`${Ke.default.errors} === ${n||0}`))}}function tQ(e,t){let{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,wve.assignDefaults)(e,t.type),r.block(()=>{for(let i of t.rules)(0,vw.shouldUseRule)(n,i)&&lQ(e,i.keyword,i.definition,t.type)})}function Uve(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(qve(e,t),e.opts.allowUnionTypes||jve(e,t),Hve(e,e.dataTypes))}function qve(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{uQ(e.dataTypes,r)||_w(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),Gve(e,t)}}function jve(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&_w(e,"use allowUnionTypes to allow union type keyword")}function Hve(e,t){let r=e.self.RULES.all;for(let n in r){let s=r[n];if(typeof s=="object"&&(0,vw.shouldUseRule)(e.schema,s)){let{type:i}=s.definition;i.length&&!i.some(a=>zve(t,a))&&_w(e,`missing type "${i.join(",")}" for keyword "${n}"`)}}}function zve(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function uQ(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function Gve(e,t){let r=[];for(let n of e.dataTypes)uQ(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function _w(e,t){let r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,po.checkStrictMode)(e,t,e.opts.strictTypes)}var s1=class{constructor(t,r,n){if((0,L0.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,po.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",dQ(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,L0.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",Ke.default.errors))}result(t,r,n){this.failResult((0,Le.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,Le.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);let{schemaCode:r}=this;this.fail((0,Le._)`${r} !== undefined && (${(0,Le.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?$0.reportExtraError:$0.reportError)(this,this.def.error,r)}$dataError(){(0,$0.reportError)(this,this.def.$dataError||$0.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,$0.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=Le.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=Le.nil,r=Le.nil){if(!this.$data)return;let{gen:n,schemaCode:s,schemaType:i,def:a}=this;n.if((0,Le.or)((0,Le._)`${s} === undefined`,r)),t!==Le.nil&&n.assign(t,!0),(i.length||a.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==Le.nil&&n.assign(t,!1)),n.else()}invalid$data(){let{gen:t,schemaCode:r,schemaType:n,def:s,it:i}=this;return(0,Le.or)(a(),o());function a(){if(n.length){if(!(r instanceof Le.Name))throw new Error("ajv implementation error");let c=Array.isArray(n)?n:[n];return(0,Le._)`${(0,n1.checkDataTypes)(c,r,i.opts.strictNumbers,n1.DataType.Wrong)}`}return Le.nil}function o(){if(s.validateSchema){let c=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,Le._)`!${c}(${r})`}return Le.nil}}subschema(t,r){let n=(0,xw.getSubschema)(this.it,t);(0,xw.extendSubschemaData)(n,this.it,t),(0,xw.extendSubschemaMode)(n,t);let s={...this.it,...n,items:void 0,props:void 0};return Dve(s,r),s}mergeEvaluated(t,r){let{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=po.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=po.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){let{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,Le.Name)),!0}};Ec.KeywordCxt=s1;function lQ(e,t,r,n){let s=new s1(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,L0.funcKeywordCode)(s,r):"macro"in r?(0,L0.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,L0.funcKeywordCode)(s,r)}var Vve=/^\/(?:[^~]|~0|~1)*$/,Kve=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function dQ(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,i;if(e==="")return Ke.default.rootData;if(e[0]==="/"){if(!Vve.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,i=Ke.default.rootData}else{let u=Kve.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);let l=+u[1];if(s=u[2],s==="#"){if(l>=t)throw new Error(c("property/index",l));return n[t-l]}if(l>t)throw new Error(c("data",l));if(i=r[t-l],!s)return i}let a=i,o=s.split("/");for(let u of o)u&&(i=(0,Le._)`${i}${(0,Le.getProperty)((0,po.unescapeJsonPointer)(u))}`,a=(0,Le._)`${a} && ${i}`);return a;function c(u,l){return`Cannot access ${u} ${l} levels up, current level is ${t}`}}Ec.getData=dQ});var i1=I(Cw=>{"use strict";Object.defineProperty(Cw,"__esModule",{value:!0});var Iw=class extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}};Cw.default=Iw});var F0=I(Tw=>{"use strict";Object.defineProperty(Tw,"__esModule",{value:!0});var ww=O0(),Sw=class extends Error{constructor(t,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,ww.resolveUrl)(t,r,n),this.missingSchema=(0,ww.normalizeId)((0,ww.getFullPath)(t,this.missingRef))}};Tw.default=Sw});var o1=I(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.resolveSchema=ci.getCompilingSchema=ci.resolveRef=ci.compileSchema=ci.SchemaEnv=void 0;var Ui=at(),Yve=i1(),Wu=fo(),qi=O0(),fQ=Ot(),Wve=M0(),Hd=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,qi.normalizeId)(n?.[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n?.$async,this.refs={}}};ci.SchemaEnv=Hd;function Rw(e){let t=pQ.call(this,e);if(t)return t;let r=(0,qi.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:i}=this.opts,a=new Ui.CodeGen(this.scope,{es5:n,lines:s,ownProperties:i}),o;e.$async&&(o=a.scopeValue("Error",{ref:Yve.default,code:(0,Ui._)`require("ajv/dist/runtime/validation_error").default`}));let c=a.scopeName("validate");e.validateName=c;let u={gen:a,allErrors:this.opts.allErrors,data:Wu.default.data,parentData:Wu.default.parentData,parentDataProperty:Wu.default.parentDataProperty,dataNames:[Wu.default.data],dataPathArr:[Ui.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Ui.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:o,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Ui.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Ui._)`""`,opts:this.opts,self:this},l;try{this._compilations.add(e),(0,Wve.validateFunctionCode)(u),a.optimize(this.opts.code.optimize);let d=a.toString();l=`${a.scopeRefs(Wu.default.scope)}return ${d}`,this.opts.code.process&&(l=this.opts.code.process(l,e));let h=new Function(`${Wu.default.self}`,`${Wu.default.scope}`,l)(this,this.scope.get());if(this.scope.value(c,{ref:h}),h.errors=null,h.schema=e.schema,h.schemaEnv=e,e.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:c,validateCode:d,scopeValues:a._values}),this.opts.unevaluated){let{props:p,items:m}=u;h.evaluated={props:p instanceof Ui.Name?void 0:p,items:m instanceof Ui.Name?void 0:m,dynamicProps:p instanceof Ui.Name,dynamicItems:m instanceof Ui.Name},h.source&&(h.source.evaluated=(0,Ui.stringify)(h.evaluated))}return e.validate=h,e}catch(d){throw delete e.validate,delete e.validateName,l&&this.logger.error("Error compiling schema, function code:",l),d}finally{this._compilations.delete(e)}}ci.compileSchema=Rw;function Jve(e,t,r){var n;r=(0,qi.resolveUrl)(this.opts.uriResolver,t,r);let s=e.refs[r];if(s)return s;let i=e_e.call(this,e,r);if(i===void 0){let a=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:o}=this.opts;a&&(i=new Hd({schema:a,schemaId:o,root:e,baseId:t}))}if(i!==void 0)return e.refs[r]=Xve.call(this,i)}ci.resolveRef=Jve;function Xve(e){return(0,qi.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Rw.call(this,e)}function pQ(e){for(let t of this._compilations)if(Zve(t,e))return t}ci.getCompilingSchema=pQ;function Zve(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function e_e(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||a1.call(this,e,t)}function a1(e,t){let r=this.opts.uriResolver.parse(t),n=(0,qi._getFullPath)(this.opts.uriResolver,r),s=(0,qi.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return Bw.call(this,r,e);let i=(0,qi.normalizeId)(n),a=this.refs[i]||this.schemas[i];if(typeof a=="string"){let o=a1.call(this,e,a);return typeof o?.schema!="object"?void 0:Bw.call(this,r,o)}if(typeof a?.schema=="object"){if(a.validate||Rw.call(this,a),i===(0,qi.normalizeId)(t)){let{schema:o}=a,{schemaId:c}=this.opts,u=o[c];return u&&(s=(0,qi.resolveUrl)(this.opts.uriResolver,s,u)),new Hd({schema:o,schemaId:c,root:e,baseId:s})}return Bw.call(this,r,a)}}ci.resolveSchema=a1;var t_e=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Bw(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(let o of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let c=r[(0,fQ.unescapeFragment)(o)];if(c===void 0)return;r=c;let u=typeof r=="object"&&r[this.opts.schemaId];!t_e.has(o)&&u&&(t=(0,qi.resolveUrl)(this.opts.uriResolver,t,u))}let i;if(typeof r!="boolean"&&r.$ref&&!(0,fQ.schemaHasRulesButRef)(r,this.RULES)){let o=(0,qi.resolveUrl)(this.opts.uriResolver,t,r.$ref);i=a1.call(this,n,o)}let{schemaId:a}=this.opts;if(i=i||new Hd({schema:r,schemaId:a,root:n,baseId:t}),i.schema!==i.root.schema)return i}});var hQ=I((mlt,r_e)=>{r_e.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var kw=I((glt,yQ)=>{"use strict";var n_e=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),gQ=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function Nw(e){let t="",r=0,n=0;for(n=0;n<e.length;n++)if(r=e[n].charCodeAt(0),r!==48){if(!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n];break}for(n+=1;n<e.length;n++){if(r=e[n].charCodeAt(0),!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n]}return t}var s_e=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function mQ(e){return e.length=0,!0}function i_e(e,t,r){if(e.length){let n=Nw(e);if(n!=="")t.push(n);else return r.error=!0,!1;e.length=0}return!0}function a_e(e){let t=0,r={error:!1,address:"",zone:""},n=[],s=[],i=!1,a=!1,o=i_e;for(let c=0;c<e.length;c++){let u=e[c];if(!(u==="["||u==="]"))if(u===":"){if(i===!0&&(a=!0),!o(s,n,r))break;if(++t>7){r.error=!0;break}c>0&&e[c-1]===":"&&(i=!0),n.push(":");continue}else if(u==="%"){if(!o(s,n,r))break;o=mQ}else{s.push(u);continue}}return s.length&&(o===mQ?r.zone=s.join(""):a?n.push(s.join("")):n.push(Nw(s))),r.address=n.join(""),r}function AQ(e){if(o_e(e,":")<2)return{host:e,isIPV6:!1};let t=a_e(e);if(t.error)return{host:e,isIPV6:!1};{let r=t.address,n=t.address;return t.zone&&(r+="%"+t.zone,n+="%25"+t.zone),{host:r,isIPV6:!0,escapedHost:n}}}function o_e(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}function c_e(e){let t=e,r=[],n=-1,s=0;for(;s=t.length;){if(s===1){if(t===".")break;if(t==="/"){r.push("/");break}else{r.push(t);break}}else if(s===2){if(t[0]==="."){if(t[1]===".")break;if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&(t[1]==="."||t[1]==="/")){r.push("/");break}}else if(s===3&&t==="/.."){r.length!==0&&r.pop(),r.push("/");break}if(t[0]==="."){if(t[1]==="."){if(t[2]==="/"){t=t.slice(3);continue}}else if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&t[1]==="."){if(t[2]==="/"){t=t.slice(2);continue}else if(t[2]==="."&&t[3]==="/"){t=t.slice(3),r.length!==0&&r.pop();continue}}if((n=t.indexOf("/",1))===-1){r.push(t);break}else r.push(t.slice(0,n)),t=t.slice(n)}return r.join("")}function u_e(e,t){let r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function l_e(e){let t=[];if(e.userinfo!==void 0&&(t.push(e.userinfo),t.push("@")),e.host!==void 0){let r=unescape(e.host);if(!gQ(r)){let n=AQ(r);n.isIPV6===!0?r=`[${n.escapedHost}]`:r=e.host}t.push(r)}return(typeof e.port=="number"||typeof e.port=="string")&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}yQ.exports={nonSimpleDomain:s_e,recomposeAuthority:l_e,normalizeComponentEncoding:u_e,removeDotSegments:c_e,isIPv4:gQ,isUUID:n_e,normalizeIPv6:AQ,stringArrayToHexStripped:Nw}});var _Q=I((Alt,vQ)=>{"use strict";var{isUUID:d_e}=kw(),f_e=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,p_e=["http","https","ws","wss","urn","urn:uuid"];function h_e(e){return p_e.indexOf(e)!==-1}function Dw(e){return e.secure===!0?!0:e.secure===!1?!1:e.scheme?e.scheme.length===3&&(e.scheme[0]==="w"||e.scheme[0]==="W")&&(e.scheme[1]==="s"||e.scheme[1]==="S")&&(e.scheme[2]==="s"||e.scheme[2]==="S"):!1}function bQ(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function EQ(e){let t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function m_e(e){return e.secure=Dw(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function g_e(e){if((e.port===(Dw(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){let[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function A_e(e,t){if(!e.path)return e.error="URN can not be parsed",e;let r=e.path.match(f_e);if(r){let n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];let s=`${n}:${t.nid||e.nid}`,i=Pw(s);e.path=void 0,i&&(e=i.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function y_e(e,t){if(e.nid===void 0)throw new Error("URN without nid cannot be serialized");let r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),s=`${r}:${t.nid||n}`,i=Pw(s);i&&(e=i.serialize(e,t));let a=e,o=e.nss;return a.path=`${n||t.nid}:${o}`,t.skipEscape=!0,a}function b_e(e,t){let r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!d_e(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function E_e(e){let t=e;return t.nss=(e.uuid||"").toLowerCase(),t}var xQ={scheme:"http",domainHost:!0,parse:bQ,serialize:EQ},x_e={scheme:"https",domainHost:xQ.domainHost,parse:bQ,serialize:EQ},c1={scheme:"ws",domainHost:!0,parse:m_e,serialize:g_e},v_e={scheme:"wss",domainHost:c1.domainHost,parse:c1.parse,serialize:c1.serialize},__e={scheme:"urn",parse:A_e,serialize:y_e,skipNormalize:!0},I_e={scheme:"urn:uuid",parse:b_e,serialize:E_e,skipNormalize:!0},u1={http:xQ,https:x_e,ws:c1,wss:v_e,urn:__e,"urn:uuid":I_e};Object.setPrototypeOf(u1,null);function Pw(e){return e&&(u1[e]||u1[e.toLowerCase()])||void 0}vQ.exports={wsIsSecure:Dw,SCHEMES:u1,isValidSchemeName:h_e,getSchemeHandler:Pw}});var wQ=I((ylt,d1)=>{"use strict";var{normalizeIPv6:C_e,removeDotSegments:Q0,recomposeAuthority:w_e,normalizeComponentEncoding:l1,isIPv4:S_e,nonSimpleDomain:T_e}=kw(),{SCHEMES:B_e,getSchemeHandler:IQ}=_Q();function R_e(e,t){return typeof e=="string"?e=Ea(ho(e,t),t):typeof e=="object"&&(e=ho(Ea(e,t),t)),e}function N_e(e,t,r){let n=r?Object.assign({scheme:"null"},r):{scheme:"null"},s=CQ(ho(e,n),ho(t,n),n,!0);return n.skipEscape=!0,Ea(s,n)}function CQ(e,t,r,n){let s={};return n||(e=ho(Ea(e,r),r),t=ho(Ea(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=Q0(t.path||""),s.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=Q0(t.path||""),s.query=t.query):(t.path?(t.path[0]==="/"?s.path=Q0(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?s.path="/"+t.path:e.path?s.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:s.path=t.path,s.path=Q0(s.path)),s.query=t.query):(s.path=e.path,t.query!==void 0?s.query=t.query:s.query=e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function k_e(e,t,r){return typeof e=="string"?(e=unescape(e),e=Ea(l1(ho(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=Ea(l1(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=Ea(l1(ho(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=Ea(l1(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function Ea(e,t){let r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),s=[],i=IQ(n.scheme||r.scheme);i&&i.serialize&&i.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&s.push(r.scheme,":");let a=w_e(r);if(a!==void 0&&(n.reference!=="suffix"&&s.push("//"),s.push(a),r.path&&r.path[0]!=="/"&&s.push("/")),r.path!==void 0){let o=r.path;!n.absolutePath&&(!i||!i.absolutePath)&&(o=Q0(o)),a===void 0&&o[0]==="/"&&o[1]==="/"&&(o="/%2F"+o.slice(2)),s.push(o)}return r.query!==void 0&&s.push("?",r.query),r.fragment!==void 0&&s.push("#",r.fragment),s.join("")}var D_e=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function ho(e,t){let r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},s=!1;r.reference==="suffix"&&(r.scheme?e=r.scheme+":"+e:e="//"+e);let i=e.match(D_e);if(i){if(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5]),n.host)if(S_e(n.host)===!1){let c=C_e(n.host);n.host=c.host.toLowerCase(),s=c.isIPV6}else s=!0;n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");let a=IQ(r.scheme||n.scheme);if(!r.unicodeSupport&&(!a||!a.unicodeSupport)&&n.host&&(r.domainHost||a&&a.domainHost)&&s===!1&&T_e(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(o){n.error=n.error||"Host's domain name can not be converted to ASCII: "+o}(!a||a&&!a.skipNormalize)&&(e.indexOf("%")!==-1&&(n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),n.host!==void 0&&(n.host=unescape(n.host))),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),a&&a.parse&&a.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}var Ow={SCHEMES:B_e,normalize:R_e,resolve:N_e,resolveComponent:CQ,equal:k_e,serialize:Ea,parse:ho};d1.exports=Ow;d1.exports.default=Ow;d1.exports.fastUri=Ow});var TQ=I($w=>{"use strict";Object.defineProperty($w,"__esModule",{value:!0});var SQ=wQ();SQ.code='require("ajv/dist/runtime/uri").default';$w.default=SQ});var $Q=I(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.CodeGen=In.Name=In.nil=In.stringify=In.str=In._=In.KeywordCxt=void 0;var P_e=M0();Object.defineProperty(In,"KeywordCxt",{enumerable:!0,get:function(){return P_e.KeywordCxt}});var zd=at();Object.defineProperty(In,"_",{enumerable:!0,get:function(){return zd._}});Object.defineProperty(In,"str",{enumerable:!0,get:function(){return zd.str}});Object.defineProperty(In,"stringify",{enumerable:!0,get:function(){return zd.stringify}});Object.defineProperty(In,"nil",{enumerable:!0,get:function(){return zd.nil}});Object.defineProperty(In,"Name",{enumerable:!0,get:function(){return zd.Name}});Object.defineProperty(In,"CodeGen",{enumerable:!0,get:function(){return zd.CodeGen}});var O_e=i1(),DQ=F0(),$_e=fw(),U0=o1(),L_e=at(),q0=O0(),f1=P0(),Mw=Ot(),BQ=hQ(),M_e=TQ(),PQ=(e,t)=>new RegExp(e,t);PQ.code="new RegExp";var F_e=["removeAdditional","useDefaults","coerceTypes"],Q_e=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),U_e={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},q_e={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},RQ=200;function j_e(e){var t,r,n,s,i,a,o,c,u,l,d,f,h,p,m,A,g,x,y,b,_,C,w,S,T;let R=e.strict,P=(t=e.code)===null||t===void 0?void 0:t.optimize,N=P===!0||P===void 0?1:P||0,D=(n=(r=e.code)===null||r===void 0?void 0:r.regExp)!==null&&n!==void 0?n:PQ,k=(s=e.uriResolver)!==null&&s!==void 0?s:M_e.default;return{strictSchema:(a=(i=e.strictSchema)!==null&&i!==void 0?i:R)!==null&&a!==void 0?a:!0,strictNumbers:(c=(o=e.strictNumbers)!==null&&o!==void 0?o:R)!==null&&c!==void 0?c:!0,strictTypes:(l=(u=e.strictTypes)!==null&&u!==void 0?u:R)!==null&&l!==void 0?l:"log",strictTuples:(f=(d=e.strictTuples)!==null&&d!==void 0?d:R)!==null&&f!==void 0?f:"log",strictRequired:(p=(h=e.strictRequired)!==null&&h!==void 0?h:R)!==null&&p!==void 0?p:!1,code:e.code?{...e.code,optimize:N,regExp:D}:{optimize:N,regExp:D},loopRequired:(m=e.loopRequired)!==null&&m!==void 0?m:RQ,loopEnum:(A=e.loopEnum)!==null&&A!==void 0?A:RQ,meta:(g=e.meta)!==null&&g!==void 0?g:!0,messages:(x=e.messages)!==null&&x!==void 0?x:!0,inlineRefs:(y=e.inlineRefs)!==null&&y!==void 0?y:!0,schemaId:(b=e.schemaId)!==null&&b!==void 0?b:"$id",addUsedSchema:(_=e.addUsedSchema)!==null&&_!==void 0?_:!0,validateSchema:(C=e.validateSchema)!==null&&C!==void 0?C:!0,validateFormats:(w=e.validateFormats)!==null&&w!==void 0?w:!0,unicodeRegExp:(S=e.unicodeRegExp)!==null&&S!==void 0?S:!0,int32range:(T=e.int32range)!==null&&T!==void 0?T:!0,uriResolver:k}}var j0=class{constructor(t={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,t=this.opts={...t,...j_e(t)};let{es5:r,lines:n}=this.opts.code;this.scope=new L_e.ValueScope({scope:{},prefixes:Q_e,es5:r,lines:n}),this.logger=Y_e(t.logger);let s=t.validateFormats;t.validateFormats=!1,this.RULES=(0,$_e.getRules)(),NQ.call(this,U_e,t,"NOT SUPPORTED"),NQ.call(this,q_e,t,"DEPRECATED","warn"),this._metaOpts=V_e.call(this),t.formats&&z_e.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),t.keywords&&G_e.call(this,t.keywords),typeof t.meta=="object"&&this.addMetaSchema(t.meta),H_e.call(this),t.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:t,meta:r,schemaId:n}=this.opts,s=BQ;n==="id"&&(s={...BQ},s.id=s.$id,delete s.$id),r&&t&&this.addMetaSchema(s,s[n],!1)}defaultMeta(){let{meta:t,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof t=="object"?t[r]||t:void 0}validate(t,r){let n;if(typeof t=="string"){if(n=this.getSchema(t),!n)throw new Error(`no schema with key or ref "${t}"`)}else n=this.compile(t);let s=n(r);return"$async"in n||(this.errors=n.errors),s}compile(t,r){let n=this._addSchema(t,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(t,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return s.call(this,t,r);async function s(l,d){await i.call(this,l.$schema);let f=this._addSchema(l,d);return f.validate||a.call(this,f)}async function i(l){l&&!this.getSchema(l)&&await s.call(this,{$ref:l},!0)}async function a(l){try{return this._compileSchemaEnv(l)}catch(d){if(!(d instanceof DQ.default))throw d;return o.call(this,d),await c.call(this,d.missingSchema),a.call(this,l)}}function o({missingSchema:l,missingRef:d}){if(this.refs[l])throw new Error(`AnySchema ${l} is loaded but ${d} cannot be resolved`)}async function c(l){let d=await u.call(this,l);this.refs[l]||await i.call(this,d.$schema),this.refs[l]||this.addSchema(d,l,r)}async function u(l){let d=this._loading[l];if(d)return d;try{return await(this._loading[l]=n(l))}finally{delete this._loading[l]}}}addSchema(t,r,n,s=this.opts.validateSchema){if(Array.isArray(t)){for(let a of t)this.addSchema(a,void 0,n,s);return this}let i;if(typeof t=="object"){let{schemaId:a}=this.opts;if(i=t[a],i!==void 0&&typeof i!="string")throw new Error(`schema ${a} must be string`)}return r=(0,q0.normalizeId)(r||i),this._checkUnique(r),this.schemas[r]=this._addSchema(t,n,r,s,!0),this}addMetaSchema(t,r,n=this.opts.validateSchema){return this.addSchema(t,r,!0,n),this}validateSchema(t,r){if(typeof t=="boolean")return!0;let n;if(n=t.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let s=this.validate(n,t);if(!s&&r){let i="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(i);else throw new Error(i)}return s}getSchema(t){let r;for(;typeof(r=kQ.call(this,t))=="string";)t=r;if(r===void 0){let{schemaId:n}=this.opts,s=new U0.SchemaEnv({schema:{},schemaId:n});if(r=U0.resolveSchema.call(this,s,t),!r)return;this.refs[t]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(t){if(t instanceof RegExp)return this._removeAllSchemas(this.schemas,t),this._removeAllSchemas(this.refs,t),this;switch(typeof t){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=kQ.call(this,t);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[t],delete this.refs[t],this}case"object":{let r=t;this._cache.delete(r);let n=t[this.opts.schemaId];return n&&(n=(0,q0.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(t){for(let r of t)this.addKeyword(r);return this}addKeyword(t,r){let n;if(typeof t=="string")n=t,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof t=="object"&&r===void 0){if(r=t,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(J_e.call(this,n,r),!r)return(0,Mw.eachItem)(n,i=>Lw.call(this,i)),this;Z_e.call(this,r);let s={...r,type:(0,f1.getJSONTypes)(r.type),schemaType:(0,f1.getJSONTypes)(r.schemaType)};return(0,Mw.eachItem)(n,s.type.length===0?i=>Lw.call(this,i,s):i=>s.type.forEach(a=>Lw.call(this,i,s,a))),this}getKeyword(t){let r=this.RULES.all[t];return typeof r=="object"?r.definition:!!r}removeKeyword(t){let{RULES:r}=this;delete r.keywords[t],delete r.all[t];for(let n of r.rules){let s=n.rules.findIndex(i=>i.keyword===t);s>=0&&n.rules.splice(s,1)}return this}addFormat(t,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[t]=r,this}errorsText(t=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!t||t.length===0?"No errors":t.map(s=>`${n}${s.instancePath} ${s.message}`).reduce((s,i)=>s+r+i)}$dataMetaSchema(t,r){let n=this.RULES.all;t=JSON.parse(JSON.stringify(t));for(let s of r){let i=s.split("/").slice(1),a=t;for(let o of i)a=a[o];for(let o in n){let c=n[o];if(typeof c!="object")continue;let{$data:u}=c.definition,l=a[o];u&&l&&(a[o]=OQ(l))}}return t}_removeAllSchemas(t,r){for(let n in t){let s=t[n];(!r||r.test(n))&&(typeof s=="string"?delete t[n]:s&&!s.meta&&(this._cache.delete(s.schema),delete t[n]))}}_addSchema(t,r,n,s=this.opts.validateSchema,i=this.opts.addUsedSchema){let a,{schemaId:o}=this.opts;if(typeof t=="object")a=t[o];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof t!="boolean")throw new Error("schema must be object or boolean")}let c=this._cache.get(t);if(c!==void 0)return c;n=(0,q0.normalizeId)(a||n);let u=q0.getSchemaRefs.call(this,t,n);return c=new U0.SchemaEnv({schema:t,schemaId:o,meta:r,baseId:n,localRefs:u}),this._cache.set(c.schema,c),i&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=c),s&&this.validateSchema(t,!0),c}_checkUnique(t){if(this.schemas[t]||this.refs[t])throw new Error(`schema with key or id "${t}" already exists`)}_compileSchemaEnv(t){if(t.meta?this._compileMetaSchema(t):U0.compileSchema.call(this,t),!t.validate)throw new Error("ajv implementation error");return t.validate}_compileMetaSchema(t){let r=this.opts;this.opts=this._metaOpts;try{U0.compileSchema.call(this,t)}finally{this.opts=r}}};j0.ValidationError=O_e.default;j0.MissingRefError=DQ.default;In.default=j0;function NQ(e,t,r,n="error"){for(let s in e){let i=s;i in t&&this.logger[n](`${r}: option ${s}. ${e[i]}`)}}function kQ(e){return e=(0,q0.normalizeId)(e),this.schemas[e]||this.refs[e]}function H_e(){let e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(let t in e)this.addSchema(e[t],t)}function z_e(){for(let e in this.opts.formats){let t=this.opts.formats[e];t&&this.addFormat(e,t)}}function G_e(e){if(Array.isArray(e)){this.addVocabulary(e);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let t in e){let r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}function V_e(){let e={...this.opts};for(let t of F_e)delete e[t];return e}var K_e={log(){},warn(){},error(){}};function Y_e(e){if(e===!1)return K_e;if(e===void 0)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}var W_e=/^[a-z_$][a-z0-9_$:-]*$/i;function J_e(e,t){let{RULES:r}=this;if((0,Mw.eachItem)(e,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!W_e.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!t&&t.$data&&!("code"in t||"validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function Lw(e,t,r){var n;let s=t?.post;if(r&&s)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:i}=this,a=s?i.post:i.rules.find(({type:c})=>c===r);if(a||(a={type:r,rules:[]},i.rules.push(a)),i.keywords[e]=!0,!t)return;let o={keyword:e,definition:{...t,type:(0,f1.getJSONTypes)(t.type),schemaType:(0,f1.getJSONTypes)(t.schemaType)}};t.before?X_e.call(this,a,o,t.before):a.rules.push(o),i.all[e]=o,(n=t.implements)===null||n===void 0||n.forEach(c=>this.addKeyword(c))}function X_e(e,t,r){let n=e.rules.findIndex(s=>s.keyword===r);n>=0?e.rules.splice(n,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function Z_e(e){let{metaSchema:t}=e;t!==void 0&&(e.$data&&this.opts.$data&&(t=OQ(t)),e.validateSchema=this.compile(t,!0))}var eIe={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function OQ(e){return{anyOf:[e,eIe]}}});var LQ=I(Fw=>{"use strict";Object.defineProperty(Fw,"__esModule",{value:!0});var tIe={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Fw.default=tIe});var UQ=I(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.callRef=Ju.getValidate=void 0;var rIe=F0(),MQ=ai(),ws=at(),Gd=fo(),FQ=o1(),p1=Ot(),nIe={keyword:"$ref",schemaType:"string",code(e){let{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:i,validateName:a,opts:o,self:c}=n,{root:u}=i;if((r==="#"||r==="#/")&&s===u.baseId)return d();let l=FQ.resolveRef.call(c,u,s,r);if(l===void 0)throw new rIe.default(n.opts.uriResolver,s,r);if(l instanceof FQ.SchemaEnv)return f(l);return h(l);function d(){if(i===u)return h1(e,a,i,i.$async);let p=t.scopeValue("root",{ref:u});return h1(e,(0,ws._)`${p}.validate`,u,u.$async)}function f(p){let m=QQ(e,p);h1(e,m,p,p.$async)}function h(p){let m=t.scopeValue("schema",o.code.source===!0?{ref:p,code:(0,ws.stringify)(p)}:{ref:p}),A=t.name("valid"),g=e.subschema({schema:p,dataTypes:[],schemaPath:ws.nil,topSchemaRef:m,errSchemaPath:r},A);e.mergeEvaluated(g),e.ok(A)}}};function QQ(e,t){let{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,ws._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Ju.getValidate=QQ;function h1(e,t,r,n){let{gen:s,it:i}=e,{allErrors:a,schemaEnv:o,opts:c}=i,u=c.passContext?Gd.default.this:ws.nil;n?l():d();function l(){if(!o.$async)throw new Error("async schema referenced by sync schema");let p=s.let("valid");s.try(()=>{s.code((0,ws._)`await ${(0,MQ.callValidateCode)(e,t,u)}`),h(t),a||s.assign(p,!0)},m=>{s.if((0,ws._)`!(${m} instanceof ${i.ValidationError})`,()=>s.throw(m)),f(m),a||s.assign(p,!1)}),e.ok(p)}function d(){e.result((0,MQ.callValidateCode)(e,t,u),()=>h(t),()=>f(t))}function f(p){let m=(0,ws._)`${p}.errors`;s.assign(Gd.default.vErrors,(0,ws._)`${Gd.default.vErrors} === null ? ${m} : ${Gd.default.vErrors}.concat(${m})`),s.assign(Gd.default.errors,(0,ws._)`${Gd.default.vErrors}.length`)}function h(p){var m;if(!i.opts.unevaluated)return;let A=(m=r?.validate)===null||m===void 0?void 0:m.evaluated;if(i.props!==!0)if(A&&!A.dynamicProps)A.props!==void 0&&(i.props=p1.mergeEvaluated.props(s,A.props,i.props));else{let g=s.var("props",(0,ws._)`${p}.evaluated.props`);i.props=p1.mergeEvaluated.props(s,g,i.props,ws.Name)}if(i.items!==!0)if(A&&!A.dynamicItems)A.items!==void 0&&(i.items=p1.mergeEvaluated.items(s,A.items,i.items));else{let g=s.var("items",(0,ws._)`${p}.evaluated.items`);i.items=p1.mergeEvaluated.items(s,g,i.items,ws.Name)}}}Ju.callRef=h1;Ju.default=nIe});var qQ=I(Qw=>{"use strict";Object.defineProperty(Qw,"__esModule",{value:!0});var sIe=LQ(),iIe=UQ(),aIe=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",sIe.default,iIe.default];Qw.default=aIe});var jQ=I(Uw=>{"use strict";Object.defineProperty(Uw,"__esModule",{value:!0});var m1=at(),xc=m1.operators,g1={maximum:{okStr:"<=",ok:xc.LTE,fail:xc.GT},minimum:{okStr:">=",ok:xc.GTE,fail:xc.LT},exclusiveMaximum:{okStr:"<",ok:xc.LT,fail:xc.GTE},exclusiveMinimum:{okStr:">",ok:xc.GT,fail:xc.LTE}},oIe={message:({keyword:e,schemaCode:t})=>(0,m1.str)`must be ${g1[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,m1._)`{comparison: ${g1[e].okStr}, limit: ${t}}`},cIe={keyword:Object.keys(g1),type:"number",schemaType:"number",$data:!0,error:oIe,code(e){let{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,m1._)`${r} ${g1[t].fail} ${n} || isNaN(${r})`)}};Uw.default=cIe});var HQ=I(qw=>{"use strict";Object.defineProperty(qw,"__esModule",{value:!0});var H0=at(),uIe={message:({schemaCode:e})=>(0,H0.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,H0._)`{multipleOf: ${e}}`},lIe={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:uIe,code(e){let{gen:t,data:r,schemaCode:n,it:s}=e,i=s.opts.multipleOfPrecision,a=t.let("res"),o=i?(0,H0._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${i}`:(0,H0._)`${a} !== parseInt(${a})`;e.fail$data((0,H0._)`(${n} === 0 || (${a} = ${r}/${n}, ${o}))`)}};qw.default=lIe});var GQ=I(jw=>{"use strict";Object.defineProperty(jw,"__esModule",{value:!0});function zQ(e){let t=e.length,r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}jw.default=zQ;zQ.code='require("ajv/dist/runtime/ucs2length").default'});var VQ=I(Hw=>{"use strict";Object.defineProperty(Hw,"__esModule",{value:!0});var Xu=at(),dIe=Ot(),fIe=GQ(),pIe={message({keyword:e,schemaCode:t}){let r=e==="maxLength"?"more":"fewer";return(0,Xu.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Xu._)`{limit: ${e}}`},hIe={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:pIe,code(e){let{keyword:t,data:r,schemaCode:n,it:s}=e,i=t==="maxLength"?Xu.operators.GT:Xu.operators.LT,a=s.opts.unicode===!1?(0,Xu._)`${r}.length`:(0,Xu._)`${(0,dIe.useFunc)(e.gen,fIe.default)}(${r})`;e.fail$data((0,Xu._)`${a} ${i} ${n}`)}};Hw.default=hIe});var KQ=I(zw=>{"use strict";Object.defineProperty(zw,"__esModule",{value:!0});var mIe=ai(),A1=at(),gIe={message:({schemaCode:e})=>(0,A1.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,A1._)`{pattern: ${e}}`},AIe={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:gIe,code(e){let{data:t,$data:r,schema:n,schemaCode:s,it:i}=e,a=i.opts.unicodeRegExp?"u":"",o=r?(0,A1._)`(new RegExp(${s}, ${a}))`:(0,mIe.usePattern)(e,n);e.fail$data((0,A1._)`!${o}.test(${t})`)}};zw.default=AIe});var YQ=I(Gw=>{"use strict";Object.defineProperty(Gw,"__esModule",{value:!0});var z0=at(),yIe={message({keyword:e,schemaCode:t}){let r=e==="maxProperties"?"more":"fewer";return(0,z0.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,z0._)`{limit: ${e}}`},bIe={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:yIe,code(e){let{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?z0.operators.GT:z0.operators.LT;e.fail$data((0,z0._)`Object.keys(${r}).length ${s} ${n}`)}};Gw.default=bIe});var WQ=I(Vw=>{"use strict";Object.defineProperty(Vw,"__esModule",{value:!0});var G0=ai(),V0=at(),EIe=Ot(),xIe={message:({params:{missingProperty:e}})=>(0,V0.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,V0._)`{missingProperty: ${e}}`},vIe={keyword:"required",type:"object",schemaType:"array",$data:!0,error:xIe,code(e){let{gen:t,schema:r,schemaCode:n,data:s,$data:i,it:a}=e,{opts:o}=a;if(!i&&r.length===0)return;let c=r.length>=o.loopRequired;if(a.allErrors?u():l(),o.strictRequired){let h=e.parentSchema.properties,{definedProperties:p}=e.it;for(let m of r)if(h?.[m]===void 0&&!p.has(m)){let A=a.schemaEnv.baseId+a.errSchemaPath,g=`required property "${m}" is not defined at "${A}" (strictRequired)`;(0,EIe.checkStrictMode)(a,g,a.opts.strictRequired)}}function u(){if(c||i)e.block$data(V0.nil,d);else for(let h of r)(0,G0.checkReportMissingProp)(e,h)}function l(){let h=t.let("missing");if(c||i){let p=t.let("valid",!0);e.block$data(p,()=>f(h,p)),e.ok(p)}else t.if((0,G0.checkMissingProp)(e,r,h)),(0,G0.reportMissingProp)(e,h),t.else()}function d(){t.forOf("prop",n,h=>{e.setParams({missingProperty:h}),t.if((0,G0.noPropertyInData)(t,s,h,o.ownProperties),()=>e.error())})}function f(h,p){e.setParams({missingProperty:h}),t.forOf(h,n,()=>{t.assign(p,(0,G0.propertyInData)(t,s,h,o.ownProperties)),t.if((0,V0.not)(p),()=>{e.error(),t.break()})},V0.nil)}}};Vw.default=vIe});var JQ=I(Kw=>{"use strict";Object.defineProperty(Kw,"__esModule",{value:!0});var K0=at(),_Ie={message({keyword:e,schemaCode:t}){let r=e==="maxItems"?"more":"fewer";return(0,K0.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,K0._)`{limit: ${e}}`},IIe={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:_Ie,code(e){let{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?K0.operators.GT:K0.operators.LT;e.fail$data((0,K0._)`${r}.length ${s} ${n}`)}};Kw.default=IIe});var Y0=I(Yw=>{"use strict";Object.defineProperty(Yw,"__esModule",{value:!0});var XQ=oi();XQ.code='require("ajv/dist/runtime/equal").default';Yw.default=XQ});var ZQ=I(Jw=>{"use strict";Object.defineProperty(Jw,"__esModule",{value:!0});var Ww=P0(),Cn=at(),CIe=Ot(),wIe=Y0(),SIe={message:({params:{i:e,j:t}})=>(0,Cn.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Cn._)`{i: ${e}, j: ${t}}`},TIe={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:SIe,code(e){let{gen:t,data:r,$data:n,schema:s,parentSchema:i,schemaCode:a,it:o}=e;if(!n&&!s)return;let c=t.let("valid"),u=i.items?(0,Ww.getSchemaTypes)(i.items):[];e.block$data(c,l,(0,Cn._)`${a} === false`),e.ok(c);function l(){let p=t.let("i",(0,Cn._)`${r}.length`),m=t.let("j");e.setParams({i:p,j:m}),t.assign(c,!0),t.if((0,Cn._)`${p} > 1`,()=>(d()?f:h)(p,m))}function d(){return u.length>0&&!u.some(p=>p==="object"||p==="array")}function f(p,m){let A=t.name("item"),g=(0,Ww.checkDataTypes)(u,A,o.opts.strictNumbers,Ww.DataType.Wrong),x=t.const("indices",(0,Cn._)`{}`);t.for((0,Cn._)`;${p}--;`,()=>{t.let(A,(0,Cn._)`${r}[${p}]`),t.if(g,(0,Cn._)`continue`),u.length>1&&t.if((0,Cn._)`typeof ${A} == "string"`,(0,Cn._)`${A} += "_"`),t.if((0,Cn._)`typeof ${x}[${A}] == "number"`,()=>{t.assign(m,(0,Cn._)`${x}[${A}]`),e.error(),t.assign(c,!1).break()}).code((0,Cn._)`${x}[${A}] = ${p}`)})}function h(p,m){let A=(0,CIe.useFunc)(t,wIe.default),g=t.name("outer");t.label(g).for((0,Cn._)`;${p}--;`,()=>t.for((0,Cn._)`${m} = ${p}; ${m}--;`,()=>t.if((0,Cn._)`${A}(${r}[${p}], ${r}[${m}])`,()=>{e.error(),t.assign(c,!1).break(g)})))}}};Jw.default=TIe});var eU=I(Zw=>{"use strict";Object.defineProperty(Zw,"__esModule",{value:!0});var Xw=at(),BIe=Ot(),RIe=Y0(),NIe={message:"must be equal to constant",params:({schemaCode:e})=>(0,Xw._)`{allowedValue: ${e}}`},kIe={keyword:"const",$data:!0,error:NIe,code(e){let{gen:t,data:r,$data:n,schemaCode:s,schema:i}=e;n||i&&typeof i=="object"?e.fail$data((0,Xw._)`!${(0,BIe.useFunc)(t,RIe.default)}(${r}, ${s})`):e.fail((0,Xw._)`${i} !== ${r}`)}};Zw.default=kIe});var tU=I(eS=>{"use strict";Object.defineProperty(eS,"__esModule",{value:!0});var W0=at(),DIe=Ot(),PIe=Y0(),OIe={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,W0._)`{allowedValues: ${e}}`},$Ie={keyword:"enum",schemaType:"array",$data:!0,error:OIe,code(e){let{gen:t,data:r,$data:n,schema:s,schemaCode:i,it:a}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");let o=s.length>=a.opts.loopEnum,c,u=()=>c??(c=(0,DIe.useFunc)(t,PIe.default)),l;if(o||n)l=t.let("valid"),e.block$data(l,d);else{if(!Array.isArray(s))throw new Error("ajv implementation error");let h=t.const("vSchema",i);l=(0,W0.or)(...s.map((p,m)=>f(h,m)))}e.pass(l);function d(){t.assign(l,!1),t.forOf("v",i,h=>t.if((0,W0._)`${u()}(${r}, ${h})`,()=>t.assign(l,!0).break()))}function f(h,p){let m=s[p];return typeof m=="object"&&m!==null?(0,W0._)`${u()}(${r}, ${h}[${p}])`:(0,W0._)`${r} === ${m}`}}};eS.default=$Ie});var rU=I(tS=>{"use strict";Object.defineProperty(tS,"__esModule",{value:!0});var LIe=jQ(),MIe=HQ(),FIe=VQ(),QIe=KQ(),UIe=YQ(),qIe=WQ(),jIe=JQ(),HIe=ZQ(),zIe=eU(),GIe=tU(),VIe=[LIe.default,MIe.default,FIe.default,QIe.default,UIe.default,qIe.default,jIe.default,HIe.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},zIe.default,GIe.default];tS.default=VIe});var nS=I(J0=>{"use strict";Object.defineProperty(J0,"__esModule",{value:!0});J0.validateAdditionalItems=void 0;var Zu=at(),rS=Ot(),KIe={message:({params:{len:e}})=>(0,Zu.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Zu._)`{limit: ${e}}`},YIe={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:KIe,code(e){let{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,rS.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}nU(e,n)}};function nU(e,t){let{gen:r,schema:n,data:s,keyword:i,it:a}=e;a.items=!0;let o=r.const("len",(0,Zu._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Zu._)`${o} <= ${t.length}`);else if(typeof n=="object"&&!(0,rS.alwaysValidSchema)(a,n)){let u=r.var("valid",(0,Zu._)`${o} <= ${t.length}`);r.if((0,Zu.not)(u),()=>c(u)),e.ok(u)}function c(u){r.forRange("i",t.length,o,l=>{e.subschema({keyword:i,dataProp:l,dataPropType:rS.Type.Num},u),a.allErrors||r.if((0,Zu.not)(u),()=>r.break())})}}J0.validateAdditionalItems=nU;J0.default=YIe});var sS=I(X0=>{"use strict";Object.defineProperty(X0,"__esModule",{value:!0});X0.validateTuple=void 0;var sU=at(),y1=Ot(),WIe=ai(),JIe={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){let{schema:t,it:r}=e;if(Array.isArray(t))return iU(e,"additionalItems",t);r.items=!0,!(0,y1.alwaysValidSchema)(r,t)&&e.ok((0,WIe.validateArray)(e))}};function iU(e,t,r=e.schema){let{gen:n,parentSchema:s,data:i,keyword:a,it:o}=e;l(s),o.opts.unevaluated&&r.length&&o.items!==!0&&(o.items=y1.mergeEvaluated.items(n,r.length,o.items));let c=n.name("valid"),u=n.const("len",(0,sU._)`${i}.length`);r.forEach((d,f)=>{(0,y1.alwaysValidSchema)(o,d)||(n.if((0,sU._)`${u} > ${f}`,()=>e.subschema({keyword:a,schemaProp:f,dataProp:f},c)),e.ok(c))});function l(d){let{opts:f,errSchemaPath:h}=o,p=r.length,m=p===d.minItems&&(p===d.maxItems||d[t]===!1);if(f.strictTuples&&!m){let A=`"${a}" is ${p}-tuple, but minItems or maxItems/${t} are not specified or different at path "${h}"`;(0,y1.checkStrictMode)(o,A,f.strictTuples)}}}X0.validateTuple=iU;X0.default=JIe});var aU=I(iS=>{"use strict";Object.defineProperty(iS,"__esModule",{value:!0});var XIe=sS(),ZIe={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,XIe.validateTuple)(e,"items")};iS.default=ZIe});var cU=I(aS=>{"use strict";Object.defineProperty(aS,"__esModule",{value:!0});var oU=at(),e2e=Ot(),t2e=ai(),r2e=nS(),n2e={message:({params:{len:e}})=>(0,oU.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,oU._)`{limit: ${e}}`},s2e={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:n2e,code(e){let{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,e2e.alwaysValidSchema)(n,t)&&(s?(0,r2e.validateAdditionalItems)(e,s):e.ok((0,t2e.validateArray)(e)))}};aS.default=s2e});var uU=I(oS=>{"use strict";Object.defineProperty(oS,"__esModule",{value:!0});var ui=at(),b1=Ot(),i2e={message:({params:{min:e,max:t}})=>t===void 0?(0,ui.str)`must contain at least ${e} valid item(s)`:(0,ui.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,ui._)`{minContains: ${e}}`:(0,ui._)`{minContains: ${e}, maxContains: ${t}}`},a2e={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:i2e,code(e){let{gen:t,schema:r,parentSchema:n,data:s,it:i}=e,a,o,{minContains:c,maxContains:u}=n;i.opts.next?(a=c===void 0?1:c,o=u):a=1;let l=t.const("len",(0,ui._)`${s}.length`);if(e.setParams({min:a,max:o}),o===void 0&&a===0){(0,b1.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&a>o){(0,b1.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,b1.alwaysValidSchema)(i,r)){let m=(0,ui._)`${l} >= ${a}`;o!==void 0&&(m=(0,ui._)`${m} && ${l} <= ${o}`),e.pass(m);return}i.items=!0;let d=t.name("valid");o===void 0&&a===1?h(d,()=>t.if(d,()=>t.break())):a===0?(t.let(d,!0),o!==void 0&&t.if((0,ui._)`${s}.length > 0`,f)):(t.let(d,!1),f()),e.result(d,()=>e.reset());function f(){let m=t.name("_valid"),A=t.let("count",0);h(m,()=>t.if(m,()=>p(A)))}function h(m,A){t.forRange("i",0,l,g=>{e.subschema({keyword:"contains",dataProp:g,dataPropType:b1.Type.Num,compositeRule:!0},m),A()})}function p(m){t.code((0,ui._)`${m}++`),o===void 0?t.if((0,ui._)`${m} >= ${a}`,()=>t.assign(d,!0).break()):(t.if((0,ui._)`${m} > ${o}`,()=>t.assign(d,!1).break()),a===1?t.assign(d,!0):t.if((0,ui._)`${m} >= ${a}`,()=>t.assign(d,!0)))}}};oS.default=a2e});var fU=I(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.validateSchemaDeps=xa.validatePropertyDeps=xa.error=void 0;var cS=at(),o2e=Ot(),Z0=ai();xa.error={message:({params:{property:e,depsCount:t,deps:r}})=>{let n=t===1?"property":"properties";return(0,cS.str)`must have ${n} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:n}})=>(0,cS._)`{property: ${e},
    missingProperty: ${n},
    depsCount: ${t},
    deps: ${r}}`};var c2e={keyword:"dependencies",type:"object",schemaType:"object",error:xa.error,code(e){let[t,r]=u2e(e);lU(e,t),dU(e,r)}};function u2e({schema:e}){let t={},r={};for(let n in e){if(n==="__proto__")continue;let s=Array.isArray(e[n])?t:r;s[n]=e[n]}return[t,r]}function lU(e,t=e.schema){let{gen:r,data:n,it:s}=e;if(Object.keys(t).length===0)return;let i=r.let("missing");for(let a in t){let o=t[a];if(o.length===0)continue;let c=(0,Z0.propertyInData)(r,n,a,s.opts.ownProperties);e.setParams({property:a,depsCount:o.length,deps:o.join(", ")}),s.allErrors?r.if(c,()=>{for(let u of o)(0,Z0.checkReportMissingProp)(e,u)}):(r.if((0,cS._)`${c} && (${(0,Z0.checkMissingProp)(e,o,i)})`),(0,Z0.reportMissingProp)(e,i),r.else())}}xa.validatePropertyDeps=lU;function dU(e,t=e.schema){let{gen:r,data:n,keyword:s,it:i}=e,a=r.name("valid");for(let o in t)(0,o2e.alwaysValidSchema)(i,t[o])||(r.if((0,Z0.propertyInData)(r,n,o,i.opts.ownProperties),()=>{let c=e.subschema({keyword:s,schemaProp:o},a);e.mergeValidEvaluated(c,a)},()=>r.var(a,!0)),e.ok(a))}xa.validateSchemaDeps=dU;xa.default=c2e});var hU=I(uS=>{"use strict";Object.defineProperty(uS,"__esModule",{value:!0});var pU=at(),l2e=Ot(),d2e={message:"property name must be valid",params:({params:e})=>(0,pU._)`{propertyName: ${e.propertyName}}`},f2e={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:d2e,code(e){let{gen:t,schema:r,data:n,it:s}=e;if((0,l2e.alwaysValidSchema)(s,r))return;let i=t.name("valid");t.forIn("key",n,a=>{e.setParams({propertyName:a}),e.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},i),t.if((0,pU.not)(i),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(i)}};uS.default=f2e});var dS=I(lS=>{"use strict";Object.defineProperty(lS,"__esModule",{value:!0});var E1=ai(),ji=at(),p2e=fo(),x1=Ot(),h2e={message:"must NOT have additional properties",params:({params:e})=>(0,ji._)`{additionalProperty: ${e.additionalProperty}}`},m2e={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:h2e,code(e){let{gen:t,schema:r,parentSchema:n,data:s,errsCount:i,it:a}=e;if(!i)throw new Error("ajv implementation error");let{allErrors:o,opts:c}=a;if(a.props=!0,c.removeAdditional!=="all"&&(0,x1.alwaysValidSchema)(a,r))return;let u=(0,E1.allSchemaProperties)(n.properties),l=(0,E1.allSchemaProperties)(n.patternProperties);d(),e.ok((0,ji._)`${i} === ${p2e.default.errors}`);function d(){t.forIn("key",s,A=>{!u.length&&!l.length?p(A):t.if(f(A),()=>p(A))})}function f(A){let g;if(u.length>8){let x=(0,x1.schemaRefOrVal)(a,n.properties,"properties");g=(0,E1.isOwnProperty)(t,x,A)}else u.length?g=(0,ji.or)(...u.map(x=>(0,ji._)`${A} === ${x}`)):g=ji.nil;return l.length&&(g=(0,ji.or)(g,...l.map(x=>(0,ji._)`${(0,E1.usePattern)(e,x)}.test(${A})`))),(0,ji.not)(g)}function h(A){t.code((0,ji._)`delete ${s}[${A}]`)}function p(A){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){h(A);return}if(r===!1){e.setParams({additionalProperty:A}),e.error(),o||t.break();return}if(typeof r=="object"&&!(0,x1.alwaysValidSchema)(a,r)){let g=t.name("valid");c.removeAdditional==="failing"?(m(A,g,!1),t.if((0,ji.not)(g),()=>{e.reset(),h(A)})):(m(A,g),o||t.if((0,ji.not)(g),()=>t.break()))}}function m(A,g,x){let y={keyword:"additionalProperties",dataProp:A,dataPropType:x1.Type.Str};x===!1&&Object.assign(y,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(y,g)}}};lS.default=m2e});var AU=I(pS=>{"use strict";Object.defineProperty(pS,"__esModule",{value:!0});var g2e=M0(),mU=ai(),fS=Ot(),gU=dS(),A2e={keyword:"properties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,parentSchema:n,data:s,it:i}=e;i.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&gU.default.code(new g2e.KeywordCxt(i,gU.default,"additionalProperties"));let a=(0,mU.allSchemaProperties)(r);for(let d of a)i.definedProperties.add(d);i.opts.unevaluated&&a.length&&i.props!==!0&&(i.props=fS.mergeEvaluated.props(t,(0,fS.toHash)(a),i.props));let o=a.filter(d=>!(0,fS.alwaysValidSchema)(i,r[d]));if(o.length===0)return;let c=t.name("valid");for(let d of o)u(d)?l(d):(t.if((0,mU.propertyInData)(t,s,d,i.opts.ownProperties)),l(d),i.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(d),e.ok(c);function u(d){return i.opts.useDefaults&&!i.compositeRule&&r[d].default!==void 0}function l(d){e.subschema({keyword:"properties",schemaProp:d,dataProp:d},c)}}};pS.default=A2e});var xU=I(hS=>{"use strict";Object.defineProperty(hS,"__esModule",{value:!0});var yU=ai(),v1=at(),bU=Ot(),EU=Ot(),y2e={keyword:"patternProperties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,data:n,parentSchema:s,it:i}=e,{opts:a}=i,o=(0,yU.allSchemaProperties)(r),c=o.filter(m=>(0,bU.alwaysValidSchema)(i,r[m]));if(o.length===0||c.length===o.length&&(!i.opts.unevaluated||i.props===!0))return;let u=a.strictSchema&&!a.allowMatchingProperties&&s.properties,l=t.name("valid");i.props!==!0&&!(i.props instanceof v1.Name)&&(i.props=(0,EU.evaluatedPropsToName)(t,i.props));let{props:d}=i;f();function f(){for(let m of o)u&&h(m),i.allErrors?p(m):(t.var(l,!0),p(m),t.if(l))}function h(m){for(let A in u)new RegExp(m).test(A)&&(0,bU.checkStrictMode)(i,`property ${A} matches pattern ${m} (use allowMatchingProperties)`)}function p(m){t.forIn("key",n,A=>{t.if((0,v1._)`${(0,yU.usePattern)(e,m)}.test(${A})`,()=>{let g=c.includes(m);g||e.subschema({keyword:"patternProperties",schemaProp:m,dataProp:A,dataPropType:EU.Type.Str},l),i.opts.unevaluated&&d!==!0?t.assign((0,v1._)`${d}[${A}]`,!0):!g&&!i.allErrors&&t.if((0,v1.not)(l),()=>t.break())})})}}};hS.default=y2e});var vU=I(mS=>{"use strict";Object.defineProperty(mS,"__esModule",{value:!0});var b2e=Ot(),E2e={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){let{gen:t,schema:r,it:n}=e;if((0,b2e.alwaysValidSchema)(n,r)){e.fail();return}let s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};mS.default=E2e});var _U=I(gS=>{"use strict";Object.defineProperty(gS,"__esModule",{value:!0});var x2e=ai(),v2e={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:x2e.validateUnion,error:{message:"must match a schema in anyOf"}};gS.default=v2e});var IU=I(AS=>{"use strict";Object.defineProperty(AS,"__esModule",{value:!0});var _1=at(),_2e=Ot(),I2e={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,_1._)`{passingSchemas: ${e.passing}}`},C2e={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:I2e,code(e){let{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;let i=r,a=t.let("valid",!1),o=t.let("passing",null),c=t.name("_valid");e.setParams({passing:o}),t.block(u),e.result(a,()=>e.reset(),()=>e.error(!0));function u(){i.forEach((l,d)=>{let f;(0,_2e.alwaysValidSchema)(s,l)?t.var(c,!0):f=e.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},c),d>0&&t.if((0,_1._)`${c} && ${a}`).assign(a,!1).assign(o,(0,_1._)`[${o}, ${d}]`).else(),t.if(c,()=>{t.assign(a,!0),t.assign(o,d),f&&e.mergeEvaluated(f,_1.Name)})})}}};AS.default=C2e});var CU=I(yS=>{"use strict";Object.defineProperty(yS,"__esModule",{value:!0});var w2e=Ot(),S2e={keyword:"allOf",schemaType:"array",code(e){let{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");let s=t.name("valid");r.forEach((i,a)=>{if((0,w2e.alwaysValidSchema)(n,i))return;let o=e.subschema({keyword:"allOf",schemaProp:a},s);e.ok(s),e.mergeEvaluated(o)})}};yS.default=S2e});var TU=I(bS=>{"use strict";Object.defineProperty(bS,"__esModule",{value:!0});var I1=at(),SU=Ot(),T2e={message:({params:e})=>(0,I1.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,I1._)`{failingKeyword: ${e.ifClause}}`},B2e={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:T2e,code(e){let{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,SU.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let s=wU(n,"then"),i=wU(n,"else");if(!s&&!i)return;let a=t.let("valid",!0),o=t.name("_valid");if(c(),e.reset(),s&&i){let l=t.let("ifClause");e.setParams({ifClause:l}),t.if(o,u("then",l),u("else",l))}else s?t.if(o,u("then")):t.if((0,I1.not)(o),u("else"));e.pass(a,()=>e.error(!0));function c(){let l=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);e.mergeEvaluated(l)}function u(l,d){return()=>{let f=e.subschema({keyword:l},o);t.assign(a,o),e.mergeValidEvaluated(f,a),d?t.assign(d,(0,I1._)`${l}`):e.setParams({ifClause:l})}}}};function wU(e,t){let r=e.schema[t];return r!==void 0&&!(0,SU.alwaysValidSchema)(e,r)}bS.default=B2e});var BU=I(ES=>{"use strict";Object.defineProperty(ES,"__esModule",{value:!0});var R2e=Ot(),N2e={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,R2e.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};ES.default=N2e});var RU=I(xS=>{"use strict";Object.defineProperty(xS,"__esModule",{value:!0});var k2e=nS(),D2e=aU(),P2e=sS(),O2e=cU(),$2e=uU(),L2e=fU(),M2e=hU(),F2e=dS(),Q2e=AU(),U2e=xU(),q2e=vU(),j2e=_U(),H2e=IU(),z2e=CU(),G2e=TU(),V2e=BU();function K2e(e=!1){let t=[q2e.default,j2e.default,H2e.default,z2e.default,G2e.default,V2e.default,M2e.default,F2e.default,L2e.default,Q2e.default,U2e.default];return e?t.push(D2e.default,O2e.default):t.push(k2e.default,P2e.default),t.push($2e.default),t}xS.default=K2e});var NU=I(vS=>{"use strict";Object.defineProperty(vS,"__esModule",{value:!0});var Qr=at(),Y2e={message:({schemaCode:e})=>(0,Qr.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Qr._)`{format: ${e}}`},W2e={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Y2e,code(e,t){let{gen:r,data:n,$data:s,schema:i,schemaCode:a,it:o}=e,{opts:c,errSchemaPath:u,schemaEnv:l,self:d}=o;if(!c.validateFormats)return;s?f():h();function f(){let p=r.scopeValue("formats",{ref:d.formats,code:c.code.formats}),m=r.const("fDef",(0,Qr._)`${p}[${a}]`),A=r.let("fType"),g=r.let("format");r.if((0,Qr._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>r.assign(A,(0,Qr._)`${m}.type || "string"`).assign(g,(0,Qr._)`${m}.validate`),()=>r.assign(A,(0,Qr._)`"string"`).assign(g,m)),e.fail$data((0,Qr.or)(x(),y()));function x(){return c.strictSchema===!1?Qr.nil:(0,Qr._)`${a} && !${g}`}function y(){let b=l.$async?(0,Qr._)`(${m}.async ? await ${g}(${n}) : ${g}(${n}))`:(0,Qr._)`${g}(${n})`,_=(0,Qr._)`(typeof ${g} == "function" ? ${b} : ${g}.test(${n}))`;return(0,Qr._)`${g} && ${g} !== true && ${A} === ${t} && !${_}`}}function h(){let p=d.formats[i];if(!p){x();return}if(p===!0)return;let[m,A,g]=y(p);m===t&&e.pass(b());function x(){if(c.strictSchema===!1){d.logger.warn(_());return}throw new Error(_());function _(){return`unknown format "${i}" ignored in schema at path "${u}"`}}function y(_){let C=_ instanceof RegExp?(0,Qr.regexpCode)(_):c.code.formats?(0,Qr._)`${c.code.formats}${(0,Qr.getProperty)(i)}`:void 0,w=r.scopeValue("formats",{key:i,ref:_,code:C});return typeof _=="object"&&!(_ instanceof RegExp)?[_.type||"string",_.validate,(0,Qr._)`${w}.validate`]:["string",_,w]}function b(){if(typeof p=="object"&&!(p instanceof RegExp)&&p.async){if(!l.$async)throw new Error("async format in sync schema");return(0,Qr._)`await ${g}(${n})`}return typeof A=="function"?(0,Qr._)`${g}(${n})`:(0,Qr._)`${g}.test(${n})`}}}};vS.default=W2e});var kU=I(_S=>{"use strict";Object.defineProperty(_S,"__esModule",{value:!0});var J2e=NU(),X2e=[J2e.default];_S.default=X2e});var DU=I(Vd=>{"use strict";Object.defineProperty(Vd,"__esModule",{value:!0});Vd.contentVocabulary=Vd.metadataVocabulary=void 0;Vd.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Vd.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var OU=I(IS=>{"use strict";Object.defineProperty(IS,"__esModule",{value:!0});var Z2e=qQ(),eCe=rU(),tCe=RU(),rCe=kU(),PU=DU(),nCe=[Z2e.default,eCe.default,(0,tCe.default)(),rCe.default,PU.metadataVocabulary,PU.contentVocabulary];IS.default=nCe});var LU=I(C1=>{"use strict";Object.defineProperty(C1,"__esModule",{value:!0});C1.DiscrError=void 0;var $U;(function(e){e.Tag="tag",e.Mapping="mapping"})($U||(C1.DiscrError=$U={}))});var FU=I(wS=>{"use strict";Object.defineProperty(wS,"__esModule",{value:!0});var Kd=at(),CS=LU(),MU=o1(),sCe=F0(),iCe=Ot(),aCe={message:({params:{discrError:e,tagName:t}})=>e===CS.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Kd._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},oCe={keyword:"discriminator",type:"object",schemaType:"object",error:aCe,code(e){let{gen:t,data:r,schema:n,parentSchema:s,it:i}=e,{oneOf:a}=s;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");let o=n.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");let c=t.let("valid",!1),u=t.const("tag",(0,Kd._)`${r}${(0,Kd.getProperty)(o)}`);t.if((0,Kd._)`typeof ${u} == "string"`,()=>l(),()=>e.error(!1,{discrError:CS.DiscrError.Tag,tag:u,tagName:o})),e.ok(c);function l(){let h=f();t.if(!1);for(let p in h)t.elseIf((0,Kd._)`${u} === ${p}`),t.assign(c,d(h[p]));t.else(),e.error(!1,{discrError:CS.DiscrError.Mapping,tag:u,tagName:o}),t.endIf()}function d(h){let p=t.name("valid"),m=e.subschema({keyword:"oneOf",schemaProp:h},p);return e.mergeEvaluated(m,Kd.Name),p}function f(){var h;let p={},m=g(s),A=!0;for(let b=0;b<a.length;b++){let _=a[b];if(_?.$ref&&!(0,iCe.schemaHasRulesButRef)(_,i.self.RULES)){let w=_.$ref;if(_=MU.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,w),_ instanceof MU.SchemaEnv&&(_=_.schema),_===void 0)throw new sCe.default(i.opts.uriResolver,i.baseId,w)}let C=(h=_?.properties)===null||h===void 0?void 0:h[o];if(typeof C!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);A=A&&(m||g(_)),x(C,b)}if(!A)throw new Error(`discriminator: "${o}" must be required`);return p;function g({required:b}){return Array.isArray(b)&&b.includes(o)}function x(b,_){if(b.const)y(b.const,_);else if(b.enum)for(let C of b.enum)y(C,_);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function y(b,_){if(typeof b!="string"||b in p)throw new Error(`discriminator: "${o}" values must be unique strings`);p[b]=_}}}};wS.default=oCe});var QU=I((adt,cCe)=>{cCe.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var TS=I((yr,SS)=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.MissingRefError=yr.ValidationError=yr.CodeGen=yr.Name=yr.nil=yr.stringify=yr.str=yr._=yr.KeywordCxt=yr.Ajv=void 0;var uCe=$Q(),lCe=OU(),dCe=FU(),UU=QU(),fCe=["/properties"],w1="http://json-schema.org/draft-07/schema",Yd=class extends uCe.default{_addVocabularies(){super._addVocabularies(),lCe.default.forEach(t=>this.addVocabulary(t)),this.opts.discriminator&&this.addKeyword(dCe.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let t=this.opts.$data?this.$dataMetaSchema(UU,fCe):UU;this.addMetaSchema(t,w1,!1),this.refs["http://json-schema.org/schema"]=w1}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(w1)?w1:void 0)}};yr.Ajv=Yd;SS.exports=yr=Yd;SS.exports.Ajv=Yd;Object.defineProperty(yr,"__esModule",{value:!0});yr.default=Yd;var pCe=M0();Object.defineProperty(yr,"KeywordCxt",{enumerable:!0,get:function(){return pCe.KeywordCxt}});var Wd=at();Object.defineProperty(yr,"_",{enumerable:!0,get:function(){return Wd._}});Object.defineProperty(yr,"str",{enumerable:!0,get:function(){return Wd.str}});Object.defineProperty(yr,"stringify",{enumerable:!0,get:function(){return Wd.stringify}});Object.defineProperty(yr,"nil",{enumerable:!0,get:function(){return Wd.nil}});Object.defineProperty(yr,"Name",{enumerable:!0,get:function(){return Wd.Name}});Object.defineProperty(yr,"CodeGen",{enumerable:!0,get:function(){return Wd.CodeGen}});var hCe=i1();Object.defineProperty(yr,"ValidationError",{enumerable:!0,get:function(){return hCe.default}});var mCe=F0();Object.defineProperty(yr,"MissingRefError",{enumerable:!0,get:function(){return mCe.default}})});var jU=I((odt,qU)=>{"use strict";var gCe={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};qU.exports={HEX:gCe}});var JU=I((cdt,WU)=>{"use strict";var{HEX:ACe}=jU();function VU(e){if(YU(e,".")<3)return{host:e,isIPV4:!1};let t=e.match(/^(\b[01]?\d{1,2}|\b2[0-4]\d|\b25[0-5])(\.([01]?\d{1,2}|2[0-4]\d|25[0-5])){3}$/u)||[],[r]=t;return r?{host:bCe(r,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function BS(e){let t="",r=!0;for(let n of e){if(n!=="0"&&r===!0&&(r=!1),ACe[n]===void 0)return;r||(t+=n)}return t}function yCe(e){let t=0,r={error:!1,address:"",zone:""},n=[],s=[],i=!1,a=!1,o=!1;function c(){if(s.length){if(i===!1){let u=BS(s.join(""));if(u!==void 0)n.push(u);else return r.error=!0,!1}s.length=0}return!0}for(let u=0;u<e.length;u++){let l=e[u];if(!(l==="["||l==="]"))if(l===":"){if(a===!0&&(o=!0),!c())break;if(t++,n.push(":"),t>7){r.error=!0;break}u-1>=0&&e[u-1]===":"&&(a=!0);continue}else if(l==="%"){if(!c())break;i=!0}else{s.push(l);continue}}return s.length&&(i?r.zone=s.join(""):o?n.push(s.join("")):n.push(BS(s.join("")))),r.address=n.join(""),r}function KU(e,t={}){if(YU(e,":")<2)return{host:e,isIPV6:!1};let r=yCe(e);if(r.error)return{host:e,isIPV6:!1};{let n=r.address,s=r.address;return r.zone&&(n+="%"+r.zone,s+="%25"+r.zone),{host:n,escapedHost:s,isIPV6:!0}}}function bCe(e,t){let r="",n=!0,s=e.length;for(let i=0;i<s;i++){let a=e[i];a==="0"&&n?(i+1<=s&&e[i+1]===t||i+1===s)&&(r+=a,n=!1):(a===t?n=!0:n=!1,r+=a)}return r}function YU(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}var HU=/^\.\.?\//u,zU=/^\/\.(?:\/|$)/u,GU=/^\/\.\.(?:\/|$)/u,ECe=/^\/?(?:.|\n)*?(?=\/|$)/u;function xCe(e){let t=[];for(;e.length;)if(e.match(HU))e=e.replace(HU,"");else if(e.match(zU))e=e.replace(zU,"/");else if(e.match(GU))e=e.replace(GU,"/"),t.pop();else if(e==="."||e==="..")e="";else{let r=e.match(ECe);if(r){let n=r[0];e=e.slice(n.length),t.push(n)}else throw new Error("Unexpected dot segment condition")}return t.join("")}function vCe(e,t){let r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function _Ce(e,t){let r=[];if(e.userinfo!==void 0&&(r.push(e.userinfo),r.push("@")),e.host!==void 0){let n=unescape(e.host),s=VU(n);if(s.isIPV4)n=s.host;else{let i=KU(s.host,{isIPV4:!1});i.isIPV6===!0?n=`[${i.escapedHost}]`:n=e.host}r.push(n)}return(typeof e.port=="number"||typeof e.port=="string")&&(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0}WU.exports={recomposeAuthority:_Ce,normalizeComponentEncoding:vCe,removeDotSegments:xCe,normalizeIPv4:VU,normalizeIPv6:KU,stringToHexStripped:BS}});var n7=I((udt,r7)=>{"use strict";var ICe=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,CCe=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function XU(e){return typeof e.secure=="boolean"?e.secure:String(e.scheme).toLowerCase()==="wss"}function ZU(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function e7(e){let t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function wCe(e){return e.secure=XU(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function SCe(e){if((e.port===(XU(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){let[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function TCe(e,t){if(!e.path)return e.error="URN can not be parsed",e;let r=e.path.match(CCe);if(r){let n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];let s=`${n}:${t.nid||e.nid}`,i=RS[s];e.path=void 0,i&&(e=i.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function BCe(e,t){let r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),s=`${r}:${t.nid||n}`,i=RS[s];i&&(e=i.serialize(e,t));let a=e,o=e.nss;return a.path=`${n||t.nid}:${o}`,t.skipEscape=!0,a}function RCe(e,t){let r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!ICe.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function NCe(e){let t=e;return t.nss=(e.uuid||"").toLowerCase(),t}var t7={scheme:"http",domainHost:!0,parse:ZU,serialize:e7},kCe={scheme:"https",domainHost:t7.domainHost,parse:ZU,serialize:e7},S1={scheme:"ws",domainHost:!0,parse:wCe,serialize:SCe},DCe={scheme:"wss",domainHost:S1.domainHost,parse:S1.parse,serialize:S1.serialize},PCe={scheme:"urn",parse:TCe,serialize:BCe,skipNormalize:!0},OCe={scheme:"urn:uuid",parse:RCe,serialize:NCe,skipNormalize:!0},RS={http:t7,https:kCe,ws:S1,wss:DCe,urn:PCe,"urn:uuid":OCe};r7.exports=RS});var kS=I((ldt,B1)=>{"use strict";var{normalizeIPv6:$Ce,normalizeIPv4:LCe,removeDotSegments:eh,recomposeAuthority:MCe,normalizeComponentEncoding:T1}=JU(),s7=n7();function FCe(e,t){return typeof e=="string"?e=va(mo(e,t),t):typeof e=="object"&&(e=mo(va(e,t),t)),e}function QCe(e,t,r){let n=Object.assign({scheme:"null"},r),s=i7(mo(e,n),mo(t,n),n,!0);return va(s,{...n,skipEscape:!0})}function i7(e,t,r,n){let s={};return n||(e=mo(va(e,r),r),t=mo(va(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=eh(t.path||""),s.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=eh(t.path||""),s.query=t.query):(t.path?(t.path.charAt(0)==="/"?s.path=eh(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?s.path="/"+t.path:e.path?s.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:s.path=t.path,s.path=eh(s.path)),s.query=t.query):(s.path=e.path,t.query!==void 0?s.query=t.query:s.query=e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function UCe(e,t,r){return typeof e=="string"?(e=unescape(e),e=va(T1(mo(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=va(T1(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=va(T1(mo(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=va(T1(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function va(e,t){let r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),s=[],i=s7[(n.scheme||r.scheme||"").toLowerCase()];i&&i.serialize&&i.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&(s.push(r.scheme),s.push(":"));let a=MCe(r,n);if(a!==void 0&&(n.reference!=="suffix"&&s.push("//"),s.push(a),r.path&&r.path.charAt(0)!=="/"&&s.push("/")),r.path!==void 0){let o=r.path;!n.absolutePath&&(!i||!i.absolutePath)&&(o=eh(o)),a===void 0&&(o=o.replace(/^\/\//u,"/%2F")),s.push(o)}return r.query!==void 0&&(s.push("?"),s.push(r.query)),r.fragment!==void 0&&(s.push("#"),s.push(r.fragment)),s.join("")}var qCe=Array.from({length:127},(e,t)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(t)));function jCe(e){let t=0;for(let r=0,n=e.length;r<n;++r)if(t=e.charCodeAt(r),t>126||qCe[t])return!0;return!1}var HCe=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function mo(e,t){let r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},s=e.indexOf("%")!==-1;r.reference==="suffix"&&(e=(r.scheme?r.scheme+":":"")+"//"+e);let i=e.match(HCe);if(i){if(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5]),n.host){let o=LCe(n.host);o.isIPV4===!1?n.host=$Ce(o.host,{isIPV4:!1}).host.toLowerCase():n.host=o.host}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&!n.path&&n.query===void 0?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");let a=s7[(r.scheme||n.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!a||!a.unicodeSupport)&&n.host&&(r.domainHost||a&&a.domainHost)&&jCe(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(o){n.error=n.error||"Host's domain name can not be converted to ASCII: "+o}(!a||a&&!a.skipNormalize)&&(s&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),s&&n.userinfo!==void 0&&(n.userinfo=unescape(n.userinfo)),s&&n.host!==void 0&&(n.host=unescape(n.host)),n.path!==void 0&&n.path.length&&(n.path=escape(unescape(n.path))),n.fragment!==void 0&&n.fragment.length&&(n.fragment=encodeURI(decodeURI(n.fragment)))),a&&a.parse&&a.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}var NS={normalize:FCe,resolve:QCe,resolveComponents:i7,equal:UCe,serialize:va,parse:mo};B1.exports=NS;B1.exports.default=NS;B1.exports.fastUri=NS});var R1=I(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.formatNames=Ia.fastFormats=Ia.fullFormats=void 0;function _a(e,t){return{validate:e,compare:t}}Ia.fullFormats={date:_a(u7,$S),time:_a(PS(!0),LS),"date-time":_a(a7(!0),d7),"iso-time":_a(PS(),l7),"iso-date-time":_a(a7(),f7),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:WCe,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:nwe,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:JCe,int32:{type:"number",validate:ewe},int64:{type:"number",validate:twe},float:{type:"number",validate:c7},double:{type:"number",validate:c7},password:!0,binary:!0};Ia.fastFormats={...Ia.fullFormats,date:_a(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,$S),time:_a(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,LS),"date-time":_a(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,d7),"iso-time":_a(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,l7),"iso-date-time":_a(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,f7),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i};Ia.formatNames=Object.keys(Ia.fullFormats);function zCe(e){return e%4===0&&(e%100!==0||e%400===0)}var GCe=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,VCe=[0,31,28,31,30,31,30,31,31,30,31,30,31];function u7(e){let t=GCe.exec(e);if(!t)return!1;let r=+t[1],n=+t[2],s=+t[3];return n>=1&&n<=12&&s>=1&&s<=(n===2&&zCe(r)?29:VCe[n])}function $S(e,t){if(e&&t)return e>t?1:e<t?-1:0}var DS=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function PS(e){return function(r){let n=DS.exec(r);if(!n)return!1;let s=+n[1],i=+n[2],a=+n[3],o=n[4],c=n[5]==="-"?-1:1,u=+(n[6]||0),l=+(n[7]||0);if(u>23||l>59||e&&!o)return!1;if(s<=23&&i<=59&&a<60)return!0;let d=i-l*c,f=s-u*c-(d<0?1:0);return(f===23||f===-1)&&(d===59||d===-1)&&a<61}}function LS(e,t){if(!(e&&t))return;let r=new Date("2020-01-01T"+e).valueOf(),n=new Date("2020-01-01T"+t).valueOf();if(r&&n)return r-n}function l7(e,t){if(!(e&&t))return;let r=DS.exec(e),n=DS.exec(t);if(r&&n)return e=r[1]+r[2]+r[3],t=n[1]+n[2]+n[3],e>t?1:e<t?-1:0}var OS=/t|\s/i;function a7(e){let t=PS(e);return function(n){let s=n.split(OS);return s.length===2&&u7(s[0])&&t(s[1])}}function d7(e,t){if(!(e&&t))return;let r=new Date(e).valueOf(),n=new Date(t).valueOf();if(r&&n)return r-n}function f7(e,t){if(!(e&&t))return;let[r,n]=e.split(OS),[s,i]=t.split(OS),a=$S(r,s);if(a!==void 0)return a||LS(n,i)}var KCe=/\/|:/,YCe=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function WCe(e){return KCe.test(e)&&YCe.test(e)}var o7=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function JCe(e){return o7.lastIndex=0,o7.test(e)}var XCe=-(2**31),ZCe=2**31-1;function ewe(e){return Number.isInteger(e)&&e<=ZCe&&e>=XCe}function twe(e){return Number.isInteger(e)}function c7(){return!0}var rwe=/[^\\]\\Z/;function nwe(e){if(rwe.test(e))return!1;try{return new RegExp(e),!0}catch{return!1}}});var p7=I(Jd=>{"use strict";Object.defineProperty(Jd,"__esModule",{value:!0});Jd.formatLimitDefinition=void 0;var swe=TS(),Hi=at(),vc=Hi.operators,N1={formatMaximum:{okStr:"<=",ok:vc.LTE,fail:vc.GT},formatMinimum:{okStr:">=",ok:vc.GTE,fail:vc.LT},formatExclusiveMaximum:{okStr:"<",ok:vc.LT,fail:vc.GTE},formatExclusiveMinimum:{okStr:">",ok:vc.GT,fail:vc.LTE}},iwe={message:({keyword:e,schemaCode:t})=>(0,Hi.str)`should be ${N1[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Hi._)`{comparison: ${N1[e].okStr}, limit: ${t}}`};Jd.formatLimitDefinition={keyword:Object.keys(N1),type:"string",schemaType:"string",$data:!0,error:iwe,code(e){let{gen:t,data:r,schemaCode:n,keyword:s,it:i}=e,{opts:a,self:o}=i;if(!a.validateFormats)return;let c=new swe.KeywordCxt(i,o.RULES.all.format.definition,"format");c.$data?u():l();function u(){let f=t.scopeValue("formats",{ref:o.formats,code:a.code.formats}),h=t.const("fmt",(0,Hi._)`${f}[${c.schemaCode}]`);e.fail$data((0,Hi.or)((0,Hi._)`typeof ${h} != "object"`,(0,Hi._)`${h} instanceof RegExp`,(0,Hi._)`typeof ${h}.compare != "function"`,d(h)))}function l(){let f=c.schema,h=o.formats[f];if(!h||h===!0)return;if(typeof h!="object"||h instanceof RegExp||typeof h.compare!="function")throw new Error(`"${s}": format "${f}" does not define "compare" function`);let p=t.scopeValue("formats",{key:f,ref:h,code:a.code.formats?(0,Hi._)`${a.code.formats}${(0,Hi.getProperty)(f)}`:void 0});e.fail$data(d(p))}function d(f){return(0,Hi._)`${f}.compare(${r}, ${n}) ${N1[s].fail} 0`}},dependencies:["format"]};var awe=e=>(e.addKeyword(Jd.formatLimitDefinition),e);Jd.default=awe});var A7=I((th,g7)=>{"use strict";Object.defineProperty(th,"__esModule",{value:!0});var Xd=R1(),owe=p7(),MS=at(),h7=new MS.Name("fullFormats"),cwe=new MS.Name("fastFormats"),FS=(e,t={keywords:!0})=>{if(Array.isArray(t))return m7(e,t,Xd.fullFormats,h7),e;let[r,n]=t.mode==="fast"?[Xd.fastFormats,cwe]:[Xd.fullFormats,h7],s=t.formats||Xd.formatNames;return m7(e,s,r,n),t.keywords&&(0,owe.default)(e),e};FS.get=(e,t="full")=>{let n=(t==="fast"?Xd.fastFormats:Xd.fullFormats)[e];if(!n)throw new Error(`Unknown format "${e}"`);return n};function m7(e,t,r,n){var s,i;(s=(i=e.opts.code).formats)!==null&&s!==void 0||(i.formats=(0,MS._)`require("ajv-formats/dist/formats").${n}`);for(let a of t)e.addFormat(a,r[a])}g7.exports=th=FS;Object.defineProperty(th,"__esModule",{value:!0});th.default=FS});var US=I((pdt,y7)=>{"use strict";var uwe=TS(),lwe=kS(),dwe=A7(),fwe=zy()({proto:!0}),QS=class e{constructor(t){this.ajv=new uwe({...t,strictSchema:!1,validateSchema:!1,allowUnionTypes:!0,uriResolver:lwe}),dwe(this.ajv),this.ajv.addKeyword({keyword:"fjs_type",type:"object",errors:!1,validate:(r,n)=>n instanceof Date}),this._ajvSchemas={},this._ajvOptions=t||{}}addSchema(t,r){let n=t.$id||r;if(t.$id!==void 0&&t.$id[0]==="#"&&(n=r+t.$id),this.ajv.refs[n]===void 0&&this.ajv.schemas[n]===void 0){let s=fwe(t);this.convertSchemaToAjvFormat(s),this.ajv.addSchema(s,n),this._ajvSchemas[n]=t}}validate(t,r){return this.ajv.validate(t,r)}convertSchemaToAjvFormat(t){if(t!==null){t.type==="string"?(t.fjs_type="string",t.type=["string","object"]):Array.isArray(t.type)&&t.type.includes("string")&&!t.type.includes("object")&&(t.fjs_type="string",t.type.push("object"));for(let r in t)typeof t[r]=="object"&&this.convertSchemaToAjvFormat(t[r])}}getState(){return{ajvOptions:this._ajvOptions,ajvSchemas:this._ajvSchemas}}static restoreFromState(t){let r=new e(t.ajvOptions);for(let[n,s]of Object.entries(t.ajvSchemas))r.ajv.addSchema(s,n);return r}};y7.exports=QS});var jS=I((hdt,qS)=>{"use strict";function pwe(e,t,r,n){let s="";t.validatorSchemasIds.size>0?(s+=`const Validator = require('fast-json-stringify/lib/validator')
`,s+=`const validatorState = ${JSON.stringify(n.getState())}
`,s+=`const validator = Validator.restoreFromState(validatorState)
`):s+=`const validator = null
`;let{schema:i,...a}=r.getState();return`
  'use strict'

  const Serializer = require('fast-json-stringify/lib/serializer')
  const serializerState = ${JSON.stringify(a)}
  const serializer = Serializer.restoreFromState(serializerState)

  ${s}

  module.exports = ${e.toString()}(validator, serializer)`}qS.exports=pwe;qS.exports.dependencies={Serializer:HC(),Validator:US()}});var E7=I((gdt,b7)=>{"use strict";var{dependencies:hwe}=jS(),{Serializer:mwe,Validator:mdt}=hwe,gwe={mode:"standalone"},Awe=mwe.restoreFromState(gwe),ywe=null;b7.exports=function(t,r){function n(i){let a=i&&typeof i.toJSON=="function"?i.toJSON():i;if(a===null)return"{}";let o=!1,c="{";return a.statusCode!==void 0&&(!o&&(o=!0)||(c+=","),c+='"statusCode":',c+=r.asNumber(a.statusCode)),a.code!==void 0&&(!o&&(o=!0)||(c+=","),c+='"code":',c+=r.asString(a.code)),a.error!==void 0&&(!o&&(o=!0)||(c+=","),c+='"error":',c+=r.asString(a.error)),a.message!==void 0&&(!o&&(o=!0)||(c+=","),c+='"message":',c+=r.asString(a.message)),c+"}"}return n}(ywe,Awe)});var rh=I((Adt,I7)=>{"use strict";var x7=require("node:http").STATUS_CODES,bwe=U2(),{kReplyHeaders:el,kReplyNextErrorHandler:k1,kReplyIsRunningOnErrorHook:Ewe,kReplyHasStatusCode:xwe,kRouteContext:_7}=cn(),{FST_ERR_REP_INVALID_PAYLOAD_TYPE:vwe,FST_ERR_FAILED_ERROR_SERIALIZATION:_we}=Ln(),{getSchemaSerializer:Iwe}=I0(),HS=E7(),Cwe={func:Swe,toJSON(){return this.func.name.toString()+"()"}};function wwe(e,t,r){e[Ewe]=!1;let n=e[_7];if(e[k1]===!1){v7(t,e,function(o,c){try{o.raw.writeHead(o.raw.statusCode,o[el])}catch(u){o.log.warn({req:o.request,res:o,err:u},u&&u.message),o.raw.writeHead(o.raw.statusCode)}o.raw.end(c)});return}let s=e[k1]||n.errorHandler;e[k1]=Object.getPrototypeOf(s),delete e[el]["content-type"],delete e[el]["content-length"];let i=s.func;if(!i){e[k1]=!1,v7(t,e,r);return}let a=i(t,e.request,e);a!==void 0&&(a!==null&&typeof a.then=="function"?bwe(a,e):e.send(a))}function Swe(e,t,r){if(Bwe(e,r),!r[xwe]||r.statusCode===200){let n=e.statusCode||e.status;r.code(n>=400?n:500)}r.statusCode<500?r.log.info({res:r,err:e},e&&e.message):r.log.error({req:t,res:r,err:e},e&&e.message),r.send(e)}function v7(e,t,r){let n=t.raw,s=t.statusCode;t[el]["content-type"]=t[el]["content-type"]??"application/json; charset=utf-8";let i;try{let a=Iwe(t[_7],s,t[el]["content-type"]);i=a===!1?HS({error:x7[s+""],code:e.code,message:e.message,statusCode:s}):a(Object.create(e,{error:{value:x7[s+""]},message:{value:e.message},statusCode:{value:s}}))}catch(a){t.log.error({err:a,statusCode:n.statusCode},"The serializer for the given status code failed"),t.code(500),i=HS(new _we(a.message,e.message))}typeof i!="string"&&!Buffer.isBuffer(i)&&(i=HS(new vwe(typeof i))),t[el]["content-length"]=""+Buffer.byteLength(i),r(t,i)}function Twe(e=Cwe,t){if(!t)return e;let r=Object.create(e);return r.func=t,r}function Bwe(e,t){let r=t.raw,n=r.statusCode;n=n>=400?n:500,e!=null&&(e.headers!==void 0&&t.headers(e.headers),e.status>=400?n=e.status:e.statusCode>=400&&(n=e.statusCode)),r.statusCode=n}I7.exports={buildErrorHandler:Twe,handleError:wwe}});var M1=I((ydt,L1)=>{"use strict";var KS=require("node:stream").finished,Rwe=require("node:stream").Readable,{kFourOhFourContext:C7,kPublicRouteContext:w7,kReplyErrorHandlerCalled:P7,kReplyHijacked:nh,kReplyStartTime:sh,kReplyEndTime:WS,kReplySerializer:go,kReplySerializerDefault:P1,kReplyIsError:O1,kReplyHeaders:fr,kReplyTrailers:un,kReplyHasStatusCode:JS,kReplyIsRunningOnErrorHook:XS,kReplyNextErrorHandler:Nwe,kDisableRequestLogging:O7,kSchemaResponse:$1,kReplyCacheSerializeFns:_c,kSchemaController:zS,kOptions:kwe,kRouteContext:gt}=cn(),{onSendHookRunner:$7,onResponseHookRunner:Dwe,preHandlerHookRunner:Pwe,preSerializationHookRunner:Owe}=lc(),S7=z2()[Symbol.for("internals")],$we=_0(),YS=$we.now,{handleError:T7}=rh(),{getSchemaSerializer:Lwe}=I0(),GS={JSON:"application/json; charset=utf-8",PLAIN:"text/plain; charset=utf-8",OCTET:"application/octet-stream"},{FST_ERR_REP_INVALID_PAYLOAD_TYPE:Mwe,FST_ERR_REP_RESPONSE_BODY_CONSUMED:Fwe,FST_ERR_REP_ALREADY_SENT:L7,FST_ERR_REP_SENT_VALUE:Qwe,FST_ERR_SEND_INSIDE_ONERR:Uwe,FST_ERR_BAD_STATUS_CODE:qwe,FST_ERR_BAD_TRAILER_NAME:jwe,FST_ERR_BAD_TRAILER_VALUE:Hwe,FST_ERR_MISSING_SERIALIZATION_FN:zwe,FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN:Gwe}=Ln(),{FSTDEP010:Vwe,FSTDEP013:Kwe,FSTDEP019:Ywe,FSTDEP020:Wwe}=oo(),M7=Object.prototype.toString;function cr(e,t,r){this.raw=e,this[go]=null,this[P7]=!1,this[O1]=!1,this[XS]=!1,this.request=t,this[fr]={},this[un]=null,this[JS]=!1,this[sh]=void 0,this.log=r}cr.props=[];Object.defineProperties(cr.prototype,{[gt]:{get(){return this.request[gt]}},context:{get(){return Ywe(),this.request[gt]}},elapsedTime:{get(){return this[sh]===void 0?0:(this[WS]||YS())-this[sh]}},server:{get(){return this.request[gt].server}},sent:{enumerable:!0,get(){return(this[nh]||this.raw.writableEnded)===!0},set(e){if(Vwe(),e!==!0)throw new Qwe;if(this.sent&&this[nh])throw new L7(this.request.url,this.request.method);this[nh]=!0}},statusCode:{get(){return this.raw.statusCode},set(e){this.code(e)}},[w7]:{get(){return this.request[w7]}}});cr.prototype.hijack=function(){return this[nh]=!0,this};cr.prototype.send=function(e){if(this[XS]===!0)throw new Uwe;if(this.sent)return this.log.warn({err:new L7(this.request.url,this.request.method)}),this;if(e instanceof Error||this[O1]===!0)return this[O1]=!1,ih(this,e,tl),this;if(e===void 0)return tl(this,e),this;let t=this.getHeader("content-type"),r=t!==void 0;if(e!==null){if(typeof e.pipe=="function"||typeof e.getReader=="function"||M7.call(e)==="[object Response]")return tl(this,e),this;if(e?.buffer instanceof ArrayBuffer){r===!1&&(this[fr]["content-type"]=GS.OCTET);let n=Buffer.isBuffer(e)?e:Buffer.from(e.buffer,e.byteOffset,e.byteLength);return tl(this,n),this}if(r===!1&&typeof e=="string")return this[fr]["content-type"]=GS.PLAIN,tl(this,e),this}if(this[go]!==null){if(typeof e!="string")return B7(this,e),this;e=this[go](e)}else if(r===!1||t.indexOf("json")>-1){if(r===!1)this[fr]["content-type"]=GS.JSON;else if(t.indexOf("charset")===-1){let n=t.trim();n.endsWith(";")?this[fr]["content-type"]=`${n} charset=utf-8`:this[fr]["content-type"]=`${n}; charset=utf-8`}if(typeof e!="string")return B7(this,e),this}return tl(this,e),this};cr.prototype.getHeader=function(e){e=e.toLowerCase();let t=this.raw,r=this[fr][e];return r===void 0&&t.hasHeader(e)&&(r=t.getHeader(e)),r};cr.prototype.getHeaders=function(){return{...this.raw.getHeaders(),...this[fr]}};cr.prototype.hasHeader=function(e){return e=e.toLowerCase(),this[fr][e]!==void 0||this.raw.hasHeader(e)};cr.prototype.removeHeader=function(e){return delete this[fr][e.toLowerCase()],this};cr.prototype.header=function(e,t=""){return e=e.toLowerCase(),this[fr][e]&&e==="set-cookie"?(typeof this[fr][e]=="string"&&(this[fr][e]=[this[fr][e]]),Array.isArray(t)?Array.prototype.push.apply(this[fr][e],t):this[fr][e].push(t)):this[fr][e]=t,this};cr.prototype.headers=function(e){let t=Object.keys(e);for(var r=0;r!==t.length;++r){let n=t[r];this.header(n,e[n])}return this};var Jwe=new Set(["transfer-encoding","content-length","host","cache-control","max-forwards","te","authorization","set-cookie","content-encoding","content-type","content-range","trailer"]);cr.prototype.trailer=function(e,t){if(e=e.toLowerCase(),Jwe.has(e))throw new jwe(e);if(typeof t!="function")throw new Hwe(e,typeof t);return this[un]===null&&(this[un]={}),this[un][e]=t,this};cr.prototype.hasTrailer=function(e){return this[un]?.[e.toLowerCase()]!==void 0};cr.prototype.removeTrailer=function(e){return this[un]===null?this:(this[un][e.toLowerCase()]=void 0,this)};cr.prototype.code=function(e){let t=Number(e);if(isNaN(t)||t<100||t>599)throw new qwe(e||String(e));return this.raw.statusCode=t,this[JS]=!0,this};cr.prototype.status=cr.prototype.code;cr.prototype.getSerializationFunction=function(e,t){let r;return typeof e=="string"||typeof e=="number"?typeof t=="string"?r=this[gt][$1]?.[e]?.[t]:r=this[gt][$1]?.[e]:typeof e=="object"&&(r=this[gt][_c]?.get(e)),r};cr.prototype.compileSerializationSchema=function(e,t=null,r=null){let{request:n}=this,{method:s,url:i}=n;if(this[gt][_c]?.has(e))return this[gt][_c].get(e);let o=(this[gt].serializerCompiler||this.server[zS].serializerCompiler||this.server[zS].setupSerializer(this.server[kwe])||this.server[zS].serializerCompiler)({schema:e,method:s,url:i,httpStatus:t,contentType:r});return this[gt][_c]==null&&(this[gt][_c]=new WeakMap),this[gt][_c].set(e,o),o};cr.prototype.serializeInput=function(e,t,r,n){let s=r,i;if(r=typeof t=="string"||typeof t=="number"?t:r,n=r&&s!==r?s:n,r!=null){if(n!=null?i=this[gt][$1]?.[r]?.[n]:i=this[gt][$1]?.[r],i==null)throw n?new Gwe(r,n):new zwe(r)}else this[gt][_c]?.has(t)?i=this[gt][_c].get(t):i=this.compileSerializationSchema(t,r,n);return i(e)};cr.prototype.serialize=function(e){return this[go]!==null?this[go](e):this[gt]&&this[gt][P1]?this[gt][P1](e,this.raw.statusCode):U7(this[gt],e,this.raw.statusCode)};cr.prototype.serializer=function(e){return this[go]=e,this};cr.prototype.type=function(e){return this[fr]["content-type"]=e,this};cr.prototype.redirect=function(e,t){return typeof e=="string"&&(t=e,e=this[JS]?this.raw.statusCode:302),this.header("location",t).code(e).send()};cr.prototype.callNotFound=function(){return nSe(this),this};cr.prototype.getResponseTime=function(){return Wwe(),this.elapsedTime};cr.prototype.then=function(e,t){if(this.sent){e();return}KS(this.raw,r=>{r&&r.code!=="ERR_STREAM_PREMATURE_CLOSE"?t?t(r):this.log&&this.log.warn("unhandled rejection on reply.then"):e()})};function B7(e,t){e[gt].preSerialization!==null?Owe(e[gt].preSerialization,e.request,e,t,R7):R7(null,e.request,e,t)}function R7(e,t,r,n){if(e!=null){ih(r,e);return}try{r[go]!==null?n=r[go](n):r[gt]&&r[gt][P1]?n=r[gt][P1](n,r.raw.statusCode):n=U7(r[gt],n,r.raw.statusCode,r[fr]["content-type"])}catch(s){Xwe(s,r),ih(r,s);return}tl(r,n)}function Xwe(e,t){e.serialization=t[gt].config}function tl(e,t){e[gt].onSend!==null?$7(e[gt].onSend,e.request,e,t,Zwe):F7(e,t)}function Zwe(e,t,r,n){e!=null?ih(r,e):F7(r,n)}function VS(e,t){let r=e.raw;try{r.writeHead(t,e[fr])}catch(n){throw n.code==="ERR_HTTP_HEADERS_SENT"&&e.log.warn(`Reply was already sent, did you forget to "return reply" in the "${e.request.raw.url}" (${e.request.raw.method}) route?`),n}}function F7(e,t){let r=e.raw,n=e.request;if(e[un]!==null){let a=Object.keys(e[un]),o="";for(let c of a)typeof e[un][c]=="function"&&(o+=" ",o+=c);e.header("Transfer-Encoding","chunked"),e.header("Trailer",o.trim())}let s=M7.call(t)==="[object Response]";s&&typeof t.status=="number"&&e.code(t.status);let i=r.statusCode;if(t==null){i>=200&&i!==204&&i!==304&&n.method!=="HEAD"&&e[un]===null&&(e[fr]["content-length"]="0"),VS(e,i),D1(t,r,e);return}if(i>=100&&i<200||i===204){e.removeHeader("content-type"),e.removeHeader("content-length"),VS(e,i),D1(void 0,r,e),typeof t.resume=="function"&&(t.on("error",q7),t.resume());return}if(typeof t.pipe=="function"){Q7(t,r,e);return}if(typeof t.getReader=="function"){k7(t,r,e);return}if(s){if(typeof t.headers=="object"&&typeof t.headers.forEach=="function")for(let[a,o]of t.headers)e.header(a,o);if(t.body!=null){if(t.bodyUsed)throw new Fwe;k7(t.body,r,e)}return}if(typeof t!="string"&&!Buffer.isBuffer(t))throw new Mwe(typeof t);if(e[un]===null){let a=e[fr]["content-length"];(!a||n.raw.method!=="HEAD"&&Number(a)!==Buffer.byteLength(t))&&(e[fr]["content-length"]=""+Buffer.byteLength(t))}VS(e,i),r.write(t),D1(t,r,e)}function N7(e,t,r){t.code==="ERR_STREAM_PREMATURE_CLOSE"?e[O7]||e.info({res:r},"stream closed prematurely"):e.warn({err:t},"response terminated with an error with headers already sent")}function k7(e,t,r){let n=Rwe.fromWeb(e);Q7(n,t,r)}function Q7(e,t,r){let n=!0,s=!1;if(eSe(e,t,r),KS(e,{readable:!0,writable:!1},function(i){n=!1,i!=null&&(t.headersSent||r.request.raw.aborted===!0?(s||(s=!0,N7(r.log,i,t)),t.destroy()):ih(r,i))}),KS(t,function(i){n&&(i!=null&&t.headersSent&&!s&&(s=!0,N7(r.log,i,t)),typeof e.destroy=="function"?e.destroy():typeof e.close=="function"?e.close(q7):typeof e.abort=="function"?e.abort():r.log.warn("stream payload does not end properly"))}),t.headersSent)r.log.warn("response will send, but you shouldn't use res.writeHead in stream mode");else for(let i in r[fr])t.setHeader(i,r[fr][i]);e.pipe(t)}function D1(e,t,r){if(r[un]===null){t.end(null,null,null);return}let n=Object.keys(r[un]),s={},i=0,a=!0;function o(){i===0&&(t.addTrailers(s),t.end(null,null,null))}for(let c of n){let u=function(d,f){i++,d?r.log.debug(d):s[c]=f,process.nextTick(o)};if(typeof r[un][c]!="function")continue;a=!1,i--;let l=r[un][c](r,e,u);typeof l=="object"&&typeof l.then=="function"?l.then(d=>u(null,d),u):l!=null&&(Kwe(),u(null,l))}a&&t.end(null,null,null)}function eSe(e,t,r){r[un]!==null&&e.on("end",()=>D1(null,t,r))}function ih(e,t,r){e[gt].onError!==null&&!e[Nwe]?(e[XS]=!0,$7(e[gt].onError,e.request,e,t,()=>T7(e,t,r))):T7(e,t,r)}function tSe(e){e[sh]=YS();let t=r=>{e[WS]=YS(),e.raw.removeListener("finish",t),e.raw.removeListener("error",t);let n=e[gt];n&&n.onResponse!==null?Dwe(n.onResponse,e.request,e,D7):D7(r,e.request,e)};e.raw.on("finish",t),e.raw.on("error",t)}function D7(e,t,r){if(r.log[O7])return;let n=r.elapsedTime;if(e!=null){r.log.error({res:r,err:e,responseTime:n},"request errored");return}r.log.info({res:r,responseTime:n},"request completed")}function rSe(e){let t=e.props.slice();function r(n,s,i){this.raw=n,this[O1]=!1,this[P7]=!1,this[nh]=!1,this[go]=null,this.request=s,this[fr]={},this[un]=null,this[sh]=void 0,this[WS]=void 0,this.log=i;for(var a,o=0;o<t.length;o++)a=t[o],this[a.key]=a.value}return Object.setPrototypeOf(r.prototype,e.prototype),Object.setPrototypeOf(r,e),r.parent=e,r.props=t,r}function nSe(e){if(e[gt][C7]===null){e.log.warn("Trying to send a NotFound error inside a 404 handler. Sending basic 404 response."),e.code(404).send("404 Not Found");return}e.request[gt]=e[gt][C7],e[gt].preHandler!==null?Pwe(e[gt].preHandler,e.request,e,S7.preHandlerCallback):S7.preHandlerCallback(null,e.request,e)}function U7(e,t,r,n){let s=Lwe(e,r,n);return s?s(t):JSON.stringify(t)}function q7(){}L1.exports=cr;L1.exports.buildReply=rSe;L1.exports.setupResponseListeners=tSe});var H7=I((bdt,j7)=>{"use strict";j7.exports=sSe;function sSe(e){if(!e)throw new TypeError("argument req is required");var t=aSe(e.headers["x-forwarded-for"]||""),r=iSe(e),n=[r].concat(t);return n}function iSe(e){return e.socket?e.socket.remoteAddress:e.connection.remoteAddress}function aSe(e){for(var t=e.length,r=[],n=e.length,s=e.length-1;s>=0;s--)switch(e.charCodeAt(s)){case 32:n===t&&(n=t=s);break;case 44:n!==t&&r.push(e.substring(n,t)),n=t=s;break;default:n=s;break}return n!==t&&r.push(e.substring(n,t)),r}});var G7=I((z7,ah)=>{(function(){var e,t,r,n,s,i,a,o,c;t={},o=this,typeof ah<"u"&&ah!==null&&ah.exports?ah.exports=t:o.ipaddr=t,a=function(u,l,d,f){var h,p;if(u.length!==l.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");for(h=0;f>0;){if(p=d-f,p<0&&(p=0),u[h]>>p!==l[h]>>p)return!1;f-=d,h+=1}return!0},t.subnetMatch=function(u,l,d){var f,h,p,m,A;d==null&&(d="unicast");for(p in l)for(m=l[p],m[0]&&!(m[0]instanceof Array)&&(m=[m]),f=0,h=m.length;f<h;f++)if(A=m[f],u.kind()===A[0].kind()&&u.match.apply(u,A))return p;return d},t.IPv4=function(){function u(l){var d,f,h;if(l.length!==4)throw new Error("ipaddr: ipv4 octet count should be 4");for(d=0,f=l.length;d<f;d++)if(h=l[d],!(0<=h&&h<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=l}return u.prototype.kind=function(){return"ipv4"},u.prototype.toString=function(){return this.octets.join(".")},u.prototype.toNormalizedString=function(){return this.toString()},u.prototype.toByteArray=function(){return this.octets.slice(0)},u.prototype.match=function(l,d){var f;if(d===void 0&&(f=l,l=f[0],d=f[1]),l.kind()!=="ipv4")throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return a(this.octets,l.octets,8,d)},u.prototype.SpecialRanges={unspecified:[[new u([0,0,0,0]),8]],broadcast:[[new u([255,255,255,255]),32]],multicast:[[new u([224,0,0,0]),4]],linkLocal:[[new u([169,254,0,0]),16]],loopback:[[new u([127,0,0,0]),8]],carrierGradeNat:[[new u([100,64,0,0]),10]],private:[[new u([10,0,0,0]),8],[new u([172,16,0,0]),12],[new u([192,168,0,0]),16]],reserved:[[new u([192,0,0,0]),24],[new u([192,0,2,0]),24],[new u([192,88,99,0]),24],[new u([198,51,100,0]),24],[new u([203,0,113,0]),24],[new u([240,0,0,0]),4]]},u.prototype.range=function(){return t.subnetMatch(this,this.SpecialRanges)},u.prototype.toIPv4MappedAddress=function(){return t.IPv6.parse("::ffff:"+this.toString())},u.prototype.prefixLengthFromSubnetMask=function(){var l,d,f,h,p,m,A;for(A={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0},l=0,p=!1,d=f=3;f>=0;d=f+=-1)if(h=this.octets[d],h in A){if(m=A[h],p&&m!==0)return null;m!==8&&(p=!0),l+=m}else return null;return 32-l},u}(),r="(0?\\d+|0x[a-f0-9]+)",n={fourOctet:new RegExp("^"+r+"\\."+r+"\\."+r+"\\."+r+"$","i"),longValue:new RegExp("^"+r+"$","i")},t.IPv4.parser=function(u){var l,d,f,h,p;if(d=function(m){return m[0]==="0"&&m[1]!=="x"?parseInt(m,8):parseInt(m)},l=u.match(n.fourOctet))return function(){var m,A,g,x;for(g=l.slice(1,6),x=[],m=0,A=g.length;m<A;m++)f=g[m],x.push(d(f));return x}();if(l=u.match(n.longValue)){if(p=d(l[1]),p>4294967295||p<0)throw new Error("ipaddr: address outside defined range");return function(){var m,A;for(A=[],h=m=0;m<=24;h=m+=8)A.push(p>>h&255);return A}().reverse()}else return null},t.IPv6=function(){function u(l,d){var f,h,p,m,A,g;if(l.length===16)for(this.parts=[],f=h=0;h<=14;f=h+=2)this.parts.push(l[f]<<8|l[f+1]);else if(l.length===8)this.parts=l;else throw new Error("ipaddr: ipv6 part count should be 8 or 16");for(g=this.parts,p=0,m=g.length;p<m;p++)if(A=g[p],!(0<=A&&A<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");d&&(this.zoneId=d)}return u.prototype.kind=function(){return"ipv6"},u.prototype.toString=function(){return this.toNormalizedString().replace(/((^|:)(0(:|$))+)/,"::")},u.prototype.toRFC5952String=function(){var l,d,f,h,p;for(h=/((^|:)(0(:|$)){2,})/g,p=this.toNormalizedString(),l=0,d=-1;f=h.exec(p);)f[0].length>d&&(l=f.index,d=f[0].length);return d<0?p:p.substring(0,l)+"::"+p.substring(l+d)},u.prototype.toByteArray=function(){var l,d,f,h,p;for(l=[],p=this.parts,d=0,f=p.length;d<f;d++)h=p[d],l.push(h>>8),l.push(h&255);return l},u.prototype.toNormalizedString=function(){var l,d,f;return l=function(){var h,p,m,A;for(m=this.parts,A=[],h=0,p=m.length;h<p;h++)d=m[h],A.push(d.toString(16));return A}.call(this).join(":"),f="",this.zoneId&&(f="%"+this.zoneId),l+f},u.prototype.toFixedLengthString=function(){var l,d,f;return l=function(){var h,p,m,A;for(m=this.parts,A=[],h=0,p=m.length;h<p;h++)d=m[h],A.push(d.toString(16).padStart(4,"0"));return A}.call(this).join(":"),f="",this.zoneId&&(f="%"+this.zoneId),l+f},u.prototype.match=function(l,d){var f;if(d===void 0&&(f=l,l=f[0],d=f[1]),l.kind()!=="ipv6")throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return a(this.parts,l.parts,16,d)},u.prototype.SpecialRanges={unspecified:[new u([0,0,0,0,0,0,0,0]),128],linkLocal:[new u([65152,0,0,0,0,0,0,0]),10],multicast:[new u([65280,0,0,0,0,0,0,0]),8],loopback:[new u([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new u([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new u([0,0,0,0,0,65535,0,0]),96],rfc6145:[new u([0,0,0,0,65535,0,0,0]),96],rfc6052:[new u([100,65435,0,0,0,0,0,0]),96],"6to4":[new u([8194,0,0,0,0,0,0,0]),16],teredo:[new u([8193,0,0,0,0,0,0,0]),32],reserved:[[new u([8193,3512,0,0,0,0,0,0]),32]]},u.prototype.range=function(){return t.subnetMatch(this,this.SpecialRanges)},u.prototype.isIPv4MappedAddress=function(){return this.range()==="ipv4Mapped"},u.prototype.toIPv4Address=function(){var l,d,f;if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");return f=this.parts.slice(-2),l=f[0],d=f[1],new t.IPv4([l>>8,l&255,d>>8,d&255])},u.prototype.prefixLengthFromSubnetMask=function(){var l,d,f,h,p,m,A;for(A={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0},l=0,p=!1,d=f=7;f>=0;d=f+=-1)if(h=this.parts[d],h in A){if(m=A[h],p&&m!==0)return null;m!==16&&(p=!0),l+=m}else return null;return 128-l},u}(),s="(?:[0-9a-f]+::?)+",c="%[0-9a-z]{1,}",i={zoneIndex:new RegExp(c,"i"),native:new RegExp("^(::)?("+s+")?([0-9a-f]+)?(::)?("+c+")?$","i"),transitional:new RegExp("^((?:"+s+")|(?:::)(?:"+s+")?)"+(r+"\\."+r+"\\."+r+"\\."+r)+("("+c+")?$"),"i")},e=function(u,l){var d,f,h,p,m,A;if(u.indexOf("::")!==u.lastIndexOf("::"))return null;for(A=(u.match(i.zoneIndex)||[])[0],A&&(A=A.substring(1),u=u.replace(/%.+$/,"")),d=0,f=-1;(f=u.indexOf(":",f+1))>=0;)d++;if(u.substr(0,2)==="::"&&d--,u.substr(-2,2)==="::"&&d--,d>l)return null;for(m=l-d,p=":";m--;)p+="0:";return u=u.replace("::",p),u[0]===":"&&(u=u.slice(1)),u[u.length-1]===":"&&(u=u.slice(0,-1)),l=function(){var g,x,y,b;for(y=u.split(":"),b=[],g=0,x=y.length;g<x;g++)h=y[g],b.push(parseInt(h,16));return b}(),{parts:l,zoneId:A}},t.IPv6.parser=function(u){var l,d,f,h,p,m,A;if(i.native.test(u))return e(u,8);if((h=u.match(i.transitional))&&(A=h[6]||"",l=e(h[1].slice(0,-1)+A,6),l.parts)){for(m=[parseInt(h[2]),parseInt(h[3]),parseInt(h[4]),parseInt(h[5])],d=0,f=m.length;d<f;d++)if(p=m[d],!(0<=p&&p<=255))return null;return l.parts.push(m[0]<<8|m[1]),l.parts.push(m[2]<<8|m[3]),{parts:l.parts,zoneId:l.zoneId}}return null},t.IPv4.isIPv4=t.IPv6.isIPv6=function(u){return this.parser(u)!==null},t.IPv4.isValid=function(u){var l;try{return new this(this.parser(u)),!0}catch(d){return l=d,!1}},t.IPv4.isValidFourPartDecimal=function(u){return!!(t.IPv4.isValid(u)&&u.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},t.IPv6.isValid=function(u){var l,d;if(typeof u=="string"&&u.indexOf(":")===-1)return!1;try{return l=this.parser(u),new this(l.parts,l.zoneId),!0}catch(f){return d=f,!1}},t.IPv4.parse=function(u){var l;if(l=this.parser(u),l===null)throw new Error("ipaddr: string is not formatted like ip address");return new this(l)},t.IPv6.parse=function(u){var l;if(l=this.parser(u),l.parts===null)throw new Error("ipaddr: string is not formatted like ip address");return new this(l.parts,l.zoneId)},t.IPv4.parseCIDR=function(u){var l,d,f;if((d=u.match(/^(.+)\/(\d+)$/))&&(l=parseInt(d[2]),l>=0&&l<=32))return f=[this.parse(d[1]),l],Object.defineProperty(f,"toString",{value:function(){return this.join("/")}}),f;throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},t.IPv4.subnetMaskFromPrefixLength=function(u){var l,d,f;if(u=parseInt(u),u<0||u>32)throw new Error("ipaddr: invalid IPv4 prefix length");for(f=[0,0,0,0],d=0,l=Math.floor(u/8);d<l;)f[d]=255,d++;return l<4&&(f[l]=Math.pow(2,u%8)-1<<8-u%8),new this(f)},t.IPv4.broadcastAddressFromCIDR=function(u){var l,d,f,h,p,m;try{for(l=this.parseCIDR(u),h=l[0].toByteArray(),m=this.subnetMaskFromPrefixLength(l[1]).toByteArray(),p=[],f=0;f<4;)p.push(parseInt(h[f],10)|parseInt(m[f],10)^255),f++;return new this(p)}catch(A){throw d=A,new Error("ipaddr: the address does not have IPv4 CIDR format")}},t.IPv4.networkAddressFromCIDR=function(u){var l,d,f,h,p,m;try{for(l=this.parseCIDR(u),h=l[0].toByteArray(),m=this.subnetMaskFromPrefixLength(l[1]).toByteArray(),p=[],f=0;f<4;)p.push(parseInt(h[f],10)&parseInt(m[f],10)),f++;return new this(p)}catch(A){throw d=A,new Error("ipaddr: the address does not have IPv4 CIDR format")}},t.IPv6.parseCIDR=function(u){var l,d,f;if((d=u.match(/^(.+)\/(\d+)$/))&&(l=parseInt(d[2]),l>=0&&l<=128))return f=[this.parse(d[1]),l],Object.defineProperty(f,"toString",{value:function(){return this.join("/")}}),f;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},t.isValid=function(u){return t.IPv6.isValid(u)||t.IPv4.isValid(u)},t.parse=function(u){if(t.IPv6.isValid(u))return t.IPv6.parse(u);if(t.IPv4.isValid(u))return t.IPv4.parse(u);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},t.parseCIDR=function(u){var l;try{return t.IPv6.parseCIDR(u)}catch(d){l=d;try{return t.IPv4.parseCIDR(u)}catch(f){throw l=f,new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},t.fromByteArray=function(u){var l;if(l=u.length,l===4)return new t.IPv4(u);if(l===16)return new t.IPv6(u);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},t.process=function(u){var l;return l=this.parse(u),l.kind()==="ipv6"&&l.isIPv4MappedAddress()?l.toIPv4Address():l}}).call(z7)});var J7=I((Edt,U1)=>{"use strict";U1.exports=pSe;U1.exports.all=Y7;U1.exports.compile=W7;var oSe=H7(),K7=G7(),cSe=/^[0-9]+$/,F1=K7.isValid,Q1=K7.parse,V7={linklocal:["169.254.0.0/16","fe80::/10"],loopback:["127.0.0.1/8","::1/128"],uniquelocal:["10.0.0.0/8","172.16.0.0/12","192.168.0.0/16","fc00::/7"]};function Y7(e,t){var r=oSe(e);if(!t)return r;typeof t!="function"&&(t=W7(t));for(var n=0;n<r.length-1;n++)t(r[n],n)||(r.length=n+1);return r}function W7(e){if(!e)throw new TypeError("argument is required");var t;if(typeof e=="string")t=[e];else if(Array.isArray(e))t=e.slice();else throw new TypeError("unsupported trust argument");for(var r=0;r<t.length;r++)e=t[r],Object.prototype.hasOwnProperty.call(V7,e)&&(e=V7[e],t.splice.apply(t,[r,1].concat(e)),r+=e.length-1);return lSe(uSe(t))}function uSe(e){for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=dSe(e[r]);return t}function lSe(e){var t=e.length;return t===0?hSe:t===1?gSe(e[0]):mSe(e)}function dSe(e){var t=e.lastIndexOf("/"),r=t!==-1?e.substring(0,t):e;if(!F1(r))throw new TypeError("invalid IP address: "+r);var n=Q1(r);t===-1&&n.kind()==="ipv6"&&n.isIPv4MappedAddress()&&(n=n.toIPv4Address());var s=n.kind()==="ipv6"?128:32,i=t!==-1?e.substring(t+1,e.length):null;if(i===null?i=s:cSe.test(i)?i=parseInt(i,10):n.kind()==="ipv4"&&F1(i)?i=fSe(i):i=null,i<=0||i>s)throw new TypeError("invalid range on address: "+e);return[n,i]}function fSe(e){var t=Q1(e),r=t.kind();return r==="ipv4"?t.prefixLengthFromSubnetMask():null}function pSe(e,t){if(!e)throw new TypeError("req argument is required");if(!t)throw new TypeError("trust argument is required");var r=Y7(e,t),n=r[r.length-1];return n}function hSe(){return!1}function mSe(e){return function(r){if(!F1(r))return!1;for(var n=Q1(r),s,i=n.kind(),a=0;a<e.length;a++){var o=e[a],c=o[0],u=c.kind(),l=o[1],d=n;if(i!==u){if(u==="ipv4"&&!n.isIPv4MappedAddress())continue;s||(s=u==="ipv4"?n.toIPv4Address():n.toIPv4MappedAddress()),d=s}if(d.match(c,l))return!0}return!1}}function gSe(e){var t=e[0],r=t.kind(),n=r==="ipv4",s=e[1];return function(a){if(!F1(a))return!1;var o=Q1(a),c=o.kind();if(c!==r){if(n&&!o.isIPv4MappedAddress())return!1;o=n?o.toIPv4Address():o.toIPv4MappedAddress()}return o.match(t,s)}}});var oh=I((xdt,X7)=>{"use strict";var ASe="2.0.0",ySe=Number.MAX_SAFE_INTEGER||9007199254740991,bSe=16,ESe=250,xSe=["major","premajor","minor","preminor","patch","prepatch","prerelease"];X7.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:bSe,MAX_SAFE_BUILD_LENGTH:ESe,MAX_SAFE_INTEGER:ySe,RELEASE_TYPES:xSe,SEMVER_SPEC_VERSION:ASe,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var ch=I((vdt,Z7)=>{"use strict";var vSe=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};Z7.exports=vSe});var Zd=I((Ca,eq)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:ZS,MAX_SAFE_BUILD_LENGTH:_Se,MAX_LENGTH:ISe}=oh(),CSe=ch();Ca=eq.exports={};var wSe=Ca.re=[],SSe=Ca.safeRe=[],we=Ca.src=[],TSe=Ca.safeSrc=[],Se=Ca.t={},BSe=0,eT="[a-zA-Z0-9-]",RSe=[["\\s",1],["\\d",ISe],[eT,_Se]],NSe=e=>{for(let[t,r]of RSe)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},Xe=(e,t,r)=>{let n=NSe(t),s=BSe++;CSe(e,s,t),Se[e]=s,we[s]=t,TSe[s]=n,wSe[s]=new RegExp(t,r?"g":void 0),SSe[s]=new RegExp(n,r?"g":void 0)};Xe("NUMERICIDENTIFIER","0|[1-9]\\d*");Xe("NUMERICIDENTIFIERLOOSE","\\d+");Xe("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${eT}*`);Xe("MAINVERSION",`(${we[Se.NUMERICIDENTIFIER]})\\.(${we[Se.NUMERICIDENTIFIER]})\\.(${we[Se.NUMERICIDENTIFIER]})`);Xe("MAINVERSIONLOOSE",`(${we[Se.NUMERICIDENTIFIERLOOSE]})\\.(${we[Se.NUMERICIDENTIFIERLOOSE]})\\.(${we[Se.NUMERICIDENTIFIERLOOSE]})`);Xe("PRERELEASEIDENTIFIER",`(?:${we[Se.NONNUMERICIDENTIFIER]}|${we[Se.NUMERICIDENTIFIER]})`);Xe("PRERELEASEIDENTIFIERLOOSE",`(?:${we[Se.NONNUMERICIDENTIFIER]}|${we[Se.NUMERICIDENTIFIERLOOSE]})`);Xe("PRERELEASE",`(?:-(${we[Se.PRERELEASEIDENTIFIER]}(?:\\.${we[Se.PRERELEASEIDENTIFIER]})*))`);Xe("PRERELEASELOOSE",`(?:-?(${we[Se.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${we[Se.PRERELEASEIDENTIFIERLOOSE]})*))`);Xe("BUILDIDENTIFIER",`${eT}+`);Xe("BUILD",`(?:\\+(${we[Se.BUILDIDENTIFIER]}(?:\\.${we[Se.BUILDIDENTIFIER]})*))`);Xe("FULLPLAIN",`v?${we[Se.MAINVERSION]}${we[Se.PRERELEASE]}?${we[Se.BUILD]}?`);Xe("FULL",`^${we[Se.FULLPLAIN]}$`);Xe("LOOSEPLAIN",`[v=\\s]*${we[Se.MAINVERSIONLOOSE]}${we[Se.PRERELEASELOOSE]}?${we[Se.BUILD]}?`);Xe("LOOSE",`^${we[Se.LOOSEPLAIN]}$`);Xe("GTLT","((?:<|>)?=?)");Xe("XRANGEIDENTIFIERLOOSE",`${we[Se.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Xe("XRANGEIDENTIFIER",`${we[Se.NUMERICIDENTIFIER]}|x|X|\\*`);Xe("XRANGEPLAIN",`[v=\\s]*(${we[Se.XRANGEIDENTIFIER]})(?:\\.(${we[Se.XRANGEIDENTIFIER]})(?:\\.(${we[Se.XRANGEIDENTIFIER]})(?:${we[Se.PRERELEASE]})?${we[Se.BUILD]}?)?)?`);Xe("XRANGEPLAINLOOSE",`[v=\\s]*(${we[Se.XRANGEIDENTIFIERLOOSE]})(?:\\.(${we[Se.XRANGEIDENTIFIERLOOSE]})(?:\\.(${we[Se.XRANGEIDENTIFIERLOOSE]})(?:${we[Se.PRERELEASELOOSE]})?${we[Se.BUILD]}?)?)?`);Xe("XRANGE",`^${we[Se.GTLT]}\\s*${we[Se.XRANGEPLAIN]}$`);Xe("XRANGELOOSE",`^${we[Se.GTLT]}\\s*${we[Se.XRANGEPLAINLOOSE]}$`);Xe("COERCEPLAIN",`(^|[^\\d])(\\d{1,${ZS}})(?:\\.(\\d{1,${ZS}}))?(?:\\.(\\d{1,${ZS}}))?`);Xe("COERCE",`${we[Se.COERCEPLAIN]}(?:$|[^\\d])`);Xe("COERCEFULL",we[Se.COERCEPLAIN]+`(?:${we[Se.PRERELEASE]})?(?:${we[Se.BUILD]})?(?:$|[^\\d])`);Xe("COERCERTL",we[Se.COERCE],!0);Xe("COERCERTLFULL",we[Se.COERCEFULL],!0);Xe("LONETILDE","(?:~>?)");Xe("TILDETRIM",`(\\s*)${we[Se.LONETILDE]}\\s+`,!0);Ca.tildeTrimReplace="$1~";Xe("TILDE",`^${we[Se.LONETILDE]}${we[Se.XRANGEPLAIN]}$`);Xe("TILDELOOSE",`^${we[Se.LONETILDE]}${we[Se.XRANGEPLAINLOOSE]}$`);Xe("LONECARET","(?:\\^)");Xe("CARETTRIM",`(\\s*)${we[Se.LONECARET]}\\s+`,!0);Ca.caretTrimReplace="$1^";Xe("CARET",`^${we[Se.LONECARET]}${we[Se.XRANGEPLAIN]}$`);Xe("CARETLOOSE",`^${we[Se.LONECARET]}${we[Se.XRANGEPLAINLOOSE]}$`);Xe("COMPARATORLOOSE",`^${we[Se.GTLT]}\\s*(${we[Se.LOOSEPLAIN]})$|^$`);Xe("COMPARATOR",`^${we[Se.GTLT]}\\s*(${we[Se.FULLPLAIN]})$|^$`);Xe("COMPARATORTRIM",`(\\s*)${we[Se.GTLT]}\\s*(${we[Se.LOOSEPLAIN]}|${we[Se.XRANGEPLAIN]})`,!0);Ca.comparatorTrimReplace="$1$2$3";Xe("HYPHENRANGE",`^\\s*(${we[Se.XRANGEPLAIN]})\\s+-\\s+(${we[Se.XRANGEPLAIN]})\\s*$`);Xe("HYPHENRANGELOOSE",`^\\s*(${we[Se.XRANGEPLAINLOOSE]})\\s+-\\s+(${we[Se.XRANGEPLAINLOOSE]})\\s*$`);Xe("STAR","(<|>)?=?\\s*\\*");Xe("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Xe("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var q1=I((_dt,tq)=>{"use strict";var kSe=Object.freeze({loose:!0}),DSe=Object.freeze({}),PSe=e=>e?typeof e!="object"?kSe:e:DSe;tq.exports=PSe});var tT=I((Idt,sq)=>{"use strict";var rq=/^[0-9]+$/,nq=(e,t)=>{if(typeof e=="number"&&typeof t=="number")return e===t?0:e<t?-1:1;let r=rq.test(e),n=rq.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},OSe=(e,t)=>nq(t,e);sq.exports={compareIdentifiers:nq,rcompareIdentifiers:OSe}});var qn=I((Cdt,aq)=>{"use strict";var j1=ch(),{MAX_LENGTH:iq,MAX_SAFE_INTEGER:H1}=oh(),{safeRe:z1,t:G1}=Zd(),$Se=q1(),{compareIdentifiers:rT}=tT(),nT=class e{constructor(t,r){if(r=$Se(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>iq)throw new TypeError(`version is longer than ${iq} characters`);j1("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?z1[G1.LOOSE]:z1[G1.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>H1||this.major<0)throw new TypeError("Invalid major version");if(this.minor>H1||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>H1||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<H1)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(j1("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),this.major<t.major?-1:this.major>t.major?1:this.minor<t.minor?-1:this.minor>t.minor?1:this.patch<t.patch?-1:this.patch>t.patch?1:0}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],s=t.prerelease[r];if(j1("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return rT(n,s)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{let n=this.build[r],s=t.build[r];if(j1("build compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return rT(n,s)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let s=`-${r}`.match(this.options.loose?z1[G1.PRERELEASELOOSE]:z1[G1.PRERELEASE]);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let i=[r,s];n===!1&&(i=[r]),rT(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};aq.exports=nT});var rl=I((wdt,cq)=>{"use strict";var oq=qn(),LSe=(e,t,r=!1)=>{if(e instanceof oq)return e;try{return new oq(e,t)}catch(n){if(!r)return null;throw n}};cq.exports=LSe});var lq=I((Sdt,uq)=>{"use strict";var MSe=rl(),FSe=(e,t)=>{let r=MSe(e,t);return r?r.version:null};uq.exports=FSe});var fq=I((Tdt,dq)=>{"use strict";var QSe=rl(),USe=(e,t)=>{let r=QSe(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};dq.exports=USe});var mq=I((Bdt,hq)=>{"use strict";var pq=qn(),qSe=(e,t,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new pq(e instanceof pq?e.version:e,r).inc(t,n,s).version}catch{return null}};hq.exports=qSe});var yq=I((Rdt,Aq)=>{"use strict";var gq=rl(),jSe=(e,t)=>{let r=gq(e,null,!0),n=gq(t,null,!0),s=r.compare(n);if(s===0)return null;let i=s>0,a=i?r:n,o=i?n:r,c=!!a.prerelease.length;if(!!o.prerelease.length&&!c){if(!o.patch&&!o.minor)return"major";if(o.compareMain(a)===0)return o.minor&&!o.patch?"minor":"patch"}let l=c?"pre":"";return r.major!==n.major?l+"major":r.minor!==n.minor?l+"minor":r.patch!==n.patch?l+"patch":"prerelease"};Aq.exports=jSe});var Eq=I((Ndt,bq)=>{"use strict";var HSe=qn(),zSe=(e,t)=>new HSe(e,t).major;bq.exports=zSe});var vq=I((kdt,xq)=>{"use strict";var GSe=qn(),VSe=(e,t)=>new GSe(e,t).minor;xq.exports=VSe});var Iq=I((Ddt,_q)=>{"use strict";var KSe=qn(),YSe=(e,t)=>new KSe(e,t).patch;_q.exports=YSe});var wq=I((Pdt,Cq)=>{"use strict";var WSe=rl(),JSe=(e,t)=>{let r=WSe(e,t);return r&&r.prerelease.length?r.prerelease:null};Cq.exports=JSe});var li=I((Odt,Tq)=>{"use strict";var Sq=qn(),XSe=(e,t,r)=>new Sq(e,r).compare(new Sq(t,r));Tq.exports=XSe});var Rq=I(($dt,Bq)=>{"use strict";var ZSe=li(),eTe=(e,t,r)=>ZSe(t,e,r);Bq.exports=eTe});var kq=I((Ldt,Nq)=>{"use strict";var tTe=li(),rTe=(e,t)=>tTe(e,t,!0);Nq.exports=rTe});var V1=I((Mdt,Pq)=>{"use strict";var Dq=qn(),nTe=(e,t,r)=>{let n=new Dq(e,r),s=new Dq(t,r);return n.compare(s)||n.compareBuild(s)};Pq.exports=nTe});var $q=I((Fdt,Oq)=>{"use strict";var sTe=V1(),iTe=(e,t)=>e.sort((r,n)=>sTe(r,n,t));Oq.exports=iTe});var Mq=I((Qdt,Lq)=>{"use strict";var aTe=V1(),oTe=(e,t)=>e.sort((r,n)=>aTe(n,r,t));Lq.exports=oTe});var uh=I((Udt,Fq)=>{"use strict";var cTe=li(),uTe=(e,t,r)=>cTe(e,t,r)>0;Fq.exports=uTe});var K1=I((qdt,Qq)=>{"use strict";var lTe=li(),dTe=(e,t,r)=>lTe(e,t,r)<0;Qq.exports=dTe});var sT=I((jdt,Uq)=>{"use strict";var fTe=li(),pTe=(e,t,r)=>fTe(e,t,r)===0;Uq.exports=pTe});var iT=I((Hdt,qq)=>{"use strict";var hTe=li(),mTe=(e,t,r)=>hTe(e,t,r)!==0;qq.exports=mTe});var Y1=I((zdt,jq)=>{"use strict";var gTe=li(),ATe=(e,t,r)=>gTe(e,t,r)>=0;jq.exports=ATe});var W1=I((Gdt,Hq)=>{"use strict";var yTe=li(),bTe=(e,t,r)=>yTe(e,t,r)<=0;Hq.exports=bTe});var aT=I((Vdt,zq)=>{"use strict";var ETe=sT(),xTe=iT(),vTe=uh(),_Te=Y1(),ITe=K1(),CTe=W1(),wTe=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return ETe(e,r,n);case"!=":return xTe(e,r,n);case">":return vTe(e,r,n);case">=":return _Te(e,r,n);case"<":return ITe(e,r,n);case"<=":return CTe(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};zq.exports=wTe});var Vq=I((Kdt,Gq)=>{"use strict";var STe=qn(),TTe=rl(),{safeRe:J1,t:X1}=Zd(),BTe=(e,t)=>{if(e instanceof STe)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?J1[X1.COERCEFULL]:J1[X1.COERCE]);else{let c=t.includePrerelease?J1[X1.COERCERTLFULL]:J1[X1.COERCERTL],u;for(;(u=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||u.index+u[0].length!==r.index+r[0].length)&&(r=u),c.lastIndex=u.index+u[1].length+u[2].length;c.lastIndex=-1}if(r===null)return null;let n=r[2],s=r[3]||"0",i=r[4]||"0",a=t.includePrerelease&&r[5]?`-${r[5]}`:"",o=t.includePrerelease&&r[6]?`+${r[6]}`:"";return TTe(`${n}.${s}.${i}${a}${o}`,t)};Gq.exports=BTe});var Yq=I((Ydt,Kq)=>{"use strict";var oT=class{constructor(){this.max=1e3,this.map=new Map}get(t){let r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){let s=this.map.keys().next().value;this.delete(s)}this.map.set(t,r)}return this}};Kq.exports=oT});var di=I((Wdt,Zq)=>{"use strict";var RTe=/\s+/g,cT=class e{constructor(t,r){if(r=kTe(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof uT)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().replace(RTe," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!Jq(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&FTe(s[0])){this.set=[s];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");let r=this.set[t];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){let n=((this.options.includePrerelease&&LTe)|(this.options.loose&&MTe))+":"+t,s=Wq.get(n);if(s)return s;let i=this.options.loose,a=i?os[jn.HYPHENRANGELOOSE]:os[jn.HYPHENRANGE];t=t.replace(a,YTe(this.options.includePrerelease)),br("hyphen replace",t),t=t.replace(os[jn.COMPARATORTRIM],PTe),br("comparator trim",t),t=t.replace(os[jn.TILDETRIM],OTe),br("tilde trim",t),t=t.replace(os[jn.CARETTRIM],$Te),br("caret trim",t);let o=t.split(" ").map(d=>QTe(d,this.options)).join(" ").split(/\s+/).map(d=>KTe(d,this.options));i&&(o=o.filter(d=>(br("loose invalid filter",d,this.options),!!d.match(os[jn.COMPARATORLOOSE])))),br("range list",o);let c=new Map,u=o.map(d=>new uT(d,this.options));for(let d of u){if(Jq(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let l=[...c.values()];return Wq.set(n,l),l}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>Xq(n,r)&&t.set.some(s=>Xq(s,r)&&n.every(i=>s.every(a=>i.intersects(a,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new DTe(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(WTe(this.set[r],t,this.options))return!0;return!1}};Zq.exports=cT;var NTe=Yq(),Wq=new NTe,kTe=q1(),uT=lh(),br=ch(),DTe=qn(),{safeRe:os,t:jn,comparatorTrimReplace:PTe,tildeTrimReplace:OTe,caretTrimReplace:$Te}=Zd(),{FLAG_INCLUDE_PRERELEASE:LTe,FLAG_LOOSE:MTe}=oh(),Jq=e=>e.value==="<0.0.0-0",FTe=e=>e.value==="",Xq=(e,t)=>{let r=!0,n=e.slice(),s=n.pop();for(;r&&n.length;)r=n.every(i=>s.intersects(i,t)),s=n.pop();return r},QTe=(e,t)=>(e=e.replace(os[jn.BUILD],""),br("comp",e,t),e=jTe(e,t),br("caret",e),e=UTe(e,t),br("tildes",e),e=zTe(e,t),br("xrange",e),e=VTe(e,t),br("stars",e),e),cs=e=>!e||e.toLowerCase()==="x"||e==="*",UTe=(e,t)=>e.trim().split(/\s+/).map(r=>qTe(r,t)).join(" "),qTe=(e,t)=>{let r=t.loose?os[jn.TILDELOOSE]:os[jn.TILDE];return e.replace(r,(n,s,i,a,o)=>{br("tilde",e,n,s,i,a,o);let c;return cs(s)?c="":cs(i)?c=`>=${s}.0.0 <${+s+1}.0.0-0`:cs(a)?c=`>=${s}.${i}.0 <${s}.${+i+1}.0-0`:o?(br("replaceTilde pr",o),c=`>=${s}.${i}.${a}-${o} <${s}.${+i+1}.0-0`):c=`>=${s}.${i}.${a} <${s}.${+i+1}.0-0`,br("tilde return",c),c})},jTe=(e,t)=>e.trim().split(/\s+/).map(r=>HTe(r,t)).join(" "),HTe=(e,t)=>{br("caret",e,t);let r=t.loose?os[jn.CARETLOOSE]:os[jn.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(s,i,a,o,c)=>{br("caret",e,s,i,a,o,c);let u;return cs(i)?u="":cs(a)?u=`>=${i}.0.0${n} <${+i+1}.0.0-0`:cs(o)?i==="0"?u=`>=${i}.${a}.0${n} <${i}.${+a+1}.0-0`:u=`>=${i}.${a}.0${n} <${+i+1}.0.0-0`:c?(br("replaceCaret pr",c),i==="0"?a==="0"?u=`>=${i}.${a}.${o}-${c} <${i}.${a}.${+o+1}-0`:u=`>=${i}.${a}.${o}-${c} <${i}.${+a+1}.0-0`:u=`>=${i}.${a}.${o}-${c} <${+i+1}.0.0-0`):(br("no pr"),i==="0"?a==="0"?u=`>=${i}.${a}.${o}${n} <${i}.${a}.${+o+1}-0`:u=`>=${i}.${a}.${o}${n} <${i}.${+a+1}.0-0`:u=`>=${i}.${a}.${o} <${+i+1}.0.0-0`),br("caret return",u),u})},zTe=(e,t)=>(br("replaceXRanges",e,t),e.split(/\s+/).map(r=>GTe(r,t)).join(" ")),GTe=(e,t)=>{e=e.trim();let r=t.loose?os[jn.XRANGELOOSE]:os[jn.XRANGE];return e.replace(r,(n,s,i,a,o,c)=>{br("xRange",e,n,s,i,a,o,c);let u=cs(i),l=u||cs(a),d=l||cs(o),f=d;return s==="="&&f&&(s=""),c=t.includePrerelease?"-0":"",u?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&f?(l&&(a=0),o=0,s===">"?(s=">=",l?(i=+i+1,a=0,o=0):(a=+a+1,o=0)):s==="<="&&(s="<",l?i=+i+1:a=+a+1),s==="<"&&(c="-0"),n=`${s+i}.${a}.${o}${c}`):l?n=`>=${i}.0.0${c} <${+i+1}.0.0-0`:d&&(n=`>=${i}.${a}.0${c} <${i}.${+a+1}.0-0`),br("xRange return",n),n})},VTe=(e,t)=>(br("replaceStars",e,t),e.trim().replace(os[jn.STAR],"")),KTe=(e,t)=>(br("replaceGTE0",e,t),e.trim().replace(os[t.includePrerelease?jn.GTE0PRE:jn.GTE0],"")),YTe=e=>(t,r,n,s,i,a,o,c,u,l,d,f)=>(cs(n)?r="":cs(s)?r=`>=${n}.0.0${e?"-0":""}`:cs(i)?r=`>=${n}.${s}.0${e?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,cs(u)?c="":cs(l)?c=`<${+u+1}.0.0-0`:cs(d)?c=`<${u}.${+l+1}.0-0`:f?c=`<=${u}.${l}.${d}-${f}`:e?c=`<${u}.${l}.${+d+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),WTe=(e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(br(e[n].semver),e[n].semver!==uT.ANY&&e[n].semver.prerelease.length>0){let s=e[n].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}});var lh=I((Jdt,ij)=>{"use strict";var dh=Symbol("SemVer ANY"),fT=class e{static get ANY(){return dh}constructor(t,r){if(r=ej(r),t instanceof e){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),dT("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===dh?this.value="":this.value=this.operator+this.semver.version,dT("comp",this)}parse(t){let r=this.options.loose?tj[rj.COMPARATORLOOSE]:tj[rj.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new nj(n[2],this.options.loose):this.semver=dh}toString(){return this.value}test(t){if(dT("Comparator.test",t,this.options.loose),this.semver===dh||t===dh)return!0;if(typeof t=="string")try{t=new nj(t,this.options)}catch{return!1}return lT(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new sj(t.value,r).test(this.value):t.operator===""?t.value===""?!0:new sj(this.value,r).test(t.semver):(r=ej(r),r.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||lT(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||lT(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};ij.exports=fT;var ej=q1(),{safeRe:tj,t:rj}=Zd(),lT=aT(),dT=ch(),nj=qn(),sj=di()});var fh=I((Xdt,aj)=>{"use strict";var JTe=di(),XTe=(e,t,r)=>{try{t=new JTe(t,r)}catch{return!1}return t.test(e)};aj.exports=XTe});var cj=I((Zdt,oj)=>{"use strict";var ZTe=di(),e3e=(e,t)=>new ZTe(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));oj.exports=e3e});var lj=I((eft,uj)=>{"use strict";var t3e=qn(),r3e=di(),n3e=(e,t,r)=>{let n=null,s=null,i=null;try{i=new r3e(t,r)}catch{return null}return e.forEach(a=>{i.test(a)&&(!n||s.compare(a)===-1)&&(n=a,s=new t3e(n,r))}),n};uj.exports=n3e});var fj=I((tft,dj)=>{"use strict";var s3e=qn(),i3e=di(),a3e=(e,t,r)=>{let n=null,s=null,i=null;try{i=new i3e(t,r)}catch{return null}return e.forEach(a=>{i.test(a)&&(!n||s.compare(a)===1)&&(n=a,s=new s3e(n,r))}),n};dj.exports=a3e});var mj=I((rft,hj)=>{"use strict";var pT=qn(),o3e=di(),pj=uh(),c3e=(e,t)=>{e=new o3e(e,t);let r=new pT("0.0.0");if(e.test(r)||(r=new pT("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let s=e.set[n],i=null;s.forEach(a=>{let o=new pT(a.semver.version);switch(a.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!i||pj(o,i))&&(i=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),i&&(!r||pj(r,i))&&(r=i)}return r&&e.test(r)?r:null};hj.exports=c3e});var Aj=I((nft,gj)=>{"use strict";var u3e=di(),l3e=(e,t)=>{try{return new u3e(e,t).range||"*"}catch{return null}};gj.exports=l3e});var Z1=I((sft,xj)=>{"use strict";var d3e=qn(),Ej=lh(),{ANY:f3e}=Ej,p3e=di(),h3e=fh(),yj=uh(),bj=K1(),m3e=W1(),g3e=Y1(),A3e=(e,t,r,n)=>{e=new d3e(e,n),t=new p3e(t,n);let s,i,a,o,c;switch(r){case">":s=yj,i=m3e,a=bj,o=">",c=">=";break;case"<":s=bj,i=g3e,a=yj,o="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(h3e(e,t,n))return!1;for(let u=0;u<t.set.length;++u){let l=t.set[u],d=null,f=null;if(l.forEach(h=>{h.semver===f3e&&(h=new Ej(">=0.0.0")),d=d||h,f=f||h,s(h.semver,d.semver,n)?d=h:a(h.semver,f.semver,n)&&(f=h)}),d.operator===o||d.operator===c||(!f.operator||f.operator===o)&&i(e,f.semver))return!1;if(f.operator===c&&a(e,f.semver))return!1}return!0};xj.exports=A3e});var _j=I((ift,vj)=>{"use strict";var y3e=Z1(),b3e=(e,t,r)=>y3e(e,t,">",r);vj.exports=b3e});var Cj=I((aft,Ij)=>{"use strict";var E3e=Z1(),x3e=(e,t,r)=>E3e(e,t,"<",r);Ij.exports=x3e});var Tj=I((oft,Sj)=>{"use strict";var wj=di(),v3e=(e,t,r)=>(e=new wj(e,r),t=new wj(t,r),e.intersects(t,r));Sj.exports=v3e});var Rj=I((cft,Bj)=>{"use strict";var _3e=fh(),I3e=li();Bj.exports=(e,t,r)=>{let n=[],s=null,i=null,a=e.sort((l,d)=>I3e(l,d,r));for(let l of a)_3e(l,t,r)?(i=l,s||(s=l)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);let o=[];for(let[l,d]of n)l===d?o.push(l):!d&&l===a[0]?o.push("*"):d?l===a[0]?o.push(`<=${d}`):o.push(`${l} - ${d}`):o.push(`>=${l}`);let c=o.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return c.length<u.length?c:t}});var $j=I((uft,Oj)=>{"use strict";var Nj=di(),mT=lh(),{ANY:hT}=mT,ph=fh(),gT=li(),C3e=(e,t,r={})=>{if(e===t)return!0;e=new Nj(e,r),t=new Nj(t,r);let n=!1;e:for(let s of e.set){for(let i of t.set){let a=S3e(s,i,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},w3e=[new mT(">=0.0.0-0")],kj=[new mT(">=0.0.0")],S3e=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===hT){if(t.length===1&&t[0].semver===hT)return!0;r.includePrerelease?e=w3e:e=kj}if(t.length===1&&t[0].semver===hT){if(r.includePrerelease)return!0;t=kj}let n=new Set,s,i;for(let h of e)h.operator===">"||h.operator===">="?s=Dj(s,h,r):h.operator==="<"||h.operator==="<="?i=Pj(i,h,r):n.add(h.semver);if(n.size>1)return null;let a;if(s&&i){if(a=gT(s.semver,i.semver,r),a>0)return null;if(a===0&&(s.operator!==">="||i.operator!=="<="))return null}for(let h of n){if(s&&!ph(h,String(s),r)||i&&!ph(h,String(i),r))return null;for(let p of t)if(!ph(h,String(p),r))return!1;return!0}let o,c,u,l,d=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,f=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;d&&d.prerelease.length===1&&i.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let h of t){if(l=l||h.operator===">"||h.operator===">=",u=u||h.operator==="<"||h.operator==="<=",s){if(f&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===f.major&&h.semver.minor===f.minor&&h.semver.patch===f.patch&&(f=!1),h.operator===">"||h.operator===">="){if(o=Dj(s,h,r),o===h&&o!==s)return!1}else if(s.operator===">="&&!ph(s.semver,String(h),r))return!1}if(i){if(d&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===d.major&&h.semver.minor===d.minor&&h.semver.patch===d.patch&&(d=!1),h.operator==="<"||h.operator==="<="){if(c=Pj(i,h,r),c===h&&c!==i)return!1}else if(i.operator==="<="&&!ph(i.semver,String(h),r))return!1}if(!h.operator&&(i||s)&&a!==0)return!1}return!(s&&u&&!i&&a!==0||i&&l&&!s&&a!==0||f||d)},Dj=(e,t,r)=>{if(!e)return t;let n=gT(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},Pj=(e,t,r)=>{if(!e)return t;let n=gT(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};Oj.exports=C3e});var yT=I((lft,Fj)=>{"use strict";var AT=Zd(),Lj=oh(),T3e=qn(),Mj=tT(),B3e=rl(),R3e=lq(),N3e=fq(),k3e=mq(),D3e=yq(),P3e=Eq(),O3e=vq(),$3e=Iq(),L3e=wq(),M3e=li(),F3e=Rq(),Q3e=kq(),U3e=V1(),q3e=$q(),j3e=Mq(),H3e=uh(),z3e=K1(),G3e=sT(),V3e=iT(),K3e=Y1(),Y3e=W1(),W3e=aT(),J3e=Vq(),X3e=lh(),Z3e=di(),eBe=fh(),tBe=cj(),rBe=lj(),nBe=fj(),sBe=mj(),iBe=Aj(),aBe=Z1(),oBe=_j(),cBe=Cj(),uBe=Tj(),lBe=Rj(),dBe=$j();Fj.exports={parse:B3e,valid:R3e,clean:N3e,inc:k3e,diff:D3e,major:P3e,minor:O3e,patch:$3e,prerelease:L3e,compare:M3e,rcompare:F3e,compareLoose:Q3e,compareBuild:U3e,sort:q3e,rsort:j3e,gt:H3e,lt:z3e,eq:G3e,neq:V3e,gte:K3e,lte:Y3e,cmp:W3e,coerce:J3e,Comparator:X3e,Range:Z3e,satisfies:eBe,toComparators:tBe,maxSatisfying:rBe,minSatisfying:nBe,minVersion:sBe,validRange:iBe,outside:aBe,gtr:oBe,ltr:cBe,intersects:uBe,simplifyRange:lBe,subset:dBe,SemVer:T3e,re:AT.re,src:AT.src,tokens:AT.t,SEMVER_SPEC_VERSION:Lj.SEMVER_SPEC_VERSION,RELEASE_TYPES:Lj.RELEASE_TYPES,compareIdentifiers:Mj.compareIdentifiers,rcompareIdentifiers:Mj.rcompareIdentifiers}});var tb=I((dft,vT)=>{"use strict";var eb=J7(),fBe=yT(),{FSTDEP005:pBe,FSTDEP012:hBe,FSTDEP015:mBe,FSTDEP016:gBe,FSTDEP017:ABe,FSTDEP018:yBe}=oo(),{kHasBeenDecorated:bBe,kSchemaBody:EBe,kSchemaHeaders:xBe,kSchemaParams:vBe,kSchemaQuerystring:Qj,kSchemaController:bT,kOptions:_Be,kRequestCacheValidateFns:Ic,kRouteContext:Ur,kPublicRouteContext:Uj,kRequestOriginalUrl:ET}=cn(),{FST_ERR_REQ_INVALID_VALIDATION_INVOCATION:IBe}=Ln(),qj={body:EBe,headers:xBe,params:vBe,querystring:Qj,query:Qj};function xT(e,t,r,n,s,i){this.id=e,this[Ur]=i,this.params=t,this.raw=r,this.query=n,this.log=s,this.body=void 0}xT.props=[];function CBe(e){if(typeof e=="function")return e;if(e===!0)return function(){return!0};if(typeof e=="number")return function(t,r){return r<e};if(typeof e=="string"){let t=e.split(",").map(r=>r.trim());return eb.compile(t)}return eb.compile(e)}function wBe(e,t){return t?SBe(e,t):Hj(e)}function Hj(e){let t=e.props.slice();function r(n,s,i,a,o,c){this.id=n,this[Ur]=c,this.params=s,this.raw=i,this.query=a,this.log=o,this.body=void 0;for(var u,l=0;l<t.length;l++)u=t[l],this[u.key]=u.value}return Object.setPrototypeOf(r.prototype,e.prototype),Object.setPrototypeOf(r,e),r.props=t,r.parent=e,r}function jj(e){let t=e.lastIndexOf(",");return t===-1?e.trim():e.slice(t+1).trim()}function SBe(e,t){let r=Hj(e),n=CBe(t);return r[bBe]=!0,Object.defineProperties(r.prototype,{ip:{get(){return eb(this.raw,n)}},ips:{get(){return eb.all(this.raw,n)}},hostname:{get(){return this.ip!==void 0&&this.headers["x-forwarded-host"]?jj(this.headers["x-forwarded-host"]):this.headers.host||this.headers[":authority"]}},protocol:{get(){if(this.headers["x-forwarded-proto"])return jj(this.headers["x-forwarded-proto"]);if(this.socket)return this.socket.encrypted?"https":"http"}}}),r}Object.defineProperties(xT.prototype,{server:{get(){return this[Ur].server}},url:{get(){return this.raw.url}},originalUrl:{get(){return this[ET]||(this[ET]=this.raw.originalUrl||this.raw.url),this[ET]}},method:{get(){return this.raw.method}},context:{get(){return hBe(),this[Ur]}},routerPath:{get(){return ABe(),this[Ur].config?.url}},routeOptions:{get(){let e=this[Ur],t=e._parserOptions.limit,r=e.server.initialConfig.bodyLimit,n=e.server.hasConstraintStrategy("version")?this.raw.headers["accept-version"]:void 0,s={method:e.config?.method,url:e.config?.url,bodyLimit:t||r,attachValidation:e.attachValidation,logLevel:e.logLevel,exposeHeadRoute:e.exposeHeadRoute,prefixTrailingSlash:e.prefixTrailingSlash,handler:e.handler,version:n};return Object.defineProperties(s,{config:{get:()=>e.config},schema:{get:()=>e.schema}}),Object.freeze(s)}},routerMethod:{get(){return yBe(),this[Ur].config?.method}},routeConfig:{get(){return gBe(),this[Ur][Uj]?.config}},routeSchema:{get(){return mBe(),this[Ur][Uj].schema}},is404:{get(){return this[Ur].config?.url===void 0}},connection:{get(){return fBe.gte(process.versions.node,"13.0.0")&&pBe(),this.raw.connection}},socket:{get(){return this.raw.socket}},ip:{get(){if(this.socket)return this.socket.remoteAddress}},hostname:{get(){return this.raw.headers.host||this.raw.headers[":authority"]}},protocol:{get(){if(this.socket)return this.socket.encrypted?"https":"http"}},headers:{get(){return this.additionalHeaders?Object.assign({},this.raw.headers,this.additionalHeaders):this.raw.headers},set(e){this.additionalHeaders=e}},getValidationFunction:{value:function(e){if(typeof e=="string"){let t=qj[e];return this[Ur][t]}else if(typeof e=="object")return this[Ur][Ic]?.get(e)}},compileValidationSchema:{value:function(e,t=null){let{method:r,url:n}=this;if(this[Ur][Ic]?.has(e))return this[Ur][Ic].get(e);let i=(this[Ur].validatorCompiler||this.server[bT].validatorCompiler||this.server[bT].setupValidator(this.server[_Be])||this.server[bT].validatorCompiler)({schema:e,method:r,url:n,httpPart:t});return this[Ur][Ic]==null&&(this[Ur][Ic]=new WeakMap),this[Ur][Ic].set(e,i),i}},validateInput:{value:function(e,t,r){r=typeof t=="string"?t:r;let n=r!=null&&typeof r=="string"&&qj[r],s;if(n&&(s=this[Ur][n]),s==null&&(t==null||typeof t!="object"||Array.isArray(t)))throw new IBe(r);return s==null&&(this[Ur][Ic]?.has(t)?s=this[Ur][Ic].get(t):s=this.compileValidationSchema(t,r)),s(e)}}});vT.exports=xT;vT.exports.buildRequest=wBe});var rb=I((fft,zj)=>{"use strict";var{kFourOhFourContext:TBe,kReplySerializerDefault:BBe,kSchemaErrorFormatter:RBe,kErrorHandler:NBe,kChildLoggerFactory:kBe,kOptions:DBe,kReply:PBe,kRequest:OBe,kBodyLimit:$Be,kLogLevel:LBe,kContentTypeParser:MBe,kRouteByFastify:FBe,kRequestCacheValidateFns:QBe,kReplyCacheSerializeFns:UBe,kPublicRouteContext:qBe}=cn();function jBe({schema:e,handler:t,config:r,requestIdLogLabel:n,childLoggerFactory:s,errorHandler:i,bodyLimit:a,logLevel:o,logSerializers:c,attachValidation:u,validatorCompiler:l,serializerCompiler:d,replySerializer:f,schemaErrorFormatter:h,exposeHeadRoute:p,prefixTrailingSlash:m,server:A,isFastify:g}){this.schema=e,this.handler=t,this.Reply=A[PBe],this.Request=A[OBe],this.contentTypeParser=A[MBe],this.onRequest=null,this.onSend=null,this.onError=null,this.onTimeout=null,this.preHandler=null,this.onResponse=null,this.preSerialization=null,this.onRequestAbort=null,this.config=r,this.errorHandler=i||A[NBe],this.requestIdLogLabel=n||A[DBe].requestIdLogLabel,this.childLoggerFactory=s||A[kBe],this._middie=null,this._parserOptions={limit:a||A[$Be]},this.exposeHeadRoute=p,this.prefixTrailingSlash=m,this.logLevel=o||A[LBe],this.logSerializers=c,this[TBe]=null,this.attachValidation=u,this[BBe]=f,this.schemaErrorFormatter=h||A[RBe]||zBe,this[FBe]=g,this[QBe]=null,this[UBe]=null,this.validatorCompiler=l||null,this.serializerCompiler=d||null,this[qBe]=HBe(this),this.server=A}function HBe(e){return Object.create(null,{schema:{enumerable:!0,get(){return e.schema}},config:{enumerable:!0,get(){return e.config}}})}function zBe(e,t){let r="",n=", ";for(var s=0;s!==e.length;++s){let i=e[s];r+=t+(i.instancePath||"")+" "+i.message+n}return new Error(r.slice(0,-n.length))}zj.exports=jBe});var _T=I((pft,Gj)=>{"use strict";Gj.exports={supportedMethods:["DELETE","GET","HEAD","PATCH","POST","PUT","OPTIONS","PROPFIND","PROPPATCH","MKCOL","COPY","MOVE","LOCK","UNLOCK","TRACE","SEARCH"]}});var TT=I((hft,Wj)=>{"use strict";var{kReply:IT,kRequest:CT,kState:GBe,kHasBeenDecorated:VBe}=cn(),{FST_ERR_DEC_ALREADY_PRESENT:Vj,FST_ERR_DEC_MISSING_DEPENDENCY:KBe,FST_ERR_DEC_AFTER_START:YBe,FST_ERR_DEC_DEPENDENCY_INVALID_TYPE:WBe}=Ln(),{FSTDEP006:JBe}=oo();function XBe(e,t,r,n){if(Object.prototype.hasOwnProperty.call(e,t))throw new Vj(t);wT(e,t,n),r&&(typeof r.getter=="function"||typeof r.setter=="function")?Object.defineProperty(e,t,{get:r.getter,set:r.setter}):e[t]=r}function Kj(e,t,r,n){let s=e.prototype;if(Object.prototype.hasOwnProperty.call(s,t)||sb(e,t))throw new Vj(t);e[VBe]=!0,wT(e,t,n),r&&(typeof r.getter=="function"||typeof r.setter=="function")?Object.defineProperty(s,t,{get:r.getter,set:r.setter}):typeof r=="function"?s[t]=r:e.props.push({key:t,value:r})}function Yj(e,t){typeof t=="object"&&t&&!(typeof t.getter=="function"||typeof t.setter=="function")&&JBe(e)}function ZBe(e,t,r){return ST(this,e),XBe(this,e,t,r),this}function nb(e,t){return t?t in e||e.prototype&&t in e.prototype||sb(e,t):e in this}function sb(e,t){return e.props?e.props.find(({key:r})=>r===t):!1}function e4e(e){return e&&sb(this[CT],e)?!0:nb(this[CT].prototype,e)}function t4e(e){return e&&sb(this[IT],e)?!0:nb(this[IT].prototype,e)}function wT(e,t,r){if(r!=null){if(!Array.isArray(r))throw new WBe(t);for(var n=0;n!==r.length;++n)if(!nb(e,r[n]))throw new KBe(r[n])}}function r4e(e,t,r){return ST(this,e),Yj(e,t),Kj(this[IT],e,t,r),this}function n4e(e,t,r){return ST(this,e),Yj(e,t),Kj(this[CT],e,t,r),this}function ST(e,t){if(e[GBe].started)throw new YBe(t)}Wj.exports={add:ZBe,exist:nb,existRequest:e4e,existReply:t4e,dependencies:wT,decorateReply:r4e,decorateRequest:n4e}});var Xj=I(wa=>{"use strict";var BT=class{constructor(t=1e3,r=0){if(isNaN(t)||t<0)throw new Error("Invalid max value");if(isNaN(r)||r<0)throw new Error("Invalid ttl value");this.first=null,this.items=new Map,this.last=null,this.max=t,this.ttl=r}get size(){return this.items.size}clear(){this.items=new Map,this.first=null,this.last=null}delete(t){if(this.items.has(t)){let r=this.items.get(t);this.items.delete(t),r.prev!==null&&(r.prev.next=r.next),r.next!==null&&(r.next.prev=r.prev),this.first===r&&(this.first=r.next),this.last===r&&(this.last=r.prev)}}deleteMany(t){for(var r=0;r<t.length;r++)this.delete(t[r])}evict(){if(this.size>0){let t=this.first;this.items.delete(t.key),this.size===0?(this.first=null,this.last=null):(this.first=t.next,this.first.prev=null)}}expiresAt(t){if(this.items.has(t))return this.items.get(t).expiry}get(t){if(this.items.has(t)){let r=this.items.get(t);if(this.ttl>0&&r.expiry<=Date.now()){this.delete(t);return}return r.value}}getMany(t){let r=[];for(var n=0;n<t.length;n++)r.push(this.get(t[n]));return r}keys(){return this.items.keys()}set(t,r){if(this.items.has(t)){let s=this.items.get(t);s.value=r,s.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl;return}this.max>0&&this.size===this.max&&this.evict();let n={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:t,prev:this.last,next:null,value:r};this.items.set(t,n),this.size===1?this.first=n:this.last.next=n,this.last=n}},RT=class{constructor(t=1e3,r=0){if(isNaN(t)||t<0)throw new Error("Invalid max value");if(isNaN(r)||r<0)throw new Error("Invalid ttl value");this.first=null,this.items=new Map,this.last=null,this.max=t,this.ttl=r}get size(){return this.items.size}bumpLru(t){if(this.last===t)return;let r=this.last,n=t.next,s=t.prev;this.first===t&&(this.first=n),t.next=null,t.prev=r,r.next=t,s!==null&&(s.next=n),n!==null&&(n.prev=s),this.last=t}clear(){this.items=new Map,this.first=null,this.last=null}delete(t){if(this.items.has(t)){let r=this.items.get(t);this.items.delete(t),r.prev!==null&&(r.prev.next=r.next),r.next!==null&&(r.next.prev=r.prev),this.first===r&&(this.first=r.next),this.last===r&&(this.last=r.prev)}}deleteMany(t){for(var r=0;r<t.length;r++)this.delete(t[r])}evict(){if(this.size>0){let t=this.first;this.items.delete(t.key),this.size===0?(this.first=null,this.last=null):(this.first=t.next,this.first.prev=null)}}expiresAt(t){if(this.items.has(t))return this.items.get(t).expiry}get(t){if(this.items.has(t)){let r=this.items.get(t);if(this.ttl>0&&r.expiry<=Date.now()){this.delete(t);return}return this.bumpLru(r),r.value}}getMany(t){let r=[];for(var n=0;n<t.length;n++)r.push(this.get(t[n]));return r}keys(){return this.items.keys()}set(t,r){if(this.items.has(t)){let s=this.items.get(t);s.value=r,s.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl,this.last!==s&&this.bumpLru(s);return}this.max>0&&this.size===this.max&&this.evict();let n={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:t,prev:this.last,next:null,value:r};this.items.set(t,n),this.size===1?this.first=n:this.last.next=n,this.last=n}},hh=class{constructor(t=1e3,r=0){if(isNaN(t)||t<0)throw new Error("Invalid max value");if(isNaN(r)||r<0)throw new Error("Invalid ttl value");this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this.max=t,this.ttl=r}bumpLru(t){if(this.last===t)return;let r=this.last,n=t.next,s=t.prev;this.first===t&&(this.first=n),t.next=null,t.prev=r,r.next=t,s!==null&&(s.next=n),n!==null&&(n.prev=s),this.last=t}clear(){this.items=Object.create(null),this.first=null,this.last=null,this.size=0}delete(t){if(Object.prototype.hasOwnProperty.call(this.items,t)){let r=this.items[t];delete this.items[t],this.size--,r.prev!==null&&(r.prev.next=r.next),r.next!==null&&(r.next.prev=r.prev),this.first===r&&(this.first=r.next),this.last===r&&(this.last=r.prev)}}deleteMany(t){for(var r=0;r<t.length;r++)this.delete(t[r])}evict(){if(this.size>0){let t=this.first;delete this.items[t.key],--this.size===0?(this.first=null,this.last=null):(this.first=t.next,this.first.prev=null)}}expiresAt(t){if(Object.prototype.hasOwnProperty.call(this.items,t))return this.items[t].expiry}get(t){if(Object.prototype.hasOwnProperty.call(this.items,t)){let r=this.items[t];if(this.ttl>0&&r.expiry<=Date.now()){this.delete(t);return}return this.bumpLru(r),r.value}}getMany(t){let r=[];for(var n=0;n<t.length;n++)r.push(this.get(t[n]));return r}keys(){return Object.keys(this.items)}set(t,r){if(Object.prototype.hasOwnProperty.call(this.items,t)){let s=this.items[t];s.value=r,s.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl,this.last!==s&&this.bumpLru(s);return}this.max>0&&this.size===this.max&&this.evict();let n={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:t,prev:this.last,next:null,value:r};this.items[t]=n,++this.size===1?this.first=n:this.last.next=n,this.last=n}},ib=class{constructor(){this.records={}}initForCache(t,r){this.records[t]={[r]:{cacheSize:0,hits:0,falsyHits:0,emptyHits:0,misses:0,expirations:0,evictions:0,invalidateOne:0,invalidateAll:0,sets:0}}}resetForCache(t){for(let r of Object.keys(this.records[t]))this.records[t][r]={cacheSize:0,hits:0,falsyHits:0,emptyHits:0,misses:0,expirations:0,evictions:0,invalidateOne:0,invalidateAll:0,sets:0}}getStatistics(){return this.records}};function Jj(e){return`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`}var NT=class{constructor(t,r,n){this.cacheId=t,this.statisticTtlInHours=r,this.collectionStart=new Date,this.currentTimeStamp=Jj(this.collectionStart),this.records=n||new ib,this.records.initForCache(this.cacheId,this.currentTimeStamp)}get currentRecord(){return this.records.records[this.cacheId][this.currentTimeStamp]||(this.records.records[this.cacheId][this.currentTimeStamp]={cacheSize:0,hits:0,falsyHits:0,emptyHits:0,misses:0,expirations:0,evictions:0,sets:0,invalidateOne:0,invalidateAll:0}),this.records.records[this.cacheId][this.currentTimeStamp]}hoursPassed(){return(Date.now()-this.collectionStart)/1e3/60/60}addHit(){this.archiveIfNeeded(),this.currentRecord.hits++}addFalsyHit(){this.archiveIfNeeded(),this.currentRecord.falsyHits++}addEmptyHit(){this.archiveIfNeeded(),this.currentRecord.emptyHits++}addMiss(){this.archiveIfNeeded(),this.currentRecord.misses++}addEviction(){this.archiveIfNeeded(),this.currentRecord.evictions++}setCacheSize(t){this.archiveIfNeeded(),this.currentRecord.cacheSize=t}addExpiration(){this.archiveIfNeeded(),this.currentRecord.expirations++}addSet(){this.archiveIfNeeded(),this.currentRecord.sets++}addInvalidateOne(){this.archiveIfNeeded(),this.currentRecord.invalidateOne++}addInvalidateAll(){this.archiveIfNeeded(),this.currentRecord.invalidateAll++}getStatistics(){return this.records.getStatistics()}archiveIfNeeded(){this.hoursPassed()>=this.statisticTtlInHours&&(this.collectionStart=new Date,this.currentTimeStamp=Jj(this.collectionStart),this.records.initForCache(this.cacheId,this.currentTimeStamp))}},ab=class extends hh{constructor(t,r,n,s,i){if(super(t||1e3,r||0),!n)throw new Error("Cache id is mandatory");this.hitStatistics=new NT(n,i!==void 0?i:24,s)}getStatistics(){return this.hitStatistics.getStatistics()}set(t,r){super.set(t,r),this.hitStatistics.addSet(),this.hitStatistics.setCacheSize(this.size)}evict(){super.evict(),this.hitStatistics.addEviction(),this.hitStatistics.setCacheSize(this.size)}delete(t,r=!1){super.delete(t),r||this.hitStatistics.addInvalidateOne(),this.hitStatistics.setCacheSize(this.size)}clear(){super.clear(),this.hitStatistics.addInvalidateAll(),this.hitStatistics.setCacheSize(this.size)}get(t){if(Object.prototype.hasOwnProperty.call(this.items,t)){let r=this.items[t];if(this.ttl>0&&r.expiry<=Date.now()){this.delete(t,!0),this.hitStatistics.addExpiration();return}return this.bumpLru(r),r.value||this.hitStatistics.addFalsyHit(),(r.value===void 0||r.value===null||r.value==="")&&this.hitStatistics.addEmptyHit(),this.hitStatistics.addHit(),r.value}this.hitStatistics.addMiss()}},ob=class{constructor(t=1e3,r=0){if(isNaN(t)||t<0)throw new Error("Invalid max value");if(isNaN(r)||r<0)throw new Error("Invalid ttl value");this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this.max=t,this.ttl=r}clear(){this.items=Object.create(null),this.first=null,this.last=null,this.size=0}delete(t){if(Object.prototype.hasOwnProperty.call(this.items,t)){let r=this.items[t];delete this.items[t],this.size--,r.prev!==null&&(r.prev.next=r.next),r.next!==null&&(r.next.prev=r.prev),this.first===r&&(this.first=r.next),this.last===r&&(this.last=r.prev)}}deleteMany(t){for(var r=0;r<t.length;r++)this.delete(t[r])}evict(){if(this.size>0){let t=this.first;delete this.items[t.key],--this.size===0?(this.first=null,this.last=null):(this.first=t.next,this.first.prev=null)}}expiresAt(t){if(Object.prototype.hasOwnProperty.call(this.items,t))return this.items[t].expiry}get(t){if(Object.prototype.hasOwnProperty.call(this.items,t)){let r=this.items[t];if(this.ttl>0&&r.expiry<=Date.now()){this.delete(t);return}return r.value}}getMany(t){let r=[];for(var n=0;n<t.length;n++)r.push(this.get(t[n]));return r}keys(){return Object.keys(this.items)}set(t,r){if(Object.prototype.hasOwnProperty.call(this.items,t)){let s=this.items[t];s.value=r,s.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl;return}this.max>0&&this.size===this.max&&this.evict();let n={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:t,prev:this.last,next:null,value:r};this.items[t]=n,++this.size===1?this.first=n:this.last.next=n,this.last=n}};wa.Fifo=ob;wa.FifoMap=BT;wa.FifoObject=ob;wa.HitStatisticsRecord=ib;wa.Lru=hh;wa.LruHitStatistics=ab;wa.LruMap=RT;wa.LruObject=hh;wa.LruObjectHitStatistics=ab});var rH=I((gft,mh)=>{"use strict";var lb=function(){};lb.prototype=Object.create(null);var cb=/; *([!#$%&'*+.^\w`|~-]+)=("(?:[\v\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\v\u0020-\u00ff])*"|[!#$%&'*+.^\w`|~-]+) */gu,ub=/\\([\v\u0020-\u00ff])/gu,Zj=/^[!#$%&'*+.^\w|~-]+\/[!#$%&'*+.^\w|~-]+$/u,nl={type:"",parameters:new lb};Object.freeze(nl.parameters);Object.freeze(nl);function eH(e){if(typeof e!="string")throw new TypeError("argument header is required and must be a string");let t=e.indexOf(";"),r=t!==-1?e.slice(0,t).trim():e.trim();if(Zj.test(r)===!1)throw new TypeError("invalid media type");let n={type:r.toLowerCase(),parameters:new lb};if(t===-1)return n;let s,i,a;for(cb.lastIndex=t;i=cb.exec(e);){if(i.index!==t)throw new TypeError("invalid parameter format");t+=i[0].length,s=i[1].toLowerCase(),a=i[2],a[0]==='"'&&(a=a.slice(1,a.length-1),ub.test(a)&&(a=a.replace(ub,"$1"))),n.parameters[s]=a}if(t!==e.length)throw new TypeError("invalid parameter format");return n}function tH(e){if(typeof e!="string")return nl;let t=e.indexOf(";"),r=t!==-1?e.slice(0,t).trim():e.trim();if(Zj.test(r)===!1)return nl;let n={type:r.toLowerCase(),parameters:new lb};if(t===-1)return n;let s,i,a;for(cb.lastIndex=t;i=cb.exec(e);){if(i.index!==t)return nl;t+=i[0].length,s=i[1].toLowerCase(),a=i[2],a[0]==='"'&&(a=a.slice(1,a.length-1),ub.test(a)&&(a=a.replace(ub,"$1"))),n.parameters[s]=a}return t!==e.length?nl:n}mh.exports.default={parse:eH,safeParse:tH};mh.exports.parse=eH;mh.exports.safeParse=tH;mh.exports.defaultContentType=nl});var oH=I((Aft,ef)=>{"use strict";var s4e=typeof Buffer<"u",nH=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,sH=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function iH(e,t,r){r==null&&t!==null&&typeof t=="object"&&(r=t,t=void 0),s4e&&Buffer.isBuffer(e)&&(e=e.toString()),e&&e.charCodeAt(0)===65279&&(e=e.slice(1));let n=JSON.parse(e,t);if(n===null||typeof n!="object")return n;let s=r&&r.protoAction||"error",i=r&&r.constructorAction||"error";if(s==="ignore"&&i==="ignore")return n;if(s!=="ignore"&&i!=="ignore"){if(nH.test(e)===!1&&sH.test(e)===!1)return n}else if(s!=="ignore"&&i==="ignore"){if(nH.test(e)===!1)return n}else if(sH.test(e)===!1)return n;return aH(n,{protoAction:s,constructorAction:i,safe:r&&r.safe})}function aH(e,{protoAction:t="error",constructorAction:r="error",safe:n}={}){let s=[e];for(;s.length;){let i=s;s=[];for(let a of i){if(t!=="ignore"&&Object.prototype.hasOwnProperty.call(a,"__proto__")){if(n===!0)return null;if(t==="error")throw new SyntaxError("Object contains forbidden prototype property");delete a.__proto__}if(r!=="ignore"&&Object.prototype.hasOwnProperty.call(a,"constructor")&&Object.prototype.hasOwnProperty.call(a.constructor,"prototype")){if(n===!0)return null;if(r==="error")throw new SyntaxError("Object contains forbidden prototype property");delete a.constructor}for(let o in a){let c=a[o];c&&typeof c=="object"&&s.push(c)}}}return e}function kT(e,t,r){let n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return iH(e,t,r)}finally{Error.stackTraceLimit=n}}function i4e(e,t){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return iH(e,t,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=r}}ef.exports=kT;ef.exports.default=kT;ef.exports.parse=kT;ef.exports.safeParse=i4e;ef.exports.scan=aH});var LT=I((yft,Ah)=>{"use strict";var{AsyncResource:a4e}=require("node:async_hooks"),{Fifo:uH}=Xj(),{safeParse:lH,defaultContentType:o4e}=rH(),c4e=oH(),{kDefaultJsonParse:gh,kContentTypeParser:tf,kBodyLimit:u4e,kRequestPayloadStream:dH,kState:PT,kTestInternals:l4e,kReplyIsError:fH,kRouteContext:d4e}=cn(),{FST_ERR_CTP_INVALID_TYPE:pH,FST_ERR_CTP_EMPTY_TYPE:f4e,FST_ERR_CTP_ALREADY_PRESENT:p4e,FST_ERR_CTP_INVALID_HANDLER:h4e,FST_ERR_CTP_INVALID_PARSE_TYPE:m4e,FST_ERR_CTP_BODY_TOO_LARGE:cH,FST_ERR_CTP_INVALID_MEDIA_TYPE:g4e,FST_ERR_CTP_INVALID_CONTENT_LENGTH:A4e,FST_ERR_CTP_EMPTY_JSON_BODY:y4e,FST_ERR_CTP_INSTANCE_ALREADY_STARTED:OT}=Ln();function Ao(e,t,r){this[gh]=mH(t,r),this.customParsers=new Map,this.customParsers.set("application/json",new DT(!0,!1,e,this[gh])),this.customParsers.set("text/plain",new DT(!0,!1,e,$T)),this.parserList=[new db("application/json"),new db("text/plain")],this.parserRegExpList=[],this.cache=new uH(100)}Ao.prototype.add=function(e,t,r){let n=typeof e=="string";if(!n&&!(e instanceof RegExp))throw new pH;if(n&&e.length===0)throw new f4e;if(typeof r!="function")throw new h4e;if(this.existingParser(e))throw new p4e(e);if(t.parseAs!==void 0&&t.parseAs!=="string"&&t.parseAs!=="buffer")throw new m4e(t.parseAs);let s=new DT(t.parseAs==="string",t.parseAs==="buffer",t.bodyLimit,r);n&&e==="*"?this.customParsers.set("",s):(n?this.parserList.unshift(new db(e)):(e.isEssence=e.source.indexOf(";")===-1,this.parserRegExpList.unshift(e)),this.customParsers.set(e.toString(),s))};Ao.prototype.hasParser=function(e){return this.customParsers.has(typeof e=="string"?e:e.toString())};Ao.prototype.existingParser=function(e){return e==="application/json"&&this.customParsers.has(e)?this.customParsers.get(e).fn!==this[gh]:e==="text/plain"&&this.customParsers.has(e)?this.customParsers.get(e).fn!==$T:this.hasParser(e)};Ao.prototype.getParser=function(e){if(this.hasParser(e))return this.customParsers.get(e);let t=this.cache.get(e);if(t!==void 0)return t;let r=lH(e);if(r===o4e)return this.customParsers.get("");for(var n=0;n!==this.parserList.length;++n){let i=this.parserList[n];if(I4e(r,i)){let a=this.customParsers.get(i.name);return this.cache.set(e,a),a}}for(var s=0;s!==this.parserRegExpList.length;++s){let i=this.parserRegExpList[s];if(C4e(e,r.type,i)){let a=this.customParsers.get(i.toString());return this.cache.set(e,a),a}}return this.customParsers.get("")};Ao.prototype.removeAll=function(){this.customParsers=new Map,this.parserRegExpList=[],this.parserList=[],this.cache=new uH(100)};Ao.prototype.remove=function(e){if(!(typeof e=="string"||e instanceof RegExp))throw new pH;let t=this.customParsers.delete(e.toString()),r=typeof e=="string"?this.parserList:this.parserRegExpList,n=r.findIndex(s=>s.toString()===e.toString());return n>-1&&r.splice(n,1),t||n>-1};Ao.prototype.run=function(e,t,r,n){let s=this.getParser(e);if(s===void 0){r.is404?t(r,n):n.send(new g4e(e||void 0));return}let i=new a4e("content-type-parser:run",r);if(s.asString===!0||s.asBuffer===!0)hH(r,n,n[d4e]._parserOptions,s,a);else{let o=s.fn(r,r[dH],a);o&&typeof o.then=="function"&&o.then(c=>a(null,c),a)}function a(o,c){i.runInAsyncScope(()=>{i.emitDestroy(),o?(n[fH]=!0,n.send(o)):(r.body=c,t(r,n))})}};function hH(e,t,r,n,s){let i=n.asString,a=r.limit===null?n.bodyLimit:r.limit,o=e.headers["content-length"]===void 0?NaN:Number(e.headers["content-length"]);if(o>a){t.header("connection","close"),t.send(new cH);return}let c=0,u=i===!0?"":[],l=e[dH]||e.raw;i===!0&&l.setEncoding("utf8"),l.on("data",d),l.on("end",f),l.on("error",f),l.resume();function d(h){c+=h.length;let{receivedEncodedLength:p=0}=l;if(c>a||p>a){l.removeListener("data",d),l.removeListener("end",f),l.removeListener("error",f),t.send(new cH);return}i===!0?u+=h:u.push(h)}function f(h){if(l.removeListener("data",d),l.removeListener("end",f),l.removeListener("error",f),h!==void 0){typeof h.statusCode=="number"&&h.statusCode>=400||(h.statusCode=400),t[fH]=!0,t.code(h.statusCode).send(h);return}if(i===!0&&(c=Buffer.byteLength(u)),!Number.isNaN(o)&&(l.receivedEncodedLength||c)!==o){t.header("connection","close"),t.send(new A4e);return}i===!1&&(u=Buffer.concat(u));let p=n.fn(e,u,s);p&&typeof p.then=="function"&&p.then(m=>s(null,m),s)}}function mH(e,t){return r;function r(n,s,i){if(s===""||s==null||Buffer.isBuffer(s)&&s.length===0)return i(new y4e,void 0);let a;try{a=c4e.parse(s,{protoAction:e,constructorAction:t})}catch(o){return o.statusCode=400,i(o,void 0)}i(null,a)}}function $T(e,t,r){r(null,t)}function DT(e,t,r,n){this.asString=e,this.asBuffer=t,this.bodyLimit=r,this.fn=n}function b4e(e){let t=new Ao;return t[gh]=e[gh],t.customParsers=new Map(e.customParsers.entries()),t.parserList=e.parserList.slice(),t.parserRegExpList=e.parserRegExpList.slice(),t}function E4e(e,t,r){if(this[PT].started)throw new OT("addContentTypeParser");return typeof t=="function"&&(r=t,t={}),t||(t={}),t.bodyLimit||(t.bodyLimit=this[u4e]),Array.isArray(e)?e.forEach(n=>this[tf].add(n,t,r)):this[tf].add(e,t,r),this}function x4e(e){return this[tf].hasParser(e)}function v4e(e){if(this[PT].started)throw new OT("removeContentTypeParser");if(Array.isArray(e))for(let t of e)this[tf].remove(t);else this[tf].remove(e)}function _4e(){if(this[PT].started)throw new OT("removeAllContentTypeParsers");this[tf].removeAll()}function I4e(e,t){if(t.isEssence)return e.type.indexOf(t)!==-1;if(e.type.indexOf(t.type)===-1)return!1;for(let r of t.parameterKeys)if(!(r in e.parameters)||e.parameters[r]!==t.parameters[r])return!1;return!0}function C4e(e,t,r){return r.isEssence?r.test(t):r.test(e)}function db(e){this.name=e;let t=lH(e);if(this.isEssence=e.indexOf(";")===-1,this.isEssence===!1&&t.type===""){let r=e.split(";",1)[0];this.type=r===""?e:r}else this.type=t.type;this.parameters=t.parameters,this.parameterKeys=Object.keys(t.parameters)}db.prototype.toString=function(){return this.name};Ah.exports=Ao;Ah.exports.helpers={buildContentTypeParser:b4e,addContentTypeParser:E4e,hasContentTypeParser:x4e,removeContentTypeParser:v4e,removeAllContentTypeParsers:_4e};Ah.exports.defaultParsers={getDefaultJsonParser:mH,defaultTextParser:$T};Ah.exports[l4e]={rawBody:hH}});var bH=I((bft,yH)=>{"use strict";var gH=oi(),w4e=Symbol.for("json-schema-ref"),MT=class{#e;#t;#n;#s;#i;constructor(t={}){this.#e={},this.#t={},this.#n=t.insertRefSymbol??!1,this.#s=t.allowEqualDuplicates??!0,this.#i=t.cloneSchemaWithoutRefs??!1}addSchema(t,r){t.$id!==void 0&&t.$id.charAt(0)!=="#"?r=t.$id:this.#u(t,r),this.#o(t,r)}getSchema(t,r="#"){let n=this.#e[t];if(n===void 0)throw new Error(`Cannot resolve ref "${t}${r}". Schema with id "${t}" is not found.`);return n.anchors[r]!==void 0?n.anchors[r]:AH(n.schema,r)}hasSchema(t){return this.#e[t]!==void 0}getSchemaRefs(t){let r=this.#e[t];if(r===void 0)throw new Error(`Schema with id "${t}" is not found.`);return r.refs}getSchemaDependencies(t,r={}){let n=this.#e[t];for(let s of n.refs){let i=s.schemaId;r[i]===void 0&&(r[i]=this.getSchema(i),this.getSchemaDependencies(i,r))}return r}derefSchema(t){if(this.#t[t]!==void 0)return;let r=this.#e[t];if(r===void 0)throw new Error(`Schema with id "${t}" is not found.`);!this.#i&&r.refs.length===0&&(this.#t[t]={schema:r.schema,anchors:r.anchors});let n=[];this.#r(r.schema,t,n);let s=this.getSchemaDependencies(t);for(let i in s){let a=s[i];this.#r(a,i,n)}for(let i of n){let{refSchemaId:a,refJsonPointer:o}=this.#a(i.ref,i.sourceSchemaId),c=this.getDerefSchema(a,o);if(c===null)throw new Error(`Cannot resolve ref "${i.ref}". Ref "${o}" is not found in schema "${a}".`);i.targetSchema=c,i.targetSchemaId=a}for(let i of n)this.#c(i,n)}getDerefSchema(t,r="#"){let n=this.#t[t];return n===void 0&&(this.derefSchema(t),n=this.#t[t]),n.anchors[r]!==void 0?n.anchors[r]:AH(n.schema,r)}#a(t,r){let n=t.indexOf("#");return n===-1?{refSchemaId:t,refJsonPointer:"#"}:n===0?{refSchemaId:r,refJsonPointer:t}:{refSchemaId:t.slice(0,n),refJsonPointer:t.slice(n)}}#o(t,r){let n=t.$id;n!==void 0&&typeof n=="string"&&(n.charAt(0)==="#"?this.#l(t,r,n):(this.#u(t,n),r=n));let s=t.$ref;if(s!==void 0&&typeof s=="string"){let{refSchemaId:i,refJsonPointer:a}=this.#a(s,r);this.#e[r].refs.push({schemaId:i,jsonPointer:a})}for(let i in t)typeof t[i]=="object"&&t[i]!==null&&this.#o(t[i],r)}#r(t,r,n=[]){let s=Array.isArray(t)?[...t]:{...t},i=s.$id;i!==void 0&&typeof i=="string"&&(i.charAt(0)==="#"?this.#f(s,r,i):(this.#d(s,i),r=i)),s.$ref!==void 0&&n.push({ref:s.$ref,sourceSchemaId:r,sourceSchema:s});for(let a in s){let o=s[a];typeof o=="object"&&o!==null&&(s[a]=this.#r(o,r,n))}return s}#c(t,r){let{sourceSchema:n,targetSchema:s}=t;if(n.$ref){if(this.#n&&(n[w4e]=n.$ref),delete n.$ref,s.$ref){let i=r.find(a=>a.sourceSchema===s);this.#c(i,r)}for(let i in s)if(i!=="$id"){if(n[i]!==void 0){if(gH(n[i],s[i]))continue;throw new Error(`Cannot resolve ref "${t.ref}". Property "${i}" is already exist in schema "${t.sourceSchemaId}".`)}n[i]=s[i]}t.isResolved=!0}}#u(t,r){let n=this.#e[r];if(n!==void 0){if(this.#s&&gH(t,n.schema))return;throw new Error(`There is already another schema with id "${r}".`)}this.#e[r]={schema:t,anchors:{},refs:[]}}#l(t,r,n){let{anchors:s}=this.#e[r];if(s[n]!==void 0)throw new Error(`There is already another anchor "${n}" in a schema "${r}".`);s[n]=t}#d(t,r){this.#t[r]===void 0&&(this.#t[r]={schema:t,anchors:{}})}#f(t,r,n){let{anchors:s}=this.#t[r];s[n]=t}};function AH(e,t){let r=t.split("/"),n=e;for(let s of r)if(!(s===""||s==="#")){if(typeof n!="object"||n===null)return null;n=n[s]}return n??null}yH.exports={RefResolver:MT}});var xH=I((Eft,EH)=>{"use strict";var FT=class e{constructor(t,r,n="#"){this.schema=t,this.schemaId=r,this.jsonPointer=n}getPropertyLocation(t){return new e(this.schema[t],this.schemaId,this.jsonPointer+"/"+t)}getSchemaRef(){return this.schemaId+this.jsonPointer}};EH.exports=FT});var wH=I((xft,UT)=>{"use strict";UT.exports=Ae;UT.exports.default=Ae;var S4e={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},vH={enum:["array","boolean","integer","null","number","object","string"]},_H=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,T4e=R1().fullFormats.uri,IH=R1().fullFormats.regex;function fi(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:s=e}={}){let i=null,a=0,o=a;return typeof e=="number"&&!(e%1)&&!isNaN(e)&&isFinite(e)?a===o&&typeof e=="number"&&isFinite(e)&&(e<0||isNaN(e))?(fi.errors=[{instancePath:t,schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1):(fi.errors=i,a===0):(fi.errors=[{instancePath:t,schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1)}var QT={validate:Ae};function us(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:s=e}={}){let i=null,a=0;if(a===0)if(Array.isArray(e)){if(e.length<1)return us.errors=[{instancePath:t,schemaPath:"#/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var o=!0;let c=e.length;for(let u=0;u<c;u++){let l=a;QT.validate(e[u],{instancePath:t+"/"+u,parentData:e,parentDataProperty:u,rootData:s})||(i=i===null?QT.validate.errors:i.concat(QT.validate.errors),a=i.length);var o=l===a;if(!o)break}}}else return us.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;return us.errors=i,a===0}var CH=Y0().default;function Ae(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:s=e}={}){let i=null,a=0;if(!(e&&typeof e=="object"&&!Array.isArray(e))&&typeof e!="boolean")return Ae.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:S4e.type},message:"must be object,boolean"}],!1;if(a===0&&e&&typeof e=="object"&&!Array.isArray(e)){if(e.$id!==void 0){let y=e.$id,b=a;if(a===b&&a===b)if(typeof y=="string"){if(!_H.test(y))return Ae.errors=[{instancePath:t+"/$id",schemaPath:"#/properties/%24id/format",keyword:"format",params:{format:"uri-reference"},message:'must match format "uri-reference"'}],!1}else return Ae.errors=[{instancePath:t+"/$id",schemaPath:"#/properties/%24id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=b===a}else var o=!0;if(o){if(e.$schema!==void 0){let y=e.$schema,b=a;if(a===b&&a===b)if(typeof y=="string"){if(!T4e(y))return Ae.errors=[{instancePath:t+"/$schema",schemaPath:"#/properties/%24schema/format",keyword:"format",params:{format:"uri"},message:'must match format "uri"'}],!1}else return Ae.errors=[{instancePath:t+"/$schema",schemaPath:"#/properties/%24schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=b===a}else var o=!0;if(o){if(e.$ref!==void 0){let y=e.$ref,b=a;if(a===b&&a===b)if(typeof y=="string"){if(!_H.test(y))return Ae.errors=[{instancePath:t+"/$ref",schemaPath:"#/properties/%24ref/format",keyword:"format",params:{format:"uri-reference"},message:'must match format "uri-reference"'}],!1}else return Ae.errors=[{instancePath:t+"/$ref",schemaPath:"#/properties/%24ref/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=b===a}else var o=!0;if(o){if(e.$comment!==void 0){let y=a;if(typeof e.$comment!="string")return Ae.errors=[{instancePath:t+"/$comment",schemaPath:"#/properties/%24comment/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=y===a}else var o=!0;if(o){if(e.title!==void 0){let y=a;if(typeof e.title!="string")return Ae.errors=[{instancePath:t+"/title",schemaPath:"#/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=y===a}else var o=!0;if(o){if(e.description!==void 0){let y=a;if(typeof e.description!="string")return Ae.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=y===a}else var o=!0;if(o){if(e.readOnly!==void 0){let y=a;if(typeof e.readOnly!="boolean")return Ae.errors=[{instancePath:t+"/readOnly",schemaPath:"#/properties/readOnly/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var o=y===a}else var o=!0;if(o){if(e.examples!==void 0){let y=a;if(a===y&&!Array.isArray(e.examples))return Ae.errors=[{instancePath:t+"/examples",schemaPath:"#/properties/examples/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var o=y===a}else var o=!0;if(o){if(e.multipleOf!==void 0){let y=e.multipleOf,b=a;if(a===b)if(typeof y=="number"&&isFinite(y)){if(y<=0||isNaN(y))return Ae.errors=[{instancePath:t+"/multipleOf",schemaPath:"#/properties/multipleOf/exclusiveMinimum",keyword:"exclusiveMinimum",params:{comparison:">",limit:0},message:"must be > 0"}],!1}else return Ae.errors=[{instancePath:t+"/multipleOf",schemaPath:"#/properties/multipleOf/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var o=b===a}else var o=!0;if(o){if(e.maximum!==void 0){let y=e.maximum,b=a;if(!(typeof y=="number"&&isFinite(y)))return Ae.errors=[{instancePath:t+"/maximum",schemaPath:"#/properties/maximum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var o=b===a}else var o=!0;if(o){if(e.exclusiveMaximum!==void 0){let y=e.exclusiveMaximum,b=a;if(!(typeof y=="number"&&isFinite(y)))return Ae.errors=[{instancePath:t+"/exclusiveMaximum",schemaPath:"#/properties/exclusiveMaximum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var o=b===a}else var o=!0;if(o){if(e.minimum!==void 0){let y=e.minimum,b=a;if(!(typeof y=="number"&&isFinite(y)))return Ae.errors=[{instancePath:t+"/minimum",schemaPath:"#/properties/minimum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var o=b===a}else var o=!0;if(o){if(e.exclusiveMinimum!==void 0){let y=e.exclusiveMinimum,b=a;if(!(typeof y=="number"&&isFinite(y)))return Ae.errors=[{instancePath:t+"/exclusiveMinimum",schemaPath:"#/properties/exclusiveMinimum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var o=b===a}else var o=!0;if(o){if(e.maxLength!==void 0){let y=e.maxLength,b=a,_=a;if(!(typeof y=="number"&&!(y%1)&&!isNaN(y)&&isFinite(y)))return Ae.errors=[{instancePath:t+"/maxLength",schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;if(a===_&&typeof y=="number"&&isFinite(y)&&(y<0||isNaN(y)))return Ae.errors=[{instancePath:t+"/maxLength",schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1;var o=b===a}else var o=!0;if(o){if(e.minLength!==void 0){let y=a;fi(e.minLength,{instancePath:t+"/minLength",parentData:e,parentDataProperty:"minLength",rootData:s})||(i=i===null?fi.errors:i.concat(fi.errors),a=i.length);var o=y===a}else var o=!0;if(o){if(e.pattern!==void 0){let y=e.pattern,b=a;if(a===b&&a===b)if(typeof y=="string"){if(!IH(y))return Ae.errors=[{instancePath:t+"/pattern",schemaPath:"#/properties/pattern/format",keyword:"format",params:{format:"regex"},message:'must match format "regex"'}],!1}else return Ae.errors=[{instancePath:t+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=b===a}else var o=!0;if(o){if(e.additionalItems!==void 0){let y=a;Ae(e.additionalItems,{instancePath:t+"/additionalItems",parentData:e,parentDataProperty:"additionalItems",rootData:s})||(i=i===null?Ae.errors:i.concat(Ae.errors),a=i.length);var o=y===a}else var o=!0;if(o){if(e.items!==void 0){let y=e.items,b=a,_=a,C=!1,w=a;Ae(y,{instancePath:t+"/items",parentData:e,parentDataProperty:"items",rootData:s})||(i=i===null?Ae.errors:i.concat(Ae.errors),a=i.length);var c=w===a;if(C=C||c,!C){let T=a;us(y,{instancePath:t+"/items",parentData:e,parentDataProperty:"items",rootData:s})||(i=i===null?us.errors:i.concat(us.errors),a=i.length);var c=T===a;C=C||c}if(C)a=_,i!==null&&(_?i.length=_:i=null);else{let T={instancePath:t+"/items",schemaPath:"#/properties/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return i===null?i=[T]:i.push(T),a++,Ae.errors=i,!1}var o=b===a}else var o=!0;if(o){if(e.maxItems!==void 0){let y=e.maxItems,b=a,_=a;if(!(typeof y=="number"&&!(y%1)&&!isNaN(y)&&isFinite(y)))return Ae.errors=[{instancePath:t+"/maxItems",schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;if(a===_&&typeof y=="number"&&isFinite(y)&&(y<0||isNaN(y)))return Ae.errors=[{instancePath:t+"/maxItems",schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1;var o=b===a}else var o=!0;if(o){if(e.minItems!==void 0){let y=a;fi(e.minItems,{instancePath:t+"/minItems",parentData:e,parentDataProperty:"minItems",rootData:s})||(i=i===null?fi.errors:i.concat(fi.errors),a=i.length);var o=y===a}else var o=!0;if(o){if(e.uniqueItems!==void 0){let y=a;if(typeof e.uniqueItems!="boolean")return Ae.errors=[{instancePath:t+"/uniqueItems",schemaPath:"#/properties/uniqueItems/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var o=y===a}else var o=!0;if(o){if(e.contains!==void 0){let y=a;Ae(e.contains,{instancePath:t+"/contains",parentData:e,parentDataProperty:"contains",rootData:s})||(i=i===null?Ae.errors:i.concat(Ae.errors),a=i.length);var o=y===a}else var o=!0;if(o){if(e.maxProperties!==void 0){let y=e.maxProperties,b=a,_=a;if(!(typeof y=="number"&&!(y%1)&&!isNaN(y)&&isFinite(y)))return Ae.errors=[{instancePath:t+"/maxProperties",schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;if(a===_&&typeof y=="number"&&isFinite(y)&&(y<0||isNaN(y)))return Ae.errors=[{instancePath:t+"/maxProperties",schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1;var o=b===a}else var o=!0;if(o){if(e.minProperties!==void 0){let y=a;fi(e.minProperties,{instancePath:t+"/minProperties",parentData:e,parentDataProperty:"minProperties",rootData:s})||(i=i===null?fi.errors:i.concat(fi.errors),a=i.length);var o=y===a}else var o=!0;if(o){if(e.required!==void 0){let y=e.required,b=a;if(a===a)if(Array.isArray(y)){var u=!0;let w=y.length;for(let S=0;S<w;S++){let T=a;if(typeof y[S]!="string")return Ae.errors=[{instancePath:t+"/required/"+S,schemaPath:"#/definitions/stringArray/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=T===a;if(!u)break}if(u){let S=y.length,T;if(S>1){let R={};for(;S--;){let P=y[S];if(typeof P=="string"){if(typeof R[P]=="number"){return T=R[P],Ae.errors=[{instancePath:t+"/required",schemaPath:"#/definitions/stringArray/uniqueItems",keyword:"uniqueItems",params:{i:S,j:T},message:"must NOT have duplicate items (items ## "+T+" and "+S+" are identical)"}],!1;break}R[P]=S}}}}}else return Ae.errors=[{instancePath:t+"/required",schemaPath:"#/definitions/stringArray/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var o=b===a}else var o=!0;if(o){if(e.additionalProperties!==void 0){let y=a;Ae(e.additionalProperties,{instancePath:t+"/additionalProperties",parentData:e,parentDataProperty:"additionalProperties",rootData:s})||(i=i===null?Ae.errors:i.concat(Ae.errors),a=i.length);var o=y===a}else var o=!0;if(o){if(e.definitions!==void 0){let y=e.definitions,b=a;if(a===b)if(y&&typeof y=="object"&&!Array.isArray(y))for(let C in y){let w=a;Ae(y[C],{instancePath:t+"/definitions/"+C.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:y,parentDataProperty:C,rootData:s})||(i=i===null?Ae.errors:i.concat(Ae.errors),a=i.length);var l=w===a;if(!l)break}else return Ae.errors=[{instancePath:t+"/definitions",schemaPath:"#/properties/definitions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var o=b===a}else var o=!0;if(o){if(e.properties!==void 0){let y=e.properties,b=a;if(a===b)if(y&&typeof y=="object"&&!Array.isArray(y))for(let C in y){let w=a;Ae(y[C],{instancePath:t+"/properties/"+C.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:y,parentDataProperty:C,rootData:s})||(i=i===null?Ae.errors:i.concat(Ae.errors),a=i.length);var d=w===a;if(!d)break}else return Ae.errors=[{instancePath:t+"/properties",schemaPath:"#/properties/properties/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var o=b===a}else var o=!0;if(o){if(e.patternProperties!==void 0){let y=e.patternProperties,b=a;if(a===b)if(y&&typeof y=="object"&&!Array.isArray(y)){for(let C in y){let w=a;if(a===w&&typeof C=="string"&&!IH(C)){let S={instancePath:t+"/patternProperties",schemaPath:"#/properties/patternProperties/propertyNames/format",keyword:"format",params:{format:"regex"},message:'must match format "regex"',propertyName:C};i===null?i=[S]:i.push(S),a++}var f=w===a;if(!f){let S={instancePath:t+"/patternProperties",schemaPath:"#/properties/patternProperties/propertyNames",keyword:"propertyNames",params:{propertyName:C},message:"property name must be valid"};return i===null?i=[S]:i.push(S),a++,Ae.errors=i,!1;break}}if(f)for(let C in y){let w=a;Ae(y[C],{instancePath:t+"/patternProperties/"+C.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:y,parentDataProperty:C,rootData:s})||(i=i===null?Ae.errors:i.concat(Ae.errors),a=i.length);var h=w===a;if(!h)break}}else return Ae.errors=[{instancePath:t+"/patternProperties",schemaPath:"#/properties/patternProperties/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var o=b===a}else var o=!0;if(o){if(e.dependencies!==void 0){let y=e.dependencies,b=a;if(a===b)if(y&&typeof y=="object"&&!Array.isArray(y))for(let C in y){let w=y[C],S=a,T=a,R=!1,P=a;Ae(w,{instancePath:t+"/dependencies/"+C.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:y,parentDataProperty:C,rootData:s})||(i=i===null?Ae.errors:i.concat(Ae.errors),a=i.length);var p=P===a;if(R=R||p,!R){let N=a;if(a===a)if(Array.isArray(w)){var m=!0;let q=w.length;for(let j=0;j<q;j++){let G=a;if(typeof w[j]!="string"){let Q={instancePath:t+"/dependencies/"+C.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+j,schemaPath:"#/definitions/stringArray/items/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[Q]:i.push(Q),a++}var m=G===a;if(!m)break}if(m){let j=w.length,G;if(j>1){let J={};for(;j--;){let Q=w[j];if(typeof Q=="string"){if(typeof J[Q]=="number"){G=J[Q];let te={instancePath:t+"/dependencies/"+C.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/stringArray/uniqueItems",keyword:"uniqueItems",params:{i:j,j:G},message:"must NOT have duplicate items (items ## "+G+" and "+j+" are identical)"};i===null?i=[te]:i.push(te),a++;break}J[Q]=j}}}}}else{let q={instancePath:t+"/dependencies/"+C.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/stringArray/type",keyword:"type",params:{type:"array"},message:"must be array"};i===null?i=[q]:i.push(q),a++}var p=N===a;R=R||p}if(R)a=T,i!==null&&(T?i.length=T:i=null);else{let N={instancePath:t+"/dependencies/"+C.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/dependencies/additionalProperties/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return i===null?i=[N]:i.push(N),a++,Ae.errors=i,!1}var A=S===a;if(!A)break}else return Ae.errors=[{instancePath:t+"/dependencies",schemaPath:"#/properties/dependencies/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var o=b===a}else var o=!0;if(o){if(e.propertyNames!==void 0){let y=a;Ae(e.propertyNames,{instancePath:t+"/propertyNames",parentData:e,parentDataProperty:"propertyNames",rootData:s})||(i=i===null?Ae.errors:i.concat(Ae.errors),a=i.length);var o=y===a}else var o=!0;if(o){if(e.enum!==void 0){let y=e.enum,b=a;if(a===b)if(Array.isArray(y)){if(y.length<1)return Ae.errors=[{instancePath:t+"/enum",schemaPath:"#/properties/enum/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{let C=y.length,w;if(C>1){e:for(;C--;)for(w=C;w--;)if(CH(y[C],y[w])){return Ae.errors=[{instancePath:t+"/enum",schemaPath:"#/properties/enum/uniqueItems",keyword:"uniqueItems",params:{i:C,j:w},message:"must NOT have duplicate items (items ## "+w+" and "+C+" are identical)"}],!1;break e}}}}else return Ae.errors=[{instancePath:t+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var o=b===a}else var o=!0;if(o){if(e.type!==void 0){let y=e.type,b=a,_=a,C=!1,w=a;if(!(y==="array"||y==="boolean"||y==="integer"||y==="null"||y==="number"||y==="object"||y==="string")){let T={instancePath:t+"/type",schemaPath:"#/definitions/simpleTypes/enum",keyword:"enum",params:{allowedValues:vH.enum},message:"must be equal to one of the allowed values"};i===null?i=[T]:i.push(T),a++}var g=w===a;if(C=C||g,!C){let T=a;if(a===T)if(Array.isArray(y))if(y.length<1){let P={instancePath:t+"/type",schemaPath:"#/properties/type/anyOf/1/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};i===null?i=[P]:i.push(P),a++}else{var x=!0;let P=y.length;for(let N=0;N<P;N++){let D=y[N],k=a;if(!(D==="array"||D==="boolean"||D==="integer"||D==="null"||D==="number"||D==="object"||D==="string")){let j={instancePath:t+"/type/"+N,schemaPath:"#/definitions/simpleTypes/enum",keyword:"enum",params:{allowedValues:vH.enum},message:"must be equal to one of the allowed values"};i===null?i=[j]:i.push(j),a++}var x=k===a;if(!x)break}if(x){let N=y.length,D;if(N>1){e:for(;N--;)for(D=N;D--;)if(CH(y[N],y[D])){let k={instancePath:t+"/type",schemaPath:"#/properties/type/anyOf/1/uniqueItems",keyword:"uniqueItems",params:{i:N,j:D},message:"must NOT have duplicate items (items ## "+D+" and "+N+" are identical)"};i===null?i=[k]:i.push(k),a++;break e}}}}else{let P={instancePath:t+"/type",schemaPath:"#/properties/type/anyOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};i===null?i=[P]:i.push(P),a++}var g=T===a;C=C||g}if(C)a=_,i!==null&&(_?i.length=_:i=null);else{let T={instancePath:t+"/type",schemaPath:"#/properties/type/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return i===null?i=[T]:i.push(T),a++,Ae.errors=i,!1}var o=b===a}else var o=!0;if(o){if(e.format!==void 0){let y=a;if(typeof e.format!="string")return Ae.errors=[{instancePath:t+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=y===a}else var o=!0;if(o){if(e.contentMediaType!==void 0){let y=a;if(typeof e.contentMediaType!="string")return Ae.errors=[{instancePath:t+"/contentMediaType",schemaPath:"#/properties/contentMediaType/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=y===a}else var o=!0;if(o){if(e.contentEncoding!==void 0){let y=a;if(typeof e.contentEncoding!="string")return Ae.errors=[{instancePath:t+"/contentEncoding",schemaPath:"#/properties/contentEncoding/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=y===a}else var o=!0;if(o){if(e.if!==void 0){let y=a;Ae(e.if,{instancePath:t+"/if",parentData:e,parentDataProperty:"if",rootData:s})||(i=i===null?Ae.errors:i.concat(Ae.errors),a=i.length);var o=y===a}else var o=!0;if(o){if(e.then!==void 0){let y=a;Ae(e.then,{instancePath:t+"/then",parentData:e,parentDataProperty:"then",rootData:s})||(i=i===null?Ae.errors:i.concat(Ae.errors),a=i.length);var o=y===a}else var o=!0;if(o){if(e.else!==void 0){let y=a;Ae(e.else,{instancePath:t+"/else",parentData:e,parentDataProperty:"else",rootData:s})||(i=i===null?Ae.errors:i.concat(Ae.errors),a=i.length);var o=y===a}else var o=!0;if(o){if(e.allOf!==void 0){let y=a;us(e.allOf,{instancePath:t+"/allOf",parentData:e,parentDataProperty:"allOf",rootData:s})||(i=i===null?us.errors:i.concat(us.errors),a=i.length);var o=y===a}else var o=!0;if(o){if(e.anyOf!==void 0){let y=a;us(e.anyOf,{instancePath:t+"/anyOf",parentData:e,parentDataProperty:"anyOf",rootData:s})||(i=i===null?us.errors:i.concat(us.errors),a=i.length);var o=y===a}else var o=!0;if(o){if(e.oneOf!==void 0){let y=a;us(e.oneOf,{instancePath:t+"/oneOf",parentData:e,parentDataProperty:"oneOf",rootData:s})||(i=i===null?us.errors:i.concat(us.errors),a=i.length);var o=y===a}else var o=!0;if(o)if(e.not!==void 0){let y=a;Ae(e.not,{instancePath:t+"/not",parentData:e,parentDataProperty:"not",rootData:s})||(i=i===null?Ae.errors:i.concat(Ae.errors),a=i.length);var o=y===a}else var o=!0}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}return Ae.errors=i,a===0}});var zT=I((vft,SH)=>{"use strict";var qT=class extends Error{constructor(t,r){super(),this.name="JsonSchemaMergeError",this.code="JSON_SCHEMA_MERGE_ERROR",this.message=`Failed to merge "${t}" keyword schemas.`,this.schemas=r}},jT=class extends Error{constructor(t,r){super(),this.name="JsonSchemaMergeError",this.code="JSON_SCHEMA_MERGE_ERROR",this.message=`Resolver for "${t}" keyword not found.`,this.schemas=r}},HT=class extends Error{constructor(t){super(),this.name="JsonSchemaMergeError",this.code="JSON_SCHEMA_MERGE_ERROR",this.message=`Invalid "onConflict" option: "${t}".`}};SH.exports={MergeError:qT,ResolverNotFoundError:jT,InvalidOnConflictOptionError:HT}});var RH=I((_ft,BH)=>{"use strict";var B4e=oi(),{MergeError:GT}=zT();function TH(e){let t=e[0];for(let r=1;r<e.length;r++)t=t.filter(n=>e[r].includes(n));return t}function R4e(e,t,r){let n=TH(t);if(n.length===0)throw new GT(e,t);r[e]=n}function N4e(e,t,r){for(let s=0;s<t.length;s++)Array.isArray(t[s])||(t[s]=[t[s]]);let n=TH(t);if(n.length===0)throw new GT(e,t);n.length===1?r[e]=n[0]:r[e]=n}function k4e(e,t,r){let n=[];for(let s of t)for(let i of s)n.includes(i)||n.push(i);r[e]=n}function D4e(e,t,r){r[e]=Math.min(...t)}function P4e(e,t,r){r[e]=Math.max(...t)}function O4e(e,t,r){let n=(o,c)=>c?n(c,o%c):o,s=(o,c)=>o*c/n(o,c),i=1;for(let o of t)for(;o*i%1!==0;)i*=10;let a=t[0]*i;for(let o of t)a=s(a,o*i);r[e]=a/i}function $4e(e,t,r){let n=t[0];for(let s=1;s<t.length;s++)if(!B4e(t[s],n))throw new GT(e,t);r[e]=n}function L4e(){}function M4e(e,t,r){for(let n of t)if(n===!1){r[e]=!1;return}r[e]=!0}function F4e(e,t,r){for(let n of t)if(n===!0){r[e]=!0;return}r[e]=!1}BH.exports={arraysIntersection:R4e,hybridArraysIntersection:N4e,arraysUnion:k4e,minNumber:D4e,maxNumber:P4e,commonMultiple:O4e,allEqual:$4e,booleanAnd:M4e,booleanOr:F4e,skip:L4e}});var $H=I((Ift,OH)=>{"use strict";var Q4e=oi(),Sr=RH(),hb=zT(),DH={$id:Sr.skip,type:Sr.hybridArraysIntersection,enum:Sr.arraysIntersection,minLength:Sr.maxNumber,maxLength:Sr.minNumber,minimum:Sr.maxNumber,maximum:Sr.minNumber,multipleOf:Sr.commonMultiple,exclusiveMinimum:Sr.maxNumber,exclusiveMaximum:Sr.minNumber,minItems:Sr.maxNumber,maxItems:Sr.minNumber,maxProperties:Sr.minNumber,minProperties:Sr.maxNumber,const:Sr.allEqual,default:Sr.allEqual,format:Sr.allEqual,required:Sr.arraysUnion,properties:G4e,patternProperties:pb,additionalProperties:fb,items:j4e,additionalItems:H4e,definitions:pb,$defs:pb,nullable:Sr.booleanAnd,oneOf:NH,anyOf:NH,allOf:Sr.arraysUnion,not:fb,if:V4e,then:Sr.skip,else:Sr.skip,dependencies:kH,dependentRequired:kH,dependentSchemas:pb,propertyNames:fb,uniqueItems:Sr.booleanOr,contains:fb};function fb(e,t,r,n,s){r[e]=zi(t,s)}function U4e(e){let t=[[]];for(let r of e){let n=[];for(let s of t)for(let i of r)n.push([...s,i]);t=n}return t}function NH(e,t,r,n,s){if(t.length===1){r[e]=t[0];return}let i=U4e(t),a=[];for(let o of i)try{let c=zi(o,s);c!==void 0&&a.push(c)}catch(c){if(c instanceof hb.MergeError)continue;throw c}r[e]=a}function q4e(e,t){let{items:r,additionalItems:n}=e;return Array.isArray(r)?t<r.length?r[t]:n:r!==void 0?r:n}function j4e(e,t,r,n,s){let i=0;for(let o of t)Array.isArray(o)&&(i=Math.max(i,o.length));if(i===0){r[e]=zi(t,s);return}let a=[];for(let o=0;o<i;o++){let c=[];for(let u of n){let l=q4e(u,o);l!==void 0&&c.push(l)}a[o]=zi(c,s)}r[e]=a}function H4e(e,t,r,n,s){let i=!1;for(let o of n)if(Array.isArray(o.items)){i=!0;break}if(!i){r[e]=zi(t,s);return}let a=[];for(let o of n){let c=o.additionalItems;c===void 0&&!Array.isArray(o.items)&&(c=o.items),c!==void 0&&a.push(c)}r[e]=zi(a,s)}function z4e(e,t){let{properties:r,patternProperties:n,additionalProperties:s}=e;if(r?.[t]!==void 0)return r[t];for(let i of Object.keys(n??{}))if(new RegExp(i).test(t))return n[i];return s}function G4e(e,t,r,n,s){let i={};for(let o of n){let c=o.properties??{};for(let u of Object.keys(c)){if(i[u]!==void 0)continue;let l=c[u];i[u]=[l];for(let d of n){if(o===d)continue;let f=z4e(d,u);f!==void 0&&i[u].push(f)}}}let a={};for(let o of Object.keys(i)){let c=i[o];a[o]=zi(c,s)}r[e]=a}function pb(e,t,r,n,s){let i={};for(let o of t)for(let c of Object.keys(o))i[c]===void 0&&(i[c]=[]),i[c].push(o[c]);let a={};for(let o of Object.keys(i)){let c=i[o],u=zi(c,s);a[o]=u}r[e]=a}function V4e(e,t,r,n,s){for(let i=0;i<n.length;i++){let a={if:n[i].if,then:n[i].then,else:n[i].else};if(a.if!==void 0){if(r.if===void 0){r.if=a.if,a.then!==void 0&&(r.then=a.then),a.else!==void 0&&(r.else=a.else);continue}r.then!==void 0&&(r.then=zi([r.then,a],s)),r.else!==void 0&&(r.else=zi([r.else,a],s))}}}function kH(e,t,r){let n={};for(let s of t)for(let i of Object.keys(s)){n[i]===void 0&&(n[i]=[]);let a=n[i];for(let o of s[i])a.includes(o)||a.push(o)}r[e]=n}function zi(e,t){if(e.length===0)return{};if(e.length===1)return e[0];let r={},n={},s=!0;for(let i of e){if(i===!1)return!1;if(i!==!0){s=!1;for(let a of Object.keys(i))n[a]===void 0&&(n[a]=[]),n[a].push(i[a])}}if(s)return!0;for(let i of Object.keys(n)){let a=n[i];(t.resolvers[i]??t.defaultResolver)(i,a,r,e,t)}return r}function PH(e,t,r,n,s){let i=s.onConflict??"throw";if(t.length===1||i==="first"){r[e]=t[0];return}let a=!0;for(let o=1;o<t.length;o++)if(!Q4e(t[o],t[0])){a=!1;break}if(a){r[e]=t[0];return}if(i==="throw")throw new hb.ResolverNotFoundError(e,t);if(i!=="skip")throw new hb.InvalidOnConflictOptionError(i)}function K4e(e,t={}){return t.defaultResolver===void 0&&(t.defaultResolver=PH),t.resolvers={...DH,...t.resolvers},zi(e,t)}OH.exports={mergeSchemas:K4e,keywordsResolvers:DH,defaultResolver:PH,...hb}});var MH=I((Cft,LH)=>{"use strict";var{mergeSchemas:Y4e}=$H();function W4e(e){return Y4e(e,{onConflict:"skip"})}LH.exports=W4e});var VH=I((wft,rf)=>{"use strict";var{RefResolver:J4e}=bH(),X4e=HC(),Z4e=US(),sl=xH(),FH=wH(),eRe=MH(),tRe=/'/g,mb=2e4,UH="default",rRe=["floor","ceil","round","trunc"],qH=["default","json-stringify"],yh=0;function VT(e,t){if(!FH(e)){t?t=`"${t}" `:t="";let r=FH.errors[0],n=new Error(`${t}schema is invalid: data${r.instancePath} ${r.message}`);throw n.errors=VT.errors,n}}function bh(e,t){let r=t.schema.$ref,n=r.indexOf("#");n===-1&&(n=r.length);let s=r.slice(0,n)||t.schemaId,i=r.slice(n)||"#",a=e.refResolver.getSchema(s,i);if(a===null)throw new Error(`Cannot find reference "${r}"`);let o=new sl(a,s,i);return a.$ref!==void 0?bh(e,o):o}function gb(e,t){let r=e.refResolver.getSchema(t,"#");return new sl(r,t,"#")}function QH(e,t){return e.$id&&e.$id.charAt(0)!=="#"?e.$id:t}function KT(e,t){VT(e),t=t||{};let r={functions:[],functionsCounter:0,functionsNamesBySchema:new Map,options:t,refResolver:new J4e,rootSchemaId:e.$id||`__fjs_root_${yh++}`,validatorSchemasIds:new Set,mergedSchemasIds:new Map},n=QH(e,r.rootSchemaId);if(r.refResolver.hasSchema(n)||r.refResolver.addSchema(e,r.rootSchemaId),t.schema)for(let l in t.schema){let d=t.schema[l],f=QH(d,l);r.refResolver.hasSchema(f)||(VT(d,l),r.refResolver.addSchema(d,l))}if(t.rounding&&!rRe.includes(t.rounding))throw new Error(`Unsupported integer rounding method ${t.rounding}`);if(t.largeArrayMechanism)if(qH.includes(t.largeArrayMechanism))UH=t.largeArrayMechanism;else throw new Error(`Unsupported large array mechanism ${t.largeArrayMechanism}`);if(t.largeArraySize)if(typeof t.largeArraySize=="string"&&Number.isFinite(Number.parseInt(t.largeArraySize,10)))mb=Number.parseInt(t.largeArraySize,10);else if(typeof t.largeArraySize=="number"&&Number.isInteger(t.largeArraySize))mb=t.largeArraySize;else if(typeof t.largeArraySize=="bigint")mb=Number(t.largeArraySize);else throw new Error(`Unsupported large array size. Expected integer-like, got ${typeof t.largeArraySize} with value ${t.largeArraySize}`);let s=new sl(e,r.rootSchemaId),i=Ys(r,s,"input"),a=`
    const JSON_STR_BEGIN_OBJECT = '{'
    const JSON_STR_END_OBJECT = '}'
    const JSON_STR_BEGIN_ARRAY = '['
    const JSON_STR_END_ARRAY = ']'
    const JSON_STR_COMMA = ','
    const JSON_STR_COLONS = ':'
    const JSON_STR_QUOTE = '"'
    const JSON_STR_EMPTY_OBJECT = JSON_STR_BEGIN_OBJECT + JSON_STR_END_OBJECT
    const JSON_STR_EMPTY_ARRAY = JSON_STR_BEGIN_ARRAY + JSON_STR_END_ARRAY
    const JSON_STR_EMPTY_STRING = JSON_STR_QUOTE + JSON_STR_QUOTE
    const JSON_STR_NULL = 'null'
  `;i==="json += anonymous0(input)"?a+=`
    ${r.functions.join(`
`)}
    const main = anonymous0
    return main
    `:a+=`
    function main (input) {
      let json = ''
      ${i}
      return json
    }
    ${r.functions.join(`
`)}
    return main
    `;let o=new X4e(t),c=new Z4e(t.ajv);for(let l of r.validatorSchemasIds){let d=r.refResolver.getSchema(l);c.addSchema(d,l);let f=r.refResolver.getSchemaDependencies(l);for(let[h,p]of Object.entries(f))c.addSchema(p,h)}if(t.debugMode&&(t.mode="debug"),t.mode==="debug")return{validator:c,serializer:o,code:`validator
serializer
${a}`,ajv:c.ajv};let u=new Function("validator","serializer",a);return t.mode==="standalone"?jS()(u,r,o,c):u(c,o)}var nRe=["properties","required","additionalProperties","patternProperties","maxProperties","minProperties","dependencies"],sRe=["items","additionalItems","maxItems","minItems","uniqueItems","contains"],iRe=["maxLength","minLength","pattern"],aRe=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum"];function oRe(e){for(var t of nRe)if(t in e)return"object";for(var t of sRe)if(t in e)return"array";for(var t of iRe)if(t in e)return"string";for(var t of aRe)if(t in e)return"number";return e.type}function cRe(e,t,r){let n=t.schema,s=Object.keys(n.properties||{}),i=`
    const propertiesKeys = ${JSON.stringify(s)}
    for (const [key, value] of Object.entries(obj)) {
      if (
        propertiesKeys.includes(key) ||
        value === undefined ||
        typeof value === 'function' ||
        typeof value === 'symbol'
      ) continue
  `,a=t.getPropertyLocation("patternProperties"),o=a.schema;if(o!==void 0)for(let l in o){let d=a.getPropertyLocation(l);i+=`
        if (/${l.replace(/\\*\//g,"\\/")}/.test(key)) {
          ${r}
          json += serializer.asString(key) + JSON_STR_COLONS
          ${Ys(e,d,"value")}
          continue
        }
      `}let u=t.getPropertyLocation("additionalProperties").schema;if(u!==void 0)if(u===!0)i+=`
        ${r}
        json += serializer.asString(key) + JSON_STR_COLONS + JSON.stringify(value)
      `;else{let l=t.getPropertyLocation("additionalProperties");i+=`
        ${r}
        json += serializer.asString(key) + JSON_STR_COLONS
        ${Ys(e,l,"value")}
      `}return i+=`
    }
  `,i}function uRe(e,t){let r=t.schema,n=t.getPropertyLocation("properties"),s=r.required||[],i=Object.keys(r.properties||{}).sort((u,l)=>{let d=s.includes(u),f=s.includes(l);return d===f?0:d?-1:1}),a=s.includes(i[0]),o=`let value
`;for(let u of s)if(!i.includes(u)){let l=JSON.stringify(u);o+=`if (obj[${l}] === undefined) throw new Error('${l.replace(/'/g,"\\'")} is required!')
`}o+=`let json = JSON_STR_BEGIN_OBJECT
`;let c="";a||(o+=`let addComma = false
`,c="!addComma && (addComma = true) || (json += JSON_STR_COMMA)");for(let u of i){let l=n.getPropertyLocation(u);l.schema.$ref&&(l=bh(e,l));let d=JSON.stringify(u),f=l.schema.default,h=s.includes(u);o+=`
      value = obj[${d}]
      if (value !== undefined) {
        ${c}
        json += ${JSON.stringify(d+":")}
        ${Ys(e,l,"value")}
      }`,f!==void 0?o+=` else {
        ${c}
        json += ${JSON.stringify(d+":"+JSON.stringify(f))}
      }
      `:h?o+=` else {
        throw new Error('${d.replace(/'/g,"\\'")} is required!')
      }
      `:o+=`
`,a&&(c="json += ','")}return(r.patternProperties||r.additionalProperties)&&(o+=cRe(e,t,c)),o+=`
    return json + JSON_STR_END_OBJECT
  `,o}function Ab(e,t,r){for(let a=0;a<r.length;a++){let o=r[a];o.schema.$ref&&(r[a]=bh(e,o))}let n=[];for(let a of r){let o=jH(e,a.schema,a.schemaId);delete o.$id,n.push(o)}let s=eRe(n),i=new sl(s,t);return e.refResolver.addSchema(s,t),i}function jH(e,t,r){let n=Array.isArray(t)?[]:{};t.$id!==void 0&&t.$id.charAt(0)!=="#"&&(r=t.$id);let s=e.mergedSchemasIds.get(t);s&&e.mergedSchemasIds.set(n,s);for(let i in t){let a=t[i];i==="$ref"&&typeof a=="string"&&a.charAt(0)==="#"&&(a=r+a),typeof a=="object"&&a!==null&&(a=jH(e,a,r)),n[i]=a}return n}function lRe(e){return`(${e} && typeof ${e}.toJSON === 'function')
    ? ${e}.toJSON()
    : ${e}
  `}function dRe(e,t){let r=t.schema;if(e.functionsNamesBySchema.has(r))return e.functionsNamesBySchema.get(r);let n=zH(e);e.functionsNamesBySchema.set(r,n);let s=t.getSchemaRef();s.startsWith(e.rootSchemaId)&&(s=s.replace(e.rootSchemaId,""));let i=`
  `,a=r.nullable===!0;return i+=`
    // ${s}
    function ${n} (input) {
      const obj = ${lRe("input")}
      ${a?"":"if (obj === null) return JSON_STR_EMPTY_OBJECT"}

      ${uRe(e,t)}
    }
  `,e.functions.push(i),n}function fRe(e,t){let r=t.schema,n=t.getPropertyLocation("items");n.schema=n.schema||{},n.schema.$ref&&(n=bh(e,n));let s=n.schema;if(e.functionsNamesBySchema.has(r))return e.functionsNamesBySchema.get(r);let i=zH(e);e.functionsNamesBySchema.set(r,i);let a=t.getSchemaRef();a.startsWith(e.rootSchemaId)&&(a=a.replace(e.rootSchemaId,""));let o=`
    function ${i} (obj) {
      // ${a}
  `,c=r.nullable===!0;if(o+=`
    ${c?"":"if (obj === null) return JSON_STR_EMPTY_ARRAY"}
    if (!Array.isArray(obj)) {
      throw new TypeError(\`The value of '${a}' does not match schema definition.\`)
    }
    const arrayLength = obj.length
  `,!r.additionalItems&&Array.isArray(s)&&(o+=`
      if (arrayLength > ${s.length}) {
        throw new Error(\`Item at ${s.length} does not match schema definition.\`)
      }
    `),UH==="json-stringify"&&(o+=`if (arrayLength >= ${mb}) return JSON.stringify(obj)
`),o+=`
    const arrayEnd = arrayLength - 1
    let value
    let json = ''
  `,Array.isArray(s)){for(let u=0;u<s.length;u++){let l=s[u];o+=`value = obj[${u}]`;let d=Ys(e,n.getPropertyLocation(u),"value");o+=`
        if (${u} < arrayLength) {
          if (${HH(l.type,`[${u}]`)}) {
            ${d}
            if (${u} < arrayEnd) {
              json += JSON_STR_COMMA
            }
          } else {
            throw new Error(\`Item at ${u} does not match schema definition.\`)
          }
        }
        `}r.additionalItems&&(o+=`
        for (let i = ${s.length}; i < arrayLength; i++) {
          json += JSON.stringify(obj[i])
          if (i < arrayEnd) {
            json += JSON_STR_COMMA
          }
        }`)}else{let u=Ys(e,n,"obj[i]");o+=`
      for (let i = 0; i < arrayLength; i++) {
        ${u}
        if (i < arrayEnd) {
          json += JSON_STR_COMMA
        }
      }`}return o+=`
    return JSON_STR_BEGIN_ARRAY + json + JSON_STR_END_ARRAY
  }`,e.functions.push(o),i}function HH(e,t){let r;switch(e){case"null":r="value === null";break;case"string":r=`typeof value === 'string' ||
      value === null ||
      value instanceof Date ||
      value instanceof RegExp ||
      (
        typeof value === "object" &&
        typeof value.toString === "function" &&
        value.toString !== Object.prototype.toString
      )`;break;case"integer":r="Number.isInteger(value)";break;case"number":r="Number.isFinite(value)";break;case"boolean":r="typeof value === 'boolean'";break;case"object":r="value && typeof value === 'object' && value.constructor === Object";break;case"array":r="Array.isArray(value)";break;default:Array.isArray(e)&&(r=`(${e.map(s=>HH(s,t)).join(" || ")})`)}return r}function zH(e){return"anonymous"+e.functionsCounter++}function pRe(e,t,r){let s=t.schema.type.sort(o=>o==="null"?-1:1),i="";s.forEach((o,c)=>{t.schema={...t.schema,type:o};let u=GH(e,t,r),l=c===0?"if":"else if";switch(o){case"null":i+=`
          ${l} (${r} === null)
            ${u}
          `;break;case"string":{i+=`
          ${l}(
            typeof ${r} === "string" ||
            ${r} === null ||
            ${r} instanceof Date ||
            ${r} instanceof RegExp ||
            (
              typeof ${r} === "object" &&
              typeof ${r}.toString === "function" &&
              ${r}.toString !== Object.prototype.toString
            )
          )
            ${u}
        `;break}case"array":{i+=`
          ${l}(Array.isArray(${r}))
            ${u}
        `;break}case"integer":{i+=`
          ${l}(Number.isInteger(${r}) || ${r} === null)
            ${u}
        `;break}default:{i+=`
          ${l}(typeof ${r} === "${o}" || ${r} === null)
            ${u}
        `;break}}});let a=t.getSchemaRef();return a.startsWith(e.rootSchemaId)&&(a=a.replace(e.rootSchemaId,"")),i+=`
    else throw new TypeError(\`The value of '${a}' does not match schema definition.\`)
  `,i}function GH(e,t,r){let n=t.schema;switch(n.type){case"null":return"json += JSON_STR_NULL";case"string":return n.format==="date-time"?`json += serializer.asDateTime(${r})`:n.format==="date"?`json += serializer.asDate(${r})`:n.format==="time"?`json += serializer.asTime(${r})`:n.format==="unsafe"?`json += serializer.asUnsafeString(${r})`:`
        if (typeof ${r} !== 'string') {
          if (${r} === null) {
            json += JSON_STR_EMPTY_STRING
          } else if (${r} instanceof Date) {
            json += JSON_STR_QUOTE + ${r}.toISOString() + JSON_STR_QUOTE
          } else if (${r} instanceof RegExp) {
            json += serializer.asString(${r}.source)
          } else {
            json += serializer.asString(${r}.toString())
          }
        } else {
          json += serializer.asString(${r})
        }
        `;case"integer":return`json += serializer.asInteger(${r})`;case"number":return`json += serializer.asNumber(${r})`;case"boolean":return`json += serializer.asBoolean(${r})`;case"object":return`json += ${dRe(e,t)}(${r})`;case"array":return`json += ${fRe(e,t)}(${r})`;case void 0:return`json += JSON.stringify(${r})`;default:throw new Error(`${n.type} unsupported`)}}function hRe(e,t){let r=e.schema,n=r.type,s=Array.isArray(n)&&n.includes("null"),i="";return s&&(i+=`
      if (${t} === null) {
        json += JSON_STR_NULL
      } else {
    `),i+=`json += '${JSON.stringify(r.const).replace(tRe,"\\'")}'`,s&&(i+=`
      }
    `),i}function mRe(e,t,r){let n=t.schema,s=e.mergedSchemasIds.get(n);if(s){let l=gb(e,s);return Ys(e,l,r)}s=`__fjs_merged_${yh++}`,e.mergedSchemasIds.set(n,s);let{allOf:i,...a}=t.schema,o=[new sl(a,t.schemaId,t.jsonPointer)],c=t.getPropertyLocation("allOf");for(let l=0;l<i.length;l++)o.push(c.getPropertyLocation(l));let u=Ab(e,s,o);return Ys(e,u,r)}function gRe(e,t,r){e.validatorSchemasIds.add(t.schemaId);let s=t.schema.anyOf?"anyOf":"oneOf",{[s]:i,...a}=t.schema,o=new sl(a,t.schemaId,t.jsonPointer),c=t.getPropertyLocation(s),u="";for(let d=0;d<i.length;d++){let f=c.getPropertyLocation(d),h=f.schema,p=e.mergedSchemasIds.get(h),m=null;p?m=gb(e,p):(p=`__fjs_merged_${yh++}`,e.mergedSchemasIds.set(h,p),m=Ab(e,p,[o,f]));let A=Ys(e,m,r),g=f.getSchemaRef();u+=`
      ${d===0?"if":"else if"}(validator.validate("${g}", ${r}))
        ${A}
    `}let l=t.getSchemaRef();return l.startsWith(e.rootSchemaId)&&(l=l.replace(e.rootSchemaId,"")),u+=`
    else throw new TypeError(\`The value of '${l}' does not match schema definition.\`)
  `,u}function ARe(e,t,r){e.validatorSchemasIds.add(t.schemaId);let{if:n,then:s,else:i,...a}=t.schema,o=new sl(a,t.schemaId,t.jsonPointer),u=t.getPropertyLocation("if").getSchemaRef(),l=t.getPropertyLocation("then"),d=e.mergedSchemasIds.get(s),f=null;if(d?f=gb(e,d):(d=`__fjs_merged_${yh++}`,e.mergedSchemasIds.set(s,d),f=Ab(e,d,[o,l])),!i)return`
      if (validator.validate("${u}", ${r})) {
        ${Ys(e,f,r)}
      } else {
        ${Ys(e,o,r)}
      }
    `;let h=t.getPropertyLocation("else"),p=e.mergedSchemasIds.get(i),m=null;return p?m=gb(e,p):(p=`__fjs_merged_${yh++}`,e.mergedSchemasIds.set(i,p),m=Ab(e,p,[o,h])),`
    if (validator.validate("${u}", ${r})) {
      ${Ys(e,f,r)}
    } else {
      ${Ys(e,m,r)}
    }
  `}function Ys(e,t,r){let n=t.schema;if(typeof n=="boolean")return`json += JSON.stringify(${r})`;if(n.$ref&&(t=bh(e,t),n=t.schema),n.allOf)return mRe(e,t,r);if(n.anyOf||n.oneOf)return gRe(e,t,r);if(n.if&&n.then)return ARe(e,t,r);if(n.type===void 0){let o=oRe(n);o&&(n.type=o)}let s="",i=n.type,a=n.nullable===!0;return a&&(s+=`
      if (${r} === null) {
        json += JSON_STR_NULL
      } else {
    `),n.const!==void 0?s+=hRe(t,r):Array.isArray(i)?s+=pRe(e,t,r):s+=GH(e,t,r),a&&(s+=`
      }
    `),s}rf.exports=KT;rf.exports.default=KT;rf.exports.build=KT;rf.exports.validLargeArrayMechanisms=qH;rf.exports.restore=function({code:e,validator:t,serializer:r}){return Function.apply(null,["validator","serializer",e]).apply(null,[t,r])}});var YH=I((Sft,YT)=>{"use strict";var yRe=WT();function KH(e={readMode:!0}){if(e.readMode===!0&&typeof e.restoreFunction!="function")throw new Error("You must provide a function for the restoreFunction-option when readMode ON");if(e.readMode!==!0&&typeof e.storeFunction!="function")throw new Error("You must provide a function for the storeFunction-option when readMode OFF");if(e.readMode===!0)return function(){return function(n){return e.restoreFunction(n)}};let t=yRe();return function(n,s={}){s.mode="standalone";let i=t(n,s);return function(a){let o=i(a);return e.storeFunction(a,o),new Function(o)}}}YT.exports=KH;YT.exports.default=KH});var WT=I((Tft,Eh)=>{"use strict";var bRe=VH();function JT(){return function(t,r){let n=Object.assign({},r,{schema:t});return ERe.bind(null,n)}}function ERe(e,{schema:t}){return e.schema&&t.$id&&e.schema[t.$id]&&(e.schema={...e.schema},delete e.schema[t.$id]),bRe(t,e)}Eh.exports=JT;Eh.exports.default=JT;Eh.exports.SerializerSelector=JT;Eh.exports.StandaloneSerializer=YH()});var nf=I($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.regexpCode=$t.getEsmExportName=$t.getProperty=$t.safeStringify=$t.stringify=$t.strConcat=$t.addCodeArg=$t.str=$t._=$t.nil=$t._Code=$t.Name=$t.IDENTIFIER=$t._CodeOrName=void 0;var xh=class{};$t._CodeOrName=xh;$t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var il=class extends xh{constructor(t){if(super(),!$t.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};$t.Name=il;var pi=class extends xh{constructor(t){super(),this._items=typeof t=="string"?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let t=this._items[0];return t===""||t==='""'}get str(){var t;return(t=this._str)!==null&&t!==void 0?t:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var t;return(t=this._names)!==null&&t!==void 0?t:this._names=this._items.reduce((r,n)=>(n instanceof il&&(r[n.str]=(r[n.str]||0)+1),r),{})}};$t._Code=pi;$t.nil=new pi("");function WH(e,...t){let r=[e[0]],n=0;for(;n<t.length;)ZT(r,t[n]),r.push(e[++n]);return new pi(r)}$t._=WH;var XT=new pi("+");function JH(e,...t){let r=[vh(e[0])],n=0;for(;n<t.length;)r.push(XT),ZT(r,t[n]),r.push(XT,vh(e[++n]));return xRe(r),new pi(r)}$t.str=JH;function ZT(e,t){t instanceof pi?e.push(...t._items):t instanceof il?e.push(t):e.push(IRe(t))}$t.addCodeArg=ZT;function xRe(e){let t=1;for(;t<e.length-1;){if(e[t]===XT){let r=vRe(e[t-1],e[t+1]);if(r!==void 0){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}function vRe(e,t){if(t==='""')return e;if(e==='""')return t;if(typeof e=="string")return t instanceof il||e[e.length-1]!=='"'?void 0:typeof t!="string"?`${e.slice(0,-1)}${t}"`:t[0]==='"'?e.slice(0,-1)+t.slice(1):void 0;if(typeof t=="string"&&t[0]==='"'&&!(e instanceof il))return`"${e}${t.slice(1)}`}function _Re(e,t){return t.emptyStr()?e:e.emptyStr()?t:JH`${e}${t}`}$t.strConcat=_Re;function IRe(e){return typeof e=="number"||typeof e=="boolean"||e===null?e:vh(Array.isArray(e)?e.join(","):e)}function CRe(e){return new pi(vh(e))}$t.stringify=CRe;function vh(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}$t.safeStringify=vh;function wRe(e){return typeof e=="string"&&$t.IDENTIFIER.test(e)?new pi(`.${e}`):WH`[${e}]`}$t.getProperty=wRe;function SRe(e){if(typeof e=="string"&&$t.IDENTIFIER.test(e))return new pi(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)}$t.getEsmExportName=SRe;function TRe(e){return new pi(e.toString())}$t.regexpCode=TRe});var xb=I(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.ValueScope=Ts.ValueScopeName=Ts.Scope=Ts.varKinds=Ts.UsedValueState=void 0;var Ss=nf(),e3=class extends Error{constructor(t){super(`CodeGen: "code" for ${t} not defined`),this.value=t.value}},yb;(function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"})(yb||(Ts.UsedValueState=yb={}));Ts.varKinds={const:new Ss.Name("const"),let:new Ss.Name("let"),var:new Ss.Name("var")};var bb=class{constructor({prefixes:t,parent:r}={}){this._names={},this._prefixes=t,this._parent=r}toName(t){return t instanceof Ss.Name?t:this.name(t)}name(t){return new Ss.Name(this._newName(t))}_newName(t){let r=this._names[t]||this._nameGroup(t);return`${t}${r.index++}`}_nameGroup(t){var r,n;if(!((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0)&&n.has(t)||this._prefixes&&!this._prefixes.has(t))throw new Error(`CodeGen: prefix "${t}" is not allowed in this scope`);return this._names[t]={prefix:t,index:0}}};Ts.Scope=bb;var Eb=class extends Ss.Name{constructor(t,r){super(r),this.prefix=t}setValue(t,{property:r,itemIndex:n}){this.value=t,this.scopePath=(0,Ss._)`.${new Ss.Name(r)}[${n}]`}};Ts.ValueScopeName=Eb;var BRe=(0,Ss._)`\n`,t3=class extends bb{constructor(t){super(t),this._values={},this._scope=t.scope,this.opts={...t,_n:t.lines?BRe:Ss.nil}}get(){return this._scope}name(t){return new Eb(t,this._newName(t))}value(t,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let s=this.toName(t),{prefix:i}=s,a=(n=r.key)!==null&&n!==void 0?n:r.ref,o=this._values[i];if(o){let l=o.get(a);if(l)return l}else o=this._values[i]=new Map;o.set(a,s);let c=this._scope[i]||(this._scope[i]=[]),u=c.length;return c[u]=r.ref,s.setValue(r,{property:i,itemIndex:u}),s}getValue(t,r){let n=this._values[t];if(n)return n.get(r)}scopeRefs(t,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return(0,Ss._)`${t}${n.scopePath}`})}scopeCode(t=this._values,r,n){return this._reduceValues(t,s=>{if(s.value===void 0)throw new Error(`CodeGen: name "${s}" has no value`);return s.value.code},r,n)}_reduceValues(t,r,n={},s){let i=Ss.nil;for(let a in t){let o=t[a];if(!o)continue;let c=n[a]=n[a]||new Map;o.forEach(u=>{if(c.has(u))return;c.set(u,yb.Started);let l=r(u);if(l){let d=this.opts.es5?Ts.varKinds.var:Ts.varKinds.const;i=(0,Ss._)`${i}${d} ${u} = ${l};${this.opts._n}`}else if(l=s?.(u))i=(0,Ss._)`${i}${l}${this.opts._n}`;else throw new e3(u);c.set(u,yb.Completed)})}return i}};Ts.ValueScope=t3});var qe=I(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.or=dt.and=dt.not=dt.CodeGen=dt.operators=dt.varKinds=dt.ValueScopeName=dt.ValueScope=dt.Scope=dt.Name=dt.regexpCode=dt.stringify=dt.getProperty=dt.nil=dt.strConcat=dt.str=dt._=void 0;var Ct=nf(),Gi=xb(),Cc=nf();Object.defineProperty(dt,"_",{enumerable:!0,get:function(){return Cc._}});Object.defineProperty(dt,"str",{enumerable:!0,get:function(){return Cc.str}});Object.defineProperty(dt,"strConcat",{enumerable:!0,get:function(){return Cc.strConcat}});Object.defineProperty(dt,"nil",{enumerable:!0,get:function(){return Cc.nil}});Object.defineProperty(dt,"getProperty",{enumerable:!0,get:function(){return Cc.getProperty}});Object.defineProperty(dt,"stringify",{enumerable:!0,get:function(){return Cc.stringify}});Object.defineProperty(dt,"regexpCode",{enumerable:!0,get:function(){return Cc.regexpCode}});Object.defineProperty(dt,"Name",{enumerable:!0,get:function(){return Cc.Name}});var Cb=xb();Object.defineProperty(dt,"Scope",{enumerable:!0,get:function(){return Cb.Scope}});Object.defineProperty(dt,"ValueScope",{enumerable:!0,get:function(){return Cb.ValueScope}});Object.defineProperty(dt,"ValueScopeName",{enumerable:!0,get:function(){return Cb.ValueScopeName}});Object.defineProperty(dt,"varKinds",{enumerable:!0,get:function(){return Cb.varKinds}});dt.operators={GT:new Ct._Code(">"),GTE:new Ct._Code(">="),LT:new Ct._Code("<"),LTE:new Ct._Code("<="),EQ:new Ct._Code("==="),NEQ:new Ct._Code("!=="),NOT:new Ct._Code("!"),OR:new Ct._Code("||"),AND:new Ct._Code("&&"),ADD:new Ct._Code("+")};var yo=class{optimizeNodes(){return this}optimizeNames(t,r){return this}},r3=class extends yo{constructor(t,r,n){super(),this.varKind=t,this.name=r,this.rhs=n}render({es5:t,_n:r}){let n=t?Gi.varKinds.var:this.varKind,s=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${s};`+r}optimizeNames(t,r){if(t[this.name.str])return this.rhs&&(this.rhs=af(this.rhs,t,r)),this}get names(){return this.rhs instanceof Ct._CodeOrName?this.rhs.names:{}}},vb=class extends yo{constructor(t,r,n){super(),this.lhs=t,this.rhs=r,this.sideEffects=n}render({_n:t}){return`${this.lhs} = ${this.rhs};`+t}optimizeNames(t,r){if(!(this.lhs instanceof Ct.Name&&!t[this.lhs.str]&&!this.sideEffects))return this.rhs=af(this.rhs,t,r),this}get names(){let t=this.lhs instanceof Ct.Name?{}:{...this.lhs.names};return Ib(t,this.rhs)}},n3=class extends vb{constructor(t,r,n,s){super(t,n,s),this.op=r}render({_n:t}){return`${this.lhs} ${this.op}= ${this.rhs};`+t}},s3=class extends yo{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`${this.label}:`+t}},i3=class extends yo{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`break${this.label?` ${this.label}`:""};`+t}},a3=class extends yo{constructor(t){super(),this.error=t}render({_n:t}){return`throw ${this.error};`+t}get names(){return this.error.names}},o3=class extends yo{constructor(t){super(),this.code=t}render({_n:t}){return`${this.code};`+t}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(t,r){return this.code=af(this.code,t,r),this}get names(){return this.code instanceof Ct._CodeOrName?this.code.names:{}}},_h=class extends yo{constructor(t=[]){super(),this.nodes=t}render(t){return this.nodes.reduce((r,n)=>r+n.render(t),"")}optimizeNodes(){let{nodes:t}=this,r=t.length;for(;r--;){let n=t[r].optimizeNodes();Array.isArray(n)?t.splice(r,1,...n):n?t[r]=n:t.splice(r,1)}return t.length>0?this:void 0}optimizeNames(t,r){let{nodes:n}=this,s=n.length;for(;s--;){let i=n[s];i.optimizeNames(t,r)||(RRe(t,i.names),n.splice(s,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((t,r)=>cl(t,r.names),{})}},bo=class extends _h{render(t){return"{"+t._n+super.render(t)+"}"+t._n}},c3=class extends _h{},sf=class extends bo{};sf.kind="else";var al=class e extends bo{constructor(t,r){super(r),this.condition=t}render(t){let r=`if(${this.condition})`+super.render(t);return this.else&&(r+="else "+this.else.render(t)),r}optimizeNodes(){super.optimizeNodes();let t=this.condition;if(t===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new sf(n):n}if(r)return t===!1?r instanceof e?r:r.nodes:this.nodes.length?this:new e(XH(t),r instanceof e?[r]:r.nodes);if(!(t===!1||!this.nodes.length))return this}optimizeNames(t,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(t,r),!!(super.optimizeNames(t,r)||this.else))return this.condition=af(this.condition,t,r),this}get names(){let t=super.names;return Ib(t,this.condition),this.else&&cl(t,this.else.names),t}};al.kind="if";var ol=class extends bo{};ol.kind="for";var u3=class extends ol{constructor(t){super(),this.iteration=t}render(t){return`for(${this.iteration})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iteration=af(this.iteration,t,r),this}get names(){return cl(super.names,this.iteration.names)}},l3=class extends ol{constructor(t,r,n,s){super(),this.varKind=t,this.name=r,this.from=n,this.to=s}render(t){let r=t.es5?Gi.varKinds.var:this.varKind,{name:n,from:s,to:i}=this;return`for(${r} ${n}=${s}; ${n}<${i}; ${n}++)`+super.render(t)}get names(){let t=Ib(super.names,this.from);return Ib(t,this.to)}},_b=class extends ol{constructor(t,r,n,s){super(),this.loop=t,this.varKind=r,this.name=n,this.iterable=s}render(t){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iterable=af(this.iterable,t,r),this}get names(){return cl(super.names,this.iterable.names)}},Ih=class extends bo{constructor(t,r,n){super(),this.name=t,this.args=r,this.async=n}render(t){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(t)}};Ih.kind="func";var Ch=class extends _h{render(t){return"return "+super.render(t)}};Ch.kind="return";var d3=class extends bo{render(t){let r="try"+super.render(t);return this.catch&&(r+=this.catch.render(t)),this.finally&&(r+=this.finally.render(t)),r}optimizeNodes(){var t,r;return super.optimizeNodes(),(t=this.catch)===null||t===void 0||t.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(t,r){var n,s;return super.optimizeNames(t,r),(n=this.catch)===null||n===void 0||n.optimizeNames(t,r),(s=this.finally)===null||s===void 0||s.optimizeNames(t,r),this}get names(){let t=super.names;return this.catch&&cl(t,this.catch.names),this.finally&&cl(t,this.finally.names),t}},wh=class extends bo{constructor(t){super(),this.error=t}render(t){return`catch(${this.error})`+super.render(t)}};wh.kind="catch";var Sh=class extends bo{render(t){return"finally"+super.render(t)}};Sh.kind="finally";var f3=class{constructor(t,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...r,_n:r.lines?`
`:""},this._extScope=t,this._scope=new Gi.Scope({parent:t}),this._nodes=[new c3]}toString(){return this._root.render(this.opts)}name(t){return this._scope.name(t)}scopeName(t){return this._extScope.name(t)}scopeValue(t,r){let n=this._extScope.value(t,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(t,r){return this._extScope.getValue(t,r)}scopeRefs(t){return this._extScope.scopeRefs(t,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(t,r,n,s){let i=this._scope.toName(r);return n!==void 0&&s&&(this._constants[i.str]=n),this._leafNode(new r3(t,i,n)),i}const(t,r,n){return this._def(Gi.varKinds.const,t,r,n)}let(t,r,n){return this._def(Gi.varKinds.let,t,r,n)}var(t,r,n){return this._def(Gi.varKinds.var,t,r,n)}assign(t,r,n){return this._leafNode(new vb(t,r,n))}add(t,r){return this._leafNode(new n3(t,dt.operators.ADD,r))}code(t){return typeof t=="function"?t():t!==Ct.nil&&this._leafNode(new o3(t)),this}object(...t){let r=["{"];for(let[n,s]of t)r.length>1&&r.push(","),r.push(n),(n!==s||this.opts.es5)&&(r.push(":"),(0,Ct.addCodeArg)(r,s));return r.push("}"),new Ct._Code(r)}if(t,r,n){if(this._blockNode(new al(t)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(t){return this._elseNode(new al(t))}else(){return this._elseNode(new sf)}endIf(){return this._endBlockNode(al,sf)}_for(t,r){return this._blockNode(t),r&&this.code(r).endFor(),this}for(t,r){return this._for(new u3(t),r)}forRange(t,r,n,s,i=this.opts.es5?Gi.varKinds.var:Gi.varKinds.let){let a=this._scope.toName(t);return this._for(new l3(i,a,r,n),()=>s(a))}forOf(t,r,n,s=Gi.varKinds.const){let i=this._scope.toName(t);if(this.opts.es5){let a=r instanceof Ct.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,Ct._)`${a}.length`,o=>{this.var(i,(0,Ct._)`${a}[${o}]`),n(i)})}return this._for(new _b("of",s,i,r),()=>n(i))}forIn(t,r,n,s=this.opts.es5?Gi.varKinds.var:Gi.varKinds.const){if(this.opts.ownProperties)return this.forOf(t,(0,Ct._)`Object.keys(${r})`,n);let i=this._scope.toName(t);return this._for(new _b("in",s,i,r),()=>n(i))}endFor(){return this._endBlockNode(ol)}label(t){return this._leafNode(new s3(t))}break(t){return this._leafNode(new i3(t))}return(t){let r=new Ch;if(this._blockNode(r),this.code(t),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Ch)}try(t,r,n){if(!r&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let s=new d3;if(this._blockNode(s),this.code(t),r){let i=this.name("e");this._currNode=s.catch=new wh(i),r(i)}return n&&(this._currNode=s.finally=new Sh,this.code(n)),this._endBlockNode(wh,Sh)}throw(t){return this._leafNode(new a3(t))}block(t,r){return this._blockStarts.push(this._nodes.length),t&&this.code(t).endBlock(r),this}endBlock(t){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||t!==void 0&&n!==t)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${t} expected`);return this._nodes.length=r,this}func(t,r=Ct.nil,n,s){return this._blockNode(new Ih(t,r,n)),s&&this.code(s).endFunc(),this}endFunc(){return this._endBlockNode(Ih)}optimize(t=1){for(;t-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(t){return this._currNode.nodes.push(t),this}_blockNode(t){this._currNode.nodes.push(t),this._nodes.push(t)}_endBlockNode(t,r){let n=this._currNode;if(n instanceof t||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${t.kind}/${r.kind}`:t.kind}"`)}_elseNode(t){let r=this._currNode;if(!(r instanceof al))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=t,this}get _root(){return this._nodes[0]}get _currNode(){let t=this._nodes;return t[t.length-1]}set _currNode(t){let r=this._nodes;r[r.length-1]=t}};dt.CodeGen=f3;function cl(e,t){for(let r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function Ib(e,t){return t instanceof Ct._CodeOrName?cl(e,t.names):e}function af(e,t,r){if(e instanceof Ct.Name)return n(e);if(!s(e))return e;return new Ct._Code(e._items.reduce((i,a)=>(a instanceof Ct.Name&&(a=n(a)),a instanceof Ct._Code?i.push(...a._items):i.push(a),i),[]));function n(i){let a=r[i.str];return a===void 0||t[i.str]!==1?i:(delete t[i.str],a)}function s(i){return i instanceof Ct._Code&&i._items.some(a=>a instanceof Ct.Name&&t[a.str]===1&&r[a.str]!==void 0)}}function RRe(e,t){for(let r in t)e[r]=(e[r]||0)-(t[r]||0)}function XH(e){return typeof e=="boolean"||typeof e=="number"||e===null?!e:(0,Ct._)`!${p3(e)}`}dt.not=XH;var NRe=ZH(dt.operators.AND);function kRe(...e){return e.reduce(NRe)}dt.and=kRe;var DRe=ZH(dt.operators.OR);function PRe(...e){return e.reduce(DRe)}dt.or=PRe;function ZH(e){return(t,r)=>t===Ct.nil?r:r===Ct.nil?t:(0,Ct._)`${p3(t)} ${e} ${p3(r)}`}function p3(e){return e instanceof Ct.Name?e:(0,Ct._)`(${e})`}});var ot=I(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});At.checkStrictMode=At.getErrorPath=At.Type=At.useFunc=At.setEvaluated=At.evaluatedPropsToName=At.mergeEvaluated=At.eachItem=At.unescapeJsonPointer=At.escapeJsonPointer=At.escapeFragment=At.unescapeFragment=At.schemaRefOrVal=At.schemaHasRulesButRef=At.schemaHasRules=At.checkUnknownRules=At.alwaysValidSchema=At.toHash=void 0;var ur=qe(),ORe=nf();function $Re(e){let t={};for(let r of e)t[r]=!0;return t}At.toHash=$Re;function LRe(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(rz(e,t),!nz(t,e.self.RULES.all))}At.alwaysValidSchema=LRe;function rz(e,t=e.schema){let{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;let s=n.RULES.keywords;for(let i in t)s[i]||az(e,`unknown keyword: "${i}"`)}At.checkUnknownRules=rz;function nz(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(t[r])return!0;return!1}At.schemaHasRules=nz;function MRe(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}At.schemaHasRulesButRef=MRe;function FRe({topSchemaRef:e,schemaPath:t},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,ur._)`${r}`}return(0,ur._)`${e}${t}${(0,ur.getProperty)(n)}`}At.schemaRefOrVal=FRe;function QRe(e){return sz(decodeURIComponent(e))}At.unescapeFragment=QRe;function URe(e){return encodeURIComponent(m3(e))}At.escapeFragment=URe;function m3(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}At.escapeJsonPointer=m3;function sz(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}At.unescapeJsonPointer=sz;function qRe(e,t){if(Array.isArray(e))for(let r of e)t(r);else t(e)}At.eachItem=qRe;function ez({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(s,i,a,o)=>{let c=a===void 0?i:a instanceof ur.Name?(i instanceof ur.Name?e(s,i,a):t(s,i,a),a):i instanceof ur.Name?(t(s,a,i),i):r(i,a);return o===ur.Name&&!(c instanceof ur.Name)?n(s,c):c}}At.mergeEvaluated={props:ez({mergeNames:(e,t,r)=>e.if((0,ur._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,ur._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,ur._)`${r} || {}`).code((0,ur._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,ur._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,ur._)`${r} || {}`),g3(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:iz}),items:ez({mergeNames:(e,t,r)=>e.if((0,ur._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,ur._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,ur._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,ur._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function iz(e,t){if(t===!0)return e.var("props",!0);let r=e.var("props",(0,ur._)`{}`);return t!==void 0&&g3(e,r,t),r}At.evaluatedPropsToName=iz;function g3(e,t,r){Object.keys(r).forEach(n=>e.assign((0,ur._)`${t}${(0,ur.getProperty)(n)}`,!0))}At.setEvaluated=g3;var tz={};function jRe(e,t){return e.scopeValue("func",{ref:t,code:tz[t.code]||(tz[t.code]=new ORe._Code(t.code))})}At.useFunc=jRe;var h3;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(h3||(At.Type=h3={}));function HRe(e,t,r){if(e instanceof ur.Name){let n=t===h3.Num;return r?n?(0,ur._)`"[" + ${e} + "]"`:(0,ur._)`"['" + ${e} + "']"`:n?(0,ur._)`"/" + ${e}`:(0,ur._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,ur.getProperty)(e).toString():"/"+m3(e)}At.getErrorPath=HRe;function az(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}At.checkStrictMode=az});var hi=I(A3=>{"use strict";Object.defineProperty(A3,"__esModule",{value:!0});var Hn=qe(),zRe={data:new Hn.Name("data"),valCxt:new Hn.Name("valCxt"),instancePath:new Hn.Name("instancePath"),parentData:new Hn.Name("parentData"),parentDataProperty:new Hn.Name("parentDataProperty"),rootData:new Hn.Name("rootData"),dynamicAnchors:new Hn.Name("dynamicAnchors"),vErrors:new Hn.Name("vErrors"),errors:new Hn.Name("errors"),this:new Hn.Name("this"),self:new Hn.Name("self"),scope:new Hn.Name("scope"),json:new Hn.Name("json"),jsonPos:new Hn.Name("jsonPos"),jsonLen:new Hn.Name("jsonLen"),jsonPart:new Hn.Name("jsonPart")};A3.default=zRe});var Th=I(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});zn.extendErrors=zn.resetErrorsCount=zn.reportExtraError=zn.reportError=zn.keyword$DataError=zn.keywordError=void 0;var Bt=qe(),wb=ot(),ls=hi();zn.keywordError={message:({keyword:e})=>(0,Bt.str)`must pass "${e}" keyword validation`};zn.keyword$DataError={message:({keyword:e,schemaType:t})=>t?(0,Bt.str)`"${e}" keyword must be ${t} ($data)`:(0,Bt.str)`"${e}" keyword is invalid ($data)`};function GRe(e,t=zn.keywordError,r,n){let{it:s}=e,{gen:i,compositeRule:a,allErrors:o}=s,c=uz(e,t,r);n??(a||o)?oz(i,c):cz(s,(0,Bt._)`[${c}]`)}zn.reportError=GRe;function VRe(e,t=zn.keywordError,r){let{it:n}=e,{gen:s,compositeRule:i,allErrors:a}=n,o=uz(e,t,r);oz(s,o),i||a||cz(n,ls.default.vErrors)}zn.reportExtraError=VRe;function KRe(e,t){e.assign(ls.default.errors,t),e.if((0,Bt._)`${ls.default.vErrors} !== null`,()=>e.if(t,()=>e.assign((0,Bt._)`${ls.default.vErrors}.length`,t),()=>e.assign(ls.default.vErrors,null)))}zn.resetErrorsCount=KRe;function YRe({gen:e,keyword:t,schemaValue:r,data:n,errsCount:s,it:i}){if(s===void 0)throw new Error("ajv implementation error");let a=e.name("err");e.forRange("i",s,ls.default.errors,o=>{e.const(a,(0,Bt._)`${ls.default.vErrors}[${o}]`),e.if((0,Bt._)`${a}.instancePath === undefined`,()=>e.assign((0,Bt._)`${a}.instancePath`,(0,Bt.strConcat)(ls.default.instancePath,i.errorPath))),e.assign((0,Bt._)`${a}.schemaPath`,(0,Bt.str)`${i.errSchemaPath}/${t}`),i.opts.verbose&&(e.assign((0,Bt._)`${a}.schema`,r),e.assign((0,Bt._)`${a}.data`,n))})}zn.extendErrors=YRe;function oz(e,t){let r=e.const("err",t);e.if((0,Bt._)`${ls.default.vErrors} === null`,()=>e.assign(ls.default.vErrors,(0,Bt._)`[${r}]`),(0,Bt._)`${ls.default.vErrors}.push(${r})`),e.code((0,Bt._)`${ls.default.errors}++`)}function cz(e,t){let{gen:r,validateName:n,schemaEnv:s}=e;s.$async?r.throw((0,Bt._)`new ${e.ValidationError}(${t})`):(r.assign((0,Bt._)`${n}.errors`,t),r.return(!1))}var ul={keyword:new Bt.Name("keyword"),schemaPath:new Bt.Name("schemaPath"),params:new Bt.Name("params"),propertyName:new Bt.Name("propertyName"),message:new Bt.Name("message"),schema:new Bt.Name("schema"),parentSchema:new Bt.Name("parentSchema")};function uz(e,t,r){let{createErrors:n}=e.it;return n===!1?(0,Bt._)`{}`:WRe(e,t,r)}function WRe(e,t,r={}){let{gen:n,it:s}=e,i=[JRe(s,r),XRe(e,r)];return ZRe(e,t,i),n.object(...i)}function JRe({errorPath:e},{instancePath:t}){let r=t?(0,Bt.str)`${e}${(0,wb.getErrorPath)(t,wb.Type.Str)}`:e;return[ls.default.instancePath,(0,Bt.strConcat)(ls.default.instancePath,r)]}function XRe({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:n}){let s=n?t:(0,Bt.str)`${t}/${e}`;return r&&(s=(0,Bt.str)`${s}${(0,wb.getErrorPath)(r,wb.Type.Str)}`),[ul.schemaPath,s]}function ZRe(e,{params:t,message:r},n){let{keyword:s,data:i,schemaValue:a,it:o}=e,{opts:c,propertyName:u,topSchemaRef:l,schemaPath:d}=o;n.push([ul.keyword,s],[ul.params,typeof t=="function"?t(e):t||(0,Bt._)`{}`]),c.messages&&n.push([ul.message,typeof r=="function"?r(e):r]),c.verbose&&n.push([ul.schema,a],[ul.parentSchema,(0,Bt._)`${l}${d}`],[ls.default.data,i]),u&&n.push([ul.propertyName,u])}});var dz=I(of=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});of.boolOrEmptySchema=of.topBoolOrEmptySchema=void 0;var eNe=Th(),tNe=qe(),rNe=hi(),nNe={message:"boolean schema is false"};function sNe(e){let{gen:t,schema:r,validateName:n}=e;r===!1?lz(e,!1):typeof r=="object"&&r.$async===!0?t.return(rNe.default.data):(t.assign((0,tNe._)`${n}.errors`,null),t.return(!0))}of.topBoolOrEmptySchema=sNe;function iNe(e,t){let{gen:r,schema:n}=e;n===!1?(r.var(t,!1),lz(e)):r.var(t,!0)}of.boolOrEmptySchema=iNe;function lz(e,t){let{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,eNe.reportError)(s,nNe,void 0,t)}});var y3=I(cf=>{"use strict";Object.defineProperty(cf,"__esModule",{value:!0});cf.getRules=cf.isJSONType=void 0;var aNe=["string","number","integer","boolean","null","object","array"],oNe=new Set(aNe);function cNe(e){return typeof e=="string"&&oNe.has(e)}cf.isJSONType=cNe;function uNe(){let e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}cf.getRules=uNe});var b3=I(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.shouldUseRule=wc.shouldUseGroup=wc.schemaHasRulesForType=void 0;function lNe({schema:e,self:t},r){let n=t.RULES.types[r];return n&&n!==!0&&fz(e,n)}wc.schemaHasRulesForType=lNe;function fz(e,t){return t.rules.some(r=>pz(e,r))}wc.shouldUseGroup=fz;function pz(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}wc.shouldUseRule=pz});var Bh=I(Gn=>{"use strict";Object.defineProperty(Gn,"__esModule",{value:!0});Gn.reportTypeError=Gn.checkDataTypes=Gn.checkDataType=Gn.coerceAndCheckDataType=Gn.getJSONTypes=Gn.getSchemaTypes=Gn.DataType=void 0;var dNe=y3(),fNe=b3(),pNe=Th(),rt=qe(),hz=ot(),uf;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(uf||(Gn.DataType=uf={}));function hNe(e){let t=mz(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}Gn.getSchemaTypes=hNe;function mz(e){let t=Array.isArray(e)?e:e?[e]:[];if(t.every(dNe.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}Gn.getJSONTypes=mz;function mNe(e,t){let{gen:r,data:n,opts:s}=e,i=gNe(t,s.coerceTypes),a=t.length>0&&!(i.length===0&&t.length===1&&(0,fNe.schemaHasRulesForType)(e,t[0]));if(a){let o=x3(t,n,s.strictNumbers,uf.Wrong);r.if(o,()=>{i.length?ANe(e,t,i):v3(e)})}return a}Gn.coerceAndCheckDataType=mNe;var gz=new Set(["string","number","integer","boolean","null"]);function gNe(e,t){return t?e.filter(r=>gz.has(r)||t==="array"&&r==="array"):[]}function ANe(e,t,r){let{gen:n,data:s,opts:i}=e,a=n.let("dataType",(0,rt._)`typeof ${s}`),o=n.let("coerced",(0,rt._)`undefined`);i.coerceTypes==="array"&&n.if((0,rt._)`${a} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,rt._)`${s}[0]`).assign(a,(0,rt._)`typeof ${s}`).if(x3(t,s,i.strictNumbers),()=>n.assign(o,s))),n.if((0,rt._)`${o} !== undefined`);for(let u of r)(gz.has(u)||u==="array"&&i.coerceTypes==="array")&&c(u);n.else(),v3(e),n.endIf(),n.if((0,rt._)`${o} !== undefined`,()=>{n.assign(s,o),yNe(e,o)});function c(u){switch(u){case"string":n.elseIf((0,rt._)`${a} == "number" || ${a} == "boolean"`).assign(o,(0,rt._)`"" + ${s}`).elseIf((0,rt._)`${s} === null`).assign(o,(0,rt._)`""`);return;case"number":n.elseIf((0,rt._)`${a} == "boolean" || ${s} === null
              || (${a} == "string" && ${s} && ${s} == +${s})`).assign(o,(0,rt._)`+${s}`);return;case"integer":n.elseIf((0,rt._)`${a} === "boolean" || ${s} === null
              || (${a} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(o,(0,rt._)`+${s}`);return;case"boolean":n.elseIf((0,rt._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(o,!1).elseIf((0,rt._)`${s} === "true" || ${s} === 1`).assign(o,!0);return;case"null":n.elseIf((0,rt._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(o,null);return;case"array":n.elseIf((0,rt._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${s} === null`).assign(o,(0,rt._)`[${s}]`)}}}function yNe({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,rt._)`${t} !== undefined`,()=>e.assign((0,rt._)`${t}[${r}]`,n))}function E3(e,t,r,n=uf.Correct){let s=n===uf.Correct?rt.operators.EQ:rt.operators.NEQ,i;switch(e){case"null":return(0,rt._)`${t} ${s} null`;case"array":i=(0,rt._)`Array.isArray(${t})`;break;case"object":i=(0,rt._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=a((0,rt._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=a();break;default:return(0,rt._)`typeof ${t} ${s} ${e}`}return n===uf.Correct?i:(0,rt.not)(i);function a(o=rt.nil){return(0,rt.and)((0,rt._)`typeof ${t} == "number"`,o,r?(0,rt._)`isFinite(${t})`:rt.nil)}}Gn.checkDataType=E3;function x3(e,t,r,n){if(e.length===1)return E3(e[0],t,r,n);let s,i=(0,hz.toHash)(e);if(i.array&&i.object){let a=(0,rt._)`typeof ${t} != "object"`;s=i.null?a:(0,rt._)`!${t} || ${a}`,delete i.null,delete i.array,delete i.object}else s=rt.nil;i.number&&delete i.integer;for(let a in i)s=(0,rt.and)(s,E3(a,t,r,n));return s}Gn.checkDataTypes=x3;var bNe={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,rt._)`{type: ${e}}`:(0,rt._)`{type: ${t}}`};function v3(e){let t=ENe(e);(0,pNe.reportError)(t,bNe)}Gn.reportTypeError=v3;function ENe(e){let{gen:t,data:r,schema:n}=e,s=(0,hz.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:e}}});var yz=I(Sb=>{"use strict";Object.defineProperty(Sb,"__esModule",{value:!0});Sb.assignDefaults=void 0;var lf=qe(),xNe=ot();function vNe(e,t){let{properties:r,items:n}=e.schema;if(t==="object"&&r)for(let s in r)Az(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,i)=>Az(e,i,s.default))}Sb.assignDefaults=vNe;function Az(e,t,r){let{gen:n,compositeRule:s,data:i,opts:a}=e;if(r===void 0)return;let o=(0,lf._)`${i}${(0,lf.getProperty)(t)}`;if(s){(0,xNe.checkStrictMode)(e,`default is ignored for: ${o}`);return}let c=(0,lf._)`${o} === undefined`;a.useDefaults==="empty"&&(c=(0,lf._)`${c} || ${o} === null || ${o} === ""`),n.if(c,(0,lf._)`${o} = ${(0,lf.stringify)(r)}`)}});var wn=I(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.validateUnion=er.validateArray=er.usePattern=er.callValidateCode=er.schemaProperties=er.allSchemaProperties=er.noPropertyInData=er.propertyInData=er.isOwnProperty=er.hasPropFunc=er.reportMissingProp=er.checkMissingProp=er.checkReportMissingProp=void 0;var Er=qe(),_3=ot(),Sc=hi(),_Ne=ot();function INe(e,t){let{gen:r,data:n,it:s}=e;r.if(C3(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Er._)`${t}`},!0),e.error()})}er.checkReportMissingProp=INe;function CNe({gen:e,data:t,it:{opts:r}},n,s){return(0,Er.or)(...n.map(i=>(0,Er.and)(C3(e,t,i,r.ownProperties),(0,Er._)`${s} = ${i}`)))}er.checkMissingProp=CNe;function wNe(e,t){e.setParams({missingProperty:t},!0),e.error()}er.reportMissingProp=wNe;function bz(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Er._)`Object.prototype.hasOwnProperty`})}er.hasPropFunc=bz;function I3(e,t,r){return(0,Er._)`${bz(e)}.call(${t}, ${r})`}er.isOwnProperty=I3;function SNe(e,t,r,n){let s=(0,Er._)`${t}${(0,Er.getProperty)(r)} !== undefined`;return n?(0,Er._)`${s} && ${I3(e,t,r)}`:s}er.propertyInData=SNe;function C3(e,t,r,n){let s=(0,Er._)`${t}${(0,Er.getProperty)(r)} === undefined`;return n?(0,Er.or)(s,(0,Er.not)(I3(e,t,r))):s}er.noPropertyInData=C3;function Ez(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}er.allSchemaProperties=Ez;function TNe(e,t){return Ez(t).filter(r=>!(0,_3.alwaysValidSchema)(e,t[r]))}er.schemaProperties=TNe;function BNe({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:i},it:a},o,c,u){let l=u?(0,Er._)`${e}, ${t}, ${n}${s}`:t,d=[[Sc.default.instancePath,(0,Er.strConcat)(Sc.default.instancePath,i)],[Sc.default.parentData,a.parentData],[Sc.default.parentDataProperty,a.parentDataProperty],[Sc.default.rootData,Sc.default.rootData]];a.opts.dynamicRef&&d.push([Sc.default.dynamicAnchors,Sc.default.dynamicAnchors]);let f=(0,Er._)`${l}, ${r.object(...d)}`;return c!==Er.nil?(0,Er._)`${o}.call(${c}, ${f})`:(0,Er._)`${o}(${f})`}er.callValidateCode=BNe;var RNe=(0,Er._)`new RegExp`;function NNe({gen:e,it:{opts:t}},r){let n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,i=s(r,n);return e.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,Er._)`${s.code==="new RegExp"?RNe:(0,_Ne.useFunc)(e,s)}(${r}, ${n})`})}er.usePattern=NNe;function kNe(e){let{gen:t,data:r,keyword:n,it:s}=e,i=t.name("valid");if(s.allErrors){let o=t.let("valid",!0);return a(()=>t.assign(o,!1)),o}return t.var(i,!0),a(()=>t.break()),i;function a(o){let c=t.const("len",(0,Er._)`${r}.length`);t.forRange("i",0,c,u=>{e.subschema({keyword:n,dataProp:u,dataPropType:_3.Type.Num},i),t.if((0,Er.not)(i),o)})}}er.validateArray=kNe;function DNe(e){let{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,_3.alwaysValidSchema)(s,c))&&!s.opts.unevaluated)return;let a=t.let("valid",!1),o=t.name("_valid");t.block(()=>r.forEach((c,u)=>{let l=e.subschema({keyword:n,schemaProp:u,compositeRule:!0},o);t.assign(a,(0,Er._)`${a} || ${o}`),e.mergeValidEvaluated(l,o)||t.if((0,Er.not)(a))})),e.result(a,()=>e.reset(),()=>e.error(!0))}er.validateUnion=DNe});var _z=I(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.validateKeywordUsage=Sa.validSchemaType=Sa.funcKeywordCode=Sa.macroKeywordCode=void 0;var ds=qe(),ll=hi(),PNe=wn(),ONe=Th();function $Ne(e,t){let{gen:r,keyword:n,schema:s,parentSchema:i,it:a}=e,o=t.macro.call(a.self,s,i,a),c=vz(r,n,o);a.opts.validateSchema!==!1&&a.self.validateSchema(o,!0);let u=r.name("valid");e.subschema({schema:o,schemaPath:ds.nil,errSchemaPath:`${a.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}Sa.macroKeywordCode=$Ne;function LNe(e,t){var r;let{gen:n,keyword:s,schema:i,parentSchema:a,$data:o,it:c}=e;FNe(c,t);let u=!o&&t.compile?t.compile.call(c.self,i,a,c):t.validate,l=vz(n,s,u),d=n.let("valid");e.block$data(d,f),e.ok((r=t.valid)!==null&&r!==void 0?r:d);function f(){if(t.errors===!1)m(),t.modifying&&xz(e),A(()=>e.error());else{let g=t.async?h():p();t.modifying&&xz(e),A(()=>MNe(e,g))}}function h(){let g=n.let("ruleErrs",null);return n.try(()=>m((0,ds._)`await `),x=>n.assign(d,!1).if((0,ds._)`${x} instanceof ${c.ValidationError}`,()=>n.assign(g,(0,ds._)`${x}.errors`),()=>n.throw(x))),g}function p(){let g=(0,ds._)`${l}.errors`;return n.assign(g,null),m(ds.nil),g}function m(g=t.async?(0,ds._)`await `:ds.nil){let x=c.opts.passContext?ll.default.this:ll.default.self,y=!("compile"in t&&!o||t.schema===!1);n.assign(d,(0,ds._)`${g}${(0,PNe.callValidateCode)(e,l,x,y)}`,t.modifying)}function A(g){var x;n.if((0,ds.not)((x=t.valid)!==null&&x!==void 0?x:d),g)}}Sa.funcKeywordCode=LNe;function xz(e){let{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,ds._)`${n.parentData}[${n.parentDataProperty}]`))}function MNe(e,t){let{gen:r}=e;r.if((0,ds._)`Array.isArray(${t})`,()=>{r.assign(ll.default.vErrors,(0,ds._)`${ll.default.vErrors} === null ? ${t} : ${ll.default.vErrors}.concat(${t})`).assign(ll.default.errors,(0,ds._)`${ll.default.vErrors}.length`),(0,ONe.extendErrors)(e)},()=>e.error())}function FNe({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function vz(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,ds.stringify)(r)})}function QNe(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}Sa.validSchemaType=QNe;function UNe({schema:e,opts:t,self:r,errSchemaPath:n},s,i){if(Array.isArray(s.keyword)?!s.keyword.includes(i):s.keyword!==i)throw new Error("ajv implementation error");let a=s.dependencies;if(a?.some(o=>!Object.prototype.hasOwnProperty.call(e,o)))throw new Error(`parent schema must have dependencies of ${i}: ${a.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[i])){let c=`keyword "${i}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}Sa.validateKeywordUsage=UNe});var Cz=I(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.extendSubschemaMode=Tc.extendSubschemaData=Tc.getSubschema=void 0;var Ta=qe(),Iz=ot();function qNe(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:i,topSchemaRef:a}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){let o=e.schema[t];return r===void 0?{schema:o,schemaPath:(0,Ta._)`${e.schemaPath}${(0,Ta.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:o[r],schemaPath:(0,Ta._)`${e.schemaPath}${(0,Ta.getProperty)(t)}${(0,Ta.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Iz.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||i===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:a,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}Tc.getSubschema=qNe;function jNe(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:i,propertyName:a}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:o}=t;if(r!==void 0){let{errorPath:u,dataPathArr:l,opts:d}=t,f=o.let("data",(0,Ta._)`${t.data}${(0,Ta.getProperty)(r)}`,!0);c(f),e.errorPath=(0,Ta.str)`${u}${(0,Iz.getErrorPath)(r,n,d.jsPropertySyntax)}`,e.parentDataProperty=(0,Ta._)`${r}`,e.dataPathArr=[...l,e.parentDataProperty]}if(s!==void 0){let u=s instanceof Ta.Name?s:o.let("data",s,!0);c(u),a!==void 0&&(e.propertyName=a)}i&&(e.dataTypes=i);function c(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}Tc.extendSubschemaData=jNe;function HNe(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:i}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),i!==void 0&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=r}Tc.extendSubschemaMode=HNe});var Sz=I((jft,wz)=>{"use strict";var Bc=wz.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};Tb(t,n,s,e,"",e)};Bc.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Bc.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Bc.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Bc.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Tb(e,t,r,n,s,i,a,o,c,u){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,i,a,o,c,u);for(var l in n){var d=n[l];if(Array.isArray(d)){if(l in Bc.arrayKeywords)for(var f=0;f<d.length;f++)Tb(e,t,r,d[f],s+"/"+l+"/"+f,i,s,l,n,f)}else if(l in Bc.propsKeywords){if(d&&typeof d=="object")for(var h in d)Tb(e,t,r,d[h],s+"/"+l+"/"+zNe(h),i,s,l,n,h)}else(l in Bc.keywords||e.allKeys&&!(l in Bc.skipKeywords))&&Tb(e,t,r,d,s+"/"+l,i,s,l,n)}r(n,s,i,a,o,c,u)}}function zNe(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}});var Rh=I(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.getSchemaRefs=Bs.resolveUrl=Bs.normalizeId=Bs._getFullPath=Bs.getFullPath=Bs.inlineRef=void 0;var GNe=ot(),VNe=oi(),KNe=Sz(),YNe=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function WNe(e,t=!0){return typeof e=="boolean"?!0:t===!0?!w3(e):t?Tz(e)<=t:!1}Bs.inlineRef=WNe;var JNe=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function w3(e){for(let t in e){if(JNe.has(t))return!0;let r=e[t];if(Array.isArray(r)&&r.some(w3)||typeof r=="object"&&w3(r))return!0}return!1}function Tz(e){let t=0;for(let r in e){if(r==="$ref")return 1/0;if(t++,!YNe.has(r)&&(typeof e[r]=="object"&&(0,GNe.eachItem)(e[r],n=>t+=Tz(n)),t===1/0))return 1/0}return t}function Bz(e,t="",r){r!==!1&&(t=df(t));let n=e.parse(t);return Rz(e,n)}Bs.getFullPath=Bz;function Rz(e,t){return e.serialize(t).split("#")[0]+"#"}Bs._getFullPath=Rz;var XNe=/#\/?$/;function df(e){return e?e.replace(XNe,""):""}Bs.normalizeId=df;function ZNe(e,t,r){return r=df(r),e.resolve(t,r)}Bs.resolveUrl=ZNe;var eke=/^[a-z_][-a-z0-9._]*$/i;function tke(e,t){if(typeof e=="boolean")return{};let{schemaId:r,uriResolver:n}=this.opts,s=df(e[r]||t),i={"":s},a=Bz(n,s,!1),o={},c=new Set;return KNe(e,{allKeys:!0},(d,f,h,p)=>{if(p===void 0)return;let m=a+f,A=i[p];typeof d[r]=="string"&&(A=g.call(this,d[r])),x.call(this,d.$anchor),x.call(this,d.$dynamicAnchor),i[f]=A;function g(y){let b=this.opts.uriResolver.resolve;if(y=df(A?b(A,y):y),c.has(y))throw l(y);c.add(y);let _=this.refs[y];return typeof _=="string"&&(_=this.refs[_]),typeof _=="object"?u(d,_.schema,y):y!==df(m)&&(y[0]==="#"?(u(d,o[y],y),o[y]=d):this.refs[y]=m),y}function x(y){if(typeof y=="string"){if(!eke.test(y))throw new Error(`invalid anchor "${y}"`);g.call(this,`#${y}`)}}}),o;function u(d,f,h){if(f!==void 0&&!VNe(d,f))throw l(h)}function l(d){return new Error(`reference "${d}" resolves to more than one schema`)}}Bs.getSchemaRefs=tke});var ff=I(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.getData=Rc.KeywordCxt=Rc.validateFunctionCode=void 0;var Oz=dz(),Nz=Bh(),T3=b3(),Bb=Bh(),rke=yz(),kh=_z(),S3=Cz(),Me=qe(),Ye=hi(),nke=Rh(),Eo=ot(),Nh=Th();function ske(e){if(Mz(e)&&(Fz(e),Lz(e))){oke(e);return}$z(e,()=>(0,Oz.topBoolOrEmptySchema)(e))}Rc.validateFunctionCode=ske;function $z({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},i){s.code.es5?e.func(t,(0,Me._)`${Ye.default.data}, ${Ye.default.valCxt}`,n.$async,()=>{e.code((0,Me._)`"use strict"; ${kz(r,s)}`),ake(e,s),e.code(i)}):e.func(t,(0,Me._)`${Ye.default.data}, ${ike(s)}`,n.$async,()=>e.code(kz(r,s)).code(i))}function ike(e){return(0,Me._)`{${Ye.default.instancePath}="", ${Ye.default.parentData}, ${Ye.default.parentDataProperty}, ${Ye.default.rootData}=${Ye.default.data}${e.dynamicRef?(0,Me._)`, ${Ye.default.dynamicAnchors}={}`:Me.nil}}={}`}function ake(e,t){e.if(Ye.default.valCxt,()=>{e.var(Ye.default.instancePath,(0,Me._)`${Ye.default.valCxt}.${Ye.default.instancePath}`),e.var(Ye.default.parentData,(0,Me._)`${Ye.default.valCxt}.${Ye.default.parentData}`),e.var(Ye.default.parentDataProperty,(0,Me._)`${Ye.default.valCxt}.${Ye.default.parentDataProperty}`),e.var(Ye.default.rootData,(0,Me._)`${Ye.default.valCxt}.${Ye.default.rootData}`),t.dynamicRef&&e.var(Ye.default.dynamicAnchors,(0,Me._)`${Ye.default.valCxt}.${Ye.default.dynamicAnchors}`)},()=>{e.var(Ye.default.instancePath,(0,Me._)`""`),e.var(Ye.default.parentData,(0,Me._)`undefined`),e.var(Ye.default.parentDataProperty,(0,Me._)`undefined`),e.var(Ye.default.rootData,Ye.default.data),t.dynamicRef&&e.var(Ye.default.dynamicAnchors,(0,Me._)`{}`)})}function oke(e){let{schema:t,opts:r,gen:n}=e;$z(e,()=>{r.$comment&&t.$comment&&Uz(e),fke(e),n.let(Ye.default.vErrors,null),n.let(Ye.default.errors,0),r.unevaluated&&cke(e),Qz(e),mke(e)})}function cke(e){let{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,Me._)`${r}.evaluated`),t.if((0,Me._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,Me._)`${e.evaluated}.props`,(0,Me._)`undefined`)),t.if((0,Me._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,Me._)`${e.evaluated}.items`,(0,Me._)`undefined`))}function kz(e,t){let r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,Me._)`/*# sourceURL=${r} */`:Me.nil}function uke(e,t){if(Mz(e)&&(Fz(e),Lz(e))){lke(e,t);return}(0,Oz.boolOrEmptySchema)(e,t)}function Lz({schema:e,self:t}){if(typeof e=="boolean")return!e;for(let r in e)if(t.RULES.all[r])return!0;return!1}function Mz(e){return typeof e.schema!="boolean"}function lke(e,t){let{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&Uz(e),pke(e),hke(e);let i=n.const("_errs",Ye.default.errors);Qz(e,i),n.var(t,(0,Me._)`${i} === ${Ye.default.errors}`)}function Fz(e){(0,Eo.checkUnknownRules)(e),dke(e)}function Qz(e,t){if(e.opts.jtd)return Dz(e,[],!1,t);let r=(0,Nz.getSchemaTypes)(e.schema),n=(0,Nz.coerceAndCheckDataType)(e,r);Dz(e,r,!n,t)}function dke(e){let{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Eo.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function fke(e){let{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Eo.checkStrictMode)(e,"default is ignored in the schema root")}function pke(e){let t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,nke.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function hke(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function Uz({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){let i=r.$comment;if(s.$comment===!0)e.code((0,Me._)`${Ye.default.self}.logger.log(${i})`);else if(typeof s.$comment=="function"){let a=(0,Me.str)`${n}/$comment`,o=e.scopeValue("root",{ref:t.root});e.code((0,Me._)`${Ye.default.self}.opts.$comment(${i}, ${a}, ${o}.schema)`)}}function mke(e){let{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:i}=e;r.$async?t.if((0,Me._)`${Ye.default.errors} === 0`,()=>t.return(Ye.default.data),()=>t.throw((0,Me._)`new ${s}(${Ye.default.vErrors})`)):(t.assign((0,Me._)`${n}.errors`,Ye.default.vErrors),i.unevaluated&&gke(e),t.return((0,Me._)`${Ye.default.errors} === 0`))}function gke({gen:e,evaluated:t,props:r,items:n}){r instanceof Me.Name&&e.assign((0,Me._)`${t}.props`,r),n instanceof Me.Name&&e.assign((0,Me._)`${t}.items`,n)}function Dz(e,t,r,n){let{gen:s,schema:i,data:a,allErrors:o,opts:c,self:u}=e,{RULES:l}=u;if(i.$ref&&(c.ignoreKeywordsWithRef||!(0,Eo.schemaHasRulesButRef)(i,l))){s.block(()=>jz(e,"$ref",l.all.$ref.definition));return}c.jtd||Ake(e,t),s.block(()=>{for(let f of l.rules)d(f);d(l.post)});function d(f){(0,T3.shouldUseGroup)(i,f)&&(f.type?(s.if((0,Bb.checkDataType)(f.type,a,c.strictNumbers)),Pz(e,f),t.length===1&&t[0]===f.type&&r&&(s.else(),(0,Bb.reportTypeError)(e)),s.endIf()):Pz(e,f),o||s.if((0,Me._)`${Ye.default.errors} === ${n||0}`))}}function Pz(e,t){let{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,rke.assignDefaults)(e,t.type),r.block(()=>{for(let i of t.rules)(0,T3.shouldUseRule)(n,i)&&jz(e,i.keyword,i.definition,t.type)})}function Ake(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(yke(e,t),e.opts.allowUnionTypes||bke(e,t),Eke(e,e.dataTypes))}function yke(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{qz(e.dataTypes,r)||B3(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),vke(e,t)}}function bke(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&B3(e,"use allowUnionTypes to allow union type keyword")}function Eke(e,t){let r=e.self.RULES.all;for(let n in r){let s=r[n];if(typeof s=="object"&&(0,T3.shouldUseRule)(e.schema,s)){let{type:i}=s.definition;i.length&&!i.some(a=>xke(t,a))&&B3(e,`missing type "${i.join(",")}" for keyword "${n}"`)}}}function xke(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function qz(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function vke(e,t){let r=[];for(let n of e.dataTypes)qz(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function B3(e,t){let r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Eo.checkStrictMode)(e,t,e.opts.strictTypes)}var Rb=class{constructor(t,r,n){if((0,kh.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Eo.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",Hz(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,kh.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",Ye.default.errors))}result(t,r,n){this.failResult((0,Me.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,Me.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);let{schemaCode:r}=this;this.fail((0,Me._)`${r} !== undefined && (${(0,Me.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Nh.reportExtraError:Nh.reportError)(this,this.def.error,r)}$dataError(){(0,Nh.reportError)(this,this.def.$dataError||Nh.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Nh.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=Me.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=Me.nil,r=Me.nil){if(!this.$data)return;let{gen:n,schemaCode:s,schemaType:i,def:a}=this;n.if((0,Me.or)((0,Me._)`${s} === undefined`,r)),t!==Me.nil&&n.assign(t,!0),(i.length||a.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==Me.nil&&n.assign(t,!1)),n.else()}invalid$data(){let{gen:t,schemaCode:r,schemaType:n,def:s,it:i}=this;return(0,Me.or)(a(),o());function a(){if(n.length){if(!(r instanceof Me.Name))throw new Error("ajv implementation error");let c=Array.isArray(n)?n:[n];return(0,Me._)`${(0,Bb.checkDataTypes)(c,r,i.opts.strictNumbers,Bb.DataType.Wrong)}`}return Me.nil}function o(){if(s.validateSchema){let c=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,Me._)`!${c}(${r})`}return Me.nil}}subschema(t,r){let n=(0,S3.getSubschema)(this.it,t);(0,S3.extendSubschemaData)(n,this.it,t),(0,S3.extendSubschemaMode)(n,t);let s={...this.it,...n,items:void 0,props:void 0};return uke(s,r),s}mergeEvaluated(t,r){let{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Eo.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Eo.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){let{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,Me.Name)),!0}};Rc.KeywordCxt=Rb;function jz(e,t,r,n){let s=new Rb(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,kh.funcKeywordCode)(s,r):"macro"in r?(0,kh.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,kh.funcKeywordCode)(s,r)}var _ke=/^\/(?:[^~]|~0|~1)*$/,Ike=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Hz(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,i;if(e==="")return Ye.default.rootData;if(e[0]==="/"){if(!_ke.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,i=Ye.default.rootData}else{let u=Ike.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);let l=+u[1];if(s=u[2],s==="#"){if(l>=t)throw new Error(c("property/index",l));return n[t-l]}if(l>t)throw new Error(c("data",l));if(i=r[t-l],!s)return i}let a=i,o=s.split("/");for(let u of o)u&&(i=(0,Me._)`${i}${(0,Me.getProperty)((0,Eo.unescapeJsonPointer)(u))}`,a=(0,Me._)`${a} && ${i}`);return a;function c(u,l){return`Cannot access ${u} ${l} levels up, current level is ${t}`}}Rc.getData=Hz});var Dh=I(N3=>{"use strict";Object.defineProperty(N3,"__esModule",{value:!0});var R3=class extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}};N3.default=R3});var xo=I(P3=>{"use strict";Object.defineProperty(P3,"__esModule",{value:!0});var k3=Rh(),D3=class extends Error{constructor(t,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,k3.resolveUrl)(t,r,n),this.missingSchema=(0,k3.normalizeId)((0,k3.getFullPath)(t,this.missingRef))}};P3.default=D3});var fl=I(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.resolveSchema=mi.getCompilingSchema=mi.resolveRef=mi.compileSchema=mi.SchemaEnv=void 0;var Vi=qe(),Cke=Dh(),dl=hi(),Ki=Rh(),zz=ot(),wke=ff(),pf=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Ki.normalizeId)(n?.[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n?.$async,this.refs={}}};mi.SchemaEnv=pf;function $3(e){let t=Gz.call(this,e);if(t)return t;let r=(0,Ki.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:i}=this.opts,a=new Vi.CodeGen(this.scope,{es5:n,lines:s,ownProperties:i}),o;e.$async&&(o=a.scopeValue("Error",{ref:Cke.default,code:(0,Vi._)`require("ajv/dist/runtime/validation_error").default`}));let c=a.scopeName("validate");e.validateName=c;let u={gen:a,allErrors:this.opts.allErrors,data:dl.default.data,parentData:dl.default.parentData,parentDataProperty:dl.default.parentDataProperty,dataNames:[dl.default.data],dataPathArr:[Vi.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Vi.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:o,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Vi.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Vi._)`""`,opts:this.opts,self:this},l;try{this._compilations.add(e),(0,wke.validateFunctionCode)(u),a.optimize(this.opts.code.optimize);let d=a.toString();l=`${a.scopeRefs(dl.default.scope)}return ${d}`,this.opts.code.process&&(l=this.opts.code.process(l,e));let h=new Function(`${dl.default.self}`,`${dl.default.scope}`,l)(this,this.scope.get());if(this.scope.value(c,{ref:h}),h.errors=null,h.schema=e.schema,h.schemaEnv=e,e.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:c,validateCode:d,scopeValues:a._values}),this.opts.unevaluated){let{props:p,items:m}=u;h.evaluated={props:p instanceof Vi.Name?void 0:p,items:m instanceof Vi.Name?void 0:m,dynamicProps:p instanceof Vi.Name,dynamicItems:m instanceof Vi.Name},h.source&&(h.source.evaluated=(0,Vi.stringify)(h.evaluated))}return e.validate=h,e}catch(d){throw delete e.validate,delete e.validateName,l&&this.logger.error("Error compiling schema, function code:",l),d}finally{this._compilations.delete(e)}}mi.compileSchema=$3;function Ske(e,t,r){var n;r=(0,Ki.resolveUrl)(this.opts.uriResolver,t,r);let s=e.refs[r];if(s)return s;let i=Rke.call(this,e,r);if(i===void 0){let a=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:o}=this.opts;a&&(i=new pf({schema:a,schemaId:o,root:e,baseId:t}))}if(i!==void 0)return e.refs[r]=Tke.call(this,i)}mi.resolveRef=Ske;function Tke(e){return(0,Ki.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:$3.call(this,e)}function Gz(e){for(let t of this._compilations)if(Bke(t,e))return t}mi.getCompilingSchema=Gz;function Bke(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function Rke(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Nb.call(this,e,t)}function Nb(e,t){let r=this.opts.uriResolver.parse(t),n=(0,Ki._getFullPath)(this.opts.uriResolver,r),s=(0,Ki.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return O3.call(this,r,e);let i=(0,Ki.normalizeId)(n),a=this.refs[i]||this.schemas[i];if(typeof a=="string"){let o=Nb.call(this,e,a);return typeof o?.schema!="object"?void 0:O3.call(this,r,o)}if(typeof a?.schema=="object"){if(a.validate||$3.call(this,a),i===(0,Ki.normalizeId)(t)){let{schema:o}=a,{schemaId:c}=this.opts,u=o[c];return u&&(s=(0,Ki.resolveUrl)(this.opts.uriResolver,s,u)),new pf({schema:o,schemaId:c,root:e,baseId:s})}return O3.call(this,r,a)}}mi.resolveSchema=Nb;var Nke=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function O3(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(let o of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let c=r[(0,zz.unescapeFragment)(o)];if(c===void 0)return;r=c;let u=typeof r=="object"&&r[this.opts.schemaId];!Nke.has(o)&&u&&(t=(0,Ki.resolveUrl)(this.opts.uriResolver,t,u))}let i;if(typeof r!="boolean"&&r.$ref&&!(0,zz.schemaHasRulesButRef)(r,this.RULES)){let o=(0,Ki.resolveUrl)(this.opts.uriResolver,t,r.$ref);i=Nb.call(this,n,o)}let{schemaId:a}=this.opts;if(i=i||new pf({schema:r,schemaId:a,root:n,baseId:t}),i.schema!==i.root.schema)return i}});var Vz=I((Yft,kke)=>{kke.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var M3=I((Wft,Jz)=>{"use strict";var Dke=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),Yz=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function L3(e){let t="",r=0,n=0;for(n=0;n<e.length;n++)if(r=e[n].charCodeAt(0),r!==48){if(!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n];break}for(n+=1;n<e.length;n++){if(r=e[n].charCodeAt(0),!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n]}return t}var Pke=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function Kz(e){return e.length=0,!0}function Oke(e,t,r){if(e.length){let n=L3(e);if(n!=="")t.push(n);else return r.error=!0,!1;e.length=0}return!0}function $ke(e){let t=0,r={error:!1,address:"",zone:""},n=[],s=[],i=!1,a=!1,o=Oke;for(let c=0;c<e.length;c++){let u=e[c];if(!(u==="["||u==="]"))if(u===":"){if(i===!0&&(a=!0),!o(s,n,r))break;if(++t>7){r.error=!0;break}c>0&&e[c-1]===":"&&(i=!0),n.push(":");continue}else if(u==="%"){if(!o(s,n,r))break;o=Kz}else{s.push(u);continue}}return s.length&&(o===Kz?r.zone=s.join(""):a?n.push(s.join("")):n.push(L3(s))),r.address=n.join(""),r}function Wz(e){if(Lke(e,":")<2)return{host:e,isIPV6:!1};let t=$ke(e);if(t.error)return{host:e,isIPV6:!1};{let r=t.address,n=t.address;return t.zone&&(r+="%"+t.zone,n+="%25"+t.zone),{host:r,isIPV6:!0,escapedHost:n}}}function Lke(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}function Mke(e){let t=e,r=[],n=-1,s=0;for(;s=t.length;){if(s===1){if(t===".")break;if(t==="/"){r.push("/");break}else{r.push(t);break}}else if(s===2){if(t[0]==="."){if(t[1]===".")break;if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&(t[1]==="."||t[1]==="/")){r.push("/");break}}else if(s===3&&t==="/.."){r.length!==0&&r.pop(),r.push("/");break}if(t[0]==="."){if(t[1]==="."){if(t[2]==="/"){t=t.slice(3);continue}}else if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&t[1]==="."){if(t[2]==="/"){t=t.slice(2);continue}else if(t[2]==="."&&t[3]==="/"){t=t.slice(3),r.length!==0&&r.pop();continue}}if((n=t.indexOf("/",1))===-1){r.push(t);break}else r.push(t.slice(0,n)),t=t.slice(n)}return r.join("")}function Fke(e,t){let r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function Qke(e){let t=[];if(e.userinfo!==void 0&&(t.push(e.userinfo),t.push("@")),e.host!==void 0){let r=unescape(e.host);if(!Yz(r)){let n=Wz(r);n.isIPV6===!0?r=`[${n.escapedHost}]`:r=e.host}t.push(r)}return(typeof e.port=="number"||typeof e.port=="string")&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}Jz.exports={nonSimpleDomain:Pke,recomposeAuthority:Qke,normalizeComponentEncoding:Fke,removeDotSegments:Mke,isIPv4:Yz,isUUID:Dke,normalizeIPv6:Wz,stringArrayToHexStripped:L3}});var rG=I((Jft,tG)=>{"use strict";var{isUUID:Uke}=M3(),qke=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,jke=["http","https","ws","wss","urn","urn:uuid"];function Hke(e){return jke.indexOf(e)!==-1}function F3(e){return e.secure===!0?!0:e.secure===!1?!1:e.scheme?e.scheme.length===3&&(e.scheme[0]==="w"||e.scheme[0]==="W")&&(e.scheme[1]==="s"||e.scheme[1]==="S")&&(e.scheme[2]==="s"||e.scheme[2]==="S"):!1}function Xz(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function Zz(e){let t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function zke(e){return e.secure=F3(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function Gke(e){if((e.port===(F3(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){let[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function Vke(e,t){if(!e.path)return e.error="URN can not be parsed",e;let r=e.path.match(qke);if(r){let n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];let s=`${n}:${t.nid||e.nid}`,i=Q3(s);e.path=void 0,i&&(e=i.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function Kke(e,t){if(e.nid===void 0)throw new Error("URN without nid cannot be serialized");let r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),s=`${r}:${t.nid||n}`,i=Q3(s);i&&(e=i.serialize(e,t));let a=e,o=e.nss;return a.path=`${n||t.nid}:${o}`,t.skipEscape=!0,a}function Yke(e,t){let r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!Uke(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function Wke(e){let t=e;return t.nss=(e.uuid||"").toLowerCase(),t}var eG={scheme:"http",domainHost:!0,parse:Xz,serialize:Zz},Jke={scheme:"https",domainHost:eG.domainHost,parse:Xz,serialize:Zz},kb={scheme:"ws",domainHost:!0,parse:zke,serialize:Gke},Xke={scheme:"wss",domainHost:kb.domainHost,parse:kb.parse,serialize:kb.serialize},Zke={scheme:"urn",parse:Vke,serialize:Kke,skipNormalize:!0},e6e={scheme:"urn:uuid",parse:Yke,serialize:Wke,skipNormalize:!0},Db={http:eG,https:Jke,ws:kb,wss:Xke,urn:Zke,"urn:uuid":e6e};Object.setPrototypeOf(Db,null);function Q3(e){return e&&(Db[e]||Db[e.toLowerCase()])||void 0}tG.exports={wsIsSecure:F3,SCHEMES:Db,isValidSchemeName:Hke,getSchemeHandler:Q3}});var iG=I((Xft,Ob)=>{"use strict";var{normalizeIPv6:t6e,removeDotSegments:Ph,recomposeAuthority:r6e,normalizeComponentEncoding:Pb,isIPv4:n6e,nonSimpleDomain:s6e}=M3(),{SCHEMES:i6e,getSchemeHandler:nG}=rG();function a6e(e,t){return typeof e=="string"?e=Ba(vo(e,t),t):typeof e=="object"&&(e=vo(Ba(e,t),t)),e}function o6e(e,t,r){let n=r?Object.assign({scheme:"null"},r):{scheme:"null"},s=sG(vo(e,n),vo(t,n),n,!0);return n.skipEscape=!0,Ba(s,n)}function sG(e,t,r,n){let s={};return n||(e=vo(Ba(e,r),r),t=vo(Ba(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=Ph(t.path||""),s.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=Ph(t.path||""),s.query=t.query):(t.path?(t.path[0]==="/"?s.path=Ph(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?s.path="/"+t.path:e.path?s.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:s.path=t.path,s.path=Ph(s.path)),s.query=t.query):(s.path=e.path,t.query!==void 0?s.query=t.query:s.query=e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function c6e(e,t,r){return typeof e=="string"?(e=unescape(e),e=Ba(Pb(vo(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=Ba(Pb(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=Ba(Pb(vo(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=Ba(Pb(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function Ba(e,t){let r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),s=[],i=nG(n.scheme||r.scheme);i&&i.serialize&&i.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&s.push(r.scheme,":");let a=r6e(r);if(a!==void 0&&(n.reference!=="suffix"&&s.push("//"),s.push(a),r.path&&r.path[0]!=="/"&&s.push("/")),r.path!==void 0){let o=r.path;!n.absolutePath&&(!i||!i.absolutePath)&&(o=Ph(o)),a===void 0&&o[0]==="/"&&o[1]==="/"&&(o="/%2F"+o.slice(2)),s.push(o)}return r.query!==void 0&&s.push("?",r.query),r.fragment!==void 0&&s.push("#",r.fragment),s.join("")}var u6e=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function vo(e,t){let r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},s=!1;r.reference==="suffix"&&(r.scheme?e=r.scheme+":"+e:e="//"+e);let i=e.match(u6e);if(i){if(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5]),n.host)if(n6e(n.host)===!1){let c=t6e(n.host);n.host=c.host.toLowerCase(),s=c.isIPV6}else s=!0;n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");let a=nG(r.scheme||n.scheme);if(!r.unicodeSupport&&(!a||!a.unicodeSupport)&&n.host&&(r.domainHost||a&&a.domainHost)&&s===!1&&s6e(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(o){n.error=n.error||"Host's domain name can not be converted to ASCII: "+o}(!a||a&&!a.skipNormalize)&&(e.indexOf("%")!==-1&&(n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),n.host!==void 0&&(n.host=unescape(n.host))),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),a&&a.parse&&a.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}var U3={SCHEMES:i6e,normalize:a6e,resolve:o6e,resolveComponent:sG,equal:c6e,serialize:Ba,parse:vo};Ob.exports=U3;Ob.exports.default=U3;Ob.exports.fastUri=U3});var oG=I(q3=>{"use strict";Object.defineProperty(q3,"__esModule",{value:!0});var aG=iG();aG.code='require("ajv/dist/runtime/uri").default';q3.default=aG});var z3=I(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});Sn.CodeGen=Sn.Name=Sn.nil=Sn.stringify=Sn.str=Sn._=Sn.KeywordCxt=void 0;var l6e=ff();Object.defineProperty(Sn,"KeywordCxt",{enumerable:!0,get:function(){return l6e.KeywordCxt}});var hf=qe();Object.defineProperty(Sn,"_",{enumerable:!0,get:function(){return hf._}});Object.defineProperty(Sn,"str",{enumerable:!0,get:function(){return hf.str}});Object.defineProperty(Sn,"stringify",{enumerable:!0,get:function(){return hf.stringify}});Object.defineProperty(Sn,"nil",{enumerable:!0,get:function(){return hf.nil}});Object.defineProperty(Sn,"Name",{enumerable:!0,get:function(){return hf.Name}});Object.defineProperty(Sn,"CodeGen",{enumerable:!0,get:function(){return hf.CodeGen}});var d6e=Dh(),fG=xo(),f6e=y3(),Oh=fl(),p6e=qe(),$h=Rh(),$b=Bh(),H3=ot(),cG=Vz(),h6e=oG(),pG=(e,t)=>new RegExp(e,t);pG.code="new RegExp";var m6e=["removeAdditional","useDefaults","coerceTypes"],g6e=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),A6e={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},y6e={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},uG=200;function b6e(e){var t,r,n,s,i,a,o,c,u,l,d,f,h,p,m,A,g,x,y,b,_,C,w,S,T;let R=e.strict,P=(t=e.code)===null||t===void 0?void 0:t.optimize,N=P===!0||P===void 0?1:P||0,D=(n=(r=e.code)===null||r===void 0?void 0:r.regExp)!==null&&n!==void 0?n:pG,k=(s=e.uriResolver)!==null&&s!==void 0?s:h6e.default;return{strictSchema:(a=(i=e.strictSchema)!==null&&i!==void 0?i:R)!==null&&a!==void 0?a:!0,strictNumbers:(c=(o=e.strictNumbers)!==null&&o!==void 0?o:R)!==null&&c!==void 0?c:!0,strictTypes:(l=(u=e.strictTypes)!==null&&u!==void 0?u:R)!==null&&l!==void 0?l:"log",strictTuples:(f=(d=e.strictTuples)!==null&&d!==void 0?d:R)!==null&&f!==void 0?f:"log",strictRequired:(p=(h=e.strictRequired)!==null&&h!==void 0?h:R)!==null&&p!==void 0?p:!1,code:e.code?{...e.code,optimize:N,regExp:D}:{optimize:N,regExp:D},loopRequired:(m=e.loopRequired)!==null&&m!==void 0?m:uG,loopEnum:(A=e.loopEnum)!==null&&A!==void 0?A:uG,meta:(g=e.meta)!==null&&g!==void 0?g:!0,messages:(x=e.messages)!==null&&x!==void 0?x:!0,inlineRefs:(y=e.inlineRefs)!==null&&y!==void 0?y:!0,schemaId:(b=e.schemaId)!==null&&b!==void 0?b:"$id",addUsedSchema:(_=e.addUsedSchema)!==null&&_!==void 0?_:!0,validateSchema:(C=e.validateSchema)!==null&&C!==void 0?C:!0,validateFormats:(w=e.validateFormats)!==null&&w!==void 0?w:!0,unicodeRegExp:(S=e.unicodeRegExp)!==null&&S!==void 0?S:!0,int32range:(T=e.int32range)!==null&&T!==void 0?T:!0,uriResolver:k}}var Lh=class{constructor(t={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,t=this.opts={...t,...b6e(t)};let{es5:r,lines:n}=this.opts.code;this.scope=new p6e.ValueScope({scope:{},prefixes:g6e,es5:r,lines:n}),this.logger=C6e(t.logger);let s=t.validateFormats;t.validateFormats=!1,this.RULES=(0,f6e.getRules)(),lG.call(this,A6e,t,"NOT SUPPORTED"),lG.call(this,y6e,t,"DEPRECATED","warn"),this._metaOpts=_6e.call(this),t.formats&&x6e.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),t.keywords&&v6e.call(this,t.keywords),typeof t.meta=="object"&&this.addMetaSchema(t.meta),E6e.call(this),t.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:t,meta:r,schemaId:n}=this.opts,s=cG;n==="id"&&(s={...cG},s.id=s.$id,delete s.$id),r&&t&&this.addMetaSchema(s,s[n],!1)}defaultMeta(){let{meta:t,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof t=="object"?t[r]||t:void 0}validate(t,r){let n;if(typeof t=="string"){if(n=this.getSchema(t),!n)throw new Error(`no schema with key or ref "${t}"`)}else n=this.compile(t);let s=n(r);return"$async"in n||(this.errors=n.errors),s}compile(t,r){let n=this._addSchema(t,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(t,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return s.call(this,t,r);async function s(l,d){await i.call(this,l.$schema);let f=this._addSchema(l,d);return f.validate||a.call(this,f)}async function i(l){l&&!this.getSchema(l)&&await s.call(this,{$ref:l},!0)}async function a(l){try{return this._compileSchemaEnv(l)}catch(d){if(!(d instanceof fG.default))throw d;return o.call(this,d),await c.call(this,d.missingSchema),a.call(this,l)}}function o({missingSchema:l,missingRef:d}){if(this.refs[l])throw new Error(`AnySchema ${l} is loaded but ${d} cannot be resolved`)}async function c(l){let d=await u.call(this,l);this.refs[l]||await i.call(this,d.$schema),this.refs[l]||this.addSchema(d,l,r)}async function u(l){let d=this._loading[l];if(d)return d;try{return await(this._loading[l]=n(l))}finally{delete this._loading[l]}}}addSchema(t,r,n,s=this.opts.validateSchema){if(Array.isArray(t)){for(let a of t)this.addSchema(a,void 0,n,s);return this}let i;if(typeof t=="object"){let{schemaId:a}=this.opts;if(i=t[a],i!==void 0&&typeof i!="string")throw new Error(`schema ${a} must be string`)}return r=(0,$h.normalizeId)(r||i),this._checkUnique(r),this.schemas[r]=this._addSchema(t,n,r,s,!0),this}addMetaSchema(t,r,n=this.opts.validateSchema){return this.addSchema(t,r,!0,n),this}validateSchema(t,r){if(typeof t=="boolean")return!0;let n;if(n=t.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let s=this.validate(n,t);if(!s&&r){let i="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(i);else throw new Error(i)}return s}getSchema(t){let r;for(;typeof(r=dG.call(this,t))=="string";)t=r;if(r===void 0){let{schemaId:n}=this.opts,s=new Oh.SchemaEnv({schema:{},schemaId:n});if(r=Oh.resolveSchema.call(this,s,t),!r)return;this.refs[t]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(t){if(t instanceof RegExp)return this._removeAllSchemas(this.schemas,t),this._removeAllSchemas(this.refs,t),this;switch(typeof t){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=dG.call(this,t);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[t],delete this.refs[t],this}case"object":{let r=t;this._cache.delete(r);let n=t[this.opts.schemaId];return n&&(n=(0,$h.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(t){for(let r of t)this.addKeyword(r);return this}addKeyword(t,r){let n;if(typeof t=="string")n=t,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof t=="object"&&r===void 0){if(r=t,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(S6e.call(this,n,r),!r)return(0,H3.eachItem)(n,i=>j3.call(this,i)),this;B6e.call(this,r);let s={...r,type:(0,$b.getJSONTypes)(r.type),schemaType:(0,$b.getJSONTypes)(r.schemaType)};return(0,H3.eachItem)(n,s.type.length===0?i=>j3.call(this,i,s):i=>s.type.forEach(a=>j3.call(this,i,s,a))),this}getKeyword(t){let r=this.RULES.all[t];return typeof r=="object"?r.definition:!!r}removeKeyword(t){let{RULES:r}=this;delete r.keywords[t],delete r.all[t];for(let n of r.rules){let s=n.rules.findIndex(i=>i.keyword===t);s>=0&&n.rules.splice(s,1)}return this}addFormat(t,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[t]=r,this}errorsText(t=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!t||t.length===0?"No errors":t.map(s=>`${n}${s.instancePath} ${s.message}`).reduce((s,i)=>s+r+i)}$dataMetaSchema(t,r){let n=this.RULES.all;t=JSON.parse(JSON.stringify(t));for(let s of r){let i=s.split("/").slice(1),a=t;for(let o of i)a=a[o];for(let o in n){let c=n[o];if(typeof c!="object")continue;let{$data:u}=c.definition,l=a[o];u&&l&&(a[o]=hG(l))}}return t}_removeAllSchemas(t,r){for(let n in t){let s=t[n];(!r||r.test(n))&&(typeof s=="string"?delete t[n]:s&&!s.meta&&(this._cache.delete(s.schema),delete t[n]))}}_addSchema(t,r,n,s=this.opts.validateSchema,i=this.opts.addUsedSchema){let a,{schemaId:o}=this.opts;if(typeof t=="object")a=t[o];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof t!="boolean")throw new Error("schema must be object or boolean")}let c=this._cache.get(t);if(c!==void 0)return c;n=(0,$h.normalizeId)(a||n);let u=$h.getSchemaRefs.call(this,t,n);return c=new Oh.SchemaEnv({schema:t,schemaId:o,meta:r,baseId:n,localRefs:u}),this._cache.set(c.schema,c),i&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=c),s&&this.validateSchema(t,!0),c}_checkUnique(t){if(this.schemas[t]||this.refs[t])throw new Error(`schema with key or id "${t}" already exists`)}_compileSchemaEnv(t){if(t.meta?this._compileMetaSchema(t):Oh.compileSchema.call(this,t),!t.validate)throw new Error("ajv implementation error");return t.validate}_compileMetaSchema(t){let r=this.opts;this.opts=this._metaOpts;try{Oh.compileSchema.call(this,t)}finally{this.opts=r}}};Lh.ValidationError=d6e.default;Lh.MissingRefError=fG.default;Sn.default=Lh;function lG(e,t,r,n="error"){for(let s in e){let i=s;i in t&&this.logger[n](`${r}: option ${s}. ${e[i]}`)}}function dG(e){return e=(0,$h.normalizeId)(e),this.schemas[e]||this.refs[e]}function E6e(){let e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(let t in e)this.addSchema(e[t],t)}function x6e(){for(let e in this.opts.formats){let t=this.opts.formats[e];t&&this.addFormat(e,t)}}function v6e(e){if(Array.isArray(e)){this.addVocabulary(e);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let t in e){let r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}function _6e(){let e={...this.opts};for(let t of m6e)delete e[t];return e}var I6e={log(){},warn(){},error(){}};function C6e(e){if(e===!1)return I6e;if(e===void 0)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}var w6e=/^[a-z_$][a-z0-9_$:-]*$/i;function S6e(e,t){let{RULES:r}=this;if((0,H3.eachItem)(e,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!w6e.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!t&&t.$data&&!("code"in t||"validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function j3(e,t,r){var n;let s=t?.post;if(r&&s)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:i}=this,a=s?i.post:i.rules.find(({type:c})=>c===r);if(a||(a={type:r,rules:[]},i.rules.push(a)),i.keywords[e]=!0,!t)return;let o={keyword:e,definition:{...t,type:(0,$b.getJSONTypes)(t.type),schemaType:(0,$b.getJSONTypes)(t.schemaType)}};t.before?T6e.call(this,a,o,t.before):a.rules.push(o),i.all[e]=o,(n=t.implements)===null||n===void 0||n.forEach(c=>this.addKeyword(c))}function T6e(e,t,r){let n=e.rules.findIndex(s=>s.keyword===r);n>=0?e.rules.splice(n,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function B6e(e){let{metaSchema:t}=e;t!==void 0&&(e.$data&&this.opts.$data&&(t=hG(t)),e.validateSchema=this.compile(t,!0))}var R6e={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function hG(e){return{anyOf:[e,R6e]}}});var mG=I(G3=>{"use strict";Object.defineProperty(G3,"__esModule",{value:!0});var N6e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};G3.default=N6e});var V3=I(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});pl.callRef=pl.getValidate=void 0;var k6e=xo(),gG=wn(),Rs=qe(),mf=hi(),AG=fl(),Lb=ot(),D6e={keyword:"$ref",schemaType:"string",code(e){let{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:i,validateName:a,opts:o,self:c}=n,{root:u}=i;if((r==="#"||r==="#/")&&s===u.baseId)return d();let l=AG.resolveRef.call(c,u,s,r);if(l===void 0)throw new k6e.default(n.opts.uriResolver,s,r);if(l instanceof AG.SchemaEnv)return f(l);return h(l);function d(){if(i===u)return Mb(e,a,i,i.$async);let p=t.scopeValue("root",{ref:u});return Mb(e,(0,Rs._)`${p}.validate`,u,u.$async)}function f(p){let m=yG(e,p);Mb(e,m,p,p.$async)}function h(p){let m=t.scopeValue("schema",o.code.source===!0?{ref:p,code:(0,Rs.stringify)(p)}:{ref:p}),A=t.name("valid"),g=e.subschema({schema:p,dataTypes:[],schemaPath:Rs.nil,topSchemaRef:m,errSchemaPath:r},A);e.mergeEvaluated(g),e.ok(A)}}};function yG(e,t){let{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Rs._)`${r.scopeValue("wrapper",{ref:t})}.validate`}pl.getValidate=yG;function Mb(e,t,r,n){let{gen:s,it:i}=e,{allErrors:a,schemaEnv:o,opts:c}=i,u=c.passContext?mf.default.this:Rs.nil;n?l():d();function l(){if(!o.$async)throw new Error("async schema referenced by sync schema");let p=s.let("valid");s.try(()=>{s.code((0,Rs._)`await ${(0,gG.callValidateCode)(e,t,u)}`),h(t),a||s.assign(p,!0)},m=>{s.if((0,Rs._)`!(${m} instanceof ${i.ValidationError})`,()=>s.throw(m)),f(m),a||s.assign(p,!1)}),e.ok(p)}function d(){e.result((0,gG.callValidateCode)(e,t,u),()=>h(t),()=>f(t))}function f(p){let m=(0,Rs._)`${p}.errors`;s.assign(mf.default.vErrors,(0,Rs._)`${mf.default.vErrors} === null ? ${m} : ${mf.default.vErrors}.concat(${m})`),s.assign(mf.default.errors,(0,Rs._)`${mf.default.vErrors}.length`)}function h(p){var m;if(!i.opts.unevaluated)return;let A=(m=r?.validate)===null||m===void 0?void 0:m.evaluated;if(i.props!==!0)if(A&&!A.dynamicProps)A.props!==void 0&&(i.props=Lb.mergeEvaluated.props(s,A.props,i.props));else{let g=s.var("props",(0,Rs._)`${p}.evaluated.props`);i.props=Lb.mergeEvaluated.props(s,g,i.props,Rs.Name)}if(i.items!==!0)if(A&&!A.dynamicItems)A.items!==void 0&&(i.items=Lb.mergeEvaluated.items(s,A.items,i.items));else{let g=s.var("items",(0,Rs._)`${p}.evaluated.items`);i.items=Lb.mergeEvaluated.items(s,g,i.items,Rs.Name)}}}pl.callRef=Mb;pl.default=D6e});var bG=I(K3=>{"use strict";Object.defineProperty(K3,"__esModule",{value:!0});var P6e=mG(),O6e=V3(),$6e=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",P6e.default,O6e.default];K3.default=$6e});var EG=I(Y3=>{"use strict";Object.defineProperty(Y3,"__esModule",{value:!0});var Fb=qe(),Nc=Fb.operators,Qb={maximum:{okStr:"<=",ok:Nc.LTE,fail:Nc.GT},minimum:{okStr:">=",ok:Nc.GTE,fail:Nc.LT},exclusiveMaximum:{okStr:"<",ok:Nc.LT,fail:Nc.GTE},exclusiveMinimum:{okStr:">",ok:Nc.GT,fail:Nc.LTE}},L6e={message:({keyword:e,schemaCode:t})=>(0,Fb.str)`must be ${Qb[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Fb._)`{comparison: ${Qb[e].okStr}, limit: ${t}}`},M6e={keyword:Object.keys(Qb),type:"number",schemaType:"number",$data:!0,error:L6e,code(e){let{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Fb._)`${r} ${Qb[t].fail} ${n} || isNaN(${r})`)}};Y3.default=M6e});var xG=I(W3=>{"use strict";Object.defineProperty(W3,"__esModule",{value:!0});var Mh=qe(),F6e={message:({schemaCode:e})=>(0,Mh.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Mh._)`{multipleOf: ${e}}`},Q6e={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:F6e,code(e){let{gen:t,data:r,schemaCode:n,it:s}=e,i=s.opts.multipleOfPrecision,a=t.let("res"),o=i?(0,Mh._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${i}`:(0,Mh._)`${a} !== parseInt(${a})`;e.fail$data((0,Mh._)`(${n} === 0 || (${a} = ${r}/${n}, ${o}))`)}};W3.default=Q6e});var _G=I(J3=>{"use strict";Object.defineProperty(J3,"__esModule",{value:!0});function vG(e){let t=e.length,r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}J3.default=vG;vG.code='require("ajv/dist/runtime/ucs2length").default'});var IG=I(X3=>{"use strict";Object.defineProperty(X3,"__esModule",{value:!0});var hl=qe(),U6e=ot(),q6e=_G(),j6e={message({keyword:e,schemaCode:t}){let r=e==="maxLength"?"more":"fewer";return(0,hl.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,hl._)`{limit: ${e}}`},H6e={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:j6e,code(e){let{keyword:t,data:r,schemaCode:n,it:s}=e,i=t==="maxLength"?hl.operators.GT:hl.operators.LT,a=s.opts.unicode===!1?(0,hl._)`${r}.length`:(0,hl._)`${(0,U6e.useFunc)(e.gen,q6e.default)}(${r})`;e.fail$data((0,hl._)`${a} ${i} ${n}`)}};X3.default=H6e});var CG=I(Z3=>{"use strict";Object.defineProperty(Z3,"__esModule",{value:!0});var z6e=wn(),Ub=qe(),G6e={message:({schemaCode:e})=>(0,Ub.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Ub._)`{pattern: ${e}}`},V6e={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:G6e,code(e){let{data:t,$data:r,schema:n,schemaCode:s,it:i}=e,a=i.opts.unicodeRegExp?"u":"",o=r?(0,Ub._)`(new RegExp(${s}, ${a}))`:(0,z6e.usePattern)(e,n);e.fail$data((0,Ub._)`!${o}.test(${t})`)}};Z3.default=V6e});var wG=I(eB=>{"use strict";Object.defineProperty(eB,"__esModule",{value:!0});var Fh=qe(),K6e={message({keyword:e,schemaCode:t}){let r=e==="maxProperties"?"more":"fewer";return(0,Fh.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Fh._)`{limit: ${e}}`},Y6e={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:K6e,code(e){let{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?Fh.operators.GT:Fh.operators.LT;e.fail$data((0,Fh._)`Object.keys(${r}).length ${s} ${n}`)}};eB.default=Y6e});var SG=I(tB=>{"use strict";Object.defineProperty(tB,"__esModule",{value:!0});var Qh=wn(),Uh=qe(),W6e=ot(),J6e={message:({params:{missingProperty:e}})=>(0,Uh.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Uh._)`{missingProperty: ${e}}`},X6e={keyword:"required",type:"object",schemaType:"array",$data:!0,error:J6e,code(e){let{gen:t,schema:r,schemaCode:n,data:s,$data:i,it:a}=e,{opts:o}=a;if(!i&&r.length===0)return;let c=r.length>=o.loopRequired;if(a.allErrors?u():l(),o.strictRequired){let h=e.parentSchema.properties,{definedProperties:p}=e.it;for(let m of r)if(h?.[m]===void 0&&!p.has(m)){let A=a.schemaEnv.baseId+a.errSchemaPath,g=`required property "${m}" is not defined at "${A}" (strictRequired)`;(0,W6e.checkStrictMode)(a,g,a.opts.strictRequired)}}function u(){if(c||i)e.block$data(Uh.nil,d);else for(let h of r)(0,Qh.checkReportMissingProp)(e,h)}function l(){let h=t.let("missing");if(c||i){let p=t.let("valid",!0);e.block$data(p,()=>f(h,p)),e.ok(p)}else t.if((0,Qh.checkMissingProp)(e,r,h)),(0,Qh.reportMissingProp)(e,h),t.else()}function d(){t.forOf("prop",n,h=>{e.setParams({missingProperty:h}),t.if((0,Qh.noPropertyInData)(t,s,h,o.ownProperties),()=>e.error())})}function f(h,p){e.setParams({missingProperty:h}),t.forOf(h,n,()=>{t.assign(p,(0,Qh.propertyInData)(t,s,h,o.ownProperties)),t.if((0,Uh.not)(p),()=>{e.error(),t.break()})},Uh.nil)}}};tB.default=X6e});var TG=I(rB=>{"use strict";Object.defineProperty(rB,"__esModule",{value:!0});var qh=qe(),Z6e={message({keyword:e,schemaCode:t}){let r=e==="maxItems"?"more":"fewer";return(0,qh.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,qh._)`{limit: ${e}}`},eDe={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Z6e,code(e){let{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?qh.operators.GT:qh.operators.LT;e.fail$data((0,qh._)`${r}.length ${s} ${n}`)}};rB.default=eDe});var qb=I(nB=>{"use strict";Object.defineProperty(nB,"__esModule",{value:!0});var BG=oi();BG.code='require("ajv/dist/runtime/equal").default';nB.default=BG});var RG=I(iB=>{"use strict";Object.defineProperty(iB,"__esModule",{value:!0});var sB=Bh(),Tn=qe(),tDe=ot(),rDe=qb(),nDe={message:({params:{i:e,j:t}})=>(0,Tn.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Tn._)`{i: ${e}, j: ${t}}`},sDe={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:nDe,code(e){let{gen:t,data:r,$data:n,schema:s,parentSchema:i,schemaCode:a,it:o}=e;if(!n&&!s)return;let c=t.let("valid"),u=i.items?(0,sB.getSchemaTypes)(i.items):[];e.block$data(c,l,(0,Tn._)`${a} === false`),e.ok(c);function l(){let p=t.let("i",(0,Tn._)`${r}.length`),m=t.let("j");e.setParams({i:p,j:m}),t.assign(c,!0),t.if((0,Tn._)`${p} > 1`,()=>(d()?f:h)(p,m))}function d(){return u.length>0&&!u.some(p=>p==="object"||p==="array")}function f(p,m){let A=t.name("item"),g=(0,sB.checkDataTypes)(u,A,o.opts.strictNumbers,sB.DataType.Wrong),x=t.const("indices",(0,Tn._)`{}`);t.for((0,Tn._)`;${p}--;`,()=>{t.let(A,(0,Tn._)`${r}[${p}]`),t.if(g,(0,Tn._)`continue`),u.length>1&&t.if((0,Tn._)`typeof ${A} == "string"`,(0,Tn._)`${A} += "_"`),t.if((0,Tn._)`typeof ${x}[${A}] == "number"`,()=>{t.assign(m,(0,Tn._)`${x}[${A}]`),e.error(),t.assign(c,!1).break()}).code((0,Tn._)`${x}[${A}] = ${p}`)})}function h(p,m){let A=(0,tDe.useFunc)(t,rDe.default),g=t.name("outer");t.label(g).for((0,Tn._)`;${p}--;`,()=>t.for((0,Tn._)`${m} = ${p}; ${m}--;`,()=>t.if((0,Tn._)`${A}(${r}[${p}], ${r}[${m}])`,()=>{e.error(),t.assign(c,!1).break(g)})))}}};iB.default=sDe});var NG=I(oB=>{"use strict";Object.defineProperty(oB,"__esModule",{value:!0});var aB=qe(),iDe=ot(),aDe=qb(),oDe={message:"must be equal to constant",params:({schemaCode:e})=>(0,aB._)`{allowedValue: ${e}}`},cDe={keyword:"const",$data:!0,error:oDe,code(e){let{gen:t,data:r,$data:n,schemaCode:s,schema:i}=e;n||i&&typeof i=="object"?e.fail$data((0,aB._)`!${(0,iDe.useFunc)(t,aDe.default)}(${r}, ${s})`):e.fail((0,aB._)`${i} !== ${r}`)}};oB.default=cDe});var kG=I(cB=>{"use strict";Object.defineProperty(cB,"__esModule",{value:!0});var jh=qe(),uDe=ot(),lDe=qb(),dDe={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,jh._)`{allowedValues: ${e}}`},fDe={keyword:"enum",schemaType:"array",$data:!0,error:dDe,code(e){let{gen:t,data:r,$data:n,schema:s,schemaCode:i,it:a}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");let o=s.length>=a.opts.loopEnum,c,u=()=>c??(c=(0,uDe.useFunc)(t,lDe.default)),l;if(o||n)l=t.let("valid"),e.block$data(l,d);else{if(!Array.isArray(s))throw new Error("ajv implementation error");let h=t.const("vSchema",i);l=(0,jh.or)(...s.map((p,m)=>f(h,m)))}e.pass(l);function d(){t.assign(l,!1),t.forOf("v",i,h=>t.if((0,jh._)`${u()}(${r}, ${h})`,()=>t.assign(l,!0).break()))}function f(h,p){let m=s[p];return typeof m=="object"&&m!==null?(0,jh._)`${u()}(${r}, ${h}[${p}])`:(0,jh._)`${r} === ${m}`}}};cB.default=fDe});var DG=I(uB=>{"use strict";Object.defineProperty(uB,"__esModule",{value:!0});var pDe=EG(),hDe=xG(),mDe=IG(),gDe=CG(),ADe=wG(),yDe=SG(),bDe=TG(),EDe=RG(),xDe=NG(),vDe=kG(),_De=[pDe.default,hDe.default,mDe.default,gDe.default,ADe.default,yDe.default,bDe.default,EDe.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},xDe.default,vDe.default];uB.default=_De});var dB=I(Hh=>{"use strict";Object.defineProperty(Hh,"__esModule",{value:!0});Hh.validateAdditionalItems=void 0;var ml=qe(),lB=ot(),IDe={message:({params:{len:e}})=>(0,ml.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,ml._)`{limit: ${e}}`},CDe={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:IDe,code(e){let{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,lB.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}PG(e,n)}};function PG(e,t){let{gen:r,schema:n,data:s,keyword:i,it:a}=e;a.items=!0;let o=r.const("len",(0,ml._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,ml._)`${o} <= ${t.length}`);else if(typeof n=="object"&&!(0,lB.alwaysValidSchema)(a,n)){let u=r.var("valid",(0,ml._)`${o} <= ${t.length}`);r.if((0,ml.not)(u),()=>c(u)),e.ok(u)}function c(u){r.forRange("i",t.length,o,l=>{e.subschema({keyword:i,dataProp:l,dataPropType:lB.Type.Num},u),a.allErrors||r.if((0,ml.not)(u),()=>r.break())})}}Hh.validateAdditionalItems=PG;Hh.default=CDe});var fB=I(zh=>{"use strict";Object.defineProperty(zh,"__esModule",{value:!0});zh.validateTuple=void 0;var OG=qe(),jb=ot(),wDe=wn(),SDe={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){let{schema:t,it:r}=e;if(Array.isArray(t))return $G(e,"additionalItems",t);r.items=!0,!(0,jb.alwaysValidSchema)(r,t)&&e.ok((0,wDe.validateArray)(e))}};function $G(e,t,r=e.schema){let{gen:n,parentSchema:s,data:i,keyword:a,it:o}=e;l(s),o.opts.unevaluated&&r.length&&o.items!==!0&&(o.items=jb.mergeEvaluated.items(n,r.length,o.items));let c=n.name("valid"),u=n.const("len",(0,OG._)`${i}.length`);r.forEach((d,f)=>{(0,jb.alwaysValidSchema)(o,d)||(n.if((0,OG._)`${u} > ${f}`,()=>e.subschema({keyword:a,schemaProp:f,dataProp:f},c)),e.ok(c))});function l(d){let{opts:f,errSchemaPath:h}=o,p=r.length,m=p===d.minItems&&(p===d.maxItems||d[t]===!1);if(f.strictTuples&&!m){let A=`"${a}" is ${p}-tuple, but minItems or maxItems/${t} are not specified or different at path "${h}"`;(0,jb.checkStrictMode)(o,A,f.strictTuples)}}}zh.validateTuple=$G;zh.default=SDe});var LG=I(pB=>{"use strict";Object.defineProperty(pB,"__esModule",{value:!0});var TDe=fB(),BDe={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,TDe.validateTuple)(e,"items")};pB.default=BDe});var FG=I(hB=>{"use strict";Object.defineProperty(hB,"__esModule",{value:!0});var MG=qe(),RDe=ot(),NDe=wn(),kDe=dB(),DDe={message:({params:{len:e}})=>(0,MG.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,MG._)`{limit: ${e}}`},PDe={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:DDe,code(e){let{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,RDe.alwaysValidSchema)(n,t)&&(s?(0,kDe.validateAdditionalItems)(e,s):e.ok((0,NDe.validateArray)(e)))}};hB.default=PDe});var QG=I(mB=>{"use strict";Object.defineProperty(mB,"__esModule",{value:!0});var gi=qe(),Hb=ot(),ODe={message:({params:{min:e,max:t}})=>t===void 0?(0,gi.str)`must contain at least ${e} valid item(s)`:(0,gi.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,gi._)`{minContains: ${e}}`:(0,gi._)`{minContains: ${e}, maxContains: ${t}}`},$De={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:ODe,code(e){let{gen:t,schema:r,parentSchema:n,data:s,it:i}=e,a,o,{minContains:c,maxContains:u}=n;i.opts.next?(a=c===void 0?1:c,o=u):a=1;let l=t.const("len",(0,gi._)`${s}.length`);if(e.setParams({min:a,max:o}),o===void 0&&a===0){(0,Hb.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&a>o){(0,Hb.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Hb.alwaysValidSchema)(i,r)){let m=(0,gi._)`${l} >= ${a}`;o!==void 0&&(m=(0,gi._)`${m} && ${l} <= ${o}`),e.pass(m);return}i.items=!0;let d=t.name("valid");o===void 0&&a===1?h(d,()=>t.if(d,()=>t.break())):a===0?(t.let(d,!0),o!==void 0&&t.if((0,gi._)`${s}.length > 0`,f)):(t.let(d,!1),f()),e.result(d,()=>e.reset());function f(){let m=t.name("_valid"),A=t.let("count",0);h(m,()=>t.if(m,()=>p(A)))}function h(m,A){t.forRange("i",0,l,g=>{e.subschema({keyword:"contains",dataProp:g,dataPropType:Hb.Type.Num,compositeRule:!0},m),A()})}function p(m){t.code((0,gi._)`${m}++`),o===void 0?t.if((0,gi._)`${m} >= ${a}`,()=>t.assign(d,!0).break()):(t.if((0,gi._)`${m} > ${o}`,()=>t.assign(d,!1).break()),a===1?t.assign(d,!0):t.if((0,gi._)`${m} >= ${a}`,()=>t.assign(d,!0)))}}};mB.default=$De});var jG=I(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.validateSchemaDeps=Ra.validatePropertyDeps=Ra.error=void 0;var gB=qe(),LDe=ot(),Gh=wn();Ra.error={message:({params:{property:e,depsCount:t,deps:r}})=>{let n=t===1?"property":"properties";return(0,gB.str)`must have ${n} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:n}})=>(0,gB._)`{property: ${e},
    missingProperty: ${n},
    depsCount: ${t},
    deps: ${r}}`};var MDe={keyword:"dependencies",type:"object",schemaType:"object",error:Ra.error,code(e){let[t,r]=FDe(e);UG(e,t),qG(e,r)}};function FDe({schema:e}){let t={},r={};for(let n in e){if(n==="__proto__")continue;let s=Array.isArray(e[n])?t:r;s[n]=e[n]}return[t,r]}function UG(e,t=e.schema){let{gen:r,data:n,it:s}=e;if(Object.keys(t).length===0)return;let i=r.let("missing");for(let a in t){let o=t[a];if(o.length===0)continue;let c=(0,Gh.propertyInData)(r,n,a,s.opts.ownProperties);e.setParams({property:a,depsCount:o.length,deps:o.join(", ")}),s.allErrors?r.if(c,()=>{for(let u of o)(0,Gh.checkReportMissingProp)(e,u)}):(r.if((0,gB._)`${c} && (${(0,Gh.checkMissingProp)(e,o,i)})`),(0,Gh.reportMissingProp)(e,i),r.else())}}Ra.validatePropertyDeps=UG;function qG(e,t=e.schema){let{gen:r,data:n,keyword:s,it:i}=e,a=r.name("valid");for(let o in t)(0,LDe.alwaysValidSchema)(i,t[o])||(r.if((0,Gh.propertyInData)(r,n,o,i.opts.ownProperties),()=>{let c=e.subschema({keyword:s,schemaProp:o},a);e.mergeValidEvaluated(c,a)},()=>r.var(a,!0)),e.ok(a))}Ra.validateSchemaDeps=qG;Ra.default=MDe});var zG=I(AB=>{"use strict";Object.defineProperty(AB,"__esModule",{value:!0});var HG=qe(),QDe=ot(),UDe={message:"property name must be valid",params:({params:e})=>(0,HG._)`{propertyName: ${e.propertyName}}`},qDe={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:UDe,code(e){let{gen:t,schema:r,data:n,it:s}=e;if((0,QDe.alwaysValidSchema)(s,r))return;let i=t.name("valid");t.forIn("key",n,a=>{e.setParams({propertyName:a}),e.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},i),t.if((0,HG.not)(i),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(i)}};AB.default=qDe});var bB=I(yB=>{"use strict";Object.defineProperty(yB,"__esModule",{value:!0});var zb=wn(),Yi=qe(),jDe=hi(),Gb=ot(),HDe={message:"must NOT have additional properties",params:({params:e})=>(0,Yi._)`{additionalProperty: ${e.additionalProperty}}`},zDe={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:HDe,code(e){let{gen:t,schema:r,parentSchema:n,data:s,errsCount:i,it:a}=e;if(!i)throw new Error("ajv implementation error");let{allErrors:o,opts:c}=a;if(a.props=!0,c.removeAdditional!=="all"&&(0,Gb.alwaysValidSchema)(a,r))return;let u=(0,zb.allSchemaProperties)(n.properties),l=(0,zb.allSchemaProperties)(n.patternProperties);d(),e.ok((0,Yi._)`${i} === ${jDe.default.errors}`);function d(){t.forIn("key",s,A=>{!u.length&&!l.length?p(A):t.if(f(A),()=>p(A))})}function f(A){let g;if(u.length>8){let x=(0,Gb.schemaRefOrVal)(a,n.properties,"properties");g=(0,zb.isOwnProperty)(t,x,A)}else u.length?g=(0,Yi.or)(...u.map(x=>(0,Yi._)`${A} === ${x}`)):g=Yi.nil;return l.length&&(g=(0,Yi.or)(g,...l.map(x=>(0,Yi._)`${(0,zb.usePattern)(e,x)}.test(${A})`))),(0,Yi.not)(g)}function h(A){t.code((0,Yi._)`delete ${s}[${A}]`)}function p(A){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){h(A);return}if(r===!1){e.setParams({additionalProperty:A}),e.error(),o||t.break();return}if(typeof r=="object"&&!(0,Gb.alwaysValidSchema)(a,r)){let g=t.name("valid");c.removeAdditional==="failing"?(m(A,g,!1),t.if((0,Yi.not)(g),()=>{e.reset(),h(A)})):(m(A,g),o||t.if((0,Yi.not)(g),()=>t.break()))}}function m(A,g,x){let y={keyword:"additionalProperties",dataProp:A,dataPropType:Gb.Type.Str};x===!1&&Object.assign(y,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(y,g)}}};yB.default=zDe});var KG=I(xB=>{"use strict";Object.defineProperty(xB,"__esModule",{value:!0});var GDe=ff(),GG=wn(),EB=ot(),VG=bB(),VDe={keyword:"properties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,parentSchema:n,data:s,it:i}=e;i.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&VG.default.code(new GDe.KeywordCxt(i,VG.default,"additionalProperties"));let a=(0,GG.allSchemaProperties)(r);for(let d of a)i.definedProperties.add(d);i.opts.unevaluated&&a.length&&i.props!==!0&&(i.props=EB.mergeEvaluated.props(t,(0,EB.toHash)(a),i.props));let o=a.filter(d=>!(0,EB.alwaysValidSchema)(i,r[d]));if(o.length===0)return;let c=t.name("valid");for(let d of o)u(d)?l(d):(t.if((0,GG.propertyInData)(t,s,d,i.opts.ownProperties)),l(d),i.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(d),e.ok(c);function u(d){return i.opts.useDefaults&&!i.compositeRule&&r[d].default!==void 0}function l(d){e.subschema({keyword:"properties",schemaProp:d,dataProp:d},c)}}};xB.default=VDe});var XG=I(vB=>{"use strict";Object.defineProperty(vB,"__esModule",{value:!0});var YG=wn(),Vb=qe(),WG=ot(),JG=ot(),KDe={keyword:"patternProperties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,data:n,parentSchema:s,it:i}=e,{opts:a}=i,o=(0,YG.allSchemaProperties)(r),c=o.filter(m=>(0,WG.alwaysValidSchema)(i,r[m]));if(o.length===0||c.length===o.length&&(!i.opts.unevaluated||i.props===!0))return;let u=a.strictSchema&&!a.allowMatchingProperties&&s.properties,l=t.name("valid");i.props!==!0&&!(i.props instanceof Vb.Name)&&(i.props=(0,JG.evaluatedPropsToName)(t,i.props));let{props:d}=i;f();function f(){for(let m of o)u&&h(m),i.allErrors?p(m):(t.var(l,!0),p(m),t.if(l))}function h(m){for(let A in u)new RegExp(m).test(A)&&(0,WG.checkStrictMode)(i,`property ${A} matches pattern ${m} (use allowMatchingProperties)`)}function p(m){t.forIn("key",n,A=>{t.if((0,Vb._)`${(0,YG.usePattern)(e,m)}.test(${A})`,()=>{let g=c.includes(m);g||e.subschema({keyword:"patternProperties",schemaProp:m,dataProp:A,dataPropType:JG.Type.Str},l),i.opts.unevaluated&&d!==!0?t.assign((0,Vb._)`${d}[${A}]`,!0):!g&&!i.allErrors&&t.if((0,Vb.not)(l),()=>t.break())})})}}};vB.default=KDe});var ZG=I(_B=>{"use strict";Object.defineProperty(_B,"__esModule",{value:!0});var YDe=ot(),WDe={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){let{gen:t,schema:r,it:n}=e;if((0,YDe.alwaysValidSchema)(n,r)){e.fail();return}let s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};_B.default=WDe});var eV=I(IB=>{"use strict";Object.defineProperty(IB,"__esModule",{value:!0});var JDe=wn(),XDe={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:JDe.validateUnion,error:{message:"must match a schema in anyOf"}};IB.default=XDe});var tV=I(CB=>{"use strict";Object.defineProperty(CB,"__esModule",{value:!0});var Kb=qe(),ZDe=ot(),ePe={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Kb._)`{passingSchemas: ${e.passing}}`},tPe={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:ePe,code(e){let{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;let i=r,a=t.let("valid",!1),o=t.let("passing",null),c=t.name("_valid");e.setParams({passing:o}),t.block(u),e.result(a,()=>e.reset(),()=>e.error(!0));function u(){i.forEach((l,d)=>{let f;(0,ZDe.alwaysValidSchema)(s,l)?t.var(c,!0):f=e.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},c),d>0&&t.if((0,Kb._)`${c} && ${a}`).assign(a,!1).assign(o,(0,Kb._)`[${o}, ${d}]`).else(),t.if(c,()=>{t.assign(a,!0),t.assign(o,d),f&&e.mergeEvaluated(f,Kb.Name)})})}}};CB.default=tPe});var rV=I(wB=>{"use strict";Object.defineProperty(wB,"__esModule",{value:!0});var rPe=ot(),nPe={keyword:"allOf",schemaType:"array",code(e){let{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");let s=t.name("valid");r.forEach((i,a)=>{if((0,rPe.alwaysValidSchema)(n,i))return;let o=e.subschema({keyword:"allOf",schemaProp:a},s);e.ok(s),e.mergeEvaluated(o)})}};wB.default=nPe});var iV=I(SB=>{"use strict";Object.defineProperty(SB,"__esModule",{value:!0});var Yb=qe(),sV=ot(),sPe={message:({params:e})=>(0,Yb.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Yb._)`{failingKeyword: ${e.ifClause}}`},iPe={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:sPe,code(e){let{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,sV.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let s=nV(n,"then"),i=nV(n,"else");if(!s&&!i)return;let a=t.let("valid",!0),o=t.name("_valid");if(c(),e.reset(),s&&i){let l=t.let("ifClause");e.setParams({ifClause:l}),t.if(o,u("then",l),u("else",l))}else s?t.if(o,u("then")):t.if((0,Yb.not)(o),u("else"));e.pass(a,()=>e.error(!0));function c(){let l=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);e.mergeEvaluated(l)}function u(l,d){return()=>{let f=e.subschema({keyword:l},o);t.assign(a,o),e.mergeValidEvaluated(f,a),d?t.assign(d,(0,Yb._)`${l}`):e.setParams({ifClause:l})}}}};function nV(e,t){let r=e.schema[t];return r!==void 0&&!(0,sV.alwaysValidSchema)(e,r)}SB.default=iPe});var aV=I(TB=>{"use strict";Object.defineProperty(TB,"__esModule",{value:!0});var aPe=ot(),oPe={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,aPe.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};TB.default=oPe});var oV=I(BB=>{"use strict";Object.defineProperty(BB,"__esModule",{value:!0});var cPe=dB(),uPe=LG(),lPe=fB(),dPe=FG(),fPe=QG(),pPe=jG(),hPe=zG(),mPe=bB(),gPe=KG(),APe=XG(),yPe=ZG(),bPe=eV(),EPe=tV(),xPe=rV(),vPe=iV(),_Pe=aV();function IPe(e=!1){let t=[yPe.default,bPe.default,EPe.default,xPe.default,vPe.default,_Pe.default,hPe.default,mPe.default,pPe.default,gPe.default,APe.default];return e?t.push(uPe.default,dPe.default):t.push(cPe.default,lPe.default),t.push(fPe.default),t}BB.default=IPe});var cV=I(RB=>{"use strict";Object.defineProperty(RB,"__esModule",{value:!0});var qr=qe(),CPe={message:({schemaCode:e})=>(0,qr.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,qr._)`{format: ${e}}`},wPe={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:CPe,code(e,t){let{gen:r,data:n,$data:s,schema:i,schemaCode:a,it:o}=e,{opts:c,errSchemaPath:u,schemaEnv:l,self:d}=o;if(!c.validateFormats)return;s?f():h();function f(){let p=r.scopeValue("formats",{ref:d.formats,code:c.code.formats}),m=r.const("fDef",(0,qr._)`${p}[${a}]`),A=r.let("fType"),g=r.let("format");r.if((0,qr._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>r.assign(A,(0,qr._)`${m}.type || "string"`).assign(g,(0,qr._)`${m}.validate`),()=>r.assign(A,(0,qr._)`"string"`).assign(g,m)),e.fail$data((0,qr.or)(x(),y()));function x(){return c.strictSchema===!1?qr.nil:(0,qr._)`${a} && !${g}`}function y(){let b=l.$async?(0,qr._)`(${m}.async ? await ${g}(${n}) : ${g}(${n}))`:(0,qr._)`${g}(${n})`,_=(0,qr._)`(typeof ${g} == "function" ? ${b} : ${g}.test(${n}))`;return(0,qr._)`${g} && ${g} !== true && ${A} === ${t} && !${_}`}}function h(){let p=d.formats[i];if(!p){x();return}if(p===!0)return;let[m,A,g]=y(p);m===t&&e.pass(b());function x(){if(c.strictSchema===!1){d.logger.warn(_());return}throw new Error(_());function _(){return`unknown format "${i}" ignored in schema at path "${u}"`}}function y(_){let C=_ instanceof RegExp?(0,qr.regexpCode)(_):c.code.formats?(0,qr._)`${c.code.formats}${(0,qr.getProperty)(i)}`:void 0,w=r.scopeValue("formats",{key:i,ref:_,code:C});return typeof _=="object"&&!(_ instanceof RegExp)?[_.type||"string",_.validate,(0,qr._)`${w}.validate`]:["string",_,w]}function b(){if(typeof p=="object"&&!(p instanceof RegExp)&&p.async){if(!l.$async)throw new Error("async format in sync schema");return(0,qr._)`await ${g}(${n})`}return typeof A=="function"?(0,qr._)`${g}(${n})`:(0,qr._)`${g}.test(${n})`}}}};RB.default=wPe});var uV=I(NB=>{"use strict";Object.defineProperty(NB,"__esModule",{value:!0});var SPe=cV(),TPe=[SPe.default];NB.default=TPe});var lV=I(gf=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});gf.contentVocabulary=gf.metadataVocabulary=void 0;gf.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];gf.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var fV=I(kB=>{"use strict";Object.defineProperty(kB,"__esModule",{value:!0});var BPe=bG(),RPe=DG(),NPe=oV(),kPe=uV(),dV=lV(),DPe=[BPe.default,RPe.default,(0,NPe.default)(),kPe.default,dV.metadataVocabulary,dV.contentVocabulary];kB.default=DPe});var DB=I(Wb=>{"use strict";Object.defineProperty(Wb,"__esModule",{value:!0});Wb.DiscrError=void 0;var pV;(function(e){e.Tag="tag",e.Mapping="mapping"})(pV||(Wb.DiscrError=pV={}))});var mV=I(OB=>{"use strict";Object.defineProperty(OB,"__esModule",{value:!0});var Af=qe(),PB=DB(),hV=fl(),PPe=xo(),OPe=ot(),$Pe={message:({params:{discrError:e,tagName:t}})=>e===PB.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Af._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},LPe={keyword:"discriminator",type:"object",schemaType:"object",error:$Pe,code(e){let{gen:t,data:r,schema:n,parentSchema:s,it:i}=e,{oneOf:a}=s;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");let o=n.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");let c=t.let("valid",!1),u=t.const("tag",(0,Af._)`${r}${(0,Af.getProperty)(o)}`);t.if((0,Af._)`typeof ${u} == "string"`,()=>l(),()=>e.error(!1,{discrError:PB.DiscrError.Tag,tag:u,tagName:o})),e.ok(c);function l(){let h=f();t.if(!1);for(let p in h)t.elseIf((0,Af._)`${u} === ${p}`),t.assign(c,d(h[p]));t.else(),e.error(!1,{discrError:PB.DiscrError.Mapping,tag:u,tagName:o}),t.endIf()}function d(h){let p=t.name("valid"),m=e.subschema({keyword:"oneOf",schemaProp:h},p);return e.mergeEvaluated(m,Af.Name),p}function f(){var h;let p={},m=g(s),A=!0;for(let b=0;b<a.length;b++){let _=a[b];if(_?.$ref&&!(0,OPe.schemaHasRulesButRef)(_,i.self.RULES)){let w=_.$ref;if(_=hV.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,w),_ instanceof hV.SchemaEnv&&(_=_.schema),_===void 0)throw new PPe.default(i.opts.uriResolver,i.baseId,w)}let C=(h=_?.properties)===null||h===void 0?void 0:h[o];if(typeof C!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);A=A&&(m||g(_)),x(C,b)}if(!A)throw new Error(`discriminator: "${o}" must be required`);return p;function g({required:b}){return Array.isArray(b)&&b.includes(o)}function x(b,_){if(b.const)y(b.const,_);else if(b.enum)for(let C of b.enum)y(C,_);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function y(b,_){if(typeof b!="string"||b in p)throw new Error(`discriminator: "${o}" values must be unique strings`);p[b]=_}}}};OB.default=LPe});var gV=I((Qpt,MPe)=>{MPe.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var yV=I((xr,$B)=>{"use strict";Object.defineProperty(xr,"__esModule",{value:!0});xr.MissingRefError=xr.ValidationError=xr.CodeGen=xr.Name=xr.nil=xr.stringify=xr.str=xr._=xr.KeywordCxt=xr.Ajv=void 0;var FPe=z3(),QPe=fV(),UPe=mV(),AV=gV(),qPe=["/properties"],Jb="http://json-schema.org/draft-07/schema",yf=class extends FPe.default{_addVocabularies(){super._addVocabularies(),QPe.default.forEach(t=>this.addVocabulary(t)),this.opts.discriminator&&this.addKeyword(UPe.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let t=this.opts.$data?this.$dataMetaSchema(AV,qPe):AV;this.addMetaSchema(t,Jb,!1),this.refs["http://json-schema.org/schema"]=Jb}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(Jb)?Jb:void 0)}};xr.Ajv=yf;$B.exports=xr=yf;$B.exports.Ajv=yf;Object.defineProperty(xr,"__esModule",{value:!0});xr.default=yf;var jPe=ff();Object.defineProperty(xr,"KeywordCxt",{enumerable:!0,get:function(){return jPe.KeywordCxt}});var bf=qe();Object.defineProperty(xr,"_",{enumerable:!0,get:function(){return bf._}});Object.defineProperty(xr,"str",{enumerable:!0,get:function(){return bf.str}});Object.defineProperty(xr,"stringify",{enumerable:!0,get:function(){return bf.stringify}});Object.defineProperty(xr,"nil",{enumerable:!0,get:function(){return bf.nil}});Object.defineProperty(xr,"Name",{enumerable:!0,get:function(){return bf.Name}});Object.defineProperty(xr,"CodeGen",{enumerable:!0,get:function(){return bf.CodeGen}});var HPe=Dh();Object.defineProperty(xr,"ValidationError",{enumerable:!0,get:function(){return HPe.default}});var zPe=xo();Object.defineProperty(xr,"MissingRefError",{enumerable:!0,get:function(){return zPe.default}})});var _o=I(Vh=>{"use strict";Object.defineProperty(Vh,"__esModule",{value:!0});Vh.checkMetadata=void 0;var GPe=ot(),VPe={keyword:"metadata",schemaType:"object",code(e){bV(e);let{gen:t,schema:r,it:n}=e;if((0,GPe.alwaysValidSchema)(n,r))return;let s=t.name("valid");e.subschema({keyword:"metadata",jtdMetadata:!0},s),e.ok(s)}};function bV({it:e,keyword:t},r){if(e.jtdMetadata!==r)throw new Error(`JTD: "${t}" cannot be used in this schema location`)}Vh.checkMetadata=bV;Vh.default=VPe});var Xb=I(Yh=>{"use strict";Object.defineProperty(Yh,"__esModule",{value:!0});Yh.hasRef=void 0;var EV=fl(),Kh=qe(),KPe=xo(),xV=hi(),vV=V3(),YPe=_o(),WPe={keyword:"ref",schemaType:"string",code(e){(0,YPe.checkMetadata)(e);let{gen:t,data:r,schema:n,parentSchema:s,it:i}=e,{schemaEnv:{root:a}}=i,o=t.name("valid");s.nullable?(t.var(o,(0,Kh._)`${r} === null`),t.if((0,Kh.not)(o),c)):(t.var(o,!1),c()),e.ok(o);function c(){var d;let f=(d=a.schema.definitions)===null||d===void 0?void 0:d[n];if(!f)throw new KPe.default(i.opts.uriResolver,"",n,`No definition ${n}`);LB(f)||!i.opts.inlineRefs?u(f):l(f)}function u(d){let f=EV.compileSchema.call(i.self,new EV.SchemaEnv({schema:d,root:a,schemaPath:`/definitions/${n}`})),h=(0,vV.getValidate)(e,f),p=t.const("_errs",xV.default.errors);(0,vV.callRef)(e,h,f,f.$async),t.assign(o,(0,Kh._)`${p} === ${xV.default.errors}`)}function l(d){let f=t.scopeValue("schema",i.opts.code.source===!0?{ref:d,code:(0,Kh.stringify)(d)}:{ref:d});e.subschema({schema:d,dataTypes:[],schemaPath:Kh.nil,topSchemaRef:f,errSchemaPath:`/definitions/${n}`},o)}}};function LB(e){for(let t in e){let r;if(t==="ref"||typeof(r=e[t])=="object"&&LB(r))return!0}return!1}Yh.hasRef=LB;Yh.default=WPe});var FB=I(MB=>{"use strict";Object.defineProperty(MB,"__esModule",{value:!0});var JPe=/t|\s/i,XPe=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,ZPe=/^(\d\d):(\d\d):(\d\d)(?:\.\d+)?(?:z|([+-]\d\d)(?::?(\d\d))?)$/i,eOe=[0,31,28,31,30,31,30,31,31,30,31,30,31];function IV(e,t){let r=e.split(JPe);return r.length===2&&_V(r[0])&&tOe(r[1])||t&&r.length===1&&_V(r[0])}MB.default=IV;function _V(e){let t=XPe.exec(e);if(!t)return!1;let r=+t[1],n=+t[2],s=+t[3];return n>=1&&n<=12&&s>=1&&(s<=eOe[n]||n===2&&s===29&&(r%100===0?r%400===0:r%4===0))}function tOe(e){let t=ZPe.exec(e);if(!t)return!1;let r=+t[1],n=+t[2],s=+t[3],i=+(t[4]||0),a=+(t[5]||0);return r<=23&&n<=59&&s<=59||r-i===23&&n-a===59&&s===60}IV.code='require("ajv/dist/runtime/timestamp").default'});var Ef=I(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc.typeErrorParams=kc.typeErrorMessage=kc.typeError=void 0;var rOe=qe();function nOe(e){return{message:t=>CV(t,e),params:t=>wV(t,e)}}kc.typeError=nOe;function CV({parentSchema:e},t){return e?.nullable?`must be ${t} or null`:`must be ${t}`}kc.typeErrorMessage=CV;function wV({parentSchema:e},t){return(0,rOe._)`{type: ${t}, nullable: ${!!e?.nullable}}`}kc.typeErrorParams=wV});var QB=I(xf=>{"use strict";Object.defineProperty(xf,"__esModule",{value:!0});xf.intRange=void 0;var Ws=qe(),sOe=FB(),iOe=ot(),aOe=_o(),SV=Ef();xf.intRange={int8:[-128,127,3],uint8:[0,255,3],int16:[-32768,32767,5],uint16:[0,65535,5],int32:[-2147483648,2147483647,10],uint32:[0,4294967295,10]};var oOe={message:e=>(0,SV.typeErrorMessage)(e,e.schema),params:e=>(0,SV.typeErrorParams)(e,e.schema)};function cOe(e){let{gen:t,data:r,it:n}=e,{timestamp:s,allowDate:i}=n.opts;if(s==="date")return(0,Ws._)`${r} instanceof Date `;let a=(0,iOe.useFunc)(t,sOe.default),o=i?(0,Ws._)`, true`:Ws.nil,c=(0,Ws._)`typeof ${r} == "string" && ${a}(${r}${o})`;return s==="string"?c:(0,Ws.or)((0,Ws._)`${r} instanceof Date`,c)}var uOe={keyword:"type",schemaType:"string",error:oOe,code(e){(0,aOe.checkMetadata)(e);let{data:t,schema:r,parentSchema:n,it:s}=e,i;switch(r){case"boolean":case"string":i=(0,Ws._)`typeof ${t} == ${r}`;break;case"timestamp":{i=cOe(e);break}case"float32":case"float64":i=(0,Ws._)`typeof ${t} == "number"`;break;default:{let a=r;if(i=(0,Ws._)`typeof ${t} == "number" && isFinite(${t}) && !(${t} % 1)`,!s.opts.int32range&&(a==="int32"||a==="uint32"))a==="uint32"&&(i=(0,Ws._)`${i} && ${t} >= 0`);else{let[o,c]=xf.intRange[a];i=(0,Ws._)`${i} && ${t} >= ${o} && ${t} <= ${c}`}}}e.pass(n.nullable?(0,Ws.or)((0,Ws._)`${t} === null`,i):i)}};xf.default=uOe});var _f=I(vf=>{"use strict";Object.defineProperty(vf,"__esModule",{value:!0});vf.checkNullableObject=vf.checkNullable=void 0;var Zb=qe();function TV({gen:e,data:t,parentSchema:r},n=Zb.nil){let s=e.name("valid");return r.nullable?(e.let(s,(0,Zb._)`${t} === null`),n=(0,Zb.not)(s)):e.let(s,!1),[s,n]}vf.checkNullable=TV;function lOe(e,t){let[r,n]=TV(e,t);return[r,(0,Zb._)`${n} && typeof ${e.data} == "object" && !Array.isArray(${e.data})`]}vf.checkNullableObject=lOe});var BV=I(UB=>{"use strict";Object.defineProperty(UB,"__esModule",{value:!0});var Dc=qe(),dOe=_o(),fOe=_f(),pOe={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Dc._)`{allowedValues: ${e}}`},hOe={keyword:"enum",schemaType:"array",error:pOe,code(e){(0,dOe.checkMetadata)(e);let{gen:t,data:r,schema:n,schemaValue:s,parentSchema:i,it:a}=e;if(n.length===0)throw new Error("enum must have non-empty array");if(n.length!==new Set(n).size)throw new Error("enum items must be unique");let o,c=(0,Dc._)`typeof ${r} == "string"`;if(n.length>=a.opts.loopEnum){let l;[o,l]=(0,fOe.checkNullable)(e,c),t.if(l,u)}else{if(!Array.isArray(n))throw new Error("ajv implementation error");o=(0,Dc.and)(c,(0,Dc.or)(...n.map(l=>(0,Dc._)`${r} === ${l}`))),i.nullable&&(o=(0,Dc.or)((0,Dc._)`${r} === null`,o))}e.pass(o);function u(){t.forOf("v",s,l=>t.if((0,Dc._)`${o} = ${r} === ${l}`,()=>t.break()))}}};UB.default=hOe});var NV=I(qB=>{"use strict";Object.defineProperty(qB,"__esModule",{value:!0});var mOe=ot(),gOe=wn(),RV=qe(),AOe=_o(),yOe=_f(),bOe=Ef(),EOe={keyword:"elements",schemaType:"object",error:(0,bOe.typeError)("array"),code(e){(0,AOe.checkMetadata)(e);let{gen:t,data:r,schema:n,it:s}=e;if((0,mOe.alwaysValidSchema)(s,n))return;let[i]=(0,yOe.checkNullable)(e);t.if((0,RV.not)(i),()=>t.if((0,RV._)`Array.isArray(${r})`,()=>t.assign(i,(0,gOe.validateArray)(e)),()=>e.error())),e.ok(i)}};qB.default=EOe});var HB=I(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.validateProperties=Pc.error=void 0;var jB=wn(),kV=ot(),Io=qe(),xOe=_o(),vOe=_f(),DV=Ef(),If;(function(e){e.Additional="additional",e.Missing="missing"})(If||(If={}));Pc.error={message:e=>{let{params:t}=e;return t.propError?t.propError===If.Additional?"must NOT have additional properties":`must have property '${t.missingProperty}'`:(0,DV.typeErrorMessage)(e,"object")},params:e=>{let{params:t}=e;return t.propError?t.propError===If.Additional?(0,Io._)`{error: ${t.propError}, additionalProperty: ${t.additionalProperty}}`:(0,Io._)`{error: ${t.propError}, missingProperty: ${t.missingProperty}}`:(0,DV.typeErrorParams)(e,"object")}};var _Oe={keyword:"properties",schemaType:"object",error:Pc.error,code:PV};function PV(e){(0,xOe.checkMetadata)(e);let{gen:t,data:r,parentSchema:n,it:s}=e,{additionalProperties:i,nullable:a}=n;if(s.jtdDiscriminator&&a)throw new Error("JTD: nullable inside discriminator mapping");if(h())throw new Error("JTD: properties and optionalProperties have common members");let[o,c]=p("properties"),[u,l]=p("optionalProperties");if(c.length===0&&l.length===0&&i)return;let[d,f]=s.jtdDiscriminator===void 0?(0,vOe.checkNullableObject)(e,r):[t.let("valid",!1),!0];t.if(f,()=>t.assign(d,!0).block(()=>{m(c,"properties",!0),m(l,"optionalProperties"),i||g()})),e.pass(d);function h(){let y=n.properties,b=n.optionalProperties;if(!(y&&b))return!1;for(let _ in y)if(Object.prototype.hasOwnProperty.call(b,_))return!0;return!1}function p(y){let b=n[y],_=b?(0,jB.allSchemaProperties)(b):[];if(s.jtdDiscriminator&&_.some(w=>w===s.jtdDiscriminator))throw new Error(`JTD: discriminator tag used in ${y}`);let C=_.filter(w=>!(0,kV.alwaysValidSchema)(s,b[w]));return[_,C]}function m(y,b,_){let C=t.var("valid");for(let S of y)t.if((0,jB.propertyInData)(t,r,S,s.opts.ownProperties),()=>A(S,b,C),()=>w(S)),e.ok(C);function w(S){_?(t.assign(C,!1),e.error(!1,{propError:If.Missing,missingProperty:S},{schemaPath:S})):t.assign(C,!0)}}function A(y,b,_){e.subschema({keyword:b,schemaProp:y,dataProp:y},_)}function g(){t.forIn("key",r,y=>{let b=x(y,o,"properties",s.jtdDiscriminator),_=x(y,u,"optionalProperties"),C=b===!0?_:_===!0?b:(0,Io.and)(b,_);t.if(C,()=>{s.opts.removeAdditional?t.code((0,Io._)`delete ${r}[${y}]`):(e.error(!1,{propError:If.Additional,additionalProperty:y},{instancePath:y,parentSchema:!0}),s.opts.allErrors||t.break())})})}function x(y,b,_,C){let w;if(b.length>8){let S=(0,kV.schemaRefOrVal)(s,n[_],_);w=(0,Io.not)((0,jB.isOwnProperty)(t,S,y)),C!==void 0&&(w=(0,Io.and)(w,(0,Io._)`${y} !== ${C}`))}else if(b.length||C!==void 0){let S=C===void 0?b:[C].concat(b);w=(0,Io.and)(...S.map(T=>(0,Io._)`${y} !== ${T}`))}else w=!0;return w}}Pc.validateProperties=PV;Pc.default=_Oe});var $V=I(zB=>{"use strict";Object.defineProperty(zB,"__esModule",{value:!0});var OV=HB(),IOe={keyword:"optionalProperties",schemaType:"object",error:OV.error,code(e){e.parentSchema.properties||(0,OV.validateProperties)(e)}};zB.default=IOe});var MV=I(GB=>{"use strict";Object.defineProperty(GB,"__esModule",{value:!0});var gl=qe(),COe=_o(),wOe=_f(),LV=Ef(),eE=DB(),SOe={message:e=>{let{schema:t,params:r}=e;return r.discrError?r.discrError===eE.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in mapping`:(0,LV.typeErrorMessage)(e,"object")},params:e=>{let{schema:t,params:r}=e;return r.discrError?(0,gl._)`{error: ${r.discrError}, tag: ${t}, tagValue: ${r.tag}}`:(0,LV.typeErrorParams)(e,"object")}},TOe={keyword:"discriminator",schemaType:"string",implements:["mapping"],error:SOe,code(e){(0,COe.checkMetadata)(e);let{gen:t,data:r,schema:n,parentSchema:s}=e,[i,a]=(0,wOe.checkNullableObject)(e,r);t.if(a),o(),t.elseIf((0,gl.not)(i)),e.error(),t.endIf(),e.ok(i);function o(){let l=t.const("tag",(0,gl._)`${r}${(0,gl.getProperty)(n)}`);t.if((0,gl._)`${l} === undefined`),e.error(!1,{discrError:eE.DiscrError.Tag,tag:l}),t.elseIf((0,gl._)`typeof ${l} == "string"`),c(l),t.else(),e.error(!1,{discrError:eE.DiscrError.Tag,tag:l},{instancePath:n}),t.endIf()}function c(l){t.if(!1);for(let d in s.mapping)t.elseIf((0,gl._)`${l} === ${d}`),t.assign(i,u(d));t.else(),e.error(!1,{discrError:eE.DiscrError.Mapping,tag:l},{instancePath:n,schemaPath:"mapping",parentSchema:!0}),t.endIf()}function u(l){let d=t.name("valid");return e.subschema({keyword:"mapping",schemaProp:l,jtdDiscriminator:n},d),d}}};GB.default=TOe});var QV=I(VB=>{"use strict";Object.defineProperty(VB,"__esModule",{value:!0});var FV=ot(),tE=qe(),BOe=_o(),ROe=_f(),NOe=Ef(),kOe={keyword:"values",schemaType:"object",error:(0,NOe.typeError)("object"),code(e){(0,BOe.checkMetadata)(e);let{gen:t,data:r,schema:n,it:s}=e,[i,a]=(0,ROe.checkNullableObject)(e,r);(0,FV.alwaysValidSchema)(s,n)?t.if((0,tE.not)((0,tE.or)(a,i)),()=>e.error()):(t.if(a),t.assign(i,o()),t.elseIf((0,tE.not)(i)),e.error(),t.endIf()),e.ok(i);function o(){let c=t.name("valid");if(s.allErrors){let l=t.let("valid",!0);return u(()=>t.assign(l,!1)),l}return t.var(c,!0),u(()=>t.break()),c;function u(l){t.forIn("key",r,d=>{e.subschema({keyword:"values",dataProp:d,dataPropType:FV.Type.Str},c),t.if((0,tE.not)(c),l)})}}}};VB.default=kOe});var UV=I(KB=>{"use strict";Object.defineProperty(KB,"__esModule",{value:!0});var DOe=wn(),POe={keyword:"union",schemaType:"array",trackErrors:!0,code:DOe.validateUnion,error:{message:"must match a schema in union"}};KB.default=POe});var qV=I(YB=>{"use strict";Object.defineProperty(YB,"__esModule",{value:!0});var OOe=Xb(),$Oe=QB(),LOe=BV(),MOe=NV(),FOe=HB(),QOe=$V(),UOe=MV(),qOe=QV(),jOe=UV(),HOe=_o(),zOe=["definitions",OOe.default,$Oe.default,LOe.default,MOe.default,FOe.default,QOe.default,UOe.default,qOe.default,jOe.default,HOe.default,{keyword:"additionalProperties",schemaType:"boolean"},{keyword:"nullable",schemaType:"boolean"}];YB.default=zOe});var GV=I(WB=>{"use strict";Object.defineProperty(WB,"__esModule",{value:!0});var Co=e=>{let t={nullable:{type:"boolean"},metadata:{optionalProperties:{union:{elements:{ref:"schema"}}},additionalProperties:!0}};return e&&(t.definitions={values:{ref:"schema"}}),t},GOe=e=>({optionalProperties:Co(e)}),VOe=e=>({properties:{ref:{type:"string"}},optionalProperties:Co(e)}),KOe=e=>({properties:{type:{enum:["boolean","timestamp","string","float32","float64","int8","uint8","int16","uint16","int32","uint32"]}},optionalProperties:Co(e)}),YOe=e=>({properties:{enum:{elements:{type:"string"}}},optionalProperties:Co(e)}),WOe=e=>({properties:{elements:{ref:"schema"}},optionalProperties:Co(e)}),HV=e=>({properties:{properties:{values:{ref:"schema"}}},optionalProperties:{optionalProperties:{values:{ref:"schema"}},additionalProperties:{type:"boolean"},...Co(e)}}),zV=e=>({properties:{optionalProperties:{values:{ref:"schema"}}},optionalProperties:{additionalProperties:{type:"boolean"},...Co(e)}}),JOe=e=>({properties:{discriminator:{type:"string"},mapping:{values:{metadata:{union:[HV(!1),zV(!1)]}}}},optionalProperties:Co(e)}),XOe=e=>({properties:{values:{ref:"schema"}},optionalProperties:Co(e)}),jV=e=>({metadata:{union:[GOe,VOe,KOe,YOe,WOe,HV,zV,JOe,XOe].map(t=>t(e))}}),ZOe={definitions:{schema:jV(!1)},...jV(!0)};WB.default=ZOe});var JB=I(rE=>{"use strict";Object.defineProperty(rE,"__esModule",{value:!0});rE.jtdForms=void 0;rE.jtdForms=["elements","values","discriminator","properties","optionalProperties","enum","type","ref"]});var KV=I(ZB=>{"use strict";Object.defineProperty(ZB,"__esModule",{value:!0});var XB=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e5e={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function VV(e){return XB.lastIndex=0,'"'+(XB.test(e)?e.replace(XB,t=>{let r=e5e[t];return typeof r=="string"?r:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}):e)+'"'}ZB.default=VV;VV.code='require("ajv/dist/runtime/quote").default'});var eK=I(t4=>{"use strict";Object.defineProperty(t4,"__esModule",{value:!0});var t5e=JB(),WV=fl(),xt=qe(),r5e=xo(),pr=hi(),n5e=wn(),s5e=Xb(),i5e=ot(),a5e=KV(),o5e={elements:u5e,values:l5e,discriminator:d5e,properties:YV,optionalProperties:YV,enum:Wh,type:f5e,ref:h5e};function JV(e,t){let r=WV.getCompilingSchema.call(this,e);if(r)return r;let{es5:n,lines:s}=this.opts.code,{ownProperties:i}=this.opts,a=new xt.CodeGen(this.scope,{es5:n,lines:s,ownProperties:i}),o=a.scopeName("serialize"),c={self:this,gen:a,schema:e.schema,schemaEnv:e,definitions:t,data:pr.default.data},u;try{this._compilations.add(e),e.serializeName=o,a.func(o,pr.default.data,!1,()=>{a.let(pr.default.json,(0,xt.str)``),Jh(c),a.return(pr.default.json)}),a.optimize(this.opts.code.optimize);let l=a.toString();u=`${a.scopeRefs(pr.default.scope)}return ${l}`;let f=new Function(`${pr.default.scope}`,u)(this.scope.get());this.scope.value(o,{ref:f}),e.serialize=f}catch(l){throw u&&this.logger.error("Error compiling serializer, function code:",u),delete e.serialize,delete e.serializeName,l}finally{this._compilations.delete(e)}return e}t4.default=JV;function Jh(e){let t;for(let r of t5e.jtdForms)if(r in e.schema){t=r;break}c5e(e,t?o5e[t]:g5e)}function c5e(e,t){let{gen:r,schema:n,data:s}=e;if(!n.nullable)return t(e);r.if((0,xt._)`${s} === undefined || ${s} === null`,()=>r.add(pr.default.json,(0,xt._)`"null"`),()=>t(e))}function u5e(e){let{gen:t,schema:r,data:n}=e;t.add(pr.default.json,(0,xt.str)`[`);let s=t.let("first",!0);t.forOf("el",n,i=>{e4(e,s),Jh({...e,schema:r.elements,data:i})}),t.add(pr.default.json,(0,xt.str)`]`)}function l5e(e){let{gen:t,schema:r,data:n}=e;t.add(pr.default.json,(0,xt.str)`{`);let s=t.let("first",!0);t.forIn("key",n,i=>XV(e,i,r.values,s)),t.add(pr.default.json,(0,xt.str)`}`)}function XV(e,t,r,n){let{gen:s,data:i}=e;e4(e,n),Wh({...e,data:t}),s.add(pr.default.json,(0,xt.str)`:`);let a=s.const("value",(0,xt._)`${i}${(0,xt.getProperty)(t)}`);Jh({...e,schema:r,data:a})}function d5e(e){let{gen:t,schema:r,data:n}=e,{discriminator:s}=r;t.add(pr.default.json,(0,xt.str)`{${JSON.stringify(s)}:`);let i=t.const("tag",(0,xt._)`${n}${(0,xt.getProperty)(s)}`);Wh({...e,data:i}),t.if(!1);for(let a in r.mapping){t.elseIf((0,xt._)`${i} === ${a}`);let o=r.mapping[a];ZV({...e,schema:o},s)}t.endIf(),t.add(pr.default.json,(0,xt.str)`}`)}function YV(e){let{gen:t}=e;t.add(pr.default.json,(0,xt.str)`{`),ZV(e),t.add(pr.default.json,(0,xt.str)`}`)}function ZV(e,t){let{gen:r,schema:n,data:s}=e,{properties:i,optionalProperties:a}=n,o=f(i),c=f(a),u=h(o.concat(c)),l=!t,d;for(let g of o)l?l=!1:r.add(pr.default.json,(0,xt.str)`,`),m(g,i[g],p(g));l&&(d=r.let("first",!0));for(let g of c){let x=p(g);r.if((0,xt.and)((0,xt._)`${x} !== undefined`,(0,n5e.isOwnProperty)(r,s,g)),()=>{e4(e,d),m(g,a[g],x)})}n.additionalProperties&&r.forIn("key",s,g=>r.if(A(g,u),()=>XV(e,g,{},d)));function f(g){return g?Object.keys(g):[]}function h(g){if(t&&g.push(t),new Set(g).size!==g.length)throw new Error("JTD: properties/optionalProperties/disciminator overlap");return g}function p(g){return r.const("value",(0,xt._)`${s}${(0,xt.getProperty)(g)}`)}function m(g,x,y){r.add(pr.default.json,(0,xt.str)`${JSON.stringify(g)}:`),Jh({...e,schema:x,data:y})}function A(g,x){return x.length?(0,xt.and)(...x.map(y=>(0,xt._)`${g} !== ${y}`)):!0}}function f5e(e){let{gen:t,schema:r,data:n}=e;switch(r.type){case"boolean":t.add(pr.default.json,(0,xt._)`${n} ? "true" : "false"`);break;case"string":Wh(e);break;case"timestamp":t.if((0,xt._)`${n} instanceof Date`,()=>t.add(pr.default.json,(0,xt._)`'"' + ${n}.toISOString() + '"'`),()=>Wh(e));break;default:p5e(e)}}function Wh({gen:e,data:t}){e.add(pr.default.json,(0,xt._)`${(0,i5e.useFunc)(e,a5e.default)}(${t})`)}function p5e({gen:e,data:t}){e.add(pr.default.json,(0,xt._)`"" + ${t}`)}function h5e(e){let{gen:t,self:r,data:n,definitions:s,schema:i,schemaEnv:a}=e,{ref:o}=i,c=s[o];if(!c)throw new r5e.default(r.opts.uriResolver,"",o,`No definition ${o}`);if(!(0,s5e.hasRef)(c))return Jh({...e,schema:c});let{root:u}=a,l=JV.call(r,new WV.SchemaEnv({schema:c,root:u}),s);t.add(pr.default.json,(0,xt._)`${m5e(t,l)}(${n})`)}function m5e(e,t){return t.serialize?e.scopeValue("serialize",{ref:t.serialize}):(0,xt._)`${e.scopeValue("wrapper",{ref:t})}.serialize`}function g5e({gen:e,data:t}){e.add(pr.default.json,(0,xt._)`JSON.stringify(${t})`)}function e4({gen:e},t){t?e.if(t,()=>e.assign(t,!1),()=>e.add(pr.default.json,(0,xt.str)`,`)):e.add(pr.default.json,(0,xt.str)`,`)}});var rK=I($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.parseJsonString=$c.parseJsonNumber=$c.parseJson=void 0;var A5e=/position\s(\d+)(?: \(line \d+ column \d+\))?$/;function wo(e,t){let r;wo.message=void 0;let n;t&&(e=e.slice(t));try{return wo.position=t+e.length,JSON.parse(e)}catch(s){if(n=A5e.exec(s.message),!n){wo.message="unexpected end";return}r=+n[1];let i=e[r];e=e.slice(0,r),wo.position=t+r;try{return JSON.parse(e)}catch{wo.message=`unexpected token ${i}`;return}}}$c.parseJson=wo;wo.message=void 0;wo.position=0;wo.code='require("ajv/dist/runtime/parseJson").parseJson';function So(e,t,r){let n="",s;if(So.message=void 0,e[t]==="-"&&(n+="-",t++),e[t]==="0")n+="0",t++;else if(!i(r)){a();return}if(r)return So.position=t,+n;if(e[t]==="."&&(n+=".",t++,!i())){a();return}if(s=e[t],(s==="e"||s==="E")&&(n+="e",t++,s=e[t],(s==="+"||s==="-")&&(n+=s,t++),!i())){a();return}return So.position=t,+n;function i(o){let c=!1;for(;s=e[t],s>="0"&&s<="9"&&(o===void 0||o-- >0);)c=!0,n+=s,t++;return c}function a(){So.position=t,So.message=t<e.length?`unexpected token ${e[t]}`:"unexpected end"}}$c.parseJsonNumber=So;So.message=void 0;So.position=0;So.code='require("ajv/dist/runtime/parseJson").parseJsonNumber';var tK={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",'"':'"',"/":"/","\\":"\\"},y5e=97,b5e=48;function Oc(e,t){let r="",n;for(Oc.message=void 0;n=e[t++],n!=='"';)if(n==="\\")if(n=e[t],n in tK)r+=tK[n],t++;else if(n==="u"){t++;let i=4,a=0;for(;i--;){if(a<<=4,n=e[t],n===void 0){s("unexpected end");return}if(n=n.toLowerCase(),n>="a"&&n<="f")a+=n.charCodeAt(0)-y5e+10;else if(n>="0"&&n<="9")a+=n.charCodeAt(0)-b5e;else{s(`unexpected token ${n}`);return}t++}r+=String.fromCharCode(a)}else{s(`unexpected token ${n}`);return}else if(n===void 0){s("unexpected end");return}else if(n.charCodeAt(0)>=32)r+=n;else{s(`unexpected token ${n}`);return}return Oc.position=t,r;function s(i){Oc.position=t,Oc.message=i}}$c.parseJsonString=Oc;Oc.message=void 0;Oc.position=0;Oc.code='require("ajv/dist/runtime/parseJson").parseJsonString'});var pK=I(u4=>{"use strict";Object.defineProperty(u4,"__esModule",{value:!0});var E5e=JB(),aK=fl(),Ue=qe(),x5e=xo(),bt=hi(),v5e=wn(),_5e=Xb(),I5e=QB(),s4=rK(),oK=ot(),C5e=FB(),w5e={elements:R5e,values:N5e,discriminator:D5e,properties:nK,optionalProperties:nK,enum:O5e,type:P5e,ref:$5e};function cK(e,t){let r=aK.getCompilingSchema.call(this,e);if(r)return r;let{es5:n,lines:s}=this.opts.code,{ownProperties:i}=this.opts,a=new Ue.CodeGen(this.scope,{es5:n,lines:s,ownProperties:i}),o=a.scopeName("parse"),c={self:this,gen:a,schema:e.schema,schemaEnv:e,definitions:t,data:bt.default.data,parseName:o,char:a.name("c")},u;try{this._compilations.add(e),e.parseName=o,S5e(c),a.optimize(this.opts.code.optimize);let l=a.toString();u=`${a.scopeRefs(bt.default.scope)}return ${l}`;let f=new Function(`${bt.default.scope}`,u)(this.scope.get());this.scope.value(o,{ref:f}),e.parse=f}catch(l){throw u&&this.logger.error("Error compiling parser, function code:",u),delete e.parse,delete e.parseName,l}finally{this._compilations.delete(e)}return e}u4.default=cK;var n4=(0,Ue._)`undefined`;function S5e(e){let{gen:t,parseName:r,char:n}=e;t.func(r,(0,Ue._)`${bt.default.json}, ${bt.default.jsonPos}, ${bt.default.jsonPart}`,!1,()=>{t.let(bt.default.data),t.let(n),t.assign((0,Ue._)`${r}.message`,n4),t.assign((0,Ue._)`${r}.position`,n4),t.assign(bt.default.jsonPos,(0,Ue._)`${bt.default.jsonPos} || 0`),t.const(bt.default.jsonLen,(0,Ue._)`${bt.default.json}.length`),nE(e),c4(e),t.if(bt.default.jsonPart,()=>{t.assign((0,Ue._)`${r}.position`,bt.default.jsonPos),t.return(bt.default.data)}),t.if((0,Ue._)`${bt.default.jsonPos} === ${bt.default.jsonLen}`,()=>t.return(bt.default.data)),Cf(e)})}function nE(e){let t;for(let r of E5e.jtdForms)if(r in e.schema){t=r;break}t?B5e(e,w5e[t]):a4(e)}var T5e=iK(!0,iK(!1,Cf));function B5e(e,t){let{gen:r,schema:n,data:s}=e;if(!n.nullable)return t(e);Xh(e,"null",t,()=>r.assign(s,null))}function R5e(e){let{gen:t,schema:r,data:n}=e;Na(e,"[");let s=t.let("i",0);t.assign(n,(0,Ue._)`[]`),i4(e,"]",()=>{let i=t.let("el");nE({...e,schema:r.elements,data:i}),t.assign((0,Ue._)`${n}[${s}++]`,i)})}function N5e(e){let{gen:t,schema:r,data:n}=e;Na(e,"{"),t.assign(n,(0,Ue._)`{}`),i4(e,"}",()=>k5e(e,r.values))}function i4(e,t,r){uK(e,t,r),Na(e,t)}function uK(e,t,r){let{gen:n}=e;n.for((0,Ue._)`;${bt.default.jsonPos}<${bt.default.jsonLen} && ${sE(1)}!==${t};`,()=>{r(),Xh(e,",",()=>n.break(),s)});function s(){Xh(e,t,()=>{},Cf)}}function k5e(e,t){let{gen:r}=e,n=r.let("key");Al({...e,data:n}),Na(e,":"),dK(e,n,t)}function D5e(e){let{gen:t,data:r,schema:n}=e,{discriminator:s,mapping:i}=n;Na(e,"{"),t.assign(r,(0,Ue._)`{}`);let a=t.const("pos",bt.default.jsonPos),o=t.let("value"),c=t.let("tag");uK(e,"}",()=>{let u=t.let("key");Al({...e,data:u}),Na(e,":"),t.if((0,Ue._)`${u} === ${s}`,()=>{Al({...e,data:c}),t.assign((0,Ue._)`${r}[${u}]`,c),t.break()},()=>a4({...e,data:o}))}),t.assign(bt.default.jsonPos,a),t.if((0,Ue._)`${c} === undefined`),To(e,(0,Ue.str)`discriminator tag not found`);for(let u in i)t.elseIf((0,Ue._)`${c} === ${u}`),lK({...e,schema:i[u]},s);t.else(),To(e,(0,Ue.str)`discriminator value not in schema`),t.endIf()}function nK(e){let{gen:t,data:r}=e;Na(e,"{"),t.assign(r,(0,Ue._)`{}`),lK(e)}function lK(e,t){let{gen:r,schema:n,data:s}=e,{properties:i,optionalProperties:a,additionalProperties:o}=n;if(i4(e,"}",()=>{let c=r.let("key");if(Al({...e,data:c}),Na(e,":"),r.if(!1),sK(e,c,i),sK(e,c,a),t){r.elseIf((0,Ue._)`${c} === ${t}`);let u=r.let("tag");Al({...e,data:u})}r.else(),o?a4({...e,data:(0,Ue._)`${s}[${c}]`}):To(e,(0,Ue.str)`property ${c} not allowed`),r.endIf()}),i){let c=(0,v5e.hasPropFunc)(r),u=(0,Ue.and)(...Object.keys(i).map(l=>(0,Ue._)`${c}.call(${s}, ${l})`));r.if((0,Ue.not)(u),()=>To(e,(0,Ue.str)`missing required properties`))}}function sK(e,t,r={}){let{gen:n}=e;for(let s in r)n.elseIf((0,Ue._)`${t} === ${s}`),dK(e,t,r[s])}function dK(e,t,r){nE({...e,schema:r,data:(0,Ue._)`${e.data}[${t}]`})}function P5e(e){let{gen:t,schema:r,data:n,self:s}=e;switch(r.type){case"boolean":T5e(e);break;case"string":Al(e);break;case"timestamp":{Al(e);let i=(0,oK.useFunc)(t,C5e.default),{allowDate:a,parseDate:o}=s.opts,c=a?(0,Ue._)`!${i}(${n}, true)`:(0,Ue._)`!${i}(${n})`,u=o?(0,Ue.or)(c,(0,Ue._)`(${n} = new Date(${n}), false)`,(0,Ue._)`isNaN(${n}.valueOf())`):c;t.if(u,()=>To(e,(0,Ue.str)`invalid timestamp`));break}case"float32":case"float64":r4(e);break;default:{let i=r.type;if(!s.opts.int32range&&(i==="int32"||i==="uint32"))r4(e,16),i==="uint32"&&t.if((0,Ue._)`${n} < 0`,()=>To(e,(0,Ue.str)`integer out of range`));else{let[a,o,c]=I5e.intRange[i];r4(e,c),t.if((0,Ue._)`${n} < ${a} || ${n} > ${o}`,()=>To(e,(0,Ue.str)`integer out of range`))}}}}function Al(e){Na(e,'"'),o4(e,s4.parseJsonString)}function O5e(e){let{gen:t,data:r,schema:n}=e,s=n.enum;Na(e,'"'),t.if(!1);for(let i of s){let a=JSON.stringify(i).slice(1);t.elseIf((0,Ue._)`${sE(a.length)} === ${a}`),t.assign(r,(0,Ue.str)`${i}`),t.add(bt.default.jsonPos,a.length)}t.else(),Cf(e),t.endIf()}function r4(e,t){let{gen:r}=e;c4(e),r.if((0,Ue._)`"-0123456789".indexOf(${sE(1)}) < 0`,()=>Cf(e),()=>o4(e,s4.parseJsonNumber,t))}function iK(e,t){return r=>{let{gen:n,data:s}=r;Xh(r,`${e}`,()=>t(r),()=>n.assign(s,e))}}function $5e(e){let{gen:t,self:r,definitions:n,schema:s,schemaEnv:i}=e,{ref:a}=s,o=n[a];if(!o)throw new x5e.default(r.opts.uriResolver,"",a,`No definition ${a}`);if(!(0,_5e.hasRef)(o))return nE({...e,schema:o});let{root:c}=i,u=cK.call(r,new aK.SchemaEnv({schema:o,root:c}),n);fK(e,L5e(t,u),!0)}function L5e(e,t){return t.parse?e.scopeValue("parse",{ref:t.parse}):(0,Ue._)`${e.scopeValue("wrapper",{ref:t})}.parse`}function a4(e){o4(e,s4.parseJson)}function o4(e,t,r){fK(e,(0,oK.useFunc)(e.gen,t),r)}function fK(e,t,r){let{gen:n,data:s}=e;n.assign(s,(0,Ue._)`${t}(${bt.default.json}, ${bt.default.jsonPos}${r?(0,Ue._)`, ${r}`:Ue.nil})`),n.assign(bt.default.jsonPos,(0,Ue._)`${t}.position`),n.if((0,Ue._)`${s} === undefined`,()=>To(e,(0,Ue._)`${t}.message`))}function Na(e,t){Xh(e,t,Cf)}function Xh(e,t,r,n){let{gen:s}=e,i=t.length;c4(e),s.if((0,Ue._)`${sE(i)} === ${t}`,()=>{s.add(bt.default.jsonPos,i),n?.(e)},()=>r(e))}function c4({gen:e,char:t}){e.code((0,Ue._)`while((${t}=${bt.default.json}[${bt.default.jsonPos}],${t}===" "||${t}==="\\n"||${t}==="\\r"||${t}==="\\t"))${bt.default.jsonPos}++;`)}function sE(e){return e===1?(0,Ue._)`${bt.default.json}[${bt.default.jsonPos}]`:(0,Ue._)`${bt.default.json}.slice(${bt.default.jsonPos}, ${bt.default.jsonPos}+${e})`}function Cf(e){To(e,(0,Ue._)`"unexpected token " + ${bt.default.json}[${bt.default.jsonPos}]`)}function To({gen:e,parseName:t},r){e.assign((0,Ue._)`${t}.message`,r),e.assign((0,Ue._)`${t}.position`,bt.default.jsonPos),e.return(n4)}});var f4=I((vr,d4)=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.MissingRefError=vr.ValidationError=vr.CodeGen=vr.Name=vr.nil=vr.stringify=vr.str=vr._=vr.KeywordCxt=vr.Ajv=void 0;var M5e=z3(),F5e=qV(),Q5e=GV(),U5e=eK(),q5e=pK(),l4="JTD-meta-schema",wf=class extends M5e.default{constructor(t={}){super({...t,jtd:!0})}_addVocabularies(){super._addVocabularies(),this.addVocabulary(F5e.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema(),this.opts.meta&&this.addMetaSchema(Q5e.default,l4,!1)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l4)?l4:void 0)}compileSerializer(t){let r=this._addSchema(t);return r.serialize||this._compileSerializer(r)}compileParser(t){let r=this._addSchema(t);return r.parse||this._compileParser(r)}_compileSerializer(t){if(U5e.default.call(this,t,t.schema.definitions||{}),!t.serialize)throw new Error("ajv implementation error");return t.serialize}_compileParser(t){if(q5e.default.call(this,t,t.schema.definitions||{}),!t.parse)throw new Error("ajv implementation error");return t.parse}};vr.Ajv=wf;d4.exports=vr=wf;d4.exports.Ajv=wf;Object.defineProperty(vr,"__esModule",{value:!0});vr.default=wf;var j5e=ff();Object.defineProperty(vr,"KeywordCxt",{enumerable:!0,get:function(){return j5e.KeywordCxt}});var Sf=qe();Object.defineProperty(vr,"_",{enumerable:!0,get:function(){return Sf._}});Object.defineProperty(vr,"str",{enumerable:!0,get:function(){return Sf.str}});Object.defineProperty(vr,"stringify",{enumerable:!0,get:function(){return Sf.stringify}});Object.defineProperty(vr,"nil",{enumerable:!0,get:function(){return Sf.nil}});Object.defineProperty(vr,"Name",{enumerable:!0,get:function(){return Sf.Name}});Object.defineProperty(vr,"CodeGen",{enumerable:!0,get:function(){return Sf.CodeGen}});var H5e=Dh();Object.defineProperty(vr,"ValidationError",{enumerable:!0,get:function(){return H5e.default}});var z5e=xo();Object.defineProperty(vr,"MissingRefError",{enumerable:!0,get:function(){return z5e.default}})});var p4=I((o0t,hK)=>{"use strict";var G5e=kS();hK.exports=Object.freeze({coerceTypes:"array",useDefaults:!0,removeAdditional:!0,uriResolver:G5e,addUsedSchema:!1,allErrors:!1})});var EK=I(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.formatNames=ka.fastFormats=ka.fullFormats=void 0;function Tf(e,t){return{validate:e,compare:t}}ka.fullFormats={date:Tf(AK,g4),time:Tf(yK,A4),"date-time":Tf(W5e,bK),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:Z5e,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:a$e,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:e$e,int32:{type:"number",validate:n$e},int64:{type:"number",validate:s$e},float:{type:"number",validate:gK},double:{type:"number",validate:gK},password:!0,binary:!0};ka.fastFormats={...ka.fullFormats,date:Tf(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,g4),time:Tf(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,A4),"date-time":Tf(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,bK),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i};ka.formatNames=Object.keys(ka.fullFormats);function V5e(e){return e%4===0&&(e%100!==0||e%400===0)}var K5e=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Y5e=[0,31,28,31,30,31,30,31,31,30,31,30,31];function AK(e){let t=K5e.exec(e);if(!t)return!1;let r=+t[1],n=+t[2],s=+t[3];return n>=1&&n<=12&&s>=1&&s<=(n===2&&V5e(r)?29:Y5e[n])}function g4(e,t){if(e&&t)return e>t?1:e<t?-1:0}var h4=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function yK(e,t){let r=h4.exec(e);if(!r)return!1;let n=+r[1],s=+r[2],i=+r[3],a=r[5];return(n<=23&&s<=59&&i<=59||n===23&&s===59&&i===60)&&(!t||a!=="")}function A4(e,t){if(!(e&&t))return;let r=h4.exec(e),n=h4.exec(t);if(r&&n)return e=r[1]+r[2]+r[3]+(r[4]||""),t=n[1]+n[2]+n[3]+(n[4]||""),e>t?1:e<t?-1:0}var m4=/t|\s/i;function W5e(e){let t=e.split(m4);return t.length===2&&AK(t[0])&&yK(t[1],!0)}function bK(e,t){if(!(e&&t))return;let[r,n]=e.split(m4),[s,i]=t.split(m4),a=g4(r,s);if(a!==void 0)return a||A4(n,i)}var J5e=/\/|:/,X5e=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function Z5e(e){return J5e.test(e)&&X5e.test(e)}var mK=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function e$e(e){return mK.lastIndex=0,mK.test(e)}var t$e=-(2**31),r$e=2**31-1;function n$e(e){return Number.isInteger(e)&&e<=r$e&&e>=t$e}function s$e(e){return Number.isInteger(e)}function gK(){return!0}var i$e=/[^\\]\\Z/;function a$e(e){if(i$e.test(e))return!1;try{return new RegExp(e),!0}catch{return!1}}});var tm=I(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.regexpCode=Lt.getEsmExportName=Lt.getProperty=Lt.safeStringify=Lt.stringify=Lt.strConcat=Lt.addCodeArg=Lt.str=Lt._=Lt.nil=Lt._Code=Lt.Name=Lt.IDENTIFIER=Lt._CodeOrName=void 0;var Zh=class{};Lt._CodeOrName=Zh;Lt.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var yl=class extends Zh{constructor(t){if(super(),!Lt.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};Lt.Name=yl;var Ai=class extends Zh{constructor(t){super(),this._items=typeof t=="string"?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let t=this._items[0];return t===""||t==='""'}get str(){var t;return(t=this._str)!==null&&t!==void 0?t:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var t;return(t=this._names)!==null&&t!==void 0?t:this._names=this._items.reduce((r,n)=>(n instanceof yl&&(r[n.str]=(r[n.str]||0)+1),r),{})}};Lt._Code=Ai;Lt.nil=new Ai("");function xK(e,...t){let r=[e[0]],n=0;for(;n<t.length;)b4(r,t[n]),r.push(e[++n]);return new Ai(r)}Lt._=xK;var y4=new Ai("+");function vK(e,...t){let r=[em(e[0])],n=0;for(;n<t.length;)r.push(y4),b4(r,t[n]),r.push(y4,em(e[++n]));return o$e(r),new Ai(r)}Lt.str=vK;function b4(e,t){t instanceof Ai?e.push(...t._items):t instanceof yl?e.push(t):e.push(l$e(t))}Lt.addCodeArg=b4;function o$e(e){let t=1;for(;t<e.length-1;){if(e[t]===y4){let r=c$e(e[t-1],e[t+1]);if(r!==void 0){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}function c$e(e,t){if(t==='""')return e;if(e==='""')return t;if(typeof e=="string")return t instanceof yl||e[e.length-1]!=='"'?void 0:typeof t!="string"?`${e.slice(0,-1)}${t}"`:t[0]==='"'?e.slice(0,-1)+t.slice(1):void 0;if(typeof t=="string"&&t[0]==='"'&&!(e instanceof yl))return`"${e}${t.slice(1)}`}function u$e(e,t){return t.emptyStr()?e:e.emptyStr()?t:vK`${e}${t}`}Lt.strConcat=u$e;function l$e(e){return typeof e=="number"||typeof e=="boolean"||e===null?e:em(Array.isArray(e)?e.join(","):e)}function d$e(e){return new Ai(em(e))}Lt.stringify=d$e;function em(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}Lt.safeStringify=em;function f$e(e){return typeof e=="string"&&Lt.IDENTIFIER.test(e)?new Ai(`.${e}`):xK`[${e}]`}Lt.getProperty=f$e;function p$e(e){if(typeof e=="string"&&Lt.IDENTIFIER.test(e))return new Ai(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)}Lt.getEsmExportName=p$e;function h$e(e){return new Ai(e.toString())}Lt.regexpCode=h$e});var v4=I(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.ValueScope=ks.ValueScopeName=ks.Scope=ks.varKinds=ks.UsedValueState=void 0;var Ns=tm(),E4=class extends Error{constructor(t){super(`CodeGen: "code" for ${t} not defined`),this.value=t.value}},iE;(function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"})(iE||(ks.UsedValueState=iE={}));ks.varKinds={const:new Ns.Name("const"),let:new Ns.Name("let"),var:new Ns.Name("var")};var aE=class{constructor({prefixes:t,parent:r}={}){this._names={},this._prefixes=t,this._parent=r}toName(t){return t instanceof Ns.Name?t:this.name(t)}name(t){return new Ns.Name(this._newName(t))}_newName(t){let r=this._names[t]||this._nameGroup(t);return`${t}${r.index++}`}_nameGroup(t){var r,n;if(!((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0)&&n.has(t)||this._prefixes&&!this._prefixes.has(t))throw new Error(`CodeGen: prefix "${t}" is not allowed in this scope`);return this._names[t]={prefix:t,index:0}}};ks.Scope=aE;var oE=class extends Ns.Name{constructor(t,r){super(r),this.prefix=t}setValue(t,{property:r,itemIndex:n}){this.value=t,this.scopePath=(0,Ns._)`.${new Ns.Name(r)}[${n}]`}};ks.ValueScopeName=oE;var m$e=(0,Ns._)`\n`,x4=class extends aE{constructor(t){super(t),this._values={},this._scope=t.scope,this.opts={...t,_n:t.lines?m$e:Ns.nil}}get(){return this._scope}name(t){return new oE(t,this._newName(t))}value(t,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let s=this.toName(t),{prefix:i}=s,a=(n=r.key)!==null&&n!==void 0?n:r.ref,o=this._values[i];if(o){let l=o.get(a);if(l)return l}else o=this._values[i]=new Map;o.set(a,s);let c=this._scope[i]||(this._scope[i]=[]),u=c.length;return c[u]=r.ref,s.setValue(r,{property:i,itemIndex:u}),s}getValue(t,r){let n=this._values[t];if(n)return n.get(r)}scopeRefs(t,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return(0,Ns._)`${t}${n.scopePath}`})}scopeCode(t=this._values,r,n){return this._reduceValues(t,s=>{if(s.value===void 0)throw new Error(`CodeGen: name "${s}" has no value`);return s.value.code},r,n)}_reduceValues(t,r,n={},s){let i=Ns.nil;for(let a in t){let o=t[a];if(!o)continue;let c=n[a]=n[a]||new Map;o.forEach(u=>{if(c.has(u))return;c.set(u,iE.Started);let l=r(u);if(l){let d=this.opts.es5?ks.varKinds.var:ks.varKinds.const;i=(0,Ns._)`${i}${d} ${u} = ${l};${this.opts._n}`}else if(l=s?.(u))i=(0,Ns._)`${i}${l}${this.opts._n}`;else throw new E4(u);c.set(u,iE.Completed)})}return i}};ks.ValueScope=x4});var ct=I(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.or=ft.and=ft.not=ft.CodeGen=ft.operators=ft.varKinds=ft.ValueScopeName=ft.ValueScope=ft.Scope=ft.Name=ft.regexpCode=ft.stringify=ft.getProperty=ft.nil=ft.strConcat=ft.str=ft._=void 0;var wt=tm(),Wi=v4(),Lc=tm();Object.defineProperty(ft,"_",{enumerable:!0,get:function(){return Lc._}});Object.defineProperty(ft,"str",{enumerable:!0,get:function(){return Lc.str}});Object.defineProperty(ft,"strConcat",{enumerable:!0,get:function(){return Lc.strConcat}});Object.defineProperty(ft,"nil",{enumerable:!0,get:function(){return Lc.nil}});Object.defineProperty(ft,"getProperty",{enumerable:!0,get:function(){return Lc.getProperty}});Object.defineProperty(ft,"stringify",{enumerable:!0,get:function(){return Lc.stringify}});Object.defineProperty(ft,"regexpCode",{enumerable:!0,get:function(){return Lc.regexpCode}});Object.defineProperty(ft,"Name",{enumerable:!0,get:function(){return Lc.Name}});var dE=v4();Object.defineProperty(ft,"Scope",{enumerable:!0,get:function(){return dE.Scope}});Object.defineProperty(ft,"ValueScope",{enumerable:!0,get:function(){return dE.ValueScope}});Object.defineProperty(ft,"ValueScopeName",{enumerable:!0,get:function(){return dE.ValueScopeName}});Object.defineProperty(ft,"varKinds",{enumerable:!0,get:function(){return dE.varKinds}});ft.operators={GT:new wt._Code(">"),GTE:new wt._Code(">="),LT:new wt._Code("<"),LTE:new wt._Code("<="),EQ:new wt._Code("==="),NEQ:new wt._Code("!=="),NOT:new wt._Code("!"),OR:new wt._Code("||"),AND:new wt._Code("&&"),ADD:new wt._Code("+")};var Bo=class{optimizeNodes(){return this}optimizeNames(t,r){return this}},_4=class extends Bo{constructor(t,r,n){super(),this.varKind=t,this.name=r,this.rhs=n}render({es5:t,_n:r}){let n=t?Wi.varKinds.var:this.varKind,s=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${s};`+r}optimizeNames(t,r){if(t[this.name.str])return this.rhs&&(this.rhs=Rf(this.rhs,t,r)),this}get names(){return this.rhs instanceof wt._CodeOrName?this.rhs.names:{}}},cE=class extends Bo{constructor(t,r,n){super(),this.lhs=t,this.rhs=r,this.sideEffects=n}render({_n:t}){return`${this.lhs} = ${this.rhs};`+t}optimizeNames(t,r){if(!(this.lhs instanceof wt.Name&&!t[this.lhs.str]&&!this.sideEffects))return this.rhs=Rf(this.rhs,t,r),this}get names(){let t=this.lhs instanceof wt.Name?{}:{...this.lhs.names};return lE(t,this.rhs)}},I4=class extends cE{constructor(t,r,n,s){super(t,n,s),this.op=r}render({_n:t}){return`${this.lhs} ${this.op}= ${this.rhs};`+t}},C4=class extends Bo{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`${this.label}:`+t}},w4=class extends Bo{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`break${this.label?` ${this.label}`:""};`+t}},S4=class extends Bo{constructor(t){super(),this.error=t}render({_n:t}){return`throw ${this.error};`+t}get names(){return this.error.names}},T4=class extends Bo{constructor(t){super(),this.code=t}render({_n:t}){return`${this.code};`+t}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(t,r){return this.code=Rf(this.code,t,r),this}get names(){return this.code instanceof wt._CodeOrName?this.code.names:{}}},rm=class extends Bo{constructor(t=[]){super(),this.nodes=t}render(t){return this.nodes.reduce((r,n)=>r+n.render(t),"")}optimizeNodes(){let{nodes:t}=this,r=t.length;for(;r--;){let n=t[r].optimizeNodes();Array.isArray(n)?t.splice(r,1,...n):n?t[r]=n:t.splice(r,1)}return t.length>0?this:void 0}optimizeNames(t,r){let{nodes:n}=this,s=n.length;for(;s--;){let i=n[s];i.optimizeNames(t,r)||(g$e(t,i.names),n.splice(s,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((t,r)=>xl(t,r.names),{})}},Ro=class extends rm{render(t){return"{"+t._n+super.render(t)+"}"+t._n}},B4=class extends rm{},Bf=class extends Ro{};Bf.kind="else";var bl=class e extends Ro{constructor(t,r){super(r),this.condition=t}render(t){let r=`if(${this.condition})`+super.render(t);return this.else&&(r+="else "+this.else.render(t)),r}optimizeNodes(){super.optimizeNodes();let t=this.condition;if(t===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new Bf(n):n}if(r)return t===!1?r instanceof e?r:r.nodes:this.nodes.length?this:new e(_K(t),r instanceof e?[r]:r.nodes);if(!(t===!1||!this.nodes.length))return this}optimizeNames(t,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(t,r),!!(super.optimizeNames(t,r)||this.else))return this.condition=Rf(this.condition,t,r),this}get names(){let t=super.names;return lE(t,this.condition),this.else&&xl(t,this.else.names),t}};bl.kind="if";var El=class extends Ro{};El.kind="for";var R4=class extends El{constructor(t){super(),this.iteration=t}render(t){return`for(${this.iteration})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iteration=Rf(this.iteration,t,r),this}get names(){return xl(super.names,this.iteration.names)}},N4=class extends El{constructor(t,r,n,s){super(),this.varKind=t,this.name=r,this.from=n,this.to=s}render(t){let r=t.es5?Wi.varKinds.var:this.varKind,{name:n,from:s,to:i}=this;return`for(${r} ${n}=${s}; ${n}<${i}; ${n}++)`+super.render(t)}get names(){let t=lE(super.names,this.from);return lE(t,this.to)}},uE=class extends El{constructor(t,r,n,s){super(),this.loop=t,this.varKind=r,this.name=n,this.iterable=s}render(t){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iterable=Rf(this.iterable,t,r),this}get names(){return xl(super.names,this.iterable.names)}},nm=class extends Ro{constructor(t,r,n){super(),this.name=t,this.args=r,this.async=n}render(t){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(t)}};nm.kind="func";var sm=class extends rm{render(t){return"return "+super.render(t)}};sm.kind="return";var k4=class extends Ro{render(t){let r="try"+super.render(t);return this.catch&&(r+=this.catch.render(t)),this.finally&&(r+=this.finally.render(t)),r}optimizeNodes(){var t,r;return super.optimizeNodes(),(t=this.catch)===null||t===void 0||t.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(t,r){var n,s;return super.optimizeNames(t,r),(n=this.catch)===null||n===void 0||n.optimizeNames(t,r),(s=this.finally)===null||s===void 0||s.optimizeNames(t,r),this}get names(){let t=super.names;return this.catch&&xl(t,this.catch.names),this.finally&&xl(t,this.finally.names),t}},im=class extends Ro{constructor(t){super(),this.error=t}render(t){return`catch(${this.error})`+super.render(t)}};im.kind="catch";var am=class extends Ro{render(t){return"finally"+super.render(t)}};am.kind="finally";var D4=class{constructor(t,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...r,_n:r.lines?`
`:""},this._extScope=t,this._scope=new Wi.Scope({parent:t}),this._nodes=[new B4]}toString(){return this._root.render(this.opts)}name(t){return this._scope.name(t)}scopeName(t){return this._extScope.name(t)}scopeValue(t,r){let n=this._extScope.value(t,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(t,r){return this._extScope.getValue(t,r)}scopeRefs(t){return this._extScope.scopeRefs(t,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(t,r,n,s){let i=this._scope.toName(r);return n!==void 0&&s&&(this._constants[i.str]=n),this._leafNode(new _4(t,i,n)),i}const(t,r,n){return this._def(Wi.varKinds.const,t,r,n)}let(t,r,n){return this._def(Wi.varKinds.let,t,r,n)}var(t,r,n){return this._def(Wi.varKinds.var,t,r,n)}assign(t,r,n){return this._leafNode(new cE(t,r,n))}add(t,r){return this._leafNode(new I4(t,ft.operators.ADD,r))}code(t){return typeof t=="function"?t():t!==wt.nil&&this._leafNode(new T4(t)),this}object(...t){let r=["{"];for(let[n,s]of t)r.length>1&&r.push(","),r.push(n),(n!==s||this.opts.es5)&&(r.push(":"),(0,wt.addCodeArg)(r,s));return r.push("}"),new wt._Code(r)}if(t,r,n){if(this._blockNode(new bl(t)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(t){return this._elseNode(new bl(t))}else(){return this._elseNode(new Bf)}endIf(){return this._endBlockNode(bl,Bf)}_for(t,r){return this._blockNode(t),r&&this.code(r).endFor(),this}for(t,r){return this._for(new R4(t),r)}forRange(t,r,n,s,i=this.opts.es5?Wi.varKinds.var:Wi.varKinds.let){let a=this._scope.toName(t);return this._for(new N4(i,a,r,n),()=>s(a))}forOf(t,r,n,s=Wi.varKinds.const){let i=this._scope.toName(t);if(this.opts.es5){let a=r instanceof wt.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,wt._)`${a}.length`,o=>{this.var(i,(0,wt._)`${a}[${o}]`),n(i)})}return this._for(new uE("of",s,i,r),()=>n(i))}forIn(t,r,n,s=this.opts.es5?Wi.varKinds.var:Wi.varKinds.const){if(this.opts.ownProperties)return this.forOf(t,(0,wt._)`Object.keys(${r})`,n);let i=this._scope.toName(t);return this._for(new uE("in",s,i,r),()=>n(i))}endFor(){return this._endBlockNode(El)}label(t){return this._leafNode(new C4(t))}break(t){return this._leafNode(new w4(t))}return(t){let r=new sm;if(this._blockNode(r),this.code(t),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(sm)}try(t,r,n){if(!r&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let s=new k4;if(this._blockNode(s),this.code(t),r){let i=this.name("e");this._currNode=s.catch=new im(i),r(i)}return n&&(this._currNode=s.finally=new am,this.code(n)),this._endBlockNode(im,am)}throw(t){return this._leafNode(new S4(t))}block(t,r){return this._blockStarts.push(this._nodes.length),t&&this.code(t).endBlock(r),this}endBlock(t){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||t!==void 0&&n!==t)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${t} expected`);return this._nodes.length=r,this}func(t,r=wt.nil,n,s){return this._blockNode(new nm(t,r,n)),s&&this.code(s).endFunc(),this}endFunc(){return this._endBlockNode(nm)}optimize(t=1){for(;t-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(t){return this._currNode.nodes.push(t),this}_blockNode(t){this._currNode.nodes.push(t),this._nodes.push(t)}_endBlockNode(t,r){let n=this._currNode;if(n instanceof t||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${t.kind}/${r.kind}`:t.kind}"`)}_elseNode(t){let r=this._currNode;if(!(r instanceof bl))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=t,this}get _root(){return this._nodes[0]}get _currNode(){let t=this._nodes;return t[t.length-1]}set _currNode(t){let r=this._nodes;r[r.length-1]=t}};ft.CodeGen=D4;function xl(e,t){for(let r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function lE(e,t){return t instanceof wt._CodeOrName?xl(e,t.names):e}function Rf(e,t,r){if(e instanceof wt.Name)return n(e);if(!s(e))return e;return new wt._Code(e._items.reduce((i,a)=>(a instanceof wt.Name&&(a=n(a)),a instanceof wt._Code?i.push(...a._items):i.push(a),i),[]));function n(i){let a=r[i.str];return a===void 0||t[i.str]!==1?i:(delete t[i.str],a)}function s(i){return i instanceof wt._Code&&i._items.some(a=>a instanceof wt.Name&&t[a.str]===1&&r[a.str]!==void 0)}}function g$e(e,t){for(let r in t)e[r]=(e[r]||0)-(t[r]||0)}function _K(e){return typeof e=="boolean"||typeof e=="number"||e===null?!e:(0,wt._)`!${P4(e)}`}ft.not=_K;var A$e=IK(ft.operators.AND);function y$e(...e){return e.reduce(A$e)}ft.and=y$e;var b$e=IK(ft.operators.OR);function E$e(...e){return e.reduce(b$e)}ft.or=E$e;function IK(e){return(t,r)=>t===wt.nil?r:r===wt.nil?t:(0,wt._)`${P4(t)} ${e} ${P4(r)}`}function P4(e){return e instanceof wt.Name?e:(0,wt._)`(${e})`}});var Mt=I(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.checkStrictMode=yt.getErrorPath=yt.Type=yt.useFunc=yt.setEvaluated=yt.evaluatedPropsToName=yt.mergeEvaluated=yt.eachItem=yt.unescapeJsonPointer=yt.escapeJsonPointer=yt.escapeFragment=yt.unescapeFragment=yt.schemaRefOrVal=yt.schemaHasRulesButRef=yt.schemaHasRules=yt.checkUnknownRules=yt.alwaysValidSchema=yt.toHash=void 0;var lr=ct(),x$e=tm();function v$e(e){let t={};for(let r of e)t[r]=!0;return t}yt.toHash=v$e;function _$e(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(SK(e,t),!TK(t,e.self.RULES.all))}yt.alwaysValidSchema=_$e;function SK(e,t=e.schema){let{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;let s=n.RULES.keywords;for(let i in t)s[i]||NK(e,`unknown keyword: "${i}"`)}yt.checkUnknownRules=SK;function TK(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(t[r])return!0;return!1}yt.schemaHasRules=TK;function I$e(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}yt.schemaHasRulesButRef=I$e;function C$e({topSchemaRef:e,schemaPath:t},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,lr._)`${r}`}return(0,lr._)`${e}${t}${(0,lr.getProperty)(n)}`}yt.schemaRefOrVal=C$e;function w$e(e){return BK(decodeURIComponent(e))}yt.unescapeFragment=w$e;function S$e(e){return encodeURIComponent($4(e))}yt.escapeFragment=S$e;function $4(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}yt.escapeJsonPointer=$4;function BK(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}yt.unescapeJsonPointer=BK;function T$e(e,t){if(Array.isArray(e))for(let r of e)t(r);else t(e)}yt.eachItem=T$e;function CK({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(s,i,a,o)=>{let c=a===void 0?i:a instanceof lr.Name?(i instanceof lr.Name?e(s,i,a):t(s,i,a),a):i instanceof lr.Name?(t(s,a,i),i):r(i,a);return o===lr.Name&&!(c instanceof lr.Name)?n(s,c):c}}yt.mergeEvaluated={props:CK({mergeNames:(e,t,r)=>e.if((0,lr._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,lr._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,lr._)`${r} || {}`).code((0,lr._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,lr._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,lr._)`${r} || {}`),L4(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:RK}),items:CK({mergeNames:(e,t,r)=>e.if((0,lr._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,lr._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,lr._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,lr._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function RK(e,t){if(t===!0)return e.var("props",!0);let r=e.var("props",(0,lr._)`{}`);return t!==void 0&&L4(e,r,t),r}yt.evaluatedPropsToName=RK;function L4(e,t,r){Object.keys(r).forEach(n=>e.assign((0,lr._)`${t}${(0,lr.getProperty)(n)}`,!0))}yt.setEvaluated=L4;var wK={};function B$e(e,t){return e.scopeValue("func",{ref:t,code:wK[t.code]||(wK[t.code]=new x$e._Code(t.code))})}yt.useFunc=B$e;var O4;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(O4||(yt.Type=O4={}));function R$e(e,t,r){if(e instanceof lr.Name){let n=t===O4.Num;return r?n?(0,lr._)`"[" + ${e} + "]"`:(0,lr._)`"['" + ${e} + "']"`:n?(0,lr._)`"/" + ${e}`:(0,lr._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,lr.getProperty)(e).toString():"/"+$4(e)}yt.getErrorPath=R$e;function NK(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}yt.checkStrictMode=NK});var No=I(M4=>{"use strict";Object.defineProperty(M4,"__esModule",{value:!0});var Vn=ct(),N$e={data:new Vn.Name("data"),valCxt:new Vn.Name("valCxt"),instancePath:new Vn.Name("instancePath"),parentData:new Vn.Name("parentData"),parentDataProperty:new Vn.Name("parentDataProperty"),rootData:new Vn.Name("rootData"),dynamicAnchors:new Vn.Name("dynamicAnchors"),vErrors:new Vn.Name("vErrors"),errors:new Vn.Name("errors"),this:new Vn.Name("this"),self:new Vn.Name("self"),scope:new Vn.Name("scope"),json:new Vn.Name("json"),jsonPos:new Vn.Name("jsonPos"),jsonLen:new Vn.Name("jsonLen"),jsonPart:new Vn.Name("jsonPart")};M4.default=N$e});var om=I(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});Kn.extendErrors=Kn.resetErrorsCount=Kn.reportExtraError=Kn.reportError=Kn.keyword$DataError=Kn.keywordError=void 0;var Rt=ct(),fE=Mt(),fs=No();Kn.keywordError={message:({keyword:e})=>(0,Rt.str)`must pass "${e}" keyword validation`};Kn.keyword$DataError={message:({keyword:e,schemaType:t})=>t?(0,Rt.str)`"${e}" keyword must be ${t} ($data)`:(0,Rt.str)`"${e}" keyword is invalid ($data)`};function k$e(e,t=Kn.keywordError,r,n){let{it:s}=e,{gen:i,compositeRule:a,allErrors:o}=s,c=PK(e,t,r);n??(a||o)?kK(i,c):DK(s,(0,Rt._)`[${c}]`)}Kn.reportError=k$e;function D$e(e,t=Kn.keywordError,r){let{it:n}=e,{gen:s,compositeRule:i,allErrors:a}=n,o=PK(e,t,r);kK(s,o),i||a||DK(n,fs.default.vErrors)}Kn.reportExtraError=D$e;function P$e(e,t){e.assign(fs.default.errors,t),e.if((0,Rt._)`${fs.default.vErrors} !== null`,()=>e.if(t,()=>e.assign((0,Rt._)`${fs.default.vErrors}.length`,t),()=>e.assign(fs.default.vErrors,null)))}Kn.resetErrorsCount=P$e;function O$e({gen:e,keyword:t,schemaValue:r,data:n,errsCount:s,it:i}){if(s===void 0)throw new Error("ajv implementation error");let a=e.name("err");e.forRange("i",s,fs.default.errors,o=>{e.const(a,(0,Rt._)`${fs.default.vErrors}[${o}]`),e.if((0,Rt._)`${a}.instancePath === undefined`,()=>e.assign((0,Rt._)`${a}.instancePath`,(0,Rt.strConcat)(fs.default.instancePath,i.errorPath))),e.assign((0,Rt._)`${a}.schemaPath`,(0,Rt.str)`${i.errSchemaPath}/${t}`),i.opts.verbose&&(e.assign((0,Rt._)`${a}.schema`,r),e.assign((0,Rt._)`${a}.data`,n))})}Kn.extendErrors=O$e;function kK(e,t){let r=e.const("err",t);e.if((0,Rt._)`${fs.default.vErrors} === null`,()=>e.assign(fs.default.vErrors,(0,Rt._)`[${r}]`),(0,Rt._)`${fs.default.vErrors}.push(${r})`),e.code((0,Rt._)`${fs.default.errors}++`)}function DK(e,t){let{gen:r,validateName:n,schemaEnv:s}=e;s.$async?r.throw((0,Rt._)`new ${e.ValidationError}(${t})`):(r.assign((0,Rt._)`${n}.errors`,t),r.return(!1))}var vl={keyword:new Rt.Name("keyword"),schemaPath:new Rt.Name("schemaPath"),params:new Rt.Name("params"),propertyName:new Rt.Name("propertyName"),message:new Rt.Name("message"),schema:new Rt.Name("schema"),parentSchema:new Rt.Name("parentSchema")};function PK(e,t,r){let{createErrors:n}=e.it;return n===!1?(0,Rt._)`{}`:$$e(e,t,r)}function $$e(e,t,r={}){let{gen:n,it:s}=e,i=[L$e(s,r),M$e(e,r)];return F$e(e,t,i),n.object(...i)}function L$e({errorPath:e},{instancePath:t}){let r=t?(0,Rt.str)`${e}${(0,fE.getErrorPath)(t,fE.Type.Str)}`:e;return[fs.default.instancePath,(0,Rt.strConcat)(fs.default.instancePath,r)]}function M$e({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:n}){let s=n?t:(0,Rt.str)`${t}/${e}`;return r&&(s=(0,Rt.str)`${s}${(0,fE.getErrorPath)(r,fE.Type.Str)}`),[vl.schemaPath,s]}function F$e(e,{params:t,message:r},n){let{keyword:s,data:i,schemaValue:a,it:o}=e,{opts:c,propertyName:u,topSchemaRef:l,schemaPath:d}=o;n.push([vl.keyword,s],[vl.params,typeof t=="function"?t(e):t||(0,Rt._)`{}`]),c.messages&&n.push([vl.message,typeof r=="function"?r(e):r]),c.verbose&&n.push([vl.schema,a],[vl.parentSchema,(0,Rt._)`${l}${d}`],[fs.default.data,i]),u&&n.push([vl.propertyName,u])}});var $K=I(Nf=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});Nf.boolOrEmptySchema=Nf.topBoolOrEmptySchema=void 0;var Q$e=om(),U$e=ct(),q$e=No(),j$e={message:"boolean schema is false"};function H$e(e){let{gen:t,schema:r,validateName:n}=e;r===!1?OK(e,!1):typeof r=="object"&&r.$async===!0?t.return(q$e.default.data):(t.assign((0,U$e._)`${n}.errors`,null),t.return(!0))}Nf.topBoolOrEmptySchema=H$e;function z$e(e,t){let{gen:r,schema:n}=e;n===!1?(r.var(t,!1),OK(e)):r.var(t,!0)}Nf.boolOrEmptySchema=z$e;function OK(e,t){let{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Q$e.reportError)(s,j$e,void 0,t)}});var F4=I(kf=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});kf.getRules=kf.isJSONType=void 0;var G$e=["string","number","integer","boolean","null","object","array"],V$e=new Set(G$e);function K$e(e){return typeof e=="string"&&V$e.has(e)}kf.isJSONType=K$e;function Y$e(){let e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}kf.getRules=Y$e});var Q4=I(Mc=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});Mc.shouldUseRule=Mc.shouldUseGroup=Mc.schemaHasRulesForType=void 0;function W$e({schema:e,self:t},r){let n=t.RULES.types[r];return n&&n!==!0&&LK(e,n)}Mc.schemaHasRulesForType=W$e;function LK(e,t){return t.rules.some(r=>MK(e,r))}Mc.shouldUseGroup=LK;function MK(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Mc.shouldUseRule=MK});var cm=I(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});Yn.reportTypeError=Yn.checkDataTypes=Yn.checkDataType=Yn.coerceAndCheckDataType=Yn.getJSONTypes=Yn.getSchemaTypes=Yn.DataType=void 0;var J$e=F4(),X$e=Q4(),Z$e=om(),nt=ct(),FK=Mt(),Df;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(Df||(Yn.DataType=Df={}));function e8e(e){let t=QK(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}Yn.getSchemaTypes=e8e;function QK(e){let t=Array.isArray(e)?e:e?[e]:[];if(t.every(J$e.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}Yn.getJSONTypes=QK;function t8e(e,t){let{gen:r,data:n,opts:s}=e,i=r8e(t,s.coerceTypes),a=t.length>0&&!(i.length===0&&t.length===1&&(0,X$e.schemaHasRulesForType)(e,t[0]));if(a){let o=q4(t,n,s.strictNumbers,Df.Wrong);r.if(o,()=>{i.length?n8e(e,t,i):j4(e)})}return a}Yn.coerceAndCheckDataType=t8e;var UK=new Set(["string","number","integer","boolean","null"]);function r8e(e,t){return t?e.filter(r=>UK.has(r)||t==="array"&&r==="array"):[]}function n8e(e,t,r){let{gen:n,data:s,opts:i}=e,a=n.let("dataType",(0,nt._)`typeof ${s}`),o=n.let("coerced",(0,nt._)`undefined`);i.coerceTypes==="array"&&n.if((0,nt._)`${a} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,nt._)`${s}[0]`).assign(a,(0,nt._)`typeof ${s}`).if(q4(t,s,i.strictNumbers),()=>n.assign(o,s))),n.if((0,nt._)`${o} !== undefined`);for(let u of r)(UK.has(u)||u==="array"&&i.coerceTypes==="array")&&c(u);n.else(),j4(e),n.endIf(),n.if((0,nt._)`${o} !== undefined`,()=>{n.assign(s,o),s8e(e,o)});function c(u){switch(u){case"string":n.elseIf((0,nt._)`${a} == "number" || ${a} == "boolean"`).assign(o,(0,nt._)`"" + ${s}`).elseIf((0,nt._)`${s} === null`).assign(o,(0,nt._)`""`);return;case"number":n.elseIf((0,nt._)`${a} == "boolean" || ${s} === null
              || (${a} == "string" && ${s} && ${s} == +${s})`).assign(o,(0,nt._)`+${s}`);return;case"integer":n.elseIf((0,nt._)`${a} === "boolean" || ${s} === null
              || (${a} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(o,(0,nt._)`+${s}`);return;case"boolean":n.elseIf((0,nt._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(o,!1).elseIf((0,nt._)`${s} === "true" || ${s} === 1`).assign(o,!0);return;case"null":n.elseIf((0,nt._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(o,null);return;case"array":n.elseIf((0,nt._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${s} === null`).assign(o,(0,nt._)`[${s}]`)}}}function s8e({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,nt._)`${t} !== undefined`,()=>e.assign((0,nt._)`${t}[${r}]`,n))}function U4(e,t,r,n=Df.Correct){let s=n===Df.Correct?nt.operators.EQ:nt.operators.NEQ,i;switch(e){case"null":return(0,nt._)`${t} ${s} null`;case"array":i=(0,nt._)`Array.isArray(${t})`;break;case"object":i=(0,nt._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=a((0,nt._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=a();break;default:return(0,nt._)`typeof ${t} ${s} ${e}`}return n===Df.Correct?i:(0,nt.not)(i);function a(o=nt.nil){return(0,nt.and)((0,nt._)`typeof ${t} == "number"`,o,r?(0,nt._)`isFinite(${t})`:nt.nil)}}Yn.checkDataType=U4;function q4(e,t,r,n){if(e.length===1)return U4(e[0],t,r,n);let s,i=(0,FK.toHash)(e);if(i.array&&i.object){let a=(0,nt._)`typeof ${t} != "object"`;s=i.null?a:(0,nt._)`!${t} || ${a}`,delete i.null,delete i.array,delete i.object}else s=nt.nil;i.number&&delete i.integer;for(let a in i)s=(0,nt.and)(s,U4(a,t,r,n));return s}Yn.checkDataTypes=q4;var i8e={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,nt._)`{type: ${e}}`:(0,nt._)`{type: ${t}}`};function j4(e){let t=a8e(e);(0,Z$e.reportError)(t,i8e)}Yn.reportTypeError=j4;function a8e(e){let{gen:t,data:r,schema:n}=e,s=(0,FK.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:e}}});var jK=I(pE=>{"use strict";Object.defineProperty(pE,"__esModule",{value:!0});pE.assignDefaults=void 0;var Pf=ct(),o8e=Mt();function c8e(e,t){let{properties:r,items:n}=e.schema;if(t==="object"&&r)for(let s in r)qK(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,i)=>qK(e,i,s.default))}pE.assignDefaults=c8e;function qK(e,t,r){let{gen:n,compositeRule:s,data:i,opts:a}=e;if(r===void 0)return;let o=(0,Pf._)`${i}${(0,Pf.getProperty)(t)}`;if(s){(0,o8e.checkStrictMode)(e,`default is ignored for: ${o}`);return}let c=(0,Pf._)`${o} === undefined`;a.useDefaults==="empty"&&(c=(0,Pf._)`${c} || ${o} === null || ${o} === ""`),n.if(c,(0,Pf._)`${o} = ${(0,Pf.stringify)(r)}`)}});var yi=I(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.validateUnion=tr.validateArray=tr.usePattern=tr.callValidateCode=tr.schemaProperties=tr.allSchemaProperties=tr.noPropertyInData=tr.propertyInData=tr.isOwnProperty=tr.hasPropFunc=tr.reportMissingProp=tr.checkMissingProp=tr.checkReportMissingProp=void 0;var _r=ct(),H4=Mt(),Fc=No(),u8e=Mt();function l8e(e,t){let{gen:r,data:n,it:s}=e;r.if(G4(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,_r._)`${t}`},!0),e.error()})}tr.checkReportMissingProp=l8e;function d8e({gen:e,data:t,it:{opts:r}},n,s){return(0,_r.or)(...n.map(i=>(0,_r.and)(G4(e,t,i,r.ownProperties),(0,_r._)`${s} = ${i}`)))}tr.checkMissingProp=d8e;function f8e(e,t){e.setParams({missingProperty:t},!0),e.error()}tr.reportMissingProp=f8e;function HK(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,_r._)`Object.prototype.hasOwnProperty`})}tr.hasPropFunc=HK;function z4(e,t,r){return(0,_r._)`${HK(e)}.call(${t}, ${r})`}tr.isOwnProperty=z4;function p8e(e,t,r,n){let s=(0,_r._)`${t}${(0,_r.getProperty)(r)} !== undefined`;return n?(0,_r._)`${s} && ${z4(e,t,r)}`:s}tr.propertyInData=p8e;function G4(e,t,r,n){let s=(0,_r._)`${t}${(0,_r.getProperty)(r)} === undefined`;return n?(0,_r.or)(s,(0,_r.not)(z4(e,t,r))):s}tr.noPropertyInData=G4;function zK(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}tr.allSchemaProperties=zK;function h8e(e,t){return zK(t).filter(r=>!(0,H4.alwaysValidSchema)(e,t[r]))}tr.schemaProperties=h8e;function m8e({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:i},it:a},o,c,u){let l=u?(0,_r._)`${e}, ${t}, ${n}${s}`:t,d=[[Fc.default.instancePath,(0,_r.strConcat)(Fc.default.instancePath,i)],[Fc.default.parentData,a.parentData],[Fc.default.parentDataProperty,a.parentDataProperty],[Fc.default.rootData,Fc.default.rootData]];a.opts.dynamicRef&&d.push([Fc.default.dynamicAnchors,Fc.default.dynamicAnchors]);let f=(0,_r._)`${l}, ${r.object(...d)}`;return c!==_r.nil?(0,_r._)`${o}.call(${c}, ${f})`:(0,_r._)`${o}(${f})`}tr.callValidateCode=m8e;var g8e=(0,_r._)`new RegExp`;function A8e({gen:e,it:{opts:t}},r){let n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,i=s(r,n);return e.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,_r._)`${s.code==="new RegExp"?g8e:(0,u8e.useFunc)(e,s)}(${r}, ${n})`})}tr.usePattern=A8e;function y8e(e){let{gen:t,data:r,keyword:n,it:s}=e,i=t.name("valid");if(s.allErrors){let o=t.let("valid",!0);return a(()=>t.assign(o,!1)),o}return t.var(i,!0),a(()=>t.break()),i;function a(o){let c=t.const("len",(0,_r._)`${r}.length`);t.forRange("i",0,c,u=>{e.subschema({keyword:n,dataProp:u,dataPropType:H4.Type.Num},i),t.if((0,_r.not)(i),o)})}}tr.validateArray=y8e;function b8e(e){let{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,H4.alwaysValidSchema)(s,c))&&!s.opts.unevaluated)return;let a=t.let("valid",!1),o=t.name("_valid");t.block(()=>r.forEach((c,u)=>{let l=e.subschema({keyword:n,schemaProp:u,compositeRule:!0},o);t.assign(a,(0,_r._)`${a} || ${o}`),e.mergeValidEvaluated(l,o)||t.if((0,_r.not)(a))})),e.result(a,()=>e.reset(),()=>e.error(!0))}tr.validateUnion=b8e});var KK=I(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.validateKeywordUsage=Da.validSchemaType=Da.funcKeywordCode=Da.macroKeywordCode=void 0;var ps=ct(),_l=No(),E8e=yi(),x8e=om();function v8e(e,t){let{gen:r,keyword:n,schema:s,parentSchema:i,it:a}=e,o=t.macro.call(a.self,s,i,a),c=VK(r,n,o);a.opts.validateSchema!==!1&&a.self.validateSchema(o,!0);let u=r.name("valid");e.subschema({schema:o,schemaPath:ps.nil,errSchemaPath:`${a.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}Da.macroKeywordCode=v8e;function _8e(e,t){var r;let{gen:n,keyword:s,schema:i,parentSchema:a,$data:o,it:c}=e;C8e(c,t);let u=!o&&t.compile?t.compile.call(c.self,i,a,c):t.validate,l=VK(n,s,u),d=n.let("valid");e.block$data(d,f),e.ok((r=t.valid)!==null&&r!==void 0?r:d);function f(){if(t.errors===!1)m(),t.modifying&&GK(e),A(()=>e.error());else{let g=t.async?h():p();t.modifying&&GK(e),A(()=>I8e(e,g))}}function h(){let g=n.let("ruleErrs",null);return n.try(()=>m((0,ps._)`await `),x=>n.assign(d,!1).if((0,ps._)`${x} instanceof ${c.ValidationError}`,()=>n.assign(g,(0,ps._)`${x}.errors`),()=>n.throw(x))),g}function p(){let g=(0,ps._)`${l}.errors`;return n.assign(g,null),m(ps.nil),g}function m(g=t.async?(0,ps._)`await `:ps.nil){let x=c.opts.passContext?_l.default.this:_l.default.self,y=!("compile"in t&&!o||t.schema===!1);n.assign(d,(0,ps._)`${g}${(0,E8e.callValidateCode)(e,l,x,y)}`,t.modifying)}function A(g){var x;n.if((0,ps.not)((x=t.valid)!==null&&x!==void 0?x:d),g)}}Da.funcKeywordCode=_8e;function GK(e){let{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,ps._)`${n.parentData}[${n.parentDataProperty}]`))}function I8e(e,t){let{gen:r}=e;r.if((0,ps._)`Array.isArray(${t})`,()=>{r.assign(_l.default.vErrors,(0,ps._)`${_l.default.vErrors} === null ? ${t} : ${_l.default.vErrors}.concat(${t})`).assign(_l.default.errors,(0,ps._)`${_l.default.vErrors}.length`),(0,x8e.extendErrors)(e)},()=>e.error())}function C8e({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function VK(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,ps.stringify)(r)})}function w8e(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}Da.validSchemaType=w8e;function S8e({schema:e,opts:t,self:r,errSchemaPath:n},s,i){if(Array.isArray(s.keyword)?!s.keyword.includes(i):s.keyword!==i)throw new Error("ajv implementation error");let a=s.dependencies;if(a?.some(o=>!Object.prototype.hasOwnProperty.call(e,o)))throw new Error(`parent schema must have dependencies of ${i}: ${a.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[i])){let c=`keyword "${i}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}Da.validateKeywordUsage=S8e});var WK=I(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.extendSubschemaMode=Qc.extendSubschemaData=Qc.getSubschema=void 0;var Pa=ct(),YK=Mt();function T8e(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:i,topSchemaRef:a}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){let o=e.schema[t];return r===void 0?{schema:o,schemaPath:(0,Pa._)`${e.schemaPath}${(0,Pa.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:o[r],schemaPath:(0,Pa._)`${e.schemaPath}${(0,Pa.getProperty)(t)}${(0,Pa.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,YK.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||i===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:a,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}Qc.getSubschema=T8e;function B8e(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:i,propertyName:a}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:o}=t;if(r!==void 0){let{errorPath:u,dataPathArr:l,opts:d}=t,f=o.let("data",(0,Pa._)`${t.data}${(0,Pa.getProperty)(r)}`,!0);c(f),e.errorPath=(0,Pa.str)`${u}${(0,YK.getErrorPath)(r,n,d.jsPropertySyntax)}`,e.parentDataProperty=(0,Pa._)`${r}`,e.dataPathArr=[...l,e.parentDataProperty]}if(s!==void 0){let u=s instanceof Pa.Name?s:o.let("data",s,!0);c(u),a!==void 0&&(e.propertyName=a)}i&&(e.dataTypes=i);function c(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}Qc.extendSubschemaData=B8e;function R8e(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:i}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),i!==void 0&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=r}Qc.extendSubschemaMode=R8e});var XK=I((_0t,JK)=>{"use strict";var Uc=JK.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};hE(t,n,s,e,"",e)};Uc.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Uc.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Uc.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Uc.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function hE(e,t,r,n,s,i,a,o,c,u){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,i,a,o,c,u);for(var l in n){var d=n[l];if(Array.isArray(d)){if(l in Uc.arrayKeywords)for(var f=0;f<d.length;f++)hE(e,t,r,d[f],s+"/"+l+"/"+f,i,s,l,n,f)}else if(l in Uc.propsKeywords){if(d&&typeof d=="object")for(var h in d)hE(e,t,r,d[h],s+"/"+l+"/"+N8e(h),i,s,l,n,h)}else(l in Uc.keywords||e.allKeys&&!(l in Uc.skipKeywords))&&hE(e,t,r,d,s+"/"+l,i,s,l,n)}r(n,s,i,a,o,c,u)}}function N8e(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}});var um=I(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.getSchemaRefs=Ds.resolveUrl=Ds.normalizeId=Ds._getFullPath=Ds.getFullPath=Ds.inlineRef=void 0;var k8e=Mt(),D8e=oi(),P8e=XK(),O8e=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function $8e(e,t=!0){return typeof e=="boolean"?!0:t===!0?!V4(e):t?ZK(e)<=t:!1}Ds.inlineRef=$8e;var L8e=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function V4(e){for(let t in e){if(L8e.has(t))return!0;let r=e[t];if(Array.isArray(r)&&r.some(V4)||typeof r=="object"&&V4(r))return!0}return!1}function ZK(e){let t=0;for(let r in e){if(r==="$ref")return 1/0;if(t++,!O8e.has(r)&&(typeof e[r]=="object"&&(0,k8e.eachItem)(e[r],n=>t+=ZK(n)),t===1/0))return 1/0}return t}function eY(e,t="",r){r!==!1&&(t=Of(t));let n=e.parse(t);return tY(e,n)}Ds.getFullPath=eY;function tY(e,t){return e.serialize(t).split("#")[0]+"#"}Ds._getFullPath=tY;var M8e=/#\/?$/;function Of(e){return e?e.replace(M8e,""):""}Ds.normalizeId=Of;function F8e(e,t,r){return r=Of(r),e.resolve(t,r)}Ds.resolveUrl=F8e;var Q8e=/^[a-z_][-a-z0-9._]*$/i;function U8e(e,t){if(typeof e=="boolean")return{};let{schemaId:r,uriResolver:n}=this.opts,s=Of(e[r]||t),i={"":s},a=eY(n,s,!1),o={},c=new Set;return P8e(e,{allKeys:!0},(d,f,h,p)=>{if(p===void 0)return;let m=a+f,A=i[p];typeof d[r]=="string"&&(A=g.call(this,d[r])),x.call(this,d.$anchor),x.call(this,d.$dynamicAnchor),i[f]=A;function g(y){let b=this.opts.uriResolver.resolve;if(y=Of(A?b(A,y):y),c.has(y))throw l(y);c.add(y);let _=this.refs[y];return typeof _=="string"&&(_=this.refs[_]),typeof _=="object"?u(d,_.schema,y):y!==Of(m)&&(y[0]==="#"?(u(d,o[y],y),o[y]=d):this.refs[y]=m),y}function x(y){if(typeof y=="string"){if(!Q8e.test(y))throw new Error(`invalid anchor "${y}"`);g.call(this,`#${y}`)}}}),o;function u(d,f,h){if(f!==void 0&&!D8e(d,f))throw l(h)}function l(d){return new Error(`reference "${d}" resolves to more than one schema`)}}Ds.getSchemaRefs=U8e});var fm=I(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc.getData=qc.KeywordCxt=qc.validateFunctionCode=void 0;var aY=$K(),rY=cm(),Y4=Q4(),mE=cm(),q8e=jK(),dm=KK(),K4=WK(),Fe=ct(),We=No(),j8e=um(),ko=Mt(),lm=om();function H8e(e){if(uY(e)&&(lY(e),cY(e))){V8e(e);return}oY(e,()=>(0,aY.topBoolOrEmptySchema)(e))}qc.validateFunctionCode=H8e;function oY({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},i){s.code.es5?e.func(t,(0,Fe._)`${We.default.data}, ${We.default.valCxt}`,n.$async,()=>{e.code((0,Fe._)`"use strict"; ${nY(r,s)}`),G8e(e,s),e.code(i)}):e.func(t,(0,Fe._)`${We.default.data}, ${z8e(s)}`,n.$async,()=>e.code(nY(r,s)).code(i))}function z8e(e){return(0,Fe._)`{${We.default.instancePath}="", ${We.default.parentData}, ${We.default.parentDataProperty}, ${We.default.rootData}=${We.default.data}${e.dynamicRef?(0,Fe._)`, ${We.default.dynamicAnchors}={}`:Fe.nil}}={}`}function G8e(e,t){e.if(We.default.valCxt,()=>{e.var(We.default.instancePath,(0,Fe._)`${We.default.valCxt}.${We.default.instancePath}`),e.var(We.default.parentData,(0,Fe._)`${We.default.valCxt}.${We.default.parentData}`),e.var(We.default.parentDataProperty,(0,Fe._)`${We.default.valCxt}.${We.default.parentDataProperty}`),e.var(We.default.rootData,(0,Fe._)`${We.default.valCxt}.${We.default.rootData}`),t.dynamicRef&&e.var(We.default.dynamicAnchors,(0,Fe._)`${We.default.valCxt}.${We.default.dynamicAnchors}`)},()=>{e.var(We.default.instancePath,(0,Fe._)`""`),e.var(We.default.parentData,(0,Fe._)`undefined`),e.var(We.default.parentDataProperty,(0,Fe._)`undefined`),e.var(We.default.rootData,We.default.data),t.dynamicRef&&e.var(We.default.dynamicAnchors,(0,Fe._)`{}`)})}function V8e(e){let{schema:t,opts:r,gen:n}=e;oY(e,()=>{r.$comment&&t.$comment&&fY(e),X8e(e),n.let(We.default.vErrors,null),n.let(We.default.errors,0),r.unevaluated&&K8e(e),dY(e),tLe(e)})}function K8e(e){let{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,Fe._)`${r}.evaluated`),t.if((0,Fe._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,Fe._)`${e.evaluated}.props`,(0,Fe._)`undefined`)),t.if((0,Fe._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,Fe._)`${e.evaluated}.items`,(0,Fe._)`undefined`))}function nY(e,t){let r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,Fe._)`/*# sourceURL=${r} */`:Fe.nil}function Y8e(e,t){if(uY(e)&&(lY(e),cY(e))){W8e(e,t);return}(0,aY.boolOrEmptySchema)(e,t)}function cY({schema:e,self:t}){if(typeof e=="boolean")return!e;for(let r in e)if(t.RULES.all[r])return!0;return!1}function uY(e){return typeof e.schema!="boolean"}function W8e(e,t){let{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&fY(e),Z8e(e),eLe(e);let i=n.const("_errs",We.default.errors);dY(e,i),n.var(t,(0,Fe._)`${i} === ${We.default.errors}`)}function lY(e){(0,ko.checkUnknownRules)(e),J8e(e)}function dY(e,t){if(e.opts.jtd)return sY(e,[],!1,t);let r=(0,rY.getSchemaTypes)(e.schema),n=(0,rY.coerceAndCheckDataType)(e,r);sY(e,r,!n,t)}function J8e(e){let{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,ko.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function X8e(e){let{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,ko.checkStrictMode)(e,"default is ignored in the schema root")}function Z8e(e){let t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,j8e.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function eLe(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function fY({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){let i=r.$comment;if(s.$comment===!0)e.code((0,Fe._)`${We.default.self}.logger.log(${i})`);else if(typeof s.$comment=="function"){let a=(0,Fe.str)`${n}/$comment`,o=e.scopeValue("root",{ref:t.root});e.code((0,Fe._)`${We.default.self}.opts.$comment(${i}, ${a}, ${o}.schema)`)}}function tLe(e){let{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:i}=e;r.$async?t.if((0,Fe._)`${We.default.errors} === 0`,()=>t.return(We.default.data),()=>t.throw((0,Fe._)`new ${s}(${We.default.vErrors})`)):(t.assign((0,Fe._)`${n}.errors`,We.default.vErrors),i.unevaluated&&rLe(e),t.return((0,Fe._)`${We.default.errors} === 0`))}function rLe({gen:e,evaluated:t,props:r,items:n}){r instanceof Fe.Name&&e.assign((0,Fe._)`${t}.props`,r),n instanceof Fe.Name&&e.assign((0,Fe._)`${t}.items`,n)}function sY(e,t,r,n){let{gen:s,schema:i,data:a,allErrors:o,opts:c,self:u}=e,{RULES:l}=u;if(i.$ref&&(c.ignoreKeywordsWithRef||!(0,ko.schemaHasRulesButRef)(i,l))){s.block(()=>hY(e,"$ref",l.all.$ref.definition));return}c.jtd||nLe(e,t),s.block(()=>{for(let f of l.rules)d(f);d(l.post)});function d(f){(0,Y4.shouldUseGroup)(i,f)&&(f.type?(s.if((0,mE.checkDataType)(f.type,a,c.strictNumbers)),iY(e,f),t.length===1&&t[0]===f.type&&r&&(s.else(),(0,mE.reportTypeError)(e)),s.endIf()):iY(e,f),o||s.if((0,Fe._)`${We.default.errors} === ${n||0}`))}}function iY(e,t){let{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,q8e.assignDefaults)(e,t.type),r.block(()=>{for(let i of t.rules)(0,Y4.shouldUseRule)(n,i)&&hY(e,i.keyword,i.definition,t.type)})}function nLe(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(sLe(e,t),e.opts.allowUnionTypes||iLe(e,t),aLe(e,e.dataTypes))}function sLe(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{pY(e.dataTypes,r)||W4(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),cLe(e,t)}}function iLe(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&W4(e,"use allowUnionTypes to allow union type keyword")}function aLe(e,t){let r=e.self.RULES.all;for(let n in r){let s=r[n];if(typeof s=="object"&&(0,Y4.shouldUseRule)(e.schema,s)){let{type:i}=s.definition;i.length&&!i.some(a=>oLe(t,a))&&W4(e,`missing type "${i.join(",")}" for keyword "${n}"`)}}}function oLe(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function pY(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function cLe(e,t){let r=[];for(let n of e.dataTypes)pY(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function W4(e,t){let r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,ko.checkStrictMode)(e,t,e.opts.strictTypes)}var gE=class{constructor(t,r,n){if((0,dm.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,ko.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",mY(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,dm.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",We.default.errors))}result(t,r,n){this.failResult((0,Fe.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,Fe.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);let{schemaCode:r}=this;this.fail((0,Fe._)`${r} !== undefined && (${(0,Fe.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?lm.reportExtraError:lm.reportError)(this,this.def.error,r)}$dataError(){(0,lm.reportError)(this,this.def.$dataError||lm.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,lm.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=Fe.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=Fe.nil,r=Fe.nil){if(!this.$data)return;let{gen:n,schemaCode:s,schemaType:i,def:a}=this;n.if((0,Fe.or)((0,Fe._)`${s} === undefined`,r)),t!==Fe.nil&&n.assign(t,!0),(i.length||a.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==Fe.nil&&n.assign(t,!1)),n.else()}invalid$data(){let{gen:t,schemaCode:r,schemaType:n,def:s,it:i}=this;return(0,Fe.or)(a(),o());function a(){if(n.length){if(!(r instanceof Fe.Name))throw new Error("ajv implementation error");let c=Array.isArray(n)?n:[n];return(0,Fe._)`${(0,mE.checkDataTypes)(c,r,i.opts.strictNumbers,mE.DataType.Wrong)}`}return Fe.nil}function o(){if(s.validateSchema){let c=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,Fe._)`!${c}(${r})`}return Fe.nil}}subschema(t,r){let n=(0,K4.getSubschema)(this.it,t);(0,K4.extendSubschemaData)(n,this.it,t),(0,K4.extendSubschemaMode)(n,t);let s={...this.it,...n,items:void 0,props:void 0};return Y8e(s,r),s}mergeEvaluated(t,r){let{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=ko.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=ko.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){let{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,Fe.Name)),!0}};qc.KeywordCxt=gE;function hY(e,t,r,n){let s=new gE(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,dm.funcKeywordCode)(s,r):"macro"in r?(0,dm.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,dm.funcKeywordCode)(s,r)}var uLe=/^\/(?:[^~]|~0|~1)*$/,lLe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function mY(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,i;if(e==="")return We.default.rootData;if(e[0]==="/"){if(!uLe.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,i=We.default.rootData}else{let u=lLe.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);let l=+u[1];if(s=u[2],s==="#"){if(l>=t)throw new Error(c("property/index",l));return n[t-l]}if(l>t)throw new Error(c("data",l));if(i=r[t-l],!s)return i}let a=i,o=s.split("/");for(let u of o)u&&(i=(0,Fe._)`${i}${(0,Fe.getProperty)((0,ko.unescapeJsonPointer)(u))}`,a=(0,Fe._)`${a} && ${i}`);return a;function c(u,l){return`Cannot access ${u} ${l} levels up, current level is ${t}`}}qc.getData=mY});var AE=I(X4=>{"use strict";Object.defineProperty(X4,"__esModule",{value:!0});var J4=class extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}};X4.default=J4});var pm=I(tR=>{"use strict";Object.defineProperty(tR,"__esModule",{value:!0});var Z4=um(),eR=class extends Error{constructor(t,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Z4.resolveUrl)(t,r,n),this.missingSchema=(0,Z4.normalizeId)((0,Z4.getFullPath)(t,this.missingRef))}};tR.default=eR});var bE=I(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.resolveSchema=bi.getCompilingSchema=bi.resolveRef=bi.compileSchema=bi.SchemaEnv=void 0;var Ji=ct(),dLe=AE(),Il=No(),Xi=um(),gY=Mt(),fLe=fm(),$f=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Xi.normalizeId)(n?.[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n?.$async,this.refs={}}};bi.SchemaEnv=$f;function nR(e){let t=AY.call(this,e);if(t)return t;let r=(0,Xi.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:i}=this.opts,a=new Ji.CodeGen(this.scope,{es5:n,lines:s,ownProperties:i}),o;e.$async&&(o=a.scopeValue("Error",{ref:dLe.default,code:(0,Ji._)`require("ajv/dist/runtime/validation_error").default`}));let c=a.scopeName("validate");e.validateName=c;let u={gen:a,allErrors:this.opts.allErrors,data:Il.default.data,parentData:Il.default.parentData,parentDataProperty:Il.default.parentDataProperty,dataNames:[Il.default.data],dataPathArr:[Ji.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Ji.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:o,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Ji.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Ji._)`""`,opts:this.opts,self:this},l;try{this._compilations.add(e),(0,fLe.validateFunctionCode)(u),a.optimize(this.opts.code.optimize);let d=a.toString();l=`${a.scopeRefs(Il.default.scope)}return ${d}`,this.opts.code.process&&(l=this.opts.code.process(l,e));let h=new Function(`${Il.default.self}`,`${Il.default.scope}`,l)(this,this.scope.get());if(this.scope.value(c,{ref:h}),h.errors=null,h.schema=e.schema,h.schemaEnv=e,e.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:c,validateCode:d,scopeValues:a._values}),this.opts.unevaluated){let{props:p,items:m}=u;h.evaluated={props:p instanceof Ji.Name?void 0:p,items:m instanceof Ji.Name?void 0:m,dynamicProps:p instanceof Ji.Name,dynamicItems:m instanceof Ji.Name},h.source&&(h.source.evaluated=(0,Ji.stringify)(h.evaluated))}return e.validate=h,e}catch(d){throw delete e.validate,delete e.validateName,l&&this.logger.error("Error compiling schema, function code:",l),d}finally{this._compilations.delete(e)}}bi.compileSchema=nR;function pLe(e,t,r){var n;r=(0,Xi.resolveUrl)(this.opts.uriResolver,t,r);let s=e.refs[r];if(s)return s;let i=gLe.call(this,e,r);if(i===void 0){let a=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:o}=this.opts;a&&(i=new $f({schema:a,schemaId:o,root:e,baseId:t}))}if(i!==void 0)return e.refs[r]=hLe.call(this,i)}bi.resolveRef=pLe;function hLe(e){return(0,Xi.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:nR.call(this,e)}function AY(e){for(let t of this._compilations)if(mLe(t,e))return t}bi.getCompilingSchema=AY;function mLe(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function gLe(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||yE.call(this,e,t)}function yE(e,t){let r=this.opts.uriResolver.parse(t),n=(0,Xi._getFullPath)(this.opts.uriResolver,r),s=(0,Xi.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return rR.call(this,r,e);let i=(0,Xi.normalizeId)(n),a=this.refs[i]||this.schemas[i];if(typeof a=="string"){let o=yE.call(this,e,a);return typeof o?.schema!="object"?void 0:rR.call(this,r,o)}if(typeof a?.schema=="object"){if(a.validate||nR.call(this,a),i===(0,Xi.normalizeId)(t)){let{schema:o}=a,{schemaId:c}=this.opts,u=o[c];return u&&(s=(0,Xi.resolveUrl)(this.opts.uriResolver,s,u)),new $f({schema:o,schemaId:c,root:e,baseId:s})}return rR.call(this,r,a)}}bi.resolveSchema=yE;var ALe=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function rR(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(let o of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let c=r[(0,gY.unescapeFragment)(o)];if(c===void 0)return;r=c;let u=typeof r=="object"&&r[this.opts.schemaId];!ALe.has(o)&&u&&(t=(0,Xi.resolveUrl)(this.opts.uriResolver,t,u))}let i;if(typeof r!="boolean"&&r.$ref&&!(0,gY.schemaHasRulesButRef)(r,this.RULES)){let o=(0,Xi.resolveUrl)(this.opts.uriResolver,t,r.$ref);i=yE.call(this,n,o)}let{schemaId:a}=this.opts;if(i=i||new $f({schema:r,schemaId:a,root:n,baseId:t}),i.schema!==i.root.schema)return i}});var yY=I((B0t,yLe)=>{yLe.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var iR=I((R0t,vY)=>{"use strict";var bLe=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),EY=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function sR(e){let t="",r=0,n=0;for(n=0;n<e.length;n++)if(r=e[n].charCodeAt(0),r!==48){if(!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n];break}for(n+=1;n<e.length;n++){if(r=e[n].charCodeAt(0),!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n]}return t}var ELe=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function bY(e){return e.length=0,!0}function xLe(e,t,r){if(e.length){let n=sR(e);if(n!=="")t.push(n);else return r.error=!0,!1;e.length=0}return!0}function vLe(e){let t=0,r={error:!1,address:"",zone:""},n=[],s=[],i=!1,a=!1,o=xLe;for(let c=0;c<e.length;c++){let u=e[c];if(!(u==="["||u==="]"))if(u===":"){if(i===!0&&(a=!0),!o(s,n,r))break;if(++t>7){r.error=!0;break}c>0&&e[c-1]===":"&&(i=!0),n.push(":");continue}else if(u==="%"){if(!o(s,n,r))break;o=bY}else{s.push(u);continue}}return s.length&&(o===bY?r.zone=s.join(""):a?n.push(s.join("")):n.push(sR(s))),r.address=n.join(""),r}function xY(e){if(_Le(e,":")<2)return{host:e,isIPV6:!1};let t=vLe(e);if(t.error)return{host:e,isIPV6:!1};{let r=t.address,n=t.address;return t.zone&&(r+="%"+t.zone,n+="%25"+t.zone),{host:r,isIPV6:!0,escapedHost:n}}}function _Le(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}function ILe(e){let t=e,r=[],n=-1,s=0;for(;s=t.length;){if(s===1){if(t===".")break;if(t==="/"){r.push("/");break}else{r.push(t);break}}else if(s===2){if(t[0]==="."){if(t[1]===".")break;if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&(t[1]==="."||t[1]==="/")){r.push("/");break}}else if(s===3&&t==="/.."){r.length!==0&&r.pop(),r.push("/");break}if(t[0]==="."){if(t[1]==="."){if(t[2]==="/"){t=t.slice(3);continue}}else if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&t[1]==="."){if(t[2]==="/"){t=t.slice(2);continue}else if(t[2]==="."&&t[3]==="/"){t=t.slice(3),r.length!==0&&r.pop();continue}}if((n=t.indexOf("/",1))===-1){r.push(t);break}else r.push(t.slice(0,n)),t=t.slice(n)}return r.join("")}function CLe(e,t){let r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function wLe(e){let t=[];if(e.userinfo!==void 0&&(t.push(e.userinfo),t.push("@")),e.host!==void 0){let r=unescape(e.host);if(!EY(r)){let n=xY(r);n.isIPV6===!0?r=`[${n.escapedHost}]`:r=e.host}t.push(r)}return(typeof e.port=="number"||typeof e.port=="string")&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}vY.exports={nonSimpleDomain:ELe,recomposeAuthority:wLe,normalizeComponentEncoding:CLe,removeDotSegments:ILe,isIPv4:EY,isUUID:bLe,normalizeIPv6:xY,stringArrayToHexStripped:sR}});var SY=I((N0t,wY)=>{"use strict";var{isUUID:SLe}=iR(),TLe=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,BLe=["http","https","ws","wss","urn","urn:uuid"];function RLe(e){return BLe.indexOf(e)!==-1}function aR(e){return e.secure===!0?!0:e.secure===!1?!1:e.scheme?e.scheme.length===3&&(e.scheme[0]==="w"||e.scheme[0]==="W")&&(e.scheme[1]==="s"||e.scheme[1]==="S")&&(e.scheme[2]==="s"||e.scheme[2]==="S"):!1}function _Y(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function IY(e){let t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function NLe(e){return e.secure=aR(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function kLe(e){if((e.port===(aR(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){let[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function DLe(e,t){if(!e.path)return e.error="URN can not be parsed",e;let r=e.path.match(TLe);if(r){let n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];let s=`${n}:${t.nid||e.nid}`,i=oR(s);e.path=void 0,i&&(e=i.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function PLe(e,t){if(e.nid===void 0)throw new Error("URN without nid cannot be serialized");let r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),s=`${r}:${t.nid||n}`,i=oR(s);i&&(e=i.serialize(e,t));let a=e,o=e.nss;return a.path=`${n||t.nid}:${o}`,t.skipEscape=!0,a}function OLe(e,t){let r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!SLe(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function $Le(e){let t=e;return t.nss=(e.uuid||"").toLowerCase(),t}var CY={scheme:"http",domainHost:!0,parse:_Y,serialize:IY},LLe={scheme:"https",domainHost:CY.domainHost,parse:_Y,serialize:IY},EE={scheme:"ws",domainHost:!0,parse:NLe,serialize:kLe},MLe={scheme:"wss",domainHost:EE.domainHost,parse:EE.parse,serialize:EE.serialize},FLe={scheme:"urn",parse:DLe,serialize:PLe,skipNormalize:!0},QLe={scheme:"urn:uuid",parse:OLe,serialize:$Le,skipNormalize:!0},xE={http:CY,https:LLe,ws:EE,wss:MLe,urn:FLe,"urn:uuid":QLe};Object.setPrototypeOf(xE,null);function oR(e){return e&&(xE[e]||xE[e.toLowerCase()])||void 0}wY.exports={wsIsSecure:aR,SCHEMES:xE,isValidSchemeName:RLe,getSchemeHandler:oR}});var RY=I((k0t,_E)=>{"use strict";var{normalizeIPv6:ULe,removeDotSegments:hm,recomposeAuthority:qLe,normalizeComponentEncoding:vE,isIPv4:jLe,nonSimpleDomain:HLe}=iR(),{SCHEMES:zLe,getSchemeHandler:TY}=SY();function GLe(e,t){return typeof e=="string"?e=Oa(Do(e,t),t):typeof e=="object"&&(e=Do(Oa(e,t),t)),e}function VLe(e,t,r){let n=r?Object.assign({scheme:"null"},r):{scheme:"null"},s=BY(Do(e,n),Do(t,n),n,!0);return n.skipEscape=!0,Oa(s,n)}function BY(e,t,r,n){let s={};return n||(e=Do(Oa(e,r),r),t=Do(Oa(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=hm(t.path||""),s.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=hm(t.path||""),s.query=t.query):(t.path?(t.path[0]==="/"?s.path=hm(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?s.path="/"+t.path:e.path?s.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:s.path=t.path,s.path=hm(s.path)),s.query=t.query):(s.path=e.path,t.query!==void 0?s.query=t.query:s.query=e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function KLe(e,t,r){return typeof e=="string"?(e=unescape(e),e=Oa(vE(Do(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=Oa(vE(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=Oa(vE(Do(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=Oa(vE(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function Oa(e,t){let r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),s=[],i=TY(n.scheme||r.scheme);i&&i.serialize&&i.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&s.push(r.scheme,":");let a=qLe(r);if(a!==void 0&&(n.reference!=="suffix"&&s.push("//"),s.push(a),r.path&&r.path[0]!=="/"&&s.push("/")),r.path!==void 0){let o=r.path;!n.absolutePath&&(!i||!i.absolutePath)&&(o=hm(o)),a===void 0&&o[0]==="/"&&o[1]==="/"&&(o="/%2F"+o.slice(2)),s.push(o)}return r.query!==void 0&&s.push("?",r.query),r.fragment!==void 0&&s.push("#",r.fragment),s.join("")}var YLe=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Do(e,t){let r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},s=!1;r.reference==="suffix"&&(r.scheme?e=r.scheme+":"+e:e="//"+e);let i=e.match(YLe);if(i){if(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5]),n.host)if(jLe(n.host)===!1){let c=ULe(n.host);n.host=c.host.toLowerCase(),s=c.isIPV6}else s=!0;n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");let a=TY(r.scheme||n.scheme);if(!r.unicodeSupport&&(!a||!a.unicodeSupport)&&n.host&&(r.domainHost||a&&a.domainHost)&&s===!1&&HLe(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(o){n.error=n.error||"Host's domain name can not be converted to ASCII: "+o}(!a||a&&!a.skipNormalize)&&(e.indexOf("%")!==-1&&(n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),n.host!==void 0&&(n.host=unescape(n.host))),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),a&&a.parse&&a.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}var cR={SCHEMES:zLe,normalize:GLe,resolve:VLe,resolveComponent:BY,equal:KLe,serialize:Oa,parse:Do};_E.exports=cR;_E.exports.default=cR;_E.exports.fastUri=cR});var kY=I(uR=>{"use strict";Object.defineProperty(uR,"__esModule",{value:!0});var NY=RY();NY.code='require("ajv/dist/runtime/uri").default';uR.default=NY});var QY=I(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});Bn.CodeGen=Bn.Name=Bn.nil=Bn.stringify=Bn.str=Bn._=Bn.KeywordCxt=void 0;var WLe=fm();Object.defineProperty(Bn,"KeywordCxt",{enumerable:!0,get:function(){return WLe.KeywordCxt}});var Lf=ct();Object.defineProperty(Bn,"_",{enumerable:!0,get:function(){return Lf._}});Object.defineProperty(Bn,"str",{enumerable:!0,get:function(){return Lf.str}});Object.defineProperty(Bn,"stringify",{enumerable:!0,get:function(){return Lf.stringify}});Object.defineProperty(Bn,"nil",{enumerable:!0,get:function(){return Lf.nil}});Object.defineProperty(Bn,"Name",{enumerable:!0,get:function(){return Lf.Name}});Object.defineProperty(Bn,"CodeGen",{enumerable:!0,get:function(){return Lf.CodeGen}});var JLe=AE(),LY=pm(),XLe=F4(),mm=bE(),ZLe=ct(),gm=um(),IE=cm(),dR=Mt(),DY=yY(),eMe=kY(),MY=(e,t)=>new RegExp(e,t);MY.code="new RegExp";var tMe=["removeAdditional","useDefaults","coerceTypes"],rMe=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),nMe={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},sMe={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},PY=200;function iMe(e){var t,r,n,s,i,a,o,c,u,l,d,f,h,p,m,A,g,x,y,b,_,C,w,S,T;let R=e.strict,P=(t=e.code)===null||t===void 0?void 0:t.optimize,N=P===!0||P===void 0?1:P||0,D=(n=(r=e.code)===null||r===void 0?void 0:r.regExp)!==null&&n!==void 0?n:MY,k=(s=e.uriResolver)!==null&&s!==void 0?s:eMe.default;return{strictSchema:(a=(i=e.strictSchema)!==null&&i!==void 0?i:R)!==null&&a!==void 0?a:!0,strictNumbers:(c=(o=e.strictNumbers)!==null&&o!==void 0?o:R)!==null&&c!==void 0?c:!0,strictTypes:(l=(u=e.strictTypes)!==null&&u!==void 0?u:R)!==null&&l!==void 0?l:"log",strictTuples:(f=(d=e.strictTuples)!==null&&d!==void 0?d:R)!==null&&f!==void 0?f:"log",strictRequired:(p=(h=e.strictRequired)!==null&&h!==void 0?h:R)!==null&&p!==void 0?p:!1,code:e.code?{...e.code,optimize:N,regExp:D}:{optimize:N,regExp:D},loopRequired:(m=e.loopRequired)!==null&&m!==void 0?m:PY,loopEnum:(A=e.loopEnum)!==null&&A!==void 0?A:PY,meta:(g=e.meta)!==null&&g!==void 0?g:!0,messages:(x=e.messages)!==null&&x!==void 0?x:!0,inlineRefs:(y=e.inlineRefs)!==null&&y!==void 0?y:!0,schemaId:(b=e.schemaId)!==null&&b!==void 0?b:"$id",addUsedSchema:(_=e.addUsedSchema)!==null&&_!==void 0?_:!0,validateSchema:(C=e.validateSchema)!==null&&C!==void 0?C:!0,validateFormats:(w=e.validateFormats)!==null&&w!==void 0?w:!0,unicodeRegExp:(S=e.unicodeRegExp)!==null&&S!==void 0?S:!0,int32range:(T=e.int32range)!==null&&T!==void 0?T:!0,uriResolver:k}}var Am=class{constructor(t={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,t=this.opts={...t,...iMe(t)};let{es5:r,lines:n}=this.opts.code;this.scope=new ZLe.ValueScope({scope:{},prefixes:rMe,es5:r,lines:n}),this.logger=dMe(t.logger);let s=t.validateFormats;t.validateFormats=!1,this.RULES=(0,XLe.getRules)(),OY.call(this,nMe,t,"NOT SUPPORTED"),OY.call(this,sMe,t,"DEPRECATED","warn"),this._metaOpts=uMe.call(this),t.formats&&oMe.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),t.keywords&&cMe.call(this,t.keywords),typeof t.meta=="object"&&this.addMetaSchema(t.meta),aMe.call(this),t.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:t,meta:r,schemaId:n}=this.opts,s=DY;n==="id"&&(s={...DY},s.id=s.$id,delete s.$id),r&&t&&this.addMetaSchema(s,s[n],!1)}defaultMeta(){let{meta:t,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof t=="object"?t[r]||t:void 0}validate(t,r){let n;if(typeof t=="string"){if(n=this.getSchema(t),!n)throw new Error(`no schema with key or ref "${t}"`)}else n=this.compile(t);let s=n(r);return"$async"in n||(this.errors=n.errors),s}compile(t,r){let n=this._addSchema(t,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(t,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return s.call(this,t,r);async function s(l,d){await i.call(this,l.$schema);let f=this._addSchema(l,d);return f.validate||a.call(this,f)}async function i(l){l&&!this.getSchema(l)&&await s.call(this,{$ref:l},!0)}async function a(l){try{return this._compileSchemaEnv(l)}catch(d){if(!(d instanceof LY.default))throw d;return o.call(this,d),await c.call(this,d.missingSchema),a.call(this,l)}}function o({missingSchema:l,missingRef:d}){if(this.refs[l])throw new Error(`AnySchema ${l} is loaded but ${d} cannot be resolved`)}async function c(l){let d=await u.call(this,l);this.refs[l]||await i.call(this,d.$schema),this.refs[l]||this.addSchema(d,l,r)}async function u(l){let d=this._loading[l];if(d)return d;try{return await(this._loading[l]=n(l))}finally{delete this._loading[l]}}}addSchema(t,r,n,s=this.opts.validateSchema){if(Array.isArray(t)){for(let a of t)this.addSchema(a,void 0,n,s);return this}let i;if(typeof t=="object"){let{schemaId:a}=this.opts;if(i=t[a],i!==void 0&&typeof i!="string")throw new Error(`schema ${a} must be string`)}return r=(0,gm.normalizeId)(r||i),this._checkUnique(r),this.schemas[r]=this._addSchema(t,n,r,s,!0),this}addMetaSchema(t,r,n=this.opts.validateSchema){return this.addSchema(t,r,!0,n),this}validateSchema(t,r){if(typeof t=="boolean")return!0;let n;if(n=t.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let s=this.validate(n,t);if(!s&&r){let i="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(i);else throw new Error(i)}return s}getSchema(t){let r;for(;typeof(r=$Y.call(this,t))=="string";)t=r;if(r===void 0){let{schemaId:n}=this.opts,s=new mm.SchemaEnv({schema:{},schemaId:n});if(r=mm.resolveSchema.call(this,s,t),!r)return;this.refs[t]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(t){if(t instanceof RegExp)return this._removeAllSchemas(this.schemas,t),this._removeAllSchemas(this.refs,t),this;switch(typeof t){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=$Y.call(this,t);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[t],delete this.refs[t],this}case"object":{let r=t;this._cache.delete(r);let n=t[this.opts.schemaId];return n&&(n=(0,gm.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(t){for(let r of t)this.addKeyword(r);return this}addKeyword(t,r){let n;if(typeof t=="string")n=t,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof t=="object"&&r===void 0){if(r=t,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(pMe.call(this,n,r),!r)return(0,dR.eachItem)(n,i=>lR.call(this,i)),this;mMe.call(this,r);let s={...r,type:(0,IE.getJSONTypes)(r.type),schemaType:(0,IE.getJSONTypes)(r.schemaType)};return(0,dR.eachItem)(n,s.type.length===0?i=>lR.call(this,i,s):i=>s.type.forEach(a=>lR.call(this,i,s,a))),this}getKeyword(t){let r=this.RULES.all[t];return typeof r=="object"?r.definition:!!r}removeKeyword(t){let{RULES:r}=this;delete r.keywords[t],delete r.all[t];for(let n of r.rules){let s=n.rules.findIndex(i=>i.keyword===t);s>=0&&n.rules.splice(s,1)}return this}addFormat(t,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[t]=r,this}errorsText(t=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!t||t.length===0?"No errors":t.map(s=>`${n}${s.instancePath} ${s.message}`).reduce((s,i)=>s+r+i)}$dataMetaSchema(t,r){let n=this.RULES.all;t=JSON.parse(JSON.stringify(t));for(let s of r){let i=s.split("/").slice(1),a=t;for(let o of i)a=a[o];for(let o in n){let c=n[o];if(typeof c!="object")continue;let{$data:u}=c.definition,l=a[o];u&&l&&(a[o]=FY(l))}}return t}_removeAllSchemas(t,r){for(let n in t){let s=t[n];(!r||r.test(n))&&(typeof s=="string"?delete t[n]:s&&!s.meta&&(this._cache.delete(s.schema),delete t[n]))}}_addSchema(t,r,n,s=this.opts.validateSchema,i=this.opts.addUsedSchema){let a,{schemaId:o}=this.opts;if(typeof t=="object")a=t[o];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof t!="boolean")throw new Error("schema must be object or boolean")}let c=this._cache.get(t);if(c!==void 0)return c;n=(0,gm.normalizeId)(a||n);let u=gm.getSchemaRefs.call(this,t,n);return c=new mm.SchemaEnv({schema:t,schemaId:o,meta:r,baseId:n,localRefs:u}),this._cache.set(c.schema,c),i&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=c),s&&this.validateSchema(t,!0),c}_checkUnique(t){if(this.schemas[t]||this.refs[t])throw new Error(`schema with key or id "${t}" already exists`)}_compileSchemaEnv(t){if(t.meta?this._compileMetaSchema(t):mm.compileSchema.call(this,t),!t.validate)throw new Error("ajv implementation error");return t.validate}_compileMetaSchema(t){let r=this.opts;this.opts=this._metaOpts;try{mm.compileSchema.call(this,t)}finally{this.opts=r}}};Am.ValidationError=JLe.default;Am.MissingRefError=LY.default;Bn.default=Am;function OY(e,t,r,n="error"){for(let s in e){let i=s;i in t&&this.logger[n](`${r}: option ${s}. ${e[i]}`)}}function $Y(e){return e=(0,gm.normalizeId)(e),this.schemas[e]||this.refs[e]}function aMe(){let e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(let t in e)this.addSchema(e[t],t)}function oMe(){for(let e in this.opts.formats){let t=this.opts.formats[e];t&&this.addFormat(e,t)}}function cMe(e){if(Array.isArray(e)){this.addVocabulary(e);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let t in e){let r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}function uMe(){let e={...this.opts};for(let t of tMe)delete e[t];return e}var lMe={log(){},warn(){},error(){}};function dMe(e){if(e===!1)return lMe;if(e===void 0)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}var fMe=/^[a-z_$][a-z0-9_$:-]*$/i;function pMe(e,t){let{RULES:r}=this;if((0,dR.eachItem)(e,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!fMe.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!t&&t.$data&&!("code"in t||"validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function lR(e,t,r){var n;let s=t?.post;if(r&&s)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:i}=this,a=s?i.post:i.rules.find(({type:c})=>c===r);if(a||(a={type:r,rules:[]},i.rules.push(a)),i.keywords[e]=!0,!t)return;let o={keyword:e,definition:{...t,type:(0,IE.getJSONTypes)(t.type),schemaType:(0,IE.getJSONTypes)(t.schemaType)}};t.before?hMe.call(this,a,o,t.before):a.rules.push(o),i.all[e]=o,(n=t.implements)===null||n===void 0||n.forEach(c=>this.addKeyword(c))}function hMe(e,t,r){let n=e.rules.findIndex(s=>s.keyword===r);n>=0?e.rules.splice(n,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function mMe(e){let{metaSchema:t}=e;t!==void 0&&(e.$data&&this.opts.$data&&(t=FY(t)),e.validateSchema=this.compile(t,!0))}var gMe={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function FY(e){return{anyOf:[e,gMe]}}});var UY=I(fR=>{"use strict";Object.defineProperty(fR,"__esModule",{value:!0});var AMe={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};fR.default=AMe});var zY=I(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});Cl.callRef=Cl.getValidate=void 0;var yMe=pm(),qY=yi(),Ps=ct(),Mf=No(),jY=bE(),CE=Mt(),bMe={keyword:"$ref",schemaType:"string",code(e){let{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:i,validateName:a,opts:o,self:c}=n,{root:u}=i;if((r==="#"||r==="#/")&&s===u.baseId)return d();let l=jY.resolveRef.call(c,u,s,r);if(l===void 0)throw new yMe.default(n.opts.uriResolver,s,r);if(l instanceof jY.SchemaEnv)return f(l);return h(l);function d(){if(i===u)return wE(e,a,i,i.$async);let p=t.scopeValue("root",{ref:u});return wE(e,(0,Ps._)`${p}.validate`,u,u.$async)}function f(p){let m=HY(e,p);wE(e,m,p,p.$async)}function h(p){let m=t.scopeValue("schema",o.code.source===!0?{ref:p,code:(0,Ps.stringify)(p)}:{ref:p}),A=t.name("valid"),g=e.subschema({schema:p,dataTypes:[],schemaPath:Ps.nil,topSchemaRef:m,errSchemaPath:r},A);e.mergeEvaluated(g),e.ok(A)}}};function HY(e,t){let{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Ps._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Cl.getValidate=HY;function wE(e,t,r,n){let{gen:s,it:i}=e,{allErrors:a,schemaEnv:o,opts:c}=i,u=c.passContext?Mf.default.this:Ps.nil;n?l():d();function l(){if(!o.$async)throw new Error("async schema referenced by sync schema");let p=s.let("valid");s.try(()=>{s.code((0,Ps._)`await ${(0,qY.callValidateCode)(e,t,u)}`),h(t),a||s.assign(p,!0)},m=>{s.if((0,Ps._)`!(${m} instanceof ${i.ValidationError})`,()=>s.throw(m)),f(m),a||s.assign(p,!1)}),e.ok(p)}function d(){e.result((0,qY.callValidateCode)(e,t,u),()=>h(t),()=>f(t))}function f(p){let m=(0,Ps._)`${p}.errors`;s.assign(Mf.default.vErrors,(0,Ps._)`${Mf.default.vErrors} === null ? ${m} : ${Mf.default.vErrors}.concat(${m})`),s.assign(Mf.default.errors,(0,Ps._)`${Mf.default.vErrors}.length`)}function h(p){var m;if(!i.opts.unevaluated)return;let A=(m=r?.validate)===null||m===void 0?void 0:m.evaluated;if(i.props!==!0)if(A&&!A.dynamicProps)A.props!==void 0&&(i.props=CE.mergeEvaluated.props(s,A.props,i.props));else{let g=s.var("props",(0,Ps._)`${p}.evaluated.props`);i.props=CE.mergeEvaluated.props(s,g,i.props,Ps.Name)}if(i.items!==!0)if(A&&!A.dynamicItems)A.items!==void 0&&(i.items=CE.mergeEvaluated.items(s,A.items,i.items));else{let g=s.var("items",(0,Ps._)`${p}.evaluated.items`);i.items=CE.mergeEvaluated.items(s,g,i.items,Ps.Name)}}}Cl.callRef=wE;Cl.default=bMe});var GY=I(pR=>{"use strict";Object.defineProperty(pR,"__esModule",{value:!0});var EMe=UY(),xMe=zY(),vMe=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",EMe.default,xMe.default];pR.default=vMe});var VY=I(hR=>{"use strict";Object.defineProperty(hR,"__esModule",{value:!0});var SE=ct(),jc=SE.operators,TE={maximum:{okStr:"<=",ok:jc.LTE,fail:jc.GT},minimum:{okStr:">=",ok:jc.GTE,fail:jc.LT},exclusiveMaximum:{okStr:"<",ok:jc.LT,fail:jc.GTE},exclusiveMinimum:{okStr:">",ok:jc.GT,fail:jc.LTE}},_Me={message:({keyword:e,schemaCode:t})=>(0,SE.str)`must be ${TE[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,SE._)`{comparison: ${TE[e].okStr}, limit: ${t}}`},IMe={keyword:Object.keys(TE),type:"number",schemaType:"number",$data:!0,error:_Me,code(e){let{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,SE._)`${r} ${TE[t].fail} ${n} || isNaN(${r})`)}};hR.default=IMe});var KY=I(mR=>{"use strict";Object.defineProperty(mR,"__esModule",{value:!0});var ym=ct(),CMe={message:({schemaCode:e})=>(0,ym.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,ym._)`{multipleOf: ${e}}`},wMe={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:CMe,code(e){let{gen:t,data:r,schemaCode:n,it:s}=e,i=s.opts.multipleOfPrecision,a=t.let("res"),o=i?(0,ym._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${i}`:(0,ym._)`${a} !== parseInt(${a})`;e.fail$data((0,ym._)`(${n} === 0 || (${a} = ${r}/${n}, ${o}))`)}};mR.default=wMe});var WY=I(gR=>{"use strict";Object.defineProperty(gR,"__esModule",{value:!0});function YY(e){let t=e.length,r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}gR.default=YY;YY.code='require("ajv/dist/runtime/ucs2length").default'});var JY=I(AR=>{"use strict";Object.defineProperty(AR,"__esModule",{value:!0});var wl=ct(),SMe=Mt(),TMe=WY(),BMe={message({keyword:e,schemaCode:t}){let r=e==="maxLength"?"more":"fewer";return(0,wl.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,wl._)`{limit: ${e}}`},RMe={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:BMe,code(e){let{keyword:t,data:r,schemaCode:n,it:s}=e,i=t==="maxLength"?wl.operators.GT:wl.operators.LT,a=s.opts.unicode===!1?(0,wl._)`${r}.length`:(0,wl._)`${(0,SMe.useFunc)(e.gen,TMe.default)}(${r})`;e.fail$data((0,wl._)`${a} ${i} ${n}`)}};AR.default=RMe});var XY=I(yR=>{"use strict";Object.defineProperty(yR,"__esModule",{value:!0});var NMe=yi(),BE=ct(),kMe={message:({schemaCode:e})=>(0,BE.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,BE._)`{pattern: ${e}}`},DMe={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:kMe,code(e){let{data:t,$data:r,schema:n,schemaCode:s,it:i}=e,a=i.opts.unicodeRegExp?"u":"",o=r?(0,BE._)`(new RegExp(${s}, ${a}))`:(0,NMe.usePattern)(e,n);e.fail$data((0,BE._)`!${o}.test(${t})`)}};yR.default=DMe});var ZY=I(bR=>{"use strict";Object.defineProperty(bR,"__esModule",{value:!0});var bm=ct(),PMe={message({keyword:e,schemaCode:t}){let r=e==="maxProperties"?"more":"fewer";return(0,bm.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,bm._)`{limit: ${e}}`},OMe={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:PMe,code(e){let{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?bm.operators.GT:bm.operators.LT;e.fail$data((0,bm._)`Object.keys(${r}).length ${s} ${n}`)}};bR.default=OMe});var eW=I(ER=>{"use strict";Object.defineProperty(ER,"__esModule",{value:!0});var Em=yi(),xm=ct(),$Me=Mt(),LMe={message:({params:{missingProperty:e}})=>(0,xm.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,xm._)`{missingProperty: ${e}}`},MMe={keyword:"required",type:"object",schemaType:"array",$data:!0,error:LMe,code(e){let{gen:t,schema:r,schemaCode:n,data:s,$data:i,it:a}=e,{opts:o}=a;if(!i&&r.length===0)return;let c=r.length>=o.loopRequired;if(a.allErrors?u():l(),o.strictRequired){let h=e.parentSchema.properties,{definedProperties:p}=e.it;for(let m of r)if(h?.[m]===void 0&&!p.has(m)){let A=a.schemaEnv.baseId+a.errSchemaPath,g=`required property "${m}" is not defined at "${A}" (strictRequired)`;(0,$Me.checkStrictMode)(a,g,a.opts.strictRequired)}}function u(){if(c||i)e.block$data(xm.nil,d);else for(let h of r)(0,Em.checkReportMissingProp)(e,h)}function l(){let h=t.let("missing");if(c||i){let p=t.let("valid",!0);e.block$data(p,()=>f(h,p)),e.ok(p)}else t.if((0,Em.checkMissingProp)(e,r,h)),(0,Em.reportMissingProp)(e,h),t.else()}function d(){t.forOf("prop",n,h=>{e.setParams({missingProperty:h}),t.if((0,Em.noPropertyInData)(t,s,h,o.ownProperties),()=>e.error())})}function f(h,p){e.setParams({missingProperty:h}),t.forOf(h,n,()=>{t.assign(p,(0,Em.propertyInData)(t,s,h,o.ownProperties)),t.if((0,xm.not)(p),()=>{e.error(),t.break()})},xm.nil)}}};ER.default=MMe});var tW=I(xR=>{"use strict";Object.defineProperty(xR,"__esModule",{value:!0});var vm=ct(),FMe={message({keyword:e,schemaCode:t}){let r=e==="maxItems"?"more":"fewer";return(0,vm.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,vm._)`{limit: ${e}}`},QMe={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:FMe,code(e){let{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?vm.operators.GT:vm.operators.LT;e.fail$data((0,vm._)`${r}.length ${s} ${n}`)}};xR.default=QMe});var RE=I(vR=>{"use strict";Object.defineProperty(vR,"__esModule",{value:!0});var rW=oi();rW.code='require("ajv/dist/runtime/equal").default';vR.default=rW});var nW=I(IR=>{"use strict";Object.defineProperty(IR,"__esModule",{value:!0});var _R=cm(),Rn=ct(),UMe=Mt(),qMe=RE(),jMe={message:({params:{i:e,j:t}})=>(0,Rn.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Rn._)`{i: ${e}, j: ${t}}`},HMe={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:jMe,code(e){let{gen:t,data:r,$data:n,schema:s,parentSchema:i,schemaCode:a,it:o}=e;if(!n&&!s)return;let c=t.let("valid"),u=i.items?(0,_R.getSchemaTypes)(i.items):[];e.block$data(c,l,(0,Rn._)`${a} === false`),e.ok(c);function l(){let p=t.let("i",(0,Rn._)`${r}.length`),m=t.let("j");e.setParams({i:p,j:m}),t.assign(c,!0),t.if((0,Rn._)`${p} > 1`,()=>(d()?f:h)(p,m))}function d(){return u.length>0&&!u.some(p=>p==="object"||p==="array")}function f(p,m){let A=t.name("item"),g=(0,_R.checkDataTypes)(u,A,o.opts.strictNumbers,_R.DataType.Wrong),x=t.const("indices",(0,Rn._)`{}`);t.for((0,Rn._)`;${p}--;`,()=>{t.let(A,(0,Rn._)`${r}[${p}]`),t.if(g,(0,Rn._)`continue`),u.length>1&&t.if((0,Rn._)`typeof ${A} == "string"`,(0,Rn._)`${A} += "_"`),t.if((0,Rn._)`typeof ${x}[${A}] == "number"`,()=>{t.assign(m,(0,Rn._)`${x}[${A}]`),e.error(),t.assign(c,!1).break()}).code((0,Rn._)`${x}[${A}] = ${p}`)})}function h(p,m){let A=(0,UMe.useFunc)(t,qMe.default),g=t.name("outer");t.label(g).for((0,Rn._)`;${p}--;`,()=>t.for((0,Rn._)`${m} = ${p}; ${m}--;`,()=>t.if((0,Rn._)`${A}(${r}[${p}], ${r}[${m}])`,()=>{e.error(),t.assign(c,!1).break(g)})))}}};IR.default=HMe});var sW=I(wR=>{"use strict";Object.defineProperty(wR,"__esModule",{value:!0});var CR=ct(),zMe=Mt(),GMe=RE(),VMe={message:"must be equal to constant",params:({schemaCode:e})=>(0,CR._)`{allowedValue: ${e}}`},KMe={keyword:"const",$data:!0,error:VMe,code(e){let{gen:t,data:r,$data:n,schemaCode:s,schema:i}=e;n||i&&typeof i=="object"?e.fail$data((0,CR._)`!${(0,zMe.useFunc)(t,GMe.default)}(${r}, ${s})`):e.fail((0,CR._)`${i} !== ${r}`)}};wR.default=KMe});var iW=I(SR=>{"use strict";Object.defineProperty(SR,"__esModule",{value:!0});var _m=ct(),YMe=Mt(),WMe=RE(),JMe={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,_m._)`{allowedValues: ${e}}`},XMe={keyword:"enum",schemaType:"array",$data:!0,error:JMe,code(e){let{gen:t,data:r,$data:n,schema:s,schemaCode:i,it:a}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");let o=s.length>=a.opts.loopEnum,c,u=()=>c??(c=(0,YMe.useFunc)(t,WMe.default)),l;if(o||n)l=t.let("valid"),e.block$data(l,d);else{if(!Array.isArray(s))throw new Error("ajv implementation error");let h=t.const("vSchema",i);l=(0,_m.or)(...s.map((p,m)=>f(h,m)))}e.pass(l);function d(){t.assign(l,!1),t.forOf("v",i,h=>t.if((0,_m._)`${u()}(${r}, ${h})`,()=>t.assign(l,!0).break()))}function f(h,p){let m=s[p];return typeof m=="object"&&m!==null?(0,_m._)`${u()}(${r}, ${h}[${p}])`:(0,_m._)`${r} === ${m}`}}};SR.default=XMe});var aW=I(TR=>{"use strict";Object.defineProperty(TR,"__esModule",{value:!0});var ZMe=VY(),eFe=KY(),tFe=JY(),rFe=XY(),nFe=ZY(),sFe=eW(),iFe=tW(),aFe=nW(),oFe=sW(),cFe=iW(),uFe=[ZMe.default,eFe.default,tFe.default,rFe.default,nFe.default,sFe.default,iFe.default,aFe.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},oFe.default,cFe.default];TR.default=uFe});var RR=I(Im=>{"use strict";Object.defineProperty(Im,"__esModule",{value:!0});Im.validateAdditionalItems=void 0;var Sl=ct(),BR=Mt(),lFe={message:({params:{len:e}})=>(0,Sl.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Sl._)`{limit: ${e}}`},dFe={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:lFe,code(e){let{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,BR.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}oW(e,n)}};function oW(e,t){let{gen:r,schema:n,data:s,keyword:i,it:a}=e;a.items=!0;let o=r.const("len",(0,Sl._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Sl._)`${o} <= ${t.length}`);else if(typeof n=="object"&&!(0,BR.alwaysValidSchema)(a,n)){let u=r.var("valid",(0,Sl._)`${o} <= ${t.length}`);r.if((0,Sl.not)(u),()=>c(u)),e.ok(u)}function c(u){r.forRange("i",t.length,o,l=>{e.subschema({keyword:i,dataProp:l,dataPropType:BR.Type.Num},u),a.allErrors||r.if((0,Sl.not)(u),()=>r.break())})}}Im.validateAdditionalItems=oW;Im.default=dFe});var NR=I(Cm=>{"use strict";Object.defineProperty(Cm,"__esModule",{value:!0});Cm.validateTuple=void 0;var cW=ct(),NE=Mt(),fFe=yi(),pFe={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){let{schema:t,it:r}=e;if(Array.isArray(t))return uW(e,"additionalItems",t);r.items=!0,!(0,NE.alwaysValidSchema)(r,t)&&e.ok((0,fFe.validateArray)(e))}};function uW(e,t,r=e.schema){let{gen:n,parentSchema:s,data:i,keyword:a,it:o}=e;l(s),o.opts.unevaluated&&r.length&&o.items!==!0&&(o.items=NE.mergeEvaluated.items(n,r.length,o.items));let c=n.name("valid"),u=n.const("len",(0,cW._)`${i}.length`);r.forEach((d,f)=>{(0,NE.alwaysValidSchema)(o,d)||(n.if((0,cW._)`${u} > ${f}`,()=>e.subschema({keyword:a,schemaProp:f,dataProp:f},c)),e.ok(c))});function l(d){let{opts:f,errSchemaPath:h}=o,p=r.length,m=p===d.minItems&&(p===d.maxItems||d[t]===!1);if(f.strictTuples&&!m){let A=`"${a}" is ${p}-tuple, but minItems or maxItems/${t} are not specified or different at path "${h}"`;(0,NE.checkStrictMode)(o,A,f.strictTuples)}}}Cm.validateTuple=uW;Cm.default=pFe});var lW=I(kR=>{"use strict";Object.defineProperty(kR,"__esModule",{value:!0});var hFe=NR(),mFe={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,hFe.validateTuple)(e,"items")};kR.default=mFe});var fW=I(DR=>{"use strict";Object.defineProperty(DR,"__esModule",{value:!0});var dW=ct(),gFe=Mt(),AFe=yi(),yFe=RR(),bFe={message:({params:{len:e}})=>(0,dW.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,dW._)`{limit: ${e}}`},EFe={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:bFe,code(e){let{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,gFe.alwaysValidSchema)(n,t)&&(s?(0,yFe.validateAdditionalItems)(e,s):e.ok((0,AFe.validateArray)(e)))}};DR.default=EFe});var pW=I(PR=>{"use strict";Object.defineProperty(PR,"__esModule",{value:!0});var Ei=ct(),kE=Mt(),xFe={message:({params:{min:e,max:t}})=>t===void 0?(0,Ei.str)`must contain at least ${e} valid item(s)`:(0,Ei.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Ei._)`{minContains: ${e}}`:(0,Ei._)`{minContains: ${e}, maxContains: ${t}}`},vFe={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:xFe,code(e){let{gen:t,schema:r,parentSchema:n,data:s,it:i}=e,a,o,{minContains:c,maxContains:u}=n;i.opts.next?(a=c===void 0?1:c,o=u):a=1;let l=t.const("len",(0,Ei._)`${s}.length`);if(e.setParams({min:a,max:o}),o===void 0&&a===0){(0,kE.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&a>o){(0,kE.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,kE.alwaysValidSchema)(i,r)){let m=(0,Ei._)`${l} >= ${a}`;o!==void 0&&(m=(0,Ei._)`${m} && ${l} <= ${o}`),e.pass(m);return}i.items=!0;let d=t.name("valid");o===void 0&&a===1?h(d,()=>t.if(d,()=>t.break())):a===0?(t.let(d,!0),o!==void 0&&t.if((0,Ei._)`${s}.length > 0`,f)):(t.let(d,!1),f()),e.result(d,()=>e.reset());function f(){let m=t.name("_valid"),A=t.let("count",0);h(m,()=>t.if(m,()=>p(A)))}function h(m,A){t.forRange("i",0,l,g=>{e.subschema({keyword:"contains",dataProp:g,dataPropType:kE.Type.Num,compositeRule:!0},m),A()})}function p(m){t.code((0,Ei._)`${m}++`),o===void 0?t.if((0,Ei._)`${m} >= ${a}`,()=>t.assign(d,!0).break()):(t.if((0,Ei._)`${m} > ${o}`,()=>t.assign(d,!1).break()),a===1?t.assign(d,!0):t.if((0,Ei._)`${m} >= ${a}`,()=>t.assign(d,!0)))}}};PR.default=vFe});var gW=I($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.validateSchemaDeps=$a.validatePropertyDeps=$a.error=void 0;var OR=ct(),_Fe=Mt(),wm=yi();$a.error={message:({params:{property:e,depsCount:t,deps:r}})=>{let n=t===1?"property":"properties";return(0,OR.str)`must have ${n} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:n}})=>(0,OR._)`{property: ${e},
    missingProperty: ${n},
    depsCount: ${t},
    deps: ${r}}`};var IFe={keyword:"dependencies",type:"object",schemaType:"object",error:$a.error,code(e){let[t,r]=CFe(e);hW(e,t),mW(e,r)}};function CFe({schema:e}){let t={},r={};for(let n in e){if(n==="__proto__")continue;let s=Array.isArray(e[n])?t:r;s[n]=e[n]}return[t,r]}function hW(e,t=e.schema){let{gen:r,data:n,it:s}=e;if(Object.keys(t).length===0)return;let i=r.let("missing");for(let a in t){let o=t[a];if(o.length===0)continue;let c=(0,wm.propertyInData)(r,n,a,s.opts.ownProperties);e.setParams({property:a,depsCount:o.length,deps:o.join(", ")}),s.allErrors?r.if(c,()=>{for(let u of o)(0,wm.checkReportMissingProp)(e,u)}):(r.if((0,OR._)`${c} && (${(0,wm.checkMissingProp)(e,o,i)})`),(0,wm.reportMissingProp)(e,i),r.else())}}$a.validatePropertyDeps=hW;function mW(e,t=e.schema){let{gen:r,data:n,keyword:s,it:i}=e,a=r.name("valid");for(let o in t)(0,_Fe.alwaysValidSchema)(i,t[o])||(r.if((0,wm.propertyInData)(r,n,o,i.opts.ownProperties),()=>{let c=e.subschema({keyword:s,schemaProp:o},a);e.mergeValidEvaluated(c,a)},()=>r.var(a,!0)),e.ok(a))}$a.validateSchemaDeps=mW;$a.default=IFe});var yW=I($R=>{"use strict";Object.defineProperty($R,"__esModule",{value:!0});var AW=ct(),wFe=Mt(),SFe={message:"property name must be valid",params:({params:e})=>(0,AW._)`{propertyName: ${e.propertyName}}`},TFe={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:SFe,code(e){let{gen:t,schema:r,data:n,it:s}=e;if((0,wFe.alwaysValidSchema)(s,r))return;let i=t.name("valid");t.forIn("key",n,a=>{e.setParams({propertyName:a}),e.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},i),t.if((0,AW.not)(i),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(i)}};$R.default=TFe});var MR=I(LR=>{"use strict";Object.defineProperty(LR,"__esModule",{value:!0});var DE=yi(),Zi=ct(),BFe=No(),PE=Mt(),RFe={message:"must NOT have additional properties",params:({params:e})=>(0,Zi._)`{additionalProperty: ${e.additionalProperty}}`},NFe={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:RFe,code(e){let{gen:t,schema:r,parentSchema:n,data:s,errsCount:i,it:a}=e;if(!i)throw new Error("ajv implementation error");let{allErrors:o,opts:c}=a;if(a.props=!0,c.removeAdditional!=="all"&&(0,PE.alwaysValidSchema)(a,r))return;let u=(0,DE.allSchemaProperties)(n.properties),l=(0,DE.allSchemaProperties)(n.patternProperties);d(),e.ok((0,Zi._)`${i} === ${BFe.default.errors}`);function d(){t.forIn("key",s,A=>{!u.length&&!l.length?p(A):t.if(f(A),()=>p(A))})}function f(A){let g;if(u.length>8){let x=(0,PE.schemaRefOrVal)(a,n.properties,"properties");g=(0,DE.isOwnProperty)(t,x,A)}else u.length?g=(0,Zi.or)(...u.map(x=>(0,Zi._)`${A} === ${x}`)):g=Zi.nil;return l.length&&(g=(0,Zi.or)(g,...l.map(x=>(0,Zi._)`${(0,DE.usePattern)(e,x)}.test(${A})`))),(0,Zi.not)(g)}function h(A){t.code((0,Zi._)`delete ${s}[${A}]`)}function p(A){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){h(A);return}if(r===!1){e.setParams({additionalProperty:A}),e.error(),o||t.break();return}if(typeof r=="object"&&!(0,PE.alwaysValidSchema)(a,r)){let g=t.name("valid");c.removeAdditional==="failing"?(m(A,g,!1),t.if((0,Zi.not)(g),()=>{e.reset(),h(A)})):(m(A,g),o||t.if((0,Zi.not)(g),()=>t.break()))}}function m(A,g,x){let y={keyword:"additionalProperties",dataProp:A,dataPropType:PE.Type.Str};x===!1&&Object.assign(y,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(y,g)}}};LR.default=NFe});var xW=I(QR=>{"use strict";Object.defineProperty(QR,"__esModule",{value:!0});var kFe=fm(),bW=yi(),FR=Mt(),EW=MR(),DFe={keyword:"properties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,parentSchema:n,data:s,it:i}=e;i.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&EW.default.code(new kFe.KeywordCxt(i,EW.default,"additionalProperties"));let a=(0,bW.allSchemaProperties)(r);for(let d of a)i.definedProperties.add(d);i.opts.unevaluated&&a.length&&i.props!==!0&&(i.props=FR.mergeEvaluated.props(t,(0,FR.toHash)(a),i.props));let o=a.filter(d=>!(0,FR.alwaysValidSchema)(i,r[d]));if(o.length===0)return;let c=t.name("valid");for(let d of o)u(d)?l(d):(t.if((0,bW.propertyInData)(t,s,d,i.opts.ownProperties)),l(d),i.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(d),e.ok(c);function u(d){return i.opts.useDefaults&&!i.compositeRule&&r[d].default!==void 0}function l(d){e.subschema({keyword:"properties",schemaProp:d,dataProp:d},c)}}};QR.default=DFe});var CW=I(UR=>{"use strict";Object.defineProperty(UR,"__esModule",{value:!0});var vW=yi(),OE=ct(),_W=Mt(),IW=Mt(),PFe={keyword:"patternProperties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,data:n,parentSchema:s,it:i}=e,{opts:a}=i,o=(0,vW.allSchemaProperties)(r),c=o.filter(m=>(0,_W.alwaysValidSchema)(i,r[m]));if(o.length===0||c.length===o.length&&(!i.opts.unevaluated||i.props===!0))return;let u=a.strictSchema&&!a.allowMatchingProperties&&s.properties,l=t.name("valid");i.props!==!0&&!(i.props instanceof OE.Name)&&(i.props=(0,IW.evaluatedPropsToName)(t,i.props));let{props:d}=i;f();function f(){for(let m of o)u&&h(m),i.allErrors?p(m):(t.var(l,!0),p(m),t.if(l))}function h(m){for(let A in u)new RegExp(m).test(A)&&(0,_W.checkStrictMode)(i,`property ${A} matches pattern ${m} (use allowMatchingProperties)`)}function p(m){t.forIn("key",n,A=>{t.if((0,OE._)`${(0,vW.usePattern)(e,m)}.test(${A})`,()=>{let g=c.includes(m);g||e.subschema({keyword:"patternProperties",schemaProp:m,dataProp:A,dataPropType:IW.Type.Str},l),i.opts.unevaluated&&d!==!0?t.assign((0,OE._)`${d}[${A}]`,!0):!g&&!i.allErrors&&t.if((0,OE.not)(l),()=>t.break())})})}}};UR.default=PFe});var wW=I(qR=>{"use strict";Object.defineProperty(qR,"__esModule",{value:!0});var OFe=Mt(),$Fe={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){let{gen:t,schema:r,it:n}=e;if((0,OFe.alwaysValidSchema)(n,r)){e.fail();return}let s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};qR.default=$Fe});var SW=I(jR=>{"use strict";Object.defineProperty(jR,"__esModule",{value:!0});var LFe=yi(),MFe={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:LFe.validateUnion,error:{message:"must match a schema in anyOf"}};jR.default=MFe});var TW=I(HR=>{"use strict";Object.defineProperty(HR,"__esModule",{value:!0});var $E=ct(),FFe=Mt(),QFe={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,$E._)`{passingSchemas: ${e.passing}}`},UFe={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:QFe,code(e){let{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;let i=r,a=t.let("valid",!1),o=t.let("passing",null),c=t.name("_valid");e.setParams({passing:o}),t.block(u),e.result(a,()=>e.reset(),()=>e.error(!0));function u(){i.forEach((l,d)=>{let f;(0,FFe.alwaysValidSchema)(s,l)?t.var(c,!0):f=e.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},c),d>0&&t.if((0,$E._)`${c} && ${a}`).assign(a,!1).assign(o,(0,$E._)`[${o}, ${d}]`).else(),t.if(c,()=>{t.assign(a,!0),t.assign(o,d),f&&e.mergeEvaluated(f,$E.Name)})})}}};HR.default=UFe});var BW=I(zR=>{"use strict";Object.defineProperty(zR,"__esModule",{value:!0});var qFe=Mt(),jFe={keyword:"allOf",schemaType:"array",code(e){let{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");let s=t.name("valid");r.forEach((i,a)=>{if((0,qFe.alwaysValidSchema)(n,i))return;let o=e.subschema({keyword:"allOf",schemaProp:a},s);e.ok(s),e.mergeEvaluated(o)})}};zR.default=jFe});var kW=I(GR=>{"use strict";Object.defineProperty(GR,"__esModule",{value:!0});var LE=ct(),NW=Mt(),HFe={message:({params:e})=>(0,LE.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,LE._)`{failingKeyword: ${e.ifClause}}`},zFe={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:HFe,code(e){let{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,NW.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let s=RW(n,"then"),i=RW(n,"else");if(!s&&!i)return;let a=t.let("valid",!0),o=t.name("_valid");if(c(),e.reset(),s&&i){let l=t.let("ifClause");e.setParams({ifClause:l}),t.if(o,u("then",l),u("else",l))}else s?t.if(o,u("then")):t.if((0,LE.not)(o),u("else"));e.pass(a,()=>e.error(!0));function c(){let l=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);e.mergeEvaluated(l)}function u(l,d){return()=>{let f=e.subschema({keyword:l},o);t.assign(a,o),e.mergeValidEvaluated(f,a),d?t.assign(d,(0,LE._)`${l}`):e.setParams({ifClause:l})}}}};function RW(e,t){let r=e.schema[t];return r!==void 0&&!(0,NW.alwaysValidSchema)(e,r)}GR.default=zFe});var DW=I(VR=>{"use strict";Object.defineProperty(VR,"__esModule",{value:!0});var GFe=Mt(),VFe={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,GFe.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};VR.default=VFe});var PW=I(KR=>{"use strict";Object.defineProperty(KR,"__esModule",{value:!0});var KFe=RR(),YFe=lW(),WFe=NR(),JFe=fW(),XFe=pW(),ZFe=gW(),e9e=yW(),t9e=MR(),r9e=xW(),n9e=CW(),s9e=wW(),i9e=SW(),a9e=TW(),o9e=BW(),c9e=kW(),u9e=DW();function l9e(e=!1){let t=[s9e.default,i9e.default,a9e.default,o9e.default,c9e.default,u9e.default,e9e.default,t9e.default,ZFe.default,r9e.default,n9e.default];return e?t.push(YFe.default,JFe.default):t.push(KFe.default,WFe.default),t.push(XFe.default),t}KR.default=l9e});var OW=I(YR=>{"use strict";Object.defineProperty(YR,"__esModule",{value:!0});var jr=ct(),d9e={message:({schemaCode:e})=>(0,jr.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,jr._)`{format: ${e}}`},f9e={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:d9e,code(e,t){let{gen:r,data:n,$data:s,schema:i,schemaCode:a,it:o}=e,{opts:c,errSchemaPath:u,schemaEnv:l,self:d}=o;if(!c.validateFormats)return;s?f():h();function f(){let p=r.scopeValue("formats",{ref:d.formats,code:c.code.formats}),m=r.const("fDef",(0,jr._)`${p}[${a}]`),A=r.let("fType"),g=r.let("format");r.if((0,jr._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>r.assign(A,(0,jr._)`${m}.type || "string"`).assign(g,(0,jr._)`${m}.validate`),()=>r.assign(A,(0,jr._)`"string"`).assign(g,m)),e.fail$data((0,jr.or)(x(),y()));function x(){return c.strictSchema===!1?jr.nil:(0,jr._)`${a} && !${g}`}function y(){let b=l.$async?(0,jr._)`(${m}.async ? await ${g}(${n}) : ${g}(${n}))`:(0,jr._)`${g}(${n})`,_=(0,jr._)`(typeof ${g} == "function" ? ${b} : ${g}.test(${n}))`;return(0,jr._)`${g} && ${g} !== true && ${A} === ${t} && !${_}`}}function h(){let p=d.formats[i];if(!p){x();return}if(p===!0)return;let[m,A,g]=y(p);m===t&&e.pass(b());function x(){if(c.strictSchema===!1){d.logger.warn(_());return}throw new Error(_());function _(){return`unknown format "${i}" ignored in schema at path "${u}"`}}function y(_){let C=_ instanceof RegExp?(0,jr.regexpCode)(_):c.code.formats?(0,jr._)`${c.code.formats}${(0,jr.getProperty)(i)}`:void 0,w=r.scopeValue("formats",{key:i,ref:_,code:C});return typeof _=="object"&&!(_ instanceof RegExp)?[_.type||"string",_.validate,(0,jr._)`${w}.validate`]:["string",_,w]}function b(){if(typeof p=="object"&&!(p instanceof RegExp)&&p.async){if(!l.$async)throw new Error("async format in sync schema");return(0,jr._)`await ${g}(${n})`}return typeof A=="function"?(0,jr._)`${g}(${n})`:(0,jr._)`${g}.test(${n})`}}}};YR.default=f9e});var $W=I(WR=>{"use strict";Object.defineProperty(WR,"__esModule",{value:!0});var p9e=OW(),h9e=[p9e.default];WR.default=h9e});var LW=I(Ff=>{"use strict";Object.defineProperty(Ff,"__esModule",{value:!0});Ff.contentVocabulary=Ff.metadataVocabulary=void 0;Ff.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Ff.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var FW=I(JR=>{"use strict";Object.defineProperty(JR,"__esModule",{value:!0});var m9e=GY(),g9e=aW(),A9e=PW(),y9e=$W(),MW=LW(),b9e=[m9e.default,g9e.default,(0,A9e.default)(),y9e.default,MW.metadataVocabulary,MW.contentVocabulary];JR.default=b9e});var UW=I(ME=>{"use strict";Object.defineProperty(ME,"__esModule",{value:!0});ME.DiscrError=void 0;var QW;(function(e){e.Tag="tag",e.Mapping="mapping"})(QW||(ME.DiscrError=QW={}))});var jW=I(ZR=>{"use strict";Object.defineProperty(ZR,"__esModule",{value:!0});var Qf=ct(),XR=UW(),qW=bE(),E9e=pm(),x9e=Mt(),v9e={message:({params:{discrError:e,tagName:t}})=>e===XR.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Qf._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},_9e={keyword:"discriminator",type:"object",schemaType:"object",error:v9e,code(e){let{gen:t,data:r,schema:n,parentSchema:s,it:i}=e,{oneOf:a}=s;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");let o=n.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");let c=t.let("valid",!1),u=t.const("tag",(0,Qf._)`${r}${(0,Qf.getProperty)(o)}`);t.if((0,Qf._)`typeof ${u} == "string"`,()=>l(),()=>e.error(!1,{discrError:XR.DiscrError.Tag,tag:u,tagName:o})),e.ok(c);function l(){let h=f();t.if(!1);for(let p in h)t.elseIf((0,Qf._)`${u} === ${p}`),t.assign(c,d(h[p]));t.else(),e.error(!1,{discrError:XR.DiscrError.Mapping,tag:u,tagName:o}),t.endIf()}function d(h){let p=t.name("valid"),m=e.subschema({keyword:"oneOf",schemaProp:h},p);return e.mergeEvaluated(m,Qf.Name),p}function f(){var h;let p={},m=g(s),A=!0;for(let b=0;b<a.length;b++){let _=a[b];if(_?.$ref&&!(0,x9e.schemaHasRulesButRef)(_,i.self.RULES)){let w=_.$ref;if(_=qW.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,w),_ instanceof qW.SchemaEnv&&(_=_.schema),_===void 0)throw new E9e.default(i.opts.uriResolver,i.baseId,w)}let C=(h=_?.properties)===null||h===void 0?void 0:h[o];if(typeof C!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);A=A&&(m||g(_)),x(C,b)}if(!A)throw new Error(`discriminator: "${o}" must be required`);return p;function g({required:b}){return Array.isArray(b)&&b.includes(o)}function x(b,_){if(b.const)y(b.const,_);else if(b.enum)for(let C of b.enum)y(C,_);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function y(b,_){if(typeof b!="string"||b in p)throw new Error(`discriminator: "${o}" values must be unique strings`);p[b]=_}}}};ZR.default=_9e});var HW=I((Eht,I9e)=>{I9e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var GW=I((Ir,eN)=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});Ir.MissingRefError=Ir.ValidationError=Ir.CodeGen=Ir.Name=Ir.nil=Ir.stringify=Ir.str=Ir._=Ir.KeywordCxt=Ir.Ajv=void 0;var C9e=QY(),w9e=FW(),S9e=jW(),zW=HW(),T9e=["/properties"],FE="http://json-schema.org/draft-07/schema",Uf=class extends C9e.default{_addVocabularies(){super._addVocabularies(),w9e.default.forEach(t=>this.addVocabulary(t)),this.opts.discriminator&&this.addKeyword(S9e.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let t=this.opts.$data?this.$dataMetaSchema(zW,T9e):zW;this.addMetaSchema(t,FE,!1),this.refs["http://json-schema.org/schema"]=FE}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(FE)?FE:void 0)}};Ir.Ajv=Uf;eN.exports=Ir=Uf;eN.exports.Ajv=Uf;Object.defineProperty(Ir,"__esModule",{value:!0});Ir.default=Uf;var B9e=fm();Object.defineProperty(Ir,"KeywordCxt",{enumerable:!0,get:function(){return B9e.KeywordCxt}});var qf=ct();Object.defineProperty(Ir,"_",{enumerable:!0,get:function(){return qf._}});Object.defineProperty(Ir,"str",{enumerable:!0,get:function(){return qf.str}});Object.defineProperty(Ir,"stringify",{enumerable:!0,get:function(){return qf.stringify}});Object.defineProperty(Ir,"nil",{enumerable:!0,get:function(){return qf.nil}});Object.defineProperty(Ir,"Name",{enumerable:!0,get:function(){return qf.Name}});Object.defineProperty(Ir,"CodeGen",{enumerable:!0,get:function(){return qf.CodeGen}});var R9e=AE();Object.defineProperty(Ir,"ValidationError",{enumerable:!0,get:function(){return R9e.default}});var N9e=pm();Object.defineProperty(Ir,"MissingRefError",{enumerable:!0,get:function(){return N9e.default}})});var VW=I(jf=>{"use strict";Object.defineProperty(jf,"__esModule",{value:!0});jf.formatLimitDefinition=void 0;var k9e=GW(),ea=ct(),Hc=ea.operators,QE={formatMaximum:{okStr:"<=",ok:Hc.LTE,fail:Hc.GT},formatMinimum:{okStr:">=",ok:Hc.GTE,fail:Hc.LT},formatExclusiveMaximum:{okStr:"<",ok:Hc.LT,fail:Hc.GTE},formatExclusiveMinimum:{okStr:">",ok:Hc.GT,fail:Hc.LTE}},D9e={message:({keyword:e,schemaCode:t})=>ea.str`should be ${QE[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>ea._`{comparison: ${QE[e].okStr}, limit: ${t}}`};jf.formatLimitDefinition={keyword:Object.keys(QE),type:"string",schemaType:"string",$data:!0,error:D9e,code(e){let{gen:t,data:r,schemaCode:n,keyword:s,it:i}=e,{opts:a,self:o}=i;if(!a.validateFormats)return;let c=new k9e.KeywordCxt(i,o.RULES.all.format.definition,"format");c.$data?u():l();function u(){let f=t.scopeValue("formats",{ref:o.formats,code:a.code.formats}),h=t.const("fmt",ea._`${f}[${c.schemaCode}]`);e.fail$data(ea.or(ea._`typeof ${h} != "object"`,ea._`${h} instanceof RegExp`,ea._`typeof ${h}.compare != "function"`,d(h)))}function l(){let f=c.schema,h=o.formats[f];if(!h||h===!0)return;if(typeof h!="object"||h instanceof RegExp||typeof h.compare!="function")throw new Error(`"${s}": format "${f}" does not define "compare" function`);let p=t.scopeValue("formats",{key:f,ref:h,code:a.code.formats?ea._`${a.code.formats}${ea.getProperty(f)}`:void 0});e.fail$data(d(p))}function d(f){return ea._`${f}.compare(${r}, ${n}) ${QE[s].fail} 0`}},dependencies:["format"]};var P9e=e=>(e.addKeyword(jf.formatLimitDefinition),e);jf.default=P9e});var JW=I((Sm,WW)=>{"use strict";Object.defineProperty(Sm,"__esModule",{value:!0});var Hf=EK(),O9e=VW(),tN=ct(),KW=new tN.Name("fullFormats"),$9e=new tN.Name("fastFormats"),rN=(e,t={keywords:!0})=>{if(Array.isArray(t))return YW(e,t,Hf.fullFormats,KW),e;let[r,n]=t.mode==="fast"?[Hf.fastFormats,$9e]:[Hf.fullFormats,KW],s=t.formats||Hf.formatNames;return YW(e,s,r,n),t.keywords&&O9e.default(e),e};rN.get=(e,t="full")=>{let n=(t==="fast"?Hf.fastFormats:Hf.fullFormats)[e];if(!n)throw new Error(`Unknown format "${e}"`);return n};function YW(e,t,r,n){var s,i;(s=(i=e.opts.code).formats)!==null&&s!==void 0||(i.formats=tN._`require("ajv-formats/dist/formats").${n}`);for(let a of t)e.addFormat(a,r[a])}WW.exports=Sm=rN;Object.defineProperty(Sm,"__esModule",{value:!0});Sm.default=rN});var eJ=I((vht,ZW)=>{"use strict";var L9e=yV().default,M9e=f4(),XW=p4(),nN=class{constructor(t,r){r.mode==="JTD"?this.ajv=new M9e(Object.assign({},XW,r.customOptions)):this.ajv=new L9e(Object.assign({},XW,r.customOptions));let n=!0;if(r.plugins&&r.plugins.length>0)for(let i of r.plugins)Array.isArray(i)?(n=n&&i[0].name!=="formatsPlugin",i[0](this.ajv,i[1])):(n=n&&i.name!=="formatsPlugin",i(this.ajv));n&&JW()(this.ajv),r.onCreate?.(this.ajv);let s=Object.values(t);for(let i of s)this.ajv.addSchema(i)}buildValidatorFunction({schema:t}){if(t.$id){let r=this.ajv.getSchema(t.$id);if(r)return r}return this.ajv.compile(t)}};ZW.exports=nN});var rJ=I((_ht,tJ)=>{"use strict";var F9e=f4(),Q9e=p4(),sN=class{constructor(t,r){this.ajv=new F9e(Object.assign({},Q9e,r))}buildSerializerFunction({schema:t}){return this.ajv.compileSerializer(t)}};tJ.exports=sN});var iJ=I((Bm,sJ)=>{"use strict";Object.defineProperty(Bm,"__esModule",{value:!0});var Tm=xb(),ta=nf();function nJ(e,t){if(!e.opts.code.source)throw new Error("moduleCode: ajv instance must have code.source option");let{_n:r}=e.scope.opts;return typeof t=="function"?s(t.source):t!==void 0?i(t,n):i(e.schemas,o=>o.meta?void 0:e.compile(o.schema));function n(o){let c=e.getSchema(o);if(!c)throw new Error(`moduleCode: no schema with id ${o}`);return c}function s(o){let c={},u=o?.validateName,l=a(c,o);return e.opts.code.esm?`"use strict";${r}export const validate = ${u};${r}export default ${u};${r}${l}`:`"use strict";${r}module.exports = ${u};${r}module.exports.default = ${u};${r}${l}`}function i(o,c){var u;let l={},d=(0,ta._)`"use strict";`;for(let f in o){let h=c(o[f]);if(h){let p=a(l,h.source),m=e.opts.code.esm?(0,ta._)`export const ${(0,ta.getEsmExportName)(f)}`:(0,ta._)`exports${(0,ta.getProperty)(f)}`;d=(0,ta._)`${d}${r}${m} = ${(u=h.source)===null||u===void 0?void 0:u.validateName};${r}${p}`}}return`${d}`}function a(o,c){if(!c)throw new Error('moduleCode: function does not have "source" property');if(f(c.validateName)===Tm.UsedValueState.Completed)return ta.nil;h(c.validateName,Tm.UsedValueState.Started);let u=e.scope.scopeCode(c.scopeValues,o,d),l=new ta._Code(`${u}${r}${c.validateCode}`);return c.evaluated?(0,ta._)`${l}${c.validateName}.evaluated = ${c.evaluated};${r}`:l;function d(p){var m;let A=(m=p.value)===null||m===void 0?void 0:m.ref;if(p.prefix==="validate"&&typeof A=="function")return a(o,A.source);if((p.prefix==="root"||p.prefix==="wrapper")&&typeof A=="object"){let{validate:g,validateName:x}=A;if(!x)throw new Error("ajv internal error");let y=e.opts.code.es5?Tm.varKinds.var:Tm.varKinds.const,b=(0,ta._)`${y} ${p} = {validate: ${x}};`;if(f(x)===Tm.UsedValueState.Started)return b;let _=a(o,g?.source);return(0,ta._)`${b}${r}${_}`}}function f(p){var m;return(m=o[p.prefix])===null||m===void 0?void 0:m.get(p)}function h(p,m){let{prefix:A}=p;(o[A]=o[A]||new Map).set(p,m)}}}sJ.exports=Bm=nJ;Object.defineProperty(Bm,"__esModule",{value:!0});Bm.default=nJ});var cJ=I((Iht,oJ)=>{"use strict";var aJ=iN(),U9e=iJ().default;function q9e(e={readMode:!0}){if(e.readMode===!0&&!e.restoreFunction)throw new Error("You must provide a restoreFunction options when readMode ON");if(e.readMode!==!0&&!e.storeFunction)throw new Error("You must provide a storeFunction options when readMode OFF");if(e.readMode===!0)return function(){return function(n){return e.restoreFunction(n)}};let t=aJ();return function(n,s={}){(!s.customOptions||!s.customOptions.code)&&(s.customOptions=Object.assign({},s.customOptions,{code:{source:!0}}));let i=t(n,s);return function(a){let o=i(a),c=U9e(i[aJ.AjvReference].ajv,o);return e.storeFunction(a,c),o}}}oJ.exports=q9e});var iN=I((Cht,zf)=>{"use strict";var lJ=Symbol.for("fastify.ajv-compiler.reference"),j9e=eJ(),H9e=rJ();function aN(e){let t=new Map,r=new Map;return e&&e.jtdSerializer===!0?function(s,i){let a=uJ({},i);if(r.has(a))return r.get(a);let o=new H9e(s,i),c=o.buildSerializerFunction.bind(o);return r.set(a,c),c}:function(s,i){let a=uJ(s,i.customOptions);if(t.has(a))return t.get(a);let o=new j9e(s,i),c=o.buildValidatorFunction.bind(o);return t.set(a,c),i.customOptions.code!==void 0&&(c[lJ]=o),c}}function uJ(e,t){let r=JSON.stringify(e),n=JSON.stringify(t);return`${r}${n}`}zf.exports=aN;zf.exports.default=aN;zf.exports.AjvCompiler=aN;zf.exports.AjvReference=lJ;zf.exports.StandaloneValidator=cJ()});var oN=I((wht,dJ)=>{"use strict";var{buildSchemas:z9e}=I0(),G9e=WT(),V9e=iN();function K9e(e,t){if(e)return new Gf(e,t);let r=Object.assign({buildValidator:null,buildSerializer:null},t?.compilersFactory);r.buildValidator||(r.buildValidator=V9e()),r.buildSerializer||(r.buildSerializer=G9e());let n={bucket:t&&t.bucket||z9e,compilersFactory:r,isCustomValidatorCompiler:typeof t?.compilersFactory?.buildValidator=="function",isCustomSerializerCompiler:typeof t?.compilersFactory?.buildValidator=="function"};return new Gf(void 0,n)}var Gf=class{constructor(t,r){this.opts=r||t?.opts,this.addedSchemas=!1,this.compilersFactory=this.opts.compilersFactory,t?(this.schemaBucket=this.opts.bucket(t.getSchemas()),this.validatorCompiler=t.getValidatorCompiler(),this.serializerCompiler=t.getSerializerCompiler(),this.isCustomValidatorCompiler=t.isCustomValidatorCompiler,this.isCustomSerializerCompiler=t.isCustomSerializerCompiler,this.parent=t):(this.schemaBucket=this.opts.bucket(),this.isCustomValidatorCompiler=this.opts.isCustomValidatorCompiler||!1,this.isCustomSerializerCompiler=this.opts.isCustomSerializerCompiler||!1)}add(t){return this.addedSchemas=!0,this.schemaBucket.add(t)}getSchema(t){return this.schemaBucket.getSchema(t)}getSchemas(){return this.schemaBucket.getSchemas()}setValidatorCompiler(t){this.compilersFactory=Object.assign({},this.compilersFactory,{buildValidator:()=>t}),this.validatorCompiler=t,this.isCustomValidatorCompiler=!0}setSerializerCompiler(t){this.compilersFactory=Object.assign({},this.compilersFactory,{buildSerializer:()=>t}),this.serializerCompiler=t,this.isCustomSerializerCompiler=!0}getValidatorCompiler(){return this.validatorCompiler||this.parent&&this.parent.getValidatorCompiler()}getSerializerCompiler(){return this.serializerCompiler||this.parent&&this.parent.getSerializerCompiler()}getSerializerBuilder(){return this.compilersFactory.buildSerializer||this.parent&&this.parent.getSerializerBuilder()}getValidatorBuilder(){return this.compilersFactory.buildValidator||this.parent&&this.parent.getValidatorBuilder()}setupValidator(t){this.validatorCompiler!==void 0&&!this.addedSchemas||(this.validatorCompiler=this.getValidatorBuilder()(this.schemaBucket.getSchemas(),t.ajv))}setupSerializer(t){this.serializerCompiler!==void 0&&!this.addedSchemas||(this.serializerCompiler=this.getSerializerBuilder()(this.schemaBucket.getSchemas(),t.serializerOpts))}};Gf.buildSchemaController=K9e;dJ.exports=Gf});var pN=I((Sht,fN)=>{"use strict";var cN=yT(),lN=require("node:assert"),dN=Symbol.for("registered-plugin"),{kTestInternals:Y9e}=cn(),{exist:W9e,existReply:J9e,existRequest:X9e}=TT(),{FST_ERR_PLUGIN_VERSION_MISMATCH:Z9e,FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE:eQe}=Ln(),{FSTWRN002:tQe}=oo();function Rm(e){return e[Symbol.for("plugin-meta")]}function fJ(e){let t=pJ(e);if(t)return t;let r=require.cache;if(r){let n=Object.keys(r);for(let s=0;s<n.length;s++){let i=n[s];if(r[i].exports===e)return i}}return e.name?e.name:null}function rQe(e){return e.toString().split(`
`).slice(0,2).map(t=>t.trim()).join(" -- ")}function pJ(e){return e[Symbol.for("fastify.display-name")]}function hJ(e){return!!e[Symbol.for("skip-override")]}function mJ(e){let t=Rm(e);if(!t)return;let r=t.dependencies;r&&(lN(Array.isArray(r),"The dependencies should be an array of strings"),r.forEach(n=>{lN(this[dN].indexOf(n)>-1,`The dependency '${n}' of plugin '${t.name}' is not registered`)}))}function gJ(e){let t=Rm(e);if(!t)return;let{decorators:r,name:n}=t;r&&(r.fastify&&uN(this,"Fastify",r.fastify,n),r.reply&&uN(this,"Reply",r.reply,n),r.request&&uN(this,"Request",r.request,n))}var nQe={Fastify:W9e,Request:X9e,Reply:J9e};function uN(e,t,r,n){lN(Array.isArray(r),"The decorators should be an array of strings"),r.forEach(s=>{let i=typeof n=="string"?` required by '${n}'`:"";if(!nQe[t].call(e,s))throw new eQe(s,i,t)})}function sQe(e){let t=Rm(e);if(!t)return;let r=t.fastify,n=/-rc.+$/.test(this.version);if(!(n===!0&&cN.gt(this.version,cN.coerce(r))===!0)&&r&&cN.satisfies(this.version,r,{includePrerelease:n})===!1)throw new Z9e(t.name,r,this.version)}function iQe(e){let t=Rm(e);if(!t)return;let r=t.name;if(r)return this[dN].push(r),r}function aQe(e,t){e.constructor.name==="AsyncFunction"&&e.length===3&&tQe(t||"anonymous")}function oQe(e){let t=iQe.call(this,e)||fJ(e);return aQe.call(this,e,t),sQe.call(this,e),gJ.call(this,e),mJ.call(this,e),hJ(e)}fN.exports={getPluginName:fJ,getFuncPreview:rQe,kRegisteredPlugins:dN,getDisplayName:pJ,registerPlugin:oQe};fN.exports[Y9e]={shouldSkipOverride:hJ,getMeta:Rm,checkDecorators:gJ,checkDependencies:mJ}});var UE=I((Tht,AJ)=>{"use strict";function cQe(e,t){let r=t||lQe();return e?dQe(e,r):r}function uQe(e,t){return e.genReqId(t)}function lQe(){let t=0;return function(){return t=t+1&2147483647,`req-${t.toString(36)}`}}function dQe(e,t){return function(r){return r.headers[e]||t(r)}}AJ.exports={getGenReqId:uQe,reqIdGenFactory:cQe}});var xJ=I((Bht,EJ)=>{"use strict";var yJ=12,fQe=0,hN=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,7,7,7,7,7,7,7,7,7,7,7,7,8,7,7,10,9,9,9,11,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,24,36,48,60,72,84,96,0,12,12,12,0,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,24,24,24,0,0,0,0,0,0,0,0,0,24,24,0,0,0,0,0,0,0,0,0,0,48,48,48,0,0,0,0,0,0,0,0,0,0,48,48,0,0,0,0,0,0,0,0,0,48,0,0,0,0,0,0,0,0,0,0,127,63,63,63,0,31,15,15,15,7,7,7];function pQe(e){var t=e.indexOf("%");if(t===-1)return e;for(var r=e.length,n="",s=0,i=0,a=t,o=yJ;t>-1&&t<r;){var c=bJ(e[t+1],4),u=bJ(e[t+2],0),l=c|u,d=hN[l];if(o=hN[256+o+d],i=i<<6|l&hN[364+d],o===yJ)n+=e.slice(s,a),n+=i<=65535?String.fromCharCode(i):String.fromCharCode(55232+(i>>10),56320+(i&1023)),i=0,s=t+3,t=a=e.indexOf("%",s);else{if(o===fQe)return null;if(t+=3,t<r&&e.charCodeAt(t)===37)continue;return null}}return n+e.slice(s)}var hQe={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};function bJ(e,t){var r=hQe[e];return r===void 0?255:r<<t}EJ.exports=pQe});var wJ=I((Rht,CJ)=>{"use strict";var vJ=xJ(),_J=/\+/g,IJ=function(){};IJ.prototype=Object.create(null);function mQe(e){let t=new IJ;if(typeof e!="string")return t;let r=e.length,n="",s="",i=-1,a=-1,o=!1,c=!1,u=!1,l=!1,d=!1,f=0;for(let h=0;h<r+1;h++)if(f=h!==r?e.charCodeAt(h):38,f===38){if(d=a>i,d||(a=h),n=e.slice(i+1,a),d||n.length>0){u&&(n=n.replace(_J," ")),o&&(n=vJ(n)||n),d&&(s=e.slice(a+1,h),l&&(s=s.replace(_J," ")),c&&(s=vJ(s)||s));let p=t[n];p===void 0?t[n]=s:p.pop?p.push(s):t[n]=[p,s]}s="",i=h,a=h,o=!1,c=!1,u=!1,l=!1}else f===61?a<=i?a=h:c=!0:f===43?a>i?l=!0:u=!0:f===37&&(a>i?c=!0:o=!0);return t}CJ.exports=mQe});var TJ=I((Nht,SJ)=>{var La=Array.from({length:256},(e,t)=>"%"+((t<16?"0":"")+t.toString(16)).toUpperCase()),gQe=new Int8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0]);function AQe(e){let t=e.length;if(t===0)return"";let r="",n=0,s=0;e:for(;s<t;s++){let i=e.charCodeAt(s);for(;i<128;){if(gQe[i]!==1&&(n<s&&(r+=e.slice(n,s)),n=s+1,r+=La[i]),++s===t)break e;i=e.charCodeAt(s)}if(n<s&&(r+=e.slice(n,s)),i<2048){n=s+1,r+=La[192|i>>6]+La[128|i&63];continue}if(i<55296||i>=57344){n=s+1,r+=La[224|i>>12]+La[128|i>>6&63]+La[128|i&63];continue}if(++s,s>=t)throw new Error("URI malformed");let a=e.charCodeAt(s)&1023;n=s+1,i=65536+((i&1023)<<10|a),r+=La[240|i>>18]+La[128|i>>12&63]+La[128|i>>6&63]+La[128|i&63]}return n===0?e:n<t?r+e.slice(n):r}SJ.exports={encodeString:AQe}});var NJ=I((kht,RJ)=>{"use strict";var{encodeString:mN}=TJ();function BJ(e){let t=typeof e;return t==="string"?mN(e):t==="bigint"?e.toString():t==="boolean"?e?"true":"false":t==="number"&&Number.isFinite(e)?e<1e21?""+e:mN(""+e):""}function yQe(e){let t="";if(e===null||typeof e!="object")return t;let r="&",n=Object.keys(e),s=n.length,i=0;for(let a=0;a<s;a++){let o=n[a],c=e[o],u=mN(o)+"=";if(a&&(t+=r),Array.isArray(c)){i=c.length;for(let l=0;l<i;l++)l&&(t+=r),t+=u,t+=BJ(c[l])}else t+=u,t+=BJ(c)}return t}RJ.exports=yQe});var OJ=I((Dht,Nm)=>{"use strict";var kJ=wJ(),DJ=NJ(),PJ={parse:kJ,stringify:DJ};Nm.exports=PJ;Nm.exports.default=PJ;Nm.exports.parse=kJ;Nm.exports.stringify=DJ});var LJ=I($J=>{"use strict";Object.defineProperty($J,"__esModule",{value:!0})});var MJ=I(km=>{"use strict";Object.defineProperty(km,"__esModule",{value:!0});km.types=void 0;var bQe;(function(e){e[e.ROOT=0]="ROOT",e[e.GROUP=1]="GROUP",e[e.POSITION=2]="POSITION",e[e.SET=3]="SET",e[e.RANGE=4]="RANGE",e[e.REPETITION=5]="REPETITION",e[e.REFERENCE=6]="REFERENCE",e[e.CHAR=7]="CHAR"})(bQe=km.types||(km.types={}))});var QJ=I(FJ=>{"use strict";Object.defineProperty(FJ,"__esModule",{value:!0})});var Oo=I(Po=>{"use strict";var EQe=Po&&Po.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),gN=Po&&Po.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&EQe(t,e,r)};Object.defineProperty(Po,"__esModule",{value:!0});gN(LJ(),Po);gN(MJ(),Po);gN(QJ(),Po)});var qE=I(Wn=>{"use strict";Object.defineProperty(Wn,"__esModule",{value:!0});Wn.anyChar=Wn.notWhitespace=Wn.whitespace=Wn.notInts=Wn.ints=Wn.notWords=Wn.words=void 0;var Gt=Oo(),UJ=()=>[{type:Gt.types.RANGE,from:48,to:57}],qJ=()=>[{type:Gt.types.CHAR,value:95},{type:Gt.types.RANGE,from:97,to:122},{type:Gt.types.RANGE,from:65,to:90},{type:Gt.types.RANGE,from:48,to:57}],jJ=()=>[{type:Gt.types.CHAR,value:9},{type:Gt.types.CHAR,value:10},{type:Gt.types.CHAR,value:11},{type:Gt.types.CHAR,value:12},{type:Gt.types.CHAR,value:13},{type:Gt.types.CHAR,value:32},{type:Gt.types.CHAR,value:160},{type:Gt.types.CHAR,value:5760},{type:Gt.types.RANGE,from:8192,to:8202},{type:Gt.types.CHAR,value:8232},{type:Gt.types.CHAR,value:8233},{type:Gt.types.CHAR,value:8239},{type:Gt.types.CHAR,value:8287},{type:Gt.types.CHAR,value:12288},{type:Gt.types.CHAR,value:65279}],xQe=()=>[{type:Gt.types.CHAR,value:10},{type:Gt.types.CHAR,value:13},{type:Gt.types.CHAR,value:8232},{type:Gt.types.CHAR,value:8233}];Wn.words=()=>({type:Gt.types.SET,set:qJ(),not:!1});Wn.notWords=()=>({type:Gt.types.SET,set:qJ(),not:!0});Wn.ints=()=>({type:Gt.types.SET,set:UJ(),not:!1});Wn.notInts=()=>({type:Gt.types.SET,set:UJ(),not:!0});Wn.whitespace=()=>({type:Gt.types.SET,set:jJ(),not:!1});Wn.notWhitespace=()=>({type:Gt.types.SET,set:jJ(),not:!0});Wn.anyChar=()=>({type:Gt.types.SET,set:xQe(),not:!0})});var zJ=I(xi=>{"use strict";var vQe=xi&&xi.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_Qe=xi&&xi.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),IQe=xi&&xi.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&vQe(t,e,r);return _Qe(t,e),t};Object.defineProperty(xi,"__esModule",{value:!0});xi.tokenizeClass=xi.strToChars=void 0;var HJ=Oo(),Vf=IQe(qE()),CQe="@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?";xi.strToChars=e=>{let t=/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|c([@A-Z[\\\]^?])|([0tnvfr]))/g;return e.replace(t,(r,n,s,i,a,o,c)=>{if(s)return r;let u=n?8:i?parseInt(i,16):a?parseInt(a,16):o?CQe.indexOf(o):{0:0,t:9,n:10,v:11,f:12,r:13}[c],l=String.fromCharCode(u);return/[[\]{}^$.|?*+()]/.test(l)?`\\${l}`:l})};xi.tokenizeClass=(e,t)=>{var r,n,s,i,a,o,c;let u=[],l,d,f=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(((?:\\)])|(((?:\\)?([^\]])))))|(\])|(?:\\)?([^])/g;for(;(l=f.exec(e))!==null;){let h=(c=(o=(a=(i=(s=(n=(r=l[1]&&Vf.words())!==null&&r!==void 0?r:l[2]&&Vf.ints())!==null&&n!==void 0?n:l[3]&&Vf.whitespace())!==null&&s!==void 0?s:l[4]&&Vf.notWords())!==null&&i!==void 0?i:l[5]&&Vf.notInts())!==null&&a!==void 0?a:l[6]&&Vf.notWhitespace())!==null&&o!==void 0?o:l[7]&&{type:HJ.types.RANGE,from:(l[8]||l[9]).charCodeAt(0),to:(d=l[10]).charCodeAt(d.length-1)})!==null&&c!==void 0?c:(d=l[16])&&{type:HJ.types.CHAR,value:d.charCodeAt(0)};if(h)u.push(h);else return[u,f.lastIndex]}throw new SyntaxError(`Invalid regular expression: /${t}/: Unterminated character class`)}});var AN=I(Ma=>{"use strict";var wQe=Ma&&Ma.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),SQe=Ma&&Ma.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),VJ=Ma&&Ma.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&wQe(t,e,r);return SQe(t,e),t};Object.defineProperty(Ma,"__esModule",{value:!0});Ma.tokenizer=void 0;var GJ=VJ(zJ()),Nn=Oo(),Tl=VJ(qE());Ma.tokenizer=e=>{let t=0,r,n={type:Nn.types.ROOT,stack:[]},s=n,i=n.stack,a=[],o=[],c=0,u=d=>{throw new SyntaxError(`Invalid regular expression: /${e}/: Nothing to repeat at column ${d-1}`)},l=GJ.strToChars(e);for(;t<l.length;)switch(r=l[t++]){case"\\":if(t===l.length)throw new SyntaxError(`Invalid regular expression: /${e}/: \\ at end of pattern`);switch(r=l[t++]){case"b":i.push({type:Nn.types.POSITION,value:"b"});break;case"B":i.push({type:Nn.types.POSITION,value:"B"});break;case"w":i.push(Tl.words());break;case"W":i.push(Tl.notWords());break;case"d":i.push(Tl.ints());break;case"D":i.push(Tl.notInts());break;case"s":i.push(Tl.whitespace());break;case"S":i.push(Tl.notWhitespace());break;default:if(/\d/.test(r)){let d=r;for(;t<l.length&&/\d/.test(l[t]);)d+=l[t++];let f=parseInt(d,10),h={type:Nn.types.REFERENCE,value:f};i.push(h),o.push({reference:h,stack:i,index:i.length-1})}else i.push({type:Nn.types.CHAR,value:r.charCodeAt(0)})}break;case"^":i.push({type:Nn.types.POSITION,value:"^"});break;case"$":i.push({type:Nn.types.POSITION,value:"$"});break;case"[":{let d;l[t]==="^"?(d=!0,t++):d=!1;let f=GJ.tokenizeClass(l.slice(t),e);t+=f[1],i.push({type:Nn.types.SET,set:f[0],not:d});break}case".":i.push(Tl.anyChar());break;case"(":{let d={type:Nn.types.GROUP,stack:[],remember:!0};if(l[t]==="?"){if(r=l[t+1],t+=2,r==="=")d.followedBy=!0;else if(r==="!")d.notFollowedBy=!0;else if(r!==":")throw new SyntaxError(`Invalid regular expression: /${e}/: Invalid group, character '${r}' after '?' at column ${t-1}`);d.remember=!1}else c+=1;i.push(d),a.push(s),s=d,i=d.stack;break}case")":if(a.length===0)throw new SyntaxError(`Invalid regular expression: /${e}/: Unmatched ) at column ${t-1}`);s=a.pop(),i=s.options?s.options[s.options.length-1]:s.stack;break;case"|":{s.options||(s.options=[s.stack],delete s.stack);let d=[];s.options.push(d),i=d;break}case"{":{let d=/^(\d+)(,(\d+)?)?\}/.exec(l.slice(t)),f,h;d!==null?(i.length===0&&u(t),f=parseInt(d[1],10),h=d[2]?d[3]?parseInt(d[3],10):1/0:f,t+=d[0].length,i.push({type:Nn.types.REPETITION,min:f,max:h,value:i.pop()})):i.push({type:Nn.types.CHAR,value:123});break}case"?":i.length===0&&u(t),i.push({type:Nn.types.REPETITION,min:0,max:1,value:i.pop()});break;case"+":i.length===0&&u(t),i.push({type:Nn.types.REPETITION,min:1,max:1/0,value:i.pop()});break;case"*":i.length===0&&u(t),i.push({type:Nn.types.REPETITION,min:0,max:1/0,value:i.pop()});break;default:i.push({type:Nn.types.CHAR,value:r.charCodeAt(0)})}if(a.length!==0)throw new SyntaxError(`Invalid regular expression: /${e}/: Unterminated group`);return TQe(o,c),n};function TQe(e,t){for(let r of e.reverse())if(t<r.reference.value){r.reference.type=Nn.types.CHAR;let n=r.reference.value.toString();if(r.reference.value=parseInt(n,8),!/^[0-7]+$/.test(n)){let s=0;for(;n[s]!=="8"&&n[s]!=="9";)s+=1;if(s===0?(r.reference.value=n.charCodeAt(0),s+=1):r.reference.value=parseInt(n.slice(0,s),8),n.length>s){let i=r.stack.splice(r.index+1);for(let a of n.slice(s))r.stack.push({type:Nn.types.CHAR,value:a.charCodeAt(0)});r.stack.push(...i)}}}}});var YJ=I(Jn=>{"use strict";var BQe=Jn&&Jn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),RQe=Jn&&Jn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),NQe=Jn&&Jn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&BQe(t,e,r);return RQe(t,e),t};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.NOTANYCHAR=Jn.WHITESPACE=Jn.WORDS=Jn.INTS=void 0;var jE=NQe(qE()),KJ=Oo();function HE(e){let t={},r=0;for(let n of e)n.type===KJ.types.CHAR&&(t[n.value]=!0),n.type===KJ.types.RANGE&&(t[`${n.from}-${n.to}`]=!0),r+=1;return{lookup:()=>Object.assign({},t),len:r}}Jn.INTS=HE(jE.ints().set);Jn.WORDS=HE(jE.words().set);Jn.WHITESPACE=HE(jE.whitespace().set);Jn.NOTANYCHAR=HE(jE.anyChar().set)});var JJ=I(vi=>{"use strict";var kQe=vi&&vi.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),DQe=vi&&vi.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),PQe=vi&&vi.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&kQe(t,e,r);return DQe(t,e),t};Object.defineProperty(vi,"__esModule",{value:!0});vi.writeSetTokens=vi.setChar=void 0;var KE=Oo(),zE=PQe(YJ());function VE(e){return e===94?"\\^":e===92?"\\\\":e===93?"\\]":e===45?"\\-":String.fromCharCode(e)}vi.setChar=VE;function GE(e,{lookup:t,len:r}){if(r!==e.length)return!1;let n=t();for(let s of e){if(s.type===KE.types.SET)return!1;let i=s.type===KE.types.CHAR?s.value:`${s.from}-${s.to}`;if(n[i])n[i]=!1;else return!1}return!0}function WJ(e,t=!1){if(GE(e.set,zE.INTS))return e.not?"\\D":"\\d";if(GE(e.set,zE.WORDS))return e.not?"\\W":"\\w";if(e.not&&GE(e.set,zE.NOTANYCHAR))return".";if(GE(e.set,zE.WHITESPACE))return e.not?"\\S":"\\s";let r="";for(let s=0;s<e.set.length;s++){let i=e.set[s];r+=OQe(i)}let n=`${e.not?"^":""}${r}`;return t?n:`[${n}]`}vi.writeSetTokens=WJ;function OQe(e){return e.type===KE.types.CHAR?VE(e.value):e.type===KE.types.RANGE?`${VE(e.from)}-${VE(e.to)}`:WJ(e,!0)}});var bN=I(Kf=>{"use strict";Object.defineProperty(Kf,"__esModule",{value:!0});Kf.reconstruct=void 0;var zc=Oo(),yN=JJ(),XJ=e=>e.map(Kf.reconstruct).join(""),ZJ=e=>{if("options"in e)return e.options.map(XJ).join("|");if("stack"in e)return XJ(e.stack);throw new Error("options or stack must be Root or Group token")};Kf.reconstruct=e=>{switch(e.type){case zc.types.ROOT:return ZJ(e);case zc.types.CHAR:{let t=String.fromCharCode(e.value);return(/[[\\{}$^.|?*+()]/.test(t)?"\\":"")+t}case zc.types.POSITION:return e.value==="^"||e.value==="$"?e.value:`\\${e.value}`;case zc.types.REFERENCE:return`\\${e.value}`;case zc.types.SET:return yN.writeSetTokens(e);case zc.types.GROUP:return`(${e.remember?"":e.followedBy?"?=":e.notFollowedBy?"?!":"?:"}${ZJ(e)})`;case zc.types.REPETITION:{let{min:t,max:r}=e,n;return t===0&&r===1?n="?":t===1&&r===1/0?n="+":t===0&&r===1/0?n="*":r===1/0?n=`{${t},}`:t===r?n=`{${t}}`:n=`{${t},${r}}`,`${Kf.reconstruct(e.value)}${n}`}case zc.types.RANGE:return`${yN.setChar(e.from)}-${yN.setChar(e.to)}`;default:throw new Error(`Invalid token type ${e}`)}}});var rX=I((_i,YE)=>{"use strict";var $Qe=_i&&_i.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),EN=_i&&_i.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&$Qe(t,e,r)};Object.defineProperty(_i,"__esModule",{value:!0});_i.types=void 0;var eX=Oo();Object.defineProperty(_i,"types",{enumerable:!0,get:function(){return eX.types}});EN(AN(),_i);EN(bN(),_i);var tX=AN(),LQe=bN();EN(Oo(),_i);_i.default=tX.tokenizer;YE.exports=tX.tokenizer;YE.exports.types=eX.types;YE.exports.reconstruct=LQe.reconstruct});var sX=I((Hht,WE)=>{"use strict";var nX=rX(),MQe=nX.types;function xN(e,t){t||(t={});let r=t.limit===void 0?25:t.limit;FQe(e)?e=e.source:typeof e!="string"&&(e=String(e));try{e=nX(e)}catch{return!1}let n=0;return function s(i,a){let o,c,u;if(i.type===MQe.REPETITION&&(a++,n++,a>1||n>r))return!1;if(i.options){for(o=0,u=i.options.length;o<u;o++)if(c=s({stack:i.options[o]},a),!c)return!1}let l=i.stack||i.value&&i.value.stack;if(!l)return!0;for(o=0;o<l.length;o++)if(c=s(l[o],a),!c)return!1;return!0}(e,0)}function FQe(e){return{}.toString.call(e)==="[object RegExp]"}WE.exports=xN;WE.exports.default=xN;WE.exports.safeRegex=xN});var JE=I((zht,iX)=>{"use strict";iX.exports={name:"__fmw_internal_strategy_merged_tree_http_method__",storage:function(){let e={};return{get:t=>e[t]||null,set:(t,r)=>{e[t]=r}}},deriveConstraint:e=>e.method,mustMatchWhenDerived:!0}});var fX=I((Ght,dX)=>{"use strict";var aX=oi(),oX=JE(),cX=Symbol("treeData");function uX(e,t=""){let r="",n=Object.keys(e);for(let s=0;s<n.length;s++){let i=n[s],a=e[i],o=s===n.length-1,c=o?"\u2514\u2500\u2500 ":"\u251C\u2500\u2500 ",u=o?"    ":"\u2502   ",d=(a[cX]||"").split(`
`).join(`
`+t+u);r+=t+c+i+d+`
`,r+=uX(a,t+u)}return r}function QQe(e){let t=e.name||"";return t=t.replace("bound","").trim(),t=(t||"anonymous")+"()",t}function lX(e){return Array.isArray(e)?e.map(t=>lX(t)):typeof e=="symbol"?e.toString():typeof e=="function"?QQe(e):e}function UQe(e,t){if(!t.includeMeta)return{};let r=t.buildPrettyMeta(e),n={},s=t.includeMeta;Array.isArray(s)||(s=Reflect.ownKeys(r));for(let i of s){if(!Object.prototype.hasOwnProperty.call(r,i))continue;let a=i.toString(),o=r[i];if(o!=null){let c=JSON.stringify(lX(o));n[a]=c}}return n}function qQe(e){let t="";for(let[r,n]of Object.entries(e))t+=`
\u2022 (${r}) ${n}`;return t}function jQe(e){let t={...e.opts.constraints},r=t[oX.name];return delete t[oX.name],{...e,method:r,opts:{constraints:t}}}function HQe(e){let t=` (${e.method})`,r=e.opts.constraints||{};return Object.keys(r).length!==0&&(t+=" "+JSON.stringify(r)),t+=qQe(e.metaData),t}function zQe(e){return e.reduce((t,r)=>{for(let n of t)if(aX(r.opts.constraints,n.opts.constraints)&&aX(r.metaData,n.metaData))return n.method+=", "+r.method,t;return t.push(r),t},[])}function GQe(e,t,r){let n=e.routes;return r.method===void 0&&(n=n.map(jQe)),n=n.map(s=>(s.metaData=UQe(s,r),s)),r.method===void 0&&(n=zQe(n)),n.map(HQe).join(`
${t}`)}function XE(e,t,r,n){if((e.isLeafNode||n.commonPrefix!==!1)&&(r=r||"(empty root node)",t=t[r]={},e.isLeafNode&&(t[cX]=GQe(e,r,n)),r=""),e.staticChildren)for(let s of Object.values(e.staticChildren))XE(s,t,r+s.prefix,n);if(e.parametricChildren)for(let s of Object.values(e.parametricChildren)){let i=Array.from(s.nodePaths).join("|");XE(s,t,r+i,n)}e.wildcardChild&&XE(e.wildcardChild,t,"*",n)}function VQe(e,t){let r={};return XE(e,r,e.prefix,t),uX(r)}dX.exports={prettyPrintTree:VQe}});var hX=I((Vht,pX)=>{"use strict";var KQe=JE(),vN=class{constructor(){this.unconstrainedHandler=null,this.constraints=[],this.handlers=[],this.constrainedHandlerStores=null}getMatchingHandler(t){return t===void 0?this.unconstrainedHandler:this._getHandlerMatchingConstraints(t)}addHandler(t,r){let n=r.params,s=r.opts.constraints||{},i={params:n,constraints:s,handler:r.handler,store:r.store||null,_createParamsObject:this._compileCreateParamsObject(n)},a=Object.keys(s);a.length===0&&(this.unconstrainedHandler=i);for(let c of a)this.constraints.includes(c)||(c==="version"?this.constraints.unshift(c):this.constraints.push(c));let o=a.includes(KQe.name);if(!o&&this.handlers.length>=31)throw new Error("find-my-way supports a maximum of 31 route handlers per node when there are constraints, limit reached");this.handlers.push(i),this.handlers.sort((c,u)=>Object.keys(c.constraints).length-Object.keys(u.constraints).length),o||this._compileGetHandlerMatchingConstraints(t,s)}_compileCreateParamsObject(t){let r=[];for(let n=0;n<t.length;n++)r.push(`'${t[n]}': paramsArray[${n}]`);return new Function("paramsArray",`return {${r.join(",")}}`)}_getHandlerMatchingConstraints(){return null}_buildConstraintStore(t,r){for(let n=0;n<this.handlers.length;n++){let i=this.handlers[n].constraints[r];if(i!==void 0){let a=t.get(i)||0;a|=1<<n,t.set(i,a)}}}_constrainedIndexBitmask(t){let r=0;for(let n=0;n<this.handlers.length;n++)this.handlers[n].constraints[t]!==void 0&&(r|=1<<n);return~r}_compileGetHandlerMatchingConstraints(t){this.constrainedHandlerStores={};for(let n of this.constraints){let s=t.newStoreForConstraint(n);this.constrainedHandlerStores[n]=s,this._buildConstraintStore(s,n)}let r=[];r.push(`
    let candidates = ${(1<<this.handlers.length)-1}
    let mask, matches
    `);for(let n of this.constraints){r.push(`
      mask = ${this._constrainedIndexBitmask(n)}
      value = derivedConstraints.${n}
      `);let i=t.strategies[n].mustMatchWhenDerived?"matches":"(matches | mask)";r.push(`
      if (value === undefined) {
        candidates &= mask
      } else {
        matches = this.constrainedHandlerStores.${n}.get(value) || 0
        candidates &= ${i}
      }
      if (candidates === 0) return null;
      `)}for(let n in t.strategies)t.strategies[n].mustMatchWhenDerived&&!this.constraints.includes(n)&&r.push(`if (derivedConstraints.${n} !== undefined) return null`);r.push("return this.handlers[Math.floor(Math.log2(candidates))]"),this._getHandlerMatchingConstraints=new Function("derivedConstraints",r.join(`
`))}};pX.exports=vN});var gX=I((Kht,mX)=>{"use strict";var YQe=hX(),sx={STATIC:0,PARAMETRIC:1,WILDCARD:2},ZE=class{constructor(){this.isLeafNode=!1,this.routes=null,this.handlerStorage=null}addRoute(t,r){this.routes===null&&(this.routes=[]),this.handlerStorage===null&&(this.handlerStorage=new YQe),this.isLeafNode=!0,this.routes.push(t),this.handlerStorage.addHandler(r,t)}},ex=class extends ZE{constructor(){super(),this.staticChildren={}}findStaticMatchingChild(t,r){let n=this.staticChildren[t.charAt(r)];return n===void 0||!n.matchPrefix(t,r)?null:n}getStaticChild(t,r=0){if(t.length===r)return this;let n=this.findStaticMatchingChild(t,r);return n?n.getStaticChild(t,r+n.prefix.length):null}createStaticChild(t){if(t.length===0)return this;let r=this.staticChildren[t.charAt(0)];if(r){let s=1;for(;s<r.prefix.length;s++)if(t.charCodeAt(s)!==r.prefix.charCodeAt(s)){r=r.split(this,s);break}return r.createStaticChild(t.slice(s))}let n=t.charAt(0);return this.staticChildren[n]=new tx(t),this.staticChildren[n]}},tx=class e extends ex{constructor(t){super(),this.prefix=t,this.wildcardChild=null,this.parametricChildren=[],this.kind=sx.STATIC,this._compilePrefixMatch()}getParametricChild(t){let r=t&&t.source,n=this.parametricChildren.find(s=>(s.regex&&s.regex.source)===r);return n||null}createParametricChild(t,r,n){let s=this.getParametricChild(t);return s?(s.nodePaths.add(n),s):(s=new rx(t,r,n),this.parametricChildren.push(s),this.parametricChildren.sort((i,a)=>i.isRegex?a.isRegex?i.staticSuffix===null?1:a.staticSuffix===null?-1:a.staticSuffix.endsWith(i.staticSuffix)?1:i.staticSuffix.endsWith(a.staticSuffix)?-1:0:-1:1),s)}getWildcardChild(){return this.wildcardChild}createWildcardChild(){return this.wildcardChild=this.getWildcardChild()||new nx,this.wildcardChild}split(t,r){let n=this.prefix.slice(0,r),s=this.prefix.slice(r);this.prefix=s,this._compilePrefixMatch();let i=new e(n);return i.staticChildren[s.charAt(0)]=this,t.staticChildren[n.charAt(0)]=i,i}getNextNode(t,r,n,s){let i=this.findStaticMatchingChild(t,r),a=0;if(i===null){if(this.parametricChildren.length===0)return this.wildcardChild;i=this.parametricChildren[0],a=1}this.wildcardChild!==null&&n.push({paramsCount:s,brotherPathIndex:r,brotherNode:this.wildcardChild});for(let o=this.parametricChildren.length-1;o>=a;o--)n.push({paramsCount:s,brotherPathIndex:r,brotherNode:this.parametricChildren[o]});return i}_compilePrefixMatch(){if(this.prefix.length===1){this.matchPrefix=()=>!0;return}let t=[];for(let r=1;r<this.prefix.length;r++){let n=this.prefix.charCodeAt(r);t.push(`path.charCodeAt(i + ${r}) === ${n}`)}this.matchPrefix=new Function("path","i",`return ${t.join(" && ")}`)}},rx=class extends ex{constructor(t,r,n){super(),this.isRegex=!!t,this.regex=t||null,this.staticSuffix=r||null,this.kind=sx.PARAMETRIC,this.nodePaths=new Set([n])}getNextNode(t,r){return this.findStaticMatchingChild(t,r)}},nx=class extends ZE{constructor(){super(),this.kind=sx.WILDCARD}getNextNode(){return null}};mX.exports={StaticNode:tx,ParametricNode:rx,WildcardNode:nx,NODE_TYPES:sx}});var yX=I((Yht,AX)=>{"use strict";var WQe=require("node:assert");function Dm(){if(!(this instanceof Dm))return new Dm;this.store={},this.maxMajor=0,this.maxMinors={},this.maxPatches={}}Dm.prototype.set=function(e,t){if(typeof e!="string")throw new TypeError("Version should be a string");let[r,n,s]=e.split(".");if(isNaN(r))throw new TypeError("Major version must be a numeric value");return r=Number(r),n=Number(n)||0,s=Number(s)||0,r>=this.maxMajor&&(this.maxMajor=r,this.store.x=t,this.store["*"]=t,this.store["x.x"]=t,this.store["x.x.x"]=t),n>=(this.maxMinors[r]||0)&&(this.maxMinors[r]=n,this.store[`${r}.x`]=t,this.store[`${r}.x.x`]=t),s>=(this.maxPatches[`${r}.${n}`]||0)&&(this.maxPatches[`${r}.${n}`]=s,this.store[`${r}.${n}.x`]=t),this.store[`${r}.${n}.${s}`]=t,this};Dm.prototype.get=function(e){return this.store[e]};AX.exports={name:"version",mustMatchWhenDerived:!0,storage:Dm,validate(e){WQe(typeof e=="string","Version should be a string")}}});var EX=I((Wht,bX)=>{"use strict";var JQe=require("node:assert");function XQe(){let e={},t=[];return{get:r=>{let n=e[r];if(n)return n;for(let s of t)if(s.host.test(r))return s.value},set:(r,n)=>{r instanceof RegExp?t.push({host:r,value:n}):e[r]=n}}}bX.exports={name:"host",mustMatchWhenDerived:!1,storage:XQe,validate(e){JQe(typeof e=="string"||Object.prototype.toString.call(e)==="[object RegExp]","Host should be a string or a RegExp")}}});var vX=I((Jht,xX)=>{"use strict";var ZQe=yX(),eUe=EX(),_N=require("node:assert"),IN=class{constructor(t){if(this.strategies={version:ZQe,host:eUe},this.strategiesInUse=new Set,this.asyncStrategiesInUse=new Set,t)for(let r of Object.values(t))this.addConstraintStrategy(r)}isStrategyUsed(t){return this.strategiesInUse.has(t)||this.asyncStrategiesInUse.has(t)}hasConstraintStrategy(t){let r=this.strategies[t];return r!==void 0?r.isCustom||this.isStrategyUsed(t):!1}addConstraintStrategy(t){if(_N(typeof t.name=="string"&&t.name!=="","strategy.name is required."),_N(t.storage&&typeof t.storage=="function","strategy.storage function is required."),_N(t.deriveConstraint&&typeof t.deriveConstraint=="function","strategy.deriveConstraint function is required."),this.strategies[t.name]&&this.strategies[t.name].isCustom)throw new Error(`There already exists a custom constraint with the name ${t.name}.`);if(this.isStrategyUsed(t.name))throw new Error(`There already exists a route with ${t.name} constraint.`);t.isCustom=!0,t.isAsync=t.deriveConstraint.length===3,this.strategies[t.name]=t,t.mustMatchWhenDerived&&this.noteUsage({[t.name]:t})}deriveConstraints(t,r,n){let s=this.deriveSyncConstraints(t,r);if(n===void 0)return s;this.deriveAsyncConstraints(s,t,r,n)}deriveSyncConstraints(t,r){}noteUsage(t){if(t){let r=this.strategiesInUse.size;for(let n in t)this.strategies[n].isAsync?this.asyncStrategiesInUse.add(n):this.strategiesInUse.add(n);r!==this.strategiesInUse.size&&this._buildDeriveConstraints()}}newStoreForConstraint(t){if(!this.strategies[t])throw new Error(`No strategy registered for constraint key ${t}`);return this.strategies[t].storage()}validateConstraints(t){for(let r in t){let n=t[r];if(typeof n>"u")throw new Error("Can't pass an undefined constraint value, must pass null or no key at all");let s=this.strategies[r];if(!s)throw new Error(`No strategy registered for constraint key ${r}`);s.validate&&s.validate(n)}}deriveAsyncConstraints(t,r,n,s){let i=this.asyncStrategiesInUse.size;if(i===0){s(null,t);return}t=t||{};for(let a of this.asyncStrategiesInUse)this.strategies[a].deriveConstraint(r,n,(c,u)=>{if(c!==null){s(c);return}t[a]=u,--i===0&&s(null,t)})}_buildDeriveConstraints(){if(this.strategiesInUse.size===0)return;let t=["return {"];for(let r of this.strategiesInUse){let n=this.strategies[r];n.isCustom?t.push(`  ${n.name}: this.strategies.${r}.deriveConstraint(req, ctx),`):r==="version"?t.push("   version: req.headers['accept-version'],"):t.push("   host: req.headers.host || req.headers[':authority'],")}t.push("}"),this.deriveSyncConstraints=new Function("req","ctx",t.join(`
`)).bind(this)}};xX.exports=IN});var IX=I((Xht,_X)=>{"use strict";var tUe=["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"];_X.exports=tUe});var SX=I((Zht,wX)=>{"use strict";function CX(e,t){return e===50?t===53?"%":t===51?"#":t===52?"$":t===54?"&":t===66||t===98?"+":t===67||t===99?",":t===70||t===102?"/":null:e===51?t===65||t===97?":":t===66||t===98?";":t===68||t===100?"=":t===70||t===102?"?":null:e===52&&t===48?"@":null}function rUe(e,t){let r=!1,n=!1,s="";for(let a=1;a<e.length;a++){let o=e.charCodeAt(a);if(o===37){let c=e.charCodeAt(a+1),u=e.charCodeAt(a+2);CX(c,u)===null?r=!0:(n=!0,c===50&&u===53&&(r=!0,e=e.slice(0,a+1)+"25"+e.slice(a+1),a+=2),a+=2)}else if(o===63||o===35||o===59&&t){s=e.slice(a+1),e=e.slice(0,a);break}}return{path:r?decodeURI(e):e,querystring:s,shouldDecodeParam:n}}function nUe(e){let t=e.indexOf("%");if(t===-1)return e;let r="",n=t;for(let s=t;s<e.length;s++)if(e.charCodeAt(s)===37){let i=e.charCodeAt(s+1),a=e.charCodeAt(s+2),o=CX(i,a);r+=e.slice(n,s)+o,n=s+3}return e.slice(0,t)+r+e.slice(n)}wX.exports={safeDecodeURI:rUe,safeDecodeURIComponent:nUe}});var BN=I((emt,OX)=>{"use strict";var Hr=require("node:assert"),sUe=OJ(),ix=sX(),wN=oi(),{prettyPrintTree:iUe}=fX(),{StaticNode:TX,NODE_TYPES:BX}=gX(),aUe=vX(),Yf=IX(),CN=JE(),{safeDecodeURI:oUe,safeDecodeURIComponent:RX}=SX(),NX=/^https?:\/\/.*?\//,Bl=/(\/:[^/()]*?)\?(\/?)/;if(!ix(NX))throw new Error("the FULL_PATH_REGEXP is not safe, update this module");if(!ix(Bl))throw new Error("the OPTIONAL_PARAM_REGEXP is not safe, update this module");function Nr(e){if(!(this instanceof Nr))return new Nr(e);e=e||{},this._opts=e,e.defaultRoute?(Hr(typeof e.defaultRoute=="function","The default route must be a function"),this.defaultRoute=e.defaultRoute):this.defaultRoute=null,e.onBadUrl?(Hr(typeof e.onBadUrl=="function","The bad url handler must be a function"),this.onBadUrl=e.onBadUrl):this.onBadUrl=null,e.buildPrettyMeta?(Hr(typeof e.buildPrettyMeta=="function","buildPrettyMeta must be a function"),this.buildPrettyMeta=e.buildPrettyMeta):this.buildPrettyMeta=cUe,e.querystringParser?(Hr(typeof e.querystringParser=="function","querystringParser must be a function"),this.querystringParser=e.querystringParser):this.querystringParser=t=>t===""?{}:sUe.parse(t),this.caseSensitive=e.caseSensitive===void 0?!0:e.caseSensitive,this.ignoreTrailingSlash=e.ignoreTrailingSlash||!1,this.ignoreDuplicateSlashes=e.ignoreDuplicateSlashes||!1,this.maxParamLength=e.maxParamLength||100,this.allowUnsafeRegex=e.allowUnsafeRegex||!1,this.constrainer=new aUe(e.constraints),this.useSemicolonDelimiter=e.useSemicolonDelimiter||!1,this.routes=[],this.trees={}}Nr.prototype.on=function(t,r,n,s,i){typeof n=="function"&&(s!==void 0&&(i=s),s=n,n={}),Hr(typeof r=="string","Path should be a string"),Hr(r.length>0,"The path could not be empty"),Hr(r[0]==="/"||r[0]==="*","The first character of a path should be `/` or `*`"),Hr(typeof s=="function","Handler should be a function");let a=r.match(Bl);if(a){Hr(r.length===a.index+a[0].length,"Optional Parameter needs to be the last parameter of the path");let u=r.replace(Bl,"$1$2"),l=r.replace(Bl,"$2")||"/";this.on(t,u,n,s,i),this.on(t,l,n,s,i);return}let o=r;this.ignoreDuplicateSlashes&&(r=SN(r)),this.ignoreTrailingSlash&&(r=TN(r));let c=Array.isArray(t)?t:[t];for(let u of c)Hr(typeof u=="string","Method should be a string"),Hr(Yf.includes(u),`Method '${u}' is not an http method.`),this._on(u,r,n,s,i,o)};Nr.prototype._on=function(t,r,n,s,i){let a={};n.constraints!==void 0&&(Hr(typeof n.constraints=="object"&&n.constraints!==null,"Constraints should be an object"),Object.keys(n.constraints).length!==0&&(a=n.constraints)),this.constrainer.validateConstraints(a),this.constrainer.noteUsage(a),this.trees[t]===void 0&&(this.trees[t]=new TX("/"));let o=r;if(o==="*"&&this.trees[t].prefix.length!==0){let f=this.trees[t];this.trees[t]=new TX(""),this.trees[t].staticChildren["/"]=f}let c=this.trees[t],u=c.prefix.length,l=[];for(let f=0;f<=o.length;f++){if(o.charCodeAt(f)===58&&o.charCodeAt(f+1)===58){f++;continue}let h=o.charCodeAt(f)===58&&o.charCodeAt(f+1)!==58,p=o.charCodeAt(f)===42;if(h||p||f===o.length&&f!==u){let m=o.slice(u,f);this.caseSensitive||(m=m.toLowerCase()),m=m.split("::").join(":"),m=m.split("%").join("%25"),c=c.createStaticChild(m)}if(h){let m=!1,A=!0,g="",x=[],y=f+1;for(let b=y;;b++){let _=o.charCodeAt(b),C=_===40,w=_===45||_===46,S=_===47||b===o.length;if(C||w||S){let T=o.slice(y,b);if(l.push(T),m=m||C||w,C){let N=PX(o,b),D=o.slice(b,N+1);this.allowUnsafeRegex||Hr(ix(new RegExp(D)),`The regex '${D}' is not safe!`),x.push(DX(D)),b=N+1,A=!0}else x.push(A?"(.*?)":`(${g}|(?:(?!${g}).)*)`),A=!1;let R=b;for(;b<o.length;b++){let N=o.charCodeAt(b);if(N===47)break;if(N===58)if(o.charCodeAt(b+1)===58)b++;else break}let P=o.slice(R,b);if(P&&(P=P.split("::").join(":"),P=P.split("%").join("%25"),x.push(g=kX(P))),y=b+1,S||o.charCodeAt(b)===47||b===o.length){let N=m?"()"+P:P,D=o.slice(f,b);o=o.slice(0,f+1)+N+o.slice(b),f+=N.length;let k=m?new RegExp("^"+x.join("")+"$"):null;c=c.createParametricChild(k,P||null,D),u=f+1;break}}}}else if(p&&(l.push("*"),c=c.createWildcardChild(),u=f+1,f!==o.length-1))throw new Error("Wildcard must be the last character in the route")}this.caseSensitive||(o=o.toLowerCase()),o==="*"&&(o="/*");for(let f of this.routes){let h=f.opts.constraints||{};if(f.method===t&&f.pattern===o&&wN(h,a))throw new Error(`Method '${t}' already declared for route '${o}' with constraints '${JSON.stringify(a)}'`)}let d={method:t,path:r,pattern:o,params:l,opts:n,handler:s,store:i};this.routes.push(d),c.addRoute(d,this.constrainer)};Nr.prototype.hasRoute=function(t,r,n){return this.findRoute(t,r,n)!==null};Nr.prototype.findRoute=function(t,r,n={}){if(this.trees[t]===void 0)return null;let s=r,i=this.trees[t],a=i.prefix.length,o=[];for(let c=0;c<=s.length;c++){if(s.charCodeAt(c)===58&&s.charCodeAt(c+1)===58){c++;continue}let u=s.charCodeAt(c)===58&&s.charCodeAt(c+1)!==58,l=s.charCodeAt(c)===42;if(u||l||c===s.length&&c!==a){let d=s.slice(a,c);if(this.caseSensitive||(d=d.toLowerCase()),d=d.split("::").join(":"),d=d.split("%").join("%25"),i=i.getStaticChild(d),i===null)return null}if(u){let d=!1,f=!0,h="",p=[],m=c+1;for(let A=m;;A++){let g=s.charCodeAt(A),x=g===40,y=g===45||g===46,b=g===47||A===s.length;if(x||y||b){let _=s.slice(m,A);if(o.push(_),d=d||x||y,x){let S=PX(s,A),T=s.slice(A,S+1);this.allowUnsafeRegex||Hr(ix(new RegExp(T)),`The regex '${T}' is not safe!`),p.push(DX(T)),A=S+1,f=!1}else p.push(f?"(.*?)":`(${h}|(?:(?!${h}).)*)`),f=!1;let C=A;for(;A<s.length;A++){let S=s.charCodeAt(A);if(S===47)break;if(S===58)if(s.charCodeAt(A+1)===58)A++;else break}let w=s.slice(C,A);if(w&&(w=w.split("::").join(":"),w=w.split("%").join("%25"),p.push(h=kX(w))),m=A+1,b||s.charCodeAt(A)===47||A===s.length){let S=d?"()"+w:w,T=s.slice(c,A);s=s.slice(0,c+1)+S+s.slice(A),c+=S.length;let R=d?new RegExp("^"+p.join("")+"$"):null;if(i=i.getParametricChild(R,w||null,T),i===null)return null;a=c+1;break}}}}else if(l&&(o.push("*"),i=i.getWildcardChild(),a=c+1,c!==s.length-1))throw new Error("Wildcard must be the last character in the route")}this.caseSensitive||(s=s.toLowerCase());for(let c of this.routes){let u=c.opts.constraints||{};if(c.method===t&&c.pattern===s&&wN(u,n))return{handler:c.handler,store:c.store,params:c.params}}return null};Nr.prototype.hasConstraintStrategy=function(e){return this.constrainer.hasConstraintStrategy(e)};Nr.prototype.addConstraintStrategy=function(e){this.constrainer.addConstraintStrategy(e),this._rebuild(this.routes)};Nr.prototype.reset=function(){this.trees={},this.routes=[]};Nr.prototype.off=function(t,r,n){Hr(typeof r=="string","Path should be a string"),Hr(r.length>0,"The path could not be empty"),Hr(r[0]==="/"||r[0]==="*","The first character of a path should be `/` or `*`"),Hr(typeof n>"u"||typeof n=="object"&&!Array.isArray(n)&&n!==null,"Constraints should be an object or undefined.");let s=r.match(Bl);if(s){Hr(r.length===s.index+s[0].length,"Optional Parameter needs to be the last parameter of the path");let a=r.replace(Bl,"$1$2"),o=r.replace(Bl,"$2");this.off(t,a,n),this.off(t,o,n);return}this.ignoreDuplicateSlashes&&(r=SN(r)),this.ignoreTrailingSlash&&(r=TN(r));let i=Array.isArray(t)?t:[t];for(let a of i)this._off(a,r,n)};Nr.prototype._off=function(t,r,n){Hr(typeof t=="string","Method should be a string"),Hr(Yf.includes(t),`Method '${t}' is not an http method.`);function s(c){return t!==c.method||r!==c.path}function i(c){return s(c)||!wN(n,c.opts.constraints||{})}let a=n?i:s,o=this.routes.filter(a);this._rebuild(o)};Nr.prototype.lookup=function(t,r,n,s){if(typeof n=="function"&&(s=n,n=void 0),s===void 0){let i=this.constrainer.deriveConstraints(t,n),a=this.find(t.method,t.url,i);return this.callHandler(a,t,r,n)}this.constrainer.deriveConstraints(t,n,(i,a)=>{if(i!==null){s(i);return}try{let o=this.find(t.method,t.url,a),c=this.callHandler(o,t,r,n);s(null,c)}catch(o){s(o)}})};Nr.prototype.callHandler=function(t,r,n,s){return t===null?this._defaultRoute(r,n,s):s===void 0?t.handler(r,n,t.params,t.store,t.searchParams):t.handler.call(s,r,n,t.params,t.store,t.searchParams)};Nr.prototype.find=function(t,r,n){let s=this.trees[t];if(s===void 0)return null;r.charCodeAt(0)!==47&&(r=r.replace(NX,"/")),this.ignoreDuplicateSlashes&&(r=SN(r));let i,a,o;try{i=oUe(r,this.useSemicolonDelimiter),r=i.path,a=i.querystring,o=i.shouldDecodeParam}catch{return this._onBadUrl(r)}this.ignoreTrailingSlash&&(r=TN(r));let c=r;this.caseSensitive===!1&&(r=r.toLowerCase());let u=this.maxParamLength,l=s.prefix.length,d=[],f=r.length,h=[];for(;;){if(l===f&&s.isLeafNode){let g=s.handlerStorage.getMatchingHandler(n);if(g!==null)return{handler:g.handler,store:g.store,params:g._createParamsObject(d),searchParams:this.querystringParser(a)}}let p=s.getNextNode(r,l,h,d.length);if(p===null){if(h.length===0)return null;let g=h.pop();l=g.brotherPathIndex,d.splice(g.paramsCount),p=g.brotherNode}if(s=p,s.kind===BX.STATIC){l+=s.prefix.length;continue}if(s.kind===BX.WILDCARD){let g=c.slice(l);o&&(g=RX(g)),d.push(g),l=f;continue}let m=c.indexOf("/",l);m===-1&&(m=f);let A=c.slice(l,m);if(o&&(A=RX(A)),s.isRegex){let g=s.regex.exec(A);if(g===null)continue;for(let x=1;x<g.length;x++){let y=g[x];if(y.length>u)return null;d.push(y)}}else{if(A.length>u)return null;d.push(A)}l=m}};Nr.prototype._rebuild=function(e){this.reset();for(let t of e){let{method:r,path:n,opts:s,handler:i,store:a}=t;this._on(r,n,s,i,a)}};Nr.prototype._defaultRoute=function(e,t,r){if(this.defaultRoute!==null)return r===void 0?this.defaultRoute(e,t):this.defaultRoute.call(r,e,t);t.statusCode=404,t.end()};Nr.prototype._onBadUrl=function(e){if(this.onBadUrl===null)return null;let t=this.onBadUrl;return{handler:(r,n,s)=>t(e,r,n),params:{},store:null}};Nr.prototype.prettyPrint=function(e={}){let t=e.method;e.buildPrettyMeta=this.buildPrettyMeta.bind(this);let r=null;if(t===void 0){let{version:n,host:s,...i}=this.constrainer.strategies;i[CN.name]=CN;let a=new Nr({...this._opts,constraints:i}),o=this.routes.map(c=>{let u={...c.opts.constraints,[CN.name]:c.method};return{...c,method:"MERGED",opts:{constraints:u}}});a._rebuild(o),r=a.trees.MERGED}else r=this.trees[t];return r==null?"(empty tree)":iUe(r,e)};for(let e in Yf){if(!Yf.hasOwnProperty(e))continue;let t=Yf[e],r=t.toLowerCase();Nr.prototype[r]=function(n,s,i){return this.on(t,n,s,i)}}Nr.prototype.all=function(e,t,r){this.on(Yf,e,t,r)};OX.exports=Nr;function kX(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function SN(e){return e.replace(/\/\/+/g,"/")}function TN(e){return e.length>1&&e.charCodeAt(e.length-1)===47?e.slice(0,-1):e}function DX(e){return e.charCodeAt(1)===94&&(e=e.slice(0,1)+e.slice(2)),e.charCodeAt(e.length-2)===36&&(e=e.slice(0,e.length-2)+e.slice(e.length-1)),e}function PX(e,t){let r=1;for(;t<e.length;){if(t++,e[t]==="\\"){t++;continue}if(e[t]===")"?r--:e[t]==="("&&r++,!r)return t}throw new TypeError('Invalid regexp expression in "'+e+'"')}function cUe(e){return e?e.store?Object.assign({},e.store):{}:{}}});var LX=I((tmt,$X)=>{"use strict";function RN(e,t,r,n){if(r===void 0)return t.header("content-length","0"),n(null,null);if(typeof r.resume=="function")return r.on("error",i=>{t.log.error({err:i},"Error on Stream found for HEAD route")}),r.resume(),n(null,null);let s=""+Buffer.byteLength(r);t.header("content-length",s),n(null,null)}function uUe(e){return e==null?RN:Array.isArray(e)?[...e,RN]:[e,RN]}$X.exports={parseHeadOnSendHandlers:uUe}});var eZ=I((rmt,ZX)=>{"use strict";var lUe=BN(),dUe=rb(),MX=z2(),{onRequestAbortHookRunner:fUe,lifecycleHooks:FX,preParsingHookRunner:pUe,onTimeoutHookRunner:hUe,onRequestHookRunner:mUe}=lc(),{supportedMethods:gUe}=_T(),{normalizeSchema:AUe}=I0(),{parseHeadOnSendHandlers:yUe}=LX(),{FSTDEP007:bUe,FSTDEP008:EUe,FSTDEP014:QX}=oo(),{compileSchemasForValidation:xUe,compileSchemasForSerialization:vUe}=Q2(),{FST_ERR_SCH_VALIDATION_BUILD:_Ue,FST_ERR_SCH_SERIALIZATION_BUILD:IUe,FST_ERR_DEFAULT_ROUTE_INVALID_TYPE:CUe,FST_ERR_DUPLICATED_ROUTE:wUe,FST_ERR_INVALID_URL:SUe,FST_ERR_HOOK_INVALID_HANDLER:UX,FST_ERR_ROUTE_OPTIONS_NOT_OBJ:TUe,FST_ERR_ROUTE_DUPLICATED_HANDLER:BUe,FST_ERR_ROUTE_HANDLER_NOT_FN:qX,FST_ERR_ROUTE_MISSING_HANDLER:RUe,FST_ERR_ROUTE_METHOD_NOT_SUPPORTED:NUe,FST_ERR_ROUTE_METHOD_INVALID:kUe,FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED:DUe,FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT:PUe,FST_ERR_HOOK_INVALID_ASYNC_HANDLER:NN}=Ln(),{kRoutePrefix:OUe,kLogLevel:$Ue,kLogSerializers:jX,kHooks:HX,kSchemaController:LUe,kOptions:zX,kReplySerializerDefault:kN,kReplyIsError:MUe,kRequestPayloadStream:FUe,kDisableRequestLogging:QUe,kSchemaErrorFormatter:UUe,kErrorHandler:GX,kHasBeenDecorated:VX,kRequestAcceptVersion:DN,kRouteByFastify:PN,kRouteContext:KX}=cn(),{buildErrorHandler:qUe}=rh(),{createChildLogger:jUe}=_0(),{getGenReqId:HUe}=UE();function zUe(e){let t=lUe(e.config),r,n,s,i,a,o,c,u,l,d,f,h,p,m=!1;return{setup(S,T){r=T.avvio,n=T.fourOhFour,s=T.logger,i=T.hasLogger,a=T.setupResponseListeners,o=T.throwIfAlreadyStarted,h=T.validateHTTPVersion,f=S.exposeHeadRoutes,c=S.disableRequestLogging,u=S.ignoreTrailingSlash,l=S.ignoreDuplicateSlashes,d=Object.prototype.hasOwnProperty.call(S,"return503OnClosing")?S.return503OnClosing:!0,p=T.keepAliveConnections},routing:t.lookup.bind(t),route:C,hasRoute:b,prepareRoute:y,getDefaultRoute:function(){return QX(),t.defaultRoute},setDefaultRoute:function(S){if(QX(),typeof S!="function")throw new CUe;t.defaultRoute=S},routeHandler:w,closeRoutes:()=>{m=!0},printRoutes:t.prettyPrint.bind(t),addConstraintStrategy:A,hasConstraintStrategy:g,isAsyncConstraint:x,findRoute:_};function A(S){return o("Cannot add constraint strategy!"),t.addConstraintStrategy(S)}function g(S){return t.hasConstraintStrategy(S)}function x(){return t.constrainer.asyncStrategiesInUse.size>0}function y({method:S,url:T,options:R,handler:P,isFastify:N}){if(typeof T!="string")throw new SUe(typeof T);if(!P&&typeof R=="function")P=R,R={};else if(P&&typeof P=="function"){if(Object.prototype.toString.call(R)!=="[object Object]")throw new TUe(S,T);if(R.handler)throw typeof R.handler=="function"?new BUe(S,T):new qX(S,T)}return R=Object.assign({},R,{method:S,url:T,path:T,handler:P||R&&R.handler}),C.call(this,{options:R,isFastify:N})}function b({options:S}){return _(S)!==null}function _(S){let T=t.find(S.method,S.url||"",S.constraints);return T?{handler:T.handler,params:T.params,searchParams:T.searchParams}:null}function C({options:S,isFastify:T}){let R={...S},{exposeHeadRoute:P}=R,D=P!=null?P:f,k=R.method==="GET"||Array.isArray(R.method)&&R.method.includes("GET"),q=R.method==="HEAD"||Array.isArray(R.method)&&R.method.includes("HEAD"),j=D&&k?{...S}:null;o("Cannot add route!");let G=R.url||R.path||"";if(Array.isArray(R.method))for(var J=0;J<R.method.length;++J)R.method[J]=YX(R.method[J]),WX(R.method[J],G,R.schema);else R.method=YX(R.method),WX(R.method,G,R.schema);if(!R.handler)throw new RUe(R.method,G);if(R.errorHandler!==void 0&&typeof R.errorHandler!="function")throw new qX(R.method,G);XX(R.bodyLimit);let Q=this[OUe];if(G==="/"&&Q.length>0&&R.method!=="HEAD")switch(R.prefixTrailingSlash){case"slash":te.call(this,{path:G,isFastify:T});break;case"no-slash":te.call(this,{path:"",isFastify:T});break;case"both":default:te.call(this,{path:"",isFastify:T}),u!==!0&&(l!==!0||!Q.endsWith("/"))&&te.call(this,{path:G,prefixing:!0,isFastify:T})}else G[0]==="/"&&Q.endsWith("/")?te.call(this,{path:G.slice(1),isFastify:T}):te.call(this,{path:G,isFastify:T});return this;function te({path:ne,prefixing:ee=!1,isFastify:ie=!1}){let Ee=Q+ne;if(R.url=Ee,R.path=Ee,R.routePath=ne,R.prefix=Q,R.logLevel=R.logLevel||this[$Ue],(this[jX]||R.logSerializers)&&(R.logSerializers=Object.assign(Object.create(this[jX]),R.logSerializers)),R.attachValidation==null&&(R.attachValidation=!1),ee===!1)for(let L of this[HX].onRoute)L.call(this,R);for(let L of FX)if(R&&L in R){if(Array.isArray(R[L]))for(let U of R[L]){if(typeof U!="function")throw new UX(L,Object.prototype.toString.call(U));if(L==="onSend"||L==="preSerialization"||L==="onError"||L==="preParsing"){if(U.constructor.name==="AsyncFunction"&&U.length===4)throw new NN}else if(L==="onRequestAbort"){if(U.constructor.name==="AsyncFunction"&&U.length!==1)throw new NN}else if(U.constructor.name==="AsyncFunction"&&U.length===3)throw new NN}else if(R[L]!==void 0&&typeof R[L]!="function")throw new UX(L,Object.prototype.toString.call(R[L]))}let ve=R.constraints||{},Ie={...R.config,url:Ee,method:R.method},xe=new dUe({schema:R.schema,handler:R.handler.bind(this),config:Ie,errorHandler:R.errorHandler,childLoggerFactory:R.childLoggerFactory,bodyLimit:R.bodyLimit,logLevel:R.logLevel,logSerializers:R.logSerializers,attachValidation:R.attachValidation,schemaErrorFormatter:R.schemaErrorFormatter,replySerializer:this[kN],validatorCompiler:R.validatorCompiler,serializerCompiler:R.serializerCompiler,exposeHeadRoute:D,prefixTrailingSlash:R.prefixTrailingSlash||"both",server:this,isFastify:ie});R.version&&(EUe(),ve.version=R.version);let ge=t.findRoute("HEAD",R.url,ve),O=ge!==null;q&&O&&!xe[PN]&&ge.store[PN]&&t.off("HEAD",R.url,ve);try{t.on(R.method,R.url,{constraints:ve},w,xe)}catch(L){if(!xe[PN])throw L.message.includes(`Method '${R.method}' already declared for route '${R.url}'`)?new wUe(R.method,R.url):L}if(this.after((L,U)=>{xe.errorHandler=R.errorHandler?qUe(this[GX],R.errorHandler):this[GX],xe._parserOptions.limit=R.bodyLimit||null,xe.logLevel=R.logLevel,xe.logSerializers=R.logSerializers,xe.attachValidation=R.attachValidation,xe[kN]=this[kN],xe.schemaErrorFormatter=R.schemaErrorFormatter||this[UUe]||xe.schemaErrorFormatter,r.once("preReady",()=>{for(let $ of FX){let F=this[HX][$].concat(R[$]||[]).map(z=>z.bind(this));xe[$]=F.length?F:null}for(;!xe.Request[VX]&&xe.Request.parent;)xe.Request=xe.Request.parent;for(;!xe.Reply[VX]&&xe.Reply.parent;)xe.Reply=xe.Reply.parent;if(n.setContext(this,xe),R.schema){xe.schema=AUe(xe.schema,this.initialConfig);let $=this[LUe];!R.validatorCompiler&&(R.schema.body||R.schema.headers||R.schema.querystring||R.schema.params)&&$.setupValidator(this[zX]);try{let F=typeof R?.validatorCompiler=="function"||$.isCustomValidatorCompiler;xUe(xe,R.validatorCompiler||$.validatorCompiler,F)}catch(F){throw new _Ue(R.method,Ee,F.message)}R.schema.response&&!R.serializerCompiler&&$.setupSerializer(this[zX]);try{vUe(xe,R.serializerCompiler||$.serializerCompiler)}catch(F){throw new IUe(R.method,Ee,F.message)}}}),U(L)}),D&&k&&!q&&!O){let L=yUe(j.onSend);y.call(this,{method:"HEAD",url:ne,options:{...j,onSend:L},isFastify:!0})}else O&&P&&bUe()}}function w(S,T,R,P,N){let D=HUe(P.server,S),k={level:P.logLevel};P.logSerializers&&(k.serializers=P.logSerializers);let q=jUe(P,s,S,D,k);if(q[QUe]=c,!h(S.httpVersion)){q.info({res:{statusCode:505}},"request aborted - invalid HTTP version");let Q='{"error":"HTTP Version Not Supported","message":"HTTP Version Not Supported","statusCode":505}',te={"Content-Type":"application/json","Content-Length":Q.length};T.writeHead(505,te),T.end(Q);return}if(m===!0&&(S.httpVersionMajor!==2&&T.setHeader("Connection","close"),d)){let Q={"Content-Type":"application/json","Content-Length":"80"};T.writeHead(503,Q),T.end('{"error":"Service Unavailable","message":"Service Unavailable","statusCode":503}'),q.info({res:{statusCode:503}},"request aborted - refusing to accept new requests as server is closing");return}String.prototype.toLowerCase.call(S.headers.connection||"")==="keep-alive"&&p.has(S.socket)===!1&&(p.add(S.socket),S.socket.on("close",KUe.bind({keepAliveConnections:p,socket:S.socket}))),S.headers[DN]!==void 0&&(S.headers["accept-version"]=S.headers[DN],S.headers[DN]=void 0);let G=new P.Request(D,R,S,N,q,P),J=new P.Reply(T,G,q);c===!1&&q.info({req:G},"incoming request"),(i===!0||P.onResponse!==null)&&a(J),P.onRequest!==null?mUe(P.onRequest,G,J,JX):JX(null,G,J),P.onRequestAbort!==null&&S.on("close",()=>{S.aborted&&fUe(P.onRequestAbort,G,GUe.bind(null,J))}),P.onTimeout!==null&&(G.raw.socket._meta||G.raw.socket.on("timeout",VUe),G.raw.socket._meta={context:P,request:G,reply:J})}}function GUe(e,t){t&&e.log.error({err:t},"onRequestAborted hook failed")}function VUe(){let{context:e,request:t,reply:r}=this._meta;hUe(e.onTimeout,t,r,YUe)}function YX(e){if(typeof e!="string")throw new kUe;if(e=e.toUpperCase(),gUe.indexOf(e)===-1)throw new NUe(e);return e}function WX(e,t,r){if((e==="GET"||e==="HEAD")&&r&&r.body)throw new DUe(e,t)}function XX(e){if(e!==void 0&&(!Number.isInteger(e)||e<=0))throw new PUe(e)}function JX(e,t,r){if(r.sent!==!0){if(e!=null){r[MUe]=!0,r.send(e);return}t[FUe]=t.raw,t[KX].preParsing!==null?pUe(t[KX].preParsing,t,r,MX):MX(null,t,r)}}function KUe(){this.keepAliveConnections.delete(this.socket)}function YUe(){}ZX.exports={buildRouting:zUe,validateBodyLimitOption:XX}});var oZ=I((nmt,aZ)=>{"use strict";var WUe=BN(),tZ=M1(),rZ=tb(),JUe=rb(),{kRoutePrefix:XUe,kCanSetNotFoundHandler:Pm,kFourOhFourLevelInstance:Om,kFourOhFourContext:Fa,kHooks:ZUe,kErrorHandler:nZ}=cn(),{lifecycleHooks:e7e}=lc(),{buildErrorHandler:t7e}=rh(),{FST_ERR_NOT_FOUND:r7e}=Ln(),{createChildLogger:sZ}=_0(),{getGenReqId:iZ}=UE();function n7e(e){let{logger:t}=e,r=WUe({onBadUrl:a(),defaultRoute:l}),n=null;return{router:r,setNotFoundHandler:c,setContext:o,arrange404:s};function s(d){d[Om]=d,d[Pm]=!0,r.onBadUrl=r.onBadUrl.bind(d),r.defaultRoute=r.defaultRoute.bind(d)}function i(d,f){let{url:h,method:p}=d.raw,m=`Route ${p}:${h} not found`;d.log.info(m),f.code(404).send({message:m,error:"Not Found",statusCode:404})}function a(){return function(f,h,p){let m=this[Om][Fa],A=iZ(m.server,h),g=sZ(m,t,h,A),x=new rZ(A,null,h,null,g,m),y=new tZ(p,x,g);n(x,y)}}function o(d,f){let h=Object.assign({},d[Fa]);h.onSend=f.onSend,f[Fa]=h}function c(d,f,h,p){this[Pm]===void 0&&(this[Pm]=!0),this[Fa]===void 0&&(this[Fa]=null);let m=this,A=this[XUe]||"/";if(this[Pm]===!1)throw new Error(`Not found handler already set for Fastify instance with prefix: '${A}'`);typeof d=="object"&&(d.preHandler&&(Array.isArray(d.preHandler)?d.preHandler=d.preHandler.map(g=>g.bind(m)):d.preHandler=d.preHandler.bind(m)),d.preValidation&&(Array.isArray(d.preValidation)?d.preValidation=d.preValidation.map(g=>g.bind(m)):d.preValidation=d.preValidation.bind(m))),typeof d=="function"&&(f=d,d=void 0),d=d||{},f?(this[Om][Pm]=!1,f=f.bind(this),n=f):(f=i,n=i),this.after((g,x)=>{u.call(this,A,d,f,h,p),x(g)})}function u(d,f,h,p,m){let A=new JUe({schema:f.schema,handler:h,config:f.config||{},server:this});if(p.once("preReady",()=>{let g=this[Fa];for(let x of e7e){let y=this[ZUe][x].concat(f[x]||[]).map(b=>b.bind(this));g[x]=y.length?y:null}g.errorHandler=f.errorHandler?t7e(this[nZ],f.errorHandler):this[nZ]}),this[Fa]!==null&&d==="/"){Object.assign(this[Fa],A);return}this[Om][Fa]=A,r.all(d+(d.endsWith("/")?"*":"/*"),m,A),r.all(d,m,A)}function l(d,f){let h=this[Om][Fa],p=iZ(h.server,d),m=sZ(h,t,d,p);m.info({req:d},"incoming request");let A=new rZ(p,null,d,null,m,h),g=new tZ(f,A,m);A.log.warn("the default handler for 404 did not catch this, this is likely a fastify bug, please report it"),A.log.warn(r.prettyPrint()),g.code(404).send(new r7e)}}aZ.exports=n7e});var uZ=I((smt,ax)=>{"use strict";ax.exports=Ft;ax.exports.default=Ft;var cZ={type:"object",additionalProperties:!1,properties:{connectionTimeout:{type:"integer",default:0},keepAliveTimeout:{type:"integer",default:72e3},forceCloseConnections:{oneOf:[{type:"string",pattern:"idle"},{type:"boolean"}]},maxRequestsPerSocket:{type:"integer",default:0,nullable:!0},requestTimeout:{type:"integer",default:0},bodyLimit:{type:"integer",default:1048576},caseSensitive:{type:"boolean",default:!0},allowUnsafeRegex:{type:"boolean",default:!1},http2:{type:"boolean"},https:{if:{not:{oneOf:[{type:"boolean"},{type:"null"},{type:"object",additionalProperties:!1,required:["allowHTTP1"],properties:{allowHTTP1:{type:"boolean"}}}]}},then:{setDefaultValue:!0}},ignoreTrailingSlash:{type:"boolean",default:!1},ignoreDuplicateSlashes:{type:"boolean",default:!1},disableRequestLogging:{type:"boolean",default:!1},jsonShorthand:{type:"boolean",default:!0},maxParamLength:{type:"integer",default:100},onProtoPoisoning:{type:"string",default:"error"},onConstructorPoisoning:{type:"string",default:"error"},pluginTimeout:{type:"integer",default:1e4},requestIdHeader:{anyOf:[{enum:[!1]},{type:"string"}],default:"request-id"},requestIdLogLabel:{type:"string",default:"reqId"},http2SessionTimeout:{type:"integer",default:72e3},exposeHeadRoutes:{type:"boolean",default:!0},useSemicolonDelimiter:{type:"boolean",default:!0},versioning:{type:"object",additionalProperties:!0,required:["storage","deriveVersion"],properties:{storage:{},deriveVersion:{}}},constraints:{type:"object",additionalProperties:{type:"object",required:["name","storage","validate","deriveConstraint"],additionalProperties:!0,properties:{name:{type:"string"},storage:{},validate:{},deriveConstraint:{}}}}}},s7e=Object.prototype.hasOwnProperty,i7e=new RegExp("idle","u");function Ft(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:s=e}={}){let i=null,a=0;if(a===0)if(e&&typeof e=="object"&&!Array.isArray(e)){e.connectionTimeout===void 0&&(e.connectionTimeout=0),e.keepAliveTimeout===void 0&&(e.keepAliveTimeout=72e3),e.maxRequestsPerSocket===void 0&&(e.maxRequestsPerSocket=0),e.requestTimeout===void 0&&(e.requestTimeout=0),e.bodyLimit===void 0&&(e.bodyLimit=1048576),e.caseSensitive===void 0&&(e.caseSensitive=!0),e.allowUnsafeRegex===void 0&&(e.allowUnsafeRegex=!1),e.ignoreTrailingSlash===void 0&&(e.ignoreTrailingSlash=!1),e.ignoreDuplicateSlashes===void 0&&(e.ignoreDuplicateSlashes=!1),e.disableRequestLogging===void 0&&(e.disableRequestLogging=!1),e.jsonShorthand===void 0&&(e.jsonShorthand=!0),e.maxParamLength===void 0&&(e.maxParamLength=100),e.onProtoPoisoning===void 0&&(e.onProtoPoisoning="error"),e.onConstructorPoisoning===void 0&&(e.onConstructorPoisoning="error"),e.pluginTimeout===void 0&&(e.pluginTimeout=1e4),e.requestIdHeader===void 0&&(e.requestIdHeader="request-id"),e.requestIdLogLabel===void 0&&(e.requestIdLogLabel="reqId"),e.http2SessionTimeout===void 0&&(e.http2SessionTimeout=72e3),e.exposeHeadRoutes===void 0&&(e.exposeHeadRoutes=!0),e.useSemicolonDelimiter===void 0&&(e.useSemicolonDelimiter=!0);let p=a;for(let m in e)s7e.call(cZ.properties,m)||delete e[m];if(p===a){let m=e.connectionTimeout,A=a;if(!(typeof m=="number"&&!(m%1)&&!isNaN(m)&&isFinite(m))){let g=typeof m,x;if(x===void 0)if(g==="boolean"||m===null||g==="string"&&m&&m==+m&&!(m%1))x=+m;else return Ft.errors=[{instancePath:t+"/connectionTimeout",schemaPath:"#/properties/connectionTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;x!==void 0&&(m=x,e!==void 0&&(e.connectionTimeout=x))}var o=A===a;if(o){let g=e.keepAliveTimeout,x=a;if(!(typeof g=="number"&&!(g%1)&&!isNaN(g)&&isFinite(g))){let b=typeof g,_;if(_===void 0)if(b==="boolean"||g===null||b==="string"&&g&&g==+g&&!(g%1))_=+g;else return Ft.errors=[{instancePath:t+"/keepAliveTimeout",schemaPath:"#/properties/keepAliveTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;_!==void 0&&(g=_,e!==void 0&&(e.keepAliveTimeout=_))}var o=x===a;if(o){if(e.forceCloseConnections!==void 0){let b=e.forceCloseConnections,_=a,C=a,w=!1,S=null,T=a;if(typeof b!="string"){let N=typeof b,D;if(D===void 0)if(N=="number"||N=="boolean")D=""+b;else if(b===null)D="";else{let k={instancePath:t+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[k]:i.push(k),a++}D!==void 0&&(b=D,e!==void 0&&(e.forceCloseConnections=D))}if(a===T&&typeof b=="string"&&!i7e.test(b)){let N={instancePath:t+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf/0/pattern",keyword:"pattern",params:{pattern:"idle"},message:'must match pattern "idle"'};i===null?i=[N]:i.push(N),a++}var c=T===a;c&&(w=!0,S=0);let R=a;if(typeof b!="boolean"){let N;if(N===void 0)if(b==="false"||b===0||b===null)N=!1;else if(b==="true"||b===1)N=!0;else{let D={instancePath:t+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf/1/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};i===null?i=[D]:i.push(D),a++}N!==void 0&&(b=N,e!==void 0&&(e.forceCloseConnections=N))}var c=R===a;if(c&&w?(w=!1,S=[S,1]):c&&(w=!0,S=1),w)a=C,i!==null&&(C?i.length=C:i=null);else{let N={instancePath:t+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf",keyword:"oneOf",params:{passingSchemas:S},message:"must match exactly one schema in oneOf"};return i===null?i=[N]:i.push(N),a++,Ft.errors=i,!1}var o=_===a}else var o=!0;if(o){let b=e.maxRequestsPerSocket,_=a;if(!(typeof b=="number"&&!(b%1)&&!isNaN(b)&&isFinite(b))&&b!==null){let w=typeof b,S;if(S===void 0)if(w==="boolean"||b===null||w==="string"&&b&&b==+b&&!(b%1))S=+b;else if(b===""||b===0||b===!1)S=null;else return Ft.errors=[{instancePath:t+"/maxRequestsPerSocket",schemaPath:"#/properties/maxRequestsPerSocket/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;S!==void 0&&(b=S,e!==void 0&&(e.maxRequestsPerSocket=S))}var o=_===a;if(o){let w=e.requestTimeout,S=a;if(!(typeof w=="number"&&!(w%1)&&!isNaN(w)&&isFinite(w))){let R=typeof w,P;if(P===void 0)if(R==="boolean"||w===null||R==="string"&&w&&w==+w&&!(w%1))P=+w;else return Ft.errors=[{instancePath:t+"/requestTimeout",schemaPath:"#/properties/requestTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;P!==void 0&&(w=P,e!==void 0&&(e.requestTimeout=P))}var o=S===a;if(o){let R=e.bodyLimit,P=a;if(!(typeof R=="number"&&!(R%1)&&!isNaN(R)&&isFinite(R))){let D=typeof R,k;if(k===void 0)if(D==="boolean"||R===null||D==="string"&&R&&R==+R&&!(R%1))k=+R;else return Ft.errors=[{instancePath:t+"/bodyLimit",schemaPath:"#/properties/bodyLimit/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;k!==void 0&&(R=k,e!==void 0&&(e.bodyLimit=k))}var o=P===a;if(o){let D=e.caseSensitive,k=a;if(typeof D!="boolean"){let j;if(j===void 0)if(D==="false"||D===0||D===null)j=!1;else if(D==="true"||D===1)j=!0;else return Ft.errors=[{instancePath:t+"/caseSensitive",schemaPath:"#/properties/caseSensitive/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;j!==void 0&&(D=j,e!==void 0&&(e.caseSensitive=j))}var o=k===a;if(o){let j=e.allowUnsafeRegex,G=a;if(typeof j!="boolean"){let Q;if(Q===void 0)if(j==="false"||j===0||j===null)Q=!1;else if(j==="true"||j===1)Q=!0;else return Ft.errors=[{instancePath:t+"/allowUnsafeRegex",schemaPath:"#/properties/allowUnsafeRegex/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Q!==void 0&&(j=Q,e!==void 0&&(e.allowUnsafeRegex=Q))}var o=G===a;if(o){if(e.http2!==void 0){let Q=e.http2,te=a;if(typeof Q!="boolean"){let ee;if(ee===void 0)if(Q==="false"||Q===0||Q===null)ee=!1;else if(Q==="true"||Q===1)ee=!0;else return Ft.errors=[{instancePath:t+"/http2",schemaPath:"#/properties/http2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;ee!==void 0&&(Q=ee,e!==void 0&&(e.http2=ee))}var o=te===a}else var o=!0;if(o){if(e.https!==void 0){let Q=e.https,te=a,ne=a,ee=!0,ie=a,Ee=a,ve=a,Ie=a,xe=!1,ge=null,O=a;if(typeof Q!="boolean"){let $;if($===void 0)if(Q==="false"||Q===0||Q===null)$=!1;else if(Q==="true"||Q===1)$=!0;else{let F={};i===null?i=[F]:i.push(F),a++}$!==void 0&&(Q=$,e!==void 0&&(e.https=$))}var u=O===a;u&&(xe=!0,ge=0);let L=a;if(Q!==null){let $;if($===void 0)if(Q===""||Q===0||Q===!1)$=null;else{let F={};i===null?i=[F]:i.push(F),a++}$!==void 0&&(Q=$,e!==void 0&&(e.https=$))}var u=L===a;if(u&&xe)xe=!1,ge=[ge,1];else{u&&(xe=!0,ge=1);let $=a;if(a===$)if(Q&&typeof Q=="object"&&!Array.isArray(Q)){let z;if(Q.allowHTTP1===void 0&&(z="allowHTTP1")){let W={};i===null?i=[W]:i.push(W),a++}else{let W=a;for(let V in Q)V!=="allowHTTP1"&&delete Q[V];if(W===a&&Q.allowHTTP1!==void 0){let V=Q.allowHTTP1;if(typeof V!="boolean"){let Y;if(Y===void 0)if(V==="false"||V===0||V===null)Y=!1;else if(V==="true"||V===1)Y=!0;else{let X={};i===null?i=[X]:i.push(X),a++}Y!==void 0&&(V=Y,Q!==void 0&&(Q.allowHTTP1=Y))}}}}else{let z={};i===null?i=[z]:i.push(z),a++}var u=$===a;u&&xe?(xe=!1,ge=[ge,2]):u&&(xe=!0,ge=2)}if(xe)a=Ie,i!==null&&(Ie?i.length=Ie:i=null);else{let $={};i===null?i=[$]:i.push($),a++}var l=ve===a;if(l){let $={};i===null?i=[$]:i.push($),a++}else a=Ee,i!==null&&(Ee?i.length=Ee:i=null);var d=ie===a;if(a=ne,i!==null&&(ne?i.length=ne:i=null),d){let $=a;e.https=!0;var d=$===a;ee=d}if(!ee){let $={instancePath:t+"/https",schemaPath:"#/properties/https/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};return i===null?i=[$]:i.push($),a++,Ft.errors=i,!1}var o=te===a}else var o=!0;if(o){let Q=e.ignoreTrailingSlash,te=a;if(typeof Q!="boolean"){let ee;if(ee===void 0)if(Q==="false"||Q===0||Q===null)ee=!1;else if(Q==="true"||Q===1)ee=!0;else return Ft.errors=[{instancePath:t+"/ignoreTrailingSlash",schemaPath:"#/properties/ignoreTrailingSlash/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;ee!==void 0&&(Q=ee,e!==void 0&&(e.ignoreTrailingSlash=ee))}var o=te===a;if(o){let ee=e.ignoreDuplicateSlashes,ie=a;if(typeof ee!="boolean"){let ve;if(ve===void 0)if(ee==="false"||ee===0||ee===null)ve=!1;else if(ee==="true"||ee===1)ve=!0;else return Ft.errors=[{instancePath:t+"/ignoreDuplicateSlashes",schemaPath:"#/properties/ignoreDuplicateSlashes/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;ve!==void 0&&(ee=ve,e!==void 0&&(e.ignoreDuplicateSlashes=ve))}var o=ie===a;if(o){let ve=e.disableRequestLogging,Ie=a;if(typeof ve!="boolean"){let ge;if(ge===void 0)if(ve==="false"||ve===0||ve===null)ge=!1;else if(ve==="true"||ve===1)ge=!0;else return Ft.errors=[{instancePath:t+"/disableRequestLogging",schemaPath:"#/properties/disableRequestLogging/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;ge!==void 0&&(ve=ge,e!==void 0&&(e.disableRequestLogging=ge))}var o=Ie===a;if(o){let ge=e.jsonShorthand,O=a;if(typeof ge!="boolean"){let U;if(U===void 0)if(ge==="false"||ge===0||ge===null)U=!1;else if(ge==="true"||ge===1)U=!0;else return Ft.errors=[{instancePath:t+"/jsonShorthand",schemaPath:"#/properties/jsonShorthand/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;U!==void 0&&(ge=U,e!==void 0&&(e.jsonShorthand=U))}var o=O===a;if(o){let U=e.maxParamLength,$=a;if(!(typeof U=="number"&&!(U%1)&&!isNaN(U)&&isFinite(U))){let z=typeof U,W;if(W===void 0)if(z==="boolean"||U===null||z==="string"&&U&&U==+U&&!(U%1))W=+U;else return Ft.errors=[{instancePath:t+"/maxParamLength",schemaPath:"#/properties/maxParamLength/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;W!==void 0&&(U=W,e!==void 0&&(e.maxParamLength=W))}var o=$===a;if(o){let z=e.onProtoPoisoning,W=a;if(typeof z!="string"){let Y=typeof z,X;if(X===void 0)if(Y=="number"||Y=="boolean")X=""+z;else if(z===null)X="";else return Ft.errors=[{instancePath:t+"/onProtoPoisoning",schemaPath:"#/properties/onProtoPoisoning/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;X!==void 0&&(z=X,e!==void 0&&(e.onProtoPoisoning=X))}var o=W===a;if(o){let Y=e.onConstructorPoisoning,X=a;if(typeof Y!="string"){let ae=typeof Y,pe;if(pe===void 0)if(ae=="number"||ae=="boolean")pe=""+Y;else if(Y===null)pe="";else return Ft.errors=[{instancePath:t+"/onConstructorPoisoning",schemaPath:"#/properties/onConstructorPoisoning/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;pe!==void 0&&(Y=pe,e!==void 0&&(e.onConstructorPoisoning=pe))}var o=X===a;if(o){let ae=e.pluginTimeout,pe=a;if(!(typeof ae=="number"&&!(ae%1)&&!isNaN(ae)&&isFinite(ae))){let Te=typeof ae,Ce;if(Ce===void 0)if(Te==="boolean"||ae===null||Te==="string"&&ae&&ae==+ae&&!(ae%1))Ce=+ae;else return Ft.errors=[{instancePath:t+"/pluginTimeout",schemaPath:"#/properties/pluginTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;Ce!==void 0&&(ae=Ce,e!==void 0&&(e.pluginTimeout=Ce))}var o=pe===a;if(o){let Te=e.requestIdHeader,Ce=a,Qe=a,De=!1,He=a;if(Te!==!1){let Ge={instancePath:t+"/requestIdHeader",schemaPath:"#/properties/requestIdHeader/anyOf/0/enum",keyword:"enum",params:{allowedValues:cZ.properties.requestIdHeader.anyOf[0].enum},message:"must be equal to one of the allowed values"};i===null?i=[Ge]:i.push(Ge),a++}var f=He===a;if(De=De||f,!De){let Ge=a;if(typeof Te!="string"){let Vs=typeof Te,ut;if(ut===void 0)if(Vs=="number"||Vs=="boolean")ut=""+Te;else if(Te===null)ut="";else{let Rr={instancePath:t+"/requestIdHeader",schemaPath:"#/properties/requestIdHeader/anyOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[Rr]:i.push(Rr),a++}ut!==void 0&&(Te=ut,e!==void 0&&(e.requestIdHeader=ut))}var f=Ge===a;De=De||f}if(De)a=Qe,i!==null&&(Qe?i.length=Qe:i=null);else{let Ge={instancePath:t+"/requestIdHeader",schemaPath:"#/properties/requestIdHeader/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return i===null?i=[Ge]:i.push(Ge),a++,Ft.errors=i,!1}var o=Ce===a;if(o){let Ge=e.requestIdLogLabel,en=a;if(typeof Ge!="string"){let ut=typeof Ge,Rr;if(Rr===void 0)if(ut=="number"||ut=="boolean")Rr=""+Ge;else if(Ge===null)Rr="";else return Ft.errors=[{instancePath:t+"/requestIdLogLabel",schemaPath:"#/properties/requestIdLogLabel/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Rr!==void 0&&(Ge=Rr,e!==void 0&&(e.requestIdLogLabel=Rr))}var o=en===a;if(o){let ut=e.http2SessionTimeout,Rr=a;if(!(typeof ut=="number"&&!(ut%1)&&!isNaN(ut)&&isFinite(ut))){let Ut=typeof ut,_t;if(_t===void 0)if(Ut==="boolean"||ut===null||Ut==="string"&&ut&&ut==+ut&&!(ut%1))_t=+ut;else return Ft.errors=[{instancePath:t+"/http2SessionTimeout",schemaPath:"#/properties/http2SessionTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;_t!==void 0&&(ut=_t,e!==void 0&&(e.http2SessionTimeout=_t))}var o=Rr===a;if(o){let Ut=e.exposeHeadRoutes,_t=a;if(typeof Ut!="boolean"){let tn;if(tn===void 0)if(Ut==="false"||Ut===0||Ut===null)tn=!1;else if(Ut==="true"||Ut===1)tn=!0;else return Ft.errors=[{instancePath:t+"/exposeHeadRoutes",schemaPath:"#/properties/exposeHeadRoutes/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;tn!==void 0&&(Ut=tn,e!==void 0&&(e.exposeHeadRoutes=tn))}var o=_t===a;if(o){let tn=e.useSemicolonDelimiter,p0=a;if(typeof tn!="boolean"){let wr;if(wr===void 0)if(tn==="false"||tn===0||tn===null)wr=!1;else if(tn==="true"||tn===1)wr=!0;else return Ft.errors=[{instancePath:t+"/useSemicolonDelimiter",schemaPath:"#/properties/useSemicolonDelimiter/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;wr!==void 0&&(tn=wr,e!==void 0&&(e.useSemicolonDelimiter=wr))}var o=p0===a;if(o){if(e.versioning!==void 0){let wr=e.versioning,Li=a;if(a===Li)if(wr&&typeof wr=="object"&&!Array.isArray(wr)){let ni;if(wr.storage===void 0&&(ni="storage")||wr.deriveVersion===void 0&&(ni="deriveVersion"))return Ft.errors=[{instancePath:t+"/versioning",schemaPath:"#/properties/versioning/required",keyword:"required",params:{missingProperty:ni},message:"must have required property '"+ni+"'"}],!1}else return Ft.errors=[{instancePath:t+"/versioning",schemaPath:"#/properties/versioning/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var o=Li===a}else var o=!0;if(o)if(e.constraints!==void 0){let wr=e.constraints,Li=a;if(a===Li)if(wr&&typeof wr=="object"&&!Array.isArray(wr))for(let ni in wr){let Ks=wr[ni],dy=a;if(a===dy)if(Ks&&typeof Ks=="object"&&!Array.isArray(Ks)){let ao;if(Ks.name===void 0&&(ao="name")||Ks.storage===void 0&&(ao="storage")||Ks.validate===void 0&&(ao="validate")||Ks.deriveConstraint===void 0&&(ao="deriveConstraint"))return Ft.errors=[{instancePath:t+"/constraints/"+ni.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/constraints/additionalProperties/required",keyword:"required",params:{missingProperty:ao},message:"must have required property '"+ao+"'"}],!1;if(Ks.name!==void 0){let Fu=Ks.name;if(typeof Fu!="string"){let h0=typeof Fu,Vr;if(Vr===void 0)if(h0=="number"||h0=="boolean")Vr=""+Fu;else if(Fu===null)Vr="";else return Ft.errors=[{instancePath:t+"/constraints/"+ni.replace(/~/g,"~0").replace(/\//g,"~1")+"/name",schemaPath:"#/properties/constraints/additionalProperties/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Vr!==void 0&&(Fu=Vr,Ks!==void 0&&(Ks.name=Vr))}}}else return Ft.errors=[{instancePath:t+"/constraints/"+ni.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/constraints/additionalProperties/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var h=dy===a;if(!h)break}else return Ft.errors=[{instancePath:t+"/constraints",schemaPath:"#/properties/constraints/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var o=Li===a}else var o=!0}}}}}}}}}}}}}}}}}}}}}}}}}else return Ft.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Ft.errors=i,a===0}ax.exports.defaultInitOptions={connectionTimeout:0,keepAliveTimeout:72e3,maxRequestsPerSocket:0,requestTimeout:0,bodyLimit:1048576,caseSensitive:!0,allowUnsafeRegex:!1,disableRequestLogging:!1,jsonShorthand:!0,ignoreTrailingSlash:!1,ignoreDuplicateSlashes:!1,maxParamLength:100,onProtoPoisoning:"error",onConstructorPoisoning:"error",pluginTimeout:1e4,requestIdHeader:"request-id",requestIdLogLabel:"reqId",http2SessionTimeout:72e3,exposeHeadRoutes:!0,useSemicolonDelimiter:!0}});var lZ=I((imt,cx)=>{"use strict";var ox=uZ(),a7e=zy()({circles:!0,proto:!1}),{FST_ERR_INIT_OPTS_INVALID:o7e}=Ln();function c7e(e){let t=a7e(e);if(!ox(t)){let r=new o7e(JSON.stringify(ox.errors.map(n=>n.message)));throw r.errors=ox.errors,r}return ON(t)}function ON(e){let t=Object.getOwnPropertyNames(e);for(let r of t){let n=e[r];ArrayBuffer.isView(n)&&!(n instanceof DataView)||(e[r]=n&&typeof n=="object"?ON(n):n)}return Object.freeze(e)}cx.exports=c7e;cx.exports.defaultInitOptions=ox.defaultInitOptions;cx.exports.utils={deepFreezeObject:ON}});var bZ=I((amt,yZ)=>{"use strict";var{kAvvioBoot:u7e,kChildren:dZ,kRoutePrefix:fZ,kLogLevel:pZ,kLogSerializers:$N,kHooks:LN,kSchemaController:Wf,kContentTypeParser:hZ,kReply:mZ,kRequest:gZ,kFourOhFour:l7e,kPluginNameChain:AZ}=cn(),d7e=M1(),f7e=tb(),p7e=oN(),h7e=LT(),{buildHooks:m7e}=lc(),$m=pN();yZ.exports=function(t,r,n){let s=$m.registerPlugin.call(t,r),i=$m.getPluginName(r)||$m.getFuncPreview(r);if(s)return t[AZ].push(i),t;let a=Object.create(t);t[dZ].push(a),a.ready=t[u7e].bind(a),a[dZ]=[],a[mZ]=d7e.buildReply(a[mZ]),a[gZ]=f7e.buildRequest(a[gZ]),a[hZ]=h7e.helpers.buildContentTypeParser(a[hZ]),a[LN]=m7e(a[LN]),a[fZ]=g7e(a[fZ],n.prefix),a[pZ]=n.logLevel||a[pZ],a[Wf]=p7e.buildSchemaController(t[Wf]),a.getSchema=a[Wf].getSchema.bind(a[Wf]),a.getSchemas=a[Wf].getSchemas.bind(a[Wf]),a[$m.kRegisteredPlugins]=Object.create(a[$m.kRegisteredPlugins]),a[AZ]=[i],(a[$N]||n.logSerializers)&&(a[$N]=Object.assign(Object.create(a[$N]),n.logSerializers)),n.prefix&&a[l7e].arrange404(a);for(let o of a[LN].onRegister)o.call(this,a,n);return a};function g7e(e,t){return t?(e.endsWith("/")&&t[0]==="/"?t=t.slice(1):t[0]!=="/"&&(t="/"+t),e+t):e}});var xZ=I((omt,EZ)=>{"use strict";EZ.exports=function(){return{[Symbol.iterator]:function*(){},add(){},delete(){},has(){return!0}}}});var IZ=I(MN=>{"use strict";MN.parse=_7e;MN.serialize=I7e;var A7e=Object.prototype.toString,y7e=Object.prototype.hasOwnProperty,b7e=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,E7e=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,x7e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,v7e=/^[\u0020-\u003A\u003D-\u007E]*$/;function _7e(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");var r={},n=e.length;if(n<2)return r;var s=t&&t.decode||C7e,i=0,a=0,o=0;do{if(a=e.indexOf("=",i),a===-1)break;if(o=e.indexOf(";",i),o===-1)o=n;else if(a>o){i=e.lastIndexOf(";",a-1)+1;continue}var c=vZ(e,i,a),u=_Z(e,a,c),l=e.slice(c,u);if(!y7e.call(r,l)){var d=vZ(e,a+1,o),f=_Z(e,o,d);e.charCodeAt(d)===34&&e.charCodeAt(f-1)===34&&(d++,f--);var h=e.slice(d,f);r[l]=S7e(h,s)}i=o+1}while(i<n);return r}function vZ(e,t,r){do{var n=e.charCodeAt(t);if(n!==32&&n!==9)return t}while(++t<r);return r}function _Z(e,t,r){for(;t>r;){var n=e.charCodeAt(--t);if(n!==32&&n!==9)return t+1}return r}function I7e(e,t,r){var n=r&&r.encode||encodeURIComponent;if(typeof n!="function")throw new TypeError("option encode is invalid");if(!b7e.test(e))throw new TypeError("argument name is invalid");var s=n(t);if(!E7e.test(s))throw new TypeError("argument val is invalid");var i=e+"="+s;if(!r)return i;if(r.maxAge!=null){var a=Math.floor(r.maxAge);if(!isFinite(a))throw new TypeError("option maxAge is invalid");i+="; Max-Age="+a}if(r.domain){if(!x7e.test(r.domain))throw new TypeError("option domain is invalid");i+="; Domain="+r.domain}if(r.path){if(!v7e.test(r.path))throw new TypeError("option path is invalid");i+="; Path="+r.path}if(r.expires){var o=r.expires;if(!w7e(o)||isNaN(o.valueOf()))throw new TypeError("option expires is invalid");i+="; Expires="+o.toUTCString()}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.partitioned&&(i+="; Partitioned"),r.priority){var c=typeof r.priority=="string"?r.priority.toLowerCase():r.priority;switch(c){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(r.sameSite){var u=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(u){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return i}function C7e(e){return e.indexOf("%")!==-1?decodeURIComponent(e):e}function w7e(e){return A7e.call(e)==="[object Date]"}function S7e(e,t){try{return t(e)}catch{return e}}});var SZ=I((umt,wZ)=>{"use strict";var{URL:CZ}=require("node:url"),FN="http://localhost";wZ.exports=function(t,r){(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]")&&t.startsWith("//")&&(t=FN+t);let n=typeof t=="object"?Object.assign(new CZ(FN),t):new CZ(t,FN);if(typeof r=="string"){r=new URLSearchParams(r);for(let s of r.keys()){n.searchParams.delete(s);for(let i of r.getAll(s))n.searchParams.append(s,i)}}else{let s=Object.assign({},t.query,r);for(let i in s){let a=s[i];if(Array.isArray(a)){n.searchParams.delete(i);for(let o of a)n.searchParams.append(i,o)}else n.searchParams.set(i,a)}}return n}});var TZ=I((lmt,QN)=>{"use strict";var{randomUUID:T7e}=require("node:crypto"),{Readable:B7e}=require("node:stream"),Jf;function R7e(e){return e&&typeof e=="object"&&typeof e.append=="function"&&typeof e.delete=="function"&&typeof e.get=="function"&&typeof e.getAll=="function"&&typeof e.has=="function"&&typeof e.set=="function"&&e[Symbol.toStringTag]==="FormData"}function N7e(e){Jf=Jf??new TextEncoder;let t=`----formdata-${T7e()}`,r=`--${t}\r
Content-Disposition: form-data`;let n=c=>c.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),s=c=>c.replace(/\r?\n|\r/g,`\r
`),i=new Uint8Array([13,10]);async function*a(){for(let[c,u]of e)if(typeof u=="string")yield Jf.encode(`${r}; name="${n(s(c))}"\r
\r
`),yield Jf.encode(`${s(u)}\r
`);else{let l=`${r}; name="${n(s(c))}"`;u.name&&(l+=`; filename="${n(u.name)}"`),l+=`\r
Content-Type: ${u.type||"application/octet-stream"}\r
\r
`,yield Jf.encode(l),u.stream?yield*u.stream():yield u,yield i}yield Jf.encode(`--${t}--`)}return{stream:B7e.from(a()),contentType:`multipart/form-data; boundary=${t}`}}QN.exports.isFormDataLike=R7e;QN.exports.formDataToStream=N7e});var NZ=I((dmt,ux)=>{"use strict";var{Readable:BZ,addAbortSignal:k7e}=require("node:stream"),qN=require("node:util"),D7e=IZ(),P7e=require("node:assert"),{createDeprecation:O7e}=P2(),$7e=SZ(),{isFormDataLike:L7e,formDataToStream:M7e}=TZ(),{EventEmitter:F7e}=require("node:events"),Q7e=O7e({name:"FastifyDeprecationLightMyRequest",code:"FST_LIGHTMYREQUEST_DEP01",message:'You are accessing "request.connection", use "request.socket" instead.'});function U7e(e){return e.port?e.host:e.hostname+(e.protocol==="https:"?":443":":80")}var UN=class extends F7e{constructor(t){super(),this.remoteAddress=t}};function RZ(e){return new t(this);function t(r){Qa.call(r,{...e,Request:void 0}),Object.assign(this,r);for(let n of Object.keys(Qa.prototype))this.constructor.prototype[n]=Qa.prototype[n];return qN.inherits(this.constructor,e.Request),this}}function Qa(e){BZ.call(this,{autoDestroy:!1});let t=$7e(e.url||e.path,e.query);this.url=t.pathname+t.search,this.aborted=!1,this.httpVersionMajor=1,this.httpVersionMinor=1,this.httpVersion="1.1",this.method=e.method?e.method.toUpperCase():"GET",this.headers={},this.rawHeaders=[];let r=e.headers||{};for(let a in r){let o=a.toLowerCase();if((o==="user-agent"||o==="content-type")&&r[a]===void 0){this.headers[o]=void 0;continue}let c=r[a];P7e(c!==void 0,'invalid value "undefined" for header '+a),this.headers[o]=""+c}if("user-agent"in this.headers||(this.headers["user-agent"]="lightMyRequest"),this.headers.host=this.headers.host||e.authority||U7e(t),e.cookies){let{cookies:a}=e,o=Object.keys(a).map(c=>D7e.serialize(c,a[c]));this.headers.cookie&&o.unshift(this.headers.cookie),this.headers.cookie=o.join("; ")}this.socket=new UN(e.remoteAddress||"127.0.0.1"),Object.defineProperty(this,"connection",{get(){return Q7e(),this.socket},configurable:!0});let n=e.payload||e.body||null,s=n&&typeof n.resume=="function";if(L7e(n)){let a=M7e(n);n=a.stream,s=!0,this.headers["content-type"]=a.contentType}n&&typeof n!="string"&&!s&&!Buffer.isBuffer(n)&&(n=JSON.stringify(n),"content-type"in this.headers||(this.headers["content-type"]="application/json")),n&&!s&&!Object.prototype.hasOwnProperty.call(this.headers,"content-length")&&(this.headers["content-length"]=(Buffer.isBuffer(n)?n.length:Buffer.byteLength(n)).toString());for(let a of Object.keys(this.headers))this.rawHeaders.push(a,this.headers[a]);this._lightMyRequest={payload:n,isDone:!1,simulate:e.simulate||{}};let i=e.signal;return i&&k7e(i,this),this}qN.inherits(Qa,BZ);qN.inherits(RZ,Qa);Qa.prototype.prepare=function(e){let t=this._lightMyRequest.payload;if(!t||typeof t.resume!="function")return e();let r=[];t.on("data",n=>r.push(Buffer.from(n))),t.on("end",()=>{let n=Buffer.concat(r);return this.headers["content-length"]=this.headers["content-length"]||""+n.length,this._lightMyRequest.payload=n,e()}),t.resume()};Qa.prototype._read=function(e){setImmediate(()=>{if(this._lightMyRequest.isDone){this._lightMyRequest.simulate.end!==!1&&this.push(null);return}this._lightMyRequest.isDone=!0,this._lightMyRequest.payload&&(this._lightMyRequest.simulate.split?(this.push(this._lightMyRequest.payload.slice(0,1)),this.push(this._lightMyRequest.payload.slice(1))):this.push(this._lightMyRequest.payload)),this._lightMyRequest.simulate.error&&this.emit("error",new Error("Simulated")),this._lightMyRequest.simulate.close&&this.emit("close"),this._lightMyRequest.simulate.end!==!1&&this.push(null)})};Qa.prototype.destroy=function(e){this.destroyed||this._lightMyRequest.isDone||(this.destroyed=!0,e&&(this._error=!0,process.nextTick(()=>this.emit("error",e))),process.nextTick(()=>this.emit("close")))};ux.exports=Qa;ux.exports.Request=Qa;ux.exports.CustomRequest=RZ});var DZ=I((fmt,Lm)=>{"use strict";var lx={decodeValues:!0,map:!1,silent:!1};function jN(e){return typeof e!="string"||e in{}}function HN(){return Object.create(null)}function zN(e){return typeof e=="string"&&!!e.trim()}function GN(e,t){var r=e.split(";").filter(zN),n=r.shift(),s=q7e(n),i=s.name,a=s.value;if(t=t?Object.assign({},lx,t):lx,jN(i))return null;try{a=t.decodeValues?decodeURIComponent(a):a}catch(c){console.error("set-cookie-parser: failed to decode cookie value. Set options.decodeValues=false to disable decoding.",c)}var o=HN();return o.name=i,o.value=a,r.forEach(function(c){var u=c.split("="),l=u.shift().trimLeft().toLowerCase();if(!jN(l)){var d=u.join("=");if(l==="expires")o.expires=new Date(d);else if(l==="max-age"){var f=parseInt(d,10);Number.isNaN(f)||(o.maxAge=f)}else l==="secure"?o.secure=!0:l==="httponly"?o.httpOnly=!0:l==="samesite"?o.sameSite=d:l==="partitioned"?o.partitioned=!0:l&&(o[l]=d)}}),o}function q7e(e){var t="",r="",n=e.split("=");return n.length>1?(t=n.shift(),r=n.join("=")):r=e,{name:t,value:r}}function kZ(e,t){if(t=t?Object.assign({},lx,t):lx,!e)return t.map?HN():[];if(e.headers)if(typeof e.headers.getSetCookie=="function")e=e.headers.getSetCookie();else if(e.headers["set-cookie"])e=e.headers["set-cookie"];else{var r=e.headers[Object.keys(e.headers).find(function(s){return s.toLowerCase()==="set-cookie"})];!r&&e.headers.cookie&&!t.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),e=r}if(Array.isArray(e)||(e=[e]),t.map){var n=HN();return e.filter(zN).reduce(function(s,i){var a=GN(i,t);return a&&!jN(a.name)&&(s[a.name]=a),s},n)}else return e.filter(zN).map(function(s){return GN(s,t)}).filter(Boolean)}function j7e(e){if(Array.isArray(e))return e;if(typeof e!="string")return[];var t=[],r=0,n,s,i,a,o;function c(){for(;r<e.length&&/\s/.test(e.charAt(r));)r+=1;return r<e.length}function u(){return s=e.charAt(r),s!=="="&&s!==";"&&s!==","}for(;r<e.length;){for(n=r,o=!1;c();)if(s=e.charAt(r),s===","){for(i=r,r+=1,c(),a=r;r<e.length&&u();)r+=1;r<e.length&&e.charAt(r)==="="?(o=!0,r=a,t.push(e.substring(n,i)),n=r):r=i+1}else r+=1;(!o||r>=e.length)&&t.push(e.substring(n,e.length))}return t}Lm.exports=kZ;Lm.exports.parse=kZ;Lm.exports.parseString=GN;Lm.exports.splitCookiesString=j7e});var $Z=I((pmt,OZ)=>{"use strict";var Mm=require("node:http"),{Writable:H7e,Readable:z7e}=require("node:stream"),G7e=require("node:util"),V7e=DZ();function Gc(e,t,r){Mm.ServerResponse.call(this,e),this._lightMyRequest={headers:null,trailers:{},payloadChunks:[]},this.setHeader("foo","bar"),this.removeHeader("foo"),this.assignSocket(Y7e()),this._promiseCallback=typeof r=="function";let n=!1,s=a=>{if(n=!0,this._promiseCallback)return process.nextTick(()=>t(a));process.nextTick(()=>t(null,a))},i=a=>{if(!n){if(n=!0,this._promiseCallback)return process.nextTick(()=>r(a));process.nextTick(()=>t(a,null))}};this.once("finish",()=>{let a=K7e(this);a.raw.req=e,s(a)}),this.connection.once("error",i),this.once("error",i),this.once("close",i)}G7e.inherits(Gc,Mm.ServerResponse);Gc.prototype.setTimeout=function(e,t){return this.timeoutHandle=setTimeout(()=>{this.emit("timeout")},e),this.on("timeout",t),this};Gc.prototype.writeHead=function(){let e=Mm.ServerResponse.prototype.writeHead.apply(this,arguments);return PZ(this),e};Gc.prototype.write=function(e,t,r){return this.timeoutHandle&&clearTimeout(this.timeoutHandle),Mm.ServerResponse.prototype.write.call(this,e,t,r),this._lightMyRequest.payloadChunks.push(Buffer.from(e,t)),!0};Gc.prototype.end=function(e,t,r){e&&this.write(e,t),Mm.ServerResponse.prototype.end.call(this,r),this.emit("finish"),this.destroy()};Gc.prototype.destroy=function(e){this.destroyed||(this.destroyed=!0,e&&process.nextTick(()=>this.emit("error",e)),process.nextTick(()=>this.emit("close")))};Gc.prototype.addTrailers=function(e){for(let t in e)this._lightMyRequest.trailers[t.toLowerCase().trim()]=e[t].toString().trim()};function K7e(e){e._lightMyRequest.headers===null&&PZ(e),W7e(e);let t={raw:{res:e},headers:e._lightMyRequest.headers,statusCode:e.statusCode,statusMessage:e.statusMessage,trailers:{},get cookies(){return V7e.parse(this)}},r=Buffer.concat(e._lightMyRequest.payloadChunks);return t.rawPayload=r,t.payload=r.toString(),t.body=t.payload,t.trailers=e._lightMyRequest.trailers,t.json=function(){return JSON.parse(t.payload)},t.stream=function(){return z7e.from(e._lightMyRequest.payloadChunks)},t}function Y7e(){return new H7e({write(e,t,r){setImmediate(r)}})}function W7e(e){let t=e._lightMyRequest.headers;for(let r of Object.keys(t)){let n=t[r];Array.isArray(n)?t[r]=n.map(s=>""+s):t[r]=""+n}}function PZ(e){e._lightMyRequest.headers=Object.assign({},e.getHeaders()),["Date","Connection","Transfer-Encoding"].forEach(t=>{let r=new RegExp("\\r\\n"+t+": ([^\\r]*)\\r\\n"),n=e._header.match(r);n&&(e._lightMyRequest.headers[t.toLowerCase()]=n[1])})}OZ.exports=Gc});var LZ=I((hmt,VN)=>{"use strict";VN.exports=Kr;VN.exports.default=Kr;var J7e={type:"object",properties:{url:{oneOf:[{type:"string"},{type:"object",properties:{protocol:{type:"string"},hostname:{type:"string"},pathname:{type:"string"}},additionalProperties:!0,required:["pathname"]}]},path:{oneOf:[{type:"string"},{type:"object",properties:{protocol:{type:"string"},hostname:{type:"string"},pathname:{type:"string"}},additionalProperties:!0,required:["pathname"]}]},cookies:{type:"object",additionalProperties:!0},headers:{type:"object",additionalProperties:!0},query:{anyOf:[{type:"object",additionalProperties:!0},{type:"string"}]},simulate:{type:"object",properties:{end:{type:"boolean"},split:{type:"boolean"},error:{type:"boolean"},close:{type:"boolean"}}},authority:{type:"string"},remoteAddress:{type:"string"},method:{type:"string",enum:["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE","acl","bind","checkout","connect","copy","delete","get","head","link","lock","m-search","merge","mkactivity","mkcalendar","mkcol","move","notify","options","patch","post","propfind","proppatch","purge","put","rebind","report","search","source","subscribe","trace","unbind","unlink","unlock","unsubscribe"]},validate:{type:"boolean"}},additionalProperties:!0,oneOf:[{required:["url"]},{required:["path"]}]};function Kr(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:s=e}={}){let i=null,a=0,o=a,c=!1,u=null,l=a;if(e&&typeof e=="object"&&!Array.isArray(e)){let b;if(e.url===void 0&&(b="url")){let _={instancePath:t,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:b},message:"must have required property '"+b+"'"};i===null?i=[_]:i.push(_),a++}}var f=l===a;f&&(c=!0,u=0);let d=a;if(e&&typeof e=="object"&&!Array.isArray(e)){let b;if(e.path===void 0&&(b="path")){let _={instancePath:t,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:b},message:"must have required property '"+b+"'"};i===null?i=[_]:i.push(_),a++}}var f=d===a;if(f&&c?(c=!1,u=[u,1]):f&&(c=!0,u=1),c)a=o,i!==null&&(o?i.length=o:i=null);else{let b={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:u},message:"must match exactly one schema in oneOf"};return i===null?i=[b]:i.push(b),a++,Kr.errors=i,!1}if(a===0)if(e&&typeof e=="object"&&!Array.isArray(e)){if(e.url!==void 0){let b=e.url,_=a,C=a,w=!1,S=null,T=a;if(typeof b!="string"){let P=typeof b,N;if(N===void 0)if(P=="number"||P=="boolean")N=""+b;else if(b===null)N="";else{let D={instancePath:t+"/url",schemaPath:"#/properties/url/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[D]:i.push(D),a++}N!==void 0&&(b=N,e!==void 0&&(e.url=N))}var p=T===a;p&&(w=!0,S=0);let R=a;if(a===R)if(b&&typeof b=="object"&&!Array.isArray(b)){let P;if(b.pathname===void 0&&(P="pathname")){let N={instancePath:t+"/url",schemaPath:"#/properties/url/oneOf/1/required",keyword:"required",params:{missingProperty:P},message:"must have required property '"+P+"'"};i===null?i=[N]:i.push(N),a++}else{if(b.protocol!==void 0){let N=b.protocol,D=a;if(typeof N!="string"){let k=typeof N,q;if(q===void 0)if(k=="number"||k=="boolean")q=""+N;else if(N===null)q="";else{let j={instancePath:t+"/url/protocol",schemaPath:"#/properties/url/oneOf/1/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[j]:i.push(j),a++}q!==void 0&&(N=q,b!==void 0&&(b.protocol=q))}var h=D===a}else var h=!0;if(h){if(b.hostname!==void 0){let N=b.hostname,D=a;if(typeof N!="string"){let q=typeof N,j;if(j===void 0)if(q=="number"||q=="boolean")j=""+N;else if(N===null)j="";else{let G={instancePath:t+"/url/hostname",schemaPath:"#/properties/url/oneOf/1/properties/hostname/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[G]:i.push(G),a++}j!==void 0&&(N=j,b!==void 0&&(b.hostname=j))}var h=D===a}else var h=!0;if(h)if(b.pathname!==void 0){let N=b.pathname,D=a;if(typeof N!="string"){let q=typeof N,j;if(j===void 0)if(q=="number"||q=="boolean")j=""+N;else if(N===null)j="";else{let G={instancePath:t+"/url/pathname",schemaPath:"#/properties/url/oneOf/1/properties/pathname/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[G]:i.push(G),a++}j!==void 0&&(N=j,b!==void 0&&(b.pathname=j))}var h=D===a}else var h=!0}}}else{let P={instancePath:t+"/url",schemaPath:"#/properties/url/oneOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[P]:i.push(P),a++}var p=R===a;if(p&&w?(w=!1,S=[S,1]):p&&(w=!0,S=1),w)a=C,i!==null&&(C?i.length=C:i=null);else{let P={instancePath:t+"/url",schemaPath:"#/properties/url/oneOf",keyword:"oneOf",params:{passingSchemas:S},message:"must match exactly one schema in oneOf"};return i===null?i=[P]:i.push(P),a++,Kr.errors=i,!1}var m=_===a}else var m=!0;if(m){if(e.path!==void 0){let b=e.path,_=a,C=a,w=!1,S=null,T=a;if(typeof b!="string"){let N=typeof b,D;if(D===void 0)if(N=="number"||N=="boolean")D=""+b;else if(b===null)D="";else{let k={instancePath:t+"/path",schemaPath:"#/properties/path/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[k]:i.push(k),a++}D!==void 0&&(b=D,e!==void 0&&(e.path=D))}var g=T===a;g&&(w=!0,S=0);let R=a;if(a===R)if(b&&typeof b=="object"&&!Array.isArray(b)){let N;if(b.pathname===void 0&&(N="pathname")){let D={instancePath:t+"/path",schemaPath:"#/properties/path/oneOf/1/required",keyword:"required",params:{missingProperty:N},message:"must have required property '"+N+"'"};i===null?i=[D]:i.push(D),a++}else{if(b.protocol!==void 0){let D=b.protocol,k=a;if(typeof D!="string"){let q=typeof D,j;if(j===void 0)if(q=="number"||q=="boolean")j=""+D;else if(D===null)j="";else{let G={instancePath:t+"/path/protocol",schemaPath:"#/properties/path/oneOf/1/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[G]:i.push(G),a++}j!==void 0&&(D=j,b!==void 0&&(b.protocol=j))}var A=k===a}else var A=!0;if(A){if(b.hostname!==void 0){let D=b.hostname,k=a;if(typeof D!="string"){let j=typeof D,G;if(G===void 0)if(j=="number"||j=="boolean")G=""+D;else if(D===null)G="";else{let J={instancePath:t+"/path/hostname",schemaPath:"#/properties/path/oneOf/1/properties/hostname/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[J]:i.push(J),a++}G!==void 0&&(D=G,b!==void 0&&(b.hostname=G))}var A=k===a}else var A=!0;if(A)if(b.pathname!==void 0){let D=b.pathname,k=a;if(typeof D!="string"){let j=typeof D,G;if(G===void 0)if(j=="number"||j=="boolean")G=""+D;else if(D===null)G="";else{let J={instancePath:t+"/path/pathname",schemaPath:"#/properties/path/oneOf/1/properties/pathname/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[J]:i.push(J),a++}G!==void 0&&(D=G,b!==void 0&&(b.pathname=G))}var A=k===a}else var A=!0}}}else{let N={instancePath:t+"/path",schemaPath:"#/properties/path/oneOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[N]:i.push(N),a++}var g=R===a;if(g&&w?(w=!1,S=[S,1]):g&&(w=!0,S=1),w)a=C,i!==null&&(C?i.length=C:i=null);else{let N={instancePath:t+"/path",schemaPath:"#/properties/path/oneOf",keyword:"oneOf",params:{passingSchemas:S},message:"must match exactly one schema in oneOf"};return i===null?i=[N]:i.push(N),a++,Kr.errors=i,!1}var m=_===a}else var m=!0;if(m){if(e.cookies!==void 0){let b=e.cookies,_=a;if(a===_&&!(b&&typeof b=="object"&&!Array.isArray(b)))return Kr.errors=[{instancePath:t+"/cookies",schemaPath:"#/properties/cookies/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var m=_===a}else var m=!0;if(m){if(e.headers!==void 0){let b=e.headers,_=a;if(a===_&&!(b&&typeof b=="object"&&!Array.isArray(b)))return Kr.errors=[{instancePath:t+"/headers",schemaPath:"#/properties/headers/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var m=_===a}else var m=!0;if(m){if(e.query!==void 0){let b=e.query,_=a,C=a,w=!1,S=a;if(a===S&&!(b&&typeof b=="object"&&!Array.isArray(b))){let R={instancePath:t+"/query",schemaPath:"#/properties/query/anyOf/0/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[R]:i.push(R),a++}var x=S===a;if(w=w||x,!w){let R=a;if(typeof b!="string"){let N=typeof b,D;if(D===void 0)if(N=="number"||N=="boolean")D=""+b;else if(b===null)D="";else{let k={instancePath:t+"/query",schemaPath:"#/properties/query/anyOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[k]:i.push(k),a++}D!==void 0&&(b=D,e!==void 0&&(e.query=D))}var x=R===a;w=w||x}if(w)a=C,i!==null&&(C?i.length=C:i=null);else{let R={instancePath:t+"/query",schemaPath:"#/properties/query/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return i===null?i=[R]:i.push(R),a++,Kr.errors=i,!1}var m=_===a}else var m=!0;if(m){if(e.simulate!==void 0){let b=e.simulate,_=a;if(a===_)if(b&&typeof b=="object"&&!Array.isArray(b)){if(b.end!==void 0){let w=b.end,S=a;if(typeof w!="boolean"){let T;if(T===void 0)if(w==="false"||w===0||w===null)T=!1;else if(w==="true"||w===1)T=!0;else return Kr.errors=[{instancePath:t+"/simulate/end",schemaPath:"#/properties/simulate/properties/end/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;T!==void 0&&(w=T,b!==void 0&&(b.end=T))}var y=S===a}else var y=!0;if(y){if(b.split!==void 0){let w=b.split,S=a;if(typeof w!="boolean"){let R;if(R===void 0)if(w==="false"||w===0||w===null)R=!1;else if(w==="true"||w===1)R=!0;else return Kr.errors=[{instancePath:t+"/simulate/split",schemaPath:"#/properties/simulate/properties/split/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;R!==void 0&&(w=R,b!==void 0&&(b.split=R))}var y=S===a}else var y=!0;if(y){if(b.error!==void 0){let w=b.error,S=a;if(typeof w!="boolean"){let R;if(R===void 0)if(w==="false"||w===0||w===null)R=!1;else if(w==="true"||w===1)R=!0;else return Kr.errors=[{instancePath:t+"/simulate/error",schemaPath:"#/properties/simulate/properties/error/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;R!==void 0&&(w=R,b!==void 0&&(b.error=R))}var y=S===a}else var y=!0;if(y)if(b.close!==void 0){let w=b.close,S=a;if(typeof w!="boolean"){let R;if(R===void 0)if(w==="false"||w===0||w===null)R=!1;else if(w==="true"||w===1)R=!0;else return Kr.errors=[{instancePath:t+"/simulate/close",schemaPath:"#/properties/simulate/properties/close/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;R!==void 0&&(w=R,b!==void 0&&(b.close=R))}var y=S===a}else var y=!0}}}else return Kr.errors=[{instancePath:t+"/simulate",schemaPath:"#/properties/simulate/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var m=_===a}else var m=!0;if(m){if(e.authority!==void 0){let b=e.authority,_=a;if(typeof b!="string"){let w=typeof b,S;if(S===void 0)if(w=="number"||w=="boolean")S=""+b;else if(b===null)S="";else return Kr.errors=[{instancePath:t+"/authority",schemaPath:"#/properties/authority/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;S!==void 0&&(b=S,e!==void 0&&(e.authority=S))}var m=_===a}else var m=!0;if(m){if(e.remoteAddress!==void 0){let b=e.remoteAddress,_=a;if(typeof b!="string"){let w=typeof b,S;if(S===void 0)if(w=="number"||w=="boolean")S=""+b;else if(b===null)S="";else return Kr.errors=[{instancePath:t+"/remoteAddress",schemaPath:"#/properties/remoteAddress/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;S!==void 0&&(b=S,e!==void 0&&(e.remoteAddress=S))}var m=_===a}else var m=!0;if(m){if(e.method!==void 0){let b=e.method,_=a;if(typeof b!="string"){let w=typeof b,S;if(S===void 0)if(w=="number"||w=="boolean")S=""+b;else if(b===null)S="";else return Kr.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;S!==void 0&&(b=S,e!==void 0&&(e.method=S))}if(!(b==="ACL"||b==="BIND"||b==="CHECKOUT"||b==="CONNECT"||b==="COPY"||b==="DELETE"||b==="GET"||b==="HEAD"||b==="LINK"||b==="LOCK"||b==="M-SEARCH"||b==="MERGE"||b==="MKACTIVITY"||b==="MKCALENDAR"||b==="MKCOL"||b==="MOVE"||b==="NOTIFY"||b==="OPTIONS"||b==="PATCH"||b==="POST"||b==="PROPFIND"||b==="PROPPATCH"||b==="PURGE"||b==="PUT"||b==="REBIND"||b==="REPORT"||b==="SEARCH"||b==="SOURCE"||b==="SUBSCRIBE"||b==="TRACE"||b==="UNBIND"||b==="UNLINK"||b==="UNLOCK"||b==="UNSUBSCRIBE"||b==="acl"||b==="bind"||b==="checkout"||b==="connect"||b==="copy"||b==="delete"||b==="get"||b==="head"||b==="link"||b==="lock"||b==="m-search"||b==="merge"||b==="mkactivity"||b==="mkcalendar"||b==="mkcol"||b==="move"||b==="notify"||b==="options"||b==="patch"||b==="post"||b==="propfind"||b==="proppatch"||b==="purge"||b==="put"||b==="rebind"||b==="report"||b==="search"||b==="source"||b==="subscribe"||b==="trace"||b==="unbind"||b==="unlink"||b==="unlock"||b==="unsubscribe"))return Kr.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/enum",keyword:"enum",params:{allowedValues:J7e.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var m=_===a}else var m=!0;if(m)if(e.validate!==void 0){let b=e.validate,_=a;if(typeof b!="boolean"){let w;if(w===void 0)if(b==="false"||b===0||b===null)w=!1;else if(b==="true"||b===1)w=!0;else return Kr.errors=[{instancePath:t+"/validate",schemaPath:"#/properties/validate/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;w!==void 0&&(b=w,e!==void 0&&(e.validate=w))}var m=_===a}else var m=!0}}}}}}}}}else return Kr.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Kr.errors=i,a===0}});var QZ=I((mmt,Qm)=>{"use strict";var X7e=require("node:assert"),KN=NZ(),dx=$Z(),px="The dispatch function has already been invoked",MZ=LZ();function YN(e,t,r){return r===void 0?new Fm(e,t):fx(e,t,r)}function FZ(e,t,r,n){return r.once("error",function(s){this.destroyed&&n.destroy(s)}),r.once("close",function(){this.destroyed&&!this._error&&n.destroy()}),r.prepare(()=>e.call(t,r,n))}function fx(e,t,r){if(t=typeof t=="string"?{url:t}:t,t.validate!==!1&&(X7e(typeof e=="function","dispatchFunc should be a function"),!MZ(t)))throw new Error(MZ.errors.map(a=>a.message));let n=t.server||{},s=t.Request?KN.CustomRequest:KN;if(e.request&&e.request.app===e&&(Object.setPrototypeOf(Object.getPrototypeOf(e.request),s.prototype),Object.setPrototypeOf(Object.getPrototypeOf(e.response),dx.prototype)),typeof r=="function"){let i=new s(t),a=new dx(i,r);return FZ(e,n,i,a)}else return new Promise((i,a)=>{let o=new s(t),c=new dx(o,i,a);FZ(e,n,o,c)})}function Fm(e,t){typeof t=="string"?this.option={url:t}:this.option=Object.assign({},t),this.dispatch=e,this._hasInvoked=!1,this._promise=null,this.option.autoStart!==!1&&process.nextTick(()=>{this._hasInvoked||this.end()})}var Z7e=["delete","get","head","options","patch","post","put","trace"];Z7e.forEach(e=>{Fm.prototype[e]=function(t){if(this._hasInvoked===!0||this._promise)throw new Error(px);return this.option.url=t,this.option.method=e.toUpperCase(),this}});var eqe=["body","cookies","headers","payload","query"];eqe.forEach(e=>{Fm.prototype[e]=function(t){if(this._hasInvoked===!0||this._promise)throw new Error(px);return this.option[e]=t,this}});Fm.prototype.end=function(e){if(this._hasInvoked===!0||this._promise)throw new Error(px);if(this._hasInvoked=!0,typeof e=="function")fx(this.dispatch,this.option,e);else return this._promise=fx(this.dispatch,this.option),this._promise};Object.getOwnPropertyNames(Promise.prototype).forEach(e=>{e!=="constructor"&&(Fm.prototype[e]=function(...t){if(!this._promise){if(this._hasInvoked===!0)throw new Error(px);this._hasInvoked=!0,this._promise=fx(this.dispatch,this.option)}return this._promise[e](...t)})});function tqe(e){return e instanceof KN||e instanceof dx||e&&e.constructor&&e.constructor.name==="_CustomLMRRequest"}Qm.exports=YN;Qm.exports.default=YN;Qm.exports.inject=YN;Qm.exports.isInjection=tqe});var tee=I((gmt,Ax)=>{"use strict";var rqe="4.26.0",nqe=AL(),WN=require("node:http"),Um,{kAvvioBoot:qm,kChildren:JN,kServerBindings:UZ,kBodyLimit:sqe,kRoutePrefix:qZ,kLogLevel:iqe,kLogSerializers:aqe,kHooks:XN,kSchemaController:Vc,kRequestAcceptVersion:oqe,kReplySerializerDefault:jZ,kContentTypeParser:cqe,kReply:uqe,kRequest:lqe,kFourOhFour:dqe,kState:zr,kOptions:ZN,kPluginNameChain:jm,kSchemaErrorFormatter:ek,kErrorHandler:hx,kKeepAliveConnections:tk,kChildLoggerFactory:rk,kGenReqId:nk}=cn(),{createServer:fqe,compileValidateHTTPVersion:pqe}=QL(),Hm=M1(),mx=tb(),hqe=rb(),{supportedMethods:mqe}=_T(),Xf=TT(),Rl=LT(),HZ=oN(),{Hooks:gqe,hookRunnerApplication:zZ,supportedHooks:sk}=lc(),{createLogger:Aqe,createChildLogger:GZ,defaultChildLoggerFactory:yqe}=_0(),VZ=pN(),{getGenReqId:KZ,reqIdGenFactory:YZ}=UE(),{buildRouting:bqe,validateBodyLimitOption:Eqe}=eZ(),xqe=oZ(),eee=lZ(),vqe=bZ(),{FSTDEP009:_qe}=oo(),Iqe=xZ(),{appendStackTrace:Cqe,AVVIO_ERRORS_MAP:WZ,...Nl}=Ln(),{defaultInitOptions:Os}=eee,{FST_ERR_ASYNC_CONSTRAINT:wqe,FST_ERR_BAD_URL:Sqe,FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE:Tqe,FST_ERR_OPTIONS_NOT_OBJ:Bqe,FST_ERR_QSP_NOT_FN:Rqe,FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN:Nqe,FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ:kqe,FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR:Dqe,FST_ERR_VERSION_CONSTRAINT_NOT_STR:Pqe,FST_ERR_INSTANCE_ALREADY_LISTENING:Oqe,FST_ERR_REOPENED_CLOSE_SERVER:$qe,FST_ERR_ROUTE_REWRITE_NOT_STR:Lqe,FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN:JZ}=Nl,{buildErrorHandler:XZ}=rh();function Mqe(e){let t={};return["errorHandler","logLevel","logSerializers"].concat(sk).forEach(n=>{t[n]=e.store[n]}),Object.assign({},t)}function gx(e){if(e=e||{},typeof e!="object")throw new Bqe;if(e.querystringParser&&typeof e.querystringParser!="function")throw new Rqe(typeof e.querystringParser);if(e.schemaController&&e.schemaController.bucket&&typeof e.schemaController.bucket!="function")throw new Nqe(typeof e.schemaController.bucket);Eqe(e.bodyLimit);let t=e.requestIdHeader===!1?!1:(e.requestIdHeader||Os.requestIdHeader).toLowerCase(),r=YZ(t,e.genReqId),n=e.requestIdLogLabel||"reqId",s=e.bodyLimit||Os.bodyLimit,i=e.disableRequestLogging||!1,a=Object.assign({customOptions:{},plugins:[]},e.ajv),o=e.frameworkErrors;if(!a.customOptions||Object.prototype.toString.call(a.customOptions)!=="[object Object]")throw new kqe(typeof a.customOptions);if(!a.plugins||!Array.isArray(a.plugins))throw new Dqe(typeof a.plugins);let{logger:c,hasLogger:u}=Aqe(e);e.connectionTimeout=e.connectionTimeout||Os.connectionTimeout,e.keepAliveTimeout=e.keepAliveTimeout||Os.keepAliveTimeout,e.maxRequestsPerSocket=e.maxRequestsPerSocket||Os.maxRequestsPerSocket,e.requestTimeout=e.requestTimeout||Os.requestTimeout,e.logger=c,e.requestIdHeader=t,e.requestIdLogLabel=n,e.disableRequestLogging=i,e.ajv=a,e.clientErrorHandler=e.clientErrorHandler||G;let l=eee(e);e.exposeHeadRoutes=l.exposeHeadRoutes;let d=e.constraints;e.versioning&&(_qe(),d={...d,version:{name:"version",mustMatchWhenDerived:!0,storage:e.versioning.storage,deriveConstraint:e.versioning.deriveVersion,validate($){if(typeof $!="string")throw new Pqe}}});let f=bqe({config:{defaultRoute:J,onBadUrl:Q,constraints:d,ignoreTrailingSlash:e.ignoreTrailingSlash||Os.ignoreTrailingSlash,ignoreDuplicateSlashes:e.ignoreDuplicateSlashes||Os.ignoreDuplicateSlashes,maxParamLength:e.maxParamLength||Os.maxParamLength,caseSensitive:e.caseSensitive,allowUnsafeRegex:e.allowUnsafeRegex||Os.allowUnsafeRegex,buildPrettyMeta:Mqe,querystringParser:e.querystringParser,useSemicolonDelimiter:e.useSemicolonDelimiter??Os.useSemicolonDelimiter}}),h=xqe(e),p=L(f,e);e.http2SessionTimeout=l.http2SessionTimeout;let{server:m,listen:A}=fqe(e,p),g=typeof m.closeAllConnections=="function",x=typeof m.closeIdleConnections=="function",y=e.forceCloseConnections;if(y==="idle"&&!x)throw new Tqe;typeof y!="boolean"&&(y=x?"idle":!1);let b=!g&&y===!0?new Set:Iqe(),_=Hm.setupResponseListeners,C=HZ.buildSchemaController(null,e.schemaController),w={[zr]:{listening:!1,closing:!1,started:!1,ready:!1,booting:!1,readyPromise:null},[tk]:b,[ZN]:e,[JN]:[],[UZ]:[],[sqe]:s,[qZ]:"",[iqe]:"",[aqe]:null,[XN]:new gqe,[Vc]:C,[ek]:null,[hx]:XZ(),[rk]:yqe,[jZ]:null,[cqe]:new Rl(s,e.onProtoPoisoning||Os.onProtoPoisoning,e.onConstructorPoisoning||Os.onConstructorPoisoning),[uqe]:Hm.buildReply(Hm),[lqe]:mx.buildRequest(mx,e.trustProxy),[dqe]:h,[VZ.kRegisteredPlugins]:[],[jm]:["fastify"],[qm]:null,[nk]:r,routing:p,getDefaultRoute:f.getDefaultRoute.bind(f),setDefaultRoute:f.setDefaultRoute.bind(f),delete:function(F,z,W){return f.prepareRoute.call(this,{method:"DELETE",url:F,options:z,handler:W})},get:function(F,z,W){return f.prepareRoute.call(this,{method:"GET",url:F,options:z,handler:W})},head:function(F,z,W){return f.prepareRoute.call(this,{method:"HEAD",url:F,options:z,handler:W})},patch:function(F,z,W){return f.prepareRoute.call(this,{method:"PATCH",url:F,options:z,handler:W})},post:function(F,z,W){return f.prepareRoute.call(this,{method:"POST",url:F,options:z,handler:W})},put:function(F,z,W){return f.prepareRoute.call(this,{method:"PUT",url:F,options:z,handler:W})},options:function(F,z,W){return f.prepareRoute.call(this,{method:"OPTIONS",url:F,options:z,handler:W})},all:function(F,z,W){return f.prepareRoute.call(this,{method:mqe,url:F,options:z,handler:W})},route:function(F){return f.route.call(this,{options:F})},hasRoute:function(F){return f.hasRoute.call(this,{options:F})},findRoute:function(F){return f.findRoute(F)},log:c,withTypeProvider:k,addHook:q,addSchema:j,getSchema:C.getSchema.bind(C),getSchemas:C.getSchemas.bind(C),setValidatorCompiler:ee,setSerializerCompiler:Ee,setSchemaController:ve,setReplySerializer:Ie,setSchemaErrorFormatter:ie,setGenReqId:U,addContentTypeParser:Rl.helpers.addContentTypeParser,hasContentTypeParser:Rl.helpers.hasContentTypeParser,getDefaultJsonParser:Rl.defaultParsers.getDefaultJsonParser,defaultTextParser:Rl.defaultParsers.defaultTextParser,removeContentTypeParser:Rl.helpers.removeContentTypeParser,removeAllContentTypeParsers:Rl.helpers.removeAllContentTypeParsers,register:null,after:null,ready:null,onClose:null,close:null,printPlugins:null,hasPlugin:function($){return this[VZ.kRegisteredPlugins].includes($)||this[jm].includes($)},listen:A,server:m,addresses:function(){let $=this[UZ].map(F=>F.address());return $.push(this.server.address()),$.filter(F=>F)},decorate:Xf.add,hasDecorator:Xf.exist,decorateReply:Xf.decorateReply,decorateRequest:Xf.decorateRequest,hasRequestDecorator:Xf.existRequest,hasReplyDecorator:Xf.existReply,inject:N,printRoutes:O,setNotFoundHandler:ne,setErrorHandler:xe,setChildLoggerFactory:ge,initialConfig:l,addConstraintStrategy:f.addConstraintStrategy.bind(f),hasConstraintStrategy:f.hasConstraintStrategy.bind(f)};Object.defineProperties(w,{listeningOrigin:{get(){let $=this.addresses().slice(-1).pop();if(typeof $=="string")return $;let F=$.family==="IPv6"?`[${$.address}]`:$.address;return`${this[ZN].https?"https":"http"}://${F}:${$.port}`}},pluginName:{configurable:!0,get(){return this[jm].length>1?this[jm].join(" -> "):this[jm][0]}},prefix:{configurable:!0,get(){return this[qZ]}},validatorCompiler:{configurable:!0,get(){return this[Vc].getValidatorCompiler()}},serializerCompiler:{configurable:!0,get(){return this[Vc].getSerializerCompiler()}},childLoggerFactory:{configurable:!0,get(){return this[rk]}},version:{configurable:!0,get(){return rqe}},errorHandler:{configurable:!0,get(){return this[hx].func}},genReqId:{configurable:!0,get(){return this[nk]}}}),e.schemaErrorFormatter&&(ZZ(e.schemaErrorFormatter),w[ek]=e.schemaErrorFormatter.bind(w));let S=Number(e.pluginTimeout),T=nqe(w,{autostart:!1,timeout:isNaN(S)===!1?S:Os.pluginTimeout,expose:{use:"register"}});T.override=vqe,T.on("start",()=>w[zr].started=!0),w[qm]=w.ready,w.ready=D,w.printPlugins=T.prettyPrint.bind(T),T.once("preReady",()=>{w.onClose(($,F)=>{w[zr].closing=!0,f.closeRoutes(),zZ("preClose",w[qm],w,function(){if(w[zr].listening){if(y==="idle")$.server.closeIdleConnections();else if(g&&y)$.server.closeAllConnections();else if(y===!0)for(let z of w[tk])z.destroy(),w[tk].delete(z)}!e.serverFactory||w[zr].listening?$.server.close(function(z){z&&z.code!=="ERR_SERVER_NOT_RUNNING"?F(null):F()}):process.nextTick(F,null)})})});let R=new hqe({server:w,config:{}});w.setNotFoundHandler(),h.arrange404(w),f.setup(e,{avvio:T,fourOhFour:h,logger:c,hasLogger:u,setupResponseListeners:_,throwIfAlreadyStarted:P,validateHTTPVersion:pqe(e),keepAliveConnections:b}),m.on("clientError",e.clientErrorHandler.bind(w));try{let F=require("node:diagnostics_channel").channel("fastify.initialization");F.hasSubscribers&&F.publish({fastify:w})}catch{}return"asyncDispose"in Symbol&&(w[Symbol.asyncDispose]=function(){return w.close()}),w;function P($){if(w[zr].started)throw new Oqe($)}function N($,F){if(Um===void 0&&(Um=QZ()),w[zr].started){if(w[zr].closing){let z=new $qe;if(F){F(z);return}else return Promise.reject(z)}return Um(p,$,F)}if(F)this.ready(z=>{z?F(z,null):Um(p,$,F)});else return Um((z,W)=>{this.ready(function(V){if(V){W.emit("error",V);return}p(z,W)})},$)}function D($){if(this[zr].readyPromise!==null){if($!=null){this[zr].readyPromise.then(()=>$(null,w),$);return}return this[zr].readyPromise}let F,z;if(process.nextTick(W),this[zr].readyPromise=new Promise(function(Y,X){F=Y,z=X}),$)this[zr].readyPromise.then(()=>$(null,w),$);else return this[zr].readyPromise;function W(){w[qm]((Y,X)=>{Y||w[zr].started||w[zr].ready||w[zr].booting?V(Y):(w[zr].booting=!0,zZ("onReady",w[qm],w,V)),X()})}function V(Y){if(Y=Y!=null&&WZ[Y.code]!=null?Cqe(Y,new WZ[Y.code](Y.message)):Y,Y)return z(Y);F(w),w[zr].booting=!1,w[zr].ready=!0,w[zr].promise=null}}function k(){return this}function q($,F){if(P('Cannot call "addHook"!'),F==null)throw new Nl.FST_ERR_HOOK_INVALID_HANDLER($,F);if($==="onSend"||$==="preSerialization"||$==="onError"||$==="preParsing"){if(F.constructor.name==="AsyncFunction"&&F.length===4)throw new Nl.FST_ERR_HOOK_INVALID_ASYNC_HANDLER}else if($==="onReady"||$==="onListen"){if(F.constructor.name==="AsyncFunction"&&F.length!==0)throw new Nl.FST_ERR_HOOK_INVALID_ASYNC_HANDLER}else if($==="onRequestAbort"){if(F.constructor.name==="AsyncFunction"&&F.length!==1)throw new Nl.FST_ERR_HOOK_INVALID_ASYNC_HANDLER}else if(F.constructor.name==="AsyncFunction"&&F.length===3)throw new Nl.FST_ERR_HOOK_INVALID_ASYNC_HANDLER;return $==="onClose"?this.onClose(F):$==="onReady"||$==="onListen"||$==="onRoute"?this[XN].add($,F):this.after((W,V)=>{z.call(this,$,F),V(W)}),this;function z(W,V){this[XN].add(W,V),this[JN].forEach(Y=>z.call(Y,W,V))}}function j($){return P('Cannot call "addSchema"!'),this[Vc].add($),this[JN].forEach(F=>F.addSchema($)),this}function G($,F){if($.code==="ECONNRESET"||F.destroyed)return;let z,W,V,Y;$.code==="ERR_HTTP_REQUEST_TIMEOUT"?(W="408",V=WN.STATUS_CODES[W],z=`{"error":"${V}","message":"Client Timeout","statusCode":408}`,Y="timeout"):$.code==="HPE_HEADER_OVERFLOW"?(W="431",V=WN.STATUS_CODES[W],z=`{"error":"${V}","message":"Exceeded maximum allowed HTTP header size","statusCode":431}`,Y="header_overflow"):(W="400",V=WN.STATUS_CODES[W],z=`{"error":"${V}","message":"Client Error","statusCode":400}`,Y="error"),this.log.trace({err:$},`client ${Y}`),F.writable&&F.write(`HTTP/1.1 ${W} ${V}\r
Content-Length: ${z.length}\r
Content-Type: application/json\r
\r
${z}`),F.destroy($)}function J($,F){$.headers["accept-version"]!==void 0&&($.headers[oqe]=$.headers["accept-version"],$.headers["accept-version"]=void 0),h.router.lookup($,F)}function Q($,F,z){if(o){let V=KZ(R.server,F),Y=GZ(R,c,F,V),X=new mx(V,null,F,null,Y,R),Z=new Hm(z,X,Y);return i===!1&&Y.info({req:X},"incoming request"),o(new Sqe($),X,Z)}let W=`{"error":"Bad Request","code":"FST_ERR_BAD_URL","message":"'${$}' is not a valid url component","statusCode":400}`;z.writeHead(400,{"Content-Type":"application/json","Content-Length":W.length}),z.end(W)}function te($,F,z){if($!==!1)return function(V){if(V){if(o){let X=KZ(R.server,F),Z=GZ(R,c,F,X),ae=new mx(X,null,F,null,Z,R),pe=new Hm(z,ae,Z);return i===!1&&Z.info({req:ae},"incoming request"),o(new wqe,ae,pe)}let Y='{"error":"Internal Server Error","message":"Unexpected error from async constraint","statusCode":500}';z.writeHead(500,{"Content-Type":"application/json","Content-Length":Y.length}),z.end(Y)}}}function ne($,F){return P('Cannot call "setNotFoundHandler"!'),h.setNotFoundHandler.call(this,$,F,T,f.routeHandler),this}function ee($){return P('Cannot call "setValidatorCompiler"!'),this[Vc].setValidatorCompiler($),this}function ie($){return P('Cannot call "setSchemaErrorFormatter"!'),ZZ($),this[ek]=$.bind(this),this}function Ee($){return P('Cannot call "setSerializerCompiler"!'),this[Vc].setSerializerCompiler($),this}function ve($){P('Cannot call "setSchemaController"!');let F=this[Vc],z=HZ.buildSchemaController(F,Object.assign({},F.opts,$));return this[Vc]=z,this.getSchema=z.getSchema.bind(z),this.getSchemas=z.getSchemas.bind(z),this}function Ie($){return P('Cannot call "setReplySerializer"!'),this[jZ]=$,this}function xe($){return P('Cannot call "setErrorHandler"!'),this[hx]=XZ(this[hx],$.bind(this)),this}function ge($){return P('Cannot call "setChildLoggerFactory"!'),this[rk]=$,this}function O($={}){return $.includeMeta=$.includeHooks?$.includeMeta?sk.concat($.includeMeta):sk:$.includeMeta,f.printRoutes($)}function L($,{rewriteUrl:F,logger:z}){let W;return function(Y,X){if(W===void 0&&(W=$.isAsyncConstraint()),F){Y.originalUrl=Y.url;let Z=F.call(w,Y);if(typeof Z=="string")Y.url=Z;else{let ae=new Lqe(Y.url,typeof Z);Y.destroy(ae)}}$.routing(Y,X,te(W,Y,X))}}function U($){return P('Cannot call "setGenReqId"!'),this[nk]=YZ(this[ZN].requestIdHeader,$),this}}gx.errorCodes=Nl;function ZZ(e){if(typeof e!="function")throw new JZ(typeof e);if(e.constructor.name==="AsyncFunction")throw new JZ("AsyncFunction")}Ax.exports=gx;Ax.exports.fastify=gx;Ax.exports.default=gx});var mee=I((vmt,hee)=>{var pee=require("stream").Stream,bje=require("util");hee.exports=ra;function ra(){this.source=null,this.dataSize=0,this.maxDataSize=1024*1024,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}bje.inherits(ra,pee);ra.create=function(e,t){var r=new this;t=t||{};for(var n in t)r[n]=t[n];r.source=e;var s=e.emit;return e.emit=function(){return r._handleEmit(arguments),s.apply(e,arguments)},e.on("error",function(){}),r.pauseStream&&e.pause(),r};Object.defineProperty(ra.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}});ra.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)};ra.prototype.resume=function(){this._released||this.release(),this.source.resume()};ra.prototype.pause=function(){this.source.pause()};ra.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(e){this.emit.apply(this,e)}.bind(this)),this._bufferedEvents=[]};ra.prototype.pipe=function(){var e=pee.prototype.pipe.apply(this,arguments);return this.resume(),e};ra.prototype._handleEmit=function(e){if(this._released){this.emit.apply(this,e);return}e[0]==="data"&&(this.dataSize+=e[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(e)};ra.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(e))}}});var bee=I((_mt,yee)=>{var Eje=require("util"),Aee=require("stream").Stream,gee=mee();yee.exports=kr;function kr(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2*1024*1024,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}Eje.inherits(kr,Aee);kr.create=function(e){var t=new this;e=e||{};for(var r in e)t[r]=e[r];return t};kr.isStreamLike=function(e){return typeof e!="function"&&typeof e!="string"&&typeof e!="boolean"&&typeof e!="number"&&!Buffer.isBuffer(e)};kr.prototype.append=function(e){var t=kr.isStreamLike(e);if(t){if(!(e instanceof gee)){var r=gee.create(e,{maxDataSize:1/0,pauseStream:this.pauseStreams});e.on("data",this._checkDataSize.bind(this)),e=r}this._handleErrors(e),this.pauseStreams&&e.pause()}return this._streams.push(e),this};kr.prototype.pipe=function(e,t){return Aee.prototype.pipe.call(this,e,t),this.resume(),e};kr.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}};kr.prototype._realGetNext=function(){var e=this._streams.shift();if(typeof e>"u"){this.end();return}if(typeof e!="function"){this._pipeNext(e);return}var t=e;t(function(r){var n=kr.isStreamLike(r);n&&(r.on("data",this._checkDataSize.bind(this)),this._handleErrors(r)),this._pipeNext(r)}.bind(this))};kr.prototype._pipeNext=function(e){this._currentStream=e;var t=kr.isStreamLike(e);if(t){e.on("end",this._getNext.bind(this)),e.pipe(this,{end:!1});return}var r=e;this.write(r),this._getNext()};kr.prototype._handleErrors=function(e){var t=this;e.on("error",function(r){t._emitError(r)})};kr.prototype.write=function(e){this.emit("data",e)};kr.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&typeof this._currentStream.pause=="function"&&this._currentStream.pause(),this.emit("pause"))};kr.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&typeof this._currentStream.resume=="function"&&this._currentStream.resume(),this.emit("resume")};kr.prototype.end=function(){this._reset(),this.emit("end")};kr.prototype.destroy=function(){this._reset(),this.emit("close")};kr.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null};kr.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(e))}};kr.prototype._updateDataSize=function(){this.dataSize=0;var e=this;this._streams.forEach(function(t){t.dataSize&&(e.dataSize+=t.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)};kr.prototype._emitError=function(e){this._reset(),this.emit("error",e)}});var Eee=I((Imt,xje)=>{xje.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var vee=I((Cmt,xee)=>{xee.exports=Eee()});var Cee=I($s=>{"use strict";var vx=vee(),vje=require("path").extname,_ee=/^\s*([^;\s]*)(?:;|\s|$)/,_je=/^text\//i;$s.charset=Iee;$s.charsets={lookup:Iee};$s.contentType=Ije;$s.extension=Cje;$s.extensions=Object.create(null);$s.lookup=wje;$s.types=Object.create(null);Sje($s.extensions,$s.types);function Iee(e){if(!e||typeof e!="string")return!1;var t=_ee.exec(e),r=t&&vx[t[1].toLowerCase()];return r&&r.charset?r.charset:t&&_je.test(t[1])?"UTF-8":!1}function Ije(e){if(!e||typeof e!="string")return!1;var t=e.indexOf("/")===-1?$s.lookup(e):e;if(!t)return!1;if(t.indexOf("charset")===-1){var r=$s.charset(t);r&&(t+="; charset="+r.toLowerCase())}return t}function Cje(e){if(!e||typeof e!="string")return!1;var t=_ee.exec(e),r=t&&$s.extensions[t[1].toLowerCase()];return!r||!r.length?!1:r[0]}function wje(e){if(!e||typeof e!="string")return!1;var t=vje("x."+e).toLowerCase().substr(1);return t&&$s.types[t]||!1}function Sje(e,t){var r=["nginx","apache",void 0,"iana"];Object.keys(vx).forEach(function(s){var i=vx[s],a=i.extensions;if(!(!a||!a.length)){e[s]=a;for(var o=0;o<a.length;o++){var c=a[o];if(t[c]){var u=r.indexOf(vx[t[c]].source),l=r.indexOf(i.source);if(t[c]!=="application/octet-stream"&&(u>l||u===l&&t[c].substr(0,12)==="application/"))continue}t[c]=s}}})}});var See=I((Smt,wee)=>{wee.exports=Tje;function Tje(e){var t=typeof setImmediate=="function"?setImmediate:typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick:null;t?t(e):setTimeout(e,0)}});var ck=I((Tmt,Bee)=>{var Tee=See();Bee.exports=Bje;function Bje(e){var t=!1;return Tee(function(){t=!0}),function(n,s){t?e(n,s):Tee(function(){e(n,s)})}}});var uk=I((Bmt,Ree)=>{Ree.exports=Rje;function Rje(e){Object.keys(e.jobs).forEach(Nje.bind(e)),e.jobs={}}function Nje(e){typeof this.jobs[e]=="function"&&this.jobs[e]()}});var lk=I((Rmt,kee)=>{var Nee=ck(),kje=uk();kee.exports=Dje;function Dje(e,t,r,n){var s=r.keyedList?r.keyedList[r.index]:r.index;r.jobs[s]=Pje(t,s,e[s],function(i,a){s in r.jobs&&(delete r.jobs[s],i?kje(r):r.results[s]=a,n(i,r.results))})}function Pje(e,t,r,n){var s;return e.length==2?s=e(r,Nee(n)):s=e(r,t,Nee(n)),s}});var dk=I((Nmt,Dee)=>{Dee.exports=Oje;function Oje(e,t){var r=!Array.isArray(e),n={index:0,keyedList:r||t?Object.keys(e):null,jobs:{},results:r?{}:[],size:r?Object.keys(e).length:e.length};return t&&n.keyedList.sort(r?t:function(s,i){return t(e[s],e[i])}),n}});var fk=I((kmt,Pee)=>{var $je=uk(),Lje=ck();Pee.exports=Mje;function Mje(e){Object.keys(this.jobs).length&&(this.index=this.size,$je(this),Lje(e)(null,this.results))}});var $ee=I((Dmt,Oee)=>{var Fje=lk(),Qje=dk(),Uje=fk();Oee.exports=qje;function qje(e,t,r){for(var n=Qje(e);n.index<(n.keyedList||e).length;)Fje(e,t,n,function(s,i){if(s){r(s,i);return}if(Object.keys(n.jobs).length===0){r(null,n.results);return}}),n.index++;return Uje.bind(n,r)}});var pk=I((Pmt,_x)=>{var Lee=lk(),jje=dk(),Hje=fk();_x.exports=zje;_x.exports.ascending=Mee;_x.exports.descending=Gje;function zje(e,t,r,n){var s=jje(e,r);return Lee(e,t,s,function i(a,o){if(a){n(a,o);return}if(s.index++,s.index<(s.keyedList||e).length){Lee(e,t,s,i);return}n(null,s.results)}),Hje.bind(s,n)}function Mee(e,t){return e<t?-1:e>t?1:0}function Gje(e,t){return-1*Mee(e,t)}});var Qee=I((Omt,Fee)=>{var Vje=pk();Fee.exports=Kje;function Kje(e,t,r){return Vje(e,t,null,r)}});var qee=I(($mt,Uee)=>{Uee.exports={parallel:$ee(),serial:Qee(),serialOrdered:pk()}});var hk=I((Lmt,jee)=>{"use strict";jee.exports=Object});var zee=I((Mmt,Hee)=>{"use strict";Hee.exports=Error});var Vee=I((Fmt,Gee)=>{"use strict";Gee.exports=EvalError});var Yee=I((Qmt,Kee)=>{"use strict";Kee.exports=RangeError});var Jee=I((Umt,Wee)=>{"use strict";Wee.exports=ReferenceError});var Zee=I((qmt,Xee)=>{"use strict";Xee.exports=SyntaxError});var Kc=I((jmt,ete)=>{"use strict";ete.exports=TypeError});var rte=I((Hmt,tte)=>{"use strict";tte.exports=URIError});var ste=I((zmt,nte)=>{"use strict";nte.exports=Math.abs});var ate=I((Gmt,ite)=>{"use strict";ite.exports=Math.floor});var cte=I((Vmt,ote)=>{"use strict";ote.exports=Math.max});var lte=I((Kmt,ute)=>{"use strict";ute.exports=Math.min});var fte=I((Ymt,dte)=>{"use strict";dte.exports=Math.pow});var hte=I((Wmt,pte)=>{"use strict";pte.exports=Math.round});var gte=I((Jmt,mte)=>{"use strict";mte.exports=Number.isNaN||function(t){return t!==t}});var yte=I((Xmt,Ate)=>{"use strict";var Yje=gte();Ate.exports=function(t){return Yje(t)||t===0?t:t<0?-1:1}});var Ete=I((Zmt,bte)=>{"use strict";bte.exports=Object.getOwnPropertyDescriptor});var mk=I((egt,xte)=>{"use strict";var Ix=Ete();if(Ix)try{Ix([],"length")}catch{Ix=null}xte.exports=Ix});var _te=I((tgt,vte)=>{"use strict";var Cx=Object.defineProperty||!1;if(Cx)try{Cx({},"a",{value:1})}catch{Cx=!1}vte.exports=Cx});var gk=I((rgt,Ite)=>{"use strict";Ite.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;t[r]=s;for(var i in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var a=Object.getOwnPropertySymbols(t);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(t,r);if(o.value!==s||o.enumerable!==!0)return!1}return!0}});var Ste=I((ngt,wte)=>{"use strict";var Cte=typeof Symbol<"u"&&Symbol,Wje=gk();wte.exports=function(){return typeof Cte!="function"||typeof Symbol!="function"||typeof Cte("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Wje()}});var Ak=I((sgt,Tte)=>{"use strict";Tte.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var yk=I((igt,Bte)=>{"use strict";var Jje=hk();Bte.exports=Jje.getPrototypeOf||null});var kte=I((agt,Nte)=>{"use strict";var Xje="Function.prototype.bind called on incompatible ",Zje=Object.prototype.toString,eHe=Math.max,tHe="[object Function]",Rte=function(t,r){for(var n=[],s=0;s<t.length;s+=1)n[s]=t[s];for(var i=0;i<r.length;i+=1)n[i+t.length]=r[i];return n},rHe=function(t,r){for(var n=[],s=r||0,i=0;s<t.length;s+=1,i+=1)n[i]=t[s];return n},nHe=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r};Nte.exports=function(t){var r=this;if(typeof r!="function"||Zje.apply(r)!==tHe)throw new TypeError(Xje+r);for(var n=rHe(arguments,1),s,i=function(){if(this instanceof s){var l=r.apply(this,Rte(n,arguments));return Object(l)===l?l:this}return r.apply(t,Rte(n,arguments))},a=eHe(0,r.length-n.length),o=[],c=0;c<a;c++)o[c]="$"+c;if(s=Function("binder","return function ("+nHe(o,",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var u=function(){};u.prototype=r.prototype,s.prototype=new u,u.prototype=null}return s}});var Km=I((ogt,Dte)=>{"use strict";var sHe=kte();Dte.exports=Function.prototype.bind||sHe});var wx=I((cgt,Pte)=>{"use strict";Pte.exports=Function.prototype.call});var bk=I((ugt,Ote)=>{"use strict";Ote.exports=Function.prototype.apply});var Lte=I((lgt,$te)=>{"use strict";$te.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var Fte=I((dgt,Mte)=>{"use strict";var iHe=Km(),aHe=bk(),oHe=wx(),cHe=Lte();Mte.exports=cHe||iHe.call(oHe,aHe)});var Ek=I((fgt,Qte)=>{"use strict";var uHe=Km(),lHe=Kc(),dHe=wx(),fHe=Fte();Qte.exports=function(t){if(t.length<1||typeof t[0]!="function")throw new lHe("a function is required");return fHe(uHe,dHe,t)}});var Gte=I((pgt,zte)=>{"use strict";var pHe=Ek(),Ute=mk(),jte;try{jte=[].__proto__===Array.prototype}catch(e){if(!e||typeof e!="object"||!("code"in e)||e.code!=="ERR_PROTO_ACCESS")throw e}var xk=!!jte&&Ute&&Ute(Object.prototype,"__proto__"),Hte=Object,qte=Hte.getPrototypeOf;zte.exports=xk&&typeof xk.get=="function"?pHe([xk.get]):typeof qte=="function"?function(t){return qte(t==null?t:Hte(t))}:!1});var Jte=I((hgt,Wte)=>{"use strict";var Vte=Ak(),Kte=yk(),Yte=Gte();Wte.exports=Vte?function(t){return Vte(t)}:Kte?function(t){if(!t||typeof t!="object"&&typeof t!="function")throw new TypeError("getProto: not an object");return Kte(t)}:Yte?function(t){return Yte(t)}:null});var Sx=I((mgt,Xte)=>{"use strict";var hHe=Function.prototype.call,mHe=Object.prototype.hasOwnProperty,gHe=Km();Xte.exports=gHe.call(hHe,mHe)});var Xm=I((ggt,sre)=>{"use strict";var Et,AHe=hk(),yHe=zee(),bHe=Vee(),EHe=Yee(),xHe=Jee(),sp=Zee(),np=Kc(),vHe=rte(),_He=ste(),IHe=ate(),CHe=cte(),wHe=lte(),SHe=fte(),THe=hte(),BHe=yte(),rre=Function,vk=function(e){try{return rre('"use strict"; return ('+e+").constructor;")()}catch{}},Ym=mk(),RHe=_te(),_k=function(){throw new np},NHe=Ym?function(){try{return arguments.callee,_k}catch{try{return Ym(arguments,"callee").get}catch{return _k}}}():_k,tp=Ste()(),ln=Jte(),kHe=yk(),DHe=Ak(),nre=bk(),Wm=wx(),rp={},PHe=typeof Uint8Array>"u"||!ln?Et:ln(Uint8Array),kl={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Et:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Et:ArrayBuffer,"%ArrayIteratorPrototype%":tp&&ln?ln([][Symbol.iterator]()):Et,"%AsyncFromSyncIteratorPrototype%":Et,"%AsyncFunction%":rp,"%AsyncGenerator%":rp,"%AsyncGeneratorFunction%":rp,"%AsyncIteratorPrototype%":rp,"%Atomics%":typeof Atomics>"u"?Et:Atomics,"%BigInt%":typeof BigInt>"u"?Et:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Et:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Et:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Et:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":yHe,"%eval%":eval,"%EvalError%":bHe,"%Float16Array%":typeof Float16Array>"u"?Et:Float16Array,"%Float32Array%":typeof Float32Array>"u"?Et:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Et:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Et:FinalizationRegistry,"%Function%":rre,"%GeneratorFunction%":rp,"%Int8Array%":typeof Int8Array>"u"?Et:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Et:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Et:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":tp&&ln?ln(ln([][Symbol.iterator]())):Et,"%JSON%":typeof JSON=="object"?JSON:Et,"%Map%":typeof Map>"u"?Et:Map,"%MapIteratorPrototype%":typeof Map>"u"||!tp||!ln?Et:ln(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":AHe,"%Object.getOwnPropertyDescriptor%":Ym,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Et:Promise,"%Proxy%":typeof Proxy>"u"?Et:Proxy,"%RangeError%":EHe,"%ReferenceError%":xHe,"%Reflect%":typeof Reflect>"u"?Et:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Et:Set,"%SetIteratorPrototype%":typeof Set>"u"||!tp||!ln?Et:ln(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Et:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":tp&&ln?ln(""[Symbol.iterator]()):Et,"%Symbol%":tp?Symbol:Et,"%SyntaxError%":sp,"%ThrowTypeError%":NHe,"%TypedArray%":PHe,"%TypeError%":np,"%Uint8Array%":typeof Uint8Array>"u"?Et:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Et:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Et:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Et:Uint32Array,"%URIError%":vHe,"%WeakMap%":typeof WeakMap>"u"?Et:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Et:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Et:WeakSet,"%Function.prototype.call%":Wm,"%Function.prototype.apply%":nre,"%Object.defineProperty%":RHe,"%Object.getPrototypeOf%":kHe,"%Math.abs%":_He,"%Math.floor%":IHe,"%Math.max%":CHe,"%Math.min%":wHe,"%Math.pow%":SHe,"%Math.round%":THe,"%Math.sign%":BHe,"%Reflect.getPrototypeOf%":DHe};if(ln)try{null.error}catch(e){Zte=ln(ln(e)),kl["%Error.prototype%"]=Zte}var Zte,OHe=function e(t){var r;if(t==="%AsyncFunction%")r=vk("async function () {}");else if(t==="%GeneratorFunction%")r=vk("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=vk("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var s=e("%AsyncGenerator%");s&&ln&&(r=ln(s.prototype))}return kl[t]=r,r},ere={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Jm=Km(),Tx=Sx(),$He=Jm.call(Wm,Array.prototype.concat),LHe=Jm.call(nre,Array.prototype.splice),tre=Jm.call(Wm,String.prototype.replace),Bx=Jm.call(Wm,String.prototype.slice),MHe=Jm.call(Wm,RegExp.prototype.exec),FHe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,QHe=/\\(\\)?/g,UHe=function(t){var r=Bx(t,0,1),n=Bx(t,-1);if(r==="%"&&n!=="%")throw new sp("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new sp("invalid intrinsic syntax, expected opening `%`");var s=[];return tre(t,FHe,function(i,a,o,c){s[s.length]=o?tre(c,QHe,"$1"):a||i}),s},qHe=function(t,r){var n=t,s;if(Tx(ere,n)&&(s=ere[n],n="%"+s[0]+"%"),Tx(kl,n)){var i=kl[n];if(i===rp&&(i=OHe(n)),typeof i>"u"&&!r)throw new np("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:s,name:n,value:i}}throw new sp("intrinsic "+t+" does not exist!")};sre.exports=function(t,r){if(typeof t!="string"||t.length===0)throw new np("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new np('"allowMissing" argument must be a boolean');if(MHe(/^%?[^%]*%?$/,t)===null)throw new sp("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=UHe(t),s=n.length>0?n[0]:"",i=qHe("%"+s+"%",r),a=i.name,o=i.value,c=!1,u=i.alias;u&&(s=u[0],LHe(n,$He([0,1],u)));for(var l=1,d=!0;l<n.length;l+=1){var f=n[l],h=Bx(f,0,1),p=Bx(f,-1);if((h==='"'||h==="'"||h==="`"||p==='"'||p==="'"||p==="`")&&h!==p)throw new sp("property names with quotes must have matching quotes");if((f==="constructor"||!d)&&(c=!0),s+="."+f,a="%"+s+"%",Tx(kl,a))o=kl[a];else if(o!=null){if(!(f in o)){if(!r)throw new np("base intrinsic for "+t+" exists, but the property is not available.");return}if(Ym&&l+1>=n.length){var m=Ym(o,f);d=!!m,d&&"get"in m&&!("originalValue"in m.get)?o=m.get:o=o[f]}else d=Tx(o,f),o=o[f];d&&!c&&(kl[a]=o)}}return o}});var are=I((Agt,ire)=>{"use strict";var jHe=gk();ire.exports=function(){return jHe()&&!!Symbol.toStringTag}});var ure=I((ygt,cre)=>{"use strict";var HHe=Xm(),ore=HHe("%Object.defineProperty%",!0),zHe=are()(),GHe=Sx(),VHe=Kc(),Rx=zHe?Symbol.toStringTag:null;cre.exports=function(t,r){var n=arguments.length>2&&!!arguments[2]&&arguments[2].force,s=arguments.length>2&&!!arguments[2]&&arguments[2].nonConfigurable;if(typeof n<"u"&&typeof n!="boolean"||typeof s<"u"&&typeof s!="boolean")throw new VHe("if provided, the `overrideIfSet` and `nonConfigurable` options must be booleans");Rx&&(n||!GHe(t,Rx))&&(ore?ore(t,Rx,{configurable:!s,enumerable:!1,value:r,writable:!1}):t[Rx]=r)}});var dre=I((bgt,lre)=>{"use strict";lre.exports=function(e,t){return Object.keys(t).forEach(function(r){e[r]=e[r]||t[r]}),e}});var pre=I((Egt,fre)=>{"use strict";var Sk=bee(),KHe=require("util"),Ik=require("path"),YHe=require("http"),WHe=require("https"),JHe=require("url").parse,XHe=require("fs"),ZHe=require("stream").Stream,eze=require("crypto"),Ck=Cee(),tze=qee(),rze=ure(),Yc=Sx(),wk=dre();function Nt(e){if(!(this instanceof Nt))return new Nt(e);this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],Sk.call(this),e=e||{};for(var t in e)this[t]=e[t]}KHe.inherits(Nt,Sk);Nt.LINE_BREAK=`\r
`;Nt.DEFAULT_CONTENT_TYPE="application/octet-stream";Nt.prototype.append=function(e,t,r){r=r||{},typeof r=="string"&&(r={filename:r});var n=Sk.prototype.append.bind(this);if((typeof t=="number"||t==null)&&(t=String(t)),Array.isArray(t)){this._error(new Error("Arrays are not supported."));return}var s=this._multiPartHeader(e,t,r),i=this._multiPartFooter();n(s),n(t),n(i),this._trackLength(s,t,r)};Nt.prototype._trackLength=function(e,t,r){var n=0;r.knownLength!=null?n+=Number(r.knownLength):Buffer.isBuffer(t)?n=t.length:typeof t=="string"&&(n=Buffer.byteLength(t)),this._valueLength+=n,this._overheadLength+=Buffer.byteLength(e)+Nt.LINE_BREAK.length,!(!t||!t.path&&!(t.readable&&Yc(t,"httpVersion"))&&!(t instanceof ZHe))&&(r.knownLength||this._valuesToMeasure.push(t))};Nt.prototype._lengthRetriever=function(e,t){Yc(e,"fd")?e.end!=null&&e.end!=1/0&&e.start!=null?t(null,e.end+1-(e.start?e.start:0)):XHe.stat(e.path,function(r,n){if(r){t(r);return}var s=n.size-(e.start?e.start:0);t(null,s)}):Yc(e,"httpVersion")?t(null,Number(e.headers["content-length"])):Yc(e,"httpModule")?(e.on("response",function(r){e.pause(),t(null,Number(r.headers["content-length"]))}),e.resume()):t("Unknown stream")};Nt.prototype._multiPartHeader=function(e,t,r){if(typeof r.header=="string")return r.header;var n=this._getContentDisposition(t,r),s=this._getContentType(t,r),i="",a={"Content-Disposition":["form-data",'name="'+e+'"'].concat(n||[]),"Content-Type":[].concat(s||[])};typeof r.header=="object"&&wk(a,r.header);var o;for(var c in a)if(Yc(a,c)){if(o=a[c],o==null)continue;Array.isArray(o)||(o=[o]),o.length&&(i+=c+": "+o.join("; ")+Nt.LINE_BREAK)}return"--"+this.getBoundary()+Nt.LINE_BREAK+i+Nt.LINE_BREAK};Nt.prototype._getContentDisposition=function(e,t){var r;if(typeof t.filepath=="string"?r=Ik.normalize(t.filepath).replace(/\\/g,"/"):t.filename||e&&(e.name||e.path)?r=Ik.basename(t.filename||e&&(e.name||e.path)):e&&e.readable&&Yc(e,"httpVersion")&&(r=Ik.basename(e.client._httpMessage.path||"")),r)return'filename="'+r+'"'};Nt.prototype._getContentType=function(e,t){var r=t.contentType;return!r&&e&&e.name&&(r=Ck.lookup(e.name)),!r&&e&&e.path&&(r=Ck.lookup(e.path)),!r&&e&&e.readable&&Yc(e,"httpVersion")&&(r=e.headers["content-type"]),!r&&(t.filepath||t.filename)&&(r=Ck.lookup(t.filepath||t.filename)),!r&&e&&typeof e=="object"&&(r=Nt.DEFAULT_CONTENT_TYPE),r};Nt.prototype._multiPartFooter=function(){return function(e){var t=Nt.LINE_BREAK,r=this._streams.length===0;r&&(t+=this._lastBoundary()),e(t)}.bind(this)};Nt.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+Nt.LINE_BREAK};Nt.prototype.getHeaders=function(e){var t,r={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(t in e)Yc(e,t)&&(r[t.toLowerCase()]=e[t]);return r};Nt.prototype.setBoundary=function(e){if(typeof e!="string")throw new TypeError("FormData boundary must be a string");this._boundary=e};Nt.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary};Nt.prototype.getBuffer=function(){for(var e=new Buffer.alloc(0),t=this.getBoundary(),r=0,n=this._streams.length;r<n;r++)typeof this._streams[r]!="function"&&(Buffer.isBuffer(this._streams[r])?e=Buffer.concat([e,this._streams[r]]):e=Buffer.concat([e,Buffer.from(this._streams[r])]),(typeof this._streams[r]!="string"||this._streams[r].substring(2,t.length+2)!==t)&&(e=Buffer.concat([e,Buffer.from(Nt.LINE_BREAK)])));return Buffer.concat([e,Buffer.from(this._lastBoundary())])};Nt.prototype._generateBoundary=function(){this._boundary="--------------------------"+eze.randomBytes(12).toString("hex")};Nt.prototype.getLengthSync=function(){var e=this._overheadLength+this._valueLength;return this._streams.length&&(e+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),e};Nt.prototype.hasKnownLength=function(){var e=!0;return this._valuesToMeasure.length&&(e=!1),e};Nt.prototype.getLength=function(e){var t=this._overheadLength+this._valueLength;if(this._streams.length&&(t+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(e.bind(this,null,t));return}tze.parallel(this._valuesToMeasure,this._lengthRetriever,function(r,n){if(r){e(r);return}n.forEach(function(s){t+=s}),e(null,t)})};Nt.prototype.submit=function(e,t){var r,n,s={method:"post"};return typeof e=="string"?(e=JHe(e),n=wk({port:e.port,path:e.pathname,host:e.hostname,protocol:e.protocol},s)):(n=wk(e,s),n.port||(n.port=n.protocol==="https:"?443:80)),n.headers=this.getHeaders(e.headers),n.protocol==="https:"?r=WHe.request(n):r=YHe.request(n),this.getLength(function(i,a){if(i&&i!=="Unknown stream"){this._error(i);return}if(a&&r.setHeader("Content-Length",a),this.pipe(r),t){var o,c=function(u,l){return r.removeListener("error",c),r.removeListener("response",o),t.call(this,u,l)};o=c.bind(this,null),r.on("error",c),r.on("response",o)}}.bind(this)),r};Nt.prototype._error=function(e){this.error||(this.error=e,this.pause(),this.emit("error",e))};Nt.prototype.toString=function(){return"[object FormData]"};rze(Nt.prototype,"FormData");fre.exports=Nt});var Bre=I(Tre=>{"use strict";var yze=require("url").parse,bze={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},Eze=String.prototype.endsWith||function(e){return e.length<=this.length&&this.indexOf(e,this.length-e.length)!==-1};function xze(e){var t=typeof e=="string"?yze(e):e||{},r=t.protocol,n=t.host,s=t.port;if(typeof n!="string"||!n||typeof r!="string"||(r=r.split(":",1)[0],n=n.replace(/:\d*$/,""),s=parseInt(s)||bze[r]||0,!vze(n,s)))return"";var i=cp("npm_config_"+r+"_proxy")||cp(r+"_proxy")||cp("npm_config_proxy")||cp("all_proxy");return i&&i.indexOf("://")===-1&&(i=r+"://"+i),i}function vze(e,t){var r=(cp("npm_config_no_proxy")||cp("no_proxy")).toLowerCase();return r?r==="*"?!1:r.split(/[,\s]/).every(function(n){if(!n)return!0;var s=n.match(/^(.+):(\d+)$/),i=s?s[1]:n,a=s?parseInt(s[2]):0;return a&&a!==t?!0:/^[.*]/.test(i)?(i.charAt(0)==="*"&&(i=i.slice(1)),!Eze.call(e,i)):e!==i}):!0}function cp(e){return process.env[e.toLowerCase()]||process.env[e.toUpperCase()]||""}Tre.getProxyForUrl=xze});var Nre=I((xAt,Rre)=>{var up=1e3,lp=up*60,dp=lp*60,Ol=dp*24,_ze=Ol*7,Ize=Ol*365.25;Rre.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return Cze(e);if(r==="number"&&isFinite(e))return t.long?Sze(e):wze(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Cze(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Ize;case"weeks":case"week":case"w":return r*_ze;case"days":case"day":case"d":return r*Ol;case"hours":case"hour":case"hrs":case"hr":case"h":return r*dp;case"minutes":case"minute":case"mins":case"min":case"m":return r*lp;case"seconds":case"second":case"secs":case"sec":case"s":return r*up;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function wze(e){var t=Math.abs(e);return t>=Ol?Math.round(e/Ol)+"d":t>=dp?Math.round(e/dp)+"h":t>=lp?Math.round(e/lp)+"m":t>=up?Math.round(e/up)+"s":e+"ms"}function Sze(e){var t=Math.abs(e);return t>=Ol?Px(e,t,Ol,"day"):t>=dp?Px(e,t,dp,"hour"):t>=lp?Px(e,t,lp,"minute"):t>=up?Px(e,t,up,"second"):e+" ms"}function Px(e,t,r,n){var s=t>=r*1.5;return Math.round(e/r)+" "+n+(s?"s":"")}});var Lk=I((vAt,kre)=>{function Tze(e){r.debug=r,r.default=r,r.coerce=c,r.disable=a,r.enable=s,r.enabled=o,r.humanize=Nre(),r.destroy=u,Object.keys(e).forEach(l=>{r[l]=e[l]}),r.names=[],r.skips=[],r.formatters={};function t(l){let d=0;for(let f=0;f<l.length;f++)d=(d<<5)-d+l.charCodeAt(f),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=t;function r(l){let d,f=null,h,p;function m(...A){if(!m.enabled)return;let g=m,x=Number(new Date),y=x-(d||x);g.diff=y,g.prev=d,g.curr=x,d=x,A[0]=r.coerce(A[0]),typeof A[0]!="string"&&A.unshift("%O");let b=0;A[0]=A[0].replace(/%([a-zA-Z%])/g,(C,w)=>{if(C==="%%")return"%";b++;let S=r.formatters[w];if(typeof S=="function"){let T=A[b];C=S.call(g,T),A.splice(b,1),b--}return C}),r.formatArgs.call(g,A),(g.log||r.log).apply(g,A)}return m.namespace=l,m.useColors=r.useColors(),m.color=r.selectColor(l),m.extend=n,m.destroy=r.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(h!==r.namespaces&&(h=r.namespaces,p=r.enabled(l)),p),set:A=>{f=A}}),typeof r.init=="function"&&r.init(m),m}function n(l,d){let f=r(this.namespace+(typeof d>"u"?":":d)+l);return f.log=this.log,f}function s(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let d=(typeof l=="string"?l:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let f of d)f[0]==="-"?r.skips.push(f.slice(1)):r.names.push(f)}function i(l,d){let f=0,h=0,p=-1,m=0;for(;f<l.length;)if(h<d.length&&(d[h]===l[f]||d[h]==="*"))d[h]==="*"?(p=h,m=f,h++):(f++,h++);else if(p!==-1)h=p+1,m++,f=m;else return!1;for(;h<d.length&&d[h]==="*";)h++;return h===d.length}function a(){let l=[...r.names,...r.skips.map(d=>"-"+d)].join(",");return r.enable(""),l}function o(l){for(let d of r.skips)if(i(l,d))return!1;for(let d of r.names)if(i(l,d))return!0;return!1}function c(l){return l instanceof Error?l.stack||l.message:l}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}kre.exports=Tze});var Dre=I((Ls,Ox)=>{Ls.formatArgs=Rze;Ls.save=Nze;Ls.load=kze;Ls.useColors=Bze;Ls.storage=Dze();Ls.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Ls.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Bze(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Rze(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Ox.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(r++,s==="%c"&&(n=r))}),e.splice(n,0,t)}Ls.log=console.debug||console.log||(()=>{});function Nze(e){try{e?Ls.storage.setItem("debug",e):Ls.storage.removeItem("debug")}catch{}}function kze(){let e;try{e=Ls.storage.getItem("debug")||Ls.storage.getItem("DEBUG")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function Dze(){try{return localStorage}catch{}}Ox.exports=Lk()(Ls);var{formatters:Pze}=Ox.exports;Pze.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var Ore=I((_At,Pre)=>{"use strict";Pre.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),s=t.indexOf("--");return n!==-1&&(s===-1||n<s)}});var Mre=I((IAt,Lre)=>{"use strict";var Oze=require("os"),$re=require("tty"),Ci=Ore(),{env:dn}=process,Xc;Ci("no-color")||Ci("no-colors")||Ci("color=false")||Ci("color=never")?Xc=0:(Ci("color")||Ci("colors")||Ci("color=true")||Ci("color=always"))&&(Xc=1);"FORCE_COLOR"in dn&&(dn.FORCE_COLOR==="true"?Xc=1:dn.FORCE_COLOR==="false"?Xc=0:Xc=dn.FORCE_COLOR.length===0?1:Math.min(parseInt(dn.FORCE_COLOR,10),3));function Mk(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function Fk(e,t){if(Xc===0)return 0;if(Ci("color=16m")||Ci("color=full")||Ci("color=truecolor"))return 3;if(Ci("color=256"))return 2;if(e&&!t&&Xc===void 0)return 0;let r=Xc||0;if(dn.TERM==="dumb")return r;if(process.platform==="win32"){let n=Oze.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in dn)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in dn)||dn.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in dn)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(dn.TEAMCITY_VERSION)?1:0;if(dn.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in dn){let n=parseInt((dn.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(dn.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(dn.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(dn.TERM)||"COLORTERM"in dn?1:r}function $ze(e){let t=Fk(e,e&&e.isTTY);return Mk(t)}Lre.exports={supportsColor:$ze,stdout:Mk(Fk(!0,$re.isatty(1))),stderr:Mk(Fk(!0,$re.isatty(2)))}});var Qre=I((fn,Lx)=>{var Lze=require("tty"),$x=require("util");fn.init=Hze;fn.log=Uze;fn.formatArgs=Fze;fn.save=qze;fn.load=jze;fn.useColors=Mze;fn.destroy=$x.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");fn.colors=[6,2,3,4,5,1];try{let e=Mre();e&&(e.stderr||e).level>=2&&(fn.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}fn.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(s,i)=>i.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function Mze(){return"colors"in fn.inspectOpts?!!fn.inspectOpts.colors:Lze.isatty(process.stderr.fd)}function Fze(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,s="\x1B[3"+(n<8?n:"8;5;"+n),i=`  ${s};1m${t} \x1B[0m`;e[0]=i+e[0].split(`
`).join(`
`+i),e.push(s+"m+"+Lx.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=Qze()+t+" "+e[0]}function Qze(){return fn.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Uze(...e){return process.stderr.write($x.formatWithOptions(fn.inspectOpts,...e)+`
`)}function qze(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function jze(){return process.env.DEBUG}function Hze(e){e.inspectOpts={};let t=Object.keys(fn.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=fn.inspectOpts[t[r]]}Lx.exports=Lk()(fn);var{formatters:Fre}=Lx.exports;Fre.o=function(e){return this.inspectOpts.colors=this.useColors,$x.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};Fre.O=function(e){return this.inspectOpts.colors=this.useColors,$x.inspect(e,this.inspectOpts)}});var Ure=I((CAt,Qk)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Qk.exports=Dre():Qk.exports=Qre()});var jre=I((wAt,qre)=>{var rg;qre.exports=function(){if(!rg){try{rg=Ure()("follow-redirects")}catch{}typeof rg!="function"&&(rg=function(){})}rg.apply(null,arguments)}});var Kre=I((SAt,Xk)=>{var sg=require("url"),ng=sg.URL,zze=require("http"),Gze=require("https"),zk=require("stream").Writable,Gk=require("assert"),Hre=jre();(function(){var t=typeof process<"u",r=typeof window<"u"&&typeof document<"u",n=Ll(Error.captureStackTrace);!t&&(r||!n)&&console.warn("The follow-redirects package should be excluded from browser builds.")})();var Vk=!1;try{Gk(new ng(""))}catch(e){Vk=e.code==="ERR_INVALID_URL"}var Vze=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],Kk=["abort","aborted","connect","error","socket","timeout"],Yk=Object.create(null);Kk.forEach(function(e){Yk[e]=function(t,r,n){this._redirectable.emit(e,t,r,n)}});var qk=ig("ERR_INVALID_URL","Invalid URL",TypeError),jk=ig("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),Kze=ig("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",jk),Yze=ig("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),Wze=ig("ERR_STREAM_WRITE_AFTER_END","write after end"),Jze=zk.prototype.destroy||Gre;function Ms(e,t){zk.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var r=this;this._onNativeResponse=function(n){try{r._processResponse(n)}catch(s){r.emit("error",s instanceof jk?s:new jk({cause:s}))}},this._performRequest()}Ms.prototype=Object.create(zk.prototype);Ms.prototype.abort=function(){Jk(this._currentRequest),this._currentRequest.abort(),this.emit("abort")};Ms.prototype.destroy=function(e){return Jk(this._currentRequest,e),Jze.call(this,e),this};Ms.prototype.write=function(e,t,r){if(this._ending)throw new Wze;if(!$l(e)&&!eGe(e))throw new TypeError("data should be a string, Buffer or Uint8Array");if(Ll(t)&&(r=t,t=null),e.length===0){r&&r();return}this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,r)):(this.emit("error",new Yze),this.abort())};Ms.prototype.end=function(e,t,r){if(Ll(e)?(r=e,e=t=null):Ll(t)&&(r=t,t=null),!e)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var n=this,s=this._currentRequest;this.write(e,t,function(){n._ended=!0,s.end(null,null,r)}),this._ending=!0}};Ms.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)};Ms.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)};Ms.prototype.setTimeout=function(e,t){var r=this;function n(a){a.setTimeout(e),a.removeListener("timeout",a.destroy),a.addListener("timeout",a.destroy)}function s(a){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),i()},e),n(a)}function i(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",i),r.removeListener("error",i),r.removeListener("response",i),r.removeListener("close",i),t&&r.removeListener("timeout",t),r.socket||r._currentRequest.removeListener("socket",s)}return t&&this.on("timeout",t),this.socket?s(this.socket):this._currentRequest.once("socket",s),this.on("socket",n),this.on("abort",i),this.on("error",i),this.on("response",i),this.on("close",i),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(e){Ms.prototype[e]=function(t,r){return this._currentRequest[e](t,r)}});["aborted","connection","socket"].forEach(function(e){Object.defineProperty(Ms.prototype,e,{get:function(){return this._currentRequest[e]}})});Ms.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}};Ms.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(!t)throw new TypeError("Unsupported protocol "+e);if(this._options.agents){var r=e.slice(0,-1);this._options.agent=this._options.agents[r]}var n=this._currentRequest=t.request(this._options,this._onNativeResponse);n._redirectable=this;for(var s of Kk)n.on(s,Yk[s]);if(this._currentUrl=/^\//.test(this._options.path)?sg.format(this._options):this._options.path,this._isRedirect){var i=0,a=this,o=this._requestBodyBuffers;(function c(u){if(n===a._currentRequest)if(u)a.emit("error",u);else if(i<o.length){var l=o[i++];n.finished||n.write(l.data,l.encoding,c)}else a._ended&&n.end()})()}};Ms.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var r=e.headers.location;if(!r||this._options.followRedirects===!1||t<300||t>=400){e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[];return}if(Jk(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects)throw new Kze;var n,s=this._options.beforeRedirect;s&&(n=Object.assign({Host:e.req.getHeader("host")},this._options.headers));var i=this._options.method;((t===301||t===302)&&this._options.method==="POST"||t===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],Uk(/^content-/i,this._options.headers));var a=Uk(/^host$/i,this._options.headers),o=Wk(this._currentUrl),c=a||o.host,u=/^\w+:/.test(r)?this._currentUrl:sg.format(Object.assign(o,{host:c})),l=Xze(r,u);if(Hre("redirecting to",l.href),this._isRedirect=!0,Hk(l,this._options),(l.protocol!==o.protocol&&l.protocol!=="https:"||l.host!==c&&!Zze(l.host,c))&&Uk(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),Ll(s)){var d={headers:e.headers,statusCode:t},f={url:u,method:i,headers:n};s(this._options,d,f),this._sanitizeOptions(this._options)}this._performRequest()};function zre(e){var t={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(e).forEach(function(n){var s=n+":",i=r[s]=e[n],a=t[n]=Object.create(i);function o(u,l,d){return tGe(u)?u=Hk(u):$l(u)?u=Hk(Wk(u)):(d=l,l=Vre(u),u={protocol:s}),Ll(l)&&(d=l,l=null),l=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},u,l),l.nativeProtocols=r,!$l(l.host)&&!$l(l.hostname)&&(l.hostname="::1"),Gk.equal(l.protocol,s,"protocol mismatch"),Hre("options",l),new Ms(l,d)}function c(u,l,d){var f=a.request(u,l,d);return f.end(),f}Object.defineProperties(a,{request:{value:o,configurable:!0,enumerable:!0,writable:!0},get:{value:c,configurable:!0,enumerable:!0,writable:!0}})}),t}function Gre(){}function Wk(e){var t;if(Vk)t=new ng(e);else if(t=Vre(sg.parse(e)),!$l(t.protocol))throw new qk({input:e});return t}function Xze(e,t){return Vk?new ng(e,t):Wk(sg.resolve(t,e))}function Vre(e){if(/^\[/.test(e.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(e.hostname))throw new qk({input:e.href||e});if(/^\[/.test(e.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(e.host))throw new qk({input:e.href||e});return e}function Hk(e,t){var r=t||{};for(var n of Vze)r[n]=e[n];return r.hostname.startsWith("[")&&(r.hostname=r.hostname.slice(1,-1)),r.port!==""&&(r.port=Number(r.port)),r.path=r.search?r.pathname+r.search:r.pathname,r}function Uk(e,t){var r;for(var n in t)e.test(n)&&(r=t[n],delete t[n]);return r===null||typeof r>"u"?void 0:String(r).trim()}function ig(e,t,r){function n(s){Ll(Error.captureStackTrace)&&Error.captureStackTrace(this,this.constructor),Object.assign(this,s||{}),this.code=e,this.message=this.cause?t+": "+this.cause.message:t}return n.prototype=new(r||Error),Object.defineProperties(n.prototype,{constructor:{value:n,enumerable:!1},name:{value:"Error ["+e+"]",enumerable:!1}}),n}function Jk(e,t){for(var r of Kk)e.removeListener(r,Yk[r]);e.on("error",Gre),e.destroy(t)}function Zze(e,t){Gk($l(e)&&$l(t));var r=e.length-t.length-1;return r>0&&e[r]==="."&&e.endsWith(t)}function $l(e){return typeof e=="string"||e instanceof String}function Ll(e){return typeof e=="function"}function eGe(e){return typeof e=="object"&&"length"in e}function tGe(e){return ng&&e instanceof ng}Xk.exports=zre({http:zze,https:Gze});Xk.exports.wrap=zre});var uv=I(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.AttributeAction=ja.IgnoreCaseMode=ja.SelectorType=void 0;var vVe;(function(e){e.Attribute="attribute",e.Pseudo="pseudo",e.PseudoElement="pseudo-element",e.Tag="tag",e.Universal="universal",e.Adjacent="adjacent",e.Child="child",e.Descendant="descendant",e.Parent="parent",e.Sibling="sibling",e.ColumnCombinator="column-combinator"})(vVe=ja.SelectorType||(ja.SelectorType={}));ja.IgnoreCaseMode={Unknown:null,QuirksMode:"quirks",IgnoreCase:!0,CaseSensitive:!1};var _Ve;(function(e){e.Any="any",e.Element="element",e.End="end",e.Equals="equals",e.Exists="exists",e.Hyphen="hyphen",e.Not="not",e.Start="start"})(_Ve=ja.AttributeAction||(ja.AttributeAction={}))});var vse=I(Ep=>{"use strict";Object.defineProperty(Ep,"__esModule",{value:!0});Ep.parse=Ep.isTraversal=void 0;var Vt=uv(),yse=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,IVe=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,CVe=new Map([[126,Vt.AttributeAction.Element],[94,Vt.AttributeAction.Start],[36,Vt.AttributeAction.End],[42,Vt.AttributeAction.Any],[33,Vt.AttributeAction.Not],[124,Vt.AttributeAction.Hyphen]]),wVe=new Set(["has","not","matches","is","where","host","host-context"]);function Ese(e){switch(e.type){case Vt.SelectorType.Adjacent:case Vt.SelectorType.Child:case Vt.SelectorType.Descendant:case Vt.SelectorType.Parent:case Vt.SelectorType.Sibling:case Vt.SelectorType.ColumnCombinator:return!0;default:return!1}}Ep.isTraversal=Ese;var SVe=new Set(["contains","icontains"]);function TVe(e,t,r){var n=parseInt(t,16)-65536;return n!==n||r?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,n&1023|56320)}function Eg(e){return e.replace(IVe,TVe)}function T6(e){return e===39||e===34}function bse(e){return e===32||e===9||e===10||e===12||e===13}function BVe(e){var t=[],r=xse(t,"".concat(e),0);if(r<e.length)throw new Error("Unmatched selector: ".concat(e.slice(r)));return t}Ep.parse=BVe;function xse(e,t,r){var n=[];function s(D){var k=t.slice(r+D).match(yse);if(!k)throw new Error("Expected name, found ".concat(t.slice(r)));var q=k[0];return r+=D+q.length,Eg(q)}function i(D){for(r+=D;r<t.length&&bse(t.charCodeAt(r));)r++}function a(){r+=1;for(var D=r,k=1;k>0&&r<t.length;r++)t.charCodeAt(r)===40&&!o(r)?k++:t.charCodeAt(r)===41&&!o(r)&&k--;if(k)throw new Error("Parenthesis not matched");return Eg(t.slice(D,r-1))}function o(D){for(var k=0;t.charCodeAt(--D)===92;)k++;return(k&1)===1}function c(){if(n.length>0&&Ese(n[n.length-1]))throw new Error("Did not expect successive traversals.")}function u(D){if(n.length>0&&n[n.length-1].type===Vt.SelectorType.Descendant){n[n.length-1].type=D;return}c(),n.push({type:D})}function l(D,k){n.push({type:Vt.SelectorType.Attribute,name:D,action:k,value:s(1),namespace:null,ignoreCase:"quirks"})}function d(){if(n.length&&n[n.length-1].type===Vt.SelectorType.Descendant&&n.pop(),n.length===0)throw new Error("Empty sub-selector");e.push(n)}if(i(0),t.length===r)return r;e:for(;r<t.length;){var f=t.charCodeAt(r);switch(f){case 32:case 9:case 10:case 12:case 13:{(n.length===0||n[0].type!==Vt.SelectorType.Descendant)&&(c(),n.push({type:Vt.SelectorType.Descendant})),i(1);break}case 62:{u(Vt.SelectorType.Child),i(1);break}case 60:{u(Vt.SelectorType.Parent),i(1);break}case 126:{u(Vt.SelectorType.Sibling),i(1);break}case 43:{u(Vt.SelectorType.Adjacent),i(1);break}case 46:{l("class",Vt.AttributeAction.Element);break}case 35:{l("id",Vt.AttributeAction.Equals);break}case 91:{i(1);var h=void 0,p=null;t.charCodeAt(r)===124?h=s(1):t.startsWith("*|",r)?(p="*",h=s(2)):(h=s(0),t.charCodeAt(r)===124&&t.charCodeAt(r+1)!==61&&(p=h,h=s(1))),i(0);var m=Vt.AttributeAction.Exists,A=CVe.get(t.charCodeAt(r));if(A){if(m=A,t.charCodeAt(r+1)!==61)throw new Error("Expected `=`");i(2)}else t.charCodeAt(r)===61&&(m=Vt.AttributeAction.Equals,i(1));var g="",x=null;if(m!=="exists"){if(T6(t.charCodeAt(r))){for(var y=t.charCodeAt(r),b=r+1;b<t.length&&(t.charCodeAt(b)!==y||o(b));)b+=1;if(t.charCodeAt(b)!==y)throw new Error("Attribute value didn't end");g=Eg(t.slice(r+1,b)),r=b+1}else{for(var _=r;r<t.length&&(!bse(t.charCodeAt(r))&&t.charCodeAt(r)!==93||o(r));)r+=1;g=Eg(t.slice(_,r))}i(0);var C=t.charCodeAt(r)|32;C===115?(x=!1,i(1)):C===105&&(x=!0,i(1))}if(t.charCodeAt(r)!==93)throw new Error("Attribute selector didn't terminate");r+=1;var w={type:Vt.SelectorType.Attribute,name:h,action:m,value:g,namespace:p,ignoreCase:x};n.push(w);break}case 58:{if(t.charCodeAt(r+1)===58){n.push({type:Vt.SelectorType.PseudoElement,name:s(2).toLowerCase(),data:t.charCodeAt(r)===40?a():null});continue}var S=s(1).toLowerCase(),T=null;if(t.charCodeAt(r)===40)if(wVe.has(S)){if(T6(t.charCodeAt(r+1)))throw new Error("Pseudo-selector ".concat(S," cannot be quoted"));if(T=[],r=xse(T,t,r+1),t.charCodeAt(r)!==41)throw new Error("Missing closing parenthesis in :".concat(S," (").concat(t,")"));r+=1}else{if(T=a(),SVe.has(S)){var R=T.charCodeAt(0);R===T.charCodeAt(T.length-1)&&T6(R)&&(T=T.slice(1,-1))}T=Eg(T)}n.push({type:Vt.SelectorType.Pseudo,name:S,data:T});break}case 44:{d(),n=[],i(1);break}default:{if(t.startsWith("/*",r)){var P=t.indexOf("*/",r+2);if(P<0)throw new Error("Comment was not terminated");r=P+2,n.length===0&&i(0);break}var p=null,N=void 0;if(f===42)r+=1,N="*";else if(f===124){if(N="",t.charCodeAt(r+1)===124){u(Vt.SelectorType.ColumnCombinator),i(2);break}}else if(yse.test(t.slice(r)))N=s(0);else break e;t.charCodeAt(r)===124&&t.charCodeAt(r+1)!==124&&(p=N,t.charCodeAt(r+1)===42?(N="*",r+=2):N=s(1)),n.push(N==="*"?{type:Vt.SelectorType.Universal,namespace:p}:{type:Vt.SelectorType.Tag,name:N,namespace:p})}}}return d(),r}});var Bse=I(vp=>{"use strict";var lv=vp&&vp.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(vp,"__esModule",{value:!0});vp.stringify=void 0;var Dr=uv(),Cse=["\\",'"'],wse=lv(lv([],Cse,!0),["(",")"],!1),RVe=new Set(Cse.map(function(e){return e.charCodeAt(0)})),_se=new Set(wse.map(function(e){return e.charCodeAt(0)})),xp=new Set(lv(lv([],wse,!0),["~","^","$","*","+","!","|",":","[","]"," ","."],!1).map(function(e){return e.charCodeAt(0)}));function Sse(e){return e.map(function(t){return t.map(NVe).join("")}).join(", ")}vp.stringify=Sse;function NVe(e,t,r){switch(e.type){case Dr.SelectorType.Child:return t===0?"> ":" > ";case Dr.SelectorType.Parent:return t===0?"< ":" < ";case Dr.SelectorType.Sibling:return t===0?"~ ":" ~ ";case Dr.SelectorType.Adjacent:return t===0?"+ ":" + ";case Dr.SelectorType.Descendant:return" ";case Dr.SelectorType.ColumnCombinator:return t===0?"|| ":" || ";case Dr.SelectorType.Universal:return e.namespace==="*"&&t+1<r.length&&"name"in r[t+1]?"":"".concat(Tse(e.namespace),"*");case Dr.SelectorType.Tag:return Ise(e);case Dr.SelectorType.PseudoElement:return"::".concat(Uo(e.name,xp)).concat(e.data===null?"":"(".concat(Uo(e.data,_se),")"));case Dr.SelectorType.Pseudo:return":".concat(Uo(e.name,xp)).concat(e.data===null?"":"(".concat(typeof e.data=="string"?Uo(e.data,_se):Sse(e.data),")"));case Dr.SelectorType.Attribute:{if(e.name==="id"&&e.action===Dr.AttributeAction.Equals&&e.ignoreCase==="quirks"&&!e.namespace)return"#".concat(Uo(e.value,xp));if(e.name==="class"&&e.action===Dr.AttributeAction.Element&&e.ignoreCase==="quirks"&&!e.namespace)return".".concat(Uo(e.value,xp));var n=Ise(e);return e.action===Dr.AttributeAction.Exists?"[".concat(n,"]"):"[".concat(n).concat(kVe(e.action),'="').concat(Uo(e.value,RVe),'"').concat(e.ignoreCase===null?"":e.ignoreCase?" i":" s","]")}}}function kVe(e){switch(e){case Dr.AttributeAction.Equals:return"";case Dr.AttributeAction.Element:return"~";case Dr.AttributeAction.Start:return"^";case Dr.AttributeAction.End:return"$";case Dr.AttributeAction.Any:return"*";case Dr.AttributeAction.Not:return"!";case Dr.AttributeAction.Hyphen:return"|";case Dr.AttributeAction.Exists:throw new Error("Shouldn't be here")}}function Ise(e){return"".concat(Tse(e.namespace)).concat(Uo(e.name,xp))}function Tse(e){return e!==null?"".concat(e==="*"?"*":Uo(e,xp),"|"):""}function Uo(e,t){for(var r=0,n="",s=0;s<e.length;s++)t.has(e.charCodeAt(s))&&(n+="".concat(e.slice(r,s),"\\").concat(e.charAt(s)),r=s+1);return n.length>0?n+e.slice(r):e}});var _p=I(Zs=>{"use strict";var DVe=Zs&&Zs.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),PVe=Zs&&Zs.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&DVe(t,e,r)};Object.defineProperty(Zs,"__esModule",{value:!0});Zs.stringify=Zs.parse=Zs.isTraversal=void 0;PVe(uv(),Zs);var Rse=vse();Object.defineProperty(Zs,"isTraversal",{enumerable:!0,get:function(){return Rse.isTraversal}});Object.defineProperty(Zs,"parse",{enumerable:!0,get:function(){return Rse.parse}});var OVe=Bse();Object.defineProperty(Zs,"stringify",{enumerable:!0,get:function(){return OVe.stringify}})});var au=I((fEt,Nse)=>{Nse.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}});var vt=I((Hv,mae)=>{(function(e,t){typeof Hv=="object"?mae.exports=Hv=t():typeof define=="function"&&define.amd?define([],t):e.CryptoJS=t()})(Hv,function(){var e=e||function(t,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof require=="function")try{n=require("crypto")}catch{}var s=function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function g(){}return function(x){var y;return g.prototype=x,y=new g,g.prototype=null,y}}(),a={},o=a.lib={},c=o.Base=function(){return{extend:function(g){var x=i(this);return g&&x.mixIn(g),(!x.hasOwnProperty("init")||this.init===x.init)&&(x.init=function(){x.$super.init.apply(this,arguments)}),x.init.prototype=x,x.$super=this,x},create:function(){var g=this.extend();return g.init.apply(g,arguments),g},init:function(){},mixIn:function(g){for(var x in g)g.hasOwnProperty(x)&&(this[x]=g[x]);g.hasOwnProperty("toString")&&(this.toString=g.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),u=o.WordArray=c.extend({init:function(g,x){g=this.words=g||[],x!=r?this.sigBytes=x:this.sigBytes=g.length*4},toString:function(g){return(g||d).stringify(this)},concat:function(g){var x=this.words,y=g.words,b=this.sigBytes,_=g.sigBytes;if(this.clamp(),b%4)for(var C=0;C<_;C++){var w=y[C>>>2]>>>24-C%4*8&255;x[b+C>>>2]|=w<<24-(b+C)%4*8}else for(var S=0;S<_;S+=4)x[b+S>>>2]=y[S>>>2];return this.sigBytes+=_,this},clamp:function(){var g=this.words,x=this.sigBytes;g[x>>>2]&=4294967295<<32-x%4*8,g.length=t.ceil(x/4)},clone:function(){var g=c.clone.call(this);return g.words=this.words.slice(0),g},random:function(g){for(var x=[],y=0;y<g;y+=4)x.push(s());return new u.init(x,g)}}),l=a.enc={},d=l.Hex={stringify:function(g){for(var x=g.words,y=g.sigBytes,b=[],_=0;_<y;_++){var C=x[_>>>2]>>>24-_%4*8&255;b.push((C>>>4).toString(16)),b.push((C&15).toString(16))}return b.join("")},parse:function(g){for(var x=g.length,y=[],b=0;b<x;b+=2)y[b>>>3]|=parseInt(g.substr(b,2),16)<<24-b%8*4;return new u.init(y,x/2)}},f=l.Latin1={stringify:function(g){for(var x=g.words,y=g.sigBytes,b=[],_=0;_<y;_++){var C=x[_>>>2]>>>24-_%4*8&255;b.push(String.fromCharCode(C))}return b.join("")},parse:function(g){for(var x=g.length,y=[],b=0;b<x;b++)y[b>>>2]|=(g.charCodeAt(b)&255)<<24-b%4*8;return new u.init(y,x)}},h=l.Utf8={stringify:function(g){try{return decodeURIComponent(escape(f.stringify(g)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(g){return f.parse(unescape(encodeURIComponent(g)))}},p=o.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(g){typeof g=="string"&&(g=h.parse(g)),this._data.concat(g),this._nDataBytes+=g.sigBytes},_process:function(g){var x,y=this._data,b=y.words,_=y.sigBytes,C=this.blockSize,w=C*4,S=_/w;g?S=t.ceil(S):S=t.max((S|0)-this._minBufferSize,0);var T=S*C,R=t.min(T*4,_);if(T){for(var P=0;P<T;P+=C)this._doProcessBlock(b,P);x=b.splice(0,T),y.sigBytes-=R}return new u.init(x,R)},clone:function(){var g=c.clone.call(this);return g._data=this._data.clone(),g},_minBufferSize:0}),m=o.Hasher=p.extend({cfg:c.extend(),init:function(g){this.cfg=this.cfg.extend(g),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(g){return this._append(g),this._process(),this},finalize:function(g){g&&this._append(g);var x=this._doFinalize();return x},blockSize:512/32,_createHelper:function(g){return function(x,y){return new g.init(y).finalize(x)}},_createHmacHelper:function(g){return function(x,y){return new A.HMAC.init(g,y).finalize(x)}}}),A=a.algo={};return a}(Math);return e})});var Fg=I((zv,gae)=>{(function(e,t){typeof zv=="object"?gae.exports=zv=t(vt()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(zv,function(e){return function(t){var r=e,n=r.lib,s=n.Base,i=n.WordArray,a=r.x64={},o=a.Word=s.extend({init:function(u,l){this.high=u,this.low=l}}),c=a.WordArray=s.extend({init:function(u,l){u=this.words=u||[],l!=t?this.sigBytes=l:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,l=u.length,d=[],f=0;f<l;f++){var h=u[f];d.push(h.high),d.push(h.low)}return i.create(d,this.sigBytes)},clone:function(){for(var u=s.clone.call(this),l=u.words=this.words.slice(0),d=l.length,f=0;f<d;f++)l[f]=l[f].clone();return u}})}(),e})});var yae=I((Gv,Aae)=>{(function(e,t){typeof Gv=="object"?Aae.exports=Gv=t(vt()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Gv,function(e){return function(){if(typeof ArrayBuffer=="function"){var t=e,r=t.lib,n=r.WordArray,s=n.init,i=n.init=function(a){if(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),(a instanceof Int8Array||typeof Uint8ClampedArray<"u"&&a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)&&(a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)),a instanceof Uint8Array){for(var o=a.byteLength,c=[],u=0;u<o;u++)c[u>>>2]|=a[u]<<24-u%4*8;s.call(this,c,o)}else s.apply(this,arguments)};i.prototype=n}}(),e.lib.WordArray})});var Eae=I((Vv,bae)=>{(function(e,t){typeof Vv=="object"?bae.exports=Vv=t(vt()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Vv,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.enc,i=s.Utf16=s.Utf16BE={stringify:function(o){for(var c=o.words,u=o.sigBytes,l=[],d=0;d<u;d+=2){var f=c[d>>>2]>>>16-d%4*8&65535;l.push(String.fromCharCode(f))}return l.join("")},parse:function(o){for(var c=o.length,u=[],l=0;l<c;l++)u[l>>>1]|=o.charCodeAt(l)<<16-l%2*16;return n.create(u,c*2)}};s.Utf16LE={stringify:function(o){for(var c=o.words,u=o.sigBytes,l=[],d=0;d<u;d+=2){var f=a(c[d>>>2]>>>16-d%4*8&65535);l.push(String.fromCharCode(f))}return l.join("")},parse:function(o){for(var c=o.length,u=[],l=0;l<c;l++)u[l>>>1]|=a(o.charCodeAt(l)<<16-l%2*16);return n.create(u,c*2)}};function a(o){return o<<8&4278255360|o>>>8&16711935}}(),e.enc.Utf16})});var pu=I((Kv,xae)=>{(function(e,t){typeof Kv=="object"?xae.exports=Kv=t(vt()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Kv,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.enc,i=s.Base64={stringify:function(o){var c=o.words,u=o.sigBytes,l=this._map;o.clamp();for(var d=[],f=0;f<u;f+=3)for(var h=c[f>>>2]>>>24-f%4*8&255,p=c[f+1>>>2]>>>24-(f+1)%4*8&255,m=c[f+2>>>2]>>>24-(f+2)%4*8&255,A=h<<16|p<<8|m,g=0;g<4&&f+g*.75<u;g++)d.push(l.charAt(A>>>6*(3-g)&63));var x=l.charAt(64);if(x)for(;d.length%4;)d.push(x);return d.join("")},parse:function(o){var c=o.length,u=this._map,l=this._reverseMap;if(!l){l=this._reverseMap=[];for(var d=0;d<u.length;d++)l[u.charCodeAt(d)]=d}var f=u.charAt(64);if(f){var h=o.indexOf(f);h!==-1&&(c=h)}return a(o,c,l)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(o,c,u){for(var l=[],d=0,f=0;f<c;f++)if(f%4){var h=u[o.charCodeAt(f-1)]<<f%4*2,p=u[o.charCodeAt(f)]>>>6-f%4*2,m=h|p;l[d>>>2]|=m<<24-d%4*8,d++}return n.create(l,d)}}(),e.enc.Base64})});var _ae=I((Yv,vae)=>{(function(e,t){typeof Yv=="object"?vae.exports=Yv=t(vt()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Yv,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.enc,i=s.Base64url={stringify:function(o,c){c===void 0&&(c=!0);var u=o.words,l=o.sigBytes,d=c?this._safe_map:this._map;o.clamp();for(var f=[],h=0;h<l;h+=3)for(var p=u[h>>>2]>>>24-h%4*8&255,m=u[h+1>>>2]>>>24-(h+1)%4*8&255,A=u[h+2>>>2]>>>24-(h+2)%4*8&255,g=p<<16|m<<8|A,x=0;x<4&&h+x*.75<l;x++)f.push(d.charAt(g>>>6*(3-x)&63));var y=d.charAt(64);if(y)for(;f.length%4;)f.push(y);return f.join("")},parse:function(o,c){c===void 0&&(c=!0);var u=o.length,l=c?this._safe_map:this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var f=0;f<l.length;f++)d[l.charCodeAt(f)]=f}var h=l.charAt(64);if(h){var p=o.indexOf(h);p!==-1&&(u=p)}return a(o,u,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(o,c,u){for(var l=[],d=0,f=0;f<c;f++)if(f%4){var h=u[o.charCodeAt(f-1)]<<f%4*2,p=u[o.charCodeAt(f)]>>>6-f%4*2,m=h|p;l[d>>>2]|=m<<24-d%4*8,d++}return n.create(l,d)}}(),e.enc.Base64url})});var hu=I((Wv,Iae)=>{(function(e,t){typeof Wv=="object"?Iae.exports=Wv=t(vt()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Wv,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,i=n.Hasher,a=r.algo,o=[];(function(){for(var h=0;h<64;h++)o[h]=t.abs(t.sin(h+1))*4294967296|0})();var c=a.MD5=i.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(h,p){for(var m=0;m<16;m++){var A=p+m,g=h[A];h[A]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360}var x=this._hash.words,y=h[p+0],b=h[p+1],_=h[p+2],C=h[p+3],w=h[p+4],S=h[p+5],T=h[p+6],R=h[p+7],P=h[p+8],N=h[p+9],D=h[p+10],k=h[p+11],q=h[p+12],j=h[p+13],G=h[p+14],J=h[p+15],Q=x[0],te=x[1],ne=x[2],ee=x[3];Q=u(Q,te,ne,ee,y,7,o[0]),ee=u(ee,Q,te,ne,b,12,o[1]),ne=u(ne,ee,Q,te,_,17,o[2]),te=u(te,ne,ee,Q,C,22,o[3]),Q=u(Q,te,ne,ee,w,7,o[4]),ee=u(ee,Q,te,ne,S,12,o[5]),ne=u(ne,ee,Q,te,T,17,o[6]),te=u(te,ne,ee,Q,R,22,o[7]),Q=u(Q,te,ne,ee,P,7,o[8]),ee=u(ee,Q,te,ne,N,12,o[9]),ne=u(ne,ee,Q,te,D,17,o[10]),te=u(te,ne,ee,Q,k,22,o[11]),Q=u(Q,te,ne,ee,q,7,o[12]),ee=u(ee,Q,te,ne,j,12,o[13]),ne=u(ne,ee,Q,te,G,17,o[14]),te=u(te,ne,ee,Q,J,22,o[15]),Q=l(Q,te,ne,ee,b,5,o[16]),ee=l(ee,Q,te,ne,T,9,o[17]),ne=l(ne,ee,Q,te,k,14,o[18]),te=l(te,ne,ee,Q,y,20,o[19]),Q=l(Q,te,ne,ee,S,5,o[20]),ee=l(ee,Q,te,ne,D,9,o[21]),ne=l(ne,ee,Q,te,J,14,o[22]),te=l(te,ne,ee,Q,w,20,o[23]),Q=l(Q,te,ne,ee,N,5,o[24]),ee=l(ee,Q,te,ne,G,9,o[25]),ne=l(ne,ee,Q,te,C,14,o[26]),te=l(te,ne,ee,Q,P,20,o[27]),Q=l(Q,te,ne,ee,j,5,o[28]),ee=l(ee,Q,te,ne,_,9,o[29]),ne=l(ne,ee,Q,te,R,14,o[30]),te=l(te,ne,ee,Q,q,20,o[31]),Q=d(Q,te,ne,ee,S,4,o[32]),ee=d(ee,Q,te,ne,P,11,o[33]),ne=d(ne,ee,Q,te,k,16,o[34]),te=d(te,ne,ee,Q,G,23,o[35]),Q=d(Q,te,ne,ee,b,4,o[36]),ee=d(ee,Q,te,ne,w,11,o[37]),ne=d(ne,ee,Q,te,R,16,o[38]),te=d(te,ne,ee,Q,D,23,o[39]),Q=d(Q,te,ne,ee,j,4,o[40]),ee=d(ee,Q,te,ne,y,11,o[41]),ne=d(ne,ee,Q,te,C,16,o[42]),te=d(te,ne,ee,Q,T,23,o[43]),Q=d(Q,te,ne,ee,N,4,o[44]),ee=d(ee,Q,te,ne,q,11,o[45]),ne=d(ne,ee,Q,te,J,16,o[46]),te=d(te,ne,ee,Q,_,23,o[47]),Q=f(Q,te,ne,ee,y,6,o[48]),ee=f(ee,Q,te,ne,R,10,o[49]),ne=f(ne,ee,Q,te,G,15,o[50]),te=f(te,ne,ee,Q,S,21,o[51]),Q=f(Q,te,ne,ee,q,6,o[52]),ee=f(ee,Q,te,ne,C,10,o[53]),ne=f(ne,ee,Q,te,D,15,o[54]),te=f(te,ne,ee,Q,b,21,o[55]),Q=f(Q,te,ne,ee,P,6,o[56]),ee=f(ee,Q,te,ne,J,10,o[57]),ne=f(ne,ee,Q,te,T,15,o[58]),te=f(te,ne,ee,Q,j,21,o[59]),Q=f(Q,te,ne,ee,w,6,o[60]),ee=f(ee,Q,te,ne,k,10,o[61]),ne=f(ne,ee,Q,te,_,15,o[62]),te=f(te,ne,ee,Q,N,21,o[63]),x[0]=x[0]+Q|0,x[1]=x[1]+te|0,x[2]=x[2]+ne|0,x[3]=x[3]+ee|0},_doFinalize:function(){var h=this._data,p=h.words,m=this._nDataBytes*8,A=h.sigBytes*8;p[A>>>5]|=128<<24-A%32;var g=t.floor(m/4294967296),x=m;p[(A+64>>>9<<4)+15]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,p[(A+64>>>9<<4)+14]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,h.sigBytes=(p.length+1)*4,this._process();for(var y=this._hash,b=y.words,_=0;_<4;_++){var C=b[_];b[_]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360}return y},clone:function(){var h=i.clone.call(this);return h._hash=this._hash.clone(),h}});function u(h,p,m,A,g,x,y){var b=h+(p&m|~p&A)+g+y;return(b<<x|b>>>32-x)+p}function l(h,p,m,A,g,x,y){var b=h+(p&A|m&~A)+g+y;return(b<<x|b>>>32-x)+p}function d(h,p,m,A,g,x,y){var b=h+(p^m^A)+g+y;return(b<<x|b>>>32-x)+p}function f(h,p,m,A,g,x,y){var b=h+(m^(p|~A))+g+y;return(b<<x|b>>>32-x)+p}r.MD5=i._createHelper(c),r.HmacMD5=i._createHmacHelper(c)}(Math),e.MD5})});var mD=I((Jv,Cae)=>{(function(e,t){typeof Jv=="object"?Cae.exports=Jv=t(vt()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Jv,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=r.Hasher,i=t.algo,a=[],o=i.SHA1=s.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(c,u){for(var l=this._hash.words,d=l[0],f=l[1],h=l[2],p=l[3],m=l[4],A=0;A<80;A++){if(A<16)a[A]=c[u+A]|0;else{var g=a[A-3]^a[A-8]^a[A-14]^a[A-16];a[A]=g<<1|g>>>31}var x=(d<<5|d>>>27)+m+a[A];A<20?x+=(f&h|~f&p)+1518500249:A<40?x+=(f^h^p)+1859775393:A<60?x+=(f&h|f&p|h&p)-1894007588:x+=(f^h^p)-899497514,m=p,p=h,h=f<<30|f>>>2,f=d,d=x}l[0]=l[0]+d|0,l[1]=l[1]+f|0,l[2]=l[2]+h|0,l[3]=l[3]+p|0,l[4]=l[4]+m|0},_doFinalize:function(){var c=this._data,u=c.words,l=this._nDataBytes*8,d=c.sigBytes*8;return u[d>>>5]|=128<<24-d%32,u[(d+64>>>9<<4)+14]=Math.floor(l/4294967296),u[(d+64>>>9<<4)+15]=l,c.sigBytes=u.length*4,this._process(),this._hash},clone:function(){var c=s.clone.call(this);return c._hash=this._hash.clone(),c}});t.SHA1=s._createHelper(o),t.HmacSHA1=s._createHmacHelper(o)}(),e.SHA1})});var Zv=I((Xv,wae)=>{(function(e,t){typeof Xv=="object"?wae.exports=Xv=t(vt()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Xv,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,i=n.Hasher,a=r.algo,o=[],c=[];(function(){function d(m){for(var A=t.sqrt(m),g=2;g<=A;g++)if(!(m%g))return!1;return!0}function f(m){return(m-(m|0))*4294967296|0}for(var h=2,p=0;p<64;)d(h)&&(p<8&&(o[p]=f(t.pow(h,1/2))),c[p]=f(t.pow(h,1/3)),p++),h++})();var u=[],l=a.SHA256=i.extend({_doReset:function(){this._hash=new s.init(o.slice(0))},_doProcessBlock:function(d,f){for(var h=this._hash.words,p=h[0],m=h[1],A=h[2],g=h[3],x=h[4],y=h[5],b=h[6],_=h[7],C=0;C<64;C++){if(C<16)u[C]=d[f+C]|0;else{var w=u[C-15],S=(w<<25|w>>>7)^(w<<14|w>>>18)^w>>>3,T=u[C-2],R=(T<<15|T>>>17)^(T<<13|T>>>19)^T>>>10;u[C]=S+u[C-7]+R+u[C-16]}var P=x&y^~x&b,N=p&m^p&A^m&A,D=(p<<30|p>>>2)^(p<<19|p>>>13)^(p<<10|p>>>22),k=(x<<26|x>>>6)^(x<<21|x>>>11)^(x<<7|x>>>25),q=_+k+P+c[C]+u[C],j=D+N;_=b,b=y,y=x,x=g+q|0,g=A,A=m,m=p,p=q+j|0}h[0]=h[0]+p|0,h[1]=h[1]+m|0,h[2]=h[2]+A|0,h[3]=h[3]+g|0,h[4]=h[4]+x|0,h[5]=h[5]+y|0,h[6]=h[6]+b|0,h[7]=h[7]+_|0},_doFinalize:function(){var d=this._data,f=d.words,h=this._nDataBytes*8,p=d.sigBytes*8;return f[p>>>5]|=128<<24-p%32,f[(p+64>>>9<<4)+14]=t.floor(h/4294967296),f[(p+64>>>9<<4)+15]=h,d.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var d=i.clone.call(this);return d._hash=this._hash.clone(),d}});r.SHA256=i._createHelper(l),r.HmacSHA256=i._createHmacHelper(l)}(Math),e.SHA256})});var Tae=I((e_,Sae)=>{(function(e,t,r){typeof e_=="object"?Sae.exports=e_=t(vt(),Zv()):typeof define=="function"&&define.amd?define(["./core","./sha256"],t):t(e.CryptoJS)})(e_,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.algo,i=s.SHA256,a=s.SHA224=i.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var o=i._doFinalize.call(this);return o.sigBytes-=4,o}});t.SHA224=i._createHelper(a),t.HmacSHA224=i._createHmacHelper(a)}(),e.SHA224})});var gD=I((t_,Bae)=>{(function(e,t,r){typeof t_=="object"?Bae.exports=t_=t(vt(),Fg()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(t_,function(e){return function(){var t=e,r=t.lib,n=r.Hasher,s=t.x64,i=s.Word,a=s.WordArray,o=t.algo;function c(){return i.create.apply(i,arguments)}var u=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],l=[];(function(){for(var f=0;f<80;f++)l[f]=c()})();var d=o.SHA512=n.extend({_doReset:function(){this._hash=new a.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(f,h){for(var p=this._hash.words,m=p[0],A=p[1],g=p[2],x=p[3],y=p[4],b=p[5],_=p[6],C=p[7],w=m.high,S=m.low,T=A.high,R=A.low,P=g.high,N=g.low,D=x.high,k=x.low,q=y.high,j=y.low,G=b.high,J=b.low,Q=_.high,te=_.low,ne=C.high,ee=C.low,ie=w,Ee=S,ve=T,Ie=R,xe=P,ge=N,O=D,L=k,U=q,$=j,F=G,z=J,W=Q,V=te,Y=ne,X=ee,Z=0;Z<80;Z++){var ae,pe,me=l[Z];if(Z<16)pe=me.high=f[h+Z*2]|0,ae=me.low=f[h+Z*2+1]|0;else{var Te=l[Z-15],Ce=Te.high,Qe=Te.low,De=(Ce>>>1|Qe<<31)^(Ce>>>8|Qe<<24)^Ce>>>7,He=(Qe>>>1|Ce<<31)^(Qe>>>8|Ce<<24)^(Qe>>>7|Ce<<25),ht=l[Z-2],Ge=ht.high,en=ht.low,Vs=(Ge>>>19|en<<13)^(Ge<<3|en>>>29)^Ge>>>6,ut=(en>>>19|Ge<<13)^(en<<3|Ge>>>29)^(en>>>6|Ge<<26),Rr=l[Z-7],vn=Rr.high,Ut=Rr.low,_t=l[Z-16],Lu=_t.high,tn=_t.low;ae=He+Ut,pe=De+vn+(ae>>>0<He>>>0?1:0),ae=ae+ut,pe=pe+Vs+(ae>>>0<ut>>>0?1:0),ae=ae+tn,pe=pe+Lu+(ae>>>0<tn>>>0?1:0),me.high=pe,me.low=ae}var p0=U&F^~U&W,Mu=$&z^~$&V,wr=ie&ve^ie&xe^ve&xe,Li=Ee&Ie^Ee&ge^Ie&ge,x2=(ie>>>28|Ee<<4)^(ie<<30|Ee>>>2)^(ie<<25|Ee>>>7),ni=(Ee>>>28|ie<<4)^(Ee<<30|ie>>>2)^(Ee<<25|ie>>>7),Ks=(U>>>14|$<<18)^(U>>>18|$<<14)^(U<<23|$>>>9),dy=($>>>14|U<<18)^($>>>18|U<<14)^($<<23|U>>>9),ao=u[Z],Fu=ao.high,h0=ao.low,Vr=X+dy,cc=Y+Ks+(Vr>>>0<X>>>0?1:0),Vr=Vr+Mu,cc=cc+p0+(Vr>>>0<Mu>>>0?1:0),Vr=Vr+h0,cc=cc+Fu+(Vr>>>0<h0>>>0?1:0),Vr=Vr+ae,cc=cc+pe+(Vr>>>0<ae>>>0?1:0),k8=ni+Li,whe=x2+wr+(k8>>>0<ni>>>0?1:0);Y=W,X=V,W=F,V=z,F=U,z=$,$=L+Vr|0,U=O+cc+($>>>0<L>>>0?1:0)|0,O=xe,L=ge,xe=ve,ge=Ie,ve=ie,Ie=Ee,Ee=Vr+k8|0,ie=cc+whe+(Ee>>>0<Vr>>>0?1:0)|0}S=m.low=S+Ee,m.high=w+ie+(S>>>0<Ee>>>0?1:0),R=A.low=R+Ie,A.high=T+ve+(R>>>0<Ie>>>0?1:0),N=g.low=N+ge,g.high=P+xe+(N>>>0<ge>>>0?1:0),k=x.low=k+L,x.high=D+O+(k>>>0<L>>>0?1:0),j=y.low=j+$,y.high=q+U+(j>>>0<$>>>0?1:0),J=b.low=J+z,b.high=G+F+(J>>>0<z>>>0?1:0),te=_.low=te+V,_.high=Q+W+(te>>>0<V>>>0?1:0),ee=C.low=ee+X,C.high=ne+Y+(ee>>>0<X>>>0?1:0)},_doFinalize:function(){var f=this._data,h=f.words,p=this._nDataBytes*8,m=f.sigBytes*8;h[m>>>5]|=128<<24-m%32,h[(m+128>>>10<<5)+30]=Math.floor(p/4294967296),h[(m+128>>>10<<5)+31]=p,f.sigBytes=h.length*4,this._process();var A=this._hash.toX32();return A},clone:function(){var f=n.clone.call(this);return f._hash=this._hash.clone(),f},blockSize:1024/32});t.SHA512=n._createHelper(d),t.HmacSHA512=n._createHmacHelper(d)}(),e.SHA512})});var Nae=I((r_,Rae)=>{(function(e,t,r){typeof r_=="object"?Rae.exports=r_=t(vt(),Fg(),gD()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],t):t(e.CryptoJS)})(r_,function(e){return function(){var t=e,r=t.x64,n=r.Word,s=r.WordArray,i=t.algo,a=i.SHA512,o=i.SHA384=a.extend({_doReset:function(){this._hash=new s.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var c=a._doFinalize.call(this);return c.sigBytes-=16,c}});t.SHA384=a._createHelper(o),t.HmacSHA384=a._createHmacHelper(o)}(),e.SHA384})});var Dae=I((n_,kae)=>{(function(e,t,r){typeof n_=="object"?kae.exports=n_=t(vt(),Fg()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(n_,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,i=n.Hasher,a=r.x64,o=a.Word,c=r.algo,u=[],l=[],d=[];(function(){for(var p=1,m=0,A=0;A<24;A++){u[p+5*m]=(A+1)*(A+2)/2%64;var g=m%5,x=(2*p+3*m)%5;p=g,m=x}for(var p=0;p<5;p++)for(var m=0;m<5;m++)l[p+5*m]=m+(2*p+3*m)%5*5;for(var y=1,b=0;b<24;b++){for(var _=0,C=0,w=0;w<7;w++){if(y&1){var S=(1<<w)-1;S<32?C^=1<<S:_^=1<<S-32}y&128?y=y<<1^113:y<<=1}d[b]=o.create(_,C)}})();var f=[];(function(){for(var p=0;p<25;p++)f[p]=o.create()})();var h=c.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var p=this._state=[],m=0;m<25;m++)p[m]=new o.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(p,m){for(var A=this._state,g=this.blockSize/2,x=0;x<g;x++){var y=p[m+2*x],b=p[m+2*x+1];y=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,b=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360;var _=A[x];_.high^=b,_.low^=y}for(var C=0;C<24;C++){for(var w=0;w<5;w++){for(var S=0,T=0,R=0;R<5;R++){var _=A[w+5*R];S^=_.high,T^=_.low}var P=f[w];P.high=S,P.low=T}for(var w=0;w<5;w++)for(var N=f[(w+4)%5],D=f[(w+1)%5],k=D.high,q=D.low,S=N.high^(k<<1|q>>>31),T=N.low^(q<<1|k>>>31),R=0;R<5;R++){var _=A[w+5*R];_.high^=S,_.low^=T}for(var j=1;j<25;j++){var S,T,_=A[j],G=_.high,J=_.low,Q=u[j];Q<32?(S=G<<Q|J>>>32-Q,T=J<<Q|G>>>32-Q):(S=J<<Q-32|G>>>64-Q,T=G<<Q-32|J>>>64-Q);var te=f[l[j]];te.high=S,te.low=T}var ne=f[0],ee=A[0];ne.high=ee.high,ne.low=ee.low;for(var w=0;w<5;w++)for(var R=0;R<5;R++){var j=w+5*R,_=A[j],ie=f[j],Ee=f[(w+1)%5+5*R],ve=f[(w+2)%5+5*R];_.high=ie.high^~Ee.high&ve.high,_.low=ie.low^~Ee.low&ve.low}var _=A[0],Ie=d[C];_.high^=Ie.high,_.low^=Ie.low}},_doFinalize:function(){var p=this._data,m=p.words,A=this._nDataBytes*8,g=p.sigBytes*8,x=this.blockSize*32;m[g>>>5]|=1<<24-g%32,m[(t.ceil((g+1)/x)*x>>>5)-1]|=128,p.sigBytes=m.length*4,this._process();for(var y=this._state,b=this.cfg.outputLength/8,_=b/8,C=[],w=0;w<_;w++){var S=y[w],T=S.high,R=S.low;T=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,C.push(R),C.push(T)}return new s.init(C,b)},clone:function(){for(var p=i.clone.call(this),m=p._state=this._state.slice(0),A=0;A<25;A++)m[A]=m[A].clone();return p}});r.SHA3=i._createHelper(h),r.HmacSHA3=i._createHmacHelper(h)}(Math),e.SHA3})});var Oae=I((s_,Pae)=>{(function(e,t){typeof s_=="object"?Pae.exports=s_=t(vt()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(s_,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,i=n.Hasher,a=r.algo,o=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),l=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=s.create([0,1518500249,1859775393,2400959708,2840853838]),f=s.create([1352829926,1548603684,1836072691,2053994217,0]),h=a.RIPEMD160=i.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(b,_){for(var C=0;C<16;C++){var w=_+C,S=b[w];b[w]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}var T=this._hash.words,R=d.words,P=f.words,N=o.words,D=c.words,k=u.words,q=l.words,j,G,J,Q,te,ne,ee,ie,Ee,ve;ne=j=T[0],ee=G=T[1],ie=J=T[2],Ee=Q=T[3],ve=te=T[4];for(var Ie,C=0;C<80;C+=1)Ie=j+b[_+N[C]]|0,C<16?Ie+=p(G,J,Q)+R[0]:C<32?Ie+=m(G,J,Q)+R[1]:C<48?Ie+=A(G,J,Q)+R[2]:C<64?Ie+=g(G,J,Q)+R[3]:Ie+=x(G,J,Q)+R[4],Ie=Ie|0,Ie=y(Ie,k[C]),Ie=Ie+te|0,j=te,te=Q,Q=y(J,10),J=G,G=Ie,Ie=ne+b[_+D[C]]|0,C<16?Ie+=x(ee,ie,Ee)+P[0]:C<32?Ie+=g(ee,ie,Ee)+P[1]:C<48?Ie+=A(ee,ie,Ee)+P[2]:C<64?Ie+=m(ee,ie,Ee)+P[3]:Ie+=p(ee,ie,Ee)+P[4],Ie=Ie|0,Ie=y(Ie,q[C]),Ie=Ie+ve|0,ne=ve,ve=Ee,Ee=y(ie,10),ie=ee,ee=Ie;Ie=T[1]+J+Ee|0,T[1]=T[2]+Q+ve|0,T[2]=T[3]+te+ne|0,T[3]=T[4]+j+ee|0,T[4]=T[0]+G+ie|0,T[0]=Ie},_doFinalize:function(){var b=this._data,_=b.words,C=this._nDataBytes*8,w=b.sigBytes*8;_[w>>>5]|=128<<24-w%32,_[(w+64>>>9<<4)+14]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,b.sigBytes=(_.length+1)*4,this._process();for(var S=this._hash,T=S.words,R=0;R<5;R++){var P=T[R];T[R]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360}return S},clone:function(){var b=i.clone.call(this);return b._hash=this._hash.clone(),b}});function p(b,_,C){return b^_^C}function m(b,_,C){return b&_|~b&C}function A(b,_,C){return(b|~_)^C}function g(b,_,C){return b&C|_&~C}function x(b,_,C){return b^(_|~C)}function y(b,_){return b<<_|b>>>32-_}r.RIPEMD160=i._createHelper(h),r.HmacRIPEMD160=i._createHmacHelper(h)}(Math),e.RIPEMD160})});var a_=I((i_,$ae)=>{(function(e,t){typeof i_=="object"?$ae.exports=i_=t(vt()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(i_,function(e){(function(){var t=e,r=t.lib,n=r.Base,s=t.enc,i=s.Utf8,a=t.algo,o=a.HMAC=n.extend({init:function(c,u){c=this._hasher=new c.init,typeof u=="string"&&(u=i.parse(u));var l=c.blockSize,d=l*4;u.sigBytes>d&&(u=c.finalize(u)),u.clamp();for(var f=this._oKey=u.clone(),h=this._iKey=u.clone(),p=f.words,m=h.words,A=0;A<l;A++)p[A]^=1549556828,m[A]^=909522486;f.sigBytes=h.sigBytes=d,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var u=this._hasher,l=u.finalize(c);u.reset();var d=u.finalize(this._oKey.clone().concat(l));return d}})})()})});var Mae=I((o_,Lae)=>{(function(e,t,r){typeof o_=="object"?Lae.exports=o_=t(vt(),Zv(),a_()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],t):t(e.CryptoJS)})(o_,function(e){return function(){var t=e,r=t.lib,n=r.Base,s=r.WordArray,i=t.algo,a=i.SHA256,o=i.HMAC,c=i.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:25e4}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,l){for(var d=this.cfg,f=o.create(d.hasher,u),h=s.create(),p=s.create([1]),m=h.words,A=p.words,g=d.keySize,x=d.iterations;m.length<g;){var y=f.update(l).finalize(p);f.reset();for(var b=y.words,_=b.length,C=y,w=1;w<x;w++){C=f.finalize(C),f.reset();for(var S=C.words,T=0;T<_;T++)b[T]^=S[T]}h.concat(y),A[0]++}return h.sigBytes=g*4,h}});t.PBKDF2=function(u,l,d){return c.create(d).compute(u,l)}}(),e.PBKDF2})});var zo=I((c_,Fae)=>{(function(e,t,r){typeof c_=="object"?Fae.exports=c_=t(vt(),mD(),a_()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],t):t(e.CryptoJS)})(c_,function(e){return function(){var t=e,r=t.lib,n=r.Base,s=r.WordArray,i=t.algo,a=i.MD5,o=i.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,u){for(var l,d=this.cfg,f=d.hasher.create(),h=s.create(),p=h.words,m=d.keySize,A=d.iterations;p.length<m;){l&&f.update(l),l=f.update(c).finalize(u),f.reset();for(var g=1;g<A;g++)l=f.finalize(l),f.reset();h.concat(l)}return h.sigBytes=m*4,h}});t.EvpKDF=function(c,u,l){return o.create(l).compute(c,u)}}(),e.EvpKDF})});var sn=I((u_,Qae)=>{(function(e,t,r){typeof u_=="object"?Qae.exports=u_=t(vt(),zo()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],t):t(e.CryptoJS)})(u_,function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,s=n.Base,i=n.WordArray,a=n.BufferedBlockAlgorithm,o=r.enc,c=o.Utf8,u=o.Base64,l=r.algo,d=l.EvpKDF,f=n.Cipher=a.extend({cfg:s.extend(),createEncryptor:function(P,N){return this.create(this._ENC_XFORM_MODE,P,N)},createDecryptor:function(P,N){return this.create(this._DEC_XFORM_MODE,P,N)},init:function(P,N,D){this.cfg=this.cfg.extend(D),this._xformMode=P,this._key=N,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(P){return this._append(P),this._process()},finalize:function(P){P&&this._append(P);var N=this._doFinalize();return N},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function P(N){return typeof N=="string"?R:w}return function(N){return{encrypt:function(D,k,q){return P(k).encrypt(N,D,k,q)},decrypt:function(D,k,q){return P(k).decrypt(N,D,k,q)}}}}()}),h=n.StreamCipher=f.extend({_doFinalize:function(){var P=this._process(!0);return P},blockSize:1}),p=r.mode={},m=n.BlockCipherMode=s.extend({createEncryptor:function(P,N){return this.Encryptor.create(P,N)},createDecryptor:function(P,N){return this.Decryptor.create(P,N)},init:function(P,N){this._cipher=P,this._iv=N}}),A=p.CBC=function(){var P=m.extend();P.Encryptor=P.extend({processBlock:function(D,k){var q=this._cipher,j=q.blockSize;N.call(this,D,k,j),q.encryptBlock(D,k),this._prevBlock=D.slice(k,k+j)}}),P.Decryptor=P.extend({processBlock:function(D,k){var q=this._cipher,j=q.blockSize,G=D.slice(k,k+j);q.decryptBlock(D,k),N.call(this,D,k,j),this._prevBlock=G}});function N(D,k,q){var j,G=this._iv;G?(j=G,this._iv=t):j=this._prevBlock;for(var J=0;J<q;J++)D[k+J]^=j[J]}return P}(),g=r.pad={},x=g.Pkcs7={pad:function(P,N){for(var D=N*4,k=D-P.sigBytes%D,q=k<<24|k<<16|k<<8|k,j=[],G=0;G<k;G+=4)j.push(q);var J=i.create(j,k);P.concat(J)},unpad:function(P){var N=P.words[P.sigBytes-1>>>2]&255;P.sigBytes-=N}},y=n.BlockCipher=f.extend({cfg:f.cfg.extend({mode:A,padding:x}),reset:function(){var P;f.reset.call(this);var N=this.cfg,D=N.iv,k=N.mode;this._xformMode==this._ENC_XFORM_MODE?P=k.createEncryptor:(P=k.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==P?this._mode.init(this,D&&D.words):(this._mode=P.call(k,this,D&&D.words),this._mode.__creator=P)},_doProcessBlock:function(P,N){this._mode.processBlock(P,N)},_doFinalize:function(){var P,N=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(N.pad(this._data,this.blockSize),P=this._process(!0)):(P=this._process(!0),N.unpad(P)),P},blockSize:128/32}),b=n.CipherParams=s.extend({init:function(P){this.mixIn(P)},toString:function(P){return(P||this.formatter).stringify(this)}}),_=r.format={},C=_.OpenSSL={stringify:function(P){var N,D=P.ciphertext,k=P.salt;return k?N=i.create([1398893684,1701076831]).concat(k).concat(D):N=D,N.toString(u)},parse:function(P){var N,D=u.parse(P),k=D.words;return k[0]==1398893684&&k[1]==1701076831&&(N=i.create(k.slice(2,4)),k.splice(0,4),D.sigBytes-=16),b.create({ciphertext:D,salt:N})}},w=n.SerializableCipher=s.extend({cfg:s.extend({format:C}),encrypt:function(P,N,D,k){k=this.cfg.extend(k);var q=P.createEncryptor(D,k),j=q.finalize(N),G=q.cfg;return b.create({ciphertext:j,key:D,iv:G.iv,algorithm:P,mode:G.mode,padding:G.padding,blockSize:P.blockSize,formatter:k.format})},decrypt:function(P,N,D,k){k=this.cfg.extend(k),N=this._parse(N,k.format);var q=P.createDecryptor(D,k).finalize(N.ciphertext);return q},_parse:function(P,N){return typeof P=="string"?N.parse(P,this):P}}),S=r.kdf={},T=S.OpenSSL={execute:function(P,N,D,k,q){if(k||(k=i.random(64/8)),q)var j=d.create({keySize:N+D,hasher:q}).compute(P,k);else var j=d.create({keySize:N+D}).compute(P,k);var G=i.create(j.words.slice(N),D*4);return j.sigBytes=N*4,b.create({key:j,iv:G,salt:k})}},R=n.PasswordBasedCipher=w.extend({cfg:w.cfg.extend({kdf:T}),encrypt:function(P,N,D,k){k=this.cfg.extend(k);var q=k.kdf.execute(D,P.keySize,P.ivSize,k.salt,k.hasher);k.iv=q.iv;var j=w.encrypt.call(this,P,N,q.key,k);return j.mixIn(q),j},decrypt:function(P,N,D,k){k=this.cfg.extend(k),N=this._parse(N,k.format);var q=k.kdf.execute(D,P.keySize,P.ivSize,N.salt,k.hasher);k.iv=q.iv;var j=w.decrypt.call(this,P,N,q.key,k);return j}})}()})});var qae=I((l_,Uae)=>{(function(e,t,r){typeof l_=="object"?Uae.exports=l_=t(vt(),sn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(l_,function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:function(n,s){var i=this._cipher,a=i.blockSize;r.call(this,n,s,a,i),this._prevBlock=n.slice(s,s+a)}}),t.Decryptor=t.extend({processBlock:function(n,s){var i=this._cipher,a=i.blockSize,o=n.slice(s,s+a);r.call(this,n,s,a,i),this._prevBlock=o}});function r(n,s,i,a){var o,c=this._iv;c?(o=c.slice(0),this._iv=void 0):o=this._prevBlock,a.encryptBlock(o,0);for(var u=0;u<i;u++)n[s+u]^=o[u]}return t}(),e.mode.CFB})});var Hae=I((d_,jae)=>{(function(e,t,r){typeof d_=="object"?jae.exports=d_=t(vt(),sn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(d_,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(n,s){var i=this._cipher,a=i.blockSize,o=this._iv,c=this._counter;o&&(c=this._counter=o.slice(0),this._iv=void 0);var u=c.slice(0);i.encryptBlock(u,0),c[a-1]=c[a-1]+1|0;for(var l=0;l<a;l++)n[s+l]^=u[l]}});return t.Decryptor=r,t}(),e.mode.CTR})});var Gae=I((f_,zae)=>{(function(e,t,r){typeof f_=="object"?zae.exports=f_=t(vt(),sn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(f_,function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(i){if((i>>24&255)===255){var a=i>>16&255,o=i>>8&255,c=i&255;a===255?(a=0,o===255?(o=0,c===255?c=0:++c):++o):++a,i=0,i+=a<<16,i+=o<<8,i+=c}else i+=1<<24;return i}function n(i){return(i[0]=r(i[0]))===0&&(i[1]=r(i[1])),i}var s=t.Encryptor=t.extend({processBlock:function(i,a){var o=this._cipher,c=o.blockSize,u=this._iv,l=this._counter;u&&(l=this._counter=u.slice(0),this._iv=void 0),n(l);var d=l.slice(0);o.encryptBlock(d,0);for(var f=0;f<c;f++)i[a+f]^=d[f]}});return t.Decryptor=s,t}(),e.mode.CTRGladman})});var Kae=I((p_,Vae)=>{(function(e,t,r){typeof p_=="object"?Vae.exports=p_=t(vt(),sn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(p_,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(n,s){var i=this._cipher,a=i.blockSize,o=this._iv,c=this._keystream;o&&(c=this._keystream=o.slice(0),this._iv=void 0),i.encryptBlock(c,0);for(var u=0;u<a;u++)n[s+u]^=c[u]}});return t.Decryptor=r,t}(),e.mode.OFB})});var Wae=I((h_,Yae)=>{(function(e,t,r){typeof h_=="object"?Yae.exports=h_=t(vt(),sn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(h_,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(r,n){this._cipher.encryptBlock(r,n)}}),t.Decryptor=t.extend({processBlock:function(r,n){this._cipher.decryptBlock(r,n)}}),t}(),e.mode.ECB})});var Xae=I((m_,Jae)=>{(function(e,t,r){typeof m_=="object"?Jae.exports=m_=t(vt(),sn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(m_,function(e){return e.pad.AnsiX923={pad:function(t,r){var n=t.sigBytes,s=r*4,i=s-n%s,a=n+i-1;t.clamp(),t.words[a>>>2]|=i<<24-a%4*8,t.sigBytes+=i},unpad:function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r}},e.pad.Ansix923})});var eoe=I((g_,Zae)=>{(function(e,t,r){typeof g_=="object"?Zae.exports=g_=t(vt(),sn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(g_,function(e){return e.pad.Iso10126={pad:function(t,r){var n=r*4,s=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(s-1)).concat(e.lib.WordArray.create([s<<24],1))},unpad:function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r}},e.pad.Iso10126})});var roe=I((A_,toe)=>{(function(e,t,r){typeof A_=="object"?toe.exports=A_=t(vt(),sn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(A_,function(e){return e.pad.Iso97971={pad:function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971})});var soe=I((y_,noe)=>{(function(e,t,r){typeof y_=="object"?noe.exports=y_=t(vt(),sn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(y_,function(e){return e.pad.ZeroPadding={pad:function(t,r){var n=r*4;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){for(var r=t.words,n=t.sigBytes-1,n=t.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}}},e.pad.ZeroPadding})});var aoe=I((b_,ioe)=>{(function(e,t,r){typeof b_=="object"?ioe.exports=b_=t(vt(),sn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(b_,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})});var coe=I((E_,ooe)=>{(function(e,t,r){typeof E_=="object"?ooe.exports=E_=t(vt(),sn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(E_,function(e){return function(t){var r=e,n=r.lib,s=n.CipherParams,i=r.enc,a=i.Hex,o=r.format,c=o.Hex={stringify:function(u){return u.ciphertext.toString(a)},parse:function(u){var l=a.parse(u);return s.create({ciphertext:l})}}}(),e.format.Hex})});var loe=I((x_,uoe)=>{(function(e,t,r){typeof x_=="object"?uoe.exports=x_=t(vt(),pu(),hu(),zo(),sn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(x_,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,s=t.algo,i=[],a=[],o=[],c=[],u=[],l=[],d=[],f=[],h=[],p=[];(function(){for(var g=[],x=0;x<256;x++)x<128?g[x]=x<<1:g[x]=x<<1^283;for(var y=0,b=0,x=0;x<256;x++){var _=b^b<<1^b<<2^b<<3^b<<4;_=_>>>8^_&255^99,i[y]=_,a[_]=y;var C=g[y],w=g[C],S=g[w],T=g[_]*257^_*16843008;o[y]=T<<24|T>>>8,c[y]=T<<16|T>>>16,u[y]=T<<8|T>>>24,l[y]=T;var T=S*16843009^w*65537^C*257^y*16843008;d[_]=T<<24|T>>>8,f[_]=T<<16|T>>>16,h[_]=T<<8|T>>>24,p[_]=T,y?(y=C^g[g[g[S^C]]],b^=g[g[b]]):y=b=1}})();var m=[0,1,2,4,8,16,32,64,128,27,54],A=s.AES=n.extend({_doReset:function(){var g;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var x=this._keyPriorReset=this._key,y=x.words,b=x.sigBytes/4,_=this._nRounds=b+6,C=(_+1)*4,w=this._keySchedule=[],S=0;S<C;S++)S<b?w[S]=y[S]:(g=w[S-1],S%b?b>6&&S%b==4&&(g=i[g>>>24]<<24|i[g>>>16&255]<<16|i[g>>>8&255]<<8|i[g&255]):(g=g<<8|g>>>24,g=i[g>>>24]<<24|i[g>>>16&255]<<16|i[g>>>8&255]<<8|i[g&255],g^=m[S/b|0]<<24),w[S]=w[S-b]^g);for(var T=this._invKeySchedule=[],R=0;R<C;R++){var S=C-R;if(R%4)var g=w[S];else var g=w[S-4];R<4||S<=4?T[R]=g:T[R]=d[i[g>>>24]]^f[i[g>>>16&255]]^h[i[g>>>8&255]]^p[i[g&255]]}}},encryptBlock:function(g,x){this._doCryptBlock(g,x,this._keySchedule,o,c,u,l,i)},decryptBlock:function(g,x){var y=g[x+1];g[x+1]=g[x+3],g[x+3]=y,this._doCryptBlock(g,x,this._invKeySchedule,d,f,h,p,a);var y=g[x+1];g[x+1]=g[x+3],g[x+3]=y},_doCryptBlock:function(g,x,y,b,_,C,w,S){for(var T=this._nRounds,R=g[x]^y[0],P=g[x+1]^y[1],N=g[x+2]^y[2],D=g[x+3]^y[3],k=4,q=1;q<T;q++){var j=b[R>>>24]^_[P>>>16&255]^C[N>>>8&255]^w[D&255]^y[k++],G=b[P>>>24]^_[N>>>16&255]^C[D>>>8&255]^w[R&255]^y[k++],J=b[N>>>24]^_[D>>>16&255]^C[R>>>8&255]^w[P&255]^y[k++],Q=b[D>>>24]^_[R>>>16&255]^C[P>>>8&255]^w[N&255]^y[k++];R=j,P=G,N=J,D=Q}var j=(S[R>>>24]<<24|S[P>>>16&255]<<16|S[N>>>8&255]<<8|S[D&255])^y[k++],G=(S[P>>>24]<<24|S[N>>>16&255]<<16|S[D>>>8&255]<<8|S[R&255])^y[k++],J=(S[N>>>24]<<24|S[D>>>16&255]<<16|S[R>>>8&255]<<8|S[P&255])^y[k++],Q=(S[D>>>24]<<24|S[R>>>16&255]<<16|S[P>>>8&255]<<8|S[N&255])^y[k++];g[x]=j,g[x+1]=G,g[x+2]=J,g[x+3]=Q},keySize:256/32});t.AES=n._createHelper(A)}(),e.AES})});var foe=I((v_,doe)=>{(function(e,t,r){typeof v_=="object"?doe.exports=v_=t(vt(),pu(),hu(),zo(),sn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(v_,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=r.BlockCipher,i=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],o=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=i.DES=s.extend({_doReset:function(){for(var m=this._key,A=m.words,g=[],x=0;x<56;x++){var y=a[x]-1;g[x]=A[y>>>5]>>>31-y%32&1}for(var b=this._subKeys=[],_=0;_<16;_++){for(var C=b[_]=[],w=c[_],x=0;x<24;x++)C[x/6|0]|=g[(o[x]-1+w)%28]<<31-x%6,C[4+(x/6|0)]|=g[28+(o[x+24]-1+w)%28]<<31-x%6;C[0]=C[0]<<1|C[0]>>>31;for(var x=1;x<7;x++)C[x]=C[x]>>>(x-1)*4+3;C[7]=C[7]<<5|C[7]>>>27}for(var S=this._invSubKeys=[],x=0;x<16;x++)S[x]=b[15-x]},encryptBlock:function(m,A){this._doCryptBlock(m,A,this._subKeys)},decryptBlock:function(m,A){this._doCryptBlock(m,A,this._invSubKeys)},_doCryptBlock:function(m,A,g){this._lBlock=m[A],this._rBlock=m[A+1],f.call(this,4,252645135),f.call(this,16,65535),h.call(this,2,858993459),h.call(this,8,16711935),f.call(this,1,1431655765);for(var x=0;x<16;x++){for(var y=g[x],b=this._lBlock,_=this._rBlock,C=0,w=0;w<8;w++)C|=u[w][((_^y[w])&l[w])>>>0];this._lBlock=_,this._rBlock=b^C}var S=this._lBlock;this._lBlock=this._rBlock,this._rBlock=S,f.call(this,1,1431655765),h.call(this,8,16711935),h.call(this,2,858993459),f.call(this,16,65535),f.call(this,4,252645135),m[A]=this._lBlock,m[A+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function f(m,A){var g=(this._lBlock>>>m^this._rBlock)&A;this._rBlock^=g,this._lBlock^=g<<m}function h(m,A){var g=(this._rBlock>>>m^this._lBlock)&A;this._lBlock^=g,this._rBlock^=g<<m}t.DES=s._createHelper(d);var p=i.TripleDES=s.extend({_doReset:function(){var m=this._key,A=m.words;if(A.length!==2&&A.length!==4&&A.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var g=A.slice(0,2),x=A.length<4?A.slice(0,2):A.slice(2,4),y=A.length<6?A.slice(0,2):A.slice(4,6);this._des1=d.createEncryptor(n.create(g)),this._des2=d.createEncryptor(n.create(x)),this._des3=d.createEncryptor(n.create(y))},encryptBlock:function(m,A){this._des1.encryptBlock(m,A),this._des2.decryptBlock(m,A),this._des3.encryptBlock(m,A)},decryptBlock:function(m,A){this._des3.decryptBlock(m,A),this._des2.encryptBlock(m,A),this._des1.decryptBlock(m,A)},keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=s._createHelper(p)}(),e.TripleDES})});var hoe=I((__,poe)=>{(function(e,t,r){typeof __=="object"?poe.exports=__=t(vt(),pu(),hu(),zo(),sn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(__,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,s=t.algo,i=s.RC4=n.extend({_doReset:function(){for(var c=this._key,u=c.words,l=c.sigBytes,d=this._S=[],f=0;f<256;f++)d[f]=f;for(var f=0,h=0;f<256;f++){var p=f%l,m=u[p>>>2]>>>24-p%4*8&255;h=(h+d[f]+m)%256;var A=d[f];d[f]=d[h],d[h]=A}this._i=this._j=0},_doProcessBlock:function(c,u){c[u]^=a.call(this)},keySize:256/32,ivSize:0});function a(){for(var c=this._S,u=this._i,l=this._j,d=0,f=0;f<4;f++){u=(u+1)%256,l=(l+c[u])%256;var h=c[u];c[u]=c[l],c[l]=h,d|=c[(c[u]+c[l])%256]<<24-f*8}return this._i=u,this._j=l,d}t.RC4=n._createHelper(i);var o=s.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)a.call(this)}});t.RC4Drop=n._createHelper(o)}(),e.RC4})});var goe=I((I_,moe)=>{(function(e,t,r){typeof I_=="object"?moe.exports=I_=t(vt(),pu(),hu(),zo(),sn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(I_,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,s=t.algo,i=[],a=[],o=[],c=s.Rabbit=n.extend({_doReset:function(){for(var l=this._key.words,d=this.cfg.iv,f=0;f<4;f++)l[f]=(l[f]<<8|l[f]>>>24)&16711935|(l[f]<<24|l[f]>>>8)&4278255360;var h=this._X=[l[0],l[3]<<16|l[2]>>>16,l[1],l[0]<<16|l[3]>>>16,l[2],l[1]<<16|l[0]>>>16,l[3],l[2]<<16|l[1]>>>16],p=this._C=[l[2]<<16|l[2]>>>16,l[0]&4294901760|l[1]&65535,l[3]<<16|l[3]>>>16,l[1]&4294901760|l[2]&65535,l[0]<<16|l[0]>>>16,l[2]&4294901760|l[3]&65535,l[1]<<16|l[1]>>>16,l[3]&4294901760|l[0]&65535];this._b=0;for(var f=0;f<4;f++)u.call(this);for(var f=0;f<8;f++)p[f]^=h[f+4&7];if(d){var m=d.words,A=m[0],g=m[1],x=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,y=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,b=x>>>16|y&4294901760,_=y<<16|x&65535;p[0]^=x,p[1]^=b,p[2]^=y,p[3]^=_,p[4]^=x,p[5]^=b,p[6]^=y,p[7]^=_;for(var f=0;f<4;f++)u.call(this)}},_doProcessBlock:function(l,d){var f=this._X;u.call(this),i[0]=f[0]^f[5]>>>16^f[3]<<16,i[1]=f[2]^f[7]>>>16^f[5]<<16,i[2]=f[4]^f[1]>>>16^f[7]<<16,i[3]=f[6]^f[3]>>>16^f[1]<<16;for(var h=0;h<4;h++)i[h]=(i[h]<<8|i[h]>>>24)&16711935|(i[h]<<24|i[h]>>>8)&4278255360,l[d+h]^=i[h]},blockSize:128/32,ivSize:64/32});function u(){for(var l=this._X,d=this._C,f=0;f<8;f++)a[f]=d[f];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<a[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<a[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<a[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<a[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<a[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<a[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<a[6]>>>0?1:0)|0,this._b=d[7]>>>0<a[7]>>>0?1:0;for(var f=0;f<8;f++){var h=l[f]+d[f],p=h&65535,m=h>>>16,A=((p*p>>>17)+p*m>>>15)+m*m,g=((h&4294901760)*h|0)+((h&65535)*h|0);o[f]=A^g}l[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,l[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,l[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,l[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,l[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,l[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,l[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,l[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.Rabbit=n._createHelper(c)}(),e.Rabbit})});var yoe=I((C_,Aoe)=>{(function(e,t,r){typeof C_=="object"?Aoe.exports=C_=t(vt(),pu(),hu(),zo(),sn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(C_,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,s=t.algo,i=[],a=[],o=[],c=s.RabbitLegacy=n.extend({_doReset:function(){var l=this._key.words,d=this.cfg.iv,f=this._X=[l[0],l[3]<<16|l[2]>>>16,l[1],l[0]<<16|l[3]>>>16,l[2],l[1]<<16|l[0]>>>16,l[3],l[2]<<16|l[1]>>>16],h=this._C=[l[2]<<16|l[2]>>>16,l[0]&4294901760|l[1]&65535,l[3]<<16|l[3]>>>16,l[1]&4294901760|l[2]&65535,l[0]<<16|l[0]>>>16,l[2]&4294901760|l[3]&65535,l[1]<<16|l[1]>>>16,l[3]&4294901760|l[0]&65535];this._b=0;for(var p=0;p<4;p++)u.call(this);for(var p=0;p<8;p++)h[p]^=f[p+4&7];if(d){var m=d.words,A=m[0],g=m[1],x=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,y=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,b=x>>>16|y&4294901760,_=y<<16|x&65535;h[0]^=x,h[1]^=b,h[2]^=y,h[3]^=_,h[4]^=x,h[5]^=b,h[6]^=y,h[7]^=_;for(var p=0;p<4;p++)u.call(this)}},_doProcessBlock:function(l,d){var f=this._X;u.call(this),i[0]=f[0]^f[5]>>>16^f[3]<<16,i[1]=f[2]^f[7]>>>16^f[5]<<16,i[2]=f[4]^f[1]>>>16^f[7]<<16,i[3]=f[6]^f[3]>>>16^f[1]<<16;for(var h=0;h<4;h++)i[h]=(i[h]<<8|i[h]>>>24)&16711935|(i[h]<<24|i[h]>>>8)&4278255360,l[d+h]^=i[h]},blockSize:128/32,ivSize:64/32});function u(){for(var l=this._X,d=this._C,f=0;f<8;f++)a[f]=d[f];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<a[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<a[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<a[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<a[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<a[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<a[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<a[6]>>>0?1:0)|0,this._b=d[7]>>>0<a[7]>>>0?1:0;for(var f=0;f<8;f++){var h=l[f]+d[f],p=h&65535,m=h>>>16,A=((p*p>>>17)+p*m>>>15)+m*m,g=((h&4294901760)*h|0)+((h&65535)*h|0);o[f]=A^g}l[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,l[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,l[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,l[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,l[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,l[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,l[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,l[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.RabbitLegacy=n._createHelper(c)}(),e.RabbitLegacy})});var Eoe=I((w_,boe)=>{(function(e,t,r){typeof w_=="object"?boe.exports=w_=t(vt(),pu(),hu(),zo(),sn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(w_,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,s=t.algo;let i=16,a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],o=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function u(p,m){let A=m>>24&255,g=m>>16&255,x=m>>8&255,y=m&255,b=p.sbox[0][A]+p.sbox[1][g];return b=b^p.sbox[2][x],b=b+p.sbox[3][y],b}function l(p,m,A){let g=m,x=A,y;for(let b=0;b<i;++b)g=g^p.pbox[b],x=u(p,g)^x,y=g,g=x,x=y;return y=g,g=x,x=y,x=x^p.pbox[i],g=g^p.pbox[i+1],{left:g,right:x}}function d(p,m,A){let g=m,x=A,y;for(let b=i+1;b>1;--b)g=g^p.pbox[b],x=u(p,g)^x,y=g,g=x,x=y;return y=g,g=x,x=y,x=x^p.pbox[1],g=g^p.pbox[0],{left:g,right:x}}function f(p,m,A){for(let _=0;_<4;_++){p.sbox[_]=[];for(let C=0;C<256;C++)p.sbox[_][C]=o[_][C]}let g=0;for(let _=0;_<i+2;_++)p.pbox[_]=a[_]^m[g],g++,g>=A&&(g=0);let x=0,y=0,b=0;for(let _=0;_<i+2;_+=2)b=l(p,x,y),x=b.left,y=b.right,p.pbox[_]=x,p.pbox[_+1]=y;for(let _=0;_<4;_++)for(let C=0;C<256;C+=2)b=l(p,x,y),x=b.left,y=b.right,p.sbox[_][C]=x,p.sbox[_][C+1]=y;return!0}var h=s.Blowfish=n.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var p=this._keyPriorReset=this._key,m=p.words,A=p.sigBytes/4;f(c,m,A)}},encryptBlock:function(p,m){var A=l(c,p[m],p[m+1]);p[m]=A.left,p[m+1]=A.right},decryptBlock:function(p,m){var A=d(c,p[m],p[m+1]);p[m]=A.left,p[m+1]=A.right},blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=n._createHelper(h)}(),e.Blowfish})});var Hs=I((S_,xoe)=>{(function(e,t,r){typeof S_=="object"?xoe.exports=S_=t(vt(),Fg(),yae(),Eae(),pu(),_ae(),hu(),mD(),Zv(),Tae(),gD(),Nae(),Dae(),Oae(),a_(),Mae(),zo(),sn(),qae(),Hae(),Gae(),Kae(),Wae(),Xae(),eoe(),roe(),soe(),aoe(),coe(),loe(),foe(),hoe(),goe(),yoe(),Eoe()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],t):e.CryptoJS=t(e.CryptoJS)})(S_,function(e){return e})});var wD=I((a_t,Foe)=>{Foe.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var Au=I(Jl=>{var SD,eXe=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Jl.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Jl.getSymbolTotalCodewords=function(t){return eXe[t]};Jl.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};Jl.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');SD=t};Jl.isKanjiModeEnabled=function(){return typeof SD<"u"};Jl.toSJIS=function(t){return SD(t)}});var D_=I(ki=>{ki.L={bit:1};ki.M={bit:0};ki.Q={bit:3};ki.H={bit:2};function tXe(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return ki.L;case"m":case"medium":return ki.M;case"q":case"quartile":return ki.Q;case"h":case"high":return ki.H;default:throw new Error("Unknown EC Level: "+e)}}ki.isValid=function(t){return t&&typeof t.bit<"u"&&t.bit>=0&&t.bit<4};ki.from=function(t,r){if(ki.isValid(t))return t;try{return tXe(t)}catch{return r}}});var qoe=I((u_t,Uoe)=>{function Qoe(){this.buffer=[],this.length=0}Qoe.prototype={get:function(e){let t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){let t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};Uoe.exports=Qoe});var Hoe=I((l_t,joe)=>{function Hg(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Hg.prototype.set=function(e,t,r,n){let s=e*this.size+t;this.data[s]=r,n&&(this.reservedBit[s]=!0)};Hg.prototype.get=function(e,t){return this.data[e*this.size+t]};Hg.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};Hg.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};joe.exports=Hg});var zoe=I(P_=>{var rXe=Au().getSymbolSize;P_.getRowColCoords=function(t){if(t===1)return[];let r=Math.floor(t/7)+2,n=rXe(t),s=n===145?26:Math.ceil((n-13)/(2*r-2))*2,i=[n-7];for(let a=1;a<r-1;a++)i[a]=i[a-1]-s;return i.push(6),i.reverse()};P_.getPositions=function(t){let r=[],n=P_.getRowColCoords(t),s=n.length;for(let i=0;i<s;i++)for(let a=0;a<s;a++)i===0&&a===0||i===0&&a===s-1||i===s-1&&a===0||r.push([n[i],n[a]]);return r}});var Koe=I(Voe=>{var nXe=Au().getSymbolSize,Goe=7;Voe.getPositions=function(t){let r=nXe(t);return[[0,0],[r-Goe,0],[0,r-Goe]]}});var Yoe=I(mr=>{mr.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var Xl={N1:3,N2:3,N3:40,N4:10};mr.isValid=function(t){return t!=null&&t!==""&&!isNaN(t)&&t>=0&&t<=7};mr.from=function(t){return mr.isValid(t)?parseInt(t,10):void 0};mr.getPenaltyN1=function(t){let r=t.size,n=0,s=0,i=0,a=null,o=null;for(let c=0;c<r;c++){s=i=0,a=o=null;for(let u=0;u<r;u++){let l=t.get(c,u);l===a?s++:(s>=5&&(n+=Xl.N1+(s-5)),a=l,s=1),l=t.get(u,c),l===o?i++:(i>=5&&(n+=Xl.N1+(i-5)),o=l,i=1)}s>=5&&(n+=Xl.N1+(s-5)),i>=5&&(n+=Xl.N1+(i-5))}return n};mr.getPenaltyN2=function(t){let r=t.size,n=0;for(let s=0;s<r-1;s++)for(let i=0;i<r-1;i++){let a=t.get(s,i)+t.get(s,i+1)+t.get(s+1,i)+t.get(s+1,i+1);(a===4||a===0)&&n++}return n*Xl.N2};mr.getPenaltyN3=function(t){let r=t.size,n=0,s=0,i=0;for(let a=0;a<r;a++){s=i=0;for(let o=0;o<r;o++)s=s<<1&2047|t.get(a,o),o>=10&&(s===1488||s===93)&&n++,i=i<<1&2047|t.get(o,a),o>=10&&(i===1488||i===93)&&n++}return n*Xl.N3};mr.getPenaltyN4=function(t){let r=0,n=t.data.length;for(let i=0;i<n;i++)r+=t.data[i];return Math.abs(Math.ceil(r*100/n/5)-10)*Xl.N4};function sXe(e,t,r){switch(e){case mr.Patterns.PATTERN000:return(t+r)%2===0;case mr.Patterns.PATTERN001:return t%2===0;case mr.Patterns.PATTERN010:return r%3===0;case mr.Patterns.PATTERN011:return(t+r)%3===0;case mr.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2===0;case mr.Patterns.PATTERN101:return t*r%2+t*r%3===0;case mr.Patterns.PATTERN110:return(t*r%2+t*r%3)%2===0;case mr.Patterns.PATTERN111:return(t*r%3+(t+r)%2)%2===0;default:throw new Error("bad maskPattern:"+e)}}mr.applyMask=function(t,r){let n=r.size;for(let s=0;s<n;s++)for(let i=0;i<n;i++)r.isReserved(i,s)||r.xor(i,s,sXe(t,i,s))};mr.getBestMask=function(t,r){let n=Object.keys(mr.Patterns).length,s=0,i=1/0;for(let a=0;a<n;a++){r(a),mr.applyMask(a,t);let o=mr.getPenaltyN1(t)+mr.getPenaltyN2(t)+mr.getPenaltyN3(t)+mr.getPenaltyN4(t);mr.applyMask(a,t),o<i&&(i=o,s=a)}return s}});var BD=I(TD=>{var yu=D_(),O_=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],$_=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];TD.getBlocksCount=function(t,r){switch(r){case yu.L:return O_[(t-1)*4+0];case yu.M:return O_[(t-1)*4+1];case yu.Q:return O_[(t-1)*4+2];case yu.H:return O_[(t-1)*4+3];default:return}};TD.getTotalCodewordsCount=function(t,r){switch(r){case yu.L:return $_[(t-1)*4+0];case yu.M:return $_[(t-1)*4+1];case yu.Q:return $_[(t-1)*4+2];case yu.H:return $_[(t-1)*4+3];default:return}}});var Woe=I(M_=>{var zg=new Uint8Array(512),L_=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)zg[r]=t,L_[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)zg[r]=zg[r-255]})();M_.log=function(t){if(t<1)throw new Error("log("+t+")");return L_[t]};M_.exp=function(t){return zg[t]};M_.mul=function(t,r){return t===0||r===0?0:zg[L_[t]+L_[r]]}});var Joe=I(Gg=>{var RD=Woe();Gg.mul=function(t,r){let n=new Uint8Array(t.length+r.length-1);for(let s=0;s<t.length;s++)for(let i=0;i<r.length;i++)n[s+i]^=RD.mul(t[s],r[i]);return n};Gg.mod=function(t,r){let n=new Uint8Array(t);for(;n.length-r.length>=0;){let s=n[0];for(let a=0;a<r.length;a++)n[a]^=RD.mul(r[a],s);let i=0;for(;i<n.length&&n[i]===0;)i++;n=n.slice(i)}return n};Gg.generateECPolynomial=function(t){let r=new Uint8Array([1]);for(let n=0;n<t;n++)r=Gg.mul(r,new Uint8Array([1,RD.exp(n)]));return r}});var ece=I((A_t,Zoe)=>{var Xoe=Joe();function ND(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}ND.prototype.initialize=function(t){this.degree=t,this.genPoly=Xoe.generateECPolynomial(this.degree)};ND.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");let r=new Uint8Array(t.length+this.degree);r.set(t);let n=Xoe.mod(r,this.genPoly),s=this.degree-n.length;if(s>0){let i=new Uint8Array(this.degree);return i.set(n,s),i}return n};Zoe.exports=ND});var kD=I(tce=>{tce.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}});var DD=I(Vo=>{var rce="[0-9]+",iXe="[A-Z $%*+\\-./:]+",Vg="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Vg=Vg.replace(/u/g,"\\u");var aXe="(?:(?![A-Z0-9 $%*+\\-./:]|"+Vg+`)(?:.|[\r
]))+`;Vo.KANJI=new RegExp(Vg,"g");Vo.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Vo.BYTE=new RegExp(aXe,"g");Vo.NUMERIC=new RegExp(rce,"g");Vo.ALPHANUMERIC=new RegExp(iXe,"g");var oXe=new RegExp("^"+Vg+"$"),cXe=new RegExp("^"+rce+"$"),uXe=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Vo.testKanji=function(t){return oXe.test(t)};Vo.testNumeric=function(t){return cXe.test(t)};Vo.testAlphanumeric=function(t){return uXe.test(t)}});var bu=I(Jr=>{var lXe=kD(),PD=DD();Jr.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};Jr.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};Jr.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};Jr.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};Jr.MIXED={bit:-1};Jr.getCharCountIndicator=function(t,r){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!lXe.isValid(r))throw new Error("Invalid version: "+r);return r>=1&&r<10?t.ccBits[0]:r<27?t.ccBits[1]:t.ccBits[2]};Jr.getBestModeForData=function(t){return PD.testNumeric(t)?Jr.NUMERIC:PD.testAlphanumeric(t)?Jr.ALPHANUMERIC:PD.testKanji(t)?Jr.KANJI:Jr.BYTE};Jr.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")};Jr.isValid=function(t){return t&&t.bit&&t.ccBits};function dXe(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return Jr.NUMERIC;case"alphanumeric":return Jr.ALPHANUMERIC;case"kanji":return Jr.KANJI;case"byte":return Jr.BYTE;default:throw new Error("Unknown mode: "+e)}}Jr.from=function(t,r){if(Jr.isValid(t))return t;try{return dXe(t)}catch{return r}}});var oce=I(Zl=>{var F_=Au(),fXe=BD(),nce=D_(),Eu=bu(),OD=kD(),ice=7973,sce=F_.getBCHDigit(ice);function pXe(e,t,r){for(let n=1;n<=40;n++)if(t<=Zl.getCapacity(n,r,e))return n}function ace(e,t){return Eu.getCharCountIndicator(e,t)+4}function hXe(e,t){let r=0;return e.forEach(function(n){let s=ace(n.mode,t);r+=s+n.getBitsLength()}),r}function mXe(e,t){for(let r=1;r<=40;r++)if(hXe(e,r)<=Zl.getCapacity(r,t,Eu.MIXED))return r}Zl.from=function(t,r){return OD.isValid(t)?parseInt(t,10):r};Zl.getCapacity=function(t,r,n){if(!OD.isValid(t))throw new Error("Invalid QR Code version");typeof n>"u"&&(n=Eu.BYTE);let s=F_.getSymbolTotalCodewords(t),i=fXe.getTotalCodewordsCount(t,r),a=(s-i)*8;if(n===Eu.MIXED)return a;let o=a-ace(n,t);switch(n){case Eu.NUMERIC:return Math.floor(o/10*3);case Eu.ALPHANUMERIC:return Math.floor(o/11*2);case Eu.KANJI:return Math.floor(o/13);case Eu.BYTE:default:return Math.floor(o/8)}};Zl.getBestVersionForData=function(t,r){let n,s=nce.from(r,nce.M);if(Array.isArray(t)){if(t.length>1)return mXe(t,s);if(t.length===0)return 1;n=t[0]}else n=t;return pXe(n.mode,n.getLength(),s)};Zl.getEncodedBits=function(t){if(!OD.isValid(t)||t<7)throw new Error("Invalid QR Code version");let r=t<<12;for(;F_.getBCHDigit(r)-sce>=0;)r^=ice<<F_.getBCHDigit(r)-sce;return t<<12|r}});var dce=I(lce=>{var $D=Au(),uce=1335,gXe=21522,cce=$D.getBCHDigit(uce);lce.getEncodedBits=function(t,r){let n=t.bit<<3|r,s=n<<10;for(;$D.getBCHDigit(s)-cce>=0;)s^=uce<<$D.getBCHDigit(s)-cce;return(n<<10|s)^gXe}});var pce=I((__t,fce)=>{var AXe=bu();function Pp(e){this.mode=AXe.NUMERIC,this.data=e.toString()}Pp.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Pp.prototype.getLength=function(){return this.data.length};Pp.prototype.getBitsLength=function(){return Pp.getBitsLength(this.data.length)};Pp.prototype.write=function(t){let r,n,s;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),s=parseInt(n,10),t.put(s,10);let i=this.data.length-r;i>0&&(n=this.data.substr(r),s=parseInt(n,10),t.put(s,i*3+1))};fce.exports=Pp});var mce=I((I_t,hce)=>{var yXe=bu(),LD=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Op(e){this.mode=yXe.ALPHANUMERIC,this.data=e}Op.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Op.prototype.getLength=function(){return this.data.length};Op.prototype.getBitsLength=function(){return Op.getBitsLength(this.data.length)};Op.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let n=LD.indexOf(this.data[r])*45;n+=LD.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(LD.indexOf(this.data[r]),6)};hce.exports=Op});var Ace=I((C_t,gce)=>{var bXe=bu();function $p(e){this.mode=bXe.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}$p.getBitsLength=function(t){return t*8};$p.prototype.getLength=function(){return this.data.length};$p.prototype.getBitsLength=function(){return $p.getBitsLength(this.data.length)};$p.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};gce.exports=$p});var bce=I((w_t,yce)=>{var EXe=bu(),xXe=Au();function Lp(e){this.mode=EXe.KANJI,this.data=e}Lp.getBitsLength=function(t){return t*13};Lp.prototype.getLength=function(){return this.data.length};Lp.prototype.getBitsLength=function(){return Lp.getBitsLength(this.data.length)};Lp.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=xXe.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};yce.exports=Lp});var Ece=I((S_t,MD)=>{"use strict";var Kg={single_source_shortest_paths:function(e,t,r){var n={},s={};s[t]=0;var i=Kg.PriorityQueue.make();i.push(t,0);for(var a,o,c,u,l,d,f,h,p;!i.empty();){a=i.pop(),o=a.value,u=a.cost,l=e[o]||{};for(c in l)l.hasOwnProperty(c)&&(d=l[c],f=u+d,h=s[c],p=typeof s[c]>"u",(p||h>f)&&(s[c]=f,i.push(c,f),n[c]=o))}if(typeof r<"u"&&typeof s[r]>"u"){var m=["Could not find a path from ",t," to ",r,"."].join("");throw new Error(m)}return n},extract_shortest_path_from_predecessor_list:function(e,t){for(var r=[],n=t,s;n;)r.push(n),s=e[n],n=e[n];return r.reverse(),r},find_path:function(e,t,r){var n=Kg.single_source_shortest_paths(e,t,r);return Kg.extract_shortest_path_from_predecessor_list(n,r)},PriorityQueue:{make:function(e){var t=Kg.PriorityQueue,r={},n;e=e||{};for(n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return r.queue=[],r.sorter=e.sorter||t.default_sorter,r},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var r={value:e,cost:t};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof MD<"u"&&(MD.exports=Kg)});var Tce=I(Mp=>{var Yt=bu(),_ce=pce(),Ice=mce(),Cce=Ace(),wce=bce(),Yg=DD(),Q_=Au(),vXe=Ece();function xce(e){return unescape(encodeURIComponent(e)).length}function Wg(e,t,r){let n=[],s;for(;(s=e.exec(r))!==null;)n.push({data:s[0],index:s.index,mode:t,length:s[0].length});return n}function Sce(e){let t=Wg(Yg.NUMERIC,Yt.NUMERIC,e),r=Wg(Yg.ALPHANUMERIC,Yt.ALPHANUMERIC,e),n,s;return Q_.isKanjiModeEnabled()?(n=Wg(Yg.BYTE,Yt.BYTE,e),s=Wg(Yg.KANJI,Yt.KANJI,e)):(n=Wg(Yg.BYTE_KANJI,Yt.BYTE,e),s=[]),t.concat(r,n,s).sort(function(a,o){return a.index-o.index}).map(function(a){return{data:a.data,mode:a.mode,length:a.length}})}function FD(e,t){switch(t){case Yt.NUMERIC:return _ce.getBitsLength(e);case Yt.ALPHANUMERIC:return Ice.getBitsLength(e);case Yt.KANJI:return wce.getBitsLength(e);case Yt.BYTE:return Cce.getBitsLength(e)}}function _Xe(e){return e.reduce(function(t,r){let n=t.length-1>=0?t[t.length-1]:null;return n&&n.mode===r.mode?(t[t.length-1].data+=r.data,t):(t.push(r),t)},[])}function IXe(e){let t=[];for(let r=0;r<e.length;r++){let n=e[r];switch(n.mode){case Yt.NUMERIC:t.push([n,{data:n.data,mode:Yt.ALPHANUMERIC,length:n.length},{data:n.data,mode:Yt.BYTE,length:n.length}]);break;case Yt.ALPHANUMERIC:t.push([n,{data:n.data,mode:Yt.BYTE,length:n.length}]);break;case Yt.KANJI:t.push([n,{data:n.data,mode:Yt.BYTE,length:xce(n.data)}]);break;case Yt.BYTE:t.push([{data:n.data,mode:Yt.BYTE,length:xce(n.data)}])}}return t}function CXe(e,t){let r={},n={start:{}},s=["start"];for(let i=0;i<e.length;i++){let a=e[i],o=[];for(let c=0;c<a.length;c++){let u=a[c],l=""+i+c;o.push(l),r[l]={node:u,lastCount:0},n[l]={};for(let d=0;d<s.length;d++){let f=s[d];r[f]&&r[f].node.mode===u.mode?(n[f][l]=FD(r[f].lastCount+u.length,u.mode)-FD(r[f].lastCount,u.mode),r[f].lastCount+=u.length):(r[f]&&(r[f].lastCount=u.length),n[f][l]=FD(u.length,u.mode)+4+Yt.getCharCountIndicator(u.mode,t))}}s=o}for(let i=0;i<s.length;i++)n[s[i]].end=0;return{map:n,table:r}}function vce(e,t){let r,n=Yt.getBestModeForData(e);if(r=Yt.from(t,n),r!==Yt.BYTE&&r.bit<n.bit)throw new Error('"'+e+'" cannot be encoded with mode '+Yt.toString(r)+`.
 Suggested mode is: `+Yt.toString(n));switch(r===Yt.KANJI&&!Q_.isKanjiModeEnabled()&&(r=Yt.BYTE),r){case Yt.NUMERIC:return new _ce(e);case Yt.ALPHANUMERIC:return new Ice(e);case Yt.KANJI:return new wce(e);case Yt.BYTE:return new Cce(e)}}Mp.fromArray=function(t){return t.reduce(function(r,n){return typeof n=="string"?r.push(vce(n,null)):n.data&&r.push(vce(n.data,n.mode)),r},[])};Mp.fromString=function(t,r){let n=Sce(t,Q_.isKanjiModeEnabled()),s=IXe(n),i=CXe(s,r),a=vXe.find_path(i.map,"start","end"),o=[];for(let c=1;c<a.length-1;c++)o.push(i.table[a[c]].node);return Mp.fromArray(_Xe(o))};Mp.rawSplit=function(t){return Mp.fromArray(Sce(t,Q_.isKanjiModeEnabled()))}});var zD=I(Bce=>{var q_=Au(),QD=D_(),wXe=qoe(),SXe=Hoe(),TXe=zoe(),BXe=Koe(),jD=Yoe(),HD=BD(),RXe=ece(),U_=oce(),NXe=dce(),kXe=bu(),UD=Tce();function DXe(e,t){let r=e.size,n=BXe.getPositions(t);for(let s=0;s<n.length;s++){let i=n[s][0],a=n[s][1];for(let o=-1;o<=7;o++)if(!(i+o<=-1||r<=i+o))for(let c=-1;c<=7;c++)a+c<=-1||r<=a+c||(o>=0&&o<=6&&(c===0||c===6)||c>=0&&c<=6&&(o===0||o===6)||o>=2&&o<=4&&c>=2&&c<=4?e.set(i+o,a+c,!0,!0):e.set(i+o,a+c,!1,!0))}}function PXe(e){let t=e.size;for(let r=8;r<t-8;r++){let n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function OXe(e,t){let r=TXe.getPositions(t);for(let n=0;n<r.length;n++){let s=r[n][0],i=r[n][1];for(let a=-2;a<=2;a++)for(let o=-2;o<=2;o++)a===-2||a===2||o===-2||o===2||a===0&&o===0?e.set(s+a,i+o,!0,!0):e.set(s+a,i+o,!1,!0)}}function $Xe(e,t){let r=e.size,n=U_.getEncodedBits(t),s,i,a;for(let o=0;o<18;o++)s=Math.floor(o/3),i=o%3+r-8-3,a=(n>>o&1)===1,e.set(s,i,a,!0),e.set(i,s,a,!0)}function qD(e,t,r){let n=e.size,s=NXe.getEncodedBits(t,r),i,a;for(i=0;i<15;i++)a=(s>>i&1)===1,i<6?e.set(i,8,a,!0):i<8?e.set(i+1,8,a,!0):e.set(n-15+i,8,a,!0),i<8?e.set(8,n-i-1,a,!0):i<9?e.set(8,15-i-1+1,a,!0):e.set(8,15-i-1,a,!0);e.set(n-8,8,1,!0)}function LXe(e,t){let r=e.size,n=-1,s=r-1,i=7,a=0;for(let o=r-1;o>0;o-=2)for(o===6&&o--;;){for(let c=0;c<2;c++)if(!e.isReserved(s,o-c)){let u=!1;a<t.length&&(u=(t[a]>>>i&1)===1),e.set(s,o-c,u),i--,i===-1&&(a++,i=7)}if(s+=n,s<0||r<=s){s-=n,n=-n;break}}}function MXe(e,t,r){let n=new wXe;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),kXe.getCharCountIndicator(c.mode,e)),c.write(n)});let s=q_.getSymbolTotalCodewords(e),i=HD.getTotalCodewordsCount(e,t),a=(s-i)*8;for(n.getLengthInBits()+4<=a&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);let o=(a-n.getLengthInBits())/8;for(let c=0;c<o;c++)n.put(c%2?17:236,8);return FXe(n,e,t)}function FXe(e,t,r){let n=q_.getSymbolTotalCodewords(t),s=HD.getTotalCodewordsCount(t,r),i=n-s,a=HD.getBlocksCount(t,r),o=n%a,c=a-o,u=Math.floor(n/a),l=Math.floor(i/a),d=l+1,f=u-l,h=new RXe(f),p=0,m=new Array(a),A=new Array(a),g=0,x=new Uint8Array(e.buffer);for(let w=0;w<a;w++){let S=w<c?l:d;m[w]=x.slice(p,p+S),A[w]=h.encode(m[w]),p+=S,g=Math.max(g,S)}let y=new Uint8Array(n),b=0,_,C;for(_=0;_<g;_++)for(C=0;C<a;C++)_<m[C].length&&(y[b++]=m[C][_]);for(_=0;_<f;_++)for(C=0;C<a;C++)y[b++]=A[C][_];return y}function QXe(e,t,r,n){let s;if(Array.isArray(e))s=UD.fromArray(e);else if(typeof e=="string"){let u=t;if(!u){let l=UD.rawSplit(e);u=U_.getBestVersionForData(l,r)}s=UD.fromString(e,u||40)}else throw new Error("Invalid data");let i=U_.getBestVersionForData(s,r);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=i;else if(t<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);let a=MXe(t,r,s),o=q_.getSymbolSize(t),c=new SXe(o);return DXe(c,t),PXe(c),OXe(c,t),qD(c,r,0),t>=7&&$Xe(c,t),LXe(c,a),isNaN(n)&&(n=jD.getBestMask(c,qD.bind(null,c,r))),jD.applyMask(n,c),qD(c,r,n),{modules:c,version:t,errorCorrectionLevel:r,maskPattern:n,segments:s}}Bce.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let n=QD.M,s,i;return typeof r<"u"&&(n=QD.from(r.errorCorrectionLevel,QD.M),s=U_.from(r.version),i=jD.from(r.maskPattern),r.toSJISFunc&&q_.setToSJISFunction(r.toSJISFunc)),QXe(t,s,n,i)}});var GD=I((R_t,Nce)=>{"use strict";var UXe=require("util"),Rce=require("stream"),la=Nce.exports=function(){Rce.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};UXe.inherits(la,Rce);la.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t}),process.nextTick(function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))};la.prototype.write=function(e,t){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;let r;return Buffer.isBuffer(e)?r=e:r=Buffer.from(e,t||this._encoding),this._buffers.push(r),this._buffered+=r.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused};la.prototype.end=function(e,t){e&&this.write(e,t),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))};la.prototype.destroySoon=la.prototype.end;la.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()};la.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))};la.prototype._processReadAllowingLess=function(e){this._reads.shift();let t=this._buffers[0];t.length>e.length?(this._buffered-=e.length,this._buffers[0]=t.slice(e.length),e.func.call(this,t.slice(0,e.length))):(this._buffered-=t.length,this._buffers.shift(),e.func.call(this,t))};la.prototype._processRead=function(e){this._reads.shift();let t=0,r=0,n=Buffer.alloc(e.length);for(;t<e.length;){let s=this._buffers[r++],i=Math.min(s.length,e.length-t);s.copy(n,t,0,i),t+=i,i!==s.length&&(this._buffers[--r]=s.slice(i))}r>0&&this._buffers.splice(0,r),this._buffered-=e.length,e.func.call(this,n)};la.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let e=this._reads[0];if(e.allowLess)this._processReadAllowingLess(e);else if(this._buffered>=e.length)this._processRead(e);else break}this._buffers&&!this.writable&&this._end()}catch(e){this.emit("error",e)}}});var KD=I(VD=>{"use strict";var xu=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];VD.getImagePasses=function(e,t){let r=[],n=e%8,s=t%8,i=(e-n)/8,a=(t-s)/8;for(let o=0;o<xu.length;o++){let c=xu[o],u=i*c.x.length,l=a*c.y.length;for(let d=0;d<c.x.length&&c.x[d]<n;d++)u++;for(let d=0;d<c.y.length&&c.y[d]<s;d++)l++;u>0&&l>0&&r.push({width:u,height:l,index:o})}return r};VD.getInterlaceIterator=function(e){return function(t,r,n){let s=t%xu[n].x.length,i=(t-s)/xu[n].x.length*8+xu[n].x[s],a=r%xu[n].y.length,o=(r-a)/xu[n].y.length*8+xu[n].y[a];return i*4+o*e*4}}});var YD=I((k_t,kce)=>{"use strict";kce.exports=function(t,r,n){let s=t+r-n,i=Math.abs(s-t),a=Math.abs(s-r),o=Math.abs(s-n);return i<=a&&i<=o?t:a<=o?r:n}});var WD=I((D_t,Pce)=>{"use strict";var qXe=KD(),jXe=YD();function Dce(e,t,r){let n=e*t;return r!==8&&(n=Math.ceil(n/(8/r))),n}var Fp=Pce.exports=function(e,t){let r=e.width,n=e.height,s=e.interlace,i=e.bpp,a=e.depth;if(this.read=t.read,this.write=t.write,this.complete=t.complete,this._imageIndex=0,this._images=[],s){let o=qXe.getImagePasses(r,n);for(let c=0;c<o.length;c++)this._images.push({byteWidth:Dce(o[c].width,i,a),height:o[c].height,lineIndex:0})}else this._images.push({byteWidth:Dce(r,i,a),height:n,lineIndex:0});a===8?this._xComparison=i:a===16?this._xComparison=i*2:this._xComparison=1};Fp.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))};Fp.prototype._unFilterType1=function(e,t,r){let n=this._xComparison,s=n-1;for(let i=0;i<r;i++){let a=e[1+i],o=i>s?t[i-n]:0;t[i]=a+o}};Fp.prototype._unFilterType2=function(e,t,r){let n=this._lastLine;for(let s=0;s<r;s++){let i=e[1+s],a=n?n[s]:0;t[s]=i+a}};Fp.prototype._unFilterType3=function(e,t,r){let n=this._xComparison,s=n-1,i=this._lastLine;for(let a=0;a<r;a++){let o=e[1+a],c=i?i[a]:0,u=a>s?t[a-n]:0,l=Math.floor((u+c)/2);t[a]=o+l}};Fp.prototype._unFilterType4=function(e,t,r){let n=this._xComparison,s=n-1,i=this._lastLine;for(let a=0;a<r;a++){let o=e[1+a],c=i?i[a]:0,u=a>s?t[a-n]:0,l=a>s&&i?i[a-n]:0,d=jXe(u,c,l);t[a]=o+d}};Fp.prototype._reverseFilterLine=function(e){let t=e[0],r,n=this._images[this._imageIndex],s=n.byteWidth;if(t===0)r=e.slice(1,s+1);else switch(r=Buffer.alloc(s),t){case 1:this._unFilterType1(e,r,s);break;case 2:this._unFilterType2(e,r,s);break;case 3:this._unFilterType3(e,r,s);break;case 4:this._unFilterType4(e,r,s);break;default:throw new Error("Unrecognised filter type - "+t)}this.write(r),n.lineIndex++,n.lineIndex>=n.height?(this._lastLine=null,this._imageIndex++,n=this._images[this._imageIndex]):this._lastLine=r,n?this.read(n.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}});var Lce=I((P_t,$ce)=>{"use strict";var HXe=require("util"),Oce=GD(),zXe=WD(),GXe=$ce.exports=function(e){Oce.call(this);let t=[],r=this;this._filter=new zXe(e,{read:this.read.bind(this),write:function(n){t.push(n)},complete:function(){r.emit("complete",Buffer.concat(t))}}),this._filter.start()};HXe.inherits(GXe,Oce)});var Qp=I((O_t,Mce)=>{"use strict";Mce.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}});var ZD=I(($_t,Fce)=>{"use strict";var JD=[];(function(){for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;JD[e]=t}})();var XD=Fce.exports=function(){this._crc=-1};XD.prototype.write=function(e){for(let t=0;t<e.length;t++)this._crc=JD[(this._crc^e[t])&255]^this._crc>>>8;return!0};XD.prototype.crc32=function(){return this._crc^-1};XD.crc32=function(e){let t=-1;for(let r=0;r<e.length;r++)t=JD[(t^e[r])&255]^t>>>8;return t^-1}});var eP=I((L_t,Qce)=>{"use strict";var an=Qp(),VXe=ZD(),An=Qce.exports=function(e,t){this._options=e,e.checkCRC=e.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[an.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[an.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[an.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[an.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[an.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[an.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=t.read,this.error=t.error,this.metadata=t.metadata,this.gamma=t.gamma,this.transColor=t.transColor,this.palette=t.palette,this.parsed=t.parsed,this.inflateData=t.inflateData,this.finished=t.finished,this.simpleTransparency=t.simpleTransparency,this.headersFinished=t.headersFinished||function(){}};An.prototype.start=function(){this.read(an.PNG_SIGNATURE.length,this._parseSignature.bind(this))};An.prototype._parseSignature=function(e){let t=an.PNG_SIGNATURE;for(let r=0;r<t.length;r++)if(e[r]!==t[r]){this.error(new Error("Invalid file signature"));return}this.read(8,this._parseChunkBegin.bind(this))};An.prototype._parseChunkBegin=function(e){let t=e.readUInt32BE(0),r=e.readUInt32BE(4),n="";for(let i=4;i<8;i++)n+=String.fromCharCode(e[i]);let s=!!(e[4]&32);if(!this._hasIHDR&&r!==an.TYPE_IHDR){this.error(new Error("Expected IHDR on beggining"));return}if(this._crc=new VXe,this._crc.write(Buffer.from(n)),this._chunks[r])return this._chunks[r](t);if(!s){this.error(new Error("Unsupported critical chunk type "+n));return}this.read(t+4,this._skipChunk.bind(this))};An.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))};An.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))};An.prototype._parseChunkEnd=function(e){let t=e.readInt32BE(0),r=this._crc.crc32();if(this._options.checkCRC&&r!==t){this.error(new Error("Crc error - "+t+" - "+r));return}this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))};An.prototype._handleIHDR=function(e){this.read(e,this._parseIHDR.bind(this))};An.prototype._parseIHDR=function(e){this._crc.write(e);let t=e.readUInt32BE(0),r=e.readUInt32BE(4),n=e[8],s=e[9],i=e[10],a=e[11],o=e[12];if(n!==8&&n!==4&&n!==2&&n!==1&&n!==16){this.error(new Error("Unsupported bit depth "+n));return}if(!(s in an.COLORTYPE_TO_BPP_MAP)){this.error(new Error("Unsupported color type"));return}if(i!==0){this.error(new Error("Unsupported compression method"));return}if(a!==0){this.error(new Error("Unsupported filter method"));return}if(o!==0&&o!==1){this.error(new Error("Unsupported interlace method"));return}this._colorType=s;let c=an.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:t,height:r,depth:n,interlace:!!o,palette:!!(s&an.COLORTYPE_PALETTE),color:!!(s&an.COLORTYPE_COLOR),alpha:!!(s&an.COLORTYPE_ALPHA),bpp:c,colorType:s}),this._handleChunkEnd()};An.prototype._handlePLTE=function(e){this.read(e,this._parsePLTE.bind(this))};An.prototype._parsePLTE=function(e){this._crc.write(e);let t=Math.floor(e.length/3);for(let r=0;r<t;r++)this._palette.push([e[r*3],e[r*3+1],e[r*3+2],255]);this.palette(this._palette),this._handleChunkEnd()};An.prototype._handleTRNS=function(e){this.simpleTransparency(),this.read(e,this._parseTRNS.bind(this))};An.prototype._parseTRNS=function(e){if(this._crc.write(e),this._colorType===an.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0){this.error(new Error("Transparency chunk must be after palette"));return}if(e.length>this._palette.length){this.error(new Error("More transparent colors than palette size"));return}for(let t=0;t<e.length;t++)this._palette[t][3]=e[t];this.palette(this._palette)}this._colorType===an.COLORTYPE_GRAYSCALE&&this.transColor([e.readUInt16BE(0)]),this._colorType===an.COLORTYPE_COLOR&&this.transColor([e.readUInt16BE(0),e.readUInt16BE(2),e.readUInt16BE(4)]),this._handleChunkEnd()};An.prototype._handleGAMA=function(e){this.read(e,this._parseGAMA.bind(this))};An.prototype._parseGAMA=function(e){this._crc.write(e),this.gamma(e.readUInt32BE(0)/an.GAMMA_DIVISION),this._handleChunkEnd()};An.prototype._handleIDAT=function(e){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-e,this._parseIDAT.bind(this,e))};An.prototype._parseIDAT=function(e,t){if(this._crc.write(t),this._colorType===an.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(t);let r=e-t.length;r>0?this._handleIDAT(r):this._handleChunkEnd()};An.prototype._handleIEND=function(e){this.read(e,this._parseIEND.bind(this))};An.prototype._parseIEND=function(e){this._crc.write(e),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}});var tP=I(qce=>{"use strict";var Uce=KD(),KXe=[function(){},function(e,t,r,n){if(n===t.length)throw new Error("Ran out of data");let s=t[n];e[r]=s,e[r+1]=s,e[r+2]=s,e[r+3]=255},function(e,t,r,n){if(n+1>=t.length)throw new Error("Ran out of data");let s=t[n];e[r]=s,e[r+1]=s,e[r+2]=s,e[r+3]=t[n+1]},function(e,t,r,n){if(n+2>=t.length)throw new Error("Ran out of data");e[r]=t[n],e[r+1]=t[n+1],e[r+2]=t[n+2],e[r+3]=255},function(e,t,r,n){if(n+3>=t.length)throw new Error("Ran out of data");e[r]=t[n],e[r+1]=t[n+1],e[r+2]=t[n+2],e[r+3]=t[n+3]}],YXe=[function(){},function(e,t,r,n){let s=t[0];e[r]=s,e[r+1]=s,e[r+2]=s,e[r+3]=n},function(e,t,r){let n=t[0];e[r]=n,e[r+1]=n,e[r+2]=n,e[r+3]=t[1]},function(e,t,r,n){e[r]=t[0],e[r+1]=t[1],e[r+2]=t[2],e[r+3]=n},function(e,t,r){e[r]=t[0],e[r+1]=t[1],e[r+2]=t[2],e[r+3]=t[3]}];function WXe(e,t){let r=[],n=0;function s(){if(n===e.length)throw new Error("Ran out of data");let i=e[n];n++;let a,o,c,u,l,d,f,h;switch(t){default:throw new Error("unrecognised depth");case 16:f=e[n],n++,r.push((i<<8)+f);break;case 4:f=i&15,h=i>>4,r.push(h,f);break;case 2:l=i&3,d=i>>2&3,f=i>>4&3,h=i>>6&3,r.push(h,f,d,l);break;case 1:a=i&1,o=i>>1&1,c=i>>2&1,u=i>>3&1,l=i>>4&1,d=i>>5&1,f=i>>6&1,h=i>>7&1,r.push(h,f,d,l,u,c,o,a);break}}return{get:function(i){for(;r.length<i;)s();let a=r.slice(0,i);return r=r.slice(i),a},resetAfterLine:function(){r.length=0},end:function(){if(n!==e.length)throw new Error("extra data found")}}}function JXe(e,t,r,n,s,i){let a=e.width,o=e.height,c=e.index;for(let u=0;u<o;u++)for(let l=0;l<a;l++){let d=r(l,u,c);KXe[n](t,s,d,i),i+=n}return i}function XXe(e,t,r,n,s,i){let a=e.width,o=e.height,c=e.index;for(let u=0;u<o;u++){for(let l=0;l<a;l++){let d=s.get(n),f=r(l,u,c);YXe[n](t,d,f,i)}s.resetAfterLine()}}qce.dataToBitMap=function(e,t){let r=t.width,n=t.height,s=t.depth,i=t.bpp,a=t.interlace,o;s!==8&&(o=WXe(e,s));let c;s<=8?c=Buffer.alloc(r*n*4):c=new Uint16Array(r*n*4);let u=Math.pow(2,s)-1,l=0,d,f;if(a)d=Uce.getImagePasses(r,n),f=Uce.getInterlaceIterator(r,n);else{let h=0;f=function(){let p=h;return h+=4,p},d=[{width:r,height:n}]}for(let h=0;h<d.length;h++)s===8?l=JXe(d[h],c,f,i,e,l):XXe(d[h],c,f,i,o,u);if(s===8){if(l!==e.length)throw new Error("extra data found")}else o.end();return c}});var rP=I((F_t,jce)=>{"use strict";function ZXe(e,t,r,n,s){let i=0;for(let a=0;a<n;a++)for(let o=0;o<r;o++){let c=s[e[i]];if(!c)throw new Error("index "+e[i]+" not in palette");for(let u=0;u<4;u++)t[i+u]=c[u];i+=4}}function eZe(e,t,r,n,s){let i=0;for(let a=0;a<n;a++)for(let o=0;o<r;o++){let c=!1;if(s.length===1?s[0]===e[i]&&(c=!0):s[0]===e[i]&&s[1]===e[i+1]&&s[2]===e[i+2]&&(c=!0),c)for(let u=0;u<4;u++)t[i+u]=0;i+=4}}function tZe(e,t,r,n,s){let i=255,a=Math.pow(2,s)-1,o=0;for(let c=0;c<n;c++)for(let u=0;u<r;u++){for(let l=0;l<4;l++)t[o+l]=Math.floor(e[o+l]*i/a+.5);o+=4}}jce.exports=function(e,t){let r=t.depth,n=t.width,s=t.height,i=t.colorType,a=t.transColor,o=t.palette,c=e;return i===3?ZXe(e,c,n,s,o):(a&&eZe(e,c,n,s,a),r!==8&&(r===16&&(c=Buffer.alloc(n*s*4)),tZe(e,c,n,s,r))),c}});var Gce=I((Q_t,zce)=>{"use strict";var rZe=require("util"),nP=require("zlib"),Hce=GD(),nZe=Lce(),sZe=eP(),iZe=tP(),aZe=rP(),Ka=zce.exports=function(e){Hce.call(this),this._parser=new sZe(e,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=e,this.writable=!0,this._parser.start()};rZe.inherits(Ka,Hce);Ka.prototype._handleError=function(e){this.emit("error",e),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0};Ka.prototype._inflateData=function(e){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=nP.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let r=((this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1)*this._bitmapInfo.height,n=Math.max(r,nP.Z_MIN_CHUNK);this._inflate=nP.createInflate({chunkSize:n});let s=r,i=this.emit.bind(this,"error");this._inflate.on("error",function(o){s&&i(o)}),this._filter.on("complete",this._complete.bind(this));let a=this._filter.write.bind(this._filter);this._inflate.on("data",function(o){s&&(o.length>s&&(o=o.slice(0,s)),s-=o.length,a(o))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(e)};Ka.prototype._handleMetaData=function(e){this._metaData=e,this._bitmapInfo=Object.create(e),this._filter=new nZe(this._bitmapInfo)};Ka.prototype._handleTransColor=function(e){this._bitmapInfo.transColor=e};Ka.prototype._handlePalette=function(e){this._bitmapInfo.palette=e};Ka.prototype._simpleTransparency=function(){this._metaData.alpha=!0};Ka.prototype._headersFinished=function(){this.emit("metadata",this._metaData)};Ka.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))};Ka.prototype._complete=function(e){if(this.errord)return;let t;try{let r=iZe.dataToBitMap(e,this._bitmapInfo);t=aZe(r,this._bitmapInfo),r=null}catch(r){this._handleError(r);return}this.emit("parsed",t)}});var Kce=I((U_t,Vce)=>{"use strict";var Di=Qp();Vce.exports=function(e,t,r,n){let s=[Di.COLORTYPE_COLOR_ALPHA,Di.COLORTYPE_ALPHA].indexOf(n.colorType)!==-1;if(n.colorType===n.inputColorType){let p=function(){let m=new ArrayBuffer(2);return new DataView(m).setInt16(0,256,!0),new Int16Array(m)[0]!==256}();if(n.bitDepth===8||n.bitDepth===16&&p)return e}let i=n.bitDepth!==16?e:new Uint16Array(e.buffer),a=255,o=Di.COLORTYPE_TO_BPP_MAP[n.inputColorType];o===4&&!n.inputHasAlpha&&(o=3);let c=Di.COLORTYPE_TO_BPP_MAP[n.colorType];n.bitDepth===16&&(a=65535,c*=2);let u=Buffer.alloc(t*r*c),l=0,d=0,f=n.bgColor||{};f.red===void 0&&(f.red=a),f.green===void 0&&(f.green=a),f.blue===void 0&&(f.blue=a);function h(){let p,m,A,g=a;switch(n.inputColorType){case Di.COLORTYPE_COLOR_ALPHA:g=i[l+3],p=i[l],m=i[l+1],A=i[l+2];break;case Di.COLORTYPE_COLOR:p=i[l],m=i[l+1],A=i[l+2];break;case Di.COLORTYPE_ALPHA:g=i[l+1],p=i[l],m=p,A=p;break;case Di.COLORTYPE_GRAYSCALE:p=i[l],m=p,A=p;break;default:throw new Error("input color type:"+n.inputColorType+" is not supported at present")}return n.inputHasAlpha&&(s||(g/=a,p=Math.min(Math.max(Math.round((1-g)*f.red+g*p),0),a),m=Math.min(Math.max(Math.round((1-g)*f.green+g*m),0),a),A=Math.min(Math.max(Math.round((1-g)*f.blue+g*A),0),a))),{red:p,green:m,blue:A,alpha:g}}for(let p=0;p<r;p++)for(let m=0;m<t;m++){let A=h(i,l);switch(n.colorType){case Di.COLORTYPE_COLOR_ALPHA:case Di.COLORTYPE_COLOR:n.bitDepth===8?(u[d]=A.red,u[d+1]=A.green,u[d+2]=A.blue,s&&(u[d+3]=A.alpha)):(u.writeUInt16BE(A.red,d),u.writeUInt16BE(A.green,d+2),u.writeUInt16BE(A.blue,d+4),s&&u.writeUInt16BE(A.alpha,d+6));break;case Di.COLORTYPE_ALPHA:case Di.COLORTYPE_GRAYSCALE:{let g=(A.red+A.green+A.blue)/3;n.bitDepth===8?(u[d]=g,s&&(u[d+1]=A.alpha)):(u.writeUInt16BE(g,d),s&&u.writeUInt16BE(A.alpha,d+2));break}default:throw new Error("unrecognised color Type "+n.colorType)}l+=o,d+=c}return u}});var Jce=I((q_t,Wce)=>{"use strict";var Yce=YD();function oZe(e,t,r,n,s){for(let i=0;i<r;i++)n[s+i]=e[t+i]}function cZe(e,t,r){let n=0,s=t+r;for(let i=t;i<s;i++)n+=Math.abs(e[i]);return n}function uZe(e,t,r,n,s,i){for(let a=0;a<r;a++){let o=a>=i?e[t+a-i]:0,c=e[t+a]-o;n[s+a]=c}}function lZe(e,t,r,n){let s=0;for(let i=0;i<r;i++){let a=i>=n?e[t+i-n]:0,o=e[t+i]-a;s+=Math.abs(o)}return s}function dZe(e,t,r,n,s){for(let i=0;i<r;i++){let a=t>0?e[t+i-r]:0,o=e[t+i]-a;n[s+i]=o}}function fZe(e,t,r){let n=0,s=t+r;for(let i=t;i<s;i++){let a=t>0?e[i-r]:0,o=e[i]-a;n+=Math.abs(o)}return n}function pZe(e,t,r,n,s,i){for(let a=0;a<r;a++){let o=a>=i?e[t+a-i]:0,c=t>0?e[t+a-r]:0,u=e[t+a]-(o+c>>1);n[s+a]=u}}function hZe(e,t,r,n){let s=0;for(let i=0;i<r;i++){let a=i>=n?e[t+i-n]:0,o=t>0?e[t+i-r]:0,c=e[t+i]-(a+o>>1);s+=Math.abs(c)}return s}function mZe(e,t,r,n,s,i){for(let a=0;a<r;a++){let o=a>=i?e[t+a-i]:0,c=t>0?e[t+a-r]:0,u=t>0&&a>=i?e[t+a-(r+i)]:0,l=e[t+a]-Yce(o,c,u);n[s+a]=l}}function gZe(e,t,r,n){let s=0;for(let i=0;i<r;i++){let a=i>=n?e[t+i-n]:0,o=t>0?e[t+i-r]:0,c=t>0&&i>=n?e[t+i-(r+n)]:0,u=e[t+i]-Yce(a,o,c);s+=Math.abs(u)}return s}var AZe={0:oZe,1:uZe,2:dZe,3:pZe,4:mZe},yZe={0:cZe,1:lZe,2:fZe,3:hZe,4:gZe};Wce.exports=function(e,t,r,n,s){let i;if(!("filterType"in n)||n.filterType===-1)i=[0,1,2,3,4];else if(typeof n.filterType=="number")i=[n.filterType];else throw new Error("unrecognised filter types");n.bitDepth===16&&(s*=2);let a=t*s,o=0,c=0,u=Buffer.alloc((a+1)*r),l=i[0];for(let d=0;d<r;d++){if(i.length>1){let f=1/0;for(let h=0;h<i.length;h++){let p=yZe[i[h]](e,c,a,s);p<f&&(l=i[h],f=p)}}u[o]=l,o++,AZe[l](e,c,a,u,o,s),o+=a,c+=a}return u}});var sP=I((j_t,Xce)=>{"use strict";var ts=Qp(),bZe=ZD(),EZe=Kce(),xZe=Jce(),vZe=require("zlib"),vu=Xce.exports=function(e){if(this._options=e,e.deflateChunkSize=e.deflateChunkSize||32*1024,e.deflateLevel=e.deflateLevel!=null?e.deflateLevel:9,e.deflateStrategy=e.deflateStrategy!=null?e.deflateStrategy:3,e.inputHasAlpha=e.inputHasAlpha!=null?e.inputHasAlpha:!0,e.deflateFactory=e.deflateFactory||vZe.createDeflate,e.bitDepth=e.bitDepth||8,e.colorType=typeof e.colorType=="number"?e.colorType:ts.COLORTYPE_COLOR_ALPHA,e.inputColorType=typeof e.inputColorType=="number"?e.inputColorType:ts.COLORTYPE_COLOR_ALPHA,[ts.COLORTYPE_GRAYSCALE,ts.COLORTYPE_COLOR,ts.COLORTYPE_COLOR_ALPHA,ts.COLORTYPE_ALPHA].indexOf(e.colorType)===-1)throw new Error("option color type:"+e.colorType+" is not supported at present");if([ts.COLORTYPE_GRAYSCALE,ts.COLORTYPE_COLOR,ts.COLORTYPE_COLOR_ALPHA,ts.COLORTYPE_ALPHA].indexOf(e.inputColorType)===-1)throw new Error("option input color type:"+e.inputColorType+" is not supported at present");if(e.bitDepth!==8&&e.bitDepth!==16)throw new Error("option bit depth:"+e.bitDepth+" is not supported at present")};vu.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}};vu.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())};vu.prototype.filterData=function(e,t,r){let n=EZe(e,t,r,this._options),s=ts.COLORTYPE_TO_BPP_MAP[this._options.colorType];return xZe(n,t,r,this._options,s)};vu.prototype._packChunk=function(e,t){let r=t?t.length:0,n=Buffer.alloc(r+12);return n.writeUInt32BE(r,0),n.writeUInt32BE(e,4),t&&t.copy(n,8),n.writeInt32BE(bZe.crc32(n.slice(4,n.length-4)),n.length-4),n};vu.prototype.packGAMA=function(e){let t=Buffer.alloc(4);return t.writeUInt32BE(Math.floor(e*ts.GAMMA_DIVISION),0),this._packChunk(ts.TYPE_gAMA,t)};vu.prototype.packIHDR=function(e,t){let r=Buffer.alloc(13);return r.writeUInt32BE(e,0),r.writeUInt32BE(t,4),r[8]=this._options.bitDepth,r[9]=this._options.colorType,r[10]=0,r[11]=0,r[12]=0,this._packChunk(ts.TYPE_IHDR,r)};vu.prototype.packIDAT=function(e){return this._packChunk(ts.TYPE_IDAT,e)};vu.prototype.packIEND=function(){return this._packChunk(ts.TYPE_IEND,null)}});var rue=I((H_t,tue)=>{"use strict";var _Ze=require("util"),Zce=require("stream"),IZe=Qp(),CZe=sP(),eue=tue.exports=function(e){Zce.call(this);let t=e||{};this._packer=new CZe(t),this._deflate=this._packer.createDeflate(),this.readable=!0};_Ze.inherits(eue,Zce);eue.prototype.pack=function(e,t,r,n){this.emit("data",Buffer.from(IZe.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(t,r)),n&&this.emit("data",this._packer.packGAMA(n));let s=this._packer.filterData(e,t,r);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(i){this.emit("data",this._packer.packIDAT(i))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(s)}});var cue=I((Jg,oue)=>{"use strict";var nue=require("assert").ok,Up=require("zlib"),wZe=require("util"),sue=require("buffer").kMaxLength;function ed(e){if(!(this instanceof ed))return new ed(e);e&&e.chunkSize<Up.Z_MIN_CHUNK&&(e.chunkSize=Up.Z_MIN_CHUNK),Up.Inflate.call(this,e),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,e&&e.maxLength!=null&&(this._maxLength=e.maxLength)}function SZe(e){return new ed(e)}function iue(e,t){t&&process.nextTick(t),e._handle&&(e._handle.close(),e._handle=null)}ed.prototype._processChunk=function(e,t,r){if(typeof r=="function")return Up.Inflate._processChunk.call(this,e,t,r);let n=this,s=e&&e.length,i=this._chunkSize-this._offset,a=this._maxLength,o=0,c=[],u=0,l;this.on("error",function(p){l=p});function d(p,m){if(n._hadError)return;let A=i-m;if(nue(A>=0,"have should not go down"),A>0){let g=n._buffer.slice(n._offset,n._offset+A);if(n._offset+=A,g.length>a&&(g=g.slice(0,a)),c.push(g),u+=g.length,a-=g.length,a===0)return!1}return(m===0||n._offset>=n._chunkSize)&&(i=n._chunkSize,n._offset=0,n._buffer=Buffer.allocUnsafe(n._chunkSize)),m===0?(o+=s-p,s=p,!0):!1}nue(this._handle,"zlib binding closed");let f;do f=this._handle.writeSync(t,e,o,s,this._buffer,this._offset,i),f=f||this._writeState;while(!this._hadError&&d(f[0],f[1]));if(this._hadError)throw l;if(u>=sue)throw iue(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+sue.toString(16)+" bytes");let h=Buffer.concat(c,u);return iue(this),h};wZe.inherits(ed,Up.Inflate);function TZe(e,t){if(typeof t=="string"&&(t=Buffer.from(t)),!(t instanceof Buffer))throw new TypeError("Not a string or buffer");let r=e._finishFlushFlag;return r==null&&(r=Up.Z_FINISH),e._processChunk(t,r)}function aue(e,t){return TZe(new ed(t),e)}oue.exports=Jg=aue;Jg.Inflate=ed;Jg.createInflate=SZe;Jg.inflateSync=aue});var iP=I((z_t,lue)=>{"use strict";var uue=lue.exports=function(e){this._buffer=e,this._reads=[]};uue.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t})};uue.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let e=this._reads[0];if(this._buffer.length&&(this._buffer.length>=e.length||e.allowLess)){this._reads.shift();let t=this._buffer;this._buffer=t.slice(e.length),e.func.call(this,t.slice(0,e.length))}else break}if(this._reads.length>0)return new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)return new Error("unrecognised content at end of stream")}});var fue=I(due=>{"use strict";var BZe=iP(),RZe=WD();due.process=function(e,t){let r=[],n=new BZe(e);return new RZe(t,{read:n.read.bind(n),write:function(i){r.push(i)},complete:function(){}}).start(),n.process(),Buffer.concat(r)}});var gue=I((V_t,mue)=>{"use strict";var pue=!0,hue=require("zlib"),NZe=cue();hue.deflateSync||(pue=!1);var kZe=iP(),DZe=fue(),PZe=eP(),OZe=tP(),$Ze=rP();mue.exports=function(e,t){if(!pue)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let r;function n(b){r=b}let s;function i(b){s=b}function a(b){s.transColor=b}function o(b){s.palette=b}function c(){s.alpha=!0}let u;function l(b){u=b}let d=[];function f(b){d.push(b)}let h=new kZe(e);if(new PZe(t,{read:h.read.bind(h),error:n,metadata:i,gamma:l,palette:o,transColor:a,inflateData:f,simpleTransparency:c}).start(),h.process(),r)throw r;let m=Buffer.concat(d);d.length=0;let A;if(s.interlace)A=hue.inflateSync(m);else{let _=((s.width*s.bpp*s.depth+7>>3)+1)*s.height;A=NZe(m,{chunkSize:_,maxLength:_})}if(m=null,!A||!A.length)throw new Error("bad png - invalid inflate data response");let g=DZe.process(A,s);m=null;let x=OZe.dataToBitMap(g,s);g=null;let y=$Ze(x,s);return s.data=y,s.gamma=u||0,s}});var Eue=I((K_t,bue)=>{"use strict";var Aue=!0,yue=require("zlib");yue.deflateSync||(Aue=!1);var LZe=Qp(),MZe=sP();bue.exports=function(e,t){if(!Aue)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let r=t||{},n=new MZe(r),s=[];s.push(Buffer.from(LZe.PNG_SIGNATURE)),s.push(n.packIHDR(e.width,e.height)),e.gamma&&s.push(n.packGAMA(e.gamma));let i=n.filterData(e.data,e.width,e.height),a=yue.deflateSync(i,n.getDeflateOptions());if(i=null,!a||!a.length)throw new Error("bad png - invalid compressed data response");return s.push(n.packIDAT(a)),s.push(n.packIEND()),Buffer.concat(s)}});var xue=I(aP=>{"use strict";var FZe=gue(),QZe=Eue();aP.read=function(e,t){return FZe(e,t||{})};aP.write=function(e,t){return QZe(e,t)}});var Iue=I(_ue=>{"use strict";var UZe=require("util"),vue=require("stream"),qZe=Gce(),jZe=rue(),HZe=xue(),gs=_ue.PNG=function(e){vue.call(this),e=e||{},this.width=e.width|0,this.height=e.height|0,this.data=this.width>0&&this.height>0?Buffer.alloc(4*this.width*this.height):null,e.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new qZe(e),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(t){this.data=t,this.emit("parsed",t)}.bind(this)),this._packer=new jZe(e),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};UZe.inherits(gs,vue);gs.sync=HZe;gs.prototype.pack=function(){return!this.data||!this.data.length?(this.emit("error","No data provided"),this):(process.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this)};gs.prototype.parse=function(e,t){if(t){let r,n;r=function(s){this.removeListener("error",n),this.data=s,t(null,this)}.bind(this),n=function(s){this.removeListener("parsed",r),t(s,null)}.bind(this),this.once("parsed",r),this.once("error",n)}return this.end(e),this};gs.prototype.write=function(e){return this._parser.write(e),!0};gs.prototype.end=function(e){this._parser.end(e)};gs.prototype._metadata=function(e){this.width=e.width,this.height=e.height,this.emit("metadata",e)};gs.prototype._gamma=function(e){this.gamma=e};gs.prototype._handleClose=function(){!this._parser.writable&&!this._packer.readable&&this.emit("close")};gs.bitblt=function(e,t,r,n,s,i,a,o){if(r|=0,n|=0,s|=0,i|=0,a|=0,o|=0,r>e.width||n>e.height||r+s>e.width||n+i>e.height)throw new Error("bitblt reading outside image");if(a>t.width||o>t.height||a+s>t.width||o+i>t.height)throw new Error("bitblt writing outside image");for(let c=0;c<i;c++)e.data.copy(t.data,(o+c)*t.width+a<<2,(n+c)*e.width+r<<2,(n+c)*e.width+r+s<<2)};gs.prototype.bitblt=function(e,t,r,n,s,i,a){return gs.bitblt(this,e,t,r,n,s,i,a),this};gs.adjustGamma=function(e){if(e.gamma){for(let t=0;t<e.height;t++)for(let r=0;r<e.width;r++){let n=e.width*t+r<<2;for(let s=0;s<3;s++){let i=e.data[n+s]/255;i=Math.pow(i,1/2.2/e.gamma),e.data[n+s]=Math.round(i*255)}}e.gamma=0}};gs.prototype.adjustGamma=function(){gs.adjustGamma(this)}});var Xg=I(td=>{function Cue(e){if(typeof e=="number"&&(e=e.toString()),typeof e!="string")throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||t.length===5||t.length>8)throw new Error("Invalid hex color: "+e);(t.length===3||t.length===4)&&(t=Array.prototype.concat.apply([],t.map(function(n){return[n,n]}))),t.length===6&&t.push("F","F");let r=parseInt(t.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+t.slice(0,6).join("")}}td.getOptions=function(t){t||(t={}),t.color||(t.color={});let r=typeof t.margin>"u"||t.margin===null||t.margin<0?4:t.margin,n=t.width&&t.width>=21?t.width:void 0,s=t.scale||4;return{width:n,scale:n?4:s,margin:r,color:{dark:Cue(t.color.dark||"#000000ff"),light:Cue(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}};td.getScale=function(t,r){return r.width&&r.width>=t+r.margin*2?r.width/(t+r.margin*2):r.scale};td.getImageWidth=function(t,r){let n=td.getScale(t,r);return Math.floor((t+r.margin*2)*n)};td.qrToImageData=function(t,r,n){let s=r.modules.size,i=r.modules.data,a=td.getScale(s,n),o=Math.floor((s+n.margin*2)*a),c=n.margin*a,u=[n.color.light,n.color.dark];for(let l=0;l<o;l++)for(let d=0;d<o;d++){let f=(l*o+d)*4,h=n.color.light;if(l>=c&&d>=c&&l<o-c&&d<o-c){let p=Math.floor((l-c)/a),m=Math.floor((d-c)/a);h=u[i[p*s+m]?1:0]}t[f++]=h.r,t[f++]=h.g,t[f++]=h.b,t[f]=h.a}}});var wue=I(Ya=>{var zZe=require("fs"),GZe=Iue().PNG,oP=Xg();Ya.render=function(t,r){let n=oP.getOptions(r),s=n.rendererOpts,i=oP.getImageWidth(t.modules.size,n);s.width=i,s.height=i;let a=new GZe(s);return oP.qrToImageData(a.data,t,n),a};Ya.renderToDataURL=function(t,r,n){typeof n>"u"&&(n=r,r=void 0),Ya.renderToBuffer(t,r,function(s,i){s&&n(s);let a="data:image/png;base64,";a+=i.toString("base64"),n(null,a)})};Ya.renderToBuffer=function(t,r,n){typeof n>"u"&&(n=r,r=void 0);let s=Ya.render(t,r),i=[];s.on("error",n),s.on("data",function(a){i.push(a)}),s.on("end",function(){n(null,Buffer.concat(i))}),s.pack()};Ya.renderToFile=function(t,r,n,s){typeof s>"u"&&(s=n,n=void 0);let i=!1,a=(...c)=>{i||(i=!0,s.apply(null,c))},o=zZe.createWriteStream(t);o.on("error",a),o.on("close",a),Ya.renderToFileStream(o,r,n)};Ya.renderToFileStream=function(t,r,n){Ya.render(r,n).pack().pipe(t)}});var Sue=I(j_=>{var VZe=Xg(),KZe={WW:" ",WB:"\u2584",BB:"\u2588",BW:"\u2580"},YZe={BB:" ",BW:"\u2584",WW:"\u2588",WB:"\u2580"};function WZe(e,t,r){return e&&t?r.BB:e&&!t?r.BW:!e&&t?r.WB:r.WW}j_.render=function(e,t,r){let n=VZe.getOptions(t),s=KZe;(n.color.dark.hex==="#ffffff"||n.color.light.hex==="#000000")&&(s=YZe);let i=e.modules.size,a=e.modules.data,o="",c=Array(i+n.margin*2+1).join(s.WW);c=Array(n.margin/2+1).join(c+`
`);let u=Array(n.margin+1).join(s.WW);o+=c;for(let l=0;l<i;l+=2){o+=u;for(let d=0;d<i;d++){let f=a[l*i+d],h=a[(l+1)*i+d];o+=WZe(f,h,s)}o+=u+`
`}return o+=c.slice(0,-1),typeof r=="function"&&r(null,o),o};j_.renderToFile=function(t,r,n,s){typeof s>"u"&&(s=n,n=void 0);let i=require("fs"),a=j_.render(r,n);i.writeFile(t,a,s)}});var Bue=I(Tue=>{Tue.render=function(e,t,r){let n=e.modules.size,s=e.modules.data,i="\x1B[40m  \x1B[0m",a="\x1B[47m  \x1B[0m",o="",c=Array(n+3).join(a),u=Array(2).join(a);o+=c+`
`;for(let l=0;l<n;++l){o+=a;for(let d=0;d<n;d++)o+=s[l*n+d]?i:a;o+=u+`
`}return o+=c+`
`,typeof r=="function"&&r(null,o),o}});var Due=I(kue=>{var JZe="\x1B[47m",XZe="\x1B[40m",cP="\x1B[37m",uP="\x1B[30m",rd="\x1B[0m",ZZe=JZe+uP,eet=XZe+cP,tet=function(e,t,r){return{"00":rd+" "+e,"01":rd+t+"\u2584"+e,"02":rd+r+"\u2584"+e,10:rd+t+"\u2580"+e,11:" ",12:"\u2584",20:rd+r+"\u2580"+e,21:"\u2580",22:"\u2588"}},Rue=function(e,t,r,n){let s=t+1;if(r>=s||n>=s||n<-1||r<-1)return"0";if(r>=t||n>=t||n<0||r<0)return"1";let i=n*t+r;return e[i]?"2":"1"},Nue=function(e,t,r,n){return Rue(e,t,r,n)+Rue(e,t,r,n+1)};kue.render=function(e,t,r){let n=e.modules.size,s=e.modules.data,i=!!(t&&t.inverse),a=t&&t.inverse?eet:ZZe,u=tet(a,i?uP:cP,i?cP:uP),l=rd+`
`+a,d=a;for(let f=-1;f<n+1;f+=2){for(let h=-1;h<n;h++)d+=u[Nue(s,n,h,f)];d+=u[Nue(s,n,n,f)]+l}return d+=rd,typeof r=="function"&&r(null,d),d}});var Oue=I(Pue=>{var ret=Bue(),net=Due();Pue.render=function(e,t,r){return t&&t.small?net.render(e,t,r):ret.render(e,t,r)}});var dP=I(Lue=>{var set=Xg();function $ue(e,t){let r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function lP(e,t,r){let n=e+t;return typeof r<"u"&&(n+=" "+r),n}function iet(e,t,r){let n="",s=0,i=!1,a=0;for(let o=0;o<e.length;o++){let c=Math.floor(o%t),u=Math.floor(o/t);!c&&!i&&(i=!0),e[o]?(a++,o>0&&c>0&&e[o-1]||(n+=i?lP("M",c+r,.5+u+r):lP("m",s,0),s=0,i=!1),c+1<t&&e[o+1]||(n+=lP("h",a),a=0)):s++}return n}Lue.render=function(t,r,n){let s=set.getOptions(r),i=t.modules.size,a=t.modules.data,o=i+s.margin*2,c=s.color.light.a?"<path "+$ue(s.color.light,"fill")+' d="M0 0h'+o+"v"+o+'H0z"/>':"",u="<path "+$ue(s.color.dark,"stroke")+' d="'+iet(a,i,s.margin)+'"/>',l='viewBox="0 0 '+o+" "+o+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+l+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof n=="function"&&n(null,f),f}});var Mue=I(H_=>{var aet=dP();H_.render=aet.render;H_.renderToFile=function(t,r,n,s){typeof s>"u"&&(s=n,n=void 0);let i=require("fs"),o='<?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'+H_.render(r,n);i.writeFile(t,o,s)}});var Fue=I(z_=>{var fP=Xg();function oet(e,t,r){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=r,t.width=r,t.style.height=r+"px",t.style.width=r+"px"}function cet(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}z_.render=function(t,r,n){let s=n,i=r;typeof s>"u"&&(!r||!r.getContext)&&(s=r,r=void 0),r||(i=cet()),s=fP.getOptions(s);let a=fP.getImageWidth(t.modules.size,s),o=i.getContext("2d"),c=o.createImageData(a,a);return fP.qrToImageData(c.data,t,s),oet(o,i,a),o.putImageData(c,0,0),i};z_.renderToDataURL=function(t,r,n){let s=n;typeof s>"u"&&(!r||!r.getContext)&&(s=r,r=void 0),s||(s={});let i=z_.render(t,r,s),a=s.type||"image/png",o=s.rendererOpts||{};return i.toDataURL(a,o.quality)}});var Uue=I(Zg=>{var uet=wD(),pP=zD(),Que=Fue(),det=dP();function hP(e,t,r,n,s){let i=[].slice.call(arguments,1),a=i.length,o=typeof i[a-1]=="function";if(!o&&!uet())throw new Error("Callback required as last argument");if(o){if(a<2)throw new Error("Too few arguments provided");a===2?(s=r,r=t,t=n=void 0):a===3&&(t.getContext&&typeof s>"u"?(s=n,n=void 0):(s=n,n=r,r=t,t=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(r=t,t=n=void 0):a===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(c,u){try{let l=pP.create(r,n);c(e(l,t,n))}catch(l){u(l)}})}try{let c=pP.create(r,n);s(null,e(c,t,n))}catch(c){s(c)}}Zg.create=pP.create;Zg.toCanvas=hP.bind(null,Que.render);Zg.toDataURL=hP.bind(null,Que.renderToDataURL);Zg.toString=hP.bind(null,function(e,t,r){return det.render(e,r)})});var zue=I(_u=>{var que=wD(),mP=zD(),fet=wue(),jue=Sue(),pet=Oue(),Hue=Mue();function eA(e,t,r){if(typeof e>"u")throw new Error("String required as first argument");if(typeof r>"u"&&(r=t,t={}),typeof r!="function")if(que())t=r||{},r=null;else throw new Error("Callback required as last argument");return{opts:t,cb:r}}function het(e){return e.slice((e.lastIndexOf(".")-1>>>0)+2).toLowerCase()}function G_(e){switch(e){case"svg":return Hue;case"txt":case"utf8":return jue;case"png":case"image/png":default:return fet}}function met(e){switch(e){case"svg":return Hue;case"terminal":return pet;case"utf8":default:return jue}}function tA(e,t,r){if(!r.cb)return new Promise(function(n,s){try{let i=mP.create(t,r.opts);return e(i,r.opts,function(a,o){return a?s(a):n(o)})}catch(i){s(i)}});try{let n=mP.create(t,r.opts);return e(n,r.opts,r.cb)}catch(n){r.cb(n)}}_u.create=mP.create;_u.toCanvas=Uue().toCanvas;_u.toString=function(t,r,n){let s=eA(t,r,n),i=s.opts?s.opts.type:void 0,a=met(i);return tA(a.render,t,s)};_u.toDataURL=function(t,r,n){let s=eA(t,r,n),i=G_(s.opts.type);return tA(i.renderToDataURL,t,s)};_u.toBuffer=function(t,r,n){let s=eA(t,r,n),i=G_(s.opts.type);return tA(i.renderToBuffer,t,s)};_u.toFile=function(t,r,n,s){if(typeof t!="string"||!(typeof r=="string"||typeof r=="object"))throw new Error("Invalid argument");if(arguments.length<3&&!que())throw new Error("Too few arguments provided");let i=eA(r,n,s),a=i.opts.type||het(t),c=G_(a).renderToFile.bind(null,t);return tA(c,r,i)};_u.toFileStream=function(t,r,n){if(arguments.length<2)throw new Error("Too few arguments provided");let s=eA(r,n,t.emit.bind(t,"error")),a=G_("png").renderToFileStream.bind(null,t);tA(a,r,s)}});var qp=I((cIt,Gue)=>{Gue.exports=zue()});var ole=I((bIt,ale)=>{ale.exports=require("util").inspect});var uA=I((EIt,Sle)=>{var kP=typeof Map=="function"&&Map.prototype,_P=Object.getOwnPropertyDescriptor&&kP?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Z_=kP&&_P&&typeof _P.get=="function"?_P.get:null,cle=kP&&Map.prototype.forEach,DP=typeof Set=="function"&&Set.prototype,IP=Object.getOwnPropertyDescriptor&&DP?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,eI=DP&&IP&&typeof IP.get=="function"?IP.get:null,ule=DP&&Set.prototype.forEach,Iet=typeof WeakMap=="function"&&WeakMap.prototype,aA=Iet?WeakMap.prototype.has:null,Cet=typeof WeakSet=="function"&&WeakSet.prototype,oA=Cet?WeakSet.prototype.has:null,wet=typeof WeakRef=="function"&&WeakRef.prototype,lle=wet?WeakRef.prototype.deref:null,Tet=Boolean.prototype.valueOf,Bet=Object.prototype.toString,Ret=Function.prototype.toString,Net=String.prototype.match,PP=String.prototype.slice,Cu=String.prototype.replace,ket=String.prototype.toUpperCase,dle=String.prototype.toLowerCase,Ele=RegExp.prototype.test,fle=Array.prototype.concat,Xa=Array.prototype.join,Det=Array.prototype.slice,ple=Math.floor,SP=typeof BigInt=="function"?BigInt.prototype.valueOf:null,CP=Object.getOwnPropertySymbols,TP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,jp=typeof Symbol=="function"&&typeof Symbol.iterator=="object",cA=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===jp||!0)?Symbol.toStringTag:null,xle=Object.prototype.propertyIsEnumerable,hle=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function mle(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||Ele.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var n=e<0?-ple(-e):ple(e);if(n!==e){var s=String(n),i=PP.call(t,s.length+1);return Cu.call(s,r,"$&_")+"."+Cu.call(Cu.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Cu.call(t,r,"$&_")}var BP=ole(),gle=BP.custom,Ale=Ile(gle)?gle:null,vle={__proto__:null,double:'"',single:"'"},Pet={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};Sle.exports=function e(t,r,n,s){var i=r||{};if(Jo(i,"quoteStyle")&&!Jo(vle,i.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Jo(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=Jo(i,"customInspect")?i.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Jo(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Jo(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var o=i.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return wle(t,i);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var c=String(t);return o?mle(t,c):c}if(typeof t=="bigint"){var u=String(t)+"n";return o?mle(t,u):u}var l=typeof i.depth>"u"?5:i.depth;if(typeof n>"u"&&(n=0),n>=l&&l>0&&typeof t=="object")return RP(t)?"[Array]":"[Object]";var d=Xet(i,n);if(typeof s>"u")s=[];else if(Cle(s,t)>=0)return"[Circular]";function f(D,k,q){if(k&&(s=Det.call(s),s.push(k)),q){var j={depth:i.depth};return Jo(i,"quoteStyle")&&(j.quoteStyle=i.quoteStyle),e(D,j,n+1,s)}return e(D,i,n+1,s)}if(typeof t=="function"&&!yle(t)){var h=jet(t),p=X_(t,f);return"[Function"+(h?": "+h:" (anonymous)")+"]"+(p.length>0?" { "+Xa.call(p,", ")+" }":"")}if(Ile(t)){var m=jp?Cu.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):TP.call(t);return typeof t=="object"&&!jp?iA(m):m}if(Yet(t)){for(var A="<"+dle.call(String(t.nodeName)),g=t.attributes||[],x=0;x<g.length;x++)A+=" "+g[x].name+"="+_le(Oet(g[x].value),"double",i);return A+=">",t.childNodes&&t.childNodes.length&&(A+="..."),A+="</"+dle.call(String(t.nodeName))+">",A}if(RP(t)){if(t.length===0)return"[]";var y=X_(t,f);return d&&!Jet(y)?"["+NP(y,d)+"]":"[ "+Xa.call(y,", ")+" ]"}if(Let(t)){var b=X_(t,f);return!("cause"in Error.prototype)&&"cause"in t&&!xle.call(t,"cause")?"{ ["+String(t)+"] "+Xa.call(fle.call("[cause]: "+f(t.cause),b),", ")+" }":b.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+Xa.call(b,", ")+" }"}if(typeof t=="object"&&a){if(Ale&&typeof t[Ale]=="function"&&BP)return BP(t,{depth:l-n});if(a!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(Het(t)){var _=[];return cle&&cle.call(t,function(D,k){_.push(f(k,t,!0)+" => "+f(D,t))}),ble("Map",Z_.call(t),_,d)}if(Vet(t)){var C=[];return ule&&ule.call(t,function(D){C.push(f(D,t))}),ble("Set",eI.call(t),C,d)}if(zet(t))return wP("WeakMap");if(Ket(t))return wP("WeakSet");if(Get(t))return wP("WeakRef");if(Fet(t))return iA(f(Number(t)));if(Uet(t))return iA(f(SP.call(t)));if(Qet(t))return iA(Tet.call(t));if(Met(t))return iA(f(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(typeof globalThis<"u"&&t===globalThis||typeof global<"u"&&t===global)return"{ [object globalThis] }";if(!$et(t)&&!yle(t)){var w=X_(t,f),S=hle?hle(t)===Object.prototype:t instanceof Object||t.constructor===Object,T=t instanceof Object?"":"null prototype",R=!S&&cA&&Object(t)===t&&cA in t?PP.call(wu(t),8,-1):T?"Object":"",P=S||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",N=P+(R||T?"["+Xa.call(fle.call([],R||[],T||[]),": ")+"] ":"");return w.length===0?N+"{}":d?N+"{"+NP(w,d)+"}":N+"{ "+Xa.call(w,", ")+" }"}return String(t)};function _le(e,t,r){var n=r.quoteStyle||t,s=vle[n];return s+e+s}function Oet(e){return Cu.call(String(e),/"/g,"&quot;")}function sd(e){return!cA||!(typeof e=="object"&&(cA in e||typeof e[cA]<"u"))}function RP(e){return wu(e)==="[object Array]"&&sd(e)}function $et(e){return wu(e)==="[object Date]"&&sd(e)}function yle(e){return wu(e)==="[object RegExp]"&&sd(e)}function Let(e){return wu(e)==="[object Error]"&&sd(e)}function Met(e){return wu(e)==="[object String]"&&sd(e)}function Fet(e){return wu(e)==="[object Number]"&&sd(e)}function Qet(e){return wu(e)==="[object Boolean]"&&sd(e)}function Ile(e){if(jp)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!TP)return!1;try{return TP.call(e),!0}catch{}return!1}function Uet(e){if(!e||typeof e!="object"||!SP)return!1;try{return SP.call(e),!0}catch{}return!1}var qet=Object.prototype.hasOwnProperty||function(e){return e in this};function Jo(e,t){return qet.call(e,t)}function wu(e){return Bet.call(e)}function jet(e){if(e.name)return e.name;var t=Net.call(Ret.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function Cle(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function Het(e){if(!Z_||!e||typeof e!="object")return!1;try{Z_.call(e);try{eI.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function zet(e){if(!aA||!e||typeof e!="object")return!1;try{aA.call(e,aA);try{oA.call(e,oA)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function Get(e){if(!lle||!e||typeof e!="object")return!1;try{return lle.call(e),!0}catch{}return!1}function Vet(e){if(!eI||!e||typeof e!="object")return!1;try{eI.call(e);try{Z_.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function Ket(e){if(!oA||!e||typeof e!="object")return!1;try{oA.call(e,oA);try{aA.call(e,aA)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function Yet(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function wle(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return wle(PP.call(e,0,t.maxStringLength),t)+n}var s=Pet[t.quoteStyle||"single"];s.lastIndex=0;var i=Cu.call(Cu.call(e,s,"\\$1"),/[\x00-\x1f]/g,Wet);return _le(i,"single",t)}function Wet(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+ket.call(t.toString(16))}function iA(e){return"Object("+e+")"}function wP(e){return e+" { ? }"}function ble(e,t,r,n){var s=n?NP(r,n):Xa.call(r,", ");return e+" ("+t+") {"+s+"}"}function Jet(e){for(var t=0;t<e.length;t++)if(Cle(e[t],`
`)>=0)return!1;return!0}function Xet(e,t){var r;if(e.indent==="	")r="	";else if(typeof e.indent=="number"&&e.indent>0)r=Xa.call(Array(e.indent+1)," ");else return null;return{base:r,prev:Xa.call(Array(t+1),r)}}function NP(e,t){if(e.length===0)return"";var r=`
`+t.prev+t.base;return r+Xa.call(e,","+r)+`
`+t.prev}function X_(e,t){var r=RP(e),n=[];if(r){n.length=e.length;for(var s=0;s<e.length;s++)n[s]=Jo(e,s)?t(e[s],e):""}var i=typeof CP=="function"?CP(e):[],a;if(jp){a={};for(var o=0;o<i.length;o++)a["$"+i[o]]=i[o]}for(var c in e)Jo(e,c)&&(r&&String(Number(c))===c&&c<e.length||jp&&a["$"+c]instanceof Symbol||(Ele.call(/[^\w$]/,c)?n.push(t(c,e)+": "+t(e[c],e)):n.push(c+": "+t(e[c],e))));if(typeof CP=="function")for(var u=0;u<i.length;u++)xle.call(e,i[u])&&n.push("["+t(i[u])+"]: "+t(e[i[u]],e));return n}});var Ble=I((xIt,Tle)=>{"use strict";var Zet=uA(),ett=Kc(),tI=function(e,t,r){for(var n=e,s;(s=n.next)!=null;n=s)if(s.key===t)return n.next=s.next,r||(s.next=e.next,e.next=s),s},ttt=function(e,t){if(e){var r=tI(e,t);return r&&r.value}},rtt=function(e,t,r){var n=tI(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}},ntt=function(e,t){return e?!!tI(e,t):!1},stt=function(e,t){if(e)return tI(e,t,!0)};Tle.exports=function(){var t,r={assert:function(n){if(!r.has(n))throw new ett("Side channel does not contain "+Zet(n))},delete:function(n){var s=t&&t.next,i=stt(t,n);return i&&s&&s===i&&(t=void 0),!!i},get:function(n){return ttt(t,n)},has:function(n){return ntt(t,n)},set:function(n,s){t||(t={next:void 0}),rtt(t,n,s)}};return r}});var OP=I((vIt,kle)=>{"use strict";var Rle=Xm(),Nle=Ek(),itt=Nle([Rle("%String.prototype.indexOf%")]);kle.exports=function(t,r){var n=Rle(t,!!r);return typeof n=="function"&&itt(t,".prototype.")>-1?Nle([n]):n}});var $P=I((_It,Ple)=>{"use strict";var att=Xm(),lA=OP(),ott=uA(),ctt=Kc(),Dle=att("%Map%",!0),utt=lA("Map.prototype.get",!0),ltt=lA("Map.prototype.set",!0),dtt=lA("Map.prototype.has",!0),ftt=lA("Map.prototype.delete",!0),ptt=lA("Map.prototype.size",!0);Ple.exports=!!Dle&&function(){var t,r={assert:function(n){if(!r.has(n))throw new ctt("Side channel does not contain "+ott(n))},delete:function(n){if(t){var s=ftt(t,n);return ptt(t)===0&&(t=void 0),s}return!1},get:function(n){if(t)return utt(t,n)},has:function(n){return t?dtt(t,n):!1},set:function(n,s){t||(t=new Dle),ltt(t,n,s)}};return r}});var $le=I((IIt,Ole)=>{"use strict";var htt=Xm(),nI=OP(),mtt=uA(),rI=$P(),gtt=Kc(),Hp=htt("%WeakMap%",!0),Att=nI("WeakMap.prototype.get",!0),ytt=nI("WeakMap.prototype.set",!0),btt=nI("WeakMap.prototype.has",!0),Ett=nI("WeakMap.prototype.delete",!0);Ole.exports=Hp?function(){var t,r,n={assert:function(s){if(!n.has(s))throw new gtt("Side channel does not contain "+mtt(s))},delete:function(s){if(Hp&&s&&(typeof s=="object"||typeof s=="function")){if(t)return Ett(t,s)}else if(rI&&r)return r.delete(s);return!1},get:function(s){return Hp&&s&&(typeof s=="object"||typeof s=="function")&&t?Att(t,s):r&&r.get(s)},has:function(s){return Hp&&s&&(typeof s=="object"||typeof s=="function")&&t?btt(t,s):!!r&&r.has(s)},set:function(s,i){Hp&&s&&(typeof s=="object"||typeof s=="function")?(t||(t=new Hp),ytt(t,s,i)):rI&&(r||(r=rI()),r.set(s,i))}};return n}:rI});var Mle=I((CIt,Lle)=>{"use strict";var xtt=Kc(),vtt=uA(),_tt=Ble(),Itt=$P(),Ctt=$le(),wtt=Ctt||Itt||_tt;Lle.exports=function(){var t,r={assert:function(n){if(!r.has(n))throw new xtt("Side channel does not contain "+vtt(n))},delete:function(n){return!!t&&t.delete(n)},get:function(n){return t&&t.get(n)},has:function(n){return!!t&&t.has(n)},set:function(n,s){t||(t=wtt()),t.set(n,s)}};return r}});var sI=I((wIt,Fle)=>{"use strict";var Stt=String.prototype.replace,Ttt=/%20/g,LP={RFC1738:"RFC1738",RFC3986:"RFC3986"};Fle.exports={default:LP.RFC3986,formatters:{RFC1738:function(e){return Stt.call(e,Ttt,"+")},RFC3986:function(e){return String(e)}},RFC1738:LP.RFC1738,RFC3986:LP.RFC3986}});var QP=I((SIt,Ule)=>{"use strict";var Btt=sI(),MP=Object.prototype.hasOwnProperty,id=Array.isArray,Za=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),Rtt=function(t){for(;t.length>1;){var r=t.pop(),n=r.obj[r.prop];if(id(n)){for(var s=[],i=0;i<n.length;++i)typeof n[i]<"u"&&s.push(n[i]);r.obj[r.prop]=s}}},Qle=function(t,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},s=0;s<t.length;++s)typeof t[s]<"u"&&(n[s]=t[s]);return n},Ntt=function e(t,r,n){if(!r)return t;if(typeof r!="object"&&typeof r!="function"){if(id(t))t.push(r);else if(t&&typeof t=="object")(n&&(n.plainObjects||n.allowPrototypes)||!MP.call(Object.prototype,r))&&(t[r]=!0);else return[t,r];return t}if(!t||typeof t!="object")return[t].concat(r);var s=t;return id(t)&&!id(r)&&(s=Qle(t,n)),id(t)&&id(r)?(r.forEach(function(i,a){if(MP.call(t,a)){var o=t[a];o&&typeof o=="object"&&i&&typeof i=="object"?t[a]=e(o,i,n):t.push(i)}else t[a]=i}),t):Object.keys(r).reduce(function(i,a){var o=r[a];return MP.call(i,a)?i[a]=e(i[a],o,n):i[a]=o,i},s)},ktt=function(t,r){return Object.keys(r).reduce(function(n,s){return n[s]=r[s],n},t)},Dtt=function(e,t,r){var n=e.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},FP=1024,Ptt=function(t,r,n,s,i){if(t.length===0)return t;var a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(h){return"%26%23"+parseInt(h.slice(2),16)+"%3B"});for(var o="",c=0;c<a.length;c+=FP){for(var u=a.length>=FP?a.slice(c,c+FP):a,l=[],d=0;d<u.length;++d){var f=u.charCodeAt(d);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||i===Btt.RFC1738&&(f===40||f===41)){l[l.length]=u.charAt(d);continue}if(f<128){l[l.length]=Za[f];continue}if(f<2048){l[l.length]=Za[192|f>>6]+Za[128|f&63];continue}if(f<55296||f>=57344){l[l.length]=Za[224|f>>12]+Za[128|f>>6&63]+Za[128|f&63];continue}d+=1,f=65536+((f&1023)<<10|u.charCodeAt(d)&1023),l[l.length]=Za[240|f>>18]+Za[128|f>>12&63]+Za[128|f>>6&63]+Za[128|f&63]}o+=l.join("")}return o},Ott=function(t){for(var r=[{obj:{o:t},prop:"o"}],n=[],s=0;s<r.length;++s)for(var i=r[s],a=i.obj[i.prop],o=Object.keys(a),c=0;c<o.length;++c){var u=o[c],l=a[u];typeof l=="object"&&l!==null&&n.indexOf(l)===-1&&(r.push({obj:a,prop:u}),n.push(l))}return Rtt(r),t},$tt=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},Ltt=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},Mtt=function(t,r){return[].concat(t,r)},Ftt=function(t,r){if(id(t)){for(var n=[],s=0;s<t.length;s+=1)n.push(r(t[s]));return n}return r(t)};Ule.exports={arrayToObject:Qle,assign:ktt,combine:Mtt,compact:Ott,decode:Dtt,encode:Ptt,isBuffer:Ltt,isRegExp:$tt,maybeMap:Ftt,merge:Ntt}});var Vle=I((TIt,Gle)=>{"use strict";var jle=Mle(),iI=QP(),dA=sI(),Qtt=Object.prototype.hasOwnProperty,Hle={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,r){return t+"["+r+"]"},repeat:function(t){return t}},eo=Array.isArray,Utt=Array.prototype.push,zle=function(e,t){Utt.apply(e,eo(t)?t:[t])},qtt=Date.prototype.toISOString,qle=dA.default,on={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:iI.encode,encodeValuesOnly:!1,filter:void 0,format:qle,formatter:dA.formatters[qle],indices:!1,serializeDate:function(t){return qtt.call(t)},skipNulls:!1,strictNullHandling:!1},jtt=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},UP={},Htt=function e(t,r,n,s,i,a,o,c,u,l,d,f,h,p,m,A,g,x){for(var y=t,b=x,_=0,C=!1;(b=b.get(UP))!==void 0&&!C;){var w=b.get(t);if(_+=1,typeof w<"u"){if(w===_)throw new RangeError("Cyclic object value");C=!0}typeof b.get(UP)>"u"&&(_=0)}if(typeof l=="function"?y=l(r,y):y instanceof Date?y=h(y):n==="comma"&&eo(y)&&(y=iI.maybeMap(y,function(te){return te instanceof Date?h(te):te})),y===null){if(a)return u&&!A?u(r,on.encoder,g,"key",p):r;y=""}if(jtt(y)||iI.isBuffer(y)){if(u){var S=A?r:u(r,on.encoder,g,"key",p);return[m(S)+"="+m(u(y,on.encoder,g,"value",p))]}return[m(r)+"="+m(String(y))]}var T=[];if(typeof y>"u")return T;var R;if(n==="comma"&&eo(y))A&&u&&(y=iI.maybeMap(y,u)),R=[{value:y.length>0?y.join(",")||null:void 0}];else if(eo(l))R=l;else{var P=Object.keys(y);R=d?P.sort(d):P}var N=c?String(r).replace(/\./g,"%2E"):String(r),D=s&&eo(y)&&y.length===1?N+"[]":N;if(i&&eo(y)&&y.length===0)return D+"[]";for(var k=0;k<R.length;++k){var q=R[k],j=typeof q=="object"&&q&&typeof q.value<"u"?q.value:y[q];if(!(o&&j===null)){var G=f&&c?String(q).replace(/\./g,"%2E"):String(q),J=eo(y)?typeof n=="function"?n(D,G):D:D+(f?"."+G:"["+G+"]");x.set(t,_);var Q=jle();Q.set(UP,x),zle(T,e(j,J,n,s,i,a,o,c,n==="comma"&&A&&eo(y)?null:u,l,d,f,h,p,m,A,g,Q))}}return T},ztt=function(t){if(!t)return on;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=t.charset||on.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=dA.default;if(typeof t.format<"u"){if(!Qtt.call(dA.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var s=dA.formatters[n],i=on.filter;(typeof t.filter=="function"||eo(t.filter))&&(i=t.filter);var a;if(t.arrayFormat in Hle?a=t.arrayFormat:"indices"in t?a=t.indices?"indices":"repeat":a=on.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var o=typeof t.allowDots>"u"?t.encodeDotInKeys===!0?!0:on.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:on.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:on.allowEmptyArrays,arrayFormat:a,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:on.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?on.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:on.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:on.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:on.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:on.encodeValuesOnly,filter:i,format:n,formatter:s,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:on.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:on.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:on.strictNullHandling}};Gle.exports=function(e,t){var r=e,n=ztt(t),s,i;typeof n.filter=="function"?(i=n.filter,r=i("",r)):eo(n.filter)&&(i=n.filter,s=i);var a=[];if(typeof r!="object"||r===null)return"";var o=Hle[n.arrayFormat],c=o==="comma"&&n.commaRoundTrip;s||(s=Object.keys(r)),n.sort&&s.sort(n.sort);for(var u=jle(),l=0;l<s.length;++l){var d=s[l],f=r[d];n.skipNulls&&f===null||zle(a,Htt(f,d,o,c,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}var h=a.join(n.delimiter),p=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),h.length>0?p+h:""}});var Jle=I((BIt,Wle)=>{"use strict";var ad=QP(),qP=Object.prototype.hasOwnProperty,Kle=Array.isArray,Or={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:ad.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},Gtt=function(e){return e.replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})},Yle=function(e,t,r){if(e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1)return e.split(",");if(t.throwOnLimitExceeded&&r>=t.arrayLimit)throw new RangeError("Array limit exceeded. Only "+t.arrayLimit+" element"+(t.arrayLimit===1?"":"s")+" allowed in an array.");return e},Vtt="utf8=%26%2310003%3B",Ktt="utf8=%E2%9C%93",Ytt=function(t,r){var n={__proto__:null},s=r.ignoreQueryPrefix?t.replace(/^\?/,""):t;s=s.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var i=r.parameterLimit===1/0?void 0:r.parameterLimit,a=s.split(r.delimiter,r.throwOnLimitExceeded?i+1:i);if(r.throwOnLimitExceeded&&a.length>i)throw new RangeError("Parameter limit exceeded. Only "+i+" parameter"+(i===1?"":"s")+" allowed.");var o=-1,c,u=r.charset;if(r.charsetSentinel)for(c=0;c<a.length;++c)a[c].indexOf("utf8=")===0&&(a[c]===Ktt?u="utf-8":a[c]===Vtt&&(u="iso-8859-1"),o=c,c=a.length);for(c=0;c<a.length;++c)if(c!==o){var l=a[c],d=l.indexOf("]="),f=d===-1?l.indexOf("="):d+1,h,p;f===-1?(h=r.decoder(l,Or.decoder,u,"key"),p=r.strictNullHandling?null:""):(h=r.decoder(l.slice(0,f),Or.decoder,u,"key"),p=ad.maybeMap(Yle(l.slice(f+1),r,Kle(n[h])?n[h].length:0),function(A){return r.decoder(A,Or.decoder,u,"value")})),p&&r.interpretNumericEntities&&u==="iso-8859-1"&&(p=Gtt(String(p))),l.indexOf("[]=")>-1&&(p=Kle(p)?[p]:p);var m=qP.call(n,h);m&&r.duplicates==="combine"?n[h]=ad.combine(n[h],p):(!m||r.duplicates==="last")&&(n[h]=p)}return n},Wtt=function(e,t,r,n){var s=0;if(e.length>0&&e[e.length-1]==="[]"){var i=e.slice(0,-1).join("");s=Array.isArray(t)&&t[i]?t[i].length:0}for(var a=n?t:Yle(t,r,s),o=e.length-1;o>=0;--o){var c,u=e[o];if(u==="[]"&&r.parseArrays)c=r.allowEmptyArrays&&(a===""||r.strictNullHandling&&a===null)?[]:ad.combine([],a);else{c=r.plainObjects?{__proto__:null}:{};var l=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,d=r.decodeDotInKeys?l.replace(/%2E/g,"."):l,f=parseInt(d,10);!r.parseArrays&&d===""?c={0:a}:!isNaN(f)&&u!==d&&String(f)===d&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(c=[],c[f]=a):d!=="__proto__"&&(c[d]=a)}a=c}return a},Jtt=function(t,r,n,s){if(t){var i=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,c=n.depth>0&&a.exec(i),u=c?i.slice(0,c.index):i,l=[];if(u){if(!n.plainObjects&&qP.call(Object.prototype,u)&&!n.allowPrototypes)return;l.push(u)}for(var d=0;n.depth>0&&(c=o.exec(i))!==null&&d<n.depth;){if(d+=1,!n.plainObjects&&qP.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(c[1])}if(c){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");l.push("["+i.slice(c.index)+"]")}return Wtt(l,r,n,s)}},Xtt=function(t){if(!t)return Or;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.decodeDotInKeys<"u"&&typeof t.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(t.decoder!==null&&typeof t.decoder<"u"&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof t.throwOnLimitExceeded<"u"&&typeof t.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof t.charset>"u"?Or.charset:t.charset,n=typeof t.duplicates>"u"?Or.duplicates:t.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var s=typeof t.allowDots>"u"?t.decodeDotInKeys===!0?!0:Or.allowDots:!!t.allowDots;return{allowDots:s,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:Or.allowEmptyArrays,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:Or.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:Or.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:Or.arrayLimit,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Or.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:Or.comma,decodeDotInKeys:typeof t.decodeDotInKeys=="boolean"?t.decodeDotInKeys:Or.decodeDotInKeys,decoder:typeof t.decoder=="function"?t.decoder:Or.decoder,delimiter:typeof t.delimiter=="string"||ad.isRegExp(t.delimiter)?t.delimiter:Or.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:Or.depth,duplicates:n,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:Or.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:Or.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:Or.plainObjects,strictDepth:typeof t.strictDepth=="boolean"?!!t.strictDepth:Or.strictDepth,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Or.strictNullHandling,throwOnLimitExceeded:typeof t.throwOnLimitExceeded=="boolean"?t.throwOnLimitExceeded:!1}};Wle.exports=function(e,t){var r=Xtt(t);if(e===""||e===null||typeof e>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof e=="string"?Ytt(e,r):e,s=r.plainObjects?{__proto__:null}:{},i=Object.keys(n),a=0;a<i.length;++a){var o=i[a],c=Jtt(o,n[o],r,typeof e=="string");s=ad.merge(s,c,r)}return r.allowSparse===!0?s:ad.compact(s)}});var jP=I((RIt,Xle)=>{"use strict";var Ztt=Vle(),ert=Jle(),trt=sI();Xle.exports={formats:trt,parse:ert,stringify:Ztt}});var HP=I((Zle,aI)=>{(function(e){"use strict";var t,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,n=Math.ceil,s=Math.floor,i="[BigNumber Error] ",a=i+"Number primitive has more than 15 significant digits: ",o=1e14,c=14,u=9007199254740991,l=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e7,f=1e9;function h(_){var C,w,S,T=ie.prototype={constructor:ie,toString:null,valueOf:null},R=new ie(1),P=20,N=4,D=-7,k=21,q=-1e7,j=1e7,G=!1,J=1,Q=0,te={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},ne="0123456789abcdefghijklmnopqrstuvwxyz",ee=!0;function ie(O,L){var U,$,F,z,W,V,Y,X,Z=this;if(!(Z instanceof ie))return new ie(O,L);if(L==null){if(O&&O._isBigNumber===!0){Z.s=O.s,!O.c||O.e>j?Z.c=Z.e=null:O.e<q?Z.c=[Z.e=0]:(Z.e=O.e,Z.c=O.c.slice());return}if((V=typeof O=="number")&&O*0==0){if(Z.s=1/O<0?(O=-O,-1):1,O===~~O){for(z=0,W=O;W>=10;W/=10,z++);z>j?Z.c=Z.e=null:(Z.e=z,Z.c=[O]);return}X=String(O)}else{if(!r.test(X=String(O)))return S(Z,X,V);Z.s=X.charCodeAt(0)==45?(X=X.slice(1),-1):1}(z=X.indexOf("."))>-1&&(X=X.replace(".","")),(W=X.search(/e/i))>0?(z<0&&(z=W),z+=+X.slice(W+1),X=X.substring(0,W)):z<0&&(z=X.length)}else{if(g(L,2,ne.length,"Base"),L==10&&ee)return Z=new ie(O),xe(Z,P+Z.e+1,N);if(X=String(O),V=typeof O=="number"){if(O*0!=0)return S(Z,X,V,L);if(Z.s=1/O<0?(X=X.slice(1),-1):1,ie.DEBUG&&X.replace(/^0\.0*|\./,"").length>15)throw Error(a+O)}else Z.s=X.charCodeAt(0)===45?(X=X.slice(1),-1):1;for(U=ne.slice(0,L),z=W=0,Y=X.length;W<Y;W++)if(U.indexOf($=X.charAt(W))<0){if($=="."){if(W>z){z=Y;continue}}else if(!F&&(X==X.toUpperCase()&&(X=X.toLowerCase())||X==X.toLowerCase()&&(X=X.toUpperCase()))){F=!0,W=-1,z=0;continue}return S(Z,String(O),V,L)}V=!1,X=w(X,L,10,Z.s),(z=X.indexOf("."))>-1?X=X.replace(".",""):z=X.length}for(W=0;X.charCodeAt(W)===48;W++);for(Y=X.length;X.charCodeAt(--Y)===48;);if(X=X.slice(W,++Y)){if(Y-=W,V&&ie.DEBUG&&Y>15&&(O>u||O!==s(O)))throw Error(a+Z.s*O);if((z=z-W-1)>j)Z.c=Z.e=null;else if(z<q)Z.c=[Z.e=0];else{if(Z.e=z,Z.c=[],W=(z+1)%c,z<0&&(W+=c),W<Y){for(W&&Z.c.push(+X.slice(0,W)),Y-=c;W<Y;)Z.c.push(+X.slice(W,W+=c));W=c-(X=X.slice(W)).length}else W-=Y;for(;W--;X+="0");Z.c.push(+X)}}else Z.c=[Z.e=0]}ie.clone=h,ie.ROUND_UP=0,ie.ROUND_DOWN=1,ie.ROUND_CEIL=2,ie.ROUND_FLOOR=3,ie.ROUND_HALF_UP=4,ie.ROUND_HALF_DOWN=5,ie.ROUND_HALF_EVEN=6,ie.ROUND_HALF_CEIL=7,ie.ROUND_HALF_FLOOR=8,ie.EUCLID=9,ie.config=ie.set=function(O){var L,U;if(O!=null)if(typeof O=="object"){if(O.hasOwnProperty(L="DECIMAL_PLACES")&&(U=O[L],g(U,0,f,L),P=U),O.hasOwnProperty(L="ROUNDING_MODE")&&(U=O[L],g(U,0,8,L),N=U),O.hasOwnProperty(L="EXPONENTIAL_AT")&&(U=O[L],U&&U.pop?(g(U[0],-f,0,L),g(U[1],0,f,L),D=U[0],k=U[1]):(g(U,-f,f,L),D=-(k=U<0?-U:U))),O.hasOwnProperty(L="RANGE"))if(U=O[L],U&&U.pop)g(U[0],-f,-1,L),g(U[1],1,f,L),q=U[0],j=U[1];else if(g(U,-f,f,L),U)q=-(j=U<0?-U:U);else throw Error(i+L+" cannot be zero: "+U);if(O.hasOwnProperty(L="CRYPTO"))if(U=O[L],U===!!U)if(U)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))G=U;else throw G=!U,Error(i+"crypto unavailable");else G=U;else throw Error(i+L+" not true or false: "+U);if(O.hasOwnProperty(L="MODULO_MODE")&&(U=O[L],g(U,0,9,L),J=U),O.hasOwnProperty(L="POW_PRECISION")&&(U=O[L],g(U,0,f,L),Q=U),O.hasOwnProperty(L="FORMAT"))if(U=O[L],typeof U=="object")te=U;else throw Error(i+L+" not an object: "+U);if(O.hasOwnProperty(L="ALPHABET"))if(U=O[L],typeof U=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(U))ee=U.slice(0,10)=="0123456789",ne=U;else throw Error(i+L+" invalid: "+U)}else throw Error(i+"Object expected: "+O);return{DECIMAL_PLACES:P,ROUNDING_MODE:N,EXPONENTIAL_AT:[D,k],RANGE:[q,j],CRYPTO:G,MODULO_MODE:J,POW_PRECISION:Q,FORMAT:te,ALPHABET:ne}},ie.isBigNumber=function(O){if(!O||O._isBigNumber!==!0)return!1;if(!ie.DEBUG)return!0;var L,U,$=O.c,F=O.e,z=O.s;e:if({}.toString.call($)=="[object Array]"){if((z===1||z===-1)&&F>=-f&&F<=f&&F===s(F)){if($[0]===0){if(F===0&&$.length===1)return!0;break e}if(L=(F+1)%c,L<1&&(L+=c),String($[0]).length==L){for(L=0;L<$.length;L++)if(U=$[L],U<0||U>=o||U!==s(U))break e;if(U!==0)return!0}}}else if($===null&&F===null&&(z===null||z===1||z===-1))return!0;throw Error(i+"Invalid BigNumber: "+O)},ie.maximum=ie.max=function(){return ve(arguments,-1)},ie.minimum=ie.min=function(){return ve(arguments,1)},ie.random=function(){var O=9007199254740992,L=Math.random()*O&2097151?function(){return s(Math.random()*O)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(U){var $,F,z,W,V,Y=0,X=[],Z=new ie(R);if(U==null?U=P:g(U,0,f),W=n(U/c),G)if(crypto.getRandomValues){for($=crypto.getRandomValues(new Uint32Array(W*=2));Y<W;)V=$[Y]*131072+($[Y+1]>>>11),V>=9e15?(F=crypto.getRandomValues(new Uint32Array(2)),$[Y]=F[0],$[Y+1]=F[1]):(X.push(V%1e14),Y+=2);Y=W/2}else if(crypto.randomBytes){for($=crypto.randomBytes(W*=7);Y<W;)V=($[Y]&31)*281474976710656+$[Y+1]*1099511627776+$[Y+2]*4294967296+$[Y+3]*16777216+($[Y+4]<<16)+($[Y+5]<<8)+$[Y+6],V>=9e15?crypto.randomBytes(7).copy($,Y):(X.push(V%1e14),Y+=7);Y=W/7}else throw G=!1,Error(i+"crypto unavailable");if(!G)for(;Y<W;)V=L(),V<9e15&&(X[Y++]=V%1e14);for(W=X[--Y],U%=c,W&&U&&(V=l[c-U],X[Y]=s(W/V)*V);X[Y]===0;X.pop(),Y--);if(Y<0)X=[z=0];else{for(z=-1;X[0]===0;X.splice(0,1),z-=c);for(Y=1,V=X[0];V>=10;V/=10,Y++);Y<c&&(z-=c-Y)}return Z.e=z,Z.c=X,Z}}(),ie.sum=function(){for(var O=1,L=arguments,U=new ie(L[0]);O<L.length;)U=U.plus(L[O++]);return U},w=function(){var O="0123456789";function L(U,$,F,z){for(var W,V=[0],Y,X=0,Z=U.length;X<Z;){for(Y=V.length;Y--;V[Y]*=$);for(V[0]+=z.indexOf(U.charAt(X++)),W=0;W<V.length;W++)V[W]>F-1&&(V[W+1]==null&&(V[W+1]=0),V[W+1]+=V[W]/F|0,V[W]%=F)}return V.reverse()}return function(U,$,F,z,W){var V,Y,X,Z,ae,pe,me,Te,Ce=U.indexOf("."),Qe=P,De=N;for(Ce>=0&&(Z=Q,Q=0,U=U.replace(".",""),Te=new ie($),pe=Te.pow(U.length-Ce),Q=Z,Te.c=L(b(m(pe.c),pe.e,"0"),10,F,O),Te.e=Te.c.length),me=L(U,$,F,W?(V=ne,O):(V=O,ne)),X=Z=me.length;me[--Z]==0;me.pop());if(!me[0])return V.charAt(0);if(Ce<0?--X:(pe.c=me,pe.e=X,pe.s=z,pe=C(pe,Te,Qe,De,F),me=pe.c,ae=pe.r,X=pe.e),Y=X+Qe+1,Ce=me[Y],Z=F/2,ae=ae||Y<0||me[Y+1]!=null,ae=De<4?(Ce!=null||ae)&&(De==0||De==(pe.s<0?3:2)):Ce>Z||Ce==Z&&(De==4||ae||De==6&&me[Y-1]&1||De==(pe.s<0?8:7)),Y<1||!me[0])U=ae?b(V.charAt(1),-Qe,V.charAt(0)):V.charAt(0);else{if(me.length=Y,ae)for(--F;++me[--Y]>F;)me[Y]=0,Y||(++X,me=[1].concat(me));for(Z=me.length;!me[--Z];);for(Ce=0,U="";Ce<=Z;U+=V.charAt(me[Ce++]));U=b(U,X,V.charAt(0))}return U}}(),C=function(){function O($,F,z){var W,V,Y,X,Z=0,ae=$.length,pe=F%d,me=F/d|0;for($=$.slice();ae--;)Y=$[ae]%d,X=$[ae]/d|0,W=me*Y+X*pe,V=pe*Y+W%d*d+Z,Z=(V/z|0)+(W/d|0)+me*X,$[ae]=V%z;return Z&&($=[Z].concat($)),$}function L($,F,z,W){var V,Y;if(z!=W)Y=z>W?1:-1;else for(V=Y=0;V<z;V++)if($[V]!=F[V]){Y=$[V]>F[V]?1:-1;break}return Y}function U($,F,z,W){for(var V=0;z--;)$[z]-=V,V=$[z]<F[z]?1:0,$[z]=V*W+$[z]-F[z];for(;!$[0]&&$.length>1;$.splice(0,1));}return function($,F,z,W,V){var Y,X,Z,ae,pe,me,Te,Ce,Qe,De,He,ht,Ge,en,Vs,ut,Rr,vn=$.s==F.s?1:-1,Ut=$.c,_t=F.c;if(!Ut||!Ut[0]||!_t||!_t[0])return new ie(!$.s||!F.s||(Ut?_t&&Ut[0]==_t[0]:!_t)?NaN:Ut&&Ut[0]==0||!_t?vn*0:vn/0);for(Ce=new ie(vn),Qe=Ce.c=[],X=$.e-F.e,vn=z+X+1,V||(V=o,X=p($.e/c)-p(F.e/c),vn=vn/c|0),Z=0;_t[Z]==(Ut[Z]||0);Z++);if(_t[Z]>(Ut[Z]||0)&&X--,vn<0)Qe.push(1),ae=!0;else{for(en=Ut.length,ut=_t.length,Z=0,vn+=2,pe=s(V/(_t[0]+1)),pe>1&&(_t=O(_t,pe,V),Ut=O(Ut,pe,V),ut=_t.length,en=Ut.length),Ge=ut,De=Ut.slice(0,ut),He=De.length;He<ut;De[He++]=0);Rr=_t.slice(),Rr=[0].concat(Rr),Vs=_t[0],_t[1]>=V/2&&Vs++;do{if(pe=0,Y=L(_t,De,ut,He),Y<0){if(ht=De[0],ut!=He&&(ht=ht*V+(De[1]||0)),pe=s(ht/Vs),pe>1)for(pe>=V&&(pe=V-1),me=O(_t,pe,V),Te=me.length,He=De.length;L(me,De,Te,He)==1;)pe--,U(me,ut<Te?Rr:_t,Te,V),Te=me.length,Y=1;else pe==0&&(Y=pe=1),me=_t.slice(),Te=me.length;if(Te<He&&(me=[0].concat(me)),U(De,me,He,V),He=De.length,Y==-1)for(;L(_t,De,ut,He)<1;)pe++,U(De,ut<He?Rr:_t,He,V),He=De.length}else Y===0&&(pe++,De=[0]);Qe[Z++]=pe,De[0]?De[He++]=Ut[Ge]||0:(De=[Ut[Ge]],He=1)}while((Ge++<en||De[0]!=null)&&vn--);ae=De[0]!=null,Qe[0]||Qe.splice(0,1)}if(V==o){for(Z=1,vn=Qe[0];vn>=10;vn/=10,Z++);xe(Ce,z+(Ce.e=Z+X*c-1)+1,W,ae)}else Ce.e=X,Ce.r=+ae;return Ce}}();function Ee(O,L,U,$){var F,z,W,V,Y;if(U==null?U=N:g(U,0,8),!O.c)return O.toString();if(F=O.c[0],W=O.e,L==null)Y=m(O.c),Y=$==1||$==2&&(W<=D||W>=k)?y(Y,W):b(Y,W,"0");else if(O=xe(new ie(O),L,U),z=O.e,Y=m(O.c),V=Y.length,$==1||$==2&&(L<=z||z<=D)){for(;V<L;Y+="0",V++);Y=y(Y,z)}else if(L-=W+($===2&&z>W),Y=b(Y,z,"0"),z+1>V){if(--L>0)for(Y+=".";L--;Y+="0");}else if(L+=z-V,L>0)for(z+1==V&&(Y+=".");L--;Y+="0");return O.s<0&&F?"-"+Y:Y}function ve(O,L){for(var U,$,F=1,z=new ie(O[0]);F<O.length;F++)$=new ie(O[F]),(!$.s||(U=A(z,$))===L||U===0&&z.s===L)&&(z=$);return z}function Ie(O,L,U){for(var $=1,F=L.length;!L[--F];L.pop());for(F=L[0];F>=10;F/=10,$++);return(U=$+U*c-1)>j?O.c=O.e=null:U<q?O.c=[O.e=0]:(O.e=U,O.c=L),O}S=function(){var O=/^(-?)0([xbo])(?=\w[\w.]*$)/i,L=/^([^.]+)\.$/,U=/^\.([^.]+)$/,$=/^-?(Infinity|NaN)$/,F=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(z,W,V,Y){var X,Z=V?W:W.replace(F,"");if($.test(Z))z.s=isNaN(Z)?null:Z<0?-1:1;else{if(!V&&(Z=Z.replace(O,function(ae,pe,me){return X=(me=me.toLowerCase())=="x"?16:me=="b"?2:8,!Y||Y==X?pe:ae}),Y&&(X=Y,Z=Z.replace(L,"$1").replace(U,"0.$1")),W!=Z))return new ie(Z,X);if(ie.DEBUG)throw Error(i+"Not a"+(Y?" base "+Y:"")+" number: "+W);z.s=null}z.c=z.e=null}}();function xe(O,L,U,$){var F,z,W,V,Y,X,Z,ae=O.c,pe=l;if(ae){e:{for(F=1,V=ae[0];V>=10;V/=10,F++);if(z=L-F,z<0)z+=c,W=L,Y=ae[X=0],Z=s(Y/pe[F-W-1]%10);else if(X=n((z+1)/c),X>=ae.length)if($){for(;ae.length<=X;ae.push(0));Y=Z=0,F=1,z%=c,W=z-c+1}else break e;else{for(Y=V=ae[X],F=1;V>=10;V/=10,F++);z%=c,W=z-c+F,Z=W<0?0:s(Y/pe[F-W-1]%10)}if($=$||L<0||ae[X+1]!=null||(W<0?Y:Y%pe[F-W-1]),$=U<4?(Z||$)&&(U==0||U==(O.s<0?3:2)):Z>5||Z==5&&(U==4||$||U==6&&(z>0?W>0?Y/pe[F-W]:0:ae[X-1])%10&1||U==(O.s<0?8:7)),L<1||!ae[0])return ae.length=0,$?(L-=O.e+1,ae[0]=pe[(c-L%c)%c],O.e=-L||0):ae[0]=O.e=0,O;if(z==0?(ae.length=X,V=1,X--):(ae.length=X+1,V=pe[c-z],ae[X]=W>0?s(Y/pe[F-W]%pe[W])*V:0),$)for(;;)if(X==0){for(z=1,W=ae[0];W>=10;W/=10,z++);for(W=ae[0]+=V,V=1;W>=10;W/=10,V++);z!=V&&(O.e++,ae[0]==o&&(ae[0]=1));break}else{if(ae[X]+=V,ae[X]!=o)break;ae[X--]=0,V=1}for(z=ae.length;ae[--z]===0;ae.pop());}O.e>j?O.c=O.e=null:O.e<q&&(O.c=[O.e=0])}return O}function ge(O){var L,U=O.e;return U===null?O.toString():(L=m(O.c),L=U<=D||U>=k?y(L,U):b(L,U,"0"),O.s<0?"-"+L:L)}return T.absoluteValue=T.abs=function(){var O=new ie(this);return O.s<0&&(O.s=1),O},T.comparedTo=function(O,L){return A(this,new ie(O,L))},T.decimalPlaces=T.dp=function(O,L){var U,$,F,z=this;if(O!=null)return g(O,0,f),L==null?L=N:g(L,0,8),xe(new ie(z),O+z.e+1,L);if(!(U=z.c))return null;if($=((F=U.length-1)-p(this.e/c))*c,F=U[F])for(;F%10==0;F/=10,$--);return $<0&&($=0),$},T.dividedBy=T.div=function(O,L){return C(this,new ie(O,L),P,N)},T.dividedToIntegerBy=T.idiv=function(O,L){return C(this,new ie(O,L),0,1)},T.exponentiatedBy=T.pow=function(O,L){var U,$,F,z,W,V,Y,X,Z,ae=this;if(O=new ie(O),O.c&&!O.isInteger())throw Error(i+"Exponent not an integer: "+ge(O));if(L!=null&&(L=new ie(L)),V=O.e>14,!ae.c||!ae.c[0]||ae.c[0]==1&&!ae.e&&ae.c.length==1||!O.c||!O.c[0])return Z=new ie(Math.pow(+ge(ae),V?O.s*(2-x(O)):+ge(O))),L?Z.mod(L):Z;if(Y=O.s<0,L){if(L.c?!L.c[0]:!L.s)return new ie(NaN);$=!Y&&ae.isInteger()&&L.isInteger(),$&&(ae=ae.mod(L))}else{if(O.e>9&&(ae.e>0||ae.e<-1||(ae.e==0?ae.c[0]>1||V&&ae.c[1]>=24e7:ae.c[0]<8e13||V&&ae.c[0]<=9999975e7)))return z=ae.s<0&&x(O)?-0:0,ae.e>-1&&(z=1/z),new ie(Y?1/z:z);Q&&(z=n(Q/c+2))}for(V?(U=new ie(.5),Y&&(O.s=1),X=x(O)):(F=Math.abs(+ge(O)),X=F%2),Z=new ie(R);;){if(X){if(Z=Z.times(ae),!Z.c)break;z?Z.c.length>z&&(Z.c.length=z):$&&(Z=Z.mod(L))}if(F){if(F=s(F/2),F===0)break;X=F%2}else if(O=O.times(U),xe(O,O.e+1,1),O.e>14)X=x(O);else{if(F=+ge(O),F===0)break;X=F%2}ae=ae.times(ae),z?ae.c&&ae.c.length>z&&(ae.c.length=z):$&&(ae=ae.mod(L))}return $?Z:(Y&&(Z=R.div(Z)),L?Z.mod(L):z?xe(Z,Q,N,W):Z)},T.integerValue=function(O){var L=new ie(this);return O==null?O=N:g(O,0,8),xe(L,L.e+1,O)},T.isEqualTo=T.eq=function(O,L){return A(this,new ie(O,L))===0},T.isFinite=function(){return!!this.c},T.isGreaterThan=T.gt=function(O,L){return A(this,new ie(O,L))>0},T.isGreaterThanOrEqualTo=T.gte=function(O,L){return(L=A(this,new ie(O,L)))===1||L===0},T.isInteger=function(){return!!this.c&&p(this.e/c)>this.c.length-2},T.isLessThan=T.lt=function(O,L){return A(this,new ie(O,L))<0},T.isLessThanOrEqualTo=T.lte=function(O,L){return(L=A(this,new ie(O,L)))===-1||L===0},T.isNaN=function(){return!this.s},T.isNegative=function(){return this.s<0},T.isPositive=function(){return this.s>0},T.isZero=function(){return!!this.c&&this.c[0]==0},T.minus=function(O,L){var U,$,F,z,W=this,V=W.s;if(O=new ie(O,L),L=O.s,!V||!L)return new ie(NaN);if(V!=L)return O.s=-L,W.plus(O);var Y=W.e/c,X=O.e/c,Z=W.c,ae=O.c;if(!Y||!X){if(!Z||!ae)return Z?(O.s=-L,O):new ie(ae?W:NaN);if(!Z[0]||!ae[0])return ae[0]?(O.s=-L,O):new ie(Z[0]?W:N==3?-0:0)}if(Y=p(Y),X=p(X),Z=Z.slice(),V=Y-X){for((z=V<0)?(V=-V,F=Z):(X=Y,F=ae),F.reverse(),L=V;L--;F.push(0));F.reverse()}else for($=(z=(V=Z.length)<(L=ae.length))?V:L,V=L=0;L<$;L++)if(Z[L]!=ae[L]){z=Z[L]<ae[L];break}if(z&&(F=Z,Z=ae,ae=F,O.s=-O.s),L=($=ae.length)-(U=Z.length),L>0)for(;L--;Z[U++]=0);for(L=o-1;$>V;){if(Z[--$]<ae[$]){for(U=$;U&&!Z[--U];Z[U]=L);--Z[U],Z[$]+=o}Z[$]-=ae[$]}for(;Z[0]==0;Z.splice(0,1),--X);return Z[0]?Ie(O,Z,X):(O.s=N==3?-1:1,O.c=[O.e=0],O)},T.modulo=T.mod=function(O,L){var U,$,F=this;return O=new ie(O,L),!F.c||!O.s||O.c&&!O.c[0]?new ie(NaN):!O.c||F.c&&!F.c[0]?new ie(F):(J==9?($=O.s,O.s=1,U=C(F,O,0,3),O.s=$,U.s*=$):U=C(F,O,0,J),O=F.minus(U.times(O)),!O.c[0]&&J==1&&(O.s=F.s),O)},T.multipliedBy=T.times=function(O,L){var U,$,F,z,W,V,Y,X,Z,ae,pe,me,Te,Ce,Qe,De=this,He=De.c,ht=(O=new ie(O,L)).c;if(!He||!ht||!He[0]||!ht[0])return!De.s||!O.s||He&&!He[0]&&!ht||ht&&!ht[0]&&!He?O.c=O.e=O.s=null:(O.s*=De.s,!He||!ht?O.c=O.e=null:(O.c=[0],O.e=0)),O;for($=p(De.e/c)+p(O.e/c),O.s*=De.s,Y=He.length,ae=ht.length,Y<ae&&(Te=He,He=ht,ht=Te,F=Y,Y=ae,ae=F),F=Y+ae,Te=[];F--;Te.push(0));for(Ce=o,Qe=d,F=ae;--F>=0;){for(U=0,pe=ht[F]%Qe,me=ht[F]/Qe|0,W=Y,z=F+W;z>F;)X=He[--W]%Qe,Z=He[W]/Qe|0,V=me*X+Z*pe,X=pe*X+V%Qe*Qe+Te[z]+U,U=(X/Ce|0)+(V/Qe|0)+me*Z,Te[z--]=X%Ce;Te[z]=U}return U?++$:Te.splice(0,1),Ie(O,Te,$)},T.negated=function(){var O=new ie(this);return O.s=-O.s||null,O},T.plus=function(O,L){var U,$=this,F=$.s;if(O=new ie(O,L),L=O.s,!F||!L)return new ie(NaN);if(F!=L)return O.s=-L,$.minus(O);var z=$.e/c,W=O.e/c,V=$.c,Y=O.c;if(!z||!W){if(!V||!Y)return new ie(F/0);if(!V[0]||!Y[0])return Y[0]?O:new ie(V[0]?$:F*0)}if(z=p(z),W=p(W),V=V.slice(),F=z-W){for(F>0?(W=z,U=Y):(F=-F,U=V),U.reverse();F--;U.push(0));U.reverse()}for(F=V.length,L=Y.length,F-L<0&&(U=Y,Y=V,V=U,L=F),F=0;L;)F=(V[--L]=V[L]+Y[L]+F)/o|0,V[L]=o===V[L]?0:V[L]%o;return F&&(V=[F].concat(V),++W),Ie(O,V,W)},T.precision=T.sd=function(O,L){var U,$,F,z=this;if(O!=null&&O!==!!O)return g(O,1,f),L==null?L=N:g(L,0,8),xe(new ie(z),O,L);if(!(U=z.c))return null;if(F=U.length-1,$=F*c+1,F=U[F]){for(;F%10==0;F/=10,$--);for(F=U[0];F>=10;F/=10,$++);}return O&&z.e+1>$&&($=z.e+1),$},T.shiftedBy=function(O){return g(O,-u,u),this.times("1e"+O)},T.squareRoot=T.sqrt=function(){var O,L,U,$,F,z=this,W=z.c,V=z.s,Y=z.e,X=P+4,Z=new ie("0.5");if(V!==1||!W||!W[0])return new ie(!V||V<0&&(!W||W[0])?NaN:W?z:1/0);if(V=Math.sqrt(+ge(z)),V==0||V==1/0?(L=m(W),(L.length+Y)%2==0&&(L+="0"),V=Math.sqrt(+L),Y=p((Y+1)/2)-(Y<0||Y%2),V==1/0?L="5e"+Y:(L=V.toExponential(),L=L.slice(0,L.indexOf("e")+1)+Y),U=new ie(L)):U=new ie(V+""),U.c[0]){for(Y=U.e,V=Y+X,V<3&&(V=0);;)if(F=U,U=Z.times(F.plus(C(z,F,X,1))),m(F.c).slice(0,V)===(L=m(U.c)).slice(0,V))if(U.e<Y&&--V,L=L.slice(V-3,V+1),L=="9999"||!$&&L=="4999"){if(!$&&(xe(F,F.e+P+2,0),F.times(F).eq(z))){U=F;break}X+=4,V+=4,$=1}else{(!+L||!+L.slice(1)&&L.charAt(0)=="5")&&(xe(U,U.e+P+2,1),O=!U.times(U).eq(z));break}}return xe(U,U.e+P+1,N,O)},T.toExponential=function(O,L){return O!=null&&(g(O,0,f),O++),Ee(this,O,L,1)},T.toFixed=function(O,L){return O!=null&&(g(O,0,f),O=O+this.e+1),Ee(this,O,L)},T.toFormat=function(O,L,U){var $,F=this;if(U==null)O!=null&&L&&typeof L=="object"?(U=L,L=null):O&&typeof O=="object"?(U=O,O=L=null):U=te;else if(typeof U!="object")throw Error(i+"Argument not an object: "+U);if($=F.toFixed(O,L),F.c){var z,W=$.split("."),V=+U.groupSize,Y=+U.secondaryGroupSize,X=U.groupSeparator||"",Z=W[0],ae=W[1],pe=F.s<0,me=pe?Z.slice(1):Z,Te=me.length;if(Y&&(z=V,V=Y,Y=z,Te-=z),V>0&&Te>0){for(z=Te%V||V,Z=me.substr(0,z);z<Te;z+=V)Z+=X+me.substr(z,V);Y>0&&(Z+=X+me.slice(z)),pe&&(Z="-"+Z)}$=ae?Z+(U.decimalSeparator||"")+((Y=+U.fractionGroupSize)?ae.replace(new RegExp("\\d{"+Y+"}\\B","g"),"$&"+(U.fractionGroupSeparator||"")):ae):Z}return(U.prefix||"")+$+(U.suffix||"")},T.toFraction=function(O){var L,U,$,F,z,W,V,Y,X,Z,ae,pe,me=this,Te=me.c;if(O!=null&&(V=new ie(O),!V.isInteger()&&(V.c||V.s!==1)||V.lt(R)))throw Error(i+"Argument "+(V.isInteger()?"out of range: ":"not an integer: ")+ge(V));if(!Te)return new ie(me);for(L=new ie(R),X=U=new ie(R),$=Y=new ie(R),pe=m(Te),z=L.e=pe.length-me.e-1,L.c[0]=l[(W=z%c)<0?c+W:W],O=!O||V.comparedTo(L)>0?z>0?L:X:V,W=j,j=1/0,V=new ie(pe),Y.c[0]=0;Z=C(V,L,0,1),F=U.plus(Z.times($)),F.comparedTo(O)!=1;)U=$,$=F,X=Y.plus(Z.times(F=X)),Y=F,L=V.minus(Z.times(F=L)),V=F;return F=C(O.minus(U),$,0,1),Y=Y.plus(F.times(X)),U=U.plus(F.times($)),Y.s=X.s=me.s,z=z*2,ae=C(X,$,z,N).minus(me).abs().comparedTo(C(Y,U,z,N).minus(me).abs())<1?[X,$]:[Y,U],j=W,ae},T.toNumber=function(){return+ge(this)},T.toPrecision=function(O,L){return O!=null&&g(O,1,f),Ee(this,O,L,2)},T.toString=function(O){var L,U=this,$=U.s,F=U.e;return F===null?$?(L="Infinity",$<0&&(L="-"+L)):L="NaN":(O==null?L=F<=D||F>=k?y(m(U.c),F):b(m(U.c),F,"0"):O===10&&ee?(U=xe(new ie(U),P+F+1,N),L=b(m(U.c),U.e,"0")):(g(O,2,ne.length,"Base"),L=w(b(m(U.c),F,"0"),10,O,$,!0)),$<0&&U.c[0]&&(L="-"+L)),L},T.valueOf=T.toJSON=function(){return ge(this)},T._isBigNumber=!0,_!=null&&ie.set(_),ie}function p(_){var C=_|0;return _>0||_===C?C:C-1}function m(_){for(var C,w,S=1,T=_.length,R=_[0]+"";S<T;){for(C=_[S++]+"",w=c-C.length;w--;C="0"+C);R+=C}for(T=R.length;R.charCodeAt(--T)===48;);return R.slice(0,T+1||1)}function A(_,C){var w,S,T=_.c,R=C.c,P=_.s,N=C.s,D=_.e,k=C.e;if(!P||!N)return null;if(w=T&&!T[0],S=R&&!R[0],w||S)return w?S?0:-N:P;if(P!=N)return P;if(w=P<0,S=D==k,!T||!R)return S?0:!T^w?1:-1;if(!S)return D>k^w?1:-1;for(N=(D=T.length)<(k=R.length)?D:k,P=0;P<N;P++)if(T[P]!=R[P])return T[P]>R[P]^w?1:-1;return D==k?0:D>k^w?1:-1}function g(_,C,w,S){if(_<C||_>w||_!==s(_))throw Error(i+(S||"Argument")+(typeof _=="number"?_<C||_>w?" out of range: ":" not an integer: ":" not a primitive number: ")+String(_))}function x(_){var C=_.c.length-1;return p(_.e/c)==C&&_.c[C]%2!=0}function y(_,C){return(_.length>1?_.charAt(0)+"."+_.slice(1):_)+(C<0?"e":"e+")+C}function b(_,C,w){var S,T;if(C<0){for(T=w+".";++C;T+=w);_=T+_}else if(S=_.length,++C>S){for(T=w,C-=S;--C;T+=w);_+=T}else C<S&&(_=_.slice(0,C)+"."+_.slice(C));return _}t=h(),t.default=t.BigNumber=t,typeof define=="function"&&define.amd?define(function(){return t}):typeof aI<"u"&&aI.exports?aI.exports=t:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=t)})(Zle)});var nde=I((NIt,rde)=>{var ede=HP(),tde=rde.exports;(function(){"use strict";function e(u){return u<10?"0"+u:u}var t=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,s,i={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},a;function o(u){return r.lastIndex=0,r.test(u)?'"'+u.replace(r,function(l){var d=i[l];return typeof d=="string"?d:"\\u"+("0000"+l.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+u+'"'}function c(u,l){var d,f,h,p,m=n,A,g=l[u],x=g!=null&&(g instanceof ede||ede.isBigNumber(g));switch(g&&typeof g=="object"&&typeof g.toJSON=="function"&&(g=g.toJSON(u)),typeof a=="function"&&(g=a.call(l,u,g)),typeof g){case"string":return x?g:o(g);case"number":return isFinite(g)?String(g):"null";case"boolean":case"null":case"bigint":return String(g);case"object":if(!g)return"null";if(n+=s,A=[],Object.prototype.toString.apply(g)==="[object Array]"){for(p=g.length,d=0;d<p;d+=1)A[d]=c(d,g)||"null";return h=A.length===0?"[]":n?`[
`+n+A.join(`,
`+n)+`
`+m+"]":"["+A.join(",")+"]",n=m,h}if(a&&typeof a=="object")for(p=a.length,d=0;d<p;d+=1)typeof a[d]=="string"&&(f=a[d],h=c(f,g),h&&A.push(o(f)+(n?": ":":")+h));else Object.keys(g).forEach(function(y){var b=c(y,g);b&&A.push(o(y)+(n?": ":":")+b)});return h=A.length===0?"{}":n?`{
`+n+A.join(`,
`+n)+`
`+m+"}":"{"+A.join(",")+"}",n=m,h}}typeof tde.stringify!="function"&&(tde.stringify=function(u,l,d){var f;if(n="",s="",typeof d=="number")for(f=0;f<d;f+=1)s+=" ";else typeof d=="string"&&(s=d);if(a=l,l&&typeof l!="function"&&(typeof l!="object"||typeof l.length!="number"))throw new Error("JSON.stringify");return c("",{"":u})})})()});var ide=I((kIt,sde)=>{var oI=null,rrt=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,nrt=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/,srt=function(e){"use strict";var t={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(e!=null){if(e.strict===!0&&(t.strict=!0),e.storeAsString===!0&&(t.storeAsString=!0),t.alwaysParseAsBig=e.alwaysParseAsBig===!0?e.alwaysParseAsBig:!1,t.useNativeBigInt=e.useNativeBigInt===!0?e.useNativeBigInt:!1,typeof e.constructorAction<"u")if(e.constructorAction==="error"||e.constructorAction==="ignore"||e.constructorAction==="preserve")t.constructorAction=e.constructorAction;else throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${e.constructorAction}`);if(typeof e.protoAction<"u")if(e.protoAction==="error"||e.protoAction==="ignore"||e.protoAction==="preserve")t.protoAction=e.protoAction;else throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${e.protoAction}`)}var r,n,s={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},i,a=function(m){throw{name:"SyntaxError",message:m,at:r,text:i}},o=function(m){return m&&m!==n&&a("Expected '"+m+"' instead of '"+n+"'"),n=i.charAt(r),r+=1,n},c=function(){var m,A="";for(n==="-"&&(A="-",o("-"));n>="0"&&n<="9";)A+=n,o();if(n===".")for(A+=".";o()&&n>="0"&&n<="9";)A+=n;if(n==="e"||n==="E")for(A+=n,o(),(n==="-"||n==="+")&&(A+=n,o());n>="0"&&n<="9";)A+=n,o();if(m=+A,!isFinite(m))a("Bad number");else return oI==null&&(oI=HP()),A.length>15?t.storeAsString?A:t.useNativeBigInt?BigInt(A):new oI(A):t.alwaysParseAsBig?t.useNativeBigInt?BigInt(m):new oI(m):m},u=function(){var m,A,g="",x;if(n==='"')for(var y=r;o();){if(n==='"')return r-1>y&&(g+=i.substring(y,r-1)),o(),g;if(n==="\\"){if(r-1>y&&(g+=i.substring(y,r-1)),o(),n==="u"){for(x=0,A=0;A<4&&(m=parseInt(o(),16),!!isFinite(m));A+=1)x=x*16+m;g+=String.fromCharCode(x)}else if(typeof s[n]=="string")g+=s[n];else break;y=r}}a("Bad string")},l=function(){for(;n&&n<=" ";)o()},d=function(){switch(n){case"t":return o("t"),o("r"),o("u"),o("e"),!0;case"f":return o("f"),o("a"),o("l"),o("s"),o("e"),!1;case"n":return o("n"),o("u"),o("l"),o("l"),null}a("Unexpected '"+n+"'")},f,h=function(){var m=[];if(n==="["){if(o("["),l(),n==="]")return o("]"),m;for(;n;){if(m.push(f()),l(),n==="]")return o("]"),m;o(","),l()}}a("Bad array")},p=function(){var m,A=Object.create(null);if(n==="{"){if(o("{"),l(),n==="}")return o("}"),A;for(;n;){if(m=u(),l(),o(":"),t.strict===!0&&Object.hasOwnProperty.call(A,m)&&a('Duplicate key "'+m+'"'),rrt.test(m)===!0?t.protoAction==="error"?a("Object contains forbidden prototype property"):t.protoAction==="ignore"?f():A[m]=f():nrt.test(m)===!0?t.constructorAction==="error"?a("Object contains forbidden constructor property"):t.constructorAction==="ignore"?f():A[m]=f():A[m]=f(),l(),n==="}")return o("}"),A;o(","),l()}}a("Bad object")};return f=function(){switch(l(),n){case"{":return p();case"[":return h();case'"':return u();case"-":return c();default:return n>="0"&&n<="9"?c():d()}},function(m,A){var g;return i=m+"",r=0,n=" ",g=f(),l(),n&&a("Syntax error"),typeof A=="function"?function x(y,b){var _,C,w=y[b];return w&&typeof w=="object"&&Object.keys(w).forEach(function(S){C=x(w,S),C!==void 0?w[S]=C:delete w[S]}),A.call(y,b,w)}({"":g},""):g}};sde.exports=srt});var cde=I((DIt,cI)=>{var ade=nde().stringify,ode=ide();cI.exports=function(e){return{parse:ode(e),stringify:ade}};cI.exports.parse=ode();cI.exports.stringify=ade});var Zo,$de=Es(()=>{Zo=class{static env;static originalEnvVars=new Map;static accessedEnvVars=new Map;static VOD_ALLOWED_PLATFORMS=["qiyi","bilibili1","imgo","youku","qq","migu","sohu","leshi","xigua","maiduidui"];static ALLOWED_PLATFORMS=["qiyi","bilibili1","imgo","youku","qq","migu","renren","hanjutv","bahamut","dandan","sohu","leshi","xigua","maiduidui","animeko","custom"];static ALLOWED_SOURCES=["360","vod","tmdb","douban","tencent","youku","iqiyi","imgo","bilibili","migu","renren","hanjutv","bahamut","dandan","sohu","leshi","xigua","maiduidui","animeko","custom"];static MERGE_ALLOWED_SOURCES=["tencent","youku","iqiyi","imgo","bilibili","migu","renren","hanjutv","bahamut","dandan","sohu","leshi","xigua","maiduidui","animeko"];static DEFAULT_AI_MATCH_PROMPT=`\u4F60\u662F\u4E00\u4E2A\u4E13\u4E1A\u7684\u5F71\u89C6\u5339\u914D\u4E13\u5BB6\uFF0C\u4F60\u7684\u7684\u4EFB\u52A1\u662F\u6839\u636E\u7528\u6237\u63D0\u4F9B\u7684 JSON \u6570\u636E\uFF0C\u4ECE\u5019\u9009\u52A8\u6F2B\u5217\u8868\u4E2D\u5339\u914D\u6700\u7B26\u5408\u6761\u4EF6\u7684\u52A8\u6F2B\u53CA\u96C6\u6570\u3002

\u8F93\u5165\u5B57\u6BB5\u8BF4\u660E\uFF1A
- title: \u67E5\u8BE2\u6807\u9898
- season: \u5B63\u6570\uFF08\u53EF\u4E3A null\uFF09
- episode: \u96C6\u6570\uFF08\u53EF\u4E3A null\uFF09
- year: \u5E74\u4EFD\uFF08\u53EF\u4E3A null\uFF09
- dynamicPlatformOrder: \u5E73\u53F0\u504F\u597D\u5217\u8868\uFF08\u53EF\u4E3A null\uFF09
- preferAnimeId: \u504F\u597D\u52A8\u6F2B ID\uFF08\u53EF\u4E3A null\uFF09
- animes: \u5019\u9009\u52A8\u6F2B\u5217\u8868
  - animeId: \u52A8\u6F2Bid
    animeTitle: \u52A8\u6F2B\u6807\u9898\uFF0C(\u5E74\u4EFD)\u524D\u9762\u624D\u662F\u771F\u5B9E\u7684\u6807\u9898
    type: \u7C7B\u578B
    startDate: \u53D1\u5E03\u65E5\u671F\uFF0C\u6709\u5E74\u4EFD
    episodeCount: \u603B\u96C6\u6570
    source: \u5F39\u5E55\u6765\u6E90

\u5339\u914D\u89C4\u5219 (\u6309\u4F18\u5148\u7EA7\u6392\u5E8F):
1. \u5982\u679CpreferAnimeId\u975E\u7A7A\uFF0C\u4E14animes\u5B58\u5728\u8BE5animeId\uFF0C\u5219\u8FD4\u56DE\u8BE5id\u5BF9\u5E94\u7684anime\u548Cepisode
2. \u6807\u9898\u76F8\u4F3C\u5EA6: \u4F18\u5148\u5339\u914D\u6807\u9898\u76F8\u4F3C\u5EA6\u6700\u9AD8\u7684\u6761\u76EE
3. \u5B63\u5EA6\u4E25\u683C\u5339\u914D: \u5982\u679C\u6307\u5B9A\u4E86\u5B63\u5EA6,\u5FC5\u987B\u4E25\u683C\u5339\u914D
4. \u7C7B\u578B\u5339\u914D: episode\u4E3A\u7A7A\u5219\u4F18\u5148\u5339\u914D\u7535\u5F71\uFF0C\u975E\u7A7A\u5219\u5339\u914D\u7535\u89C6\u5267\u7B49
5. \u5E74\u4EFD\u63A5\u8FD1: \u4F18\u5148\u9009\u62E9\u5E74\u4EFD\u63A5\u8FD1\u7684
6. \u5E73\u53F0\u5339\u914D\uFF1A\u5982\u679C\u6709\u591A\u4E2A\u9AD8\u5EA6\u76F8\u4F3C\u7684\u7ED3\u679C\u4E14dynamicPlatformOrder\u975E\u7A7A\uFF0C\u5219\u4ECE\u524D\u5F80\u540E\u9009\u62E9\u76F8\u5BF9\u5E94\u7684\u5E73\u53F0
7. \u96C6\u6570\u5B8C\u6574: \u5982\u679C\u6709\u591A\u4E2A\u9AD8\u5EA6\u76F8\u4F3C\u7684\u7ED3\u679C,\u9009\u62E9\u96C6\u6570\u6700\u5B8C\u6574\u7684

\u8BF7\u5206\u6790\u54EA\u4E2A\u52A8\u6F2B\u6700\u7B26\u5408\u67E5\u8BE2\u6761\u4EF6\uFF0C\u5982\u679C\u6307\u5B9A\u4E86\u5B63\u6570\u548C\u96C6\u6570\uFF0C\u8BF7\u4E5F\u8FD4\u56DE\u5BF9\u5E94\u7684\u96C6\u4FE1\u606F\u3002
\u8BF7\u4E25\u683C\u6309\u7167\u4EE5\u4E0B JSON \u683C\u5F0F\u8FD4\u56DE\u7ED3\u679C\uFF0C\u4E0D\u8981\u5305\u542B\u4EFB\u4F55\u5176\u4ED6\u5185\u5BB9\uFF1A
{
  "animeIndex": \u5339\u914D\u7684\u52A8\u6F2B\u5728\u5217\u8868\u4E2D\u7684\u7D22\u5F15(\u4ECE0\u5F00\u59CB) \u6216 null
}

\u5982\u679C\u6CA1\u6709\u627E\u5230\u5408\u9002\u7684\u5339\u914D\uFF0C\u8FD4\u56DE\uFF1A
{
  "animeIndex": null
}`;static get(t,r,n="string",s=!1){let i;typeof this.env<"u"&&this.env[t]?(i=this.env[t],this.originalEnvVars.set(t,i)):typeof process<"u"&&process.env?.[t]?(i=process.env[t],this.originalEnvVars.set(t,i)):(i=r,this.originalEnvVars.set(t,""));let a;switch(n){case"number":if(a=Number(i),isNaN(a))throw new Error(`Environment variable ${t} must be a valid number`);break;case"boolean":a=i===!0||i==="true"||i===1||i==="1";break;case"string":default:a=String(i);break}let o=s?this.encryptStr(a):a;return this.accessedEnvVars.set(t,o),a}static set(t,r){typeof process<"u"&&(process.env[t]=String(r)),this.accessedEnvVars.set(t,r)}static encryptStr(t){return"*".repeat(t.length)}static resolveVodServers(){let r=this.get("VOD_SERVERS","\u91D1\u8749@https://zy.jinchancaiji.com,789@https://www.caiji.cyou,\u542C\u98CE@https://gctf.tfdh.top","string");return!r||r.trim()===""?[]:r.split(",").map(n=>n.trim()).filter(n=>n.length>0).map((n,s)=>{if(n.includes("@")){let[i,a]=n.split("@").map(o=>o.trim());return{name:i||`vod-${s+1}`,url:a}}return{name:`vod-${s+1}`,url:n}}).filter(n=>n.url&&n.url.length>0)}static resolveSourceOrder(){let r=this.get("SOURCE_ORDER","360,vod,renren,hanjutv","string").split(",").map(n=>n.trim()).filter(n=>this.ALLOWED_SOURCES.includes(n));return this.accessedEnvVars.set("SOURCE_ORDER",r),r.length>0?r:["360","vod","renren","hanjutv"]}static resolvePlatformOrder(){let r=this.get("PLATFORM_ORDER","","string").split(",").map(n=>n.trim()).filter(n=>n?n.includes("&")?n.split("&").map(i=>i.trim()).every(i=>this.ALLOWED_PLATFORMS.includes(i)):this.ALLOWED_PLATFORMS.includes(n):!1);return this.accessedEnvVars.set("PLATFORM_ORDER",r),r.length>0?[...r,null]:[null]}static resolveMergeSourcePairs(){let t=this.get("MERGE_SOURCE_PAIRS","","string");return t?t.split(/[,;]/).map(r=>{if(!r)return null;let n=r.split("&").map(o=>o.trim()).filter(o=>o);if(n.length<1)return null;let s=n[0],i=n.slice(1);if(!this.MERGE_ALLOWED_SOURCES.includes(s))return null;let a=i.filter(o=>o!==s&&this.MERGE_ALLOWED_SOURCES.includes(o));return{primary:s,secondaries:a}}).filter(Boolean):[]}static resolveEpisodeTitleFilter(){let t="(\u7279\u522B|\u60CA\u559C|\u7EB3\u51C9)?\u4F01\u5212(?!(\u4E66|\u6848|\u90E8))|\u5408\u4F19\u4EBA\u624B\u8BB0|\u8D85\u524D(\u8425\u4E1A|vlog)?|\u901F\u89C8|vlog|(?<!(Chain|Chemical|Nuclear|\u8FDE\u9501|\u5316\u5B66|\u6838|\u751F\u5316|\u751F\u7406|\u5E94\u6FC0))reaction|(?<!(\u5355))\u7EAF\u4EAB|\u52A0\u66F4(\u7248|\u7BC7)?|\u62A2\u5148(\u770B|\u7248|\u96C6|\u7BC7)?|(?<!(\u88AB|\u4E89|\u8C01))\u62A2[\u5148\u9C9C](?!(\u4E00\u6B65|\u624B|\u653B|\u4E86|\u544A|\u8A00|\u673A|\u8BDD))|\u62A2\u9C9C|\u9884\u544A(?!(\u51FD|\u4FE1|\u4E66|\u72AF))|(?<!(\u6B7B\u4EA1|\u6050\u6016|\u7075\u5F02|\u602A\u8C08))\u82B1\u7D6E(\u72EC\u5BB6)?|(?<!(\u4E00|\u76F4))\u76F4\u62CD|(\u5236\u4F5C|\u62CD\u6444|\u5E55\u540E|\u82B1\u7D6E|\u672A\u64AD|\u72EC\u5BB6|\u6F14\u5458|\u5BFC\u6F14|\u4E3B\u521B|\u6740\u9752|\u63A2\u73ED|\u6536\u5B98|\u5F00\u64AD|\u5148\u5BFC|\u5F69\u86CB|NG|\u56DE\u987E|\u9AD8\u5149|\u4E2A\u4EBA|\u4E3B\u521B)\u7279\u8F91|(?<!(\u884C\u52A8|\u8BA1\u5212|\u6E38\u620F|\u4EFB\u52A1|\u5371\u673A|\u795E\u79D8|\u9EC4\u91D1))\u5F69\u86CB|(?<!(\u5ACC\u7591\u4EBA|\u8BC1\u4EBA|\u5BB6\u5C5E|\u5F8B\u5E08|\u8B66\u65B9|\u51F6\u624B|\u6B7B\u8005))\u4E13\u8BBF|(?<!(\u8BC1\u4EBA))\u91C7\u8BBF(?!(\u5438\u8840\u9B3C|\u9B3C))|(\u6B63\u5F0F|\u89D2\u8272|\u5148\u5BFC|\u6982\u5FF5|\u9996\u66DD|\u5B9A\u6863|\u5267\u60C5|\u52A8\u753B|\u5BA3\u4F20|\u4E3B\u9898\u66F2|\u5370\u8C61)[\\s\\.]*[Pp\uFF30\uFF50][Vv\uFF36\uFF56]|(?<!(\u9E26|\u96EA|\u7EB8|\u76F8|\u7167|\u56FE|\u540D|\u5927))\u7247\u82B1|(?<!(\u9000\u5C45|\u56DE\u5F52|\u8D70\u5411|\u8F6C\u6218|\u9690\u8EAB|\u85CF\u8EAB))\u5E55\u540E(?!(\u4E3B\u8C0B|\u4E3B\u4F7F|\u9ED1\u624B|\u771F\u51F6|\u73A9\u5BB6|\u8001\u677F|\u91D1\u4E3B|\u82F1\u96C4|\u529F\u81E3|\u63A8\u624B|\u5927\u4F6C|\u64CD\u7EB5|\u4EA4\u6613|\u7B56\u5212|\u535A\u5F08|BOSS|\u771F\u76F8))(\u6545\u4E8B|\u82B1\u7D6E|\u72EC\u5BB6)?|\u884D\u751F(?!(\u54C1|\u7269|\u517D))|\u756A\u5916(?!(\u5730|\u4EBA))|\u76F4\u64AD(\u966A\u770B|\u56DE\u987E)?|\u76F4\u64AD(?!(.*(\u4E8B\u4EF6|\u6740\u4EBA|\u81EA\u6740|\u8C0B\u6740|\u72AF\u7F6A|\u73B0\u573A|\u6E38\u620F|\u6311\u6218)))|\u672A\u64AD(\u7247\u6BB5)?|\u4F1A\u5458(\u4E13\u4EAB|\u52A0\u957F|\u5C0A\u4EAB|\u4E13\u5C5E|\u7248)?|(?<!(\u63D0\u53D6|\u5438\u6536|\u751F\u547D|\u9B54\u6CD5|\u4FEE\u62A4|\u7F8E\u767D))\u7CBE\u534E|\u770B\u70B9|\u901F\u770B|\u89E3\u8BFB(?!.*(\u5BC6\u6587|\u5BC6\u7801|\u5BC6\u7535|\u7535\u62A5|\u6863\u6848|\u4E66\u4FE1|\u9057\u4E66|\u7891\u6587|\u4EE3\u7801|\u4FE1\u53F7|\u6697\u53F7|\u8BAF\u606F|\u8C1C\u9898|\u4EBA\u5FC3|\u5507\u8BED|\u771F\u76F8|\u8C1C\u56E2|\u68A6\u5883))|(?<!(\u6848\u60C5|\u4EBA\u751F|\u6B7B\u524D|\u5386\u53F2|\u4E16\u7EAA))\u56DE\u987E|\u5F71\u8BC4|\u89E3\u8BF4|\u5410\u69FD|(?<!(\u5E74\u7EC8|\u5B63\u5EA6|\u5E93\u5B58|\u8D44\u4EA7|\u7269\u8D44|\u8D22\u52A1|\u6536\u83B7|\u6218\u5229))\u76D8\u70B9|\u62CD\u6444\u82B1\u7D6E|\u5236\u4F5C\u82B1\u7D6E|\u5E55\u540E\u82B1\u7D6E|\u672A\u64AD\u82B1\u7D6E|\u72EC\u5BB6\u82B1\u7D6E|\u82B1\u7D6E\u7279\u8F91|\u5148\u5BFC\u9884\u544A|\u7EC8\u6781\u9884\u544A|\u6B63\u5F0F\u9884\u544A|\u5B98\u65B9\u9884\u544A|\u5F69\u86CB\u7247\u6BB5|\u5220\u51CF\u7247\u6BB5|\u672A\u64AD\u7247\u6BB5|\u756A\u5916\u5F69\u86CB|\u7CBE\u5F69\u7247\u6BB5|\u7CBE\u5F69\u770B\u70B9|\u7CBE\u5F69\u96C6\u9526|\u770B\u70B9\u89E3\u6790|\u770B\u70B9\u9884\u544A|NG\u955C\u5934|NG\u82B1\u7D6E|\u756A\u5916\u7BC7|\u756A\u5916\u7279\u8F91|\u5236\u4F5C\u7279\u8F91|\u62CD\u6444\u7279\u8F91|\u5E55\u540E\u7279\u8F91|\u5BFC\u6F14\u7279\u8F91|\u6F14\u5458\u7279\u8F91|\u7247\u5C3E\u66F2|(?<!(\u751F\u547D|\u751F\u6D3B|\u60C5\u611F|\u7231\u60C5|\u4E00\u6BB5|\u5C0F|\u610F\u5916))\u63D2\u66F2|\u9AD8\u5149\u56DE\u987E|\u80CC\u666F\u97F3\u4E50|OST|\u97F3\u4E50MV|\u6B4C\u66F2MV|\u524D\u5B63\u56DE\u987E|\u5267\u60C5\u56DE\u987E|\u5F80\u671F\u56DE\u987E|\u5185\u5BB9\u603B\u7ED3|\u5267\u60C5\u76D8\u70B9|\u7CBE\u9009\u5408\u96C6|\u526A\u8F91\u5408\u96C6|\u6DF7\u526A\u89C6\u9891|\u72EC\u5BB6\u4E13\u8BBF|\u6F14\u5458\u8BBF\u8C08|\u5BFC\u6F14\u8BBF\u8C08|\u4E3B\u521B\u8BBF\u8C08|\u5A92\u4F53\u91C7\u8BBF|\u53D1\u5E03\u4F1A\u91C7\u8BBF|\u966A\u770B(\u8BB0)?|\u8BD5\u770B\u7248|\u77ED\u5267|\u7CBE\u7F16|(?<!(Love|Disney|One|C|Note|S\\d+|\\+|&|\\s))Plus|\u72EC\u5BB6\u7248|(?<!(\u5BFC\u6F14|\u52A0\u957F|\u5468\u5E74))\u7279\u522B\u7248(?!(\u56FE|\u753B))|\u77ED\u7247|(?<!(\u65B0\u95FB|\u7D27\u6025|\u4E34\u65F6|\u53EC\u5F00|\u7834\u574F|\u5927\u95F9|\u6F84\u6E05|\u9053\u6B49|\u65B0\u54C1|\u4EA7\u54C1|\u4E8B\u6545))\u53D1\u5E03\u4F1A|\u89E3\u5FE7\u5C40|\u8D70\u5FC3\u5C40|\u706B\u9505\u5C40|\u5DC5\u5CF0\u65F6\u523B|\u575E\u91CC\u90FD\u77E5\u9053|\u798F\u6301\u76EE\u6807\u575E\u6C11|\u798F\u5229(?!(\u9662|\u4F1A|\u4E3B\u4E49|\u8BFE))\u7BC7|(\u798F\u5229|\u52A0\u66F4|\u756A\u5916|\u5F69\u86CB|\u884D\u751F|\u7279\u522B|\u6536\u5B98|\u6E38\u620F|\u6574\u86CA|\u65E5\u5E38)\u7BC7|\u72EC\u5BB6(?!(\u8BB0\u5FC6|\u8BD5\u7231|\u62A5\u9053|\u79D8\u65B9|\u5360\u6709|\u5BA0\u7231|\u6069\u5BA0))|.{2,}(?<!(\u5E02|\u5206|\u8B66|\u603B|\u7701|\u536B|\u836F|\u653F|\u76D1|\u7ED3|\u5927|\u5F00|\u7834|\u5E03|\u50F5|\u56F0|\u9A97|\u8D4C|\u80DC|\u8D25|\u5B9A|\u4E71|\u5371|\u8FF7|\u8C1C|\u5165|\u6405|\u8BBE|\u4E2D|\u6B8B|\u5E73|\u548C|\u7EC8|\u53D8|\u5BF9|\u5B89|\u505A|\u4E66|\u753B|\u5BDF|\u52A1|\u6848|\u901A|\u4FE1|\u80B2|\u5546|\u8C61|\u6E90|\u4E1A|\u51B0))\u5C40(?!(\u957F|\u5EA7|\u52BF|\u9762|\u90E8|\u5185|\u5916|\u4E2D|\u9650|\u4FC3|\u6C14))|(?<!(\u91CD\u75C7|\u9694\u79BB|\u5B9E\u9A8C|\u5FC3\u7406|\u5BA1\u8BAF|\u5355\u5411|\u672F\u540E))\u89C2\u5BDF\u5BA4|\u4E0A\u73ED\u90A3\u70B9\u4E8B\u513F|\u5468top|\u8D5B\u6BB5|VLOG|(?<!(\u5927\u6848|\u8981\u6848|\u5211\u4FA6|\u4FA6\u67E5|\u7834\u6848|\u6863\u6848|\u98CE\u4E91|\u5386\u53F2|\u6218\u4E89|\u63A2\u6848|\u81EA\u7136|\u4EBA\u6587|\u79D1\u5B66|\u533B\u5B66|\u5730\u7406|\u5B87\u5B99|\u8D5B\u4E8B|\u4E16\u754C\u676F|\u5965\u8FD0))\u5168\u7EAA\u5F55|\u5F00\u64AD|\u5148\u5BFC|\u603B\u5BA3|\u5C55\u6F14|\u96C6\u9526|\u65C5\u884C\u65E5\u8BB0|\u7CBE\u5F69\u5206\u4EAB|\u5267\u60C5\u63ED\u79D8(?!(\u8005|\u4EBA))",n=this.get("EPISODE_TITLE_FILTER","","string",!1).trim()||t;this.accessedEnvVars.set("EPISODE_TITLE_FILTER",n);try{return new RegExp(`^(.*?)(?:${n})(.*?)$`,"i")}catch{return console.warn("Invalid EPISODE_TITLE_FILTER format, using default."),new RegExp(`^(.*?)(?:${t})(.*?)$`,"i")}}static resolveAnimeTitleFilter(){let t=this.get("ANIME_TITLE_FILTER","","string",!1).trim();if(!t)return this.accessedEnvVars.set("ANIME_TITLE_FILTER",""),null;this.accessedEnvVars.set("ANIME_TITLE_FILTER",t);try{return new RegExp(`^(.*?)(?:${t})(.*?)$`,"i")}catch{return console.warn("Invalid ANIME_TITLE_FILTER format, returning null."),null}}static getOriginalEnvVars(){return this.originalEnvVars}static resolveTitleMappingTable(){let t=this.get("TITLE_MAPPING_TABLE","","string").trim(),r=new Map;if(!t)return r;let n=t.split(";");for(let s of n)if(s.includes("->")){let[i,a]=s.split("->").map(o=>o.trim());i&&a&&r.set(i,a)}return r}static getAccessedEnvVars(){return this.accessedEnvVars}static load(t={}){this.env=t;let r={TOKEN:{category:"api",type:"text",description:"API\u8BBF\u95EE\u4EE4\u724C"},ADMIN_TOKEN:{category:"api",type:"text",description:"\u7CFB\u7EDF\u7BA1\u7406\u8BBF\u95EE\u4EE4\u724C"},RATE_LIMIT_MAX_REQUESTS:{category:"api",type:"number",description:"\u9650\u6D41\u914D\u7F6E\uFF1A1\u5206\u949F\u5185\u6700\u5927\u8BF7\u6C42\u6B21\u6570\uFF0C0\u8868\u793A\u4E0D\u9650\u6D41\uFF0C\u9ED8\u8BA43",min:0,max:50},SOURCE_ORDER:{category:"source",type:"multi-select",options:this.ALLOWED_SOURCES,description:"\u6E90\u6392\u5E8F\u914D\u7F6E\uFF0C\u9ED8\u8BA4360,vod,renren,hanjutv"},OTHER_SERVER:{category:"source",type:"text",description:"\u7B2C\u4E09\u65B9\u5F39\u5E55\u670D\u52A1\u5668\uFF0C\u9ED8\u8BA4https://api.danmu.icu"},CUSTOM_SOURCE_API_URL:{category:"source",type:"text",description:"\u81EA\u5B9A\u4E49\u5F39\u5E55\u6E90API\u5730\u5740\uFF0C\u9ED8\u8BA4\u4E3A\u7A7A\uFF0C\u914D\u7F6E\u540E\u8FD8\u9700\u5728SOURCE_ORDER\u6DFB\u52A0custom\u6E90"},VOD_SERVERS:{category:"source",type:"text",description:"VOD\u7AD9\u70B9\u914D\u7F6E\uFF0C\u683C\u5F0F\uFF1A\u540D\u79F0@URL,\u540D\u79F0@URL\uFF0C\u9ED8\u8BA4\u91D1\u8749@https://zy.jinchancaiji.com,789@https://www.caiji.cyou,\u542C\u98CE@https://gctf.tfdh.top"},VOD_RETURN_MODE:{category:"source",type:"select",options:["all","fastest"],description:"VOD\u8FD4\u56DE\u6A21\u5F0F\uFF1Aall\uFF08\u6240\u6709\u7AD9\u70B9\uFF09\u6216 fastest\uFF08\u6700\u5FEB\u7684\u7AD9\u70B9\uFF09\uFF0C\u9ED8\u8BA4fastest"},VOD_REQUEST_TIMEOUT:{category:"source",type:"number",description:"VOD\u8BF7\u6C42\u8D85\u65F6\u65F6\u95F4\uFF0C\u9ED8\u8BA410000",min:5e3,max:3e4},BILIBILI_COOKIE:{category:"source",type:"text",description:"B\u7AD9Cookie"},YOUKU_CONCURRENCY:{category:"source",type:"number",description:"\u4F18\u9177\u5E76\u53D1\u914D\u7F6E\uFF0C\u9ED8\u8BA48",min:1,max:16},MERGE_SOURCE_PAIRS:{category:"source",type:"multi-select",options:this.MERGE_ALLOWED_SOURCES,description:`\u6E90\u5408\u5E76\u914D\u7F6E\uFF0C\u914D\u7F6E\u540E\u5C06\u5BF9\u5E94\u6E90\u5408\u5E76\u540C\u65F6\u4E00\u8D77\u83B7\u53D6\u5F39\u5E55\u8FD4\u56DE\uFF0C\u5141\u8BB8\u591A\u7EC4\uFF0C\u5141\u8BB8\u591A\u6E90\uFF0C\u5141\u8BB8\u586B\u5355\u6E90\u8868\u793A\u4FDD\u7559\u539F\u7ED3\u679C\uFF0C\u4E00\u7EC4\u4E2D\u7B2C\u4E00\u4E2A\u4E3A\u4E3B\u6E90\u5176\u4F59\u4E3A\u526F\u6E90\uFF0C\u526F\u6E90\u5F80\u4E3B\u6E90\u5408\u5E76\uFF0C\u4E3B\u6E90\u5982\u679C\u6CA1\u6709\u7ED3\u679C\u4F1A\u8F6E\u66FF\u4E0B\u4E00\u4E2A\u4F5C\u4E3A\u4E3B\u6E90\u3002
\u683C\u5F0F\uFF1A\u6E901&\u6E902&\u6E903 \uFF0C\u591A\u7EC4\u7528\u9017\u53F7\u5206\u9694\u3002
\u793A\u4F8B\uFF1Adandan&animeko&bahamut,bilibili&animeko,dandan`},PLATFORM_ORDER:{category:"match",type:"multi-select",options:this.ALLOWED_PLATFORMS,description:`\u5E73\u53F0\u6392\u5E8F\u914D\u7F6E\uFF0C\u53EF\u4EE5\u914D\u7F6E\u81EA\u52A8\u5339\u914D\u65F6\u7684\u4F18\u9009\u5E73\u53F0\u3002
\u5F53\u914D\u7F6E\u5408\u5E76\u5E73\u53F0\u7684\u65F6\u5019\uFF0C\u53EF\u4EE5\u6307\u5B9A\u671F\u671B\u7684\u5408\u5E76\u6E90\uFF0C
\u793A\u4F8B\uFF1A\u4E00\u4E2A\u7ED3\u679C\u8FD4\u56DE\u4E86"dandan&bilibili1&animeko"\u548C"youku"\u65F6\uFF0C
\u5F53\u914D\u7F6E"youku"\u65F6\u8FD4\u56DE"youku" 
\u5F53\u914D\u7F6E"dandan&animeko"\u65F6\u8FD4\u56DE"dandan&bilibili1&animeko"`},ANIME_TITLE_FILTER:{category:"match",type:"text",description:"\u5267\u540D\u8FC7\u6EE4\u89C4\u5219"},EPISODE_TITLE_FILTER:{category:"match",type:"text",description:"\u5267\u96C6\u6807\u9898\u8FC7\u6EE4\u89C4\u5219"},ENABLE_ANIME_EPISODE_FILTER:{category:"match",type:"boolean",description:"\u63A7\u5236\u624B\u52A8\u641C\u7D22\u7684\u65F6\u5019\u662F\u5426\u6839\u636EANIME_TITLE_FILTER\u8FDB\u884C\u5267\u540D\u8FC7\u6EE4\u4EE5\u53CA\u6839\u636EEPISODE_TITLE_FILTER\u8FDB\u884C\u96C6\u6807\u9898\u8FC7\u6EE4"},STRICT_TITLE_MATCH:{category:"match",type:"boolean",description:"\u4E25\u683C\u6807\u9898\u5339\u914D\u6A21\u5F0F"},TITLE_TO_CHINESE:{category:"match",type:"boolean",description:"\u5916\u8BED\u6807\u9898\u8F6C\u6362\u4E2D\u6587\u5F00\u5173"},ANIME_TITLE_SIMPLIFIED:{category:"match",type:"boolean",description:"\u641C\u7D22\u7684\u5267\u540D\u6807\u9898\u81EA\u52A8\u7E41\u8F6C\u7B80"},TITLE_MAPPING_TABLE:{category:"match",type:"map",description:'\u5267\u540D\u6620\u5C04\u8868\uFF0C\u7528\u4E8E\u81EA\u52A8\u5339\u914D\u65F6\u66FF\u6362\u6807\u9898\u8FDB\u884C\u641C\u7D22\uFF0C\u683C\u5F0F\uFF1A\u539F\u59CB\u6807\u9898->\u6620\u5C04\u6807\u9898;\u539F\u59CB\u6807\u9898->\u6620\u5C04\u6807\u9898;... \uFF0C\u4F8B\u5982\uFF1A"\u5510\u671D\u8BE1\u4E8B\u5F55->\u5510\u671D\u8BE1\u4E8B\u5F55\u4E4B\u897F\u884C;\u56FD\u8272\u82B3\u534E->\u9526\u7EE3\u82B3\u534E"'},AI_BASE_URL:{category:"match",type:"text",description:"AI\u670D\u52A1\u57FA\u7840URL\uFF0C\u4E0D\u586B\u9ED8\u8BA4\u4E3Ahttps://api.openai.com/v1"},AI_MODEL:{category:"match",type:"text",description:"AI\u6A21\u578B\u540D\u79F0\uFF0C\u4E0D\u586B\u9ED8\u8BA4\u4E3Agpt-4o"},AI_API_KEY:{category:"match",type:"text",description:"AI\u670D\u52A1API\u5BC6\u94A5\uFF0C\u9ED8\u8BA4\u4E3A\u7A7A\uFF0C\u9700\u624B\u52A8\u586B\u5199"},AI_MATCH_PROMPT:{category:"match",type:"text",description:"AI\u81EA\u52A8\u5339\u914D\u63D0\u793A\u8BCD\u6A21\u677F\uFF0C\u4E0D\u586B\u63D0\u4F9B\u9ED8\u8BA4\u63D0\u793A\u8BCD\uFF0C\u9ED8\u8BA4\u63D0\u793A\u8BCD\u8BF7\u67E5\u770BREADME"},BLOCKED_WORDS:{category:"danmu",type:"text",description:"\u5C4F\u853D\u8BCD\u5217\u8868"},GROUP_MINUTE:{category:"danmu",type:"number",description:"\u5206\u949F\u5185\u5408\u5E76\u53BB\u91CD\uFF080\u8868\u793A\u4E0D\u53BB\u91CD\uFF09\uFF0C\u9ED8\u8BA41",min:0,max:30},DANMU_LIMIT:{category:"danmu",type:"number",description:"\u5F39\u5E55\u6570\u91CF\u9650\u5236\uFF0C\u5355\u4F4D\u4E3Ak\uFF0C\u5373\u5343\uFF1A\u9ED8\u8BA4 0\uFF0C\u8868\u793A\u4E0D\u9650\u5236\u5F39\u5E55\u6570",min:0,max:100},DANMU_SIMPLIFIED_TRADITIONAL:{category:"danmu",type:"select",options:["default","simplified","traditional"],description:"\u5F39\u5E55\u7B80\u7E41\u4F53\u8F6C\u6362\u8BBE\u7F6E\uFF1Adefault\uFF08\u9ED8\u8BA4\u4E0D\u8F6C\u6362\uFF09\u3001simplified\uFF08\u7E41\u8F6C\u7B80\uFF09\u3001traditional\uFF08\u7B80\u8F6C\u7E41\uFF09"},CONVERT_TOP_BOTTOM_TO_SCROLL:{category:"danmu",type:"boolean",description:"\u9876\u90E8/\u5E95\u90E8\u5F39\u5E55\u8F6C\u6362\u4E3A\u6D6E\u52A8\u5F39\u5E55"},CONVERT_COLOR:{category:"danmu",type:"select",options:["default","white","color"],description:"\u5F39\u5E55\u8F6C\u6362\u989C\u8272\u914D\u7F6E"},DANMU_OUTPUT_FORMAT:{category:"danmu",type:"select",options:["json","xml"],description:"\u5F39\u5E55\u8F93\u51FA\u683C\u5F0F\uFF0C\u9ED8\u8BA4json"},DANMU_PUSH_URL:{category:"danmu",type:"text",description:"\u5F39\u5E55\u63A8\u9001\u5730\u5740\uFF0C\u793A\u4F8B http://127.0.0.1:9978/action?do=refresh&type=danmaku&path= "},SEARCH_CACHE_MINUTES:{category:"cache",type:"number",description:"\u641C\u7D22\u7ED3\u679C\u7F13\u5B58\u65F6\u95F4(\u5206\u949F)\uFF0C\u9ED8\u8BA41",min:1,max:120},COMMENT_CACHE_MINUTES:{category:"cache",type:"number",description:"\u5F39\u5E55\u7F13\u5B58\u65F6\u95F4(\u5206\u949F)\uFF0C\u9ED8\u8BA41",min:1,max:120},REMEMBER_LAST_SELECT:{category:"cache",type:"boolean",description:"\u8BB0\u4F4F\u624B\u52A8\u9009\u62E9\u7ED3\u679C"},MAX_LAST_SELECT_MAP:{category:"cache",type:"number",description:"\u8BB0\u4F4F\u4E0A\u6B21\u9009\u62E9\u6620\u5C04\u7F13\u5B58\u5927\u5C0F\u9650\u5236",min:10,max:1e3},UPSTASH_REDIS_REST_URL:{category:"cache",type:"text",description:"Upstash Redis\u8BF7\u6C42\u94FE\u63A5"},UPSTASH_REDIS_REST_TOKEN:{category:"cache",type:"text",description:"Upstash Redis\u8BBF\u95EE\u4EE4\u724C"},PROXY_URL:{category:"system",type:"text",description:"\u4EE3\u7406/\u53CD\u4EE3\u5730\u5740"},TMDB_API_KEY:{category:"system",type:"text",description:"TMDB API\u5BC6\u94A5"},LOG_LEVEL:{category:"system",type:"select",options:["debug","info","warn","error"],description:"\u65E5\u5FD7\u7EA7\u522B\u914D\u7F6E"},DEPLOY_PLATFROM_ACCOUNT:{category:"system",type:"text",description:"\u90E8\u7F72\u5E73\u53F0\u8D26\u53F7ID"},DEPLOY_PLATFROM_PROJECT:{category:"system",type:"text",description:"\u90E8\u7F72\u5E73\u53F0\u9879\u76EE\u540D\u79F0"},DEPLOY_PLATFROM_TOKEN:{category:"system",type:"text",description:"\u90E8\u7F72\u5E73\u53F0\u8BBF\u95EE\u4EE4\u724C"},NODE_TLS_REJECT_UNAUTHORIZED:{category:"system",type:"number",description:"\u5728\u5EFA\u7ACB HTTPS \u8FDE\u63A5\u65F6\u662F\u5426\u9A8C\u8BC1\u670D\u52A1\u5668\u7684 SSL/TLS \u8BC1\u4E66\uFF0C0\u8868\u793A\u5FFD\u7565\uFF0C\u9ED8\u8BA4\u4E3A1",min:0,max:1}};return{vodAllowedPlatforms:this.VOD_ALLOWED_PLATFORMS,allowedPlatforms:this.ALLOWED_PLATFORMS,token:this.get("TOKEN","87654321","string",!0),adminToken:this.get("ADMIN_TOKEN","","string",!0),sourceOrderArr:this.resolveSourceOrder(),otherServer:this.get("OTHER_SERVER","https://api.danmu.icu","string"),customSourceApiUrl:this.get("CUSTOM_SOURCE_API_URL","","string",!0),vodServers:this.resolveVodServers(),vodReturnMode:this.get("VOD_RETURN_MODE","fastest","string").toLowerCase(),vodRequestTimeout:this.get("VOD_REQUEST_TIMEOUT","10000","string"),bilibliCookie:this.get("BILIBILI_COOKIE","","string",!0),youkuConcurrency:Math.min(this.get("YOUKU_CONCURRENCY",8,"number"),16),mergeSourcePairs:this.resolveMergeSourcePairs(),platformOrderArr:this.resolvePlatformOrder(),animeTitleFilter:this.resolveAnimeTitleFilter(),episodeTitleFilter:this.resolveEpisodeTitleFilter(),blockedWords:this.get("BLOCKED_WORDS","","string"),groupMinute:Math.min(this.get("GROUP_MINUTE",1,"number"),30),danmuLimit:this.get("DANMU_LIMIT",0,"number"),proxyUrl:this.get("PROXY_URL","","string",!0),danmuSimplifiedTraditional:this.get("DANMU_SIMPLIFIED_TRADITIONAL","default","string"),danmuPushUrl:this.get("DANMU_PUSH_URL","","string"),tmdbApiKey:this.get("TMDB_API_KEY","","string",!0),redisUrl:this.get("UPSTASH_REDIS_REST_URL","","string",!0),redisToken:this.get("UPSTASH_REDIS_REST_TOKEN","","string",!0),rateLimitMaxRequests:this.get("RATE_LIMIT_MAX_REQUESTS",3,"number"),enableAnimeEpisodeFilter:this.get("ENABLE_ANIME_EPISODE_FILTER",!1,"boolean"),logLevel:this.get("LOG_LEVEL","info","string"),searchCacheMinutes:this.get("SEARCH_CACHE_MINUTES",1,"number"),commentCacheMinutes:this.get("COMMENT_CACHE_MINUTES",1,"number"),convertTopBottomToScroll:this.get("CONVERT_TOP_BOTTOM_TO_SCROLL",!1,"boolean"),convertColor:this.get("CONVERT_COLOR","default","string"),danmuOutputFormat:this.get("DANMU_OUTPUT_FORMAT","json","string"),strictTitleMatch:this.get("STRICT_TITLE_MATCH",!1,"boolean"),titleToChinese:this.get("TITLE_TO_CHINESE",!1,"boolean"),animeTitleSimplified:this.get("ANIME_TITLE_SIMPLIFIED",!1,"boolean"),titleMappingTable:this.resolveTitleMappingTable(),aiBaseUrl:this.get("AI_BASE_URL","https://api.openai.com/v1","string"),aiModel:this.get("AI_MODEL","gpt-4o","string"),aiApiKey:this.get("AI_API_KEY","","string",!0),aiMatchPrompt:this.get("AI_MATCH_PROMPT",this.DEFAULT_AI_MATCH_PROMPT,"string"),rememberLastSelect:this.get("REMEMBER_LAST_SELECT",!0,"boolean"),MAX_LAST_SELECT_MAP:this.get("MAX_LAST_SELECT_MAP",100,"number"),deployPlatformAccount:this.get("DEPLOY_PLATFROM_ACCOUNT","","string",!0),deployPlatformProject:this.get("DEPLOY_PLATFROM_PROJECT","","string",!0),deployPlatformToken:this.get("DEPLOY_PLATFROM_TOKEN","","string",!0),NODE_TLS_REJECT_UNAUTHORIZED:this.get("NODE_TLS_REJECT_UNAUTHORIZED",1,"number"),envVarConfig:r}}}});var cd,B,pt=Es(()=>{$de();cd={env:{},envs:{},originalEnvVars:{},accessedEnvVars:{},VERSION:"1.15.2",MAX_LOGS:1e3,MAX_ANIMES:100,MAX_RECORDS:100,animes:[],episodeIds:[],episodeNum:10001,logBuffer:[],requestHistory:new Map,localCacheValid:!1,localCacheInitialized:!1,redisValid:!1,aiValid:!1,redisCacheInitialized:!1,lastSelectMap:new Map,reqRecords:[],todayReqNum:0,lastHashes:{animes:null,episodeIds:null,episodeNum:null,lastSelectMap:null,reqRecords:null,todayReqNum:null},searchCache:new Map,commentCache:new Map,deployPlatform:"",currentToken:"",init(e={}){return this.env=e,this.envs=Zo.load(this.env),this.originalEnvVars=Object.fromEntries(Zo.getOriginalEnvVars()),this.accessedEnvVars=Object.fromEntries(Zo.getAccessedEnvVars()),this.getConfig()},reInit(){return this.envs=Zo.load(this.env),this.originalEnvVars=Object.fromEntries(Zo.getOriginalEnvVars()),this.accessedEnvVars=Object.fromEntries(Zo.getAccessedEnvVars()),this.getConfig()},makeProxyUrl(e){let t=this.envs.proxyUrl||"";if(!t||!e)return e;let r=t.split(",").map(c=>c.trim()).filter(c=>c),n=null,s=null,i=null,a;try{a=new URL(e)}catch{return e}let o=a.hostname;for(let c of r)if(c.startsWith("bahamut@")&&o.includes("gamer.com.tw")){s=c.substring(8);break}else if(c.startsWith("tmdb@")&&o.includes("tmdb")){s=c.substring(5);break}else if(c.startsWith("bilibili@")&&o.includes("bilibili")){s=c.substring(9);break}else c.startsWith("@")&&!i?i=c.substring(1):!c.includes("@")&&!n&&(n=c);if(s)try{let c=new URL(s);return a.protocol=c.protocol,a.host=c.host,a.port=c.port,c.pathname!=="/"&&(a.pathname=c.pathname.replace(/\/$/,"")+a.pathname),a.toString()}catch{return e}return i?`${i.replace(/\/$/,"")}/${e}`:n?`http://127.0.0.1:5321/proxy?url=${encodeURIComponent(e)}`:e},getConfig(){let e=this;return new Proxy({},{get(t,r){return r in e.envs?e.envs[r]:r==="version"?e.VERSION:r==="maxLogs"?e.MAX_LOGS:r==="maxAnimes"?e.MAX_ANIMES:r==="maxRecords"?e.MAX_RECORDS:r==="maxLastSelectMap"?e.MAX_LAST_SELECT_MAP:r==="makeProxyUrl"?e.makeProxyUrl.bind(e):e[r]},set(t,r,n){return r in e.envs?e.envs[r]=n:e[r]=n,!0}})}},B=new Proxy({},{get(e,t){return cd.getConfig()[t]},set(e,t,r){return cd.getConfig()[t]=r,!0},has(e,t){return t in cd.getConfig()},ownKeys(e){return Reflect.ownKeys(cd.getConfig())},getOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(cd.getConfig(),t)}})});function E(e,...t){let r={error:0,warn:1,info:2},n=r[B.logLevel]!==void 0?r[B.logLevel]:1;if((r[e]||0)>n)return;let s=t.map(u=>{if(typeof u=="object"){let l=JSON.stringify(u);return Lde(l)}else return typeof u=="string"?Lde(u):u}),i=s.map(u=>typeof u=="object"?JSON.stringify(u):u).join(" "),a=new Date,c=new Date(a.getTime()+8*60*60*1e3).toISOString().replace("Z","+08:00");B.logBuffer.push({timestamp:c,level:e,message:i}),B.logBuffer.length>B.MAX_LOGS&&B.logBuffer.shift(),console[e](...s)}function Lde(e){let t=e;if(B.originalEnvVars&&B.accessedEnvVars)for(let[r,n]of Object.entries(B.originalEnvVars)){let s=B.accessedEnvVars[r];if(n&&typeof n=="string"&&n.length>0&&s&&typeof s=="string"&&s.match(/^\*+$/)&&s.length===n.length){let i="*".repeat(n.length),a=new RegExp(n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g");t=t.replace(a,i)}}return t}function Mde(e){try{let t=JSON.parse(e);return JSON.stringify(t,null,2).replace(/\n/g,`
    `)}catch{return e}}var Ze=Es(()=>{pt()});function bO(e,t){e&&(e.aborted?t.abort():e.addEventListener("abort",()=>{t.abort()},{once:!0}))}async function ue(e,t={}){let r=parseInt(t.retries||"0",10)||0,n;for(let s=0;s<=r;s++){s>0?(E("info",`[\u8BF7\u6C42\u6A21\u62DF] \u7B2C ${s} \u6B21\u91CD\u8BD5: ${e}`),await new Promise(c=>setTimeout(c,Math.min(1e3*Math.pow(2,s-1),5e3)))):E("info",`[\u8BF7\u6C42\u6A21\u62DF] HTTP GET: ${e}`);let i=parseInt(B.vodRequestTimeout||"5000",10)||5e3,a=new AbortController,o=setTimeout(()=>a.abort(),i);bO(t.signal,a);try{let c=await fetch(e,{method:"GET",headers:{...t.headers},signal:a.signal});if(clearTimeout(o),!c.ok)throw new Error(`HTTP error! status: ${c.status}`);let u;if(t.base64Data){E("info","base64\u6A21\u5F0F");let h=await c.arrayBuffer(),p=new Uint8Array(h),m="",A=32768;for(let g=0;g<p.length;g+=A){let x=p.subarray(g,g+A);m+=String.fromCharCode.apply(null,x)}u=btoa(m)}else if(t.zlibMode){E("info","zlib\u6A21\u5F0F");let h=await c.arrayBuffer(),p=new DecompressionStream("deflate"),m=new Response(new Blob([h]).stream().pipeThrough(p)),A;try{A=await m.text()}catch(g){throw E("error","[\u8BF7\u6C42\u6A21\u62DF] \u89E3\u538B\u7F29\u5931\u8D25",g),g}u=A}else u=await c.text();let l;try{l=JSON.parse(u)}catch{l=u}let d={},f=[];for(let[h,p]of c.headers.entries())h.toLowerCase()==="set-cookie"?f.push(p):d[h]=p;return f.length>0&&(d["set-cookie"]=f.join(";")),s>0&&E("info","[\u8BF7\u6C42\u6A21\u62DF] \u91CD\u8BD5\u6210\u529F"),{data:l,status:c.status,headers:d}}catch(c){if(clearTimeout(o),n=c,t.signal?.aborted)throw c;if(c.name==="AbortError"?(E("error","[\u8BF7\u6C42\u6A21\u62DF] \u8BF7\u6C42\u8D85\u65F6:",c.message),E("error","\u8BE6\u7EC6\u8BCA\u65AD:"),E("error","- URL:",e),E("error","- \u8D85\u65F6\u65F6\u95F4:",`${i}ms`),E("error",`- \u5F53\u524D\u5C1D\u8BD5: ${s+1}/${r+1}`)):(E("error","[\u8BF7\u6C42\u6A21\u62DF] \u8BF7\u6C42\u5931\u8D25:",c.message),E("error","\u8BE6\u7EC6\u8BCA\u65AD:"),E("error","- URL:",e),E("error","- \u9519\u8BEF\u7C7B\u578B:",c.name),E("error","- \u6D88\u606F:",c.message),E("error",`- \u5F53\u524D\u5C1D\u8BD5: ${s+1}/${r+1}`),c.cause&&(E("error","- \u7801:",c.cause.code),E("error","- \u539F\u56E0:",c.cause.message))),s<r){E("info","[\u8BF7\u6C42\u6A21\u62DF] \u51C6\u5907\u91CD\u8BD5...");continue}}}throw E("error",`[\u8BF7\u6C42\u6A21\u62DF] \u6240\u6709\u91CD\u8BD5\u5747\u5931\u8D25 (${r+1} \u6B21\u5C1D\u8BD5)`),n}async function sr(e,t,r={}){let n=parseInt(r.retries||"0",10)||0,s;for(let i=0;i<=n;i++){i>0?(E("info",`[\u8BF7\u6C42\u6A21\u62DF] \u7B2C ${i} \u6B21\u91CD\u8BD5: ${e}`),await new Promise(h=>setTimeout(h,Math.min(1e3*Math.pow(2,i-1),5e3)))):E("info",`[\u8BF7\u6C42\u6A21\u62DF] HTTP POST: ${e}`);let a=parseInt(r.timeout||B.vodRequestTimeout||"5000",10)||5e3,o=new AbortController,c=setTimeout(()=>o.abort(),a);bO(r.signal,o);let{headers:u={},params:l,allow_redirects:d=!0}=r,f={method:"POST",headers:{...u},body:t,signal:o.signal};d||(f.redirect="manual");try{let h=await fetch(e,f);clearTimeout(c);let p=await h.text();if(!h.ok)throw E("error","[\u8BF7\u6C42\u6A21\u62DF] response data: ",p),new Error(`HTTP error! status: ${h.status}`);let m;try{m=JSON.parse(p)}catch{m=p}return i>0&&E("info","[\u8BF7\u6C42\u6A21\u62DF] \u91CD\u8BD5\u6210\u529F"),{data:m,status:h.status,headers:Object.fromEntries(h.headers.entries())}}catch(h){if(clearTimeout(c),s=h,r.signal?.aborted)throw h;if(h.name==="AbortError"?(E("error","[\u8BF7\u6C42\u6A21\u62DF] \u8BF7\u6C42\u8D85\u65F6:",h.message),E("error","\u8BE6\u7EC6\u8BCA\u65AD:"),E("error","- URL:",e),E("error","- \u8D85\u65F6\u65F6\u95F4:",`${a}ms`),E("error",`- \u5F53\u524D\u5C1D\u8BD5: ${i+1}/${n+1}`)):(E("error","[\u8BF7\u6C42\u6A21\u62DF] \u8BF7\u6C42\u5931\u8D25:",h.message),E("error","\u8BE6\u7EC6\u8BCA\u65AD:"),E("error","- URL:",e),E("error","- \u9519\u8BEF\u7C7B\u578B:",h.name),E("error","- \u6D88\u606F:",h.message),E("error",`- \u5F53\u524D\u5C1D\u8BD5: ${i+1}/${n+1}`),h.cause&&(E("error","- \u7801:",h.cause.code),E("error","- \u539F\u56E0:",h.cause.message))),i<n){E("info","[\u8BF7\u6C42\u6A21\u62DF] \u51C6\u5907\u91CD\u8BD5...");continue}}}throw E("error",`[\u8BF7\u6C42\u6A21\u62DF] \u6240\u6709\u91CD\u8BD5\u5747\u5931\u8D25 (${n+1} \u6B21\u5C1D\u8BD5)`),s}async function EO(e,t,r,n={}){E("info",`[\u8BF7\u6C42\u6A21\u62DF] HTTP ${e}: ${t}`);let{headers:s={},params:i,allow_redirects:a=!0}=n,o={method:e,headers:{...s}};r!=null&&(o.body=r),n.signal&&(o.signal=n.signal);try{let c=await fetch(t,o),u=await c.text();if(!c.ok)throw E("error","[\u8BF7\u6C42\u6A21\u62DF] response data: ",u),new Error(`HTTP error! status: ${c.status}`);let l;try{l=JSON.parse(u)}catch{l=u}return{data:l,status:c.status,headers:Object.fromEntries(c.headers.entries())}}catch(c){throw E("error","[\u8BF7\u6C42\u6A21\u62DF] \u8BF7\u6C42\u5931\u8D25:",c.message),E("error","\u8BE6\u7EC6\u8BCA\u65AD:"),E("error","- URL:",t),E("error","- \u9519\u8BEF\u7C7B\u578B:",c.name),E("error","- \u6D88\u606F:",c.message),c.cause&&(E("error","- \u7801:",c.cause?.code),E("error","- \u539F\u56E0:",c.cause?.message)),c}}async function pI(e,t,r={}){return EO("PATCH",e,t,r)}async function Fde(e,t,r={}){return EO("PUT",e,t,r)}async function hI(e,t={}){return EO("DELETE",e,void 0,t)}async function Qde(e){try{let n=(await ue(e,{headers:{"User-Agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15"}})).data.match(/<title[^>]*>(.*?)<\/title>/i);return n&&n[1]?n[1].replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").trim():e}catch(t){return E("error",`\u83B7\u53D6\u6807\u9898\u5931\u8D25: ${t.message}`),e}}function be(e,t=200){return new Response(JSON.stringify(e),{status:t,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}})}function Ude(e,t=200){if(typeof e!="string"||!e.trim().startsWith("<?xml"))throw new Error("Expected data to be an XML string starting with <?xml");return new Response(e,{status:t,headers:{"Content-Type":"application/xml","Access-Control-Allow-Origin":"*"}})}function bn(e,t=!0){let r=t?encodeURIComponent:s=>s,n="";for(let s in e)e.hasOwnProperty(s)&&(n.length>0&&(n+="&"),n+=r(s)+"="+r(e[s]));return n}function xO(e={}){let t={};for(let[s,i]of Object.entries(e))typeof i=="boolean"?t[s]=i?"true":"false":i==null?t[s]="":t[s]=String(i);let r=[];for(let s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.push(s);r.sort();let n=[];for(let s of r){let i=encodeURIComponent(s),a=encodeURIComponent(t[s]);n.push(`${i}=${a}`)}return n.join("&")}function qde(e,t){let r=e,n="",s=e.indexOf("#"),i="";s!==-1&&(r=e.substring(0,s),i=e.substring(s));let a=r.indexOf("?");a!==-1&&(n=r.substring(a+1),r=r.substring(0,a));let o={};if(n){let u=n.split("&");for(let l of u)if(l){let[d,f=""]=l.split("=").map(decodeURIComponent);o[d]=f}}for(let u in t)Object.prototype.hasOwnProperty.call(t,u)&&(o[u]=t[u]);let c=[];for(let u in o)Object.prototype.hasOwnProperty.call(o,u)&&c.push(`${encodeURIComponent(u)}=${encodeURIComponent(o[u])}`);return r+(c.length?"?"+c.join("&"):"")+i}function jde(e){let t=e.indexOf("//")+2;t===1&&(t=0);let r=e.indexOf("/",t);if(r===-1)return"/";let n=e.indexOf("?",r),s=e.indexOf("#",r),i=n!==-1?n:s!==-1?s:e.length;return e.substring(r,i)||"/"}async function vO(e,t={},r){let{headers:n={},sniffLimit:s}=t,i=parseInt(s||"32768",10)||32768,a=parseInt(B.vodRequestTimeout||"5000",10)||5e3,o=new AbortController,c=setTimeout(()=>o.abort(),a);bO(t.signal,o);try{E("info",`[\u6D41\u5F0F\u8BF7\u6C42] HTTP GET: ${e}`);let u=await fetch(e,{method:"GET",headers:n,signal:o.signal});if(!u.ok)throw new Error(`HTTP error! status: ${u.status}`);let l=u.body.getReader?u.body.getReader():null;if(!l){E("warn","[\u6D41\u5F0F\u8BF7\u6C42] \u73AF\u5883\u4E0D\u652F\u6301\u6D41\u5F0F\u8BFB\u53D6,\u56DE\u9000\u5230\u666E\u901A\u8BF7\u6C42");let y=await u.text();if(clearTimeout(c),r&&!r(y.slice(0,i)))return E("info","[\u6D41\u5F0F\u8BF7\u6C42] \u68C0\u6D4B\u5230\u65E0\u6548\u6570\u636E(\u56DE\u9000\u6A21\u5F0F),\u4E22\u5F03\u7ED3\u679C"),null;try{return JSON.parse(y)}catch{return y}}let d=0,f=[],h=!1,p="",m=!1;for(;;){let{done:y,value:b}=await l.read();if(y)break;if(d+=b.length,!m&&r){let _=new TextDecoder("utf-8").decode(b,{stream:!0});if(p+=_,!r(p)){E("info",`[\u6D41\u5F0F\u8BF7\u6C42] \u55C5\u63A2\u5230\u65E0\u6548\u7279\u5F81(\u5DF2\u8BFB${d}\u5B57\u8282),\u7ACB\u5373\u7194\u65AD`),o.abort(),h=!0;break}d>i&&(m=!0,p=null)}f.push(b)}if(clearTimeout(c),h)return null;let A=new Uint8Array(d),g=0;for(let y of f)A.set(y,g),g+=y.length;let x=new TextDecoder("utf-8").decode(A);try{return JSON.parse(x)}catch{return x}}catch(u){return clearTimeout(c),u.name==="AbortError"||E("error",`[\u6D41\u5F0F\u8BF7\u6C42] \u5931\u8D25: ${u.message}`),null}}var Dt=Es(()=>{pt();Ze()});function En(e){let t=0;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);t=(t<<5)-t+n,t=t>>>0}return t.toString(16)}function wO(e,t){return e==="lastSelectMap"&&t instanceof Map?JSON.stringify(Object.fromEntries(t)):JSON.stringify(t)}function As(e){function t(y){let b="";for(let _=0;_<y.length;_++){let C=y.charCodeAt(_);C<128?b+=String.fromCharCode(C):C<2048?(b+=String.fromCharCode(192|C>>6),b+=String.fromCharCode(128|C&63)):(b+=String.fromCharCode(224|C>>12),b+=String.fromCharCode(128|C>>6&63),b+=String.fromCharCode(128|C&63))}return b}e=t(e);function r(y,b){return y<<b|y>>>32-b}function n(y,b){let _=y&1073741824,C=b&1073741824,w=y&2147483648,S=b&2147483648,T=(y&1073741823)+(b&1073741823);return _&C?T^2147483648^w^S:_|C?T&1073741824?T^3221225472^w^S:T^1073741824^w^S:T^w^S}function s(y,b,_){return y&b|~y&_}function i(y,b,_){return y&_|b&~_}function a(y,b,_){return y^b^_}function o(y,b,_){return b^(y|~_)}function c(y,b,_,C,w,S,T){return y=n(y,n(n(s(b,_,C),w),T)),n(r(y,S),b)}function u(y,b,_,C,w,S,T){return y=n(y,n(n(i(b,_,C),w),T)),n(r(y,S),b)}function l(y,b,_,C,w,S,T){return y=n(y,n(n(a(b,_,C),w),T)),n(r(y,S),b)}function d(y,b,_,C,w,S,T){return y=n(y,n(n(o(b,_,C),w),T)),n(r(y,S),b)}function f(y){let b=y.length,_=((b+8>>>6)+1)*16,C=new Array(_).fill(0);for(let w=0;w<b;w++)C[w>>2]|=y.charCodeAt(w)<<w%4*8;return C[b>>2]|=128<<b%4*8,C[_-2]=b*8,C}function h(y){let b="";for(let _=0;_<=3;_++){let w="0"+(y>>>_*8&255).toString(16);b+=w.substr(w.length-2,2)}return b}let p=f(e),m=1732584193,A=4023233417,g=2562383102,x=271733878;for(let y=0;y<p.length;y+=16){let b=m,_=A,C=g,w=x;m=c(m,A,g,x,p[y+0],7,3614090360),x=c(x,m,A,g,p[y+1],12,3905402710),g=c(g,x,m,A,p[y+2],17,606105819),A=c(A,g,x,m,p[y+3],22,3250441966),m=c(m,A,g,x,p[y+4],7,4118548399),x=c(x,m,A,g,p[y+5],12,1200080426),g=c(g,x,m,A,p[y+6],17,2821735955),A=c(A,g,x,m,p[y+7],22,4249261313),m=c(m,A,g,x,p[y+8],7,1770035416),x=c(x,m,A,g,p[y+9],12,2336552879),g=c(g,x,m,A,p[y+10],17,4294925233),A=c(A,g,x,m,p[y+11],22,2304563134),m=c(m,A,g,x,p[y+12],7,1804603682),x=c(x,m,A,g,p[y+13],12,4254626195),g=c(g,x,m,A,p[y+14],17,2792965006),A=c(A,g,x,m,p[y+15],22,1236535329),m=u(m,A,g,x,p[y+1],5,4129170786),x=u(x,m,A,g,p[y+6],9,3225465664),g=u(g,x,m,A,p[y+11],14,643717713),A=u(A,g,x,m,p[y+0],20,3921069994),m=u(m,A,g,x,p[y+5],5,3593408605),x=u(x,m,A,g,p[y+10],9,38016083),g=u(g,x,m,A,p[y+15],14,3634488961),A=u(A,g,x,m,p[y+4],20,3889429448),m=u(m,A,g,x,p[y+9],5,568446438),x=u(x,m,A,g,p[y+14],9,3275163606),g=u(g,x,m,A,p[y+3],14,4107603335),A=u(A,g,x,m,p[y+8],20,1163531501),m=u(m,A,g,x,p[y+13],5,2850285829),x=u(x,m,A,g,p[y+2],9,4243563512),g=u(g,x,m,A,p[y+7],14,1735328473),A=u(A,g,x,m,p[y+12],20,2368359562),m=l(m,A,g,x,p[y+5],4,4294588738),x=l(x,m,A,g,p[y+8],11,2272392833),g=l(g,x,m,A,p[y+11],16,1839030562),A=l(A,g,x,m,p[y+14],23,4259657740),m=l(m,A,g,x,p[y+1],4,2763975236),x=l(x,m,A,g,p[y+4],11,1272893353),g=l(g,x,m,A,p[y+7],16,4139469664),A=l(A,g,x,m,p[y+10],23,3200236656),m=l(m,A,g,x,p[y+13],4,681279174),x=l(x,m,A,g,p[y+0],11,3936430074),g=l(g,x,m,A,p[y+3],16,3572445317),A=l(A,g,x,m,p[y+6],23,76029189),m=l(m,A,g,x,p[y+9],4,3654602809),x=l(x,m,A,g,p[y+12],11,3873151461),g=l(g,x,m,A,p[y+15],16,530742520),A=l(A,g,x,m,p[y+2],23,3299628645),m=d(m,A,g,x,p[y+0],6,4096336452),x=d(x,m,A,g,p[y+7],10,1126891415),g=d(g,x,m,A,p[y+14],15,2878612391),A=d(A,g,x,m,p[y+5],21,4237533241),m=d(m,A,g,x,p[y+12],6,1700485571),x=d(x,m,A,g,p[y+3],10,2399980690),g=d(g,x,m,A,p[y+10],15,4293915773),A=d(A,g,x,m,p[y+1],21,2240044497),m=d(m,A,g,x,p[y+8],6,1873313359),x=d(x,m,A,g,p[y+15],10,4264355552),g=d(g,x,m,A,p[y+6],15,2734768916),A=d(A,g,x,m,p[y+13],21,1309151649),m=d(m,A,g,x,p[y+4],6,4149444226),x=d(x,m,A,g,p[y+11],10,3174756917),g=d(g,x,m,A,p[y+2],15,718787259),A=d(A,g,x,m,p[y+9],21,3951481745),m=n(m,b),A=n(A,_),g=n(g,C),x=n(x,w)}return(h(m)+h(A)+h(g)+h(x)).toLowerCase()}function Yde(e){let t=mI(e),r=[],n=0;for(;n<t.length&&t[n++]===10;){let[i,a]=Hde(t,n);n=a;let o=0,c={};for(;o<i.length;){let u=i[o++],l=u>>3,d=u&7;if(d===0){let[f,h]=CO(i,o);switch(o=h,l){case 1:c.id=f;break;case 2:c.progress=f;break;case 3:c.mode=f;break;case 4:c.fontsize=f;break;case 5:c.color=f;break;case 8:c.ctime=f;break;case 9:c.weight=f;break;case 11:c.pool=f;break;case 13:c.attr=f;break;case 15:c.like_num=f;break;case 17:c.dm_type_v2=f;break}}else if(d===2){let[f,h]=Hde(i,o);switch(o=h,l){case 6:c.midHash=fa(f);break;case 7:c.content=fa(f);break;case 10:c.action=fa(f);break;case 12:c.idStr=fa(f);break;case 14:c.animation=fa(f);break;case 16:c.color_v2=fa(f);break}}else{let[f,h]=CO(i,o);o=h}}r.push(c)}return r}function CO(e,t){let r=0n,n=0n,s=t;for(;;){let i=e[s++];if(r|=BigInt(i&127)<<n,!(i&128))break;n+=7n}return[Number(r),s]}function Hde(e,t){let[r,n]=CO(e,t),s=n,i=s+r;return[e.slice(s,i),i]}function Tr(e){let t=5381;for(let r=0;r<e.length;r++)t=t*33^e.charCodeAt(r);return t=(t>>>0)%9999999,t<1e4?t+1e4:t}function zde(e,t){let r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function Rrt(e){return Uint8Array.from([e[1],e[2],e[3],e[0]])}function Nrt(e){return Uint8Array.from(e.map(t=>Wde[t]))}function krt(e){let s=new Array(44);for(let i=0;i<4;i++)s[i]=e.slice(4*i,4*i+4);for(let i=4;i<4*11;i++){let a=s[i-1];i%4===0&&(a=zde(Nrt(Rrt(a)),Uint8Array.from([Brt[i/4],0,0,0]))),s[i]=zde(s[i-4],a)}return s}function Drt(e,t){let s=new Uint8Array(e);s=_O(s,t.slice(10*4,11*4));for(let i=9;i>=1;i--)s=Vde(s),s=Gde(s),s=_O(s,t.slice(i*4,(i+1)*4)),s=Prt(s);return s=Vde(s),s=Gde(s),s=_O(s,t.slice(0,4)),s}function _O(e,t){let r=new Uint8Array(16);for(let n=0;n<4;n++)for(let s=0;s<4;s++)r[s+4*n]=e[s+4*n]^t[n][s];return r}function Gde(e){let t=new Array(256);for(let r=0;r<256;r++)t[Wde[r]]=r;return Uint8Array.from(e.map(r=>t[r]))}function Vde(e){let t=new Uint8Array(16);for(let r=0;r<4;r++)for(let n=0;n<4;n++)t[r+4*n]=e[r+4*((n-r+4)%4)];return t}function Prt(e){function t(n,s){let i=0;for(let a=0;a<8;a++){s&1&&(i^=n);let o=n&128;n=n<<1&255,o&&(n^=27),s>>=1}return i}let r=new Uint8Array(16);for(let n=0;n<4;n++){let s=e.slice(4*n,4*n+4);r[4*n+0]=t(s[0],14)^t(s[1],11)^t(s[2],13)^t(s[3],9),r[4*n+1]=t(s[0],9)^t(s[1],14)^t(s[2],11)^t(s[3],13),r[4*n+2]=t(s[0],13)^t(s[1],9)^t(s[2],14)^t(s[3],11),r[4*n+3]=t(s[0],11)^t(s[1],13)^t(s[2],9)^t(s[3],14)}return r}function Ort(e,t){let r=krt(t),n=16,s=new Uint8Array(e.length);for(let i=0;i<e.length;i+=n){let a=e.slice(i,i+n),o=Drt(a,r);s.set(o,i)}return s}function $rt(e){let t=e[e.length-1];return e.slice(0,e.length-t)}function mI(e){let t=typeof atob=="function"?atob(e):Lrt(e),r=t.length,n=new Uint8Array(r);for(let s=0;s<r;s++)n[s]=t.charCodeAt(s);return n}function Lrt(e){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="",n=0,s=0;for(let i=0;i<e.length;i++){let a=e.charAt(i);if(a==="=")break;let o=t.indexOf(a);n=n<<6|o,s+=6,s>=8&&(s-=8,r+=String.fromCharCode(n>>s&255))}return r}function fa(e){let t="",r=0;for(;r<e.length;){let n=e[r++];if(n<128)t+=String.fromCharCode(n);else if(n>=192&&n<224){let s=e[r++];t+=String.fromCharCode((n&31)<<6|s&63)}else if(n>=224&&n<240){let s=e[r++],i=e[r++];t+=String.fromCharCode((n&15)<<12|(s&63)<<6|i&63)}else if(n>=240){let s=e[r++],i=e[r++],a=e[r++],c=((n&7)<<18|(s&63)<<12|(i&63)<<6|a&63)-65536;t+=String.fromCharCode(55296+(c>>10),56320+(c&1023))}}return t}function Gp(e){let t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(n<128)t.push(n);else if(n<2048)t.push(192|n>>6),t.push(128|n&63);else if(n<55296||n>=57344)t.push(224|n>>12),t.push(128|n>>6&63),t.push(128|n&63);else{r++;let s=e.charCodeAt(r),i=65536+((n&1023)<<10|s&1023);t.push(240|i>>18),t.push(128|i>>12&63),t.push(128|i>>6&63),t.push(128|i&63)}}return new Uint8Array(t)}function Mrt(e,t){try{let r=mI(e),n=Gp(t),s=Ort(r,n),i=$rt(s);return fa(i)}catch(r){return E("error",r),null}}function mA(e){let t=typeof e=="string"?e.trim():JSON.stringify(e??"");try{return JSON.parse(t)}catch{}let n=Mrt(t,"3b744389882a4067");if(n!=null)try{return JSON.parse(n)}catch{return n}return t}function Frt(e){let t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n<128?t.push(n):n<2048?(t.push(192|n>>6),t.push(128|n&63)):n<65536&&(t.push(224|n>>12),t.push(128|n>>6&63),t.push(128|n&63))}return t}function SO(e){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="",n;for(n=0;n+2<e.length;n+=3)r+=t[e[n]>>2],r+=t[(e[n]&3)<<4|e[n+1]>>4],r+=t[(e[n+1]&15)<<2|e[n+2]>>6],r+=t[e[n+2]&63];return n<e.length&&(r+=t[e[n]>>2],n+1<e.length?(r+=t[(e[n]&3)<<4|e[n+1]>>4],r+=t[(e[n+1]&15)<<2],r+="="):(r+=t[(e[n]&3)<<4],r+="==")),r}function IO(e){function t(u,l){return l>>>u|l<<32-u}let r=Math.pow(2,32),n=[],s=e.length*8;for(let u=0;u<e.length;u++)n[u>>2]|=e.charCodeAt(u)<<(3-u)%4*8;n[e.length>>2]|=128<<(3-e.length%4)*8,n[(e.length+8>>6)*16+15]=s;let i=new Array(64),a=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];for(let u=0;u<n.length;u+=16){let l=a[0],d=a[1],f=a[2],h=a[3],p=a[4],m=a[5],A=a[6],g=a[7];for(let x=0;x<64;x++){if(x<16)i[x]=n[u+x]|0;else{let T=t(7,i[x-15])^t(18,i[x-15])^i[x-15]>>>3,R=t(17,i[x-2])^t(19,i[x-2])^i[x-2]>>>10;i[x]=i[x-16]+T+i[x-7]+R|0}let y=t(6,p)^t(11,p)^t(25,p),b=p&m^~p&A,_=g+y+b+o[x]+i[x]|0,C=t(2,l)^t(13,l)^t(22,l),w=l&d^l&f^d&f,S=C+w|0;g=A,A=m,m=p,p=h+_|0,h=f,f=d,d=l,l=_+S|0}a[0]=a[0]+l|0,a[1]=a[1]+d|0,a[2]=a[2]+f|0,a[3]=a[3]+h|0,a[4]=a[4]+p|0,a[5]=a[5]+m|0,a[6]=a[6]+A|0,a[7]=a[7]+g|0}let c=[];for(let u of a)c.push(u>>24&255),c.push(u>>16&255),c.push(u>>8&255),c.push(u&255);return c}function Jde(e,t){let n=Frt(e);n.length>64&&(n=IO(e)),n.length<64&&(n=n.concat(Array(64-n.length).fill(0)));let s=n.map(c=>c^92),i=n.map(c=>c^54),a=IO(String.fromCharCode(...i)+t),o=IO(String.fromCharCode(...s)+String.fromCharCode(...a));return SO(o)}function gI(e,t,r,n){let s=e+"t"+t;return r&&Object.keys(r).sort().forEach(a=>{s+=a+r[a]}),s+=n,As(s)}function Kde(e){if(e<=65535)return String.fromCharCode(e);e-=65536;let t=(e>>10)+55296,r=(e&1023)+56320;return String.fromCharCode(t,r)}function Xde(e){return e.replace(/&#(\d+);/g,(t,r)=>Kde(parseInt(r,10))).replace(/&#x([0-9a-fA-F]+);/g,(t,r)=>Kde(parseInt(r,16)))}var Wde,Brt,kn=Es(()=>{Ze();Wde=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Brt=[0,1,2,4,8,16,32,64,128,27,54]});var efe={};On(efe,{getRedisCaches:()=>RO,getRedisKey:()=>Qrt,judgeRedisValid:()=>NO,pingRedis:()=>Zde,runPipeline:()=>BO,setRedisKey:()=>TO,setRedisKeyWithExpiry:()=>Urt,updateRedisCaches:()=>AI});async function Zde(){let e=`${B.redisUrl}/ping`;E("info","[redis] \u5F00\u59CB\u53D1\u9001 PING \u8BF7\u6C42:",e);try{return await(await fetch(e,{method:"GET",headers:{Authorization:`Bearer ${B.redisToken}`}})).json()}catch(t){E("error","[redis] \u8BF7\u6C42\u5931\u8D25:",t.message),E("error","- \u9519\u8BEF\u7C7B\u578B:",t.name),t.cause&&(E("error","- \u7801:",t.cause.code),E("error","- \u539F\u56E0:",t.cause.message))}}async function Qrt(e){let t=`${B.redisUrl}/get/${e}`;E("info","[redis] \u5F00\u59CB\u53D1\u9001 GET \u8BF7\u6C42:",t);try{return await(await fetch(t,{method:"GET",headers:{Authorization:`Bearer ${B.redisToken}`}})).json()}catch(r){E("error","[redis] \u8BF7\u6C42\u5931\u8D25:",r.message),E("error","- \u9519\u8BEF\u7C7B\u578B:",r.name),r.cause&&(E("error","- \u7801:",r.cause.code),E("error","- \u539F\u56E0:",r.cause.message))}}async function TO(e,t){let r=wO(e,t),n=En(r);if(B.lastHashes[e]===n)return E("info",`[redis] \u952E ${e} \u65E0\u53D8\u5316\uFF0C\u8DF3\u8FC7 SET \u8BF7\u6C42`),{result:"OK"};let s=`${B.redisUrl}/set/${e}`;E("info","[redis] \u5F00\u59CB\u53D1\u9001 SET \u8BF7\u6C42:",s);try{let a=await(await fetch(s,{method:"POST",headers:{Authorization:`Bearer ${B.redisToken}`,"Content-Type":"application/json"},body:r})).json();return B.lastHashes[e]=n,E("info",`[redis] \u952E ${e} \u66F4\u65B0\u6210\u529F`),a}catch(i){E("error","[redis] SET \u8BF7\u6C42\u5931\u8D25:",i.message),E("error","- \u9519\u8BEF\u7C7B\u578B:",i.name),i.cause&&(E("error","- \u7801:",i.cause.code),E("error","- \u539F\u56E0:",i.cause.message))}}async function Urt(e,t,r){let n=wO(e,t),s=En(n);if(B.lastHashes[e]===s)return E("info",`[redis] \u952E ${e} \u65E0\u53D8\u5316\uFF0C\u8DF3\u8FC7 SETEX \u8BF7\u6C42`),{result:"OK"};let i=`${B.redisUrl}/set/${e}?EX=${r}`;E("info","[redis] \u5F00\u59CB\u53D1\u9001 SETEX \u8BF7\u6C42:",i);try{let o=await(await fetch(i,{method:"POST",headers:{Authorization:`Bearer ${B.redisToken}`,"Content-Type":"application/json"},body:n})).json();return B.lastHashes[e]=s,E("info",`[redis] \u952E ${e} \u66F4\u65B0\u6210\u529F\uFF08\u5E26\u8FC7\u671F\u65F6\u95F4 ${r}s\uFF09`),o}catch(a){E("error","[redis] SETEX \u8BF7\u6C42\u5931\u8D25:",a.message),E("error","- \u9519\u8BEF\u7C7B\u578B:",a.name),a.cause&&(E("error","- \u7801:",a.cause.code),E("error","- \u539F\u56E0:",a.cause.message))}}async function BO(e){let t=`${B.redisUrl}/pipeline`;E("info","[redis] \u5F00\u59CB\u53D1\u9001 PIPELINE \u8BF7\u6C42:",t);try{return await(await fetch(t,{method:"POST",headers:{Authorization:`Bearer ${B.redisToken}`,"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}catch(r){E("error","[redis] Pipeline \u8BF7\u6C42\u5931\u8D25:",r.message),E("error","- \u9519\u8BEF\u7C7B\u578B:",r.name),r.cause&&(E("error","- \u7801:",r.cause.code),E("error","- \u539F\u56E0:",r.cause.message))}}async function RO(){if(!B.redisCacheInitialized)try{E("info","getRedisCaches start.");let t=["animes","episodeIds","episodeNum","reqRecords","lastSelectMap","todayReqNum"].map(s=>["GET",s]),r=await BO(t);B.animes=r[0].result?JSON.parse(r[0].result):B.animes,B.episodeIds=r[1].result?JSON.parse(r[1].result):B.episodeIds,B.episodeNum=r[2].result?JSON.parse(r[2].result):B.episodeNum,B.reqRecords=r[3].result?JSON.parse(r[3].result):B.reqRecords;let n=r[4].result?JSON.parse(r[4].result):null;n&&typeof n=="object"&&(B.lastSelectMap=new Map(Object.entries(n)),E("info",`Restored lastSelectMap from Redis with ${B.lastSelectMap.size} entries`)),B.todayReqNum=r[5].result?parseInt(r[5].result,10):B.todayReqNum,B.lastHashes.animes=En(JSON.stringify(B.animes)),B.lastHashes.episodeIds=En(JSON.stringify(B.episodeIds)),B.lastHashes.episodeNum=En(JSON.stringify(B.episodeNum)),B.lastHashes.reqRecords=En(JSON.stringify(B.reqRecords)),B.lastHashes.lastSelectMap=En(JSON.stringify(Object.fromEntries(B.lastSelectMap))),B.lastHashes.todayReqNum=En(JSON.stringify(B.todayReqNum)),B.redisCacheInitialized=!0,E("info","getRedisCaches completed successfully.")}catch(e){E("error",`getRedisCaches failed: ${e.message}`,e.stack),B.redisCacheInitialized=!0}}async function AI(){try{E("info","updateCaches start.");let e=[],t=[],r=[{key:"animes",value:B.animes},{key:"episodeIds",value:B.episodeIds},{key:"episodeNum",value:B.episodeNum},{key:"reqRecords",value:B.reqRecords},{key:"lastSelectMap",value:B.lastSelectMap},{key:"todayReqNum",value:B.todayReqNum}];for(let{key:n,value:s}of r){let i=JSON.stringify(n==="lastSelectMap"?Object.fromEntries(s):s),a=En(i);a!==B.lastHashes[n]&&(e.push(["SET",n,i]),t.push({key:n,hash:a}))}if(e.length>0){E("info",`Updating ${e.length} changed keys: ${t.map(a=>a.key).join(", ")}`);let n=await BO(e),s=0,i=0;Array.isArray(n)&&n.forEach((a,o)=>{a&&a.result==="OK"?s++:(i++,E("warn",`Failed to update Redis key: ${t[o]?.key}, result: ${JSON.stringify(a)}`))}),i===0?(t.forEach(({key:a,hash:o})=>{B.lastHashes[a]=o}),E("info",`Redis update completed successfully: ${s} keys updated`)):E("warn",`Redis update partially failed: ${s} succeeded, ${i} failed`)}else E("info","No changes detected, skipping Redis update.")}catch(e){E("error",`updateRedisCaches failed: ${e.message}`,e.stack),E("error",`Error details - Name: ${e.name}, Cause: ${e.cause?e.cause.message:"N/A"}`)}}async function NO(e){if(!B.redisValid&&B.redisUrl&&B.redisToken&&e!=="/favicon.ico"&&e!=="/robots.txt"){let t=await Zde();t&&t.result&&t.result==="PONG"&&(B.redisValid=!0)}}var yI=Es(()=>{pt();Ze();kn()});function $r(e){let t;if(typeof e=="string")t=e;else if(Array.isArray(e))t=JSON.stringify(e);else if(typeof e=="object")t=JSON.stringify(e);else{E("error","Unsupported data type");return}E("info",t.slice(0,200))}function Su(e){let t=e.match(/\((\d{4})\)/);return t?parseInt(t[1]):null}function tfe(e){if(/^\d+$/.test(e))return Number(e);let t={\u96F6:0,\u4E00:1,\u4E8C:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6,\u4E03:7,\u516B:8,\u4E5D:9,\u58F9:1,\u8CB3:2,\u53C3:3,\u8086:4,\u4F0D:5,\u9678:6,\u67D2:7,\u634C:8,\u7396:9},r={\u5341:10,\u767E:100,\u5343:1e3,\u62FE:10,\u4F70:100,\u4EDF:1e3},n=0,s=0,i=1;for(let a=0;a<e.length;a++){let o=e[a];if(t[o]!==void 0)s=t[o];else if(r[o]!==void 0){let c=r[o];s===0&&(s=1),c>=i?n=s*c:n+=s*c,i=c,s=0}}return s>0&&(n+=s),n}function rfe(e){if(!e||typeof e!="string")return{cleanFileName:"",preferredPlatform:""};let t=e.indexOf("@");if(t===-1)return{cleanFileName:e.trim(),preferredPlatform:""};let r=e.substring(0,t).trim(),n=e.substring(t+1).trim(),s=n.match(/^(\w+)\s+(S\d+E\d+)$/);if(s){let i=s[1],a=s[2];return{cleanFileName:`${r} ${a}`,preferredPlatform:kO(i)}}else{let i=r.match(/^(.+?)\s+(S\d+E\d+)$/);if(i){let a=i[1],o=i[2];return{cleanFileName:`${a} ${o}`,preferredPlatform:kO(n)}}else return{cleanFileName:r,preferredPlatform:kO(n)}}}function kO(e){if(!e||typeof e!="string")return"";let t=e.trim();return B.allowedPlatforms.includes(t)?t:""}function nfe(e){if(!e)return[...B.platformOrderArr];if(!B.allowedPlatforms.includes(e))return E("warn",`Invalid platform: ${e}, using default order`),[...B.platformOrderArr];let t=[e];for(let r of B.platformOrderArr)r!==e&&r!==null&&t.push(r);return t.push(null),t}function Dn(e){return e?String(e).trim().replace(/\s+/g,""):""}function Tu(e,t){if(!e||!t)return!1;let r=Dn(e),n=Dn(t);if(r===n)return!0;let s=[" ","(","\uFF08",":","\uFF1A","-","\u2014","\xB7","\u7B2C","S","s"];for(let i of s)if(r.startsWith(n+i))return!0;return!1}function zt(e,t){if(B.strictTitleMatch)return Tu(e,t);let r=Dn(e).toLowerCase(),n=Dn(t).toLowerCase();if(r.includes(n))return!0;let s=new Set(n),i=new Set(r);return[...s].reduce((o,c)=>o+(i.has(c)?1:0),0)/s.size>.8}function Oe(e,t){let r=e?.constructor?.name;if(t==="array"){if(!Array.isArray(e))throw new TypeError(`${e} \u5FC5\u987B\u662F\u4E00\u4E2A\u6570\u7EC4\uFF0C\u4F46\u4F20\u5165\u7684\u662F ${r}`)}else if(t==="boolean"){if(typeof e!="boolean"&&typeof e!="number")throw new TypeError(`${e} \u5FC5\u987B\u662F boolean \u6216 number\uFF0C\u4F46\u4F20\u5165\u7684\u662F ${r}`)}else if(typeof e!==t)throw new TypeError(`${e} \u5FC5\u987B\u662F ${t}\uFF0C\u4F46\u4F20\u5165\u7684\u662F ${r}`)}var DO,PO,Zr=Es(()=>{pt();Ze();DO=e=>{let t=e.match(/(.*?)/);return t?t[1]:null},PO=e=>e.split("(")[0].trim()});var Bu,bI,EI,xI,vI,OO,$O,_I,Ve,Vp,Gr=Es(()=>{Zr();Bu=class e{constructor({animeId:t=111,bangumiId:r="",animeTitle:n="",type:s="",typeDescription:i="",imageUrl:a="",startDate:o="",episodeCount:c=1,rating:u=0,isFavorited:l=!0,source:d="",links:f=[]}={}){Oe(t,"number"),Oe(r,"string"),Oe(n,"string"),Oe(s,"string","type"),Oe(i,"string"),Oe(a,"string"),Oe(o,"string"),Oe(c,"number"),Oe(u,"number"),Oe(l,"boolean"),Oe(d,"string"),Oe(f,"array"),this.links=f.map(h=>bI.fromJson(h)),Object.assign(this,{animeId:t,bangumiId:r,animeTitle:n,type:s,typeDescription:i,imageUrl:a,startDate:o,episodeCount:c,rating:u,isFavorited:l,source:d})}static fromJson(t){if(typeof t!="object"||t===null)throw new TypeError("fromJson \u53C2\u6570\u5FC5\u987B\u662F\u5BF9\u8C61");let r=(t.links||[]).map(n=>bI.fromJson(n));return new e({...t,links:r})}toJson(){return{...this,links:this.links.map(t=>t.toJson())}}},bI=class e{constructor({name:t="",url:r="",title:n="",id:s=10001}={}){Oe(t,"string"),Oe(r,"string"),Oe(n,"string"),Oe(s,"number"),Object.assign(this,{name:t,url:r,title:n,id:s})}static fromJson(t){if(typeof t!="object"||t===null)throw new TypeError("fromJson \u53C2\u6570\u5FC5\u987B\u662F\u5BF9\u8C61");return new e(t)}toJson(){return{...this}}},EI=class e{constructor({episodeId:t=10001,animeId:r=111,animeTitle:n="",episodeTitle:s="",type:i="",typeDescription:a="",shift:o=1,imageUrl:c=""}={}){Oe(t,"number"),Oe(r,"number"),Oe(n,"string"),Oe(s,"string"),Oe(i,"string","type"),Oe(a,"string"),Oe(o,"number"),Oe(c,"string"),Object.assign(this,{episodeId:t,animeId:r,animeTitle:n,episodeTitle:s,type:i,typeDescription:a,shift:o,imageUrl:c})}static fromJson(t){if(typeof t!="object"||t===null)throw new TypeError("fromJson \u53C2\u6570\u5FC5\u987B\u662F\u5BF9\u8C61");return new e(t)}toJson(){return{...this}}},xI=class{constructor({episodeId:t="",episodeTitle:r=""}={}){this.episodeId=t,this.episodeTitle=r}};xI.prototype.toJson=function(){return{episodeId:this.episodeId,episodeTitle:this.episodeTitle}};vI=class e{constructor({animeId:t=111,animeTitle:r="",type:n="",typeDescription:s="",episodes:i=[]}={}){Oe(t,"number"),Oe(r,"string"),Oe(n,"string"),Oe(s,"string"),Oe(i,"array"),Object.assign(this,{animeId:t,animeTitle:r,type:n,typeDescription:s,episodes:i.map(a=>new xI(a))})}static fromJson(t){if(typeof t!="object"||t===null)throw new TypeError("fromJson \u53C2\u6570\u5FC5\u987B\u662F\u5BF9\u8C61");return new e(t)}toJson(){return{...this,episodes:this.episodes.map(t=>t.toJson())}}},OO=class e{constructor({id:t="",airDate:r="",name:n="",episodeCount:s=0}={}){Oe(t,"string"),Oe(r,"string"),Oe(n,"string"),Oe(s,"number"),Object.assign(this,{id:t,airDate:r,name:n,episodeCount:s})}static fromJson(t){if(typeof t!="object"||t===null)throw new TypeError("fromJson \u53C2\u6570\u5FC5\u987B\u662F\u5BF9\u8C61");return new e(t)}toJson(){return{...this}}},$O=class e{constructor({seasonId:t="",episodeId:r=10001,episodeTitle:n="",episodeNumber:s="",airDate:i=""}={}){Oe(t,"string"),Oe(r,"number"),Oe(n,"string"),Oe(s,"string"),Oe(i,"string"),Object.assign(this,{seasonId:t,episodeId:r,episodeTitle:n,episodeNumber:s,airDate:i})}static fromJson(t){if(typeof t!="object"||t===null)throw new TypeError("fromJson \u53C2\u6570\u5FC5\u987B\u662F\u5BF9\u8C61");return new e(t)}toJson(){return{...this}}},_I=class e{constructor({animeId:t=111,bangumiId:r="",animeTitle:n="",imageUrl:s="",isOnAir:i=!0,airDay:a=1,isFavorited:o=!0,rating:c=0,type:u="",typeDescription:l="",seasons:d=[],episodes:f=[]}={}){Oe(t,"number"),Oe(r,"string"),Oe(n,"string"),Oe(s,"string"),Oe(i,"boolean"),Oe(a,"number"),Oe(o,"boolean"),Oe(c,"number"),Oe(u,"string"),Oe(l,"string"),Oe(d,"array"),Oe(f,"array");let h=d.map(p=>OO.fromJson(p));Object.assign(this,{animeId:t,bangumiId:r,animeTitle:n,imageUrl:s,isOnAir:i,airDay:a,isFavorited:o,rating:c,type:u,typeDescription:l,seasons:h,episodes:f})}static fromJson(t){if(typeof t!="object"||t===null)throw new TypeError("fromJson \u53C2\u6570\u5FC5\u987B\u662F\u5BF9\u8C61");let r=t.episodes.map(n=>$O.fromJson(n));return new e({...t,episodes:r})}toJson(){return{...this,seasons:this.seasons.map(t=>t.toJson()),episodes:this.episodes.map(t=>t.toJson())}}},Ve=class e{constructor({type:t="",segmentList:r=[]}={}){Oe(t,"string"),Oe(r,"array"),this.segmentList=r.map(n=>Vp.fromJson(n)),Object.assign(this,{type:t})}static fromJson(t){if(typeof t!="object"||t===null)throw new TypeError("fromJson \u53C2\u6570\u5FC5\u987B\u662F\u5BF9\u8C61");let r=(t.segmentList||[]).map(n=>Vp.fromJson(n));return new e({...t,segmentList:r})}toJson(){return{...this,segmentList:this.segmentList.map(t=>t.toJson())}}},Vp=class e{constructor({type:t,segment_start:r,segment_end:n,url:s,data:i,_m_h5_tk:a,_m_h5_tk_enc:o}={}){Oe(t,"string","type"),Oe(r,"number","segment_start"),Oe(n,"number","segment_end"),Oe(s,"string","url"),i!==void 0&&Oe(i,"string","data"),a!==void 0&&Oe(a,"string","_m_h5_tk"),o!==void 0&&Oe(o,"string","_m_h5_tk_enc"),Object.assign(this,{type:t,segment_start:r,segment_end:n,url:s,data:i,_m_h5_tk:a,_m_h5_tk_enc:o})}static fromJson(t){if(typeof t!="object"||t===null)throw new TypeError("fromJson \u53C2\u6570\u5FC5\u987B\u662F\u5BF9\u8C61");return new e(t)}toJson(){return{...this}}}});var cfe={};On(cfe,{addAnime:()=>et,addEpisode:()=>afe,cleanupExpiredIPs:()=>II,findAnimeIdByCommentId:()=>UO,findTitleById:()=>FO,findUrlById:()=>bA,getCommentCache:()=>ec,getDirname:()=>CI,getLocalCaches:()=>HO,getPreferAnimeId:()=>jO,getSearchCache:()=>LO,isCommentCacheValid:()=>ife,isSearchCacheValid:()=>sfe,judgeLocalCacheValid:()=>zO,readCacheFromFile:()=>ud,removeEarliestAnime:()=>st,removeEpisodeByUrl:()=>ofe,setCommentCache:()=>yA,setPreferByAnimeId:()=>qO,setSearchCache:()=>MO,storeAnimeIdsToMap:()=>QO,updateLocalCaches:()=>SI,writeCacheToFile:()=>wI});function sfe(e){if(!B.searchCache.has(e))return!1;let t=B.searchCache.get(e),n=(Date.now()-t.timestamp)/(1e3*60);return n>B.searchCacheMinutes?(B.searchCache.delete(e),E("info",`Search cache for "${e}" expired after ${n.toFixed(2)} minutes`),!1):!0}function LO(e){return sfe(e)?(E("info",`Using search cache for "${e}"`),B.searchCache.get(e).results):null}function MO(e,t){B.searchCache.set(e,{results:t,timestamp:Date.now()}),E("info",`Cached search results for "${e}" (${t.length} animes)`)}function ife(e){if(!B.commentCache.has(e))return!1;let t=B.commentCache.get(e),n=(Date.now()-t.timestamp)/(1e3*60);return n>B.commentCacheMinutes?(B.commentCache.delete(e),E("info",`Comment cache for "${e}" expired after ${n.toFixed(2)} minutes`),!1):!0}function ec(e){return ife(e)?(E("info",`Using comment cache for "${e}"`),B.commentCache.get(e).comments):null}function yA(e,t){B.commentCache.set(e,{comments:t,timestamp:Date.now()}),E("info",`Cached comments for "${e}" (${t.length} comments)`)}function afe(e,t){let r=B.episodeIds.find(s=>s.url===e&&s.title===t);if(r)return E("info",`Episode with URL ${e} and title ${t} already exists in episodeIds, returning existing episode.`),r;B.episodeNum++;let n={id:B.episodeNum,url:e,title:t};return B.episodeIds.push(n),E("info",`Added to episodeIds: ${JSON.stringify(n)}`),n}function ofe(e){let t=B.episodeIds.length;B.episodeIds=B.episodeIds.filter(n=>n.url!==e);let r=t-B.episodeIds.length;return r>0?(E("info",`Removed ${r} episode(s) from episodeIds with URL: ${e}`),!0):(E("error",`No episode found in episodeIds with URL: ${e}`),!1)}function bA(e){let t=B.episodeIds.find(r=>r.id===e);return t?(E("info",`Found URL for ID ${e}: ${t.url}`),t.url):(E("error",`No URL found for ID: ${e}`),null)}function FO(e){let t=B.episodeIds.find(r=>r.id===e);return t?(E("info",`Found TITLE for ID ${e}: ${t.title}`),t.title):(E("error",`No TITLE found for ID: ${e}`),null)}function et(e){e=Bu.fromJson(e);try{if(!e.links||!Array.isArray(e.links))return E("error",`Invalid or missing links in anime: ${JSON.stringify(e)}`),!1;let t=[];e.links.forEach(s=>{if(s.url){let i=afe(s.url,s.title);i&&t.push(i)}else E("error",`Invalid link in anime, missing url: ${JSON.stringify(s)}`)});let r=Bu.fromJson({...e,links:t}),n=B.animes.findIndex(s=>s.animeId===e.animeId);return n!==-1&&(B.animes.splice(n,1),E("info",`Removed old anime at index: ${n}`)),B.animes.push(r),E("info",`Added anime to latest position: ${e.animeId}`),B.animes.length>B.MAX_ANIMES&&(st()||E("error","Failed to remove earliest anime, but continuing")),E("info",`animes: ${JSON.stringify(B.animes.map(s=>({links:s.links,animeId:s.animeId,bangumiId:s.bangumiId,animeTitle:s.animeTitle})),(s,i)=>s==="links"?i.length:i)}`),!0}catch(t){return E("error",`addAnime failed: ${t.message}`),!1}}function st(){if(B.animes.length===0)return E("error","No animes to remove."),!1;let e=B.animes.shift();return E("info",`Removed earliest anime: ${JSON.stringify(e)}`),e.links&&Array.isArray(e.links)&&e.links.forEach(t=>{t.url&&ofe(t.url)}),!0}function QO(e,t){let r=new Set;for(let a of e)r.add(a.animeId);let n=B.lastSelectMap.get(t),s=n?.prefer,i=n?.source;if(B.lastSelectMap.has(t)&&B.lastSelectMap.delete(t),B.lastSelectMap.set(t,{animeIds:[...r],...s!==void 0&&{prefer:s,source:i}}),B.lastSelectMap.size>B.MAX_LAST_SELECT_MAP){let a=B.lastSelectMap.keys().next().value;B.lastSelectMap.delete(a),E("info",`Removed earliest entry from lastSelectMap: ${a}`)}}function UO(e){for(let t of B.animes)for(let r of t.links)if(r.id===e)return[t.animeId,t.source];return[null,null]}function qO(e,t){for(let[r,n]of B.lastSelectMap.entries())if(n.animeIds&&n.animeIds.includes(e))return n.prefer=e,n.source=t,B.lastSelectMap.set(r,n),r;return null}function jO(e){let t=B.lastSelectMap.get(e);return!t||!t.prefer?[null,null]:[t.prefer,t.source]}function II(e){let r=0;for(let[n,s]of B.requestHistory.entries()){let i=s.filter(a=>e-a<=6e4);i.length===0?(B.requestHistory.delete(n),r++,E("info",`[Rate Limit] Cleaned up expired IP record: ${n}`)):i.length<s.length&&B.requestHistory.set(n,i)}r>0&&E("info",`[Rate Limit] Cleanup completed: removed ${r} expired IP records`)}function CI(){return typeof __dirname<"u"?__dirname:AA.join(process.cwd(),"danmu_api","utils")}function ud(e){let t=AA.join(CI(),"..","..",".cache",`${e}`);if(gA.existsSync(t)){let r=gA.readFileSync(t,"utf8");return JSON.parse(r)}return null}function wI(e,t){let r=AA.join(CI(),"..","..",".cache",`${e}`);gA.writeFileSync(r,JSON.stringify(t),"utf8")}async function HO(){if(!B.localCacheInitialized)try{E("info","getLocalCaches start."),B.animes=JSON.parse(ud("animes"))||B.animes,B.episodeIds=JSON.parse(ud("episodeIds"))||B.episodeIds,B.episodeNum=JSON.parse(ud("episodeNum"))||B.episodeNum,B.reqRecords=JSON.parse(ud("reqRecords"))||B.reqRecords,B.todayReqNum=JSON.parse(ud("todayReqNum"))||B.todayReqNum;let e=ud("lastSelectMap");e&&(B.lastSelectMap=new Map(Object.entries(JSON.parse(e))),E("info",`Restored lastSelectMap from local cache with ${B.lastSelectMap.size} entries`)),B.lastHashes.animes=En(JSON.stringify(B.animes)),B.lastHashes.episodeIds=En(JSON.stringify(B.episodeIds)),B.lastHashes.episodeNum=En(JSON.stringify(B.episodeNum)),B.lastHashes.reqRecords=En(JSON.stringify(B.reqRecords)),B.lastHashes.todayReqNum=En(JSON.stringify(B.todayReqNum)),B.lastHashes.lastSelectMap=En(JSON.stringify(Object.fromEntries(B.lastSelectMap))),B.localCacheInitialized=!0,E("info","getLocalCaches completed successfully.")}catch(e){E("error",`getLocalCaches failed: ${e.message}`,e.stack),B.localCacheInitialized=!0}}async function SI(){try{E("info","updateLocalCaches start.");let e=[],t=[{key:"animes",value:B.animes},{key:"episodeIds",value:B.episodeIds},{key:"episodeNum",value:B.episodeNum},{key:"reqRecords",value:B.reqRecords},{key:"lastSelectMap",value:B.lastSelectMap},{key:"todayReqNum",value:B.todayReqNum}];for(let{key:r,value:n}of t){let s=JSON.stringify(r==="lastSelectMap"?Object.fromEntries(n):n),i=En(s);i!==B.lastHashes[r]&&(wI(r,s),e.push({key:r,hash:i}))}e.length>0?(E("info",`Updated local caches for keys: ${e.map(r=>r.key).join(", ")}`),e.forEach(({key:r,hash:n})=>{B.lastHashes[r]=n})):E("info","No changes detected, skipping local cache update.")}catch(e){E("error",`updateLocalCaches failed: ${e.message}`,e.stack),E("error",`Error details - Name: ${e.name}, Cause: ${e.cause?e.cause.message:"N/A"}`)}}async function zO(e,t){if(t==="node")try{if(gA=await import("fs"),AA=await import("path"),!B.localCacheValid&&e!=="/favicon.ico"&&e!=="/robots.txt"){let r=AA.join(CI(),"..","..",".cache");gA.existsSync(r)?B.localCacheValid=!0:B.localCacheValid=!1}}catch(r){console.warn("Node.js modules not available:",r.message),B.localCacheValid=!1}}var gA,AA,Br=Es(()=>{pt();Ze();Gr();kn()});var pa,JA=Es(()=>{pt();Ze();pa=class{constructor(){}updateLocalEnv(t,r){return typeof B.env<"u"?B.env[t]=r:typeof process<"u"&&(process.env[t]=r),B.reInit(),E("info",`[server] \u2713 Environment variable updated successfully: ${t}`),!0}delLocalEnv(t){return typeof B.env<"u"&&B.env[t]?delete B.env[t]:typeof process<"u"&&process.env?.[t]&&delete process.env[t],B.reInit(),E("info",`[server] \u2713 Environment variable deleted successfully: ${t}`),!0}getAllEnv(){let t=B.originalEnvVars,r=B.envVarConfig,n={};for(let[s,i]of Object.entries(t)){let a=r[s]||{category:"system",type:"text",description:"\u672A\u5206\u7C7B\u914D\u7F6E\u9879"};n[s]={value:i,category:a.category,type:a.type,description:a.description,options:a.options}}return n}getEnv(t){return this.getAllEnv()[t]}async setEnv(t,r){throw new Error("Method 'setEnv' must be implemented")}async addEnv(t,r){throw new Error("Method 'addEnv' must be implemented")}async delEnv(t){throw new Error("Method 'delEnv' must be implemented")}async checkParams(t,r,n){throw new Error("Method 'checkParams' must be implemented")}async deploy(t,r,n){throw new Error("Method 'deploy' must be implemented")}}});var mpe={};On(mpe,{CloudflareHandler:()=>u5});var u5,gpe=Es(()=>{JA();pt();Ze();Dt();u5=class extends pa{API_URL="https://api.cloudflare.com";async _getAllEnvs(t,r,n){let s=`${this.API_URL}/client/v4/accounts/${t}/workers/scripts/${r}/settings`,i={headers:{Authorization:`Bearer ${n}`}},a=await ue(s,i);return a&&a?.data&&a?.data?.result&&a?.data?.result?.bindings?a?.data?.result?.bindings:null}_setEnv(t,r,n){let s=t.findIndex(i=>i.name===r);return n==null?s!==-1&&t.splice(s,1):s!==-1?t[s].text=n:t.push({name:r,text:n,type:"plain_text"}),t}async setEnv(t,r){try{let n=await this._getAllEnvs(B.deployPlatformAccount,B.deployPlatformProject,B.deployPlatformToken);if(n===null){E("error","[server] \u2717 Failed to set environment variable: envs is null");return}let s=`${this.API_URL}/client/v4/accounts/${B.deployPlatformAccount}/workers/scripts/${B.deployPlatformProject}/settings`,i={headers:{Authorization:`Bearer ${B.deployPlatformToken}`}},a=new FormData,o={bindings:this._setEnv(n,t,r==null?null:r.toString())};return a.append("settings",new Blob([JSON.stringify(o)],{type:"application/json"}),"settings.json"),await pI(s,a,i),this.updateLocalEnv(t,r)}catch(n){E("error","[server] \u2717 Failed to set environment variable:",n.message)}}async addEnv(t,r){return await this.setEnv(t,r)}async delEnv(t){return await this.setEnv(t,null),this.delLocalEnv(t)}async checkParams(t,r,n){try{return await this._getAllEnvs(t,r,n),!0}catch(s){return E("error","checkParams failed! accountId, projectId or token is not valid:",s.message),!1}}async deploy(){return E("log","After modifying the environment variables on the cloudflare platform, it will be automatically deployed."),!0}}});var Ape={};On(Ape,{VercelHandler:()=>l5});var l5,ype=Es(()=>{JA();pt();Ze();Dt();l5=class extends pa{API_URL="https://api.vercel.com";async _getAllEnvs(t,r){let n=`${this.API_URL}/v10/projects/${t}/env`,s={headers:{Authorization:`Bearer ${r}`}};return(await ue(n,s)).data.envs}async _getEevId(t){try{let n=(await this._getAllEnvs(B.deployPlatformProject,B.deployPlatformToken)).find(s=>s.key===t);return n||null}catch(r){E("error","[server] \u2717 Failed to _getEevId:",r.message)}}async setEnv(t,r){let n=await this._getEevId(t);if(!n){E("error","[server] Error setEnv: \u6CA1\u6709\u627E\u5230\u5BF9\u5E94\u7684\u73AF\u5883\u53D8\u91CF\uFF01");return}try{let s=`${this.API_URL}/v9/projects/${B.deployPlatformProject}/env/${n.id}`,i={headers:{Authorization:`Bearer ${B.deployPlatformToken}`,"Content-Type":"application/json"}},a={key:t,value:r.toString(),target:n.target,type:n.type};return await pI(s,JSON.stringify(a),i),this.updateLocalEnv(t,r)}catch(s){E("error","[server] \u2717 Failed to set environment variable:",s.message)}}async addEnv(t,r){try{let n=`${this.API_URL}/v10/projects/${B.deployPlatformProject}/env`,s={headers:{Authorization:`Bearer ${B.deployPlatformToken}`,"Content-Type":"application/json"}},i={key:t,value:r.toString(),target:["production","preview","development"],type:"encrypted"};return await sr(n,JSON.stringify(i),s),this.updateLocalEnv(t,r)}catch(n){E("error","[server] \u2717 Failed to add environment variable:",n.message)}}async delEnv(t){let r=await this._getEevId(t);if(!r){E("error","[server] Error setEnv: \u6CA1\u6709\u627E\u5230\u5BF9\u5E94\u7684\u73AF\u5883\u53D8\u91CF\uFF01");return}try{let n=`${this.API_URL}/v9/projects/${B.deployPlatformProject}/env/${r.id}`,s={headers:{Authorization:`Bearer ${B.deployPlatformToken}`,"Content-Type":"application/json"}};return await hI(n,s),this.delLocalEnv(t)}catch(n){E("error","[server] \u2717 Failed to add environment variable:",n.message)}}async checkParams(t,r,n){try{return await this._getAllEnvs(r,n),!0}catch(s){return E("error","checkParams failed! projectId or token is not valid:",s.message),!1}}async deploy(){try{let t=`${this.API_URL}/v6/deployments?projectId=${B.deployPlatformProject}&limit=1`,r={headers:{Authorization:`Bearer ${B.deployPlatformToken}`}},n=await ue(t,r),s;if(n?.data&&n?.data?.deployments&&n?.data?.deployments.length>0)s=n.data.deployments[0].uid;else return E("error","[server] \u2717 Failed to deploy:",JSON.stringify(n?.data)),!1;let i=`${this.API_URL}/v13/deployments`,a={headers:{Authorization:`Bearer ${B.deployPlatformToken}`,"Content-Type":"application/json"}},o={name:B.deployPlatformProject,deploymentId:s,target:"production"},c=await sr(i,JSON.stringify(o),a);return c?.data?.id?!0:(E("error","[server] \u2717 Failed to deploy:",JSON.stringify(c?.data)),!1)}catch(t){return E("error","[server] \u2717 Failed to deploy:",t.message),!1}}}});var bpe={};On(bpe,{NetlifyHandler:()=>d5});var d5,Epe=Es(()=>{JA();pt();Ze();Dt();d5=class extends pa{API_URL="https://api.netlify.com";async _getAllEnvs(t,r,n){let s=`${this.API_URL}/api/v1/accounts/${t}/env?site_id=${r}`,i={headers:{Authorization:`Bearer ${n}`}};return await ue(s,i)}async setEnv(t,r){try{let n=`${this.API_URL}/api/v1/accounts/${B.deployPlatformAccount}/env/${t}?site_id=${B.deployPlatformProject}`,s={headers:{Authorization:`Bearer ${B.deployPlatformToken}`,"Content-Type":"application/json"}},i={key:t,values:[{context:"all",value:r.toString()}]};return await Fde(n,JSON.stringify(i),s),this.updateLocalEnv(t,r)}catch(n){E("error","[server] \u2717 Failed to set environment variable:",n.message)}}async addEnv(t,r){try{let n=`${this.API_URL}/api/v1/accounts/${B.deployPlatformAccount}/env?site_id=${B.deployPlatformProject}`,s={headers:{Authorization:`Bearer ${B.deployPlatformToken}`,"Content-Type":"application/json"}};return await sr(n,JSON.stringify([{key:t,values:[{context:"all",value:r}]}]),s),this.updateLocalEnv(t,r)}catch(n){E("error","[server] \u2717 Failed to add environment variable:",n.message)}}async delEnv(t){try{let r=`${this.API_URL}/api/v1/accounts/${B.deployPlatformAccount}/env/${t}?site_id=${B.deployPlatformProject}`,n={headers:{Authorization:`Bearer ${B.deployPlatformToken}`,"Content-Type":"application/json"}};return await hI(r,n),this.delLocalEnv(t)}catch(r){E("error","[server] \u2717 Failed to add environment variable:",r.message)}}async checkParams(t,r,n){try{return await this._getAllEnvs(t,r,n),!0}catch(s){return E("error","checkParams failed! accountId, projectId or token is not valid:",s.message),!1}}async deploy(){try{let t=`${this.API_URL}/api/v1/sites/${B.deployPlatformProject}/builds`,r={headers:{Authorization:`Bearer ${B.deployPlatformToken}`,"Content-Type":"application/json"}},s=await sr(t,JSON.stringify({}),r);return s?.data?.id?!0:(E("error","[server] \u2717 Failed to deploy:",JSON.stringify(s?.data)),!1)}catch(t){return E("error","[server] \u2717 Failed to deploy:",t.message),!1}}}});var xpe={};On(xpe,{EdgeoneHandler:()=>f5});var f5,vpe=Es(()=>{JA();pt();Ze();Dt();f5=class extends pa{API_URL="https://pages-api.cloud.tencent.com/v1";async _httpPost(t,r){let n=`${this.API_URL}`,s={headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}};return await sr(n,JSON.stringify(r),s)}async _getAllEnvs(t,r){let n={Action:"ModifyPagesProjectEnvs",ProjectId:t},s=await this._httpPost(r,n);if(s?.data?.Code!==0)return null;let i=s?.data.Data?.Response?.EnvVars??[];return Object.fromEntries(i.map(({Key:a,Value:o})=>[a,o]))}async setEnv(t,r){try{let n={Action:"ModifyPagesProjectEnvs",ProjectId:B.deployPlatformProject,EnvVars:[{Key:t,Value:r.toString()}]};return await this._httpPost(B.deployPlatformToken,n),this.updateLocalEnv(t,r)}catch(n){E("error","[server] \u2717 Failed to set environment variable:",n.message)}}async addEnv(t,r){return await this.setEnv(t,r)}async delEnv(t){try{let r={Action:"DeletePagesProjectEnvs",ProjectId:B.deployPlatformProject,EnvVars:[t]};return await this._httpPost(B.deployPlatformToken,r),this.delLocalEnv(t)}catch(r){E("error","[server] \u2717 Failed to del environment variable:",r.message)}}async checkParams(t,r,n){try{return await this._getAllEnvs(r,n),!0}catch(s){return E("error","checkParams failed! accountId, projectId or token is not valid:",s.message),!1}}async deploy(){try{let t={Action:"CreatePagesDeployment",ProjectId:B.deployPlatformProject,RepoBranch:"main",ViaMeta:"Github",Provider:"Github"},r=await this._httpPost(B.deployPlatformToken,t);return r?.data?.Code!==0?(E("error","[server] \u2717 Failed to deploy:",JSON.stringify(r?.data)),!1):!0}catch(t){return E("error","[server] \u2717 Failed to deploy:",t.message),!1}}}});var P$=I((k$,D$)=>{(function(e,t){typeof k$=="object"&&typeof D$<"u"?D$.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).dayjs=t()})(k$,function(){"use strict";var e=1e3,t=6e4,r=36e5,n="millisecond",s="second",i="minute",a="hour",o="day",c="week",u="month",l="quarter",d="year",f="date",h="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,A={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(N){var D=["th","st","nd","rd"],k=N%100;return"["+N+(D[(k-20)%10]||D[k]||D[0])+"]"}},g=function(N,D,k){var q=String(N);return!q||q.length>=D?N:""+Array(D+1-q.length).join(k)+N},x={s:g,z:function(N){var D=-N.utcOffset(),k=Math.abs(D),q=Math.floor(k/60),j=k%60;return(D<=0?"+":"-")+g(q,2,"0")+":"+g(j,2,"0")},m:function N(D,k){if(D.date()<k.date())return-N(k,D);var q=12*(k.year()-D.year())+(k.month()-D.month()),j=D.clone().add(q,u),G=k-j<0,J=D.clone().add(q+(G?-1:1),u);return+(-(q+(k-j)/(G?j-J:J-j))||0)},a:function(N){return N<0?Math.ceil(N)||0:Math.floor(N)},p:function(N){return{M:u,y:d,w:c,d:o,D:f,h:a,m:i,s,ms:n,Q:l}[N]||String(N||"").toLowerCase().replace(/s$/,"")},u:function(N){return N===void 0}},y="en",b={};b[y]=A;var _="$isDayjsObject",C=function(N){return N instanceof R||!(!N||!N[_])},w=function N(D,k,q){var j;if(!D)return y;if(typeof D=="string"){var G=D.toLowerCase();b[G]&&(j=G),k&&(b[G]=k,j=G);var J=D.split("-");if(!j&&J.length>1)return N(J[0])}else{var Q=D.name;b[Q]=D,j=Q}return!q&&j&&(y=j),j||!q&&y},S=function(N,D){if(C(N))return N.clone();var k=typeof D=="object"?D:{};return k.date=N,k.args=arguments,new R(k)},T=x;T.l=w,T.i=C,T.w=function(N,D){return S(N,{locale:D.$L,utc:D.$u,x:D.$x,$offset:D.$offset})};var R=function(){function N(k){this.$L=w(k.locale,null,!0),this.parse(k),this.$x=this.$x||k.x||{},this[_]=!0}var D=N.prototype;return D.parse=function(k){this.$d=function(q){var j=q.date,G=q.utc;if(j===null)return new Date(NaN);if(T.u(j))return new Date;if(j instanceof Date)return new Date(j);if(typeof j=="string"&&!/Z$/i.test(j)){var J=j.match(p);if(J){var Q=J[2]-1||0,te=(J[7]||"0").substring(0,3);return G?new Date(Date.UTC(J[1],Q,J[3]||1,J[4]||0,J[5]||0,J[6]||0,te)):new Date(J[1],Q,J[3]||1,J[4]||0,J[5]||0,J[6]||0,te)}}return new Date(j)}(k),this.init()},D.init=function(){var k=this.$d;this.$y=k.getFullYear(),this.$M=k.getMonth(),this.$D=k.getDate(),this.$W=k.getDay(),this.$H=k.getHours(),this.$m=k.getMinutes(),this.$s=k.getSeconds(),this.$ms=k.getMilliseconds()},D.$utils=function(){return T},D.isValid=function(){return this.$d.toString()!==h},D.isSame=function(k,q){var j=S(k);return this.startOf(q)<=j&&j<=this.endOf(q)},D.isAfter=function(k,q){return S(k)<this.startOf(q)},D.isBefore=function(k,q){return this.endOf(q)<S(k)},D.$g=function(k,q,j){return T.u(k)?this[q]:this.set(j,k)},D.unix=function(){return Math.floor(this.valueOf()/1e3)},D.valueOf=function(){return this.$d.getTime()},D.startOf=function(k,q){var j=this,G=!!T.u(q)||q,J=T.p(k),Q=function(xe,ge){var O=T.w(j.$u?Date.UTC(j.$y,ge,xe):new Date(j.$y,ge,xe),j);return G?O:O.endOf(o)},te=function(xe,ge){return T.w(j.toDate()[xe].apply(j.toDate("s"),(G?[0,0,0,0]:[23,59,59,999]).slice(ge)),j)},ne=this.$W,ee=this.$M,ie=this.$D,Ee="set"+(this.$u?"UTC":"");switch(J){case d:return G?Q(1,0):Q(31,11);case u:return G?Q(1,ee):Q(0,ee+1);case c:var ve=this.$locale().weekStart||0,Ie=(ne<ve?ne+7:ne)-ve;return Q(G?ie-Ie:ie+(6-Ie),ee);case o:case f:return te(Ee+"Hours",0);case a:return te(Ee+"Minutes",1);case i:return te(Ee+"Seconds",2);case s:return te(Ee+"Milliseconds",3);default:return this.clone()}},D.endOf=function(k){return this.startOf(k,!1)},D.$set=function(k,q){var j,G=T.p(k),J="set"+(this.$u?"UTC":""),Q=(j={},j[o]=J+"Date",j[f]=J+"Date",j[u]=J+"Month",j[d]=J+"FullYear",j[a]=J+"Hours",j[i]=J+"Minutes",j[s]=J+"Seconds",j[n]=J+"Milliseconds",j)[G],te=G===o?this.$D+(q-this.$W):q;if(G===u||G===d){var ne=this.clone().set(f,1);ne.$d[Q](te),ne.init(),this.$d=ne.set(f,Math.min(this.$D,ne.daysInMonth())).$d}else Q&&this.$d[Q](te);return this.init(),this},D.set=function(k,q){return this.clone().$set(k,q)},D.get=function(k){return this[T.p(k)]()},D.add=function(k,q){var j,G=this;k=Number(k);var J=T.p(q),Q=function(ee){var ie=S(G);return T.w(ie.date(ie.date()+Math.round(ee*k)),G)};if(J===u)return this.set(u,this.$M+k);if(J===d)return this.set(d,this.$y+k);if(J===o)return Q(1);if(J===c)return Q(7);var te=(j={},j[i]=t,j[a]=r,j[s]=e,j)[J]||1,ne=this.$d.getTime()+k*te;return T.w(ne,this)},D.subtract=function(k,q){return this.add(-1*k,q)},D.format=function(k){var q=this,j=this.$locale();if(!this.isValid())return j.invalidDate||h;var G=k||"YYYY-MM-DDTHH:mm:ssZ",J=T.z(this),Q=this.$H,te=this.$m,ne=this.$M,ee=j.weekdays,ie=j.months,Ee=j.meridiem,ve=function(ge,O,L,U){return ge&&(ge[O]||ge(q,G))||L[O].slice(0,U)},Ie=function(ge){return T.s(Q%12||12,ge,"0")},xe=Ee||function(ge,O,L){var U=ge<12?"AM":"PM";return L?U.toLowerCase():U};return G.replace(m,function(ge,O){return O||function(L){switch(L){case"YY":return String(q.$y).slice(-2);case"YYYY":return T.s(q.$y,4,"0");case"M":return ne+1;case"MM":return T.s(ne+1,2,"0");case"MMM":return ve(j.monthsShort,ne,ie,3);case"MMMM":return ve(ie,ne);case"D":return q.$D;case"DD":return T.s(q.$D,2,"0");case"d":return String(q.$W);case"dd":return ve(j.weekdaysMin,q.$W,ee,2);case"ddd":return ve(j.weekdaysShort,q.$W,ee,3);case"dddd":return ee[q.$W];case"H":return String(Q);case"HH":return T.s(Q,2,"0");case"h":return Ie(1);case"hh":return Ie(2);case"a":return xe(Q,te,!0);case"A":return xe(Q,te,!1);case"m":return String(te);case"mm":return T.s(te,2,"0");case"s":return String(q.$s);case"ss":return T.s(q.$s,2,"0");case"SSS":return T.s(q.$ms,3,"0");case"Z":return J}return null}(ge)||J.replace(":","")})},D.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},D.diff=function(k,q,j){var G,J=this,Q=T.p(q),te=S(k),ne=(te.utcOffset()-this.utcOffset())*t,ee=this-te,ie=function(){return T.m(J,te)};switch(Q){case d:G=ie()/12;break;case u:G=ie();break;case l:G=ie()/3;break;case c:G=(ee-ne)/6048e5;break;case o:G=(ee-ne)/864e5;break;case a:G=ee/r;break;case i:G=ee/t;break;case s:G=ee/e;break;default:G=ee}return j?G:T.a(G)},D.daysInMonth=function(){return this.endOf(u).$D},D.$locale=function(){return b[this.$L]},D.locale=function(k,q){if(!k)return this.$L;var j=this.clone(),G=w(k,q,!0);return G&&(j.$L=G),j},D.clone=function(){return T.w(this.$d,this)},D.toDate=function(){return new Date(this.valueOf())},D.toJSON=function(){return this.isValid()?this.toISOString():null},D.toISOString=function(){return this.$d.toISOString()},D.toString=function(){return this.$d.toUTCString()},N}(),P=R.prototype;return S.prototype=P,[["$ms",n],["$s",s],["$m",i],["$H",a],["$W",o],["$M",u],["$y",d],["$D",f]].forEach(function(N){P[N[1]]=function(D){return this.$g(D,N[0],N[1])}}),S.extend=function(N,D){return N.$i||(N(D,R,S),N.$i=!0),S},S.locale=w,S.isDayjs=C,S.unix=function(N){return S(1e3*N)},S.en=b[y],S.Ls=b,S.p={},S})});var W0e=I(vd=>{"use strict";Object.defineProperty(vd,"__esModule",{value:!0});vd.removeTrailingChar=vd.merge=void 0;var sct=(...e)=>{let t={};return e.forEach(function(r){var n;for(n in r)n in t&&t[n]===null?t[n]=r[n]:n in t&&Array.isArray(t[n])?t[n]=t[n].concat(r[n]):n in t&&typeof t[n]=="object"?t[n]=(0,vd.merge)(t[n],r[n]):t[n]=r[n]}),t};vd.merge=sct;var ict=(e,t)=>e.length>1&&e.endsWith(t)?e.substring(0,e.length-1):e;vd.removeTrailingChar=ict});var c0=I($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.DataError=$u.DatabaseError=$u.NestedError=void 0;var oy=class extends Error{inner;id;constructor(t,r,n){super(t),this.inner=n,this.id=r,this.name=this.constructor.name}toString(){let t=this.name+": "+this.message;return this.inner?t+`:
`+this.inner:t}};$u.NestedError=oy;var s8=class extends oy{};$u.DatabaseError=s8;var i8=class extends oy{};$u.DataError=i8});var l8=I(bs=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});bs.getArrayIndicies=bs.validateArrayIndex=bs.validateArrayIndicies=bs.isInt=bs.ArrayInfo=bs.arrayRegex=void 0;var u2=c0(),act=()=>/^([\.0-9a-zA-Z_$\-][0-9a-zA-Z_\-$\.]*)\[((?!(\]|\[)).*|)\]$/gm;bs.arrayRegex=act;var a8={},o8=class e{property;index=0;append=!1;indicies=[];constructor(t,r){this.property=t;let n=r[0]??0;if(this.append=n===""||r[r.length-1]==="",this.indicies=r,c8(n))this.index=parseInt(n);else if(!this.append)throw new u2.DataError("Only numerical values accepted for array index",200)}static processArray(t){if(typeof t>"u")return null;if(a8[t])return a8[t];let n=(0,bs.arrayRegex)().exec(t.trim());if(n!=null){let s=n[1],i="["+n[2].toString()+"]",a=u8(i);return J0e(a),a8[t]=new e(s,a)}return null}getIndex(t,r){if(this.append)return-1;let n=this.index;if(n==-1){let s=r?t:t[this.property];return s.length===0?0:s.length-1}return n}getData(t){if(this.append)throw new u2.DataError("Can't get data when appending",100);let{index:r,dataForProperty:n}=this.getArrayDataAndIndexFromProperty(t);return n[r]}setData(t,r){if(this.append){let n=t[this.property];this.indicies.forEach(s=>{s!==""&&(s=+s,s===-1&&(s=n.length-1),n=n[+s])}),n.push(r)}else{let{index:n,dataForProperty:s}=this.getArrayDataAndIndexFromProperty(t);n===-1?s.push(r):s[n]=r}}delete(t){if(this.append)throw new u2.DataError("Can't delete an appended data",10);let{index:r,dataForProperty:n}=this.getArrayDataAndIndexFromProperty(t);n.splice(r,1)}isValid(t){let{index:r,dataForProperty:n}=this.getArrayDataAndIndexFromProperty(t);return n.hasOwnProperty(r)}getArrayDataAndIndexFromProperty(t){let r=0,n=t instanceof Array?t:t[this.property]??t;if(this.indicies.length>0){r=+this.indicies[this.indicies.length-1];for(let s=0;s<this.indicies.length-1;s++){let i=+this.indicies[s];i===-1&&(i=n.length-1),n=n[i]}r===-1&&(r=n.length-1)}return{index:r,dataForProperty:n}}isMultiDimensional(){return this.indicies.length>1}};bs.ArrayInfo=o8;function c8(e){return!isNaN(e)&&Number(e)==e&&!isNaN(parseInt(e,10))}bs.isInt=c8;function J0e(e){let t=e.filter(r=>r==="");if(t.length>1)throw Error("Only one append index is supported for nested arrays");if(t.length===1&&e[e.length-1]!=="")throw Error("Append index must be at the end of the nested array")}bs.validateArrayIndicies=J0e;function X0e(e){if(e.length!==0&&!c8(e))throw new u2.DataError("Only numerical values accepted for array index",200)}bs.validateArrayIndex=X0e;function u8(e){if(e.length===0)return[];if(e.charAt(0)!=="[")throw new Error("Invalid array syntax detected");let t=e.substring(1,e.indexOf("]"));X0e(t);let r=t.length+2;return[t,...u8(e.substring(r))]}bs.getArrayIndicies=u8});var the=I(l2=>{"use strict";Object.defineProperty(l2,"__esModule",{value:!0});l2.DBParentData=void 0;var Z0e=l8(),ehe=c0(),d8=class{parent;data;db;dataPath;constructor(t,r,n,s){this.parent=s,this.data=t,this.db=r,this.dataPath=n}checkArray(t=!1){let r=Z0e.ArrayInfo.processArray(this.parent);if(r&&(!r.append||t)&&!r.isValid(this.data))throw new ehe.DataError("DataPath: /"+this.dataPath+". Can't find index "+r.index+" in array "+r.property,10);return r}getData(){if(this.parent===void 0)return this.data;let t=this.checkArray();return t?t.getData(this.data):this.data[this.parent]}setData(t){if(this.parent===void 0){this.db.resetData(t);return}let r=Z0e.ArrayInfo.processArray(this.parent);if(r){if(!this.data.hasOwnProperty(r.property))this.data[r.property]=[];else if(!Array.isArray(this.data[r.property]))throw new ehe.DataError("DataPath: /"+this.dataPath+". "+r.property+" is not an array.",11);r.setData(this.data,t)}else this.data[this.parent]=t}delete(){if(this.parent===void 0){this.db.resetData({});return}let t=this.checkArray(!0);t?t.delete(this.data):delete this.data[this.parent]}};l2.DBParentData=d8});var nhe=I((vkt,rhe)=>{rhe.exports=function(){"use strict";function e(){this.readers=0,this.queue=[]}function t(i,a,o){var c;typeof i!="function"?(s.hasOwnProperty(i)||(s[i]=new e),c=s[i]):(o=a,a=i,c=n),o||(o={});var u=null;o.hasOwnProperty("scope")&&(u=o.scope);var l=function(){var h=!1;return function(){h||(h=!0,c.readers--,c.queue.length&&c.queue[0]())}}();if(c.readers<0||c.queue.length){var d=!1;if(c.queue.push(function(){!d&&c.readers>=0&&(d=!0,c.queue.shift(),c.readers++,a.call(u,l),c.queue.length&&c.queue[0]())}),o.hasOwnProperty("timeout")){var f=null;o.hasOwnProperty("timeoutCallback")&&(f=o.timeoutCallback),setTimeout(function(){d||(d=!0,c.queue.shift(),f&&f.call(o.scope))},o.timeout)}}else c.readers++,a.call(o.scope,l)}function r(i,a,o){var c;typeof i!="function"?(s.hasOwnProperty(i)||(s[i]=new e),c=s[i]):(o=a,a=i,c=n),o||(o={});var u=null;o.hasOwnProperty("scope")&&(u=o.scope);var l=function(){var h=!1;return function(){h||(h=!0,c.readers=0,c.queue.length&&c.queue[0]())}}();if(c.readers||c.queue.length){var d=!1;if(c.queue.push(function(){d||c.readers||(d=!0,c.queue.shift(),c.readers=-1,a.call(o.scope,l))}),o.hasOwnProperty("timeout")){var f=null;o.hasOwnProperty("timeoutCallback")&&(f=o.timeoutCallback),setTimeout(function(){d||(d=!0,c.queue.shift(),f&&f.call(u))},o.timeout)}}else c.readers=-1,a.call(o.scope,l)}var n=new e,s={};this.readLock=t,this.writeLock=r,this.async={readLock:function(i,a,o){typeof i!="function"?t(i,function(c){a.call(this,null,c)},o):(a=i,o=a,t(function(c){a.call(this,null,c)},o))},writeLock:function(i,a,o){typeof i!="function"?r(i,function(c){a.call(this,null,c)},o):(a=i,o=a,r(function(c){a.call(this,null,c)},o))}}}});var she=I(d2=>{"use strict";Object.defineProperty(d2,"__esModule",{value:!0});d2.TimeoutError=void 0;var oct=c0(),f8=class extends oct.NestedError{};d2.TimeoutError=f8});var ohe=I(u0=>{"use strict";Object.defineProperty(u0,"__esModule",{value:!0});u0.writeLockAsync=u0.readLockAsync=void 0;var cct=nhe(),ihe=she(),ahe=new cct,uct=(e,t=null)=>{let r={};return t!=null&&(r={timeout:t}),new Promise((n,s)=>{ahe.readLock(async i=>{try{let a=await e();n(a)}catch(a){s(a)}finally{i()}},{...r,timeoutCallback(){s(new ihe.TimeoutError("Timeout",100))}})})};u0.readLockAsync=uct;var lct=(e,t=null)=>{let r={};return t!=null&&(r={timeout:t}),new Promise((n,s)=>{ahe.writeLock(async i=>{try{let a=await e();n(a)}catch(a){s(a)}finally{i()}},{...r,timeoutCallback(){s(new ihe.TimeoutError("Timeout",100))}})})};u0.writeLockAsync=lct});var h8=I(f2=>{"use strict";Object.defineProperty(f2,"__esModule",{value:!0});f2.JsonAdapter=void 0;var p8=class{adapter;humanReadable;dateRegex=new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}","m");constructor(t,r=!1){this.adapter=t,this.humanReadable=r}replacer(t,r){return r}reviver(t,r){return typeof r=="string"&&this.dateRegex.exec(r)!=null?new Date(r):r}async readAsync(){let t=await this.adapter.readAsync();return t==null?(await this.writeAsync({}),{}):JSON.parse(t,this.reviver.bind(this))}writeAsync(t){let r="";return this.humanReadable?r=JSON.stringify(t,this.replacer.bind(this),4):r=JSON.stringify(t,this.replacer.bind(this)),this.adapter.writeAsync(r)}};f2.JsonAdapter=p8});var g8=I(h2=>{"use strict";Object.defineProperty(h2,"__esModule",{value:!0});h2.FileAdapter=void 0;var p2=require("fs/promises"),dct=require("path"),m8=class{filename;fsync;constructor(t,r){this.filename=t,this.fsync=r}async readAsync(){try{return await(0,p2.readFile)(this.filename,{encoding:"utf-8"})}catch(t){if(t.code==="ENOENT")return null;throw t}}async writeAsync(t){let r=null;try{r=await(0,p2.open)(this.filename,"w")}catch(n){if(n.code!=="ENOENT")throw n;let s=dct.dirname(this.filename);await(0,p2.mkdir)(s,{recursive:!0}),r=await(0,p2.open)(this.filename,"w")}try{await r.writeFile(t,{encoding:"utf-8"}),this.fsync&&await r.sync()}finally{await r.close()}}};h2.FileAdapter=m8});var che=I(l0=>{"use strict";Object.defineProperty(l0,"__esModule",{value:!0});l0.ConfigWithAdapter=l0.Config=void 0;var fct=require("path"),pct=h8(),hct=g8(),A8=class{adapter;filename;saveOnPush;separator;constructor(t,r=!0,n=!1,s="/",i=!1){this.filename=t,fct.extname(t)===""&&(this.filename+=".json"),this.saveOnPush=r,this.separator=s,this.adapter=new pct.JsonAdapter(new hct.FileAdapter(this.filename,i),n)}};l0.Config=A8;var y8=class{adapter;saveOnPush;separator;constructor(t,r=!0,n="/"){this.adapter=t,this.saveOnPush=r,this.separator=n}};l0.ConfigWithAdapter=y8});var fhe=I(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.JsonDB=ss.FileAdapter=ss.JsonAdapter=ss.DataError=ss.DatabaseError=ss.ConfigWithAdapter=ss.Config=void 0;var uhe=W0e(),ns=c0(),mct=the(),gct=l8(),b8=ohe(),lhe=che();Object.defineProperty(ss,"Config",{enumerable:!0,get:function(){return lhe.Config}});Object.defineProperty(ss,"ConfigWithAdapter",{enumerable:!0,get:function(){return lhe.ConfigWithAdapter}});var dhe=c0();Object.defineProperty(ss,"DatabaseError",{enumerable:!0,get:function(){return dhe.DatabaseError}});Object.defineProperty(ss,"DataError",{enumerable:!0,get:function(){return dhe.DataError}});var Act=h8();Object.defineProperty(ss,"JsonAdapter",{enumerable:!0,get:function(){return Act.JsonAdapter}});var yct=g8();Object.defineProperty(ss,"FileAdapter",{enumerable:!0,get:function(){return yct.FileAdapter}});var E8=class{loaded=!1;data={};config;constructor(t){this.config=t}processDataPath(t){if(t===void 0||!t.trim())throw new ns.DataError("The Data Path can't be empty",6);if(t==this.config.separator)return[];t=(0,uhe.removeTrailingChar)(t,this.config.separator);let r=t.split(this.config.separator);return r.shift(),r}async retrieveData(t,r=!1){await this.load();let n=this,s=(i,a)=>{let o=t[a];function c(l=!1){if(i.hasOwnProperty(o))i=i[o];else if(r)l?i[o]=[]:i[o]={},i=i[o];else throw new ns.DataError(`Can't find dataPath: ${n.config.separator}${t.join(n.config.separator)}. Stopped at ${o}`,5)}let u=gct.ArrayInfo.processArray(o);if(u){if(o=u.property,c(!0),!Array.isArray(i))throw new ns.DataError(`DataPath: ${n.config.separator}${t.join(n.config.separator)}. ${o} is not an array.`,11);let l=u.getIndex(i,!0);if(!u.append&&i.hasOwnProperty(l))i=u.getData(i);else if(r)u.append?(i.push({}),i=i[i.length-1]):(i[l]={},i=i[l]);else throw new ns.DataError(`DataPath: ${n.config.separator}${t.join(n.config.separator)}. . Can't find index ${u.index} in array ${o}`,10)}else c();return t.length==++a?i:s(i,a)};return t.length===0?this.data:s(this.data,0)}async getParentData(t,r){let n=this.processDataPath(t),s=n.pop();return new mct.DBParentData(await this.retrieveData(n,r),this,t,s)}getData(t){return(0,b8.readLockAsync)(async()=>{let r=this.processDataPath(t);return this.retrieveData(r,!1)})}getObject(t){return this.getData(t)}async getObjectDefault(t,r){try{return await this.getData(t)}catch(n){if(!(n instanceof ns.DataError)||n.id!=5)throw n;return r}}async exists(t){try{return await this.getData(t),!0}catch(r){if(r instanceof ns.DataError)return!1;throw r}}async count(t){let r=await this.getData(t);if(!Array.isArray(r))throw new ns.DataError(`DataPath: ${t} is not an array.`,11);let n=this.processDataPath(t);return(await this.retrieveData(n,!1)).length}async getIndex(t,r,n="id"){return(await this.getArrayData(t)).map(function(i){return i[n]}).indexOf(r)}async getIndexValue(t,r){return(await this.getArrayData(t)).indexOf(r)}async getArrayData(t){let r=await this.getData(t);if(!Array.isArray(r))throw new ns.DataError(`DataPath: ${t} is not an array.`,11);let n=this.processDataPath(t);return this.retrieveData(n,!1)}async filter(t,r){let n=await this.getData(t);if(Array.isArray(n))return n.filter(r);if(n instanceof Object){let i=Object.entries(n).filter(a=>r(a[1],a[0]));return!i||i.length<1?void 0:i.map(a=>a[1])}throw new ns.DataError("The entry at the path ("+t+") needs to be either an Object or an Array",12)}async find(t,r){let n=await this.getData(t);if(Array.isArray(n))return n.find(r);if(n instanceof Object){let i=Object.entries(n).find(a=>r(a[1],a[0]));return!i||i.length<2?void 0:i[1]}throw new ns.DataError("The entry at the path ("+t+") needs to be either an Object or an Array",12)}async push(t,r,n=!0){return(0,b8.writeLockAsync)(async()=>{let s=await this.getParentData(t,!0),i=r;if(!n){if(Array.isArray(r)){let a=s.getData();if(a===void 0)a=[];else if(!Array.isArray(a))throw new ns.DataError("Can't merge another type of data with an Array",3);i=a.concat(r)}else if(r===Object(r)){if(Array.isArray(s.getData()))throw new ns.DataError("Can't merge an Array with an Object",4);i=(0,uhe.merge)(s.getData(),r)}}s.setData(i),this.config.saveOnPush&&await this.save()})}async delete(t){await(0,b8.writeLockAsync)(async()=>{(await this.getParentData(t,!0)).delete(),this.config.saveOnPush&&await this.save()})}resetData(t){this.data=t}async reload(){this.loaded=!1,await this.load()}async load(){if(!this.loaded)try{this.data=await this.config.adapter.readAsync(),this.loaded=!0}catch(t){throw new ns.DatabaseError("Can't Load Database",1,t)}}async save(t){if(t=t||!1,!t&&!this.loaded)throw new ns.DatabaseError("DataBase not loaded. Can't write",7);try{await this.config.adapter.writeAsync(this.data)}catch(r){throw new ns.DatabaseError("Can't save the database",2,r)}}async fromPath(t,r="id"){let[,...n]=t.split("/"),s=n.reduce((a,o,c)=>{if(c%2===0)a[`${o}`]="";else{let l=Object.keys(a);a[`${l[l.length-1]}`]=`${o}`}return a},{}),i=[];for await(let a of Object.keys(s)){i.push(`/${a}`);let o=s[a];try{let c=await this.getIndex(i.join(""),o,r);i.push(`[${c}]`)}catch(c){throw new ns.DataError(`DataPath: ${i.join("")}/${o} not found.`,13,c)}}return i.join("")}};ss.JsonDB=E8});var Pct={};On(Pct,{start:()=>kct,stop:()=>Dct});module.exports=khe(Pct);var Ihe=ke(tee(),1);function zm(e,t){return function(){return e.apply(t,arguments)}}var{toString:Fqe}=Object.prototype,{getPrototypeOf:ok}=Object,bx=(e=>t=>{let r=Fqe.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ua=e=>(e=e.toLowerCase(),t=>bx(t)===e),Ex=e=>t=>typeof t===e,{isArray:Zf}=Array,Gm=Ex("undefined");function Qqe(e){return e!==null&&!Gm(e)&&e.constructor!==null&&!Gm(e.constructor)&&Ii(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}var see=Ua("ArrayBuffer");function Uqe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&see(e.buffer),t}var qqe=Ex("string"),Ii=Ex("function"),iee=Ex("number"),xx=e=>e!==null&&typeof e=="object",jqe=e=>e===!0||e===!1,yx=e=>{if(bx(e)!=="object")return!1;let t=ok(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Hqe=Ua("Date"),zqe=Ua("File"),Gqe=Ua("Blob"),Vqe=Ua("FileList"),Kqe=e=>xx(e)&&Ii(e.pipe),Yqe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ii(e.append)&&((t=bx(e))==="formdata"||t==="object"&&Ii(e.toString)&&e.toString()==="[object FormData]"))},Wqe=Ua("URLSearchParams"),Jqe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Vm(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Zf(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{let i=r?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length,o;for(n=0;n<a;n++)o=i[n],t.call(null,e[o],o,e)}}function aee(e,t){t=t.toLowerCase();let r=Object.keys(e),n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}var oee=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,cee=e=>!Gm(e)&&e!==oee;function ak(){let{caseless:e}=cee(this)&&this||{},t={},r=(n,s)=>{let i=e&&aee(t,s)||s;yx(t[i])&&yx(n)?t[i]=ak(t[i],n):yx(n)?t[i]=ak({},n):Zf(n)?t[i]=n.slice():t[i]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&Vm(arguments[n],r);return t}var Xqe=(e,t,r,{allOwnKeys:n}={})=>(Vm(t,(s,i)=>{r&&Ii(s)?e[i]=zm(s,r):e[i]=s},{allOwnKeys:n}),e),Zqe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),eje=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},tje=(e,t,r,n)=>{let s,i,a,o={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)a=s[i],(!n||n(a,e,t))&&!o[a]&&(t[a]=e[a],o[a]=!0);e=r!==!1&&ok(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},rje=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;let n=e.indexOf(t,r);return n!==-1&&n===r},nje=e=>{if(!e)return null;if(Zf(e))return e;let t=e.length;if(!iee(t))return null;let r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},sje=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ok(Uint8Array)),ije=(e,t)=>{let n=(e&&e[Symbol.iterator]).call(e),s;for(;(s=n.next())&&!s.done;){let i=s.value;t.call(e,i[0],i[1])}},aje=(e,t)=>{let r,n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},oje=Ua("HTMLFormElement"),cje=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),ree=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),uje=Ua("RegExp"),uee=(e,t)=>{let r=Object.getOwnPropertyDescriptors(e),n={};Vm(r,(s,i)=>{let a;(a=t(s,i,e))!==!1&&(n[i]=a||s)}),Object.defineProperties(e,n)},lje=e=>{uee(e,(t,r)=>{if(Ii(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;let n=e[r];if(Ii(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},dje=(e,t)=>{let r={},n=s=>{s.forEach(i=>{r[i]=!0})};return Zf(e)?n(e):n(String(e).split(t)),r},fje=()=>{},pje=(e,t)=>(e=+e,Number.isFinite(e)?e:t),ik="abcdefghijklmnopqrstuvwxyz",nee="0123456789",lee={DIGIT:nee,ALPHA:ik,ALPHA_DIGIT:ik+ik.toUpperCase()+nee},hje=(e=16,t=lee.ALPHA_DIGIT)=>{let r="",{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r};function mje(e){return!!(e&&Ii(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}var gje=e=>{let t=new Array(10),r=(n,s)=>{if(xx(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[s]=n;let i=Zf(n)?[]:{};return Vm(n,(a,o)=>{let c=r(a,s+1);!Gm(c)&&(i[o]=c)}),t[s]=void 0,i}}return n};return r(e,0)},Aje=Ua("AsyncFunction"),yje=e=>e&&(xx(e)||Ii(e))&&Ii(e.then)&&Ii(e.catch),re={isArray:Zf,isArrayBuffer:see,isBuffer:Qqe,isFormData:Yqe,isArrayBufferView:Uqe,isString:qqe,isNumber:iee,isBoolean:jqe,isObject:xx,isPlainObject:yx,isUndefined:Gm,isDate:Hqe,isFile:zqe,isBlob:Gqe,isRegExp:uje,isFunction:Ii,isStream:Kqe,isURLSearchParams:Wqe,isTypedArray:sje,isFileList:Vqe,forEach:Vm,merge:ak,extend:Xqe,trim:Jqe,stripBOM:Zqe,inherits:eje,toFlatObject:tje,kindOf:bx,kindOfTest:Ua,endsWith:rje,toArray:nje,forEachEntry:ije,matchAll:aje,isHTMLForm:oje,hasOwnProperty:ree,hasOwnProp:ree,reduceDescriptors:uee,freezeMethods:lje,toObjectSet:dje,toCamelCase:cje,noop:fje,toFiniteNumber:pje,findKey:aee,global:oee,isContextDefined:cee,ALPHABET:lee,generateString:hje,isSpecCompliantForm:mje,toJSONObject:gje,isAsyncFn:Aje,isThenable:yje};function ep(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s)}re.inherits(ep,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var dee=ep.prototype,fee={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{fee[e]={value:e}});Object.defineProperties(ep,fee);Object.defineProperty(dee,"isAxiosError",{value:!0});ep.from=(e,t,r,n,s,i)=>{let a=Object.create(dee);return re.toFlatObject(e,a,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),ep.call(a,e.message,t,r,n,s),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};var Re=ep;var hre=ke(pre(),1),Nx=hre.default;function Tk(e){return re.isPlainObject(e)||re.isArray(e)}function gre(e){return re.endsWith(e,"[]")?e.slice(0,-2):e}function mre(e,t,r){return e?e.concat(t).map(function(s,i){return s=gre(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function nze(e){return re.isArray(e)&&!e.some(Tk)}var sze=re.toFlatObject(re,{},null,function(t){return/^is[A-Z]/.test(t)});function ize(e,t,r){if(!re.isObject(e))throw new TypeError("target must be an object");t=t||new(Nx||FormData),r=re.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,A){return!re.isUndefined(A[m])});let n=r.metaTokens,s=r.visitor||l,i=r.dots,a=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(t);if(!re.isFunction(s))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(re.isDate(p))return p.toISOString();if(!c&&re.isBlob(p))throw new Re("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(p)||re.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function l(p,m,A){let g=p;if(p&&!A&&typeof p=="object"){if(re.endsWith(m,"{}"))m=n?m:m.slice(0,-2),p=JSON.stringify(p);else if(re.isArray(p)&&nze(p)||(re.isFileList(p)||re.endsWith(m,"[]"))&&(g=re.toArray(p)))return m=gre(m),g.forEach(function(y,b){!(re.isUndefined(y)||y===null)&&t.append(a===!0?mre([m],b,i):a===null?m:m+"[]",u(y))}),!1}return Tk(p)?!0:(t.append(mre(A,m,i),u(p)),!1)}let d=[],f=Object.assign(sze,{defaultVisitor:l,convertValue:u,isVisitable:Tk});function h(p,m){if(!re.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),re.forEach(p,function(g,x){(!(re.isUndefined(g)||g===null)&&s.call(t,g,re.isString(x)?x.trim():x,m,f))===!0&&h(g,m?m.concat(x):[x])}),d.pop()}}if(!re.isObject(e))throw new TypeError("data must be an object");return h(e),t}var Wc=ize;function Are(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function yre(e,t){this._pairs=[],e&&Wc(e,this,t)}var bre=yre.prototype;bre.append=function(t,r){this._pairs.push([t,r])};bre.toString=function(t){let r=t?function(n){return t.call(this,n,Are)}:Are;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};var Ere=yre;function aze(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Dl(e,t,r){if(!t)return e;let n=r&&r.encode||aze,s=r&&r.serialize,i;if(s?i=s(t,r):i=re.isURLSearchParams(t)?t.toString():new Ere(t,r).toString(n),i){let a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}var Bk=class{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){re.forEach(this.handlers,function(n){n!==null&&t(n)})}},Rk=Bk;var ip={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var xre=ke(require("url"),1),vre=xre.default.URLSearchParams;var _re={isNode:!0,classes:{URLSearchParams:vre,FormData:Nx,Blob:typeof Blob<"u"&&Blob||null},protocols:["http","https","file","data"]};var Nk={};On(Nk,{hasBrowserEnv:()=>Ire,hasStandardBrowserEnv:()=>oze,hasStandardBrowserWebWorkerEnv:()=>cze});var Ire=typeof window<"u"&&typeof document<"u",oze=(e=>Ire&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),cze=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function";var rn={...Nk,..._re};function kk(e,t){return Wc(e,new rn.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,i){return rn.isNode&&re.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function uze(e){return re.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function lze(e){let t={},r=Object.keys(e),n,s=r.length,i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function dze(e){function t(r,n,s,i){let a=r[i++];if(a==="__proto__")return!0;let o=Number.isFinite(+a),c=i>=r.length;return a=!a&&re.isArray(s)?s.length:a,c?(re.hasOwnProp(s,a)?s[a]=[s[a],n]:s[a]=n,!o):((!s[a]||!re.isObject(s[a]))&&(s[a]=[]),t(r,n,s[a],i)&&re.isArray(s[a])&&(s[a]=lze(s[a])),!o)}if(re.isFormData(e)&&re.isFunction(e.entries)){let r={};return re.forEachEntry(e,(n,s)=>{t(uze(n),s,r,0)}),r}return null}var kx=dze;function fze(e,t,r){if(re.isString(e))try{return(t||JSON.parse)(e),re.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var Dk={transitional:ip,adapter:["xhr","http"],transformRequest:[function(t,r){let n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=re.isObject(t);if(i&&re.isHTMLForm(t)&&(t=new FormData(t)),re.isFormData(t))return s?JSON.stringify(kx(t)):t;if(re.isArrayBuffer(t)||re.isBuffer(t)||re.isStream(t)||re.isFile(t)||re.isBlob(t))return t;if(re.isArrayBufferView(t))return t.buffer;if(re.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return kk(t,this.formSerializer).toString();if((o=re.isFileList(t))||n.indexOf("multipart/form-data")>-1){let c=this.env&&this.env.FormData;return Wc(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),fze(t)):t}],transformResponse:[function(t){let r=this.transitional||Dk.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(t&&re.isString(t)&&(n&&!this.responseType||s)){let a=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(o){if(a)throw o.name==="SyntaxError"?Re.from(o,Re.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rn.classes.FormData,Blob:rn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],e=>{Dk.headers[e]={}});var ap=Dk;var pze=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Cre=e=>{let t={},r,n,s;return e&&e.split(`
`).forEach(function(a){s=a.indexOf(":"),r=a.substring(0,s).trim().toLowerCase(),n=a.substring(s+1).trim(),!(!r||t[r]&&pze[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t};var wre=Symbol("internals");function Zm(e){return e&&String(e).trim().toLowerCase()}function Dx(e){return e===!1||e==null?e:re.isArray(e)?e.map(Dx):String(e)}function hze(e){let t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}var mze=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Pk(e,t,r,n,s){if(re.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!re.isString(t)){if(re.isString(n))return t.indexOf(n)!==-1;if(re.isRegExp(n))return n.test(t)}}function gze(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Aze(e,t){let r=re.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,a){return this[n].call(this,t,s,i,a)},configurable:!0})})}var op=class{constructor(t){t&&this.set(t)}set(t,r,n){let s=this;function i(o,c,u){let l=Zm(c);if(!l)throw new Error("header name must be a non-empty string");let d=re.findKey(s,l);(!d||s[d]===void 0||u===!0||u===void 0&&s[d]!==!1)&&(s[d||c]=Dx(o))}let a=(o,c)=>re.forEach(o,(u,l)=>i(u,l,c));return re.isPlainObject(t)||t instanceof this.constructor?a(t,r):re.isString(t)&&(t=t.trim())&&!mze(t)?a(Cre(t),r):t!=null&&i(r,t,n),this}get(t,r){if(t=Zm(t),t){let n=re.findKey(this,t);if(n){let s=this[n];if(!r)return s;if(r===!0)return hze(s);if(re.isFunction(r))return r.call(this,s,n);if(re.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Zm(t),t){let n=re.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Pk(this,this[n],n,r)))}return!1}delete(t,r){let n=this,s=!1;function i(a){if(a=Zm(a),a){let o=re.findKey(n,a);o&&(!r||Pk(n,n[o],o,r))&&(delete n[o],s=!0)}}return re.isArray(t)?t.forEach(i):i(t),s}clear(t){let r=Object.keys(this),n=r.length,s=!1;for(;n--;){let i=r[n];(!t||Pk(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){let r=this,n={};return re.forEach(this,(s,i)=>{let a=re.findKey(n,i);if(a){r[a]=Dx(s),delete r[i];return}let o=t?gze(i):String(i).trim();o!==i&&delete r[i],r[o]=Dx(s),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){let r=Object.create(null);return re.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&re.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){let n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){let n=(this[wre]=this[wre]={accessors:{}}).accessors,s=this.prototype;function i(a){let o=Zm(a);n[o]||(Aze(s,a),n[o]=!0)}return re.isArray(t)?t.forEach(i):i(t),this}};op.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(op.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});re.freezeMethods(op);var nn=op;function eg(e,t){let r=this||ap,n=t||r,s=nn.from(n.headers),i=n.data;return re.forEach(e,function(o){i=o.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function tg(e){return!!(e&&e.__CANCEL__)}function Sre(e,t,r){Re.call(this,e??"canceled",Re.ERR_CANCELED,t,r),this.name="CanceledError"}re.inherits(Sre,Re,{__CANCEL__:!0});var na=Sre;function Jc(e,t,r){let n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Re("Request failed with status code "+r.status,[Re.ERR_BAD_REQUEST,Re.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Ok(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function $k(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Pl(e,t){return e&&!Ok(t)?$k(e,t):t}var cne=ke(Bre(),1),une=ke(require("http"),1),lne=ke(require("https"),1),dne=ke(require("util"),1),fne=ke(Kre(),1),$o=ke(require("zlib"),1);var Ml="1.6.7";function ag(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}var rGe=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;function Zk(e,t,r){let n=r&&r.Blob||rn.classes.Blob,s=ag(e);if(t===void 0&&n&&(t=!0),s==="data"){e=s.length?e.slice(s.length+1):e;let i=rGe.exec(e);if(!i)throw new Re("Invalid URL",Re.ERR_INVALID_URL);let a=i[1],o=i[2],c=i[3],u=Buffer.from(decodeURIComponent(c),o?"base64":"utf8");if(t){if(!n)throw new Re("Blob is not supported",Re.ERR_NOT_SUPPORT);return new n([u],{type:a})}return u}throw new Re("Unsupported protocol "+s,Re.ERR_NOT_SUPPORT)}var Fl=ke(require("stream"),1);var Wre=ke(require("stream"),1);function nGe(e,t){let r=0,n=1e3/t,s=null;return function(a,o){let c=Date.now();if(a||c-r>n)return s&&(clearTimeout(s),s=null),r=c,e.apply(null,o);s||(s=setTimeout(()=>(s=null,r=Date.now(),e.apply(null,o)),n-(c-r)))}}var Yre=nGe;function sGe(e,t){e=e||10;let r=new Array(e),n=new Array(e),s=0,i=0,a;return t=t!==void 0?t:1e3,function(c){let u=Date.now(),l=n[i];a||(a=u),r[s]=c,n[s]=u;let d=i,f=0;for(;d!==s;)f+=r[d++],d=d%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-a<t)return;let h=l&&u-l;return h?Math.round(f*1e3/h):void 0}}var Mx=sGe;var Fx=Symbol("internals"),e6=class extends Wre.default.Transform{constructor(t){t=re.toFlatObject(t,{maxRate:0,chunkSize:64*1024,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(o,c)=>!re.isUndefined(c[o])),super({readableHighWaterMark:t.chunkSize});let r=this,n=this[Fx]={length:t.length,timeWindow:t.timeWindow,ticksRate:t.ticksRate,chunkSize:t.chunkSize,maxRate:t.maxRate,minChunkSize:t.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null},s=Mx(n.ticksRate*t.samplesCount,n.timeWindow);this.on("newListener",o=>{o==="progress"&&(n.isCaptured||(n.isCaptured=!0))});let i=0;n.updateProgress=Yre(function(){let c=n.length,u=n.bytesSeen,l=u-i;if(!l||r.destroyed)return;let d=s(l);i=u,process.nextTick(()=>{r.emit("progress",{loaded:u,total:c,progress:c?u/c:void 0,bytes:l,rate:d||void 0,estimated:d&&c&&u<=c?(c-u)/d:void 0})})},n.ticksRate);let a=()=>{n.updateProgress(!0)};this.once("end",a),this.once("error",a)}_read(t){let r=this[Fx];return r.onReadCallback&&r.onReadCallback(),super._read(t)}_transform(t,r,n){let s=this,i=this[Fx],a=i.maxRate,o=this.readableHighWaterMark,c=i.timeWindow,u=1e3/c,l=a/u,d=i.minChunkSize!==!1?Math.max(i.minChunkSize,l*.01):0;function f(p,m){let A=Buffer.byteLength(p);i.bytesSeen+=A,i.bytes+=A,i.isCaptured&&i.updateProgress(),s.push(p)?process.nextTick(m):i.onReadCallback=()=>{i.onReadCallback=null,process.nextTick(m)}}let h=(p,m)=>{let A=Buffer.byteLength(p),g=null,x=o,y,b=0;if(a){let _=Date.now();(!i.ts||(b=_-i.ts)>=c)&&(i.ts=_,y=l-i.bytes,i.bytes=y<0?-y:0,b=0),y=l-i.bytes}if(a){if(y<=0)return setTimeout(()=>{m(null,p)},c-b);y<x&&(x=y)}x&&A>x&&A-x>d&&(g=p.subarray(x),p=p.subarray(0,x)),f(p,g?()=>{process.nextTick(m,null,g)}:m)};h(t,function p(m,A){if(m)return n(m);A?h(A,p):n(null)})}setLength(t){return this[Fx].length=+t,this}},t6=e6;var pne=ke(require("events"),1);var Xre=require("util"),Zre=require("stream");var{asyncIterator:Jre}=Symbol,iGe=async function*(e){e.stream?yield*e.stream():e.arrayBuffer?yield await e.arrayBuffer():e[Jre]?yield*e[Jre]():yield e},Qx=iGe;var aGe=re.ALPHABET.ALPHA_DIGIT+"-_",og=new Xre.TextEncoder,Zc=`\r
`,oGe=og.encode(Zc),cGe=2,r6=class{constructor(t,r){let{escapeName:n}=this.constructor,s=re.isString(r),i=`Content-Disposition: form-data; name="${n(t)}"${!s&&r.name?`; filename="${n(r.name)}"`:""}${Zc}`;s?r=og.encode(String(r).replace(/\r?\n|\r\n?/g,Zc)):i+=`Content-Type: ${r.type||"application/octet-stream"}${Zc}`,this.headers=og.encode(i+Zc),this.contentLength=s?r.byteLength:r.size,this.size=this.headers.byteLength+this.contentLength+cGe,this.name=t,this.value=r}async*encode(){yield this.headers;let{value:t}=this;re.isTypedArray(t)?yield t:yield*Qx(t),yield oGe}static escapeName(t){return String(t).replace(/[\r\n"]/g,r=>({"\r":"%0D","\n":"%0A",'"':"%22"})[r])}},uGe=(e,t,r)=>{let{tag:n="form-data-boundary",size:s=25,boundary:i=n+"-"+re.generateString(s,aGe)}=r||{};if(!re.isFormData(e))throw TypeError("FormData instance required");if(i.length<1||i.length>70)throw Error("boundary must be 10-70 characters long");let a=og.encode("--"+i+Zc),o=og.encode("--"+i+"--"+Zc+Zc),c=o.byteLength,u=Array.from(e.entries()).map(([d,f])=>{let h=new r6(d,f);return c+=h.size,h});c+=a.byteLength*u.length,c=re.toFiniteNumber(c);let l={"Content-Type":`multipart/form-data; boundary=${i}`};return Number.isFinite(c)&&(l["Content-Length"]=c),t&&t(l),Zre.Readable.from(async function*(){for(let d of u)yield a,yield*d.encode();yield o}())},ene=uGe;var tne=ke(require("stream"),1),n6=class extends tne.default.Transform{__transform(t,r,n){this.push(t),n()}_transform(t,r,n){if(t.length!==0&&(this._transform=this.__transform,t[0]!==120)){let s=Buffer.alloc(2);s[0]=120,s[1]=156,this.push(s,r)}this.__transform(t,r,n)}},rne=n6;var lGe=(e,t)=>re.isAsyncFn(e)?function(...r){let n=r.pop();e.apply(this,r).then(s=>{try{t?n(null,...t(s)):n(null,s)}catch(i){n(i)}},n)}:e,nne=lGe;var sne={flush:$o.default.constants.Z_SYNC_FLUSH,finishFlush:$o.default.constants.Z_SYNC_FLUSH},dGe={flush:$o.default.constants.BROTLI_OPERATION_FLUSH,finishFlush:$o.default.constants.BROTLI_OPERATION_FLUSH},ine=re.isFunction($o.default.createBrotliDecompress),{http:fGe,https:pGe}=fne.default,hGe=/https:?/,ane=rn.protocols.map(e=>e+":");function mGe(e,t){e.beforeRedirects.proxy&&e.beforeRedirects.proxy(e),e.beforeRedirects.config&&e.beforeRedirects.config(e,t)}function hne(e,t,r){let n=t;if(!n&&n!==!1){let s=(0,cne.getProxyForUrl)(r);s&&(n=new URL(s))}if(n){if(n.username&&(n.auth=(n.username||"")+":"+(n.password||"")),n.auth){(n.auth.username||n.auth.password)&&(n.auth=(n.auth.username||"")+":"+(n.auth.password||""));let i=Buffer.from(n.auth,"utf8").toString("base64");e.headers["Proxy-Authorization"]="Basic "+i}e.headers.host=e.hostname+(e.port?":"+e.port:"");let s=n.hostname||n.host;e.hostname=s,e.host=s,e.port=n.port,e.path=r,n.protocol&&(e.protocol=n.protocol.includes(":")?n.protocol:`${n.protocol}:`)}e.beforeRedirects.proxy=function(i){hne(i,t,i.href)}}var gGe=typeof process<"u"&&re.kindOf(process)==="process",AGe=e=>new Promise((t,r)=>{let n,s,i=(c,u)=>{s||(s=!0,n&&n(c,u))},a=c=>{i(c),t(c)},o=c=>{i(c,!0),r(c)};e(a,o,c=>n=c).catch(o)}),yGe=({address:e,family:t})=>{if(!re.isString(e))throw TypeError("address must be a string");return{address:e,family:t||(e.indexOf(".")<0?6:4)}},one=(e,t)=>yGe(re.isObject(e)?e:{address:e,family:t}),mne=gGe&&function(t){return AGe(async function(n,s,i){let{data:a,lookup:o,family:c}=t,{responseType:u,responseEncoding:l}=t,d=t.method.toUpperCase(),f,h=!1,p;if(o){let G=nne(o,J=>re.isArray(J)?J:[J]);o=(J,Q,te)=>{G(J,Q,(ne,ee,ie)=>{if(ne)return te(ne);let Ee=re.isArray(ee)?ee.map(ve=>one(ve)):[one(ee,ie)];Q.all?te(ne,Ee):te(ne,Ee[0].address,Ee[0].family)})}}let m=new pne.default,A=()=>{t.cancelToken&&t.cancelToken.unsubscribe(g),t.signal&&t.signal.removeEventListener("abort",g),m.removeAllListeners()};i((G,J)=>{f=!0,J&&(h=!0,A())});function g(G){m.emit("abort",!G||G.type?new na(null,t,p):G)}m.once("abort",s),(t.cancelToken||t.signal)&&(t.cancelToken&&t.cancelToken.subscribe(g),t.signal&&(t.signal.aborted?g():t.signal.addEventListener("abort",g)));let x=Pl(t.baseURL,t.url),y=new URL(x,"http://localhost"),b=y.protocol||ane[0];if(b==="data:"){let G;if(d!=="GET")return Jc(n,s,{status:405,statusText:"method not allowed",headers:{},config:t});try{G=Zk(t.url,u==="blob",{Blob:t.env&&t.env.Blob})}catch(J){throw Re.from(J,Re.ERR_BAD_REQUEST,t)}return u==="text"?(G=G.toString(l),(!l||l==="utf8")&&(G=re.stripBOM(G))):u==="stream"&&(G=Fl.default.Readable.from(G)),Jc(n,s,{data:G,status:200,statusText:"OK",headers:new nn,config:t})}if(ane.indexOf(b)===-1)return s(new Re("Unsupported protocol "+b,Re.ERR_BAD_REQUEST,t));let _=nn.from(t.headers).normalize();_.set("User-Agent","axios/"+Ml,!1);let C=t.onDownloadProgress,w=t.onUploadProgress,S=t.maxRate,T,R;if(re.isSpecCompliantForm(a)){let G=_.getContentType(/boundary=([-_\w\d]{10,70})/i);a=ene(a,J=>{_.set(J)},{tag:`axios-${Ml}-boundary`,boundary:G&&G[1]||void 0})}else if(re.isFormData(a)&&re.isFunction(a.getHeaders)){if(_.set(a.getHeaders()),!_.hasContentLength())try{let G=await dne.default.promisify(a.getLength).call(a);Number.isFinite(G)&&G>=0&&_.setContentLength(G)}catch{}}else if(re.isBlob(a))a.size&&_.setContentType(a.type||"application/octet-stream"),_.setContentLength(a.size||0),a=Fl.default.Readable.from(Qx(a));else if(a&&!re.isStream(a)){if(!Buffer.isBuffer(a))if(re.isArrayBuffer(a))a=Buffer.from(new Uint8Array(a));else if(re.isString(a))a=Buffer.from(a,"utf-8");else return s(new Re("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",Re.ERR_BAD_REQUEST,t));if(_.setContentLength(a.length,!1),t.maxBodyLength>-1&&a.length>t.maxBodyLength)return s(new Re("Request body larger than maxBodyLength limit",Re.ERR_BAD_REQUEST,t))}let P=re.toFiniteNumber(_.getContentLength());re.isArray(S)?(T=S[0],R=S[1]):T=R=S,a&&(w||T)&&(re.isStream(a)||(a=Fl.default.Readable.from(a,{objectMode:!1})),a=Fl.default.pipeline([a,new t6({length:P,maxRate:re.toFiniteNumber(T)})],re.noop),w&&a.on("progress",G=>{w(Object.assign(G,{upload:!0}))}));let N;if(t.auth){let G=t.auth.username||"",J=t.auth.password||"";N=G+":"+J}if(!N&&y.username){let G=y.username,J=y.password;N=G+":"+J}N&&_.delete("authorization");let D;try{D=Dl(y.pathname+y.search,t.params,t.paramsSerializer).replace(/^\?/,"")}catch(G){let J=new Error(G.message);return J.config=t,J.url=t.url,J.exists=!0,s(J)}_.set("Accept-Encoding","gzip, compress, deflate"+(ine?", br":""),!1);let k={path:D,method:d,headers:_.toJSON(),agents:{http:t.httpAgent,https:t.httpsAgent},auth:N,protocol:b,family:c,beforeRedirect:mGe,beforeRedirects:{}};!re.isUndefined(o)&&(k.lookup=o),t.socketPath?k.socketPath=t.socketPath:(k.hostname=y.hostname,k.port=y.port,hne(k,t.proxy,b+"//"+y.hostname+(y.port?":"+y.port:"")+k.path));let q,j=hGe.test(k.protocol);if(k.agent=j?t.httpsAgent:t.httpAgent,t.transport?q=t.transport:t.maxRedirects===0?q=j?lne.default:une.default:(t.maxRedirects&&(k.maxRedirects=t.maxRedirects),t.beforeRedirect&&(k.beforeRedirects.config=t.beforeRedirect),q=j?pGe:fGe),t.maxBodyLength>-1?k.maxBodyLength=t.maxBodyLength:k.maxBodyLength=1/0,t.insecureHTTPParser&&(k.insecureHTTPParser=t.insecureHTTPParser),p=q.request(k,function(J){if(p.destroyed)return;let Q=[J],te=+J.headers["content-length"];if(C){let ve=new t6({length:re.toFiniteNumber(te),maxRate:re.toFiniteNumber(R)});C&&ve.on("progress",Ie=>{C(Object.assign(Ie,{download:!0}))}),Q.push(ve)}let ne=J,ee=J.req||p;if(t.decompress!==!1&&J.headers["content-encoding"])switch((d==="HEAD"||J.statusCode===204)&&delete J.headers["content-encoding"],(J.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":Q.push($o.default.createUnzip(sne)),delete J.headers["content-encoding"];break;case"deflate":Q.push(new rne),Q.push($o.default.createUnzip(sne)),delete J.headers["content-encoding"];break;case"br":ine&&(Q.push($o.default.createBrotliDecompress(dGe)),delete J.headers["content-encoding"])}ne=Q.length>1?Fl.default.pipeline(Q,re.noop):Q[0];let ie=Fl.default.finished(ne,()=>{ie(),A()}),Ee={status:J.statusCode,statusText:J.statusMessage,headers:new nn(J.headers),config:t,request:ee};if(u==="stream")Ee.data=ne,Jc(n,s,Ee);else{let ve=[],Ie=0;ne.on("data",function(ge){ve.push(ge),Ie+=ge.length,t.maxContentLength>-1&&Ie>t.maxContentLength&&(h=!0,ne.destroy(),s(new Re("maxContentLength size of "+t.maxContentLength+" exceeded",Re.ERR_BAD_RESPONSE,t,ee)))}),ne.on("aborted",function(){if(h)return;let ge=new Re("maxContentLength size of "+t.maxContentLength+" exceeded",Re.ERR_BAD_RESPONSE,t,ee);ne.destroy(ge),s(ge)}),ne.on("error",function(ge){p.destroyed||s(Re.from(ge,null,t,ee))}),ne.on("end",function(){try{let ge=ve.length===1?ve[0]:Buffer.concat(ve);u!=="arraybuffer"&&(ge=ge.toString(l),(!l||l==="utf8")&&(ge=re.stripBOM(ge))),Ee.data=ge}catch(ge){return s(Re.from(ge,null,t,Ee.request,Ee))}Jc(n,s,Ee)})}m.once("abort",ve=>{ne.destroyed||(ne.emit("error",ve),ne.destroy())})}),m.once("abort",G=>{s(G),p.destroy(G)}),p.on("error",function(J){s(Re.from(J,null,t,p))}),p.on("socket",function(J){J.setKeepAlive(!0,1e3*60)}),t.timeout){let G=parseInt(t.timeout,10);if(Number.isNaN(G)){s(new Re("error trying to parse `config.timeout` to int",Re.ERR_BAD_OPTION_VALUE,t,p));return}p.setTimeout(G,function(){if(f)return;let Q=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",te=t.transitional||ip;t.timeoutErrorMessage&&(Q=t.timeoutErrorMessage),s(new Re(Q,te.clarifyTimeoutError?Re.ETIMEDOUT:Re.ECONNABORTED,t,p)),g()})}if(re.isStream(a)){let G=!1,J=!1;a.on("end",()=>{G=!0}),a.once("error",Q=>{J=!0,p.destroy(Q)}),a.on("close",()=>{!G&&!J&&g(new na("Request stream has been aborted",t,p))}),a.pipe(p)}else p.end(a)})};var gne=rn.hasStandardBrowserEnv?{write(e,t,r,n,s,i){let a=[e+"="+encodeURIComponent(t)];re.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),re.isString(n)&&a.push("path="+n),re.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){let t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};var Ane=rn.hasStandardBrowserEnv?function(){let t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function s(i){let a=i;return t&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=s(window.location.href),function(a){let o=re.isString(a)?s(a):a;return o.protocol===n.protocol&&o.host===n.host}}():function(){return function(){return!0}}();function yne(e,t){let r=0,n=Mx(50,250);return s=>{let i=s.loaded,a=s.lengthComputable?s.total:void 0,o=i-r,c=n(o),u=i<=a;r=i;let l={loaded:i,total:a,progress:a?i/a:void 0,bytes:o,rate:c||void 0,estimated:c&&a&&u?(a-i)/c:void 0,event:s};l[t?"download":"upload"]=!0,e(l)}}var bGe=typeof XMLHttpRequest<"u",bne=bGe&&function(e){return new Promise(function(r,n){let s=e.data,i=nn.from(e.headers).normalize(),{responseType:a,withXSRFToken:o}=e,c;function u(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}let l;if(re.isFormData(s)){if(rn.hasStandardBrowserEnv||rn.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if((l=i.getContentType())!==!1){let[m,...A]=l?l.split(";").map(g=>g.trim()).filter(Boolean):[];i.setContentType([m||"multipart/form-data",...A].join("; "))}}let d=new XMLHttpRequest;if(e.auth){let m=e.auth.username||"",A=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(m+":"+A))}let f=Pl(e.baseURL,e.url);d.open(e.method.toUpperCase(),Dl(f,e.params,e.paramsSerializer),!0),d.timeout=e.timeout;function h(){if(!d)return;let m=nn.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),g={data:!a||a==="text"||a==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:m,config:e,request:d};Jc(function(y){r(y),u()},function(y){n(y),u()},g),d=null}if("onloadend"in d?d.onloadend=h:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(h)},d.onabort=function(){d&&(n(new Re("Request aborted",Re.ECONNABORTED,e,d)),d=null)},d.onerror=function(){n(new Re("Network Error",Re.ERR_NETWORK,e,d)),d=null},d.ontimeout=function(){let A=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",g=e.transitional||ip;e.timeoutErrorMessage&&(A=e.timeoutErrorMessage),n(new Re(A,g.clarifyTimeoutError?Re.ETIMEDOUT:Re.ECONNABORTED,e,d)),d=null},rn.hasStandardBrowserEnv&&(o&&re.isFunction(o)&&(o=o(e)),o||o!==!1&&Ane(f))){let m=e.xsrfHeaderName&&e.xsrfCookieName&&gne.read(e.xsrfCookieName);m&&i.set(e.xsrfHeaderName,m)}s===void 0&&i.setContentType(null),"setRequestHeader"in d&&re.forEach(i.toJSON(),function(A,g){d.setRequestHeader(g,A)}),re.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),a&&a!=="json"&&(d.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&d.addEventListener("progress",yne(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",yne(e.onUploadProgress)),(e.cancelToken||e.signal)&&(c=m=>{d&&(n(!m||m.type?new na(null,e,d):m),d.abort(),d=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c)));let p=ag(f);if(p&&rn.protocols.indexOf(p)===-1){n(new Re("Unsupported protocol "+p+":",Re.ERR_BAD_REQUEST,e));return}d.send(s||null)})};var s6={http:mne,xhr:bne};re.forEach(s6,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});var Ene=e=>`- ${e}`,EGe=e=>re.isFunction(e)||e===null||e===!1,Ux={getAdapter:e=>{e=re.isArray(e)?e:[e];let{length:t}=e,r,n,s={};for(let i=0;i<t;i++){r=e[i];let a;if(n=r,!EGe(r)&&(n=s6[(a=String(r)).toLowerCase()],n===void 0))throw new Re(`Unknown adapter '${a}'`);if(n)break;s[a||"#"+i]=n}if(!n){let i=Object.entries(s).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build")),a=t?i.length>1?`since :
`+i.map(Ene).join(`
`):" "+Ene(i[0]):"as no adapter specified";throw new Re("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:s6};function i6(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new na(null,e)}function qx(e){return i6(e),e.headers=nn.from(e.headers),e.data=eg.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ux.getAdapter(e.adapter||ap.adapter)(e).then(function(n){return i6(e),n.data=eg.call(e,e.transformResponse,n),n.headers=nn.from(n.headers),n},function(n){return tg(n)||(i6(e),n&&n.response&&(n.response.data=eg.call(e,e.transformResponse,n.response),n.response.headers=nn.from(n.response.headers))),Promise.reject(n)})}var xne=e=>e instanceof nn?e.toJSON():e;function Lo(e,t){t=t||{};let r={};function n(u,l,d){return re.isPlainObject(u)&&re.isPlainObject(l)?re.merge.call({caseless:d},u,l):re.isPlainObject(l)?re.merge({},l):re.isArray(l)?l.slice():l}function s(u,l,d){if(re.isUndefined(l)){if(!re.isUndefined(u))return n(void 0,u,d)}else return n(u,l,d)}function i(u,l){if(!re.isUndefined(l))return n(void 0,l)}function a(u,l){if(re.isUndefined(l)){if(!re.isUndefined(u))return n(void 0,u)}else return n(void 0,l)}function o(u,l,d){if(d in t)return n(u,l);if(d in e)return n(void 0,u)}let c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,l)=>s(xne(u),xne(l),!0)};return re.forEach(Object.keys(Object.assign({},e,t)),function(l){let d=c[l]||s,f=d(e[l],t[l],l);re.isUndefined(f)&&d!==o||(r[l]=f)}),r}var a6={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{a6[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var vne={};a6.transitional=function(t,r,n){function s(i,a){return"[Axios v"+Ml+"] Transitional option '"+i+"'"+a+(n?". "+n:"")}return(i,a,o)=>{if(t===!1)throw new Re(s(a," has been removed"+(r?" in "+r:"")),Re.ERR_DEPRECATED);return r&&!vne[a]&&(vne[a]=!0,console.warn(s(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,a,o):!0}};function xGe(e,t,r){if(typeof e!="object")throw new Re("options must be an object",Re.ERR_BAD_OPTION_VALUE);let n=Object.keys(e),s=n.length;for(;s-- >0;){let i=n[s],a=t[i];if(a){let o=e[i],c=o===void 0||a(o,i,e);if(c!==!0)throw new Re("option "+i+" must be "+c,Re.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Re("Unknown option "+i,Re.ERR_BAD_OPTION)}}var jx={assertOptions:xGe,validators:a6};var eu=jx.validators,fp=class{constructor(t){this.defaults=t,this.interceptors={request:new Rk,response:new Rk}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;let i=s.stack?s.stack.replace(/^.+\n/,""):"";n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Lo(this.defaults,r);let{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&jx.assertOptions(n,{silentJSONParsing:eu.transitional(eu.boolean),forcedJSONParsing:eu.transitional(eu.boolean),clarifyTimeoutError:eu.transitional(eu.boolean)},!1),s!=null&&(re.isFunction(s)?r.paramsSerializer={serialize:s}:jx.assertOptions(s,{encode:eu.function,serialize:eu.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=i&&re.merge(i.common,i[r.method]);i&&re.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),r.headers=nn.concat(a,i);let o=[],c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(c=c&&m.synchronous,o.unshift(m.fulfilled,m.rejected))});let u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let l,d=0,f;if(!c){let p=[qx.bind(this),void 0];for(p.unshift.apply(p,o),p.push.apply(p,u),f=p.length,l=Promise.resolve(r);d<f;)l=l.then(p[d++],p[d++]);return l}f=o.length;let h=r;for(d=0;d<f;){let p=o[d++],m=o[d++];try{h=p(h)}catch(A){m.call(this,A);break}}try{l=qx.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,f=u.length;d<f;)l=l.then(u[d++],u[d++]);return l}getUri(t){t=Lo(this.defaults,t);let r=Pl(t.baseURL,t.url);return Dl(r,t.params,t.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(t){fp.prototype[t]=function(r,n){return this.request(Lo(n||{},{method:t,url:r,data:(n||{}).data}))}});re.forEach(["post","put","patch"],function(t){function r(n){return function(i,a,o){return this.request(Lo(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}fp.prototype[t]=r(),fp.prototype[t+"Form"]=r(!0)});var cg=fp;var o6=class e{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});let n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i,a=new Promise(o=>{n.subscribe(o),i=o}).then(s);return a.cancel=function(){n.unsubscribe(i)},a},t(function(i,a,o){n.reason||(n.reason=new na(i,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;let r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new e(function(s){t=s}),cancel:t}}},_ne=o6;function c6(e){return function(r){return e.apply(null,r)}}function u6(e){return re.isObject(e)&&e.isAxiosError===!0}var l6={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(l6).forEach(([e,t])=>{l6[t]=e});var Ine=l6;function Cne(e){let t=new cg(e),r=zm(cg.prototype.request,t);return re.extend(r,cg.prototype,t,{allOwnKeys:!0}),re.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return Cne(Lo(e,s))},r}var Yr=Cne(ap);Yr.Axios=cg;Yr.CanceledError=na;Yr.CancelToken=_ne;Yr.isCancel=tg;Yr.VERSION=Ml;Yr.toFormData=Wc;Yr.AxiosError=Re;Yr.Cancel=Yr.CanceledError;Yr.all=function(t){return Promise.all(t)};Yr.spread=c6;Yr.isAxiosError=u6;Yr.mergeConfig=Lo;Yr.AxiosHeaders=nn;Yr.formToJSON=e=>kx(re.isHTMLForm(e)?new FormData(e):e);Yr.getAdapter=Ux.getAdapter;Yr.HttpStatusCode=Ine;Yr.default=Yr;var _e=Yr;var{Axios:T1t,AxiosError:B1t,CanceledError:R1t,isCancel:N1t,CancelToken:k1t,VERSION:D1t,all:P1t,Cancel:O1t,isAxiosError:$1t,spread:L1t,toFormData:M1t,AxiosHeaders:F1t,HttpStatusCode:Q1t,formToJSON:U1t,getAdapter:q1t,mergeConfig:j1t}=_e;var wne=ke(require("https"),1),Sne=ke(require("http"),1),vGe=_e.create({httpsAgent:new wne.default.Agent({keepAlive:!1,rejectUnauthorized:!1}),httpAgent:new Sne.default.Agent({keepAlive:!1}),proxy:!1}),Pe=vGe;var _Ge={xml:!1,decodeEntities:!0},ug=_Ge,Tne={_useHtmlParser2:!0,xmlMode:!0};function lg(e){return e?.xml?typeof e.xml=="boolean"?Tne:{...Tne,...e.xml}:e??void 0}var iu={};On(iu,{contains:()=>_6,html:()=>ase,merge:()=>hVe,parseHTML:()=>fVe,root:()=>pVe,text:()=>su,xml:()=>ose});var nu={};On(nu,{DocumentPosition:()=>Si,append:()=>KGe,appendChild:()=>VGe,compareDocumentPosition:()=>rse,existsOne:()=>ese,filter:()=>Ap,find:()=>rv,findAll:()=>XGe,findOne:()=>nv,findOneChild:()=>JGe,getAttributeValue:()=>jGe,getChildren:()=>gp,getElementById:()=>rVe,getElements:()=>tVe,getElementsByClassName:()=>nVe,getElementsByTagName:()=>Hl,getElementsByTagType:()=>sVe,getFeed:()=>v6,getInnerHTML:()=>qGe,getName:()=>zGe,getOuterHTML:()=>Xne,getParent:()=>Zne,getSiblings:()=>E6,getText:()=>Zx,hasAttrib:()=>HGe,hasChildren:()=>rr,innerText:()=>Ag,isCDATA:()=>pp,isComment:()=>jl,isDocument:()=>sa,isTag:()=>$e,isText:()=>Fs,nextElementSibling:()=>ev,prepend:()=>WGe,prependChild:()=>YGe,prevElementSibling:()=>tv,removeElement:()=>Qo,removeSubsets:()=>iVe,replaceElement:()=>GGe,testElement:()=>eVe,textContent:()=>Fo,uniqueSort:()=>tu});var kt;(function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"})(kt||(kt={}));function Bne(e){return e.type===kt.Tag||e.type===kt.Script||e.type===kt.Style}var Rne=kt.Root,Nne=kt.Text,kne=kt.Directive,Dne=kt.Comment,Pne=kt.Script,One=kt.Style,$ne=kt.Tag,Lne=kt.CDATA,Mne=kt.Doctype;var Hx=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(t){this.parent=t}get previousSibling(){return this.prev}set previousSibling(t){this.prev=t}get nextSibling(){return this.next}set nextSibling(t){this.next=t}cloneNode(t=!1){return hg(this,t)}},dg=class extends Hx{constructor(t){super(),this.data=t}get nodeValue(){return this.data}set nodeValue(t){this.data=t}},qa=class extends dg{constructor(){super(...arguments),this.type=kt.Text}get nodeType(){return 3}},Ql=class extends dg{constructor(){super(...arguments),this.type=kt.Comment}get nodeType(){return 8}},Ul=class extends dg{constructor(t,r){super(r),this.name=t,this.type=kt.Directive}get nodeType(){return 1}},fg=class extends Hx{constructor(t){super(),this.children=t}get firstChild(){var t;return(t=this.children[0])!==null&&t!==void 0?t:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(t){this.children=t}},pg=class extends fg{constructor(){super(...arguments),this.type=kt.CDATA}get nodeType(){return 4}},Js=class extends fg{constructor(){super(...arguments),this.type=kt.Root}get nodeType(){return 9}},ql=class extends fg{constructor(t,r,n=[],s=t==="script"?kt.Script:t==="style"?kt.Style:kt.Tag){super(n),this.name=t,this.attribs=r,this.type=s}get nodeType(){return 1}get tagName(){return this.name}set tagName(t){this.name=t}get attributes(){return Object.keys(this.attribs).map(t=>{var r,n;return{name:t,value:this.attribs[t],namespace:(r=this["x-attribsNamespace"])===null||r===void 0?void 0:r[t],prefix:(n=this["x-attribsPrefix"])===null||n===void 0?void 0:n[t]}})}};function $e(e){return Bne(e)}function pp(e){return e.type===kt.CDATA}function Fs(e){return e.type===kt.Text}function jl(e){return e.type===kt.Comment}function zx(e){return e.type===kt.Directive}function sa(e){return e.type===kt.Root}function rr(e){return Object.prototype.hasOwnProperty.call(e,"children")}function hg(e,t=!1){let r;if(Fs(e))r=new qa(e.data);else if(jl(e))r=new Ql(e.data);else if($e(e)){let n=t?d6(e.children):[],s=new ql(e.name,{...e.attribs},n);n.forEach(i=>i.parent=s),e.namespace!=null&&(s.namespace=e.namespace),e["x-attribsNamespace"]&&(s["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(s["x-attribsPrefix"]={...e["x-attribsPrefix"]}),r=s}else if(pp(e)){let n=t?d6(e.children):[],s=new pg(n);n.forEach(i=>i.parent=s),r=s}else if(sa(e)){let n=t?d6(e.children):[],s=new Js(n);n.forEach(i=>i.parent=s),e["x-mode"]&&(s["x-mode"]=e["x-mode"]),r=s}else if(zx(e)){let n=new Ul(e.name,e.data);e["x-name"]!=null&&(n["x-name"]=e["x-name"],n["x-publicId"]=e["x-publicId"],n["x-systemId"]=e["x-systemId"]),r=n}else throw new Error(`Not implemented yet: ${e.type}`);return r.startIndex=e.startIndex,r.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(r.sourceCodeLocation=e.sourceCodeLocation),r}function d6(e){let t=e.map(r=>hg(r,!0));for(let r=1;r<t.length;r++)t[r].prev=t[r-1],t[r-1].next=t[r];return t}var Qne={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},hp=class{constructor(t,r,n){this.dom=[],this.root=new Js(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof r=="function"&&(n=r,r=Qne),typeof t=="object"&&(r=t,t=void 0),this.callback=t??null,this.options=r??Qne,this.elementCB=n??null}onparserinit(t){this.parser=t}onreset(){this.dom=[],this.root=new Js(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(t){this.handleCallback(t)}onclosetag(){this.lastNode=null;let t=this.tagStack.pop();this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(t)}onopentag(t,r){let n=this.options.xmlMode?kt.Tag:void 0,s=new ql(t,r,void 0,n);this.addNode(s),this.tagStack.push(s)}ontext(t){let{lastNode:r}=this;if(r&&r.type===kt.Text)r.data+=t,this.options.withEndIndices&&(r.endIndex=this.parser.endIndex);else{let n=new qa(t);this.addNode(n),this.lastNode=n}}oncomment(t){if(this.lastNode&&this.lastNode.type===kt.Comment){this.lastNode.data+=t;return}let r=new Ql(t);this.addNode(r),this.lastNode=r}oncommentend(){this.lastNode=null}oncdatastart(){let t=new qa(""),r=new pg([t]);this.addNode(r),t.parent=r,this.lastNode=t}oncdataend(){this.lastNode=null}onprocessinginstruction(t,r){let n=new Ul(t,r);this.addNode(n)}handleCallback(t){if(typeof this.callback=="function")this.callback(t,this.dom);else if(t)throw t}addNode(t){let r=this.tagStack[this.tagStack.length-1],n=r.children[r.children.length-1];this.options.withStartIndices&&(t.startIndex=this.parser.startIndex),this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),r.children.push(t),n&&(t.prev=n,n.next=t),t.parent=r,this.lastNode=null}};var Gx=new Uint16Array('\u1D41<\xD5\u0131\u028A\u049D\u057B\u05D0\u0675\u06DE\u07A2\u07D6\u080F\u0A4A\u0A91\u0DA1\u0E6D\u0F09\u0F26\u10CA\u1228\u12E1\u1415\u149D\u14C3\u14DF\u1525\0\0\0\0\0\0\u156B\u16CD\u198D\u1C12\u1DDD\u1F7E\u2060\u21B0\u228D\u23C0\u23FB\u2442\u2824\u2912\u2D08\u2E48\u2FCE\u3016\u32BA\u3639\u37AC\u38FE\u3A28\u3A71\u3AE0\u3B2E\u0800EMabcfglmnoprstu\\bfms\x7F\x84\x8B\x90\x95\x98\xA6\xB3\xB9\xC8\xCFlig\u803B\xC6\u40C6P\u803B&\u4026cute\u803B\xC1\u40C1reve;\u4102\u0100iyx}rc\u803B\xC2\u40C2;\u4410r;\uC000\u{1D504}rave\u803B\xC0\u40C0pha;\u4391acr;\u4100d;\u6A53\u0100gp\x9D\xA1on;\u4104f;\uC000\u{1D538}plyFunction;\u6061ing\u803B\xC5\u40C5\u0100cs\xBE\xC3r;\uC000\u{1D49C}ign;\u6254ilde\u803B\xC3\u40C3ml\u803B\xC4\u40C4\u0400aceforsu\xE5\xFB\xFE\u0117\u011C\u0122\u0127\u012A\u0100cr\xEA\xF2kslash;\u6216\u0176\xF6\xF8;\u6AE7ed;\u6306y;\u4411\u0180crt\u0105\u010B\u0114ause;\u6235noullis;\u612Ca;\u4392r;\uC000\u{1D505}pf;\uC000\u{1D539}eve;\u42D8c\xF2\u0113mpeq;\u624E\u0700HOacdefhilorsu\u014D\u0151\u0156\u0180\u019E\u01A2\u01B5\u01B7\u01BA\u01DC\u0215\u0273\u0278\u027Ecy;\u4427PY\u803B\xA9\u40A9\u0180cpy\u015D\u0162\u017Aute;\u4106\u0100;i\u0167\u0168\u62D2talDifferentialD;\u6145leys;\u612D\u0200aeio\u0189\u018E\u0194\u0198ron;\u410Cdil\u803B\xC7\u40C7rc;\u4108nint;\u6230ot;\u410A\u0100dn\u01A7\u01ADilla;\u40B8terDot;\u40B7\xF2\u017Fi;\u43A7rcle\u0200DMPT\u01C7\u01CB\u01D1\u01D6ot;\u6299inus;\u6296lus;\u6295imes;\u6297o\u0100cs\u01E2\u01F8kwiseContourIntegral;\u6232eCurly\u0100DQ\u0203\u020FoubleQuote;\u601Duote;\u6019\u0200lnpu\u021E\u0228\u0247\u0255on\u0100;e\u0225\u0226\u6237;\u6A74\u0180git\u022F\u0236\u023Aruent;\u6261nt;\u622FourIntegral;\u622E\u0100fr\u024C\u024E;\u6102oduct;\u6210nterClockwiseContourIntegral;\u6233oss;\u6A2Fcr;\uC000\u{1D49E}p\u0100;C\u0284\u0285\u62D3ap;\u624D\u0580DJSZacefios\u02A0\u02AC\u02B0\u02B4\u02B8\u02CB\u02D7\u02E1\u02E6\u0333\u048D\u0100;o\u0179\u02A5trahd;\u6911cy;\u4402cy;\u4405cy;\u440F\u0180grs\u02BF\u02C4\u02C7ger;\u6021r;\u61A1hv;\u6AE4\u0100ay\u02D0\u02D5ron;\u410E;\u4414l\u0100;t\u02DD\u02DE\u6207a;\u4394r;\uC000\u{1D507}\u0100af\u02EB\u0327\u0100cm\u02F0\u0322ritical\u0200ADGT\u0300\u0306\u0316\u031Ccute;\u40B4o\u0174\u030B\u030D;\u42D9bleAcute;\u42DDrave;\u4060ilde;\u42DCond;\u62C4ferentialD;\u6146\u0470\u033D\0\0\0\u0342\u0354\0\u0405f;\uC000\u{1D53B}\u0180;DE\u0348\u0349\u034D\u40A8ot;\u60DCqual;\u6250ble\u0300CDLRUV\u0363\u0372\u0382\u03CF\u03E2\u03F8ontourIntegra\xEC\u0239o\u0274\u0379\0\0\u037B\xBB\u0349nArrow;\u61D3\u0100eo\u0387\u03A4ft\u0180ART\u0390\u0396\u03A1rrow;\u61D0ightArrow;\u61D4e\xE5\u02CAng\u0100LR\u03AB\u03C4eft\u0100AR\u03B3\u03B9rrow;\u67F8ightArrow;\u67FAightArrow;\u67F9ight\u0100AT\u03D8\u03DErrow;\u61D2ee;\u62A8p\u0241\u03E9\0\0\u03EFrrow;\u61D1ownArrow;\u61D5erticalBar;\u6225n\u0300ABLRTa\u0412\u042A\u0430\u045E\u047F\u037Crrow\u0180;BU\u041D\u041E\u0422\u6193ar;\u6913pArrow;\u61F5reve;\u4311eft\u02D2\u043A\0\u0446\0\u0450ightVector;\u6950eeVector;\u695Eector\u0100;B\u0459\u045A\u61BDar;\u6956ight\u01D4\u0467\0\u0471eeVector;\u695Fector\u0100;B\u047A\u047B\u61C1ar;\u6957ee\u0100;A\u0486\u0487\u62A4rrow;\u61A7\u0100ct\u0492\u0497r;\uC000\u{1D49F}rok;\u4110\u0800NTacdfglmopqstux\u04BD\u04C0\u04C4\u04CB\u04DE\u04E2\u04E7\u04EE\u04F5\u0521\u052F\u0536\u0552\u055D\u0560\u0565G;\u414AH\u803B\xD0\u40D0cute\u803B\xC9\u40C9\u0180aiy\u04D2\u04D7\u04DCron;\u411Arc\u803B\xCA\u40CA;\u442Dot;\u4116r;\uC000\u{1D508}rave\u803B\xC8\u40C8ement;\u6208\u0100ap\u04FA\u04FEcr;\u4112ty\u0253\u0506\0\0\u0512mallSquare;\u65FBerySmallSquare;\u65AB\u0100gp\u0526\u052Aon;\u4118f;\uC000\u{1D53C}silon;\u4395u\u0100ai\u053C\u0549l\u0100;T\u0542\u0543\u6A75ilde;\u6242librium;\u61CC\u0100ci\u0557\u055Ar;\u6130m;\u6A73a;\u4397ml\u803B\xCB\u40CB\u0100ip\u056A\u056Fsts;\u6203onentialE;\u6147\u0280cfios\u0585\u0588\u058D\u05B2\u05CCy;\u4424r;\uC000\u{1D509}lled\u0253\u0597\0\0\u05A3mallSquare;\u65FCerySmallSquare;\u65AA\u0370\u05BA\0\u05BF\0\0\u05C4f;\uC000\u{1D53D}All;\u6200riertrf;\u6131c\xF2\u05CB\u0600JTabcdfgorst\u05E8\u05EC\u05EF\u05FA\u0600\u0612\u0616\u061B\u061D\u0623\u066C\u0672cy;\u4403\u803B>\u403Emma\u0100;d\u05F7\u05F8\u4393;\u43DCreve;\u411E\u0180eiy\u0607\u060C\u0610dil;\u4122rc;\u411C;\u4413ot;\u4120r;\uC000\u{1D50A};\u62D9pf;\uC000\u{1D53E}eater\u0300EFGLST\u0635\u0644\u064E\u0656\u065B\u0666qual\u0100;L\u063E\u063F\u6265ess;\u62DBullEqual;\u6267reater;\u6AA2ess;\u6277lantEqual;\u6A7Eilde;\u6273cr;\uC000\u{1D4A2};\u626B\u0400Aacfiosu\u0685\u068B\u0696\u069B\u069E\u06AA\u06BE\u06CARDcy;\u442A\u0100ct\u0690\u0694ek;\u42C7;\u405Eirc;\u4124r;\u610ClbertSpace;\u610B\u01F0\u06AF\0\u06B2f;\u610DizontalLine;\u6500\u0100ct\u06C3\u06C5\xF2\u06A9rok;\u4126mp\u0144\u06D0\u06D8ownHum\xF0\u012Fqual;\u624F\u0700EJOacdfgmnostu\u06FA\u06FE\u0703\u0707\u070E\u071A\u071E\u0721\u0728\u0744\u0778\u078B\u078F\u0795cy;\u4415lig;\u4132cy;\u4401cute\u803B\xCD\u40CD\u0100iy\u0713\u0718rc\u803B\xCE\u40CE;\u4418ot;\u4130r;\u6111rave\u803B\xCC\u40CC\u0180;ap\u0720\u072F\u073F\u0100cg\u0734\u0737r;\u412AinaryI;\u6148lie\xF3\u03DD\u01F4\u0749\0\u0762\u0100;e\u074D\u074E\u622C\u0100gr\u0753\u0758ral;\u622Bsection;\u62C2isible\u0100CT\u076C\u0772omma;\u6063imes;\u6062\u0180gpt\u077F\u0783\u0788on;\u412Ef;\uC000\u{1D540}a;\u4399cr;\u6110ilde;\u4128\u01EB\u079A\0\u079Ecy;\u4406l\u803B\xCF\u40CF\u0280cfosu\u07AC\u07B7\u07BC\u07C2\u07D0\u0100iy\u07B1\u07B5rc;\u4134;\u4419r;\uC000\u{1D50D}pf;\uC000\u{1D541}\u01E3\u07C7\0\u07CCr;\uC000\u{1D4A5}rcy;\u4408kcy;\u4404\u0380HJacfos\u07E4\u07E8\u07EC\u07F1\u07FD\u0802\u0808cy;\u4425cy;\u440Cppa;\u439A\u0100ey\u07F6\u07FBdil;\u4136;\u441Ar;\uC000\u{1D50E}pf;\uC000\u{1D542}cr;\uC000\u{1D4A6}\u0580JTaceflmost\u0825\u0829\u082C\u0850\u0863\u09B3\u09B8\u09C7\u09CD\u0A37\u0A47cy;\u4409\u803B<\u403C\u0280cmnpr\u0837\u083C\u0841\u0844\u084Dute;\u4139bda;\u439Bg;\u67EAlacetrf;\u6112r;\u619E\u0180aey\u0857\u085C\u0861ron;\u413Ddil;\u413B;\u441B\u0100fs\u0868\u0970t\u0500ACDFRTUVar\u087E\u08A9\u08B1\u08E0\u08E6\u08FC\u092F\u095B\u0390\u096A\u0100nr\u0883\u088FgleBracket;\u67E8row\u0180;BR\u0899\u089A\u089E\u6190ar;\u61E4ightArrow;\u61C6eiling;\u6308o\u01F5\u08B7\0\u08C3bleBracket;\u67E6n\u01D4\u08C8\0\u08D2eeVector;\u6961ector\u0100;B\u08DB\u08DC\u61C3ar;\u6959loor;\u630Aight\u0100AV\u08EF\u08F5rrow;\u6194ector;\u694E\u0100er\u0901\u0917e\u0180;AV\u0909\u090A\u0910\u62A3rrow;\u61A4ector;\u695Aiangle\u0180;BE\u0924\u0925\u0929\u62B2ar;\u69CFqual;\u62B4p\u0180DTV\u0937\u0942\u094CownVector;\u6951eeVector;\u6960ector\u0100;B\u0956\u0957\u61BFar;\u6958ector\u0100;B\u0965\u0966\u61BCar;\u6952ight\xE1\u039Cs\u0300EFGLST\u097E\u098B\u0995\u099D\u09A2\u09ADqualGreater;\u62DAullEqual;\u6266reater;\u6276ess;\u6AA1lantEqual;\u6A7Dilde;\u6272r;\uC000\u{1D50F}\u0100;e\u09BD\u09BE\u62D8ftarrow;\u61DAidot;\u413F\u0180npw\u09D4\u0A16\u0A1Bg\u0200LRlr\u09DE\u09F7\u0A02\u0A10eft\u0100AR\u09E6\u09ECrrow;\u67F5ightArrow;\u67F7ightArrow;\u67F6eft\u0100ar\u03B3\u0A0Aight\xE1\u03BFight\xE1\u03CAf;\uC000\u{1D543}er\u0100LR\u0A22\u0A2CeftArrow;\u6199ightArrow;\u6198\u0180cht\u0A3E\u0A40\u0A42\xF2\u084C;\u61B0rok;\u4141;\u626A\u0400acefiosu\u0A5A\u0A5D\u0A60\u0A77\u0A7C\u0A85\u0A8B\u0A8Ep;\u6905y;\u441C\u0100dl\u0A65\u0A6FiumSpace;\u605Flintrf;\u6133r;\uC000\u{1D510}nusPlus;\u6213pf;\uC000\u{1D544}c\xF2\u0A76;\u439C\u0480Jacefostu\u0AA3\u0AA7\u0AAD\u0AC0\u0B14\u0B19\u0D91\u0D97\u0D9Ecy;\u440Acute;\u4143\u0180aey\u0AB4\u0AB9\u0ABEron;\u4147dil;\u4145;\u441D\u0180gsw\u0AC7\u0AF0\u0B0Eative\u0180MTV\u0AD3\u0ADF\u0AE8ediumSpace;\u600Bhi\u0100cn\u0AE6\u0AD8\xEB\u0AD9eryThi\xEE\u0AD9ted\u0100GL\u0AF8\u0B06reaterGreate\xF2\u0673essLes\xF3\u0A48Line;\u400Ar;\uC000\u{1D511}\u0200Bnpt\u0B22\u0B28\u0B37\u0B3Areak;\u6060BreakingSpace;\u40A0f;\u6115\u0680;CDEGHLNPRSTV\u0B55\u0B56\u0B6A\u0B7C\u0BA1\u0BEB\u0C04\u0C5E\u0C84\u0CA6\u0CD8\u0D61\u0D85\u6AEC\u0100ou\u0B5B\u0B64ngruent;\u6262pCap;\u626DoubleVerticalBar;\u6226\u0180lqx\u0B83\u0B8A\u0B9Bement;\u6209ual\u0100;T\u0B92\u0B93\u6260ilde;\uC000\u2242\u0338ists;\u6204reater\u0380;EFGLST\u0BB6\u0BB7\u0BBD\u0BC9\u0BD3\u0BD8\u0BE5\u626Fqual;\u6271ullEqual;\uC000\u2267\u0338reater;\uC000\u226B\u0338ess;\u6279lantEqual;\uC000\u2A7E\u0338ilde;\u6275ump\u0144\u0BF2\u0BFDownHump;\uC000\u224E\u0338qual;\uC000\u224F\u0338e\u0100fs\u0C0A\u0C27tTriangle\u0180;BE\u0C1A\u0C1B\u0C21\u62EAar;\uC000\u29CF\u0338qual;\u62ECs\u0300;EGLST\u0C35\u0C36\u0C3C\u0C44\u0C4B\u0C58\u626Equal;\u6270reater;\u6278ess;\uC000\u226A\u0338lantEqual;\uC000\u2A7D\u0338ilde;\u6274ested\u0100GL\u0C68\u0C79reaterGreater;\uC000\u2AA2\u0338essLess;\uC000\u2AA1\u0338recedes\u0180;ES\u0C92\u0C93\u0C9B\u6280qual;\uC000\u2AAF\u0338lantEqual;\u62E0\u0100ei\u0CAB\u0CB9verseElement;\u620CghtTriangle\u0180;BE\u0CCB\u0CCC\u0CD2\u62EBar;\uC000\u29D0\u0338qual;\u62ED\u0100qu\u0CDD\u0D0CuareSu\u0100bp\u0CE8\u0CF9set\u0100;E\u0CF0\u0CF3\uC000\u228F\u0338qual;\u62E2erset\u0100;E\u0D03\u0D06\uC000\u2290\u0338qual;\u62E3\u0180bcp\u0D13\u0D24\u0D4Eset\u0100;E\u0D1B\u0D1E\uC000\u2282\u20D2qual;\u6288ceeds\u0200;EST\u0D32\u0D33\u0D3B\u0D46\u6281qual;\uC000\u2AB0\u0338lantEqual;\u62E1ilde;\uC000\u227F\u0338erset\u0100;E\u0D58\u0D5B\uC000\u2283\u20D2qual;\u6289ilde\u0200;EFT\u0D6E\u0D6F\u0D75\u0D7F\u6241qual;\u6244ullEqual;\u6247ilde;\u6249erticalBar;\u6224cr;\uC000\u{1D4A9}ilde\u803B\xD1\u40D1;\u439D\u0700Eacdfgmoprstuv\u0DBD\u0DC2\u0DC9\u0DD5\u0DDB\u0DE0\u0DE7\u0DFC\u0E02\u0E20\u0E22\u0E32\u0E3F\u0E44lig;\u4152cute\u803B\xD3\u40D3\u0100iy\u0DCE\u0DD3rc\u803B\xD4\u40D4;\u441Eblac;\u4150r;\uC000\u{1D512}rave\u803B\xD2\u40D2\u0180aei\u0DEE\u0DF2\u0DF6cr;\u414Cga;\u43A9cron;\u439Fpf;\uC000\u{1D546}enCurly\u0100DQ\u0E0E\u0E1AoubleQuote;\u601Cuote;\u6018;\u6A54\u0100cl\u0E27\u0E2Cr;\uC000\u{1D4AA}ash\u803B\xD8\u40D8i\u016C\u0E37\u0E3Cde\u803B\xD5\u40D5es;\u6A37ml\u803B\xD6\u40D6er\u0100BP\u0E4B\u0E60\u0100ar\u0E50\u0E53r;\u603Eac\u0100ek\u0E5A\u0E5C;\u63DEet;\u63B4arenthesis;\u63DC\u0480acfhilors\u0E7F\u0E87\u0E8A\u0E8F\u0E92\u0E94\u0E9D\u0EB0\u0EFCrtialD;\u6202y;\u441Fr;\uC000\u{1D513}i;\u43A6;\u43A0usMinus;\u40B1\u0100ip\u0EA2\u0EADncareplan\xE5\u069Df;\u6119\u0200;eio\u0EB9\u0EBA\u0EE0\u0EE4\u6ABBcedes\u0200;EST\u0EC8\u0EC9\u0ECF\u0EDA\u627Aqual;\u6AAFlantEqual;\u627Cilde;\u627Eme;\u6033\u0100dp\u0EE9\u0EEEuct;\u620Fortion\u0100;a\u0225\u0EF9l;\u621D\u0100ci\u0F01\u0F06r;\uC000\u{1D4AB};\u43A8\u0200Ufos\u0F11\u0F16\u0F1B\u0F1FOT\u803B"\u4022r;\uC000\u{1D514}pf;\u611Acr;\uC000\u{1D4AC}\u0600BEacefhiorsu\u0F3E\u0F43\u0F47\u0F60\u0F73\u0FA7\u0FAA\u0FAD\u1096\u10A9\u10B4\u10BEarr;\u6910G\u803B\xAE\u40AE\u0180cnr\u0F4E\u0F53\u0F56ute;\u4154g;\u67EBr\u0100;t\u0F5C\u0F5D\u61A0l;\u6916\u0180aey\u0F67\u0F6C\u0F71ron;\u4158dil;\u4156;\u4420\u0100;v\u0F78\u0F79\u611Cerse\u0100EU\u0F82\u0F99\u0100lq\u0F87\u0F8Eement;\u620Builibrium;\u61CBpEquilibrium;\u696Fr\xBB\u0F79o;\u43A1ght\u0400ACDFTUVa\u0FC1\u0FEB\u0FF3\u1022\u1028\u105B\u1087\u03D8\u0100nr\u0FC6\u0FD2gleBracket;\u67E9row\u0180;BL\u0FDC\u0FDD\u0FE1\u6192ar;\u61E5eftArrow;\u61C4eiling;\u6309o\u01F5\u0FF9\0\u1005bleBracket;\u67E7n\u01D4\u100A\0\u1014eeVector;\u695Dector\u0100;B\u101D\u101E\u61C2ar;\u6955loor;\u630B\u0100er\u102D\u1043e\u0180;AV\u1035\u1036\u103C\u62A2rrow;\u61A6ector;\u695Biangle\u0180;BE\u1050\u1051\u1055\u62B3ar;\u69D0qual;\u62B5p\u0180DTV\u1063\u106E\u1078ownVector;\u694FeeVector;\u695Cector\u0100;B\u1082\u1083\u61BEar;\u6954ector\u0100;B\u1091\u1092\u61C0ar;\u6953\u0100pu\u109B\u109Ef;\u611DndImplies;\u6970ightarrow;\u61DB\u0100ch\u10B9\u10BCr;\u611B;\u61B1leDelayed;\u69F4\u0680HOacfhimoqstu\u10E4\u10F1\u10F7\u10FD\u1119\u111E\u1151\u1156\u1161\u1167\u11B5\u11BB\u11BF\u0100Cc\u10E9\u10EEHcy;\u4429y;\u4428FTcy;\u442Ccute;\u415A\u0280;aeiy\u1108\u1109\u110E\u1113\u1117\u6ABCron;\u4160dil;\u415Erc;\u415C;\u4421r;\uC000\u{1D516}ort\u0200DLRU\u112A\u1134\u113E\u1149ownArrow\xBB\u041EeftArrow\xBB\u089AightArrow\xBB\u0FDDpArrow;\u6191gma;\u43A3allCircle;\u6218pf;\uC000\u{1D54A}\u0272\u116D\0\0\u1170t;\u621Aare\u0200;ISU\u117B\u117C\u1189\u11AF\u65A1ntersection;\u6293u\u0100bp\u118F\u119Eset\u0100;E\u1197\u1198\u628Fqual;\u6291erset\u0100;E\u11A8\u11A9\u6290qual;\u6292nion;\u6294cr;\uC000\u{1D4AE}ar;\u62C6\u0200bcmp\u11C8\u11DB\u1209\u120B\u0100;s\u11CD\u11CE\u62D0et\u0100;E\u11CD\u11D5qual;\u6286\u0100ch\u11E0\u1205eeds\u0200;EST\u11ED\u11EE\u11F4\u11FF\u627Bqual;\u6AB0lantEqual;\u627Dilde;\u627FTh\xE1\u0F8C;\u6211\u0180;es\u1212\u1213\u1223\u62D1rset\u0100;E\u121C\u121D\u6283qual;\u6287et\xBB\u1213\u0580HRSacfhiors\u123E\u1244\u1249\u1255\u125E\u1271\u1276\u129F\u12C2\u12C8\u12D1ORN\u803B\xDE\u40DEADE;\u6122\u0100Hc\u124E\u1252cy;\u440By;\u4426\u0100bu\u125A\u125C;\u4009;\u43A4\u0180aey\u1265\u126A\u126Fron;\u4164dil;\u4162;\u4422r;\uC000\u{1D517}\u0100ei\u127B\u1289\u01F2\u1280\0\u1287efore;\u6234a;\u4398\u0100cn\u128E\u1298kSpace;\uC000\u205F\u200ASpace;\u6009lde\u0200;EFT\u12AB\u12AC\u12B2\u12BC\u623Cqual;\u6243ullEqual;\u6245ilde;\u6248pf;\uC000\u{1D54B}ipleDot;\u60DB\u0100ct\u12D6\u12DBr;\uC000\u{1D4AF}rok;\u4166\u0AE1\u12F7\u130E\u131A\u1326\0\u132C\u1331\0\0\0\0\0\u1338\u133D\u1377\u1385\0\u13FF\u1404\u140A\u1410\u0100cr\u12FB\u1301ute\u803B\xDA\u40DAr\u0100;o\u1307\u1308\u619Fcir;\u6949r\u01E3\u1313\0\u1316y;\u440Eve;\u416C\u0100iy\u131E\u1323rc\u803B\xDB\u40DB;\u4423blac;\u4170r;\uC000\u{1D518}rave\u803B\xD9\u40D9acr;\u416A\u0100di\u1341\u1369er\u0100BP\u1348\u135D\u0100ar\u134D\u1350r;\u405Fac\u0100ek\u1357\u1359;\u63DFet;\u63B5arenthesis;\u63DDon\u0100;P\u1370\u1371\u62C3lus;\u628E\u0100gp\u137B\u137Fon;\u4172f;\uC000\u{1D54C}\u0400ADETadps\u1395\u13AE\u13B8\u13C4\u03E8\u13D2\u13D7\u13F3rrow\u0180;BD\u1150\u13A0\u13A4ar;\u6912ownArrow;\u61C5ownArrow;\u6195quilibrium;\u696Eee\u0100;A\u13CB\u13CC\u62A5rrow;\u61A5own\xE1\u03F3er\u0100LR\u13DE\u13E8eftArrow;\u6196ightArrow;\u6197i\u0100;l\u13F9\u13FA\u43D2on;\u43A5ing;\u416Ecr;\uC000\u{1D4B0}ilde;\u4168ml\u803B\xDC\u40DC\u0480Dbcdefosv\u1427\u142C\u1430\u1433\u143E\u1485\u148A\u1490\u1496ash;\u62ABar;\u6AEBy;\u4412ash\u0100;l\u143B\u143C\u62A9;\u6AE6\u0100er\u1443\u1445;\u62C1\u0180bty\u144C\u1450\u147Aar;\u6016\u0100;i\u144F\u1455cal\u0200BLST\u1461\u1465\u146A\u1474ar;\u6223ine;\u407Ceparator;\u6758ilde;\u6240ThinSpace;\u600Ar;\uC000\u{1D519}pf;\uC000\u{1D54D}cr;\uC000\u{1D4B1}dash;\u62AA\u0280cefos\u14A7\u14AC\u14B1\u14B6\u14BCirc;\u4174dge;\u62C0r;\uC000\u{1D51A}pf;\uC000\u{1D54E}cr;\uC000\u{1D4B2}\u0200fios\u14CB\u14D0\u14D2\u14D8r;\uC000\u{1D51B};\u439Epf;\uC000\u{1D54F}cr;\uC000\u{1D4B3}\u0480AIUacfosu\u14F1\u14F5\u14F9\u14FD\u1504\u150F\u1514\u151A\u1520cy;\u442Fcy;\u4407cy;\u442Ecute\u803B\xDD\u40DD\u0100iy\u1509\u150Drc;\u4176;\u442Br;\uC000\u{1D51C}pf;\uC000\u{1D550}cr;\uC000\u{1D4B4}ml;\u4178\u0400Hacdefos\u1535\u1539\u153F\u154B\u154F\u155D\u1560\u1564cy;\u4416cute;\u4179\u0100ay\u1544\u1549ron;\u417D;\u4417ot;\u417B\u01F2\u1554\0\u155BoWidt\xE8\u0AD9a;\u4396r;\u6128pf;\u6124cr;\uC000\u{1D4B5}\u0BE1\u1583\u158A\u1590\0\u15B0\u15B6\u15BF\0\0\0\0\u15C6\u15DB\u15EB\u165F\u166D\0\u1695\u169B\u16B2\u16B9\0\u16BEcute\u803B\xE1\u40E1reve;\u4103\u0300;Ediuy\u159C\u159D\u15A1\u15A3\u15A8\u15AD\u623E;\uC000\u223E\u0333;\u623Frc\u803B\xE2\u40E2te\u80BB\xB4\u0306;\u4430lig\u803B\xE6\u40E6\u0100;r\xB2\u15BA;\uC000\u{1D51E}rave\u803B\xE0\u40E0\u0100ep\u15CA\u15D6\u0100fp\u15CF\u15D4sym;\u6135\xE8\u15D3ha;\u43B1\u0100ap\u15DFc\u0100cl\u15E4\u15E7r;\u4101g;\u6A3F\u0264\u15F0\0\0\u160A\u0280;adsv\u15FA\u15FB\u15FF\u1601\u1607\u6227nd;\u6A55;\u6A5Clope;\u6A58;\u6A5A\u0380;elmrsz\u1618\u1619\u161B\u161E\u163F\u164F\u1659\u6220;\u69A4e\xBB\u1619sd\u0100;a\u1625\u1626\u6221\u0461\u1630\u1632\u1634\u1636\u1638\u163A\u163C\u163E;\u69A8;\u69A9;\u69AA;\u69AB;\u69AC;\u69AD;\u69AE;\u69AFt\u0100;v\u1645\u1646\u621Fb\u0100;d\u164C\u164D\u62BE;\u699D\u0100pt\u1654\u1657h;\u6222\xBB\xB9arr;\u637C\u0100gp\u1663\u1667on;\u4105f;\uC000\u{1D552}\u0380;Eaeiop\u12C1\u167B\u167D\u1682\u1684\u1687\u168A;\u6A70cir;\u6A6F;\u624Ad;\u624Bs;\u4027rox\u0100;e\u12C1\u1692\xF1\u1683ing\u803B\xE5\u40E5\u0180cty\u16A1\u16A6\u16A8r;\uC000\u{1D4B6};\u402Amp\u0100;e\u12C1\u16AF\xF1\u0288ilde\u803B\xE3\u40E3ml\u803B\xE4\u40E4\u0100ci\u16C2\u16C8onin\xF4\u0272nt;\u6A11\u0800Nabcdefiklnoprsu\u16ED\u16F1\u1730\u173C\u1743\u1748\u1778\u177D\u17E0\u17E6\u1839\u1850\u170D\u193D\u1948\u1970ot;\u6AED\u0100cr\u16F6\u171Ek\u0200ceps\u1700\u1705\u170D\u1713ong;\u624Cpsilon;\u43F6rime;\u6035im\u0100;e\u171A\u171B\u623Dq;\u62CD\u0176\u1722\u1726ee;\u62BDed\u0100;g\u172C\u172D\u6305e\xBB\u172Drk\u0100;t\u135C\u1737brk;\u63B6\u0100oy\u1701\u1741;\u4431quo;\u601E\u0280cmprt\u1753\u175B\u1761\u1764\u1768aus\u0100;e\u010A\u0109ptyv;\u69B0s\xE9\u170Cno\xF5\u0113\u0180ahw\u176F\u1771\u1773;\u43B2;\u6136een;\u626Cr;\uC000\u{1D51F}g\u0380costuvw\u178D\u179D\u17B3\u17C1\u17D5\u17DB\u17DE\u0180aiu\u1794\u1796\u179A\xF0\u0760rc;\u65EFp\xBB\u1371\u0180dpt\u17A4\u17A8\u17ADot;\u6A00lus;\u6A01imes;\u6A02\u0271\u17B9\0\0\u17BEcup;\u6A06ar;\u6605riangle\u0100du\u17CD\u17D2own;\u65BDp;\u65B3plus;\u6A04e\xE5\u1444\xE5\u14ADarow;\u690D\u0180ako\u17ED\u1826\u1835\u0100cn\u17F2\u1823k\u0180lst\u17FA\u05AB\u1802ozenge;\u69EBriangle\u0200;dlr\u1812\u1813\u1818\u181D\u65B4own;\u65BEeft;\u65C2ight;\u65B8k;\u6423\u01B1\u182B\0\u1833\u01B2\u182F\0\u1831;\u6592;\u65914;\u6593ck;\u6588\u0100eo\u183E\u184D\u0100;q\u1843\u1846\uC000=\u20E5uiv;\uC000\u2261\u20E5t;\u6310\u0200ptwx\u1859\u185E\u1867\u186Cf;\uC000\u{1D553}\u0100;t\u13CB\u1863om\xBB\u13CCtie;\u62C8\u0600DHUVbdhmptuv\u1885\u1896\u18AA\u18BB\u18D7\u18DB\u18EC\u18FF\u1905\u190A\u1910\u1921\u0200LRlr\u188E\u1890\u1892\u1894;\u6557;\u6554;\u6556;\u6553\u0280;DUdu\u18A1\u18A2\u18A4\u18A6\u18A8\u6550;\u6566;\u6569;\u6564;\u6567\u0200LRlr\u18B3\u18B5\u18B7\u18B9;\u655D;\u655A;\u655C;\u6559\u0380;HLRhlr\u18CA\u18CB\u18CD\u18CF\u18D1\u18D3\u18D5\u6551;\u656C;\u6563;\u6560;\u656B;\u6562;\u655Fox;\u69C9\u0200LRlr\u18E4\u18E6\u18E8\u18EA;\u6555;\u6552;\u6510;\u650C\u0280;DUdu\u06BD\u18F7\u18F9\u18FB\u18FD;\u6565;\u6568;\u652C;\u6534inus;\u629Flus;\u629Eimes;\u62A0\u0200LRlr\u1919\u191B\u191D\u191F;\u655B;\u6558;\u6518;\u6514\u0380;HLRhlr\u1930\u1931\u1933\u1935\u1937\u1939\u193B\u6502;\u656A;\u6561;\u655E;\u653C;\u6524;\u651C\u0100ev\u0123\u1942bar\u803B\xA6\u40A6\u0200ceio\u1951\u1956\u195A\u1960r;\uC000\u{1D4B7}mi;\u604Fm\u0100;e\u171A\u171Cl\u0180;bh\u1968\u1969\u196B\u405C;\u69C5sub;\u67C8\u016C\u1974\u197El\u0100;e\u1979\u197A\u6022t\xBB\u197Ap\u0180;Ee\u012F\u1985\u1987;\u6AAE\u0100;q\u06DC\u06DB\u0CE1\u19A7\0\u19E8\u1A11\u1A15\u1A32\0\u1A37\u1A50\0\0\u1AB4\0\0\u1AC1\0\0\u1B21\u1B2E\u1B4D\u1B52\0\u1BFD\0\u1C0C\u0180cpr\u19AD\u19B2\u19DDute;\u4107\u0300;abcds\u19BF\u19C0\u19C4\u19CA\u19D5\u19D9\u6229nd;\u6A44rcup;\u6A49\u0100au\u19CF\u19D2p;\u6A4Bp;\u6A47ot;\u6A40;\uC000\u2229\uFE00\u0100eo\u19E2\u19E5t;\u6041\xEE\u0693\u0200aeiu\u19F0\u19FB\u1A01\u1A05\u01F0\u19F5\0\u19F8s;\u6A4Don;\u410Ddil\u803B\xE7\u40E7rc;\u4109ps\u0100;s\u1A0C\u1A0D\u6A4Cm;\u6A50ot;\u410B\u0180dmn\u1A1B\u1A20\u1A26il\u80BB\xB8\u01ADptyv;\u69B2t\u8100\xA2;e\u1A2D\u1A2E\u40A2r\xE4\u01B2r;\uC000\u{1D520}\u0180cei\u1A3D\u1A40\u1A4Dy;\u4447ck\u0100;m\u1A47\u1A48\u6713ark\xBB\u1A48;\u43C7r\u0380;Ecefms\u1A5F\u1A60\u1A62\u1A6B\u1AA4\u1AAA\u1AAE\u65CB;\u69C3\u0180;el\u1A69\u1A6A\u1A6D\u42C6q;\u6257e\u0261\u1A74\0\0\u1A88rrow\u0100lr\u1A7C\u1A81eft;\u61BAight;\u61BB\u0280RSacd\u1A92\u1A94\u1A96\u1A9A\u1A9F\xBB\u0F47;\u64C8st;\u629Birc;\u629Aash;\u629Dnint;\u6A10id;\u6AEFcir;\u69C2ubs\u0100;u\u1ABB\u1ABC\u6663it\xBB\u1ABC\u02EC\u1AC7\u1AD4\u1AFA\0\u1B0Aon\u0100;e\u1ACD\u1ACE\u403A\u0100;q\xC7\xC6\u026D\u1AD9\0\0\u1AE2a\u0100;t\u1ADE\u1ADF\u402C;\u4040\u0180;fl\u1AE8\u1AE9\u1AEB\u6201\xEE\u1160e\u0100mx\u1AF1\u1AF6ent\xBB\u1AE9e\xF3\u024D\u01E7\u1AFE\0\u1B07\u0100;d\u12BB\u1B02ot;\u6A6Dn\xF4\u0246\u0180fry\u1B10\u1B14\u1B17;\uC000\u{1D554}o\xE4\u0254\u8100\xA9;s\u0155\u1B1Dr;\u6117\u0100ao\u1B25\u1B29rr;\u61B5ss;\u6717\u0100cu\u1B32\u1B37r;\uC000\u{1D4B8}\u0100bp\u1B3C\u1B44\u0100;e\u1B41\u1B42\u6ACF;\u6AD1\u0100;e\u1B49\u1B4A\u6AD0;\u6AD2dot;\u62EF\u0380delprvw\u1B60\u1B6C\u1B77\u1B82\u1BAC\u1BD4\u1BF9arr\u0100lr\u1B68\u1B6A;\u6938;\u6935\u0270\u1B72\0\0\u1B75r;\u62DEc;\u62DFarr\u0100;p\u1B7F\u1B80\u61B6;\u693D\u0300;bcdos\u1B8F\u1B90\u1B96\u1BA1\u1BA5\u1BA8\u622Arcap;\u6A48\u0100au\u1B9B\u1B9Ep;\u6A46p;\u6A4Aot;\u628Dr;\u6A45;\uC000\u222A\uFE00\u0200alrv\u1BB5\u1BBF\u1BDE\u1BE3rr\u0100;m\u1BBC\u1BBD\u61B7;\u693Cy\u0180evw\u1BC7\u1BD4\u1BD8q\u0270\u1BCE\0\0\u1BD2re\xE3\u1B73u\xE3\u1B75ee;\u62CEedge;\u62CFen\u803B\xA4\u40A4earrow\u0100lr\u1BEE\u1BF3eft\xBB\u1B80ight\xBB\u1BBDe\xE4\u1BDD\u0100ci\u1C01\u1C07onin\xF4\u01F7nt;\u6231lcty;\u632D\u0980AHabcdefhijlorstuwz\u1C38\u1C3B\u1C3F\u1C5D\u1C69\u1C75\u1C8A\u1C9E\u1CAC\u1CB7\u1CFB\u1CFF\u1D0D\u1D7B\u1D91\u1DAB\u1DBB\u1DC6\u1DCDr\xF2\u0381ar;\u6965\u0200glrs\u1C48\u1C4D\u1C52\u1C54ger;\u6020eth;\u6138\xF2\u1133h\u0100;v\u1C5A\u1C5B\u6010\xBB\u090A\u016B\u1C61\u1C67arow;\u690Fa\xE3\u0315\u0100ay\u1C6E\u1C73ron;\u410F;\u4434\u0180;ao\u0332\u1C7C\u1C84\u0100gr\u02BF\u1C81r;\u61CAtseq;\u6A77\u0180glm\u1C91\u1C94\u1C98\u803B\xB0\u40B0ta;\u43B4ptyv;\u69B1\u0100ir\u1CA3\u1CA8sht;\u697F;\uC000\u{1D521}ar\u0100lr\u1CB3\u1CB5\xBB\u08DC\xBB\u101E\u0280aegsv\u1CC2\u0378\u1CD6\u1CDC\u1CE0m\u0180;os\u0326\u1CCA\u1CD4nd\u0100;s\u0326\u1CD1uit;\u6666amma;\u43DDin;\u62F2\u0180;io\u1CE7\u1CE8\u1CF8\u40F7de\u8100\xF7;o\u1CE7\u1CF0ntimes;\u62C7n\xF8\u1CF7cy;\u4452c\u026F\u1D06\0\0\u1D0Arn;\u631Eop;\u630D\u0280lptuw\u1D18\u1D1D\u1D22\u1D49\u1D55lar;\u4024f;\uC000\u{1D555}\u0280;emps\u030B\u1D2D\u1D37\u1D3D\u1D42q\u0100;d\u0352\u1D33ot;\u6251inus;\u6238lus;\u6214quare;\u62A1blebarwedg\xE5\xFAn\u0180adh\u112E\u1D5D\u1D67ownarrow\xF3\u1C83arpoon\u0100lr\u1D72\u1D76ef\xF4\u1CB4igh\xF4\u1CB6\u0162\u1D7F\u1D85karo\xF7\u0F42\u026F\u1D8A\0\0\u1D8Ern;\u631Fop;\u630C\u0180cot\u1D98\u1DA3\u1DA6\u0100ry\u1D9D\u1DA1;\uC000\u{1D4B9};\u4455l;\u69F6rok;\u4111\u0100dr\u1DB0\u1DB4ot;\u62F1i\u0100;f\u1DBA\u1816\u65BF\u0100ah\u1DC0\u1DC3r\xF2\u0429a\xF2\u0FA6angle;\u69A6\u0100ci\u1DD2\u1DD5y;\u445Fgrarr;\u67FF\u0900Dacdefglmnopqrstux\u1E01\u1E09\u1E19\u1E38\u0578\u1E3C\u1E49\u1E61\u1E7E\u1EA5\u1EAF\u1EBD\u1EE1\u1F2A\u1F37\u1F44\u1F4E\u1F5A\u0100Do\u1E06\u1D34o\xF4\u1C89\u0100cs\u1E0E\u1E14ute\u803B\xE9\u40E9ter;\u6A6E\u0200aioy\u1E22\u1E27\u1E31\u1E36ron;\u411Br\u0100;c\u1E2D\u1E2E\u6256\u803B\xEA\u40EAlon;\u6255;\u444Dot;\u4117\u0100Dr\u1E41\u1E45ot;\u6252;\uC000\u{1D522}\u0180;rs\u1E50\u1E51\u1E57\u6A9Aave\u803B\xE8\u40E8\u0100;d\u1E5C\u1E5D\u6A96ot;\u6A98\u0200;ils\u1E6A\u1E6B\u1E72\u1E74\u6A99nters;\u63E7;\u6113\u0100;d\u1E79\u1E7A\u6A95ot;\u6A97\u0180aps\u1E85\u1E89\u1E97cr;\u4113ty\u0180;sv\u1E92\u1E93\u1E95\u6205et\xBB\u1E93p\u01001;\u1E9D\u1EA4\u0133\u1EA1\u1EA3;\u6004;\u6005\u6003\u0100gs\u1EAA\u1EAC;\u414Bp;\u6002\u0100gp\u1EB4\u1EB8on;\u4119f;\uC000\u{1D556}\u0180als\u1EC4\u1ECE\u1ED2r\u0100;s\u1ECA\u1ECB\u62D5l;\u69E3us;\u6A71i\u0180;lv\u1EDA\u1EDB\u1EDF\u43B5on\xBB\u1EDB;\u43F5\u0200csuv\u1EEA\u1EF3\u1F0B\u1F23\u0100io\u1EEF\u1E31rc\xBB\u1E2E\u0269\u1EF9\0\0\u1EFB\xED\u0548ant\u0100gl\u1F02\u1F06tr\xBB\u1E5Dess\xBB\u1E7A\u0180aei\u1F12\u1F16\u1F1Als;\u403Dst;\u625Fv\u0100;D\u0235\u1F20D;\u6A78parsl;\u69E5\u0100Da\u1F2F\u1F33ot;\u6253rr;\u6971\u0180cdi\u1F3E\u1F41\u1EF8r;\u612Fo\xF4\u0352\u0100ah\u1F49\u1F4B;\u43B7\u803B\xF0\u40F0\u0100mr\u1F53\u1F57l\u803B\xEB\u40EBo;\u60AC\u0180cip\u1F61\u1F64\u1F67l;\u4021s\xF4\u056E\u0100eo\u1F6C\u1F74ctatio\xEE\u0559nential\xE5\u0579\u09E1\u1F92\0\u1F9E\0\u1FA1\u1FA7\0\0\u1FC6\u1FCC\0\u1FD3\0\u1FE6\u1FEA\u2000\0\u2008\u205Allingdotse\xF1\u1E44y;\u4444male;\u6640\u0180ilr\u1FAD\u1FB3\u1FC1lig;\u8000\uFB03\u0269\u1FB9\0\0\u1FBDg;\u8000\uFB00ig;\u8000\uFB04;\uC000\u{1D523}lig;\u8000\uFB01lig;\uC000fj\u0180alt\u1FD9\u1FDC\u1FE1t;\u666Dig;\u8000\uFB02ns;\u65B1of;\u4192\u01F0\u1FEE\0\u1FF3f;\uC000\u{1D557}\u0100ak\u05BF\u1FF7\u0100;v\u1FFC\u1FFD\u62D4;\u6AD9artint;\u6A0D\u0100ao\u200C\u2055\u0100cs\u2011\u2052\u03B1\u201A\u2030\u2038\u2045\u2048\0\u2050\u03B2\u2022\u2025\u2027\u202A\u202C\0\u202E\u803B\xBD\u40BD;\u6153\u803B\xBC\u40BC;\u6155;\u6159;\u615B\u01B3\u2034\0\u2036;\u6154;\u6156\u02B4\u203E\u2041\0\0\u2043\u803B\xBE\u40BE;\u6157;\u615C5;\u6158\u01B6\u204C\0\u204E;\u615A;\u615D8;\u615El;\u6044wn;\u6322cr;\uC000\u{1D4BB}\u0880Eabcdefgijlnorstv\u2082\u2089\u209F\u20A5\u20B0\u20B4\u20F0\u20F5\u20FA\u20FF\u2103\u2112\u2138\u0317\u213E\u2152\u219E\u0100;l\u064D\u2087;\u6A8C\u0180cmp\u2090\u2095\u209Dute;\u41F5ma\u0100;d\u209C\u1CDA\u43B3;\u6A86reve;\u411F\u0100iy\u20AA\u20AErc;\u411D;\u4433ot;\u4121\u0200;lqs\u063E\u0642\u20BD\u20C9\u0180;qs\u063E\u064C\u20C4lan\xF4\u0665\u0200;cdl\u0665\u20D2\u20D5\u20E5c;\u6AA9ot\u0100;o\u20DC\u20DD\u6A80\u0100;l\u20E2\u20E3\u6A82;\u6A84\u0100;e\u20EA\u20ED\uC000\u22DB\uFE00s;\u6A94r;\uC000\u{1D524}\u0100;g\u0673\u061Bmel;\u6137cy;\u4453\u0200;Eaj\u065A\u210C\u210E\u2110;\u6A92;\u6AA5;\u6AA4\u0200Eaes\u211B\u211D\u2129\u2134;\u6269p\u0100;p\u2123\u2124\u6A8Arox\xBB\u2124\u0100;q\u212E\u212F\u6A88\u0100;q\u212E\u211Bim;\u62E7pf;\uC000\u{1D558}\u0100ci\u2143\u2146r;\u610Am\u0180;el\u066B\u214E\u2150;\u6A8E;\u6A90\u8300>;cdlqr\u05EE\u2160\u216A\u216E\u2173\u2179\u0100ci\u2165\u2167;\u6AA7r;\u6A7Aot;\u62D7Par;\u6995uest;\u6A7C\u0280adels\u2184\u216A\u2190\u0656\u219B\u01F0\u2189\0\u218Epro\xF8\u209Er;\u6978q\u0100lq\u063F\u2196les\xF3\u2088i\xED\u066B\u0100en\u21A3\u21ADrtneqq;\uC000\u2269\uFE00\xC5\u21AA\u0500Aabcefkosy\u21C4\u21C7\u21F1\u21F5\u21FA\u2218\u221D\u222F\u2268\u227Dr\xF2\u03A0\u0200ilmr\u21D0\u21D4\u21D7\u21DBrs\xF0\u1484f\xBB\u2024il\xF4\u06A9\u0100dr\u21E0\u21E4cy;\u444A\u0180;cw\u08F4\u21EB\u21EFir;\u6948;\u61ADar;\u610Firc;\u4125\u0180alr\u2201\u220E\u2213rts\u0100;u\u2209\u220A\u6665it\xBB\u220Alip;\u6026con;\u62B9r;\uC000\u{1D525}s\u0100ew\u2223\u2229arow;\u6925arow;\u6926\u0280amopr\u223A\u223E\u2243\u225E\u2263rr;\u61FFtht;\u623Bk\u0100lr\u2249\u2253eftarrow;\u61A9ightarrow;\u61AAf;\uC000\u{1D559}bar;\u6015\u0180clt\u226F\u2274\u2278r;\uC000\u{1D4BD}as\xE8\u21F4rok;\u4127\u0100bp\u2282\u2287ull;\u6043hen\xBB\u1C5B\u0AE1\u22A3\0\u22AA\0\u22B8\u22C5\u22CE\0\u22D5\u22F3\0\0\u22F8\u2322\u2367\u2362\u237F\0\u2386\u23AA\u23B4cute\u803B\xED\u40ED\u0180;iy\u0771\u22B0\u22B5rc\u803B\xEE\u40EE;\u4438\u0100cx\u22BC\u22BFy;\u4435cl\u803B\xA1\u40A1\u0100fr\u039F\u22C9;\uC000\u{1D526}rave\u803B\xEC\u40EC\u0200;ino\u073E\u22DD\u22E9\u22EE\u0100in\u22E2\u22E6nt;\u6A0Ct;\u622Dfin;\u69DCta;\u6129lig;\u4133\u0180aop\u22FE\u231A\u231D\u0180cgt\u2305\u2308\u2317r;\u412B\u0180elp\u071F\u230F\u2313in\xE5\u078Ear\xF4\u0720h;\u4131f;\u62B7ed;\u41B5\u0280;cfot\u04F4\u232C\u2331\u233D\u2341are;\u6105in\u0100;t\u2338\u2339\u621Eie;\u69DDdo\xF4\u2319\u0280;celp\u0757\u234C\u2350\u235B\u2361al;\u62BA\u0100gr\u2355\u2359er\xF3\u1563\xE3\u234Darhk;\u6A17rod;\u6A3C\u0200cgpt\u236F\u2372\u2376\u237By;\u4451on;\u412Ff;\uC000\u{1D55A}a;\u43B9uest\u803B\xBF\u40BF\u0100ci\u238A\u238Fr;\uC000\u{1D4BE}n\u0280;Edsv\u04F4\u239B\u239D\u23A1\u04F3;\u62F9ot;\u62F5\u0100;v\u23A6\u23A7\u62F4;\u62F3\u0100;i\u0777\u23AElde;\u4129\u01EB\u23B8\0\u23BCcy;\u4456l\u803B\xEF\u40EF\u0300cfmosu\u23CC\u23D7\u23DC\u23E1\u23E7\u23F5\u0100iy\u23D1\u23D5rc;\u4135;\u4439r;\uC000\u{1D527}ath;\u4237pf;\uC000\u{1D55B}\u01E3\u23EC\0\u23F1r;\uC000\u{1D4BF}rcy;\u4458kcy;\u4454\u0400acfghjos\u240B\u2416\u2422\u2427\u242D\u2431\u2435\u243Bppa\u0100;v\u2413\u2414\u43BA;\u43F0\u0100ey\u241B\u2420dil;\u4137;\u443Ar;\uC000\u{1D528}reen;\u4138cy;\u4445cy;\u445Cpf;\uC000\u{1D55C}cr;\uC000\u{1D4C0}\u0B80ABEHabcdefghjlmnoprstuv\u2470\u2481\u2486\u248D\u2491\u250E\u253D\u255A\u2580\u264E\u265E\u2665\u2679\u267D\u269A\u26B2\u26D8\u275D\u2768\u278B\u27C0\u2801\u2812\u0180art\u2477\u247A\u247Cr\xF2\u09C6\xF2\u0395ail;\u691Barr;\u690E\u0100;g\u0994\u248B;\u6A8Bar;\u6962\u0963\u24A5\0\u24AA\0\u24B1\0\0\0\0\0\u24B5\u24BA\0\u24C6\u24C8\u24CD\0\u24F9ute;\u413Amptyv;\u69B4ra\xEE\u084Cbda;\u43BBg\u0180;dl\u088E\u24C1\u24C3;\u6991\xE5\u088E;\u6A85uo\u803B\xAB\u40ABr\u0400;bfhlpst\u0899\u24DE\u24E6\u24E9\u24EB\u24EE\u24F1\u24F5\u0100;f\u089D\u24E3s;\u691Fs;\u691D\xEB\u2252p;\u61ABl;\u6939im;\u6973l;\u61A2\u0180;ae\u24FF\u2500\u2504\u6AABil;\u6919\u0100;s\u2509\u250A\u6AAD;\uC000\u2AAD\uFE00\u0180abr\u2515\u2519\u251Drr;\u690Crk;\u6772\u0100ak\u2522\u252Cc\u0100ek\u2528\u252A;\u407B;\u405B\u0100es\u2531\u2533;\u698Bl\u0100du\u2539\u253B;\u698F;\u698D\u0200aeuy\u2546\u254B\u2556\u2558ron;\u413E\u0100di\u2550\u2554il;\u413C\xEC\u08B0\xE2\u2529;\u443B\u0200cqrs\u2563\u2566\u256D\u257Da;\u6936uo\u0100;r\u0E19\u1746\u0100du\u2572\u2577har;\u6967shar;\u694Bh;\u61B2\u0280;fgqs\u258B\u258C\u0989\u25F3\u25FF\u6264t\u0280ahlrt\u2598\u25A4\u25B7\u25C2\u25E8rrow\u0100;t\u0899\u25A1a\xE9\u24F6arpoon\u0100du\u25AF\u25B4own\xBB\u045Ap\xBB\u0966eftarrows;\u61C7ight\u0180ahs\u25CD\u25D6\u25DErrow\u0100;s\u08F4\u08A7arpoon\xF3\u0F98quigarro\xF7\u21F0hreetimes;\u62CB\u0180;qs\u258B\u0993\u25FAlan\xF4\u09AC\u0280;cdgs\u09AC\u260A\u260D\u261D\u2628c;\u6AA8ot\u0100;o\u2614\u2615\u6A7F\u0100;r\u261A\u261B\u6A81;\u6A83\u0100;e\u2622\u2625\uC000\u22DA\uFE00s;\u6A93\u0280adegs\u2633\u2639\u263D\u2649\u264Bppro\xF8\u24C6ot;\u62D6q\u0100gq\u2643\u2645\xF4\u0989gt\xF2\u248C\xF4\u099Bi\xED\u09B2\u0180ilr\u2655\u08E1\u265Asht;\u697C;\uC000\u{1D529}\u0100;E\u099C\u2663;\u6A91\u0161\u2669\u2676r\u0100du\u25B2\u266E\u0100;l\u0965\u2673;\u696Alk;\u6584cy;\u4459\u0280;acht\u0A48\u2688\u268B\u2691\u2696r\xF2\u25C1orne\xF2\u1D08ard;\u696Bri;\u65FA\u0100io\u269F\u26A4dot;\u4140ust\u0100;a\u26AC\u26AD\u63B0che\xBB\u26AD\u0200Eaes\u26BB\u26BD\u26C9\u26D4;\u6268p\u0100;p\u26C3\u26C4\u6A89rox\xBB\u26C4\u0100;q\u26CE\u26CF\u6A87\u0100;q\u26CE\u26BBim;\u62E6\u0400abnoptwz\u26E9\u26F4\u26F7\u271A\u272F\u2741\u2747\u2750\u0100nr\u26EE\u26F1g;\u67ECr;\u61FDr\xEB\u08C1g\u0180lmr\u26FF\u270D\u2714eft\u0100ar\u09E6\u2707ight\xE1\u09F2apsto;\u67FCight\xE1\u09FDparrow\u0100lr\u2725\u2729ef\xF4\u24EDight;\u61AC\u0180afl\u2736\u2739\u273Dr;\u6985;\uC000\u{1D55D}us;\u6A2Dimes;\u6A34\u0161\u274B\u274Fst;\u6217\xE1\u134E\u0180;ef\u2757\u2758\u1800\u65CAnge\xBB\u2758ar\u0100;l\u2764\u2765\u4028t;\u6993\u0280achmt\u2773\u2776\u277C\u2785\u2787r\xF2\u08A8orne\xF2\u1D8Car\u0100;d\u0F98\u2783;\u696D;\u600Eri;\u62BF\u0300achiqt\u2798\u279D\u0A40\u27A2\u27AE\u27BBquo;\u6039r;\uC000\u{1D4C1}m\u0180;eg\u09B2\u27AA\u27AC;\u6A8D;\u6A8F\u0100bu\u252A\u27B3o\u0100;r\u0E1F\u27B9;\u601Arok;\u4142\u8400<;cdhilqr\u082B\u27D2\u2639\u27DC\u27E0\u27E5\u27EA\u27F0\u0100ci\u27D7\u27D9;\u6AA6r;\u6A79re\xE5\u25F2mes;\u62C9arr;\u6976uest;\u6A7B\u0100Pi\u27F5\u27F9ar;\u6996\u0180;ef\u2800\u092D\u181B\u65C3r\u0100du\u2807\u280Dshar;\u694Ahar;\u6966\u0100en\u2817\u2821rtneqq;\uC000\u2268\uFE00\xC5\u281E\u0700Dacdefhilnopsu\u2840\u2845\u2882\u288E\u2893\u28A0\u28A5\u28A8\u28DA\u28E2\u28E4\u0A83\u28F3\u2902Dot;\u623A\u0200clpr\u284E\u2852\u2863\u287Dr\u803B\xAF\u40AF\u0100et\u2857\u2859;\u6642\u0100;e\u285E\u285F\u6720se\xBB\u285F\u0100;s\u103B\u2868to\u0200;dlu\u103B\u2873\u2877\u287Bow\xEE\u048Cef\xF4\u090F\xF0\u13D1ker;\u65AE\u0100oy\u2887\u288Cmma;\u6A29;\u443Cash;\u6014asuredangle\xBB\u1626r;\uC000\u{1D52A}o;\u6127\u0180cdn\u28AF\u28B4\u28C9ro\u803B\xB5\u40B5\u0200;acd\u1464\u28BD\u28C0\u28C4s\xF4\u16A7ir;\u6AF0ot\u80BB\xB7\u01B5us\u0180;bd\u28D2\u1903\u28D3\u6212\u0100;u\u1D3C\u28D8;\u6A2A\u0163\u28DE\u28E1p;\u6ADB\xF2\u2212\xF0\u0A81\u0100dp\u28E9\u28EEels;\u62A7f;\uC000\u{1D55E}\u0100ct\u28F8\u28FDr;\uC000\u{1D4C2}pos\xBB\u159D\u0180;lm\u2909\u290A\u290D\u43BCtimap;\u62B8\u0C00GLRVabcdefghijlmoprstuvw\u2942\u2953\u297E\u2989\u2998\u29DA\u29E9\u2A15\u2A1A\u2A58\u2A5D\u2A83\u2A95\u2AA4\u2AA8\u2B04\u2B07\u2B44\u2B7F\u2BAE\u2C34\u2C67\u2C7C\u2CE9\u0100gt\u2947\u294B;\uC000\u22D9\u0338\u0100;v\u2950\u0BCF\uC000\u226B\u20D2\u0180elt\u295A\u2972\u2976ft\u0100ar\u2961\u2967rrow;\u61CDightarrow;\u61CE;\uC000\u22D8\u0338\u0100;v\u297B\u0C47\uC000\u226A\u20D2ightarrow;\u61CF\u0100Dd\u298E\u2993ash;\u62AFash;\u62AE\u0280bcnpt\u29A3\u29A7\u29AC\u29B1\u29CCla\xBB\u02DEute;\u4144g;\uC000\u2220\u20D2\u0280;Eiop\u0D84\u29BC\u29C0\u29C5\u29C8;\uC000\u2A70\u0338d;\uC000\u224B\u0338s;\u4149ro\xF8\u0D84ur\u0100;a\u29D3\u29D4\u666El\u0100;s\u29D3\u0B38\u01F3\u29DF\0\u29E3p\u80BB\xA0\u0B37mp\u0100;e\u0BF9\u0C00\u0280aeouy\u29F4\u29FE\u2A03\u2A10\u2A13\u01F0\u29F9\0\u29FB;\u6A43on;\u4148dil;\u4146ng\u0100;d\u0D7E\u2A0Aot;\uC000\u2A6D\u0338p;\u6A42;\u443Dash;\u6013\u0380;Aadqsx\u0B92\u2A29\u2A2D\u2A3B\u2A41\u2A45\u2A50rr;\u61D7r\u0100hr\u2A33\u2A36k;\u6924\u0100;o\u13F2\u13F0ot;\uC000\u2250\u0338ui\xF6\u0B63\u0100ei\u2A4A\u2A4Ear;\u6928\xED\u0B98ist\u0100;s\u0BA0\u0B9Fr;\uC000\u{1D52B}\u0200Eest\u0BC5\u2A66\u2A79\u2A7C\u0180;qs\u0BBC\u2A6D\u0BE1\u0180;qs\u0BBC\u0BC5\u2A74lan\xF4\u0BE2i\xED\u0BEA\u0100;r\u0BB6\u2A81\xBB\u0BB7\u0180Aap\u2A8A\u2A8D\u2A91r\xF2\u2971rr;\u61AEar;\u6AF2\u0180;sv\u0F8D\u2A9C\u0F8C\u0100;d\u2AA1\u2AA2\u62FC;\u62FAcy;\u445A\u0380AEadest\u2AB7\u2ABA\u2ABE\u2AC2\u2AC5\u2AF6\u2AF9r\xF2\u2966;\uC000\u2266\u0338rr;\u619Ar;\u6025\u0200;fqs\u0C3B\u2ACE\u2AE3\u2AEFt\u0100ar\u2AD4\u2AD9rro\xF7\u2AC1ightarro\xF7\u2A90\u0180;qs\u0C3B\u2ABA\u2AEAlan\xF4\u0C55\u0100;s\u0C55\u2AF4\xBB\u0C36i\xED\u0C5D\u0100;r\u0C35\u2AFEi\u0100;e\u0C1A\u0C25i\xE4\u0D90\u0100pt\u2B0C\u2B11f;\uC000\u{1D55F}\u8180\xAC;in\u2B19\u2B1A\u2B36\u40ACn\u0200;Edv\u0B89\u2B24\u2B28\u2B2E;\uC000\u22F9\u0338ot;\uC000\u22F5\u0338\u01E1\u0B89\u2B33\u2B35;\u62F7;\u62F6i\u0100;v\u0CB8\u2B3C\u01E1\u0CB8\u2B41\u2B43;\u62FE;\u62FD\u0180aor\u2B4B\u2B63\u2B69r\u0200;ast\u0B7B\u2B55\u2B5A\u2B5Flle\xEC\u0B7Bl;\uC000\u2AFD\u20E5;\uC000\u2202\u0338lint;\u6A14\u0180;ce\u0C92\u2B70\u2B73u\xE5\u0CA5\u0100;c\u0C98\u2B78\u0100;e\u0C92\u2B7D\xF1\u0C98\u0200Aait\u2B88\u2B8B\u2B9D\u2BA7r\xF2\u2988rr\u0180;cw\u2B94\u2B95\u2B99\u619B;\uC000\u2933\u0338;\uC000\u219D\u0338ghtarrow\xBB\u2B95ri\u0100;e\u0CCB\u0CD6\u0380chimpqu\u2BBD\u2BCD\u2BD9\u2B04\u0B78\u2BE4\u2BEF\u0200;cer\u0D32\u2BC6\u0D37\u2BC9u\xE5\u0D45;\uC000\u{1D4C3}ort\u026D\u2B05\0\0\u2BD6ar\xE1\u2B56m\u0100;e\u0D6E\u2BDF\u0100;q\u0D74\u0D73su\u0100bp\u2BEB\u2BED\xE5\u0CF8\xE5\u0D0B\u0180bcp\u2BF6\u2C11\u2C19\u0200;Ees\u2BFF\u2C00\u0D22\u2C04\u6284;\uC000\u2AC5\u0338et\u0100;e\u0D1B\u2C0Bq\u0100;q\u0D23\u2C00c\u0100;e\u0D32\u2C17\xF1\u0D38\u0200;Ees\u2C22\u2C23\u0D5F\u2C27\u6285;\uC000\u2AC6\u0338et\u0100;e\u0D58\u2C2Eq\u0100;q\u0D60\u2C23\u0200gilr\u2C3D\u2C3F\u2C45\u2C47\xEC\u0BD7lde\u803B\xF1\u40F1\xE7\u0C43iangle\u0100lr\u2C52\u2C5Ceft\u0100;e\u0C1A\u2C5A\xF1\u0C26ight\u0100;e\u0CCB\u2C65\xF1\u0CD7\u0100;m\u2C6C\u2C6D\u43BD\u0180;es\u2C74\u2C75\u2C79\u4023ro;\u6116p;\u6007\u0480DHadgilrs\u2C8F\u2C94\u2C99\u2C9E\u2CA3\u2CB0\u2CB6\u2CD3\u2CE3ash;\u62ADarr;\u6904p;\uC000\u224D\u20D2ash;\u62AC\u0100et\u2CA8\u2CAC;\uC000\u2265\u20D2;\uC000>\u20D2nfin;\u69DE\u0180Aet\u2CBD\u2CC1\u2CC5rr;\u6902;\uC000\u2264\u20D2\u0100;r\u2CCA\u2CCD\uC000<\u20D2ie;\uC000\u22B4\u20D2\u0100At\u2CD8\u2CDCrr;\u6903rie;\uC000\u22B5\u20D2im;\uC000\u223C\u20D2\u0180Aan\u2CF0\u2CF4\u2D02rr;\u61D6r\u0100hr\u2CFA\u2CFDk;\u6923\u0100;o\u13E7\u13E5ear;\u6927\u1253\u1A95\0\0\0\0\0\0\0\0\0\0\0\0\0\u2D2D\0\u2D38\u2D48\u2D60\u2D65\u2D72\u2D84\u1B07\0\0\u2D8D\u2DAB\0\u2DC8\u2DCE\0\u2DDC\u2E19\u2E2B\u2E3E\u2E43\u0100cs\u2D31\u1A97ute\u803B\xF3\u40F3\u0100iy\u2D3C\u2D45r\u0100;c\u1A9E\u2D42\u803B\xF4\u40F4;\u443E\u0280abios\u1AA0\u2D52\u2D57\u01C8\u2D5Alac;\u4151v;\u6A38old;\u69BClig;\u4153\u0100cr\u2D69\u2D6Dir;\u69BF;\uC000\u{1D52C}\u036F\u2D79\0\0\u2D7C\0\u2D82n;\u42DBave\u803B\xF2\u40F2;\u69C1\u0100bm\u2D88\u0DF4ar;\u69B5\u0200acit\u2D95\u2D98\u2DA5\u2DA8r\xF2\u1A80\u0100ir\u2D9D\u2DA0r;\u69BEoss;\u69BBn\xE5\u0E52;\u69C0\u0180aei\u2DB1\u2DB5\u2DB9cr;\u414Dga;\u43C9\u0180cdn\u2DC0\u2DC5\u01CDron;\u43BF;\u69B6pf;\uC000\u{1D560}\u0180ael\u2DD4\u2DD7\u01D2r;\u69B7rp;\u69B9\u0380;adiosv\u2DEA\u2DEB\u2DEE\u2E08\u2E0D\u2E10\u2E16\u6228r\xF2\u1A86\u0200;efm\u2DF7\u2DF8\u2E02\u2E05\u6A5Dr\u0100;o\u2DFE\u2DFF\u6134f\xBB\u2DFF\u803B\xAA\u40AA\u803B\xBA\u40BAgof;\u62B6r;\u6A56lope;\u6A57;\u6A5B\u0180clo\u2E1F\u2E21\u2E27\xF2\u2E01ash\u803B\xF8\u40F8l;\u6298i\u016C\u2E2F\u2E34de\u803B\xF5\u40F5es\u0100;a\u01DB\u2E3As;\u6A36ml\u803B\xF6\u40F6bar;\u633D\u0AE1\u2E5E\0\u2E7D\0\u2E80\u2E9D\0\u2EA2\u2EB9\0\0\u2ECB\u0E9C\0\u2F13\0\0\u2F2B\u2FBC\0\u2FC8r\u0200;ast\u0403\u2E67\u2E72\u0E85\u8100\xB6;l\u2E6D\u2E6E\u40B6le\xEC\u0403\u0269\u2E78\0\0\u2E7Bm;\u6AF3;\u6AFDy;\u443Fr\u0280cimpt\u2E8B\u2E8F\u2E93\u1865\u2E97nt;\u4025od;\u402Eil;\u6030enk;\u6031r;\uC000\u{1D52D}\u0180imo\u2EA8\u2EB0\u2EB4\u0100;v\u2EAD\u2EAE\u43C6;\u43D5ma\xF4\u0A76ne;\u660E\u0180;tv\u2EBF\u2EC0\u2EC8\u43C0chfork\xBB\u1FFD;\u43D6\u0100au\u2ECF\u2EDFn\u0100ck\u2ED5\u2EDDk\u0100;h\u21F4\u2EDB;\u610E\xF6\u21F4s\u0480;abcdemst\u2EF3\u2EF4\u1908\u2EF9\u2EFD\u2F04\u2F06\u2F0A\u2F0E\u402Bcir;\u6A23ir;\u6A22\u0100ou\u1D40\u2F02;\u6A25;\u6A72n\u80BB\xB1\u0E9Dim;\u6A26wo;\u6A27\u0180ipu\u2F19\u2F20\u2F25ntint;\u6A15f;\uC000\u{1D561}nd\u803B\xA3\u40A3\u0500;Eaceinosu\u0EC8\u2F3F\u2F41\u2F44\u2F47\u2F81\u2F89\u2F92\u2F7E\u2FB6;\u6AB3p;\u6AB7u\xE5\u0ED9\u0100;c\u0ECE\u2F4C\u0300;acens\u0EC8\u2F59\u2F5F\u2F66\u2F68\u2F7Eppro\xF8\u2F43urlye\xF1\u0ED9\xF1\u0ECE\u0180aes\u2F6F\u2F76\u2F7Approx;\u6AB9qq;\u6AB5im;\u62E8i\xED\u0EDFme\u0100;s\u2F88\u0EAE\u6032\u0180Eas\u2F78\u2F90\u2F7A\xF0\u2F75\u0180dfp\u0EEC\u2F99\u2FAF\u0180als\u2FA0\u2FA5\u2FAAlar;\u632Eine;\u6312urf;\u6313\u0100;t\u0EFB\u2FB4\xEF\u0EFBrel;\u62B0\u0100ci\u2FC0\u2FC5r;\uC000\u{1D4C5};\u43C8ncsp;\u6008\u0300fiopsu\u2FDA\u22E2\u2FDF\u2FE5\u2FEB\u2FF1r;\uC000\u{1D52E}pf;\uC000\u{1D562}rime;\u6057cr;\uC000\u{1D4C6}\u0180aeo\u2FF8\u3009\u3013t\u0100ei\u2FFE\u3005rnion\xF3\u06B0nt;\u6A16st\u0100;e\u3010\u3011\u403F\xF1\u1F19\xF4\u0F14\u0A80ABHabcdefhilmnoprstux\u3040\u3051\u3055\u3059\u30E0\u310E\u312B\u3147\u3162\u3172\u318E\u3206\u3215\u3224\u3229\u3258\u326E\u3272\u3290\u32B0\u32B7\u0180art\u3047\u304A\u304Cr\xF2\u10B3\xF2\u03DDail;\u691Car\xF2\u1C65ar;\u6964\u0380cdenqrt\u3068\u3075\u3078\u307F\u308F\u3094\u30CC\u0100eu\u306D\u3071;\uC000\u223D\u0331te;\u4155i\xE3\u116Emptyv;\u69B3g\u0200;del\u0FD1\u3089\u308B\u308D;\u6992;\u69A5\xE5\u0FD1uo\u803B\xBB\u40BBr\u0580;abcfhlpstw\u0FDC\u30AC\u30AF\u30B7\u30B9\u30BC\u30BE\u30C0\u30C3\u30C7\u30CAp;\u6975\u0100;f\u0FE0\u30B4s;\u6920;\u6933s;\u691E\xEB\u225D\xF0\u272El;\u6945im;\u6974l;\u61A3;\u619D\u0100ai\u30D1\u30D5il;\u691Ao\u0100;n\u30DB\u30DC\u6236al\xF3\u0F1E\u0180abr\u30E7\u30EA\u30EEr\xF2\u17E5rk;\u6773\u0100ak\u30F3\u30FDc\u0100ek\u30F9\u30FB;\u407D;\u405D\u0100es\u3102\u3104;\u698Cl\u0100du\u310A\u310C;\u698E;\u6990\u0200aeuy\u3117\u311C\u3127\u3129ron;\u4159\u0100di\u3121\u3125il;\u4157\xEC\u0FF2\xE2\u30FA;\u4440\u0200clqs\u3134\u3137\u313D\u3144a;\u6937dhar;\u6969uo\u0100;r\u020E\u020Dh;\u61B3\u0180acg\u314E\u315F\u0F44l\u0200;ips\u0F78\u3158\u315B\u109Cn\xE5\u10BBar\xF4\u0FA9t;\u65AD\u0180ilr\u3169\u1023\u316Esht;\u697D;\uC000\u{1D52F}\u0100ao\u3177\u3186r\u0100du\u317D\u317F\xBB\u047B\u0100;l\u1091\u3184;\u696C\u0100;v\u318B\u318C\u43C1;\u43F1\u0180gns\u3195\u31F9\u31FCht\u0300ahlrst\u31A4\u31B0\u31C2\u31D8\u31E4\u31EErrow\u0100;t\u0FDC\u31ADa\xE9\u30C8arpoon\u0100du\u31BB\u31BFow\xEE\u317Ep\xBB\u1092eft\u0100ah\u31CA\u31D0rrow\xF3\u0FEAarpoon\xF3\u0551ightarrows;\u61C9quigarro\xF7\u30CBhreetimes;\u62CCg;\u42DAingdotse\xF1\u1F32\u0180ahm\u320D\u3210\u3213r\xF2\u0FEAa\xF2\u0551;\u600Foust\u0100;a\u321E\u321F\u63B1che\xBB\u321Fmid;\u6AEE\u0200abpt\u3232\u323D\u3240\u3252\u0100nr\u3237\u323Ag;\u67EDr;\u61FEr\xEB\u1003\u0180afl\u3247\u324A\u324Er;\u6986;\uC000\u{1D563}us;\u6A2Eimes;\u6A35\u0100ap\u325D\u3267r\u0100;g\u3263\u3264\u4029t;\u6994olint;\u6A12ar\xF2\u31E3\u0200achq\u327B\u3280\u10BC\u3285quo;\u603Ar;\uC000\u{1D4C7}\u0100bu\u30FB\u328Ao\u0100;r\u0214\u0213\u0180hir\u3297\u329B\u32A0re\xE5\u31F8mes;\u62CAi\u0200;efl\u32AA\u1059\u1821\u32AB\u65B9tri;\u69CEluhar;\u6968;\u611E\u0D61\u32D5\u32DB\u32DF\u332C\u3338\u3371\0\u337A\u33A4\0\0\u33EC\u33F0\0\u3428\u3448\u345A\u34AD\u34B1\u34CA\u34F1\0\u3616\0\0\u3633cute;\u415Bqu\xEF\u27BA\u0500;Eaceinpsy\u11ED\u32F3\u32F5\u32FF\u3302\u330B\u330F\u331F\u3326\u3329;\u6AB4\u01F0\u32FA\0\u32FC;\u6AB8on;\u4161u\xE5\u11FE\u0100;d\u11F3\u3307il;\u415Frc;\u415D\u0180Eas\u3316\u3318\u331B;\u6AB6p;\u6ABAim;\u62E9olint;\u6A13i\xED\u1204;\u4441ot\u0180;be\u3334\u1D47\u3335\u62C5;\u6A66\u0380Aacmstx\u3346\u334A\u3357\u335B\u335E\u3363\u336Drr;\u61D8r\u0100hr\u3350\u3352\xEB\u2228\u0100;o\u0A36\u0A34t\u803B\xA7\u40A7i;\u403Bwar;\u6929m\u0100in\u3369\xF0nu\xF3\xF1t;\u6736r\u0100;o\u3376\u2055\uC000\u{1D530}\u0200acoy\u3382\u3386\u3391\u33A0rp;\u666F\u0100hy\u338B\u338Fcy;\u4449;\u4448rt\u026D\u3399\0\0\u339Ci\xE4\u1464ara\xEC\u2E6F\u803B\xAD\u40AD\u0100gm\u33A8\u33B4ma\u0180;fv\u33B1\u33B2\u33B2\u43C3;\u43C2\u0400;deglnpr\u12AB\u33C5\u33C9\u33CE\u33D6\u33DE\u33E1\u33E6ot;\u6A6A\u0100;q\u12B1\u12B0\u0100;E\u33D3\u33D4\u6A9E;\u6AA0\u0100;E\u33DB\u33DC\u6A9D;\u6A9Fe;\u6246lus;\u6A24arr;\u6972ar\xF2\u113D\u0200aeit\u33F8\u3408\u340F\u3417\u0100ls\u33FD\u3404lsetm\xE9\u336Ahp;\u6A33parsl;\u69E4\u0100dl\u1463\u3414e;\u6323\u0100;e\u341C\u341D\u6AAA\u0100;s\u3422\u3423\u6AAC;\uC000\u2AAC\uFE00\u0180flp\u342E\u3433\u3442tcy;\u444C\u0100;b\u3438\u3439\u402F\u0100;a\u343E\u343F\u69C4r;\u633Ff;\uC000\u{1D564}a\u0100dr\u344D\u0402es\u0100;u\u3454\u3455\u6660it\xBB\u3455\u0180csu\u3460\u3479\u349F\u0100au\u3465\u346Fp\u0100;s\u1188\u346B;\uC000\u2293\uFE00p\u0100;s\u11B4\u3475;\uC000\u2294\uFE00u\u0100bp\u347F\u348F\u0180;es\u1197\u119C\u3486et\u0100;e\u1197\u348D\xF1\u119D\u0180;es\u11A8\u11AD\u3496et\u0100;e\u11A8\u349D\xF1\u11AE\u0180;af\u117B\u34A6\u05B0r\u0165\u34AB\u05B1\xBB\u117Car\xF2\u1148\u0200cemt\u34B9\u34BE\u34C2\u34C5r;\uC000\u{1D4C8}tm\xEE\xF1i\xEC\u3415ar\xE6\u11BE\u0100ar\u34CE\u34D5r\u0100;f\u34D4\u17BF\u6606\u0100an\u34DA\u34EDight\u0100ep\u34E3\u34EApsilo\xEE\u1EE0h\xE9\u2EAFs\xBB\u2852\u0280bcmnp\u34FB\u355E\u1209\u358B\u358E\u0480;Edemnprs\u350E\u350F\u3511\u3515\u351E\u3523\u352C\u3531\u3536\u6282;\u6AC5ot;\u6ABD\u0100;d\u11DA\u351Aot;\u6AC3ult;\u6AC1\u0100Ee\u3528\u352A;\u6ACB;\u628Alus;\u6ABFarr;\u6979\u0180eiu\u353D\u3552\u3555t\u0180;en\u350E\u3545\u354Bq\u0100;q\u11DA\u350Feq\u0100;q\u352B\u3528m;\u6AC7\u0100bp\u355A\u355C;\u6AD5;\u6AD3c\u0300;acens\u11ED\u356C\u3572\u3579\u357B\u3326ppro\xF8\u32FAurlye\xF1\u11FE\xF1\u11F3\u0180aes\u3582\u3588\u331Bppro\xF8\u331Aq\xF1\u3317g;\u666A\u0680123;Edehlmnps\u35A9\u35AC\u35AF\u121C\u35B2\u35B4\u35C0\u35C9\u35D5\u35DA\u35DF\u35E8\u35ED\u803B\xB9\u40B9\u803B\xB2\u40B2\u803B\xB3\u40B3;\u6AC6\u0100os\u35B9\u35BCt;\u6ABEub;\u6AD8\u0100;d\u1222\u35C5ot;\u6AC4s\u0100ou\u35CF\u35D2l;\u67C9b;\u6AD7arr;\u697Bult;\u6AC2\u0100Ee\u35E4\u35E6;\u6ACC;\u628Blus;\u6AC0\u0180eiu\u35F4\u3609\u360Ct\u0180;en\u121C\u35FC\u3602q\u0100;q\u1222\u35B2eq\u0100;q\u35E7\u35E4m;\u6AC8\u0100bp\u3611\u3613;\u6AD4;\u6AD6\u0180Aan\u361C\u3620\u362Drr;\u61D9r\u0100hr\u3626\u3628\xEB\u222E\u0100;o\u0A2B\u0A29war;\u692Alig\u803B\xDF\u40DF\u0BE1\u3651\u365D\u3660\u12CE\u3673\u3679\0\u367E\u36C2\0\0\0\0\0\u36DB\u3703\0\u3709\u376C\0\0\0\u3787\u0272\u3656\0\0\u365Bget;\u6316;\u43C4r\xEB\u0E5F\u0180aey\u3666\u366B\u3670ron;\u4165dil;\u4163;\u4442lrec;\u6315r;\uC000\u{1D531}\u0200eiko\u3686\u369D\u36B5\u36BC\u01F2\u368B\0\u3691e\u01004f\u1284\u1281a\u0180;sv\u3698\u3699\u369B\u43B8ym;\u43D1\u0100cn\u36A2\u36B2k\u0100as\u36A8\u36AEppro\xF8\u12C1im\xBB\u12ACs\xF0\u129E\u0100as\u36BA\u36AE\xF0\u12C1rn\u803B\xFE\u40FE\u01EC\u031F\u36C6\u22E7es\u8180\xD7;bd\u36CF\u36D0\u36D8\u40D7\u0100;a\u190F\u36D5r;\u6A31;\u6A30\u0180eps\u36E1\u36E3\u3700\xE1\u2A4D\u0200;bcf\u0486\u36EC\u36F0\u36F4ot;\u6336ir;\u6AF1\u0100;o\u36F9\u36FC\uC000\u{1D565}rk;\u6ADA\xE1\u3362rime;\u6034\u0180aip\u370F\u3712\u3764d\xE5\u1248\u0380adempst\u3721\u374D\u3740\u3751\u3757\u375C\u375Fngle\u0280;dlqr\u3730\u3731\u3736\u3740\u3742\u65B5own\xBB\u1DBBeft\u0100;e\u2800\u373E\xF1\u092E;\u625Cight\u0100;e\u32AA\u374B\xF1\u105Aot;\u65ECinus;\u6A3Alus;\u6A39b;\u69CDime;\u6A3Bezium;\u63E2\u0180cht\u3772\u377D\u3781\u0100ry\u3777\u377B;\uC000\u{1D4C9};\u4446cy;\u445Brok;\u4167\u0100io\u378B\u378Ex\xF4\u1777head\u0100lr\u3797\u37A0eftarro\xF7\u084Fightarrow\xBB\u0F5D\u0900AHabcdfghlmoprstuw\u37D0\u37D3\u37D7\u37E4\u37F0\u37FC\u380E\u381C\u3823\u3834\u3851\u385D\u386B\u38A9\u38CC\u38D2\u38EA\u38F6r\xF2\u03EDar;\u6963\u0100cr\u37DC\u37E2ute\u803B\xFA\u40FA\xF2\u1150r\u01E3\u37EA\0\u37EDy;\u445Eve;\u416D\u0100iy\u37F5\u37FArc\u803B\xFB\u40FB;\u4443\u0180abh\u3803\u3806\u380Br\xF2\u13ADlac;\u4171a\xF2\u13C3\u0100ir\u3813\u3818sht;\u697E;\uC000\u{1D532}rave\u803B\xF9\u40F9\u0161\u3827\u3831r\u0100lr\u382C\u382E\xBB\u0957\xBB\u1083lk;\u6580\u0100ct\u3839\u384D\u026F\u383F\0\0\u384Arn\u0100;e\u3845\u3846\u631Cr\xBB\u3846op;\u630Fri;\u65F8\u0100al\u3856\u385Acr;\u416B\u80BB\xA8\u0349\u0100gp\u3862\u3866on;\u4173f;\uC000\u{1D566}\u0300adhlsu\u114B\u3878\u387D\u1372\u3891\u38A0own\xE1\u13B3arpoon\u0100lr\u3888\u388Cef\xF4\u382Digh\xF4\u382Fi\u0180;hl\u3899\u389A\u389C\u43C5\xBB\u13FAon\xBB\u389Aparrows;\u61C8\u0180cit\u38B0\u38C4\u38C8\u026F\u38B6\0\0\u38C1rn\u0100;e\u38BC\u38BD\u631Dr\xBB\u38BDop;\u630Eng;\u416Fri;\u65F9cr;\uC000\u{1D4CA}\u0180dir\u38D9\u38DD\u38E2ot;\u62F0lde;\u4169i\u0100;f\u3730\u38E8\xBB\u1813\u0100am\u38EF\u38F2r\xF2\u38A8l\u803B\xFC\u40FCangle;\u69A7\u0780ABDacdeflnoprsz\u391C\u391F\u3929\u392D\u39B5\u39B8\u39BD\u39DF\u39E4\u39E8\u39F3\u39F9\u39FD\u3A01\u3A20r\xF2\u03F7ar\u0100;v\u3926\u3927\u6AE8;\u6AE9as\xE8\u03E1\u0100nr\u3932\u3937grt;\u699C\u0380eknprst\u34E3\u3946\u394B\u3952\u395D\u3964\u3996app\xE1\u2415othin\xE7\u1E96\u0180hir\u34EB\u2EC8\u3959op\xF4\u2FB5\u0100;h\u13B7\u3962\xEF\u318D\u0100iu\u3969\u396Dgm\xE1\u33B3\u0100bp\u3972\u3984setneq\u0100;q\u397D\u3980\uC000\u228A\uFE00;\uC000\u2ACB\uFE00setneq\u0100;q\u398F\u3992\uC000\u228B\uFE00;\uC000\u2ACC\uFE00\u0100hr\u399B\u399Fet\xE1\u369Ciangle\u0100lr\u39AA\u39AFeft\xBB\u0925ight\xBB\u1051y;\u4432ash\xBB\u1036\u0180elr\u39C4\u39D2\u39D7\u0180;be\u2DEA\u39CB\u39CFar;\u62BBq;\u625Alip;\u62EE\u0100bt\u39DC\u1468a\xF2\u1469r;\uC000\u{1D533}tr\xE9\u39AEsu\u0100bp\u39EF\u39F1\xBB\u0D1C\xBB\u0D59pf;\uC000\u{1D567}ro\xF0\u0EFBtr\xE9\u39B4\u0100cu\u3A06\u3A0Br;\uC000\u{1D4CB}\u0100bp\u3A10\u3A18n\u0100Ee\u3980\u3A16\xBB\u397En\u0100Ee\u3992\u3A1E\xBB\u3990igzag;\u699A\u0380cefoprs\u3A36\u3A3B\u3A56\u3A5B\u3A54\u3A61\u3A6Airc;\u4175\u0100di\u3A40\u3A51\u0100bg\u3A45\u3A49ar;\u6A5Fe\u0100;q\u15FA\u3A4F;\u6259erp;\u6118r;\uC000\u{1D534}pf;\uC000\u{1D568}\u0100;e\u1479\u3A66at\xE8\u1479cr;\uC000\u{1D4CC}\u0AE3\u178E\u3A87\0\u3A8B\0\u3A90\u3A9B\0\0\u3A9D\u3AA8\u3AAB\u3AAF\0\0\u3AC3\u3ACE\0\u3AD8\u17DC\u17DFtr\xE9\u17D1r;\uC000\u{1D535}\u0100Aa\u3A94\u3A97r\xF2\u03C3r\xF2\u09F6;\u43BE\u0100Aa\u3AA1\u3AA4r\xF2\u03B8r\xF2\u09EBa\xF0\u2713is;\u62FB\u0180dpt\u17A4\u3AB5\u3ABE\u0100fl\u3ABA\u17A9;\uC000\u{1D569}im\xE5\u17B2\u0100Aa\u3AC7\u3ACAr\xF2\u03CEr\xF2\u0A01\u0100cq\u3AD2\u17B8r;\uC000\u{1D4CD}\u0100pt\u17D6\u3ADCr\xE9\u17D4\u0400acefiosu\u3AF0\u3AFD\u3B08\u3B0C\u3B11\u3B15\u3B1B\u3B21c\u0100uy\u3AF6\u3AFBte\u803B\xFD\u40FD;\u444F\u0100iy\u3B02\u3B06rc;\u4177;\u444Bn\u803B\xA5\u40A5r;\uC000\u{1D536}cy;\u4457pf;\uC000\u{1D56A}cr;\uC000\u{1D4CE}\u0100cm\u3B26\u3B29y;\u444El\u803B\xFF\u40FF\u0500acdefhiosw\u3B42\u3B48\u3B54\u3B58\u3B64\u3B69\u3B6D\u3B74\u3B7A\u3B80cute;\u417A\u0100ay\u3B4D\u3B52ron;\u417E;\u4437ot;\u417C\u0100et\u3B5D\u3B61tr\xE6\u155Fa;\u43B6r;\uC000\u{1D537}cy;\u4436grarr;\u61DDpf;\uC000\u{1D56B}cr;\uC000\u{1D4CF}\u0100jn\u3B85\u3B87;\u600Dj;\u600C'.split("").map(e=>e.charCodeAt(0)));var Vx=new Uint16Array("\u0200aglq	\x1B\u026D\0\0p;\u4026os;\u4027t;\u403Et;\u403Cuot;\u4022".split("").map(e=>e.charCodeAt(0)));var f6,IGe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),mp=(f6=String.fromCodePoint)!==null&&f6!==void 0?f6:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function mg(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=IGe.get(e))!==null&&t!==void 0?t:e}var hn;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(hn||(hn={}));var CGe=32,wi;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(wi||(wi={}));function p6(e){return e>=hn.ZERO&&e<=hn.NINE}function wGe(e){return e>=hn.UPPER_A&&e<=hn.UPPER_F||e>=hn.LOWER_A&&e<=hn.LOWER_F}function SGe(e){return e>=hn.UPPER_A&&e<=hn.UPPER_Z||e>=hn.LOWER_A&&e<=hn.LOWER_Z||p6(e)}function TGe(e){return e===hn.EQUALS||SGe(e)}var pn;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(pn||(pn={}));var Mo;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Mo||(Mo={}));var Kx=class{constructor(t,r,n){this.decodeTree=t,this.emitCodePoint=r,this.errors=n,this.state=pn.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Mo.Strict}startEntity(t){this.decodeMode=t,this.state=pn.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,r){switch(this.state){case pn.EntityStart:return t.charCodeAt(r)===hn.NUM?(this.state=pn.NumericStart,this.consumed+=1,this.stateNumericStart(t,r+1)):(this.state=pn.NamedEntity,this.stateNamedEntity(t,r));case pn.NumericStart:return this.stateNumericStart(t,r);case pn.NumericDecimal:return this.stateNumericDecimal(t,r);case pn.NumericHex:return this.stateNumericHex(t,r);case pn.NamedEntity:return this.stateNamedEntity(t,r)}}stateNumericStart(t,r){return r>=t.length?-1:(t.charCodeAt(r)|CGe)===hn.LOWER_X?(this.state=pn.NumericHex,this.consumed+=1,this.stateNumericHex(t,r+1)):(this.state=pn.NumericDecimal,this.stateNumericDecimal(t,r))}addToNumericResult(t,r,n,s){if(r!==n){let i=n-r;this.result=this.result*Math.pow(s,i)+parseInt(t.substr(r,i),s),this.consumed+=i}}stateNumericHex(t,r){let n=r;for(;r<t.length;){let s=t.charCodeAt(r);if(p6(s)||wGe(s))r+=1;else return this.addToNumericResult(t,n,r,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(t,n,r,16),-1}stateNumericDecimal(t,r){let n=r;for(;r<t.length;){let s=t.charCodeAt(r);if(p6(s))r+=1;else return this.addToNumericResult(t,n,r,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(t,n,r,10),-1}emitNumericEntity(t,r){var n;if(this.consumed<=r)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===hn.SEMI)this.consumed+=1;else if(this.decodeMode===Mo.Strict)return 0;return this.emitCodePoint(mg(this.result),this.consumed),this.errors&&(t!==hn.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,r){let{decodeTree:n}=this,s=n[this.treeIndex],i=(s&wi.VALUE_LENGTH)>>14;for(;r<t.length;r++,this.excess++){let a=t.charCodeAt(r);if(this.treeIndex=h6(n,s,this.treeIndex+Math.max(1,i),a),this.treeIndex<0)return this.result===0||this.decodeMode===Mo.Attribute&&(i===0||TGe(a))?0:this.emitNotTerminatedNamedEntity();if(s=n[this.treeIndex],i=(s&wi.VALUE_LENGTH)>>14,i!==0){if(a===hn.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==Mo.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;let{result:r,decodeTree:n}=this,s=(n[r]&wi.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,s,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,r,n){let{decodeTree:s}=this;return this.emitCodePoint(r===1?s[t]&~wi.VALUE_LENGTH:s[t+1],n),r===3&&this.emitCodePoint(s[t+2],n),n}end(){var t;switch(this.state){case pn.NamedEntity:return this.result!==0&&(this.decodeMode!==Mo.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case pn.NumericDecimal:return this.emitNumericEntity(0,2);case pn.NumericHex:return this.emitNumericEntity(0,3);case pn.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case pn.EntityStart:return 0}}};function Une(e){let t="",r=new Kx(e,n=>t+=mp(n));return function(s,i){let a=0,o=0;for(;(o=s.indexOf("&",o))>=0;){t+=s.slice(a,o),r.startEntity(i);let u=r.write(s,o+1);if(u<0){a=o+r.end();break}a=o+u,o=u===0?a+1:a}let c=t+s.slice(a);return t="",c}}function h6(e,t,r,n){let s=(t&wi.BRANCH_LENGTH)>>7,i=t&wi.JUMP_TABLE;if(s===0)return i!==0&&n===i?r:-1;if(i){let c=n-i;return c<0||c>=s?-1:e[r+c]-1}let a=r,o=a+s-1;for(;a<=o;){let c=a+o>>>1,u=e[c];if(u<n)a=c+1;else if(u>n)o=c-1;else return e[c+s]}return-1}var obt=Une(Gx),cbt=Une(Vx);function Yx(e){for(let t=1;t<e.length;t++)e[t][0]+=e[t-1][0]+1;return e}var BGe=new Map(Yx([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(Yx([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(Yx([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(Yx([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]));var m6=/["&'<>$\x80-\uFFFF]/g,qne=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),jne=String.prototype.codePointAt!=null?(e,t)=>e.codePointAt(t):(e,t)=>(e.charCodeAt(t)&64512)===55296?(e.charCodeAt(t)-55296)*1024+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t);function gg(e){let t="",r=0,n;for(;(n=m6.exec(e))!==null;){let s=n.index,i=e.charCodeAt(s),a=qne.get(i);a!==void 0?(t+=e.substring(r,s)+a,r=s+1):(t+=`${e.substring(r,s)}&#x${jne(e,s).toString(16)};`,r=m6.lastIndex+=+((i&64512)===55296))}return t+e.substr(r)}function g6(e,t){return function(n){let s,i=0,a="";for(;s=e.exec(n);)i!==s.index&&(a+=n.substring(i,s.index)),a+=t.get(s[0].charCodeAt(0)),i=s.index+1;return a+n.substring(i)}}var Hne=g6(/[&<>'"]/g,qne),Wx=g6(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),Jx=g6(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]));var zne;(function(e){e[e.XML=0]="XML",e[e.HTML=1]="HTML"})(zne||(zne={}));var Gne;(function(e){e[e.UTF8=0]="UTF8",e[e.ASCII=1]="ASCII",e[e.Extensive=2]="Extensive",e[e.Attribute=3]="Attribute",e[e.Text=4]="Text"})(Gne||(Gne={}));var Yne=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),Wne=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e]));var NGe=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function kGe(e){return e.replace(/"/g,"&quot;")}function DGe(e,t){var r;if(!e)return;let n=((r=t.encodeEntities)!==null&&r!==void 0?r:t.decodeEntities)===!1?kGe:t.xmlMode||t.encodeEntities!=="utf8"?gg:Wx;return Object.keys(e).map(s=>{var i,a;let o=(i=e[s])!==null&&i!==void 0?i:"";return t.xmlMode==="foreign"&&(s=(a=Wne.get(s))!==null&&a!==void 0?a:s),!t.emptyAttrs&&!t.xmlMode&&o===""?s:`${s}="${n(o)}"`}).join(" ")}var Jne=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function b6(e,t={}){let r="length"in e?e:[e],n="";for(let s=0;s<r.length;s++)n+=PGe(r[s],t);return n}var Xx=b6;function PGe(e,t){switch(e.type){case Rne:return b6(e.children,t);case Mne:case kne:return MGe(e);case Dne:return UGe(e);case Lne:return QGe(e);case Pne:case One:case $ne:return LGe(e,t);case Nne:return FGe(e,t)}}var OGe=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),$Ge=new Set(["svg","math"]);function LGe(e,t){var r;t.xmlMode==="foreign"&&(e.name=(r=Yne.get(e.name))!==null&&r!==void 0?r:e.name,e.parent&&OGe.has(e.parent.name)&&(t={...t,xmlMode:!1})),!t.xmlMode&&$Ge.has(e.name)&&(t={...t,xmlMode:"foreign"});let n=`<${e.name}`,s=DGe(e.attribs,t);return s&&(n+=` ${s}`),e.children.length===0&&(t.xmlMode?t.selfClosingTags!==!1:t.selfClosingTags&&Jne.has(e.name))?(t.xmlMode||(n+=" "),n+="/>"):(n+=">",e.children.length>0&&(n+=b6(e.children,t)),(t.xmlMode||!Jne.has(e.name))&&(n+=`</${e.name}>`)),n}function MGe(e){return`<${e.data}>`}function FGe(e,t){var r;let n=e.data||"";return((r=t.encodeEntities)!==null&&r!==void 0?r:t.decodeEntities)!==!1&&!(!t.xmlMode&&e.parent&&NGe.has(e.parent.name))&&(n=t.xmlMode||t.encodeEntities!=="utf8"?gg(n):Jx(n)),n}function QGe(e){return`<![CDATA[${e.children[0].data}]]>`}function UGe(e){return`<!--${e.data}-->`}function Xne(e,t){return Xx(e,t)}function qGe(e,t){return rr(e)?e.children.map(r=>Xne(r,t)).join(""):""}function Zx(e){return Array.isArray(e)?e.map(Zx).join(""):$e(e)?e.name==="br"?`
`:Zx(e.children):pp(e)?Zx(e.children):Fs(e)?e.data:""}function Fo(e){return Array.isArray(e)?e.map(Fo).join(""):rr(e)&&!jl(e)?Fo(e.children):Fs(e)?e.data:""}function Ag(e){return Array.isArray(e)?e.map(Ag).join(""):rr(e)&&(e.type===kt.Tag||pp(e))?Ag(e.children):Fs(e)?e.data:""}function gp(e){return rr(e)?e.children:[]}function Zne(e){return e.parent||null}function E6(e){let t=Zne(e);if(t!=null)return gp(t);let r=[e],{prev:n,next:s}=e;for(;n!=null;)r.unshift(n),{prev:n}=n;for(;s!=null;)r.push(s),{next:s}=s;return r}function jGe(e,t){var r;return(r=e.attribs)===null||r===void 0?void 0:r[t]}function HGe(e,t){return e.attribs!=null&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&e.attribs[t]!=null}function zGe(e){return e.name}function ev(e){let{next:t}=e;for(;t!==null&&!$e(t);)({next:t}=t);return t}function tv(e){let{prev:t}=e;for(;t!==null&&!$e(t);)({prev:t}=t);return t}function Qo(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){let t=e.parent.children,r=t.lastIndexOf(e);r>=0&&t.splice(r,1)}e.next=null,e.prev=null,e.parent=null}function GGe(e,t){let r=t.prev=e.prev;r&&(r.next=t);let n=t.next=e.next;n&&(n.prev=t);let s=t.parent=e.parent;if(s){let i=s.children;i[i.lastIndexOf(e)]=t,e.parent=null}}function VGe(e,t){if(Qo(t),t.next=null,t.parent=e,e.children.push(t)>1){let r=e.children[e.children.length-2];r.next=t,t.prev=r}else t.prev=null}function KGe(e,t){Qo(t);let{parent:r}=e,n=e.next;if(t.next=n,t.prev=e,e.next=t,t.parent=r,n){if(n.prev=t,r){let s=r.children;s.splice(s.lastIndexOf(n),0,t)}}else r&&r.children.push(t)}function YGe(e,t){if(Qo(t),t.parent=e,t.prev=null,e.children.unshift(t)!==1){let r=e.children[1];r.prev=t,t.next=r}else t.next=null}function WGe(e,t){Qo(t);let{parent:r}=e;if(r){let n=r.children;n.splice(n.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=r,t.prev=e.prev,t.next=e,e.prev=t}function Ap(e,t,r=!0,n=1/0){return rv(e,Array.isArray(t)?t:[t],r,n)}function rv(e,t,r,n){let s=[],i=[Array.isArray(t)?t:[t]],a=[0];for(;;){if(a[0]>=i[0].length){if(a.length===1)return s;i.shift(),a.shift();continue}let o=i[0][a[0]++];if(e(o)&&(s.push(o),--n<=0))return s;r&&rr(o)&&o.children.length>0&&(a.unshift(0),i.unshift(o.children))}}function JGe(e,t){return t.find(e)}function nv(e,t,r=!0){let n=Array.isArray(t)?t:[t];for(let s=0;s<n.length;s++){let i=n[s];if($e(i)&&e(i))return i;if(r&&rr(i)&&i.children.length>0){let a=nv(e,i.children,!0);if(a)return a}}return null}function ese(e,t){return(Array.isArray(t)?t:[t]).some(r=>$e(r)&&e(r)||rr(r)&&ese(e,r.children))}function XGe(e,t){let r=[],n=[Array.isArray(t)?t:[t]],s=[0];for(;;){if(s[0]>=n[0].length){if(n.length===1)return r;n.shift(),s.shift();continue}let i=n[0][s[0]++];$e(i)&&e(i)&&r.push(i),rr(i)&&i.children.length>0&&(s.unshift(0),n.unshift(i.children))}}var sv={tag_name(e){return typeof e=="function"?t=>$e(t)&&e(t.name):e==="*"?$e:t=>$e(t)&&t.name===e},tag_type(e){return typeof e=="function"?t=>e(t.type):t=>t.type===e},tag_contains(e){return typeof e=="function"?t=>Fs(t)&&e(t.data):t=>Fs(t)&&t.data===e}};function x6(e,t){return typeof t=="function"?r=>$e(r)&&t(r.attribs[e]):r=>$e(r)&&r.attribs[e]===t}function ZGe(e,t){return r=>e(r)||t(r)}function tse(e){let t=Object.keys(e).map(r=>{let n=e[r];return Object.prototype.hasOwnProperty.call(sv,r)?sv[r](n):x6(r,n)});return t.length===0?null:t.reduce(ZGe)}function eVe(e,t){let r=tse(e);return r?r(t):!0}function tVe(e,t,r,n=1/0){let s=tse(e);return s?Ap(s,t,r,n):[]}function rVe(e,t,r=!0){return Array.isArray(t)||(t=[t]),nv(x6("id",e),t,r)}function Hl(e,t,r=!0,n=1/0){return Ap(sv.tag_name(e),t,r,n)}function nVe(e,t,r=!0,n=1/0){return Ap(x6("class",e),t,r,n)}function sVe(e,t,r=!0,n=1/0){return Ap(sv.tag_type(e),t,r,n)}function iVe(e){let t=e.length;for(;--t>=0;){let r=e[t];if(t>0&&e.lastIndexOf(r,t-1)>=0){e.splice(t,1);continue}for(let n=r.parent;n;n=n.parent)if(e.includes(n)){e.splice(t,1);break}}return e}var Si;(function(e){e[e.DISCONNECTED=1]="DISCONNECTED",e[e.PRECEDING=2]="PRECEDING",e[e.FOLLOWING=4]="FOLLOWING",e[e.CONTAINS=8]="CONTAINS",e[e.CONTAINED_BY=16]="CONTAINED_BY"})(Si||(Si={}));function rse(e,t){let r=[],n=[];if(e===t)return 0;let s=rr(e)?e:e.parent;for(;s;)r.unshift(s),s=s.parent;for(s=rr(t)?t:t.parent;s;)n.unshift(s),s=s.parent;let i=Math.min(r.length,n.length),a=0;for(;a<i&&r[a]===n[a];)a++;if(a===0)return Si.DISCONNECTED;let o=r[a-1],c=o.children,u=r[a],l=n[a];return c.indexOf(u)>c.indexOf(l)?o===t?Si.FOLLOWING|Si.CONTAINED_BY:Si.FOLLOWING:o===e?Si.PRECEDING|Si.CONTAINS:Si.PRECEDING}function tu(e){return e=e.filter((t,r,n)=>!n.includes(t,r+1)),e.sort((t,r)=>{let n=rse(t,r);return n&Si.PRECEDING?-1:n&Si.FOLLOWING?1:0}),e}function v6(e){let t=iv(lVe,e);return t?t.name==="feed"?aVe(t):oVe(t):null}function aVe(e){var t;let r=e.children,n={type:"atom",items:Hl("entry",r).map(a=>{var o;let{children:c}=a,u={media:nse(c)};Qs(u,"id","id",c),Qs(u,"title","title",c);let l=(o=iv("link",c))===null||o===void 0?void 0:o.attribs.href;l&&(u.link=l);let d=ru("summary",c)||ru("content",c);d&&(u.description=d);let f=ru("updated",c);return f&&(u.pubDate=new Date(f)),u})};Qs(n,"id","id",r),Qs(n,"title","title",r);let s=(t=iv("link",r))===null||t===void 0?void 0:t.attribs.href;s&&(n.link=s),Qs(n,"description","subtitle",r);let i=ru("updated",r);return i&&(n.updated=new Date(i)),Qs(n,"author","email",r,!0),n}function oVe(e){var t,r;let n=(r=(t=iv("channel",e.children))===null||t===void 0?void 0:t.children)!==null&&r!==void 0?r:[],s={type:e.name.substr(0,3),id:"",items:Hl("item",e.children).map(a=>{let{children:o}=a,c={media:nse(o)};Qs(c,"id","guid",o),Qs(c,"title","title",o),Qs(c,"link","link",o),Qs(c,"description","description",o);let u=ru("pubDate",o)||ru("dc:date",o);return u&&(c.pubDate=new Date(u)),c})};Qs(s,"title","title",n),Qs(s,"link","link",n),Qs(s,"description","description",n);let i=ru("lastBuildDate",n);return i&&(s.updated=new Date(i)),Qs(s,"author","managingEditor",n,!0),s}var cVe=["url","type","lang"],uVe=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function nse(e){return Hl("media:content",e).map(t=>{let{attribs:r}=t,n={medium:r.medium,isDefault:!!r.isDefault};for(let s of cVe)r[s]&&(n[s]=r[s]);for(let s of uVe)r[s]&&(n[s]=parseInt(r[s],10));return r.expression&&(n.expression=r.expression),n})}function iv(e,t){return Hl(e,t,!0,1)[0]}function ru(e,t,r=!1){return Fo(Hl(e,t,r,1)).trim()}function Qs(e,t,r,n,s=!1){let i=ru(r,n,s);i&&(e[t]=i)}function lVe(e){return e==="rss"||e==="feed"||e==="rdf:RDF"}function ise(e,t,r){return e?e(t??e._root.children,null,void 0,r).toString():""}function dVe(e,t){return!t&&typeof e=="object"&&e!=null&&!("length"in e)&&!("type"in e)}function ase(e,t){let r=dVe(e)?(t=e,void 0):e,n={...ug,...this===null||this===void 0?void 0:this._options,...lg(t??{})};return ise(this,r,n)}function ose(e){let t={...this._options,xmlMode:!0};return ise(this,e,t)}function su(e){let t=e||(this?this.root():[]),r="";for(let n=0;n<t.length;n++)r+=Fo(t[n]);return r}function fVe(e,t,r=typeof t=="boolean"?t:!1){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(r=t);let n=this.load(e,ug,!1);return r||n("script").remove(),n.root()[0].children.slice()}function pVe(){return this(this._root)}function _6(e,t){if(t===e)return!1;let r=t;for(;r&&r!==r.parent;)if(r=r.parent,r===e)return!0;return!1}function hVe(e,t){if(!sse(e)||!sse(t))return;let r=e.length,n=+t.length;for(let s=0;s<n;s++)e[r++]=t[s];return e.length=r,e}function sse(e){if(Array.isArray(e))return!0;if(typeof e!="object"||!Object.prototype.hasOwnProperty.call(e,"length")||typeof e.length!="number"||e.length<0)return!1;for(let t=0;t<e.length;t++)if(!(t in e))return!1;return!0}var S6={};On(S6,{addClass:()=>mse,attr:()=>gVe,data:()=>yVe,hasClass:()=>xVe,prop:()=>AVe,removeAttr:()=>EVe,removeClass:()=>gse,toggleClass:()=>Ase,val:()=>bVe});function Xs(e){return e.cheerio!=null}function cse(e){return e.replace(/[_.-](\w|$)/g,(t,r)=>r.toUpperCase())}function use(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()}function dr(e,t){let r=e.length;for(let n=0;n<r;n++)t(e[n],n);return e}function av(e){let t="length"in e?Array.prototype.map.call(e,n=>hg(n,!0)):[hg(e,!0)],r=new Js(t);return t.forEach(n=>{n.parent=r}),t}var zl;(function(e){e[e.LowerA=97]="LowerA",e[e.LowerZ=122]="LowerZ",e[e.UpperA=65]="UpperA",e[e.UpperZ=90]="UpperZ",e[e.Exclamation=33]="Exclamation"})(zl||(zl={}));function yg(e){let t=e.indexOf("<");if(t<0||t>e.length-3)return!1;let r=e.charCodeAt(t+1);return(r>=zl.LowerA&&r<=zl.LowerZ||r>=zl.UpperA&&r<=zl.UpperZ||r===zl.Exclamation)&&e.includes(">",t+2)}var yp=Object.prototype.hasOwnProperty,bg=/\s+/,I6="data-",lse={null:null,true:!0,false:!1},w6=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,mVe=/^{[^]*}$|^\[[^]*]$/;function ov(e,t,r){var n;if(!(!e||!$e(e))){if((n=e.attribs)!==null&&n!==void 0||(e.attribs={}),!t)return e.attribs;if(yp.call(e.attribs,t))return!r&&w6.test(t)?t:e.attribs[t];if(e.name==="option"&&t==="value")return su(e.children);if(e.name==="input"&&(e.attribs.type==="radio"||e.attribs.type==="checkbox")&&t==="value")return"on"}}function bp(e,t,r){r===null?hse(e,t):e.attribs[t]=`${r}`}function gVe(e,t){if(typeof e=="object"||t!==void 0){if(typeof t=="function"){if(typeof e!="string")throw new Error("Bad combination of arguments.");return dr(this,(r,n)=>{$e(r)&&bp(r,e,t.call(r,n,r.attribs[e]))})}return dr(this,r=>{$e(r)&&(typeof e=="object"?Object.keys(e).forEach(n=>{let s=e[n];bp(r,n,s)}):bp(r,e,t))})}return arguments.length>1?this:ov(this[0],e,this.options.xmlMode)}function dse(e,t,r){return t in e?e[t]:!r&&w6.test(t)?ov(e,t,!1)!==void 0:ov(e,t,r)}function C6(e,t,r,n){t in e?e[t]=r:bp(e,t,!n&&w6.test(t)?r?"":null:`${r}`)}function AVe(e,t){var r;if(typeof e=="string"&&t===void 0){let n=this[0];if(!n||!$e(n))return;switch(e){case"style":{let s=this.css(),i=Object.keys(s);return i.forEach((a,o)=>{s[o]=a}),s.length=i.length,s}case"tagName":case"nodeName":return n.name.toUpperCase();case"href":case"src":{let s=(r=n.attribs)===null||r===void 0?void 0:r[e];return typeof URL<"u"&&(e==="href"&&(n.tagName==="a"||n.name==="link")||e==="src"&&(n.tagName==="img"||n.tagName==="iframe"||n.tagName==="audio"||n.tagName==="video"||n.tagName==="source"))&&s!==void 0&&this.options.baseURI?new URL(s,this.options.baseURI).href:s}case"innerText":return Ag(n);case"textContent":return Fo(n);case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return dse(n,e,this.options.xmlMode)}}if(typeof e=="object"||t!==void 0){if(typeof t=="function"){if(typeof e=="object")throw new Error("Bad combination of arguments.");return dr(this,(n,s)=>{$e(n)&&C6(n,e,t.call(n,s,dse(n,e,this.options.xmlMode)),this.options.xmlMode)})}return dr(this,n=>{$e(n)&&(typeof e=="object"?Object.keys(e).forEach(s=>{let i=e[s];C6(n,s,i,this.options.xmlMode)}):C6(n,e,t,this.options.xmlMode))})}}function fse(e,t,r){var n;let s=e;(n=s.data)!==null&&n!==void 0||(s.data={}),typeof t=="object"?Object.assign(s.data,t):typeof t=="string"&&r!==void 0&&(s.data[t]=r)}function pse(e,t){let r,n,s;t==null?(r=Object.keys(e.attribs).filter(i=>i.startsWith(I6)),n=r.map(i=>cse(i.slice(I6.length)))):(r=[I6+use(t)],n=[t]);for(let i=0;i<r.length;++i){let a=r[i],o=n[i];if(yp.call(e.attribs,a)&&!yp.call(e.data,o)){if(s=e.attribs[a],yp.call(lse,s))s=lse[s];else if(s===String(Number(s)))s=Number(s);else if(mVe.test(s))try{s=JSON.parse(s)}catch{}e.data[o]=s}}return t==null?e.data:s}function yVe(e,t){var r;let n=this[0];if(!n||!$e(n))return;let s=n;return(r=s.data)!==null&&r!==void 0||(s.data={}),e?typeof e=="object"||t!==void 0?(dr(this,i=>{$e(i)&&(typeof e=="object"?fse(i,e):fse(i,e,t))}),this):yp.call(s.data,e)?s.data[e]:pse(s,e):pse(s)}function bVe(e){let t=arguments.length===0,r=this[0];if(!r||!$e(r))return t?void 0:this;switch(r.name){case"textarea":return this.text(e);case"select":{let n=this.find("option:selected");if(!t){if(this.attr("multiple")==null&&typeof e=="object")return this;this.find("option").removeAttr("selected");let s=typeof e!="object"?[e]:e;for(let i=0;i<s.length;i++)this.find(`option[value="${s[i]}"]`).attr("selected","");return this}return this.attr("multiple")?n.toArray().map(s=>su(s.children)):n.attr("value")}case"input":case"option":return t?this.attr("value"):this.attr("value",e)}}function hse(e,t){!e.attribs||!yp.call(e.attribs,t)||delete e.attribs[t]}function cv(e){return e?e.trim().split(bg):[]}function EVe(e){let t=cv(e);for(let r=0;r<t.length;r++)dr(this,n=>{$e(n)&&hse(n,t[r])});return this}function xVe(e){return this.toArray().some(t=>{let r=$e(t)&&t.attribs.class,n=-1;if(r&&e.length)for(;(n=r.indexOf(e,n+1))>-1;){let s=n+e.length;if((n===0||bg.test(r[n-1]))&&(s===r.length||bg.test(r[s])))return!0}return!1})}function mse(e){if(typeof e=="function")return dr(this,(n,s)=>{if($e(n)){let i=n.attribs.class||"";mse.call([n],e.call(n,s,i))}});if(!e||typeof e!="string")return this;let t=e.split(bg),r=this.length;for(let n=0;n<r;n++){let s=this[n];if(!$e(s))continue;let i=ov(s,"class",!1);if(!i)bp(s,"class",t.join(" ").trim());else{let a=` ${i} `;for(let o=0;o<t.length;o++){let c=`${t[o]} `;a.includes(` ${c}`)||(a+=c)}bp(s,"class",a.trim())}}return this}function gse(e){if(typeof e=="function")return dr(this,(s,i)=>{$e(s)&&gse.call([s],e.call(s,i,s.attribs.class||""))});let t=cv(e),r=t.length,n=arguments.length===0;return dr(this,s=>{if($e(s))if(n)s.attribs.class="";else{let i=cv(s.attribs.class),a=!1;for(let o=0;o<r;o++){let c=i.indexOf(t[o]);c>=0&&(i.splice(c,1),a=!0,o--)}a&&(s.attribs.class=i.join(" "))}})}function Ase(e,t){if(typeof e=="function")return dr(this,(a,o)=>{$e(a)&&Ase.call([a],e.call(a,o,a.attribs.class||"",t),t)});if(!e||typeof e!="string")return this;let r=e.split(bg),n=r.length,s=typeof t=="boolean"?t?1:-1:0,i=this.length;for(let a=0;a<i;a++){let o=this[a];if(!$e(o))continue;let c=cv(o.attribs.class);for(let u=0;u<n;u++){let l=c.indexOf(r[u]);s>=0&&l<0?c.push(r[u]):s<=0&&l>=0&&c.splice(l,1)}o.attribs.class=c.join(" ")}return this}var W6={};On(W6,{add:()=>BKe,addBack:()=>RKe,children:()=>pKe,closest:()=>iKe,contents:()=>hKe,each:()=>mKe,end:()=>TKe,eq:()=>_Ke,filter:()=>AKe,filterArray:()=>Y6,find:()=>tKe,first:()=>xKe,get:()=>IKe,has:()=>EKe,index:()=>wKe,is:()=>yKe,last:()=>vKe,map:()=>gKe,next:()=>aKe,nextAll:()=>oKe,nextUntil:()=>cKe,not:()=>bKe,parent:()=>rKe,parents:()=>nKe,parentsUntil:()=>sKe,prev:()=>uKe,prevAll:()=>lKe,prevUntil:()=>dKe,siblings:()=>fKe,slice:()=>SKe,toArray:()=>CKe});var qs=ke(_p(),1);var F6=ke(au(),1);var ia=ke(_p(),1),qo=ke(au(),1);var hs=ke(_p(),1),kse=new Map([[hs.SelectorType.Universal,50],[hs.SelectorType.Tag,30],[hs.SelectorType.Attribute,1],[hs.SelectorType.Pseudo,0]]);function xg(e){return!kse.has(e.type)}var $Ve=new Map([[hs.AttributeAction.Exists,10],[hs.AttributeAction.Equals,8],[hs.AttributeAction.Not,7],[hs.AttributeAction.Start,6],[hs.AttributeAction.End,6],[hs.AttributeAction.Any,5]]);function B6(e){let t=e.map(Dse);for(let r=1;r<e.length;r++){let n=t[r];if(!(n<0))for(let s=r-1;s>=0&&n<t[s];s--){let i=e[s+1];e[s+1]=e[s],e[s]=i,t[s+1]=t[s],t[s]=n}}}function Dse(e){var t,r;let n=(t=kse.get(e.type))!==null&&t!==void 0?t:-1;return e.type===hs.SelectorType.Attribute?(n=(r=$Ve.get(e.action))!==null&&r!==void 0?r:4,e.action===hs.AttributeAction.Equals&&e.name==="id"&&(n=9),e.ignoreCase&&(n>>=1)):e.type===hs.SelectorType.Pseudo&&(e.data?e.name==="has"||e.name==="contains"?n=0:Array.isArray(e.data)?(n=Math.min(...e.data.map(s=>Math.min(...s.map(Dse)))),n<0&&(n=0)):n=2:n=3),n}var vg=ke(au(),1),LVe=/[-[\]{}()*+?.,\\^$|#\s]/g;function Pse(e){return e.replace(LVe,"\\$&")}var MVe=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function Gl(e,t){return typeof e.ignoreCase=="boolean"?e.ignoreCase:e.ignoreCase==="quirks"?!!t.quirksMode:!t.xmlMode&&MVe.has(e.name)}var Ose={equals(e,t,r){let{adapter:n}=r,{name:s}=t,{value:i}=t;return Gl(t,r)?(i=i.toLowerCase(),a=>{let o=n.getAttributeValue(a,s);return o!=null&&o.length===i.length&&o.toLowerCase()===i&&e(a)}):a=>n.getAttributeValue(a,s)===i&&e(a)},hyphen(e,t,r){let{adapter:n}=r,{name:s}=t,{value:i}=t,a=i.length;return Gl(t,r)?(i=i.toLowerCase(),function(c){let u=n.getAttributeValue(c,s);return u!=null&&(u.length===a||u.charAt(a)==="-")&&u.substr(0,a).toLowerCase()===i&&e(c)}):function(c){let u=n.getAttributeValue(c,s);return u!=null&&(u.length===a||u.charAt(a)==="-")&&u.substr(0,a)===i&&e(c)}},element(e,t,r){let{adapter:n}=r,{name:s,value:i}=t;if(/\s/.test(i))return vg.default.falseFunc;let a=new RegExp(`(?:^|\\s)${Pse(i)}(?:$|\\s)`,Gl(t,r)?"i":"");return function(c){let u=n.getAttributeValue(c,s);return u!=null&&u.length>=i.length&&a.test(u)&&e(c)}},exists(e,{name:t},{adapter:r}){return n=>r.hasAttrib(n,t)&&e(n)},start(e,t,r){let{adapter:n}=r,{name:s}=t,{value:i}=t,a=i.length;return a===0?vg.default.falseFunc:Gl(t,r)?(i=i.toLowerCase(),o=>{let c=n.getAttributeValue(o,s);return c!=null&&c.length>=a&&c.substr(0,a).toLowerCase()===i&&e(o)}):o=>{var c;return!!(!((c=n.getAttributeValue(o,s))===null||c===void 0)&&c.startsWith(i))&&e(o)}},end(e,t,r){let{adapter:n}=r,{name:s}=t,{value:i}=t,a=-i.length;return a===0?vg.default.falseFunc:Gl(t,r)?(i=i.toLowerCase(),o=>{var c;return((c=n.getAttributeValue(o,s))===null||c===void 0?void 0:c.substr(a).toLowerCase())===i&&e(o)}):o=>{var c;return!!(!((c=n.getAttributeValue(o,s))===null||c===void 0)&&c.endsWith(i))&&e(o)}},any(e,t,r){let{adapter:n}=r,{name:s,value:i}=t;if(i==="")return vg.default.falseFunc;if(Gl(t,r)){let a=new RegExp(Pse(i),"i");return function(c){let u=n.getAttributeValue(c,s);return u!=null&&u.length>=i.length&&a.test(u)&&e(c)}}return a=>{var o;return!!(!((o=n.getAttributeValue(a,s))===null||o===void 0)&&o.includes(i))&&e(a)}},not(e,t,r){let{adapter:n}=r,{name:s}=t,{value:i}=t;return i===""?a=>!!n.getAttributeValue(a,s)&&e(a):Gl(t,r)?(i=i.toLowerCase(),a=>{let o=n.getAttributeValue(a,s);return(o==null||o.length!==i.length||o.toLowerCase()!==i)&&e(a)}):a=>n.getAttributeValue(a,s)!==i&&e(a)}};var Fse=ke(_p(),1);var FVe=new Set([9,10,12,13,32]),$se=48,QVe=57;function Lse(e){if(e=e.trim().toLowerCase(),e==="even")return[2,0];if(e==="odd")return[2,1];let t=0,r=0,n=i(),s=a();if(t<e.length&&e.charAt(t)==="n"&&(t++,r=n*(s??1),o(),t<e.length?(n=i(),o(),s=a()):n=s=0),s===null||t<e.length)throw new Error(`n-th rule couldn't be parsed ('${e}')`);return[r,n*s];function i(){return e.charAt(t)==="-"?(t++,-1):(e.charAt(t)==="+"&&t++,1)}function a(){let c=t,u=0;for(;t<e.length&&e.charCodeAt(t)>=$se&&e.charCodeAt(t)<=QVe;)u=u*10+(e.charCodeAt(t)-$se),t++;return t===c?null:u}function o(){for(;t<e.length&&FVe.has(e.charCodeAt(t));)t++}}var R6=ke(au(),1);function Mse(e){let t=e[0],r=e[1]-1;if(r<0&&t<=0)return R6.default.falseFunc;if(t===-1)return i=>i<=r;if(t===0)return i=>i===r;if(t===1)return r<0?R6.default.trueFunc:i=>i>=r;let n=Math.abs(t),s=(r%n+n)%n;return t>1?i=>i>=r&&i%n===s:i=>i<=r&&i%n===s}function Ip(e){return Mse(Lse(e))}var Us=ke(au(),1);function dv(e,t){return r=>{let n=t.getParent(r);return n!=null&&t.isTag(n)&&e(r)}}var Cp={contains(e,t,{adapter:r}){return function(s){return e(s)&&r.getText(s).includes(t)}},icontains(e,t,{adapter:r}){let n=t.toLowerCase();return function(i){return e(i)&&r.getText(i).toLowerCase().includes(n)}},"nth-child"(e,t,{adapter:r,equals:n}){let s=Ip(t);return s===Us.default.falseFunc?Us.default.falseFunc:s===Us.default.trueFunc?dv(e,r):function(a){let o=r.getSiblings(a),c=0;for(let u=0;u<o.length&&!n(a,o[u]);u++)r.isTag(o[u])&&c++;return s(c)&&e(a)}},"nth-last-child"(e,t,{adapter:r,equals:n}){let s=Ip(t);return s===Us.default.falseFunc?Us.default.falseFunc:s===Us.default.trueFunc?dv(e,r):function(a){let o=r.getSiblings(a),c=0;for(let u=o.length-1;u>=0&&!n(a,o[u]);u--)r.isTag(o[u])&&c++;return s(c)&&e(a)}},"nth-of-type"(e,t,{adapter:r,equals:n}){let s=Ip(t);return s===Us.default.falseFunc?Us.default.falseFunc:s===Us.default.trueFunc?dv(e,r):function(a){let o=r.getSiblings(a),c=0;for(let u=0;u<o.length;u++){let l=o[u];if(n(a,l))break;r.isTag(l)&&r.getName(l)===r.getName(a)&&c++}return s(c)&&e(a)}},"nth-last-of-type"(e,t,{adapter:r,equals:n}){let s=Ip(t);return s===Us.default.falseFunc?Us.default.falseFunc:s===Us.default.trueFunc?dv(e,r):function(a){let o=r.getSiblings(a),c=0;for(let u=o.length-1;u>=0;u--){let l=o[u];if(n(a,l))break;r.isTag(l)&&r.getName(l)===r.getName(a)&&c++}return s(c)&&e(a)}},root(e,t,{adapter:r}){return n=>{let s=r.getParent(n);return(s==null||!r.isTag(s))&&e(n)}},scope(e,t,r,n){let{equals:s}=r;return!n||n.length===0?Cp.root(e,t,r):n.length===1?i=>s(n[0],i)&&e(i):i=>n.includes(i)&&e(i)},hover:N6("isHovered"),visited:N6("isVisited"),active:N6("isActive")};function N6(e){return function(r,n,{adapter:s}){let i=s[e];return typeof i!="function"?Us.default.falseFunc:function(o){return i(o)&&r(o)}}}var _g={empty(e,{adapter:t}){return!t.getChildren(e).some(r=>t.isTag(r)||t.getText(r)!=="")},"first-child"(e,{adapter:t,equals:r}){if(t.prevElementSibling)return t.prevElementSibling(e)==null;let n=t.getSiblings(e).find(s=>t.isTag(s));return n!=null&&r(e,n)},"last-child"(e,{adapter:t,equals:r}){let n=t.getSiblings(e);for(let s=n.length-1;s>=0;s--){if(r(e,n[s]))return!0;if(t.isTag(n[s]))break}return!1},"first-of-type"(e,{adapter:t,equals:r}){let n=t.getSiblings(e),s=t.getName(e);for(let i=0;i<n.length;i++){let a=n[i];if(r(e,a))return!0;if(t.isTag(a)&&t.getName(a)===s)break}return!1},"last-of-type"(e,{adapter:t,equals:r}){let n=t.getSiblings(e),s=t.getName(e);for(let i=n.length-1;i>=0;i--){let a=n[i];if(r(e,a))return!0;if(t.isTag(a)&&t.getName(a)===s)break}return!1},"only-of-type"(e,{adapter:t,equals:r}){let n=t.getName(e);return t.getSiblings(e).every(s=>r(e,s)||!t.isTag(s)||t.getName(s)!==n)},"only-child"(e,{adapter:t,equals:r}){return t.getSiblings(e).every(n=>r(e,n)||!t.isTag(n))}};function k6(e,t,r,n){if(r===null){if(e.length>n)throw new Error(`Pseudo-class :${t} requires an argument`)}else if(e.length===n)throw new Error(`Pseudo-class :${t} doesn't have any arguments`)}var fv={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"};var Ti=ke(au(),1);var O6={};function $6(e,t){return e===Ti.default.falseFunc?Ti.default.falseFunc:r=>t.isTag(r)&&e(r)}function L6(e,t){let r=t.getSiblings(e);if(r.length<=1)return[];let n=r.indexOf(e);return n<0||n===r.length-1?[]:r.slice(n+1).filter(t.isTag)}function P6(e){return{xmlMode:!!e.xmlMode,lowerCaseAttributeNames:!!e.lowerCaseAttributeNames,lowerCaseTags:!!e.lowerCaseTags,quirksMode:!!e.quirksMode,cacheResults:!!e.cacheResults,pseudos:e.pseudos,adapter:e.adapter,equals:e.equals}}var D6=(e,t,r,n,s)=>{let i=s(t,P6(r),n);return i===Ti.default.trueFunc?e:i===Ti.default.falseFunc?Ti.default.falseFunc:a=>i(a)&&e(a)},pv={is:D6,matches:D6,where:D6,not(e,t,r,n,s){let i=s(t,P6(r),n);return i===Ti.default.falseFunc?e:i===Ti.default.trueFunc?Ti.default.falseFunc:a=>!i(a)&&e(a)},has(e,t,r,n,s){let{adapter:i}=r,a=P6(r);a.relativeSelector=!0;let o=t.some(l=>l.some(xg))?[O6]:void 0,c=s(t,a,o);if(c===Ti.default.falseFunc)return Ti.default.falseFunc;let u=$6(c,i);if(o&&c!==Ti.default.trueFunc){let{shouldTestNextSiblings:l=!1}=c;return d=>{if(!e(d))return!1;o[0]=d;let f=i.getChildren(d),h=l?[...f,...L6(d,i)]:f;return i.existsOne(u,h)}}return l=>e(l)&&i.existsOne(u,i.getChildren(l))}};function Qse(e,t,r,n,s){var i;let{name:a,data:o}=t;if(Array.isArray(o)){if(!(a in pv))throw new Error(`Unknown pseudo-class :${a}(${o})`);return pv[a](e,o,r,n,s)}let c=(i=r.pseudos)===null||i===void 0?void 0:i[a],u=typeof c=="string"?c:fv[a];if(typeof u=="string"){if(o!=null)throw new Error(`Pseudo ${a} doesn't have any arguments`);let l=(0,Fse.parse)(u);return pv.is(e,l,r,n,s)}if(typeof c=="function")return k6(c,a,o,1),l=>c(l,o)&&e(l);if(a in Cp)return Cp[a](e,o,r,n);if(a in _g){let l=_g[a];return k6(l,a,o,2),d=>l(d,r,o)&&e(d)}throw new Error(`Unknown pseudo-class :${a}`)}var Bi=ke(_p(),1);function M6(e,t){let r=t.getParent(e);return r&&t.isTag(r)?r:null}function Use(e,t,r,n,s){let{adapter:i,equals:a}=r;switch(t.type){case Bi.SelectorType.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case Bi.SelectorType.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case Bi.SelectorType.Attribute:{if(t.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!r.xmlMode||r.lowerCaseAttributeNames)&&(t.name=t.name.toLowerCase()),Ose[t.action](e,t,r)}case Bi.SelectorType.Pseudo:return Qse(e,t,r,n,s);case Bi.SelectorType.Tag:{if(t.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");let{name:o}=t;return(!r.xmlMode||r.lowerCaseTags)&&(o=o.toLowerCase()),function(u){return i.getName(u)===o&&e(u)}}case Bi.SelectorType.Descendant:{if(r.cacheResults===!1||typeof WeakSet>"u")return function(u){let l=u;for(;l=M6(l,i);)if(e(l))return!0;return!1};let o=new WeakSet;return function(u){let l=u;for(;l=M6(l,i);)if(!o.has(l)){if(i.isTag(l)&&e(l))return!0;o.add(l)}return!1}}case"_flexibleDescendant":return function(c){let u=c;do if(e(u))return!0;while(u=M6(u,i));return!1};case Bi.SelectorType.Parent:return function(c){return i.getChildren(c).some(u=>i.isTag(u)&&e(u))};case Bi.SelectorType.Child:return function(c){let u=i.getParent(c);return u!=null&&i.isTag(u)&&e(u)};case Bi.SelectorType.Sibling:return function(c){let u=i.getSiblings(c);for(let l=0;l<u.length;l++){let d=u[l];if(a(c,d))break;if(i.isTag(d)&&e(d))return!0}return!1};case Bi.SelectorType.Adjacent:return i.prevElementSibling?function(c){let u=i.prevElementSibling(c);return u!=null&&e(u)}:function(c){let u=i.getSiblings(c),l;for(let d=0;d<u.length;d++){let f=u[d];if(a(c,f))break;i.isTag(f)&&(l=f)}return!!l&&e(l)};case Bi.SelectorType.Universal:{if(t.namespace!=null&&t.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return e}}}function qse(e,t,r){let n=hv(e,t,r);return $6(n,t.adapter)}function hv(e,t,r){let n=typeof e=="string"?(0,ia.parse)(e):e;return mv(n,t,r)}function jse(e){return e.type===ia.SelectorType.Pseudo&&(e.name==="scope"||Array.isArray(e.data)&&e.data.some(t=>t.some(jse)))}var UVe={type:ia.SelectorType.Descendant},qVe={type:"_flexibleDescendant"},jVe={type:ia.SelectorType.Pseudo,name:"scope",data:null};function HVe(e,{adapter:t},r){let n=!!r?.every(s=>{let i=t.isTag(s)&&t.getParent(s);return s===O6||i&&t.isTag(i)});for(let s of e){if(!(s.length>0&&xg(s[0])&&s[0].type!==ia.SelectorType.Descendant))if(n&&!s.some(jse))s.unshift(UVe);else continue;s.unshift(jVe)}}function mv(e,t,r){var n;e.forEach(B6),r=(n=t.context)!==null&&n!==void 0?n:r;let s=Array.isArray(r),i=r&&(Array.isArray(r)?r:[r]);if(t.relativeSelector!==!1)HVe(e,t,i);else if(e.some(c=>c.length>0&&xg(c[0])))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let a=!1,o=e.map(c=>{if(c.length>=2){let[u,l]=c;u.type!==ia.SelectorType.Pseudo||u.name!=="scope"||(s&&l.type===ia.SelectorType.Descendant?c[1]=qVe:(l.type===ia.SelectorType.Adjacent||l.type===ia.SelectorType.Sibling)&&(a=!0))}return zVe(c,t,i)}).reduce(GVe,qo.default.falseFunc);return o.shouldTestNextSiblings=a,o}function zVe(e,t,r){var n;return e.reduce((s,i)=>s===qo.default.falseFunc?qo.default.falseFunc:Use(s,i,t,r,mv),(n=t.rootFunc)!==null&&n!==void 0?n:qo.default.trueFunc)}function GVe(e,t){return t===qo.default.falseFunc||e===qo.default.trueFunc?e:e===qo.default.falseFunc||t===qo.default.trueFunc?t:function(n){return e(n)||t(n)}}var Hse=(e,t)=>e===t,VVe={adapter:nu,equals:Hse};function zse(e){var t,r,n,s;let i=e??VVe;return(t=i.adapter)!==null&&t!==void 0||(i.adapter=nu),(r=i.equals)!==null&&r!==void 0||(i.equals=(s=(n=i.adapter)===null||n===void 0?void 0:n.equals)!==null&&s!==void 0?s:Hse),i}function Q6(e){return function(r,n,s){let i=zse(n);return e(r,i,s)}}var UEt=Q6(qse),qEt=Q6(hv),gv=Q6(mv);function Gse(e){return function(r,n,s){let i=zse(s);typeof r!="function"&&(r=hv(r,i,n));let a=Av(n,i.adapter,r.shouldTestNextSiblings);return e(r,a,i)}}function Av(e,t,r=!1){return r&&(e=KVe(e,t)),Array.isArray(e)?t.removeSubsets(e):t.getChildren(e)}function KVe(e,t){let r=Array.isArray(e)?e.slice(0):[e],n=r.length;for(let s=0;s<n;s++){let i=L6(r[s],t);r.push(...i)}return r}var jEt=Gse((e,t,r)=>e===F6.default.falseFunc||!t||t.length===0?[]:r.adapter.findAll(e,t)),HEt=Gse((e,t,r)=>e===F6.default.falseFunc||!t||t.length===0?null:r.adapter.findOne(e,t));var bv=ke(au(),1);var YVe=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function wp(e){return e.type!=="pseudo"?!1:YVe.has(e.name)?!0:e.name==="not"&&Array.isArray(e.data)?e.data.some(t=>t.some(wp)):!1}function Vse(e,t,r){let n=t!=null?parseInt(t,10):NaN;switch(e){case"first":return 1;case"nth":case"eq":return isFinite(n)?n>=0?n+1:1/0:0;case"lt":return isFinite(n)?n>=0?Math.min(n,r):1/0:0;case"gt":return isFinite(n)?1/0:0;case"odd":return 2*r;case"even":return 2*r-1;case"last":case"not":return 1/0}}function Kse(e){for(;e.parent;)e=e.parent;return e}function yv(e){let t=[],r=[];for(let n of e)n.some(wp)?t.push(n):r.push(n);return[r,t]}var WVe={type:qs.SelectorType.Universal,namespace:null},JVe={type:qs.SelectorType.Pseudo,name:"scope",data:null};function j6(e,t,r={}){return H6([e],t,r)}function H6(e,t,r={}){if(typeof t=="function")return e.some(t);let[n,s]=yv((0,qs.parse)(t));return n.length>0&&e.some(gv(n,r))||s.some(i=>Wse(i,e,r).length>0)}function XVe(e,t,r,n){let s=typeof r=="string"?parseInt(r,10):NaN;switch(e){case"first":case"lt":return t;case"last":return t.length>0?[t[t.length-1]]:t;case"nth":case"eq":return isFinite(s)&&Math.abs(s)<t.length?[s<0?t[t.length+s]:t[s]]:[];case"gt":return isFinite(s)?t.slice(s+1):[];case"even":return t.filter((i,a)=>a%2===0);case"odd":return t.filter((i,a)=>a%2===1);case"not":{let i=new Set(Yse(r,t,n));return t.filter(a=>!i.has(a))}}}function z6(e,t,r={}){return Yse((0,qs.parse)(e),t,r)}function Yse(e,t,r){if(t.length===0)return[];let[n,s]=yv(e),i;if(n.length){let a=q6(t,n,r);if(s.length===0)return a;a.length&&(i=new Set(a))}for(let a=0;a<s.length&&i?.size!==t.length;a++){let o=s[a];if((i?t.filter(l=>$e(l)&&!i.has(l)):t).length===0)break;let u=Wse(o,t,r);if(u.length)if(i)u.forEach(l=>i.add(l));else{if(a===s.length-1)return u;i=new Set(u)}}return typeof i<"u"?i.size===t.length?t:t.filter(a=>i.has(a)):[]}function Wse(e,t,r){var n;if(e.some(qs.isTraversal)){let s=(n=r.root)!==null&&n!==void 0?n:Kse(t[0]),i={...r,context:t,relativeSelector:!1};return e.push(JVe),Ev(s,e,i,!0,t.length)}return Ev(t,e,r,!1,t.length)}function Jse(e,t,r={},n=1/0){if(typeof e=="function")return Xse(t,e);let[s,i]=yv((0,qs.parse)(e)),a=i.map(o=>Ev(t,o,r,!0,n));return s.length&&a.push(U6(t,s,r,n)),a.length===0?[]:a.length===1?a[0]:tu(a.reduce((o,c)=>[...o,...c]))}function Ev(e,t,r,n,s){let i=t.findIndex(wp),a=t.slice(0,i),o=t[i],c=t.length-1===i?s:1/0,u=Vse(o.name,o.data,c);if(u===0)return[];let d=(a.length===0&&!Array.isArray(e)?gp(e).filter($e):a.length===0?(Array.isArray(e)?e:[e]).filter($e):n||a.some(qs.isTraversal)?U6(e,[a],r,u):q6(e,[a],r)).slice(0,u),f=XVe(o.name,d,o.data,r);if(f.length===0||t.length===i+1)return f;let h=t.slice(i+1),p=h.some(qs.isTraversal);if(p){if((0,qs.isTraversal)(h[0])){let{type:m}=h[0];(m===qs.SelectorType.Sibling||m===qs.SelectorType.Adjacent)&&(f=Av(f,nu,!0)),h.unshift(WVe)}r={...r,relativeSelector:!1,rootFunc:m=>f.includes(m)}}else r.rootFunc&&r.rootFunc!==bv.trueFunc&&(r={...r,rootFunc:bv.trueFunc});return h.some(wp)?Ev(f,h,r,!1,s):p?U6(f,[h],r,s):q6(f,[h],r)}function U6(e,t,r,n){let s=gv(t,r,e);return Xse(e,s,n)}function Xse(e,t,r=1/0){let n=Av(e,nu,t.shouldTestNextSiblings);return rv(s=>$e(s)&&t(s),n,!0,r)}function q6(e,t,r){let n=(Array.isArray(e)?e:[e]).filter($e);if(n.length===0)return n;let s=gv(t,r);return s===bv.trueFunc?n:n.filter(s)}var eKe=/^\s*[~+]/;function tKe(e){var t;if(!e)return this._make([]);let r=this.toArray();if(typeof e!="string"){let i=Xs(e)?e.toArray():[e];return this._make(i.filter(a=>r.some(o=>_6(o,a))))}let n=eKe.test(e)?r:this.children().toArray(),s={context:r,root:(t=this._root)===null||t===void 0?void 0:t[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(Jse(e,n,s))}function G6(e){return function(t,...r){return function(n){var s;let i=e(t,this);return n&&(i=Y6(i,n,this.options.xmlMode,(s=this._root)===null||s===void 0?void 0:s[0])),this._make(this.length>1&&i.length>1?r.reduce((a,o)=>o(a),i):i)}}}var Ig=G6((e,t)=>{let r=[];for(let n=0;n<t.length;n++){let s=e(t[n]);r.push(s)}return new Array().concat(...r)}),V6=G6((e,t)=>{let r=[];for(let n=0;n<t.length;n++){let s=e(t[n]);s!==null&&r.push(s)}return r});function K6(e,...t){let r=null,n=G6((s,i)=>{let a=[];return dr(i,o=>{for(let c;(c=s(o))&&!r?.(c,a.length);o=c)a.push(c)}),a})(e,...t);return function(s,i){r=typeof s=="string"?o=>j6(o,s,this.options):s?Cg(s):null;let a=n.call(this,i);return r=null,a}}function Sp(e){return Array.from(new Set(e))}var rKe=V6(({parent:e})=>e&&!sa(e)?e:null,Sp),nKe=Ig(e=>{let t=[];for(;e.parent&&!sa(e.parent);)t.push(e.parent),e=e.parent;return t},tu,e=>e.reverse()),sKe=K6(({parent:e})=>e&&!sa(e)?e:null,tu,e=>e.reverse());function iKe(e){var t;let r=[];if(!e)return this._make(r);let n={xmlMode:this.options.xmlMode,root:(t=this._root)===null||t===void 0?void 0:t[0]},s=typeof e=="string"?i=>j6(i,e,n):Cg(e);return dr(this,i=>{for(;i&&$e(i);){if(s(i,0)){r.includes(i)||r.push(i);break}i=i.parent}}),this._make(r)}var aKe=V6(e=>ev(e)),oKe=Ig(e=>{let t=[];for(;e.next;)e=e.next,$e(e)&&t.push(e);return t},Sp),cKe=K6(e=>ev(e),Sp),uKe=V6(e=>tv(e)),lKe=Ig(e=>{let t=[];for(;e.prev;)e=e.prev,$e(e)&&t.push(e);return t},Sp),dKe=K6(e=>tv(e),Sp),fKe=Ig(e=>E6(e).filter(t=>$e(t)&&t!==e),tu),pKe=Ig(e=>gp(e).filter($e),Sp);function hKe(){let e=this.toArray().reduce((t,r)=>rr(r)?t.concat(r.children):t,[]);return this._make(e)}function mKe(e){let t=0,r=this.length;for(;t<r&&e.call(this[t],t,this[t])!==!1;)++t;return this}function gKe(e){let t=[];for(let r=0;r<this.length;r++){let n=this[r],s=e.call(n,r,n);s!=null&&(t=t.concat(s))}return this._make(t)}function Cg(e){return typeof e=="function"?(t,r)=>e.call(t,r,t):Xs(e)?t=>Array.prototype.includes.call(e,t):function(t){return e===t}}function AKe(e){var t;return this._make(Y6(this.toArray(),e,this.options.xmlMode,(t=this._root)===null||t===void 0?void 0:t[0]))}function Y6(e,t,r,n){return typeof t=="string"?z6(t,e,{xmlMode:r,root:n}):e.filter(Cg(t))}function yKe(e){let t=this.toArray();return typeof e=="string"?H6(t.filter($e),e,this.options):e?t.some(Cg(e)):!1}function bKe(e){let t=this.toArray();if(typeof e=="string"){let r=new Set(z6(e,t,this.options));t=t.filter(n=>!r.has(n))}else{let r=Cg(e);t=t.filter((n,s)=>!r(n,s))}return this._make(t)}function EKe(e){return this.filter(typeof e=="string"?`:has(${e})`:(t,r)=>this._make(r).find(e).length>0)}function xKe(){return this.length>1?this._make(this[0]):this}function vKe(){return this.length>0?this._make(this[this.length-1]):this}function _Ke(e){var t;return e=+e,e===0&&this.length<=1?this:(e<0&&(e=this.length+e),this._make((t=this[e])!==null&&t!==void 0?t:[]))}function IKe(e){return e==null?this.toArray():this[e<0?this.length+e:e]}function CKe(){return Array.prototype.slice.call(this)}function wKe(e){let t,r;return e==null?(t=this.parent().children(),r=this[0]):typeof e=="string"?(t=this._make(e),r=this[0]):(t=this,r=Xs(e)?e[0]:e),Array.prototype.indexOf.call(t,r)}function SKe(e,t){return this._make(Array.prototype.slice.call(this,e,t))}function TKe(){var e;return(e=this.prevObject)!==null&&e!==void 0?e:this._make([])}function BKe(e,t){let r=this._make(e,t),n=tu([...this.get(),...r.get()]);return this._make(n)}function RKe(e){return this.prevObject?this.add(e?this.prevObject.filter(e):this.prevObject):this}var J6={};On(J6,{_makeDomArray:()=>NKe,after:()=>QKe,append:()=>PKe,appendTo:()=>kKe,before:()=>qKe,clone:()=>WKe,empty:()=>GKe,html:()=>VKe,insertAfter:()=>UKe,insertBefore:()=>jKe,prepend:()=>OKe,prependTo:()=>DKe,remove:()=>HKe,replaceWith:()=>zKe,text:()=>YKe,toString:()=>KKe,unwrap:()=>MKe,wrap:()=>$Ke,wrapAll:()=>FKe,wrapInner:()=>LKe});function Zse(e){return function(r,n,s,i){if(typeof Buffer<"u"&&Buffer.isBuffer(r)&&(r=r.toString()),typeof r=="string")return e(r,n,s,i);let a=r;if(!Array.isArray(a)&&sa(a))return a;let o=new Js([]);return ou(a,o),o}}function ou(e,t){let r=Array.isArray(e)?e:[e];t?t.children=r:t=null;for(let n=0;n<r.length;n++){let s=r[n];s.parent&&s.parent.children!==r&&Qo(s),t?(s.prev=r[n-1]||null,s.next=r[n+1]||null):s.prev=s.next=null,s.parent=t}return t}function NKe(e,t){return e==null?[]:Xs(e)?t?av(e.get()):e.get():Array.isArray(e)?e.reduce((r,n)=>r.concat(this._makeDomArray(n,t)),[]):typeof e=="string"?this._parse(e,this.options,!1,null).children:t?av([e]):[e]}function eie(e){return function(...t){let r=this.length-1;return dr(this,(n,s)=>{if(!rr(n))return;let i=typeof t[0]=="function"?t[0].call(n,s,this._render(n.children)):t,a=this._makeDomArray(i,s<r);e(a,n.children,n)})}}function cu(e,t,r,n,s){var i,a;let o=[t,r,...n],c=t===0?null:e[t-1],u=t+r>=e.length?null:e[t+r];for(let l=0;l<n.length;++l){let d=n[l],f=d.parent;if(f){let p=f.children.indexOf(d);p>-1&&(f.children.splice(p,1),s===f&&t>p&&o[0]--)}d.parent=s,d.prev&&(d.prev.next=(i=d.next)!==null&&i!==void 0?i:null),d.next&&(d.next.prev=(a=d.prev)!==null&&a!==void 0?a:null),d.prev=l===0?c:n[l-1],d.next=l===n.length-1?u:n[l+1]}return c&&(c.next=n[0]),u&&(u.prev=n[n.length-1]),e.splice(...o)}function kKe(e){return(Xs(e)?e:this._make(e)).append(this),this}function DKe(e){return(Xs(e)?e:this._make(e)).prepend(this),this}var PKe=eie((e,t,r)=>{cu(t,t.length,0,e,r)}),OKe=eie((e,t,r)=>{cu(t,0,0,e,r)});function tie(e){return function(t){let r=this.length-1,n=this.parents().last();for(let s=0;s<this.length;s++){let i=this[s],a=typeof t=="function"?t.call(i,s,i):typeof t=="string"&&!yg(t)?n.find(t).clone():t,[o]=this._makeDomArray(a,s<r);if(!o||!rr(o))continue;let c=o,u=0;for(;u<c.children.length;){let l=c.children[u];$e(l)?(c=l,u=0):u++}e(i,c,[o])}return this}}var $Ke=tie((e,t,r)=>{let{parent:n}=e;if(!n)return;let s=n.children,i=s.indexOf(e);ou([e],t),cu(s,i,0,r,n)}),LKe=tie((e,t,r)=>{rr(e)&&(ou(e.children,t),ou(r,e))});function MKe(e){return this.parent(e).not("body").each((t,r)=>{this._make(r).replaceWith(r.children)}),this}function FKe(e){let t=this[0];if(t){let r=this._make(typeof e=="function"?e.call(t,0,t):e).insertBefore(t),n;for(let i=0;i<r.length;i++)r[i].type==="tag"&&(n=r[i]);let s=0;for(;n&&s<n.children.length;){let i=n.children[s];i.type==="tag"?(n=i,s=0):s++}n&&this._make(n).append(this)}return this}function QKe(...e){let t=this.length-1;return dr(this,(r,n)=>{let{parent:s}=r;if(!rr(r)||!s)return;let i=s.children,a=i.indexOf(r);if(a<0)return;let o=typeof e[0]=="function"?e[0].call(r,n,this._render(r.children)):e,c=this._makeDomArray(o,n<t);cu(i,a+1,0,c,s)})}function UKe(e){typeof e=="string"&&(e=this._make(e)),this.remove();let t=[];return this._makeDomArray(e).forEach(r=>{let n=this.clone().toArray(),{parent:s}=r;if(!s)return;let i=s.children,a=i.indexOf(r);a<0||(cu(i,a+1,0,n,s),t.push(...n))}),this._make(t)}function qKe(...e){let t=this.length-1;return dr(this,(r,n)=>{let{parent:s}=r;if(!rr(r)||!s)return;let i=s.children,a=i.indexOf(r);if(a<0)return;let o=typeof e[0]=="function"?e[0].call(r,n,this._render(r.children)):e,c=this._makeDomArray(o,n<t);cu(i,a,0,c,s)})}function jKe(e){let t=this._make(e);this.remove();let r=[];return dr(t,n=>{let s=this.clone().toArray(),{parent:i}=n;if(!i)return;let a=i.children,o=a.indexOf(n);o<0||(cu(a,o,0,s,i),r.push(...s))}),this._make(r)}function HKe(e){let t=e?this.filter(e):this;return dr(t,r=>{Qo(r),r.prev=r.next=r.parent=null}),this}function zKe(e){return dr(this,(t,r)=>{let{parent:n}=t;if(!n)return;let s=n.children,i=typeof e=="function"?e.call(t,r,t):e,a=this._makeDomArray(i);ou(a,null);let o=s.indexOf(t);cu(s,o,1,a,n),a.includes(t)||(t.parent=t.prev=t.next=null)})}function GKe(){return dr(this,e=>{rr(e)&&(e.children.forEach(t=>{t.next=t.prev=t.parent=null}),e.children.length=0)})}function VKe(e){if(e===void 0){let t=this[0];return!t||!rr(t)?null:this._render(t.children)}return dr(this,t=>{if(!rr(t))return;t.children.forEach(n=>{n.next=n.prev=n.parent=null});let r=Xs(e)?e.toArray():this._parse(`${e}`,this.options,!1,t).children;ou(r,t)})}function KKe(){return this._render(this)}function YKe(e){return e===void 0?su(this):typeof e=="function"?dr(this,(t,r)=>this._make(t).text(e.call(t,r,su([t])))):dr(this,t=>{if(!rr(t))return;t.children.forEach(n=>{n.next=n.prev=n.parent=null});let r=new qa(`${e}`);ou(r,t)})}function WKe(){return this._make(av(this.get()))}var X6={};On(X6,{css:()=>JKe});function JKe(e,t){if(e!=null&&t!=null||typeof e=="object"&&!Array.isArray(e))return dr(this,(r,n)=>{$e(r)&&rie(r,e,t,n)});if(this.length!==0)return nie(this[0],e)}function rie(e,t,r,n){if(typeof t=="string"){let s=nie(e),i=typeof r=="function"?r.call(e,n,s[t]):r;i===""?delete s[t]:i!=null&&(s[t]=i),e.attribs.style=XKe(s)}else typeof t=="object"&&Object.keys(t).forEach((s,i)=>{rie(e,s,t[s],i)})}function nie(e,t){if(!e||!$e(e))return;let r=ZKe(e.attribs.style);if(typeof t=="string")return r[t];if(Array.isArray(t)){let n={};return t.forEach(s=>{r[s]!=null&&(n[s]=r[s])}),n}return r}function XKe(e){return Object.keys(e).reduce((t,r)=>`${t}${t?" ":""}${r}: ${e[r]};`,"")}function ZKe(e){if(e=(e||"").trim(),!e)return{};let t={},r;for(let n of e.split(";")){let s=n.indexOf(":");if(s<1||s===n.length-1){let i=n.trimEnd();i.length>0&&r!==void 0&&(t[r]+=`;${i}`)}else r=n.slice(0,s).trim(),t[r]=n.slice(s+1).trim()}return t}var Z6={};On(Z6,{serialize:()=>tYe,serializeArray:()=>rYe});var sie="input,select,textarea,keygen",eYe=/%20/g,iie=/\r?\n/g;function tYe(){return this.serializeArray().map(r=>`${encodeURIComponent(r.name)}=${encodeURIComponent(r.value)}`).join("&").replace(eYe,"+")}function rYe(){return this.map((e,t)=>{let r=this._make(t);return $e(t)&&t.name==="form"?r.find(sie).toArray():r.filter(sie).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map((e,t)=>{var r;let n=this._make(t),s=n.attr("name"),i=(r=n.val())!==null&&r!==void 0?r:"";return Array.isArray(i)?i.map(a=>({name:s,value:a.replace(iie,`\r
`)})):{name:s,value:i.replace(iie,`\r
`)}}).toArray()}var uu=class{constructor(t,r,n){if(this.length=0,this.options=n,this._root=r,t){for(let s=0;s<t.length;s++)this[s]=t[s];this.length=t.length}}};uu.prototype.cheerio="[cheerio object]";uu.prototype.splice=Array.prototype.splice;uu.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator];Object.assign(uu.prototype,S6,W6,J6,X6,Z6);function aie(e,t){return function r(n,s,i=!0){if(n==null)throw new Error("cheerio.load() expects a string");let a={...ug,...lg(s)},o=e(n,a,i,null);class c extends uu{_make(d,f){let h=u(d,f);return h.prevObject=this,h}_parse(d,f,h,p){return e(d,f,h,p)}_render(d){return t(d,this.options)}}function u(l,d,f=o,h){if(l&&Xs(l))return l;let p={...a,...lg(h)},m=typeof f=="string"?[e(f,p,!1,null)]:"length"in f?f:[f],A=Xs(m)?m:new c(m,null,p);if(A._root=A,!l)return new c(void 0,A,p);let g=typeof l=="string"&&yg(l)?e(l,p,!1,null).children:nYe(l)?[l]:Array.isArray(l)?l:void 0,x=new c(g,A,p);if(g)return x;if(typeof l!="string")throw new Error("Unexpected type of selector");let y=l,b=d?typeof d=="string"?yg(d)?new c([e(d,p,!1,null)],A,p):(y=`${d} ${y}`,A):Xs(d)?d:new c(Array.isArray(d)?d:[d],A,p):A;return b?b.find(y):x}return Object.assign(u,iu,{load:r,_root:o,_options:a,fn:c.prototype,prototype:c.prototype}),u}}function nYe(e){return!!e.name||e.type==="root"||e.type==="text"||e.type==="comment"}var sYe=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),hr="\uFFFD",M;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(M||(M={}));var ms={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function xv(e){return e>=55296&&e<=57343}function oie(e){return e>=56320&&e<=57343}function cie(e,t){return(e-55296)*1024+9216+t}function vv(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function _v(e){return e>=64976&&e<=65007||sYe.has(e)}var oe;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(oe||(oe={}));var aYe=65536,Iv=class{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=aYe,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,r){let{line:n,col:s,offset:i}=this,a=s+r,o=i+r;return{code:t,startLine:n,endLine:n,startCol:a,endCol:a,startOffset:o,endOffset:o}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){let r=this.html.charCodeAt(this.pos+1);if(oie(r))return this.pos++,this._addGap(),cie(t,r)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,M.EOF;return this._err(oe.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,r){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=r}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,r){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(r)return this.html.startsWith(t,this.pos);for(let n=0;n<t.length;n++)if((this.html.charCodeAt(this.pos+n)|32)!==t.charCodeAt(n))return!1;return!0}peek(t){let r=this.pos+t;if(r>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,M.EOF;let n=this.html.charCodeAt(r);return n===M.CARRIAGE_RETURN?M.LINE_FEED:n}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,M.EOF;let t=this.html.charCodeAt(this.pos);return t===M.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,M.LINE_FEED):t===M.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,xv(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===M.LINE_FEED||t===M.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){vv(t)?this._err(oe.controlCharacterInInputStream):_v(t)&&this._err(oe.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}};var St;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(St||(St={}));function Cv(e,t){for(let r=e.attrs.length-1;r>=0;r--)if(e.attrs[r].name===t)return e.attrs[r].value;return null}var wv=new Uint16Array('\u1D41<\xD5\u0131\u028A\u049D\u057B\u05D0\u0675\u06DE\u07A2\u07D6\u080F\u0A4A\u0A91\u0DA1\u0E6D\u0F09\u0F26\u10CA\u1228\u12E1\u1415\u149D\u14C3\u14DF\u1525\0\0\0\0\0\0\u156B\u16CD\u198D\u1C12\u1DDD\u1F7E\u2060\u21B0\u228D\u23C0\u23FB\u2442\u2824\u2912\u2D08\u2E48\u2FCE\u3016\u32BA\u3639\u37AC\u38FE\u3A28\u3A71\u3AE0\u3B2E\u0800EMabcfglmnoprstu\\bfms\x7F\x84\x8B\x90\x95\x98\xA6\xB3\xB9\xC8\xCFlig\u803B\xC6\u40C6P\u803B&\u4026cute\u803B\xC1\u40C1reve;\u4102\u0100iyx}rc\u803B\xC2\u40C2;\u4410r;\uC000\u{1D504}rave\u803B\xC0\u40C0pha;\u4391acr;\u4100d;\u6A53\u0100gp\x9D\xA1on;\u4104f;\uC000\u{1D538}plyFunction;\u6061ing\u803B\xC5\u40C5\u0100cs\xBE\xC3r;\uC000\u{1D49C}ign;\u6254ilde\u803B\xC3\u40C3ml\u803B\xC4\u40C4\u0400aceforsu\xE5\xFB\xFE\u0117\u011C\u0122\u0127\u012A\u0100cr\xEA\xF2kslash;\u6216\u0176\xF6\xF8;\u6AE7ed;\u6306y;\u4411\u0180crt\u0105\u010B\u0114ause;\u6235noullis;\u612Ca;\u4392r;\uC000\u{1D505}pf;\uC000\u{1D539}eve;\u42D8c\xF2\u0113mpeq;\u624E\u0700HOacdefhilorsu\u014D\u0151\u0156\u0180\u019E\u01A2\u01B5\u01B7\u01BA\u01DC\u0215\u0273\u0278\u027Ecy;\u4427PY\u803B\xA9\u40A9\u0180cpy\u015D\u0162\u017Aute;\u4106\u0100;i\u0167\u0168\u62D2talDifferentialD;\u6145leys;\u612D\u0200aeio\u0189\u018E\u0194\u0198ron;\u410Cdil\u803B\xC7\u40C7rc;\u4108nint;\u6230ot;\u410A\u0100dn\u01A7\u01ADilla;\u40B8terDot;\u40B7\xF2\u017Fi;\u43A7rcle\u0200DMPT\u01C7\u01CB\u01D1\u01D6ot;\u6299inus;\u6296lus;\u6295imes;\u6297o\u0100cs\u01E2\u01F8kwiseContourIntegral;\u6232eCurly\u0100DQ\u0203\u020FoubleQuote;\u601Duote;\u6019\u0200lnpu\u021E\u0228\u0247\u0255on\u0100;e\u0225\u0226\u6237;\u6A74\u0180git\u022F\u0236\u023Aruent;\u6261nt;\u622FourIntegral;\u622E\u0100fr\u024C\u024E;\u6102oduct;\u6210nterClockwiseContourIntegral;\u6233oss;\u6A2Fcr;\uC000\u{1D49E}p\u0100;C\u0284\u0285\u62D3ap;\u624D\u0580DJSZacefios\u02A0\u02AC\u02B0\u02B4\u02B8\u02CB\u02D7\u02E1\u02E6\u0333\u048D\u0100;o\u0179\u02A5trahd;\u6911cy;\u4402cy;\u4405cy;\u440F\u0180grs\u02BF\u02C4\u02C7ger;\u6021r;\u61A1hv;\u6AE4\u0100ay\u02D0\u02D5ron;\u410E;\u4414l\u0100;t\u02DD\u02DE\u6207a;\u4394r;\uC000\u{1D507}\u0100af\u02EB\u0327\u0100cm\u02F0\u0322ritical\u0200ADGT\u0300\u0306\u0316\u031Ccute;\u40B4o\u0174\u030B\u030D;\u42D9bleAcute;\u42DDrave;\u4060ilde;\u42DCond;\u62C4ferentialD;\u6146\u0470\u033D\0\0\0\u0342\u0354\0\u0405f;\uC000\u{1D53B}\u0180;DE\u0348\u0349\u034D\u40A8ot;\u60DCqual;\u6250ble\u0300CDLRUV\u0363\u0372\u0382\u03CF\u03E2\u03F8ontourIntegra\xEC\u0239o\u0274\u0379\0\0\u037B\xBB\u0349nArrow;\u61D3\u0100eo\u0387\u03A4ft\u0180ART\u0390\u0396\u03A1rrow;\u61D0ightArrow;\u61D4e\xE5\u02CAng\u0100LR\u03AB\u03C4eft\u0100AR\u03B3\u03B9rrow;\u67F8ightArrow;\u67FAightArrow;\u67F9ight\u0100AT\u03D8\u03DErrow;\u61D2ee;\u62A8p\u0241\u03E9\0\0\u03EFrrow;\u61D1ownArrow;\u61D5erticalBar;\u6225n\u0300ABLRTa\u0412\u042A\u0430\u045E\u047F\u037Crrow\u0180;BU\u041D\u041E\u0422\u6193ar;\u6913pArrow;\u61F5reve;\u4311eft\u02D2\u043A\0\u0446\0\u0450ightVector;\u6950eeVector;\u695Eector\u0100;B\u0459\u045A\u61BDar;\u6956ight\u01D4\u0467\0\u0471eeVector;\u695Fector\u0100;B\u047A\u047B\u61C1ar;\u6957ee\u0100;A\u0486\u0487\u62A4rrow;\u61A7\u0100ct\u0492\u0497r;\uC000\u{1D49F}rok;\u4110\u0800NTacdfglmopqstux\u04BD\u04C0\u04C4\u04CB\u04DE\u04E2\u04E7\u04EE\u04F5\u0521\u052F\u0536\u0552\u055D\u0560\u0565G;\u414AH\u803B\xD0\u40D0cute\u803B\xC9\u40C9\u0180aiy\u04D2\u04D7\u04DCron;\u411Arc\u803B\xCA\u40CA;\u442Dot;\u4116r;\uC000\u{1D508}rave\u803B\xC8\u40C8ement;\u6208\u0100ap\u04FA\u04FEcr;\u4112ty\u0253\u0506\0\0\u0512mallSquare;\u65FBerySmallSquare;\u65AB\u0100gp\u0526\u052Aon;\u4118f;\uC000\u{1D53C}silon;\u4395u\u0100ai\u053C\u0549l\u0100;T\u0542\u0543\u6A75ilde;\u6242librium;\u61CC\u0100ci\u0557\u055Ar;\u6130m;\u6A73a;\u4397ml\u803B\xCB\u40CB\u0100ip\u056A\u056Fsts;\u6203onentialE;\u6147\u0280cfios\u0585\u0588\u058D\u05B2\u05CCy;\u4424r;\uC000\u{1D509}lled\u0253\u0597\0\0\u05A3mallSquare;\u65FCerySmallSquare;\u65AA\u0370\u05BA\0\u05BF\0\0\u05C4f;\uC000\u{1D53D}All;\u6200riertrf;\u6131c\xF2\u05CB\u0600JTabcdfgorst\u05E8\u05EC\u05EF\u05FA\u0600\u0612\u0616\u061B\u061D\u0623\u066C\u0672cy;\u4403\u803B>\u403Emma\u0100;d\u05F7\u05F8\u4393;\u43DCreve;\u411E\u0180eiy\u0607\u060C\u0610dil;\u4122rc;\u411C;\u4413ot;\u4120r;\uC000\u{1D50A};\u62D9pf;\uC000\u{1D53E}eater\u0300EFGLST\u0635\u0644\u064E\u0656\u065B\u0666qual\u0100;L\u063E\u063F\u6265ess;\u62DBullEqual;\u6267reater;\u6AA2ess;\u6277lantEqual;\u6A7Eilde;\u6273cr;\uC000\u{1D4A2};\u626B\u0400Aacfiosu\u0685\u068B\u0696\u069B\u069E\u06AA\u06BE\u06CARDcy;\u442A\u0100ct\u0690\u0694ek;\u42C7;\u405Eirc;\u4124r;\u610ClbertSpace;\u610B\u01F0\u06AF\0\u06B2f;\u610DizontalLine;\u6500\u0100ct\u06C3\u06C5\xF2\u06A9rok;\u4126mp\u0144\u06D0\u06D8ownHum\xF0\u012Fqual;\u624F\u0700EJOacdfgmnostu\u06FA\u06FE\u0703\u0707\u070E\u071A\u071E\u0721\u0728\u0744\u0778\u078B\u078F\u0795cy;\u4415lig;\u4132cy;\u4401cute\u803B\xCD\u40CD\u0100iy\u0713\u0718rc\u803B\xCE\u40CE;\u4418ot;\u4130r;\u6111rave\u803B\xCC\u40CC\u0180;ap\u0720\u072F\u073F\u0100cg\u0734\u0737r;\u412AinaryI;\u6148lie\xF3\u03DD\u01F4\u0749\0\u0762\u0100;e\u074D\u074E\u622C\u0100gr\u0753\u0758ral;\u622Bsection;\u62C2isible\u0100CT\u076C\u0772omma;\u6063imes;\u6062\u0180gpt\u077F\u0783\u0788on;\u412Ef;\uC000\u{1D540}a;\u4399cr;\u6110ilde;\u4128\u01EB\u079A\0\u079Ecy;\u4406l\u803B\xCF\u40CF\u0280cfosu\u07AC\u07B7\u07BC\u07C2\u07D0\u0100iy\u07B1\u07B5rc;\u4134;\u4419r;\uC000\u{1D50D}pf;\uC000\u{1D541}\u01E3\u07C7\0\u07CCr;\uC000\u{1D4A5}rcy;\u4408kcy;\u4404\u0380HJacfos\u07E4\u07E8\u07EC\u07F1\u07FD\u0802\u0808cy;\u4425cy;\u440Cppa;\u439A\u0100ey\u07F6\u07FBdil;\u4136;\u441Ar;\uC000\u{1D50E}pf;\uC000\u{1D542}cr;\uC000\u{1D4A6}\u0580JTaceflmost\u0825\u0829\u082C\u0850\u0863\u09B3\u09B8\u09C7\u09CD\u0A37\u0A47cy;\u4409\u803B<\u403C\u0280cmnpr\u0837\u083C\u0841\u0844\u084Dute;\u4139bda;\u439Bg;\u67EAlacetrf;\u6112r;\u619E\u0180aey\u0857\u085C\u0861ron;\u413Ddil;\u413B;\u441B\u0100fs\u0868\u0970t\u0500ACDFRTUVar\u087E\u08A9\u08B1\u08E0\u08E6\u08FC\u092F\u095B\u0390\u096A\u0100nr\u0883\u088FgleBracket;\u67E8row\u0180;BR\u0899\u089A\u089E\u6190ar;\u61E4ightArrow;\u61C6eiling;\u6308o\u01F5\u08B7\0\u08C3bleBracket;\u67E6n\u01D4\u08C8\0\u08D2eeVector;\u6961ector\u0100;B\u08DB\u08DC\u61C3ar;\u6959loor;\u630Aight\u0100AV\u08EF\u08F5rrow;\u6194ector;\u694E\u0100er\u0901\u0917e\u0180;AV\u0909\u090A\u0910\u62A3rrow;\u61A4ector;\u695Aiangle\u0180;BE\u0924\u0925\u0929\u62B2ar;\u69CFqual;\u62B4p\u0180DTV\u0937\u0942\u094CownVector;\u6951eeVector;\u6960ector\u0100;B\u0956\u0957\u61BFar;\u6958ector\u0100;B\u0965\u0966\u61BCar;\u6952ight\xE1\u039Cs\u0300EFGLST\u097E\u098B\u0995\u099D\u09A2\u09ADqualGreater;\u62DAullEqual;\u6266reater;\u6276ess;\u6AA1lantEqual;\u6A7Dilde;\u6272r;\uC000\u{1D50F}\u0100;e\u09BD\u09BE\u62D8ftarrow;\u61DAidot;\u413F\u0180npw\u09D4\u0A16\u0A1Bg\u0200LRlr\u09DE\u09F7\u0A02\u0A10eft\u0100AR\u09E6\u09ECrrow;\u67F5ightArrow;\u67F7ightArrow;\u67F6eft\u0100ar\u03B3\u0A0Aight\xE1\u03BFight\xE1\u03CAf;\uC000\u{1D543}er\u0100LR\u0A22\u0A2CeftArrow;\u6199ightArrow;\u6198\u0180cht\u0A3E\u0A40\u0A42\xF2\u084C;\u61B0rok;\u4141;\u626A\u0400acefiosu\u0A5A\u0A5D\u0A60\u0A77\u0A7C\u0A85\u0A8B\u0A8Ep;\u6905y;\u441C\u0100dl\u0A65\u0A6FiumSpace;\u605Flintrf;\u6133r;\uC000\u{1D510}nusPlus;\u6213pf;\uC000\u{1D544}c\xF2\u0A76;\u439C\u0480Jacefostu\u0AA3\u0AA7\u0AAD\u0AC0\u0B14\u0B19\u0D91\u0D97\u0D9Ecy;\u440Acute;\u4143\u0180aey\u0AB4\u0AB9\u0ABEron;\u4147dil;\u4145;\u441D\u0180gsw\u0AC7\u0AF0\u0B0Eative\u0180MTV\u0AD3\u0ADF\u0AE8ediumSpace;\u600Bhi\u0100cn\u0AE6\u0AD8\xEB\u0AD9eryThi\xEE\u0AD9ted\u0100GL\u0AF8\u0B06reaterGreate\xF2\u0673essLes\xF3\u0A48Line;\u400Ar;\uC000\u{1D511}\u0200Bnpt\u0B22\u0B28\u0B37\u0B3Areak;\u6060BreakingSpace;\u40A0f;\u6115\u0680;CDEGHLNPRSTV\u0B55\u0B56\u0B6A\u0B7C\u0BA1\u0BEB\u0C04\u0C5E\u0C84\u0CA6\u0CD8\u0D61\u0D85\u6AEC\u0100ou\u0B5B\u0B64ngruent;\u6262pCap;\u626DoubleVerticalBar;\u6226\u0180lqx\u0B83\u0B8A\u0B9Bement;\u6209ual\u0100;T\u0B92\u0B93\u6260ilde;\uC000\u2242\u0338ists;\u6204reater\u0380;EFGLST\u0BB6\u0BB7\u0BBD\u0BC9\u0BD3\u0BD8\u0BE5\u626Fqual;\u6271ullEqual;\uC000\u2267\u0338reater;\uC000\u226B\u0338ess;\u6279lantEqual;\uC000\u2A7E\u0338ilde;\u6275ump\u0144\u0BF2\u0BFDownHump;\uC000\u224E\u0338qual;\uC000\u224F\u0338e\u0100fs\u0C0A\u0C27tTriangle\u0180;BE\u0C1A\u0C1B\u0C21\u62EAar;\uC000\u29CF\u0338qual;\u62ECs\u0300;EGLST\u0C35\u0C36\u0C3C\u0C44\u0C4B\u0C58\u626Equal;\u6270reater;\u6278ess;\uC000\u226A\u0338lantEqual;\uC000\u2A7D\u0338ilde;\u6274ested\u0100GL\u0C68\u0C79reaterGreater;\uC000\u2AA2\u0338essLess;\uC000\u2AA1\u0338recedes\u0180;ES\u0C92\u0C93\u0C9B\u6280qual;\uC000\u2AAF\u0338lantEqual;\u62E0\u0100ei\u0CAB\u0CB9verseElement;\u620CghtTriangle\u0180;BE\u0CCB\u0CCC\u0CD2\u62EBar;\uC000\u29D0\u0338qual;\u62ED\u0100qu\u0CDD\u0D0CuareSu\u0100bp\u0CE8\u0CF9set\u0100;E\u0CF0\u0CF3\uC000\u228F\u0338qual;\u62E2erset\u0100;E\u0D03\u0D06\uC000\u2290\u0338qual;\u62E3\u0180bcp\u0D13\u0D24\u0D4Eset\u0100;E\u0D1B\u0D1E\uC000\u2282\u20D2qual;\u6288ceeds\u0200;EST\u0D32\u0D33\u0D3B\u0D46\u6281qual;\uC000\u2AB0\u0338lantEqual;\u62E1ilde;\uC000\u227F\u0338erset\u0100;E\u0D58\u0D5B\uC000\u2283\u20D2qual;\u6289ilde\u0200;EFT\u0D6E\u0D6F\u0D75\u0D7F\u6241qual;\u6244ullEqual;\u6247ilde;\u6249erticalBar;\u6224cr;\uC000\u{1D4A9}ilde\u803B\xD1\u40D1;\u439D\u0700Eacdfgmoprstuv\u0DBD\u0DC2\u0DC9\u0DD5\u0DDB\u0DE0\u0DE7\u0DFC\u0E02\u0E20\u0E22\u0E32\u0E3F\u0E44lig;\u4152cute\u803B\xD3\u40D3\u0100iy\u0DCE\u0DD3rc\u803B\xD4\u40D4;\u441Eblac;\u4150r;\uC000\u{1D512}rave\u803B\xD2\u40D2\u0180aei\u0DEE\u0DF2\u0DF6cr;\u414Cga;\u43A9cron;\u439Fpf;\uC000\u{1D546}enCurly\u0100DQ\u0E0E\u0E1AoubleQuote;\u601Cuote;\u6018;\u6A54\u0100cl\u0E27\u0E2Cr;\uC000\u{1D4AA}ash\u803B\xD8\u40D8i\u016C\u0E37\u0E3Cde\u803B\xD5\u40D5es;\u6A37ml\u803B\xD6\u40D6er\u0100BP\u0E4B\u0E60\u0100ar\u0E50\u0E53r;\u603Eac\u0100ek\u0E5A\u0E5C;\u63DEet;\u63B4arenthesis;\u63DC\u0480acfhilors\u0E7F\u0E87\u0E8A\u0E8F\u0E92\u0E94\u0E9D\u0EB0\u0EFCrtialD;\u6202y;\u441Fr;\uC000\u{1D513}i;\u43A6;\u43A0usMinus;\u40B1\u0100ip\u0EA2\u0EADncareplan\xE5\u069Df;\u6119\u0200;eio\u0EB9\u0EBA\u0EE0\u0EE4\u6ABBcedes\u0200;EST\u0EC8\u0EC9\u0ECF\u0EDA\u627Aqual;\u6AAFlantEqual;\u627Cilde;\u627Eme;\u6033\u0100dp\u0EE9\u0EEEuct;\u620Fortion\u0100;a\u0225\u0EF9l;\u621D\u0100ci\u0F01\u0F06r;\uC000\u{1D4AB};\u43A8\u0200Ufos\u0F11\u0F16\u0F1B\u0F1FOT\u803B"\u4022r;\uC000\u{1D514}pf;\u611Acr;\uC000\u{1D4AC}\u0600BEacefhiorsu\u0F3E\u0F43\u0F47\u0F60\u0F73\u0FA7\u0FAA\u0FAD\u1096\u10A9\u10B4\u10BEarr;\u6910G\u803B\xAE\u40AE\u0180cnr\u0F4E\u0F53\u0F56ute;\u4154g;\u67EBr\u0100;t\u0F5C\u0F5D\u61A0l;\u6916\u0180aey\u0F67\u0F6C\u0F71ron;\u4158dil;\u4156;\u4420\u0100;v\u0F78\u0F79\u611Cerse\u0100EU\u0F82\u0F99\u0100lq\u0F87\u0F8Eement;\u620Builibrium;\u61CBpEquilibrium;\u696Fr\xBB\u0F79o;\u43A1ght\u0400ACDFTUVa\u0FC1\u0FEB\u0FF3\u1022\u1028\u105B\u1087\u03D8\u0100nr\u0FC6\u0FD2gleBracket;\u67E9row\u0180;BL\u0FDC\u0FDD\u0FE1\u6192ar;\u61E5eftArrow;\u61C4eiling;\u6309o\u01F5\u0FF9\0\u1005bleBracket;\u67E7n\u01D4\u100A\0\u1014eeVector;\u695Dector\u0100;B\u101D\u101E\u61C2ar;\u6955loor;\u630B\u0100er\u102D\u1043e\u0180;AV\u1035\u1036\u103C\u62A2rrow;\u61A6ector;\u695Biangle\u0180;BE\u1050\u1051\u1055\u62B3ar;\u69D0qual;\u62B5p\u0180DTV\u1063\u106E\u1078ownVector;\u694FeeVector;\u695Cector\u0100;B\u1082\u1083\u61BEar;\u6954ector\u0100;B\u1091\u1092\u61C0ar;\u6953\u0100pu\u109B\u109Ef;\u611DndImplies;\u6970ightarrow;\u61DB\u0100ch\u10B9\u10BCr;\u611B;\u61B1leDelayed;\u69F4\u0680HOacfhimoqstu\u10E4\u10F1\u10F7\u10FD\u1119\u111E\u1151\u1156\u1161\u1167\u11B5\u11BB\u11BF\u0100Cc\u10E9\u10EEHcy;\u4429y;\u4428FTcy;\u442Ccute;\u415A\u0280;aeiy\u1108\u1109\u110E\u1113\u1117\u6ABCron;\u4160dil;\u415Erc;\u415C;\u4421r;\uC000\u{1D516}ort\u0200DLRU\u112A\u1134\u113E\u1149ownArrow\xBB\u041EeftArrow\xBB\u089AightArrow\xBB\u0FDDpArrow;\u6191gma;\u43A3allCircle;\u6218pf;\uC000\u{1D54A}\u0272\u116D\0\0\u1170t;\u621Aare\u0200;ISU\u117B\u117C\u1189\u11AF\u65A1ntersection;\u6293u\u0100bp\u118F\u119Eset\u0100;E\u1197\u1198\u628Fqual;\u6291erset\u0100;E\u11A8\u11A9\u6290qual;\u6292nion;\u6294cr;\uC000\u{1D4AE}ar;\u62C6\u0200bcmp\u11C8\u11DB\u1209\u120B\u0100;s\u11CD\u11CE\u62D0et\u0100;E\u11CD\u11D5qual;\u6286\u0100ch\u11E0\u1205eeds\u0200;EST\u11ED\u11EE\u11F4\u11FF\u627Bqual;\u6AB0lantEqual;\u627Dilde;\u627FTh\xE1\u0F8C;\u6211\u0180;es\u1212\u1213\u1223\u62D1rset\u0100;E\u121C\u121D\u6283qual;\u6287et\xBB\u1213\u0580HRSacfhiors\u123E\u1244\u1249\u1255\u125E\u1271\u1276\u129F\u12C2\u12C8\u12D1ORN\u803B\xDE\u40DEADE;\u6122\u0100Hc\u124E\u1252cy;\u440By;\u4426\u0100bu\u125A\u125C;\u4009;\u43A4\u0180aey\u1265\u126A\u126Fron;\u4164dil;\u4162;\u4422r;\uC000\u{1D517}\u0100ei\u127B\u1289\u01F2\u1280\0\u1287efore;\u6234a;\u4398\u0100cn\u128E\u1298kSpace;\uC000\u205F\u200ASpace;\u6009lde\u0200;EFT\u12AB\u12AC\u12B2\u12BC\u623Cqual;\u6243ullEqual;\u6245ilde;\u6248pf;\uC000\u{1D54B}ipleDot;\u60DB\u0100ct\u12D6\u12DBr;\uC000\u{1D4AF}rok;\u4166\u0AE1\u12F7\u130E\u131A\u1326\0\u132C\u1331\0\0\0\0\0\u1338\u133D\u1377\u1385\0\u13FF\u1404\u140A\u1410\u0100cr\u12FB\u1301ute\u803B\xDA\u40DAr\u0100;o\u1307\u1308\u619Fcir;\u6949r\u01E3\u1313\0\u1316y;\u440Eve;\u416C\u0100iy\u131E\u1323rc\u803B\xDB\u40DB;\u4423blac;\u4170r;\uC000\u{1D518}rave\u803B\xD9\u40D9acr;\u416A\u0100di\u1341\u1369er\u0100BP\u1348\u135D\u0100ar\u134D\u1350r;\u405Fac\u0100ek\u1357\u1359;\u63DFet;\u63B5arenthesis;\u63DDon\u0100;P\u1370\u1371\u62C3lus;\u628E\u0100gp\u137B\u137Fon;\u4172f;\uC000\u{1D54C}\u0400ADETadps\u1395\u13AE\u13B8\u13C4\u03E8\u13D2\u13D7\u13F3rrow\u0180;BD\u1150\u13A0\u13A4ar;\u6912ownArrow;\u61C5ownArrow;\u6195quilibrium;\u696Eee\u0100;A\u13CB\u13CC\u62A5rrow;\u61A5own\xE1\u03F3er\u0100LR\u13DE\u13E8eftArrow;\u6196ightArrow;\u6197i\u0100;l\u13F9\u13FA\u43D2on;\u43A5ing;\u416Ecr;\uC000\u{1D4B0}ilde;\u4168ml\u803B\xDC\u40DC\u0480Dbcdefosv\u1427\u142C\u1430\u1433\u143E\u1485\u148A\u1490\u1496ash;\u62ABar;\u6AEBy;\u4412ash\u0100;l\u143B\u143C\u62A9;\u6AE6\u0100er\u1443\u1445;\u62C1\u0180bty\u144C\u1450\u147Aar;\u6016\u0100;i\u144F\u1455cal\u0200BLST\u1461\u1465\u146A\u1474ar;\u6223ine;\u407Ceparator;\u6758ilde;\u6240ThinSpace;\u600Ar;\uC000\u{1D519}pf;\uC000\u{1D54D}cr;\uC000\u{1D4B1}dash;\u62AA\u0280cefos\u14A7\u14AC\u14B1\u14B6\u14BCirc;\u4174dge;\u62C0r;\uC000\u{1D51A}pf;\uC000\u{1D54E}cr;\uC000\u{1D4B2}\u0200fios\u14CB\u14D0\u14D2\u14D8r;\uC000\u{1D51B};\u439Epf;\uC000\u{1D54F}cr;\uC000\u{1D4B3}\u0480AIUacfosu\u14F1\u14F5\u14F9\u14FD\u1504\u150F\u1514\u151A\u1520cy;\u442Fcy;\u4407cy;\u442Ecute\u803B\xDD\u40DD\u0100iy\u1509\u150Drc;\u4176;\u442Br;\uC000\u{1D51C}pf;\uC000\u{1D550}cr;\uC000\u{1D4B4}ml;\u4178\u0400Hacdefos\u1535\u1539\u153F\u154B\u154F\u155D\u1560\u1564cy;\u4416cute;\u4179\u0100ay\u1544\u1549ron;\u417D;\u4417ot;\u417B\u01F2\u1554\0\u155BoWidt\xE8\u0AD9a;\u4396r;\u6128pf;\u6124cr;\uC000\u{1D4B5}\u0BE1\u1583\u158A\u1590\0\u15B0\u15B6\u15BF\0\0\0\0\u15C6\u15DB\u15EB\u165F\u166D\0\u1695\u169B\u16B2\u16B9\0\u16BEcute\u803B\xE1\u40E1reve;\u4103\u0300;Ediuy\u159C\u159D\u15A1\u15A3\u15A8\u15AD\u623E;\uC000\u223E\u0333;\u623Frc\u803B\xE2\u40E2te\u80BB\xB4\u0306;\u4430lig\u803B\xE6\u40E6\u0100;r\xB2\u15BA;\uC000\u{1D51E}rave\u803B\xE0\u40E0\u0100ep\u15CA\u15D6\u0100fp\u15CF\u15D4sym;\u6135\xE8\u15D3ha;\u43B1\u0100ap\u15DFc\u0100cl\u15E4\u15E7r;\u4101g;\u6A3F\u0264\u15F0\0\0\u160A\u0280;adsv\u15FA\u15FB\u15FF\u1601\u1607\u6227nd;\u6A55;\u6A5Clope;\u6A58;\u6A5A\u0380;elmrsz\u1618\u1619\u161B\u161E\u163F\u164F\u1659\u6220;\u69A4e\xBB\u1619sd\u0100;a\u1625\u1626\u6221\u0461\u1630\u1632\u1634\u1636\u1638\u163A\u163C\u163E;\u69A8;\u69A9;\u69AA;\u69AB;\u69AC;\u69AD;\u69AE;\u69AFt\u0100;v\u1645\u1646\u621Fb\u0100;d\u164C\u164D\u62BE;\u699D\u0100pt\u1654\u1657h;\u6222\xBB\xB9arr;\u637C\u0100gp\u1663\u1667on;\u4105f;\uC000\u{1D552}\u0380;Eaeiop\u12C1\u167B\u167D\u1682\u1684\u1687\u168A;\u6A70cir;\u6A6F;\u624Ad;\u624Bs;\u4027rox\u0100;e\u12C1\u1692\xF1\u1683ing\u803B\xE5\u40E5\u0180cty\u16A1\u16A6\u16A8r;\uC000\u{1D4B6};\u402Amp\u0100;e\u12C1\u16AF\xF1\u0288ilde\u803B\xE3\u40E3ml\u803B\xE4\u40E4\u0100ci\u16C2\u16C8onin\xF4\u0272nt;\u6A11\u0800Nabcdefiklnoprsu\u16ED\u16F1\u1730\u173C\u1743\u1748\u1778\u177D\u17E0\u17E6\u1839\u1850\u170D\u193D\u1948\u1970ot;\u6AED\u0100cr\u16F6\u171Ek\u0200ceps\u1700\u1705\u170D\u1713ong;\u624Cpsilon;\u43F6rime;\u6035im\u0100;e\u171A\u171B\u623Dq;\u62CD\u0176\u1722\u1726ee;\u62BDed\u0100;g\u172C\u172D\u6305e\xBB\u172Drk\u0100;t\u135C\u1737brk;\u63B6\u0100oy\u1701\u1741;\u4431quo;\u601E\u0280cmprt\u1753\u175B\u1761\u1764\u1768aus\u0100;e\u010A\u0109ptyv;\u69B0s\xE9\u170Cno\xF5\u0113\u0180ahw\u176F\u1771\u1773;\u43B2;\u6136een;\u626Cr;\uC000\u{1D51F}g\u0380costuvw\u178D\u179D\u17B3\u17C1\u17D5\u17DB\u17DE\u0180aiu\u1794\u1796\u179A\xF0\u0760rc;\u65EFp\xBB\u1371\u0180dpt\u17A4\u17A8\u17ADot;\u6A00lus;\u6A01imes;\u6A02\u0271\u17B9\0\0\u17BEcup;\u6A06ar;\u6605riangle\u0100du\u17CD\u17D2own;\u65BDp;\u65B3plus;\u6A04e\xE5\u1444\xE5\u14ADarow;\u690D\u0180ako\u17ED\u1826\u1835\u0100cn\u17F2\u1823k\u0180lst\u17FA\u05AB\u1802ozenge;\u69EBriangle\u0200;dlr\u1812\u1813\u1818\u181D\u65B4own;\u65BEeft;\u65C2ight;\u65B8k;\u6423\u01B1\u182B\0\u1833\u01B2\u182F\0\u1831;\u6592;\u65914;\u6593ck;\u6588\u0100eo\u183E\u184D\u0100;q\u1843\u1846\uC000=\u20E5uiv;\uC000\u2261\u20E5t;\u6310\u0200ptwx\u1859\u185E\u1867\u186Cf;\uC000\u{1D553}\u0100;t\u13CB\u1863om\xBB\u13CCtie;\u62C8\u0600DHUVbdhmptuv\u1885\u1896\u18AA\u18BB\u18D7\u18DB\u18EC\u18FF\u1905\u190A\u1910\u1921\u0200LRlr\u188E\u1890\u1892\u1894;\u6557;\u6554;\u6556;\u6553\u0280;DUdu\u18A1\u18A2\u18A4\u18A6\u18A8\u6550;\u6566;\u6569;\u6564;\u6567\u0200LRlr\u18B3\u18B5\u18B7\u18B9;\u655D;\u655A;\u655C;\u6559\u0380;HLRhlr\u18CA\u18CB\u18CD\u18CF\u18D1\u18D3\u18D5\u6551;\u656C;\u6563;\u6560;\u656B;\u6562;\u655Fox;\u69C9\u0200LRlr\u18E4\u18E6\u18E8\u18EA;\u6555;\u6552;\u6510;\u650C\u0280;DUdu\u06BD\u18F7\u18F9\u18FB\u18FD;\u6565;\u6568;\u652C;\u6534inus;\u629Flus;\u629Eimes;\u62A0\u0200LRlr\u1919\u191B\u191D\u191F;\u655B;\u6558;\u6518;\u6514\u0380;HLRhlr\u1930\u1931\u1933\u1935\u1937\u1939\u193B\u6502;\u656A;\u6561;\u655E;\u653C;\u6524;\u651C\u0100ev\u0123\u1942bar\u803B\xA6\u40A6\u0200ceio\u1951\u1956\u195A\u1960r;\uC000\u{1D4B7}mi;\u604Fm\u0100;e\u171A\u171Cl\u0180;bh\u1968\u1969\u196B\u405C;\u69C5sub;\u67C8\u016C\u1974\u197El\u0100;e\u1979\u197A\u6022t\xBB\u197Ap\u0180;Ee\u012F\u1985\u1987;\u6AAE\u0100;q\u06DC\u06DB\u0CE1\u19A7\0\u19E8\u1A11\u1A15\u1A32\0\u1A37\u1A50\0\0\u1AB4\0\0\u1AC1\0\0\u1B21\u1B2E\u1B4D\u1B52\0\u1BFD\0\u1C0C\u0180cpr\u19AD\u19B2\u19DDute;\u4107\u0300;abcds\u19BF\u19C0\u19C4\u19CA\u19D5\u19D9\u6229nd;\u6A44rcup;\u6A49\u0100au\u19CF\u19D2p;\u6A4Bp;\u6A47ot;\u6A40;\uC000\u2229\uFE00\u0100eo\u19E2\u19E5t;\u6041\xEE\u0693\u0200aeiu\u19F0\u19FB\u1A01\u1A05\u01F0\u19F5\0\u19F8s;\u6A4Don;\u410Ddil\u803B\xE7\u40E7rc;\u4109ps\u0100;s\u1A0C\u1A0D\u6A4Cm;\u6A50ot;\u410B\u0180dmn\u1A1B\u1A20\u1A26il\u80BB\xB8\u01ADptyv;\u69B2t\u8100\xA2;e\u1A2D\u1A2E\u40A2r\xE4\u01B2r;\uC000\u{1D520}\u0180cei\u1A3D\u1A40\u1A4Dy;\u4447ck\u0100;m\u1A47\u1A48\u6713ark\xBB\u1A48;\u43C7r\u0380;Ecefms\u1A5F\u1A60\u1A62\u1A6B\u1AA4\u1AAA\u1AAE\u65CB;\u69C3\u0180;el\u1A69\u1A6A\u1A6D\u42C6q;\u6257e\u0261\u1A74\0\0\u1A88rrow\u0100lr\u1A7C\u1A81eft;\u61BAight;\u61BB\u0280RSacd\u1A92\u1A94\u1A96\u1A9A\u1A9F\xBB\u0F47;\u64C8st;\u629Birc;\u629Aash;\u629Dnint;\u6A10id;\u6AEFcir;\u69C2ubs\u0100;u\u1ABB\u1ABC\u6663it\xBB\u1ABC\u02EC\u1AC7\u1AD4\u1AFA\0\u1B0Aon\u0100;e\u1ACD\u1ACE\u403A\u0100;q\xC7\xC6\u026D\u1AD9\0\0\u1AE2a\u0100;t\u1ADE\u1ADF\u402C;\u4040\u0180;fl\u1AE8\u1AE9\u1AEB\u6201\xEE\u1160e\u0100mx\u1AF1\u1AF6ent\xBB\u1AE9e\xF3\u024D\u01E7\u1AFE\0\u1B07\u0100;d\u12BB\u1B02ot;\u6A6Dn\xF4\u0246\u0180fry\u1B10\u1B14\u1B17;\uC000\u{1D554}o\xE4\u0254\u8100\xA9;s\u0155\u1B1Dr;\u6117\u0100ao\u1B25\u1B29rr;\u61B5ss;\u6717\u0100cu\u1B32\u1B37r;\uC000\u{1D4B8}\u0100bp\u1B3C\u1B44\u0100;e\u1B41\u1B42\u6ACF;\u6AD1\u0100;e\u1B49\u1B4A\u6AD0;\u6AD2dot;\u62EF\u0380delprvw\u1B60\u1B6C\u1B77\u1B82\u1BAC\u1BD4\u1BF9arr\u0100lr\u1B68\u1B6A;\u6938;\u6935\u0270\u1B72\0\0\u1B75r;\u62DEc;\u62DFarr\u0100;p\u1B7F\u1B80\u61B6;\u693D\u0300;bcdos\u1B8F\u1B90\u1B96\u1BA1\u1BA5\u1BA8\u622Arcap;\u6A48\u0100au\u1B9B\u1B9Ep;\u6A46p;\u6A4Aot;\u628Dr;\u6A45;\uC000\u222A\uFE00\u0200alrv\u1BB5\u1BBF\u1BDE\u1BE3rr\u0100;m\u1BBC\u1BBD\u61B7;\u693Cy\u0180evw\u1BC7\u1BD4\u1BD8q\u0270\u1BCE\0\0\u1BD2re\xE3\u1B73u\xE3\u1B75ee;\u62CEedge;\u62CFen\u803B\xA4\u40A4earrow\u0100lr\u1BEE\u1BF3eft\xBB\u1B80ight\xBB\u1BBDe\xE4\u1BDD\u0100ci\u1C01\u1C07onin\xF4\u01F7nt;\u6231lcty;\u632D\u0980AHabcdefhijlorstuwz\u1C38\u1C3B\u1C3F\u1C5D\u1C69\u1C75\u1C8A\u1C9E\u1CAC\u1CB7\u1CFB\u1CFF\u1D0D\u1D7B\u1D91\u1DAB\u1DBB\u1DC6\u1DCDr\xF2\u0381ar;\u6965\u0200glrs\u1C48\u1C4D\u1C52\u1C54ger;\u6020eth;\u6138\xF2\u1133h\u0100;v\u1C5A\u1C5B\u6010\xBB\u090A\u016B\u1C61\u1C67arow;\u690Fa\xE3\u0315\u0100ay\u1C6E\u1C73ron;\u410F;\u4434\u0180;ao\u0332\u1C7C\u1C84\u0100gr\u02BF\u1C81r;\u61CAtseq;\u6A77\u0180glm\u1C91\u1C94\u1C98\u803B\xB0\u40B0ta;\u43B4ptyv;\u69B1\u0100ir\u1CA3\u1CA8sht;\u697F;\uC000\u{1D521}ar\u0100lr\u1CB3\u1CB5\xBB\u08DC\xBB\u101E\u0280aegsv\u1CC2\u0378\u1CD6\u1CDC\u1CE0m\u0180;os\u0326\u1CCA\u1CD4nd\u0100;s\u0326\u1CD1uit;\u6666amma;\u43DDin;\u62F2\u0180;io\u1CE7\u1CE8\u1CF8\u40F7de\u8100\xF7;o\u1CE7\u1CF0ntimes;\u62C7n\xF8\u1CF7cy;\u4452c\u026F\u1D06\0\0\u1D0Arn;\u631Eop;\u630D\u0280lptuw\u1D18\u1D1D\u1D22\u1D49\u1D55lar;\u4024f;\uC000\u{1D555}\u0280;emps\u030B\u1D2D\u1D37\u1D3D\u1D42q\u0100;d\u0352\u1D33ot;\u6251inus;\u6238lus;\u6214quare;\u62A1blebarwedg\xE5\xFAn\u0180adh\u112E\u1D5D\u1D67ownarrow\xF3\u1C83arpoon\u0100lr\u1D72\u1D76ef\xF4\u1CB4igh\xF4\u1CB6\u0162\u1D7F\u1D85karo\xF7\u0F42\u026F\u1D8A\0\0\u1D8Ern;\u631Fop;\u630C\u0180cot\u1D98\u1DA3\u1DA6\u0100ry\u1D9D\u1DA1;\uC000\u{1D4B9};\u4455l;\u69F6rok;\u4111\u0100dr\u1DB0\u1DB4ot;\u62F1i\u0100;f\u1DBA\u1816\u65BF\u0100ah\u1DC0\u1DC3r\xF2\u0429a\xF2\u0FA6angle;\u69A6\u0100ci\u1DD2\u1DD5y;\u445Fgrarr;\u67FF\u0900Dacdefglmnopqrstux\u1E01\u1E09\u1E19\u1E38\u0578\u1E3C\u1E49\u1E61\u1E7E\u1EA5\u1EAF\u1EBD\u1EE1\u1F2A\u1F37\u1F44\u1F4E\u1F5A\u0100Do\u1E06\u1D34o\xF4\u1C89\u0100cs\u1E0E\u1E14ute\u803B\xE9\u40E9ter;\u6A6E\u0200aioy\u1E22\u1E27\u1E31\u1E36ron;\u411Br\u0100;c\u1E2D\u1E2E\u6256\u803B\xEA\u40EAlon;\u6255;\u444Dot;\u4117\u0100Dr\u1E41\u1E45ot;\u6252;\uC000\u{1D522}\u0180;rs\u1E50\u1E51\u1E57\u6A9Aave\u803B\xE8\u40E8\u0100;d\u1E5C\u1E5D\u6A96ot;\u6A98\u0200;ils\u1E6A\u1E6B\u1E72\u1E74\u6A99nters;\u63E7;\u6113\u0100;d\u1E79\u1E7A\u6A95ot;\u6A97\u0180aps\u1E85\u1E89\u1E97cr;\u4113ty\u0180;sv\u1E92\u1E93\u1E95\u6205et\xBB\u1E93p\u01001;\u1E9D\u1EA4\u0133\u1EA1\u1EA3;\u6004;\u6005\u6003\u0100gs\u1EAA\u1EAC;\u414Bp;\u6002\u0100gp\u1EB4\u1EB8on;\u4119f;\uC000\u{1D556}\u0180als\u1EC4\u1ECE\u1ED2r\u0100;s\u1ECA\u1ECB\u62D5l;\u69E3us;\u6A71i\u0180;lv\u1EDA\u1EDB\u1EDF\u43B5on\xBB\u1EDB;\u43F5\u0200csuv\u1EEA\u1EF3\u1F0B\u1F23\u0100io\u1EEF\u1E31rc\xBB\u1E2E\u0269\u1EF9\0\0\u1EFB\xED\u0548ant\u0100gl\u1F02\u1F06tr\xBB\u1E5Dess\xBB\u1E7A\u0180aei\u1F12\u1F16\u1F1Als;\u403Dst;\u625Fv\u0100;D\u0235\u1F20D;\u6A78parsl;\u69E5\u0100Da\u1F2F\u1F33ot;\u6253rr;\u6971\u0180cdi\u1F3E\u1F41\u1EF8r;\u612Fo\xF4\u0352\u0100ah\u1F49\u1F4B;\u43B7\u803B\xF0\u40F0\u0100mr\u1F53\u1F57l\u803B\xEB\u40EBo;\u60AC\u0180cip\u1F61\u1F64\u1F67l;\u4021s\xF4\u056E\u0100eo\u1F6C\u1F74ctatio\xEE\u0559nential\xE5\u0579\u09E1\u1F92\0\u1F9E\0\u1FA1\u1FA7\0\0\u1FC6\u1FCC\0\u1FD3\0\u1FE6\u1FEA\u2000\0\u2008\u205Allingdotse\xF1\u1E44y;\u4444male;\u6640\u0180ilr\u1FAD\u1FB3\u1FC1lig;\u8000\uFB03\u0269\u1FB9\0\0\u1FBDg;\u8000\uFB00ig;\u8000\uFB04;\uC000\u{1D523}lig;\u8000\uFB01lig;\uC000fj\u0180alt\u1FD9\u1FDC\u1FE1t;\u666Dig;\u8000\uFB02ns;\u65B1of;\u4192\u01F0\u1FEE\0\u1FF3f;\uC000\u{1D557}\u0100ak\u05BF\u1FF7\u0100;v\u1FFC\u1FFD\u62D4;\u6AD9artint;\u6A0D\u0100ao\u200C\u2055\u0100cs\u2011\u2052\u03B1\u201A\u2030\u2038\u2045\u2048\0\u2050\u03B2\u2022\u2025\u2027\u202A\u202C\0\u202E\u803B\xBD\u40BD;\u6153\u803B\xBC\u40BC;\u6155;\u6159;\u615B\u01B3\u2034\0\u2036;\u6154;\u6156\u02B4\u203E\u2041\0\0\u2043\u803B\xBE\u40BE;\u6157;\u615C5;\u6158\u01B6\u204C\0\u204E;\u615A;\u615D8;\u615El;\u6044wn;\u6322cr;\uC000\u{1D4BB}\u0880Eabcdefgijlnorstv\u2082\u2089\u209F\u20A5\u20B0\u20B4\u20F0\u20F5\u20FA\u20FF\u2103\u2112\u2138\u0317\u213E\u2152\u219E\u0100;l\u064D\u2087;\u6A8C\u0180cmp\u2090\u2095\u209Dute;\u41F5ma\u0100;d\u209C\u1CDA\u43B3;\u6A86reve;\u411F\u0100iy\u20AA\u20AErc;\u411D;\u4433ot;\u4121\u0200;lqs\u063E\u0642\u20BD\u20C9\u0180;qs\u063E\u064C\u20C4lan\xF4\u0665\u0200;cdl\u0665\u20D2\u20D5\u20E5c;\u6AA9ot\u0100;o\u20DC\u20DD\u6A80\u0100;l\u20E2\u20E3\u6A82;\u6A84\u0100;e\u20EA\u20ED\uC000\u22DB\uFE00s;\u6A94r;\uC000\u{1D524}\u0100;g\u0673\u061Bmel;\u6137cy;\u4453\u0200;Eaj\u065A\u210C\u210E\u2110;\u6A92;\u6AA5;\u6AA4\u0200Eaes\u211B\u211D\u2129\u2134;\u6269p\u0100;p\u2123\u2124\u6A8Arox\xBB\u2124\u0100;q\u212E\u212F\u6A88\u0100;q\u212E\u211Bim;\u62E7pf;\uC000\u{1D558}\u0100ci\u2143\u2146r;\u610Am\u0180;el\u066B\u214E\u2150;\u6A8E;\u6A90\u8300>;cdlqr\u05EE\u2160\u216A\u216E\u2173\u2179\u0100ci\u2165\u2167;\u6AA7r;\u6A7Aot;\u62D7Par;\u6995uest;\u6A7C\u0280adels\u2184\u216A\u2190\u0656\u219B\u01F0\u2189\0\u218Epro\xF8\u209Er;\u6978q\u0100lq\u063F\u2196les\xF3\u2088i\xED\u066B\u0100en\u21A3\u21ADrtneqq;\uC000\u2269\uFE00\xC5\u21AA\u0500Aabcefkosy\u21C4\u21C7\u21F1\u21F5\u21FA\u2218\u221D\u222F\u2268\u227Dr\xF2\u03A0\u0200ilmr\u21D0\u21D4\u21D7\u21DBrs\xF0\u1484f\xBB\u2024il\xF4\u06A9\u0100dr\u21E0\u21E4cy;\u444A\u0180;cw\u08F4\u21EB\u21EFir;\u6948;\u61ADar;\u610Firc;\u4125\u0180alr\u2201\u220E\u2213rts\u0100;u\u2209\u220A\u6665it\xBB\u220Alip;\u6026con;\u62B9r;\uC000\u{1D525}s\u0100ew\u2223\u2229arow;\u6925arow;\u6926\u0280amopr\u223A\u223E\u2243\u225E\u2263rr;\u61FFtht;\u623Bk\u0100lr\u2249\u2253eftarrow;\u61A9ightarrow;\u61AAf;\uC000\u{1D559}bar;\u6015\u0180clt\u226F\u2274\u2278r;\uC000\u{1D4BD}as\xE8\u21F4rok;\u4127\u0100bp\u2282\u2287ull;\u6043hen\xBB\u1C5B\u0AE1\u22A3\0\u22AA\0\u22B8\u22C5\u22CE\0\u22D5\u22F3\0\0\u22F8\u2322\u2367\u2362\u237F\0\u2386\u23AA\u23B4cute\u803B\xED\u40ED\u0180;iy\u0771\u22B0\u22B5rc\u803B\xEE\u40EE;\u4438\u0100cx\u22BC\u22BFy;\u4435cl\u803B\xA1\u40A1\u0100fr\u039F\u22C9;\uC000\u{1D526}rave\u803B\xEC\u40EC\u0200;ino\u073E\u22DD\u22E9\u22EE\u0100in\u22E2\u22E6nt;\u6A0Ct;\u622Dfin;\u69DCta;\u6129lig;\u4133\u0180aop\u22FE\u231A\u231D\u0180cgt\u2305\u2308\u2317r;\u412B\u0180elp\u071F\u230F\u2313in\xE5\u078Ear\xF4\u0720h;\u4131f;\u62B7ed;\u41B5\u0280;cfot\u04F4\u232C\u2331\u233D\u2341are;\u6105in\u0100;t\u2338\u2339\u621Eie;\u69DDdo\xF4\u2319\u0280;celp\u0757\u234C\u2350\u235B\u2361al;\u62BA\u0100gr\u2355\u2359er\xF3\u1563\xE3\u234Darhk;\u6A17rod;\u6A3C\u0200cgpt\u236F\u2372\u2376\u237By;\u4451on;\u412Ff;\uC000\u{1D55A}a;\u43B9uest\u803B\xBF\u40BF\u0100ci\u238A\u238Fr;\uC000\u{1D4BE}n\u0280;Edsv\u04F4\u239B\u239D\u23A1\u04F3;\u62F9ot;\u62F5\u0100;v\u23A6\u23A7\u62F4;\u62F3\u0100;i\u0777\u23AElde;\u4129\u01EB\u23B8\0\u23BCcy;\u4456l\u803B\xEF\u40EF\u0300cfmosu\u23CC\u23D7\u23DC\u23E1\u23E7\u23F5\u0100iy\u23D1\u23D5rc;\u4135;\u4439r;\uC000\u{1D527}ath;\u4237pf;\uC000\u{1D55B}\u01E3\u23EC\0\u23F1r;\uC000\u{1D4BF}rcy;\u4458kcy;\u4454\u0400acfghjos\u240B\u2416\u2422\u2427\u242D\u2431\u2435\u243Bppa\u0100;v\u2413\u2414\u43BA;\u43F0\u0100ey\u241B\u2420dil;\u4137;\u443Ar;\uC000\u{1D528}reen;\u4138cy;\u4445cy;\u445Cpf;\uC000\u{1D55C}cr;\uC000\u{1D4C0}\u0B80ABEHabcdefghjlmnoprstuv\u2470\u2481\u2486\u248D\u2491\u250E\u253D\u255A\u2580\u264E\u265E\u2665\u2679\u267D\u269A\u26B2\u26D8\u275D\u2768\u278B\u27C0\u2801\u2812\u0180art\u2477\u247A\u247Cr\xF2\u09C6\xF2\u0395ail;\u691Barr;\u690E\u0100;g\u0994\u248B;\u6A8Bar;\u6962\u0963\u24A5\0\u24AA\0\u24B1\0\0\0\0\0\u24B5\u24BA\0\u24C6\u24C8\u24CD\0\u24F9ute;\u413Amptyv;\u69B4ra\xEE\u084Cbda;\u43BBg\u0180;dl\u088E\u24C1\u24C3;\u6991\xE5\u088E;\u6A85uo\u803B\xAB\u40ABr\u0400;bfhlpst\u0899\u24DE\u24E6\u24E9\u24EB\u24EE\u24F1\u24F5\u0100;f\u089D\u24E3s;\u691Fs;\u691D\xEB\u2252p;\u61ABl;\u6939im;\u6973l;\u61A2\u0180;ae\u24FF\u2500\u2504\u6AABil;\u6919\u0100;s\u2509\u250A\u6AAD;\uC000\u2AAD\uFE00\u0180abr\u2515\u2519\u251Drr;\u690Crk;\u6772\u0100ak\u2522\u252Cc\u0100ek\u2528\u252A;\u407B;\u405B\u0100es\u2531\u2533;\u698Bl\u0100du\u2539\u253B;\u698F;\u698D\u0200aeuy\u2546\u254B\u2556\u2558ron;\u413E\u0100di\u2550\u2554il;\u413C\xEC\u08B0\xE2\u2529;\u443B\u0200cqrs\u2563\u2566\u256D\u257Da;\u6936uo\u0100;r\u0E19\u1746\u0100du\u2572\u2577har;\u6967shar;\u694Bh;\u61B2\u0280;fgqs\u258B\u258C\u0989\u25F3\u25FF\u6264t\u0280ahlrt\u2598\u25A4\u25B7\u25C2\u25E8rrow\u0100;t\u0899\u25A1a\xE9\u24F6arpoon\u0100du\u25AF\u25B4own\xBB\u045Ap\xBB\u0966eftarrows;\u61C7ight\u0180ahs\u25CD\u25D6\u25DErrow\u0100;s\u08F4\u08A7arpoon\xF3\u0F98quigarro\xF7\u21F0hreetimes;\u62CB\u0180;qs\u258B\u0993\u25FAlan\xF4\u09AC\u0280;cdgs\u09AC\u260A\u260D\u261D\u2628c;\u6AA8ot\u0100;o\u2614\u2615\u6A7F\u0100;r\u261A\u261B\u6A81;\u6A83\u0100;e\u2622\u2625\uC000\u22DA\uFE00s;\u6A93\u0280adegs\u2633\u2639\u263D\u2649\u264Bppro\xF8\u24C6ot;\u62D6q\u0100gq\u2643\u2645\xF4\u0989gt\xF2\u248C\xF4\u099Bi\xED\u09B2\u0180ilr\u2655\u08E1\u265Asht;\u697C;\uC000\u{1D529}\u0100;E\u099C\u2663;\u6A91\u0161\u2669\u2676r\u0100du\u25B2\u266E\u0100;l\u0965\u2673;\u696Alk;\u6584cy;\u4459\u0280;acht\u0A48\u2688\u268B\u2691\u2696r\xF2\u25C1orne\xF2\u1D08ard;\u696Bri;\u65FA\u0100io\u269F\u26A4dot;\u4140ust\u0100;a\u26AC\u26AD\u63B0che\xBB\u26AD\u0200Eaes\u26BB\u26BD\u26C9\u26D4;\u6268p\u0100;p\u26C3\u26C4\u6A89rox\xBB\u26C4\u0100;q\u26CE\u26CF\u6A87\u0100;q\u26CE\u26BBim;\u62E6\u0400abnoptwz\u26E9\u26F4\u26F7\u271A\u272F\u2741\u2747\u2750\u0100nr\u26EE\u26F1g;\u67ECr;\u61FDr\xEB\u08C1g\u0180lmr\u26FF\u270D\u2714eft\u0100ar\u09E6\u2707ight\xE1\u09F2apsto;\u67FCight\xE1\u09FDparrow\u0100lr\u2725\u2729ef\xF4\u24EDight;\u61AC\u0180afl\u2736\u2739\u273Dr;\u6985;\uC000\u{1D55D}us;\u6A2Dimes;\u6A34\u0161\u274B\u274Fst;\u6217\xE1\u134E\u0180;ef\u2757\u2758\u1800\u65CAnge\xBB\u2758ar\u0100;l\u2764\u2765\u4028t;\u6993\u0280achmt\u2773\u2776\u277C\u2785\u2787r\xF2\u08A8orne\xF2\u1D8Car\u0100;d\u0F98\u2783;\u696D;\u600Eri;\u62BF\u0300achiqt\u2798\u279D\u0A40\u27A2\u27AE\u27BBquo;\u6039r;\uC000\u{1D4C1}m\u0180;eg\u09B2\u27AA\u27AC;\u6A8D;\u6A8F\u0100bu\u252A\u27B3o\u0100;r\u0E1F\u27B9;\u601Arok;\u4142\u8400<;cdhilqr\u082B\u27D2\u2639\u27DC\u27E0\u27E5\u27EA\u27F0\u0100ci\u27D7\u27D9;\u6AA6r;\u6A79re\xE5\u25F2mes;\u62C9arr;\u6976uest;\u6A7B\u0100Pi\u27F5\u27F9ar;\u6996\u0180;ef\u2800\u092D\u181B\u65C3r\u0100du\u2807\u280Dshar;\u694Ahar;\u6966\u0100en\u2817\u2821rtneqq;\uC000\u2268\uFE00\xC5\u281E\u0700Dacdefhilnopsu\u2840\u2845\u2882\u288E\u2893\u28A0\u28A5\u28A8\u28DA\u28E2\u28E4\u0A83\u28F3\u2902Dot;\u623A\u0200clpr\u284E\u2852\u2863\u287Dr\u803B\xAF\u40AF\u0100et\u2857\u2859;\u6642\u0100;e\u285E\u285F\u6720se\xBB\u285F\u0100;s\u103B\u2868to\u0200;dlu\u103B\u2873\u2877\u287Bow\xEE\u048Cef\xF4\u090F\xF0\u13D1ker;\u65AE\u0100oy\u2887\u288Cmma;\u6A29;\u443Cash;\u6014asuredangle\xBB\u1626r;\uC000\u{1D52A}o;\u6127\u0180cdn\u28AF\u28B4\u28C9ro\u803B\xB5\u40B5\u0200;acd\u1464\u28BD\u28C0\u28C4s\xF4\u16A7ir;\u6AF0ot\u80BB\xB7\u01B5us\u0180;bd\u28D2\u1903\u28D3\u6212\u0100;u\u1D3C\u28D8;\u6A2A\u0163\u28DE\u28E1p;\u6ADB\xF2\u2212\xF0\u0A81\u0100dp\u28E9\u28EEels;\u62A7f;\uC000\u{1D55E}\u0100ct\u28F8\u28FDr;\uC000\u{1D4C2}pos\xBB\u159D\u0180;lm\u2909\u290A\u290D\u43BCtimap;\u62B8\u0C00GLRVabcdefghijlmoprstuvw\u2942\u2953\u297E\u2989\u2998\u29DA\u29E9\u2A15\u2A1A\u2A58\u2A5D\u2A83\u2A95\u2AA4\u2AA8\u2B04\u2B07\u2B44\u2B7F\u2BAE\u2C34\u2C67\u2C7C\u2CE9\u0100gt\u2947\u294B;\uC000\u22D9\u0338\u0100;v\u2950\u0BCF\uC000\u226B\u20D2\u0180elt\u295A\u2972\u2976ft\u0100ar\u2961\u2967rrow;\u61CDightarrow;\u61CE;\uC000\u22D8\u0338\u0100;v\u297B\u0C47\uC000\u226A\u20D2ightarrow;\u61CF\u0100Dd\u298E\u2993ash;\u62AFash;\u62AE\u0280bcnpt\u29A3\u29A7\u29AC\u29B1\u29CCla\xBB\u02DEute;\u4144g;\uC000\u2220\u20D2\u0280;Eiop\u0D84\u29BC\u29C0\u29C5\u29C8;\uC000\u2A70\u0338d;\uC000\u224B\u0338s;\u4149ro\xF8\u0D84ur\u0100;a\u29D3\u29D4\u666El\u0100;s\u29D3\u0B38\u01F3\u29DF\0\u29E3p\u80BB\xA0\u0B37mp\u0100;e\u0BF9\u0C00\u0280aeouy\u29F4\u29FE\u2A03\u2A10\u2A13\u01F0\u29F9\0\u29FB;\u6A43on;\u4148dil;\u4146ng\u0100;d\u0D7E\u2A0Aot;\uC000\u2A6D\u0338p;\u6A42;\u443Dash;\u6013\u0380;Aadqsx\u0B92\u2A29\u2A2D\u2A3B\u2A41\u2A45\u2A50rr;\u61D7r\u0100hr\u2A33\u2A36k;\u6924\u0100;o\u13F2\u13F0ot;\uC000\u2250\u0338ui\xF6\u0B63\u0100ei\u2A4A\u2A4Ear;\u6928\xED\u0B98ist\u0100;s\u0BA0\u0B9Fr;\uC000\u{1D52B}\u0200Eest\u0BC5\u2A66\u2A79\u2A7C\u0180;qs\u0BBC\u2A6D\u0BE1\u0180;qs\u0BBC\u0BC5\u2A74lan\xF4\u0BE2i\xED\u0BEA\u0100;r\u0BB6\u2A81\xBB\u0BB7\u0180Aap\u2A8A\u2A8D\u2A91r\xF2\u2971rr;\u61AEar;\u6AF2\u0180;sv\u0F8D\u2A9C\u0F8C\u0100;d\u2AA1\u2AA2\u62FC;\u62FAcy;\u445A\u0380AEadest\u2AB7\u2ABA\u2ABE\u2AC2\u2AC5\u2AF6\u2AF9r\xF2\u2966;\uC000\u2266\u0338rr;\u619Ar;\u6025\u0200;fqs\u0C3B\u2ACE\u2AE3\u2AEFt\u0100ar\u2AD4\u2AD9rro\xF7\u2AC1ightarro\xF7\u2A90\u0180;qs\u0C3B\u2ABA\u2AEAlan\xF4\u0C55\u0100;s\u0C55\u2AF4\xBB\u0C36i\xED\u0C5D\u0100;r\u0C35\u2AFEi\u0100;e\u0C1A\u0C25i\xE4\u0D90\u0100pt\u2B0C\u2B11f;\uC000\u{1D55F}\u8180\xAC;in\u2B19\u2B1A\u2B36\u40ACn\u0200;Edv\u0B89\u2B24\u2B28\u2B2E;\uC000\u22F9\u0338ot;\uC000\u22F5\u0338\u01E1\u0B89\u2B33\u2B35;\u62F7;\u62F6i\u0100;v\u0CB8\u2B3C\u01E1\u0CB8\u2B41\u2B43;\u62FE;\u62FD\u0180aor\u2B4B\u2B63\u2B69r\u0200;ast\u0B7B\u2B55\u2B5A\u2B5Flle\xEC\u0B7Bl;\uC000\u2AFD\u20E5;\uC000\u2202\u0338lint;\u6A14\u0180;ce\u0C92\u2B70\u2B73u\xE5\u0CA5\u0100;c\u0C98\u2B78\u0100;e\u0C92\u2B7D\xF1\u0C98\u0200Aait\u2B88\u2B8B\u2B9D\u2BA7r\xF2\u2988rr\u0180;cw\u2B94\u2B95\u2B99\u619B;\uC000\u2933\u0338;\uC000\u219D\u0338ghtarrow\xBB\u2B95ri\u0100;e\u0CCB\u0CD6\u0380chimpqu\u2BBD\u2BCD\u2BD9\u2B04\u0B78\u2BE4\u2BEF\u0200;cer\u0D32\u2BC6\u0D37\u2BC9u\xE5\u0D45;\uC000\u{1D4C3}ort\u026D\u2B05\0\0\u2BD6ar\xE1\u2B56m\u0100;e\u0D6E\u2BDF\u0100;q\u0D74\u0D73su\u0100bp\u2BEB\u2BED\xE5\u0CF8\xE5\u0D0B\u0180bcp\u2BF6\u2C11\u2C19\u0200;Ees\u2BFF\u2C00\u0D22\u2C04\u6284;\uC000\u2AC5\u0338et\u0100;e\u0D1B\u2C0Bq\u0100;q\u0D23\u2C00c\u0100;e\u0D32\u2C17\xF1\u0D38\u0200;Ees\u2C22\u2C23\u0D5F\u2C27\u6285;\uC000\u2AC6\u0338et\u0100;e\u0D58\u2C2Eq\u0100;q\u0D60\u2C23\u0200gilr\u2C3D\u2C3F\u2C45\u2C47\xEC\u0BD7lde\u803B\xF1\u40F1\xE7\u0C43iangle\u0100lr\u2C52\u2C5Ceft\u0100;e\u0C1A\u2C5A\xF1\u0C26ight\u0100;e\u0CCB\u2C65\xF1\u0CD7\u0100;m\u2C6C\u2C6D\u43BD\u0180;es\u2C74\u2C75\u2C79\u4023ro;\u6116p;\u6007\u0480DHadgilrs\u2C8F\u2C94\u2C99\u2C9E\u2CA3\u2CB0\u2CB6\u2CD3\u2CE3ash;\u62ADarr;\u6904p;\uC000\u224D\u20D2ash;\u62AC\u0100et\u2CA8\u2CAC;\uC000\u2265\u20D2;\uC000>\u20D2nfin;\u69DE\u0180Aet\u2CBD\u2CC1\u2CC5rr;\u6902;\uC000\u2264\u20D2\u0100;r\u2CCA\u2CCD\uC000<\u20D2ie;\uC000\u22B4\u20D2\u0100At\u2CD8\u2CDCrr;\u6903rie;\uC000\u22B5\u20D2im;\uC000\u223C\u20D2\u0180Aan\u2CF0\u2CF4\u2D02rr;\u61D6r\u0100hr\u2CFA\u2CFDk;\u6923\u0100;o\u13E7\u13E5ear;\u6927\u1253\u1A95\0\0\0\0\0\0\0\0\0\0\0\0\0\u2D2D\0\u2D38\u2D48\u2D60\u2D65\u2D72\u2D84\u1B07\0\0\u2D8D\u2DAB\0\u2DC8\u2DCE\0\u2DDC\u2E19\u2E2B\u2E3E\u2E43\u0100cs\u2D31\u1A97ute\u803B\xF3\u40F3\u0100iy\u2D3C\u2D45r\u0100;c\u1A9E\u2D42\u803B\xF4\u40F4;\u443E\u0280abios\u1AA0\u2D52\u2D57\u01C8\u2D5Alac;\u4151v;\u6A38old;\u69BClig;\u4153\u0100cr\u2D69\u2D6Dir;\u69BF;\uC000\u{1D52C}\u036F\u2D79\0\0\u2D7C\0\u2D82n;\u42DBave\u803B\xF2\u40F2;\u69C1\u0100bm\u2D88\u0DF4ar;\u69B5\u0200acit\u2D95\u2D98\u2DA5\u2DA8r\xF2\u1A80\u0100ir\u2D9D\u2DA0r;\u69BEoss;\u69BBn\xE5\u0E52;\u69C0\u0180aei\u2DB1\u2DB5\u2DB9cr;\u414Dga;\u43C9\u0180cdn\u2DC0\u2DC5\u01CDron;\u43BF;\u69B6pf;\uC000\u{1D560}\u0180ael\u2DD4\u2DD7\u01D2r;\u69B7rp;\u69B9\u0380;adiosv\u2DEA\u2DEB\u2DEE\u2E08\u2E0D\u2E10\u2E16\u6228r\xF2\u1A86\u0200;efm\u2DF7\u2DF8\u2E02\u2E05\u6A5Dr\u0100;o\u2DFE\u2DFF\u6134f\xBB\u2DFF\u803B\xAA\u40AA\u803B\xBA\u40BAgof;\u62B6r;\u6A56lope;\u6A57;\u6A5B\u0180clo\u2E1F\u2E21\u2E27\xF2\u2E01ash\u803B\xF8\u40F8l;\u6298i\u016C\u2E2F\u2E34de\u803B\xF5\u40F5es\u0100;a\u01DB\u2E3As;\u6A36ml\u803B\xF6\u40F6bar;\u633D\u0AE1\u2E5E\0\u2E7D\0\u2E80\u2E9D\0\u2EA2\u2EB9\0\0\u2ECB\u0E9C\0\u2F13\0\0\u2F2B\u2FBC\0\u2FC8r\u0200;ast\u0403\u2E67\u2E72\u0E85\u8100\xB6;l\u2E6D\u2E6E\u40B6le\xEC\u0403\u0269\u2E78\0\0\u2E7Bm;\u6AF3;\u6AFDy;\u443Fr\u0280cimpt\u2E8B\u2E8F\u2E93\u1865\u2E97nt;\u4025od;\u402Eil;\u6030enk;\u6031r;\uC000\u{1D52D}\u0180imo\u2EA8\u2EB0\u2EB4\u0100;v\u2EAD\u2EAE\u43C6;\u43D5ma\xF4\u0A76ne;\u660E\u0180;tv\u2EBF\u2EC0\u2EC8\u43C0chfork\xBB\u1FFD;\u43D6\u0100au\u2ECF\u2EDFn\u0100ck\u2ED5\u2EDDk\u0100;h\u21F4\u2EDB;\u610E\xF6\u21F4s\u0480;abcdemst\u2EF3\u2EF4\u1908\u2EF9\u2EFD\u2F04\u2F06\u2F0A\u2F0E\u402Bcir;\u6A23ir;\u6A22\u0100ou\u1D40\u2F02;\u6A25;\u6A72n\u80BB\xB1\u0E9Dim;\u6A26wo;\u6A27\u0180ipu\u2F19\u2F20\u2F25ntint;\u6A15f;\uC000\u{1D561}nd\u803B\xA3\u40A3\u0500;Eaceinosu\u0EC8\u2F3F\u2F41\u2F44\u2F47\u2F81\u2F89\u2F92\u2F7E\u2FB6;\u6AB3p;\u6AB7u\xE5\u0ED9\u0100;c\u0ECE\u2F4C\u0300;acens\u0EC8\u2F59\u2F5F\u2F66\u2F68\u2F7Eppro\xF8\u2F43urlye\xF1\u0ED9\xF1\u0ECE\u0180aes\u2F6F\u2F76\u2F7Approx;\u6AB9qq;\u6AB5im;\u62E8i\xED\u0EDFme\u0100;s\u2F88\u0EAE\u6032\u0180Eas\u2F78\u2F90\u2F7A\xF0\u2F75\u0180dfp\u0EEC\u2F99\u2FAF\u0180als\u2FA0\u2FA5\u2FAAlar;\u632Eine;\u6312urf;\u6313\u0100;t\u0EFB\u2FB4\xEF\u0EFBrel;\u62B0\u0100ci\u2FC0\u2FC5r;\uC000\u{1D4C5};\u43C8ncsp;\u6008\u0300fiopsu\u2FDA\u22E2\u2FDF\u2FE5\u2FEB\u2FF1r;\uC000\u{1D52E}pf;\uC000\u{1D562}rime;\u6057cr;\uC000\u{1D4C6}\u0180aeo\u2FF8\u3009\u3013t\u0100ei\u2FFE\u3005rnion\xF3\u06B0nt;\u6A16st\u0100;e\u3010\u3011\u403F\xF1\u1F19\xF4\u0F14\u0A80ABHabcdefhilmnoprstux\u3040\u3051\u3055\u3059\u30E0\u310E\u312B\u3147\u3162\u3172\u318E\u3206\u3215\u3224\u3229\u3258\u326E\u3272\u3290\u32B0\u32B7\u0180art\u3047\u304A\u304Cr\xF2\u10B3\xF2\u03DDail;\u691Car\xF2\u1C65ar;\u6964\u0380cdenqrt\u3068\u3075\u3078\u307F\u308F\u3094\u30CC\u0100eu\u306D\u3071;\uC000\u223D\u0331te;\u4155i\xE3\u116Emptyv;\u69B3g\u0200;del\u0FD1\u3089\u308B\u308D;\u6992;\u69A5\xE5\u0FD1uo\u803B\xBB\u40BBr\u0580;abcfhlpstw\u0FDC\u30AC\u30AF\u30B7\u30B9\u30BC\u30BE\u30C0\u30C3\u30C7\u30CAp;\u6975\u0100;f\u0FE0\u30B4s;\u6920;\u6933s;\u691E\xEB\u225D\xF0\u272El;\u6945im;\u6974l;\u61A3;\u619D\u0100ai\u30D1\u30D5il;\u691Ao\u0100;n\u30DB\u30DC\u6236al\xF3\u0F1E\u0180abr\u30E7\u30EA\u30EEr\xF2\u17E5rk;\u6773\u0100ak\u30F3\u30FDc\u0100ek\u30F9\u30FB;\u407D;\u405D\u0100es\u3102\u3104;\u698Cl\u0100du\u310A\u310C;\u698E;\u6990\u0200aeuy\u3117\u311C\u3127\u3129ron;\u4159\u0100di\u3121\u3125il;\u4157\xEC\u0FF2\xE2\u30FA;\u4440\u0200clqs\u3134\u3137\u313D\u3144a;\u6937dhar;\u6969uo\u0100;r\u020E\u020Dh;\u61B3\u0180acg\u314E\u315F\u0F44l\u0200;ips\u0F78\u3158\u315B\u109Cn\xE5\u10BBar\xF4\u0FA9t;\u65AD\u0180ilr\u3169\u1023\u316Esht;\u697D;\uC000\u{1D52F}\u0100ao\u3177\u3186r\u0100du\u317D\u317F\xBB\u047B\u0100;l\u1091\u3184;\u696C\u0100;v\u318B\u318C\u43C1;\u43F1\u0180gns\u3195\u31F9\u31FCht\u0300ahlrst\u31A4\u31B0\u31C2\u31D8\u31E4\u31EErrow\u0100;t\u0FDC\u31ADa\xE9\u30C8arpoon\u0100du\u31BB\u31BFow\xEE\u317Ep\xBB\u1092eft\u0100ah\u31CA\u31D0rrow\xF3\u0FEAarpoon\xF3\u0551ightarrows;\u61C9quigarro\xF7\u30CBhreetimes;\u62CCg;\u42DAingdotse\xF1\u1F32\u0180ahm\u320D\u3210\u3213r\xF2\u0FEAa\xF2\u0551;\u600Foust\u0100;a\u321E\u321F\u63B1che\xBB\u321Fmid;\u6AEE\u0200abpt\u3232\u323D\u3240\u3252\u0100nr\u3237\u323Ag;\u67EDr;\u61FEr\xEB\u1003\u0180afl\u3247\u324A\u324Er;\u6986;\uC000\u{1D563}us;\u6A2Eimes;\u6A35\u0100ap\u325D\u3267r\u0100;g\u3263\u3264\u4029t;\u6994olint;\u6A12ar\xF2\u31E3\u0200achq\u327B\u3280\u10BC\u3285quo;\u603Ar;\uC000\u{1D4C7}\u0100bu\u30FB\u328Ao\u0100;r\u0214\u0213\u0180hir\u3297\u329B\u32A0re\xE5\u31F8mes;\u62CAi\u0200;efl\u32AA\u1059\u1821\u32AB\u65B9tri;\u69CEluhar;\u6968;\u611E\u0D61\u32D5\u32DB\u32DF\u332C\u3338\u3371\0\u337A\u33A4\0\0\u33EC\u33F0\0\u3428\u3448\u345A\u34AD\u34B1\u34CA\u34F1\0\u3616\0\0\u3633cute;\u415Bqu\xEF\u27BA\u0500;Eaceinpsy\u11ED\u32F3\u32F5\u32FF\u3302\u330B\u330F\u331F\u3326\u3329;\u6AB4\u01F0\u32FA\0\u32FC;\u6AB8on;\u4161u\xE5\u11FE\u0100;d\u11F3\u3307il;\u415Frc;\u415D\u0180Eas\u3316\u3318\u331B;\u6AB6p;\u6ABAim;\u62E9olint;\u6A13i\xED\u1204;\u4441ot\u0180;be\u3334\u1D47\u3335\u62C5;\u6A66\u0380Aacmstx\u3346\u334A\u3357\u335B\u335E\u3363\u336Drr;\u61D8r\u0100hr\u3350\u3352\xEB\u2228\u0100;o\u0A36\u0A34t\u803B\xA7\u40A7i;\u403Bwar;\u6929m\u0100in\u3369\xF0nu\xF3\xF1t;\u6736r\u0100;o\u3376\u2055\uC000\u{1D530}\u0200acoy\u3382\u3386\u3391\u33A0rp;\u666F\u0100hy\u338B\u338Fcy;\u4449;\u4448rt\u026D\u3399\0\0\u339Ci\xE4\u1464ara\xEC\u2E6F\u803B\xAD\u40AD\u0100gm\u33A8\u33B4ma\u0180;fv\u33B1\u33B2\u33B2\u43C3;\u43C2\u0400;deglnpr\u12AB\u33C5\u33C9\u33CE\u33D6\u33DE\u33E1\u33E6ot;\u6A6A\u0100;q\u12B1\u12B0\u0100;E\u33D3\u33D4\u6A9E;\u6AA0\u0100;E\u33DB\u33DC\u6A9D;\u6A9Fe;\u6246lus;\u6A24arr;\u6972ar\xF2\u113D\u0200aeit\u33F8\u3408\u340F\u3417\u0100ls\u33FD\u3404lsetm\xE9\u336Ahp;\u6A33parsl;\u69E4\u0100dl\u1463\u3414e;\u6323\u0100;e\u341C\u341D\u6AAA\u0100;s\u3422\u3423\u6AAC;\uC000\u2AAC\uFE00\u0180flp\u342E\u3433\u3442tcy;\u444C\u0100;b\u3438\u3439\u402F\u0100;a\u343E\u343F\u69C4r;\u633Ff;\uC000\u{1D564}a\u0100dr\u344D\u0402es\u0100;u\u3454\u3455\u6660it\xBB\u3455\u0180csu\u3460\u3479\u349F\u0100au\u3465\u346Fp\u0100;s\u1188\u346B;\uC000\u2293\uFE00p\u0100;s\u11B4\u3475;\uC000\u2294\uFE00u\u0100bp\u347F\u348F\u0180;es\u1197\u119C\u3486et\u0100;e\u1197\u348D\xF1\u119D\u0180;es\u11A8\u11AD\u3496et\u0100;e\u11A8\u349D\xF1\u11AE\u0180;af\u117B\u34A6\u05B0r\u0165\u34AB\u05B1\xBB\u117Car\xF2\u1148\u0200cemt\u34B9\u34BE\u34C2\u34C5r;\uC000\u{1D4C8}tm\xEE\xF1i\xEC\u3415ar\xE6\u11BE\u0100ar\u34CE\u34D5r\u0100;f\u34D4\u17BF\u6606\u0100an\u34DA\u34EDight\u0100ep\u34E3\u34EApsilo\xEE\u1EE0h\xE9\u2EAFs\xBB\u2852\u0280bcmnp\u34FB\u355E\u1209\u358B\u358E\u0480;Edemnprs\u350E\u350F\u3511\u3515\u351E\u3523\u352C\u3531\u3536\u6282;\u6AC5ot;\u6ABD\u0100;d\u11DA\u351Aot;\u6AC3ult;\u6AC1\u0100Ee\u3528\u352A;\u6ACB;\u628Alus;\u6ABFarr;\u6979\u0180eiu\u353D\u3552\u3555t\u0180;en\u350E\u3545\u354Bq\u0100;q\u11DA\u350Feq\u0100;q\u352B\u3528m;\u6AC7\u0100bp\u355A\u355C;\u6AD5;\u6AD3c\u0300;acens\u11ED\u356C\u3572\u3579\u357B\u3326ppro\xF8\u32FAurlye\xF1\u11FE\xF1\u11F3\u0180aes\u3582\u3588\u331Bppro\xF8\u331Aq\xF1\u3317g;\u666A\u0680123;Edehlmnps\u35A9\u35AC\u35AF\u121C\u35B2\u35B4\u35C0\u35C9\u35D5\u35DA\u35DF\u35E8\u35ED\u803B\xB9\u40B9\u803B\xB2\u40B2\u803B\xB3\u40B3;\u6AC6\u0100os\u35B9\u35BCt;\u6ABEub;\u6AD8\u0100;d\u1222\u35C5ot;\u6AC4s\u0100ou\u35CF\u35D2l;\u67C9b;\u6AD7arr;\u697Bult;\u6AC2\u0100Ee\u35E4\u35E6;\u6ACC;\u628Blus;\u6AC0\u0180eiu\u35F4\u3609\u360Ct\u0180;en\u121C\u35FC\u3602q\u0100;q\u1222\u35B2eq\u0100;q\u35E7\u35E4m;\u6AC8\u0100bp\u3611\u3613;\u6AD4;\u6AD6\u0180Aan\u361C\u3620\u362Drr;\u61D9r\u0100hr\u3626\u3628\xEB\u222E\u0100;o\u0A2B\u0A29war;\u692Alig\u803B\xDF\u40DF\u0BE1\u3651\u365D\u3660\u12CE\u3673\u3679\0\u367E\u36C2\0\0\0\0\0\u36DB\u3703\0\u3709\u376C\0\0\0\u3787\u0272\u3656\0\0\u365Bget;\u6316;\u43C4r\xEB\u0E5F\u0180aey\u3666\u366B\u3670ron;\u4165dil;\u4163;\u4442lrec;\u6315r;\uC000\u{1D531}\u0200eiko\u3686\u369D\u36B5\u36BC\u01F2\u368B\0\u3691e\u01004f\u1284\u1281a\u0180;sv\u3698\u3699\u369B\u43B8ym;\u43D1\u0100cn\u36A2\u36B2k\u0100as\u36A8\u36AEppro\xF8\u12C1im\xBB\u12ACs\xF0\u129E\u0100as\u36BA\u36AE\xF0\u12C1rn\u803B\xFE\u40FE\u01EC\u031F\u36C6\u22E7es\u8180\xD7;bd\u36CF\u36D0\u36D8\u40D7\u0100;a\u190F\u36D5r;\u6A31;\u6A30\u0180eps\u36E1\u36E3\u3700\xE1\u2A4D\u0200;bcf\u0486\u36EC\u36F0\u36F4ot;\u6336ir;\u6AF1\u0100;o\u36F9\u36FC\uC000\u{1D565}rk;\u6ADA\xE1\u3362rime;\u6034\u0180aip\u370F\u3712\u3764d\xE5\u1248\u0380adempst\u3721\u374D\u3740\u3751\u3757\u375C\u375Fngle\u0280;dlqr\u3730\u3731\u3736\u3740\u3742\u65B5own\xBB\u1DBBeft\u0100;e\u2800\u373E\xF1\u092E;\u625Cight\u0100;e\u32AA\u374B\xF1\u105Aot;\u65ECinus;\u6A3Alus;\u6A39b;\u69CDime;\u6A3Bezium;\u63E2\u0180cht\u3772\u377D\u3781\u0100ry\u3777\u377B;\uC000\u{1D4C9};\u4446cy;\u445Brok;\u4167\u0100io\u378B\u378Ex\xF4\u1777head\u0100lr\u3797\u37A0eftarro\xF7\u084Fightarrow\xBB\u0F5D\u0900AHabcdfghlmoprstuw\u37D0\u37D3\u37D7\u37E4\u37F0\u37FC\u380E\u381C\u3823\u3834\u3851\u385D\u386B\u38A9\u38CC\u38D2\u38EA\u38F6r\xF2\u03EDar;\u6963\u0100cr\u37DC\u37E2ute\u803B\xFA\u40FA\xF2\u1150r\u01E3\u37EA\0\u37EDy;\u445Eve;\u416D\u0100iy\u37F5\u37FArc\u803B\xFB\u40FB;\u4443\u0180abh\u3803\u3806\u380Br\xF2\u13ADlac;\u4171a\xF2\u13C3\u0100ir\u3813\u3818sht;\u697E;\uC000\u{1D532}rave\u803B\xF9\u40F9\u0161\u3827\u3831r\u0100lr\u382C\u382E\xBB\u0957\xBB\u1083lk;\u6580\u0100ct\u3839\u384D\u026F\u383F\0\0\u384Arn\u0100;e\u3845\u3846\u631Cr\xBB\u3846op;\u630Fri;\u65F8\u0100al\u3856\u385Acr;\u416B\u80BB\xA8\u0349\u0100gp\u3862\u3866on;\u4173f;\uC000\u{1D566}\u0300adhlsu\u114B\u3878\u387D\u1372\u3891\u38A0own\xE1\u13B3arpoon\u0100lr\u3888\u388Cef\xF4\u382Digh\xF4\u382Fi\u0180;hl\u3899\u389A\u389C\u43C5\xBB\u13FAon\xBB\u389Aparrows;\u61C8\u0180cit\u38B0\u38C4\u38C8\u026F\u38B6\0\0\u38C1rn\u0100;e\u38BC\u38BD\u631Dr\xBB\u38BDop;\u630Eng;\u416Fri;\u65F9cr;\uC000\u{1D4CA}\u0180dir\u38D9\u38DD\u38E2ot;\u62F0lde;\u4169i\u0100;f\u3730\u38E8\xBB\u1813\u0100am\u38EF\u38F2r\xF2\u38A8l\u803B\xFC\u40FCangle;\u69A7\u0780ABDacdeflnoprsz\u391C\u391F\u3929\u392D\u39B5\u39B8\u39BD\u39DF\u39E4\u39E8\u39F3\u39F9\u39FD\u3A01\u3A20r\xF2\u03F7ar\u0100;v\u3926\u3927\u6AE8;\u6AE9as\xE8\u03E1\u0100nr\u3932\u3937grt;\u699C\u0380eknprst\u34E3\u3946\u394B\u3952\u395D\u3964\u3996app\xE1\u2415othin\xE7\u1E96\u0180hir\u34EB\u2EC8\u3959op\xF4\u2FB5\u0100;h\u13B7\u3962\xEF\u318D\u0100iu\u3969\u396Dgm\xE1\u33B3\u0100bp\u3972\u3984setneq\u0100;q\u397D\u3980\uC000\u228A\uFE00;\uC000\u2ACB\uFE00setneq\u0100;q\u398F\u3992\uC000\u228B\uFE00;\uC000\u2ACC\uFE00\u0100hr\u399B\u399Fet\xE1\u369Ciangle\u0100lr\u39AA\u39AFeft\xBB\u0925ight\xBB\u1051y;\u4432ash\xBB\u1036\u0180elr\u39C4\u39D2\u39D7\u0180;be\u2DEA\u39CB\u39CFar;\u62BBq;\u625Alip;\u62EE\u0100bt\u39DC\u1468a\xF2\u1469r;\uC000\u{1D533}tr\xE9\u39AEsu\u0100bp\u39EF\u39F1\xBB\u0D1C\xBB\u0D59pf;\uC000\u{1D567}ro\xF0\u0EFBtr\xE9\u39B4\u0100cu\u3A06\u3A0Br;\uC000\u{1D4CB}\u0100bp\u3A10\u3A18n\u0100Ee\u3980\u3A16\xBB\u397En\u0100Ee\u3992\u3A1E\xBB\u3990igzag;\u699A\u0380cefoprs\u3A36\u3A3B\u3A56\u3A5B\u3A54\u3A61\u3A6Airc;\u4175\u0100di\u3A40\u3A51\u0100bg\u3A45\u3A49ar;\u6A5Fe\u0100;q\u15FA\u3A4F;\u6259erp;\u6118r;\uC000\u{1D534}pf;\uC000\u{1D568}\u0100;e\u1479\u3A66at\xE8\u1479cr;\uC000\u{1D4CC}\u0AE3\u178E\u3A87\0\u3A8B\0\u3A90\u3A9B\0\0\u3A9D\u3AA8\u3AAB\u3AAF\0\0\u3AC3\u3ACE\0\u3AD8\u17DC\u17DFtr\xE9\u17D1r;\uC000\u{1D535}\u0100Aa\u3A94\u3A97r\xF2\u03C3r\xF2\u09F6;\u43BE\u0100Aa\u3AA1\u3AA4r\xF2\u03B8r\xF2\u09EBa\xF0\u2713is;\u62FB\u0180dpt\u17A4\u3AB5\u3ABE\u0100fl\u3ABA\u17A9;\uC000\u{1D569}im\xE5\u17B2\u0100Aa\u3AC7\u3ACAr\xF2\u03CEr\xF2\u0A01\u0100cq\u3AD2\u17B8r;\uC000\u{1D4CD}\u0100pt\u17D6\u3ADCr\xE9\u17D4\u0400acefiosu\u3AF0\u3AFD\u3B08\u3B0C\u3B11\u3B15\u3B1B\u3B21c\u0100uy\u3AF6\u3AFBte\u803B\xFD\u40FD;\u444F\u0100iy\u3B02\u3B06rc;\u4177;\u444Bn\u803B\xA5\u40A5r;\uC000\u{1D536}cy;\u4457pf;\uC000\u{1D56A}cr;\uC000\u{1D4CE}\u0100cm\u3B26\u3B29y;\u444El\u803B\xFF\u40FF\u0500acdefhiosw\u3B42\u3B48\u3B54\u3B58\u3B64\u3B69\u3B6D\u3B74\u3B7A\u3B80cute;\u417A\u0100ay\u3B4D\u3B52ron;\u417E;\u4437ot;\u417C\u0100et\u3B5D\u3B61tr\xE6\u155Fa;\u43B6r;\uC000\u{1D537}cy;\u4436grarr;\u61DDpf;\uC000\u{1D56B}cr;\uC000\u{1D4CF}\u0100jn\u3B85\u3B87;\u600Dj;\u600C'.split("").map(e=>e.charCodeAt(0)));var eD,cYe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),uie=(eD=String.fromCodePoint)!==null&&eD!==void 0?eD:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function tD(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=cYe.get(e))!==null&&t!==void 0?t:e}var gn;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(gn||(gn={}));var lYe=32,lu;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(lu||(lu={}));function rD(e){return e>=gn.ZERO&&e<=gn.NINE}function dYe(e){return e>=gn.UPPER_A&&e<=gn.UPPER_F||e>=gn.LOWER_A&&e<=gn.LOWER_F}function fYe(e){return e>=gn.UPPER_A&&e<=gn.UPPER_Z||e>=gn.LOWER_A&&e<=gn.LOWER_Z||rD(e)}function pYe(e){return e===gn.EQUALS||fYe(e)}var mn;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(mn||(mn={}));var Ha;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Ha||(Ha={}));var Sv=class{constructor(t,r,n){this.decodeTree=t,this.emitCodePoint=r,this.errors=n,this.state=mn.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Ha.Strict}startEntity(t){this.decodeMode=t,this.state=mn.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,r){switch(this.state){case mn.EntityStart:return t.charCodeAt(r)===gn.NUM?(this.state=mn.NumericStart,this.consumed+=1,this.stateNumericStart(t,r+1)):(this.state=mn.NamedEntity,this.stateNamedEntity(t,r));case mn.NumericStart:return this.stateNumericStart(t,r);case mn.NumericDecimal:return this.stateNumericDecimal(t,r);case mn.NumericHex:return this.stateNumericHex(t,r);case mn.NamedEntity:return this.stateNamedEntity(t,r)}}stateNumericStart(t,r){return r>=t.length?-1:(t.charCodeAt(r)|lYe)===gn.LOWER_X?(this.state=mn.NumericHex,this.consumed+=1,this.stateNumericHex(t,r+1)):(this.state=mn.NumericDecimal,this.stateNumericDecimal(t,r))}addToNumericResult(t,r,n,s){if(r!==n){let i=n-r;this.result=this.result*Math.pow(s,i)+Number.parseInt(t.substr(r,i),s),this.consumed+=i}}stateNumericHex(t,r){let n=r;for(;r<t.length;){let s=t.charCodeAt(r);if(rD(s)||dYe(s))r+=1;else return this.addToNumericResult(t,n,r,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(t,n,r,16),-1}stateNumericDecimal(t,r){let n=r;for(;r<t.length;){let s=t.charCodeAt(r);if(rD(s))r+=1;else return this.addToNumericResult(t,n,r,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(t,n,r,10),-1}emitNumericEntity(t,r){var n;if(this.consumed<=r)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===gn.SEMI)this.consumed+=1;else if(this.decodeMode===Ha.Strict)return 0;return this.emitCodePoint(tD(this.result),this.consumed),this.errors&&(t!==gn.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,r){let{decodeTree:n}=this,s=n[this.treeIndex],i=(s&lu.VALUE_LENGTH)>>14;for(;r<t.length;r++,this.excess++){let a=t.charCodeAt(r);if(this.treeIndex=hYe(n,s,this.treeIndex+Math.max(1,i),a),this.treeIndex<0)return this.result===0||this.decodeMode===Ha.Attribute&&(i===0||pYe(a))?0:this.emitNotTerminatedNamedEntity();if(s=n[this.treeIndex],i=(s&lu.VALUE_LENGTH)>>14,i!==0){if(a===gn.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==Ha.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;let{result:r,decodeTree:n}=this,s=(n[r]&lu.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,s,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,r,n){let{decodeTree:s}=this;return this.emitCodePoint(r===1?s[t]&~lu.VALUE_LENGTH:s[t+1],n),r===3&&this.emitCodePoint(s[t+2],n),n}end(){var t;switch(this.state){case mn.NamedEntity:return this.result!==0&&(this.decodeMode!==Ha.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case mn.NumericDecimal:return this.emitNumericEntity(0,2);case mn.NumericHex:return this.emitNumericEntity(0,3);case mn.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case mn.EntityStart:return 0}}};function hYe(e,t,r,n){let s=(t&lu.BRANCH_LENGTH)>>7,i=t&lu.JUMP_TABLE;if(s===0)return i!==0&&n===i?r:-1;if(i){let c=n-i;return c<0||c>=s?-1:e[r+c]-1}let a=r,o=a+s-1;for(;a<=o;){let c=a+o>>>1,u=e[c];if(u<n)a=c+1;else if(u>n)o=c-1;else return e[c+s]}return-1}var Tv={};On(Tv,{ATTRS:()=>za,DOCUMENT_MODE:()=>Xn,NS:()=>le,NUMBERED_HEADERS:()=>Tp,SPECIAL_ELEMENTS:()=>nD,TAG_ID:()=>v,TAG_NAMES:()=>se,getTagID:()=>du,hasUnescapedText:()=>sD});var le;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(le||(le={}));var za;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(za||(za={}));var Xn;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Xn||(Xn={}));var se;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(se||(se={}));var v;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(v||(v={}));var mYe=new Map([[se.A,v.A],[se.ADDRESS,v.ADDRESS],[se.ANNOTATION_XML,v.ANNOTATION_XML],[se.APPLET,v.APPLET],[se.AREA,v.AREA],[se.ARTICLE,v.ARTICLE],[se.ASIDE,v.ASIDE],[se.B,v.B],[se.BASE,v.BASE],[se.BASEFONT,v.BASEFONT],[se.BGSOUND,v.BGSOUND],[se.BIG,v.BIG],[se.BLOCKQUOTE,v.BLOCKQUOTE],[se.BODY,v.BODY],[se.BR,v.BR],[se.BUTTON,v.BUTTON],[se.CAPTION,v.CAPTION],[se.CENTER,v.CENTER],[se.CODE,v.CODE],[se.COL,v.COL],[se.COLGROUP,v.COLGROUP],[se.DD,v.DD],[se.DESC,v.DESC],[se.DETAILS,v.DETAILS],[se.DIALOG,v.DIALOG],[se.DIR,v.DIR],[se.DIV,v.DIV],[se.DL,v.DL],[se.DT,v.DT],[se.EM,v.EM],[se.EMBED,v.EMBED],[se.FIELDSET,v.FIELDSET],[se.FIGCAPTION,v.FIGCAPTION],[se.FIGURE,v.FIGURE],[se.FONT,v.FONT],[se.FOOTER,v.FOOTER],[se.FOREIGN_OBJECT,v.FOREIGN_OBJECT],[se.FORM,v.FORM],[se.FRAME,v.FRAME],[se.FRAMESET,v.FRAMESET],[se.H1,v.H1],[se.H2,v.H2],[se.H3,v.H3],[se.H4,v.H4],[se.H5,v.H5],[se.H6,v.H6],[se.HEAD,v.HEAD],[se.HEADER,v.HEADER],[se.HGROUP,v.HGROUP],[se.HR,v.HR],[se.HTML,v.HTML],[se.I,v.I],[se.IMG,v.IMG],[se.IMAGE,v.IMAGE],[se.INPUT,v.INPUT],[se.IFRAME,v.IFRAME],[se.KEYGEN,v.KEYGEN],[se.LABEL,v.LABEL],[se.LI,v.LI],[se.LINK,v.LINK],[se.LISTING,v.LISTING],[se.MAIN,v.MAIN],[se.MALIGNMARK,v.MALIGNMARK],[se.MARQUEE,v.MARQUEE],[se.MATH,v.MATH],[se.MENU,v.MENU],[se.META,v.META],[se.MGLYPH,v.MGLYPH],[se.MI,v.MI],[se.MO,v.MO],[se.MN,v.MN],[se.MS,v.MS],[se.MTEXT,v.MTEXT],[se.NAV,v.NAV],[se.NOBR,v.NOBR],[se.NOFRAMES,v.NOFRAMES],[se.NOEMBED,v.NOEMBED],[se.NOSCRIPT,v.NOSCRIPT],[se.OBJECT,v.OBJECT],[se.OL,v.OL],[se.OPTGROUP,v.OPTGROUP],[se.OPTION,v.OPTION],[se.P,v.P],[se.PARAM,v.PARAM],[se.PLAINTEXT,v.PLAINTEXT],[se.PRE,v.PRE],[se.RB,v.RB],[se.RP,v.RP],[se.RT,v.RT],[se.RTC,v.RTC],[se.RUBY,v.RUBY],[se.S,v.S],[se.SCRIPT,v.SCRIPT],[se.SEARCH,v.SEARCH],[se.SECTION,v.SECTION],[se.SELECT,v.SELECT],[se.SOURCE,v.SOURCE],[se.SMALL,v.SMALL],[se.SPAN,v.SPAN],[se.STRIKE,v.STRIKE],[se.STRONG,v.STRONG],[se.STYLE,v.STYLE],[se.SUB,v.SUB],[se.SUMMARY,v.SUMMARY],[se.SUP,v.SUP],[se.TABLE,v.TABLE],[se.TBODY,v.TBODY],[se.TEMPLATE,v.TEMPLATE],[se.TEXTAREA,v.TEXTAREA],[se.TFOOT,v.TFOOT],[se.TD,v.TD],[se.TH,v.TH],[se.THEAD,v.THEAD],[se.TITLE,v.TITLE],[se.TR,v.TR],[se.TRACK,v.TRACK],[se.TT,v.TT],[se.U,v.U],[se.UL,v.UL],[se.SVG,v.SVG],[se.VAR,v.VAR],[se.WBR,v.WBR],[se.XMP,v.XMP]]);function du(e){var t;return(t=mYe.get(e))!==null&&t!==void 0?t:v.UNKNOWN}var he=v,nD={[le.HTML]:new Set([he.ADDRESS,he.APPLET,he.AREA,he.ARTICLE,he.ASIDE,he.BASE,he.BASEFONT,he.BGSOUND,he.BLOCKQUOTE,he.BODY,he.BR,he.BUTTON,he.CAPTION,he.CENTER,he.COL,he.COLGROUP,he.DD,he.DETAILS,he.DIR,he.DIV,he.DL,he.DT,he.EMBED,he.FIELDSET,he.FIGCAPTION,he.FIGURE,he.FOOTER,he.FORM,he.FRAME,he.FRAMESET,he.H1,he.H2,he.H3,he.H4,he.H5,he.H6,he.HEAD,he.HEADER,he.HGROUP,he.HR,he.HTML,he.IFRAME,he.IMG,he.INPUT,he.LI,he.LINK,he.LISTING,he.MAIN,he.MARQUEE,he.MENU,he.META,he.NAV,he.NOEMBED,he.NOFRAMES,he.NOSCRIPT,he.OBJECT,he.OL,he.P,he.PARAM,he.PLAINTEXT,he.PRE,he.SCRIPT,he.SECTION,he.SELECT,he.SOURCE,he.STYLE,he.SUMMARY,he.TABLE,he.TBODY,he.TD,he.TEMPLATE,he.TEXTAREA,he.TFOOT,he.TH,he.THEAD,he.TITLE,he.TR,he.TRACK,he.UL,he.WBR,he.XMP]),[le.MATHML]:new Set([he.MI,he.MO,he.MN,he.MS,he.MTEXT,he.ANNOTATION_XML]),[le.SVG]:new Set([he.TITLE,he.FOREIGN_OBJECT,he.DESC]),[le.XLINK]:new Set,[le.XML]:new Set,[le.XMLNS]:new Set},Tp=new Set([he.H1,he.H2,he.H3,he.H4,he.H5,he.H6]),gYe=new Set([se.STYLE,se.SCRIPT,se.XMP,se.IFRAME,se.NOEMBED,se.NOFRAMES,se.PLAINTEXT]);function sD(e,t){return gYe.has(e)||t&&e===se.NOSCRIPT}var H;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(H||(H={}));var Zn={DATA:H.DATA,RCDATA:H.RCDATA,RAWTEXT:H.RAWTEXT,SCRIPT_DATA:H.SCRIPT_DATA,PLAINTEXT:H.PLAINTEXT,CDATA_SECTION:H.CDATA_SECTION};function AYe(e){return e>=M.DIGIT_0&&e<=M.DIGIT_9}function wg(e){return e>=M.LATIN_CAPITAL_A&&e<=M.LATIN_CAPITAL_Z}function yYe(e){return e>=M.LATIN_SMALL_A&&e<=M.LATIN_SMALL_Z}function fu(e){return yYe(e)||wg(e)}function lie(e){return fu(e)||AYe(e)}function Bv(e){return e+32}function fie(e){return e===M.SPACE||e===M.LINE_FEED||e===M.TABULATION||e===M.FORM_FEED}function die(e){return fie(e)||e===M.SOLIDUS||e===M.GREATER_THAN_SIGN}function bYe(e){return e===M.NULL?oe.nullCharacterReference:e>1114111?oe.characterReferenceOutsideUnicodeRange:xv(e)?oe.surrogateCharacterReference:_v(e)?oe.noncharacterCharacterReference:vv(e)||e===M.CARRIAGE_RETURN?oe.controlCharacterReference:null}var Sg=class{constructor(t,r){this.options=t,this.handler=r,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=H.DATA,this.returnState=H.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Iv(r),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new Sv(wv,(n,s)=>{this.preprocessor.pos=this.entityStartPos+s-1,this._flushCodePointConsumedAsCharacterReference(n)},r.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(oe.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:n=>{this._err(oe.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+n)},validateNumericCharacterReference:n=>{let s=bYe(n);s&&this._err(s,1)}}:void 0)}_err(t,r=0){var n,s;(s=(n=this.handler).onParseError)===null||s===void 0||s.call(n,this.preprocessor.getError(t,r))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;let t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,r,n){this.active=!0,this.preprocessor.write(t,r),this._runParsingLoop(),this.paused||n?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let r=0;r<t;r++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,r){return this.preprocessor.startsWith(t,r)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:St.START_TAG,tagName:"",tagID:v.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:St.END_TAG,tagName:"",tagID:v.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:St.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:St.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,r){this.currentCharacterToken={type:t,chars:r,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,r;let n=this.currentToken;if(Cv(n,this.currentAttr.name)===null){if(n.attrs.push(this.currentAttr),n.location&&this.currentLocation){let s=(t=(r=n.location).attrs)!==null&&t!==void 0?t:r.attrs=Object.create(null);s[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(oe.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){let t=this.currentToken;this.prepareToken(t),t.tagID=du(t.tagName),t.type===St.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(oe.endTagWithAttributes),t.selfClosing&&this._err(oe.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case St.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case St.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case St.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){let t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:St.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,r){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=r;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,r)}_emitCodePoint(t){let r=fie(t)?St.WHITESPACE_CHARACTER:t===M.NULL?St.NULL_CHARACTER:St.CHARACTER;this._appendCharToCurrentCharacterToken(r,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(St.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=H.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Ha.Attribute:Ha.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===H.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===H.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===H.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case H.DATA:{this._stateData(t);break}case H.RCDATA:{this._stateRcdata(t);break}case H.RAWTEXT:{this._stateRawtext(t);break}case H.SCRIPT_DATA:{this._stateScriptData(t);break}case H.PLAINTEXT:{this._statePlaintext(t);break}case H.TAG_OPEN:{this._stateTagOpen(t);break}case H.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case H.TAG_NAME:{this._stateTagName(t);break}case H.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case H.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case H.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case H.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case H.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case H.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case H.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case H.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case H.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case H.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case H.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case H.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case H.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case H.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case H.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case H.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case H.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case H.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case H.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case H.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case H.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case H.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case H.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case H.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case H.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case H.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case H.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case H.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case H.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case H.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case H.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case H.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case H.BOGUS_COMMENT:{this._stateBogusComment(t);break}case H.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case H.COMMENT_START:{this._stateCommentStart(t);break}case H.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case H.COMMENT:{this._stateComment(t);break}case H.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case H.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case H.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case H.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case H.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case H.COMMENT_END:{this._stateCommentEnd(t);break}case H.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case H.DOCTYPE:{this._stateDoctype(t);break}case H.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case H.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case H.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case H.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case H.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case H.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case H.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case H.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case H.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case H.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case H.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case H.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case H.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case H.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case H.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case H.CDATA_SECTION:{this._stateCdataSection(t);break}case H.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case H.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case H.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case H.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case M.LESS_THAN_SIGN:{this.state=H.TAG_OPEN;break}case M.AMPERSAND:{this._startCharacterReference();break}case M.NULL:{this._err(oe.unexpectedNullCharacter),this._emitCodePoint(t);break}case M.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case M.AMPERSAND:{this._startCharacterReference();break}case M.LESS_THAN_SIGN:{this.state=H.RCDATA_LESS_THAN_SIGN;break}case M.NULL:{this._err(oe.unexpectedNullCharacter),this._emitChars(hr);break}case M.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case M.LESS_THAN_SIGN:{this.state=H.RAWTEXT_LESS_THAN_SIGN;break}case M.NULL:{this._err(oe.unexpectedNullCharacter),this._emitChars(hr);break}case M.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case M.LESS_THAN_SIGN:{this.state=H.SCRIPT_DATA_LESS_THAN_SIGN;break}case M.NULL:{this._err(oe.unexpectedNullCharacter),this._emitChars(hr);break}case M.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case M.NULL:{this._err(oe.unexpectedNullCharacter),this._emitChars(hr);break}case M.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(fu(t))this._createStartTagToken(),this.state=H.TAG_NAME,this._stateTagName(t);else switch(t){case M.EXCLAMATION_MARK:{this.state=H.MARKUP_DECLARATION_OPEN;break}case M.SOLIDUS:{this.state=H.END_TAG_OPEN;break}case M.QUESTION_MARK:{this._err(oe.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=H.BOGUS_COMMENT,this._stateBogusComment(t);break}case M.EOF:{this._err(oe.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(oe.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=H.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(fu(t))this._createEndTagToken(),this.state=H.TAG_NAME,this._stateTagName(t);else switch(t){case M.GREATER_THAN_SIGN:{this._err(oe.missingEndTagName),this.state=H.DATA;break}case M.EOF:{this._err(oe.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(oe.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=H.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){let r=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=H.BEFORE_ATTRIBUTE_NAME;break}case M.SOLIDUS:{this.state=H.SELF_CLOSING_START_TAG;break}case M.GREATER_THAN_SIGN:{this.state=H.DATA,this.emitCurrentTagToken();break}case M.NULL:{this._err(oe.unexpectedNullCharacter),r.tagName+=hr;break}case M.EOF:{this._err(oe.eofInTag),this._emitEOFToken();break}default:r.tagName+=String.fromCodePoint(wg(t)?Bv(t):t)}}_stateRcdataLessThanSign(t){t===M.SOLIDUS?this.state=H.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=H.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){fu(t)?(this.state=H.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=H.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();let r=this.currentToken;switch(r.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=H.BEFORE_ATTRIBUTE_NAME,!1;case M.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=H.SELF_CLOSING_START_TAG,!1;case M.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=H.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=H.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===M.SOLIDUS?this.state=H.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=H.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){fu(t)?(this.state=H.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=H.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=H.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case M.SOLIDUS:{this.state=H.SCRIPT_DATA_END_TAG_OPEN;break}case M.EXCLAMATION_MARK:{this.state=H.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=H.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){fu(t)?(this.state=H.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=H.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=H.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===M.HYPHEN_MINUS?(this.state=H.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=H.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===M.HYPHEN_MINUS?(this.state=H.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=H.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case M.HYPHEN_MINUS:{this.state=H.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=H.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case M.NULL:{this._err(oe.unexpectedNullCharacter),this._emitChars(hr);break}case M.EOF:{this._err(oe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case M.HYPHEN_MINUS:{this.state=H.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=H.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case M.NULL:{this._err(oe.unexpectedNullCharacter),this.state=H.SCRIPT_DATA_ESCAPED,this._emitChars(hr);break}case M.EOF:{this._err(oe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=H.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case M.HYPHEN_MINUS:{this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=H.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case M.GREATER_THAN_SIGN:{this.state=H.SCRIPT_DATA,this._emitChars(">");break}case M.NULL:{this._err(oe.unexpectedNullCharacter),this.state=H.SCRIPT_DATA_ESCAPED,this._emitChars(hr);break}case M.EOF:{this._err(oe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=H.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===M.SOLIDUS?this.state=H.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:fu(t)?(this._emitChars("<"),this.state=H.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=H.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){fu(t)?(this.state=H.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=H.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=H.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(ms.SCRIPT,!1)&&die(this.preprocessor.peek(ms.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<ms.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=H.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case M.HYPHEN_MINUS:{this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case M.NULL:{this._err(oe.unexpectedNullCharacter),this._emitChars(hr);break}case M.EOF:{this._err(oe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case M.HYPHEN_MINUS:{this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case M.NULL:{this._err(oe.unexpectedNullCharacter),this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(hr);break}case M.EOF:{this._err(oe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case M.HYPHEN_MINUS:{this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case M.GREATER_THAN_SIGN:{this.state=H.SCRIPT_DATA,this._emitChars(">");break}case M.NULL:{this._err(oe.unexpectedNullCharacter),this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(hr);break}case M.EOF:{this._err(oe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===M.SOLIDUS?(this.state=H.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(ms.SCRIPT,!1)&&die(this.preprocessor.peek(ms.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<ms.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=H.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.SOLIDUS:case M.GREATER_THAN_SIGN:case M.EOF:{this.state=H.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case M.EQUALS_SIGN:{this._err(oe.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=H.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=H.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:case M.SOLIDUS:case M.GREATER_THAN_SIGN:case M.EOF:{this._leaveAttrName(),this.state=H.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case M.EQUALS_SIGN:{this._leaveAttrName(),this.state=H.BEFORE_ATTRIBUTE_VALUE;break}case M.QUOTATION_MARK:case M.APOSTROPHE:case M.LESS_THAN_SIGN:{this._err(oe.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case M.NULL:{this._err(oe.unexpectedNullCharacter),this.currentAttr.name+=hr;break}default:this.currentAttr.name+=String.fromCodePoint(wg(t)?Bv(t):t)}}_stateAfterAttributeName(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.SOLIDUS:{this.state=H.SELF_CLOSING_START_TAG;break}case M.EQUALS_SIGN:{this.state=H.BEFORE_ATTRIBUTE_VALUE;break}case M.GREATER_THAN_SIGN:{this.state=H.DATA,this.emitCurrentTagToken();break}case M.EOF:{this._err(oe.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=H.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.QUOTATION_MARK:{this.state=H.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case M.APOSTROPHE:{this.state=H.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case M.GREATER_THAN_SIGN:{this._err(oe.missingAttributeValue),this.state=H.DATA,this.emitCurrentTagToken();break}default:this.state=H.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case M.QUOTATION_MARK:{this.state=H.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case M.AMPERSAND:{this._startCharacterReference();break}case M.NULL:{this._err(oe.unexpectedNullCharacter),this.currentAttr.value+=hr;break}case M.EOF:{this._err(oe.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case M.APOSTROPHE:{this.state=H.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case M.AMPERSAND:{this._startCharacterReference();break}case M.NULL:{this._err(oe.unexpectedNullCharacter),this.currentAttr.value+=hr;break}case M.EOF:{this._err(oe.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this._leaveAttrValue(),this.state=H.BEFORE_ATTRIBUTE_NAME;break}case M.AMPERSAND:{this._startCharacterReference();break}case M.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=H.DATA,this.emitCurrentTagToken();break}case M.NULL:{this._err(oe.unexpectedNullCharacter),this.currentAttr.value+=hr;break}case M.QUOTATION_MARK:case M.APOSTROPHE:case M.LESS_THAN_SIGN:case M.EQUALS_SIGN:case M.GRAVE_ACCENT:{this._err(oe.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case M.EOF:{this._err(oe.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this._leaveAttrValue(),this.state=H.BEFORE_ATTRIBUTE_NAME;break}case M.SOLIDUS:{this._leaveAttrValue(),this.state=H.SELF_CLOSING_START_TAG;break}case M.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=H.DATA,this.emitCurrentTagToken();break}case M.EOF:{this._err(oe.eofInTag),this._emitEOFToken();break}default:this._err(oe.missingWhitespaceBetweenAttributes),this.state=H.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case M.GREATER_THAN_SIGN:{let r=this.currentToken;r.selfClosing=!0,this.state=H.DATA,this.emitCurrentTagToken();break}case M.EOF:{this._err(oe.eofInTag),this._emitEOFToken();break}default:this._err(oe.unexpectedSolidusInTag),this.state=H.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){let r=this.currentToken;switch(t){case M.GREATER_THAN_SIGN:{this.state=H.DATA,this.emitCurrentComment(r);break}case M.EOF:{this.emitCurrentComment(r),this._emitEOFToken();break}case M.NULL:{this._err(oe.unexpectedNullCharacter),r.data+=hr;break}default:r.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(ms.DASH_DASH,!0)?(this._createCommentToken(ms.DASH_DASH.length+1),this.state=H.COMMENT_START):this._consumeSequenceIfMatch(ms.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(ms.DOCTYPE.length+1),this.state=H.DOCTYPE):this._consumeSequenceIfMatch(ms.CDATA_START,!0)?this.inForeignNode?this.state=H.CDATA_SECTION:(this._err(oe.cdataInHtmlContent),this._createCommentToken(ms.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=H.BOGUS_COMMENT):this._ensureHibernation()||(this._err(oe.incorrectlyOpenedComment),this._createCommentToken(2),this.state=H.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case M.HYPHEN_MINUS:{this.state=H.COMMENT_START_DASH;break}case M.GREATER_THAN_SIGN:{this._err(oe.abruptClosingOfEmptyComment),this.state=H.DATA;let r=this.currentToken;this.emitCurrentComment(r);break}default:this.state=H.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){let r=this.currentToken;switch(t){case M.HYPHEN_MINUS:{this.state=H.COMMENT_END;break}case M.GREATER_THAN_SIGN:{this._err(oe.abruptClosingOfEmptyComment),this.state=H.DATA,this.emitCurrentComment(r);break}case M.EOF:{this._err(oe.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=H.COMMENT,this._stateComment(t)}}_stateComment(t){let r=this.currentToken;switch(t){case M.HYPHEN_MINUS:{this.state=H.COMMENT_END_DASH;break}case M.LESS_THAN_SIGN:{r.data+="<",this.state=H.COMMENT_LESS_THAN_SIGN;break}case M.NULL:{this._err(oe.unexpectedNullCharacter),r.data+=hr;break}case M.EOF:{this._err(oe.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){let r=this.currentToken;switch(t){case M.EXCLAMATION_MARK:{r.data+="!",this.state=H.COMMENT_LESS_THAN_SIGN_BANG;break}case M.LESS_THAN_SIGN:{r.data+="<";break}default:this.state=H.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===M.HYPHEN_MINUS?this.state=H.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=H.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===M.HYPHEN_MINUS?this.state=H.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=H.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==M.GREATER_THAN_SIGN&&t!==M.EOF&&this._err(oe.nestedComment),this.state=H.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){let r=this.currentToken;switch(t){case M.HYPHEN_MINUS:{this.state=H.COMMENT_END;break}case M.EOF:{this._err(oe.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=H.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){let r=this.currentToken;switch(t){case M.GREATER_THAN_SIGN:{this.state=H.DATA,this.emitCurrentComment(r);break}case M.EXCLAMATION_MARK:{this.state=H.COMMENT_END_BANG;break}case M.HYPHEN_MINUS:{r.data+="-";break}case M.EOF:{this._err(oe.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--",this.state=H.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){let r=this.currentToken;switch(t){case M.HYPHEN_MINUS:{r.data+="--!",this.state=H.COMMENT_END_DASH;break}case M.GREATER_THAN_SIGN:{this._err(oe.incorrectlyClosedComment),this.state=H.DATA,this.emitCurrentComment(r);break}case M.EOF:{this._err(oe.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--!",this.state=H.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=H.BEFORE_DOCTYPE_NAME;break}case M.GREATER_THAN_SIGN:{this.state=H.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case M.EOF:{this._err(oe.eofInDoctype),this._createDoctypeToken(null);let r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(oe.missingWhitespaceBeforeDoctypeName),this.state=H.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(wg(t))this._createDoctypeToken(String.fromCharCode(Bv(t))),this.state=H.DOCTYPE_NAME;else switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.NULL:{this._err(oe.unexpectedNullCharacter),this._createDoctypeToken(hr),this.state=H.DOCTYPE_NAME;break}case M.GREATER_THAN_SIGN:{this._err(oe.missingDoctypeName),this._createDoctypeToken(null);let r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=H.DATA;break}case M.EOF:{this._err(oe.eofInDoctype),this._createDoctypeToken(null);let r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=H.DOCTYPE_NAME}}_stateDoctypeName(t){let r=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=H.AFTER_DOCTYPE_NAME;break}case M.GREATER_THAN_SIGN:{this.state=H.DATA,this.emitCurrentDoctype(r);break}case M.NULL:{this._err(oe.unexpectedNullCharacter),r.name+=hr;break}case M.EOF:{this._err(oe.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.name+=String.fromCodePoint(wg(t)?Bv(t):t)}}_stateAfterDoctypeName(t){let r=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.GREATER_THAN_SIGN:{this.state=H.DATA,this.emitCurrentDoctype(r);break}case M.EOF:{this._err(oe.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(ms.PUBLIC,!1)?this.state=H.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(ms.SYSTEM,!1)?this.state=H.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(oe.invalidCharacterSequenceAfterDoctypeName),r.forceQuirks=!0,this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){let r=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=H.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case M.QUOTATION_MARK:{this._err(oe.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=H.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{this._err(oe.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=H.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case M.GREATER_THAN_SIGN:{this._err(oe.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=H.DATA,this.emitCurrentDoctype(r);break}case M.EOF:{this._err(oe.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(oe.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){let r=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.QUOTATION_MARK:{r.publicId="",this.state=H.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{r.publicId="",this.state=H.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case M.GREATER_THAN_SIGN:{this._err(oe.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=H.DATA,this.emitCurrentDoctype(r);break}case M.EOF:{this._err(oe.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(oe.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){let r=this.currentToken;switch(t){case M.QUOTATION_MARK:{this.state=H.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case M.NULL:{this._err(oe.unexpectedNullCharacter),r.publicId+=hr;break}case M.GREATER_THAN_SIGN:{this._err(oe.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=H.DATA;break}case M.EOF:{this._err(oe.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){let r=this.currentToken;switch(t){case M.APOSTROPHE:{this.state=H.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case M.NULL:{this._err(oe.unexpectedNullCharacter),r.publicId+=hr;break}case M.GREATER_THAN_SIGN:{this._err(oe.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=H.DATA;break}case M.EOF:{this._err(oe.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){let r=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=H.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case M.GREATER_THAN_SIGN:{this.state=H.DATA,this.emitCurrentDoctype(r);break}case M.QUOTATION_MARK:{this._err(oe.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{this._err(oe.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case M.EOF:{this._err(oe.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(oe.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){let r=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=H.DATA;break}case M.QUOTATION_MARK:{r.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{r.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case M.EOF:{this._err(oe.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(oe.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){let r=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=H.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case M.QUOTATION_MARK:{this._err(oe.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{this._err(oe.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case M.GREATER_THAN_SIGN:{this._err(oe.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=H.DATA,this.emitCurrentDoctype(r);break}case M.EOF:{this._err(oe.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(oe.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){let r=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.QUOTATION_MARK:{r.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{r.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case M.GREATER_THAN_SIGN:{this._err(oe.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=H.DATA,this.emitCurrentDoctype(r);break}case M.EOF:{this._err(oe.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(oe.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){let r=this.currentToken;switch(t){case M.QUOTATION_MARK:{this.state=H.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case M.NULL:{this._err(oe.unexpectedNullCharacter),r.systemId+=hr;break}case M.GREATER_THAN_SIGN:{this._err(oe.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=H.DATA;break}case M.EOF:{this._err(oe.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){let r=this.currentToken;switch(t){case M.APOSTROPHE:{this.state=H.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case M.NULL:{this._err(oe.unexpectedNullCharacter),r.systemId+=hr;break}case M.GREATER_THAN_SIGN:{this._err(oe.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=H.DATA;break}case M.EOF:{this._err(oe.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){let r=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=H.DATA;break}case M.EOF:{this._err(oe.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(oe.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){let r=this.currentToken;switch(t){case M.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=H.DATA;break}case M.NULL:{this._err(oe.unexpectedNullCharacter);break}case M.EOF:{this.emitCurrentDoctype(r),this._emitEOFToken();break}default:}}_stateCdataSection(t){switch(t){case M.RIGHT_SQUARE_BRACKET:{this.state=H.CDATA_SECTION_BRACKET;break}case M.EOF:{this._err(oe.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===M.RIGHT_SQUARE_BRACKET?this.state=H.CDATA_SECTION_END:(this._emitChars("]"),this.state=H.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case M.GREATER_THAN_SIGN:{this.state=H.DATA;break}case M.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=H.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(M.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&lie(this.preprocessor.peek(1))?H.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){lie(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===M.SEMICOLON&&this._err(oe.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}};var gie=new Set([v.DD,v.DT,v.LI,v.OPTGROUP,v.OPTION,v.P,v.RB,v.RP,v.RT,v.RTC]),pie=new Set([...gie,v.CAPTION,v.COLGROUP,v.TBODY,v.TD,v.TFOOT,v.TH,v.THEAD,v.TR]),Rv=new Set([v.APPLET,v.CAPTION,v.HTML,v.MARQUEE,v.OBJECT,v.TABLE,v.TD,v.TEMPLATE,v.TH]),EYe=new Set([...Rv,v.OL,v.UL]),xYe=new Set([...Rv,v.BUTTON]),hie=new Set([v.ANNOTATION_XML,v.MI,v.MN,v.MO,v.MS,v.MTEXT]),mie=new Set([v.DESC,v.FOREIGN_OBJECT,v.TITLE]),vYe=new Set([v.TR,v.TEMPLATE,v.HTML]),_Ye=new Set([v.TBODY,v.TFOOT,v.THEAD,v.TEMPLATE,v.HTML]),IYe=new Set([v.TABLE,v.TEMPLATE,v.HTML]),CYe=new Set([v.TD,v.TH]),Nv=class{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,r,n){this.treeAdapter=r,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=v.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===v.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===le.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,r){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=r,this.currentTagId=r,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,r,!0)}pop(){let t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,r){let n=this._indexOf(t);this.items[n]=r,n===this.stackTop&&(this.current=r)}insertAfter(t,r,n){let s=this._indexOf(t)+1;this.items.splice(s,0,r),this.tagIDs.splice(s,0,n),this.stackTop++,s===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,s===this.stackTop)}popUntilTagNamePopped(t){let r=this.stackTop+1;do r=this.tagIDs.lastIndexOf(t,r-1);while(r>0&&this.treeAdapter.getNamespaceURI(this.items[r])!==le.HTML);this.shortenToLength(Math.max(r,0))}shortenToLength(t){for(;this.stackTop>=t;){let r=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,this.stackTop<t)}}popUntilElementPopped(t){let r=this._indexOf(t);this.shortenToLength(Math.max(r,0))}popUntilPopped(t,r){let n=this._indexOfTagNames(t,r);this.shortenToLength(Math.max(n,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(Tp,le.HTML)}popUntilTableCellPopped(){this.popUntilPopped(CYe,le.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,r){for(let n=this.stackTop;n>=0;n--)if(t.has(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===r)return n;return-1}clearBackTo(t,r){let n=this._indexOfTagNames(t,r);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(IYe,le.HTML)}clearBackToTableBodyContext(){this.clearBackTo(_Ye,le.HTML)}clearBackToTableRowContext(){this.clearBackTo(vYe,le.HTML)}remove(t){let r=this._indexOf(t);r>=0&&(r===this.stackTop?this.pop():(this.items.splice(r,1),this.tagIDs.splice(r,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===v.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){let r=this._indexOf(t)-1;return r>=0?this.items[r]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===v.HTML}hasInDynamicScope(t,r){for(let n=this.stackTop;n>=0;n--){let s=this.tagIDs[n];switch(this.treeAdapter.getNamespaceURI(this.items[n])){case le.HTML:{if(s===t)return!0;if(r.has(s))return!1;break}case le.SVG:{if(mie.has(s))return!1;break}case le.MATHML:{if(hie.has(s))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Rv)}hasInListItemScope(t){return this.hasInDynamicScope(t,EYe)}hasInButtonScope(t){return this.hasInDynamicScope(t,xYe)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){let r=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case le.HTML:{if(Tp.has(r))return!0;if(Rv.has(r))return!1;break}case le.SVG:{if(mie.has(r))return!1;break}case le.MATHML:{if(hie.has(r))return!1;break}}}return!0}hasInTableScope(t){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===le.HTML)switch(this.tagIDs[r]){case t:return!0;case v.TABLE:case v.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===le.HTML)switch(this.tagIDs[t]){case v.TBODY:case v.THEAD:case v.TFOOT:return!0;case v.TABLE:case v.HTML:return!1}return!0}hasInSelectScope(t){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===le.HTML)switch(this.tagIDs[r]){case t:return!0;case v.OPTION:case v.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&gie.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&pie.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&pie.has(this.currentTagId);)this.pop()}};var aa;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(aa||(aa={}));var Aie={type:aa.Marker},kv=class{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,r){let n=[],s=r.length,i=this.treeAdapter.getTagName(t),a=this.treeAdapter.getNamespaceURI(t);for(let o=0;o<this.entries.length;o++){let c=this.entries[o];if(c.type===aa.Marker)break;let{element:u}=c;if(this.treeAdapter.getTagName(u)===i&&this.treeAdapter.getNamespaceURI(u)===a){let l=this.treeAdapter.getAttrList(u);l.length===s&&n.push({idx:o,attrs:l})}}return n}_ensureNoahArkCondition(t){if(this.entries.length<3)return;let r=this.treeAdapter.getAttrList(t),n=this._getNoahArkConditionCandidates(t,r);if(n.length<3)return;let s=new Map(r.map(a=>[a.name,a.value])),i=0;for(let a=0;a<n.length;a++){let o=n[a];o.attrs.every(c=>s.get(c.name)===c.value)&&(i+=1,i>=3&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(Aie)}pushElement(t,r){this._ensureNoahArkCondition(t),this.entries.unshift({type:aa.Element,element:t,token:r})}insertElementAfterBookmark(t,r){let n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:aa.Element,element:t,token:r})}removeEntry(t){let r=this.entries.indexOf(t);r!==-1&&this.entries.splice(r,1)}clearToLastMarker(){let t=this.entries.indexOf(Aie);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){let r=this.entries.find(n=>n.type===aa.Marker||this.treeAdapter.getTagName(n.element)===t);return r&&r.type===aa.Element?r:null}getElementEntry(t){return this.entries.find(r=>r.type===aa.Element&&r.element===t)}};var Ri={createDocument(){return{nodeName:"#document",mode:Xn.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,r){return{nodeName:e,tagName:e,attrs:r,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,r){let n=e.childNodes.indexOf(r);e.childNodes.splice(n,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,r,n){let s=e.childNodes.find(i=>i.nodeName==="#documentType");if(s)s.name=t,s.publicId=r,s.systemId=n;else{let i={nodeName:"#documentType",name:t,publicId:r,systemId:n,parentNode:null};Ri.appendChild(e,i)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){let t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){let r=e.childNodes[e.childNodes.length-1];if(Ri.isTextNode(r)){r.value+=t;return}}Ri.appendChild(e,Ri.createTextNode(t))},insertTextBefore(e,t,r){let n=e.childNodes[e.childNodes.indexOf(r)-1];n&&Ri.isTextNode(n)?n.value+=t:Ri.insertBefore(e,Ri.createTextNode(t),r)},adoptAttributes(e,t){let r=new Set(e.attrs.map(n=>n.name));for(let n=0;n<t.length;n++)r.has(t[n].name)||e.attrs.push(t[n])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}};var bie="html",wYe="about:legacy-compat",SYe="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Eie=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],TYe=[...Eie,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],BYe=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),xie=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],RYe=[...xie,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function yie(e,t){return t.some(r=>e.startsWith(r))}function vie(e){return e.name===bie&&e.publicId===null&&(e.systemId===null||e.systemId===wYe)}function _ie(e){if(e.name!==bie)return Xn.QUIRKS;let{systemId:t}=e;if(t&&t.toLowerCase()===SYe)return Xn.QUIRKS;let{publicId:r}=e;if(r!==null){if(r=r.toLowerCase(),BYe.has(r))return Xn.QUIRKS;let n=t===null?TYe:Eie;if(yie(r,n))return Xn.QUIRKS;if(n=t===null?xie:RYe,yie(r,n))return Xn.LIMITED_QUIRKS}return Xn.NO_QUIRKS}var Iie={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},kYe="definitionurl",DYe="definitionURL",PYe=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),OYe=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:le.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:le.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:le.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:le.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:le.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:le.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:le.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:le.XML}],["xml:space",{prefix:"xml",name:"space",namespace:le.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:le.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:le.XMLNS}]]),$Ye=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),LYe=new Set([v.B,v.BIG,v.BLOCKQUOTE,v.BODY,v.BR,v.CENTER,v.CODE,v.DD,v.DIV,v.DL,v.DT,v.EM,v.EMBED,v.H1,v.H2,v.H3,v.H4,v.H5,v.H6,v.HEAD,v.HR,v.I,v.IMG,v.LI,v.LISTING,v.MENU,v.META,v.NOBR,v.OL,v.P,v.PRE,v.RUBY,v.S,v.SMALL,v.SPAN,v.STRONG,v.STRIKE,v.SUB,v.SUP,v.TABLE,v.TT,v.U,v.UL,v.VAR]);function Cie(e){let t=e.tagID;return t===v.FONT&&e.attrs.some(({name:n})=>n===za.COLOR||n===za.SIZE||n===za.FACE)||LYe.has(t)}function iD(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===kYe){e.attrs[t].name=DYe;break}}function aD(e){for(let t=0;t<e.attrs.length;t++){let r=PYe.get(e.attrs[t].name);r!=null&&(e.attrs[t].name=r)}}function Dv(e){for(let t=0;t<e.attrs.length;t++){let r=OYe.get(e.attrs[t].name);r&&(e.attrs[t].prefix=r.prefix,e.attrs[t].name=r.name,e.attrs[t].namespace=r.namespace)}}function wie(e){let t=$Ye.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=du(e.tagName))}function MYe(e,t){return t===le.MATHML&&(e===v.MI||e===v.MO||e===v.MN||e===v.MS||e===v.MTEXT)}function FYe(e,t,r){if(t===le.MATHML&&e===v.ANNOTATION_XML){for(let n=0;n<r.length;n++)if(r[n].name===za.ENCODING){let s=r[n].value.toLowerCase();return s===Iie.TEXT_HTML||s===Iie.APPLICATION_XML}}return t===le.SVG&&(e===v.FOREIGN_OBJECT||e===v.DESC||e===v.TITLE)}function Sie(e,t,r,n){return(!n||n===le.HTML)&&FYe(e,t,r)||(!n||n===le.MATHML)&&MYe(e,t)}var QYe="hidden",UYe=8,qYe=3,K;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(K||(K={}));var jYe={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},kie=new Set([v.TABLE,v.TBODY,v.TFOOT,v.THEAD,v.TR]),Bie={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Ri,onParseError:null},Bp=class{constructor(t,r,n=null,s=null){this.fragmentContext=n,this.scriptHandler=s,this.currentToken=null,this.stopped=!1,this.insertionMode=K.INITIAL,this.originalInsertionMode=K.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...Bie,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=r??this.treeAdapter.createDocument(),this.tokenizer=new Sg(this.options,this),this.activeFormattingElements=new kv(this.treeAdapter),this.fragmentContextID=n?du(this.treeAdapter.getTagName(n)):v.UNKNOWN,this._setContextModes(n??this.document,this.fragmentContextID),this.openElements=new Nv(this.document,this.treeAdapter,this)}static parse(t,r){let n=new this(r);return n.tokenizer.write(t,!0),n.document}static getFragmentParser(t,r){let n={...Bie,...r};t??(t=n.treeAdapter.createElement(se.TEMPLATE,le.HTML,[]));let s=n.treeAdapter.createElement("documentmock",le.HTML,[]),i=new this(n,s,t);return i.fragmentContextID===v.TEMPLATE&&i.tmplInsertionModeStack.unshift(K.IN_TEMPLATE),i._initTokenizerForFragmentParsing(),i._insertFakeRootElement(),i._resetInsertionMode(),i._findFormInFragmentContext(),i}getFragment(){let t=this.treeAdapter.getFirstChild(this.document),r=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,r),r}_err(t,r,n){var s;if(!this.onParseError)return;let i=(s=t.location)!==null&&s!==void 0?s:jYe,a={code:r,startLine:i.startLine,startCol:i.startCol,startOffset:i.startOffset,endLine:n?i.startLine:i.endLine,endCol:n?i.startCol:i.endCol,endOffset:n?i.startOffset:i.endOffset};this.onParseError(a)}onItemPush(t,r,n){var s,i;(i=(s=this.treeAdapter).onItemPush)===null||i===void 0||i.call(s,t),n&&this.openElements.stackTop>0&&this._setContextModes(t,r)}onItemPop(t,r){var n,s;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(s=(n=this.treeAdapter).onItemPop)===null||s===void 0||s.call(n,t,this.openElements.current),r){let i,a;this.openElements.stackTop===0&&this.fragmentContext?(i=this.fragmentContext,a=this.fragmentContextID):{current:i,currentTagId:a}=this.openElements,this._setContextModes(i,a)}}_setContextModes(t,r){let n=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===le.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&t!==void 0&&r!==void 0&&!this._isIntegrationPoint(r,t)}_switchToTextParsing(t,r){this._insertElement(t,le.HTML),this.tokenizer.state=r,this.originalInsertionMode=this.insertionMode,this.insertionMode=K.TEXT}switchToPlaintextParsing(){this.insertionMode=K.TEXT,this.originalInsertionMode=K.IN_BODY,this.tokenizer.state=Zn.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===se.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==le.HTML))switch(this.fragmentContextID){case v.TITLE:case v.TEXTAREA:{this.tokenizer.state=Zn.RCDATA;break}case v.STYLE:case v.XMP:case v.IFRAME:case v.NOEMBED:case v.NOFRAMES:case v.NOSCRIPT:{this.tokenizer.state=Zn.RAWTEXT;break}case v.SCRIPT:{this.tokenizer.state=Zn.SCRIPT_DATA;break}case v.PLAINTEXT:{this.tokenizer.state=Zn.PLAINTEXT;break}default:}}_setDocumentType(t){let r=t.name||"",n=t.publicId||"",s=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,r,n,s),t.location){let a=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));a&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}}_attachElementToTree(t,r){if(this.options.sourceCodeLocationInfo){let n=r&&{...r,startTag:r};this.treeAdapter.setNodeSourceCodeLocation(t,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{let n=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(n??this.document,t)}}_appendElement(t,r){let n=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(n,t.location)}_insertElement(t,r){let n=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID)}_insertFakeElement(t,r){let n=this.treeAdapter.createElement(t,le.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,r)}_insertTemplate(t){let r=this.treeAdapter.createElement(t.tagName,le.HTML,t.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(r,n),this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){let t=this.treeAdapter.createElement(se.HTML,le.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,v.HTML)}_appendCommentNode(t,r){let n=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(r,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,t.location)}_insertCharacters(t){let r,n;if(this._shouldFosterParentOnInsertion()?({parent:r,beforeElement:n}=this._findFosterParentingLocation(),n?this.treeAdapter.insertTextBefore(r,t.chars,n):this.treeAdapter.insertText(r,t.chars)):(r=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(r,t.chars)),!t.location)return;let s=this.treeAdapter.getChildNodes(r),i=n?s.lastIndexOf(n):s.length,a=s[i-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){let{endLine:c,endCol:u,endOffset:l}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:c,endCol:u,endOffset:l})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}_adoptNodes(t,r){for(let n=this.treeAdapter.getFirstChild(t);n;n=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(r,n)}_setEndLocation(t,r){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&r.location){let n=r.location,s=this.treeAdapter.getTagName(t),i=r.type===St.END_TAG&&s===r.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,i)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let r,n;return this.openElements.stackTop===0&&this.fragmentContext?(r=this.fragmentContext,n=this.fragmentContextID):{current:r,currentTagId:n}=this.openElements,t.tagID===v.SVG&&this.treeAdapter.getTagName(r)===se.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(r)===le.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===v.MGLYPH||t.tagID===v.MALIGNMARK)&&n!==void 0&&!this._isIntegrationPoint(n,r,le.HTML)}_processToken(t){switch(t.type){case St.CHARACTER:{this.onCharacter(t);break}case St.NULL_CHARACTER:{this.onNullCharacter(t);break}case St.COMMENT:{this.onComment(t);break}case St.DOCTYPE:{this.onDoctype(t);break}case St.START_TAG:{this._processStartTag(t);break}case St.END_TAG:{this.onEndTag(t);break}case St.EOF:{this.onEof(t);break}case St.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,r,n){let s=this.treeAdapter.getNamespaceURI(r),i=this.treeAdapter.getAttrList(r);return Sie(t,s,i,n)}_reconstructActiveFormattingElements(){let t=this.activeFormattingElements.entries.length;if(t){let r=this.activeFormattingElements.entries.findIndex(s=>s.type===aa.Marker||this.openElements.contains(s.element)),n=r===-1?t-1:r-1;for(let s=n;s>=0;s--){let i=this.activeFormattingElements.entries[s];this._insertElement(i.token,this.treeAdapter.getNamespaceURI(i.element)),i.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=K.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(v.P),this.openElements.popUntilTagNamePopped(v.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case v.TR:{this.insertionMode=K.IN_ROW;return}case v.TBODY:case v.THEAD:case v.TFOOT:{this.insertionMode=K.IN_TABLE_BODY;return}case v.CAPTION:{this.insertionMode=K.IN_CAPTION;return}case v.COLGROUP:{this.insertionMode=K.IN_COLUMN_GROUP;return}case v.TABLE:{this.insertionMode=K.IN_TABLE;return}case v.BODY:{this.insertionMode=K.IN_BODY;return}case v.FRAMESET:{this.insertionMode=K.IN_FRAMESET;return}case v.SELECT:{this._resetInsertionModeForSelect(t);return}case v.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case v.HTML:{this.insertionMode=this.headElement?K.AFTER_HEAD:K.BEFORE_HEAD;return}case v.TD:case v.TH:{if(t>0){this.insertionMode=K.IN_CELL;return}break}case v.HEAD:{if(t>0){this.insertionMode=K.IN_HEAD;return}break}}this.insertionMode=K.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let r=t-1;r>0;r--){let n=this.openElements.tagIDs[r];if(n===v.TEMPLATE)break;if(n===v.TABLE){this.insertionMode=K.IN_SELECT_IN_TABLE;return}}this.insertionMode=K.IN_SELECT}_isElementCausesFosterParenting(t){return kie.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){let r=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case v.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(r)===le.HTML)return{parent:this.treeAdapter.getTemplateContent(r),beforeElement:null};break}case v.TABLE:{let n=this.treeAdapter.getParentNode(r);return n?{parent:n,beforeElement:r}:{parent:this.openElements.items[t-1],beforeElement:null}}default:}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){let r=this._findFosterParentingLocation();r.beforeElement?this.treeAdapter.insertBefore(r.parent,t,r.beforeElement):this.treeAdapter.appendChild(r.parent,t)}_isSpecialElement(t,r){let n=this.treeAdapter.getNamespaceURI(t);return nD[n].has(r)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){bJe(this,t);return}switch(this.insertionMode){case K.INITIAL:{Tg(this,t);break}case K.BEFORE_HTML:{Rg(this,t);break}case K.BEFORE_HEAD:{Ng(this,t);break}case K.IN_HEAD:{kg(this,t);break}case K.IN_HEAD_NO_SCRIPT:{Dg(this,t);break}case K.AFTER_HEAD:{Pg(this,t);break}case K.IN_BODY:case K.IN_CAPTION:case K.IN_CELL:case K.IN_TEMPLATE:{Pie(this,t);break}case K.TEXT:case K.IN_SELECT:case K.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case K.IN_TABLE:case K.IN_TABLE_BODY:case K.IN_ROW:{oD(this,t);break}case K.IN_TABLE_TEXT:{Qie(this,t);break}case K.IN_COLUMN_GROUP:{Ov(this,t);break}case K.AFTER_BODY:{$v(this,t);break}case K.AFTER_AFTER_BODY:{Pv(this,t);break}default:}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){yJe(this,t);return}switch(this.insertionMode){case K.INITIAL:{Tg(this,t);break}case K.BEFORE_HTML:{Rg(this,t);break}case K.BEFORE_HEAD:{Ng(this,t);break}case K.IN_HEAD:{kg(this,t);break}case K.IN_HEAD_NO_SCRIPT:{Dg(this,t);break}case K.AFTER_HEAD:{Pg(this,t);break}case K.TEXT:{this._insertCharacters(t);break}case K.IN_TABLE:case K.IN_TABLE_BODY:case K.IN_ROW:{oD(this,t);break}case K.IN_COLUMN_GROUP:{Ov(this,t);break}case K.AFTER_BODY:{$v(this,t);break}case K.AFTER_AFTER_BODY:{Pv(this,t);break}default:}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){cD(this,t);return}switch(this.insertionMode){case K.INITIAL:case K.BEFORE_HTML:case K.BEFORE_HEAD:case K.IN_HEAD:case K.IN_HEAD_NO_SCRIPT:case K.AFTER_HEAD:case K.IN_BODY:case K.IN_TABLE:case K.IN_CAPTION:case K.IN_COLUMN_GROUP:case K.IN_TABLE_BODY:case K.IN_ROW:case K.IN_CELL:case K.IN_SELECT:case K.IN_SELECT_IN_TABLE:case K.IN_TEMPLATE:case K.IN_FRAMESET:case K.AFTER_FRAMESET:{cD(this,t);break}case K.IN_TABLE_TEXT:{Bg(this,t);break}case K.AFTER_BODY:{WYe(this,t);break}case K.AFTER_AFTER_BODY:case K.AFTER_AFTER_FRAMESET:{JYe(this,t);break}default:}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case K.INITIAL:{XYe(this,t);break}case K.BEFORE_HEAD:case K.IN_HEAD:case K.IN_HEAD_NO_SCRIPT:case K.AFTER_HEAD:{this._err(t,oe.misplacedDoctype);break}case K.IN_TABLE_TEXT:{Bg(this,t);break}default:}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,oe.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?EJe(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case K.INITIAL:{Tg(this,t);break}case K.BEFORE_HTML:{ZYe(this,t);break}case K.BEFORE_HEAD:{tWe(this,t);break}case K.IN_HEAD:{oa(this,t);break}case K.IN_HEAD_NO_SCRIPT:{sWe(this,t);break}case K.AFTER_HEAD:{aWe(this,t);break}case K.IN_BODY:{es(this,t);break}case K.IN_TABLE:{Rp(this,t);break}case K.IN_TABLE_TEXT:{Bg(this,t);break}case K.IN_CAPTION:{rJe(this,t);break}case K.IN_COLUMN_GROUP:{fD(this,t);break}case K.IN_TABLE_BODY:{Fv(this,t);break}case K.IN_ROW:{Qv(this,t);break}case K.IN_CELL:{iJe(this,t);break}case K.IN_SELECT:{jie(this,t);break}case K.IN_SELECT_IN_TABLE:{oJe(this,t);break}case K.IN_TEMPLATE:{uJe(this,t);break}case K.AFTER_BODY:{dJe(this,t);break}case K.IN_FRAMESET:{fJe(this,t);break}case K.AFTER_FRAMESET:{hJe(this,t);break}case K.AFTER_AFTER_BODY:{gJe(this,t);break}case K.AFTER_AFTER_FRAMESET:{AJe(this,t);break}default:}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?xJe(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case K.INITIAL:{Tg(this,t);break}case K.BEFORE_HTML:{eWe(this,t);break}case K.BEFORE_HEAD:{rWe(this,t);break}case K.IN_HEAD:{nWe(this,t);break}case K.IN_HEAD_NO_SCRIPT:{iWe(this,t);break}case K.AFTER_HEAD:{oWe(this,t);break}case K.IN_BODY:{Mv(this,t);break}case K.TEXT:{GWe(this,t);break}case K.IN_TABLE:{Og(this,t);break}case K.IN_TABLE_TEXT:{Bg(this,t);break}case K.IN_CAPTION:{nJe(this,t);break}case K.IN_COLUMN_GROUP:{sJe(this,t);break}case K.IN_TABLE_BODY:{uD(this,t);break}case K.IN_ROW:{qie(this,t);break}case K.IN_CELL:{aJe(this,t);break}case K.IN_SELECT:{Hie(this,t);break}case K.IN_SELECT_IN_TABLE:{cJe(this,t);break}case K.IN_TEMPLATE:{lJe(this,t);break}case K.AFTER_BODY:{Gie(this,t);break}case K.IN_FRAMESET:{pJe(this,t);break}case K.AFTER_FRAMESET:{mJe(this,t);break}case K.AFTER_AFTER_BODY:{Pv(this,t);break}default:}}onEof(t){switch(this.insertionMode){case K.INITIAL:{Tg(this,t);break}case K.BEFORE_HTML:{Rg(this,t);break}case K.BEFORE_HEAD:{Ng(this,t);break}case K.IN_HEAD:{kg(this,t);break}case K.IN_HEAD_NO_SCRIPT:{Dg(this,t);break}case K.AFTER_HEAD:{Pg(this,t);break}case K.IN_BODY:case K.IN_TABLE:case K.IN_CAPTION:case K.IN_COLUMN_GROUP:case K.IN_TABLE_BODY:case K.IN_ROW:case K.IN_CELL:case K.IN_SELECT:case K.IN_SELECT_IN_TABLE:{Mie(this,t);break}case K.TEXT:{VWe(this,t);break}case K.IN_TABLE_TEXT:{Bg(this,t);break}case K.IN_TEMPLATE:{zie(this,t);break}case K.AFTER_BODY:case K.IN_FRAMESET:case K.AFTER_FRAMESET:case K.AFTER_AFTER_BODY:case K.AFTER_AFTER_FRAMESET:{dD(this,t);break}default:}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===M.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case K.IN_HEAD:case K.IN_HEAD_NO_SCRIPT:case K.AFTER_HEAD:case K.TEXT:case K.IN_COLUMN_GROUP:case K.IN_SELECT:case K.IN_SELECT_IN_TABLE:case K.IN_FRAMESET:case K.AFTER_FRAMESET:{this._insertCharacters(t);break}case K.IN_BODY:case K.IN_CAPTION:case K.IN_CELL:case K.IN_TEMPLATE:case K.AFTER_BODY:case K.AFTER_AFTER_BODY:case K.AFTER_AFTER_FRAMESET:{Die(this,t);break}case K.IN_TABLE:case K.IN_TABLE_BODY:case K.IN_ROW:{oD(this,t);break}case K.IN_TABLE_TEXT:{Fie(this,t);break}default:}}};function HYe(e,t){let r=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return r?e.openElements.contains(r.element)?e.openElements.hasInScope(t.tagID)||(r=null):(e.activeFormattingElements.removeEntry(r),r=null):Lie(e,t),r}function zYe(e,t){let r=null,n=e.openElements.stackTop;for(;n>=0;n--){let s=e.openElements.items[n];if(s===t.element)break;e._isSpecialElement(s,e.openElements.tagIDs[n])&&(r=s)}return r||(e.openElements.shortenToLength(Math.max(n,0)),e.activeFormattingElements.removeEntry(t)),r}function GYe(e,t,r){let n=t,s=e.openElements.getCommonAncestor(t);for(let i=0,a=s;a!==r;i++,a=s){s=e.openElements.getCommonAncestor(a);let o=e.activeFormattingElements.getElementEntry(a),c=o&&i>=qYe;!o||c?(c&&e.activeFormattingElements.removeEntry(o),e.openElements.remove(a)):(a=VYe(e,o),n===t&&(e.activeFormattingElements.bookmark=o),e.treeAdapter.detachNode(n),e.treeAdapter.appendChild(a,n),n=a)}return n}function VYe(e,t){let r=e.treeAdapter.getNamespaceURI(t.element),n=e.treeAdapter.createElement(t.token.tagName,r,t.token.attrs);return e.openElements.replace(t.element,n),t.element=n,n}function KYe(e,t,r){let n=e.treeAdapter.getTagName(t),s=du(n);if(e._isElementCausesFosterParenting(s))e._fosterParentElement(r);else{let i=e.treeAdapter.getNamespaceURI(t);s===v.TEMPLATE&&i===le.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,r)}}function YYe(e,t,r){let n=e.treeAdapter.getNamespaceURI(r.element),{token:s}=r,i=e.treeAdapter.createElement(s.tagName,n,s.attrs);e._adoptNodes(t,i),e.treeAdapter.appendChild(t,i),e.activeFormattingElements.insertElementAfterBookmark(i,s),e.activeFormattingElements.removeEntry(r),e.openElements.remove(r.element),e.openElements.insertAfter(t,i,s.tagID)}function lD(e,t){for(let r=0;r<UYe;r++){let n=HYe(e,t);if(!n)break;let s=zYe(e,n);if(!s)break;e.activeFormattingElements.bookmark=n;let i=GYe(e,s,n.element),a=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(i),a&&KYe(e,a,i),YYe(e,s,n)}}function cD(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function WYe(e,t){e._appendCommentNode(t,e.openElements.items[0])}function JYe(e,t){e._appendCommentNode(t,e.document)}function dD(e,t){if(e.stopped=!0,t.location){let r=e.fragmentContext?0:2;for(let n=e.openElements.stackTop;n>=r;n--)e._setEndLocation(e.openElements.items[n],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){let n=e.openElements.items[0],s=e.treeAdapter.getNodeSourceCodeLocation(n);if(s&&!s.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){let i=e.openElements.items[1],a=e.treeAdapter.getNodeSourceCodeLocation(i);a&&!a.endTag&&e._setEndLocation(i,t)}}}}function XYe(e,t){e._setDocumentType(t);let r=t.forceQuirks?Xn.QUIRKS:_ie(t);vie(t)||e._err(t,oe.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,r),e.insertionMode=K.BEFORE_HTML}function Tg(e,t){e._err(t,oe.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Xn.QUIRKS),e.insertionMode=K.BEFORE_HTML,e._processToken(t)}function ZYe(e,t){t.tagID===v.HTML?(e._insertElement(t,le.HTML),e.insertionMode=K.BEFORE_HEAD):Rg(e,t)}function eWe(e,t){let r=t.tagID;(r===v.HTML||r===v.HEAD||r===v.BODY||r===v.BR)&&Rg(e,t)}function Rg(e,t){e._insertFakeRootElement(),e.insertionMode=K.BEFORE_HEAD,e._processToken(t)}function tWe(e,t){switch(t.tagID){case v.HTML:{es(e,t);break}case v.HEAD:{e._insertElement(t,le.HTML),e.headElement=e.openElements.current,e.insertionMode=K.IN_HEAD;break}default:Ng(e,t)}}function rWe(e,t){let r=t.tagID;r===v.HEAD||r===v.BODY||r===v.HTML||r===v.BR?Ng(e,t):e._err(t,oe.endTagWithoutMatchingOpenElement)}function Ng(e,t){e._insertFakeElement(se.HEAD,v.HEAD),e.headElement=e.openElements.current,e.insertionMode=K.IN_HEAD,e._processToken(t)}function oa(e,t){switch(t.tagID){case v.HTML:{es(e,t);break}case v.BASE:case v.BASEFONT:case v.BGSOUND:case v.LINK:case v.META:{e._appendElement(t,le.HTML),t.ackSelfClosing=!0;break}case v.TITLE:{e._switchToTextParsing(t,Zn.RCDATA);break}case v.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Zn.RAWTEXT):(e._insertElement(t,le.HTML),e.insertionMode=K.IN_HEAD_NO_SCRIPT);break}case v.NOFRAMES:case v.STYLE:{e._switchToTextParsing(t,Zn.RAWTEXT);break}case v.SCRIPT:{e._switchToTextParsing(t,Zn.SCRIPT_DATA);break}case v.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=K.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(K.IN_TEMPLATE);break}case v.HEAD:{e._err(t,oe.misplacedStartTagForHeadElement);break}default:kg(e,t)}}function nWe(e,t){switch(t.tagID){case v.HEAD:{e.openElements.pop(),e.insertionMode=K.AFTER_HEAD;break}case v.BODY:case v.BR:case v.HTML:{kg(e,t);break}case v.TEMPLATE:{Vl(e,t);break}default:e._err(t,oe.endTagWithoutMatchingOpenElement)}}function Vl(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==v.TEMPLATE&&e._err(t,oe.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(v.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,oe.endTagWithoutMatchingOpenElement)}function kg(e,t){e.openElements.pop(),e.insertionMode=K.AFTER_HEAD,e._processToken(t)}function sWe(e,t){switch(t.tagID){case v.HTML:{es(e,t);break}case v.BASEFONT:case v.BGSOUND:case v.HEAD:case v.LINK:case v.META:case v.NOFRAMES:case v.STYLE:{oa(e,t);break}case v.NOSCRIPT:{e._err(t,oe.nestedNoscriptInHead);break}default:Dg(e,t)}}function iWe(e,t){switch(t.tagID){case v.NOSCRIPT:{e.openElements.pop(),e.insertionMode=K.IN_HEAD;break}case v.BR:{Dg(e,t);break}default:e._err(t,oe.endTagWithoutMatchingOpenElement)}}function Dg(e,t){let r=t.type===St.EOF?oe.openElementsLeftAfterEof:oe.disallowedContentInNoscriptInHead;e._err(t,r),e.openElements.pop(),e.insertionMode=K.IN_HEAD,e._processToken(t)}function aWe(e,t){switch(t.tagID){case v.HTML:{es(e,t);break}case v.BODY:{e._insertElement(t,le.HTML),e.framesetOk=!1,e.insertionMode=K.IN_BODY;break}case v.FRAMESET:{e._insertElement(t,le.HTML),e.insertionMode=K.IN_FRAMESET;break}case v.BASE:case v.BASEFONT:case v.BGSOUND:case v.LINK:case v.META:case v.NOFRAMES:case v.SCRIPT:case v.STYLE:case v.TEMPLATE:case v.TITLE:{e._err(t,oe.abandonedHeadElementChild),e.openElements.push(e.headElement,v.HEAD),oa(e,t),e.openElements.remove(e.headElement);break}case v.HEAD:{e._err(t,oe.misplacedStartTagForHeadElement);break}default:Pg(e,t)}}function oWe(e,t){switch(t.tagID){case v.BODY:case v.HTML:case v.BR:{Pg(e,t);break}case v.TEMPLATE:{Vl(e,t);break}default:e._err(t,oe.endTagWithoutMatchingOpenElement)}}function Pg(e,t){e._insertFakeElement(se.BODY,v.BODY),e.insertionMode=K.IN_BODY,Lv(e,t)}function Lv(e,t){switch(t.type){case St.CHARACTER:{Pie(e,t);break}case St.WHITESPACE_CHARACTER:{Die(e,t);break}case St.COMMENT:{cD(e,t);break}case St.START_TAG:{es(e,t);break}case St.END_TAG:{Mv(e,t);break}case St.EOF:{Mie(e,t);break}default:}}function Die(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function Pie(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function cWe(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function uWe(e,t){let r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(r,t.attrs))}function lWe(e,t){let r=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&r&&(e.treeAdapter.detachNode(r),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,le.HTML),e.insertionMode=K.IN_FRAMESET)}function dWe(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,le.HTML)}function fWe(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&Tp.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,le.HTML)}function pWe(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,le.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function hWe(e,t){let r=e.openElements.tmplCount>0;(!e.formElement||r)&&(e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,le.HTML),r||(e.formElement=e.openElements.current))}function mWe(e,t){e.framesetOk=!1;let r=t.tagID;for(let n=e.openElements.stackTop;n>=0;n--){let s=e.openElements.tagIDs[n];if(r===v.LI&&s===v.LI||(r===v.DD||r===v.DT)&&(s===v.DD||s===v.DT)){e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.popUntilTagNamePopped(s);break}if(s!==v.ADDRESS&&s!==v.DIV&&s!==v.P&&e._isSpecialElement(e.openElements.items[n],s))break}e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,le.HTML)}function gWe(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,le.HTML),e.tokenizer.state=Zn.PLAINTEXT}function AWe(e,t){e.openElements.hasInScope(v.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(v.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,le.HTML),e.framesetOk=!1}function yWe(e,t){let r=e.activeFormattingElements.getElementEntryInScopeWithTagName(se.A);r&&(lD(e,t),e.openElements.remove(r.element),e.activeFormattingElements.removeEntry(r)),e._reconstructActiveFormattingElements(),e._insertElement(t,le.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function bWe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,le.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function EWe(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(v.NOBR)&&(lD(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,le.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function xWe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,le.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function vWe(e,t){e.treeAdapter.getDocumentMode(e.document)!==Xn.QUIRKS&&e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,le.HTML),e.framesetOk=!1,e.insertionMode=K.IN_TABLE}function Oie(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,le.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function $ie(e){let t=Cv(e,za.TYPE);return t!=null&&t.toLowerCase()===QYe}function _We(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,le.HTML),$ie(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function IWe(e,t){e._appendElement(t,le.HTML),t.ackSelfClosing=!0}function CWe(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._appendElement(t,le.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function wWe(e,t){t.tagName=se.IMG,t.tagID=v.IMG,Oie(e,t)}function SWe(e,t){e._insertElement(t,le.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Zn.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=K.TEXT}function TWe(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Zn.RAWTEXT)}function BWe(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Zn.RAWTEXT)}function Rie(e,t){e._switchToTextParsing(t,Zn.RAWTEXT)}function RWe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,le.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===K.IN_TABLE||e.insertionMode===K.IN_CAPTION||e.insertionMode===K.IN_TABLE_BODY||e.insertionMode===K.IN_ROW||e.insertionMode===K.IN_CELL?K.IN_SELECT_IN_TABLE:K.IN_SELECT}function NWe(e,t){e.openElements.currentTagId===v.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,le.HTML)}function kWe(e,t){e.openElements.hasInScope(v.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,le.HTML)}function DWe(e,t){e.openElements.hasInScope(v.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(v.RTC),e._insertElement(t,le.HTML)}function PWe(e,t){e._reconstructActiveFormattingElements(),iD(t),Dv(t),t.selfClosing?e._appendElement(t,le.MATHML):e._insertElement(t,le.MATHML),t.ackSelfClosing=!0}function OWe(e,t){e._reconstructActiveFormattingElements(),aD(t),Dv(t),t.selfClosing?e._appendElement(t,le.SVG):e._insertElement(t,le.SVG),t.ackSelfClosing=!0}function Nie(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,le.HTML)}function es(e,t){switch(t.tagID){case v.I:case v.S:case v.B:case v.U:case v.EM:case v.TT:case v.BIG:case v.CODE:case v.FONT:case v.SMALL:case v.STRIKE:case v.STRONG:{bWe(e,t);break}case v.A:{yWe(e,t);break}case v.H1:case v.H2:case v.H3:case v.H4:case v.H5:case v.H6:{fWe(e,t);break}case v.P:case v.DL:case v.OL:case v.UL:case v.DIV:case v.DIR:case v.NAV:case v.MAIN:case v.MENU:case v.ASIDE:case v.CENTER:case v.FIGURE:case v.FOOTER:case v.HEADER:case v.HGROUP:case v.DIALOG:case v.DETAILS:case v.ADDRESS:case v.ARTICLE:case v.SEARCH:case v.SECTION:case v.SUMMARY:case v.FIELDSET:case v.BLOCKQUOTE:case v.FIGCAPTION:{dWe(e,t);break}case v.LI:case v.DD:case v.DT:{mWe(e,t);break}case v.BR:case v.IMG:case v.WBR:case v.AREA:case v.EMBED:case v.KEYGEN:{Oie(e,t);break}case v.HR:{CWe(e,t);break}case v.RB:case v.RTC:{kWe(e,t);break}case v.RT:case v.RP:{DWe(e,t);break}case v.PRE:case v.LISTING:{pWe(e,t);break}case v.XMP:{TWe(e,t);break}case v.SVG:{OWe(e,t);break}case v.HTML:{cWe(e,t);break}case v.BASE:case v.LINK:case v.META:case v.STYLE:case v.TITLE:case v.SCRIPT:case v.BGSOUND:case v.BASEFONT:case v.TEMPLATE:{oa(e,t);break}case v.BODY:{uWe(e,t);break}case v.FORM:{hWe(e,t);break}case v.NOBR:{EWe(e,t);break}case v.MATH:{PWe(e,t);break}case v.TABLE:{vWe(e,t);break}case v.INPUT:{_We(e,t);break}case v.PARAM:case v.TRACK:case v.SOURCE:{IWe(e,t);break}case v.IMAGE:{wWe(e,t);break}case v.BUTTON:{AWe(e,t);break}case v.APPLET:case v.OBJECT:case v.MARQUEE:{xWe(e,t);break}case v.IFRAME:{BWe(e,t);break}case v.SELECT:{RWe(e,t);break}case v.OPTION:case v.OPTGROUP:{NWe(e,t);break}case v.NOEMBED:case v.NOFRAMES:{Rie(e,t);break}case v.FRAMESET:{lWe(e,t);break}case v.TEXTAREA:{SWe(e,t);break}case v.NOSCRIPT:{e.options.scriptingEnabled?Rie(e,t):Nie(e,t);break}case v.PLAINTEXT:{gWe(e,t);break}case v.COL:case v.TH:case v.TD:case v.TR:case v.HEAD:case v.FRAME:case v.TBODY:case v.TFOOT:case v.THEAD:case v.CAPTION:case v.COLGROUP:break;default:Nie(e,t)}}function $We(e,t){if(e.openElements.hasInScope(v.BODY)&&(e.insertionMode=K.AFTER_BODY,e.options.sourceCodeLocationInfo)){let r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e._setEndLocation(r,t)}}function LWe(e,t){e.openElements.hasInScope(v.BODY)&&(e.insertionMode=K.AFTER_BODY,Gie(e,t))}function MWe(e,t){let r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r))}function FWe(e){let t=e.openElements.tmplCount>0,{formElement:r}=e;t||(e.formElement=null),(r||t)&&e.openElements.hasInScope(v.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(v.FORM):r&&e.openElements.remove(r))}function QWe(e){e.openElements.hasInButtonScope(v.P)||e._insertFakeElement(se.P,v.P),e._closePElement()}function UWe(e){e.openElements.hasInListItemScope(v.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(v.LI),e.openElements.popUntilTagNamePopped(v.LI))}function qWe(e,t){let r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.popUntilTagNamePopped(r))}function jWe(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function HWe(e,t){let r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker())}function zWe(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(se.BR,v.BR),e.openElements.pop(),e.framesetOk=!1}function Lie(e,t){let r=t.tagName,n=t.tagID;for(let s=e.openElements.stackTop;s>0;s--){let i=e.openElements.items[s],a=e.openElements.tagIDs[s];if(n===a&&(n!==v.UNKNOWN||e.treeAdapter.getTagName(i)===r)){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.stackTop>=s&&e.openElements.shortenToLength(s);break}if(e._isSpecialElement(i,a))break}}function Mv(e,t){switch(t.tagID){case v.A:case v.B:case v.I:case v.S:case v.U:case v.EM:case v.TT:case v.BIG:case v.CODE:case v.FONT:case v.NOBR:case v.SMALL:case v.STRIKE:case v.STRONG:{lD(e,t);break}case v.P:{QWe(e);break}case v.DL:case v.UL:case v.OL:case v.DIR:case v.DIV:case v.NAV:case v.PRE:case v.MAIN:case v.MENU:case v.ASIDE:case v.BUTTON:case v.CENTER:case v.FIGURE:case v.FOOTER:case v.HEADER:case v.HGROUP:case v.DIALOG:case v.ADDRESS:case v.ARTICLE:case v.DETAILS:case v.SEARCH:case v.SECTION:case v.SUMMARY:case v.LISTING:case v.FIELDSET:case v.BLOCKQUOTE:case v.FIGCAPTION:{MWe(e,t);break}case v.LI:{UWe(e);break}case v.DD:case v.DT:{qWe(e,t);break}case v.H1:case v.H2:case v.H3:case v.H4:case v.H5:case v.H6:{jWe(e);break}case v.BR:{zWe(e);break}case v.BODY:{$We(e,t);break}case v.HTML:{LWe(e,t);break}case v.FORM:{FWe(e);break}case v.APPLET:case v.OBJECT:case v.MARQUEE:{HWe(e,t);break}case v.TEMPLATE:{Vl(e,t);break}default:Lie(e,t)}}function Mie(e,t){e.tmplInsertionModeStack.length>0?zie(e,t):dD(e,t)}function GWe(e,t){var r;t.tagID===v.SCRIPT&&((r=e.scriptHandler)===null||r===void 0||r.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function VWe(e,t){e._err(t,oe.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function oD(e,t){if(e.openElements.currentTagId!==void 0&&kie.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=K.IN_TABLE_TEXT,t.type){case St.CHARACTER:{Qie(e,t);break}case St.WHITESPACE_CHARACTER:{Fie(e,t);break}}else $g(e,t)}function KWe(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,le.HTML),e.insertionMode=K.IN_CAPTION}function YWe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,le.HTML),e.insertionMode=K.IN_COLUMN_GROUP}function WWe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(se.COLGROUP,v.COLGROUP),e.insertionMode=K.IN_COLUMN_GROUP,fD(e,t)}function JWe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,le.HTML),e.insertionMode=K.IN_TABLE_BODY}function XWe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(se.TBODY,v.TBODY),e.insertionMode=K.IN_TABLE_BODY,Fv(e,t)}function ZWe(e,t){e.openElements.hasInTableScope(v.TABLE)&&(e.openElements.popUntilTagNamePopped(v.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function eJe(e,t){$ie(t)?e._appendElement(t,le.HTML):$g(e,t),t.ackSelfClosing=!0}function tJe(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,le.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Rp(e,t){switch(t.tagID){case v.TD:case v.TH:case v.TR:{XWe(e,t);break}case v.STYLE:case v.SCRIPT:case v.TEMPLATE:{oa(e,t);break}case v.COL:{WWe(e,t);break}case v.FORM:{tJe(e,t);break}case v.TABLE:{ZWe(e,t);break}case v.TBODY:case v.TFOOT:case v.THEAD:{JWe(e,t);break}case v.INPUT:{eJe(e,t);break}case v.CAPTION:{KWe(e,t);break}case v.COLGROUP:{YWe(e,t);break}default:$g(e,t)}}function Og(e,t){switch(t.tagID){case v.TABLE:{e.openElements.hasInTableScope(v.TABLE)&&(e.openElements.popUntilTagNamePopped(v.TABLE),e._resetInsertionMode());break}case v.TEMPLATE:{Vl(e,t);break}case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:case v.TBODY:case v.TD:case v.TFOOT:case v.TH:case v.THEAD:case v.TR:break;default:$g(e,t)}}function $g(e,t){let r=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Lv(e,t),e.fosterParentingEnabled=r}function Fie(e,t){e.pendingCharacterTokens.push(t)}function Qie(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Bg(e,t){let r=0;if(e.hasNonWhitespacePendingCharacterToken)for(;r<e.pendingCharacterTokens.length;r++)$g(e,e.pendingCharacterTokens[r]);else for(;r<e.pendingCharacterTokens.length;r++)e._insertCharacters(e.pendingCharacterTokens[r]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}var Uie=new Set([v.CAPTION,v.COL,v.COLGROUP,v.TBODY,v.TD,v.TFOOT,v.TH,v.THEAD,v.TR]);function rJe(e,t){let r=t.tagID;Uie.has(r)?e.openElements.hasInTableScope(v.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(v.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=K.IN_TABLE,Rp(e,t)):es(e,t)}function nJe(e,t){let r=t.tagID;switch(r){case v.CAPTION:case v.TABLE:{e.openElements.hasInTableScope(v.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(v.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=K.IN_TABLE,r===v.TABLE&&Og(e,t));break}case v.BODY:case v.COL:case v.COLGROUP:case v.HTML:case v.TBODY:case v.TD:case v.TFOOT:case v.TH:case v.THEAD:case v.TR:break;default:Mv(e,t)}}function fD(e,t){switch(t.tagID){case v.HTML:{es(e,t);break}case v.COL:{e._appendElement(t,le.HTML),t.ackSelfClosing=!0;break}case v.TEMPLATE:{oa(e,t);break}default:Ov(e,t)}}function sJe(e,t){switch(t.tagID){case v.COLGROUP:{e.openElements.currentTagId===v.COLGROUP&&(e.openElements.pop(),e.insertionMode=K.IN_TABLE);break}case v.TEMPLATE:{Vl(e,t);break}case v.COL:break;default:Ov(e,t)}}function Ov(e,t){e.openElements.currentTagId===v.COLGROUP&&(e.openElements.pop(),e.insertionMode=K.IN_TABLE,e._processToken(t))}function Fv(e,t){switch(t.tagID){case v.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,le.HTML),e.insertionMode=K.IN_ROW;break}case v.TH:case v.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(se.TR,v.TR),e.insertionMode=K.IN_ROW,Qv(e,t);break}case v.CAPTION:case v.COL:case v.COLGROUP:case v.TBODY:case v.TFOOT:case v.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=K.IN_TABLE,Rp(e,t));break}default:Rp(e,t)}}function uD(e,t){let r=t.tagID;switch(t.tagID){case v.TBODY:case v.TFOOT:case v.THEAD:{e.openElements.hasInTableScope(r)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=K.IN_TABLE);break}case v.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=K.IN_TABLE,Og(e,t));break}case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:case v.TD:case v.TH:case v.TR:break;default:Og(e,t)}}function Qv(e,t){switch(t.tagID){case v.TH:case v.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,le.HTML),e.insertionMode=K.IN_CELL,e.activeFormattingElements.insertMarker();break}case v.CAPTION:case v.COL:case v.COLGROUP:case v.TBODY:case v.TFOOT:case v.THEAD:case v.TR:{e.openElements.hasInTableScope(v.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=K.IN_TABLE_BODY,Fv(e,t));break}default:Rp(e,t)}}function qie(e,t){switch(t.tagID){case v.TR:{e.openElements.hasInTableScope(v.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=K.IN_TABLE_BODY);break}case v.TABLE:{e.openElements.hasInTableScope(v.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=K.IN_TABLE_BODY,uD(e,t));break}case v.TBODY:case v.TFOOT:case v.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(v.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=K.IN_TABLE_BODY,uD(e,t));break}case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:case v.TD:case v.TH:break;default:Og(e,t)}}function iJe(e,t){let r=t.tagID;Uie.has(r)?(e.openElements.hasInTableScope(v.TD)||e.openElements.hasInTableScope(v.TH))&&(e._closeTableCell(),Qv(e,t)):es(e,t)}function aJe(e,t){let r=t.tagID;switch(r){case v.TD:case v.TH:{e.openElements.hasInTableScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=K.IN_ROW);break}case v.TABLE:case v.TBODY:case v.TFOOT:case v.THEAD:case v.TR:{e.openElements.hasInTableScope(r)&&(e._closeTableCell(),qie(e,t));break}case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:break;default:Mv(e,t)}}function jie(e,t){switch(t.tagID){case v.HTML:{es(e,t);break}case v.OPTION:{e.openElements.currentTagId===v.OPTION&&e.openElements.pop(),e._insertElement(t,le.HTML);break}case v.OPTGROUP:{e.openElements.currentTagId===v.OPTION&&e.openElements.pop(),e.openElements.currentTagId===v.OPTGROUP&&e.openElements.pop(),e._insertElement(t,le.HTML);break}case v.HR:{e.openElements.currentTagId===v.OPTION&&e.openElements.pop(),e.openElements.currentTagId===v.OPTGROUP&&e.openElements.pop(),e._appendElement(t,le.HTML),t.ackSelfClosing=!0;break}case v.INPUT:case v.KEYGEN:case v.TEXTAREA:case v.SELECT:{e.openElements.hasInSelectScope(v.SELECT)&&(e.openElements.popUntilTagNamePopped(v.SELECT),e._resetInsertionMode(),t.tagID!==v.SELECT&&e._processStartTag(t));break}case v.SCRIPT:case v.TEMPLATE:{oa(e,t);break}default:}}function Hie(e,t){switch(t.tagID){case v.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===v.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===v.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===v.OPTGROUP&&e.openElements.pop();break}case v.OPTION:{e.openElements.currentTagId===v.OPTION&&e.openElements.pop();break}case v.SELECT:{e.openElements.hasInSelectScope(v.SELECT)&&(e.openElements.popUntilTagNamePopped(v.SELECT),e._resetInsertionMode());break}case v.TEMPLATE:{Vl(e,t);break}default:}}function oJe(e,t){let r=t.tagID;r===v.CAPTION||r===v.TABLE||r===v.TBODY||r===v.TFOOT||r===v.THEAD||r===v.TR||r===v.TD||r===v.TH?(e.openElements.popUntilTagNamePopped(v.SELECT),e._resetInsertionMode(),e._processStartTag(t)):jie(e,t)}function cJe(e,t){let r=t.tagID;r===v.CAPTION||r===v.TABLE||r===v.TBODY||r===v.TFOOT||r===v.THEAD||r===v.TR||r===v.TD||r===v.TH?e.openElements.hasInTableScope(r)&&(e.openElements.popUntilTagNamePopped(v.SELECT),e._resetInsertionMode(),e.onEndTag(t)):Hie(e,t)}function uJe(e,t){switch(t.tagID){case v.BASE:case v.BASEFONT:case v.BGSOUND:case v.LINK:case v.META:case v.NOFRAMES:case v.SCRIPT:case v.STYLE:case v.TEMPLATE:case v.TITLE:{oa(e,t);break}case v.CAPTION:case v.COLGROUP:case v.TBODY:case v.TFOOT:case v.THEAD:{e.tmplInsertionModeStack[0]=K.IN_TABLE,e.insertionMode=K.IN_TABLE,Rp(e,t);break}case v.COL:{e.tmplInsertionModeStack[0]=K.IN_COLUMN_GROUP,e.insertionMode=K.IN_COLUMN_GROUP,fD(e,t);break}case v.TR:{e.tmplInsertionModeStack[0]=K.IN_TABLE_BODY,e.insertionMode=K.IN_TABLE_BODY,Fv(e,t);break}case v.TD:case v.TH:{e.tmplInsertionModeStack[0]=K.IN_ROW,e.insertionMode=K.IN_ROW,Qv(e,t);break}default:e.tmplInsertionModeStack[0]=K.IN_BODY,e.insertionMode=K.IN_BODY,es(e,t)}}function lJe(e,t){t.tagID===v.TEMPLATE&&Vl(e,t)}function zie(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(v.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):dD(e,t)}function dJe(e,t){t.tagID===v.HTML?es(e,t):$v(e,t)}function Gie(e,t){var r;if(t.tagID===v.HTML){if(e.fragmentContext||(e.insertionMode=K.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===v.HTML){e._setEndLocation(e.openElements.items[0],t);let n=e.openElements.items[1];n&&!(!((r=e.treeAdapter.getNodeSourceCodeLocation(n))===null||r===void 0)&&r.endTag)&&e._setEndLocation(n,t)}}else $v(e,t)}function $v(e,t){e.insertionMode=K.IN_BODY,Lv(e,t)}function fJe(e,t){switch(t.tagID){case v.HTML:{es(e,t);break}case v.FRAMESET:{e._insertElement(t,le.HTML);break}case v.FRAME:{e._appendElement(t,le.HTML),t.ackSelfClosing=!0;break}case v.NOFRAMES:{oa(e,t);break}default:}}function pJe(e,t){t.tagID===v.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==v.FRAMESET&&(e.insertionMode=K.AFTER_FRAMESET))}function hJe(e,t){switch(t.tagID){case v.HTML:{es(e,t);break}case v.NOFRAMES:{oa(e,t);break}default:}}function mJe(e,t){t.tagID===v.HTML&&(e.insertionMode=K.AFTER_AFTER_FRAMESET)}function gJe(e,t){t.tagID===v.HTML?es(e,t):Pv(e,t)}function Pv(e,t){e.insertionMode=K.IN_BODY,Lv(e,t)}function AJe(e,t){switch(t.tagID){case v.HTML:{es(e,t);break}case v.NOFRAMES:{oa(e,t);break}default:}}function yJe(e,t){t.chars=hr,e._insertCharacters(t)}function bJe(e,t){e._insertCharacters(t),e.framesetOk=!1}function Vie(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==le.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function EJe(e,t){if(Cie(t))Vie(e),e._startTagOutsideForeignContent(t);else{let r=e._getAdjustedCurrentElement(),n=e.treeAdapter.getNamespaceURI(r);n===le.MATHML?iD(t):n===le.SVG&&(wie(t),aD(t)),Dv(t),t.selfClosing?e._appendElement(t,n):e._insertElement(t,n),t.ackSelfClosing=!0}}function xJe(e,t){if(t.tagID===v.P||t.tagID===v.BR){Vie(e),e._endTagOutsideForeignContent(t);return}for(let r=e.openElements.stackTop;r>0;r--){let n=e.openElements.items[r];if(e.treeAdapter.getNamespaceURI(n)===le.HTML){e._endTagOutsideForeignContent(t);break}let s=e.treeAdapter.getTagName(n);if(s.toLowerCase()===t.tagName){t.tagName=s,e.openElements.shortenToLength(r);break}}}var rvt=String.prototype.codePointAt==null?(e,t)=>(e.charCodeAt(t)&64512)===55296?(e.charCodeAt(t)-55296)*1024+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t):(e,t)=>e.codePointAt(t);function Kie(e,t){return function(n){let s,i=0,a="";for(;s=e.exec(n);)i!==s.index&&(a+=n.substring(i,s.index)),a+=t.get(s[0].charCodeAt(0)),i=s.index+1;return a+n.substring(i)}}var Yie=Kie(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),Wie=Kie(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]));var vJe=new Set([se.AREA,se.BASE,se.BASEFONT,se.BGSOUND,se.BR,se.COL,se.EMBED,se.FRAME,se.HR,se.IMG,se.INPUT,se.KEYGEN,se.LINK,se.META,se.PARAM,se.SOURCE,se.TRACK,se.WBR]);function _Je(e,t){return t.treeAdapter.isElementNode(e)&&t.treeAdapter.getNamespaceURI(e)===le.HTML&&vJe.has(t.treeAdapter.getTagName(e))}var IJe={treeAdapter:Ri,scriptingEnabled:!0};function pD(e,t){let r={...IJe,...t};return Jie(e,r)}function CJe(e,t){let r="",n=t.treeAdapter.isElementNode(e)&&t.treeAdapter.getTagName(e)===se.TEMPLATE&&t.treeAdapter.getNamespaceURI(e)===le.HTML?t.treeAdapter.getTemplateContent(e):e,s=t.treeAdapter.getChildNodes(n);if(s)for(let i of s)r+=Jie(i,t);return r}function Jie(e,t){return t.treeAdapter.isElementNode(e)?wJe(e,t):t.treeAdapter.isTextNode(e)?TJe(e,t):t.treeAdapter.isCommentNode(e)?BJe(e,t):t.treeAdapter.isDocumentTypeNode(e)?RJe(e,t):""}function wJe(e,t){let r=t.treeAdapter.getTagName(e);return`<${r}${SJe(e,t)}>${_Je(e,t)?"":`${CJe(e,t)}</${r}>`}`}function SJe(e,{treeAdapter:t}){let r="";for(let n of t.getAttrList(e)){if(r+=" ",n.namespace)switch(n.namespace){case le.XML:{r+=`xml:${n.name}`;break}case le.XMLNS:{n.name!=="xmlns"&&(r+="xmlns:"),r+=n.name;break}case le.XLINK:{r+=`xlink:${n.name}`;break}default:r+=`${n.prefix}:${n.name}`}else r+=n.name;r+=`="${Yie(n.value)}"`}return r}function TJe(e,t){let{treeAdapter:r}=t,n=r.getTextNodeContent(e),s=r.getParentNode(e),i=s&&r.isElementNode(s)&&r.getTagName(s);return i&&r.getNamespaceURI(s)===le.HTML&&sD(i,t.scriptingEnabled)?n:Wie(n)}function BJe(e,{treeAdapter:t}){return`<!--${t.getCommentNodeContent(e)}-->`}function RJe(e,{treeAdapter:t}){return`<!DOCTYPE ${t.getDocumentTypeNodeName(e)}>`}function Xie(e,t){return Bp.parse(e,t)}function Zie(e,t,r){typeof e=="string"&&(r=t,t=e,e=null);let n=Bp.getFragmentParser(e,r);return n.tokenizer.write(t,!0),n.getFragment()}function eae(e){let t=e.includes('"')?"'":'"';return t+e+t}function NJe(e,t,r){let n="!DOCTYPE ";return e&&(n+=e),t?n+=` PUBLIC ${eae(t)}`:r&&(n+=" SYSTEM"),r&&(n+=` ${eae(r)}`),n}var jo={isCommentNode:jl,isElementNode:$e,isTextNode:Fs,createDocument(){let e=new Js([]);return e["x-mode"]=Tv.DOCUMENT_MODE.NO_QUIRKS,e},createDocumentFragment(){return new Js([])},createElement(e,t,r){let n=Object.create(null),s=Object.create(null),i=Object.create(null);for(let o=0;o<r.length;o++){let c=r[o].name;n[c]=r[o].value,s[c]=r[o].namespace,i[c]=r[o].prefix}let a=new ql(e,n,[]);return a.namespace=t,a["x-attribsNamespace"]=s,a["x-attribsPrefix"]=i,a},createCommentNode(e){return new Ql(e)},createTextNode(e){return new qa(e)},appendChild(e,t){let r=e.children[e.children.length-1];r&&(r.next=t,t.prev=r),e.children.push(t),t.parent=e},insertBefore(e,t,r){let n=e.children.indexOf(r),{prev:s}=r;s&&(s.next=t,t.prev=s),r.prev=t,t.next=r,e.children.splice(n,0,t),t.parent=e},setTemplateContent(e,t){jo.appendChild(e,t)},getTemplateContent(e){return e.children[0]},setDocumentType(e,t,r,n){let s=NJe(t,r,n),i=e.children.find(a=>zx(a)&&a.name==="!doctype");i?i.data=s??null:(i=new Ul("!doctype",s),jo.appendChild(e,i)),i["x-name"]=t,i["x-publicId"]=r,i["x-systemId"]=n},setDocumentMode(e,t){e["x-mode"]=t},getDocumentMode(e){return e["x-mode"]},detachNode(e){if(e.parent){let t=e.parent.children.indexOf(e),{prev:r,next:n}=e;e.prev=null,e.next=null,r&&(r.next=n),n&&(n.prev=r),e.parent.children.splice(t,1),e.parent=null}},insertText(e,t){let r=e.children[e.children.length-1];r&&Fs(r)?r.data+=t:jo.appendChild(e,jo.createTextNode(t))},insertTextBefore(e,t,r){let n=e.children[e.children.indexOf(r)-1];n&&Fs(n)?n.data+=t:jo.insertBefore(e,jo.createTextNode(t),r)},adoptAttributes(e,t){for(let r=0;r<t.length;r++){let n=t[r].name;e.attribs[n]===void 0&&(e.attribs[n]=t[r].value,e["x-attribsNamespace"][n]=t[r].namespace,e["x-attribsPrefix"][n]=t[r].prefix)}},getFirstChild(e){return e.children[0]},getChildNodes(e){return e.children},getParentNode(e){return e.parent},getAttrList(e){return e.attributes},getTagName(e){return e.name},getNamespaceURI(e){return e.namespace},getTextNodeContent(e){return e.data},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){var t;return(t=e["x-name"])!==null&&t!==void 0?t:""},getDocumentTypeNodePublicId(e){var t;return(t=e["x-publicId"])!==null&&t!==void 0?t:""},getDocumentTypeNodeSystemId(e){var t;return(t=e["x-systemId"])!==null&&t!==void 0?t:""},isDocumentTypeNode(e){return zx(e)&&e.name==="!doctype"},setNodeSourceCodeLocation(e,t){t&&(e.startIndex=t.startOffset,e.endIndex=t.endOffset),e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){t.endOffset!=null&&(e.endIndex=t.endOffset),e.sourceCodeLocation={...e.sourceCodeLocation,...t}}};function tae(e,t,r,n){let s={scriptingEnabled:typeof t.scriptingEnabled=="boolean"?t.scriptingEnabled:!0,treeAdapter:jo,sourceCodeLocationInfo:t.sourceCodeLocationInfo};return r?Xie(e,s):Zie(n,e,s)}var kJe={treeAdapter:jo};function rae(e){let t="length"in e?e:[e];for(let n=0;n<t.length;n+=1){let s=t[n];sa(s)&&Array.prototype.splice.call(t,n,1,...s.children)}let r="";for(let n=0;n<t.length;n+=1){let s=t[n];r+=pD(s,kJe)}return r}var Be;(function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"})(Be||(Be={}));var fe;(function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.SpecialStartSequence=23]="SpecialStartSequence",e[e.InSpecialTag=24]="InSpecialTag",e[e.BeforeEntity=25]="BeforeEntity",e[e.BeforeNumericEntity=26]="BeforeNumericEntity",e[e.InNamedEntity=27]="InNamedEntity",e[e.InNumericEntity=28]="InNumericEntity",e[e.InHexEntity=29]="InHexEntity"})(fe||(fe={}));function Ho(e){return e===Be.Space||e===Be.NewLine||e===Be.Tab||e===Be.FormFeed||e===Be.CarriageReturn}function Uv(e){return e===Be.Slash||e===Be.Gt||Ho(e)}function nae(e){return e>=Be.Zero&&e<=Be.Nine}function DJe(e){return e>=Be.LowerA&&e<=Be.LowerZ||e>=Be.UpperA&&e<=Be.UpperZ}function PJe(e){return e>=Be.UpperA&&e<=Be.UpperF||e>=Be.LowerA&&e<=Be.LowerF}var ca;(function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"})(ca||(ca={}));var js={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},Np=class{constructor({xmlMode:t=!1,decodeEntities:r=!0},n){this.cbs=n,this.state=fe.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=fe.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=t,this.decodeEntities=r,this.entityTrie=t?Vx:Gx}reset(){this.state=fe.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=fe.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(t){this.offset+=this.buffer.length,this.buffer=t,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}getIndex(){return this.index}getSectionStart(){return this.sectionStart}stateText(t){t===Be.Lt||!this.decodeEntities&&this.fastForwardTo(Be.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=fe.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&t===Be.Amp&&(this.state=fe.BeforeEntity)}stateSpecialStartSequence(t){let r=this.sequenceIndex===this.currentSequence.length;if(!(r?Uv(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!r){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=fe.InTagName,this.stateInTagName(t)}stateInSpecialTag(t){if(this.sequenceIndex===this.currentSequence.length){if(t===Be.Gt||Ho(t)){let r=this.index-this.currentSequence.length;if(this.sectionStart<r){let n=this.index;this.index=r,this.cbs.ontext(this.sectionStart,r),this.index=n}this.isSpecial=!1,this.sectionStart=r+2,this.stateInClosingTagName(t);return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===js.TitleEnd?this.decodeEntities&&t===Be.Amp&&(this.state=fe.BeforeEntity):this.fastForwardTo(Be.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===Be.Lt)}stateCDATASequence(t){t===js.Cdata[this.sequenceIndex]?++this.sequenceIndex===js.Cdata.length&&(this.state=fe.InCommentLike,this.currentSequence=js.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=fe.InDeclaration,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===t)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===js.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=fe.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(t){return this.xmlMode?!Uv(t):DJe(t)}startSpecial(t,r){this.isSpecial=!0,this.currentSequence=t,this.sequenceIndex=r,this.state=fe.SpecialStartSequence}stateBeforeTagName(t){if(t===Be.ExclamationMark)this.state=fe.BeforeDeclaration,this.sectionStart=this.index+1;else if(t===Be.Questionmark)this.state=fe.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(t)){let r=t|32;this.sectionStart=this.index,!this.xmlMode&&r===js.TitleEnd[2]?this.startSpecial(js.TitleEnd,3):this.state=!this.xmlMode&&r===js.ScriptEnd[2]?fe.BeforeSpecialS:fe.InTagName}else t===Be.Slash?this.state=fe.BeforeClosingTagName:(this.state=fe.Text,this.stateText(t))}stateInTagName(t){Uv(t)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=fe.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateBeforeClosingTagName(t){Ho(t)||(t===Be.Gt?this.state=fe.Text:(this.state=this.isTagStartChar(t)?fe.InClosingTagName:fe.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(t){(t===Be.Gt||Ho(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=fe.AfterClosingTagName,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){(t===Be.Gt||this.fastForwardTo(Be.Gt))&&(this.state=fe.Text,this.baseState=fe.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(t){t===Be.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=fe.InSpecialTag,this.sequenceIndex=0):this.state=fe.Text,this.baseState=this.state,this.sectionStart=this.index+1):t===Be.Slash?this.state=fe.InSelfClosingTag:Ho(t)||(this.state=fe.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===Be.Gt?(this.cbs.onselfclosingtag(this.index),this.state=fe.Text,this.baseState=fe.Text,this.sectionStart=this.index+1,this.isSpecial=!1):Ho(t)||(this.state=fe.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateInAttributeName(t){(t===Be.Eq||Uv(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=fe.AfterAttributeName,this.stateAfterAttributeName(t))}stateAfterAttributeName(t){t===Be.Eq?this.state=fe.BeforeAttributeValue:t===Be.Slash||t===Be.Gt?(this.cbs.onattribend(ca.NoValue,this.index),this.state=fe.BeforeAttributeName,this.stateBeforeAttributeName(t)):Ho(t)||(this.cbs.onattribend(ca.NoValue,this.index),this.state=fe.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(t){t===Be.DoubleQuote?(this.state=fe.InAttributeValueDq,this.sectionStart=this.index+1):t===Be.SingleQuote?(this.state=fe.InAttributeValueSq,this.sectionStart=this.index+1):Ho(t)||(this.sectionStart=this.index,this.state=fe.InAttributeValueNq,this.stateInAttributeValueNoQuotes(t))}handleInAttributeValue(t,r){t===r||!this.decodeEntities&&this.fastForwardTo(r)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(r===Be.DoubleQuote?ca.Double:ca.Single,this.index),this.state=fe.BeforeAttributeName):this.decodeEntities&&t===Be.Amp&&(this.baseState=this.state,this.state=fe.BeforeEntity)}stateInAttributeValueDoubleQuotes(t){this.handleInAttributeValue(t,Be.DoubleQuote)}stateInAttributeValueSingleQuotes(t){this.handleInAttributeValue(t,Be.SingleQuote)}stateInAttributeValueNoQuotes(t){Ho(t)||t===Be.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(ca.Unquoted,this.index),this.state=fe.BeforeAttributeName,this.stateBeforeAttributeName(t)):this.decodeEntities&&t===Be.Amp&&(this.baseState=this.state,this.state=fe.BeforeEntity)}stateBeforeDeclaration(t){t===Be.OpeningSquareBracket?(this.state=fe.CDATASequence,this.sequenceIndex=0):this.state=t===Be.Dash?fe.BeforeComment:fe.InDeclaration}stateInDeclaration(t){(t===Be.Gt||this.fastForwardTo(Be.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=fe.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===Be.Gt||this.fastForwardTo(Be.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=fe.Text,this.sectionStart=this.index+1)}stateBeforeComment(t){t===Be.Dash?(this.state=fe.InCommentLike,this.currentSequence=js.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=fe.InDeclaration}stateInSpecialComment(t){(t===Be.Gt||this.fastForwardTo(Be.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=fe.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){let r=t|32;r===js.ScriptEnd[3]?this.startSpecial(js.ScriptEnd,4):r===js.StyleEnd[3]?this.startSpecial(js.StyleEnd,4):(this.state=fe.InTagName,this.stateInTagName(t))}stateBeforeEntity(t){this.entityExcess=1,this.entityResult=0,t===Be.Number?this.state=fe.BeforeNumericEntity:t===Be.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=fe.InNamedEntity,this.stateInNamedEntity(t))}stateInNamedEntity(t){if(this.entityExcess+=1,this.trieIndex=h6(this.entityTrie,this.trieCurrent,this.trieIndex+1,t),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];let r=this.trieCurrent&wi.VALUE_LENGTH;if(r){let n=(r>>14)-1;if(!this.allowLegacyEntity()&&t!==Be.Semi)this.trieIndex+=n;else{let s=this.index-this.entityExcess+1;s>this.sectionStart&&this.emitPartial(this.sectionStart,s),this.entityResult=this.trieIndex,this.trieIndex+=n,this.entityExcess=0,this.sectionStart=this.index+1,n===0&&this.emitNamedEntity()}}}emitNamedEntity(){if(this.state=this.baseState,this.entityResult===0)return;switch((this.entityTrie[this.entityResult]&wi.VALUE_LENGTH)>>14){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~wi.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}stateBeforeNumericEntity(t){(t|32)===Be.LowerX?(this.entityExcess++,this.state=fe.InHexEntity):(this.state=fe.InNumericEntity,this.stateInNumericEntity(t))}emitNumericEntity(t){let r=this.index-this.entityExcess-1;r+2+ +(this.state===fe.InHexEntity)!==this.index&&(r>this.sectionStart&&this.emitPartial(this.sectionStart,r),this.sectionStart=this.index+Number(t),this.emitCodePoint(mg(this.entityResult))),this.state=this.baseState}stateInNumericEntity(t){t===Be.Semi?this.emitNumericEntity(!0):nae(t)?(this.entityResult=this.entityResult*10+(t-Be.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)}stateInHexEntity(t){t===Be.Semi?this.emitNumericEntity(!0):nae(t)?(this.entityResult=this.entityResult*16+(t-Be.Zero),this.entityExcess++):PJe(t)?(this.entityResult=this.entityResult*16+((t|32)-Be.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)}allowLegacyEntity(){return!this.xmlMode&&(this.baseState===fe.Text||this.baseState===fe.InSpecialTag)}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===fe.Text||this.state===fe.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===fe.InAttributeValueDq||this.state===fe.InAttributeValueSq||this.state===fe.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){let t=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case fe.Text:{this.stateText(t);break}case fe.SpecialStartSequence:{this.stateSpecialStartSequence(t);break}case fe.InSpecialTag:{this.stateInSpecialTag(t);break}case fe.CDATASequence:{this.stateCDATASequence(t);break}case fe.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(t);break}case fe.InAttributeName:{this.stateInAttributeName(t);break}case fe.InCommentLike:{this.stateInCommentLike(t);break}case fe.InSpecialComment:{this.stateInSpecialComment(t);break}case fe.BeforeAttributeName:{this.stateBeforeAttributeName(t);break}case fe.InTagName:{this.stateInTagName(t);break}case fe.InClosingTagName:{this.stateInClosingTagName(t);break}case fe.BeforeTagName:{this.stateBeforeTagName(t);break}case fe.AfterAttributeName:{this.stateAfterAttributeName(t);break}case fe.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(t);break}case fe.BeforeAttributeValue:{this.stateBeforeAttributeValue(t);break}case fe.BeforeClosingTagName:{this.stateBeforeClosingTagName(t);break}case fe.AfterClosingTagName:{this.stateAfterClosingTagName(t);break}case fe.BeforeSpecialS:{this.stateBeforeSpecialS(t);break}case fe.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(t);break}case fe.InSelfClosingTag:{this.stateInSelfClosingTag(t);break}case fe.InDeclaration:{this.stateInDeclaration(t);break}case fe.BeforeDeclaration:{this.stateBeforeDeclaration(t);break}case fe.BeforeComment:{this.stateBeforeComment(t);break}case fe.InProcessingInstruction:{this.stateInProcessingInstruction(t);break}case fe.InNamedEntity:{this.stateInNamedEntity(t);break}case fe.BeforeEntity:{this.stateBeforeEntity(t);break}case fe.InHexEntity:{this.stateInHexEntity(t);break}case fe.InNumericEntity:{this.stateInNumericEntity(t);break}default:this.stateBeforeNumericEntity(t)}this.index++}this.cleanup()}finish(){this.state===fe.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){let t=this.buffer.length+this.offset;this.state===fe.InCommentLike?this.currentSequence===js.CdataEnd?this.cbs.oncdata(this.sectionStart,t,0):this.cbs.oncomment(this.sectionStart,t,0):this.state===fe.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===fe.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===fe.InTagName||this.state===fe.BeforeAttributeName||this.state===fe.BeforeAttributeValue||this.state===fe.AfterAttributeName||this.state===fe.InAttributeName||this.state===fe.InAttributeValueSq||this.state===fe.InAttributeValueDq||this.state===fe.InAttributeValueNq||this.state===fe.InClosingTagName||this.cbs.ontext(this.sectionStart,t)}emitPartial(t,r){this.baseState!==fe.Text&&this.baseState!==fe.InSpecialTag?this.cbs.onattribdata(t,r):this.cbs.ontext(t,r)}emitCodePoint(t){this.baseState!==fe.Text&&this.baseState!==fe.InSpecialTag?this.cbs.onattribentity(t):this.cbs.ontextentity(t)}};var kp=new Set(["input","option","optgroup","select","button","datalist","textarea"]),nr=new Set(["p"]),sae=new Set(["thead","tbody"]),iae=new Set(["dd","dt"]),aae=new Set(["rt","rp"]),OJe=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",nr],["h1",nr],["h2",nr],["h3",nr],["h4",nr],["h5",nr],["h6",nr],["select",kp],["input",kp],["output",kp],["button",kp],["datalist",kp],["textarea",kp],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",iae],["dt",iae],["address",nr],["article",nr],["aside",nr],["blockquote",nr],["details",nr],["div",nr],["dl",nr],["fieldset",nr],["figcaption",nr],["figure",nr],["footer",nr],["form",nr],["header",nr],["hr",nr],["main",nr],["nav",nr],["ol",nr],["pre",nr],["section",nr],["table",nr],["ul",nr],["rt",aae],["rp",aae],["tbody",sae],["tfoot",sae]]),$Je=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),oae=new Set(["math","svg"]),cae=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),LJe=/\s|\//,Lg=class{constructor(t,r={}){var n,s,i,a,o;this.options=r,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=t??{},this.lowerCaseTagNames=(n=r.lowerCaseTags)!==null&&n!==void 0?n:!r.xmlMode,this.lowerCaseAttributeNames=(s=r.lowerCaseAttributeNames)!==null&&s!==void 0?s:!r.xmlMode,this.tokenizer=new((i=r.Tokenizer)!==null&&i!==void 0?i:Np)(this.options,this),(o=(a=this.cbs).onparserinit)===null||o===void 0||o.call(a,this)}ontext(t,r){var n,s;let i=this.getSlice(t,r);this.endIndex=r-1,(s=(n=this.cbs).ontext)===null||s===void 0||s.call(n,i),this.startIndex=r}ontextentity(t){var r,n;let s=this.tokenizer.getSectionStart();this.endIndex=s-1,(n=(r=this.cbs).ontext)===null||n===void 0||n.call(r,mp(t)),this.startIndex=s}isVoidElement(t){return!this.options.xmlMode&&$Je.has(t)}onopentagname(t,r){this.endIndex=r;let n=this.getSlice(t,r);this.lowerCaseTagNames&&(n=n.toLowerCase()),this.emitOpenTag(n)}emitOpenTag(t){var r,n,s,i;this.openTagStart=this.startIndex,this.tagname=t;let a=!this.options.xmlMode&&OJe.get(t);if(a)for(;this.stack.length>0&&a.has(this.stack[this.stack.length-1]);){let o=this.stack.pop();(n=(r=this.cbs).onclosetag)===null||n===void 0||n.call(r,o,!0)}this.isVoidElement(t)||(this.stack.push(t),oae.has(t)?this.foreignContext.push(!0):cae.has(t)&&this.foreignContext.push(!1)),(i=(s=this.cbs).onopentagname)===null||i===void 0||i.call(s,t),this.cbs.onopentag&&(this.attribs={})}endOpenTag(t){var r,n;this.startIndex=this.openTagStart,this.attribs&&((n=(r=this.cbs).onopentag)===null||n===void 0||n.call(r,this.tagname,this.attribs,t),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(t){this.endIndex=t,this.endOpenTag(!1),this.startIndex=t+1}onclosetag(t,r){var n,s,i,a,o,c;this.endIndex=r;let u=this.getSlice(t,r);if(this.lowerCaseTagNames&&(u=u.toLowerCase()),(oae.has(u)||cae.has(u))&&this.foreignContext.pop(),this.isVoidElement(u))!this.options.xmlMode&&u==="br"&&((s=(n=this.cbs).onopentagname)===null||s===void 0||s.call(n,"br"),(a=(i=this.cbs).onopentag)===null||a===void 0||a.call(i,"br",{},!0),(c=(o=this.cbs).onclosetag)===null||c===void 0||c.call(o,"br",!1));else{let l=this.stack.lastIndexOf(u);if(l!==-1)if(this.cbs.onclosetag){let d=this.stack.length-l;for(;d--;)this.cbs.onclosetag(this.stack.pop(),d!==0)}else this.stack.length=l;else!this.options.xmlMode&&u==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=r+1}onselfclosingtag(t){this.endIndex=t,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=t+1):this.onopentagend(t)}closeCurrentTag(t){var r,n;let s=this.tagname;this.endOpenTag(t),this.stack[this.stack.length-1]===s&&((n=(r=this.cbs).onclosetag)===null||n===void 0||n.call(r,s,!t),this.stack.pop())}onattribname(t,r){this.startIndex=t;let n=this.getSlice(t,r);this.attribname=this.lowerCaseAttributeNames?n.toLowerCase():n}onattribdata(t,r){this.attribvalue+=this.getSlice(t,r)}onattribentity(t){this.attribvalue+=mp(t)}onattribend(t,r){var n,s;this.endIndex=r,(s=(n=this.cbs).onattribute)===null||s===void 0||s.call(n,this.attribname,this.attribvalue,t===ca.Double?'"':t===ca.Single?"'":t===ca.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(t){let r=t.search(LJe),n=r<0?t:t.substr(0,r);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n}ondeclaration(t,r){this.endIndex=r;let n=this.getSlice(t,r);if(this.cbs.onprocessinginstruction){let s=this.getInstructionName(n);this.cbs.onprocessinginstruction(`!${s}`,`!${n}`)}this.startIndex=r+1}onprocessinginstruction(t,r){this.endIndex=r;let n=this.getSlice(t,r);if(this.cbs.onprocessinginstruction){let s=this.getInstructionName(n);this.cbs.onprocessinginstruction(`?${s}`,`?${n}`)}this.startIndex=r+1}oncomment(t,r,n){var s,i,a,o;this.endIndex=r,(i=(s=this.cbs).oncomment)===null||i===void 0||i.call(s,this.getSlice(t,r-n)),(o=(a=this.cbs).oncommentend)===null||o===void 0||o.call(a),this.startIndex=r+1}oncdata(t,r,n){var s,i,a,o,c,u,l,d,f,h;this.endIndex=r;let p=this.getSlice(t,r-n);this.options.xmlMode||this.options.recognizeCDATA?((i=(s=this.cbs).oncdatastart)===null||i===void 0||i.call(s),(o=(a=this.cbs).ontext)===null||o===void 0||o.call(a,p),(u=(c=this.cbs).oncdataend)===null||u===void 0||u.call(c)):((d=(l=this.cbs).oncomment)===null||d===void 0||d.call(l,`[CDATA[${p}]]`),(h=(f=this.cbs).oncommentend)===null||h===void 0||h.call(f)),this.startIndex=r+1}onend(){var t,r;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let n=this.stack.length;n>0;this.cbs.onclosetag(this.stack[--n],!0));}(r=(t=this.cbs).onend)===null||r===void 0||r.call(t)}reset(){var t,r,n,s;(r=(t=this.cbs).onreset)===null||r===void 0||r.call(t),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(s=(n=this.cbs).onparserinit)===null||s===void 0||s.call(n,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(t){this.reset(),this.end(t)}getSlice(t,r){for(;t-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let n=this.buffers[0].slice(t-this.bufferOffset,r-this.bufferOffset);for(;r-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),n+=this.buffers[0].slice(0,r-this.bufferOffset);return n}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(t){var r,n;if(this.ended){(n=(r=this.cbs).onerror)===null||n===void 0||n.call(r,new Error(".write() after done!"));return}this.buffers.push(t),this.tokenizer.running&&(this.tokenizer.write(t),this.writeIndex++)}end(t){var r,n;if(this.ended){(n=(r=this.cbs).onerror)===null||n===void 0||n.call(r,new Error(".end() after done!"));return}t&&this.write(t),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(t){this.write(t)}done(t){this.end(t)}};function uae(e,t){let r=new hp(void 0,t);return new Lg(r,t).end(e),r.root}var MJe=Zse((e,t,r,n)=>t.xmlMode||t._useHtmlParser2?uae(e,t):tae(e,t,r,n)),je=aie(MJe,(e,t)=>t.xmlMode||t._useHtmlParser2?Xx(e,t):rae(e)),Uvt=je([]),{contains:qvt}=iu,{merge:jvt}=iu,{parseHTML:Hvt}=iu,{root:zvt}=iu;var Mg="abacdefghjklmnopqrstuvwxyzABCDEFGHJKLMNOPQRSTUVWXYZ0123456789";function dae(e,t){return Math.floor(Math.random()*(t-e+1))+e}function fae(e,t,r){var n="";let s=t===void 0?!0:t;for(var i=0;i<e;i++){let a=r?dae(Mg.length-10,Mg.length-1):dae(0,s?Mg.length-1:Mg.length-11);n+=Mg[a]}return n}var hD="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.54 Safari/537.36";var qv="Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1";function pae(e,t){return e.trim()==t.trim()?t:t.trim().replaceAll(e,"").replace(/<|>||/g,"").replace(/\$|#/g," ").trim()}function hae(e){let t=e/1048576;return t>1024?`${(t/1024).toFixed(2)}GB`:`${parseInt(t).toFixed(0)}MB`}function FJe(e,t){if(!e||!t)return{length:0,sequence:"",offset:0};for(var r="",n=e.length,s=t.length,i=new Array(n),a=0,o=0,c=0;c<n;c++){for(var u=new Array(s),l=0;l<s;l++)u[l]=0;i[c]=u}var d=null;for(c=0;c<n;c++)for(l=0;l<s;l++)e[c]!==t[l]?i[c][l]=0:(c===0||l===0?i[c][l]=1:i[c][l]=1+i[c-1][l-1],i[c][l]>a&&(a=i[c][l],d=c-i[c][l]+1,o===d?r+=e[c]:(o=d,r="",r+=e.substr(o,c+1-o))));return{length:a,sequence:r,offset:d}}function jv(e,t){let r=[],n=0;for(let i=0;i<t.length;i++){let a=FJe(e.name,t[i].name);r.push({target:t[i],lcs:a}),a.length>r[n].lcs.length&&(n=i)}let s=r[n];return{allLCS:r,bestMatch:s,bestMatchIndex:n}}function Dp(e){return new Promise(t=>setTimeout(t,e))}var Ga=e=>e.map(t=>t.split(";")[0]+";");var AD=ke(Hs(),1),Kl=require("path"),Wr=ke(require("fs"),1),_oe=require("stream");async function QJe(e,t){let r=await Pe.get(e,{responseType:"stream",headers:Object.assign({Range:"bytes=0-0"},t)}).catch(n=>(console.error(n),n.response||{status:500,data:{}}));if(r&&r.status===206){let n=r.headers["accept-ranges"]==="bytes",s=r.headers["content-range"],i=parseInt(r.headers["content-length"]),a=n||!!s||i===1,o=s?parseInt(s.split("/")[1]):i;return delete r.headers["content-range"],delete r.headers["content-length"],o&&(r.headers["content-length"]=o.toString()),[a,r.headers]}else return[!1,null]}var Qg={},voe="",Yl=(process.env.NODE_PATH||".")+"/vod_cache",UJe=1024*1024*100;async function Ioe(e){try{if(Wr.default.existsSync(e)){let t=await Wr.default.promises.readdir(e);await Promise.all(t.map(async r=>{let n=`${e}/${r}`;(await Wr.default.promises.stat(n)).isDirectory()?await Ioe(n):await Wr.default.promises.unlink(n)})),await Wr.default.promises.rmdir(e)}}catch(t){console.error("Error deleting folder:",t)}}Ioe(Yl);function qJe(e){try{Wr.default.readdir(Yl,(t,r)=>{if(r)for(let n of r){if(n===e)continue;let s=(0,Kl.join)(Yl,n);Wr.default.stat(s,(i,a)=>{a&&a.isDirectory()&&Wr.default.readdir(s,(o,c)=>{if(c)for(let u of c)u.endsWith(".p")||Wr.default.rm((0,Kl.join)(s,u),{recursive:!0},()=>{})})})}})}catch(t){console.error(t)}}async function jJe(e,t,r,n,s,i){if(n=n||AD.default.enc.Hex.stringify(AD.default.MD5(r)).toString(),voe!==n&&(qJe(n),voe=n),!Qg[n]){let[b,_]=await QJe(r,s);if(!b||!_["content-length"]){t.redirect(r);return}Qg[n]=_}let a=!0;await Wr.default.promises.access((0,Kl.join)(Yl,n)).catch(b=>a=!1),a||await Wr.default.promises.mkdir((0,Kl.join)(Yl,n),{recursive:!0});let o=parseInt(Qg[n]["content-length"]),c=0,u=o-1,l={};if(e.headers.range){let b=e.headers.range.trim().split(/=|-/);b.length>2&&b[2]&&(u=parseInt(b[2])),c=parseInt(b[1]),Object.assign(l,Qg[n]),l["content-length"]=(u-c+1).toString(),l["content-range"]=`bytes ${c}-${u}/${o}`,t.code(206)}else Object.assign(l,Qg[n]),t.code(200);i=i||{chunkSize:1024*512,poolSize:10,timeout:1e3*10};let d=i.chunkSize,f=i.poolSize,h=i.timeout,p=Math.ceil(o/d),m=Math.floor(c/d),A=m,g=!1,x={};for(let b=0;b<f&&b<p;b++)new Promise(_=>{(async function C(w){if(g||m>=p){_();return}if(w===void 0&&(m-A)*d>=UJe){setTimeout(C,5);return}let S=w||m++,T=`${e.id}-${S}`;try{let R=(0,Kl.join)(Yl,n,`${e.id}-${S}.p`),P=!0;if(await Wr.default.promises.access(R).catch(N=>P=!1),!P){let N=S*d,D=Math.min(o-1,(S+1)*d-1),k=await Pe.get(r,{responseType:"stream",timeout:h,headers:Object.assign({Range:`bytes=${N}-${D}`},s)}),q=(0,Kl.join)(Yl,n,`${e.id}-${S}.dl`),j=Wr.default.createWriteStream(q),G=setTimeout(()=>{j.destroy(new Error(`${T} read timeout`))},h),J=new Promise(te=>{j.on("finish",async()=>{g?await Wr.default.promises.rm(q).catch(ne=>console.error(ne)):(await Wr.default.promises.rename(q,R).catch(ne=>console.error(ne)),x[T]=R),te(!0)}),j.on("error",async ne=>{console.error(ne),await Wr.default.promises.rm(q).catch(ee=>console.error(ee)),te(!1)})});k.data.pipe(j);let Q=await J;if(clearTimeout(G),!Q){setTimeout(()=>{C(S)},15);return}}setTimeout(C,5)}catch(R){console.error(R),setTimeout(()=>{C(S)},15)}})()});t.headers(l);let y=new _oe.PassThrough;return new Promise(b=>{let _=!0;(async function C(){try{if(A>=p||g){y.end(),b();return}if(!_){setTimeout(C,5);return}let w=`${e.id}-${A}`;if(!x[w]){setTimeout(C,5);return}let S=A*d,T=Math.min(o-1,(A+1)*d-1),R=Math.max(c,S)-S,P=x[w];delete x[w];let N=await Wr.default.promises.open(P,"r"),D=Buffer.alloc(T-S-R+1);await N.read(D,0,T-S-R+1,R),await N.close().catch(k=>console.error(k)),await Wr.default.promises.rm(P).catch(k=>console.error(k)),_=y.write(D),_||y.once("drain",()=>{_=!0}),A++,setTimeout(C,5)}catch{setTimeout(C,5)}})()}),y.on("close",async()=>{Object.keys(x).forEach(b=>{b.startsWith(e.id)&&(Wr.default.rm(x[b],{recursive:!0},()=>{}),delete x[b])}),g=!0}),y}var T_=jJe;var _D=ke(Hs(),1);var HJe=["\u9884\u544A"],zJe=e=>{if(!e)return!1;let t=String(e);return HJe.some(r=>t.includes(r))};function Coe(e){let t=/(E|EP)0?([1-9]\d*).*/.exec(e);if(t)return Number(t[2]);let r=/.*?([1-9]\d*).*/.exec(e);return r?Number(r[1]):null}function woe(e){return e.replace(/\.[^.]+$/,"").replace(/^(S\d+)?E?P?\d+\.?/i,"")}function Soe(e){return e==null?"":String(e)}function GJe(e,t){let r=Soe(e),n=Soe(t);return r===n?0:r.localeCompare(n,void 0,{numeric:!0,sensitivity:"base"})}function Ni(e,t){let r={};return t.length===0||(t=t.filter(n=>!zJe(n?.vod_name)),t.length===0)||(t.sort((n,s)=>{let i=GJe(n.vod_group,s.vod_group);if(i!==0)return i;let a=Coe(n.vod_name),o=Coe(s.vod_name);if(a!==null&&o!==null&&a!==o)return a-o;let c=woe(n.vod_name),u=woe(s.vod_name);return c!==u?c.localeCompare(u):a!==null&&o!==null?a-o:n.vod_name.localeCompare(s.vod_name)}),t=t.map(n=>{let s=hae(n.vod_size);return{vod_id:n.vod_id,vod_name:pae("",` ${n.vod_name.replace(/.[^.]+$/,"")}  [${s}]`)}}),r.from=e,r.url=t.map(n=>n.vod_name+"$"+n.vod_id).join("#")),r}async function Pr(e,t,r={}){let n=(Array.isArray(e)?e:[e]).filter(Boolean).map(o=>String(o).trim()).filter(o=>o.length>0);if(n.length===0)return"";let s=Number(r?.timeoutMs)>0?Number(r.timeoutMs):5e3,i=Array.isArray(r?.methods)&&r.methods.length>0?r.methods:["HEAD","GET"],a={"User-Agent":qv,...t&&typeof t=="object"?t:{}};return await new Promise(o=>{let c=!1,u=f=>{c||(c=!0,o(f))},l=setTimeout(()=>u(n[0]),s*i.length+200),d=async f=>{for(let h of i)try{let p=await _e.request({url:f,method:h,headers:a,proxy:!1,timeout:s,maxRedirects:5,validateStatus:()=>!0});if(p?.status>=200&&p.status<400){clearTimeout(l),u(f);return}}catch{}};n.forEach(f=>{d(f)})})}var Ug=e=>getPanEnabled("quark")&&e.includes("https://pan.quark.cn"),qg=e=>getPanEnabled("uc")&&e.includes("https://drive.uc.cn"),jg=e=>getPanEnabled("tianyi")&&/cloud\.189\.cn/.test(e),yD=e=>getPanEnabled("yidong")&&/caiyun\.139\.com|yun\.139\.com/.test(e),bD=e=>getPanEnabled("123")&&/(?:www\.)?(?:123684\.com|123865\.com|123912\.com|123pan\.com|123pan\.cn|123592\.com)/.test(e),ED=e=>getPanEnabled("115")&&/115.com|anxia.com|115cdn.com/.test(e),xD=e=>getPanEnabled("baidu")&&/pan\.baidu\.com/.test(e);var Ne=k_;(function(e,t){let r=k_,n=e();for(;;)try{if(parseInt(r(592))/1+-parseInt(r(654))/2*(parseInt(r(678))/3)+-parseInt(r(563))/4*(-parseInt(r(499))/5)+parseInt(r(752))/6*(-parseInt(r(668))/7)+-parseInt(r(568))/8+parseInt(r(598))/9+-parseInt(r(480))/10*(parseInt(r(494))/11)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(N_,-2*336703+531380+522280);function N_(){let e=["rUtBO","0&_page=1&","chunkSize","prefix","hTQwZ","zYtGp","fQRaI","ex=","trans","dGuNU","FfCUh","qOuYp",":desc","ari/537.36","JrIiW","MD5","UDuhp","normal,low","/trans/","what","server","video","sharePwd","forEach","url",".5.20 Chro","bNiXo","https://pa","36QZVGnd","ay?","map","get","normal","\u8FDB\u884C\u914D\u7F6E","dXBcv","string"," quark-clo","cookie","vOTYc","&stoken=",".iso",".m4v","0 (Windows","iAYYh","tQwUk","efault","stoken",",file_name","/proxy/qua","subtitle","sJVYs",".rmvb","/quark","KDGlB","_type:asc,",".scc","&pdir_fid=","UmHne","folderId","hUAtt","set-cookie","bestMatch","pr=ucpro&f","poolSize","zsjDq","bQQQX","gkdsC","szbcd","super","epage/deta",".ttml","high","2900rgjMtN","updated_at","ive.quark.","KLJRm","vuUNw","fmp4","endsWith","UBpCL","staIy",".srt","size","il?","fileId","iMydT","3586VNjBnU","qSAQO","Win64; x64","jihZh","ewlhk","4825hVWOXt","down","flag","wrKfh","file?","share_fid_","BxhaE","n.quark.cn","MLObG","fid","type"," NT 10.0; ","/src/subt/",".stl","getObjectD","uOhhy","Mozilla/5.","nVAdz","params","pALVP","ckk_other_","svPwS","/src/redir","zWHTc","save_as","share/shar","sort=file_","&_page=1&_","obj_catego","folder","AFCXm","save_as_to","file_name","Pans","Kit/537.36","kArPQ","r,2k,4k","/.mp4","body","jKiVk","keys","__puus=","mujuv","mgygg","OVGEg","WXPGg","FRmpI","sCtyl","BFAUy","DBoWK","exec",",high,supe","error","config","sbFoC",".avi",".mpeg","token","\u5938\u514Btoken\u5DF2\u8FC7\u671F","&task_id=","catch","length"," (KHTML, l","list","1388luwwVG","nqZak","tjpYn","AsMqt","_size=200&","2836864mxzNdt",".mov",".mkv","BnGOA","filter","toast","toString",".ass","urThe","https://dr","shareId",".3gp","r=pc","desc","TksUs","cehTU",".rm",":asc","3.5.4-b478",".wmv",".flv","resolution","DOYdO","EIqCD","635344UEvSQp","_total","startsWith","task_id","stringify","quark","5120127BKYWEh","me/100.0.4","vQkFd","Kkpfv","/quark/","extra","split","896.160 El","&retry_ind","epLfe","CatVodOpen","DImkA","Ryiud","diDFl","ect/",".ts","eWFTp","iKxss","&_sort=fil","log","VluSP","low","post","p_fids","ZQaOd","jiRaj","file/v2/pl"," Channel/p","kgtDH","uDNEf","ZIltC","iizDF","video_info","LGzkB","epage/save","&force=0&_","epage/toke","QWzJG","path","find","data","redirect","WHuwy","GPcMc","/.bin","hjFvr","AWHWF","number","file/sort?","target","file","e_type:asc","ud-drive/2","OIgrE",".mpg","/src/down/","2VsOuvX","some","ike Gecko)","download_u","page=","response","zHORN",".mp4","ceil","size=200&_","link","_sort=file","metadata","aPswx","167671NnMAxf",".m2ts","DGjwi","task?","key","video_list","cn/1/cloud","xpGbK","\uFF0C\u8BF7\u524D\u5F80\u3010\u914D\u7F6E\u3011\u7AD9\u6E90","file/delet","1697946BYMLza",".webm","drive/","assign","YKOfh","file/downl","IaRDC","enc","pdated_at:","ZRHSr","replace","push",") AppleWeb","JBgFs","kXWyK","address","uZEOR","bBbAO","RcLlR","ectron/18.","&_size=","accessable","headers","toLowerCas","join",";;;","AQhft","yjUvV","zMgqq","491100 Saf","Axrcz","oad?","Hex","type:asc,u","UyfCy","dir","cuTSZ","indexOf","match","mLbRm","status","nldZM","&pwd_id=","vod_group","MMgKo","site"];return N_=function(){return e},N_()}var VJe=[Ne(661),Ne(570),Ne(679),Ne(554),Ne(587),Ne(588),Ne(569),Ne(555),Ne(652),Ne(449),Ne(613),Ne(669),Ne(579),Ne(584),Ne(459),Ne(448)],KJe=e=>{let t=Ne,r={vQkFd:function(s,i){return s(i)}};if(!e)return!1;let n=r[t(600)](String,e)[t(701)+"e"]();return VJe[t(655)](s=>n[t(486)](s))};function Noe(e){let t=Ne,r=/https:\/\/pan\.quark\.cn\/s\/([^\\|#/]+)/,n=r[t(549)](e);return n?{shareId:n[1],folderId:"0"}:null}var Va=Ne(470)+Ne(580),CD={"User-Agent":Ne(515)+Ne(450)+Ne(510)+Ne(496)+Ne(690)+Ne(533)+Ne(561)+Ne(656)+Ne(444)+Ne(650)+Ne(749)+Ne(599)+Ne(605)+Ne(697)+Ne(586)+Ne(707)+Ne(737)+Ne(625)+Ne(519)+"ch",Referer:Ne(751)+Ne(506)},ID=null,B_=null,Toe=Ne(577)+Ne(482)+Ne(674)+Ne(680),Go="",mu={},Boe=Ne(608),Wl=null;async function koe(e){let t=Ne;ID=e[t(744)].db;let r=e[t(744)][t(552)][t(597)];Go=r[t(445)],B_=_D.default[t(685)][t(710)][t(596)](_D.default[t(739)](r[t(445)]))[t(574)]();let n=await ID[t(513)+t(453)](t(460),{});n[B_]&&(Go=n[B_])}async function ua(e,t,r,n,s){let i=Ne,a={nVAdz:function(u,l){return u===l},wrKfh:function(u,l){return u(l)},zWHTc:i(573),YKOfh:i(557)+i(676)+i(441),FRmpI:function(u,l){return u===l},uOhhy:function(u,l){return u(l)},MMgKo:function(u,l){return u||l},bQQQX:i(620),nqZak:function(u,l){return u==l},LGzkB:i(439),ZRHSr:function(u,l){return u||l},OVGEg:i(468),WXPGg:i(703),bBbAO:function(u,l){return u!=l},Kkpfv:function(u,l){return u===l},WHuwy:function(u,l){return u>l},hUAtt:function(u,l,d,f,h,p){return u(l,d,f,h,p)},aPswx:function(u,l){return u-l}};r=a[i(722)](r,{}),Object[i(681)](r,CD),Object[i(681)](r,{Cookie:a[i(722)](Go,"")}),n=a[i(722)](n,a[i(473)]);let o=a[i(564)](n,a[i(631)])?await Pe[i(439)](Toe+"/"+e,{headers:r})[i(559)](u=>{let l=i;return console[l(551)](u),a[l(516)](u?.[l(659)]?.[l(718)],-973*-4+-4482+991)&&a[l(502)](messageToDart,{action:a[l(522)],opt:{message:a[l(682)],duration:5}}),u[l(659)]||{status:500,data:{}}}):await Pe[i(620)](Toe+"/"+e,t,{headers:r})[i(559)](u=>{let l=i;return console[l(551)](u),a[l(545)](u?.[l(659)]?.[l(718)],-13*-230+-7060+4471)&&a[l(514)](messageToDart,{action:a[l(522)],opt:{message:a[l(682)],duration:5}}),u[l(659)]||{status:500,data:{}}}),c=a[i(687)](s,5770+-73*79);if(o[i(700)][a[i(543)]]){let u=o[i(700)][a[i(543)]][i(702)](a[i(544)])[i(716)](/__puus=([^;]+)/);u&&a[i(695)](Go[i(716)](/__puus=([^;]+)/)[2853+-2309*1+-543*1],u[-7148+-23*-173+3170])&&(Go=Go[i(688)](/__puus=[^;]+/,i(540)+u[-37*207+8359+233*-3]),await ID[i(689)](i(602)+B_,Go))}return a[i(601)](o[i(718)],429)&&a[i(640)](c,-9738+-2819*2+4*3844)?(await a[i(502)](Dp,1e3),await a[i(467)](ua,e,t,r,n,a[i(667)](c,2245*-1+2875+-629))):o[i(638)]||{}}async function Roe(){let e=Ne,t={diDFl:function(n,s,i,a,o){return n(s,i,a,o)},cuTSZ:e(439),Ryiud:function(n,s){return n>s},tQwUk:function(n,s,i){return n(s,i)}},r=await t[e(611)](ua,e(646)+Va+e(464)+Wl+(e(526)+e(663)+e(525)+e(711)+e(686)+e(581)),{},{},t[e(714)]);if(r[e(638)]&&r[e(638)][e(562)]&&t[e(610)](r[e(638)][e(562)][e(560)],-19*37+570+133)){let n=await t[e(452)](ua,e(677)+"e?"+Va,{action_type:2,filelist:r[e(638)][e(562)][e(438)](s=>s[e(508)]),exclude_fids:[]});console[e(617)](n)}}async function YJe(e){let t=Ne,r={zYtGp:function(s){return s()},ZQaOd:function(s,i,a,o,c){return s(i,a,o,c)},Axrcz:t(439),vuUNw:function(s,i){return s===i},iKxss:function(s,i,a){return s(i,a)}};if(Wl){e&&await r[t(729)](Roe);return}let n=await r[t(622)](ua,t(646)+Va+(t(464)+t(725)+t(567)+t(665)+t(462)+t(481)+t(736)),{},{},r[t(708)]);if(n[t(638)]&&n[t(638)][t(562)]){for(let s of n[t(638)][t(562)])if(r[t(484)](s[t(531)],Boe)){Wl=s[t(508)],await r[t(729)](Roe);break}}if(!Wl){let s=await r[t(615)](ua,t(503)+Va,{pdir_fid:"0",file_name:Boe,dir_path:"",dir_init_lock:!1});console[t(617)](s),s[t(638)]&&s[t(638)][t(508)]&&(Wl=s[t(638)][t(508)])}}async function Doe(e){let t=Ne,r={tjpYn:function(n,s,i){return n(s,i)}};if(!mu[e[t(578)]]){delete mu[e[t(578)]];let n=await r[t(565)](ua,t(524)+t(634)+"n?"+Va,{pwd_id:e[t(578)],passcode:e[t(746)]||""});n[t(638)]&&n[t(638)][t(454)]&&(mu[e[t(578)]]=n[t(638)])}}var WJe=[Ne(489),Ne(575),Ne(463),Ne(512),Ne(478)];async function JJe(e){let t=Ne,r={AFCXm:function(c,u){return c||u},jihZh:function(c,u,l,d,f){return c(u,l,d,f)},urThe:function(c,u){return c(u)},sbFoC:t(439),sJVYs:function(c,u){return c===u},MLObG:function(c,u){return c===u},BFAUy:function(c,u){return c===u},uZEOR:t(713),DGjwi:function(c,u){return c===u},zsjDq:t(528),iMydT:function(c,u){return c===u},hjFvr:t(648),UDuhp:function(c,u){return c===u},cehTU:t(745),fQRaI:function(c,u,l){return c(u,l)},jKiVk:function(c,u){return c&&u},qSAQO:t(645),DImkA:function(c,u){return c<u},epLfe:function(c,u){return c*u},kXWyK:function(c,u){return c*u},UyfCy:function(c,u){return c<u},dXBcv:function(c,u){return c/u},KDGlB:function(c,u,l,d,f){return c(u,l,d,f)},KLJRm:function(c,u){return c+u},pALVP:function(c,u,l){return c(u,l)},JBgFs:t(443),nldZM:function(c,u){return c(u)},UBpCL:function(c,u){return c>u}},n=r[t(547)](typeof e,r[t(691)])?r[t(719)](Noe,e):e;if(!n)return[];if(await r[t(719)](Doe,n),!mu[n[t(578)]])return[];let s=[],i=[],a=(c,u)=>c?c+"/"+u:u,o=async function(c,u,l,d){let f=t,h=r[f(529)](d,""),p=-5880+-380*26+122*130;l=r[f(529)](l,49*-37+-101*53+-1*-7167);let m=await r[f(497)](ua,f(524)+f(477)+f(491)+Va+f(720)+c+f(447)+r[f(576)](encodeURIComponent,mu[c][f(454)])+f(464)+u+(f(633)+f(658))+l+f(698)+p+(f(616)+f(649)+f(455)+f(585)),{},{},r[f(553)]);if(!m[f(638)])return[];let A=m[f(638)][f(562)];if(!A)return[];let g=[];for(let x of A){let y=r[f(458)](x[f(713)],!0)||r[f(507)](x[f(713)],1)||r[f(547)](x[f(509)],r[f(694)])||r[f(670)](x[f(509)],r[f(472)]),b=r[f(670)](x[f(648)],!0)||r[f(493)](x[f(648)],7723+5*-991+-2767)||r[f(547)](x[f(509)],r[f(643)]),_=r[f(576)](KJe,x[f(531)]),C=r[f(740)](x[f(527)+"ry"],r[f(583)])||_;if(y)g[f(689)]({fid:x[f(508)],path:r[f(730)](a,h,x[f(531)])});else if(r[f(538)](b,C)){if(r[f(740)](typeof x[f(490)],r[f(495)])&&r[f(609)](x[f(490)],r[f(607)](r[f(692)](8303*-1+-9649+-32*-593,-241*-7+-42*158+-11*-543),3877*-1+23*23+3353)))continue;x[f(454)]=mu[n[f(578)]][f(454)],x[f(721)]=h,s[f(689)](x)}else b&&WJe[f(655)](w=>String(x[f(531)]||"")[f(486)](w))&&i[f(689)](x)}if(r[f(712)](l,Math[f(662)](r[f(442)](m[f(666)][f(593)],p)))){let x=await r[f(461)](o,c,u,r[f(483)](l,1),h);for(let y of x)A[f(689)](y)}for(let x of g){let y=await r[f(497)](o,c,x[f(508)],1,x[f(636)]);for(let b of y)A[f(689)](b)}return A};return await r[t(497)](o,n[t(578)],n[t(466)],-2363+4*591,""),r[t(487)](i[t(560)],-1*-9199+5342+-14541)&&s[t(747)](c=>{let u=t;var l=r[u(518)](jv,c,i);l[u(469)]&&(c[u(457)]=l[u(469)][u(647)])}),s}var gu={};async function Poe(e,t,r,n,s){let i=Ne,a={JrIiW:function(c,u){return c(u)},AWHWF:function(c,u,l){return c(u,l)},AsMqt:i(664),VluSP:function(c,u,l,d,f){return c(u,l,d,f)},svPwS:i(439),kgtDH:function(c,u){return c>u},GPcMc:function(c,u){return c>u},BnGOA:function(c,u){return c(u)}};if(await a[i(738)](YJe,s),s){let c=Object[i(539)](gu);for(let u of c)delete gu[u]}if(!Wl||!t&&(await a[i(738)](Doe,{shareId:e}),!mu[e]))return null;let o=await a[i(644)](ua,i(524)+i(632)+"?"+Va,{fid_list:[r],fid_token_list:[n],to_pdir_fid:Wl,pwd_id:e,stoken:t||mu[e][i(454)],pdir_fid:"0",scene:a[i(566)]});if(o[i(638)]&&o[i(638)][i(595)]){let c=0;for(;;){let u=await a[i(618)](ua,i(671)+Va+i(558)+o[i(638)][i(595)]+(i(606)+i(731))+c,{},{},a[i(520)]);if(u[i(638)]&&u[i(638)][i(523)]&&u[i(638)][i(523)][i(530)+i(621)]&&a[i(626)](u[i(638)][i(523)][i(530)+i(621)][i(560)],0))return u[i(638)][i(523)][i(530)+i(621)][5021*1+4926+49*-203];if(c++,a[i(641)](c,-1034+-6367*-1+-5328))break;await a[i(571)](Dp,1e3)}}return!1}async function Ooe(e,t,r,n){let s=Ne,i={szbcd:function(o,c,u,l,d,f){return o(c,u,l,d,f)},iizDF:function(o,c,u){return o(c,u)},DOYdO:s(741)+s(550)+s(535),jiRaj:s(485)};if(!gu[r]){let o=await i[s(475)](Poe,e,t,r,n,!0);if(!o)return null;gu[r]=o}let a=await i[s(629)](ua,s(624)+s(753)+Va,{fid:gu[r],resolutions:i[s(590)],supports:i[s(623)]});return a[s(638)]&&a[s(638)][s(673)]?a[s(638)][s(673)]:null}async function XJe(e,t,r,n,s){let i=Ne,a={dGuNU:function(c,u,l,d,f,h){return c(u,l,d,f,h)},QWzJG:function(c,u,l){return c(u,l)}};if(!gu[r]){let c=await a[i(733)](Poe,e,t,r,n,s);if(!c)return null;gu[r]=c}let o=await a[i(635)](ua,i(683)+i(709)+Va,{fids:[gu[r]]});return o[i(638)]?o[i(638)][-19*4+3818+-3742]:null}async function $oe(e){let t=Ne,r={vOTYc:function(n,s){return n(s)},bNiXo:t(751)+t(506),uDNEf:function(n,s,i){return n(s,i)},sCtyl:t(597)};if(r[t(446)](Ug,r[t(750)])){let n=r[t(446)](Noe,e);if(n){let s=await r[t(446)](JJe,n);return s=s[t(438)](i=>{let a=t;return{vod_id:[n[a(578)],i[a(454)],i[a(508)],i[a(504)+a(556)],i[a(457)]?i[a(457)][a(508)]:"",i[a(457)]?i[a(457)][a(504)+a(556)]:""][a(702)]("*"),vod_name:i[a(531)],vod_size:i[a(490)],vod_group:i[a(721)]}}),r[t(627)](Ni,r[t(446)](getPanName,r[t(546)]),s)}else return{}}}var R_={},vD={};async function Loe(e,t){let r=Ne,n={rUtBO:function(c,u){return c(u)},gkdsC:function(c,u){return c==u},UmHne:r(597),DBoWK:function(c,u){return c==u},zMgqq:r(732),TksUs:function(c,u,l,d,f){return c(u,l,d,f)},EIqCD:function(c,u,l,d,f,h){return c(u,l,d,f,h)},staIy:function(c,u){return c(u)},yjUvV:function(c,u){return c==u},ZIltC:r(500),IaRDC:function(c,u){return c==u},eWFTp:r(639),ewlhk:function(c,u,l,d,f,h,p){return c(u,l,d,f,h,p)},BxhaE:function(c,u){return c*u},kArPQ:function(c,u){return c*u}};await n[r(724)](koe,e);let s=e[r(517)][r(723)],i=e[r(517)][r(743)],a=e[r(517)][r(578)],o=e[r(517)][r(492)];if(n[r(474)](s,n[r(465)])){let c="",u=o[r(604)]("*"),l=e[r(517)][r(501)];if(n[r(548)](i,n[r(706)])){!R_[u[-2607+37*-71+1047*5]]&&(R_[u[1]]=(await n[r(582)](Ooe,a,n[r(724)](decodeURIComponent,u[4095+-3*2101+92*24]),u[-3593*-1+-6316+-681*-4],u[-53*-89+3172*1+-7887]))[r(572)](m=>m[r(699)])),c=R_[u[-8341+-2*-1099+6144]][r(572)](m=>m[r(589)][r(701)+"e"]()==l)[-1*5426+1*-8567+-1*-13993][r(630)][r(748)],t[r(639)](c);return}else{if(!vD[u[-8570+-1*-8571]]){let m=await n[r(591)](XJe,a,n[r(488)](decodeURIComponent,u[0]),u[1],u[2],n[r(705)](l,n[r(628)]));m&&(vD[u[2533+6451*1+-8983]]=m)}if(c=vD[u[386*-5+145*31+-2564*1]][r(657)+"rl"],n[r(684)](l,n[r(614)])){t[r(639)](c);return}}let d=globalThis[r(532)]||[],f=d[r(637)](m=>m[r(672)]===r(597))||{},h=f[r(726)]||1490+1*8459+1*-9437,p=f[r(471)]||4741+4731*-1;return await n[r(498)](T_,e,t,c,u[-86*11+-7885+-32*-276],Object[r(681)]({Cookie:Go},CD),{chunkSize:n[r(505)](3470+-438*-5+-1*4636,h),poolSize:p,timeout:n[r(534)](1e3,7*43+-1*6879+6588)})}}function k_(e,t){let r=N_();return k_=function(n,s){return n=n-(-1*872+-7704+-9014*-1),r[n]},k_(e,t)}async function Moe(e,t){let r=Ne,n={hTQwZ:function(c,u){return c(u)},AQhft:function(c,u){return c(u)},FfCUh:r(597),OIgrE:function(c,u,l,d,f){return c(u,l,d,f)},xpGbK:r(476),mgygg:r(479),mujuv:r(619),zHORN:r(440),mLbRm:function(c,u){return c+u},qOuYp:function(c,u){return c+u},iAYYh:r(456)+"rk",RcLlR:function(c,u){return c(u)}};await n[r(728)](koe,e);let s=e[r(537)][r(501)],i=e[r(537)].id,a=i[r(604)]("*"),o=3752+7661*1+-11413*1;if(s[r(594)](n[r(704)](getPanName,n[r(734)]))){let c=(await n[r(651)](Ooe,a[0],a[1],a[2],a[3]))[r(572)](p=>p[r(699)]);R_[a[107*43+8817+1677*-8]]=c;let u=[],l=["\u8D85\u6E05","\u84DD\u5149","\u9AD8\u6E05","\u6807\u6E05","\u666E\u753B","\u6781\u901F"],d=["4k","2k",n[r(675)],n[r(542)],n[r(541)],n[r(660)]],f=n[r(717)](n[r(735)](e[r(744)][r(693)]()[r(748)],e[r(744)][r(727)]),n[r(451)]);u[r(689)]("\u4EE3\u7406"),u[r(689)](f+r(653)+a[0]+"/"+n[r(728)](encodeURIComponent,a[-6175+-11*-898+-3702])+"*"+a[2]+"*"+a[-1*7287+233*40+-2030]+r(642)),u[r(689)]("\u539F\u753B"),u[r(689)](f+(r(521)+r(612))+a[6927*-1+-1*-6307+62*10]+"/"+n[r(696)](encodeURIComponent,a[3*61+718+-900])+"*"+a[2]+"*"+a[12109+6053*-2]+r(642));let h={parse:0,url:u,header:Object[r(681)]({Cookie:Go},CD)};return a[-389*22+595*-12+-15701*-1]&&(h[r(603)]={subt:f+r(511)+a[6079*1+2786+-8865]+"/"+n[r(728)](encodeURIComponent,a[8682*1+-468*1+-8213*1])+"*"+a[13*-94+-348*-19+-5386]+"*"+a[320+-14*224+-403*-7]+r(642)}),c[r(747)](p=>{let m=r;o=d[m(715)](p[m(589)]),u[m(689)](l[o]),u[m(689)](f+m(742)+p[m(589)][m(701)+"e"]()+"/"+a[-1730+4969*-1+11*609]+"/"+n[m(728)](encodeURIComponent,a[1])+"*"+a[-7*509+6707+-3142]+"*"+a[3]+m(536))}),h}}var Wa=ke(Hs(),1);var Kue=ke(qp(),1),Ko=ke(Hs(),1);var V_="Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.81 Safari/537.36 SE 2.X MetaSr 1.0",rA={NEW:"NEW",SCANNED:"SCANNED",CONFIRMED:"CONFIRMED",EXPIRED:"EXPIRED",CANCELED:"CANCELED"},Vue={encode(e,t=3e5){let r={data:e,expireTime:Date.now()+t};return Buffer.from(JSON.stringify(r)).toString("base64url")},decode(e){try{if(!e)return null;let t=JSON.parse(Buffer.from(e,"base64url").toString());return Date.now()>t.expireTime?null:t.data}catch{return null}}},get=async e=>{let t=Ko.default.enc.Hex.stringify(Ko.default.MD5(e.config.uc.cookie)).toString();return(await e.db.getObjectDefault("/uc",{}))[t]??""},Aet=async(e,t)=>{let r=Ko.default.enc.Hex.stringify(Ko.default.MD5(e.config.uc.cookie)).toString();await e.db.push(`/uc/${r}`,t)},gP=async e=>{let t=Ko.default.enc.Hex.stringify(Ko.default.MD5(e.config.uc.ut)).toString();return(await e.db.getObjectDefault("/uc",{}))[t]??""},AP=async(e,t)=>{let r=Ko.default.enc.Hex.stringify(Ko.default.MD5(e.config.uc.ut)).toString();await e.db.push(`/uc/${r}`,t)};async function yP(e){e.get("/qrcode",async(r,n)=>{try{let s=await _e.get(`https://api.open.uc.cn/cas/ajax/getTokenForQrcodeLogin?client_id=381&v=1.2&request_id=${Date.now()}`,{headers:{"User-Agent":V_,referer:"https://drive.uc.cn"}}),i=s.data.data.members.token,a=Ga(s.headers["set-cookie"]),o=Vue.encode({token:i,cookies:a}),c=`https://su.uc.cn/1_n0ZCv?uc_param_str=dsdnfrpfbivesscpgimibtbmnijblauputogpintnwktprchmt&token=${i}&client_id=381&uc_biz_str=S%3Acustom%7CC%3Atitlebar_fix`,u=await Kue.default.toBuffer(c,{width:300,height:300});n.header("X-Session-Key",o),n.send(u)}catch(s){console.error("UC\u4E8C\u7EF4\u7801\u751F\u6210\u5931\u8D25:",s),n.status(500).send({code:-1,message:"\u4E8C\u7EF4\u7801\u751F\u6210\u5931\u8D25"})}}),e.post("/check-status",async(r,n)=>{let{sessionKey:s}=r.body,i=Vue.decode(s);if(!i)return n.send({code:0,data:{status:rA.EXPIRED}});let{token:a,cookies:o}=i;try{let c=await _e.get(`https://api.open.uc.cn/cas/ajax/getServiceTicketByQrcodeToken?__t=${Date.now()}&token=${a}&client_id=381&v=1.2&request_id=${Date.now()}`,{headers:{"User-Agent":V_}});if(c.data.status===2e6){let u=await t(c.data.data.members.service_ticket,o);n.send({code:0,data:{status:rA.CONFIRMED,cookie:u}})}else c.data.status===50004002?n.send({code:0,data:{status:rA.EXPIRED}}):n.send({code:0,data:{status:rA.NEW}})}catch(c){console.error("UC\u72B6\u6001\u68C0\u67E5\u5931\u8D25:",c),n.send({code:0,data:{status:rA.NEW}})}});async function t(r,n){let s=[...n],i=await _e.get(`https://drive.uc.cn/account/info?st=${r}&fr=pc&platform=pc`,{headers:{"User-Agent":V_,Cookie:s.join(""),referer:"https://drive.uc.cn"}});i.headers["set-cookie"]&&(s=s.concat(Ga(i.headers["set-cookie"])));let a=await _e.post("https://pc-api.uc.cn/1/clouddrive/transfer/upload/pdir?pr=UCBrowser&fr=pc",{},{headers:{"User-Agent":V_,Cookie:s.join("")}});return a.headers["set-cookie"]&&(s=s.concat(Ga(a.headers["set-cookie"]))),s.join("")}e.post("/cookie",(r,n)=>{n.send({code:-1,message:"\u8BF7\u4F7F\u7528 /check-status \u63A5\u53E3"})}),e.get("/cookie",async(r,n)=>{n.send({code:0,data:await get(r.server)})}),e.put("/cookie",async(r,n)=>{await Aet(r.server,r.body.cookie),n.send({code:0})}),e.get("/ut",async(r,n)=>{n.send({code:0,data:await gP(r.server)})}),e.put("/ut",async(r,n)=>{await AP(r.server,r.body.ut),n.send({code:0})})}var Pi={DeviceID:"07b48aaba8a739356ab8107b5e230ad4",RefreshToken:"",AccessToken:""},Xr={api:"https://open-api-drive.uc.cn",clientID:"5acf882d27b74502b7040b0c65519aa7",signKey:"l3srvtd7p42l0d0x1u8d7yc8ye9kki4d",appVer:"1.6.8",channel:"UCTVOFFICIALWEB",codeApi:"http://api.extscreen.com/ucdrive"};function yet(e){return Wa.default.MD5(e).toString().slice(0,16)}function sA(e,t){return Wa.default.MD5(e+t).toString().slice(0,16)}function J_(e,t,r,n){let s=e+"&"+t+"&"+r+"&"+n;return Wa.default.SHA256(s).toString()}function Jue(e){let r=/https:\/\/drive\.uc\.cn\/s\/([^\\|#/?]+)/.exec(e);return r?{shareId:r[1],folderId:"0"}:null}var Ja="pr=UCBrowser&fr=pc",xP={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) uc-cloud-drive/2.5.20 Chrome/100.0.4896.160 Electron/18.3.5.4-b478491100 Safari/537.36 Channel/pckk_other_ch",Referer:"https://drive.uc.cn"},nA=null,Y_=null,EP="https://pc-api.uc.cn/1/clouddrive/",Yo="",vP="",Xue="",Iu={},Yue="CatVodOpen",nd=null,K_="";async function Zue(e){nA=e.server.db;let t=e.server.config.uc;Yo=t.cookie,Y_=Wa.default.enc.Hex.stringify(Wa.default.MD5(t.cookie)).toString(),vP=Wa.default.enc.Hex.stringify(Wa.default.MD5(t.token)).toString(),Xue=Wa.default.enc.Hex.stringify(Wa.default.MD5(t.ut)).toString();let r=await nA.getObjectDefault("/uc",{});if(r[Y_]&&(Yo=r[Y_]),K_=await gP(e.server),!K_)try{await Pe.get(`${EP}/file`)}catch(n){n?.response?.data?.length&&(K_=n.response.data,AP(e.server,K_))}}async function da(e,t,r,n,s){r=r||{},Object.assign(r,xP),Object.assign(r,{Cookie:Yo||""}),n=n||"post";let i=n=="get"?await Pe.get(`${EP}/${e}`,{headers:r}).catch(o=>(console.error(o),o?.response?.status===401&&messageToDart({action:"toast",opt:{message:"UC token\u5DF2\u8FC7\u671F\uFF0C\u8BF7\u524D\u5F80\u3010\u914D\u7F6E\u3011\u7AD9\u6E90\u8FDB\u884C\u914D\u7F6E",duration:5}}),o.response||{status:500,data:{}})):await Pe.post(`${EP}/${e}`,t,{headers:r}).catch(o=>(console.error(o),o?.response?.status===401&&messageToDart({action:"toast",opt:{message:"UC token\u5DF2\u8FC7\u671F\uFF0C\u8BF7\u524D\u5F80\u3010\u914D\u7F6E\u3011\u7AD9\u6E90\u8FDB\u884C\u914D\u7F6E",duration:5}}),o.response||{status:500,data:{}})),a=s||3;if(i.headers["set-cookie"]){let o=i.headers["set-cookie"].join(";;;").match(/__puus=([^;]+)/);o&&Yo.match(/__puus=([^;]+)/)[1]!=o[1]&&(Yo=Yo.replace(/__puus=[^;]+/,`__puus=${o[1]}`),await nA.push(`/uc/${Y_}`,Yo))}return i.status===429&&a>0?(await Dp(1e3),await da(e,t,r,n,a-1)):i.data||{}}async function Wue(){let e=await da(`file/sort?${Ja}&pdir_fid=${nd}&_page=1&_size=200&_sort=file_type:asc,updated_at:desc`,{},{},"get");if(e.data&&e.data.list&&e.data.list.length>0){let t=await da(`file/delete?${Ja}`,{action_type:2,filelist:e.data.list.map(r=>r.fid),exclude_fids:[]});console.log(t)}}async function bet(e){if(nd){e&&await Wue();return}let t=await da(`file/sort?${Ja}&pdir_fid=0&_page=1&_size=200&_sort=file_type:asc,updated_at:desc`,{},{},"get");if(t.data&&t.data.list){for(let r of t.data.list)if(r.file_name===Yue){nd=r.fid,await Wue();break}}if(!nd){let r=await da(`file?${Ja}`,{pdir_fid:"0",file_name:Yue,dir_path:"",dir_init_lock:!1});console.log(r),r.data&&r.data.fid&&(nd=r.data.fid)}}async function ele(e){if(!Iu[e.shareId]){delete Iu[e.shareId];let t=await da(`share/sharepage/token?${Ja}`,{pwd_id:e.shareId,passcode:e.sharePwd||""});t.data&&t.data.stoken&&(Iu[e.shareId]=t.data)}}var Eet=[".srt",".ass",".scc",".stl",".ttml"];async function xet(e){let t=typeof e=="string"?Jue(e):e;if(!t)return[];if(await ele(t),!Iu[t.shareId])return[];let r=[],n=[],s=(a,o)=>a?`${a}/${o}`:o,i=async function(a,o,c,u){let l=u||"",d=100;c=c||1;let f=await da(`share/sharepage/detail?${Ja}&pwd_id=${a}&stoken=${encodeURIComponent(Iu[a].stoken)}&pdir_fid=${o}&force=0&_page=${c}&_size=${d}&_sort=file_type:asc,file_name:asc`,{},{},"get");if(!f.data)return[];let h=f.data.list;if(!h)return[];let p=[];for(let m of h)if(m.dir===!0)p.push({fid:m.fid,path:s(l,m.file_name)});else if(m.file===!0&&m.obj_category==="video"){if(m.size<1024*1024*5)continue;m.stoken=Iu[t.shareId].stoken,m.vod_group=l,r.push(m)}else m.type==="file"&&Eet.some(A=>m.file_name.endsWith(A))&&n.push(m);if(c<Math.ceil(f.metadata._total/d)){let m=await i(a,o,c+1,l);for(let A of m)h.push(A)}for(let m of p){let A=await i(a,m.fid,1,m.path);for(let g of A)h.push(g)}return h};return await i(t.shareId,t.folderId,1,""),n.length>0&&r.forEach(a=>{var o=jv(a,n);o.bestMatch&&(a.subtitle=o.bestMatch.target)}),r}var Wo={};async function tle(e,t,r,n,s){if(await bet(s),s){let a=Object.keys(Wo);for(let o of a)delete Wo[o]}if(!nd||!t&&(await ele({shareId:e}),!Iu[e]))return null;let i=await da(`share/sharepage/save?${Ja}`,{fid_list:[r],fid_token_list:[n],to_pdir_fid:nd,pwd_id:e,stoken:t||Iu[e].stoken,pdir_fid:"0",scene:"link"});if(i.data&&i.data.task_id){let a=0;for(;;){let o=await da(`task?${Ja}&task_id=${i.data.task_id}&retry_index=${a}`,{},{},"get");if(o.data&&o.data.save_as&&o.data.save_as.save_as_top_fids&&o.data.save_as.save_as_top_fids.length>0)return o.data.save_as.save_as_top_fids[0];if(a++,a>5)break;await Dp(1e3)}}return!1}async function rle(e,t,r,n){if(!Wo[r]){let i=await tle(e,t,r,n,!0);if(!i)return null;Wo[r]=i}let s=await da(`file/v2/play?${Ja}`,{fid:Wo[r],resolutions:"normal,low,high,super,2k,4k",supports:"fmp4"});return s.data&&s.data.video_list?s.data.video_list:null}async function vet(e,t,r,n,s){if(!Wo[r]){let c=await tle(e,t,r,n,s);if(!c)return null;Wo[r]=c}let i=await nA.getObjectDefault("/uc",{}),a=i[vP],o=i[Xue];if(a){let c=[],u="/file",l=Math.floor(Date.now()/1e3).toString()+"000",d=Pi.DeviceID||yet(l),f=sA(d,l),h=J_("GET",u,l,Xr.signKey),p={method:"GET",url:"https://open-api-drive.uc.cn/file",params:{req_id:f,access_token:a,app_ver:Xr.appVer,device_id:d,device_brand:"Xiaomi",platform:"tv",device_name:"M2004J7AC",device_model:"M2004J7AC",build_device:"M2004J7AC",build_product:"M2004J7AC",device_gpu:"Adreno (TM) 550",activity_rect:"{}",channel:Xr.channel,method:"streaming",group_by:"source",fid:Wo[r],resolution:"low,normal,high,super,2k,4k",support:"dolby_vision"},headers:{"User-Agent":"Mozilla/5.0 (Linux; U; Android 9; zh-cn; RMX1931 Build/PQ3A.190605.05081124) AppleWebKit/533.1 (KHTML, like Gecko) Mobile Safari/533.1",Connection:"Keep-Alive","Accept-Encoding":"gzip","x-pan-tm":l,"x-pan-token":h,"content-type":"text/plain;charset=UTF-8","x-pan-client-id":Xr.clientID}},m=await _e.request(p);if(m.status===200){let A=m.data.data.video_info.filter(g=>g.accessable)[0];return A.download_url=A.url,A}}else{let c=`file/download?${Ja}`;o&&(c+=`&ut=${o}`);let u=await da(c,{fids:[Wo[r]]});if(u.data)return u.data[0]}return null}async function nle(e){if(qg(e)){let t=Jue(e);if(t){let r=await xet(t);return r=r.map(n=>({vod_id:[t.shareId,n.stoken,n.fid,n.share_fid_token,n.subtitle?n.subtitle.fid:"",n.subtitle?n.subtitle.share_fid_token:""].join("*"),vod_name:n.file_name,vod_size:n.size,vod_group:n.vod_group})),Ni(getPanName("uc"),r)}else return{}}}var W_={},bP={};async function sle(e,t){let r=e.params.site,n=e.params.what,s=e.params.shareId,i=e.params.fileId;if(await Zue(e),r=="uc"){let a="",o=i.split("*"),c=e.params.flag;if(n=="trans"){W_[o[1]]||(W_[o[1]]=(await rle(s,decodeURIComponent(o[0]),o[1],o[2])).filter(h=>h.accessable)),a=W_[o[1]].filter(h=>h.resolution.toLowerCase()==c)[0].video_info.url,t.redirect(a);return}else{if(!bP[o[1]]){let h=await vet(s,decodeURIComponent(o[0]),o[1],o[2],c=="down");h&&(bP[o[1]]=h)}if(a=bP[o[1]].download_url,c=="redirect"){t.redirect(a);return}}let l=(globalThis.Pans||[]).find(h=>h.key==="uc")||{},d=l.chunkSize||512,f=l.poolSize||10;return await T_(e,t,a,o[1],Object.assign({Cookie:Yo},xP),{chunkSize:1024*d,poolSize:f,timeout:1e3*10})}}async function ile(e,t){let r=e.body.flag,s=e.body.id.split("*");await Zue(e);let i=0;if(r.startsWith(getPanName("uc"))){let a=(await rle(s[0],s[1],s[2],s[3])).filter(A=>A.accessable);W_[s[2]]=a;let o=[],c=["\u8D85\u6E05","\u84DD\u5149","\u9AD8\u6E05","\u6807\u6E05","\u666E\u753B","\u6781\u901F"],u=["4k","2k","super","high","low","normal"],l=e.server.address().url+e.server.prefix+"/proxy/uc",f=(await nA.getObjectDefault("/uc",{}))[vP],h=["\u4EE3\u7406",`${l}/src/down/${s[0]}/${encodeURIComponent(s[1])}*${s[2]}*${s[3]}/.bin`],p=["\u539F\u753B",`${l}/src/redirect/${s[0]}/${encodeURIComponent(s[1])}*${s[2]}*${s[3]}/.bin`];f?o.push(...p,...h):o.push(...h,...p);let m={parse:0,url:o,header:Object.assign({Cookie:Yo},xP)};return f&&(m.header=void 0),s[3]&&(m.extra={subt:`${l}/src/subt/${s[0]}/${encodeURIComponent(s[1])}*${s[4]}*${s[5]}/.bin`}),a.forEach(A=>{i=u.indexOf(A.resolution),o.push(c[i]),o.push(`${l}/trans/${A.resolution.toLowerCase()}/${s[0]}/${encodeURIComponent(s[1])}*${s[2]}*${s[3]}/.mp4`)}),m}}var zP=ke(jP(),1),dde=ke(cde(),1),GP=ke(require("crypto"),1),VP,KP={},zp={set(e,t){KP[e]=t,VP.push(`/tyi/${e}`,t)},get(e){return KP[e]}},ude=(e,t={})=>{let r=t.method||"GET",n=t.headers||{};return _e({method:r,url:e,headers:n,transformResponse:[s=>s]}).then(s=>({ok:s.status===200,status:s.status,statusText:s.statusText,url:s.config.url,text:()=>Promise.resolve(s.data),json:()=>Promise.resolve(JSON.parse(s.data)),headers:s.headers})).catch(s=>s.response?{ok:!1,status:s.response.status,statusText:s.response.statusText,url:s.config.url,text:()=>Promise.resolve(s.response.data),json:()=>Promise.resolve(JSON.parse(s.response.data)),headers:s.response.headers}:s.request?{ok:!1,status:0,statusText:"No response received",text:()=>Promise.resolve(""),json:()=>Promise.reject(new Error("No response received"))}:Promise.reject(s))},lde=(0,dde.default)({storeAsString:!0}),irt=(e,t)=>e?`${e}/${t}`:t,YP=class{publicKey=null;setPublicKey(t){this.publicKey=t}encrypt(t){let r=Buffer.from(t,"utf8");return GP.default.publicEncrypt({key:this.publicKey,padding:GP.default.constants.RSA_PKCS1_PADDING},r).toString("base64")}},fde=async e=>{VP=e.server.db,KP=await VP.getObjectDefault("/tyi",{})},WP=class{constructor(){this.regex=/https?:\/\/cloud\.189\.cn\/web\/share\?code=([^&]+)/,this.config={clientId:"538135150693412",model:"KB2000",version:"9.0.6",pubKey:"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCZLyV4gHNDUGJMZoOcYauxmNEsKrc0TlLeBEVVIIQNzG4WqjimceOj5R9ETwDeeSN3yejAKLGHgx83lyy2wBjvnbfm/nLObyWwQD/09CmpZdxoFYCH6rdDjRpwZOZ2nXSZpgkZXoOBkfNXNxnN74aXtho2dqBynTw3NFTWyQl8BQIDAQAB"},this.headers={"User-Agent":`Mozilla/5.0 (Linux; U; Android 11; ${this.config.model} Build/RP1A.201005.001) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/74.0.3729.136 Mobile Safari/537.36 Ecloud/${this.config.version} Android/30 clientId/${this.config.clientId} clientModel/${this.config.model} clientChannelId/qq proVersion/1.0.6`,Referer:"https://m.cloud.189.cn/zhuanti/2016/sign/index.jsp?albumBackupOpened=1","Accept-Encoding":"gzip, deflate"},this.api="https://cloud.189.cn/api",this.shareCode="",this.accessCode="",this.shareId="",this.shareMode="",this.isFolder="",this.index=0}async init(){this.account&&console.log("\u5929\u7FFC\u8D26\u53F7\u83B7\u53D6\u6210\u529F\uFF1A"+this.account),this.password&&console.log("\u5929\u7FFC\u5BC6\u7801\u83B7\u53D6\u6210\u529F\uFF1A"+this.password),this.cookie?console.log("\u5929\u7FFCcookie\u83B7\u53D6\u6210\u529F"+this.cookie):zp.set("cloud_cookie",await this.login(this.account,this.password))}get account(){return zp.get("cloud_account")}get password(){return zp.get("cloud_password")}get cookie(){return zp.get("cloud_cookie")}async login(t,r){try{let n=await _e.post("https://open.e.189.cn/api/logbox/config/encryptConf.do?appId=cloud"),s=n.data.data.pubKey;n=await _e.get("https://cloud.189.cn/api/portal/loginUrl.action?redirectURL=https://cloud.189.cn/web/redirect.html?returnURL=/main.action");let i=n.request.path.match(/reqId=(\w+)/)[1],o={"Content-Type":"application/x-www-form-urlencoded","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:74.0) Gecko/20100101 Firefox/76.0",Referer:"https://open.e.189.cn/",Lt:n.request.path.match(/lt=(\w+)/)[1],Reqid:i},c={version:"2.0",appKey:"cloud"};n=await _e.post("https://open.e.189.cn/api/logbox/oauth2/appConf.do",zP.default.stringify(c),{headers:o});let u=n.data.data.returnUrl,l=n.data.data.paramId,d=`-----BEGIN PUBLIC KEY-----
${s}
-----END PUBLIC KEY-----`,f=new YP;f.setPublicKey(d);let h=Buffer.from(f.encrypt(t),"base64").toString("hex"),p=Buffer.from(f.encrypt(r),"base64").toString("hex");if(c={appKey:"cloud",version:"2.0",accountType:"01",mailSuffix:"@189.cn",validateCode:"",returnUrl:u,paramId:l,captchaToken:"",dynamicCheck:"FALSE",clientType:"1",cb_SaveName:"0",isOauth2:!1,userName:`{NRP}${h}`,password:`{NRP}${p}`},n=await _e.post("https://open.e.189.cn/api/logbox/oauth2/loginSubmit.do",zP.default.stringify(c),{headers:o,validateStatus:null}),n.data.toUrl){let m=n.headers["set-cookie"].map(A=>A.split(";")[0]).join(";");n=await _e.get(n.data.toUrl,{headers:{...this.headers,Cookie:m},maxRedirects:0,validateStatus:null}),m+="; "+n.headers["set-cookie"].map(A=>A.split(";")[0]).join(";"),zp.set("cloud_cookie",m)}else console.error("Error during login:",n.data)}catch(n){console.error("Error during login:",n)}}async getShareID(t,r){let n=this.regex.exec(t);if(n&&n[1]){this.shareCode=n[1];let s=this.shareCode.match(/([a-zA-Z0-9]+)/);this.accessCode=s?s[1]:""}else{let s=t.match(/https?:\/\/cloud\.189\.cn\/t\/([^&]+)/);this.shareCode=s?s[1]:null;let i=this.shareCode.match(/([a-zA-Z0-9]+)/);this.accessCode=i?i[1]:""}r&&(this.accessCode=r)}async getShareData(t,r){let n={},s=[],i=await this.getShareInfo(t,r);if(i){let a=await this.getShareList(i);a&&Array.isArray(a)?await Promise.all(a.map(async o=>{let c=o.path||o.name;c in n||(n[c]=[]);let u=await this.getShareFile(o.id);u&&u.length>0&&n[c].push(...u)})):n.root=await this.getShareFile(i)}for(let a in n)n[a].length===0&&delete n[a];return Object.keys(n).length===0&&(n.root=await this.getShareFile(i),n.root&&Array.isArray(n.root)&&(n.root=n.root.filter(a=>a&&Object.keys(a).length>0))),Object.keys(n).forEach(a=>{n[a]=n[a].map(o=>({vod_id:[o.fileId,o.shareId].join("*"),vod_name:o.name,vod_size:o.size}))}),n}async getShareInfo(t,r){t.startsWith("http")?await this.getShareID(t,r):this.shareCode=t;try{if(r){let n=await _e.get(`${this.api}/open/share/checkAccessCode.action?shareCode=${this.shareCode}&accessCode=${this.accessCode}`,{headers:{"user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",accept:"application/json;charset=UTF-8","accept-encoding":"gzip, deflate, br, zstd","accept-language":"zh-CN,zh;q=0.9"}});n.status===200&&(this.shareId=n.data.shareId);let s=await _e.get(`${this.api}/open/share/getShareInfoByCodeV2.action?key=noCache&shareCode=${this.shareCode}`,{headers:{"user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",accept:"application/json;charset=UTF-8","accept-encoding":"gzip, deflate, br, zstd","accept-language":"zh-CN,zh;q=0.9"}}),i=s.data.fileId;return this.shareMode=s.data.shareMode,this.isFolder=s.data.isFolder,i}else{let n=await _e.get(`${this.api}/open/share/getShareInfoByCodeV2.action?key=noCache&shareCode=${this.shareCode}`,{headers:{"user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",accept:"application/json;charset=UTF-8","accept-encoding":"gzip, deflate, br, zstd","accept-language":"zh-CN,zh;q=0.9"}}),s=n.data.fileId;return this.shareId=n.data.shareId,this.shareMode=n.data.shareMode,this.isFolder=n.data.isFolder,s}}catch(n){console.error("Error during getShareInfo:",n)}}async getShareList(t,r=""){try{let n=[],s={};s["User-Agent"]="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",s.Accept="application/json;charset=UTF-8",s["Accept-Encoding"]="gzip, deflate, br, zstd";let i={method:"GET",headers:s},a=await ude(`${this.api}/open/share/listShareDir.action?key=noCache&pageNum=1&pageSize=9999&fileId=${t}&shareDirFileId=${t}&isFolder=${this.isFolder}&shareId=${this.shareId}&shareMode=${this.shareMode}&iconOption=5&orderBy=lastOpTime&descending=true&accessCode=${this.accessCode}&noCache=${Math.random()}`,i),u=lde.parse(await a.text())?.fileListAO?.folderList;if(!u)return null;if(u&&u.length>0){let l=u.map(f=>({name:f.name,id:f.id,type:"folder",path:irt(r,f.name)}));n.push(...l);let d=await Promise.all(l.map(async f=>this.getShareList(f.id,f.path)));return d=d.filter(f=>f!=null),[...n,...d.flat()]}}catch(n){console.log(n)}}async getShareFile(t){try{let r={};r["User-Agent"]="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",r.Accept="application/json;charset=UTF-8",r["Accept-Encoding"]="gzip, deflate, br, zstd";let n={method:"GET",headers:r},s=await ude(`${this.api}/open/share/listShareDir.action?key=noCache&pageNum=1&pageSize=9999&fileId=${t}&shareDirFileId=${t}&isFolder=${this.isFolder}&shareId=${this.shareId}&shareMode=${this.shareMode}&iconOption=5&orderBy=lastOpTime&descending=true&accessCode=${this.accessCode}&noCache=${Math.random()}`,n),i=lde.parse(await s.text()),a=[],o=i?.fileListAO,c=o.fileList;if(!c)return null;let u=c.map(f=>f.name),l=c.map(f=>f.id),d=o.fileListSize;if(d>=0)for(let f=0;f<d;f++)c[f].mediaType===3&&a.push({name:u[f],fileId:l[f],shareId:this.shareId,size:c[f].size});return a}catch(r){console.log(r)}}async getShareUrl(t,r){let n={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",Accept:"application/json;charset=UTF-8","Accept-Encoding":"gzip, deflate, br, zstd"};!this.cookie&&this.account&&this.password&&this.index<2&&(console.log("\u6B63\u5728\u767B\u5F55\uFF0C\u8BF7\u7A0D\u7B49...."),await this.login(this.account,this.password),console.log("\u767B\u5F55\u6210\u529F,\u83B7\u53D6cookie\u6210\u529F")),n.Cookie=this.cookie;try{let s=await _e.get(`${this.api}/portal/getNewVlcVideoPlayUrl.action?shareId=${r}&dt=1&fileId=${t}&type=4&key=noCache`,{headers:n}),i=await _e.get(s.data.normal.url,{maxRedirects:0,validateStatus:function(o){return o>=200&&o<400}}),a="";return i.status>=300&&i.status<400&&i.headers.location?a=i.headers.location:a=s.data.normal.url,a}catch(s){if(s.response&&s.response.status===400&&this.index<2)return console.log("\u83B7\u53D6\u64AD\u653E\u5730\u5740\u5931\u8D25\uFF0C\u9519\u8BEF\u4FE1\u606F\u4E3A\uFF1A"+s.response.data),console.log("cookie\u5931\u6548\uFF0C\u6B63\u5728\u91CD\u65B0\u83B7\u53D6cookie"),zp.set("cloud_cookie",""),this.index+=1,await this.getShareUrl(t,r);console.error("Error during getShareUrl:",s.message,s.response?s.response.status:"N/A")}finally{this.index>=2&&(this.index=0,messageToDart({action:"toast",opt:{message:"\u5929\u7FFC\u8D26\u53F7\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u524D\u5F80\u3010\u914D\u7F6E\u3011\u7AD9\u6E90\u8FDB\u884C\u914D\u7F6E",duration:5}}))}}},JP=new WP;var yn=ke(Hs(),1),XP=class{constructor(){this.regexs=[/https:\/\/yun.139.com\/shareweb\/#\/w\/i\/([^&]+)/,/https:\/\/caiyun.139.com\/m\/i\?([^&]+)/,/https:\/\/caiyun.139.com\/w\/i\/([^&]+)/],this.x=yn.default.enc.Utf8.parse("PVGDwmcvfs1uV3d1"),this.baseUrl="https://share-kd-njs.yun.139.com/yun-share/richlifeApp/devapp/IOutLink/",this.baseHeader={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",Accept:"application/json, text/plain, */*","Content-Type":"application/json","hcy-cool-flag":"1","x-deviceinfo":"||3|12.27.0|chrome|131.0.0.0|5c7c68368f048245e1ce47f1c0f8f2d0||windows 10|1536X695|zh-CN|||"},this.linkID="",this.cache={}}encrypt(t){let r=yn.default.lib.WordArray.random(16),n="";if(typeof t=="string"){let s=yn.default.enc.Utf8.parse(t);n=yn.default.AES.encrypt(s,this.x,{iv:r,mode:yn.default.mode.CBC,padding:yn.default.pad.Pkcs7})}else if(typeof t=="object"&&t!==null){let s=JSON.stringify(t),i=yn.default.enc.Utf8.parse(s);n=yn.default.AES.encrypt(i,this.x,{iv:r,mode:yn.default.mode.CBC,padding:yn.default.pad.Pkcs7})}return yn.default.enc.Base64.stringify(r.concat(n.ciphertext))}decrypt(t){let r=yn.default.enc.Base64.parse(t),n=r.clone(),s=n.words.splice(4);n.init(n.words),r.init(s);let i=yn.default.enc.Base64.stringify(r);return yn.default.AES.decrypt(i,this.x,{iv:n,mode:yn.default.mode.CBC,padding:yn.default.pad.Pkcs7}).toString(yn.default.enc.Utf8).toString()}async getShareID(t){this.regexs.forEach(r=>{let n=r.exec(t);n&&n[1]&&(this.linkID=n[1])})}async getShareInfo(t){if(!this.linkID)return console.error("linkID is not set. Please call getShareID first."),null;let r=`${this.linkID}-${t}`;if(this.cache[r])return this.cache[r];let n=JSON.stringify(this.encrypt(JSON.stringify({getOutLinkInfoReq:{account:"",linkID:this.linkID,passwd:"",caSrt:0,coSrt:0,srtDr:1,bNum:1,pCaID:t,eNum:200},commonAccountInfo:{account:"",accountType:1}})));try{let s=await _e.post(this.baseUrl+"getOutLinkInfoV6",n,{headers:this.baseHeader});if(s.status!==200)return null;let i=JSON.parse(this.decrypt(s.data)).data;return this.cache[r]=i,i}catch(s){return console.error("Error processing share info:",s),null}}async getShareData(t){if(!t)return{};let r=t.startsWith("http"),n=r?"root":t;r&&await this.getShareID(t);let s={},i=await this.getShareFile(n);i&&Array.isArray(i)&&await Promise.all(i.map(async a=>{let o=a.path||a.name;o in s||(s[o]=[]);let c=await this.getShareUrl(a.path);c&&c.length>0&&s[o].push(...c)}));for(let a in s)s[a].length===0&&delete s[a];return Object.keys(s).length===0&&(s.root=await this.getShareFile(t),s.root&&Array.isArray(s.root)&&(s.root=s.root.filter(a=>a&&Object.keys(a).length>0))),Object.keys(s).forEach(a=>{s[a]=s[a].map(o=>({vod_name:o.name,vod_id:[o.contentId,o.linkID].join("*"),vod_size:o.size}))}),s}async getShareFile(t){if(!t)return null;try{t=t.startsWith("http")?"root":t;let n=await this.getShareInfo(t);if(!n||!n.caLst)return null;let s=n?.caLst,i=s.map(u=>u.caName),a=s.map(u=>u.path),o=/App|||1T|/,c=[];if(s&&s.length>0){i.forEach((l,d)=>{o.test(l)||c.push({name:l,path:a[d]})});let u=await Promise.all(a.map(async l=>this.getShareFile(l)));return u=u.filter(l=>l!=null),[...c,...u.flat()]}}catch(r){return console.error("Error processing share data:",r),null}}async getShareUrl(t){try{let r=await this.getShareInfo(t);if(!r||!("coLst"in r))return null;let n=r.coLst;if(n!==null)return n.filter(i=>i&&i.coType===3).map(i=>({name:i.coName,contentId:i.coID,linkID:this.linkID,size:i.coSize}));if(r.caLst!==null){let s=r.caLst.map(a=>a.path),i=await Promise.all(s.map(a=>this.getShareUrl(a)));return i=i.filter(a=>a&&a.length>0),i.flat()}}catch(r){return console.error("Error processing share URL:",r),null}}async getSharePlay(t,r){let n={getContentInfoFromOutLinkReq:{contentId:t,linkID:r,account:""},commonAccountInfo:{account:"",accountType:1}},s=await _e.post(this.baseUrl+"getContentInfoFromOutLink",n,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",Accept:"application/json, text/plain, */*","Accept-Encoding":"gzip, deflate, br, zstd","Content-Type":"application/json"}});if(s.status===200&&s.data.data!==null)return s.data.data.contentInfo.presentURL}},ZP=new XP;var eO=ke(Hs(),1);function art(e){return Buffer.from(e,"base64").toString("utf8")}var pde=(e,t)=>e?`${e}/${t}`:t,tO,rO={},uI={set(e,t){rO[e]=t,tO.push(`/pan123/${e}`,t)},get(e){return rO[e]}},hde=async e=>{tO=e.server.db,rO=await tO.getObjectDefault("/pan123",{})},nO=class{constructor(){this.regex=/https:\/\/(?:www\.)?(123684\.com|123865\.com|123912\.com|123pan\.com|123pan\.cn|123592\.com)\/s\/([^\\/]+)/,this.api="https://www.123684.com/b/api/share/",this.loginUrl="https://login.123pan.com/api/user/sign_in",this.cate=""}async init(){this.passport&&console.log("\u83B7\u53D6\u76D8123\u8D26\u53F7\u6210\u529F"),this.password&&console.log("\u83B7\u53D6\u76D8123\u5BC6\u7801\u6210\u529F"),this.auth?JSON.parse(eO.default.enc.Base64.parse(this.auth.split(".")[1]).toString(eO.default.enc.Utf8)).exp>Math.floor(Date.now()/1e3)?console.log("\u767B\u5F55\u6210\u529F"):(console.log("\u767B\u5F55\u8FC7\u671F\uFF0C\u91CD\u65B0\u767B\u5F55"),await this.loin()):(console.log("\u5C1A\u672A\u767B\u5F55\uFF0C\u5F00\u59CB\u767B\u5F55"),await this.loin())}get passport(){return uI.get("pan_passport")}get password(){return uI.get("pan_password")}get auth(){return uI.get("pan_auth")}async loin(){let t=JSON.stringify({passport:this.passport,password:this.password,remember:!0}),r={method:"POST",url:this.loginUrl,headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36","Content-Type":"application/json","App-Version":"43",Referer:"https://login.123pan.com/centerlogin?redirect_url=https%3A%2F%2Fwww.123684.com&source_page=website"},data:t},n=(await _e.request(r)).data;if(!n?.data?.token){messageToDart({action:"toast",opt:{message:"123\u76D8\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u524D\u5F80\u3010\u914D\u7F6E\u3011\u7AD9\u6E90\u8FDB\u884C\u914D\u7F6E",duration:5}});return}uI.set("pan_auth",n.data.token)}getShareData(t){let r=decodeURIComponent((t||"").trim());r=r.replace(/[#.,/\s]+$/,""),this.SharePwd="";let n=r.indexOf("?");if(n>0){let a=r.slice(n+1).match(/(?:^|&)pwd=([^&]+)/i);this.SharePwd=a?decodeURIComponent(a[1]):""}let s=this.regex.exec(r);return s?s[2].indexOf("?")>0?s[2].split("?")[0]:s[2]:null}async getFilesByShareUrl(t){let r={},n=await this.getShareInfo(t,this.SharePwd,0,0,"");n&&Array.isArray(n)&&await Promise.all(n.map(async s=>{let i=s.path||s.filename;i in r||(r[i]=[]);let a=await this.getShareList(s.shareKey,s.SharePwd,0,s.fileId);a&&a.length>0&&r[i].push(...a)}));for(let s in r)r[s].length===0&&delete r[s];return Object.keys(r).forEach(s=>{r[s]=r[s].map(i=>({vod_id:[i.ShareKey,i.FileId,i.S3KeyFlag,i.Size,i.Etag].join("*"),vod_name:i.FileName,vod_size:i.Size}))}),r}async getShareInfo(t,r,n,s,i){let a=[],o=n??0,c=1,u=new Set,l=new Set,d=p=>!(p==null||p===""||p===0||p==="0"||p===-1||p==="-1"),f=100;for(;;){let p=`${c}|${o}`;if(u.has(p))break;u.add(p);let m=await _e.get(this.api+"get",{headers:{},params:{limit:"100",next:o,orderBy:"file_name",orderDirection:"asc",shareKey:t,SharePwd:r,ParentFileId:s,Page:String(c)}});if(m.status!==200)break;if(m.data.code===5103){console.log(m.data.message);break}let A=m.data.data;if(!A||!Array.isArray(A.InfoList))break;A.InfoList.forEach(x=>{if(x.Category===0){let y=`${x.FileId}|${pde(i||"",x.FileName)}`;if(l.has(y))return;l.add(y);let b=pde(i||"",x.FileName);a.push({filename:x.FileName,shareKey:t,SharePwd:r,next:0,fileId:x.FileId,path:b})}});let g=A.Next;if(d(g)){o=g;continue}if(Array.isArray(A.InfoList)&&A.InfoList.length>=f){c+=1,o=0;continue}if(!d(g))break}let h=await Promise.all(a.map(async p=>this.getShareInfo(t,r,0,p.fileId,p.path)));return h=h.filter(p=>p!=null),[...a,...h.flat()]}async getShareList(t,r,n,s){let i=[],a=n??0,o=1,c=new Set,u=new Set,l=f=>!(f==null||f===""||f===0||f==="0"||f===-1||f==="-1"),d=100;for(;;){let f=`${o}|${a}`;if(c.has(f))break;c.add(f);let p=(await _e.get(this.api+"get",{headers:{},params:{limit:"100",next:a,orderBy:"file_name",orderDirection:"asc",shareKey:t,SharePwd:r,ParentFileId:s,Page:String(o)}})).data?.data;if(!p||!Array.isArray(p.InfoList))break;p.InfoList.forEach(A=>{if(A.Category===2){let g=`${A.FileId}|${A.Etag}`;if(u.has(g))return;u.add(g),i.push({ShareKey:t,FileId:A.FileId,S3KeyFlag:A.S3KeyFlag,Size:A.Size,Etag:A.Etag,FileName:A.FileName})}});let m=p.Next;if(l(m)){a=m;continue}if(Array.isArray(p.InfoList)&&p.InfoList.length>=d){o+=1,a=0;continue}if(!l(m))break}return i}async getDownload(t,r,n,s,i){await this.init();let a=JSON.stringify({ShareKey:t,FileID:r,S3KeyFlag:n,Size:s,Etag:i}),o={method:"POST",url:`${this.api}download/info`,headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36",Authorization:`Bearer ${this.auth}`,"Content-Type":"application/json;charset=UTF-8",platform:"android"},data:a},c=(await _e.request(o)).data.data;return art(new URL(c.DownloadURL).searchParams.get("params"))}async getLiveTranscoding(t,r,n,s,i){await this.init();let a={method:"GET",url:"https://www.123684.com/b/api/video/play/info",headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36",Authorization:`Bearer ${this.auth}`,"Content-Type":"application/json;charset=UTF-8",platform:"android"},params:{etag:i,size:s,from:"1",shareKey:t}},o=(await _e.request(a)).data.data.video_play_info,c=[];return o.forEach(u=>{u.url!==""&&c.push({name:u.resolution,url:u.url})}),c}},lI=new nO;var gde=ke(qp(),1),fA=ke(Hs(),1);var sO="Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.81 Safari/537.36 SE 2.X MetaSr 1.0",od={NEW:"NEW",SCANNED:"SCANNED",CONFIRMED:"CONFIRMED",EXPIRED:"EXPIRED",CANCELED:"CANCELED"},mde={encode(e,t=3e5){let r={data:e,expireTime:Date.now()+t};return Buffer.from(JSON.stringify(r)).toString("base64url")},decode(e){try{if(!e)return null;let t=JSON.parse(Buffer.from(e,"base64url").toString());return Date.now()>t.expireTime?null:t.data}catch{return null}}},iO=async e=>{let t=fA.default.enc.Hex.stringify(fA.default.MD5(e.config.y115.cookie)).toString();return(await e.db.getObjectDefault("/y115",{}))[t]??""},ort=async(e,t)=>{let r=fA.default.enc.Hex.stringify(fA.default.MD5(e.config.y115.cookie)).toString();await e.db.push(`/y115/${r}`,t)};async function aO(e){e.get("/qrcode",async(t,r)=>{try{let s=(await _e.get("https://qrcodeapi.115.com/api/1.0/web/1.0/token",{headers:{"User-Agent":sO,referer:"https://115.com/"}})).data.data,i=mde.encode({sign:s.sign,time:s.time,uid:s.uid}),a=await gde.default.toBuffer(s.qrcode,{width:300,height:300});r.header("X-Session-Key",i),r.send(a)}catch(n){console.error("115\u4E8C\u7EF4\u7801\u751F\u6210\u5931\u8D25:",n),r.status(500).send({code:-1,message:"\u4E8C\u7EF4\u7801\u751F\u6210\u5931\u8D25"})}}),e.post("/check-status",async(t,r)=>{let{sessionKey:n}=t.body,s=mde.decode(n);if(!s)return r.send({code:0,data:{status:od.EXPIRED}});let{sign:i,time:a,uid:o}=s;try{let u=(await _e.get(`https://qrcodeapi.115.com/get/status/?_=${parseInt(Date.now()/1e3)}&sign=${i}&time=${a}&uid=${o}`,{headers:{"User-Agent":sO,referer:"https://115.com/"}})).data.data?.status;if(u===2){let l=new URLSearchParams({account:o,app:"android"}),d=await _e.post("https://passportapi.115.com/app/1.0/android/1.0/login/qrcode",l,{headers:{"User-Agent":sO,referer:"https://115.com/"}});if(d.data.state===1){let f=Ga(d.headers["set-cookie"]).join("");r.send({code:0,data:{status:od.CONFIRMED,cookie:f}})}else r.send({code:0,data:{status:od.NEW}})}else u===1?r.send({code:0,data:{status:od.SCANNED}}):u===-1||u===-2?r.send({code:0,data:{status:od.EXPIRED}}):r.send({code:0,data:{status:od.NEW}})}catch(c){console.error("115\u72B6\u6001\u68C0\u67E5\u5931\u8D25:",c),r.send({code:0,data:{status:od.NEW}})}}),e.post("/cookie",(t,r)=>{r.send({code:-1,message:"\u8BF7\u4F7F\u7528 /check-status \u63A5\u53E3"})}),e.get("/cookie",async(t,r)=>{r.send({code:0,data:await iO(t.server)})}),e.put("/cookie",async(t,r)=>{await ort(t.server,t.body.cookie),r.send({code:0})})}var bde=require("http");function crt(e){let r=/https:\/\/(?:115|anxia|115cdn)\.com\/s\/([a-zA-Z0-9]+)\?password=([a-zA-Z0-9]+)/.exec(e);return r?{shareCode:r[1],receiveCode:r[2]}:null}function urt(e){return["mp4","webm","avi","wmv","flv","mov","mkv","mpeg","3gp","ts","m2ts","mp3","wav","aac","iso"].includes(e?.slice(e?.lastIndexOf(".")+1))}async function lrt(e,t="GET",r=null,n=null){let s=new URL(e);return new Promise((i,a)=>{let o={hostname:s.hostname,path:`${s.pathname}${s.search}`,method:t,headers:r},c=(0,bde.request)(o,u=>{let l="";u.on("data",d=>{l+=d}),u.on("end",()=>{try{i(JSON.parse(l))}catch{a(l)}})});c.on("error",u=>{a(u)}),n&&c.write(n),c.end()})}var Ade=new Uint8Array([240,229,105,174,191,220,191,138,26,69,232,190,125,166,115,184,222,143,231,196,69,218,134,196,155,100,139,20,106,180,241,170,56,1,53,158,38,105,44,134,0,107,79,165,54,52,98,166,42,150,104,24,242,74,253,189,107,151,143,77,143,137,19,183,108,142,147,237,14,13,72,62,215,47,136,216,254,254,126,134,80,149,79,209,235,131,38,52,219,102,123,156,126,157,122,129,50,234,182,51,222,58,169,89,52,102,59,170,186,129,96,72,185,213,129,156,248,108,132,119,255,84,120,38,95,190,232,30,54,159,52,128,92,69,44,155,118,213,27,143,204,195,184,245]),Ede=0x8686980c0f5a24c4b9d43020cd2c22703ff3f450756529058b1cf88f09b8602136477198a6e2683149659bd122c33592fdb5ad47944ad1ea4d36c6b172aad6338c3bb6ac6227502d010993ac967d1aef00f0c8e038de2e4d3bc2ec368af2e9f10a6f1eda4f7262f136420c07c331b871bf139f74f3010e3c4fe57df3afb71683n,xde=0x10001n;function vde(e,t){t==null&&(t=Math.ceil(e.toString(16).length/2));let r=new Uint8Array(t);for(let n=t-1;n>=0;n--)r[n]=Number(e&0xffn),e>>=8n;return r}function _de(e){let t=0n;for(let r of e)t=t<<8n|BigInt(r);return t}function*oO(e,t,r=1){for(let n=e+r;n<t;n+=r)yield[e,n,r],e=n;e!==t&&(yield[e,t,t-e])}function yde(e,t){let r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function drt(e,t){let r=new Uint8Array(t),n=t*(t-1),s=0;for(let i=0;i<t;i++){let a=e[i]+Ade[s]&255;r[i]=Ade[n]^a,n-=t,s+=t}return r}function frt(e){let t=e.length,r=new Uint8Array(128);return r.fill(2,1,127-t),r.set(e,128-t),_de(r)}function dI(e,t){let r=new Uint8Array(e.length),n=e.length&3;n&&r.set(yde(e.subarray(0,n),t.subarray(0,n)));for(let[s,i]of oO(n,e.length,t.length))r.set(yde(e.subarray(s,i),t),s);return r}function Ide(e,t,r){if(r===1n)return 0n;let n=1n;for(e%=r;t;)t&1n&&(n=n*e%r),t=t>>1n,e=e*e%r;return n}function prt(e){(typeof e=="string"||e instanceof String)&&(e=new TextEncoder().encode(e));let t=new Uint8Array(16+e.length);t.set(dI(dI(e,new Uint8Array([141,165,165,141])).reverse(),new Uint8Array([120,6,173,76,51,134,93,24,76,1,63,70])),16);let r=new Uint8Array(Math.ceil(t.length/117)*128),n=0;for(let[s,i]of oO(0,t.length,117))r.set(vde(Ide(frt(t.subarray(s,i)),xde,Ede),128),n,n+=128);return Buffer.from(r).toString("base64")}function hrt(e){let t=new Uint8Array(Buffer.from(e,"base64")),r=[];for(let[i,a]of oO(0,t.length,128)){let o=Ide(_de(t.subarray(i,a)),xde,Ede),c=vde(o);r.push(...c.subarray(c.indexOf(0)+1))}r=new Uint8Array(r);let n=drt(r.subarray(0,16),12),s=dI(r.subarray(16),n).reverse();return new TextDecoder("utf-8").decode(dI(s,new Uint8Array([141,165,165,141])))}async function mrt({shareCode:e,receiveCode:t,dirID:r=""}){let n=[],s=(a,o)=>a?`${a}/${o}`:o,i=async(a,o)=>{let c=o||"",u=await _e.get("https://webapi.115.com/share/snap",{params:{share_code:e,receive_code:t,cid:a,limit:"9999",offset:"0"}});if(!u.data.data)return[];let l=u.data.data.list.filter(f=>f.fc===1),d=u.data.data.list.filter(f=>f.fc===0);for(let f of l)urt(f.n)&&n.push({...f,shareCode:e,receiveCode:t,vod_group:c});for(let f of d)await i(f.cid,s(c,f.n))};return await i(r,""),n}async function Cde(e){let t=crt(e);if(t){let r=await mrt(t);return r=r.map(n=>({vod_id:[t.shareCode,t.receiveCode,n.fid].join("*"),vod_name:n.n,vod_size:n.s,vod_group:n.vod_group})),Ni(getPanName("115"),r)}else return{}}async function wde(e){let t=e.body.id,r=await iO(e.server),[n,s,i]=t.split("*"),a=`data=${encodeURIComponent(prt(`{"share_code":"${n}","receive_code":"${s}","file_id":"${i}"}`))}`,o=await lrt("http://pro.api.115.com/app/share/downurl","POST",{"Content-Type":"application/x-www-form-urlencoded","Content-Length":Buffer.byteLength(a),Cookie:r},a);return o?.error?.includes?.("\u767B\u5F55")&&messageToDart({action:"toast",opt:{message:"115\u76D8\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u524D\u5F80\u3010\u914D\u7F6E\u3011\u7AD9\u6E90\u8FDB\u884C\u914D\u7F6E",duration:5}}),{parse:0,url:["\u539F\u753B",JSON.parse(hrt(o.data)).url.url]}}var Tde=ke(jP(),1),cO=ke(Hs(),1);var Art=async e=>globalThis.getPanName?await globalThis.getPanName(e):e,Sde=e=>{if(!e)return"";let t=e.replaceAll("\\","/").split("/").filter(Boolean);return t.length<=1?"":(t.pop(),t.join("/"))},uO,lO={},pA={set(e,t){lO[e]=t,uO.push(`/baidu/${e}`,t)},get(e){return lO[e]}},Bde=async e=>{uO=e.server.db,lO=await uO.getObjectDefault("/baidu",{})};var dO=class{constructor(){this.regex=/https:\/\/pan\.baidu\.com\/s\/(.*)\?.*?pwd=([^&]+)/,this.type=["M3U8_AUTO_4K","M3U8_AUTO_2K","M3U8_AUTO_1080","M3U8_AUTO_720","M3U8_AUTO_480"],this.headers={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36",Connection:"keep-alive",Accept:"application/json, text/plain, */*","Accept-Encoding":"gzip, deflate, br","Accept-Language":"zh,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,zh-CN;q=0.6"},this.api="https://pan.baidu.com",this.link="",this.pwd="",this.surl="",this.shorturl="",this.shareid="",this.app_id=250528,this.view_mode=1,this.channel="chunlei"}get cookie(){return pA.get("baidu_cookie")||""}async getSurl(t){this.link=t;let r=this.regex.exec(t);r&&r[1]&&(this.surl=r[1],this.shorturl=this.surl.split("").slice(1).join(""),this.pwd=r[2]||"")}async getSign(){let t={...this.headers,cookie:this.cookie},r=await Pe.get(`${this.api}/share/tplconfig?surl=${this.surl}&fields=Espace_info,card_info,sign,timestamp&view_mode=${this.view_mode}&channel=${this.channel}&web=1&app_id=${this.app_id}`,{headers:t});if(!r.data||!r.data.data||!r.data.data.sign)throw new Error(`\u83B7\u53D6sign\u5931\u8D25: ${JSON.stringify(r.data)}`);return r.data.data.sign}async getRandsk(){let t=Tde.default.stringify({pwd:this.pwd,vcode:"",vcode_str:""}),r=(await Pe.post(`${this.api}/share/verify?surl=${this.shorturl}&pwd=${this.pwd}`,t,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36",Referer:this.link}})).data.randsk,n="BDCLND="+r;if(this.cookie.includes("BDCLND")){let s=this.cookie.split(";").map(i=>(/BDCLND/.test(i)&&(i=n),i)).join(";");return s!==this.cookie&&pA.set("baidu_cookie",s),r}else{let s=this.cookie+n;return pA.set("baidu_cookie",s),r}}async getShareList(){await this.getRandsk(),this.headers.cookie=this.cookie;let t=(await Pe.get(`${this.api}/share/list?web=5&app_id=${this.app_id}&desc=1&showempty=0&page=1&num=20&order=time&shorturl=${this.shorturl}&root=1&view_mode=${this.view_mode}&channel=${this.channel}&web=1&clienttype=0`,{headers:this.headers})).data;if(t.errno===0&&t.list.length>0){let r={},n=[],s=[];this.uk=t.uk,this.shareid=t.share_id,pA.set(`baidu_share_${this.surl}`,{surl:this.surl,pwd:this.pwd,link:this.link,uk:this.uk,shareid:this.shareid}),t.list.map(a=>{if((a.category==="6"||a.category===6)&&n.push(a.path),a.category==="1"||a.category===1){let o=a.server_filename||a.path.split("/").pop(),c=Sde(a.path);s.push({vod_name:o,vod_group:c,vod_id:[a.path.replaceAll("#","\0"),this.uk,this.shareid,a.fs_id||a.fsid,this.surl].join("*"),vod_size:a.size})}}),!(t.title in r)&&t.title!==void 0&&(r[t.title]=[]),s.length>=0&&t.title!==void 0&&(r[t.title]=[...s]);let i=await Promise.all(n.map(async a=>this.getSharepath(a)));if(i=i.filter(a=>a!=null).flat(),i.length>=0){let a=i.map(o=>(o.vod_name&&o.vod_name.includes("/")&&(o.vod_name=o.vod_name.split("/").pop()),o));r[t.title].push(...a)}return r}}async getSharepath(t){await this.getRandsk(),this.headers.cookie=this.cookie;let r=(await Pe.get(`${this.api}/share/list?is_from_web=true&uk=${this.uk}&shareid=${this.shareid}&order=name&desc=0&showempty=0&view_mode=${this.view_mode}&web=1&page=1&num=100&dir=${encodeURIComponent(t)}&channel=${this.channel}&web=1&app_id=${this.app_id}`,{headers:this.headers})).data;if(r.errno===0&&r.list.length>0){let n=[],s=[];r.list.map(o=>{if((o.category==="6"||o.category===6)&&n.push(o.path),o.category==="1"||o.category===1){let c=o.server_filename||o.path.split("/").pop(),u=Sde(o.path);s.push({vod_name:c,vod_group:u,vod_id:[o.path.replaceAll("#","\0"),this.uk,this.shareid,o.fs_id||o.fsid,this.surl].join("*"),vod_size:o.size})}});let i=await Promise.all(n.map(async o=>this.getSharepath(o)));i=i.filter(o=>o!=null);let a=i.map(o=>(o.vod_name&&o.vod_name.includes("/")&&(o.vod_name=o.vod_name.split("/").pop()),o));return[...s,...a.flat()]}}sha1(t){return cO.default.SHA1(t).toString(cO.default.enc.Hex)}async getUid(){this.headers.cookie=this.cookie;let t=(await Pe.get("https://mbd.baidu.com/userx/v1/info/get?appname=baiduboxapp&fields=%20%20%20%20%20%20%20%20%5B%22bg_image%22,%22member%22,%22uid%22,%22avatar%22,%20%22avatar_member%22%5D&client&clientfrom&lang=zh-cn&tpl&ttt",{headers:this.headers})).data;if(t&&t.data&&t.data.fields&&t.data.fields.uid)return t.data.fields.uid;throw new Error("\u83B7\u53D6\u7528\u6237UID\u5931\u8D25: "+JSON.stringify(t))}async getShareUrl(t,r,n,s){t=t.replaceAll("\0","#");let i=await this.getSign(),a=[],o=Math.floor(new Date/1e3);return this.type.map(c=>{a.push({name:c.replace("M3U8_AUTO_",""),url:`${this.api}/share/streaming?channel=${this.channel}&uk=${r}&fid=${s}&sign=${i}&timestamp=${o}&shareid=${n}&type=${c}&vip=0&jsToken&isplayer=1&check_blue=1&adToken`})}),a}async getAppShareUrl(t,r,n,s){t=t.replaceAll("\0","#");let i=await this.getRandsk(),a=await this.getUid(),o=Object.assign({},this.headers,{"User-Agent":"netdisk;P2SP;2.2.91.136;android-android;"}),c="73CED981D0F186D12BC18CAE1684FFD5|VSRCQTF6W",u=String(new Date().getTime()),l=this.sha1(this.sha1(this.cookie.match(/BDUSS=(.+?);/)[1])+a+"ebrcUYiuxaZv2XGu7KIYKxUrqfnOfpDF"+u+c+"11.30.2ae5821440fab5e1a61a025f014bd8972"),d=this.api+"/share/list?shareid="+n+"&uk="+r+"&fid="+s+"&sekey="+i+"&origin=dlna&devuid="+c+"&clienttype=1&channel=android_12_zhao_bd-netdisk_1024266h&version=11.30.2&time="+u+"&rand="+l,f=(await Pe.get(d,{headers:o})).data;if(f.errno===0&&f.list.length>0)return f.list[0].dlink}},rs=new dO;async function Rde(e,t){await Bde(t),await rs.getSurl(e);let r=await rs.getShareList();if(!r)return null;let n=await Art("baidu"),s=[],i=[];return Object.keys(r).forEach(a=>{let o=Ni(n,r[a]);o&&o.from&&o.url&&(s.push(o.from),i.push(o.url))}),s.length===0?null:{from:s.join("$$$"),url:i.join("$$$")}}var fO={};async function Nde(e,t){let r=e.body.id.split("*");await Bde(e);let n=r[4],s=pA.get(`baidu_share_${n}`);s&&(rs.surl=s.surl,rs.pwd=s.pwd,rs.link=s.link,rs.uk=s.uk,rs.shareid=s.shareid,rs.shorturl=rs.surl?rs.surl.split("").slice(1).join(""):"",rs.pwd&&(await rs.getRandsk(),rs.headers.cookie=rs.cookie));let i=e.server.address().url+e.server.prefix+"/proxy/baidu",a=`${r[0]}*${r[1]}*${r[2]}*${r[3]}`,o=encodeURIComponent(a),c=n;try{let l=await rs.getAppShareUrl(r[0],r[1],r[2],r[3]);if(l)return fO[n]={type:"app",url:l,fileId:a,headers:{"User-Agent":"netdisk;P2SP;2.2.91.136;android-android;",Referer:"https://pan.baidu.com/"}},{parse:0,url:["\u539F\u753B",`${i}/src/redirect/${c}/${o}/.bin`],header:{}}}catch(l){console.log("App\u7248API\u5931\u8D25\uFF0C\u964D\u7EA7\u5230Web\u7248API:",l.message)}let u=await rs.getShareUrl(r[0],r[1],r[2],r[3]);if(u&&u.length>0){fO[n]={type:"web",urls:u,fileId:a,headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36",Referer:"https://pan.baidu.com/"}};let l=[];return u.forEach(d=>{l.push(d.name,`${i}/src/${d.name}/${c}/${o}/.bin`)}),{parse:0,url:l,header:{}}}throw new Error("\u83B7\u53D6\u64AD\u653E\u94FE\u63A5\u5931\u8D25")}async function kde(e,t){let r=e.params.site,n=e.params.what,s=e.params.shareId,i=e.params.fileId,a=e.params.flag;if(r!=="baidu")return t.status(400).send({error:"Invalid site"});let o=fO[s];if(!o)return t.status(404).send({error:"Play URL not found in cache"});let c,u=o.headers;if(o.type==="app")c=o.url;else if(o.type==="web"){let l=o.urls.find(d=>d.name===a);if(!l)return t.status(404).send({error:"Quality not found"});c=l.url}else return t.status(500).send({error:"Invalid cache type"});return t.redirect(c)}var Jt=qv,brt=e=>e==null||e==="root"?"":String(e),pO=e=>{if(!e)return[];if(Array.isArray(e))return e;let t=[];return Object.keys(e).forEach(r=>{let n=e[r];if(!Array.isArray(n))return;let s=brt(r);n.forEach(i=>{t.push({...i,vod_group:i?.vod_group??s})})}),t};async function Wt(e,t){return{}}async function qt(e,t){e=Array.isArray(e)?e:[e];let r=e.map(a=>{let o=Xo().find(c=>c.validator(a))?.key;return{key:o,url:a,order:globalThis.Pans.findIndex(c=>c.key===o)}}).filter(a=>a.key);r.sort((a,o)=>a.order-o.order),e=r.map(a=>a.url);let n=[],s=[];for(let a of e)if(Ug(a)){let o=await $oe(a);o&&o.from&&o.url&&(n.push(o.from),s.push(o.url))}else if(qg(a)){let o=await nle(a);o&&o.from&&o.url&&(n.push(o.from),s.push(o.url))}else if(jg(a)){let o=await JP.getShareData(a);if(o){let c=await getPanName("tianyi"),u=pO(o),l=Ni(c,u);l&&l.from&&l.url&&(n.push(l.from),s.push(l.url))}}else if(yD(a)){let o=await ZP.getShareData(a),c=await getPanName("yidong"),u=pO(o),l=Ni(c,u);l&&l.from&&l.url&&(n.push(l.from),s.push(l.url))}else if(bD(a)){let o=await lI.getShareData(a),c=await lI.getFilesByShareUrl(o),u=await getPanName("123"),l=pO(c),d=Ni(u,l);d&&d.from&&d.url&&(n.push(d.from),s.push(d.url))}else if(ED(a)){let o=await Cde(a);o&&o.from&&o.url&&(n.push(o.from),s.push(o.url))}else if(xD(a)){let o=await Rde(a,t);o&&o.from&&o.url&&(n.push(o.from),s.push(o.url))}let i={};return n.forEach((a,o)=>{i[a]?n[o]=`${a}-${++i[a]}`:i[a]=1}),{froms:n.join("$$$"),urls:s.join("$$$")}}async function jt(e,t){let r=e.params.site;if(r=="quark")return await Loe(e,t);if(r=="uc")return await sle(e,t);if(r=="baidu")return await kde(e,t)}async function Ht(e,t){let r=e.body.flag;if(r.startsWith(await getPanName("quark")))return await Moe(e,t);if(r.startsWith(await getPanName("uc")))return await ile(e,t);if(r.startsWith(await getPanName("tianyi"))){let n=e.body.id.split("*");return await fde(e),{parse:0,url:["\u539F\u753B",await JP.getShareUrl(n[0],n[1])]}}else if(r.startsWith(await getPanName("yidong"))){let n=e.body.id.split("*");return{parse:0,url:["\u539F\u753B",await ZP.getSharePlay(n[0],n[1])]}}else if(r.startsWith(await getPanName("123"))){await hde(e);let n=e.body.id.split("*");return{parse:0,url:["\u539F\u753B",await lI.getDownload(...n)]}}else{if(r.startsWith(await getPanName("115")))return await wde(e,t);if(r.startsWith(await getPanName("baidu")))return await Nde(e,t)}}async function Pde(e,t){try{let r=e.server.prefix,n={},s=await e.server.inject().post(`${r}/init`);n.init=s.json(),hA(s.json()),s=await e.server.inject().post(`${r}/home`),n.home=s.json(),hA(s.json());let i=!1;if(n.home.class&&n.home.class.length>0){let a=n.home.class[0].type_id,o={};if(n.home.filters){let c=n.home.filters[a];if(c)for(let u of c){let l=u.init;if(l){for(let d of u.value)if(d.v==l){o[u.key]=l;break}}}}if(s=await e.server.inject().post(`${r}/category`).payload({id:a,page:1,filter:!0,filters:o}),n.category=s.json(),hA(s.json()),n.category.list.length>0){i=!0;let c=n.category.list[0].vod_id;await Dde(e,c,n)}}if(s=await e.server.inject().post(`${r}/search`).payload({wd:"\u4ED9\u9006",page:1}),n.search=s.json(),!i&&n.search.list.length>0){let a=n.search.list[0].vod_id;await Dde(e,a,n)}return hA(s.json()),n}catch(r){return console.error(r),t.code(500),{err:r.message,tip:"check debug console output"}}}async function Dde(e,t,r){let n=e.server.prefix,s=await e.server.inject().post(`${n}/detail`).payload({id:t});if(r.detail=s.json(),hA(s.json()),r.detail.list&&r.detail.list.length>0){r.play=[];for(let i of r.detail.list){let a=i.vod_play_from.split("$$$"),o=i.vod_play_url.split("$$$");for(let c=0;c<a.length;c++){let u=a[c],l=o[c].split("#");for(let d=0;d<l.length&&d<2;d++)s=await e.server.inject().post(`${n}/play`).payload({flag:u,id:l[d].split("$")[1]}),r.play.push(s.json())}}}}function hA(e){e.statusCode&&e.statusCode==500&&console.error(e)}var Xo=()=>[{key:"yidong",name:getPanName("yidong"),validator:yD,pic:"https://yun.139.com/w/static/img/LOGO.png"},{key:"tianyi",name:getPanName("tianyi"),validator:jg,pic:"https://is1-ssl.mzstatic.com/image/thumb/Purple211/v4/a8/fa/f0/a8faf032-0fa4-d9c5-ac70-920d9c84dff1/AppIcon-0-0-1x_U007emarketing-0-7-0-0-sRGB-85-220.png/350x350.png"},{key:"115",name:getPanName("115"),validator:ED,pic:"https://img.pcsoft.com.cn/soft/202104/093230-608b5e2ed5912.jpg"},{key:"quark",name:getPanName("quark"),validator:Ug,pic:"https://ts1.cn.mm.bing.net/th/id/R-C.a0d60e6a72806738e6f0b711a979bdf5?rik=lp5C9t5sYlkrLw&riu=http%3a%2f%2fpic.2265.com%2fupload%2f2020-10%2f202010151719492792.png&ehk=Pv6rq3JxJvKe2y1QsdzssyZ4Ez4cwiKWmIvK0aMgxi0%3d&risl=&pid=ImgRaw&r=0"},{key:"uc",name:getPanName("uc"),validator:qg,pic:"https://ts1.cn.mm.bing.net/th/id/R-C.421c96e47df7c9719403654ee4f7c281?rik=yiiEoGCTgDDc3w&riu=http%3a%2f%2fpic.9663.com%2fupload%2f2023-5%2f20235111411256277.png&ehk=R81N%2flXMrl%2bxpRlST8DtHXDfab6rzaMb83gihuD71Fk%3d&risl=&pid=ImgRaw&r=0"},{key:"123",name:getPanName("123"),validator:bD,pic:"https://statics.123957.com/static/favicon.ico"},{key:"baidu",name:getPanName("baidu"),validator:xD,pic:"https://nd-static.bdstatic.com/m-static/disk-home/img/logo.png"}];var Ert=["https://tv.yydsys.cc","https://tv.yydsys.top","https://tv.214521.xyz"],hO=async e=>(await e.db.getObjectDefault("/duoduo",{}))?.urls||e.config.duoduo?.urls||Ert,xrt=async(e,t)=>{await e.db.push("/duoduo/urls",t)},vrt=async e=>{await e.db.delete("/duoduo/urls")};async function mO(e){e.get("/urls",async(t,r)=>{r.send({code:0,data:await hO(t.server)})}),e.put("/urls",async(t,r)=>{await xrt(t.server,t.body),r.send({code:0})}),e.delete("/urls",async(t,r)=>{await vrt(t.server),r.send({code:0})})}var gO,fI=e=>{if(!gO){let t=Date.now();gO=new Promise(async r=>{let n=await hO(e),s=await Pr(n,{"User-Agent":Jt});console.log("\u591A\u591A\u57DF\u540D",s,`${Date.now()-t}ms`),r(s)})}return gO};function _rt(e){if(typeof e!="string"||e.length===0)return e;let r=e.indexOf('"<!DOCTYPE html');if(r<0)return e;let n=-1,s=!1;for(let a=r+1;a<e.length;a++){let o=e[a];if(s){s=!1;continue}if(o==="\\"){s=!0;continue}if(o==='"'){n=a;break}}if(n<0)return e;let i=e.slice(r,n+1);try{let a=JSON.parse(i);return typeof a=="string"&&a.length>0?a:e}catch{return e}}async function AO(e){let t=await Pe.get(e,{headers:{"User-Agent":Jt}});return _rt(t.data)}function yO(e){return String(e||"").replace(/\/$/,"")}function Irt(e,t){let r=t;return e("#page a").each((n,s)=>{let i=e(s).attr("href"),a=i&&i.match(/\/page\/(\d+)\.html/i);if(!a)return;let o=parseInt(a[1],10);Number.isNaN(o)||(r=Math.max(r,o))}),r}async function Crt(e,t){return{class:[{type_id:"1",type_name:"\u7535\u5F71"},{type_id:"2",type_name:"\u5267\u96C6"},{type_id:"4",type_name:"\u52A8\u6F2B"},{type_id:"5",type_name:"\u77ED\u5267"},{type_id:"3",type_name:"\u7EFC\u827A"},{type_id:"20",type_name:"\u7EAA\u5F55"}],filters:{}}}async function wrt(e,t){let r=await fI(e.server),n=e.body.id,s=e.body.page,i=parseInt(s,10);(!i||i<1)&&(i=1);let o=`${yO(r)}/index.php/vod/show/id/${n}/page/${i}.html`,c=await AO(o),u=je(c),l=u("#main .module-item").map((f,h)=>{let p=u(h).find(".module-item-pic a").attr("href"),m=u(h).find(".module-item-pic img").attr("alt"),A=u(h).find(".module-item-pic img").attr("data-src")||u(h).find(".module-item-pic img").attr("src"),g=u(h).find(".module-item-text").text().trim();return{vod_id:p,vod_name:m,vod_pic:A,vod_remarks:g}}).get().filter(f=>f.vod_id&&f.vod_name),d=Irt(u,i);return{page:i,pagecount:d,limit:72,total:72*d,list:l}}async function Srt(e,t){let r=await fI(e.server),n=yO(r),s=Array.isArray(e.body.id)?e.body.id:[e.body.id],i=[];for(let a of s)try{let o=await AO(`${n}${a}`),c=je(o),u={vod_id:a,vod_name:c(".page-title").first().text().trim(),vod_pic:c(".mobile-play .lazyload").first().attr("data-src")||c(".mobile-play img").first().attr("data-src")||c(".mobile-play img").first().attr("src")};c(".video-info-itemtitle").each((f,h)=>{let p=c(h).text(),m=c(h).next().find("a").map((A,g)=>c(g).text().trim()).get().filter(Boolean).join(", ");p.includes("\u5267\u60C5")?u.vod_content=c(h).next().find("p").text().trim():p.includes("\u5BFC\u6F14")?u.vod_director=m.trim():p.includes("\u4E3B\u6F14")&&(u.vod_actor=m.trim())});let l=c(".module-row-info p").map((f,h)=>c(h).text().trim()).get().filter(Boolean),d=await qt(l,e);d&&(u.vod_play_from=d.froms,u.vod_play_url=d.urls),i.push(u)}catch(o){console.error("duoduo detail fetch failed",a,o)}return{list:i}}async function Trt(e,t){let r=await fI(e.server),n=yO(r),s=e.body.page,i=e.body.wd,a=parseInt(s,10);(!a||a<1)&&(a=1);let o=encodeURIComponent(i||""),c=[`${n}/index.php/vod/search/page/${a}/wd/${o}.html`,`${n}/index.php/vod/search/wd/${o}.html`,`${n}/index.php/vod/search.html?wd=${o}&page=${a}`];for(let u of c)try{let l=await AO(u),d=je(l),f=d(".module-search-item").map((h,p)=>{let m=d(p).find(".video-serial"),A=d(p).find(".module-item-pic > img");return{vod_id:m.attr("href"),vod_name:m.attr("title"),vod_pic:A.attr("data-src")||A.attr("src"),vod_remarks:m.text()}}).get().filter(h=>h.vod_id&&h.vod_name);if(f.length>0)return{page:a,pagecount:f.length<10?a:a+1,list:f}}catch{}return{page:a,pagecount:a,list:[]}}var Ode={meta:{key:"duoduo",name:"\u591A\u591A",type:3},api:async e=>{e.post("/init",Wt),e.post("/home",Crt),e.post("/category",wrt),e.post("/detail",Srt),e.post("/play",Ht),e.post("/search",Trt),e.get("/test",Pde),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",jt)},check:fI};var ry=ke(Hs(),1),Wpe=ke(qp(),1);var jpe=ke(require("http"),1),Hpe=ke(require("https"),1);var ey=ke(require("fs"),1),v5=ke(require("path"),1);pt();Dt();Ze();yI();Br();pt();Ze();Dt();function ufe(){return"\u9515\u7691\u853C\u788D\u7231\u55F3\u5AD2\u7477\u66A7\u972D\u8C19\u94F5\u9E4C\u80AE\u8884\u5965\u5AAA\u9A9C\u9CCC\u575D\u7F62\u94AF\u6446\u8D25\u5457\u9881\u529E\u7ECA\u94A3\u5E2E\u7ED1\u9551\u8C24\u5265\u9971\u5B9D\u62A5\u9C8D\u9E28\u9F85\u8F88\u8D1D\u94A1\u72C8\u5907\u60EB\u9E4E\u8D32\u951B\u7EF7\u7B14\u6BD5\u6BD9\u5E01\u95ED\u835C\u54D4\u6ED7\u94CB\u7B5A\u8DF8\u8FB9\u7F16\u8D2C\u53D8\u8FA9\u8FAB\u82C4\u7F0F\u7B3E\u6807\u9AA0\u98D1\u98D9\u9556\u9573\u9CD4\u9CD6\u522B\u762A\u6FD2\u6EE8\u5BBE\u6448\u50A7\u7F24\u69DF\u6BA1\u8191\u9554\u9ACC\u9B13\u997C\u7980\u62E8\u94B5\u94C2\u9A73\u997D\u94B9\u9E41\u8865\u94B8\u8D22\u53C2\u8695\u6B8B\u60ED\u60E8\u707F\u9A96\u9EEA\u82CD\u8231\u4ED3\u6CA7\u5395\u4FA7\u518C\u6D4B\u607B\u5C42\u8BE7\u9538\u4FAA\u9497\u6400\u63BA\u8749\u998B\u8C17\u7F20\u94F2\u4EA7\u9610\u98A4\u5181\u8C04\u8C36\u8487\u5FCF\u5A75\u9AA3\u89C7\u7985\u9561\u573A\u5C1D\u957F\u507F\u80A0\u5382\u7545\u4F25\u82CC\u6005\u960A\u9CB3\u949E\u8F66\u5F7B\u7817\u5C18\u9648\u886C\u4F27\u8C0C\u6987\u789C\u9F80\u6491\u79F0\u60E9\u8BDA\u9A8B\u67A8\u67FD\u94D6\u94DB\u75F4\u8FDF\u9A70\u803B\u9F7F\u70BD\u996C\u9E31\u51B2\u51B2\u866B\u5BA0\u94F3\u7574\u8E0C\u7B79\u7EF8\u4FE6\u5E31\u96E0\u6A71\u53A8\u9504\u96CF\u7840\u50A8\u89E6\u5904\u520D\u7ECC\u8E70\u4F20\u948F\u75AE\u95EF\u521B\u6006\u9524\u7F0D\u7EAF\u9E51\u7EF0\u8F8D\u9F8A\u8F9E\u8BCD\u8D50\u9E5A\u806A\u8471\u56F1\u4ECE\u4E1B\u82C1\u9AA2\u679E\u51D1\u8F8F\u8E7F\u7A9C\u64BA\u9519\u9509\u9E7E\u8FBE\u54D2\u9791\u5E26\u8D37\u9A80\u7ED0\u62C5\u5355\u90F8\u63B8\u80C6\u60EE\u8BDE\u5F39\u6B9A\u8D55\u7605\u7BAA\u5F53\u6321\u515A\u8361\u6863\u8C20\u7800\u88C6\u6363\u5C9B\u7977\u5BFC\u76D7\u7118\u706F\u9093\u956B\u654C\u6DA4\u9012\u7F14\u7C74\u8BCB\u8C1B\u7EE8\u89CC\u955D\u98A0\u70B9\u57AB\u7535\u5DC5\u94BF\u766B\u9493\u8C03\u94EB\u9CB7\u8C0D\u53E0\u9CBD\u9489\u9876\u952D\u8BA2\u94E4\u4E22\u94E5\u4E1C\u52A8\u680B\u51BB\u5CBD\u9E2B\u7AA6\u728A\u72EC\u8BFB\u8D4C\u9540\u6E0E\u691F\u724D\u7B03\u9EE9\u953B\u65AD\u7F0E\u7C16\u5151\u961F\u5BF9\u603C\u9566\u5428\u987F\u949D\u7096\u8DB8\u593A\u5815\u94CE\u9E45\u989D\u8BB9\u6076\u997F\u8C14\u57A9\u960F\u8F6D\u9507\u9537\u9E57\u989A\u989B\u9CC4\u8BF6\u513F\u5C14\u9975\u8D30\u8FE9\u94D2\u9E38\u9C95\u53D1\u7F5A\u9600\u73D0\u77FE\u9492\u70E6\u8D29\u996D\u8BBF\u7EBA\u94AB\u9C82\u98DE\u8BFD\u5E9F\u8D39\u7EEF\u9544\u9CB1\u7EB7\u575F\u594B\u6124\u7CAA\u507E\u4E30\u67AB\u950B\u98CE\u75AF\u51AF\u7F1D\u8BBD\u51E4\u6CA3\u80A4\u8F90\u629A\u8F85\u8D4B\u590D\u8D1F\u8BA3\u5987\u7F1A\u51EB\u9A78\u7EC2\u7ECB\u8D59\u9EB8\u9C8B\u9CC6\u9486\u8BE5\u9499\u76D6\u8D45\u6746\u8D76\u79C6\u8D63\u5C34\u64C0\u7EC0\u5188\u521A\u94A2\u7EB2\u5C97\u6206\u9550\u777E\u8BF0\u7F1F\u9506\u6401\u9E3D\u9601\u94EC\u4E2A\u7EA5\u9549\u988D\u7ED9\u4E98\u8D53\u7EE0\u9CA0\u9F9A\u5BAB\u5DE9\u8D21\u94A9\u6C9F\u82DF\u6784\u8D2D\u591F\u8BDF\u7F11\u89CF\u86CA\u987E\u8BC2\u6BC2\u94B4\u9522\u9E2A\u9E44\u9E58\u5250\u6302\u9E39\u63B4\u5173\u89C2\u9986\u60EF\u8D2F\u8BD6\u63BC\u9E73\u9CCF\u5E7F\u72B7\u89C4\u5F52\u9F9F\u95FA\u8F68\u8BE1\u8D35\u523D\u5326\u523F\u59AB\u6867\u9C91\u9CDC\u8F8A\u6EDA\u886E\u7EF2\u9CA7\u9505\u56FD\u8FC7\u57DA\u5459\u5E3C\u6901\u8748\u94EA\u9A87\u97E9\u6C49\u961A\u7ED7\u9889\u53F7\u704F\u98A2\u9602\u9E64\u8D3A\u8BC3\u9616\u86CE\u6A2A\u8F70\u9E3F\u7EA2\u9EC9\u8BA7\u836D\u95F3\u9C8E\u58F6\u62A4\u6CAA\u6237\u6D52\u9E55\u54D7\u534E\u753B\u5212\u8BDD\u9A85\u6866\u94E7\u6000\u574F\u6B22\u73AF\u8FD8\u7F13\u6362\u5524\u75EA\u7115\u6DA3\u5942\u7F33\u953E\u9CA9\u9EC4\u8C0E\u9CC7\u6325\u8F89\u6BC1\u8D3F\u79FD\u4F1A\u70E9\u6C47\u8BB3\u8BF2\u7ED8\u8BD9\u835F\u54D5\u6D4D\u7F0B\u73F2\u6656\u8364\u6D51\u8BE8\u9984\u960D\u83B7\u8D27\u7978\u94AC\u956C\u51FB\u673A\u79EF\u9965\u8FF9\u8BA5\u9E21\u7EE9\u7F09\u6781\u8F91\u7EA7\u6324\u51E0\u84DF\u5242\u6D4E\u8BA1\u8BB0\u9645\u7EE7\u7EAA\u8BA6\u8BD8\u8360\u53FD\u54DC\u9AA5\u7391\u89CA\u9F51\u77F6\u7F81\u867F\u8DFB\u9701\u9C9A\u9CAB\u5939\u835A\u988A\u8D3E\u94BE\u4EF7\u9A7E\u90CF\u6D43\u94D7\u9553\u86F2\u6B7C\u76D1\u575A\u7B3A\u95F4\u8270\u7F04\u8327\u68C0\u78B1\u7877\u62E3\u6361\u7B80\u4FED\u51CF\u8350\u69DB\u9274\u8DF5\u8D31\u89C1\u952E\u8230\u5251\u996F\u6E10\u6E85\u6DA7\u8C0F\u7F23\u620B\u622C\u7751\u9E63\u7B15\u9CA3\u97AF\u5C06\u6D46\u848B\u6868\u5956\u8BB2\u9171\u7EDB\u7F30\u80F6\u6D47\u9A84\u5A07\u6405\u94F0\u77EB\u4FA5\u811A\u997A\u7F34\u7EDE\u8F7F\u8F83\u6322\u5CE4\u9E6A\u9C9B\u9636\u8282\u6D01\u7ED3\u8BEB\u5C4A\u7596\u988C\u9C92\u7D27\u9526\u4EC5\u8C28\u8FDB\u664B\u70EC\u5C3D\u52B2\u8346\u830E\u537A\u8369\u9991\u7F19\u8D46\u89D0\u9CB8\u60CA\u7ECF\u9888\u9759\u955C\u5F84\u75C9\u7ADE\u51C0\u522D\u6CFE\u8FF3\u5F2A\u80EB\u9753\u7EA0\u53A9\u65E7\u9604\u9E20\u9E6B\u9A79\u4E3E\u636E\u952F\u60E7\u5267\u8BB5\u5C66\u6989\u98D3\u949C\u9514\u7AAD\u9F83\u9E43\u7EE2\u9529\u954C\u96BD\u89C9\u51B3\u7EDD\u8C32\u73CF\u94A7\u519B\u9A8F\u76B2\u5F00\u51EF\u5240\u57B2\u5FFE\u607A\u94E0\u9534\u9F9B\u95F6\u94AA\u94D0\u9897\u58F3\u8BFE\u9A92\u7F02\u8F72\u94B6\u951E\u9894\u57A6\u6073\u9F88\u94FF\u62A0\u5E93\u88E4\u55BE\u5757\u4FA9\u90D0\u54D9\u810D\u5BBD\u72EF\u9ACB\u77FF\u65F7\u51B5\u8BD3\u8BF3\u909D\u5739\u7EA9\u8D36\u4E8F\u5CBF\u7AA5\u9988\u6E83\u532E\u8489\u6126\u8069\u7BD1\u9603\u951F\u9CB2\u6269\u9614\u86F4\u8721\u814A\u83B1\u6765\u8D56\u5D03\u5F95\u6D9E\u6FD1\u8D49\u7750\u94FC\u765E\u7C41\u84DD\u680F\u62E6\u7BEE\u9611\u5170\u6F9C\u8C30\u63FD\u89C8\u61D2\u7F06\u70C2\u6EE5\u5C9A\u6984\u6593\u9567\u8934\u7405\u9606\u9512\u635E\u52B3\u6D9D\u5520\u5D02\u94D1\u94F9\u75E8\u4E50\u9CD3\u956D\u5792\u7C7B\u6CEA\u8BD4\u7F27\u7BF1\u72F8\u79BB\u9CA4\u793C\u4E3D\u5389\u52B1\u783E\u5386\u6CA5\u96B6\u4FEA\u90E6\u575C\u82C8\u8385\u84E0\u5456\u9026\u9A8A\u7F21\u67A5\u680E\u8F79\u783A\u9502\u9E42\u75A0\u7C9D\u8DDE\u96F3\u9CA1\u9CE2\u4FE9\u8054\u83B2\u8FDE\u9570\u601C\u6D9F\u5E18\u655B\u8138\u94FE\u604B\u70BC\u7EC3\u8539\u5941\u6F4B\u740F\u6B93\u88E2\u88E3\u9CA2\u7CAE\u51C9\u4E24\u8F86\u8C05\u9B49\u7597\u8FBD\u9563\u7F2D\u948C\u9E69\u730E\u4E34\u90BB\u9CDE\u51DB\u8D41\u853A\u5EEA\u6AA9\u8F9A\u8E8F\u9F84\u94C3\u7075\u5CAD\u9886\u7EEB\u68C2\u86CF\u9CAE\u998F\u5218\u6D4F\u9A9D\u7EFA\u954F\u9E68\u9F99\u804B\u5499\u7B3C\u5784\u62E2\u9647\u830F\u6CF7\u73D1\u680A\u80E7\u783B\u697C\u5A04\u6402\u7BD3\u507B\u848C\u55BD\u5D5D\u9542\u7618\u8027\u877C\u9AC5\u82A6\u5362\u9885\u5E90\u7089\u63B3\u5364\u864F\u9C81\u8D42\u7984\u5F55\u9646\u5786\u64B8\u565C\u95FE\u6CF8\u6E0C\u680C\u6A79\u8F73\u8F82\u8F98\u6C07\u80EA\u9E2C\u9E6D\u823B\u9C88\u5CE6\u631B\u5B6A\u6EE6\u4E71\u8114\u5A08\u683E\u9E3E\u92AE\u62A1\u8F6E\u4F26\u4ED1\u6CA6\u7EB6\u8BBA\u56F5\u841D\u7F57\u903B\u9523\u7BA9\u9AA1\u9A86\u7EDC\u8366\u7321\u6CFA\u6924\u8136\u9559\u9A74\u5415\u94DD\u4FA3\u5C61\u7F15\u8651\u6EE4\u7EFF\u6988\u891B\u950A\u5452\u5988\u739B\u7801\u8682\u9A6C\u9A82\u5417\u551B\u5B37\u6769\u4E70\u9EA6\u5356\u8FC8\u8109\u52A2\u7792\u9992\u86EE\u6EE1\u8C29\u7F26\u9558\u98A1\u9CD7\u732B\u951A\u94C6\u8D38\u4E48\u6CA1\u9541\u95E8\u95F7\u4EEC\u626A\u7116\u61D1\u9494\u9530\u68A6\u772F\u8C1C\u5F25\u89C5\u5E42\u8288\u8C27\u7315\u7962\u7EF5\u7F05\u6E11\u817C\u9EFE\u5E99\u7F08\u7F2A\u706D\u60AF\u95FD\u95F5\u7F17\u9E23\u94ED\u8C2C\u8C1F\u84E6\u998D\u6B81\u9546\u8C0B\u4EA9\u94BC\u5450\u94A0\u7EB3\u96BE\u6320\u8111\u607C\u95F9\u94D9\u8BB7\u9981\u5185\u62DF\u817B\u94CC\u9CB5\u64B5\u8F87\u9CB6\u917F\u9E1F\u8311\u8885\u8042\u556E\u954A\u954D\u9667\u8616\u55EB\u989F\u8E51\u67E0\u72DE\u5B81\u62E7\u6CDE\u82CE\u549B\u804D\u94AE\u7EBD\u8113\u6D53\u519C\u4FAC\u54DD\u9A7D\u9495\u8BFA\u50A9\u759F\u6B27\u9E25\u6BB4\u5455\u6CA4\u8BB4\u6004\u74EF\u76D8\u8E52\u5E9E\u629B\u75B1\u8D54\u8F94\u55B7\u9E4F\u7EB0\u7F74\u94CD\u9A97\u8C1D\u9A88\u98D8\u7F25\u9891\u8D2B\u5AD4\u82F9\u51ED\u8BC4\u6CFC\u9887\u948B\u6251\u94FA\u6734\u8C31\u9564\u9568\u6816\u8110\u9F50\u9A91\u5C82\u542F\u6C14\u5F03\u8BAB\u8572\u9A90\u7EEE\u6864\u789B\u9880\u9883\u9CCD\u7275\u948E\u94C5\u8FC1\u7B7E\u8C26\u94B1\u94B3\u6F5C\u6D45\u8C34\u5811\u4F65\u8368\u60AD\u9A9E\u7F31\u6920\u94A4\u67AA\u545B\u5899\u8537\u5F3A\u62A2\u5AF1\u6A2F\u6217\u709D\u9516\u9535\u956A\u7F9F\u8DC4\u9539\u6865\u4E54\u4FA8\u7FD8\u7A8D\u8BEE\u8C2F\u835E\u7F32\u7857\u8DF7\u7A83\u60EC\u9532\u7BA7\u94A6\u4EB2\u5BDD\u9513\u8F7B\u6C22\u503E\u9877\u8BF7\u5E86\u63FF\u9CAD\u743C\u7A77\u8315\u86F1\u5DEF\u8D47\u866E\u9CC5\u8D8B\u533A\u8EAF\u9A71\u9F8B\u8BCE\u5C96\u9612\u89D1\u9E32\u98A7\u6743\u529D\u8BE0\u7EFB\u8F81\u94E8\u5374\u9E4A\u786E\u9615\u9619\u60AB\u8BA9\u9976\u6270\u7ED5\u835B\u5A06\u6861\u70ED\u97E7\u8BA4\u7EAB\u996A\u8F6B\u8363\u7ED2\u5D58\u877E\u7F1B\u94F7\u98A6\u8F6F\u9510\u86AC\u95F0\u6DA6\u6D12\u8428\u98D2\u9CC3\u8D5B\u4F1E\u6BF5\u7CC1\u4E27\u9A9A\u626B\u7F2B\u6DA9\u556C\u94EF\u7A51\u6740\u5239\u7EB1\u94E9\u9CA8\u7B5B\u6652\u917E\u5220\u95EA\u9655\u8D61\u7F2E\u8BAA\u59D7\u9A9F\u9490\u9CDD\u5892\u4F24\u8D4F\u57A7\u6B87\u89DE\u70E7\u7ECD\u8D4A\u6444\u6151\u8BBE\u538D\u6EE0\u7572\u7EC5\u5BA1\u5A76\u80BE\u6E17\u8BDC\u8C02\u6E16\u58F0\u7EF3\u80DC\u5E08\u72EE\u6E7F\u8BD7\u65F6\u8680\u5B9E\u8BC6\u9A76\u52BF\u9002\u91CA\u9970\u89C6\u8BD5\u8C25\u57D8\u83B3\u5F11\u8F7C\u8D33\u94C8\u9CA5\u5BFF\u517D\u7EF6\u67A2\u8F93\u4E66\u8D4E\u5C5E\u672F\u6811\u7AD6\u6570\u6445\u7EBE\u5E05\u95E9\u53CC\u8C01\u7A0E\u987A\u8BF4\u7855\u70C1\u94C4\u4E1D\u9972\u53AE\u9A77\u7F0C\u9536\u9E36\u8038\u6002\u9882\u8BBC\u8BF5\u64DE\u85AE\u998A\u98D5\u953C\u82CF\u8BC9\u8083\u8C21\u7A23\u867D\u968F\u7EE5\u5C81\u8C07\u5B59\u635F\u7B0B\u836A\u72F2\u7F29\u7410\u9501\u5522\u7743\u736D\u631E\u95FC\u94CA\u9CCE\u53F0\u6001\u949B\u9C90\u644A\u8D2A\u762B\u6EE9\u575B\u8C2D\u8C08\u53F9\u6619\u94BD\u952C\u9878\u6C64\u70EB\u50A5\u9967\u94F4\u9557\u6D9B\u7EE6\u8BA8\u97EC\u94FD\u817E\u8A8A\u9511\u9898\u4F53\u5C49\u7F07\u9E48\u9617\u6761\u7C9C\u9F86\u9CA6\u8D34\u94C1\u5385\u542C\u70C3\u94DC\u7EDF\u6078\u5934\u94AD\u79C3\u56FE\u948D\u56E2\u629F\u9893\u8715\u9968\u8131\u9E35\u9A6E\u9A7C\u692D\u7BA8\u9F0D\u889C\u5A32\u817D\u5F2F\u6E7E\u987D\u4E07\u7EA8\u7EFE\u7F51\u8F8B\u97E6\u8FDD\u56F4\u4E3A\u6F4D\u7EF4\u82C7\u4F1F\u4F2A\u7EAC\u8C13\u536B\u8BFF\u5E0F\u95F1\u6CA9\u6DA0\u73AE\u97EA\u709C\u9C94\u6E29\u95FB\u7EB9\u7A33\u95EE\u960C\u74EE\u631D\u8717\u6DA1\u7A9D\u5367\u83B4\u9F8C\u545C\u94A8\u4E4C\u8BEC\u65E0\u829C\u5434\u575E\u96FE\u52A1\u8BEF\u90AC\u5E91\u6003\u59A9\u9A9B\u9E49\u9E5C\u9521\u727A\u88AD\u4E60\u94E3\u620F\u7EC6\u9969\u960B\u73BA\u89CB\u867E\u8F96\u5CE1\u4FA0\u72ED\u53A6\u5413\u7856\u9C9C\u7EA4\u8D24\u8854\u95F2\u663E\u9669\u73B0\u732E\u53BF\u9985\u7FA1\u5BAA\u7EBF\u82CB\u83B6\u85D3\u5C98\u7303\u5A34\u9E47\u75EB\u869D\u7C7C\u8DF9\u53A2\u9576\u4E61\u8BE6\u54CD\u9879\u8297\u9977\u9AA7\u7F03\u98E8\u8427\u56A3\u9500\u6653\u5578\u54D3\u6F47\u9A81\u7EE1\u67AD\u7BAB\u534F\u631F\u643A\u80C1\u8C10\u5199\u6CFB\u8C22\u4EB5\u64B7\u7EC1\u7F2C\u950C\u8845\u5174\u9649\u8365\u51F6\u6C79\u9508\u7EE3\u9990\u9E3A\u865A\u5618\u987B\u8BB8\u53D9\u7EEA\u7EED\u8BE9\u987C\u8F69\u60AC\u9009\u7663\u7EDA\u8C16\u94C9\u955F\u5B66\u8C11\u6CF6\u9CD5\u52CB\u8BE2\u5BFB\u9A6F\u8BAD\u8BAF\u900A\u57D9\u6D54\u9C9F\u538B\u9E26\u9E2D\u54D1\u4E9A\u8BB6\u57AD\u5A05\u6860\u6C29\u9609\u70DF\u76D0\u4E25\u5CA9\u989C\u960E\u8273\u538C\u781A\u5F66\u8C1A\u9A8C\u53A3\u8D5D\u4FE8\u5156\u8C33\u6079\u95EB\u917D\u9B47\u990D\u9F39\u9E2F\u6768\u626C\u75A1\u9633\u75D2\u517B\u6837\u7080\u7476\u6447\u5C27\u9065\u7A91\u8C23\u836F\u8F7A\u9E5E\u9CD0\u7237\u9875\u4E1A\u53F6\u9765\u8C12\u90BA\u6654\u70E8\u533B\u94F1\u9890\u9057\u4EEA\u8681\u827A\u4EBF\u5FC6\u4E49\u8BE3\u8BAE\u8C0A\u8BD1\u5F02\u7ECE\u8BD2\u5453\u5CC4\u9974\u603F\u9A7F\u7F22\u8F76\u8D3B\u9487\u9552\u9571\u7617\u8223\u836B\u9634\u94F6\u996E\u9690\u94DF\u763E\u6A31\u5A74\u9E70\u5E94\u7F28\u83B9\u8424\u8425\u8367\u8747\u8D62\u9896\u8314\u83BA\u8426\u84E5\u6484\u5624\u6EE2\u6F46\u748E\u9E66\u763F\u988F\u7F42\u54DF\u62E5\u4F63\u75C8\u8E0A\u548F\u955B\u4F18\u5FE7\u90AE\u94C0\u72B9\u8BF1\u83B8\u94D5\u9C7F\u8206\u9C7C\u6E14\u5A31\u4E0E\u5C7F\u8BED\u72F1\u8A89\u9884\u9A6D\u4F1B\u4FE3\u8C00\u8C15\u84E3\u5D5B\u996B\u9608\u59AA\u7EA1\u89CE\u6B24\u94B0\u9E46\u9E6C\u9F89\u9E33\u6E0A\u8F95\u56ED\u5458\u5706\u7F18\u8FDC\u6A7C\u9E22\u9F0B\u7EA6\u8DC3\u94A5\u7CA4\u60A6\u9605\u94BA\u90E7\u5300\u9668\u8FD0\u8574\u915D\u6655\u97F5\u90D3\u82B8\u607D\u6120\u7EAD\u97EB\u6B92\u6C32\u6742\u707E\u8F7D\u6512\u6682\u8D5E\u74D2\u8DB1\u933E\u8D43\u810F\u9A75\u51FF\u67A3\u8D23\u62E9\u5219\u6CFD\u8D5C\u5567\u5E3B\u7BA6\u8D3C\u8C2E\u8D60\u7EFC\u7F2F\u8F67\u94E1\u95F8\u6805\u8BC8\u658B\u503A\u6BE1\u76CF\u65A9\u8F97\u5D2D\u6808\u6218\u7EFD\u8C35\u5F20\u6DA8\u5E10\u8D26\u80C0\u8D75\u8BCF\u948A\u86F0\u8F99\u9517\u8FD9\u8C2A\u8F84\u9E67\u8D1E\u9488\u4FA6\u8BCA\u9547\u9635\u6D48\u7F1C\u6862\u8F78\u8D48\u796F\u9E29\u6323\u7741\u72F0\u4E89\u5E27\u75C7\u90D1\u8BC1\u8BE4\u5CE5\u94B2\u94EE\u7B5D\u7EC7\u804C\u6267\u7EB8\u631A\u63B7\u5E1C\u8D28\u6EDE\u9A98\u6809\u6800\u8F75\u8F7E\u8D3D\u9E37\u86F3\u7D77\u8E2C\u8E2F\u89EF\u949F\u7EC8\u79CD\u80BF\u4F17\u953A\u8BCC\u8F74\u76B1\u663C\u9AA4\u7EA3\u7EC9\u732A\u8BF8\u8BDB\u70DB\u77A9\u5631\u8D2E\u94F8\u9A7B\u4F2B\u69E0\u94E2\u4E13\u7816\u8F6C\u8D5A\u556D\u9994\u989E\u6869\u5E84\u88C5\u5986\u58EE\u72B6\u9525\u8D58\u5760\u7F00\u9A93\u7F12\u8C06\u51C6\u7740\u6D4A\u8BFC\u956F\u5179\u8D44\u6E0D\u8C18\u7F01\u8F8E\u8D40\u7726\u9531\u9F87\u9CBB\u8E2A\u603B\u7EB5\u506C\u90B9\u8BF9\u9A7A\u9CB0\u8BC5\u7EC4\u955E\u94BB\u7F35\u8E9C\u9CDF\u7FF1\u5E76\u535C\u6C89\u4E11\u6DC0\u8FED\u6597\u8303\u5E72\u768B\u7845\u67DC\u540E\u4F19\u79F8\u6770\u8BC0\u5938\u91CC\u91CC\u51CC\u4E48\u9709\u637B\u51C4\u6266\u5723\u5C38\u62AC\u6D82\u6D3C\u5582\u6C61\u9528\u54B8\u874E\u5F5D\u6D8C\u6E38\u5401\u5FA1\u613F\u5CB3\u4E91\u7076\u624E\u672D\u7B51\u4E8E\u5FD7\u6CE8\u51CB\u8BA0\u8C2B\u90C4\u52D0\u51FC\u5742\u5785\u57B4\u57EF\u57DD\u82D8\u836C\u836E\u839C\u83BC\u83F0\u85C1\u63F8\u5412\u5423\u5494\u549D\u54B4\u5658\u567C\u56AF\u5E5E\u5C99\u5D74\u5F77\u5FBC\u72B8\u72CD\u9980\u9987\u9993\u9995\u6123\u61B7\u61D4\u4E2C\u6E86\u6EDF\u6EB7\u6F24\u6F74\u6FB9\u752F\u7E9F\u7ED4\u7EF1\u73C9\u67A7\u684A\u6849\u69D4\u6A65\u8F71\u8F77\u8D4D\u80B7\u80E8\u98DA\u7173\u7145\u7198\u610D\u6DFC\u781C\u78D9\u770D\u949A\u94B7\u94D8\u94DE\u9503\u950D\u950E\u950F\u9518\u951D\u952A\u952B\u953F\u9545\u954E\u9562\u9565\u9569\u9572\u7A06\u9E4B\u9E5B\u9E71\u75AC\u75B4\u75D6\u766F\u88E5\u8941\u8022\u98A5\u87A8\u9EB4\u9C85\u9C86\u9C87\u9C9E\u9CB4\u9CBA\u9CBC\u9CCA\u9CCB\u9CD8\u9CD9\u9792\u97B4\u9F44\u4E2C\u4E3A\u4EB8\u4F17\u4F2A\u4F59\u51A2\u51C0\u51CC\u51FC\u522C\u52CB\u52D0\u52DA\u5364\u53C6\u53C7\u542F\u5494\u54A4\u54B4\u54CC\u54D7\u551D\u5521\u5523\u553F\u556E\u5570\u5574\u5475\u567C\u56AF\u5785\u57A7\u57AF\u57B1\u57D9\u57DD\u5846\u5899\u58F8\u59AB\u59DC\u5A34\u5A73\u5C43\u5CBD\u5CC3\u5CE3\u5D04\u5D5A\u5D5B\u5D74\u5EBC\u5F5F\u5FA1\u610D\u616D\u61B7\u624E\u6266\u631C\u6326\u637B\u63F8\u65F8\u663D\u672D\u684A\u68BC\u68BE\u68C2\u69DA\u6A90\u6C61\u6C93\u6CA8\u6CA9\u6CB5\u6D49\u6D50\u6D55\u6D8C\u6DA2\u6E7F\u6E87\u6EEA\u6F24\u7145\u7173\u7198\u7266\u729F\u72CD\u72DD\u732C\u7399\u739A\u73B1\u73C9\u73CF\u73F0\u740E\u7487\u7572\u75B4\u7606\u7618\u766F\u772C\u7740\u7841\u7845\u7859\u785A\u7877\u78B9\u78D9\u794E\u79FE\u7B5C\u7B7E\u7B93\u7CC7\u7E9F\u7EAE\u7EB4\u7EBB\u7EBC\u7ED6\u7EE4\u7EE6\u7EEC\u7EF1\u7EF9\u7F0A\u7F10\u7F1E\u7F30\u7FD9\u7FDA\u80B7\u810F\u814C\u8158\u816D\u81DC\u8273\u8279\u8359\u839C\u83BC\u841A\u85C1\u866C\u8780\u87CF\u8885\u8886\u88AF\u88C8\u88E5\u8941\u8955\u89C3\u89CD\u8A5F\u8BB1\u8BBB\u8BC7\u8BD0\u8BEA\u8C1E\u8C25\u8C37\u8C6E\u8D20\u8D4D\u8D51\u8D52\u8D57\u8D5F\u8D6A\u8DD6\u8DF6\u8E0A\u8F6A\u8F80\u8F8C\u8F92\u90C1\u90C4\u9166\u9245\u9274\u948E\u9491\u9496\u9498\u94B5\u94BB\u94CF\u94DA\u94E6\u94FB\u9508\u950F\u951C\u9520\u9528\u9533\u953D\u9543\u9548\u9555\u955A\u9560\u9562\u956E\u9574\u95EC\u95F2\u95FF\u9607\u9613\u9618\u961B\u9655\u97B4\u97E8\u988B\u988E\u9892\u9895\u9899\u98A3\u98CF\u98D0\u98D4\u98D6\u98D7\u9964\u9965\u9966\u9973\u9978\u9979\u997B\u997E\u9982\u9983\u9989\u998C\u998E\u9A72\u9A83\u9A89\u9A8D\u9A8E\u9A94\u9A95\u9A99\u9AA6\u9C7D\u9C7E\u9C80\u9C84\u9C89\u9C8A\u9C8C\u9C8F\u9C93\u9C96\u9C97\u9C98\u9C99\u9C9D\u9CAA\u9CAC\u9CAF\u9CB9\u9CBE\u9CBF\u9CC0\u9CC1\u9CC2\u9CC8\u9CC9\u9CD1\u9CD2\u9CDB\u9CE0\u9CE1\u9CE3\u9E24\u9E27\u9E2E\u9E30\u9E34\u9E3B\u9E3C\u9E40\u9E47\u9E4D\u9E50\u9E52\u9E53\u9E54\u9E56\u9E5D\u9E5F\u9E60\u9E61\u9E62\u9E65\u9E6F\u9E72\u9E74\u9EE1\u9F0C\u9F17\u9F81\u9F82\u5FD7\u5236\u54A8\u53EA\u7CFB\u677E\u5C1D\u9762\u5E72\u62FC\u6076\u8D5E\u53D1\u50F5\u81F4\u5978\u83B7\u7EC3\u56DE\u7CFB\u8FF9\u53EA\u8F9F\u677F\u4F60"}function GO(){return"\u9312\u769A\u85F9\u7919\u611B\u566F\u5B21\u74A6\u66D6\u9744\u8AF3\u92A8\u9D6A\u9AAF\u8956\u5967\u5ABC\u9A41\u9C32\u58E9\u7F77\u9200\u64FA\u6557\u5504\u9812\u8FA6\u7D46\u9211\u5E6B\u7D81\u938A\u8B17\u525D\u98FD\u5BF6\u5831\u9B91\u9D07\u9F59\u8F29\u8C9D\u92C7\u72FD\u5099\u618A\u9D6F\u8CC1\u931B\u7E43\u7B46\u7562\u6583\u5E63\u9589\u84FD\u55F6\u6F77\u924D\u7BF3\u8E55\u908A\u7DE8\u8CB6\u8B8A\u8FAF\u8FAE\u8290\u7DF6\u7C69\u6A19\u9A43\u98AE\u98C6\u93E2\u9463\u9C3E\u9C49\u5225\u765F\u7015\u6FF1\u8CD3\u64EF\u5110\u7E7D\u6AB3\u6BAF\u81CF\u944C\u9AD5\u9B22\u9905\u7A1F\u64A5\u7F3D\u9251\u99C1\u9911\u9238\u9D53\u88DC\u923D\u8CA1\u53C3\u8836\u6B98\u615A\u6158\u71E6\u9A42\u9EF2\u84BC\u8259\u5009\u6EC4\u5EC1\u5074\u518A\u6E2C\u60FB\u5C64\u8A6B\u9364\u5115\u91F5\u6519\u647B\u87EC\u995E\u8B92\u7E8F\u93DF\u7522\u95E1\u986B\u56C5\u8AC2\u8B96\u8546\u61FA\u5B0B\u9A4F\u8998\u79AA\u9414\u5834\u5617\u9577\u511F\u8178\u5EE0\u66A2\u5000\u8407\u60B5\u95B6\u9BE7\u9214\u8ECA\u5FB9\u7868\u5875\u9673\u896F\u5096\u8AF6\u6AEC\u78E3\u9F54\u6490\u7A31\u61F2\u8AA0\u9A01\u68D6\u6A89\u92EE\u943A\u7661\u9072\u99B3\u6065\u9F52\u71BE\u98ED\u9D1F\u6C96\u885D\u87F2\u5BF5\u9283\u7587\u8E8A\u7C4C\u7DA2\u5114\u5E6C\u8B8E\u6AE5\u5EDA\u92E4\u96DB\u790E\u5132\u89F8\u8655\u82BB\u7D40\u8E95\u50B3\u91E7\u7621\u95D6\u5275\u6134\u9318\u7D9E\u7D14\u9D89\u7DBD\u8F1F\u9F6A\u8FAD\u8A5E\u8CDC\u9DBF\u8070\u8525\u56EA\u5F9E\u53E2\u84EF\u9A44\u6A05\u6E4A\u8F33\u8EA5\u7AC4\u651B\u932F\u92BC\u9E7A\u9054\u5660\u97C3\u5E36\u8CB8\u99D8\u7D3F\u64D4\u55AE\u9132\u64A3\u81BD\u619A\u8A95\u5F48\u6BAB\u8CE7\u7649\u7C1E\u7576\u64CB\u9EE8\u8569\u6A94\u8B9C\u78AD\u8960\u6417\u5CF6\u79B1\u5C0E\u76DC\u71FE\u71C8\u9127\u9419\u6575\u6ECC\u905E\u7DE0\u7CF4\u8A46\u8AE6\u7D88\u89BF\u93D1\u985B\u9EDE\u588A\u96FB\u5DD4\u923F\u7672\u91E3\u8ABF\u929A\u9BDB\u8ADC\u758A\u9C08\u91D8\u9802\u9320\u8A02\u92CC\u4E1F\u92A9\u6771\u52D5\u68DF\u51CD\u5D20\u9D87\u7AC7\u72A2\u7368\u8B80\u8CED\u934D\u7006\u6ADD\u7258\u7BE4\u9EF7\u935B\u65B7\u7DDE\u7C6A\u514C\u968A\u5C0D\u61DF\u9413\u5678\u9813\u920D\u71C9\u8E89\u596A\u58AE\u9438\u9D5D\u984D\u8A1B\u60E1\u9913\u8AE4\u580A\u95BC\u8EDB\u92E8\u9354\u9D9A\u984E\u9853\u9C77\u8A92\u5152\u723E\u990C\u8CB3\u9087\u927A\u9D2F\u9B9E\u767C\u7F70\u95A5\u743A\u792C\u91E9\u7169\u8CA9\u98EF\u8A2A\u7D21\u9201\u9B74\u98DB\u8AB9\u5EE2\u8CBB\u7DCB\u9428\u9BE1\u7D1B\u58B3\u596E\u61A4\u7CDE\u50E8\u8C50\u6953\u92D2\u98A8\u760B\u99AE\u7E2B\u8AF7\u9CF3\u7043\u819A\u8F3B\u64AB\u8F14\u8CE6\u5FA9\u8CA0\u8A03\u5A66\u7E1B\u9CE7\u99D9\u7D31\u7D3C\u8CFB\u9EA9\u9B92\u9C12\u91D3\u8A72\u9223\u84CB\u8CC5\u687F\u8D95\u7A08\u8D1B\u5C37\u641F\u7D3A\u5CA1\u525B\u92FC\u7DB1\u5D17\u6207\u93AC\u776A\u8AA5\u7E1E\u92EF\u64F1\u9D3F\u95A3\u927B\u500B\u7D07\u9398\u6F41\u7D66\u4E99\u8CE1\u7D86\u9BC1\u9F94\u5BAE\u978F\u8CA2\u9264\u6E9D\u830D\u69CB\u8CFC\u5920\u8A6C\u7DF1\u89AF\u8831\u9867\u8A41\u8F42\u9237\u932E\u9D23\u9D60\u9DBB\u526E\u639B\u9D30\u6451\u95DC\u89C0\u9928\u6163\u8CAB\u8A7F\u645C\u9E1B\u9C25\u5EE3\u7377\u898F\u6B78\u9F9C\u95A8\u8ECC\u8A6D\u8CB4\u528A\u532D\u528C\u5AAF\u6A9C\u9BAD\u9C56\u8F25\u6EFE\u889E\u7DC4\u9BC0\u934B\u570B\u904E\u581D\u54BC\u5E57\u69E8\u87C8\u927F\u99ED\u97D3\u6F22\u95DE\u7D4E\u9821\u865F\u705D\u9865\u95A1\u9DB4\u8CC0\u8A36\u95D4\u8823\u6A6B\u8F5F\u9D3B\u7D05\u9ECC\u8A0C\u8452\u958E\u9C5F\u58FA\u8B77\u6EEC\u6236\u6EF8\u9D98\u5629\u83EF\u756B\u5283\u8A71\u9A4A\u6A3A\u93F5\u61F7\u58DE\u6B61\u74B0\u9084\u7DE9\u63DB\u559A\u7613\u7165\u6E19\u5950\u7E6F\u9370\u9BC7\u9EC3\u8B0A\u9C09\u63EE\u8F1D\u6BC0\u8CC4\u7A62\u6703\u71F4\u532F\u8AF1\u8AA8\u7E6A\u8A7C\u8588\u5666\u6FAE\u7E62\u743F\u6689\u8477\u6E3E\u8AE2\u991B\u95BD\u7372\u8CA8\u798D\u9225\u944A\u64CA\u6A5F\u7A4D\u9951\u8DE1\u8B4F\u96DE\u7E3E\u7DDD\u6975\u8F2F\u7D1A\u64E0\u5E7E\u858A\u5291\u6FDF\u8A08\u8A18\u969B\u7E7C\u7D00\u8A10\u8A70\u85BA\u5630\u568C\u9A65\u74A3\u89AC\u9F4F\u78EF\u7F88\u8806\u8E8B\u973D\u9C6D\u9BFD\u593E\u83A2\u9830\u8CC8\u9240\u50F9\u99D5\u90DF\u6D79\u92CF\u93B5\u87EF\u6BB2\u76E3\u5805\u7B8B\u9593\u8271\u7DD8\u7E6D\u6AA2\u583F\u9E7C\u63C0\u64BF\u7C21\u5109\u6E1B\u85A6\u6ABB\u9452\u8E10\u8CE4\u898B\u9375\u8266\u528D\u991E\u6F38\u6FFA\u6F97\u8AEB\u7E11\u6214\u6229\u77BC\u9DBC\u7B67\u9C39\u97C9\u5C07\u6F3F\u8523\u69F3\u734E\u8B1B\u91AC\u7D73\u97C1\u81A0\u6F86\u9A55\u5B0C\u652A\u9278\u77EF\u50E5\u8173\u9903\u7E73\u7D5E\u8F4E\u8F03\u649F\u5DA0\u9DE6\u9BAB\u968E\u7BC0\u6F54\u7D50\u8AA1\u5C46\u7664\u981C\u9B9A\u7DCA\u9326\u50C5\u8B39\u9032\u6649\u71FC\u76E1\u52C1\u834A\u8396\u5DF9\u85CE\u9949\u7E09\u8D10\u89B2\u9BE8\u9A5A\u7D93\u9838\u975C\u93E1\u5F91\u75D9\u7AF6\u51C8\u5244\u6D87\u9015\u5F33\u811B\u975A\u7CFE\u5EC4\u820A\u9B2E\u9CE9\u9DF2\u99D2\u8209\u64DA\u92F8\u61FC\u5287\u8A4E\u5C68\u6AF8\u98B6\u9245\u92E6\u7AB6\u9F5F\u9D51\u7D79\u9308\u942B\u96CB\u89BA\u6C7A\u7D55\u8B4E\u73A8\u921E\u8ECD\u99FF\u76B8\u958B\u51F1\u5274\u584F\u613E\u6137\u93A7\u9347\u9F95\u958C\u9227\u92AC\u9846\u6BBC\u8AB2\u9A0D\u7DD9\u8EFB\u9233\u9301\u9837\u58BE\u61C7\u9F66\u93D7\u6473\u5EAB\u8932\u56B3\u584A\u5108\u9136\u5672\u81BE\u5BEC\u736A\u9AD6\u7926\u66E0\u6CC1\u8A86\u8A91\u913A\u58D9\u7E8A\u8CBA\u8667\u5DCB\u7ABA\u994B\u6F70\u5331\u8562\u6192\u8075\u7C23\u95AB\u9315\u9BE4\u64F4\u95CA\u8810\u881F\u81D8\u840A\u4F86\u8CF4\u5D0D\u5FA0\u6DF6\u7028\u8CDA\u775E\u9338\u7669\u7C5F\u85CD\u6B04\u6514\u7C43\u95CC\u862D\u703E\u8B95\u652C\u89BD\u61F6\u7E9C\u721B\u6FEB\u5D50\u6B16\u6595\u946D\u8964\u746F\u95AC\u92C3\u6488\u52DE\u6F87\u562E\u5D97\u92A0\u9412\u7646\u6A02\u9C33\u9433\u58D8\u985E\u6DDA\u8A84\u7E32\u7C6C\u8C8D\u96E2\u9BC9\u79AE\u9E97\u53B2\u52F5\u792B\u6B77\u701D\u96B8\u5137\u9148\u58E2\u85F6\u849E\u863A\u56A6\u9090\u9A6A\u7E2D\u6AEA\u6ADF\u8F62\u792A\u92F0\u9E1D\u7658\u7CF2\u8E92\u9742\u9C7A\u9C67\u5006\u806F\u84EE\u9023\u942E\u6190\u6F23\u7C3E\u6582\u81C9\u93C8\u6200\u7149\u7DF4\u861E\u5969\u7032\u7489\u6BAE\u8933\u895D\u9C31\u7CE7\u6DBC\u5169\u8F1B\u8AD2\u9B4E\u7642\u907C\u9410\u7E5A\u91D5\u9DEF\u7375\u81E8\u9130\u9C57\u51DC\u8CC3\u85FA\u5EE9\u6A81\u8F54\u8EAA\u9F61\u9234\u9748\u5DBA\u9818\u7DBE\u6B1E\u87F6\u9BEA\u993E\u5289\u700F\u9A2E\u7DB9\u93A6\u9DDA\u9F8D\u807E\u56A8\u7C60\u58DF\u650F\u96B4\u8622\u7027\u74CF\u6AF3\u6727\u7931\u6A13\u5A41\u645F\u7C0D\u50C2\u851E\u560D\u5D81\u93E4\u763A\u802C\u87BB\u9ACF\u8606\u76E7\u9871\u5EEC\u7210\u64C4\u9E75\u865C\u9B6F\u8CC2\u797F\u9304\u9678\u58DA\u64FC\u5695\u95AD\u7018\u6DE5\u6AE8\u6AD3\u8F64\u8F05\u8F46\u6C0C\u81DA\u9E15\u9DFA\u826B\u9C78\u5DD2\u6523\u5B7F\u7064\u4E82\u81E0\u5B4C\u6B12\u9E1E\u947E\u6384\u8F2A\u502B\u4F96\u6DEA\u7DB8\u8AD6\u5707\u863F\u7F85\u908F\u947C\u7C6E\u9A3E\u99F1\u7D61\u7296\u7380\u6FFC\u6B0F\u8161\u93CD\u9A62\u5442\u92C1\u4FB6\u5C62\u7E37\u616E\u6FFE\u7DA0\u6ADA\u8938\u92DD\u5638\u5ABD\u746A\u78BC\u879E\u99AC\u7F75\u55CE\u561C\u5B24\u69AA\u8CB7\u9EA5\u8CE3\u9081\u8108\u52F1\u779E\u9945\u883B\u6EFF\u8B3E\u7E35\u93DD\u9859\u9C3B\u8C93\u9328\u925A\u8CBF\u9EBC\u6C92\u9382\u9580\u60B6\u5011\u636B\u71DC\u61E3\u9346\u9333\u5922\u7787\u8B0E\u5F4C\u8993\u51AA\u7F8B\u8B10\u737C\u79B0\u7DBF\u7DEC\u6FA0\u9766\u9EFD\u5EDF\u7DF2\u7E46\u6EC5\u61AB\u95A9\u9594\u7DE1\u9CF4\u9298\u8B2C\u8B28\u9A40\u9943\u6B7F\u93CC\u8B00\u755D\u926C\u5436\u9209\u7D0D\u96E3\u6493\u8166\u60F1\u9B27\u9403\u8A25\u9912\u5167\u64EC\u81A9\u922E\u9BE2\u6506\u8F26\u9BF0\u91C0\u9CE5\u8526\u88CA\u8076\u5699\u9477\u93B3\u9689\u8617\u56C1\u9862\u8EA1\u6AB8\u7370\u5BE7\u64F0\u6FD8\u82E7\u5680\u8079\u9215\u7D10\u81BF\u6FC3\u8FB2\u5102\u5665\u99D1\u91F9\u8AFE\u513A\u7627\u6B50\u9DD7\u6BC6\u5614\u6F1A\u8B33\u616A\u750C\u76E4\u8E63\u9F90\u62CB\u76B0\u8CE0\u8F61\u5674\u9D6C\u7D15\u7F86\u9239\u9A19\u8ADE\u99E2\u98C4\u7E39\u983B\u8CA7\u5B2A\u860B\u6191\u8A55\u6F51\u9817\u91D9\u64B2\u92EA\u6A38\u8B5C\u93F7\u9420\u68F2\u81CD\u9F4A\u9A0E\u8C48\u555F\u6C23\u68C4\u8A16\u8604\u9A0F\u7DBA\u69BF\u78E7\u980E\u980F\u9C2D\u727D\u91EC\u925B\u9077\u7C3D\u8B19\u9322\u9257\u6F5B\u6DFA\u8B74\u5879\u50C9\u8541\u6173\u9A2B\u7E7E\u69E7\u9210\u69CD\u55C6\u58BB\u8594\u5F37\u6436\u5B19\u6AA3\u6227\u7197\u9306\u93D8\u93F9\u7FA5\u8E4C\u936C\u6A4B\u55AC\u50D1\u7FF9\u7AC5\u8A9A\u8B59\u854E\u7E70\u78FD\u8E7A\u7ACA\u611C\u9365\u7BCB\u6B3D\u89AA\u5BE2\u92DF\u8F15\u6C2B\u50BE\u9803\u8ACB\u6176\u64B3\u9BD6\u74CA\u7AAE\u7162\u86FA\u5DF0\u8CD5\u87E3\u9C0D\u8DA8\u5340\u8EC0\u9A45\u9F72\u8A58\u5D87\u95C3\u89B7\u9D1D\u9874\u6B0A\u52F8\u8A6E\u7DA3\u8F07\u9293\u537B\u9D72\u78BA\u95CB\u95D5\u6128\u8B93\u9952\u64FE\u7E5E\u8558\u5B08\u6A48\u71B1\u97CC\u8A8D\u7D09\u98EA\u8ED4\u69AE\u7D68\u5DB8\u8811\u7E1F\u92A3\u9870\u8EDF\u92B3\u8706\u958F\u6F64\u7051\u85A9\u98AF\u9C13\u8CFD\u5098\u6BFF\u7CDD\u55AA\u9A37\u6383\u7E45\u6F80\u55C7\u92AB\u7A61\u6BBA\u524E\u7D17\u93A9\u9BCA\u7BE9\u66EC\u91C3\u522A\u9583\u965C\u8D0D\u7E55\u8A15\u59CD\u9A38\u91E4\u9C54\u5891\u50B7\u8CDE\u5770\u6BA4\u89F4\u71D2\u7D39\u8CD2\u651D\u61FE\u8A2D\u5399\u7044\u756C\u7D33\u5BE9\u5B38\u814E\u6EF2\u8A75\u8AD7\u700B\u8072\u7E69\u52DD\u5E2B\u7345\u6FD5\u8A69\u6642\u8755\u5BE6\u8B58\u99DB\u52E2\u9069\u91CB\u98FE\u8996\u8A66\u8B1A\u5852\u8494\u5F12\u8EFE\u8CB0\u9230\u9C23\u58FD\u7378\u7DAC\u6A1E\u8F38\u66F8\u8D16\u5C6C\u8853\u6A39\u8C4E\u6578\u6504\u7D13\u5E25\u9582\u96D9\u8AB0\u7A05\u9806\u8AAA\u78A9\u720D\u9460\u7D72\u98FC\u5EDD\u99DF\u7DE6\u9376\u9DE5\u8073\u616B\u980C\u8A1F\u8AA6\u64FB\u85EA\u993F\u98BC\u93AA\u8607\u8A34\u8085\u8B16\u7A4C\u96D6\u96A8\u7D8F\u6B72\u8AB6\u5B6B\u640D\u7B4D\u84C0\u733B\u7E2E\u7463\u9396\u55E9\u8127\u737A\u64BB\u95E5\u9248\u9C28\u81FA\u614B\u9226\u9B90\u6524\u8CAA\u7671\u7058\u58C7\u8B5A\u8AC7\u5606\u66C7\u926D\u931F\u9807\u6E6F\u71D9\u513B\u9933\u940B\u93DC\u6FE4\u7D73\u8A0E\u97DC\u92F1\u9A30\u8B04\u92BB\u984C\u9AD4\u5C5C\u7DF9\u9D5C\u95D0\u689D\u7CF6\u9F60\u9C37\u8CBC\u9435\u5EF3\u807D\u70F4\u9285\u7D71\u615F\u982D\u9204\u79BF\u5716\u91F7\u5718\u6476\u9839\u86FB\u98E9\u812B\u9D15\u99B1\u99DD\u6A62\u7C5C\u9F09\u896A\u5AA7\u8183\u5F4E\u7063\u9811\u842C\u7D08\u7DB0\u7DB2\u8F1E\u97CB\u9055\u570D\u70BA\u6FF0\u7DAD\u8466\u5049\u507D\u7DEF\u8B02\u885B\u8AC9\u5E43\u95C8\u6E88\u6F7F\u744B\u97D9\u7152\u9BAA\u6EAB\u805E\u7D0B\u7A69\u554F\u95BF\u7515\u64BE\u8778\u6E26\u7AA9\u81E5\u8435\u9F77\u55DA\u93A2\u70CF\u8AA3\u7121\u856A\u5433\u5862\u9727\u52D9\u8AA4\u9114\u5EE1\u61AE\u5AF5\u9A16\u9D61\u9DA9\u932B\u72A7\u8972\u7FD2\u9291\u6232\u7D30\u993C\u9B29\u74BD\u89A1\u8766\u8F44\u5CFD\u4FE0\u72F9\u5EC8\u5687\u7864\u9BAE\u7E96\u8CE2\u929C\u9591\u986F\u96AA\u73FE\u737B\u7E23\u9921\u7FA8\u61B2\u7DDA\u83A7\u859F\u861A\u5CF4\u736B\u5AFB\u9DF4\u7647\u8814\u79C8\u8E9A\u5EC2\u9472\u9109\u8A73\u97FF\u9805\u858C\u9909\u9A64\u7DD7\u9957\u856D\u56C2\u92B7\u66C9\u562F\u5635\u701F\u9A4D\u7D83\u689F\u7C2B\u5354\u633E\u651C\u8105\u8AE7\u5BEB\u7009\u8B1D\u893B\u64F7\u7D32\u7E88\u92C5\u91C1\u8208\u9658\u6ECE\u5147\u6D36\u92B9\u7E61\u9948\u9D42\u865B\u5653\u9808\u8A31\u6558\u7DD2\u7E8C\u8A61\u980A\u8ED2\u61F8\u9078\u766C\u7D62\u8AFC\u9249\u93C7\u5B78\u8B14\u6FA9\u9C48\u52DB\u8A62\u5C0B\u99B4\u8A13\u8A0A\u905C\u5864\u6F6F\u9C58\u58D3\u9D09\u9D28\u555E\u4E9E\u8A1D\u57E1\u5A6D\u690F\u6C2C\u95B9\u7159\u9E7D\u56B4\u5DD6\u984F\u95BB\u8277\u53AD\u786F\u5F65\u8AFA\u9A57\u53B4\u8D17\u513C\u5157\u8B9E\u61E8\u9586\u91C5\u9B58\u995C\u9F34\u9D26\u694A\u63DA\u760D\u967D\u7662\u990A\u6A23\u716C\u7464\u6416\u582F\u9059\u7AAF\u8B20\u85E5\u8EFA\u9DC2\u9C29\u723A\u9801\u696D\u8449\u9768\u8B01\u9134\u66C4\u71C1\u91AB\u92A5\u9824\u907A\u5100\u87FB\u85DD\u5104\u61B6\u7FA9\u8A63\u8B70\u8ABC\u8B6F\u7570\u7E79\u8A52\u56C8\u5DA7\u98F4\u61CC\u9A5B\u7E0A\u8EFC\u8CBD\u91D4\u93B0\u943F\u761E\u8264\u852D\u9670\u9280\u98F2\u96B1\u92A6\u766E\u6AFB\u5B30\u9DF9\u61C9\u7E93\u7469\u87A2\u71DF\u7192\u8805\u8D0F\u7A4E\u584B\u9DAF\u7E08\u93A3\u6516\u56B6\u7005\u7020\u74D4\u9E1A\u766D\u9826\u7F4C\u55B2\u64C1\u50AD\u7670\u8E34\u8A60\u93DE\u512A\u6182\u90F5\u923E\u7336\u8A98\u8555\u92AA\u9B77\u8F3F\u9B5A\u6F01\u5A1B\u8207\u5DBC\u8A9E\u7344\u8B7D\u9810\u99AD\u50B4\u4FC1\u8ADB\u8AED\u8577\u5D33\u98EB\u95BE\u5AD7\u7D06\u89A6\u6B5F\u923A\u9D52\u9DF8\u9F6C\u9D1B\u6DF5\u8F45\u5712\u54E1\u5713\u7DE3\u9060\u6ADE\u9CF6\u9EFF\u7D04\u8E8D\u9470\u7CB5\u6085\u95B1\u925E\u9116\u52FB\u9695\u904B\u860A\u919E\u6688\u97FB\u9106\u8553\u60F2\u614D\u7D1C\u97DE\u6B9E\u6C33\u96DC\u707D\u8F09\u6522\u66AB\u8D0A\u74DA\u8DB2\u93E8\u8D13\u81DF\u99D4\u947F\u68D7\u8CAC\u64C7\u5247\u6FA4\u8CFE\u5616\u5E58\u7C00\u8CCA\u8B56\u8D08\u7D9C\u7E52\u8ECB\u9358\u9598\u67F5\u8A50\u9F4B\u50B5\u6C08\u76DE\u65AC\u8F3E\u5D84\u68E7\u6230\u7DBB\u8B6B\u5F35\u6F32\u5E33\u8CEC\u8139\u8D99\u8A54\u91D7\u87C4\u8F4D\u937A\u9019\u8B2B\u8F12\u9DD3\u8C9E\u91DD\u5075\u8A3A\u93AE\u9663\u6E5E\u7E1D\u6968\u8EEB\u8CD1\u798E\u9D06\u6399\u775C\u7319\u722D\u5E40\u7665\u912D\u8B49\u8ACD\u5D22\u9266\u931A\u7B8F\u7E54\u8077\u57F7\u7D19\u646F\u64F2\u5E5F\u8CEA\u6EEF\u9A2D\u6ADB\u6894\u8EF9\u8F0A\u8D04\u9DD9\u8784\u7E36\u8E93\u8E91\u89F6\u9418\u7D42\u7A2E\u816B\u773E\u937E\u8B05\u8EF8\u76BA\u665D\u9A5F\u7D02\u7E10\u8C6C\u8AF8\u8A85\u71ED\u77DA\u56D1\u8CAF\u9444\u99D0\u4F47\u6AE7\u9296\u5C08\u78DA\u8F49\u8CFA\u56C0\u994C\u9873\u6A01\u838A\u88DD\u599D\u58EF\u72C0\u9310\u8D05\u589C\u7DB4\u9A05\u7E0B\u8AC4\u6E96\u8457\u6FC1\u8AD1\u9432\u8332\u8CC7\u6F2C\u8AEE\u7DC7\u8F1C\u8CB2\u7725\u9319\u9F5C\u9BD4\u8E64\u7E3D\u7E31\u50AF\u9112\u8ACF\u9A36\u9BEB\u8A5B\u7D44\u93C3\u9246\u7E98\u8EA6\u9C52\u7FFA\u4E26\u8514\u6C88\u919C\u6FB1\u53E0\u9B25\u7BC4\u5E79\u81EF\u77FD\u6AC3\u5F8C\u5925\u7A2D\u5091\u8A23\u8A87\u88E1\u88CF\u6DE9\u9EBD\u9EF4\u649A\u6DD2\u6261\u8056\u5C4D\u64E1\u5857\u7AAA\u9935\u6C59\u9341\u9E79\u880D\u5F5C\u6E67\u904A\u7C72\u79A6\u9858\u5DBD\u96F2\u7AC8\u7D2E\u5284\u7BC9\u65BC\u8A8C\u8A3B\u96D5\u8A01\u8B7E\u90E4\u731B\u6C39\u962A\u58DF\u5816\u57B5\u588A\u6ABE\u8552\u8464\u84E7\u8493\u83C7\u69C1\u6463\u54A4\u551A\u54E2\u565D\u5645\u6485\u5288\u8B14\u8946\u5DB4\u810A\u4EFF\u50E5\u7341\u9E85\u9918\u9937\u994A\u9962\u695E\u6035\u61CD\u723F\u6F35\u7069\u6DF7\u6FEB\u7026\u6DE1\u5BE7\u7CF8\u7D5D\u7DD4\u7449\u6898\u68EC\u6848\u6A70\u6AEB\u8EF2\u8EE4\u8CEB\u8181\u8156\u98C8\u7CCA\u7146\u6E9C\u6E63\u6E3A\u78B8\u6EFE\u7798\u9208\u9255\u92E3\u92B1\u92E5\u92F6\u9426\u9427\u9369\u9340\u9343\u9307\u9384\u9387\u93BF\u941D\u9465\u9479\u9454\u7A6D\u9D93\u9DA5\u9E0C\u7667\u5C59\u7602\u81D2\u8947\u7E48\u802E\u986C\u87CE\u9EAF\u9B81\u9B83\u9B8E\u9BD7\u9BDD\u9BF4\u9C5D\u9BFF\u9C20\u9C35\u9C45\u97BD\u97DD\u9F47\u4E2C\u7232\u56B2\u8846\u50DE\u9918\u51A2\u6DE8\u51CC\u51FC\u5257\u52F3\u52D0\u52E9\u6EF7\u9749\u9746\u5553\u5494\u5412\u54B4\u54CC\u8B41\u55CA\u5562\u5523\u553F\u9F67\u56C9\u563D\u5475\u567C\u56AF\u58E0\u57A7\u58B6\u58CB\u58CE\u57DD\u58EA\u7246\u58FC\u5B00\u59DC\u5AFA\u5AFF\u5C53\u5D2C\u5DA8\u5DA2\u5DAE\u5D94\u5D5B\u5D74\u5ECE\u5F60\u5FA1\u610D\u6196\u61B7\u624E\u6266\u6397\u648F\u637B\u63F8\u6698\u66E8\u672D\u684A\u6AAE\u68F6\u6AFA\u6A9F\u6A90\u6C61\u6C93\u6E22\u6F59\u6CB5\u6EAE\u6EFB\u6FDC\u6D8C\u6EB3\u6EBC\u6F0A\u6FA6\u6F24\u7145\u7173\u7198\u729B\u729F\u72CD\u736E\u875F\u74B5\u7452\u7472\u73C9\u73CF\u74AB\u74A1\u7487\u7572\u75FE\u762E\u763B\u766F\u77D3\u7740\u785C\u7845\u78D1\u7904\u7906\u78B9\u78D9\u7995\u7A60\u7C39\u7C64\u7C59\u9931\u7CF9\u7D18\u7D1D\u7D35\u7D16\u7D70\u7D8C\u7D5B\u7DD3\u979D\u7DAF\u7E15\u7DDA\u7E17\u7E6E\u7FFD\u7FEC\u80B7\u9AD2\u9183\u8195\u9F76\u81E2\u8C54\u8279\u8598\u839C\u84F4\u8600\u85C1\u866F\u87BF\u8828\u5ACB\u8918\u894F\u890C\u8949\u8941\u8974\u898E\u89A5\u8B8B\u8A12\u8A29\u8A57\u8A56\u8B78\u8ADD\u8AE1\u8C37\u8C76\u8C9F\u9F4E\u8D14\u8CD9\u8CF5\u8D07\u8D6C\u8DD6\u8E82\u8E0A\u8ED1\u8F08\u8F2C\u8F40\u9B31\u90C4\u91B1\u9245\u9451\u91FA\u9212\u935A\u9203\u9262\u947D\u9276\u928D\u929B\u92D9\u93FD\u9417\u9321\u9329\u6774\u9348\u9360\u93A1\u939B\u9394\u93F0\u93D0\u9481\u9436\u945E\u9588\u9592\u95D3\u95CD\u95E0\u95D2\u95E4\u965D\u97B4\u97CD\u9832\u71B2\u982E\u9834\u9852\u7E87\u98BA\u98AD\u98B8\u98BB\u98C0\u98E3\u98E2\u98E5\u98FF\u9904\u990E\u990F\u9916\u9915\u991C\u9936\u9941\u993A\u99B9\u99F0\u9A6B\u9A02\u99F8\u9A0C\u9A4C\u9A24\u9A66\u9B5B\u9B62\u9B68\u9B7A\u9B8B\u9B93\u9B8A\u9B8D\u9BB3\u9BA6\u9C02\u9B9C\u9C60\u9BBA\u9BB6\u9BD2\u9BD5\u9C3A\u9C0F\u9C68\u9BF7\u9C2E\u9C03\u9C01\u9C42\u9C1F\u9C1C\u9C3C\u9C6F\u9C64\u9C63\u9CF2\u9DAC\u9D1E\u9D12\u9DFD\u9D34\u9D43\u9D50\u9DF3\u9D7E\u9D6E\u9D8A\u9D77\u9DEB\u9DA1\u9DCA\u9DB2\u9DB9\u9DBA\u9DC1\u9DD6\u9E07\u9E0F\u9E18\u9EF6\u9F02\u9780\u9F55\u9F57\u5FD7\u5236\u8AEE\u53EA\u7CFB\u9B06\u5690\u9762\u4E7E\u62FC\u5641\u8B9A\u9AEE\u6BAD\u7DFB\u59E6\u7A6B\u934A\u8FF4\u4FC2\u8E5F\u96BB\u95E2\u95C6\u59B3"}var qrt=new Map([["\u5403","\u5403"],["\u6CE8","\u6CE8"]]);function tc(e){let t="";for(let r=0;r<e.length;r++){let n=e.charAt(r);if(qrt.has(n)){t+=n;continue}let s=ufe().indexOf(n);s!==-1?t+=GO().charAt(s):t+=n}return t}function Xt(e){let t="";for(let r=0;r<e.length;r++)GO().indexOf(e.charAt(r))!=-1?t+=ufe().charAt(GO().indexOf(e.charAt(r))):t+=e.charAt(r);return t}function Ru(e){return!/[\u4e00-\u9fff]/.test(e)}function jrt(e,t){let r=1;if(e.length>0&&e[0].p){let a=e[0].p.match(/\[([^\]]*)\]$/);a&&a[1]&&(r=a[1].split(/[&]/).length)}if(r>1&&E("info",`[Smart Deduplication] Detected multi-source merged danmaku (${r} sources). Applying smart count adjustment.`),t===0&&r===1)return e.map(i=>({...i,t:i.t!==void 0?i.t:parseFloat(i.p.split(",")[0])}));let n=e.reduce((i,a)=>{let o=a.t!==void 0?a.t:parseFloat(a.p.split(",")[0]),c=t===0?o.toFixed(2):Math.floor(o/(t*60));return i[c]||(i[c]=[]),i[c].push({...a,t:o}),i},{});return Object.keys(n).map(i=>{let o=n[i].reduce((c,u)=>{let l=u.m.split(" X")[0].trim();return c[l]||(c[l]={count:0,earliestT:u.t,cid:u.cid,p:u.p,like:0}),c[l].count+=1,c[l].earliestT=Math.min(c[l].earliestT,u.t),c[l].like+=u.like!==void 0?u.like:0,c},{});return Object.keys(o).map(c=>{let u=o[c],l=Math.round(u.count/r);return l<1&&(l=1),{cid:u.cid,p:u.p,m:l>1?`${c} x ${l}`:c,t:u.earliestT,like:u.like}})}).flat().sort((i,a)=>i.t-a.t)}function Hrt(e){return e.map(t=>{if(!t.like||t.like<5)return t;let s=["[hanjutv]","[sohu]","[bilibili1]","[migu]"].some(d=>t.p.includes(d))?100:1e3,i=t.like>=s?"\u{1F525}":"\u2764\uFE0F",a;t.like>=1e4?a=(t.like/1e4).toFixed(1)+"w":t.like>=1e3?a=(t.like/1e3).toFixed(1)+"k":a=t.like.toString();let o=` ${i} ${a}`,c=t.m+o,{like:u,...l}=t;return{...l,m:c}})}function zrt(e,t){if(t===0)return e;let r=t*1e3,n=e.length;if(n<=r)return e;let s=n/r,i=[];for(let a=0;a<r;a++){let o=Math.floor(a*s);i.push(e[o])}return i}function EA(e,t){let r=[],n=1,s=[];if(typeof e=="string")s=[...e.matchAll(/<d p="([^"]+)">([^<]+)<\/d>/g)].map(d=>({p:d[1],m:d[2]}));else if(e&&Array.isArray(e.danmuku)){let d={right:1,top:4,bottom:5},f=h=>h?parseInt(h.replace("#",""),16):16777215;s=e.danmuku.map(h=>({timepoint:h[0],ct:d[h[1]]!==void 0?d[h[1]]:1,color:f(h[2]),content:h[4]}))}else Array.isArray(e)&&(s=e);if(!s.length)return[];for(let d of s){let f,h,p,m,A;if("progress"in d&&"mode"in d&&"content"in d)p=(d.progress/1e3).toFixed(2),m=d.mode||1,A=d.color||16777215,h=d.content;else if("timepoint"in d)p=parseFloat(d.timepoint).toFixed(2),m=d.ct||0,A=d.color||16777215,h=d.content;else{if(!("p"in d))continue;let g=d.p.split(",");p=parseFloat(g[0]).toFixed(2),m=g[1]||0,g.length===4?A=g[2]||16777215:g.length>=8?A=g[3]||16777215:A=g[3]||g[2]||16777215,h=d.m}f=[p,m,A,`[${t}]`].join(","),r.push({p:f,m:h,cid:n++,like:d?.like})}let i=B.blockedWords.split(/(?<=\/),(?=\/)/).map(d=>{let f=d.trim();if(f.startsWith("/")&&f.endsWith("/"))try{return new RegExp(f.slice(1,-1))}catch(h){return E("error",`\u65E0\u6548\u7684\u6B63\u5219\u8868\u8FBE\u5F0F: ${f}`,h),null}return null}).filter(d=>d!==null);E("info",`\u539F\u59CB\u5C4F\u853D\u8BCD\u5B57\u7B26\u4E32: ${B.blockedWords}`),E("info",`\u5C4F\u853D\u8BCD\u5217\u8868: ${(d=>Array.isArray(d)?d.map(f=>f.toString()).join(`
`):String(d))(i)}`);let o=r.filter(d=>!i.some(f=>f.test(d.m)));E("info",`\u53BB\u91CD\u5206\u949F\u6570: ${B.groupMinute}`);let c=jrt(o,B.groupMinute),u=Hrt(c),l=zrt(u,B.danmuLimit);if(B.convertTopBottomToScroll||B.convertColor==="white"||B.convertColor==="color"){let d=0,f=0;l=l.map(h=>{let p=h.p.split(",");if(p.length<3)return h;let m=parseInt(p[1],10),A=parseInt(p[2],10),g=!1;B.convertTopBottomToScroll&&(m===4||m===5)&&(d++,m=1,g=!0),B.convertColor==="white"&&A!==16777215&&(f++,A=16777215,g=!0);let x=[16777215,16777215,16777215,16777215,16777215,16777215,16777215,16777215,16744319,16752762,16774799,9498256,8388564,8900346,14204888,16758465],y=x[Math.floor(Math.random()*x.length)];if(B.convertColor==="color"&&A===16777215&&A!==y&&(f++,A=y,g=!0),g){let b=[p[0],m,A,...p.slice(3)].join(",");return{...h,p:b}}return h}),d>0&&E("info",`[danmu convert] \u8F6C\u6362\u4E86 ${d} \u6761\u9876\u90E8/\u5E95\u90E8\u5F39\u5E55\u4E3A\u6D6E\u52A8\u5F39\u5E55`),f>0&&E("info",`[danmu convert] \u8F6C\u6362\u4E86 ${f} \u6761\u5F39\u5E55\u989C\u8272`)}return B.danmuSimplifiedTraditional==="traditional"&&(l=l.map(d=>({...d,m:tc(d.m)})),E("info",`[danmu convert] \u8F6C\u6362\u4E86 ${l.length} \u6761\u5F39\u5E55\u4E3A\u7E41\u4F53\u5B57`)),E("info",`danmus_original: ${r.length}`),E("info",`danmus_filter: ${o.length}`),E("info",`danmus_group: ${c.length}`),E("info",`danmus_limit: ${l.length}`),E("info","Top 5 danmus:",JSON.stringify(l.slice(0,5),null,2)),l}function VO(e){return typeof e.r!="number"||e.r<0||e.r>255||typeof e.g!="number"||e.g<0||e.g>255||typeof e.b!="number"||e.b<0||e.b>255?-1:e.r*256*256+e.g*256+e.b}function TI(e){return typeof e!="string"||e.length!==6||!/^[0-9A-Fa-f]{6}$/.test(e)?16777215:parseInt(e,16)}function Grt(e){let t=`<?xml version="1.0" ?>
`;t+=`<i>
`;let r=e.comments||[];if(Array.isArray(r))for(let n of r){let s=Krt(n);t+='    <d p="'+Yrt(s)+'">'+Wrt(n.m)+`</d>
`}return t+="</i>",t}function Vrt(){let t=(Date.now()%1e8).toString().padStart(8,"0"),r=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return t+r}function Krt(e){let t=e.p.split(","),n=(parseFloat(t[0])||0).toFixed(1),s=t[1]||"1",i="25",a=t[2]||"16777215",o="1751533608",c="0",u="0",l=Vrt();return`${n},${s},${i},${a},${o},${c},${u},${l}`}function Yrt(e){return e?String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):""}function Wrt(e){return e?String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}function to(e,t){let r=t||B.danmuOutputFormat;if(r=r.toLowerCase(),E("info",`[Format] Using format: ${r}`),r==="xml")try{let n=Grt(e);return Ude(n)}catch(n){return E("error",`Failed to convert to XML: ${n.message}`),be(e)}return be(e)}Dt();var rc=class{constructor({apiKey:t,baseURL:r="https://api.openai.com/v1",model:n="gpt-4o",systemPrompt:s=""}){this.apiKey=t,this.baseURL=r.replace(/\/$/,""),this.model=n,this.systemPrompt=s}async chat(t,r={}){let n={model:r.model||this.model,messages:t,temperature:r.temperature??0,max_tokens:r.maxTokens??8192,stream:!1},s=await sr(`${this.baseURL}/chat/completions`,JSON.stringify(n),{headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},timeout:6e4}),i=s.data;if(i?.error){let a=i.error.message;throw new Error(`AI API error ${s.status}: ${a}`)}return i.choices[0].message.content}async ask(t,r={}){let n=[];return this.systemPrompt&&n.push({role:"system",content:this.systemPrompt}),n.push({role:"user",content:t}),this.chat(n,r)}session(t={}){let r=[],n=this.chat.bind(this),s=this.systemPrompt;return s&&r.push({role:"system",content:s}),{async send(i){r.push({role:"user",content:i});let a=await n(r,t);return r.push({role:"assistant",content:a}),a},clear(){r.length=0,s&&r.push({role:"system",content:s})},getHistory(){return[...r]}}}async verify(){try{return{ok:!0,reply:await this.ask("hi",{maxTokens:1})}}catch(t){return{ok:!1,error:t.message}}}};pt();Dt();Ze();yI();Br();Zr();pt();Ze();Dt();var BI=new Map;async function xA(e,t={}){let n=`https://api.tmdb.org/3/${e}`,s=B.makeProxyUrl(n);try{let i=await ue(s,{method:"GET",headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"},signal:t.signal});return i.status!=200?null:i}catch(i){if(i.name==="AbortError")throw i;return E("error","[TMDB] Api error:",{message:i.message,name:i.name,stack:i.stack}),null}}async function RI(e,t="multi",r={}){let{page:n=1,maxPages:s=3,signal:i=null}=r;if(r.page!==void 0){let o=`search/${t}?api_key=${B.tmdbApiKey}&query=${encodeURIComponent(e)}&language=zh-CN&page=${n}`;return await xA(o,{signal:i})}let a=[];for(let o=1;o<=s;o++){if(i&&i.aborted)throw new DOMException("Aborted","AbortError");let c=`search/${t}?api_key=${B.tmdbApiKey}&query=${encodeURIComponent(e)}&language=zh-CN&page=${o}`,u=await xA(c,{signal:i});if(!u||!u.data)break;let l=typeof u.data=="string"?JSON.parse(u.data):u.data;if(!l.results||l.results.length===0||(a.push(...l.results),l.results.length<20))break}return E("info",`[TMDB] \u5171\u83B7\u53D6\u5230 ${a.length} \u6761\u641C\u7D22\u7ED3\u679C\uFF08\u6700\u591A${s}\u9875\uFF09`),{data:{results:a},status:200}}async function Jrt(e,t,r={}){let n=`${e}/${t}?api_key=${B.tmdbApiKey}&language=ja-JP`;return await xA(n,r)}async function lfe(e,t,r={}){let n=`${e}/${t}/external_ids?api_key=${B.tmdbApiKey}`;return await xA(n,r)}async function Xrt(e,t,r={}){let n=`${e}/${t}/alternative_titles?api_key=${B.tmdbApiKey}`;return await xA(n,r)}function Zrt(e,t){if(!e||!e.data)return null;let r=e.data.results||e.data.titles||[];if(!Array.isArray(r)||r.length===0)return null;let n=["CN","TW","HK","SG"];for(let i of n){let a=r.find(o=>{let c=o.iso_3166_1||o.iso_639_1,u=o.title||o.name||"";return c===i&&u&&!Ru(u)});if(a){let o=a.title||a.name;return E("info",`[TMDB] \u4ECE\u522B\u540D\u4E2D\u627E\u5230\u4E2D\u6587\u6807\u9898 (${i}): ${o}`),o}}let s=r.find(i=>{let a=i.title||i.name||"";return a&&!Ru(a)});if(s){let i=s.title||s.name;return E("info",`[TMDB] \u4ECE\u522B\u540D\u4E2D\u627E\u5230\u4E2D\u6587\u6807\u9898 (\u5176\u4ED6\u5730\u533A): ${i}`),i}return null}async function ent(e,t){let r=e.name||e.title||"";if(!Ru(r))return r;E("info",`[TMDB] \u68C0\u6D4B\u5230\u975E\u4E2D\u6587\u6807\u9898 "${r}", \u5C1D\u8BD5\u83B7\u53D6\u4E2D\u6587\u522B\u540D`);let n=e.media_type||(e.name?"tv":"movie");try{if(t&&t.aborted)throw new DOMException("Aborted","AbortError");let s=await Xrt(n,e.id,{signal:t});if(t&&t.aborted)throw new DOMException("Aborted","AbortError");let i=Zrt(s,n);return i?(E("info",`[TMDB] \u5C06\u4F7F\u7528\u4E2D\u6587\u522B\u540D\u8FDB\u884C\u76F8\u4F3C\u5339\u914D: ${i}`),i):(E("info",`[TMDB] \u672A\u627E\u5230\u4E2D\u6587\u522B\u540D\uFF0C\u4F7F\u7528\u539F\u6807\u9898: ${r}`),r)}catch(s){if(s.name==="AbortError")throw s;return E("error",`[TMDB] \u83B7\u53D6\u522B\u540D\u5931\u8D25: ${s.message}`),r}}async function Kp(e,t=null,r="Unknown"){if(!B.tmdbApiKey)return E("info","[TMDB] \u672A\u914D\u7F6EAPI\u5BC6\u94A5\uFF0C\u8DF3\u8FC7TMDB\u641C\u7D22"),null;let n=nnt(e);n!==e&&E("info",`[TMDB] \u4F18\u5316\u641C\u7D22\u5173\u952E\u8BCD: "${e}" -> "${n}"`);let s=BI.get(n);if(s)E("info",`[TMDB] \u52A0\u5165\u6B63\u5728\u8FDB\u884C\u7684\u641C\u7D22: ${n} (${r})`);else{let a=new AbortController;s={controller:a,refCount:0,promise:(async()=>{try{let c=a.signal,u=T=>{let R=T.genre_ids||[],P=T.genres||[],N=R.length>0?R:P.map(q=>q.id),D=T.original_language||"";return N.includes(16)?{isValid:!0,reason:"\u660E\u786E\u52A8\u753B\u7C7B\u578B(genre_id: 16)"}:D==="ja"?{isValid:!0,reason:"\u539F\u59CB\u8BED\u8A00\u4E3A\u65E5\u8BED(ja),\u53EF\u80FD\u662F\u65E5\u5267/\u65E5\u5F71/\u65E5\u7EFC\u827A"}:{isValid:!1,reason:`\u975E\u52A8\u753B\u4E14\u975E\u65E5\u8BED\u5185\u5BB9(language: ${D}, genres: ${N.join(",")})`}},l=T=>{if(!T||T.length===0)return{hasValid:!1,validCount:0,totalCount:0,details:"\u641C\u7D22\u7ED3\u679C\u4E3A\u7A7A"};let R=0,P=[];for(let N of T){let D=u(N);if(D.isValid){R++;let k=N.name||N.title||"\u672A\u77E5";P.push(`${k}(${D.reason})`)}}return{hasValid:R>0,validCount:R,totalCount:T.length,details:R>0?`\u627E\u5230${R}\u4E2A\u7B26\u5408\u6761\u4EF6\u7684\u5185\u5BB9: ${P.slice(0,3).join(", ")}${R>3?"...":""}`:`\u6240\u6709${T.length}\u4E2A\u7ED3\u679C\u5747\u4E0D\u7B26\u5408\u6761\u4EF6(\u975E\u52A8\u753B\u4E14\u975E\u65E5\u8BED)`}},d=(T,R)=>{let P=Q=>Q.toLowerCase().replace(/\s+/g,"").replace(/[:""'']/g,"").trim(),N=P(T),D=P(R);if(N===D)return 1;let k=N.length<D.length?N:D,q=N.length>=D.length?N:D;if(q.includes(k)&&k.length>0)return .6+k.length/q.length*.3;let j=T.length>R.length?T:R,G=T.length>R.length?R:T;if(j.length===0)return 1;let J=(Q,te)=>{Q=Q.toLowerCase(),te=te.toLowerCase();let ne=[];for(let ee=0;ee<=Q.length;ee++){let ie=ee;for(let Ee=0;Ee<=te.length;Ee++)if(ee===0)ne[Ee]=Ee;else if(Ee>0){let ve=ne[Ee-1];Q.charAt(ee-1)!==te.charAt(Ee-1)&&(ve=Math.min(Math.min(ve,ie),ne[Ee])+1),ne[Ee-1]=ie,ie=ve}ee>0&&(ne[te.length]=ie)}return ne[te.length]};return(j.length-J(j,G))/j.length};if(E("info",`[TMDB] \u6B63\u5728\u641C\u7D22 (Shared Task): ${n}`),c.aborted)throw new DOMException("Aborted","AbortError");let f=await RI(n,"multi",{signal:c});if(!f||!f.data)return E("info","[TMDB] TMDB\u641C\u7D22\u7ED3\u679C\u4E3A\u7A7A"),null;let h=typeof f.data=="string"?JSON.parse(f.data):f.data;if(!h.results||h.results.length===0)return E("info","[TMDB] TMDB\u672A\u627E\u5230\u4EFB\u4F55\u7ED3\u679C"),null;let p=l(h.results);if(!p.hasValid)return E("info",`[TMDB] \u7C7B\u578B\u5224\u65AD\u672A\u901A\u8FC7,\u8DF3\u8FC7\u540E\u7EED\u641C\u7D22: ${p.details}`),null;E("info",`[TMDB] \u7C7B\u578B\u5224\u65AD\u901A\u8FC7: ${p.details}`);let m=null,A=-1,g=null,x=0,y=5,b=!1;for(let T of h.results){let R=T.name||T.title||"";if(!R)continue;let P=d(n,R),N=T.original_name||T.original_title||"",D=N?d(n,N):0,k=Math.max(P,D);if(k===1&&!b){b=!0,E("info",`[TMDB] \u5339\u914D\u68C0\u67E5 "${R}" - \u76F8\u4F3C\u5EA6: 100.00% (\u5B8C\u5168\u5339\u914D\uFF0C\u8DF3\u8FC7\u540E\u7EED\u6240\u6709\u522B\u540D\u641C\u7D22)`),k>A&&(A=k,m=T,g=R);continue}let q,j;if(b||!Ru(R))q=R,j=k,b&&Ru(R)?E("info",`[TMDB] \u5339\u914D\u68C0\u67E5 "${R}" - \u76F8\u4F3C\u5EA6: ${(j*100).toFixed(2)}% (\u5DF2\u627E\u5230\u5B8C\u5168\u5339\u914D\uFF0C\u8DF3\u8FC7\u522B\u540D\u641C\u7D22)`):E("info",`[TMDB] \u5339\u914D\u68C0\u67E5 "${R}" - \u76F8\u4F3C\u5EA6: ${(j*100).toFixed(2)}%`);else{if(x<y)try{q=await ent(T,c),q!==R&&x++}catch(Q){if(Q.name==="AbortError")throw Q;E("error",`[TMDB] \u5904\u7406\u7ED3\u679C\u5931\u8D25: ${Q.message}`),q=R}else q=R,E("info",`[TMDB] \u5DF2\u8FBE\u5230\u522B\u540D\u83B7\u53D6\u4E0A\u9650(${y})\uFF0C\u4F7F\u7528\u539F\u6807\u9898: ${R}`);let G=d(n,q);j=Math.max(G,D);let J=q!==R?`"${R}" (\u522B\u540D: ${q})`:`"${R}"`;E("info",`[TMDB] \u5339\u914D\u68C0\u67E5 ${J} - \u76F8\u4F3C\u5EA6: ${(j*100).toFixed(2)}%`),j===1&&!b&&(b=!0,E("info","[TMDB] \u901A\u8FC7\u522B\u540D\u627E\u5230\u5B8C\u5168\u5339\u914D\uFF0C\u8DF3\u8FC7\u540E\u7EED\u6240\u6709\u522B\u540D\u641C\u7D22"))}j>A&&(A=j,m=T,g=q)}if(!m||A<.2)return E("info",`[TMDB] \u6700\u4F73\u5339\u914D\u76F8\u4F3C\u5EA6\u8FC7\u4F4E\u6216\u672A\u627E\u5230\u5339\u914D (${m?(A*100).toFixed(2)+"%":"N/A"}),\u8DF3\u8FC7`),null;E("info",`[TMDB] TMDB\u6700\u4F73\u5339\u914D: ${g}, \u76F8\u4F3C\u5EA6: ${(A*100).toFixed(2)}%`);let C=m.media_type||(m.name?"tv":"movie"),w=await Jrt(C,m.id,{signal:c}),S;if(!w||!w.data)S=m.name||m.title,E("info",`[TMDB] \u4F7F\u7528\u4E2D\u6587\u641C\u7D22\u7ED3\u679C\u6807\u9898: ${S}`);else{let T=typeof w.data=="string"?JSON.parse(w.data):w.data;S=T.original_name||T.original_title||T.name||T.title,E("info",`[TMDB] \u627E\u5230\u65E5\u8BED\u539F\u540D: ${S}`)}return{title:S,cnAlias:g}}catch(c){return c.name==="AbortError"?(E("info",`[TMDB] \u540E\u53F0\u641C\u7D22\u4EFB\u52A1\u5DF2\u5B8C\u5168\u7EC8\u6B62 (${n})`),null):(E("error","[TMDB] Background Search error:",{message:c.message,name:c.name,stack:c.stack}),null)}})().finally(()=>{BI.delete(n)})},BI.set(n,s),E("info",`[TMDB] \u542F\u52A8\u65B0\u641C\u7D22\u4EFB\u52A1: ${n}`)}s.refCount++;let i=()=>{BI.get(n)===s&&(s.refCount--,s.refCount<=0&&(E("info",`[TMDB] \u6240\u6709\u8C03\u7528\u8005\u5DF2\u53D6\u6D88\uFF0C\u7EC8\u6B62\u540E\u53F0\u8BF7\u6C42: ${n}`),s.controller.abort()))};if(t){if(t.aborted)return i(),E("info",`[TMDB] \u641C\u7D22\u5DF2\u88AB\u4E2D\u65AD (Source: ${r})`),null;t.addEventListener("abort",i,{once:!0})}try{let a=new Promise((o,c)=>{t&&t.addEventListener("abort",()=>c(new DOMException("Aborted","AbortError")),{once:!0})});return await Promise.race([s.promise,a])}catch(a){return a.name==="AbortError"?(E("info",`[TMDB] \u641C\u7D22\u5DF2\u88AB\u4E2D\u65AD (Source: ${r})`),null):(E("error",`[TMDB] \u641C\u7D22\u5F02\u5E38: ${a.message}`),null)}}async function dfe(e,t=null,r=null){if(!Ru(e))return e;let n=t!=null,s=n?"tv":"movie";try{let i=await RI(e,s);if(!i.data.results||i.data.results.length===0)return E("info","[TMDB] TMDB\u672A\u627E\u5230\u4EFB\u4F55\u7ED3\u679C"),e;let o=i.data.results.find(u=>{let l=n?u.name:u.title;return l&&!Ru(l)})||i.data.results[0],c=n?o.name:o.title;return c?(E("info",`\u539F\u6807\u9898: ${e} -> \u4E2D\u6587\u6807\u9898: ${c}`),c):e}catch(i){return E("error","\u67E5\u8BE2 TMDB \u65F6\u51FA\u9519:",i),e}}var tnt=[/(\s+|^)(?:)?(\d+|[]+)[]/,/(\s+|^)season\s*\d+/i,/(\s+|^)s\d+/i,/(\s+|^)part\s*\d+/i,/(\s+|^)the\s+final\s+season/i,/(\s+|^)movie(?![a-z])/i,/(\s+|^)film(?![a-z])/i,/(\s+|^)ova(?![a-z])/i,/(\s+|^)oad(?![a-z])/i,/(\s+|^)sp(?![a-z])/i,/[:]\s*.+/,/[~].+/,/\s+.*/,/.*/],rnt=/[ :~]/;function ffe(e){let t=e.length;for(let r of tnt){let n=e.match(r);n&&n.index!==void 0&&n.index<t&&(t=n.index)}return t}function nnt(e){let t=ffe(e);return t<e.length?e.substring(0,t).trim():e}function NI(e,t){if(!e||e.length===0||!t)return;E("info",`[TMDB] \u542F\u52A8\u667A\u80FD\u66FF\u6362\uFF0C\u76EE\u6807\u522B\u540D: "${t}"\uFF0C\u5F85\u5904\u7406\u6761\u76EE: ${e.length}`);let r=e.map(s=>{let i=s.org_title||s.title||"",a=ffe(i);return i.substring(0,a)}),n="";if(r.length>0){let s=r.concat().sort(),i=s[0],a=s[s.length-1],o=0;for(;o<i.length&&i.charAt(o)===a.charAt(o);)o++;n=i.substring(0,o)}n&&n.length>1&&E("info",`[TMDB] \u8BA1\u7B97\u51FA\u6700\u957F\u516C\u5171\u524D\u7F00 (LCP): "${n}"`);for(let s=0;s<e.length;s++){let i=e[s],a=i.title||"";if(n&&n.length>1&&a.startsWith(n)){let o=a.substring(n.length).trim(),c;o?o.match(/^[~:]/)?c=t+o:c=t+" "+o:c=t,i._displayTitle=c,E("info",`[TMDB] [LCP\u6A21\u5F0F] "${a}" -> "${c}"`)}else{let o=a.match(rnt);if(o){let c=a.substring(o.index),u=t+c;i._displayTitle=u,E("info",`[TMDB] [\u5206\u9694\u7B26\u6A21\u5F0F] "${a}" -> "${u}"`)}else i._displayTitle=t,E("info",`[TMDB] [\u5168\u66FF\u6A21\u5F0F] "${a}" -> "${t}"`)}}}pt();Ze();Br();var Wp="$$$",KO="&",snt=!1,xn=Object.freeze({TITLE_STRUCTURE_CONFLICT:-.15,LANG_MATCH_CN:.15,LANG_MISMATCH:-.2,DATE_MATCH:0,EP_ALIGN:{MOVIE_TYPE_MISMATCH:-5,SPECIAL_STRICT_MISMATCH:-8,LANG_MATCH:3,LANG_MISMATCH:-5,SEASON_NUM_MISMATCH:-10,SPECIAL_TYPE_MISMATCH:-10,SPECIAL_TYPE_MATCH:3,IS_SPECIAL_MATCH:3,SEASON_SHIFT_EXACT:15,CN_STRICT_MATCH:25,CN_STRICT_MISMATCH:-5,NUMERIC_MATCH:2,PATTERN_CONSISTENCY_BONUS:2,ZERO_DIFF_BONUS_BASE:100,ZERO_DIFF_BONUS_PER_HIT:5}}),ro=Object.freeze({SIMILARITY_MIN:.6,SIMILARITY_STRONG:.98,TIER_DEFAULT:.001,TIER_CN:.4,TIER_PART:.5,COLLECTION_RATIO:4,COLLECTION_DIFF:6});function it(e,...t){typeof t[0]=="string"&&t[0].includes("[Merge-Check]")&&!snt||E(e,...t)}var ce={Lang:{CN:/(||||||||||||)(?:)?/,JP:/(|||)(?:)?/,CN_DUB_VER:/(\(||\[)?(||||||||||||)?(\)||\])?/g,JP_DUB_VER:/(\(||\[)?(|||)?(\)||\])?/g,KEYWORDS_STRONG:/(?:||||||||||||||||)(?:)?/g,CN_STD:/||||||||||||/g,JP_STD:/|||/g},Season:{PURE_PART:/^(?:(?:|S(?:eason)?)\s*\d+(?:||)?|(?:Part|P|)\s*\d+(?:)?)$/i,PART_NORM:/(\d+)/g,PART_NORM_2:/(?:Part|P)[\s.]*(\d+)/gi,FINAL:/(?:The\s+)?Final\s+Season/gi,NORM:/(?:Season|S)\s*(\d+)/gi,CN:/([])/g,ROMAN:/(\s|^)(IV|III|II|I)(\s|$)/g,INFO_STRONG:/(?:season|s|)\s*[0-9]+\s*(?:||(?!))?/gi,PART_INFO_STRONG:/(?:part|p|)\s*\d+\s*(?:)?/gi,PART_ANY:/(?:part|p)\s*\d+/gi,CN_STRUCTURE:/(?:^|\s|\d+\s?)(||)(?=$|[\s\(\\[])/i,SUFFIX_AMBIGUOUS:/(?:[\s\u4e00-\u9fa5]|^)(S|T|R|II|III|IV)(?=$|[\s\(\\[])/i,SUFFIX_SEQUEL:/(?:||The Sequel)/i},Clean:{NA_TAG:/(\(||\[)N\/A(\)||\])/gi,SOURCE_TAG:/.*?/g,REGION_LIMIT:/(\(||\[).*?(\)||\])/g,PUNCTUATION:/[!?,.~:\-_]/g,WHITESPACE:/\s+/g,FROM_SUFFIX:/\s*from\s+.*$/i,PARENTHESES_CONTENT:/(\(||\[).*?(\)||\])/g,MOVIE_KEYWORDS:/|the\s*movie|theatrical|movie|film|/gi,LONE_VER_CHAR:/(\s|^)(\s|$)/g,NON_ALPHANUM_CN:/[^\u4e00-\u9fa5a-zA-Z0-9]/g,META_SUFFIX:/(\(||\[)(|TV|||)(\)||\])/gi,YEAR_TAG:/(\(||\[)\d{4}(\)||\]).*$/i,SUBTITLE_SEPARATOR:/^[\s:\-(\[]/,SPACE_STRUCTURE:/.+[\s\u00A0\u3000].+/,SPLIT_SPACES:/[\s\u00A0\u3000]+/,REDUNDANT_SEPARATOR:/[\s:~]/,REDUNDANT_UNSAFE_END:/[\(\\[:~\-]$/,REDUNDANT_VALID_CHARS:/[\u4e00-\u9fa5a-zA-Z]{2,}/},Episode:{SUFFIX_DIGIT:/_\d+(?=$|\s)/g,FILE_NOISE:/_(\d{2,4})(?=\.)/g,SEASON_PREFIX:/(?:^|\s)(?:[0-9]+|S(?:eason)?\s*\d+)(?:\s+|_)/gi,CLEAN_SMART:/(?:^|\s)(?:EP|E|Vol|Episode|No|Part|)\s*\d+(?:\.\d+)?(?:\s*[])?(?!\s*[])/gi,PUNCTUATION:/[!?,.~:\-]/g,DANDAN_TAG:/^(dandan|animeko)/i,SPECIAL_START:/^S\d+/i,MOVIE_CHECK:/|movie|film/i,PV_CHECK:/(pv|trailer|)/i,SPECIAL_CHECK:/^(s|o|sp|special)\d/i,SEASON_MATCH:/(?:^|\s)(?:|S)(\d+)[S]/i,NUM_STRATEGY_A:/(?:|s)(\d+)[s]\s*(?:|ep|e)(\d+)/i,NUM_STRATEGY_B:/(?:ep|e|vol|episode|chapter|no|part|)\s*(\d+(\.\d+)?)(?:\s*[])?(?!\s*[])/i,NUM_STRATEGY_C:/(?:^|\s)(?:)?(\d+(\.\d+)?)(?:||\s|$)/,DANDAN_IGNORE:/^[SC]\d+/i,MAP_EXCLUDE_KEYWORDS:/(?:^|\s)(?:PV|OP|ED|SP|Special|Drama|OAD|OVA|Opening|Ending|||Behind\s+the\s+Scenes|Making|Interview)(?:\s|$|[:])/i,SINK_TITLE_STRICT:/^(?:S\d+|C\d+|SP\d*|OP\d*|ED\d*|PV\d*|Trailers?|Interview|Making||)(?:\s|$|[:.\-]|\u3000)/i},Category:{ANIME_KW:/(|TV|||)/,REAL_KW:/(|||)/,ANIMEKO_SOURCE:/animeko/i},Similarity:{CN_STRICT_CORE_REMOVE:/[0-9a-zA-Z\spartEPep._\-:()]/gi}},PI=[{regex:/(?:\s|^)A's$/i,val:"S2"},{regex:/(?:\s|^)StrikerS$/i,val:"S3"},{regex:/(?:\s|^)ViVid$/i,val:"S4"},{regex:/(?:\s|^)SuperS$/i,val:"S4"}],int=[{regex:/(?:)?(\d+)(?:||(?!))/,prefix:"S"},{regex:/season\s*(\d+)/,prefix:"S"},{regex:/s(\d+)/,prefix:"S"},{regex:/part\s*(\d+)/,prefix:"P"},{regex:/(ova|oad)/,val:"OVA"},{regex:/(|the\s*movie|theatrical|movie|film|)/,val:"MOVIE"},{regex:/(|)/,val:"SEQUEL"},{regex:/sp/,val:"SP"},{regex:/[^0-9](\d)$/,prefix:"S",useCleaned:!0}];function ei(e){if(!e)return"Unspecified";let t=e.toLowerCase();return ce.Lang.CN.test(t)?"CN":ce.Lang.JP.test(t)?"JP":"Unspecified"}function Nu(e){if(!e)return"";let t=Xt(e);t=t.replace(ce.Clean.NA_TAG,""),t=t.replace(ce.Season.PART_NORM,"part $1"),t=t.replace(ce.Season.PART_NORM_2,"part $1"),t=t.replace(ce.Season.FINAL,"\u6700\u7EC8\u5B63"),t=t.replace(ce.Season.NORM,"\u7B2C$1\u5B63");let r={\u4E00:"1",\u4E8C:"2",\u4E09:"3",\u56DB:"4",\u4E94:"5",\u516D:"6",\u4E03:"7",\u516B:"8",\u4E5D:"9",\u5341:"10"};return t=t.replace(ce.Season.CN,(n,s)=>`\u7B2C${r[s]}\u5B63`),t=t.replace(ce.Season.ROMAN,(n,s,i,a)=>`${s}\u7B2C${{I:"1",II:"2",III:"3",IV:"4"}[i]}\u5B63${a}`),t=t.replace(ce.Lang.CN_DUB_VER,"\u4E2D\u914D\u7248"),t=t.replace(ce.Lang.JP_DUB_VER,""),t=t.replace(ce.Clean.SOURCE_TAG,""),t=t.replace(ce.Clean.REGION_LIMIT,""),t=t.replace(/(\d+)\.(\d+)/g,"$1{{DOT}}$2"),t=t.replace(ce.Clean.PUNCTUATION," "),t=t.replace(/{{DOT}}/g,"."),t.replace(ce.Clean.WHITESPACE," ").toLowerCase().trim()}function Oi(e){if(!e)return"";let t=Xt(e),r=t.match(/^(?:|\[)(.+?)(?:|\])/);if(r){let n=r[1];/^(TV||movie|film|anime|||AVC|HEVC|MP4|MKV)$/i.test(n)||(t=t.replace(r[0],n+" "))}return t=t.replace(ce.Clean.SOURCE_TAG,""),t=t.replace(ce.Clean.FROM_SUFFIX,""),t=t.replace(ce.Clean.NA_TAG,""),t=t.replace(ce.Clean.PARENTHESES_CONTENT,""),t=t.replace(ce.Season.INFO_STRONG,""),t=t.replace(ce.Season.PART_INFO_STRONG,""),t=t.replace(ce.Clean.MOVIE_KEYWORDS,""),t=t.replace(ce.Lang.KEYWORDS_STRONG,""),t=t.replace(ce.Clean.LONE_VER_CHAR,""),t=t.replace(ce.Clean.NON_ALPHANUM_CN,""),t.toLowerCase()}function bfe(e){if(!e)return"";let t=Xt(e);return t=t.replace(ce.Episode.SUFFIX_DIGIT,""),t=t.replace(ce.Episode.FILE_NOISE,""),t=t.replace(ce.Episode.SEASON_PREFIX," "),t=t.replace(ce.Episode.CLEAN_SMART," "),t=t.replace(ce.Clean.SOURCE_TAG,""),t=t.replace(ce.Lang.CN_STD,"\u4E2D\u6587"),t=t.replace(ce.Lang.JP_STD,"\u65E5\u6587"),t=t.replace(/(\d+)\.(\d+)/g,"$1{{DOT}}$2"),t=t.replace(ce.Episode.PUNCTUATION," "),t=t.replace(/{{DOT}}/g,"."),t.replace(ce.Clean.WHITESPACE," ").toLowerCase().trim()}function pfe(e){return e?e.replace(ce.Clean.PARENTHESES_CONTENT,"").trim():""}function Efe(e){if(!e)return"";let t=String(e).split(Wp)[0].trim();if(t.startsWith("//"))return"https:"+t;let r=t.match(/^([^:]+):(.+)$/);if(r){let n=r[1].toLowerCase(),s=r[2];return n==="http"||n==="https"?t:/^https?:\/\//i.test(s)?s:s.startsWith("//")?"https:"+s:s}return t}function hfe(e){if(!e||e==="N/A")return{year:null,month:null};let t=new Date(e),r=t.getTime();if(isNaN(r))return{year:null,month:null};let n=t.getFullYear();return n>2030?{year:null,month:null}:{year:n,month:t.getMonth()+1}}function ant(e,t){let r=e.length,n=t.length;if(r===0)return n;if(n===0)return r;let s=new Array(n+1),i=new Array(n+1);for(let a=0;a<=n;a++)s[a]=a;for(let a=1;a<=r;a++){i[0]=a;let o=e.charCodeAt(a-1);for(let u=1;u<=n;u++){let l=o===t.charCodeAt(u-1)?0:1;i[u]=Math.min(i[u-1]+1,s[u]+1,s[u-1]+l)}let c=s;s=i,i=c}return s[n]}function ont(e,t){if(!e||!t)return 0;let r=new Set(e.replace(ce.Clean.WHITESPACE,"")),n=new Set(t.replace(ce.Clean.WHITESPACE,"")),s=r.size,i=n.size;if(s===0&&i===0)return 1;if(s===0||i===0)return 0;let a=0,[o,c]=s<i?[r,n]:[n,r];for(let u of o)c.has(u)&&a++;return 2*a/(s+i)}function Yp(e,t){if(!e||!t)return 0;let r=Oi(e),n=Oi(t);if(r===n)return 1;let s=r.length,i=n.length,a=Math.max(s,i),o=Math.min(s,i);if(r.includes(n)||n.includes(r)){let b=o/a;if(b>.5)return .8+b*.2}let c=ant(r,n),u=a===0?1:1-c/a,l=new Set(r.replace(ce.Clean.WHITESPACE,"")),d=new Set(n.replace(ce.Clean.WHITESPACE,"")),f=l.size,h=d.size;if(f===0||h===0)return 0;let p=0,[m,A]=f<h?[l,d]:[d,l];for(let b of m)A.has(b)&&p++;let g=2*p/(f+h),x=0,y=Math.min(f,h);return y>2&&(x=p/y,x>.6&&y/Math.max(f,h)<.6&&(x-=.25)),Math.max(u,g,x)}function cnt(e,t,r=!0){if(!e||!t||Oi(e)===Oi(t))return!1;let n=d=>{if(!d)return"";let f=Xt(d);return f=f.replace(ce.Clean.META_SUFFIX,"").replace(ce.Clean.YEAR_TAG,"").replace(ce.Clean.SOURCE_TAG,"").replace(ce.Clean.FROM_SUFFIX,"").replace(ce.Clean.WHITESPACE," "),f.trim().toLowerCase()},s=n(e),i=n(t);if(s===i)return!1;let a=d=>{let f=[":","\uFF1A"," code:"," code\uFF1A"," season"," part"];for(let p of f){let m=d.indexOf(p);if(m!==-1)return d.substring(m).trim()}let h=d.split(ce.Clean.WHITESPACE);return h.length>=2?h.slice(1).join(" "):null},o=a(s),c=a(i),[u,l]=s.length<i.length?[s,i]:[i,s];if(l.startsWith(u)){if(l.length===u.length)return!1;let d=l[u.length];if(ce.Clean.SUBTITLE_SEPARATOR.test(d)){let f=l.slice(u.length).replace(ce.Clean.SUBTITLE_SEPARATOR,"").trim();if(!r&&f.length>1||f.length>2)return!0}}return!!(o&&c&&ont(o,c)<.2)}function zs(e,t=""){let r=new Set,n=Nu(e),s=Nu(t||""),i=n.replace(ce.Season.PART_ANY,""),a=i.match(ce.Season.CN_STRUCTURE);if(a){let p=a[1];p==="\u627F"?r.add("S2"):p==="\u8F6C"?r.add("S3"):p==="\u7ED3"&&r.add("S4")}int.forEach(p=>{let A=(p.useCleaned?i:n).match(p.regex);A&&(p.prefix?r.add(`${p.prefix}${parseInt(A[1])}`):r.add(p.val))});let o=!1;for(let p of PI)if(p.regex.test(i)){r.add(p.val),o=!0;break}if(!o){let p=i.match(ce.Season.SUFFIX_AMBIGUOUS);if(p){r.add("AMBIGUOUS");let m=p[1].toUpperCase();m==="II"&&r.add("S2"),m==="III"&&r.add("S3"),m==="IV"&&r.add("S4")}}(ce.Season.SUFFIX_SEQUEL.test(n)||s.includes("\u7EED\u7BC7"))&&r.add("SEQUEL"),(s.includes("\u5267\u573A\u7248")||s.includes("movie")||s.includes("film")||s.includes("\u7535\u5F71"))&&r.add("MOVIE"),(s.includes("ova")||s.includes("oad"))&&r.add("OVA"),(s.includes("sp")||s.includes("special"))&&r.add("SP");let c={\u4E00:1,\u4E8C:2,\u4E09:3,\u56DB:4,\u4E94:5,final:99};for(let[p,m]of Object.entries(c))n.includes(`\u7B2C${p}\u5B63`)&&r.add(`S${m}`);let u=Array.from(r).some(p=>p.startsWith("S")),l=Array.from(r).some(p=>p.startsWith("P")),d=r.has("AMBIGUOUS"),f=r.has("SEQUEL"),h=r.has("MOVIE")||r.has("OVA")||r.has("SP");return l&&!u&&r.add("S1"),!u&&!l&&!d&&!f&&!h&&r.add("S1"),r}function nc(e,t=""){let r=zs(e,t),n=null;for(let s of r)if(s.startsWith("S")){let i=parseInt(s.substring(1));isNaN(i)||(n===null||i>n)&&(n=i)}return n}function ld(e,t){let r=(e+" "+(t||"")).toLowerCase(),n=r.includes("\u7535\u5F71"),s=r.includes("\u7535\u89C6\u5267");return n&&!s?"MOVIE":s&&!n?"TV":null}function Jp(e,t,r){if(r&&ce.Category.ANIMEKO_SOURCE.test(r))return"ANIME";let n=(e+" "+(t||"")).toLowerCase();return ce.Category.ANIME_KW.test(n)?"ANIME":ce.Category.REAL_KW.test(n)?"REAL":"UNKNOWN"}function xfe(e,t,r,n){if(!((r||"").includes("\u5267\u573A\u7248")||(n||"").includes("\u5267\u573A\u7248")))return!1;let i=c=>c?Xt(c).replace(ce.Clean.YEAR_TAG,"").replace(ce.Clean.SOURCE_TAG,"").replace(ce.Clean.FROM_SUFFIX,"").trim():"",a=i(e),o=i(t);if(ce.Clean.SPACE_STRUCTURE.test(a)&&ce.Clean.SPACE_STRUCTURE.test(o)){let c=d=>{let f=d.split(ce.Clean.SPLIT_SPACES);return f.length>1?f.slice(1).join(" "):""},u=c(a),l=c(o);return!(ce.Season.PURE_PART.test(u)||ce.Season.PURE_PART.test(l))}return!1}function unt(e,t,r,n,s,i,a="",o=""){let c=Jp(e,r,a),u=Jp(t,n,o);if(c==="REAL"&&u==="ANIME"||c==="ANIME"&&u==="REAL")return!0;let l=ld(e,r),d=ld(t,n);return!l||!d||l===d||xfe(e,t,r,n)?!1:s>0&&i>0?Math.abs(s-i)>5:!0}function lnt(e,t,r,n){let s=zs(e,r),i=zs(t,n);if(s.size===0&&i.size===0)return!1;let a=l=>Array.from(l).some(d=>d.startsWith("S")&&parseInt(d.substring(1))>=2),o=l=>l.has("SEQUEL"),c=l=>l.has("AMBIGUOUS"),u=l=>l.has("S1");if(s.size>0&&i.size>0){if(c(s)&&u(i)||c(i)&&u(s))return!0;if(c(s)&&(a(i)||o(i))||c(i)&&(a(s)||o(s))||a(s)&&o(i)||a(i)&&o(s))return!1;for(let l of s)if(l.startsWith("S")){let d=i.has(l),f=Array.from(i).some(h=>h.startsWith("S"));if(!d&&f)return!0}return!1}return s.size!==i.size?!xfe(e,t,r,n):!1}function dnt(e,t,r,n){let s=zs(e,r),i=zs(t,n),a=Array.from(s).filter(c=>c.startsWith("S")),o=Array.from(i).filter(c=>c.startsWith("S"));return a.length>0&&o.length>0?a.some(c=>o.includes(c)):!1}function fnt(e,t,r=!1){if(!e.year||!t.year)return .05;let n=e.year-t.year;if(n===0){if(e.month&&t.month){let i=Math.abs(e.month-t.month);return i>2?0:i===0?.2:.1}return .1}let s=Math.abs(n);return r&&s<=10?0:s>1?-1:0}function pnt(e,t,r,n,s,i=!1){if(n==="animeko"||s==="animeko")return!0;if(i){let c=Math.min(t,r);return c>0&&e/c>.5?!0:!(e<2)}let a=Math.max(t,r);if(a===0)return!1;let o=e/a;return!(a>5&&o<.18)}function hnt(e){let t=new Map;if(!e||e.length<2)return t;let r=e.map(s=>{let i=s.animeTitle||"",a=Nu(i).replace(ce.Clean.SOURCE_TAG,"").replace(ce.Clean.FROM_SUFFIX,"").trim();return{id:s.animeId,raw:i,clean:a}}),n=new Set(r.map(s=>s.clean));for(let s of r){let i=null;for(let a of PI)if(s.clean.match(a.regex)){i=s.clean.replace(a.regex,"").trim();break}if(!i){let a=s.clean.match(ce.Season.SUFFIX_AMBIGUOUS);if(a){let o=a[1];s.clean.endsWith(o)&&(i=s.clean.substring(0,s.clean.length-o.length).trim())}}i&&i.length>1&&n.has(i)&&(t.set(String(s.id),i),it("info",`[Merge-Check] \u4E0A\u4E0B\u6587\u611F\u77E5: \u5224\u5B9A [${s.raw}] \u4E3A\u7EED\u4F5C (Base: "${i}" \u540C\u65F6\u4E5F\u5B58\u5728\u4E8E\u5217\u8868)`))}return t}function mnt(e,t){let r={isStrongMatch:!1,isStrongMismatch:!1};if(!e.links||!t.links||e.links.length===0||t.links.length===0)return r;let n=m=>m.filter(A=>{let g=(A.title||A.name||"").toLowerCase();return!ce.Episode.PV_CHECK.test(g)&&!ce.Episode.SPECIAL_CHECK.test(g)}).length,s=n(e.links),i=n(t.links);s>5&&i>5&&Math.min(s,i)/Math.max(s,i)<.4;let a=m=>m.map(A=>bfe(A.title||A.name||"").replace(/\d+/g,"").trim()).filter(A=>A.length>1),o=a(e.links),c=a(t.links);if(o.length<3||c.length<3)return r;let u=ei(o.join(" ")),l=ei(c.join(" "));if(u!==l||u==="Unspecified")return r;let d=Math.min(o.length,c.length,5),f=0,h=0,p=[];for(let m=0;m<d;m++){let A=Math.floor(m*o.length/d),g=Math.floor(m*c.length/d),x=Yp(o[A],c[g]);m<3&&p.push(`"${o[A]}" vs "${c[g]}" (${x.toFixed(2)})`),x>.6?f++:x<.3&&h++}return f>=Math.ceil(d*.6)?(r.isStrongMatch=!0,it("info",`[Merge-Check] [Probe] \u91C7\u6837\u5BF9\u6BD4 (Match): ${p.join(", ")}`)):h>=Math.ceil(d*.8)&&(r.isStrongMismatch=!0,it("info",`[Merge-Check] [Probe] \u91C7\u6837\u5BF9\u6BD4 (Mismatch): ${p.join(", ")}`)),r}function gnt(e,t,r=new Set){if(!t||t.length===0)return[];let n=e.animeTitle||"",s=n.replace(ce.Clean.YEAR_TAG,"").replace(/(|)/g,"").trim(),i=!!s.match(ce.Lang.CN_DUB_VER)||ce.Lang.CN.test(s),a=e.source==="hanjutv",o=n.includes("N/A")||a?{year:null,month:null}:hfe(e.startDate),c=e.episodeCount||(e.links?e.links.length:0),u=ei(n),l=Nu(s),d=Oi(s),f=pfe(s),h=zs(n,e.typeDescription),p=Array.from(h).filter(S=>S.startsWith("S")),m=[{animeId:e.animeId,animeTitle:n},...t],A=hnt(m),g=A.has(String(e.animeId)),x=A.get(String(e.animeId)),y=r.has(e.animeId),b=(S,T)=>{it("info",`[Merge-Check] \u62D2\u7EDD: [${e.source}] ${n} vs [${S}] -> ${T}`)},_=[],C=0;for(let S of t){let T=S.animeTitle||"",R=r.has(S.animeId),P=y||R,N=S.source==="hanjutv",D=T.includes("N/A")||N?{year:null,month:null}:hfe(S.startDate),k=ei(T),q=T.replace(ce.Clean.YEAR_TAG,"").replace(/(|)/g,"").trim(),j=!!q.match(ce.Lang.CN_DUB_VER)||ce.Lang.CN.test(q),G=i||j,J=S.episodeCount||(S.links?S.links.length:0);if(q.includes("\u4E4B")){let z=q.split("\u4E4B"),W=Nu(z[0]);if(l===W){b(T,`\u7ED3\u6784\u51B2\u7A81: \u4E3B\u6807\u9898\u662F\u526F\u6807\u9898\u7684\u524D\u7F00\u7236\u96C6 (Prefix: "${W}")`);continue}}if(unt(n,T,e.typeDescription,S.typeDescription,c,J,e.source,S.source)){let z=Jp(n,e.typeDescription,e.source),W=Jp(T,S.typeDescription,S.source);b(T,`\u5A92\u4F53\u7C7B\u578B\u4E0D\u5339\u914D (P:${z}/${ld(n,e.typeDescription)} vs S:${W}/${ld(T,S.typeDescription)})`);continue}let Q=o.year!==null&&D.year!==null,te=cnt(n,T,Q);if(A.has(String(S.animeId))){let z=A.get(String(S.animeId));if(d===Oi(z)&&!(ce.Season.SUFFIX_AMBIGUOUS.test(l)||PI.some(V=>V.regex.test(l)))){b(T,`\u4E0A\u4E0B\u6587\u963B\u65AD: \u4E3B\u6E90(S1) vs \u526F\u6E90(S2/S\u7EED\u4F5C) (Base: "${z}")`);continue}}if(g&&Oi(q)===Oi(x)){b(T,`\u4E0A\u4E0B\u6587\u963B\u65AD: \u4E3B\u6E90(S2/Sequel) vs \u526F\u6E90(Base/S1) (Base: "${x}")`);continue}if(!Q&&te){b(T,"\u6807\u9898\u7ED3\u6784\u51B2\u7A81\u4E14\u65E5\u671F\u65E0\u6548");continue}let ee=dnt(s,q,e.typeDescription,S.typeDescription),ie=mnt(e,S),Ee=n.search(ce.Clean.MOVIE_KEYWORDS)!==-1,ve=T.search(ce.Clean.MOVIE_KEYWORDS)!==-1;if(Ee!==ve){let z=h,W=zs(T,S.typeDescription),V=Z=>Oi(Z.replace(ce.Clean.MOVIE_KEYWORDS,"")),Y=V(n),X=V(T);if(Yp(Y,X)>.9&&!z.has("SEQUEL")&&!W.has("SEQUEL")){b(T,`\u5267\u573A\u7248\u6807\u9898\u963B\u65AD: [${Ee?"Movie":"TV"}] vs [${ve?"Movie":"TV"}] (\u65E0\u7EED\u7BC7\u6807\u8BC6)`);continue}}let Ie=P?0:fnt(o,D,G);if(Ie===-1){let z=ee;if(ie.isStrongMatch&&(z=!0),P&&(z=!0),te&&!P&&(z=!1),z&&o.year&&D.year&&Math.abs(o.year-D.year)>2&&!ie.isStrongMatch&&!P&&(z=!1),!z){b(T,`\u65E5\u671F\u4E25\u91CD\u4E0D\u5339\u914D\u4E14\u65E0\u8C41\u514D (P:${o.year} vs S:${D.year}, IsDub:${G})`);continue}}if(!P&&lnt(s,q,e.typeDescription,S.typeDescription))if(ie.isStrongMatch)it("info",`[Merge-Check] \u5B63\u5EA6\u51B2\u7A81\u8C41\u514D: [${n}] vs [${T}] (Probe\u5F3A\u5339\u914D)`);else{b(T,"\u5B63\u5EA6\u6807\u8BB0\u51B2\u7A81");continue}let xe=[q];S.aliases&&Array.isArray(S.aliases)&&S.aliases.forEach(z=>{let W=z.replace(ce.Clean.YEAR_TAG,"").replace(/(|)/g,"").trim();W&&xe.push(W)});let ge=0,O=0;for(let z of xe){let W=Yp(s,z);W>ge&&(ge=W);let V=pfe(z),Y=Yp(f,V);Y>O&&(O=Y)}let L=Math.max(ge,O),U=L;te&&(L+=xn.TITLE_STRUCTURE_CONFLICT),Ie!==-1&&(L+=Ie);let $=u==="CN",F=k==="CN";if($&&F?L+=xn.LANG_MATCH_CN:$!==F&&(L+=xn.LANG_MISMATCH),ie.isStrongMatch?(it("info",`[Merge-Check] \u96C6\u5185\u5BB9\u63A2\u6D4B: \u5F3A\u5339\u914D! \u63D0\u5347\u5206\u6570 (\u539F\u5206: ${L.toFixed(2)}) -> ${ro.SIMILARITY_STRONG}`),L=Math.max(L,ro.SIMILARITY_STRONG)):ie.isStrongMismatch&&(b(T,"\u96C6\u5185\u5BB9\u63A2\u6D4B: \u5F3A\u4E0D\u5339\u914D (\u96C6\u6807\u9898/\u5185\u5BB9\u5DEE\u5F02\u5DE8\u5927)"),L=0),L<ro.SIMILARITY_MIN){let z=d,W=Oi(q);b(T,`\u76F8\u4F3C\u5EA6\u4E0D\u8DB3: ${L.toFixed(2)} (Raw:${U.toFixed(2)}, CleanA:"${z}", CleanB:"${W}")`)}else L>C&&(C=L),_.push({anime:S,score:L,lang:k,debugTitle:T}),it("info",`[Merge-Check] \u5019\u9009\u9009\u4E2D: ${T} Score=${L.toFixed(2)} (BestSoFar=${C.toFixed(2)})`)}if(_.length===0||C<ro.SIMILARITY_MIN)return[];let w=_.filter(S=>{if(S.score>=C-ro.TIER_DEFAULT||S.lang==="CN"&&S.score>=C-ro.TIER_CN)return!0;let T=zs(S.debugTitle,S.anime.typeDescription);if(Array.from(T).some(P=>P.startsWith("P"))&&S.score>=C-ro.TIER_PART){let P=Array.from(T).filter(N=>N.startsWith("S"));if(p.length>0&&P.length>0){if(p.some(D=>P.includes(D)))return!0}else return!0}return!1});return w.sort((S,T)=>T.score-S.score),w.map(S=>S.anime)}function kI(e){if(!e)return null;let t=e.toLowerCase();return t.includes("opening")?"opening":t.includes("ending")?"ending":t.includes("interview")?"interview":t.includes("bloopers")?"Bloopers":null}function dd(e,t=""){let r=!1,n=t;if(e){let p=e.match(ce.Episode.DANDAN_TAG);p&&(n=p[1].toLowerCase())}if(/^(dandan|animeko)$/i.test(n)&&e){let p=e.replace(ce.Clean.SOURCE_TAG,"").replace(ce.Clean.FROM_SUFFIX,"").trim();(ce.Episode.SPECIAL_START.test(p)||ce.Episode.DANDAN_IGNORE.test(p))&&(r=!0)}let i=Nu(e||""),a=ce.Episode.MOVIE_CHECK.test(i),o=ce.Episode.PV_CHECK.test(i),c=null,u=null,l=kI(e),d=o||r||!!l||ce.Episode.SPECIAL_CHECK.test(i),f=i.match(ce.Episode.SEASON_MATCH);f&&(u=parseInt(f[1]));let h=i.match(ce.Episode.NUM_STRATEGY_A);if(h)c=parseFloat(h[2]);else{let p=i.match(ce.Episode.NUM_STRATEGY_B);if(p)c=parseFloat(p[1]);else{let m=i.match(ce.Episode.NUM_STRATEGY_C);m&&(c=parseFloat(m[1]))}}return{isMovie:a,num:c,isSpecial:d,isPV:o,season:u,isStrictSpecial:r}}function WO(e,t){return e?t?e.map((r,n)=>({link:r,originalIndex:n})).filter(r=>{let n=r.link.title||r.link.name||"";return!t.test(n)}):e.map((r,n)=>({link:r,originalIndex:n})):[]}var mfe=new Map;function DI(e,t,r){if(!e||e.length<2||!t)return"";let n=l=>{if(!l||!r)return l||"";try{let d=mfe.get(r);if(!d){let f=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");d=new RegExp(`(\\[|\u3010|\\s)?${f}(\\]|\u3011|\\s)?`,"gi"),mfe.set(r,d)}return l.replace(d,"").trim()}catch{return l}},s=n(t),i=s.match(ce.Clean.REDUNDANT_SEPARATOR);i&&(s=s.substring(0,i.index));let a=e.map(l=>{let d=l.link||l;return d?n(d.title||d.name||""):""});if(a.some(l=>!l))return"";let o=(l,d)=>{let f="";for(let h=0;h<l.length;h++)for(let p=h+1;p<=l.length;p++){let m=l.substring(h,p);d.includes(m)&&m.length>f.length&&(f=m)}return f},c=o(a[0],a[1]);if(c.length<2)return"";for(let l=2;l<a.length;l++)if(c=o(c,a[l]),c.length<2)return"";let u=o(c,s);if(!s.startsWith(u))return"";if(ce.Clean.REDUNDANT_UNSAFE_END.test(u)){let l=u.slice(0,-1).trim();return l.length>=2&&s.startsWith(l)?l:""}return u.length>=2&&(ce.Clean.REDUNDANT_VALID_CHARS.test(u)||u.length>3)?(it("info",`[Merge-Check] \u68C0\u6D4B\u5230\u96C6\u5185\u5197\u4F59\u6807\u9898\u5B57\u6BB5: "${u}" (\u5DF2\u5FFD\u7565\u6765\u6E90: ${r}, \u951A\u5B9A\u9A8C\u8BC1\u901A\u8FC7)`),u):""}function Ant(e,t,r="Unspecified",n="Unspecified",s="",i="",a="",o=""){if(e.length===0||t.length===0)return 0;let c=DI(e,a,s),u=DI(t,o,i),l=(w,S)=>w?S&&w.includes(S)?w.replace(S,""):w:"",d=(w,S,T,R)=>{let P=w.link.title||"",N=l(P,R),D=dd(N,S),k=ei(N),q=k!=="Unspecified"?k:T,j=q==="Unspecified"&&/^(dandan|animeko)$/i.test(S)?"JP":q,G=bfe(N),J=j==="CN"?N.replace(ce.Similarity.CN_STRICT_CORE_REMOVE,""):null;return{info:D,effLang:j,specialType:kI(N),cleanEpText:G,strictCnCore:J}},f=e.map(w=>d(w,s,r,c)),h=t.map(w=>d(w,i,n,u)),p=0,m=-9999,A=null,g=null;f.forEach(({info:w})=>{w.num!==null&&!w.isSpecial&&(A=A===null?w.num:Math.min(A,w.num))}),h.forEach(({info:w})=>{w.num!==null&&!w.isSpecial&&(g=g===null?w.num:Math.min(g,w.num))});let x=A!==null&&g!==null?A-g:null,y=15,b=x!==null?-x:0,_=Math.max(Math.min(-y,b-y),-Math.max(e.length,t.length)),C=Math.min(Math.max(y,b+y),Math.max(e.length,t.length));for(let w=_;w<=C;w++){let S=0,T=0,R=0,P=new Map,N=!1;for(let D=0;D<t.length;D++){let k=D+w;if(k>=0&&k<e.length){let q=f[k],j=h[D],G=q.info,J=j.info,Q=0;G.isMovie!==J.isMovie&&(Q+=xn.EP_ALIGN.MOVIE_TYPE_MISMATCH),(G.isStrictSpecial&&!J.isSpecial||J.isStrictSpecial&&!G.isSpecial)&&(Q+=xn.EP_ALIGN.SPECIAL_STRICT_MISMATCH);let te=q.effLang==="Unspecified"?"JP":q.effLang,ne=j.effLang==="Unspecified"?"JP":j.effLang;te===ne?Q+=xn.EP_ALIGN.LANG_MATCH:Q+=xn.EP_ALIGN.LANG_MISMATCH,G.season!==null&&J.season!==null&&G.season!==J.season&&(Q+=xn.EP_ALIGN.SEASON_NUM_MISMATCH),(q.specialType||j.specialType)&&(q.specialType!==j.specialType?Q+=xn.EP_ALIGN.SPECIAL_TYPE_MISMATCH:Q+=xn.EP_ALIGN.SPECIAL_TYPE_MATCH),G.isSpecial===J.isSpecial&&(Q+=xn.EP_ALIGN.IS_SPECIAL_MATCH),x!==null&&!G.isSpecial&&!J.isSpecial&&G.num-J.num===x&&(Q+=xn.EP_ALIGN.SEASON_SHIFT_EXACT,N=!0);let ee=0;if(q.effLang==="CN"&&j.effLang==="CN"&&q.strictCnCore&&j.strictCnCore&&(q.strictCnCore.includes(j.strictCnCore)||j.strictCnCore.includes(q.strictCnCore))?G.num!==null&&J.num!==null&&G.num===J.num?ee=xn.EP_ALIGN.CN_STRICT_MATCH:ee=xn.EP_ALIGN.CN_STRICT_MISMATCH:ee=Yp(q.cleanEpText,j.cleanEpText),Q+=ee,T+=ee,G.num!==null&&J.num!==null&&G.num===J.num&&(Q+=xn.EP_ALIGN.NUMERIC_MATCH),S+=Q,G.num!==null&&J.num!==null){let ie=(J.num-G.num).toFixed(4);P.set(ie,(P.get(ie)||0)+1)}R++}}if(R>0){let D=S/R,k=0;for(let J of P.values())k=Math.max(k,J);let q=k/R,j=T/R;q>.6&&(N||j>.33)&&(D+=xn.EP_ALIGN.PATTERN_CONSISTENCY_BONUS),D+=Math.min(R*.15,1.5);let G=P.get("0.0000")||0;G>3?(D+=xn.EP_ALIGN.ZERO_DIFF_BONUS_BASE,D+=G*xn.EP_ALIGN.ZERO_DIFF_BONUS_PER_HIT):G>0&&(D+=G*2),D>m&&(m=D,p=w)}}return m>.3?p:0}function ynt(e,t,r=""){let n=`${e}_${t}_${r}`,s=0;for(let i=0;i<n.length;i++)s=(s<<5)-s+n.charCodeAt(i)|0;return Math.abs(s)%1e9+1e9}function gfe(e,t){let r=e.link,n=r.title||r.name||`Episode ${e.originalIndex+1}`,s=r.url||"";s&&(s=Efe(s),/^https?:\/\//i.test(s)||(s=`${t}:${s}`));let i=n;return i.includes(`\u3010${t}\u3011`)||(i=`\u3010${t}\u3011 ${i}`),{title:i,url:s,name:n}}function bnt(e,t,r){if(!t||t.length===0)return;let n=[],s=[],i=[],a=e.links.length,o=-1;for(let l=a-1;l>=0;l--){let d=e.links[l],f=d.title||d.name||"",h=dd(f,e.source);if(!h.isSpecial&&!h.isPV&&!h.isStrictSpecial&&h.num!==null){o=l;break}}for(let l of t){let d=l.relativeIndex,f=l.info&&l.info.isStrictSpecial,h=l.info&&!l.info.isSpecial&&!l.info.isPV&&!f&&l.info.num!==null;d<0&&!f?n.push(l):d>=a&&!f||h&&d>o?s.push(l):i.push(l)}let c=[],u=(l,d,f)=>{l.length>0&&(l.sort((h,p)=>h.originalIndex-p.originalIndex),d.push(...l.map(h=>gfe(h,r))),c.push(`   [\u8865\u5168-${f}] \u63D2\u5165/\u8FFD\u52A0 ${l.length} \u96C6 (${l.map(h=>h.link.title).join(", ")})`))};n.length>0&&(n.sort((l,d)=>l.originalIndex-d.originalIndex),e.links.unshift(...n.map(l=>gfe(l,r))),c.push(`   [\u8865\u5168-\u5934\u90E8] \u63D2\u5165 ${n.length} \u96C6 (${n.map(l=>l.link.title).join(", ")})`)),u(s,e.links,"\u5C3E\u90E8"),u(i,e.links,"\u7279\u6B8A"),c.length>0&&it("info",`[Merge] [${r}] \u667A\u80FD\u8865\u5168:
${c.join(`
`)}`)}function Afe(e,t){let r=new Set;if(!e)return r;let n=-1;for(let s=0;s<e.length;s++){let i=e[s].title||e[s].name||"",a=dd(i,t);a.num!==null&&!a.isSpecial&&!a.isPV&&a.num%1===0&&(n=s)}return e.forEach((s,i)=>{let a=s.title||s.name||"",o=dd(a,t);o.num!==null&&!o.isSpecial&&!o.isPV&&o.num%1!==0&&i<n&&r.add(o.num)}),r}function yfe(e,t,r,n){let s=[],i=[],a=0;e.forEach(o=>{let c=o.title||o.name||"",u=dd(c,r);u.num!==null&&t.has(u.num)?(i.push(o),a++):s.push(o)}),a>0&&(e.length=0,e.push(...s,...i),it("info",`[Merge-Check] [${n}] \u81EA\u52A8\u6C89\u5E95: \u79FB\u52A8\u4E86 ${a} \u4E2A\u4E2D\u95F4\u63D2\u503C\u96C6\u6570 (${Array.from(t).join(",")}) \u5230\u672B\u5C3E`))}function Ent(e,t,r){let n=new Map,s=[];for(let o of e){if(r&&r.has(o.animeId))continue;let c=B.animes.find(f=>String(f.animeId)===String(o.animeId))||o;if(Jp(c.animeTitle,c.typeDescription,c.source)==="REAL"){s.push(`   [\u5254\u9664] [${c.source}] ${c.animeTitle} (\u7C7B\u578B: \u771F\u4EBA\u5267/REAL)`);continue}if(ld(c.animeTitle,c.typeDescription)==="MOVIE"){s.push(`   [\u5254\u9664] [${c.source}] ${c.animeTitle} (\u7C7B\u578B: \u7535\u5F71/MOVIE)`);continue}let d=nc(c.animeTitle,c.typeDescription);if(d!==null&&c.links){let h=WO(c.links,t).filter(p=>{let m=p.link.title||p.link.name||"",g=Nu(m).replace(ce.Clean.SOURCE_TAG,"").replace(ce.Clean.FROM_SUFFIX,"").trim();return!(/^(dandan|animeko)$/i.test(c.source)&&(ce.Episode.SPECIAL_CHECK.test(g)||ce.Episode.DANDAN_IGNORE.test(g))||ce.Episode.MAP_EXCLUDE_KEYWORDS.test(g)||ce.Episode.MAP_EXCLUDE_KEYWORDS.test(m))}).length;if(h>0){n.has(d)||n.set(d,new Map);let p=n.get(d);p.has(h)||p.set(h,[]),p.get(h).push(c.source),s.push(`   [\u91C7\u7EB3] [${c.source}] S${d} = ${h}\u96C6 ("${c.animeTitle}")`)}else s.push(`   [\u5FFD\u7565] [${c.source}] S${d} (\u6709\u6548\u96C6\u6570\u4E3A 0)`)}}let i=new Map,a=[];for(let[o,c]of n.entries()){let u=0,l=0,d=[];for(let[h,p]of c.entries()){let m=p.length;m>l?(l=m,u=h,d=p):m===l&&h<u&&(u=h,d=p)}i.set(o,u);let f=Array.from(c.entries()).map(([h,p])=>`${h}\u96C6(x${p.length})[${p.join(",")}]`).join(", ");a.push(`S${o}=${u} (\u63A8\u65AD\u6765\u6E90: ${d.join(",")} | \u7EDF\u8BA1: ${f})`)}return(s.length>0||a.length>0)&&it("info",`[Merge-Check] [Map-Build] \u5B63\u5EA6\u5730\u56FE\u6784\u5EFA\u8BE6\u60C5:
${s.join(`
`)}
   => \u6700\u7EC8\u5224\u5B9A: { ${a.join("; ")} }`),i}function xnt(e){if(typeof structuredClone=="function")try{return structuredClone(e)}catch{}return JSON.parse(JSON.stringify(e))}async function YO(e){let{pAnime:t,availableSecondaries:r,curAnimes:n,groupConsumedIds:s,globalConsumedIds:i,generatedSignatures:a,epFilter:o,groupFingerprint:c,currentPrimarySource:u,logPrefix:l,limitSecondaryLang:d,collectionAnimeIds:f,allowReuseIds:h,collectionProgress:p}=e;if(f.has(t.animeId)&&i.has(t.animeId))return it("info",`${l} \u8DF3\u8FC7: [${u}] \u662F\u5408\u96C6\u4E14\u5DF2\u4F5C\u4E3A\u526F\u6E90\u53C2\u4E0E\u8FC7\u5408\u5E76\u3002`),null;let m=B.animes.find(N=>String(N.animeId)===String(t.animeId));if(!m?.links)return it("warn",`${l} \u4E3B\u6E90\u6570\u636E\u4E0D\u5B8C\u6574\uFF0C\u8DF3\u8FC7: ${t.animeTitle}`),null;let A=t.animeTitle.replace(ce.Clean.FROM_SUFFIX,""),g=xnt(m),x=[],y=[t.animeId],b=!1,_=ei(t.animeTitle),C=DI(g.links,t.animeTitle,u),w=(N,D)=>N?D&&N.includes(D)?N.replace(D,""):N:"",S=f.has(t.animeId),T=Oi(t.animeTitle),R=n.filter(N=>Oi(N.animeTitle)===T),P=Ent(R,o,f);if(P.size>0){let N=Array.from(P.entries()).map(([D,k])=>`S${D}=${k}`).join(", ");(S||r.some(D=>n.some(k=>k.source===D&&f.has(k.animeId))))&&it("info",`${l} [\u5408\u96C6\u5904\u7406] \u6784\u5EFA\u5B63\u5EA6\u96C6\u6570\u5730\u56FE (Mode\u7B56\u7565): { ${N} }`)}for(let N of r){let D=n.filter(q=>{if(q.source!==N)return!1;let j=s.has(q.animeId),G=h&&h.has(q.animeId);return!(j&&!G)});if(d&&(D=D.filter(q=>ei(q.animeTitle)===d)),D.length>1&&D.sort((q,j)=>{let G=ei(q.animeTitle)==="CN",J=ei(j.animeTitle)==="CN";return G===J?0:G?1:-1}),D.length===0)continue;let k=gnt(t,D,f);for(let q of k){if(!(h&&h.has(q.animeId))&&s.has(q.animeId))continue;let G=B.animes.find(pe=>String(pe.animeId)===String(q.animeId));if(!G?.links)continue;let J=[],Q=new Set,te=[],ne=[],ee=G.animeTitle.replace(ce.Clean.FROM_SUFFIX,""),ie=Afe(g.links,u),Ee=Afe(G.links,N),ve=new Set([...Ee].filter(pe=>!ie.has(pe))),Ie=new Set([...ie].filter(pe=>!Ee.has(pe)));Ie.size>0&&yfe(g.links,Ie,u,`\u4E3B\u6E90:${u}`);let xe=G.links;ve.size>0&&(xe=[...G.links],yfe(xe,ve,N,`\u526F\u6E90:${N}`));let ge=WO(g.links,o),O=WO(xe,o),L=ei(G.animeTitle),U=ge,$=O,F=0,z=0,W=f.has(q.animeId),V=(pe,me,Te)=>{let Ce=0,Qe=me;if(Te&&Te>1){let De=!1;if(!pe&&p&&p.has(q.animeId)){let He=p.get(q.animeId),ht=Te-1;if(He[`S${ht}`]!==void 0){let Ge=He[`S${ht}`]+1;Ge>0&&Ge<me.length&&(Qe=me.slice(Ge),Ce=Ge,it("info",`${l} [\u5408\u96C6\u5207\u7247] \u5386\u53F2\u63A8\u65AD\u547D\u4E2D: \u6839\u636E S${ht} \u7ED3\u675F\u4F4D\u7F6E (Index ${He[`S${ht}`]}), \u8BBE\u5B9A S${Te} \u8D77\u70B9\u4E3A Index ${Ge}`),De=!0)}}if(!De){let He=0;for(let Ge=1;Ge<Te;Ge++)He+=P.get(Ge)||0;let ht=He;if(ht>=me.length){let Ge=(Te-1)*12;Ge<me.length&&(it("info",`${l} [\u5408\u96C6\u5207\u7247] \u8D77\u70B9\u8D8A\u754C\u4FEE\u6B63: \u539F\u8BA1\u7B97 ${ht} > Total ${me.length}\uFF0C\u542F\u7528\u56DE\u9000\u4F30\u7B97 (S${Te} -> Index ${Ge})`),ht=Math.max(0,Ge-2))}if(ht>0&&ht<me.length){let Ge=He+(P.get(Te)||999),en=Math.min(Ge,me.length);Qe=me.slice(ht,en),Ce=ht;let Vs=pe?`\u4E3B\u6E90[${u}]`:`\u526F\u6E90[${N}]`;it("info",`${l} [\u5408\u96C6\u5207\u7247] \u68C0\u6D4B\u5230${Vs}\u4E3A\u5408\u96C6 (Target: S${Te}): \u65E0\u5386\u53F2\u63A8\u65AD(Defensive Fallback)\uFF0C\u4FE1\u4EFB\u5730\u56FE\u5207\u81F3 ${ht}~${en} (\u5171 ${Qe.length} \u96C6) \u53C2\u4E0E\u5BF9\u9F50`)}else it("info",`${l} [\u5408\u96C6\u5207\u7247] \u653E\u5F03\u5207\u7247: \u8BA1\u7B97\u8D77\u70B9 ${ht} \u8D85\u51FA\u8303\u56F4 (Total: ${me.length})`)}}else if(Te===1){let De=P.get(1);if(De&&De<me.length){Qe=me.slice(0,De);let He=pe?`\u4E3B\u6E90[${u}]`:`\u526F\u6E90[${N}]`;it("info",`${l} [\u5408\u96C6\u5207\u7247] \u68C0\u6D4B\u5230${He}\u4E3A\u5408\u96C6 (Target: S1): \u4F7F\u7528 Index 0~${De} \u53C2\u4E0E\u5BF9\u9F50`)}}return{sliceStart:Ce,slicedList:Qe}};if(S&&!W){let pe=nc(G.animeTitle,G.typeDescription),me=V(!0,ge,pe);U=me.slicedList,F=me.sliceStart}else if(!S&&W){let pe=nc(t.animeTitle,t.typeDescription),me=V(!1,O,pe);$=me.slicedList,z=me.sliceStart}let X=Ant(U,$,_,L,u,N,t.animeTitle,G.animeTitle)+F-z;X!==0&&it("info",`${l} \u96C6\u6570\u81EA\u52A8\u5BF9\u9F50 (${N}): Offset=${X} (P:${ge.length}, S:${O.length})`),g.animeId=ynt(g.animeId,q.animeId,c),g.bangumiId=String(g.animeId);let Z=0,ae=DI(G.links,G.animeTitle,N);for(let pe=0;pe<O.length;pe++){let me=pe+X,Te=O[pe],Ce=Te.link,Qe=Ce.name||Ce.title||`Index ${pe}`,De={link:Ce,originalIndex:Te.originalIndex,relativeIndex:me,info:null},He=w(Ce.title,ae);if(De.info=dd(He,N),o&&o.test(Qe)){J.push({idx:me,text:`   [\u7565\u8FC7] ${Qe} (\u547D\u4E2DPV/\u9884\u544A\u8FC7\u6EE4\u5668)`});continue}if(me>=0&&me<ge.length){let ht=ge[me].originalIndex,Ge=g.links[ht],en=Ge.name||Ge.title||`Index ${ht}`,Vs=w(Ge.title,C),ut=kI(Vs),Rr=kI(He),vn=dd(Vs,u),Ut=De.info;if(Ut.isPV&&!ut){J.push({idx:me,text:`   [\u7565\u8FC7] ${en} =/= ${Qe} (PV\u4E0D\u5339\u914D\u6B63\u7247)`}),ne.push(De);continue}if(ut!==Rr){J.push({idx:me,text:`   [\u7565\u8FC7] ${en} =/= ${Qe} (\u7279\u6B8A\u96C6\u7C7B\u578B\u4E0D\u5339\u914D)`}),ne.push(De);continue}if(vn.isStrictSpecial&&!Ut.isSpecial||Ut.isStrictSpecial&&!vn.isSpecial){J.push({idx:me,text:`   [\u7565\u8FC7] ${en} =/= ${Qe} (\u6B63\u7247\u4E0E\u756A\u5916\u963B\u65AD)`}),ne.push(De);continue}let _t=Efe(Ce.url),Lu=Ge.url,tn=`${N}:${_t}`;Lu.includes(Wp)||Lu.startsWith(u+":")||(Lu=`${u}:${Lu}`);let p0=`${Lu}${Wp}${tn}`,Mu=Ge.title;if(Mu){let wr=N;if(Ce.title){let Li=Ce.title.match(/^([^\d]+)(?:\d*)/);Li&&(wr=Li[1].trim())}Mu=Mu.replace(/^([^]+)/,(Li,x2)=>`\u3010${x2}${KO}${wr}\u3011`)}J.push({idx:me,text:`   [\u5339\u914D] ${en} <-> ${Qe}`}),Q.add(me),Z++,te.push({linkIndex:ht,newUrl:p0,newTitle:Mu})}else J.push({idx:me,text:`   [\u843D\u5355] (\u4E3B\u6E90\u8D8A\u754C) <-> ${Qe}`}),ne.push(De)}for(let pe=0;pe<ge.length;pe++)if(!Q.has(pe)){let me=ge[pe].originalIndex,Te=g.links[me],Ce=Te.name||Te.title||`Index ${me}`;J.push({idx:pe,text:`   [\u843D\u5355] ${Ce} <-> (\u526F\u6E90\u7F3A\u5931\u6216\u88AB\u7565\u8FC7)`})}if(Z>0){let pe=f.has(t.animeId)||f.has(q.animeId);if(pnt(Z,ge.length,O.length,u,N,pe)){for(let Ce of te){let Qe=g.links[Ce.linkIndex];Qe.url=Ce.newUrl,Qe.title=Ce.newTitle}if(it("info",`${l} \u5173\u8054\u6210\u529F: [${u}] ${A} <-> [${N}] ${ee} (\u672C\u6B21\u5408\u5E76 ${Z} \u96C6)`),J.length>0&&(J.sort((Ce,Qe)=>Ce.idx-Qe.idx),it("info",`${l} [${N}] \u6620\u5C04\u8BE6\u60C5:
${J.map(Ce=>Ce.text).join(`
`)}`)),p&&W){let Ce=-1;for(let Qe=0;Qe<O.length;Qe++){let De=Qe+X;if(Q.has(De)){let He=O[Qe];He.originalIndex>Ce&&(Ce=He.originalIndex)}}if(Ce!==-1){let Qe=nc(t.animeTitle,t.typeDescription)||1;p.has(q.animeId)||p.set(q.animeId,{});let De=p.get(q.animeId);Z>=3&&(De[`S${Qe}`]=Ce)}}f.has(q.animeId)?it("info",`${l} [\u667A\u80FD\u8865\u5168] \u8DF3\u8FC7: \u526F\u6E90 [${N}] \u4E3A\u5408\u96C6\uFF0C\u4E3A\u907F\u514D\u6DF7\u5165\u5176\u4ED6\u5B63\u5EA6\u96C6\u6570\uFF0C\u4E0D\u6267\u884C\u8865\u5168\u3002`):bnt(g,ne,N);let me=[],Te=[];g.links.forEach(Ce=>{let Qe=Ce.title.replace(ce.Clean.SOURCE_TAG,"").trim();ce.Episode.SINK_TITLE_STRICT.test(Qe)?Te.push(Ce):me.push(Ce)}),Te.length>0&&(g.links=[...me,...Te],it("info",`${l} [\u6392\u5E8F\u4F18\u5316] \u7ACB\u5373\u6267\u884C\u756A\u5916\u6C89\u5E95: \u79FB\u52A8\u4E86 ${Te.length} \u4E2A\u756A\u5916\u96C6\u5230\u672B\u5C3E`)),f.has(q.animeId)?it("info",`${l} \u5408\u96C6\u4FDD\u7559: [${N}] ${ee} \u662F\u5408\u96C6\uFF0C\u4FDD\u7559\u4EE5\u4F9B\u540C\u7EC4\u590D\u7528\u3002`):s.add(q.animeId),i.add(q.animeId),b=!0,x.push(N),y.push(q.animeId)}else it("info",`${l} \u5173\u8054\u53D6\u6D88: [${u}] ${A} <-> [${N}] ${ee} (\u5339\u914D\u7387\u8FC7\u4F4E: ${Z}/${Math.max(ge.length,O.length)})`)}}}if(b){let N=y.join("|");if(a.has(N))return it("info",`${l} \u68C0\u6D4B\u5230\u91CD\u590D\u7684\u5408\u5E76\u7ED3\u679C (Signature: ${N})\uFF0C\u5DF2\u81EA\u52A8\u9690\u53BB\u5197\u4F59\u6761\u76EE\u3002`),g;a.add(N);let D=x.join(KO);return g.animeTitle=g.animeTitle.replace(`from ${u}`,`from ${u}${KO}${D}`),g.source=u,g}return null}function vnt(e){let t=new Set;if(!e||e.length===0)return t;let r={\u4E00:"1",\u4E8C:"2",\u4E09:"3",\u56DB:"4",\u4E94:"5",\u516D:"6",\u4E03:"7",\u516B:"8",\u4E5D:"9",\u5341:"10"},n=new Map;e.forEach(s=>{let i=B.animes.find(f=>String(f.animeId)===String(s.animeId))||s,a=zs(i.animeTitle,i.typeDescription);if(a.has("MOVIE")||a.has("OVA")||a.has("SP")||a.has("SEQUEL"))return;let o=Xt(s.animeTitle||""),c=o.match(/^(?:|\[)(.+?)(?:|\])/);if(c){let f=c[1];/^(TV||movie|film|anime|||AVC|HEVC|MP4|MKV)$/i.test(f)||(o=o.replace(c[0],f+" "))}o=o.replace(/([])/g,(f,h)=>`\u7B2C${r[h]}\u5B63`);let u=o.replace(ce.Clean.SOURCE_TAG,"").replace(ce.Clean.FROM_SUFFIX,"").replace(ce.Clean.YEAR_TAG,"").replace(ce.Clean.META_SUFFIX,"").replace(ce.Lang.KEYWORDS_STRONG,"");if(PI.forEach(f=>u=u.replace(f.regex,"")),u=u.replace(ce.Season.SUFFIX_AMBIGUOUS,"").replace(/(?:|S)\d+(?:||)/gi,"").replace(/(?:Part|P)\s*\d+/gi,"").replace(/\s+/g,"").toLowerCase().trim(),!u)return;let l=Jp(s.animeTitle,i.typeDescription,i.source),d=`${u}|${l}`;n.has(d)||n.set(d,[]),n.get(d).push(s)});for(let[s,i]of n.entries()){if(i.length<2)continue;let[a,o]=s.split("|"),c=i.map(f=>`   - [${f.source}] ${f.animeTitle}`).join(`
`);it("info",`[Merge-Check] [\u5408\u96C6\u63A2\u6D4B] \u6B63\u5728\u68C0\u67E5\u5206\u7EC4: "${a}" [${o}] (\u5305\u542B ${i.length} \u4E2A\u6761\u76EE):
${c}`);let u=new Map,l=0;if(i.forEach(f=>{let h=B.animes.find(x=>String(x.animeId)===String(f.animeId))||f,p=zs(h.animeTitle,h.typeDescription),m=1;for(let x of p)if(x.startsWith("S")){let y=parseInt(x.substring(1));isNaN(y)||(m=y)}if(m===1){let x=p.has("SEQUEL")||ce.Season.SUFFIX_SEQUEL.test(h.animeTitle),y=p.has("AMBIGUOUS")||ce.Season.SUFFIX_AMBIGUOUS.test(h.animeTitle);(x||y)&&(m=2,it("info",`[Merge-Check] [Detail] [${h.source}] "${h.animeTitle}" -> \u5224\u5B9A\u4E3A S2 (Reason: Sequel/Ambiguous Suffix)`))}m>l&&(l=m);let A=0;h.links&&(/^(dandan|animeko)$/i.test(h.source)?A=h.links.filter((x,y)=>{let b=x.title||x.name||"",_=b.replace(ce.Clean.SOURCE_TAG,"").replace(ce.Clean.FROM_SUFFIX,"").trim();if(ce.Episode.SPECIAL_CHECK.test(_)||ce.Episode.DANDAN_IGNORE.test(_))return!1;let C=Nu(b);return ce.Episode.SPECIAL_CHECK.test(C)||ce.Episode.DANDAN_IGNORE.test(C)||ce.Episode.MAP_EXCLUDE_KEYWORDS.test(_)||ce.Episode.MAP_EXCLUDE_KEYWORDS.test(b)?!1:(it("info",`[Merge-Check] [Detail-Ep] [${h.source}] \u4FDD\u7559: "${b}"`),!0)}).length:A=h.links.length),u.has(h.source)||u.set(h.source,{seasonCounts:{},maxSeason:0,s1Candidates:[]});let g=u.get(h.source);g.seasonCounts[m]||(g.seasonCounts[m]=0),g.seasonCounts[m]+=A,m>g.maxSeason&&(g.maxSeason=m),m===1&&g.s1Candidates.push({anime:h,originalCount:A})}),l<=1)continue;let d=Array.from(u.keys());for(let[f,h]of u.entries()){if(h.maxSeason>1)continue;let p=0,m=!1;for(let y of d){if(y===f)continue;let b=u.get(y);b.seasonCounts[1]&&(m=!0,b.seasonCounts[1]>p&&(p=b.seasonCounts[1]))}if(!m)continue;let A=h.seasonCounts[1],g=p+ro.COLLECTION_DIFF,x=p>0?A/p:0;if(A>g){if(x>ro.COLLECTION_RATIO){it("info",`[Merge-Check] [\u5408\u96C6\u63A2\u6D4B] \u62D2\u7EDD: [${f}] ${a} (Ratio too high: ${x.toFixed(2)} > ${ro.COLLECTION_RATIO})`);continue}let y=h.s1Candidates.filter(b=>b.originalCount>g);y.length>0?y.forEach(b=>{t.add(b.anime.animeId),it("info",`[Merge-Check] [\u5408\u96C6\u63A2\u6D4B] \u53D1\u73B0\u7591\u4F3C\u5408\u96C6(\u5355\u4F53): [${f}] ${b.anime.animeTitle} (Count:${b.originalCount} > Thr:${g}, Ratio:${x.toFixed(2)}) -> \u6807\u8BB0\u4E3A\u5408\u96C6`)}):h.s1Candidates.forEach(b=>{t.add(b.anime.animeId),it("info",`[Merge-Check] [\u5408\u96C6\u63A2\u6D4B] \u53D1\u73B0\u7591\u4F3C\u5408\u96C6(\u805A\u5408): [${f}] ${b.anime.animeTitle} (TotalS1:${A} > Thr:${g}, Ratio:${x.toFixed(2)}) -> \u6807\u8BB0\u4E3A\u5408\u96C6`)})}else it("info",`[Merge-Check] [\u5408\u96C6\u63A2\u6D4B] \u672A\u547D\u4E2D: [${f}] ${a} (TotalS1:${A} <= Threshold:${g})`)}}return t}async function vfe(e){let t=B.mergeSourcePairs;if(!t||t.length===0)return;it("info",`[Merge] \u542F\u52A8\u6E90\u5408\u5E76\u7B56\u7565\uFF0C\u914D\u7F6E: ${JSON.stringify(t)}`);let r=B.episodeTitleFilter;if(r&&typeof r=="string")try{r=new RegExp(r,"i")}catch{r=null}let n=vnt(e),s=new Map,i=[],a=new Set,o=new Set,c=new Set;t.forEach(u=>{u.secondaries.length===0&&c.add(u.primary)});for(let u of t){if(u.secondaries.length===0)continue;let l=new Map,d=[u.primary,...u.secondaries];d.forEach((y,b)=>l.set(y,b));let f=d.join("&"),h=new Set,p=(y,b)=>{if(!y||y.length<2)return y;it("info",`[Merge-Check] [Sort] ${b} \u6392\u5E8F\u524D\u9996\u4E2A\u5143\u7D20: ${y[0].animeTitle}`),y.sort((C,w)=>{let S=q=>{let j=zs(q.animeTitle,q.typeDescription);return j.has("MOVIE")||j.has("OVA")||j.has("SP")||ld(q.animeTitle,q.typeDescription)==="MOVIE"?2:1},T=S(C),R=S(w);if(T!==R)return T-R;let P=nc(C.animeTitle,C.typeDescription)||1,N=nc(w.animeTitle,w.typeDescription)||1;if(P!==N)return P-N;let D=l.get(C.source),k=l.get(w.source);return D-k});let _=y.map(C=>{let w=nc(C.animeTitle,C.typeDescription)||1;return`[${zs(C.animeTitle,C.typeDescription).has("MOVIE")||ld(C.animeTitle,C.typeDescription)==="MOVIE"?"Movie":`S${w}`}] [${C.source}] ${C.animeTitle}`});return it("info",`[Merge-Check] [Sort] ${b} \u6267\u884C\u987A\u5E8F:
   ${_.join(`
   `)}`),y},m=[];d.forEach(y=>{e.filter(_=>_.source===y&&!o.has(_.animeId)&&ei(_.animeTitle)==="CN").forEach(_=>m.push(_))});let A=!1;for(let y of d)if(e.some(b=>b.source===y&&!o.has(b.animeId)&&ei(b.animeTitle)==="CN")){A=!0;break}if(m.length>0&&A){it("info",`[Merge] [Phase 1] \u542F\u52A8 CN \u9694\u79BB\u7B56\u7565: \u5305\u542B ${m.length} \u4E2A CN \u8D44\u6E90\u3002`),p(m,"Phase 1");for(let y of m){if(h.has(y.animeId)||o.has(y.animeId))continue;let b=l.get(y.source),_=d.slice(b+1);if(_.length===0)continue;let C=await YO({pAnime:y,availableSecondaries:_,curAnimes:e,groupConsumedIds:h,globalConsumedIds:o,generatedSignatures:a,epFilter:r,groupFingerprint:f,currentPrimarySource:y.source,logPrefix:"[Merge][Phase 1: CN-Strict]",limitSecondaryLang:"CN",collectionAnimeIds:n,collectionProgress:s});C&&(i.push(C),h.add(y.animeId),o.add(y.animeId))}}let g=[];for(let y=1;y<d.length;y++){let b=d[y];e.filter(C=>C.source===b&&!o.has(C.animeId)&&ei(C.animeTitle)==="CN").forEach(C=>g.push(C))}if(g.length>=2){it("info",`[Merge] [Phase 1.5] \u542F\u52A8\u526F\u6E90 CN \u81EA\u7EC4\u7EC7: \u68C0\u6D4B\u5230 ${g.length} \u4E2A\u5269\u4F59 CN \u8D44\u6E90\u3002`),p(g,"Phase 1.5");for(let y of g){if(h.has(y.animeId)||o.has(y.animeId))continue;let b=l.get(y.source),_=d.slice(b+1);if(_.length===0)continue;let C=await YO({pAnime:y,availableSecondaries:_,curAnimes:e,groupConsumedIds:h,globalConsumedIds:o,generatedSignatures:a,epFilter:r,groupFingerprint:f,currentPrimarySource:y.source,logPrefix:"[Merge][Phase 1.5: CN-Secondary]",limitSecondaryLang:"CN",collectionAnimeIds:n,collectionProgress:s});C&&(i.push(C),h.add(y.animeId),o.add(y.animeId))}}let x=[];if(d.forEach(y=>{e.filter(_=>_.source===y&&!o.has(_.animeId)).forEach(_=>x.push(_))}),x.length>0){it("info",`[Merge] [Phase 2] \u542F\u52A8\u6807\u51C6\u56DE\u9000\u5339\u914D: \u5269\u4F59 ${x.length} \u4E2A\u8D44\u6E90\u3002`),p(x,"Phase 2");for(let y of x){if(h.has(y.animeId)||o.has(y.animeId))continue;let b=l.get(y.source),_=d.slice(b+1);if(_.length===0)continue;let C=zs(y.animeTitle,y.typeDescription),w=Array.from(C).some(R=>R.startsWith("P")),S=null;if(w){S=new Set;let R=nc(y.animeTitle,y.typeDescription)||1;for(let P of o){let N=B.animes.find(q=>String(q.animeId)===String(P));if(!N||!_.includes(N.source))continue;let D=zs(N.animeTitle,N.typeDescription);if(Array.from(D).some(q=>q.startsWith("P")))continue;let k=nc(N.animeTitle,N.typeDescription)||1;R===k&&S.add(N.animeId)}}let T=await YO({pAnime:y,availableSecondaries:_,curAnimes:e,groupConsumedIds:h,globalConsumedIds:o,generatedSignatures:a,epFilter:r,groupFingerprint:f,currentPrimarySource:y.source,logPrefix:"[Merge][Phase 2: Standard]",collectionAnimeIds:n,allowReuseIds:S,collectionProgress:s});T&&(i.push(T),h.add(y.animeId),o.add(y.animeId))}}}if(i.length>0){for(let u of i)et(u);e.unshift(...i)}if(c.size>0)for(let u of e)o.has(u.animeId)&&c.has(u.source)&&o.delete(u.animeId);for(let u=e.length-1;u>=0;u--){let l=e[u];(l._isMerged||o.has(l.animeId))&&e.splice(u,1)}it("info",`[Merge] \u5408\u5E76\u6267\u884C\u5B8C\u6BD5\uFF0C\u6700\u7EC8\u5217\u8868\u6570\u91CF: ${e.length}`)}function _fe(e,t){let r=[...e||[],...t||[]],n=s=>{if(!s)return 0;if(s.t!==void 0&&s.t!==null)return Number(s.t);if(s.p&&typeof s.p=="string"){let i=parseFloat(s.p.split(",")[0]);return isNaN(i)?0:i}return 0};return r.sort((s,i)=>n(s)-n(i)),r}Ze();Zr();var Je=class{constructor(){}async search(t){throw new Error("Method 'search' must be implemented")}async getEpisodes(t){throw new Error("Method 'Episodes' must be implemented")}async handleAnimes(t,r,n,s){throw new Error("Method 'handleAnimes' must be implemented")}async getEpisodeDanmu(t){throw new Error("Method 'getEpisodeDanmu' must be implemented")}async getEpisodeDanmuSegments(t){throw new Error("Method 'getEpisodeDanmuSegments' must be implemented")}async getEpisodeSegmentDanmu(t){throw new Error("Method 'getEpisodeSegmentDanmu' must be implemented")}formatComments(t){throw new Error("Method 'formatComments' must be implemented")}async getComments(t,r,n=!1,s=null){if(n)return s&&await s(5,`\u5F00\u59CB\u83B7\u53D6\u5F39\u5E55${r}\u5F39\u5E55\u5206\u7247\u5217\u8868`),E("info",`\u5F00\u59CB\u83B7\u53D6\u5F39\u5E55${r}\u5F39\u5E55\u5206\u7247\u5217\u8868`),await this.getEpisodeDanmuSegments(t);s&&await s(5,`\u5F00\u59CB\u83B7\u53D6\u5F39\u5E55${r}\u5F39\u5E55`),E("info",`\u5F00\u59CB\u83B7\u53D6\u5F39\u5E55${r}\u5F39\u5E55`);let i=await this.getEpisodeDanmu(t);s&&await s(85,`\u539F\u59CB\u5F39\u5E55 ${i.length} \u6761\uFF0C\u6B63\u5728\u89C4\u8303\u5316`),E("info",`\u539F\u59CB\u5F39\u5E55 ${i.length} \u6761\uFF0C\u6B63\u5728\u89C4\u8303\u5316`);let a=this.formatComments(i);return s&&await s(100,`\u5F39\u5E55\u5904\u7406\u5B8C\u6210\uFF0C\u5171 ${a.length} \u6761`),E("info",`\u5F39\u5E55\u5904\u7406\u5B8C\u6210\uFF0C\u5171 ${a.length} \u6761`),EA(a,r)}async getSegmentComments(t,r=null){r&&await r(5,`\u5F00\u59CB\u83B7\u53D6\u5206\u7247\u5F39\u5E55${t.type}\u5F39\u5E55`),E("info",`\u5F00\u59CB\u83B7\u53D6\u5206\u7247\u5F39\u5E55${t.type}\u5F39\u5E55`);let n=await this.getEpisodeSegmentDanmu(t);r&&await r(85,`\u539F\u59CB\u5206\u7247\u5F39\u5E55 ${n.length} \u6761\uFF0C\u6B63\u5728\u89C4\u8303\u5316`),E("info",`\u539F\u59CB\u5206\u7247\u5F39\u5E55 ${n.length} \u6761\uFF0C\u6B63\u5728\u89C4\u8303\u5316`);let s=this.formatComments(n);return r&&await r(100,`\u5206\u7247\u5F39\u5E55\u5904\u7406\u5B8C\u6210\uFF0C\u5171 ${s.length} \u6761`),E("info",`\u5206\u7247\u5F39\u5E55\u5904\u7406\u5B8C\u6210\uFF0C\u5171 ${s.length} \u6761`),EA(s,t.type)}sortAndPushAnimesByYear(t,r){t.filter(n=>n!==null).sort((n,s)=>{let i=Su(n.animeTitle),a=Su(s.animeTitle);if(i!=null&&a!==null&&a!==void 0){if(a!==i)return a-i;let o=PO(n.animeTitle),c=PO(s.animeTitle);return o.length-c.length}return i!=null&&a==null?-1:i==null&&a!=null?1:0}).forEach(n=>{r.findIndex(i=>i.animeId===n.animeId)===-1&&r.push(n)})}};pt();Ze();Dt();function Kt(e){let t=parseInt(e);return isNaN(t)||t<1900||t>2100?`${new Date().getFullYear()}-01-01T00:00:00Z`:`${t}-01-01T00:00:00Z`}function fd(e){let t=e.split(":").map(Number),r=0;return t.length===3?r=t[0]*3600+t[1]*60+t[2]:t.length===2?r=t[0]*60+t[1]:r=t[0],r}Br();Zr();var vA=class extends Je{async get360Zongyi(t,r,n,s){try{let i=[];for(let a=0;a<=10;a++){let c=await(await ue(`https://api.so.360kan.com/episodeszongyi?entid=${r}&site=${n}&y=${s}&count=20&offset=${a*20}`,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}})).data;E("info",`360kan zongyi response: ${JSON.stringify(c)}`);let u=c.data.list;if(!u)break;for(let l of u){let d=l.name.match(/(\d+)([])?/)||l.period.match(/(\d+)([])?/),f=d?d[1]:null;f&&d[2]&&(f=d[2]==="\u4E0A"?`${f}.1`:d[2]==="\u4E2D"?`${f}.2`:`${f}.3`),i.push({name:l.id,url:l.url,title:`\u3010${n}\u3011 ${l.name} ${l.period}`,sort:f||l.sort||null})}E("info",`links.length: ${i.length}`)}return i.sort((a,o)=>{if(!a.sort||!o.sort)return 0;let c=parseFloat(a.sort),u=parseFloat(o.sort);return c-u}),i}catch(i){return E("error","get360Animes error:",{message:i.message,name:i.name,stack:i.stack}),[]}}async search(t){try{let n=(await ue(`https://api.so.360kan.com/index?force_v=1&kw=${encodeURIComponent(t)}&from=&pageno=1&v_ap=1&tab=all`,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}})).data;E("info",`360kan response: ${JSON.stringify(n)}`);let s=[];return"rows"in n.data.longData&&(s=n.data.longData.rows),E("info",`360kan animes.length: ${s.length}`),s}catch(r){return E("error","get360Animes error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async getEpisodes(t){}async handleAnimes(t,r,n){let s=[];if(!t||!Array.isArray(t))return E("error","[360kan] sourceAnimes is not a valid array"),[];let i=await Promise.all(t.filter(a=>zt(a.titleTxt,r)).map(async a=>{try{let o=[];if(a.cat_name==="\u7535\u5F71")for(let c of Object.keys(a.playlinks))B.vodAllowedPlatforms.includes(c)&&o.push({name:c.toString(),url:a.playlinks[c],title:`\u3010${c}\u3011 ${a.titleTxt}(${a.year})`});else if(a.cat_name==="\u7535\u89C6\u5267"||a.cat_name==="\u52A8\u6F2B"){if(B.vodAllowedPlatforms.includes(a.seriesSite))for(let c=0;c<a.seriesPlaylinks.length;c++){let u=a.seriesPlaylinks[c];o.push({name:(c+1).toString(),url:u.url,title:`\u3010${a.seriesSite}\u3011 \u7B2C${c+1}\u96C6`})}}else a.cat_name==="\u7EFC\u827A"&&(o=(await Promise.all(Object.keys(a.playlinks_year).map(async u=>B.vodAllowedPlatforms.includes(u)?(await Promise.all(a.playlinks_year[u].map(async d=>await this.get360Zongyi(a.titleTxt,a.id,u,d)))).flat():[]))).flat());if(o.length>0){let c={animeId:Number(a.id),bangumiId:String(a.id),animeTitle:`${a.titleTxt}(${a.year})\u3010${a.cat_name}\u3011from 360`,type:a.cat_name,typeDescription:a.cat_name,imageUrl:a.cover,startDate:Kt(a.year),episodeCount:o.length,rating:0,isFavorited:!0,source:"360"};s.push(c),et({...c,links:o}),B.animes.length>B.MAX_ANIMES&&st()}}catch(o){E("error",`[360kan] Error processing anime: ${o.message}`)}}));return this.sortAndPushAnimesByYear(s,n),i}async getEpisodeDanmu(t){}formatComments(t){}};pt();Ze();Dt();Br();Zr();var _A=class extends Je{async getVodAnimes(t,r,n){try{let s=await ue(`${r}/api.php/provide/vod/?ac=detail&wd=${t}&pg=1`,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}});if(s&&s.data&&s.data.list&&s.data.list.length>0){E("info",`\u8BF7\u6C42 ${n}(${r}) \u6210\u529F`);let i=s.data;return E("info",`${n} response: \u2193\u2193\u2193`),$r(i),{serverName:n,list:i.list}}else return E("info",`\u8BF7\u6C42 ${n}(${r}) \u6210\u529F\uFF0C\u4F46 response.data.list \u4E3A\u7A7A`),{serverName:n,list:[]}}catch(s){return E("error",`\u8BF7\u6C42 ${n}(${r}) \u5931\u8D25:`,{message:s.message,name:s.name,stack:s.stack}),{serverName:n,list:[]}}}async getVodAnimesFromAllServersImpl(t,r){let n=r.map(i=>this.getVodAnimes(t,i.url,i.name));return(await Promise.allSettled(n)).filter(i=>i.status==="fulfilled").map(i=>i.value)}async getVodAnimesFromFastestServer(t,r,n=null,s=null){if(!r||r.length===0)return[];let i=r.map(l=>this.getVodAnimes(t,l.url,l.name)),a;try{a=await Promise.race(i)}catch(l){return E("error","[VOD fastest mode] \u6240\u6709\u670D\u52A1\u5668\u76F4\u63A5\u629B\u9519",l),[]}let o=l=>!n||s!=="vod"?!0:(JSON.stringify(l)?.toLowerCase()||"").includes(String(n).toLowerCase());if(o(a)&&a&&a.list&&a.list.length>0)return E("info",`[VOD fastest mode] \u6700\u5FEB\u670D\u52A1\u5668 ${a.serverName}${s==="vod"?" \u5B57\u7B26\u4E32\u5305\u542B preferAnimeId \u2192 \u4F18\u5148\u4F7F\u7528":""}`),[a];E("info",`[VOD fastest mode] \u6700\u5FEB\u670D\u52A1\u5668 ${a.serverName} \u4E0D\u542B preferAnimeId\uFF0C\u7B49\u5F85\u5176\u4ED6\u670D\u52A1\u5668\u2026`);let c=await Promise.allSettled(i);if(n){for(let l of c)if(l.status==="fulfilled"&&o(l.value)&&l.value&&l.value.list&&l.value.list.length>0)return E("info",`[VOD fastest mode] \u627E\u5230\u5305\u542B preferAnimeId \u7684\u670D\u52A1\u5668: ${l.value.serverName}`),[l.value];E("info","[VOD fastest mode] \u6240\u6709\u670D\u52A1\u5668\u90FD\u4E0D\u5305\u542B preferAnimeId\uFF0C\u56DE\u9000\u5230\u201C\u771F\u6B63\u6709\u6570\u636E\u201D\u7684\u6700\u5FEB\u670D\u52A1\u5668")}let u=c.filter(l=>l.status==="fulfilled").map(l=>l.value).filter(l=>l&&l.list&&l.list.length>0);if(u.length>0){let l=u[0];return E("info",`[VOD fastest mode] \u4F7F\u7528\u6700\u5FEB\u6709\u6570\u636E\u7684\u670D\u52A1\u5668: ${l.serverName}`),[l]}return E("error","[VOD fastest mode] \u6240\u6709\u670D\u52A1\u5668\u5747\u65E0\u6709\u6548\u6570\u636E"),[]}async search(t,r=null,n=null){return!B.vodServers||B.vodServers.length===0?[]:B.vodReturnMode==="fastest"?await this.getVodAnimesFromFastestServer(t,B.vodServers,r,n):await this.getVodAnimesFromAllServersImpl(t,B.vodServers)}async getEpisodes(t){}async handleAnimes(t,r,n,s){let i=[];if(!t||!Array.isArray(t))return E("error","[VOD] sourceAnimes is not a valid array"),[];let a=await Promise.all(t.filter(o=>zt(o.vod_name,r)).map(async o=>{try{let c=o.vod_play_from.split("$$$");c=c.map(h=>h==="mgtv"?"imgo":h==="bilibili"?"bilibili1":h);let u=o.vod_play_url.split("$$$"),l=c.map((h,p)=>B.vodAllowedPlatforms.includes(h)?p:-1).filter(h=>h!==-1),d=[],f=0;for(let h of l){let p=c[h],m=u[h].split("#");for(let A of m){let g=A.split("$");f++,d.push({name:f.toString(),url:g[1],title:`\u3010${p}\u3011 ${g[0]}`})}}if(d.length>0){let h={animeId:Number(o.vod_id),bangumiId:String(o.vod_id),animeTitle:`${o.vod_name}(${o.vod_year})\u3010${o.type_name}\u3011from ${s}`,type:o.type_name,typeDescription:o.type_name,imageUrl:o.vod_pic,startDate:Kt(o.vod_year),episodeCount:d.length,rating:0,isFavorited:!0,source:"vod"};i.push(h),et({...h,links:d}),B.animes.length>B.MAX_ANIMES&&st()}}catch(c){E("error",`[VOD] Error processing anime: ${c.message}`)}}));return this.sortAndPushAnimesByYear(i,n),a}async getEpisodeDanmu(t){}formatComments(t){}};Ze();Ze();Dt();async function Ife(e){let t="https://m.douban.com/rexxar/api/v2";try{let r=await ue(`${t}${e}`,{method:"GET",headers:{Referer:"https://m.douban.com/movie/","Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}});return r.status!=200?null:r}catch(r){return E("error","[DOUBAN] GET API error:",{message:r.message,name:r.name,stack:r.stack}),null}}async function _nt(e,t={}){let r="https://api.douban.com/v2";try{let n=await sr(`${r}${e}`,JSON.stringify({...t,apikey:"0ac44ae016490db2204ce0a042db2916"}),{method:"GET",headers:{Referer:"https://api.douban.com","Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}});return n.status!=200?null:n}catch(n){return E("error","[DOUBAN] POST API error:",{message:n.message,name:n.name,stack:n.stack}),null}}async function Cfe(e,t=20){let r=`/search?q=${e}&start=0&count=${t}&type=movie`;return await Ife(r)}async function wfe(e){let t=`/movie/${e}?for_mobile=1`;return await Ife(t)}async function Sfe(e){let t=`/movie/imdb/${e}`;return await _nt(t)}Ze();Dt();async function Tfe(e){let t="https://api.imdbapi.dev";try{let r=await ue(`${t}${e}`,{method:"GET",headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}});return r.status!=200?null:r}catch(r){return E("error","[IMDB] API error:",{message:r.message,name:r.name,stack:r.stack}),null}}async function Bfe(e){let t=`/titles/${e}/seasons`;return await Tfe(t)}async function Rfe(e,t){let r=`/titles/${e}/episodes?season=${t}`;return await Tfe(r)}var IA=class extends Je{constructor(t){super("BaseSource"),this.doubanSource=t}async _getDoubanInfo(t,r,n){if(!t)return;let s=await Sfe(t);if(!s||!s?.data)return;let i=s?.data?.id;if(i){let o=i.split("/").pop(),c=r==="movie"?"\u7535\u5F71":"\u7535\u89C6\u5267";o&&n.push({layout:"subject",target_id:o,type_name:c,target:{cover_url:s.data?.image,title:s.data?.alt_title}})}}async getDoubanIdByTmdbId(t,r){try{let n=[],i=(await lfe(t,r)).data?.imdb_id;if(!i)return[];if(t==="movie")await this._getDoubanInfo(i,t,n);else{let a=await Bfe(i);E("info","imdb seasons:",a.data.seasons);let o=(a?.data?.seasons??[]).map(async c=>{let u=i;E("info","imdb season:",c.season);try{Number(c.season)!==1&&(u=(await Rfe(i,c.season)).data?.episodes.find(d=>d.episodeNumber===1)?.id??""),await this._getDoubanInfo(u,t,n)}catch(l){E("error",`\u5904\u7406\u7B2C ${c.season} \u5B63\u5931\u8D25\uFF0C\u7EE7\u7EED\u6267\u884C\u5176\u4ED6\u5B63:`,l)}});await Promise.all(o)}return n}catch(n){return E("error","getTmdbIds error:",{message:n.message,name:n.name,stack:n.stack}),[]}}async search(t){try{let n=(await RI(t)).data,s=[],i=[];n?.results?.length>0&&(i=n.results.filter(c=>(c.name||c.title)===t)),E("info",`tmdb items.length: ${i.length}`);let a=i.map(async c=>{try{return await this.getDoubanIdByTmdbId(c.media_type,c.id)}catch(u){return E("error",`\u83B7\u53D6 TMDB ID ${c.id} \u7684\u8C46\u74E3 ID \u5931\u8D25\uFF0C\u7EE7\u7EED\u5904\u7406\u5176\u4ED6\u6761\u76EE:`,u),[]}}),o=await Promise.all(a);return s=[...s,...o.flat()],s}catch(r){return E("error","getTmdbAnimes error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async getEpisodes(t){}async handleAnimes(t,r,n,s){return this.doubanSource.handleAnimes(t,r,n,s)}async getEpisodeDanmu(t){}formatComments(t){}};Ze();var CA=class extends Je{constructor(t,r,n,s,i){super("BaseSource"),this.tencentSource=t,this.iqiyiSource=r,this.youkuSource=n,this.bilibiliSource=s,this.miguSource=i}async search(t){try{let n=(await Cfe(t)).data,s=[];return n?.subjects?.items?.length>0&&(s=[...s,...n.subjects.items]),n?.smart_box?.length>0&&(s=[...s,...n.smart_box]),E("info",`douban animes.length: ${s.length}`),s}catch(r){return E("error","getDoubanAnimes error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async getEpisodes(t){}async handleAnimes(t,r,n,s){let i=[];if(!t||!Array.isArray(t))return E("error","[Douban] sourceAnimes is not a valid array"),[];let a=await Promise.allSettled(t.map(async o=>{try{if(o?.layout!=="subject")return;let c=o.target_id,u=o?.type_name;if(u!=="\u7535\u5F71"&&u!=="\u7535\u89C6\u5267")return;E("info","doubanId: ",c,o?.target?.title,u);let l=await wfe(c),d=[];for(let f of l.data?.vendors??[]){if(!f)continue;E("info","vendor uri: ",f.uri),l.data?.genres.includes("\u771F\u4EBA\u79C0")?u="\u7EFC\u827A":l.data?.genres.includes("\u7EAA\u5F55\u7247")?u="\u7EAA\u5F55\u7247":u==="\u7535\u89C6\u5267"&&l.data?.genres.includes("\u52A8\u753B")&&l.data?.countries.some(p=>p.includes("\u4E2D\u56FD"))?u="\u56FD\u6F2B":u==="\u7535\u89C6\u5267"&&l.data?.genres.includes("\u52A8\u753B")&&l.data?.countries.includes("\u65E5\u672C")?u="\u65E5\u756A":u==="\u7535\u89C6\u5267"&&l.data?.genres.includes("\u52A8\u753B")?u="\u52A8\u6F2B":u==="\u7535\u5F71"&&l.data?.genres.includes("\u52A8\u753B")?u="\u52A8\u753B\u7535\u5F71":u==="\u7535\u5F71"&&l.data?.countries.some(p=>p.includes("\u4E2D\u56FD"))?u="\u534E\u8BED\u7535\u5F71":u==="\u7535\u5F71"?u="\u5916\u8BED\u7535\u5F71":u==="\u7535\u89C6\u5267"&&l.data?.countries.some(p=>p.includes("\u4E2D\u56FD"))?u="\u56FD\u4EA7\u5267":u==="\u7535\u89C6\u5267"&&l.data?.countries.some(p=>["\u65E5\u672C","\u97E9\u56FD"].includes(p))?u="\u65E5\u97E9\u5267":u==="\u7535\u89C6\u5267"&&l.data?.countries.some(p=>["\u7F8E\u56FD","\u82F1\u56FD","\u52A0\u62FF\u5927","\u6CD5\u56FD","\u5FB7\u56FD","\u610F\u5927\u5229","\u897F\u73ED\u7259","\u6FB3\u5927\u5229\u4E9A"].includes(p))&&(u="\u6B27\u7F8E\u5267");let h=[{title:l.data?.title,year:l.data?.year,type:u,imageUrl:o?.target?.cover_url}];switch(f.id){case"qq":{let p=new URL(f.uri).searchParams.get("cid");p&&(h[0].provider="tencent",h[0].mediaId=p,await this.tencentSource.handleAnimes(h,l.data?.title,i));break}case"iqiyi":{let p=new URL(f.uri).searchParams.get("tvid");p&&(h[0].provider="iqiyi",h[0].mediaId=o?.type_name==="\u7535\u5F71"?`movie_${p}`:p,await this.iqiyiSource.handleAnimes(h,l.data?.title,i));break}case"youku":{let p=new URL(f.uri).searchParams.get("showid");p&&(h[0].provider="youku",h[0].mediaId=p,await this.youkuSource.handleAnimes(h,l.data?.title,i));break}case"bilibili":{let p=new URL(f.uri).pathname.split("/").pop();p&&(h[0].provider="bilibili",h[0].mediaId=`ss${p}`,await this.bilibiliSource.handleAnimes(h,l.data?.title,i));break}case"miguvideo":{let p=null,A=decodeURIComponent(f.uri).match(/"contentID":"([^"]+)"/);A&&A[1]&&(p=A[1]),p&&(h[0].provider="migu",h[0].mediaId=`https://v3-sc.miguvideo.com/program/v4/cont/content-info/${p}/1`,await this.miguSource.handleAnimes(h,l.data?.title,i));break}}}return d}catch(c){return E("error",`[Douban] Error processing anime: ${c.message}`),[]}}));return this.sortAndPushAnimesByYear(i,n),a}async getEpisodeDanmu(t){}formatComments(t){}};pt();Ze();Dt();kn();Br();Zr();Gr();var sc=null,wA=0,SA=0,TA=class extends Je{constructor(){super(),this.isBatchMode=!1}API_CONFIG={SECRET_KEY:"cf65GPholnICgyw1xbrpA79XVkizOdMq",TV_HOST:"api.gorafie.com",TV_DANMU_HOST:"static-dm.qwdjapp.com",TV_VERSION:"1.2.2",TV_USER_AGENT:"okhttp/3.12.13",TV_CLIENT_TYPE:"android_qwtv_RRSP",TV_PKT:"rrmj",WEB_HOST:"api.rrmj.plus",WEB_DANMU_HOST:"static-dm.rrmj.plus"};generateRandomAliId(){let t="aY",r=24-t.length,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=t;for(let i=0;i<r;i++)s+=n.charAt(Math.floor(Math.random()*n.length));return s}rotateAliId(){let t=sc;sc=this.generateRandomAliId(),wA=0,SA=Math.floor(Math.random()*31)+30,t?E("info",`[Renren] AliID \u8F6E\u6362\u5B8C\u6210: ${t} -> ${sc}`):E("info",`[Renren] AliID \u521D\u59CB\u5316\u5B8C\u6210: ${sc}`),E("info",`[Renren] AliID \u4E0B\u6B21\u8F6E\u6362\u5C06\u5728 ${SA} \u6B21\u64CD\u4F5C\u540E\u89E6\u53D1`)}checkAndIncrementUsage(){sc||this.rotateAliId(),wA>=SA&&(E("info",`[Renren] AliID \u89E6\u53D1\u9608\u503C (${wA}/${SA})\uFF0C\u6B63\u5728\u8F6E\u6362 ID...`),this.rotateAliId()),wA++,E("info",`[Renren] AliID \u8BA1\u6570\u589E\u52A0: ${wA}/${SA} (\u5F53\u524DID: ...${sc.slice(-6)})`)}getAliId(){return sc||this.rotateAliId(),this.isBatchMode||this.checkAndIncrementUsage(),sc}generateTvHeaders(t,r){let n=this.getAliId();return{clientVersion:this.API_CONFIG.TV_VERSION,p:"Android",deviceid:"tWEtIN7JG2DTDkBBigvj6A%3D%3D",token:"",aliid:n,umid:"",clienttype:this.API_CONFIG.TV_CLIENT_TYPE,pkt:this.API_CONFIG.TV_PKT,t:t.toString(),sign:r,isAgree:"1",et:"2","Accept-Encoding":"gzip","User-Agent":this.API_CONFIG.TV_USER_AGENT}}async searchAppContent(t,r=30){try{let n=Date.now(),s="/qwtv/search",i={searchWord:t,num:r,searchNext:"",well:"match"},a=gI(s,n,i,this.API_CONFIG.SECRET_KEY),o=Object.entries(i).map(([f,h])=>`${f}=${encodeURIComponent(h==null?"":String(h))}`).join("&"),c=this.generateTvHeaders(n,a),u=`https://${this.API_CONFIG.TV_HOST}${s}?${o}`,l=await ue(u,{headers:c,retries:1});if(!l.data||l.data.code!=="0000")return E("info",`[Renren] TV\u641C\u7D22\u63A5\u53E3\u5F02\u5E38: code=${l?.data?.code}, msg=${l?.data?.msg}`),[];let d=l.data.data||[];return E("info",`[Renren] TV\u641C\u7D22\u8FD4\u56DE\u7ED3\u679C\u6570\u91CF: ${d.length}`),d.map(f=>({provider:"renren",mediaId:String(f.id),title:String(f.title||"").replace(/<[^>]+>/g,"").replace(/:/g,"\uFF1A"),type:f.classify||"Renren",season:null,year:f.year,imageUrl:f.cover,episodeCount:null,currentEpisodeIndex:null}))}catch(n){return E("info","[Renren] searchAppContent error:",n.message),[]}}async getAppDramaDetail(t,r=""){try{let n=Date.now(),s="/qwtv/drama/details",i={isAgeLimit:"false",seriesId:t,episodeId:r,clarity:"HD",caption:"0",hevcOpen:"1"},a=gI(s,n,i,this.API_CONFIG.SECRET_KEY),o=Object.entries(i).map(([f,h])=>`${f}=${encodeURIComponent(h)}`).join("&"),c=this.generateTvHeaders(n,a),u=await ue(`https://${this.API_CONFIG.TV_HOST}${s}?${o}`,{headers:c,retries:1});if(!u||!u.data)return E("info",`[Renren] TV\u8BE6\u60C5\u63A5\u53E3\u7F51\u7EDC\u65E0\u54CD\u5E94\u6216\u6570\u636E\u4E3A\u7A7A: ID=${t}`),null;let l=u.data,d=l.msg||l.message||"";return d.includes("\u8BE5\u5267\u6682\u4E0D\u53EF\u64AD")?(E("info",`[Renren] TV\u63A5\u53E3\u63D0\u793A'\u8BE5\u5267\u6682\u4E0D\u53EF\u64AD' (ID=${t})\uFF0C\u89C6\u4E3A\u7EF4\u62A4\u4E2D\uFF0C\u89E6\u53D1Web\u964D\u7EA7`),null):l.code!=="0000"?(E("info",`[Renren] TV\u8BE6\u60C5\u63A5\u53E3\u8FD4\u56DE\u9519\u8BEF\u7801: ${l.code}, msg=${d} (ID=${t})`),null):!l.data||!l.data.episodeList||l.data.episodeList.length===0?(E("info",`[Renren] TV\u8BE6\u60C5\u63A5\u53E3\u8FD4\u56DE\u6570\u636E\u7F3A\u5931\u5206\u96C6\u5217\u8868 (ID=${t})\uFF0C\u5C1D\u8BD5Web\u964D\u7EA7`),null):(E("info",`[Renren] TV\u8BE6\u60C5\u83B7\u53D6\u6210\u529F: ID=${t}, \u5305\u542B\u96C6\u6570=${l.data.episodeList.length}`),l)}catch(n){return E("info","[Renren] getAppDramaDetail error:",n.message),null}}async getAppDanmu(t){try{let r=Date.now(),n=t;String(t).includes("-")&&(n=String(t).split("-")[1]);let s=`/v1/produce/danmu/EPISODE/${n}`,a=gI(s,r,{},this.API_CONFIG.SECRET_KEY),o=this.generateTvHeaders(r,a),c=`https://${this.API_CONFIG.TV_DANMU_HOST}${s}`,u=await ue(c,{headers:o,retries:1});if(!u.data)return null;let l=mA(u.data);return Array.isArray(l)?l:l&&l.data&&Array.isArray(l.data)?l.data:[]}catch(r){return E("info","[Renren] getAppDanmu error:",r.message),null}}async performNetworkSearch(t,{lockRef:r=null,lastRequestTimeRef:n={value:0},minInterval:s=500}={}){try{E("info",`[Renren] \u5C1D\u8BD5\u6267\u884C\u7F51\u9875\u7248\u641C\u7D22: ${t}`);let i=`https://${this.API_CONFIG.WEB_HOST}/m-station/search/drama`,a={keywords:t,size:20,order:"match",search_after:"",isExecuteVipActivity:!0};if(r){for(;r.value;)await new Promise(f=>setTimeout(f,50));r.value=!0}let c=Date.now()-n.value;c<s&&await new Promise(f=>setTimeout(f,s-c));let u=await this.renrenRequest("GET",i,a);if(n.value=Date.now(),r&&(r.value=!1),!u.data)return E("info","[Renren] \u7F51\u9875\u7248\u641C\u7D22\u65E0\u54CD\u5E94\u6570\u636E"),[];let d=mA(u.data)?.data?.searchDramaList||[];return E("info",`[Renren] \u7F51\u9875\u7248\u641C\u7D22\u7ED3\u679C\u6570\u91CF: ${d.length}`),d.map(f=>({provider:"renren",mediaId:String(f.id),title:String(f.title||"").replace(/<[^>]+>/g,"").replace(/:/g,"\uFF1A"),type:f.classify||"Renren",season:null,year:f.year,imageUrl:f.cover,episodeCount:f.episodeTotal,currentEpisodeIndex:null}))}catch(i){return E("info","[Renren] performNetworkSearch error:",i.message),[]}}async search(t){E("info",`[Renren] \u5F00\u59CB\u641C\u7D22: ${t}`);let r={title:t,season:null},n=r.title,s=r.season,i=[];if(i=await this.searchAppContent(n),i.length===0){E("info","[Renren] TV \u641C\u7D22\u65E0\u7ED3\u679C\uFF0C\u964D\u7EA7\u5230\u7F51\u9875\u63A5\u53E3");let a={value:!1},o={value:0};i=await this.performNetworkSearch(n,{lockRef:a,lastRequestTimeRef:o,minInterval:400})}return s==null?i:i.filter(a=>a.season===s)}async getDetail(t){let r=await this.getAppDramaDetail(String(t));if(r&&r.data)return r.data;E("info",`[Renren] TV\u8BE6\u60C5\u4E0D\u53EF\u7528\uFF0C\u5C1D\u8BD5\u8BF7\u6C42\u7F51\u9875\u7248\u63A5\u53E3 (ID=${t})`);let n=`https://${this.API_CONFIG.WEB_HOST}/m-station/drama/page`,s={hsdrOpen:0,isAgeLimit:0,dramaId:String(t),hevcOpen:1};try{let i=await this.renrenRequest("GET",n,s);if(!i.data)return null;let a=mA(i.data);return a&&a.data?(E("info",`[Renren] \u7F51\u9875\u7248\u8BE6\u60C5\u83B7\u53D6\u6210\u529F: \u5305\u542B\u96C6\u6570=${a.data.episodeList?a.data.episodeList.length:0}`),a.data):null}catch(i){return E("info",`[Renren] \u7F51\u9875\u7248\u8BE6\u60C5\u8BF7\u6C42\u5931\u8D25: ${i.message}`),null}}async getEpisodes(t){E("info",`[Renren] \u6B63\u5728\u83B7\u53D6\u5206\u96C6\u4FE1\u606F: ID=${t}`);let r=await this.getDetail(t);if(!r)return E("info",`[Renren] \u83B7\u53D6\u5206\u96C6\u5931\u8D25: \u8BE6\u60C5\u5BF9\u8C61\u4E3A\u7A7A ID=${t}`),[];if(!r.episodeList||!Array.isArray(r.episodeList))return E("info",`[Renren] \u83B7\u53D6\u5206\u96C6\u5931\u8D25: episodeList \u5B57\u6BB5\u7F3A\u5931\u6216\u975E\u6570\u7EC4 ID=${t}`),[];let n=[],s=String(t);return r.episodeList.forEach((i,a)=>{let o=String(i.sid||"").trim();if(!o)return;let c=i.title?String(i.title):`\u7B2C${String(i.episodeNo||a+1).padStart(2,"0")}\u96C6`,u=`${s}-${o}`;n.push({sid:u,order:i.episodeNo||a+1,title:c})}),E("info",`[Renren] \u6210\u529F\u89E3\u6790\u5206\u96C6\u6570\u91CF: ${n.length} (ID=${t})`),n.map(i=>({provider:"renren",episodeId:i.sid,title:i.title,episodeIndex:i.order,url:null}))}async handleAnimes(t,r,n){let s=[];if(!t||!Array.isArray(t))return E("info","[Renren] sourceAnimes is not a valid array"),[];this.isBatchMode=!0;try{await Promise.all(t.filter(i=>zt(i.title,r)).map(async i=>{try{let a=await this.getEpisodes(i.mediaId),o=[];for(let c of a)o.push({name:c.episodeIndex.toString(),url:c.episodeId,title:`\u3010${c.provider}\u3011 ${c.title}`});if(o.length>0){let c={animeId:Number(i.mediaId),bangumiId:String(i.mediaId),animeTitle:`${i.title}(${i.year})\u3010${i.type}\u3011from renren`,type:i.type,typeDescription:i.type,imageUrl:i.imageUrl,startDate:Kt(i.year),episodeCount:o.length,rating:0,isFavorited:!0,source:"renren"};s.push(c),et({...c,links:o}),B.animes.length>B.MAX_ANIMES&&st()}}catch(a){E("info",`[Renren] Error processing anime: ${a.message}`)}}))}finally{this.isBatchMode=!1,this.checkAndIncrementUsage()}return this.sortAndPushAnimesByYear(s,n),s}async getEpisodeDanmu(t){let r=await this.getAppDanmu(t);return(!r||r.length===0)&&(E("info","[Renren] TV \u5F39\u5E55\u63A5\u53E3\u5931\u8D25\u6216\u65E0\u6570\u636E\uFF0C\u5C1D\u8BD5\u964D\u7EA7\u7F51\u9875\u63A5\u53E3"),r=await this.getWebDanmuFallback(t)),r&&Array.isArray(r)&&r.length>0?(E("info",`[Renren] \u6210\u529F\u83B7\u53D6 ${r.length} \u6761\u5F39\u5E55`),r):[]}async getWebDanmuFallback(t){let r=t;String(t).includes("-")&&(r=String(t).split("-")[1]),E("info",`[Renren] \u964D\u7EA7\u7F51\u9875\u7248\u5F39\u5E55\uFF0C\u4F7F\u7528 ID: ${r}`);let n={user_agent:"Mozilla/5.0",origin:"https://rrsp.com.cn",referer:"https://rrsp.com.cn/"},s=`https://${this.API_CONFIG.WEB_DANMU_HOST}/v1/produce/danmu/EPISODE/${r}`,i={Accept:"application/json","User-Agent":n.user_agent,Origin:n.origin,Referer:n.referer};try{let a=await this.renrenHttpGet(s,{headers:i});if(!a.data)return[];let o=mA(a.data),c=[];return Array.isArray(o)?c=o:o?.data&&Array.isArray(o.data)&&(c=o.data),c}catch(a){return E("info",`[Renren] \u7F51\u9875\u7248\u5F39\u5E55\u964D\u7EA7\u5931\u8D25: ${a.message}`),[]}}async getEpisodeDanmuSegments(t){return new Ve({type:"renren",segmentList:[{type:"renren",segment_start:0,segment_end:3e4,url:t}]})}async getEpisodeSegmentDanmu(t){return this.getEpisodeDanmu(t.url)}parseRRSPPFields(t){let r=String(t).split(","),n=(l,d,f)=>{if(l==null||l==="")return f;let h=d(l);return isNaN(h)?f:h},s=n(r[0],parseFloat,0),i=n(r[1],l=>parseInt(l,10),1),a=n(r[2],l=>parseInt(l,10),25),o=n(r[3],l=>parseInt(l,10),16777215),c=r[6]||"",u=r[7]||`${s}:${c}`;return{timestamp:s,mode:i,size:a,color:o,userId:c,contentId:u}}formatComments(t){return t.map(r=>{let n=String(r.d||"");if(!n&&r.content&&(n=String(r.content)),!n)return null;if(r.p){let s=this.parseRRSPPFields(r.p);return{cid:Number(s.contentId)||0,p:`${s.timestamp.toFixed(2)},${s.mode},${s.color},[renren]`,m:n,t:s.timestamp}}return null}).filter(Boolean)}generateSignature(t,r,n,s,i,a,o,c){let u=`${t.toUpperCase()}
aliId:${r}
ct:${n}
cv:${s}
t:${i}
${a}?${o}`;return Jde(c,u)}buildSignedHeaders({method:t,url:r,params:n={},deviceId:s,token:i}){let a={client_type:"web_pc",client_version:"1.0.0",user_agent:"Mozilla/5.0",origin:"https://rrsp.com.cn",referer:"https://rrsp.com.cn/"},o=jde(r),c=xO(n),u=Date.now(),d=this.generateSignature(t,s,a.client_type,a.client_version,u,o,c,"ES513W0B1CsdUrR13Qk5EgDAKPeeKZY");return{clientVersion:a.client_version,deviceId:s,clientType:a.client_type,t:String(u),aliId:s,umid:s,token:i||"",cv:a.client_version,ct:a.client_type,uet:"9","x-ca-sign":d,Accept:"application/json","User-Agent":a.user_agent,Origin:a.origin,Referer:a.referer}}async renrenHttpGet(t,{params:r={},headers:n={}}={}){let s=qde(t,r);return await ue(s,{headers:n,retries:1})}generateDeviceId(){return Math.random().toString(36).slice(2).toUpperCase()}async renrenRequest(t,r,n={}){let s=this.generateDeviceId(),i=this.buildSignedHeaders({method:t,url:r,params:n,deviceId:s});return await ue(r+"?"+xO(n),{headers:i,retries:1})}};pt();Ze();Dt();kn();Br();Zr();Gr();kn();var Int="6.5.3",Cnt="a_7980",wnt="HanjuTV/6.5.3 (Pixel 2 XL; Android 11; Scale/2.00)",Snt="f349wghhe784tqwh",Tnt="d3w8hf94fidk38lk",Bnt="34F9Q53w/HJW8E6Q",Nfe="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",JO=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Rnt=(()=>{let e=new Uint8Array(256);for(let t=0;t<256;t++)e[JO[t]]=t;return e})(),Nnt=[0,1,2,4,8,16,32,64,128,27,54];function BA(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Gp(e)}function knt(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):fa(e)}function OI(e,t){let r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function Dnt(e,t=16){let r=e.length%t,n=r===0?t:t-r,s=new Uint8Array(e.length+n);return s.set(e,0),s.fill(n,e.length),s}function Pnt(e){return e.replace(/[\u0000-\u001f\u007f-\u009f]/g,"")}function Ont(e){return Uint8Array.from([e[1],e[2],e[3],e[0]])}function $nt(e){return Uint8Array.from(e.map(t=>JO[t]))}function Lfe(e){let s=new Array(44);for(let i=0;i<4;i++)s[i]=e.slice(4*i,4*i+4);for(let i=4;i<4*11;i++){let a=s[i-1];i%4===0&&(a=OI($nt(Ont(a)),Uint8Array.from([Nnt[i/4],0,0,0]))),s[i]=OI(s[i-4],a)}return s}function Xp(e,t,r){let n=new Uint8Array(16);for(let s=0;s<4;s++)for(let i=0;i<4;i++)n[i+4*s]=e[i+4*s]^t[r*4+s][i];return n}function kfe(e){return Uint8Array.from(e.map(t=>JO[t]))}function Dfe(e){return Uint8Array.from(e.map(t=>Rnt[t]))}function Pfe(e){let t=new Uint8Array(16);for(let r=0;r<4;r++)for(let n=0;n<4;n++)t[r+4*n]=e[r+4*((n+r)%4)];return t}function Ofe(e){let t=new Uint8Array(16);for(let r=0;r<4;r++)for(let n=0;n<4;n++)t[r+4*n]=e[r+4*((n-r+4)%4)];return t}function Cr(e,t){let r=0,n=e,s=t;for(let i=0;i<8;i++){s&1&&(r^=n);let a=n&128;n=n<<1&255,a&&(n^=27),s>>=1}return r}function Lnt(e){let t=new Uint8Array(16);for(let r=0;r<4;r++){let n=e.slice(4*r,4*r+4);t[4*r+0]=Cr(n[0],2)^Cr(n[1],3)^n[2]^n[3],t[4*r+1]=n[0]^Cr(n[1],2)^Cr(n[2],3)^n[3],t[4*r+2]=n[0]^n[1]^Cr(n[2],2)^Cr(n[3],3),t[4*r+3]=Cr(n[0],3)^n[1]^n[2]^Cr(n[3],2)}return t}function Mnt(e){let t=new Uint8Array(16);for(let r=0;r<4;r++){let n=e.slice(4*r,4*r+4);t[4*r+0]=Cr(n[0],14)^Cr(n[1],11)^Cr(n[2],13)^Cr(n[3],9),t[4*r+1]=Cr(n[0],9)^Cr(n[1],14)^Cr(n[2],11)^Cr(n[3],13),t[4*r+2]=Cr(n[0],13)^Cr(n[1],9)^Cr(n[2],14)^Cr(n[3],11),t[4*r+3]=Cr(n[0],11)^Cr(n[1],13)^Cr(n[2],9)^Cr(n[3],14)}return t}function Fnt(e,t){let r=new Uint8Array(e);r=Xp(r,t,0);for(let n=1;n<=9;n++)r=kfe(r),r=Pfe(r),r=Lnt(r),r=Xp(r,t,n);return r=kfe(r),r=Pfe(r),r=Xp(r,t,10),r}function Qnt(e,t){let r=new Uint8Array(e);r=Xp(r,t,10);for(let n=9;n>=1;n--)r=Ofe(r),r=Dfe(r),r=Xp(r,t,n),r=Mnt(r);return r=Ofe(r),r=Dfe(r),r=Xp(r,t,0),r}function Unt(e,t,r){let n=Dnt(e,16),s=Lfe(t),i=new Uint8Array(n.length),a=new Uint8Array(r);for(let o=0;o<n.length;o+=16){let c=n.slice(o,o+16),u=OI(c,a),l=Fnt(u,s);i.set(l,o),a=l}return i}function qnt(e,t,r){if(e.length%16!==0)throw new Error(`\u5BC6\u6587\u957F\u5EA6\u4E0D\u662F16\u7684\u500D\u6570: ${e.length}`);let n=Lfe(t),s=new Uint8Array(e.length),i=new Uint8Array(r);for(let a=0;a<e.length;a+=16){let o=e.slice(a,a+16),c=OI(Qnt(o,n),i);s.set(c,a),i=o}return s}async function $fe(e,t,r){let n=BA(t),s=BA(r),i=BA(e),a=Unt(i,n,s);return SO(a)}async function jnt(e,t,r){let n=BA(t),s=BA(r),i=mI(e),a=qnt(i,n,s);return knt(a)}function Hnt(e){if(globalThis.crypto?.getRandomValues){let t=new Uint8Array(1);return globalThis.crypto.getRandomValues(t),t[0]%e}return Math.floor(Math.random()*e)}function znt(e,t){return JSON.stringify({emu:0,ou:0,it:t,iit:t,bs:0,uid:e,pc:0,tm:0,d8m:"0,0,0,0,0,0,0,0",md:"Pixel 2 XL",maker:"Google",osv:"11",br:100,rpc:0,scc:0,plc:0,toc:1,tsc:0,ts:t,pa:1,nw:2,px:"0",isp:"",ai:"ccffc2520864efdb",oa:"",dpc:0,dsc:0,qpc:0,apad:0,pk:"com.babycloud.hanju"})}function Mfe(e=20){let t="";for(let r=0;r<e;r++)t+=Nfe[Hnt(Nfe.length)];return t}async function Ffe(e,t=Date.now()){let r=Number(t),n=As(e),s=znt(e,r),i=await $fe(s,n.slice(0,16),n.slice(16,32));return{app:"hj",ch:"qq",uk:await $fe(e,Snt,Tnt),"auth-uid":"",vn:Int,sign:i,"User-Agent":wnt,vc:Cnt,"auth-token":"","Accept-Encoding":"gzip",Connection:"Keep-Alive"}}async function Qfe(e,t=""){if(!e||typeof e!="object"||Array.isArray(e)||typeof e.data!="string"||e.data.length===0)return e;let r=e.ts??"",n=typeof e.key=="string"&&e.key?e.key:"";if(!n&&t&&r!==""&&(n=As(`${t}${r}`)),!n)throw new Error("\u7F3A\u5C11\u89E3\u5BC6 key\uFF0C\u4E14\u65E0\u6CD5\u901A\u8FC7 uid+ts \u63A8\u5BFC");let s=As(`${n}${Bnt}`),i=s.slice(0,16),a=s.slice(16,32),o=await jnt(e.data,i,a),c=Pnt(o).trim();return JSON.parse(c)}var RA=class extends Je{constructor(){super(),this.webHost="https://hxqapi.hiyun.tv",this.appHost="https://hxqapi.hiyun.tv",this.oldDanmuHost="https://hxqapi.zmdcq.com",this.defaultRefer="2JGztvGjRVpkxcr0T4ZWG2k+tOlnHmDGUNMwAGSeq548YV2FMbs0h0bXNi6DJ00L",this.webUserAgent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36",this.appUserAgent="HanjuTV/6.8 (23127PN0CC; Android 16; Scale/2.00)"}getWebHeaders(){return{"Content-Type":"application/json","User-Agent":this.webUserAgent}}getAppHeaders(){return{vc:"a_8260",vn:"6.8",ch:"xiaomi",app:"hj","User-Agent":this.appUserAgent,"Accept-Encoding":"gzip"}}normalizeSearchItems(t=[]){return Array.isArray(t)?t.map(r=>{if(!r||typeof r!="object")return null;let n=r.sid||r.seriesId||r.id||r.series_id,s=r.name||r.title||r.seriesName||r.showName;if(!n||!s)return null;let i=typeof r.image=="object"&&r.image!==null?r.image:{},a=i.thumb||i.poster||i.url||r.thumb||r.poster||"";return{...r,sid:String(n),name:String(s),image:{...i,thumb:a}}}).filter(Boolean):[]}normalizeEpisodes(t=[]){return Array.isArray(t)?t.map((r,n)=>{if(!r||typeof r!="object")return null;let s=r.pid||r.id||r.programId||r.episodeId;if(!s)return null;let i=r.serialNo??r.serial_no??r.sort??r.sortNo??r.num??r.episodeNo??n+1,a=Number(i);return{...r,pid:String(s),serialNo:Number.isFinite(a)&&a>0?a:n+1,title:r.title||r.name||r.programName||r.episodeTitle||""}}).filter(Boolean).sort((r,n)=>r.serialNo-n.serialNo):[]}extractSearchItems(t){let r=t?.seriesData?.seriesList||t?.seriesList||[];return this.normalizeSearchItems(r)}dedupeBySid(t=[]){let r=new Map;for(let n of t){if(!n?.sid)continue;let s=String(n.sid);r.has(s)||r.set(s,n)}return Array.from(r.values())}countMatchedItems(t=[],r=""){return!Array.isArray(t)||!r?0:t.reduce((n,s)=>{let i=s?.name?String(s.name):"";return n+(zt(i,r)?1:0)},0)}mergeSearchCandidates(t,r=[],n=[]){let s=this.dedupeBySid(r),i=this.dedupeBySid(n),a=[],o=[];for(let p of s)zt(p?.name||"",t)?a.push(p):o.push(p);let c=[],u=[];for(let p of i)zt(p?.name||"",t)?c.push(p):u.push(p);let d=a.length+c.length>0?[...a,...c,...o,...u]:[...s,...i],f=[],h=new Set;for(let p of d){let m=p?.sid?String(p.sid):"";!m||h.has(m)||(h.add(m),f.push(p))}return{resultList:f,stats:{s5Total:s.length,s5Matched:a.length,webTotal:i.length,webMatched:c.length}}}async searchWithS5Api(t){let r=Mfe(),n=await Ffe(r),s=encodeURIComponent(t),a=(await ue(`https://hxqapi.hiyun.tv/api/search/s5?k=${s}&srefer=search_input&type=0&page=1`,{headers:n,timeout:1e4,retries:1}))?.data;if(!a||typeof a!="object")throw new Error("s5 \u54CD\u5E94\u4E3A\u7A7A");if(typeof a.data=="string"&&a.data.length>0){let c;try{c=await Qfe(a,r)}catch(l){throw new Error(`s5 \u54CD\u5E94\u89E3\u5BC6\u5931\u8D25: ${l.message}`)}let u=this.extractSearchItems(c);if(u.length===0)throw new Error("s5 \u89E3\u5BC6\u540E\u65E0\u6709\u6548\u7ED3\u679C");return u}let o=this.extractSearchItems(a);if(o.length===0)throw new Error("s5 \u65E0\u6709\u6548\u7ED3\u679C");return o}async searchWithLegacyApi(t){let r=encodeURIComponent(t),n=await ue(`https://hxqapi.hiyun.tv/wapi/search/aggregate/search?keyword=${r}&scope=101&page=1`,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"},timeout:1e4,retries:1});return this.extractSearchItems(n?.data)}async search(t){try{let r=String(t||"").trim();if(!r)return[];let n=[],s=[],i=null;try{n=await this.searchWithS5Api(r)}catch(l){i=l,E("warn",`[Hanjutv] s5 \u641C\u7D22\u5931\u8D25\uFF0C\u964D\u7EA7\u65E7\u63A5\u53E3: ${l.message}`)}let a=this.countMatchedItems(n,r);if(n.length===0||a===0){!i&&n.length>0&&a===0&&E("warn",`[Hanjutv] s5 \u8FD4\u56DE ${n.length} \u6761\u4F46\u6807\u9898\u96F6\u547D\u4E2D\uFF0C\u89E6\u53D1 legacy \u8865\u507F\u68C0\u7D22`);try{s=await this.searchWithLegacyApi(r)}catch(l){E("warn",`[Hanjutv] \u65E7\u641C\u7D22\u63A5\u53E3\u5931\u8D25: ${l.message}`)}}let{resultList:c,stats:u}=this.mergeSearchCandidates(r,n,s);return c.length===0?(E("info","hanjutvSearchresp: s5 \u4E0E\u65E7\u63A5\u53E3\u5747\u65E0\u6709\u6548\u7ED3\u679C"),[]):(E("info",`[Hanjutv] \u641C\u7D22\u5019\u9009\u7EDF\u8BA1 s5=${u.s5Total}(\u547D\u4E2D${u.s5Matched}), web=${u.webTotal}(\u547D\u4E2D${u.webMatched})`),E("info",`[Hanjutv] \u641C\u7D22\u627E\u5230 ${c.length} \u4E2A\u6709\u6548\u7ED3\u679C`),c.map(l=>{let d=Tr(l.sid);return{...l,animeId:d}}))}catch(r){return E("error","getHanjutvAnimes error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async getDetail(t){try{let r=String(t||"").trim();if(!r)return[];let n=null;try{n=(await ue(`${this.appHost}/api/series/detail?sid=${r}`,{headers:this.getAppHeaders(),timeout:1e4,retries:1}))?.data?.series||null}catch{}if(!n)try{n=(await ue(`${this.webHost}/wapi/series/series/detail?sid=${r}`,{headers:this.getWebHeaders(),timeout:1e4,retries:1}))?.data?.series||null}catch{}return n||(E("info","getHanjutvDetail: series \u4E0D\u5B58\u5728"),[])}catch(r){return E("error","getHanjutvDetail error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async getEpisodes(t){try{let r=String(t||"").trim();if(!r)return[];let n=[];try{let i=(await ue(`${this.appHost}/api/series/detail?sid=${r}`,{headers:this.getAppHeaders(),timeout:1e4,retries:1}))?.data,a=Array.isArray(i?.playItems)?i.playItems:[];n=this.normalizeEpisodes(a)}catch{}if(n.length===0)try{let i=(await ue(`${this.appHost}/api/series2/episodes?sid=${r}&refer=${encodeURIComponent(this.defaultRefer)}`,{headers:this.getAppHeaders(),timeout:1e4,retries:1}))?.data;n=this.normalizeEpisodes(i?.programs||i?.episodes||i?.qxkPrograms||[])}catch{}if(n.length===0)try{let i=(await ue(`${this.appHost}/api/series/programs_v2?sid=${r}`,{headers:this.getAppHeaders(),timeout:1e4,retries:1}))?.data,a=[...Array.isArray(i?.programs)?i.programs:[],...Array.isArray(i?.qxkPrograms)?i.qxkPrograms:[]];n=this.normalizeEpisodes(a)}catch{}if(n.length===0)try{let s=await ue(`${this.webHost}/wapi/series/series/detail?sid=${r}`,{headers:this.getWebHeaders(),timeout:1e4,retries:1});n=this.normalizeEpisodes(s?.data?.episodes||[])}catch{}return n.length===0?(E("info","getHanjutvEposides: episodes \u4E0D\u5B58\u5728"),[]):n.sort((s,i)=>s.serialNo-i.serialNo)}catch(r){return E("error","getHanjutvEposides error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async handleAnimes(t,r,n){let s={1:"\u97E9\u5267",2:"\u7EFC\u827A",3:"\u7535\u5F71",4:"\u65E5\u5267",5:"\u7F8E\u5267",6:"\u6CF0\u5267",7:"\u56FD\u4EA7\u5267"};function i(c){return s[c]||"\u5176\u4ED6"}let a=[];if(!t||!Array.isArray(t))return E("error","[Hanjutv] sourceAnimes is not a valid array"),[];let o=await Promise.all(t.filter(c=>zt(c.name,r)).map(async c=>{try{let u=await this.getDetail(c.sid),l=await this.getEpisodes(c.sid),d=[];for(let f of l){let h=f.title&&f.title.trim()!==""?`\u7B2C${f.serialNo}\u96C6\uFF1A${f.title}`:`\u7B2C${f.serialNo}\u96C6`;d.push({name:h,url:f.pid,title:`\u3010hanjutv\u3011 ${h}`})}if(d.length>0){let f={animeId:c.animeId,bangumiId:String(c.animeId),animeTitle:`${c.name}(${new Date(c.updateTime).getFullYear()})\u3010${i(u.category)}\u3011from hanjutv`,type:i(u.category),typeDescription:i(u.category),imageUrl:c.image.thumb,startDate:Kt(new Date(c.updateTime).getFullYear()),episodeCount:d.length,rating:u.rank,isFavorited:!0,source:"hanjutv"};a.push(f),et({...f,links:d}),B.animes.length>B.MAX_ANIMES&&st()}}catch(u){E("error",`[Hanjutv] Error processing anime: ${u.message}`)}}));return this.sortAndPushAnimesByYear(a,n),o}async getEpisodeDanmu(t){let r=[],n=0,s=1e8;try{for(;n<s;){let i=await ue(`https://hxqapi.zmdcq.com/api/danmu/playItem/list?fromAxis=${n}&pid=${t}&toAxis=${s}`,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"},retries:1});i.data&&i.data.danmus&&(r=r.concat(i.data.danmus));let a=i.data.nextAxis||s;if(a>=s)break;n=a}return r}catch(i){return E("error","fetchHanjutvEpisodeDanmu error:",{message:i.message,name:i.name,stack:i.stack}),r}}async getEpisodeDanmuSegments(t){return E("info","\u83B7\u53D6\u97E9\u5267TV\u5F39\u5E55\u5206\u6BB5\u5217\u8868...",t),new Ve({type:"hanjutv",segmentList:[{type:"hanjutv",segment_start:0,segment_end:3e4,url:t}]})}async getEpisodeSegmentDanmu(t){return this.getEpisodeDanmu(t.url)}formatComments(t){return t.map(r=>({cid:Number(r.did),p:`${(r.t/1e3).toFixed(2)},${r.tp===2?5:r.tp},${Number(r.sc)},[hanjutv]`,m:r.con,t:Math.round(r.t/1e3),like:r.lc}))}};pt();Ze();Dt();Br();Zr();Gr();var NA=class extends Je{async search(t){try{let r=tc(t),n=t,s=encodeURIComponent(r);E("info",`[Bahamut] \u539F\u59CB\u641C\u7D22\u8BCD: ${t}`),E("info",`[Bahamut] \u5DF4\u54C8\u4F7F\u7528\u641C\u7D22\u8BCD: ${r}`);let i=new AbortController,a=(async()=>{try{let l=`https://api.gamer.com.tw/mobile_app/anime/v1/search.php?kw=${s}`,d=B.makeProxyUrl(l),f=await ue(d,{headers:{"Content-Type":"application/json","User-Agent":"Anime/2.29.2 (7N5749MM3F.tw.com.gamer.anime; build:972; iOS 26.0.0) Alamofire/5.6.4"}});if(f&&f.data&&f.data.anime&&f.data.anime.length>0){i.abort();let h=f.data.anime;for(let p of h)try{p._originalQuery=t,p._searchUsedTitle=r}catch{}return E("info",`bahamutSearchresp (original): ${JSON.stringify(h)}`),E("info",`[Bahamut] \u8FD4\u56DE ${h.length} \u6761\u7ED3\u679C (source: original)`),{success:!0,data:h,source:"original"}}return E("info","[Bahamut] \u539F\u59CB\u641C\u7D22\u6210\u529F\uFF0C\u4F46\u672A\u8FD4\u56DE\u4EFB\u4F55\u7ED3\u679C (source: original)"),{success:!1,source:"original"}}catch(l){return E("error","[Bahamut] \u539F\u59CB\u641C\u7D22\u5931\u8D25:",{message:l.message,name:l.name,stack:l.stack}),{success:!1,source:"original"}}})(),o=(async()=>{try{await new Promise(g=>setTimeout(g,100));let l=await Kp(n,i.signal,"Bahamut");if(!l||!l.title)return E("info","[Bahamut] TMDB\u8F6C\u6362\u672A\u8FD4\u56DE\u7ED3\u679C\uFF0C\u53D6\u6D88\u65E5\u8BED\u539F\u540D\u641C\u7D22"),{success:!1,source:"tmdb"};let{title:d,cnAlias:f}=l;E("info",`[Bahamut] \u4F7F\u7528\u65E5\u8BED\u539F\u540D\u8FDB\u884C\u641C\u7D22: ${d}`);let p=`https://api.gamer.com.tw/mobile_app/anime/v1/search.php?kw=${encodeURIComponent(d)}`,m=B.makeProxyUrl(p),A=await ue(m,{headers:{"Content-Type":"application/json","User-Agent":"Anime/2.29.2 (7N5749MM3F.tw.com.gamer.anime; build:972; iOS 26.0.0) Alamofire/5.6.4"},signal:i.signal});if(A&&A.data&&A.data.anime&&A.data.anime.length>0){let g=A.data.anime;for(let x of g)try{x._originalQuery=t,x._searchUsedTitle=d,x._tmdbCnAlias=f}catch{}return E("info",`bahamutSearchresp (TMDB): ${JSON.stringify(g)}`),E("info",`[Bahamut] \u8FD4\u56DE ${g.length} \u6761\u7ED3\u679C (source: tmdb)`),{success:!0,data:g,source:"tmdb"}}return E("info","[Bahamut] \u65E5\u8BED\u539F\u540D\u641C\u7D22\u6210\u529F\uFF0C\u4F46\u672A\u8FD4\u56DE\u4EFB\u4F55\u7ED3\u679C (source: tmdb)"),{success:!1,source:"tmdb"}}catch(l){if(l.name==="AbortError")return E("info","[Bahamut] \u539F\u59CB\u641C\u7D22\u6210\u529F\uFF0C\u4E2D\u65AD\u65E5\u8BED\u539F\u540D\u641C\u7D22"),{success:!1,source:"tmdb",aborted:!0};throw l}})(),[c,u]=await Promise.all([a,o]);return c.success?c.data:u.success?u.data:(E("info","[Bahamut] \u539F\u59CB\u641C\u7D22\u548C\u57FA\u4E8ETMDB\u7684\u641C\u7D22\u5747\u672A\u8FD4\u56DE\u4EFB\u4F55\u7ED3\u679C"),[])}catch(r){return E("error","getBahamutAnimes error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async getEpisodes(t){try{let r=`https://api.gamer.com.tw/anime/v1/video.php?videoSn=${t}`,n=B.makeProxyUrl(r),s=await ue(n,{headers:{"Content-Type":"application/json","User-Agent":"Anime/2.29.2 (7N5749MM3F.tw.com.gamer.anime; build:972; iOS 26.0.0) Alamofire/5.6.4"}});return!s||!s.data?(E("info","getBahamutEposides: \u8BF7\u6C42\u5931\u8D25\u6216\u65E0\u6570\u636E\u8FD4\u56DE"),[]):!s.data.data||!s.data.data.video||!s.data.data.anime?(E("info","getBahamutEposides: video \u6216 anime \u4E0D\u5B58\u5728"),[]):(E("info",`getBahamutEposides: ${JSON.stringify(s.data.data)}`),s.data.data)}catch(r){return E("error","getBahamutEposides error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async handleAnimes(t,r,n){let s=[];r=tc(r);function i(l,d,f){if(!l)return!1;let h=String(l),p=String(d||""),m=String(f||"");if(B.strictTitleMatch){if(Tu(h,p)||m&&Tu(h,m))return!0;try{if(Tu(h,tc(p))||Tu(h,Xt(p))||m&&(Tu(h,tc(m))||Tu(h,Xt(m))))return!0}catch{}return!1}let A=Dn(h),g=Dn(p),x=m?Dn(m):"";if(A.includes(g)||x&&A.includes(x))return!0;try{if(A.includes(Dn(tc(p)))||A.includes(Dn(Xt(p)))||x&&(A.includes(Dn(tc(m)))||A.includes(Dn(Xt(m)))))return!0}catch{}try{if(A.toLowerCase().includes(g.toLowerCase())||x&&A.toLowerCase().includes(x.toLowerCase()))return!0}catch{}return!1}let o=(Array.isArray(t)?t:[]).filter(l=>{let d=l.title||"",f=l._searchUsedTitle||l._originalQuery||"";return l._searchUsedTitle&&l._searchUsedTitle!==r?(E("info",`[Bahamut] TMDB\u7ED3\u679C\u76F4\u63A5\u4FDD\u7559: ${d}`),!0):i(d,r,f)}),c=o.length>0?o[0]._tmdbCnAlias:null;NI(o,c);let u=await Promise.all(o.map(async l=>{try{let d=await this.getEpisodes(l.video_sn),f=d.video,h=null;d.anime.episodes&&(h=d.anime.episodes[0]||Object.values(d.anime.episodes)[0]);let p=[];if(h&&Array.isArray(h))for(let m of h){let A=`\u7B2C${m.episode}\u96C6`;p.push({name:m.episode.toString(),url:m.videoSn.toString(),title:`\u3010bahamut\u3011 ${A}`})}if(p.length>0){let m=(l.info||"").match(/(\d{4})/),A=l._displayTitle||Xt(l.title),g={animeId:l.video_sn,bangumiId:String(l.video_sn),animeTitle:`${A}(${(l.info.match(/(\d{4})/)||[null])[0]})\u3010\u52A8\u6F2B\u3011from bahamut`,type:"\u52A8\u6F2B",typeDescription:"\u52A8\u6F2B",imageUrl:l.cover,startDate:Kt(new Date(d.anime.seasonStart).getFullYear()),episodeCount:p.length,rating:f.rating,isFavorited:!0,source:"bahamut"};s.push(g),et({...g,links:p}),B.animes.length>B.MAX_ANIMES&&st()}}catch(d){E("error",`[Bahamut] Error processing anime: ${d.message}`)}}));return this.sortAndPushAnimesByYear(s,n),u}async getEpisodeDanmu(t){let r=[];try{let n=`https://api.gamer.com.tw/anime/v1/danmu.php?geo=TW%2CHK&videoSn=${t}`,s=B.makeProxyUrl(n),i=await ue(s,{headers:{"Content-Type":"application/json","User-Agent":"Anime/2.29.2 (7N5749MM3F.tw.com.gamer.anime; build:972; iOS 26.0.0) Alamofire/5.6.4"},retries:1});return i.data&&i.data.data&&i.data.data.danmu&&(r=i.data.data.danmu),r}catch(n){return E("error","fetchBahamutEpisodeDanmu error:",{message:n.message,name:n.name,stack:n.stack}),r}}async getEpisodeDanmuSegments(t){return E("info","\u83B7\u53D6\u5DF4\u54C8\u59C6\u7279\u5F39\u5E55\u5206\u6BB5\u5217\u8868...",t),new Ve({type:"bahamut",segmentList:[{type:"bahamut",segment_start:0,segment_end:3e4,url:t}]})}async getEpisodeSegmentDanmu(t){return this.getEpisodeDanmu(t.url)}formatComments(t){let r={0:1,1:5,2:4};return t.map(n=>({cid:Number(n.sn),p:`${Math.round(n.time/10).toFixed(2)},${r[n.position]||n.tp},${parseInt(n.color.slice(1),16)},[bahamut]`,m:B.danmuSimplifiedTraditional==="simplified"?Xt(n.text):n.text,t:Math.round(n.time/10)}))}};pt();Ze();Dt();Br();Gr();var kA=class extends Je{async search(t){try{E("info",`[Dandan] \u539F\u59CB\u641C\u7D22\u8BCD: ${t}`);let r=new AbortController,n=(async()=>{try{let o=await ue(`https://api.danmaku.weeblify.app/ddp/v1?path=/v2/search/anime?keyword=${t}`,{headers:{"Content-Type":"application/json","User-Agent":`LogVar Danmu API/${B.version}`}});if(!o||!o.data)return E("info","[Dandan] \u539F\u59CB\u641C\u7D22\u8BF7\u6C42\u5931\u8D25\u6216\u65E0\u6570\u636E\u8FD4\u56DE (source: original)"),{success:!1,source:"original"};if(!o.data.animes||o.data.animes.length===0)return E("info","[Dandan] \u539F\u59CB\u641C\u7D22\u6210\u529F\uFF0C\u4F46\u672A\u8FD4\u56DE\u4EFB\u4F55\u7ED3\u679C (source: original)"),{success:!1,source:"original"};r.abort();let c=o.data.animes;return E("info",`dandanSearchresp (original): ${JSON.stringify(c)}`),E("info",`[Dandan] \u8FD4\u56DE ${c.length} \u6761\u7ED3\u679C (source: original)`),{success:!0,data:c,source:"original"}}catch(o){return E("error","getDandanAnimes error:",{message:o.message,name:o.name,stack:o.stack}),{success:!1,source:"original"}}})(),s=(async()=>{try{await new Promise(d=>setTimeout(d,100));let o=await Kp(t,r.signal,"Dandan");if(!o||!o.title)return E("info","[Dandan] TMDB\u8F6C\u6362\u672A\u8FD4\u56DE\u7ED3\u679C\uFF0C\u53D6\u6D88\u65E5\u8BED\u539F\u540D\u641C\u7D22"),{success:!1,source:"tmdb"};let{title:c}=o;E("info",`[Dandan] \u4F7F\u7528\u65E5\u8BED\u539F\u540D\u901A\u8FC7 episodes \u63A5\u53E3\u8FDB\u884C\u641C\u7D22: ${c}`);let u=await ue(`https://api.danmaku.weeblify.app/ddp/v1?path=/v2/search/episodes?anime=${encodeURIComponent(c)}`,{headers:{"Content-Type":"application/json","User-Agent":`LogVar Danmu API/${B.version}`},signal:r.signal});if(!u||!u.data)return E("info","[Dandan] \u65E5\u8BED\u539F\u540D\u641C\u7D22\u8BF7\u6C42\u5931\u8D25\u6216\u65E0\u6570\u636E\u8FD4\u56DE (source: tmdb)"),{success:!1,source:"tmdb"};if(!u.data.animes||u.data.animes.length===0)return E("info","[Dandan] \u65E5\u8BED\u539F\u540D\u641C\u7D22\u6210\u529F\uFF0C\u4F46\u672A\u8FD4\u56DE\u4EFB\u4F55\u7ED3\u679C (source: tmdb)"),{success:!1,source:"tmdb"};let l=u.data.animes;return E("info",`dandanSearchresp (tmdb): ${JSON.stringify(l)}`),E("info",`[Dandan] \u8FD4\u56DE ${l.length} \u6761\u7ED3\u679C (source: tmdb)`),{success:!0,data:l,source:"tmdb"}}catch(o){if(o.name==="AbortError")return E("info","[Dandan] \u539F\u59CB\u641C\u7D22\u6210\u529F\uFF0C\u4E2D\u65AD\u65E5\u8BED\u539F\u540D\u641C\u7D22"),{success:!1,source:"tmdb",aborted:!0};throw o}})(),[i,a]=await Promise.all([n,s]);return i.success?i.data:a.success?a.data:(E("info","[Dandan] \u539F\u59CB\u641C\u7D22\u548C\u57FA\u4E8ETMDB\u7684\u641C\u7D22\u5747\u672A\u8FD4\u56DE\u4EFB\u4F55\u7ED3\u679C"),[])}catch(r){return E("error","getDandanAnimes error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async getEpisodes(t){try{let r=await ue(`https://api.danmaku.weeblify.app/ddp/v1?path=/v2/bangumi/${t}`,{headers:{"Content-Type":"application/json","User-Agent":`LogVar Danmu API/${B.version}`}});if(!r||!r.data)return E("info","getDandanEposides: \u8BF7\u6C42\u5931\u8D25\u6216\u65E0\u6570\u636E\u8FD4\u56DE"),{episodes:[],titles:[],relateds:[],type:null,typeDescription:null};if(!r.data.bangumi)return E("info","getDandanEposides: bangumi \u6570\u636E\u4E0D\u5B58\u5728"),{episodes:[],titles:[],relateds:[],type:null,typeDescription:null};let n=r.data.bangumi,s=Array.isArray(n.episodes)?n.episodes:[],i=Array.isArray(n.titles)?n.titles.map(l=>l.title):[],a=Array.isArray(n.relateds)?n.relateds:[],o=n.type||null,c=n.typeDescription||null,u=n.imageUrl||null;return E("info",`getDandanEposides: ${JSON.stringify(r.data.bangumi.episodes)}`),{episodes:s,titles:i,relateds:a,type:o,typeDescription:c,imageUrl:u}}catch(r){return E("error","getDandanEposides error:",{message:r.message,name:r.name,stack:r.stack}),{episodes:[],titles:[],relateds:[],type:null,typeDescription:null,imageUrl:null}}}hasSeasonInfo(t){return/(?:^|\s)(?:[0-9]+|S(?:eason)?\s*\d+)(?:\s+|_)/gi.test(t)||/^(?:(?:|S(?:eason)?)\s*\d+(?:||)?|(?:Part|P|)\s*\d+(?:)?)$/i.test(t)||/([0-9\d]+(?:||)|S(?:eason)?\s*\d+|Part\s*\d+)/i.test(t)}calculateSimilarity(t,r){if(!t||!r)return 0;let n=new Set(t.toLowerCase()),s=new Set(r.toLowerCase()),i=[...n].filter(o=>s.has(o)).length,a=new Set([...n,...s]).size;return i/a}async handleAnimes(t,r,n){let s=[];if(!t||!Array.isArray(t))return E("error","[Dandan] sourceAnimes is not a valid array"),[];let i=t.length,a=new Set,o=[];for(let c of t)a.add(c.animeId),o.push(c);for(;o.length>0;){let c=o.splice(0,o.length);await Promise.all(c.map(async u=>{try{let l=await this.getEpisodes(u.animeId),d=l.episodes,f=l.titles;if(this.calculateSimilarity(r,u.animeTitle)>=.1&&l.relateds&&Array.isArray(l.relateds))for(let m of l.relateds)!a.has(m.animeId)&&(this.hasSeasonInfo(m.animeTitle)||i>=25)&&(a.add(m.animeId),o.push({animeId:m.animeId,animeTitle:m.animeTitle,imageUrl:m.imageUrl,rating:m.rating||0}));let p=[];for(let m of d){let A=m.episodeTitle&&m.episodeTitle.trim()!==""?`${m.episodeTitle}`:`\u7B2C${m.episodeNumber}\u96C6`;p.push({name:A,url:m.episodeId.toString(),title:`\u3010dandan\u3011 ${A}`})}if(p.length>0){let m=l.type||u.type||"tvseries",A=l.typeDescription||u.typeDescription||"TV\u52A8\u753B",g=u.startDate||(d.length>0?d[0].airDate:null),x=g?new Date(g).getFullYear():"\u672A\u77E5",y={animeId:u.animeId,bangumiId:String(u.animeId),animeTitle:`${u.animeTitle}(${x})\u3010${A}\u3011from dandan`,aliases:f,type:m,typeDescription:A,imageUrl:l.imageUrl||u.imageUrl,startDate:g,episodeCount:p.length,rating:u.rating||0,isFavorited:!0,source:"dandan"};s.push(y),et({...y,links:p}),B.animes.length>B.MAX_ANIMES&&st()}}catch(l){E("error",`[Dandan] Error processing anime: ${l.message}`)}}))}return this.sortAndPushAnimesByYear(s,n),s}async getEpisodeDanmu(t){let r=[];try{let n=await ue(`https://api.danmaku.weeblify.app/ddp/v1?path=%2Fv2%2Fcomment%2F${t}%3Ffrom%3D0%26withRelated%3Dtrue%26chConvert%3D0`,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"},retries:1});return n.data&&n.data.comments&&(r=n.data.comments),r}catch(n){return E("error","fetchDandanEpisodeDanmu error:",{message:n.message,name:n.name,stack:n.stack}),r}}async getEpisodeDanmuSegments(t){return E("info","\u83B7\u53D6\u5F39\u5F39play\u5F39\u5E55\u5206\u6BB5\u5217\u8868...",t),new Ve({type:"dandan",segmentList:[{type:"dandan",segment_start:0,segment_end:3e4,url:t}]})}async getEpisodeSegmentDanmu(t){return this.getEpisodeDanmu(t.url)}formatComments(t){return t.map(r=>({cid:r.cid,p:`${r.p.replace(/([A-Za-z]+)([0-9a-fA-F]{6})/,(n,s,i)=>{let a=parseInt(i.substring(0,2),16),o=parseInt(i.substring(2,4),16),c=parseInt(i.substring(4,6),16),u=a*256*256+o*256+c;return`${s}${u}`})}`,m:B.danmuSimplifiedTraditional==="simplified"?Xt(r.m):r.m}))}};pt();Ze();Dt();Br();Gr();var DA=class extends Je{async search(t){try{let r=await ue(`${B.customSourceApiUrl}/api/v2/search/anime?keyword=${t}`,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}});return!r||!r.data?(E("info","customSourceSearchresp: \u8BF7\u6C42\u5931\u8D25\u6216\u65E0\u6570\u636E\u8FD4\u56DE"),[]):r.data.animes?(E("info",`[Custom] \u641C\u7D22\u627E\u5230 ${r.data.animes.length} \u4E2A\u6709\u6548\u7ED3\u679C`),r.data.animes):(E("info","customSourceSearchresp: seriesData \u6216 seriesList \u4E0D\u5B58\u5728"),[])}catch(r){return E("error","getCustomSourceAnimes error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async getEpisodes(t){try{let r=await ue(`${B.customSourceApiUrl}/api/v2/bangumi/${t}`,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}});return!r||!r.data?(E("info","getCustomSourceEposides: \u8BF7\u6C42\u5931\u8D25\u6216\u65E0\u6570\u636E\u8FD4\u56DE"),[]):!r.data.bangumi||!r.data.bangumi.episodes?(E("info",`getCustomSourceEposides: episodes \u4E0D\u5B58\u5728. Response: ${JSON.stringify(r.data)}`),[]):(E("info",`getCustomSourceEposides: ${JSON.stringify(r.data.bangumi.episodes)}`),r.data.bangumi.episodes)}catch(r){return E("error","getCustomSourceEposides error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async handleAnimes(t,r,n){let s=[];if(!t||!Array.isArray(t))return E("error","[Custom Source] sourceAnimes is not a valid array"),[];let i=await Promise.all(t.map(async a=>{try{let o=await this.getEpisodes(a.bangumiId),c=[];for(let u of o){let l=u.episodeTitle&&u.episodeTitle.trim()!==""?`${u.episodeTitle}`:`\u7B2C${u.episodeNumber}\u96C6`;c.push({name:l,url:u.episodeId.toString(),title:`\u3010custom\u3011 ${l}`})}if(c.length>0){let u={animeId:a.animeId,bangumiId:String(a.bangumiId),animeTitle:`${a.animeTitle}(${new Date(a.startDate).getFullYear()})\u3010${a.typeDescription}\u3011from custom`,type:a.type,typeDescription:a.typeDescription,imageUrl:a.imageUrl,startDate:a.startDate,episodeCount:c.length,rating:a.rating,isFavorited:!0,source:"custom"};s.push(u),et({...u,links:c}),B.animes.length>B.MAX_ANIMES&&st()}}catch(o){E("error",`[Custom Source] Error processing anime: ${o.message}`)}}));return this.sortAndPushAnimesByYear(s,n),i}async getEpisodeDanmu(t){let r=[];try{let n=await ue(`${B.customSourceApiUrl}/api/v2/comment/${t}`,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"},retries:1});return n.data&&n.data.comments&&(r=n.data.comments),r}catch(n){return E("error","fetchCustomSourceEpisodeDanmu error:",{message:n.message,name:n.name,stack:n.stack}),r}}async getEpisodeDanmuSegments(t){return E("info","\u83B7\u53D6Custom Source\u5F39\u5E55\u5206\u6BB5\u5217\u8868...",t),new Ve({type:"custom",segmentList:[{type:"custom",segment_start:0,segment_end:3e4,url:t}]})}async getEpisodeSegmentDanmu(t){return this.getEpisodeDanmu(t.url)}formatComments(t){return t.map(r=>({cid:r.cid,p:`${r.p.replace(/([A-Za-z]+)([0-9a-fA-F]{6})/,(n,s,i)=>{let a=parseInt(i.substring(0,2),16),o=parseInt(i.substring(2,4),16),c=parseInt(i.substring(4,6),16),u=a*256*256+o*256+c;return`${s}${u}`})}`,m:B.danmuSimplifiedTraditional==="simplified"?Xt(r.m):r.m}))}};pt();Ze();Dt();kn();Br();Zr();Gr();var PA=class extends Je{filterTencentSearchItem(t,r){if(!t.videoInfo||!t.doc)return null;let n=t.videoInfo,s=t.doc.id;if(!n.year||n.year===0||n.subTitle==="\u5168\u7F51\u641C"||n.playFlag===2)return null;let i=n.title.replace(/<em>/g,"").replace(/<\/em>/g,"");if(!i||!s)return null;let a=n.typeName;if(a.includes("\u77ED\u5267")||!["\u7535\u89C6\u5267","\u52A8\u6F2B","\u7535\u5F71","\u7EAA\u5F55\u7247","\u7EFC\u827A","\u7EFC\u827A\u8282\u76EE"].includes(a))return null;let c=(n.playSites||[]).concat(n.episodeSites||[]);if(c.length>0&&!c.some(l=>l.enName==="qq")||a==="\u7535\u5F71"&&["\u82B1\u7D6E","\u5F69\u86CB","\u5E55\u540E","\u72EC\u5BB6","\u89E3\u8BF4","\u7279\u8F91","\u63A2\u73ED","\u62CD\u6444","\u5236\u4F5C","\u5BFC\u6F14","\u8BB0\u5F55","\u56DE\u987E","\u76D8\u70B9","\u6DF7\u526A","\u89E3\u6790","\u62A2\u5148"].some(d=>i.includes(d)))return null;let u=a==="\u7535\u5F71"?1:n.subjectDoc?n.subjectDoc.videoNum:0;return{provider:"tencent",mediaId:s,title:i,type:a,year:n.year,imageUrl:n.imgUrl,episodeCount:u}}async search(t){try{E("info",`[Tencent] \u5F00\u59CB\u641C\u7D22: ${t}`);let r="https://pbaccess.video.qq.com/trpc.videosearch.mobile_search.MultiTerminalSearch/MbSearch?vplatform=2",n={version:"25071701",clientType:1,filterValue:"",uuid:"0379274D-05A0-4EB6-A89C-878C9A460426",query:t,retry:0,pagenum:0,isPrefetch:!0,pagesize:30,queryFrom:0,searchDatakey:"",transInfo:"",isneedQc:!0,preQid:"",adClientInfo:"",extraInfo:{multi_terminal_pc:"1",themeType:"1",sugRelatedIds:"{}",appVersion:""}},s={"Content-Type":"application/json",Origin:"https://v.qq.com","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Accept:"application/json, text/plain, */*","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8",Referer:`https://v.qq.com/x/search/?q=${encodeURIComponent(t)}&stag=&smartbox_ab=`,H38:"220496a1fb1498325e9be6d938",H42:"335a00a80ab9bbbef56793d8e7a97e87b9341dee34ebd83d61afc0cdb303214caaece3",Uk:"8e91af25d3af99d0f0640327e7307666",Cookie:"tvfe_boss_uuid=ee8f05103d59226f; pgv_pvid=3155633511; video_platform=2; ptag=v_qq_com; main_login=qq"},i=await sr(r,JSON.stringify(n),{headers:s});if(!i||!i.data)return E("info","[Tencent] \u641C\u7D22\u54CD\u5E94\u4E3A\u7A7A"),[];let a=typeof i.data=="string"?JSON.parse(i.data):i.data;if(a.ret!==0)return E("error",`[Tencent] API\u8FD4\u56DE\u9519\u8BEF: ${a.msg} (ret: ${a.ret})`),[];let o=[];if(a.data&&a.data.areaBoxList){for(let u of a.data.areaBoxList)if(u.boxId==="MainNeed"&&u.itemList){E("info",`[Tencent] \u4ECE MainNeed box \u627E\u5230 ${u.itemList.length} \u4E2A\u9879\u76EE`),o=u.itemList;break}}if(o.length===0&&a.data&&a.data.normalList&&a.data.normalList.itemList&&(E("info","[Tencent] MainNeed box \u672A\u627E\u5230\uFF0C\u4F7F\u7528 normalList"),o=a.data.normalList.itemList),o.length===0)return E("info","[Tencent] \u641C\u7D22\u65E0\u7ED3\u679C"),[];let c=[];for(let u of o){let l=this.filterTencentSearchItem(u,t);l&&c.push(l)}return E("info",`[Tencent] \u641C\u7D22\u627E\u5230 ${c.length} \u4E2A\u6709\u6548\u7ED3\u679C`),c}catch(r){return E("error","[Tencent] \u641C\u7D22\u51FA\u9519:",r.message),[]}}async getEpisodes(t){try{E("info",`[Tencent] \u83B7\u53D6\u5206\u96C6\u5217\u8868: cid=${t}`);let r="https://pbaccess.video.qq.com/trpc.universal_backend_service.page_server_rpc.PageServer/GetPageData?video_appid=3000010&vversion_name=8.2.96&vversion_platform=2",n={has_cache:1,page_params:{req_from:"web_vsite",page_id:"vsite_episode_list",page_type:"detail_operation",id_type:"1",page_size:"",cid:t,vid:"",lid:"",page_num:"",page_context:`cid=${t}&detail_page_type=1&req_from=web_vsite&req_from_second_type=&req_type=0`,detail_page_type:"1"}},s={"Content-Type":"application/json",Origin:"https://v.qq.com",Referer:`https://v.qq.com/x/cover/${t}.html`,"User-Agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/537.36 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1",Accept:"application/json","Accept-Language":"zh-CN,zh;q=0.9"},i=await sr(r,JSON.stringify(n),{headers:s});if(!i||!i.data)return E("info","[Tencent] \u5206\u96C6\u54CD\u5E94\u4E3A\u7A7A"),[];let a=typeof i.data=="string"?JSON.parse(i.data):i.data;if(a.ret!==0)return E("error",`[Tencent] \u5206\u96C6API\u8FD4\u56DE\u9519\u8BEF: ret=${a.ret}`),[];let o=[];if(a.data&&a.data.module_list_datas)for(let u of a.data.module_list_datas){for(let l of u.module_datas)if(l.module_params&&l.module_params.tabs)try{o=JSON.parse(l.module_params.tabs);break}catch(d){E("error","[Tencent] \u89E3\u6790tabs\u5931\u8D25:",d.message)}if(o.length>0)break}let c=[];if(o.length===0){if(E("info","[Tencent] \u672A\u627E\u5230\u5206\u9875\u4FE1\u606F,\u5C1D\u8BD5\u4ECE\u521D\u59CB\u54CD\u5E94\u4E2D\u63D0\u53D6\u5206\u96C6"),a.data&&a.data.module_list_datas){for(let u of a.data.module_list_datas)for(let l of u.module_datas)if(l.item_data_lists&&l.item_data_lists.item_datas)for(let d of l.item_data_lists.item_datas)d.item_params&&d.item_params.vid&&d.item_params.is_trailer!=="1"&&c.push({vid:d.item_params.vid,title:d.item_params.title,unionTitle:d.item_params.union_title||d.item_params.title})}if(c.length===0)return E("info","[Tencent] \u521D\u59CB\u54CD\u5E94\u4E2D\u4E5F\u672A\u627E\u5230\u5206\u96C6\u4FE1\u606F"),[];E("info",`[Tencent] \u4ECE\u521D\u59CB\u54CD\u5E94\u4E2D\u63D0\u53D6\u5230 ${c.length} \u96C6`)}else{E("info",`[Tencent] \u627E\u5230 ${o.length} \u4E2A\u5206\u9875`);for(let u of o){if(!u.page_context)continue;let l={has_cache:1,page_params:{req_from:"web_vsite",page_id:"vsite_episode_list",page_type:"detail_operation",id_type:"1",page_size:"",cid:t,vid:"",lid:"",page_num:"",page_context:u.page_context,detail_page_type:"1"}},d=await sr(r,JSON.stringify(l),{headers:s});if(!d||!d.data)continue;let f=typeof d.data=="string"?JSON.parse(d.data):d.data;if(!(f.ret!==0||!f.data)&&f.data.module_list_datas){for(let h of f.data.module_list_datas)for(let p of h.module_datas)if(p.item_data_lists&&p.item_data_lists.item_datas)for(let m of p.item_data_lists.item_datas)m.item_params&&m.item_params.vid&&m.item_params.is_trailer!=="1"&&c.push({vid:m.item_params.vid,title:m.item_params.title,unionTitle:m.item_params.union_title||m.item_params.title})}}}return E("info",`[Tencent] \u5171\u83B7\u53D6 ${c.length} \u96C6`),c}catch(r){return E("error","[Tencent] \u83B7\u53D6\u5206\u96C6\u51FA\u9519:",r.message),[]}}async handleAnimes(t,r,n){let s=[];if(!t||!Array.isArray(t))return E("error","[Tencent] sourceAnimes is not a valid array"),[];let i=await Promise.all(t.filter(a=>zt(a.title,r)).map(async a=>{try{let o=await this.getEpisodes(a.mediaId),c=[];for(let u=0;u<o.length;u++){let l=o[u],d=l.unionTitle||l.title||`\u7B2C${u+1}\u96C6`,f=`https://v.qq.com/x/cover/${a.mediaId}/${l.vid}.html`;c.push({name:(u+1).toString(),url:f,title:`\u3010qq\u3011 ${d}`})}if(c.length>0){let l={animeId:Tr(a.mediaId),bangumiId:a.mediaId,animeTitle:`${a.title}(${a.year})\u3010${a.type}\u3011from tencent`,type:a.type,typeDescription:a.type,imageUrl:a.imageUrl,startDate:Kt(a.year),episodeCount:c.length,rating:0,isFavorited:!0,source:"tencent"};s.push(l),et({...l,links:c}),B.animes.length>B.MAX_ANIMES&&st()}}catch(o){E("error",`[Tencent] Error processing anime: ${o.message}`)}}));return this.sortAndPushAnimesByYear(s,n),i}extractVid(t){let r=t;if(typeof t=="string"&&(t.startsWith("http")||t.includes("vid="))){let n=t.match(/[?&]vid=([^&]+)/);if(n)r=n[1];else{let s=t.split("/");r=s[s.length-1].split(".")[0]}}return r}async getEpisodeDanmu(t){E("info","\u5F00\u59CB\u4ECE\u672C\u5730\u8BF7\u6C42\u817E\u8BAF\u89C6\u9891\u5F39\u5E55...",t);let r=this.extractVid(t);E("info",`vid: ${r}`);let n;try{n=await ue(t,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}})}catch(l){return E("error","\u8BF7\u6C42\u9875\u9762\u5931\u8D25:",l),[]}let s=n.data.match(/<title[^>]*>(.*?)<\/title>/i),i=s?s[1].split("_")[0]:"\u672A\u77E5\u6807\u9898";E("info",`\u6807\u9898: ${i}`);let a=await this.getEpisodeDanmuSegments(t);if(!a||!a.segmentList||a.segmentList.length===0)return[];let o=a.segmentList;E("info",`\u5F39\u5E55\u5206\u6BB5\u6570\u91CF: ${o.length}`);let c=[];for(let l of o)c.push(ue(l.url,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"},retries:1}));let u=[];try{(await Promise.allSettled(c)).filter(f=>f.status==="fulfilled").map(f=>f.value&&f.value.data?f.value.data:null).filter(f=>f!==null).forEach(f=>{f=typeof f=="string"?JSON.parse(f):f,u.push(...f.barrage_list)})}catch(l){return E("error","\u89E3\u6790\u5F39\u5E55\u6570\u636E\u5931\u8D25:",l),[]}return $r(u),u}async getEpisodeDanmuSegments(t){E("info","\u83B7\u53D6\u817E\u8BAF\u89C6\u9891\u5F39\u5E55\u5206\u6BB5\u5217\u8868...",t);let r="https://dm.video.qq.com/barrage/base/",n="https://dm.video.qq.com/barrage/segment/",s=this.extractVid(t);E("info",`\u83B7\u53D6\u5F39\u5E55\u5206\u6BB5\u5217\u8868 - vid: ${s}`);let i;try{i=await ue(r+s,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}})}catch(u){return u.response?.status===404?new Ve({type:"qq",segmentList:[]}):(E("error","\u8BF7\u6C42\u5F39\u5E55\u57FA\u7840\u6570\u636E\u5931\u8D25:",u),new Ve({type:"qq",segmentList:[]}))}let a=typeof i.data=="string"?JSON.parse(i.data):i.data,o=[],c=Object.values(a.segment_index);for(let u of c)o.push({type:"qq",segment_start:(Number(u.segment_start)||0)/1e3,segment_end:(Number(u.segment_name.split("/").pop())||0)/1e3,url:`${n}${s}/${u.segment_name}`});return new Ve({type:"qq",segmentList:o})}async getEpisodeSegmentDanmu(t){try{let r=await ue(t.url,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"},retries:1}),n=[];if(r&&r.data){let s=typeof r.data=="string"?JSON.parse(r.data):r.data;n.push(...s.barrage_list)}return n}catch(r){return E("error","\u8BF7\u6C42\u5206\u7247\u5F39\u5E55\u5931\u8D25:",r),[]}}formatComments(t){return t.map(r=>{let n={timepoint:r.time_offset/1e3,ct:1,size:25,color:16777215,unixtime:Math.floor(Date.now()/1e3),uid:0,content:r.content};if(r.content_style&&r.content_style!=="")try{let s=JSON.parse(r.content_style);s.gradient_colors&&s.gradient_colors.length>0?n.color=parseInt(s.gradient_colors[0].replace("#",""),16):s.color&&s.color!=="ffffff"&&(n.color=parseInt(s.color.replace("#",""),16)),s.position===2?n.ct=5:s.position===3&&(n.ct=4)}catch{}return n.like=parseInt(r.up_count)||0,n})}};Ze();Dt();Zr();kn();Br();pt();Gr();var OA=class e extends Je{static XOR_KEY=0x75706971676c;static SECRET_KEY="howcuteitis";static KEY_NAME="secret_key";async search(t){try{E("info",`[iQiyi] \u5F00\u59CB\u641C\u7D22: ${t}`);let r={key:t,current_page:"1",mode:"1",source:"input",suggest:"",pcv:"13.074.22699",version:"13.074.22699",pageNum:"1",pageSize:"25",pu:"",u:"f6440fc5d919dca1aea12b6aff56e1c7",scale:"200",token:"",userVip:"0",conduit:"",vipType:"-1",os:"",osShortName:"win10",dataType:"",appMode:"",ad:JSON.stringify({lm:3,azd:0xe8d4a513b7,azt:733,position:"feed"}),adExt:JSON.stringify({r:"2.1.5-ares6-pure"})},s=`https://mesh.if.iqiyi.com/portal/lw/search/homePageV3?${bn(r)}`,i=await ue(s,{headers:{accept:"*/*",origin:"https://www.iqiyi.com",referer:"https://www.iqiyi.com/","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"}});if(!i||!i.data)return E("info","[iQiyi] \u641C\u7D22\u54CD\u5E94\u4E3A\u7A7A"),[];let a=typeof i.data=="string"?JSON.parse(i.data):i.data;if(!a.data||!a.data.templates)return E("info","[iQiyi] \u641C\u7D22\u65E0\u7ED3\u679C"),[];let o=[],c=a.data.templates;for(let u of c){let l=[];u.template===112&&u.intentAlbumInfos?(E("debug",`[iQiyi] \u627E\u5230\u610F\u56FE\u5361\u7247 (template 112)\uFF0C\u5904\u7406 ${u.intentAlbumInfos.length} \u4E2A\u7ED3\u679C`),l=u.intentAlbumInfos):[101,102,103].includes(u.template)&&u.albumInfo&&(E("debug",`[iQiyi] \u627E\u5230\u666E\u901A\u7ED3\u679C\u5361\u7247 (template ${u.template})`),l=[u.albumInfo]);for(let d of l){let f=this._filterIqiyiSearchItem(d,t);f&&o.push(f)}}return E("info",`[iQiyi] \u641C\u7D22\u627E\u5230 ${o.length} \u4E2A\u6709\u6548\u7ED3\u679C`),o}catch(r){return E("error","[iQiyi] \u641C\u7D22\u51FA\u9519:",r.message),[]}}_filterIqiyiSearchItem(t,r){if(!t.title)return null;if(t.btnText==="\u5916\u7AD9\u4ED8\u8D39\u64AD\u653E")return E("debug",`[iQiyi] \u8FC7\u6EE4\u6389\u5916\u7AD9\u4ED8\u8D39\u64AD\u653E\u5185\u5BB9: ${t.title}`),null;let n=t.channel||"",s="\u7535\u89C6\u5267";if(n.includes("\u7535\u5F71"))s="\u7535\u5F71";else if(n.includes("\u52A8\u6F2B"))s="\u52A8\u6F2B";else if(n.includes("\u7EFC\u827A"))s="\u7EFC\u827A";else if(n.includes("\u7EAA\u5F55\u7247"))s="\u7EAA\u5F55\u7247";else if(n.includes("\u7535\u89C6\u5267"))s="\u7535\u89C6\u5267";else return null;if(s==="\u7535\u5F71"){let d=t.qipuId||t.playQipuId;if(!d)return E("debug",`[iQiyi] \u7535\u5F71\u7F3A\u5C11 qipuId: ${t.title}`),null;let f=null;if(t.year){let p=t.year.value||t.year.name;p&&typeof p=="string"&&p.length===4&&/^\d{4}$/.test(p)&&(f=parseInt(p))}let h=t.title.replace(/<[^>]+>/g,"").replace(/:/g,"\uFF1A");return{provider:"iqiyi",mediaId:`movie_${d}`,title:h,type:s,year:f,imageUrl:t.img||t.imgH,episodeCount:1,_qipuId:d}}let i=t.pageUrl;if(!i)return E("debug",`[iQiyi] \u975E\u7535\u5F71\u5185\u5BB9\u7F3A\u5C11 pageUrl: ${t.title}`),null;let a=i.match(/v_(\w+?)\.html/);if(!a)return E("debug",`[iQiyi] \u65E0\u6CD5\u4ECE pageUrl \u63D0\u53D6 link_id: ${i}`),null;let o=a[1],c=null;if(t.year){let d=t.year.value||t.year.name;d&&typeof d=="string"&&d.length===4&&/^\d{4}$/.test(d)&&(c=parseInt(d))}let u=null;if(t.videos&&t.videos.length>0)u=t.videos.length;else if(t.subscriptContent){let d=t.subscriptContent.match(/(?:||)\s*(\d+)\s*(?:||)/);if(d)u=parseInt(d[1]);else{let f=t.subscriptContent.trim().match(/^(\d+)$/);f&&(u=parseInt(f[1]))}}let l=t.title.replace(/<[^>]+>/g,"").replace(/:/g,"\uFF1A");return{provider:"iqiyi",mediaId:o,title:l,type:s,year:c,imageUrl:t.img||t.imgH,episodeCount:u}}async getEpisodes(t){try{if(E("info",`[iQiyi] \u83B7\u53D6\u5206\u96C6\u5217\u8868: media_id=${t}`),t.startsWith("movie_")){let h=t.substring(6);E("info",`[iQiyi] \u7535\u5F71\u7C7B\u578B\uFF0C\u8C03\u7528 base_info API \u83B7\u53D6\u89C6\u9891ID: qipuId=${h}`);let p=await this._getMovieVideoId(h);return p?(E("info",`[iQiyi] \u7535\u5F71\u89C6\u9891ID: ${p}`),[{id:p,title:"\u6B63\u7247",order:1,link:`https://www.iqiyi.com/v_${p}.html`}]):(E("error",`[iQiyi] \u65E0\u6CD5\u83B7\u53D6\u7535\u5F71\u7684\u89C6\u9891ID: qipuId=${h}`),[])}let r=/^\d+$/.test(t)?t:this._videoIdToEntityId(t);if(!r)return E("error",`[iQiyi] \u65E0\u6CD5\u5C06 media_id '${t}' \u8F6C\u6362\u4E3A entity_id`),[];let n={entity_id:r,device_id:"qd5fwuaj4hunxxdgzwkcqmefeb3ww5hx",auth_cookie:"",user_id:"0",vip_type:"-1",vip_status:"0",conduit_id:"",pcv:"13.082.22866",app_version:"13.082.22866",ext:"",app_mode:"standard",scale:"100",timestamp:String(Date.now()),src:"pca_tvg",os:"",ad_ext:'{"r":"2.2.0-ares6-pure"}'};n.sign=this._createSign(n);let i=`https://www.iqiyi.com/prelw/tvg/v2/lw/base_info?${bn(n)}`,a=await ue(i,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Referer:"https://www.iqiyi.com/"}});if(!a||!a.data)return E("error","[iQiyi] \u83B7\u53D6\u5206\u96C6\u54CD\u5E94\u4E3A\u7A7A"),[];let o=typeof a.data=="string"?JSON.parse(a.data):a.data;if(o.status_code!==0||!o.data||!o.data.template)return E("error",`[iQiyi] API \u8FD4\u56DE\u9519\u8BEF\uFF0Cstatus_code: ${o.status_code}`),[];let c=[],u=o.data.template.tabs||[];if(u.length===0)return E("info","[iQiyi] \u672A\u627E\u5230\u5206\u96C6\u6807\u7B7E\u9875"),[];let l=u[0].blocks||[],d=!1;for(let h of l)if(h.bk_type==="video_list"&&h.data?.data){if(E("debug",`[iQiyi] \u627E\u5230 video_list \u7C7B\u578B\u7684\u5206\u96C6\u6570\u636E\u5757, bk_id: ${h.bk_id}`),!h.tag||!h.tag.includes("episodes")){E("debug",`[iQiyi] \u8DF3\u8FC7\u975E\u5206\u96C6\u5757: ${h.bk_id}`);continue}d=!0;let p=h.data.data;if(!Array.isArray(p)){E("warn","[iQiyi] data.data \u4E0D\u662F\u6570\u7EC4\uFF0C\u8DF3\u8FC7\u6B64\u5757");continue}for(let m of p)if(!(!m.videos||!Array.isArray(m.videos))){for(let A of m.videos)if(!(!A.data||!Array.isArray(A.data)))for(let g of A.data){if(g.content_type!==1)continue;let y=(g.play_url||"").match(/tvid=(\d+)/);if(!y)continue;let b=y[1],_=g.short_display_name||g.title||"\u672A\u77E5\u5206\u96C6",C=g.subtitle;C&&!_.includes(C)&&(_=`${_} ${C}`);let w=g.album_order,S=g.page_url;b&&_&&S&&c.push({id:b,title:_,order:w!==void 0?w:c.length,link:S})}}}else if(h.bk_type==="album_episodes"&&h.data?.data){E("debug","[iQiyi] \u627E\u5230 album_episodes \u7C7B\u578B\u7684\u5206\u96C6\u6570\u636E\u5757"),d=!0;let p=h.data.data;for(let m of p){let A=m.videos;if(typeof A=="string"){E("info",`[iQiyi] \u53D1\u73B0\u5206\u5B63URL\uFF0C\u6B63\u5728\u83B7\u53D6: ${A}`);try{let g=await ue(A);A=typeof g.data=="string"?JSON.parse(g.data):g.data}catch(g){E("error",`[iQiyi] \u83B7\u53D6\u5206\u5B63\u6570\u636E\u5931\u8D25: ${g.message}`);continue}}if(A&&typeof A=="object"&&A.feature_paged)for(let g in A.feature_paged){let x=A.feature_paged[g];for(let y of x){if(y.content_type!==1)continue;let _=(y.play_url||"").match(/tvid=(\d+)/);if(!_)continue;let C=_[1],w=y.short_display_name||y.title||"\u672A\u77E5\u5206\u96C6",S=y.subtitle;S&&!w.includes(S)&&(w=`${w} ${S}`);let T=y.album_order,R=y.page_url;C&&w&&T&&R&&c.push({id:C,title:w,order:T,link:R})}}}}if(!d)return E("info","[iQiyi] \u672A\u627E\u5230\u5206\u96C6\u6570\u636E\u5757"),[];let f=Array.from(new Map(c.map(h=>[h.id,h])).values());return f.sort((h,p)=>h.order-p.order),E("info",`[iQiyi] \u6210\u529F\u83B7\u53D6 ${f.length} \u4E2A\u5206\u96C6`),f}catch(r){return E("error","[iQiyi] \u83B7\u53D6\u5206\u96C6\u51FA\u9519:",r.message),[]}}async _getMovieVideoId(t){try{let r={entity_id:t,device_id:"qd5fwuaj4hunxxdgzwkcqmefeb3ww5hx",auth_cookie:"",user_id:"0",vip_type:"-1",vip_status:"0",conduit_id:"",pcv:"13.103.23529",app_version:"13.103.23529",ext:"",app_mode:"standard",scale:"125",timestamp:String(Date.now()),src:"pca_tvg",os:"",ad_ext:'{"r":"2.5.0-ares6-pure"}'};r.sign=this._createSign(r);let s=`https://mesh.if.iqiyi.com/tvg/v2/lw/base_info?${bn(r)}`;E("debug",`[iQiyi] \u8BF7\u6C42\u7535\u5F71\u8BE6\u60C5: ${s}`);let i=await ue(s,{headers:{accept:"*/*",origin:"https://www.iqiyi.com",referer:"https://www.iqiyi.com/","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"}});if(!i||!i.data)return E("error","[iQiyi] base_info API \u54CD\u5E94\u4E3A\u7A7A"),null;let a=typeof i.data=="string"?JSON.parse(i.data):i.data;if(a.data&&a.data.base_data){let o=a.data.base_data;if(o.share_url){let c=o.share_url.match(/v_(\w+)\.html/);if(c){let u=c[1];return E("info",`[iQiyi] \u4ECE share_url \u63D0\u53D6\u89C6\u9891ID: ${u}`),u}}if(o.page_url){let c=o.page_url.match(/v_(\w+)\.html/);if(c){let u=c[1];return E("info",`[iQiyi] \u4ECE page_url \u63D0\u53D6\u89C6\u9891ID: ${u}`),u}}}return E("error","[iQiyi] base_info API \u54CD\u5E94\u4E2D\u672A\u627E\u5230\u89C6\u9891ID"),E("debug",`[iQiyi] \u54CD\u5E94\u6570\u636E\u7ED3\u6784: ${JSON.stringify(a).substring(0,1e3)}...`),null}catch(r){return E("error",`[iQiyi] \u83B7\u53D6\u7535\u5F71\u89C6\u9891ID\u65F6\u51FA\u9519: ${r.message}`),null}}_videoIdToEntityId(t){try{let r=parseInt(t,36),n=this._xorOperation(r),s=n<9e5?100*(n+9e5):n;return String(s)}catch(r){return E("error",`[iQiyi] \u5C06 video_id '${t}' \u8F6C\u6362\u4E3A entity_id \u65F6\u51FA\u9519: ${r.message}`),null}}_xorOperation(t){let r=t.toString(2),n=e.XOR_KEY.toString(2),s=r.split("").reverse(),i=n.split("").reverse(),a=[],o=Math.max(s.length,i.length);for(let u=0;u<o;u++){let l=u<s.length?s[u]:"0",d=u<i.length?i[u]:"0";l==="1"&&d==="1"?a.push("0"):l==="1"||d==="1"?a.push("1"):a.push("0")}let c=a.reverse().join("");return c?parseInt(c,2):0}_createSign(t){let r={};for(let o in t)o!=="sign"&&(r[o]=t[o]);let n=Object.keys(r).sort(),s=[];for(let o of n){let c=r[o]===null||r[o]===void 0?"":r[o];s.push(`${o}=${c}`)}let a=`${s.join("&")}&${e.KEY_NAME}=${e.SECRET_KEY}`;return As(a).toUpperCase()}async handleAnimes(t,r,n){let s=[];if(!t||!Array.isArray(t))return E("error","[iQiyi] sourceAnimes is not a valid array"),[];let i=await Promise.all(t.filter(a=>zt(a.title,r)).map(async a=>{try{let o=await this.getEpisodes(a.mediaId),c=[];for(let u of o){let l=u.link||`https://www.iqiyi.com/v_${a.mediaId}.html`;c.push({name:u.order.toString(),url:l,title:`\u3010qiyi\u3011 ${u.title}`})}if(c.length>0){let l={animeId:Tr(a.mediaId),bangumiId:a.mediaId,animeTitle:`${a.title}(${a.year||"N/A"})\u3010${a.type}\u3011from iqiyi`,type:a.type,typeDescription:a.type,imageUrl:a.imageUrl,startDate:Kt(a.year),episodeCount:c.length,rating:0,isFavorited:!0,source:"iqiyi"};s.push(l),et({...l,links:c}),B.animes.length>B.MAX_ANIMES&&st()}}catch(o){E("error",`[iQiyi] Error processing anime: ${o.message}`)}}));return this.sortAndPushAnimesByYear(s,n),i}async getEpisodeDanmu(t){E("info","\u5F00\u59CB\u4ECE\u672C\u5730\u8BF7\u6C42\u7231\u5947\u827A\u5F39\u5E55...",t);let r;try{r=await ue(t,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}})}catch(u){return E("error","\u8BF7\u6C42\u9875\u9762\u5931\u8D25:",u),[]}let n=r.data.match(/<title[^>]*>(.*?)<\/title>/i),s=n?n[1].split("_")[0]:"\u672A\u77E5\u6807\u9898";E("info",`\u6807\u9898: ${s}`);let i=await this.getEpisodeDanmuSegments(t);if(!i||!i.segmentList||i.segmentList.length===0)return[];let a=i.segmentList;E("info",`\u5F39\u5E55\u5206\u6BB5\u6570\u91CF: ${a.length}`);let o=[];for(let u of a)o.push(this.getEpisodeSegmentDanmu(u));let c=[];try{(await Promise.allSettled(o)).filter(d=>d.status==="fulfilled").map(d=>d.value).filter(d=>d!==null).forEach(d=>{c.push(...d)})}catch(u){return E("error","\u89E3\u6790\u5F39\u5E55\u6570\u636E\u5931\u8D25:",u),[]}return $r(c),c}async getEpisodeDanmuSegments(t){E("info","\u83B7\u53D6\u7231\u5947\u827A\u89C6\u9891\u5F39\u5E55\u5206\u6BB5\u5217\u8868...",t);let r="https://pcw-api.iq.com/api/decode/",n="https://pcw-api.iqiyi.com/video/video/baseinfo/",s;try{let l=t.match(/v_(\w+)/);if(!l)return E("error","\u65E0\u6CD5\u4ECE URL \u4E2D\u63D0\u53D6 tvid"),new Ve({type:"qiyi",segmentList:[]});s=l[1],E("info",`tvid: ${s}`);let d=`${r}${s}?platformId=3&modeCode=intl&langCode=sg`,f=await ue(d,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}});s=(typeof f.data=="string"?JSON.parse(f.data):f.data).data.toString(),E("info",`\u89E3\u7801\u540E tvid: ${s}`)}catch(l){return E("error","\u8BF7\u6C42\u89E3\u7801\u4FE1\u606F\u5931\u8D25:",l),new Ve({type:"qiyi",segmentList:[]})}let i,a,o;try{let l=`${n}${s}`,d=await ue(l,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}}),h=(typeof d.data=="string"?JSON.parse(d.data):d.data).data;i=h.durationSec,a=h.albumId,o=h.channelId||h.categoryId,E("info",`\u65F6\u957F: ${i}`)}catch(l){return E("error","\u8BF7\u6C42\u89C6\u9891\u57FA\u7840\u4FE1\u606F\u5931\u8D25:",l),new Ve({type:"qiyi",segmentList:[]})}let c=Math.ceil(i/(60*5));E("info",`\u5F39\u5E55\u5206\u6BB5\u6570\u91CF: ${c}`);let u=[];for(let l=0;l<c;l++){let f=bn({rn:"0.0123456789123456",business:"danmu",is_iqiyi:"true",is_video_page:"true",tvid:s,albumid:a,categoryid:o,qypid:"010102101000000000"}),h=`https://cmts.iqiyi.com/bullet/${s.slice(-4,-2)}/${s.slice(-2)}/${s}_300_${l+1}.z?${f.toString()}`;u.push({type:"qiyi",segment_start:l*5*60,segment_end:Math.min((l+1)*5*60,i),url:h})}return new Ve({type:"qiyi",segmentList:u})}async getEpisodeSegmentDanmu(t){try{let n=function(i,a){let o=new RegExp(`<${a}>(.*?)</${a}>`,"g");return i.match(o)?.map(u=>u.substring(a.length+2,u.length-a.length-3))||[]},r=await ue(t.url,{headers:{"Accpet-Encoding":"gzip","Content-Type":"application/xml","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"},zlibMode:!0,retries:1}),s=[];if(r&&r.data){let i=r.data,a=n(i,"content"),o=n(i,"showTime"),c=n(i,"color"),u=n(i,"likeCount");s.push(...a.map((l,d)=>({content:l,showTime:o[d],color:c[d],like:parseInt(u[d])||0})))}return s}catch(r){return E("error","\u8BF7\u6C42\u5206\u7247\u5F39\u5E55\u5931\u8D25:",r),[]}}formatComments(t){return t.map(r=>{let n={timepoint:0,ct:1,size:25,color:16777215,unixtime:Math.floor(Date.now()/1e3),uid:0,content:""};return n.timepoint=parseFloat(r.showTime),n.color=parseInt(r.color,16),n.content=Xde(r.content),n.size=25,n.like=r.like,n})}};pt();Ze();Dt();Zr();kn();Br();Gr();var $A=class extends Je{transformV2Color(t){if(!t)return-1;let n=VO(t.color_left),s=VO(t.color_right);return n===-1&&s===-1?-1:n===-1?s:s===-1?n:Math.floor((n+s)/2)}_extractMediaType(t){let r=(t||"").toLowerCase();return r.includes("\u7535\u5F71")||r.includes("movie")?"\u7535\u5F71":r.includes("\u52A8\u6F2B")||r.includes("\u52A8\u753B")||r.includes("anime")?"\u52A8\u6F2B":r.includes("\u7EFC\u827A")||r.includes("\u771F\u4EBA\u79C0")||r.includes("variety")?"\u7EFC\u827A":r.includes("\u7EAA\u5F55\u7247")||r.includes("documentary")?"\u7EAA\u5F55\u7247":(r.includes("\u7535\u89C6\u5267")||r.includes("\u5267\u96C6")||r.includes("drama")||r.includes("tv"),"\u7535\u89C6\u5267")}async search(t){try{E("info",`[Mango] \u5F00\u59CB\u641C\u7D22: ${t}`);let n=`https://mobileso.bz.mgtv.com/msite/search/v2?q=${encodeURIComponent(t)}&pc=30&pn=1&sort=-99&ty=0&du=0&pt=0&corr=1&abroad=0&_support=10000000000000000`,s=await ue(n,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Accept:"application/json",Referer:"https://www.mgtv.com/"}});if(!s||!s.data)return E("info","[Mango] \u641C\u7D22\u54CD\u5E94\u4E3A\u7A7A"),[];let i=typeof s.data=="string"?JSON.parse(s.data):s.data;if(!i.data||!i.data.contents)return E("info","[Mango] \u641C\u7D22\u65E0\u7ED3\u679C"),[];let a=[];for(let o of i.data.contents)if(o.type==="media")for(let c of o.data){if(c.source!=="imgo")continue;let u=c.url?c.url.match(/\/b\/(\d+)/):null;if(!u)continue;let l=u[1],d=c.title?c.title.replace(/<[^>]+>/g,"").replace(/:/g,"\uFF1A"):"",f=c.desc&&c.desc[0]?c.desc[0].match(/[12][890][0-9][0-9]/):null,h=f?parseInt(f[0]):null,p=c.desc&&c.desc[0]?c.desc[0].split("/")[0].replace("\u7C7B\u578B:","").trim():"",m=this._extractMediaType(p);a.push({provider:"imgo",mediaId:l,title:d,type:m,year:h,imageUrl:c.img||null,episodeCount:c.videoCount||null})}return E("info",`[Mango] \u641C\u7D22\u627E\u5230 ${a.length} \u4E2A\u6709\u6548\u7ED3\u679C`),a}catch(r){return E("error","[Mango] \u641C\u7D22\u51FA\u9519:",r.message),[]}}async getEpisodes(t){try{E("info",`[Mango] \u83B7\u53D6\u5206\u96C6\u5217\u8868: collection_id=${t}`);let r=[],n="",s=0,i=1;for(;s<i;){let u=`https://pcweb.api.mgtv.com/variety/showlist?allowedRC=1&collection_id=${t}&month=${n}&page=1&_support=10000000`,l=await ue(u,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Referer:"https://www.mgtv.com/"}});if(!l||!l.data){E("info","[Mango] \u672A\u627E\u5230\u5206\u96C6\u4FE1\u606F");break}let d=typeof l.data=="string"?JSON.parse(l.data):l.data;if(!d.data||!d.data.list){E("info","[Mango] \u5206\u96C6\u5217\u8868\u4E3A\u7A7A");break}d.data.list&&d.data.list.length>0&&r.push(...d.data.list.filter(f=>f.src_clip_id===t)),s===0&&(i=d.data.tab_m&&d.data.tab_m.length>0?d.data.tab_m.length:1,E("info",`[Mango] \u68C0\u6D4B\u5230 ${i} \u4E2A\u6708\u4EFD\u5206\u9875`)),s++,s<i&&d.data.tab_m&&d.data.tab_m[s]&&(n=d.data.tab_m[s].m)}let a=/^(.*?)((|)|()?||||(||)?|||()?|||||||(|)||||||reaction||(vlog)?|()?|.{3,}|)(.*?)$/i,o=r.filter(u=>{let l=`${u.t2||""} ${u.t1||""}`.trim();return u.isnew==="2"?(E("debug",`[Mango] \u8FC7\u6EE4\u9884\u544A\u7247: ${l}`),!1):a.test(l)?(E("debug",`[Mango] \u9ED1\u540D\u5355\u8FC7\u6EE4: ${l}`),!1):!0}),c=this._processVarietyEpisodes(o);return E("info",`[Mango] \u5171\u83B7\u53D6 ${c.length} \u96C6`),c}catch(r){return E("error","[Mango] \u83B7\u53D6\u5206\u96C6\u51FA\u9519:",r.message),[]}}async _getMovieEpisode(t){try{E("info",`[Mango] \u83B7\u53D6\u7535\u5F71\u6B63\u7247: collection_id=${t}`);let r=`https://pcweb.api.mgtv.com/variety/showlist?allowedRC=1&collection_id=${t}&month=&page=1&_support=10000000`,n=await ue(r,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Referer:"https://www.mgtv.com/"}});if(!n||!n.data)return E("info","[Mango] \u672A\u627E\u5230\u7535\u5F71\u4FE1\u606F"),null;let s=typeof n.data=="string"?JSON.parse(n.data):n.data;if(!s.data||!s.data.list||s.data.list.length===0)return E("info","[Mango] \u7535\u5F71\u5217\u8868\u4E3A\u7A7A"),null;let i=s.data.list.find(a=>a.isIntact==="1");return i||(i=s.data.list.find(a=>a.isnew!=="2")),i||(i=s.data.list[0]),E("info",`[Mango] \u627E\u5230\u7535\u5F71\u6B63\u7247: ${i.t3||i.t1||"\u6B63\u7247"}`),i}catch(r){return E("error","[Mango] \u83B7\u53D6\u7535\u5F71\u6B63\u7247\u51FA\u9519:",r.message),null}}_processVarietyEpisodes(t){if(!t||t.length===0)return[];E("debug",`[Mango] \u7EFC\u827A\u5904\u7406\u5F00\u59CB\uFF0C\u539F\u59CB\u5206\u96C6\u6570: ${t.length}`);let r=t.some(i=>{let a=`${i.t2||""} ${i.t1||""}`.trim();return/\d+/.test(a)});E("debug",`[Mango] \u7EFC\u827A\u683C\u5F0F\u5206\u6790: \u6709\u671F\u6570\u683C\u5F0F=${r}`);let n=[],s=new Map;for(let i of t){let a=`${i.t2||""} ${i.t1||""}`.trim();if(r){let o=a.match(/(\d+)([])/),c=a.match(/(\d+)/),u=/\d+[]/.test(a);if(o){let l=o[1],d=o[2],f=`\u7B2C${l}\u671F${d}`,h=a.substring(a.indexOf(f)+f.length);/^(|||||Plus|\+|||||||||)/.test(h)?E("debug",`[Mango] \u7EFC\u827A\u8FC7\u6EE4\u4E0A\u4E2D\u4E0B\u683C\u5F0F+\u540E\u7F00: ${a}`):(s.set(i,[parseInt(l),d]),n.push(i),E("debug",`[Mango] \u7EFC\u827A\u4FDD\u7559\u4E0A\u4E2D\u4E0B\u683C\u5F0F: ${a}`))}else if(c&&!u&&!/|||||Plus|\+||||||||||||||||||NG|||||||||||||OST||/.test(a)){let l=c[1];s.set(i,[parseInt(l),""]),n.push(i),E("debug",`[Mango] \u7EFC\u827A\u4FDD\u7559\u6807\u51C6\u671F\u6570: ${a}`)}else E("debug",`[Mango] \u7EFC\u827A\u8FC7\u6EE4\u975E\u6807\u51C6\u671F\u6570\u683C\u5F0F: ${a}`)}else{if(a.includes("\u5E7F\u544A")||a.includes("\u63A8\u5E7F")){E("debug",`[Mango] \u8DF3\u8FC7\u5E7F\u544A\u5185\u5BB9: ${a}`);continue}n.push(i),E("debug",`[Mango] \u7EFC\u827A\u4FDD\u7559\u539F\u59CB\u6807\u9898: ${a}`)}}return r?n.sort((i,a)=>{let o=s.get(i)||[0,""],c=s.get(a)||[0,""];if(o[0]!==c[0])return o[0]-c[0];let u={"":0,\u4E0A:1,\u4E2D:2,\u4E0B:3};return(u[o[1]]||0)-(u[c[1]]||0)}):n.sort((i,a)=>{let o=l=>{let f=`${l.t2||""} ${l.t1||""}`.trim().match(/(\d+)/);return f?parseInt(f[1]):999999},c=o(i),u=o(a);if(c===999999&&u===999999){let l=i.ts||"0",d=a.ts||"0";return l.localeCompare(d)}return c-u}),E("debug",`[Mango] \u7EFC\u827A\u5904\u7406\u5B8C\u6210\uFF0C\u8FC7\u6EE4\u540E\u5206\u96C6\u6570: ${n.length}`),n}async handleAnimes(t,r,n){let s=[];if(!t||!Array.isArray(t))return E("error","[Mango] sourceAnimes is not a valid array"),[];let i=await Promise.all(t.filter(a=>zt(a.title,r)).map(async a=>{try{if(a.type==="\u7535\u5F71"){let u=await this._getMovieEpisode(a.mediaId);if(!u)return;let l=`https://www.mgtv.com/b/${a.mediaId}/${u.video_id}.html`,d=u.t3||u.t1||"\u6B63\u7247",f=[{name:"1",url:l,title:`\u3010imgo\u3011 ${d}`}],p={animeId:Tr(a.mediaId),bangumiId:a.mediaId,animeTitle:`${a.title}(${a.year||"N/A"})\u3010${a.type}\u3011from imgo`,type:a.type,typeDescription:a.type,imageUrl:a.imageUrl,startDate:Kt(a.year),episodeCount:1,rating:0,isFavorited:!0,source:"imgo"};s.push(p),et({...p,links:f}),B.animes.length>B.MAX_ANIMES&&st();return}let o=await this.getEpisodes(a.mediaId),c=[];for(let u=0;u<o.length;u++){let l=o[u],d=`https://www.mgtv.com/b/${a.mediaId}/${l.video_id}.html`,f=`${l.t2||""} ${l.t1||""}`.trim();c.push({name:String(u+1),url:d,title:`\u3010imgo\u3011 ${f}`})}if(c.length>0){let l={animeId:Tr(a.mediaId),bangumiId:a.mediaId,animeTitle:`${a.title}(${a.year||"N/A"})\u3010${a.type}\u3011from imgo`,type:a.type,typeDescription:a.type,imageUrl:a.imageUrl,startDate:Kt(a.year),episodeCount:c.length,rating:0,isFavorited:!0,source:"imgo"};s.push(l),et({...l,links:c}),B.animes.length>B.MAX_ANIMES&&st()}}catch(o){E("error",`[Mango] Error processing anime: ${o.message}`)}}));return this.sortAndPushAnimesByYear(s,n),i}async getEpisodeDanmu(t){E("info","\u5F00\u59CB\u4ECE\u672C\u5730\u8BF7\u6C42\u8292\u679CTV\u5F39\u5E55...",t);let r=await this.getEpisodeDanmuSegments(t);if(!r||!r.segmentList||r.segmentList.length===0)return[];let n=r.segmentList;E("info",`\u5F39\u5E55\u5206\u6BB5\u6570\u91CF: ${n.length}`);let s=[];for(let a of n)s.push(ue(a.url,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"},retries:1}));let i=[];try{(await Promise.allSettled(s)).filter(c=>c.status==="fulfilled").map(c=>c.value&&c.value.data?c.value.data:null).filter(c=>c!==null).forEach(c=>{c=typeof c=="string"?JSON.parse(c):c,c.data?.items&&i.push(...c.data.items)})}catch(a){return E("error","\u89E3\u6790\u5F39\u5E55\u6570\u636E\u5931\u8D25:",a),[]}return $r(i),i}async getEpisodeDanmuSegments(t){E("info","\u83B7\u53D6\u8292\u679CTV\u5F39\u5E55\u5206\u6BB5\u5217\u8868...",t);let r="https://pcweb.api.mgtv.com/video/info",n="https://galaxy.bz.mgtv.com/getctlbarrage",s="https://galaxy.bz.mgtv.com/rdbarrage",i=/^(https?:\/\/[^\/]+)(\/[^?#]*)/,a=t.match(i),o;if(a)o=a[2].split("/").filter(Boolean);else return E("error","Invalid URL"),new Ve({type:"imgo",segmentList:[]});let c=o[o.length-2],u=o[o.length-1].split(".")[0];E("info",`\u83B7\u53D6\u5F39\u5E55\u5206\u6BB5\u5217\u8868 - cid: ${c}, vid: ${u}`);let l;try{let p=`${r}?cid=${c}&vid=${u}`;l=await ue(p,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}})}catch(p){return p.response?.status===404?new Ve({type:"imgo",segmentList:[]}):(E("error","\u8BF7\u6C42\u89C6\u9891\u4FE1\u606F\u5931\u8D25:",p),new Ve({type:"imgo",segmentList:[]}))}let f=(typeof l.data=="string"?JSON.parse(l.data):l.data).data.info.time,h=!0;try{let p=`${n}?version=8.1.39&abroad=0&uuid=&os=10.15.7&platform=0&mac=&vid=${u}&pid=&cid=${c}&ticket=`,m=await ue(p,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}}),A=typeof m.data=="string"?JSON.parse(m.data):m.data;(!A.data||!A.data.cdn_list||!A.data.cdn_version)&&(E("warn","\u65B0API\u7F3A\u5C11\u5FC5\u8981\u5B57\u6BB5\uFF0C\u8FD4\u56DE\u7A7A\u5206\u6BB5\u5217\u8868"),h=!1);let g=[];if(h){let x=Math.ceil(fd(f)/60),y=A.data.cdn_list.split(",")[0],b=A.data.cdn_version;for(let _=0;_<x;_++)g.push({type:"imgo",segment_start:_*60,segment_end:Math.min((_+1)*60,fd(f)),url:`https://${y}/${b}/${_}.json`})}else{let y=fd(f);for(let b=0;b<y;b+=60)g.push({type:"imgo",segment_start:b,segment_end:Math.min(b+60,fd(f)),url:`${s}?vid=${u}&cid=${c}&time=${b*1e3}`})}return new Ve({type:"imgo",segmentList:g})}catch(p){return E("error","\u8BF7\u6C42\u5F39\u5E55\u5206\u6BB5\u6570\u636E\u5931\u8D25:",p),new Ve({type:"imgo",segmentList:[]})}}async getEpisodeSegmentDanmu(t){try{let r=await ue(t.url,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"},retries:1}),n=[];if(r&&r.data){let s=typeof r.data=="string"?JSON.parse(r.data):r.data;s.data?.items&&n.push(...s.data.items)}return n}catch(r){return E("error","\u8BF7\u6C42\u5206\u7247\u5F39\u5E55\u5931\u8D25:",r),[]}}formatComments(t){return t.map(r=>{let n={timepoint:0,ct:1,size:25,color:16777215,unixtime:Math.floor(Date.now()/1e3),uid:0,content:""};return r?.v2_color&&(n.color=this.transformV2Color(r?.v2_color)),r?.v2_position&&(r?.v2_position===1?n.ct=5:r?.v2_position===2&&(n.ct=4)),n.timepoint=r.time/1e3,n.content=r.content,n.uid=r.uid,n.like=r.v2_up_count,n})}};pt();Ze();Dt();kn();Br();Zr();Gr();var LA=class e extends Je{static WBI_MIXIN_KEY_CACHE={key:null,timestamp:0};static WBI_MIXIN_KEY_CACHE_TTL=3600;static WBI_MIXIN_KEY_TABLE=[46,47,18,2,53,8,23,32,15,50,10,31,58,3,45,35,27,43,5,49,33,9,42,19,29,28,14,39,12,38,41,13,37,48,7,16,24,55,40,61,26,17,0,1,60,51,30,4,22,25,54,21,56,59,6,63,57,62,11,36,20,34,44,52];static APP_KEY="1d8b6e7d45233436";static APP_SEC="560c52ccd288fed045859ed18bffd973";async resolveB23Link(t){try{E("info",`\u6B63\u5728\u89E3\u6790 b23.tv \u77ED\u94FE\u63A5: ${t}`);let r=parseInt(B.vodRequestTimeout),n=new AbortController,s=setTimeout(()=>n.abort(),r),i=await ue(t,{headers:{"User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"},signal:n.signal,redirect:"follow"});clearTimeout(s);let a=i.url;return a&&a!==t?(E("info",`b23.tv \u77ED\u94FE\u63A5\u5DF2\u89E3\u6790\u4E3A: ${a}`),a):(E("error","\u65E0\u6CD5\u89E3\u6790 b23.tv \u77ED\u94FE\u63A5"),t)}catch(r){return E("error","\u89E3\u6790 b23.tv \u77ED\u94FE\u63A5\u5931\u8D25:",r),t}}async _getWbiMixinKey(){let t=Math.floor(Date.now()/1e3),r=e.WBI_MIXIN_KEY_CACHE;if(r.key&&t-r.timestamp<e.WBI_MIXIN_KEY_CACHE_TTL)return r.key;E("info","[Bilibili] WBI mixin key \u5DF2\u8FC7\u671F\u6216\u4E0D\u5B58\u5728\uFF0C\u6B63\u5728\u83B7\u53D6\u65B0\u7684...");try{let n=await ue("https://api.bilibili.com/x/web-interface/nav",{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Referer:"https://www.bilibili.com/",Cookie:B.bilibliCookie||""}}),s=typeof n.data=="string"?JSON.parse(n.data):n.data;if(s.code!==0)return E("error","[Bilibili] \u83B7\u53D6 WBI \u5BC6\u94A5\u5931\u8D25:",s.message),"dba4a5925b345b4598b7452c75070bca";let i=s.data?.wbi_img||{},a=i.img_url||"",o=i.sub_url||"",c=a.split("/").pop()?.split(".")[0]||"",u=o.split("/").pop()?.split(".")[0]||"",l=e.WBI_MIXIN_KEY_TABLE.map(d=>(c+u)[d]).join("").substring(0,32);return r.key=l,r.timestamp=t,E("info","[Bilibili] \u6210\u529F\u83B7\u53D6\u65B0\u7684 WBI mixin key"),l}catch(n){return E("error","[Bilibili] \u83B7\u53D6 WBI \u5BC6\u94A5\u5931\u8D25:",n.message),"dba4a5925b345b4598b7452c75070bca"}}_getWbiSignedParams(t,r){let n={...t};n.wts=Math.floor(Date.now()/1e3);let o=Object.keys(n).sort().map(u=>{let l=n[u]??"";return`${encodeURIComponent(u)}=${encodeURIComponent(l)}`}).join("&")+r,c=As(o);return n.w_rid=c,n}async _searchByType(t,r,n){try{E("info",`[Bilibili] \u641C\u7D22\u7C7B\u578B '${r}'\uFF0C\u5173\u952E\u8BCD '${t}'`);let s={keyword:t,search_type:r},i=this._getWbiSignedParams(s,n),o=`https://api.bilibili.com/x/web-interface/wbi/search/type?${Object.keys(i).map(d=>`${encodeURIComponent(d)}=${encodeURIComponent(i[d])}`).join("&")}`,c=await ue(o,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Referer:"https://www.bilibili.com/",Cookie:B.bilibliCookie||""}}),u=typeof c.data=="string"?JSON.parse(c.data):c.data;if(u.code!==0||!u.data?.result)return E("info",`[Bilibili] \u7C7B\u578B '${r}' \u65E0\u7ED3\u679C (Code: ${u.code})`),[];let l=[];for(let d of u.data.result){let f=d.season_id?`ss${d.season_id}`:d.bvid?`bv${d.bvid}`:"";if(!f)continue;let h=this._extractMediaType(d.season_type_name),p=h==="\u7535\u5F71"?1:d.ep_size||0,m=null;try{d.pubdate?typeof d.pubdate=="number"?m=new Date(d.pubdate*1e3).getFullYear():typeof d.pubdate=="string"&&d.pubdate.length>=4&&(m=parseInt(d.pubdate.substring(0,4))):d.pubtime&&(m=new Date(d.pubtime*1e3).getFullYear())}catch{}let A=(d.title||"").replace(/<[^>]+>/g,"").replace(/&[^;]+;/g,y=>({"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&#39;":"'"})[y]||y).replace(/:/g,"\uFF1A").trim(),g=(d.org_title||"").replace(/<[^>]+>/g,"").replace(/&[^;]+;/g,y=>({"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&#39;":"'"})[y]||y).trim(),x={provider:"bilibili",mediaId:f,title:A,org_title:g,type:h,year:m,imageUrl:d.cover||null,episodeCount:p};d.eps&&d.eps.length>0&&(x._eps=d.eps),l.push(x)}return E("info",`[Bilibili] \u7C7B\u578B '${r}' \u627E\u5230 ${l.length} \u4E2A\u7ED3\u679C`),l}catch(s){return E("error",`[Bilibili] \u641C\u7D22\u7C7B\u578B '${r}' \u5931\u8D25:`,s.message),[]}}_extractMediaType(t){let r=(t||"").toLowerCase();return r.includes("\u7535\u5F71")||r.includes("movie")?"\u7535\u5F71":r.includes("\u756A\u5267")||r.includes("\u56FD\u521B")||r.includes("\u52A8\u6F2B")||r.includes("anime")?"\u52A8\u6F2B":r.includes("\u7EAA\u5F55\u7247")||r.includes("documentary")?"\u7EAA\u5F55\u7247":r.includes("\u7EFC\u827A")||r.includes("variety")?"\u7EFC\u827A":(r.includes("\u7535\u89C6\u5267")||r.includes("\u5267\u96C6")||r.includes("drama")||r.includes("tv"),"\u7535\u89C6\u5267")}async search(t){try{E("info",`[Bilibili] \u5F00\u59CB\u641C\u7D22: ${t}`);let r=await this._getWbiMixinKey(),i=[...["media_bangumi","media_ft"].map(l=>this._searchByType(t,l,r))];this._hasBilibiliProxy()&&(E("info","[Bilibili] \u68C0\u6D4B\u5230\u4EE3\u7406\u914D\u7F6E\uFF0C\u542F\u7528\u6E2F\u6FB3\u53F0\u5E76\u884C\u641C\u7D22"),i.push(this._searchOversea(t)));let o=(await Promise.all(i)).flat(),c=[],u=new Set;for(let l of o)u.has(l.mediaId)||(u.add(l.mediaId),c.push(l));return E("info",`[Bilibili] \u641C\u7D22\u5B8C\u6210\uFF0C\u627E\u5230 ${c.length} \u4E2A\u6709\u6548\u7ED3\u679C`),c}catch(r){return E("error","[Bilibili] \u641C\u7D22\u51FA\u9519:",r.message),[]}}async _getPgcEpisodes(t){let r=[],n=[`https://api.bilibili.com/pgc/view/web/season?season_id=${t}`,`https://api.bilibili.com/pgc/web/season/section?season_id=${t}`];for(let i of n)try{let a=await ue(i,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Referer:"https://www.bilibili.com/",Cookie:B.bilibliCookie||""}}),o=typeof a.data=="string"?JSON.parse(a.data):a.data;if(o.code===0&&o.result&&(r=o.result.main_section?.episodes||o.result.episodes||[],r.length>0))break}catch{}if(r.length===0)return E("error",`[Bilibili] \u83B7\u53D6\u756A\u5267\u5206\u96C6\u5931\u8D25 (season_id=${t}): \u6240\u6709\u63A5\u53E3\u5747\u65E0\u6570\u636E`),[];let s=r.map((i,a)=>({vid:`${i.aid},${i.cid}`,id:i.id,title:(i.show_title||i.long_title||i.title||`\u7B2C${a+1}\u96C6`).trim(),link:`https://www.bilibili.com/bangumi/play/ep${i.id}`}));return E("info",`[Bilibili] \u83B7\u53D6\u5230 ${s.length} \u4E2A\u756A\u5267\u5206\u96C6`),s}async _getUgcEpisodes(t){try{let r=`https://api.bilibili.com/x/web-interface/view?bvid=${t}`,n=await ue(r,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Referer:"https://www.bilibili.com/",Cookie:B.bilibliCookie||""}}),s=typeof n.data=="string"?JSON.parse(n.data):n.data;if(s.code!==0||!s.data)return E("error",`[Bilibili] \u83B7\u53D6\u89C6\u9891\u5206\u96C6\u5931\u8D25 (bvid=${t}):`,s.message),[];let i=s.data.pages||[];if(i.length===0)return E("info",`[Bilibili] \u89C6\u9891 bvid=${t} \u65E0\u5206\u96C6\u6570\u636E`),[];let a=i.map((o,c)=>({vid:`${s.data.aid},${o.cid}`,id:o.cid,title:(o.part||`P${o.page}`).trim(),link:`https://www.bilibili.com/video/${t}?p=${o.page}`}));return E("info",`[Bilibili] \u83B7\u53D6\u5230 ${a.length} \u4E2A\u89C6\u9891\u5206\u96C6`),a}catch(r){return E("error",`[Bilibili] \u83B7\u53D6\u89C6\u9891\u5206\u96C6\u51FA\u9519 (bvid=${t}):`,r.message),[]}}async getEpisodes(t){if(t.startsWith("ss")){let r=t.substring(2);return await this._getPgcEpisodes(r)}else if(t.startsWith("bv")){let r=t.substring(2);return await this._getUgcEpisodes(r)}return E("error",`[Bilibili] \u4E0D\u652F\u6301\u7684 ID \u683C\u5F0F: ${t}`),[]}async handleAnimes(t,r,n){let s=[];if(!t||!Array.isArray(t))return E("error","[Bilibili] sourceAnimes is not a valid array"),[];let i=t.length>0?t[0]._tmdbCnAlias:null;NI(t,i);let a=t.filter(o=>o.isOversea||zt(o.title,r)||o.org_title&&zt(o.org_title,r)).map(async o=>{try{let c=[],u=o.checkMore?.content?.includes("\u67E5\u770B\u5168\u90E8");if(o._eps&&o._eps.length>0&&!u)c=o._eps.map((h,p)=>{let m;o.isOversea&&h.position?m=h.position.toString():m=h.index_title||h.index||(p+1).toString();let A=h.title||h.index_title||m,g=h.long_title||"",x=/^\d+(\.\d+)?$/.test(A)?`\u7B2C${A}\u8BDD`:A;g&&g!==A&&(x+=` ${g}`);let b=`https://www.bilibili.com/bangumi/play/ep${h.id||h.param}?season_id=${o.mediaId.substring(2)}`;return o.isOversea&&(b+="&area=hkmt"),{name:m,url:b,title:`\u3010bilibili1\u3011 ${x.trim()}`}}),c.sort((h,p)=>{let m=parseFloat(h.name),A=parseFloat(p.name);return!isNaN(m)&&!isNaN(A)?m-A:0}),E("info",`[Bilibili] \u76F4\u63A5\u4F7F\u7528\u641C\u7D22\u7ED3\u679C\u4E2D\u7684 ${c.length} \u96C6\u5206\u96C6`);else{let h=await this.getEpisodes(o.mediaId);if(h.length===0){E("info",`[Bilibili] ${o.title} \u65E0\u5206\u96C6\uFF0C\u8DF3\u8FC7`);return}c=h.map((p,m)=>{let A=p.link+`?season_id=${o.mediaId.substring(2)}`;return o.isOversea&&(A+="&area=hkmt"),{name:`${m+1}`,url:A,title:`\u3010bilibili1\u3011 ${p.title}`}})}if(c.length===0)return;let l=Tr(o.mediaId),d=o._displayTitle||Xt(o.title),f={animeId:l,bangumiId:o.mediaId,animeTitle:`${d}(${o.year||"N/A"})\u3010${o.type}\u3011from bilibili`,type:o.type,typeDescription:o.type,imageUrl:o.imageUrl,startDate:Kt(o.year),episodeCount:c.length,rating:0,isFavorited:!0,source:"bilibili"};s.push(f),et({...f,links:c}),B.animes.length>B.MAX_ANIMES&&st()}catch(c){E("error",`[Bilibili] \u5904\u7406 ${o.title} \u5931\u8D25:`,c.message)}});return await Promise.all(a),this.sortAndPushAnimesByYear(s,n),s}async _extractVideoInfo(t){E("info","\u63D0\u53D6B\u7AD9\u89C6\u9891\u4FE1\u606F...",t);let r="https://api.bilibili.com/x/web-interface/view",n="https://api.bilibili.com/pgc/view/web/season",s=/^(https?:\/\/[^\/]+)(\/[^?#]*)/,i=t.match(s),a;if(i)a=i[2].split("/").filter(Boolean),a.unshift(""),E("info",a);else return E("error","Invalid URL"),null;let o,c,u,l;if(t.includes("video/"))try{let d=t.split("?")[1],f=1;if(d){let A=d.split("&");for(let g of A){let[x,y]=g.split("=");x==="p"&&(f=y||1)}}E("info",`p: ${f}`);let h;t.includes("BV")?h=`${r}?bvid=${a[2]}`:(c=a[2].substring(2),h=`${r}?aid=${a[2].substring(2)}`);let p=await ue(h,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}}),m=typeof p.data=="string"?JSON.parse(p.data):p.data;if(m.code!==0)return E("error","\u83B7\u53D6\u666E\u901A\u6295\u7A3F\u89C6\u9891\u4FE1\u606F\u5931\u8D25:",m.message),null;u=m.data.duration,o=m.data.pages[f-1].cid}catch(d){return E("error","\u8BF7\u6C42\u666E\u901A\u6295\u7A3F\u89C6\u9891\u4FE1\u606F\u5931\u8D25:",d),null}else if(t.includes("bangumi/")&&t.includes("ep"))try{let d=a.slice(-1)[0].slice(2),f=t.split("?")[1]||"",h=null,p=!1;f.split("&").forEach(A=>{let[g,x]=A.split("=");g==="season_id"&&(h=x),g==="area"&&x==="hkmt"&&(p=!0)});let m=!1;if(!p){let A=await ue(`${n}?ep_id=${d}`,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0"}}),g=typeof A.data=="string"?JSON.parse(A.data):A.data;if(g.code===0&&g.result){let x=g.result.episodes.find(y=>y.id==d);x&&(o=x.cid,u=x.duration/1e3,l=x.share_copy,m=!0)}}if((!m||p)&&h&&this._hasBilibiliProxy()){try{let A=this._makeProxyUrl(`https://api.bilibili.com/pgc/view/web/season?season_id=${h}`),g=await ue(A,{headers:{Cookie:B.bilibliCookie||"","User-Agent":"Mozilla/5.0"}}),x=typeof g.data=="string"?JSON.parse(g.data):g.data;if(x.code===0&&x.result){let y=(x.result.episodes||x.result.main_section?.episodes||[]).find(b=>b.id==d);y&&(o=y.cid,c=y.aid,u=y.duration/1e3,l=y.long_title,m=!0)}}catch{}if(!m)try{let A=await ue(`https://api.bilibili.com/pgc/web/season/section?season_id=${h}`,{headers:{"User-Agent":"Mozilla/5.0",Cookie:B.bilibliCookie||""}}),g=typeof A.data=="string"?JSON.parse(A.data):A.data;if(g.code===0&&g.result?.main_section?.episodes){let x=g.result.main_section.episodes.find(y=>y.id==d);x&&(o=x.cid,c=x.aid,u=x.duration?x.duration/1e3:0,l=x.long_title,m=!0)}}catch{}}if(!o)return E("error","\u672A\u627E\u5230\u5339\u914D\u7684\u756A\u5267\u96C6\u4FE1\u606F"),null;!u&&u!==0&&(u=0)}catch(d){return E("error","\u8BF7\u6C42\u756A\u5267\u89C6\u9891\u4FE1\u606F\u5931\u8D25:",d),null}else if(t.includes("bangumi/")&&t.includes("ss"))try{let d=a.slice(-1)[0].slice(2).split("?")[0],f=`${n}?season_id=${d}`;E("info",`\u83B7\u53D6\u756A\u5267\u4FE1\u606F: season_id=${d}`);let h=await ue(f,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}}),p=typeof h.data=="string"?JSON.parse(h.data):h.data;if(p.code!==0)return E("error","\u83B7\u53D6\u756A\u5267\u89C6\u9891\u4FE1\u606F\u5931\u8D25:",p.message),null;if(!p.result.episodes||p.result.episodes.length===0)return E("error","\u756A\u5267\u6CA1\u6709\u53EF\u7528\u7684\u96C6\u6570"),null;let m=p.result.episodes[0];o=m.cid,u=m.duration/1e3,l=m.share_copy,E("info",`\u4F7F\u7528\u7B2C\u4E00\u96C6: ${l}, cid=${o}`)}catch(d){return E("error","\u8BF7\u6C42\u756A\u5267\u89C6\u9891\u4FE1\u606F\u5931\u8D25:",d),null}else return E("error","\u4E0D\u652F\u6301\u7684B\u7AD9\u89C6\u9891\u7F51\u5740\uFF0C\u4EC5\u652F\u6301\u666E\u901A\u89C6\u9891(av,bv)\u3001\u5267\u96C6\u89C6\u9891(ep,ss)"),null;return E("info",`\u63D0\u53D6\u89C6\u9891\u4FE1\u606F\u5B8C\u6210: cid=${o}, aid=${c}, duration=${u}`),{cid:o,aid:c,duration:u,title:l}}async getEpisodeDanmu(t){E("info","\u5F00\u59CB\u4ECE\u672C\u5730\u8BF7\u6C42B\u7AD9\u5F39\u5E55...",t);let r=await this.getEpisodeDanmuSegments(t);if(!r||!r.segmentList||r.segmentList.length===0)return[];let n=r.segmentList;E("info",`\u5F39\u5E55\u5206\u6BB5\u6570\u91CF: ${n.length}`);let s=6,i=[];for(let a=0;a<n.length;a+=s){let c=n.slice(a,a+s).map(d=>this.getEpisodeSegmentDanmu(d).then(f=>({status:"ok",value:f})).catch(f=>({status:"err",error:f}))),u=await Promise.all(c),l=!1;for(let d of u)d.status==="ok"&&d.value?i.push(...d.value):(E("info","[Bilibili] \u6355\u83B7\u5230\u5206\u6BB5\u8BF7\u6C42\u51FA\u9519\uFF0C\u8BF4\u660E\u8BF7\u6C42\u5B8C\u6BD5\uFF0C\u505C\u6B62\u540E\u7EED\u8BF7\u6C42"),l=!0);if(l)break}return i}async getEpisodeDanmuSegments(t){E("info","\u83B7\u53D6B\u7AD9\u5F39\u5E55\u5206\u6BB5\u5217\u8868...",t);let r=await this._extractVideoInfo(t);if(!r)return new Ve({type:"bilibili1",segmentList:[]});let{cid:n,aid:s,duration:i}=r;E("info",`\u89C6\u9891\u4FE1\u606F: cid=${n}, aid=${s}, duration=${i}`),i<=0&&E("info","[Bilibili] \u672A\u83B7\u53D6\u5230\u7CBE\u51C6\u65F6\u957F\uFF0C\u4F7F\u7528\u9884\u8BBE 36 \u5206\u6BB5");let a=i>0?Math.floor(i/360)+1:36;E("info",`maxLen: ${a}`);let o=[];for(let c=0;c<a;c+=1){let u;s?u=`https://api.bilibili.com/x/v2/dm/web/seg.so?type=1&oid=${n}&pid=${s}&segment_index=${c+1}`:u=`https://api.bilibili.com/x/v2/dm/web/seg.so?type=1&oid=${n}&segment_index=${c+1}`,o.push({type:"bilibili1",segment_start:c*360,segment_end:(c+1)*360,url:u})}return new Ve({type:"bilibili1",segmentList:o})}async getEpisodeSegmentDanmu(t){try{let r=await ue(t.url,{headers:{"User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36",Cookie:B.bilibliCookie},base64Data:!0,retries:1}),n=[];return r&&r.data&&(n=Yde(r.data)),n}catch(r){throw r}}formatComments(t){return t.map(r=>(B.danmuSimplifiedTraditional==="simplified"&&r.m&&(r.m=Xt(r.m)),r.like=r.like_num,r))}_makeProxyUrl(t){return B.makeProxyUrl(t)}_hasBilibiliProxy(){return(B.proxyUrl||"").split(",").some(t=>{let r=t.trim();return r.startsWith("bilibili@")||r.startsWith("@")})}_javaUrlEncode(t){return encodeURIComponent(t).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")}async _searchOverseaRequest(t,r,n,s="Original",i=null){let o=(B.bilibliCookie||"").match(/([0-9a-fA-F]{32})/);if(!((B.proxyUrl||"").includes("bilibili@")||(B.proxyUrl||"").includes("@")))return[];if(o){E("info",`[Bilibili-Proxy][${s}] \u68C0\u6D4B\u5230 Access Key\uFF0C\u542F\u7528 APP \u7AEF\u63A5\u53E3\u6A21\u5F0F (Type: ${r})...`);try{let u={keyword:t,type:r,area:"tw",mobi_app:"android",platform:"android",build:"8140200",ts:Math.floor(Date.now()/1e3),appkey:e.APP_KEY,access_key:o[1],disable_rcmd:1},l=Object.keys(u).sort().map(m=>`${m}=${this._javaUrlEncode(String(u[m]))}`).join("&"),d=As(l+e.APP_SEC),f=`https://app.bilibili.com/x/v2/search/type?${l}&sign=${d}`,h=B.makeProxyUrl(f),p=await this._fetchAppSearchWithStream(h,{"User-Agent":"Mozilla/5.0 Android","X-From-Biliroaming":"1.0.0"},s,i);if(p&&p.code===0)return(p.data?.items||p.data?.result||p.data||[]).filter(m=>m.goto!=="recommend_tips"&&m.area!=="\u6F2B\u6E38"&&m.badge!=="\u516C\u544A").map(m=>({provider:"bilibili",mediaId:m.season_id?`ss${m.season_id}`:m.uri.match(/season\/(\d+)/)?.[1]?`ss${m.uri.match(/season\/(\d+)/)[1]}`:"",title:(m.title||"").replace(/<[^>]+>/g,"").trim(),type:this._extractMediaType(m.season_type_name),year:m.ptime?new Date(m.ptime*1e3).getFullYear():null,imageUrl:m.cover||m.pic||"",episodeCount:0,_eps:m.episodes||m.episodes_new,checkMore:m.check_more,isOversea:!0})).filter(m=>m.mediaId);p&&p.code!==0&&E("warn",`[Bilibili-Proxy] App \u63A5\u53E3\u8FD4\u56DE\u9519\u8BEF Code ${p.code}: ${p.message}`)}catch(u){if(u.name==="AbortError")throw u;E("error",`[Bilibili-Proxy] App \u63A5\u53E3\u8BF7\u6C42\u5F02\u5E38: ${u.message}`)}E("info","[Bilibili-Proxy] App \u63A5\u53E3\u8BF7\u6C42\u5931\u8D25\uFF0C\u81EA\u52A8\u964D\u7EA7\u81F3 Web \u63A5\u53E3...")}else E("info",`[Bilibili-Proxy][${s}] \u672A\u68C0\u6D4B\u5230 Access Key\uFF0C\u542F\u7528 Web \u7AEF\u63A5\u53E3\u6A21\u5F0F (Type: ${n})...`);try{let u={keyword:t,search_type:n,area:"tw",page:1,order:"totalrank",__refresh__:!0,_timestamp:Date.now()},d=`https://api.bilibili.com/x/web-interface/search/type?${Object.keys(u).map(m=>`${encodeURIComponent(m)}=${encodeURIComponent(u[m])}`).join("&")}`,f=B.makeProxyUrl(d),h=await ue(f,{headers:{"User-Agent":"Mozilla/5.0",Cookie:B.bilibliCookie||"","X-From-Biliroaming":"1.0.0"},signal:i}),p=typeof h.data=="string"?JSON.parse(h.data):h.data;if(p.code!==0)return E("warn",`[Bilibili-Proxy] Web \u63A5\u53E3\u8FD4\u56DE\u9519\u8BEF Code ${p.code}: ${p.message}`),[];if(p.data?.result)return p.data.result.filter(m=>m.url?.includes("bilibili.com")&&!m.areas?.includes("\u6F2B\u6E38")).map(m=>({provider:"bilibili",mediaId:m.season_id?`ss${m.season_id}`:"",title:(m.title||"").replace(/<[^>]+>/g,"").trim(),type:this._extractMediaType(m.season_type_name),year:m.pubtime?new Date(m.pubtime*1e3).getFullYear():null,imageUrl:m.cover||null,episodeCount:m.ep_size||0,_eps:m.eps,isOversea:!0})).filter(m=>m.mediaId)}catch(u){if(u.name==="AbortError")throw u;E("error",`[Bilibili-Proxy] Web \u63A5\u53E3\u8BF7\u6C42\u5F02\u5E38: ${u.message}\uFF08\u5982\u679C\u662F-500/-502\u8BF4\u660E\u53EA\u662F\u98CE\u63A7\uFF09`)}return[]}async _searchOversea(t){let r=new AbortController,n=[{appType:7,webType:"media_bangumi"},{appType:8,webType:"media_ft"}],s=Promise.all(n.map(async(a,o)=>(o>0&&await new Promise(c=>setTimeout(c,o*300)),this._searchOverseaRequest(t,a.appType,a.webType,"Original")))).then(a=>{let o=a.flat();return o.length&&r.abort(),o.forEach(c=>c._originalQuery=t),o}).catch(()=>[]),i=B.tmdbApiKey?new Promise(a=>setTimeout(a,100)).then(async()=>{let a=await Kp(t,r.signal,"Bilibili");if(a&&a.title&&a.title!==t){let{title:o,cnAlias:c}=a,u=n.map(async(d,f)=>(f>0&&await new Promise(h=>setTimeout(h,f*300)),this._searchOverseaRequest(o,d.appType,d.webType,"TMDB",r.signal))),l=(await Promise.all(u)).flat();return l.forEach(d=>{d._originalQuery=t,d._searchUsedTitle=o,d._tmdbCnAlias=c}),l}return[]}).catch(()=>[]):Promise.resolve([]);return(await Promise.all([s,i])).flat()}async _fetchAppSearchWithStream(t,r,n,s){if(typeof vO!="function")return null;let i=!1,a=!1,o=await vO(t,{headers:r,sniffLimit:8192,signal:s},c=>i?!0:c.includes('"goto":"recommend_tips"')||c.includes("\u6682\u65E0\u641C\u7D22\u7ED3\u679C")?(E("info",`[Bilibili-Proxy][${n}] \u55C5\u63A2\u5230\u65E0\u6548\u6570\u636E\uFF0C\u4E2D\u65AD`),a=!0,!1):((c.includes('"season_id"')||c.includes('"episodes"'))&&(i=!0),!0));return a?{code:0,data:{items:[]}}:o}};pt();Ze();Dt();kn();Br();kn();var Gnt=`
AGFzbQEAAAABWA5gAn9/AX9gA39/fwF/YAJ/fwBgA39/fwBgAX8Bf2ABfwBgBX9/f39/AX9gBX9/f39/AGAAAX9gBH9/f38AYAR/
f39/AX9gAn5/AX9gBn9/f39/fwBgAAACXAMDd2JnGl9fd2JpbmRnZW5fb2JqZWN0X2Ryb3BfcmVmAAUDd2JnFV9fd2JpbmRnZW5f
c3RyaW5nX25ldwAAA3diZxdfX3diaW5kZ2VuX2RlYnVnX3N0cmluZwACA4gBhgEEAgUBAAIGBQMFAQMBAgMCAwMCAgAGAAsABQIB
CAcHAAIHBgMJAwwDAAMDCQAAAAACBwIDAwMDAAIDAwUAAQIBAwAABg0CCgAAAgUFAwIFBAQCAQAFAAoDBAAAAAAAAgICAgQABAQE
BAIEAAAEBQAAAAQEBAQAAAIAAAECAgABAQgAAAQEBQQFAXABOTkFAwEAEQYJAX8BQYCAwAALB58BCQZtZW1vcnkCAAZlbnNpZ24A
JA9nYXRld2F5X2VuY3J5cHQAIA9nYXRld2F5X2RlY3J5cHQAIQdnZXRfa2V5AIMBEV9fd2JpbmRnZW5fbWFsbG9jAEUSX193Ymlu
ZGdlbl9yZWFsbG9jAEkfX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcgBvD19fd2JpbmRnZW5fZnJlZQBaCUgBAEEBCzhw
RF5fL4gBKzJXMYgBcnFfiAFKS247UUAZc2OIAWJBZE4jM4gBYYgBSlFCe3mIAVZ4UTptXWaIAWGIAQ8/fIABGyIKv+YChgG+IQIP
fwF+IwBBEGsiCyQAAkACQAJ/AkAgAEH1AU8EQEEIQQgQWCEGQRRBCBBYIQVBEEEIEFghAUEAQRBBCBBYQQJ0ayICQYCAfCABIAUg
Bmpqa0F3cUEDayIBIAEgAksbIABNDQQgAEEEakEIEFghBEG0psAAKAIARQ0DQQAgBGshAwJ/QQAgBEGAAkkNABpBHyAEQf///wdL
DQAaIARBBiAEQQh2ZyIAa3ZBAXEgAEEBdGtBPmoLIgZBAnRBmKPAAGooAgAiAUUEQEEAIQBBACEFDAILIAQgBhBTdCEHQQAhAEEA
IQUDQAJAIAEQdCICIARJDQAgAiAEayICIANPDQAgASEFIAIiAw0AQQAhAyABIQBBAAwECyABQRRqKAIAIgIgACACIAEgB0EddkEE
cWpBEGooAgAiAUcbIAAgAhshACAHQQF0IQcgAQ0ACwwBC0EQIABBBGpBEEEIEFhBBWsgAEsbQQgQWCEEQbCmwAAoAgAiASAEQQN2
IgB2IgJBA3EEQAJAIAJBf3NBAXEgAGoiA0EDdCIAQbCkwABqKAIAIgVBCGooAgAiAiAAQaikwABqIgBHBEAgAiAANgIMIAAgAjYC
CAwBC0GwpsAAIAFBfiADd3E2AgALIAUgA0EDdBBQIAUQhgEhAwwECyAEQbimwAAoAgBNDQICQAJAAkACQAJAAkAgAkUEQEG0psAA
KAIAIgBFDQkgABBpaEECdEGYo8AAaigCACIBEHQgBGshAyABEFIiAARAA0AgABB0IARrIgIgAyACIANJIgIbIQMgACABIAIbIQEg
ABBSIgANAAsLIAEgBBCEASEFIAEQHEEQQQgQWCADSw0CIAEgBBBrIAUgAxBUQbimwAAoAgAiAA0BDAULAkBBASAAQR9xIgB0EFsg
AiAAdHEQaWgiAkEDdCIAQbCkwABqKAIAIgNBCGooAgAiASAAQaikwABqIgBHBEAgASAANgIMIAAgATYCCAwBC0GwpsAAQbCmwAAo
AgBBfiACd3E2AgALIAMgBBBrIAMgBBCEASIFIAJBA3QgBGsiAhBUQbimwAAoAgAiAA0CDAMLIABBeHFBqKTAAGohB0HApsAAKAIA
IQYCf0GwpsAAKAIAIgJBASAAQQN2dCIAcUUEQEGwpsAAIAAgAnI2AgAgBwwBCyAHKAIICyEAIAcgBjYCCCAAIAY2AgwgBiAHNgIM
IAYgADYCCAwDCyABIAMgBGoQUAwDCyAAQXhxQaikwABqIQdBwKbAACgCACEGAn9BsKbAACgCACIBQQEgAEEDdnQiAHFFBEBBsKbA
ACAAIAFyNgIAIAcMAQsgBygCCAshACAHIAY2AgggACAGNgIMIAYgBzYCDCAGIAA2AggLQcCmwAAgBTYCAEG4psAAIAI2AgAgAxCG
ASEDDAULQcCmwAAgBTYCAEG4psAAIAM2AgALIAEQhgEiA0UNAgwDCyAAIAVyRQRAQQAhBUEBIAZ0EFtBtKbAACgCAHEiAEUNAiAA
EGloQQJ0QZijwABqKAIAIQALQQELIQEDQCABRQRAIAUgACAFIAAQdCIBIARrIgYgA0kiAhsgASAESSIBGyEFIAMgBiADIAIbIAEb
IQMgABBSIQBBASEBDAELIAAEQEEAIQEMAQUgBUUNAiAEQbimwAAoAgAiAE0gAyAAIARrT3ENAiAFIAQQhAEhBiAFEBwCQEEQQQgQ
WCADTQRAIAUgBBBrIAYgAxBUIANBgAJPBEAgBiADEB0MAgsgA0F4cUGopMAAaiECAn9BsKbAACgCACIBQQEgA0EDdnQiAHFFBEBB
sKbAACAAIAFyNgIAIAIMAQsgAigCCAshACACIAY2AgggACAGNgIMIAYgAjYCDCAGIAA2AggMAQsgBSADIARqEFALIAUQhgEiAw0D
CwsLAkACQCAEQbimwAAoAgAiAEsEQCAEQbymwAAoAgAiAE8EQEEIQQgQWCAEakEUQQgQWGpBEEEIEFhqQYCABBBYIgBBEHZAACEC
IAtBBGoiAUEANgIIIAFBACAAQYCAfHEgAkF/RiIAGzYCBCABQQAgAkEQdCAAGzYCACALKAIEIghFBEBBACEDDAULIAsoAgwhDEHI
psAAIAsoAggiCkHIpsAAKAIAaiIBNgIAQcymwABBzKbAACgCACIAIAEgACABSxs2AgACQEHEpsAAKAIABEBBmKTAACEAA0AgABBs
IAhGDQIgACgCCCIADQALDAQLQdSmwAAoAgAiAEEAIAAgCE0bRQRAQdSmwAAgCDYCAAtB2KbAAEH/HzYCAEGkpMAAIAw2AgBBnKTA
ACAKNgIAQZikwAAgCDYCAEG0pMAAQaikwAA2AgBBvKTAAEGwpMAANgIAQbCkwABBqKTAADYCAEHEpMAAQbikwAA2AgBBuKTAAEGw
pMAANgIAQcykwABBwKTAADYCAEHApMAAQbikwAA2AgBB1KTAAEHIpMAANgIAQcikwABBwKTAADYCAEHcpMAAQdCkwAA2AgBB0KTA
AEHIpMAANgIAQeSkwABB2KTAADYCAEHYpMAAQdCkwAA2AgBB7KTAAEHgpMAANgIAQeCkwABB2KTAADYCAEH0pMAAQeikwAA2AgBB
6KTAAEHgpMAANgIAQfCkwABB6KTAADYCAEH8pMAAQfCkwAA2AgBB+KTAAEHwpMAANgIAQYSlwABB+KTAADYCAEGApcAAQfikwAA2
AgBBjKXAAEGApcAANgIAQYilwABBgKXAADYCAEGUpcAAQYilwAA2AgBBkKXAAEGIpcAANgIAQZylwABBkKXAADYCAEGYpcAAQZCl
wAA2AgBBpKXAAEGYpcAANgIAQaClwABBmKXAADYCAEGspcAAQaClwAA2AgBBqKXAAEGgpcAANgIAQbSlwABBqKXAADYCAEG8pcAA
QbClwAA2AgBBsKXAAEGopcAANgIAQcSlwABBuKXAADYCAEG4pcAAQbClwAA2AgBBzKXAAEHApcAANgIAQcClwABBuKXAADYCAEHU
pcAAQcilwAA2AgBByKXAAEHApcAANgIAQdylwABB0KXAADYCAEHQpcAAQcilwAA2AgBB5KXAAEHYpcAANgIAQdilwABB0KXAADYC
AEHspcAAQeClwAA2AgBB4KXAAEHYpcAANgIAQfSlwABB6KXAADYCAEHopcAAQeClwAA2AgBB/KXAAEHwpcAANgIAQfClwABB6KXA
ADYCAEGEpsAAQfilwAA2AgBB+KXAAEHwpcAANgIAQYymwABBgKbAADYCAEGApsAAQfilwAA2AgBBlKbAAEGIpsAANgIAQYimwABB
gKbAADYCAEGcpsAAQZCmwAA2AgBBkKbAAEGIpsAANgIAQaSmwABBmKbAADYCAEGYpsAAQZCmwAA2AgBBrKbAAEGgpsAANgIAQaCm
wABBmKbAADYCAEGopsAAQaCmwAA2AgBBCEEIEFghBUEUQQgQWCECQRBBCBBYIQFBxKbAACAIIAgQhgEiAEEIEFggAGsiABCEASID
NgIAQbymwAAgCkEIaiABIAIgBWpqIABqayIFNgIAIAMgBUEBcjYCBEEIQQgQWCECQRRBCBBYIQFBEEEIEFghACADIAUQhAEgACAB
IAJBCGtqajYCBEHQpsAAQYCAgAE2AgAMBAsgABB2DQIgABB3IAxHDQIgACgCACICQcSmwAAoAgAiAU0EfyACIAAoAgRqIAFLBUEA
C0UNAiAAIAAoAgQgCmo2AgRBvKbAACgCACAKaiEBQcSmwAAoAgAiACAAEIYBIgBBCBBYIABrIgAQhAEhA0G8psAAIAEgAGsiBTYC
AEHEpsAAIAM2AgAgAyAFQQFyNgIEQQhBCBBYIQJBFEEIEFghAUEQQQgQWCEAIAMgBRCEASAAIAEgAkEIa2pqNgIEQdCmwABBgICA
ATYCAAwDC0G8psAAIAAgBGsiATYCAEHEpsAAQcSmwAAoAgAiAiAEEIQBIgA2AgAgACABQQFyNgIEIAIgBBBrIAIQhgEhAwwDC0HA
psAAKAIAIQJBEEEIEFggACAEayIBTQRAIAIgBBCEASEAQbimwAAgATYCAEHApsAAIAA2AgAgACABEFQgAiAEEGsgAhCGASEDDAML
QcCmwABBADYCAEG4psAAKAIAIQBBuKbAAEEANgIAIAIgABBQIAIQhgEhAwwCC0HUpsAAQdSmwAAoAgAiACAIIAAgCEkbNgIAIAgg
CmohAUGYpMAAIQACQANAIAEgACgCAEcEQCAAKAIIIgANAQwCCwsgABB2DQAgABB3IAxHDQAgACgCACEDIAAgCDYCACAAIAAoAgQg
Cmo2AgQgCBCGASIFQQgQWCECIAMQhgEiAUEIEFghACAIIAIgBWtqIgYgBBCEASEHIAYgBBBrIAMgACABa2oiACAEIAZqayEEAkBB
xKbAACgCACAARwRAIABBwKbAACgCAEYNASAAKAIEQQNxQQFGBEACQCAAEHQiBUGAAk8EQCAAEBwMAQsgAEEMaigCACICIABBCGoo
AgAiAUcEQCABIAI2AgwgAiABNgIIDAELQbCmwABBsKbAACgCAEF+IAVBA3Z3cTYCAAsgBCAFaiEEIAAgBRCEASEACyAHIAQgABBP
IARBgAJPBEAgByAEEB0gBhCGASEDDAULIARBeHFBqKTAAGohAgJ/QbCmwAAoAgAiAUEBIARBA3Z0IgBxRQRAQbCmwAAgACABcjYC
ACACDAELIAIoAggLIQAgAiAHNgIIIAAgBzYCDCAHIAI2AgwgByAANgIIIAYQhgEhAwwEC0HEpsAAIAc2AgBBvKbAAEG8psAAKAIA
IARqIgA2AgAgByAAQQFyNgIEIAYQhgEhAwwDC0HApsAAIAc2AgBBuKbAAEG4psAAKAIAIARqIgA2AgAgByAAEFQgBhCGASEDDAIL
QcSmwAAoAgAhCUGYpMAAIQACQANAIAkgACgCAE8EQCAAEGwgCUsNAgsgACgCCCIADQALQQAhAAsgCSAAEGwiBkEUQQgQWCIPa0EX
ayIBEIYBIgBBCBBYIABrIAFqIgAgAEEQQQgQWCAJakkbIg0QhgEhDiANIA8QhAEhAEEIQQgQWCEDQRRBCBBYIQVBEEEIEFghAkHE
psAAIAggCBCGASIBQQgQWCABayIBEIQBIgc2AgBBvKbAACAKQQhqIAIgAyAFamogAWprIgM2AgAgByADQQFyNgIEQQhBCBBYIQVB
FEEIEFghAkEQQQgQWCEBIAcgAxCEASABIAIgBUEIa2pqNgIEQdCmwABBgICAATYCACANIA8Qa0GYpMAAKQIAIRAgDkEIakGgpMAA
KQIANwIAIA4gEDcCAEGkpMAAIAw2AgBBnKTAACAKNgIAQZikwAAgCDYCAEGgpMAAIA42AgADQCAAQQQQhAEgAEEHNgIEIgBBBGog
BkkNAAsgCSANRg0AIAkgDSAJayIAIAkgABCEARBPIABBgAJPBEAgCSAAEB0MAQsgAEF4cUGopMAAaiECAn9BsKbAACgCACIBQQEg
AEEDdnQiAHFFBEBBsKbAACAAIAFyNgIAIAIMAQsgAigCCAshACACIAk2AgggACAJNgIMIAkgAjYCDCAJIAA2AggLQQAhA0G8psAA
KAIAIgAgBE0NAEG8psAAIAAgBGsiATYCAEHEpsAAQcSmwAAoAgAiAiAEEIQBIgA2AgAgACABQQFyNgIEIAIgBBBrIAIQhgEhAwsg
C0EQaiQAIAMLrRABGH8gACABKAIQIgkgASgCICIHIAEoAjAiCiABKAIAIgsgASgCJCIMIAEoAjQiDSABKAIEIg4gASgCFCIPIA0g
DCAPIA4gCiAHIAkgCyAAKAIAIhkgACgCCCIQIAAoAgQiCHFqIAAoAgwiGCAIQX9zcWpqQYi31cQCa0EHdyAIaiICaiAOIBhqIBAg
AkF/c3FqIAIgCHFqQaqR4bkBa0EMdyACaiIDIAggASgCDCIRaiACIAMgECABKAIIIhJqIAggA0F/c3FqIAIgA3FqQdvhgaECakER
d2oiBUF/c3FqIAMgBXFqQZLiiPIDa0EWdyAFaiIEQX9zcWogBCAFcWpB0eCP1ABrQQd3IARqIgJqIAMgD2ogBSACQX9zcWogAiAE
cWpBqoyfvARqQQx3IAJqIgMgASgCHCITIARqIAIgAyABKAIYIhQgBWogBCADQX9zcWogAiADcWpB7fO+vgVrQRF3aiIFQX9zcWog
AyAFcWpB/9XlFWtBFncgBWoiAkF/c3FqIAIgBXFqQdixgswGakEHdyACaiIEaiADIAxqIAUgBEF/c3FqIAIgBHFqQdGQ7KUHa0EM
dyAEaiIDIAEoAiwiFSACaiAEIAMgASgCKCIWIAVqIAIgA0F/c3FqIAMgBHFqQc/IAmtBEXdqIgJBf3NxaiACIANxakHC0Iy1B2tB
FncgAmoiBUF/c3FqIAIgBXFqQaKiwNwGakEHdyAFaiIGaiABKAI4IhcgAmogBSADIA1qIAIgBkF/c3FqIAUgBnFqQe2cnhNrQQx3
IAZqIgRBf3MiAnFqIAQgBnFqQfL4mswFa0ERdyAEaiIDIAJxaiAFIAEoAjwiBWogBiADQX9zIgFxaiADIARxakGhkNDNBGpBFncg
A2oiBiAEcWpBnrWHzwBrQQV3IAZqIgJqIAMgFWogAiAGQX9zcWogBCAUaiABIAZxaiACIANxakHAmf39A2tBCXcgAmoiBCAGcWpB
0bT5sgJqQQ53IARqIgMgBEF/c3FqIAYgC2ogBCACQX9zcWogAiADcWpB1vCksgFrQRR3IANqIgIgBHFqQaPfw84Ca0EFdyACaiIB
aiADIAVqIAEgAkF/c3FqIAQgFmogAiADQX9zcWogASADcWpB06iQEmpBCXcgAWoiBCACcWpB/7L4ugJrQQ53IARqIgMgBEF/c3Fq
IAIgCWogBCABQX9zcWogASADcWpBuIiwwQFrQRR3IANqIgIgBHFqQeabh48CakEFdyACaiIBaiADIBFqIAEgAkF/c3FqIAQgF2og
AiADQX9zcWogASADcWpBqvCj5gNrQQl3IAFqIgQgAnFqQfnkq9kAa0EOdyAEaiIDIARBf3NxaiACIAdqIAQgAUF/c3FqIAEgA3Fq
Qe2p6KoEakEUdyADaiICIARxakH7rfCwBWtBBXcgAmoiAWogAiAKaiAEIBJqIAIgA0F/c3FqIAEgA3FqQYi4wRhrQQl3IAFqIgYg
AUF/c3FqIAMgE2ogASACQX9zcWogAiAGcWpB2YW8uwZqQQ53IAZqIgQgAXFqQfbm1pYHa0EUdyAEaiIDIARzIgEgBnNqQb6NF2tB
BHcgA2oiAmogBCAVaiACIAYgB2ogASACc2pB/5K4xAdrQQt3IAJqIgJzIgEgA3NqQaLC9ewGakEQdyACaiIEIAJzIAMgF2ogASAE
c2pB9I/rEGtBF3cgBGoiB3NqQbyrhNoFa0EEdyAHaiIBaiAEIBNqIAIgCWogBCAHcyABc2pBqZ/73gRqQQt3IAFqIgQgASAHc3Nq
QaDpksoAa0EQdyAEaiIDIARzIAcgFmogASAEcyADc2pBkIeBigRrQRd3IANqIgJzakHG/e3EAmpBBHcgAmoiAWogAyARaiAEIAtq
IAIgA3MgAXNqQYaw+6oBa0ELdyABaiIEIAEgAnNzakH7nsPYAmtBEHcgBGoiAyAEcyACIBRqIAEgBHMgA3NqQYW6oCRqQRd3IANq
IgJzakHH36yxAmtBBHcgAmoiAWogAiASaiAEIApqIAIgA3MgAXNqQZvMkckBa0ELdyABaiIEIAFzIAMgBWogASACcyAEc2pB+PmJ
/QFqQRB3IARqIgNzakGb087aA2tBF3cgA2oiAiAEQX9zciADc2pBvLvb3gBrQQZ3IAJqIgFqIAIgD2ogAyAXaiAEIBNqIAEgA0F/
c3IgAnNqQZf/q5kEakEKdyABaiIEIAJBf3NyIAFzakHZuK+jBWtBD3cgBGoiAyABQX9zciAEc2pBx7+xG2tBFXcgA2oiAiAEQX9z
ciADc2pBw7PtqgZqQQZ3IAJqIgFqIAIgDmogAyAWaiAEIBFqIAEgA0F/c3IgAnNqQe7mzIcHa0EKdyABaiIEIAJBf3NyIAFzakGD
l8AAa0EPdyAEaiICIAFBf3NyIARzakGvxO7TB2tBFXcgAmoiASAEQX9zciACc2pBz/yh/QZqQQZ3IAFqIgNqIAEgDWogAiAUaiAE
IAVqIAMgAkF/c3IgAXNqQaCyzA5rQQp3IANqIgIgAUF/c3IgA3NqQez5+ucFa0EPdyACaiIBIANBf3NyIAJzakGho6DwBGpBFXcg
AWoiBCACQX9zciABc2pB/oKyxQBrQQZ3IARqIgMgGWo2AgAgACAYIAIgFWogAyABQX9zciAEc2pBy5uUlgRrQQp3IANqIgJqNgIM
IAAgECABIBJqIAIgBEF/c3IgA3NqQbul39YCakEPdyACaiIBajYCCCAAIAEgCGogBCAMaiABIANBf3NyIAJzakHv2OSjAWtBFXdq
NgIEC5IHAQV/IAAQhwEiACAAEHQiARCEASECAkACQAJAAkACQAJAAkACQAJAIAAQdQ0AIAAoAgAhAyAAEGoNASABIANqIQEgACAD
EIUBIgBBwKbAACgCAEYEQCACKAIEQQNxQQNHDQFBuKbAACABNgIAIAAgASACEE8MCQsgA0GAAk8EQCAAEBwMAQsgAEEMaigCACIE
IABBCGooAgAiBUcEQCAFIAQ2AgwgBCAFNgIIDAELQbCmwABBsKbAACgCAEF+IANBA3Z3cTYCAAsgAhBlDQIgAkHEpsAAKAIARg0E
IAJBwKbAACgCAEcNAUHApsAAIAA2AgBBuKbAAEG4psAAKAIAIAFqIgI2AgAgACACEFQPCyABIANqQRBqIQAMBgsgAhB0IgMgAWoh
AQJAIANBgAJPBEAgAhAcDAELIAJBDGooAgAiBCACQQhqKAIAIgJHBEAgAiAENgIMIAQgAjYCCAwBC0GwpsAAQbCmwAAoAgBBfiAD
QQN2d3E2AgALIAAgARBUIABBwKbAACgCAEcNAUG4psAAIAE2AgAPCyAAIAEgAhBPCyABQYACSQ0BIAAgARAdQdimwABB2KbAACgC
AEEBayIANgIAIAANAxAfGg8LQcSmwAAgADYCAEG8psAAQbymwAAoAgAgAWoiAjYCACAAIAJBAXI2AgRBwKbAACgCACAARgRAQbim
wABBADYCAEHApsAAQQA2AgALIAJB0KbAACgCAE0NAkEIQQgQWCEAQRRBCBBYIQJBEEEIEFghA0EAQRBBCBBYQQJ0ayIBQYCAfCAD
IAAgAmpqa0F3cUEDayIAIAAgAUsbRQ0CQcSmwAAoAgBFDQJBCEEIEFghAEEUQQgQWCECQRBBCBBYIQFBACEDQbymwAAoAgAiBCAB
IAIgAEEIa2pqIgBNDQEgBCAAa0H//wNqQYCAfHEiBEGAgARrIQJBxKbAACgCACEBQZikwAAhAAJAA0AgASAAKAIATwRAIAAQbCAB
Sw0CCyAAKAIIIgANAAtBACEACyAAEHYNASAAKAIMGgwBCyABQXhxQaikwABqIQICf0GwpsAAKAIAIgNBASABQQN2dCIBcUUEQEGw
psAAIAEgA3I2AgAgAgwBCyACKAIICyEDIAIgADYCCCADIAA2AgwgACACNgIMIAAgAzYCCA8LEB9BACADa0cNAEG8psAAKAIAQdCm
wAAoAgBNDQBB0KbAAEF/NgIACwv0BgEIfwJAIAAoAgAiCiAAKAIIIgNyBEACQCADRQ0AIAEgAmohCCAAQQxqKAIAQQFqIQcgASEF
A0ACQCAFIQMgB0EBayIHRQ0AIAMgCEYNAgJ/IAMsAAAiBkEATgRAIAZB/wFxIQYgA0EBagwBCyADLQABQT9xIQkgBkEfcSEFIAZB
X00EQCAFQQZ0IAlyIQYgA0ECagwBCyADLQACQT9xIAlBBnRyIQkgBkFwSQRAIAkgBUEMdHIhBiADQQNqDAELIAVBEnRBgIDwAHEg
Ay0AA0E/cSAJQQZ0cnIiBkGAgMQARg0DIANBBGoLIgUgBCADa2ohBCAGQYCAxABHDQEMAgsLIAMgCEYNACADLAAAIgVBAE4gBUFg
SXIgBUFwSXJFBEAgBUH/AXFBEnRBgIDwAHEgAy0AA0E/cSADLQACQT9xQQZ0IAMtAAFBP3FBDHRycnJBgIDEAEYNAQsCQAJAIARF
DQAgAiAETQRAQQAhAyACIARGDQEMAgtBACEDIAEgBGosAABBQEgNAQsgASEDCyAEIAIgAxshAiADIAEgAxshAQsgCkUNASAAKAIE
IQgCQCACQRBPBEAgASACEAchAwwBCyACRQRAQQAhAwwBCyACQQNxIQcCQCACQQRJBEBBACEDQQAhBgwBCyACQXxxIQVBACEDQQAh
BgNAIAMgASAGaiIELAAAQb9/SmogBEEBaiwAAEG/f0pqIARBAmosAABBv39KaiAEQQNqLAAAQb9/SmohAyAFIAZBBGoiBkcNAAsL
IAdFDQAgASAGaiEFA0AgAyAFLAAAQb9/SmohAyAFQQFqIQUgB0EBayIHDQALCwJAIAMgCEkEQCAIIANrIQRBACEDAkACQAJAIAAt
ACBBAWsOAgABAgsgBCEDQQAhBAwBCyAEQQF2IQMgBEEBakEBdiEECyADQQFqIQMgAEEYaigCACEFIAAoAhAhBiAAKAIUIQADQCAD
QQFrIgNFDQIgACAGIAUoAhARAABFDQALQQEPCwwCC0EBIQMgACABIAIgBSgCDBEBAAR/IAMFQQAhAwJ/A0AgBCADIARGDQEaIANB
AWohAyAAIAYgBSgCEBEAAEUNAAsgA0EBawsgBEkLDwsgACgCFCABIAIgAEEYaigCACgCDBEBAA8LIAAoAhQgASACIABBGGooAgAo
AgwRAQAL1wYBCH8CQAJAIAEgAEEDakF8cSICIABrIghJDQAgASAIayIGQQRJDQAgBkEDcSEHQQAhAQJAIAAgAkYiCQ0AAkAgAiAA
QX9zakEDSQRADAELA0AgASAAIARqIgMsAABBv39KaiADQQFqLAAAQb9/SmogA0ECaiwAAEG/f0pqIANBA2osAABBv39KaiEBIARB
BGoiBA0ACwsgCQ0AIAAgAmshAyAAIARqIQIDQCABIAIsAABBv39KaiEBIAJBAWohAiADQQFqIgMNAAsLIAAgCGohBAJAIAdFDQAg
BCAGQXxxaiIALAAAQb9/SiEFIAdBAUYNACAFIAAsAAFBv39KaiEFIAdBAkYNACAFIAAsAAJBv39KaiEFCyAGQQJ2IQYgASAFaiED
A0AgBCEAIAZFDQJBwAEgBiAGQcABTxsiBUEDcSEHIAVBAnQhBEEAIQIgBUEETwRAIAAgBEHwB3FqIQggACEBA0AgAiABKAIAIgJB
f3NBB3YgAkEGdnJBgYKECHFqIAFBBGooAgAiAkF/c0EHdiACQQZ2ckGBgoQIcWogAUEIaigCACICQX9zQQd2IAJBBnZyQYGChAhx
aiABQQxqKAIAIgJBf3NBB3YgAkEGdnJBgYKECHFqIQIgAUEQaiIBIAhHDQALCyAGIAVrIQYgACAEaiEEIAJBCHZB/4H8B3EgAkH/
gfwHcWpBgYAEbEEQdiADaiEDIAdFDQALAn8gACAFQfwBcUECdGoiACgCACIBQX9zQQd2IAFBBnZyQYGChAhxIgEgB0EBRg0AGiAB
IAAoAgQiAUF/c0EHdiABQQZ2ckGBgoQIcWoiASAHQQJGDQAaIAAoAggiAEF/c0EHdiAAQQZ2ckGBgoQIcSABagsiAUEIdkH/gRxx
IAFB/4H8B3FqQYGABGxBEHYgA2oPCyABRQRAQQAPCyABQQNxIQQCQCABQQRJBEBBACECDAELIAFBfHEhBUEAIQIDQCADIAAgAmoi
ASwAAEG/f0pqIAFBAWosAABBv39KaiABQQJqLAAAQb9/SmogAUEDaiwAAEG/f0pqIQMgBSACQQRqIgJHDQALCyAERQ0AIAAgAmoh
AQNAIAMgASwAAEG/f0pqIQMgAUEBaiEBIARBAWsiBA0ACwsgAwunBgEGfyMAQeADayIFJAAgBUEAQeADEIEBIgUgASABEBQgBUEg
aiABQRBqIgEgARAUQcAAIQZBCCEHA0AgBSAHEDUgAyAFaiIBQUBrIgQQDCAEIAQoAgBBf3M2AgAgAUHEAGoiBCAEKAIAQX9zNgIA
IAFB1ABqIgQgBCgCAEF/czYCACABQdgAaiIEIAQoAgBBf3M2AgAgBSAGaiIEIAQoAgBBgIADczYCACAFIAdBCGoiB0EOECogA0GA
A0YEQCAFQeAAaiEHIAVBQGshAyAFQSBqIQZBAyEEA0AgBEEBayEEQQAhAQNAIAEgBmoiAiACKAIAIgIgAiACQQR2c0GAmLwYcSIC
QQR0cyACcyICIAIgAkECdnNBgOaAmANxIgJBAnRzIAJzNgIAIAFBBGoiAUEgRw0AC0EAIQEDQCABIANqIgIgAigCACICIAIgAkEE
dnNBgJ6A+ABxIgJBBHRzIAJzNgIAIAFBBGoiAUEgRw0AC0EAIQEDQCABIAdqIgIgAigCACICIAIgAkEEdnNBgIa84ABxIgJBBHRz
IAJzIgIgAiACQQJ2c0GA5oCYA3EiAkECdHMgAnM2AgAgAUEEaiIBQSBHDQALIAdBgAFqIQcgA0GAAWohAyAGQYABaiEGIAQNAAtB
oAMhAQNAIAEgBWoiAyADKAIAIgMgAyADQQR2c0GAmLwYcSIDQQR0cyADcyIDIAMgA0ECdnNBgOaAmANxIgNBAnRzIANzNgIAIAFB
BGoiAUHAA0cNAAtBACEDA0AgAyAFaiIBQSBqIgYgBigCAEF/czYCACABQSRqIgYgBigCAEF/czYCACABQTRqIgYgBigCAEF/czYC
ACABQThqIgEgASgCAEF/czYCACADQSBqIgNBwANHDQALIAAgBUHgAxCCARogBUHgA2okAAUgBSAHEDUgAUHgAGoiBBAMIAQgBCgC
AEF/czYCACABQeQAaiIEIAQoAgBBf3M2AgAgAUH0AGoiBCAEKAIAQX9zNgIAIAFB+ABqIgEgASgCAEF/czYCACAFIAdBCGoiB0EG
ECogBkHEAGohBiADQUBrIQMMAQsLC7QFAQh/QStBgIDEACAAKAIcIghBAXEiBhshDCAEIAZqIQYCQCAIQQRxRQRAQQAhAQwBCwJA
IAJBEE8EQCABIAIQByEFDAELIAJFBEAMAQsgAkEDcSEJAkAgAkEESQRADAELIAJBfHEhCgNAIAUgASAHaiILLAAAQb9/SmogC0EB
aiwAAEG/f0pqIAtBAmosAABBv39KaiALQQNqLAAAQb9/SmohBSAKIAdBBGoiB0cNAAsLIAlFDQAgASAHaiEHA0AgBSAHLAAAQb9/
SmohBSAHQQFqIQcgCUEBayIJDQALCyAFIAZqIQYLAkACQCAAKAIARQRAQQEhBSAAKAIUIgYgACgCGCIAIAwgASACEEYNAQwCCyAG
IAAoAgQiB08EQEEBIQUgACgCFCIGIAAoAhgiACAMIAEgAhBGDQEMAgsgCEEIcQRAIAAoAhAhCCAAQTA2AhAgAC0AICEKQQEhBSAA
QQE6ACAgACgCFCIJIAAoAhgiCyAMIAEgAhBGDQEgByAGa0EBaiEFAkADQCAFQQFrIgVFDQEgCUEwIAsoAhARAABFDQALQQEPC0EB
IQUgCSADIAQgCygCDBEBAA0BIAAgCjoAICAAIAg2AhBBACEFDAELIAcgBmshBgJAAkACQCAALQAgIgVBAWsOAwABAAILIAYhBUEA
IQYMAQsgBkEBdiEFIAZBAWpBAXYhBgsgBUEBaiEFIABBGGooAgAhCCAAKAIQIQogACgCFCEAAkADQCAFQQFrIgVFDQEgACAKIAgo
AhARAABFDQALQQEPC0EBIQUgACAIIAwgASACEEYNACAAIAMgBCAIKAIMEQEADQBBACEFA0AgBSAGRgRAQQAPCyAFQQFqIQUgACAK
IAgoAhARAABFDQALIAVBAWsgBkkPCyAFDwsgBiADIAQgACgCDBEBAAvYBAEcfyAAIAAoAggiBCAAKAIEIgVzIgwgACgCHCINIAAo
AhAiAXMiFiAAKAIYIgJzIhcgFnFzIAIgDXMiAyAAKAIMIgYgACgCACIHcyIIcyIJcyADIAUgB3MiCnMiEyABIAJzIg8gBCAAKAIU
IgRzIhBzIhlxIhRzIAYgF3MiFSABIAZzIgEgDHMiGHEgCSAYcyABcSILcyIOcyIRIA4gDyABIAdzIhpxIAIgBXMiBSAEIAZzcyIH
IAEgCnMiDnJzcyIScSICIAsgAyAJcXMiCyAHIA5xIAogD3MiCiAEcyIbIAUgCHMiHHFzIAFzIARzcyIGcyARIBQgCiANIBBzIhRx
IAhzcyALcyIEcyIIcSAEcyIFIAYgEnMiCyACIARzcSAGcyINcyIQIAFxIAogDXEiCnMgDSALIAQgEnFBf3NxIAJzIgFzIgQgE3Eg
AyACIAYgEXEgCHFzIAhzIgIgAXMiA3EiCHMiEXM2AgAgACAHIAIgBXMiB3EiBiAFIBtxIhJzIAMgEHMiEyAVcSIVIAMgCXEiA3Mi
CyAQIAkgDHNxIgwgByAOcSIHIAIgD3EiD3NzIg5zIglzNgIcIAAgDCACIBpxIgIgASAXcXMiDCAGIAUgHHFzc3MiBSADIA0gFHEi
AyABIBZxcyIBIA9zcyARc3M2AhggACABIApzIgEgB3MgC3MgBXM2AhQgACADIAQgGXEiA3MgCXM2AhAgACATIBhxIAJzIA5zIgIg
ASADIBJzIgEgCHNzczYCDCAAIAEgDHMgCXM2AgggACAGIBVzIAJzNgIEC9QFAgZ/An4CQCACRQ0AIAJBB2siA0EAIAIgA08bIQcg
AUEDakF8cSABayEIQQAhAwNAAkACQAJAIAEgA2otAAAiBcAiBkEATgRAIAggA2tBA3ENASADIAdPDQIDQCABIANqIgRBBGooAgAg
BCgCAHJBgIGChHhxDQMgA0EIaiIDIAdJDQALDAILQoCAgICAICEKQoCAgIAQIQkCQAJAAn4CQAJAAkACQAJAAkACQAJAAkAgBUGM
oMAAai0AAEECaw4DAAECCgsgA0EBaiIEIAJJDQJCACEKQgAhCQwJC0IAIQogA0EBaiIEIAJJDQJCACEJDAgLQgAhCiADQQFqIgQg
AkkNAkIAIQkMBwsgASAEaiwAAEG/f0oNBgwHCyABIARqLAAAIQQCQAJAIAVB4AFrIgUEQCAFQQ1GBEAMAgUMAwsACyAEQWBxQaB/
Rg0EDAMLIARBn39KDQIMAwsgBkEfakH/AXFBDE8EQCAGQX5xQW5HDQIgBEFASA0DDAILIARBQEgNAgwBCyABIARqLAAAIQQCQAJA
AkACQCAFQfABaw4FAQAAAAIACyAGQQ9qQf8BcUECSyAEQUBOcg0DDAILIARB8ABqQf8BcUEwTw0CDAELIARBj39KDQELIAIgA0EC
aiIETQRAQgAhCQwFCyABIARqLAAAQb9/Sg0CQgAhCSADQQNqIgQgAk8NBCABIARqLAAAQb9/TA0FQoCAgICA4AAMAwtCgICAgIAg
DAILQgAhCSADQQJqIgQgAk8NAiABIARqLAAAQb9/TA0DC0KAgICAgMAACyEKQoCAgIAQIQkLIAAgCiADrYQgCYQ3AgQgAEEBNgIA
DwsgBEEBaiEDDAILIANBAWohAwwBCyACIANNDQADQCABIANqLAAAQQBIDQEgAiADQQFqIgNHDQALDAILIAIgA0sNAAsLIAAgATYC
BCAAQQhqIAI2AgAgAEEANgIAC6YEARt/IAAgACgCHCIBIAAoAgQiBHMiByAAKAIQIgUgACgCCCIKcyIMcyIRIAAoAgxzIgggACgC
GCIGcyILIAEgBXMiEnMiCSAGIAAoAhRzIgJzIgMgBCACIAAoAgAiBHMiBnMiEyAGcXMgAyAHcSINcyAHcyAJIBJxIg4gAiAIIApz
IgJzIgggCXMiFyAMcXMiD3MiECAPIAIgEXEiDyALIAIgBHMiGCATIAEgCnMiCnMiGXFzc3MiFHEiCyAIIApxIA5zIg4gDyAFIAZz
Ig8gBHEgCnMgCHNzcyIFcyAOIA0gAyAEIAlzIg0gASAGcyIOcXNzIAFzcyIBIBBzcSIVIAtzIAFxIhYgEHMiECACcSIaIAQgASAV
cyIEcXMiFSAFIAEgC3MiAiAFIBRzIgVxcyIBIA1xcyADIAIgFnMgAXEgBXMiAyABcyILcSINcyIUIAMgE3FzIAwgAyAEIBBzIgJz
IgUgASAEcyIMcyITcSAMIBJxIhJzIhZzIhsgDSADIAZxcyIGIBMgF3FzIgMgByALcSIHIAUgCHEgFXNzcyIIczYCBCAAIAcgG3M2
AgAgACAWIAIgGXFzIgcgECARcXMiESADIAkgDHFzIglzNgIcIAAgCCABIA5xcyIDIAUgCnEgEnMgCXNzNgIUIAAgAiAYcSAacyAG
cyARcyIBNgIQIAAgByAEIA9xcyADczYCCCAAIAEgCXM2AhggACABIBRzNgIMC4YFAQp/IwBBMGsiAyQAIANBJGogATYCACADQQM6
ACwgA0EgNgIcIANBADYCKCADIAA2AiAgA0EANgIUIANBADYCDAJ/AkACQAJAIAIoAhAiCkUEQCACQQxqKAIAIgBFDQEgAigCCCEB
IABBA3QhBSAAQQFrQf////8BcUEBaiEHIAIoAgAhAANAIABBBGooAgAiBARAIAMoAiAgACgCACAEIAMoAiQoAgwRAQANBAsgASgC
ACADQQxqIAFBBGooAgARAAANAyABQQhqIQEgAEEIaiEAIAVBCGsiBQ0ACwwBCyACQRRqKAIAIgBFDQAgAEEFdCELIABBAWtB////
P3FBAWohByACKAIIIQggAigCACEAA0AgAEEEaigCACIBBEAgAygCICAAKAIAIAEgAygCJCgCDBEBAA0DCyADIAUgCmoiAUEQaigC
ADYCHCADIAFBHGotAAA6ACwgAyABQRhqKAIANgIoIAFBDGooAgAhBkEAIQlBACEEAkACQAJAIAFBCGooAgBBAWsOAgACAQsgBkED
dCAIaiIMKAIEQS1HDQEgDCgCACgCACEGC0EBIQQLIAMgBjYCECADIAQ2AgwgAUEEaigCACEEAkACQAJAIAEoAgBBAWsOAgACAQsg
BEEDdCAIaiIGKAIEQS1HDQEgBigCACgCACEEC0EBIQkLIAMgBDYCGCADIAk2AhQgCCABQRRqKAIAQQN0aiIBKAIAIANBDGogASgC
BBEAAA0CIABBCGohACALIAVBIGoiBUcNAAsLIAcgAigCBE8NASADKAIgIAIoAgAgB0EDdGoiACgCACAAKAIEIAMoAiQoAgwRAQBF
DQELQQEMAQtBAAsgA0EwaiQAC4cVARV/IwBBIGsiAyQAIANBGGpCADcDACADQRBqQgA3AwAgA0EIakIANwMAIANCADcDACADIAIg
AkEQahAUIAFBwANqIQpBACECA0AgAiADaiITIBMoAgAgAiAKaigCAHM2AgAgAkEEaiICQSBHDQALIAMQCkEAIQIDQCACIANqIgog
CigCACIKIAogCkEEdnNBgJ6A+ABxIgpBBHRzIApzNgIAIAJBBGoiAkEgRw0ACyABQcACaiETIAFB4AJqIRQgAUGAA2ohFSABQaAD
aiEWQegAIQoCQANAQQAhAgNAIAIgA2oiBiAGKAIAIAIgFmooAgBzNgIAIAJBBGoiAkEgRw0ACyADIAMoAhgiBkEWd0G//vz5A3Eg
BkEed0HAgYOGfHFyIAZzIgkgAygCHCICcyIHIAJBFndBv/78+QNxIAJBHndBwIGDhnxxciACcyICIAMoAhAiBUEWd0G//vz5A3Eg
BUEed0HAgYOGfHFyIAVzIgwgAygCFCIEcyINcyILQQx3QY+evPgAcSALQRR3QfDhw4d/cXJzIAtzNgIcIAMgBiAEIARBFndBv/78
+QNxIARBHndBwIGDhnxxcnMiCHMiBiADKAIAIgRBFndBv/78+QNxIARBHndBwIGDhnxxciAEcyIPcyILIAtBDHdBj568+ABxIAtB
FHdB8OHDh39xcnMgAiAEcyILczYCACADIAYgCSAFIAMoAgwiBEEWd0G//vz5A3EgBEEed0HAgYOGfHFyIARzIg5zIAJzIhBzIgVB
DHdBj568+ABxIAVBFHdB8OHDh39xcnMgBXM2AhggAyANIAQgAygCCCIFQRZ3Qb/+/PkDcSAFQR53QcCBg4Z8cXIgBXMiCXMgAnMi
ESAHIAhzcyIEQQx3QY+evPgAcSAEQRR3QfDhw4d/cXJzIARzNgIUIAMgECAGIAdzIg0gDCAFIAMoAgQiBEEWd0G//vz5A3EgBEEe
d0HAgYOGfHFyIARzIghzIhJzcyIFQQx3QY+evPgAcSAFQRR3QfDhw4d/cXJzIAVzNgIQIAMgESAEIA9zIAJzIgUgBiAOc3MiAkEM
d0GPnrz4AHEgAkEUd0Hw4cOHf3FycyACczYCDCADIBIgByAJcyALcyICQQx3QY+evPgAcSACQRR3QfDhw4d/cXJzIAJzNgIIIAMg
BSAIIA1zIgJBDHdBj568+ABxIAJBFHdB8OHDh39xcnMgAnM2AgQgAxAKIApBCEYEQEEAIQIDQCACIANqIgogCigCACABIAJqKAIA
czYCACACQQRqIgJBIEcNAAsgACADEBUgA0EgaiQADwtBACECA0AgAiADaiIGIAYoAgAgAiAVaigCAHM2AgAgAkEEaiICQSBHDQAL
IApBEGshCyADIAMoAhgiB0EYdyAHcyIJIAMoAhwiAnMiBiACQRh3IAJzIgIgAygCECIFQRh3IAVzIgwgAygCFCIEcyINcyIIQRB3
cyAIczYCHCADIAcgBCAEQRh3cyIIcyIHIAMoAgAiBEEYdyAEcyIPcyIOQRB3IA5zIAIgBHMiDnM2AgAgAyAHIAkgBSADKAIMIgRB
GHcgBHMiEHMgAnMiEXMiBUEQd3MgBXM2AhggAyANIAQgAygCCCIFQRh3IAVzIglzIAJzIhIgBiAIc3MiBEEQd3MgBHM2AhQgAyAR
IAYgB3MiDSAMIAUgAygCBCIEQRh3IARzIghzIgVzcyIMQRB3cyAMczYCECADIBIgBCAPcyACcyICIAcgEHNzIgdBEHdzIAdzNgIM
IAMgBSAGIAlzIA5zIgZBEHdzIAZzNgIIIAMgAiAIIA1zIgZBEHdzIAZzNgIEIAMQCkEAIQIDQCACIANqIgYgBigCACACIBRqKAIA
czYCACACQQRqIgJBIEcNAAsgAyADKAIYIgZBEndBg4aMGHEgBkEad0H8+fNncXIgBnMiDCADKAIcIgJzIgcgAkESd0GDhowYcSAC
QRp3Qfz582dxciACcyICIAMoAhAiBUESd0GDhowYcSAFQRp3Qfz582dxciAFcyINIAMoAhQiBHMiCHMiCUEMd0GPnrz4AHEgCUEU
d0Hw4cOHf3FycyAJczYCHCADIAYgBCAEQRJ3QYOGjBhxIARBGndB/PnzZ3FycyIPcyIGIAMoAgAiBEESd0GDhowYcSAEQRp3Qfz5
82dxciAEcyIOcyIJIAlBDHdBj568+ABxIAlBFHdB8OHDh39xcnMgAiAEcyIJczYCACADIAYgDCAFIAMoAgwiBEESd0GDhowYcSAE
QRp3Qfz582dxciAEcyIQcyACcyIRcyIFQQx3QY+evPgAcSAFQRR3QfDhw4d/cXJzIAVzNgIYIAMgCCAEIAMoAggiBUESd0GDhowY
cSAFQRp3Qfz582dxciAFcyIMcyACcyISIAcgD3NzIgRBDHdBj568+ABxIARBFHdB8OHDh39xcnMgBHM2AhQgAyARIAYgB3MiCCAN
IAUgAygCBCIEQRJ3QYOGjBhxIARBGndB/PnzZ3FyIARzIg9zIhdzcyIFQQx3QY+evPgAcSAFQRR3QfDhw4d/cXJzIAVzNgIQIAMg
EiAEIA5zIAJzIgUgBiAQc3MiAkEMd0GPnrz4AHEgAkEUd0Hw4cOHf3FycyACczYCDCADIBcgByAMcyAJcyICQQx3QY+evPgAcSAC
QRR3QfDhw4d/cXJzIAJzNgIIIAMgBSAIIA9zIgJBDHdBj568+ABxIAJBFHdB8OHDh39xcnMgAnM2AgQgAxAKIApBGGsiCSALSw0B
QQAhAgNAIAIgA2oiBiAGKAIAIAIgE2ooAgBzNgIAIAJBBGoiAkEgRw0ACyATQYABayETIBRBgAFrIRQgFUGAAWshFSAWQYABayEW
IAMgAygCGCIGQRR3QY+evPgAcSAGQRx3QfDhw4d/cXIgBnMiCyADKAIcIgJzIgcgAkEUd0GPnrz4AHEgAkEcd0Hw4cOHf3FyIAJz
IgIgAygCECIFQRR3QY+evPgAcSAFQRx3QfDhw4d/cXIgBXMiDCADKAIUIgRzIg1zIghBEHdzIAhzNgIcIAMgBiAEIARBFHdBj568
+ABxIARBHHdB8OHDh39xcnMiCHMiBiADKAIAIgRBFHdBj568+ABxIARBHHdB8OHDh39xciAEcyIPcyIOQRB3IA5zIAIgBHMiDnM2
AgAgAyAGIAsgBSADKAIMIgRBFHdBj568+ABxIARBHHdB8OHDh39xciAEcyIQcyACcyIRcyIFQRB3cyAFczYCGCADIA0gBCADKAII
IgVBFHdBj568+ABxIAVBHHdB8OHDh39xciAFcyILcyACcyISIAcgCHNzIgRBEHdzIARzNgIUIAMgESAGIAdzIg0gDCAFIAMoAgQi
BEEUd0GPnrz4AHEgBEEcd0Hw4cOHf3FyIARzIghzIgVzcyIMQRB3cyAMczYCECADIBIgBCAPcyACcyICIAYgEHNzIgZBEHdzIAZz
NgIMIAMgBSAHIAtzIA5zIgZBEHdzIAZzNgIIIAMgAiAIIA1zIgZBEHdzIAZzNgIEIAMQCiAKQSBrIgpBeEcNAAtBeCAJQYyWwAAQ
OQALIAkgC0GclsAAEDkAC5UEAQt/IAAoAgQhCiAAKAIAIQsgACgCCCEMAkADQCAFDQECQAJAIAIgBEkNAANAIAEgBGohBQJAAkAC
QAJAIAIgBGsiBkEITwRAIAVBA2pBfHEiACAFRg0BIAAgBWsiAEUNAUEAIQMDQCADIAVqLQAAQQpGDQUgACADQQFqIgNHDQALIAAg
BkEIayIDSw0DDAILIAIgBEYEQCACIQQMBgtBACEDA0AgAyAFai0AAEEKRg0EIAYgA0EBaiIDRw0ACyACIQQMBQsgBkEIayEDQQAh
AAsDQCAAIAVqIgdBBGooAgAiCUGKlKjQAHNBgYKECGsgCUF/c3EgBygCACIHQYqUqNAAc0GBgoQIayAHQX9zcXJBgIGChHhxDQEg
AEEIaiIAIANNDQALCyAAIAZGBEAgAiEEDAMLA0AgACAFai0AAEEKRgRAIAAhAwwCCyAGIABBAWoiAEcNAAsgAiEEDAILIAMgBGoi
AEEBaiEEAkAgACACTw0AIAAgAWotAABBCkcNAEEAIQUgBCEDIAQhAAwDCyACIARPDQALC0EBIQUgAiIAIAgiA0YNAgsCQCAMLQAA
BEAgC0HUnMAAQQQgCigCDBEBAA0BCyABIAhqIQYgACAIayEHQQAhCSAMIAAgCEcEfyAGIAdqQQFrLQAAQQpGBSAJCzoAACADIQgg
CyAGIAcgCigCDBEBAEUNAQsLQQEhDQsgDQvPBAEEfyAAIAEQhAEhAgJAAkACQAJAAkACQAJAIAAQdQ0AIAAoAgAhAyAAEGoNASAB
IANqIQEgACADEIUBIgBBwKbAACgCAEYEQCACKAIEQQNxQQNHDQFBuKbAACABNgIAIAAgASACEE8PCyADQYACTwRAIAAQHAwBCyAA
QQxqKAIAIgQgAEEIaigCACIFRwRAIAUgBDYCDCAEIAU2AggMAQtBsKbAAEGwpsAAKAIAQX4gA0EDdndxNgIACyACEGUNAiACQcSm
wAAoAgBGDQQgAkHApsAAKAIARw0BQcCmwAAgADYCAEG4psAAQbimwAAoAgAgAWoiATYCACAAIAEQVA8LIAEgA2pBEGohAAwECyAC
EHQiAyABaiEBAkAgA0GAAk8EQCACEBwMAQsgAkEMaigCACIEIAJBCGooAgAiAkcEQCACIAQ2AgwgBCACNgIIDAELQbCmwABBsKbA
ACgCAEF+IANBA3Z3cTYCAAsgACABEFQgAEHApsAAKAIARw0BQbimwAAgATYCAA8LIAAgASACEE8LIAFBgAJPBEAgACABEB0PCyAB
QXhxQaikwABqIQICf0GwpsAAKAIAIgNBASABQQN2dCIBcUUEQEGwpsAAIAEgA3I2AgAgAgwBCyACKAIICyEBIAIgADYCCCABIAA2
AgwgACACNgIMIAAgATYCCA8LQcSmwAAgADYCAEG8psAAQbymwAAoAgAgAWoiATYCACAAIAFBAXI2AgQgAEHApsAAKAIARw0AQbim
wABBADYCAEHApsAAQQA2AgALC5ASAQ5/IwBBIGsiAyQAIANBGGpCADcDACADQRBqQgA3AwAgA0EIakIANwMAIANCADcDACADIAIg
AkEQahAUQQAhAgNAIAIgA2oiCiAKKAIAIAEgAmooAgBzNgIAIAJBBGoiAkEgRw0ACyABQYABaiEKIAFB4ABqIQ0gAUFAayEOIAFB
IGohD0EIIRADQCADEAwgAyADKAIYIgJBFndBv/78+QNxIAJBHndBwIGDhnxxciIGIAJzIgQgAygCHCICQRZ3Qb/+/PkDcSACQR53
QcCBg4Z8cXIiBSACcyICQQx3QY+evPgAcSACQRR3QfDhw4d/cXJzIAVzNgIcIAMgBiADKAIUIgVBFndBv/78+QNxIAVBHndBwIGD
hnxxciIHIAVzIgUgBEEMd0GPnrz4AHEgBEEUd0Hw4cOHf3Fyc3M2AhggAyADKAIQIgRBFndBv/78+QNxIARBHndBwIGDhnxxciIJ
IARzIgQgBUEMd0GPnrz4AHEgBUEUd0Hw4cOHf3FycyAHczYCFCADIAMoAgQiBUEWd0G//vz5A3EgBUEed0HAgYOGfHFyIgsgBXMi
BSADKAIIIgZBFndBv/78+QNxIAZBHndBwIGDhnxxciIHIAZzIgZBDHdBj568+ABxIAZBFHdB8OHDh39xcnMgB3M2AgggAyADKAIA
IgdBFndBv/78+QNxIAdBHndBwIGDhnxxciIIIAdzIgdBDHdBj568+ABxIAdBFHdB8OHDh39xciAIcyACczYCACADIAkgAygCDCII
QRZ3Qb/+/PkDcSAIQR53QcCBg4Z8cXIiDCAIcyIIIARBDHdBj568+ABxIARBFHdB8OHDh39xcnNzIAJzNgIQIAMgBiAIQQx3QY+e
vPgAcSAIQRR3QfDhw4d/cXJzIAxzIAJzNgIMIAMgByAFQQx3QY+evPgAcSAFQRR3QfDhw4d/cXJzIAtzIAJzNgIEQQAhAgNAIAIg
A2oiBCAEKAIAIAIgD2ooAgBzNgIAIAJBBGoiAkEgRw0ACyAQQegARgRAQQAhAgNAIAIgA2oiCiAKKAIAIgogCiAKQQR2c0GAnoD4
AHEiCkEEdHMgCnM2AgAgAkEEaiICQSBHDQALIAFBwANqIQEgAxAMQQAhAgNAIAIgA2oiCiAKKAIAIAEgAmooAgBzNgIAIAJBBGoi
AkEgRw0ACyAAIAMQFSADQSBqJAAFIAMQDCADIAMoAhgiAkEUd0GPnrz4AHEgAkEcd0Hw4cOHf3FyIgUgAnMiBiADKAIcIgJBFHdB
j568+ABxIAJBHHdB8OHDh39xciIEIAJzIgJBEHdzIARzNgIcIAMgBSADKAIUIgRBFHdBj568+ABxIARBHHdB8OHDh39xciIHIARz
IgggBkEQd3NzNgIYIAMgByADKAIQIgRBFHdBj568+ABxIARBHHdB8OHDh39xciIFIARzIgYgCEEQd3NzNgIUIAMgAygCBCIEQRR3
QY+evPgAcSAEQRx3QfDhw4d/cXIiByAEcyIIIAMoAggiBEEUd0GPnrz4AHEgBEEcd0Hw4cOHf3FyIgkgBHMiC0EQd3MgCXM2Aggg
AyADKAIAIgRBFHdBj568+ABxIARBHHdB8OHDh39xciIJIARzIgxBEHcgCXMgAnM2AgAgAyAFIAMoAgwiBEEUd0GPnrz4AHEgBEEc
d0Hw4cOHf3FyIgkgBHMiBCAGQRB3c3MgAnM2AhAgAyALIARBEHdzIAlzIAJzNgIMIAMgDCAIQRB3cyAHcyACczYCBEEAIQIDQCAC
IANqIgQgBCgCACACIA5qKAIAczYCACACQQRqIgJBIEcNAAsgAxAMIAMgAygCGCICQRJ3QYOGjBhxIAJBGndB/PnzZ3FyIgYgAnMi
BCADKAIcIgJBEndBg4aMGHEgAkEad0H8+fNncXIiBSACcyICQQx3QY+evPgAcSACQRR3QfDhw4d/cXJzIAVzNgIcIAMgBiADKAIU
IgVBEndBg4aMGHEgBUEad0H8+fNncXIiByAFcyIFIARBDHdBj568+ABxIARBFHdB8OHDh39xcnNzNgIYIAMgAygCECIEQRJ3QYOG
jBhxIARBGndB/PnzZ3FyIgkgBHMiBCAFQQx3QY+evPgAcSAFQRR3QfDhw4d/cXJzIAdzNgIUIAMgAygCBCIFQRJ3QYOGjBhxIAVB
GndB/PnzZ3FyIgsgBXMiBSADKAIIIgZBEndBg4aMGHEgBkEad0H8+fNncXIiByAGcyIGQQx3QY+evPgAcSAGQRR3QfDhw4d/cXJz
IAdzNgIIIAMgAygCACIHQRJ3QYOGjBhxIAdBGndB/PnzZ3FyIgggB3MiB0EMd0GPnrz4AHEgB0EUd0Hw4cOHf3FyIAhzIAJzNgIA
IAMgCSADKAIMIghBEndBg4aMGHEgCEEad0H8+fNncXIiDCAIcyIIIARBDHdBj568+ABxIARBFHdB8OHDh39xcnNzIAJzNgIQIAMg
BiAIQQx3QY+evPgAcSAIQRR3QfDhw4d/cXJzIAxzIAJzNgIMIAMgByAFQQx3QY+evPgAcSAFQRR3QfDhw4d/cXJzIAtzIAJzNgIE
QQAhAgNAIAIgA2oiBCAEKAIAIAIgDWooAgBzNgIAIAJBBGoiAkEgRw0ACyADEAwgAyADKAIYIgJBGHciBCACcyIFIAMoAhwiAkEY
dyIGIAJzIgJBEHdzIAZzNgIcIAMgBCADKAIUIgZBGHciByAGcyIGIAVBEHdzczYCGCADIAcgAygCECIEQRh3IgUgBHMiBCAGQRB3
c3M2AhQgAyADKAIEIgZBGHciByAGcyIGIAMoAggiCEEYdyIJIAhzIghBEHdzIAlzNgIIIAMgAygCACIJQRh3IgsgCXMiCUEQdyAL
cyACczYCACADIAUgAygCDCILQRh3IgwgC3MiCyAEQRB3c3MgAnM2AhAgAyAIIAtBEHdzIAxzIAJzNgIMIAMgCSAGQRB3cyAHcyAC
czYCBEEAIQIDQCACIANqIgQgBCgCACACIApqKAIAczYCACACQQRqIgJBIEcNAAsgCkGAAWohCiANQYABaiENIA5BgAFqIQ4gD0GA
AWohDyAQQSBqIRAMAQsLC4gEAQh/IAEoAgQiBQRAIAEoAgAhBANAAkAgA0EBaiECAn8gAiADIARqLQAAIgjAIglBAE4NABoCQAJA
AkACQAJAAkACQAJAAkACQAJAIAhBjKDAAGotAABBAmsOAwABAgwLQYyiwAAgAiAEaiACIAVPGy0AAEHAAXFBgAFHDQsgA0ECagwK
C0GMosAAIAIgBGogAiAFTxssAAAhByAIQeABayIGRQ0BIAZBDUYNAgwDC0GMosAAIAIgBGogAiAFTxssAAAhBiAIQfABaw4FBAMD
AwUDCyAHQWBxQaB/Rw0IDAYLIAdBn39KDQcMBQsgCUEfakH/AXFBDE8EQCAJQX5xQW5HIAdBQE5yDQcMBQsgB0FATg0GDAQLIAlB
D2pB/wFxQQJLIAZBQE5yDQUMAgsgBkHwAGpB/wFxQTBPDQQMAQsgBkGPf0oNAwtBjKLAACAEIANBAmoiAmogAiAFTxstAABBwAFx
QYABRw0CQYyiwAAgBCADQQNqIgJqIAIgBU8bLQAAQcABcUGAAUcNAiADQQRqDAELQYyiwAAgBCADQQJqIgJqIAIgBU8bLQAAQcAB
cUGAAUcNASADQQNqCyIDIgIgBUkNAQsLIAAgAzYCBCAAIAQ2AgAgASAFIAJrNgIEIAEgAiAEajYCACAAIAIgA2s2AgwgACADIARq
NgIIDwsgAEEANgIAC/QGAgx/AX4jAEHQAGsiAyQAIANBPGogASACECYCQCADKAI8BEAgA0EoaiADQcQAaiILKAIAIgE2AgAgAyAD
KQI8Ig83AyBBACECIANBGGogAUEAEDwgA0EANgJEIAMgAykDGDcCPCADQRBqIgQgASAPpyIFajYCBCAEIAU2AgAgAygCECIBIAMo
AhQiDEcEQANAIAEtAAAiBEEEdkHkiMAAai0AAEEEdCAEQQ9xQeSIwABqLQAAciENIAMoAkAgAkYEfyMAQRBrIggkACAIQQhqIQog
A0E8aiEJQQAhBiMAQSBrIgUkAAJAIAIgAkEBaiIESw0AQQggCSgCBCICQQF0IgYgBCAEIAZJGyIEIARBCE0bIgRBf3NBH3YhBgJA
IAJFBEAgBUEANgIYDAELIAUgAjYCHCAFQQE2AhggBSAJKAIANgIUCyAFQRRqIQcgBUEIaiICAn8CQAJ/AkACQCAGBEAgBEEASA0B
IAcoAgQEQCAHQQhqKAIAIg4EQCAHKAIAIA4gBiAEEFkMBQsLIARFDQJB3aLAAC0AABogBCAGEGAMAwsgAkEANgIEIAJBCGogBDYC
AAwDCyACQQA2AgQMAgsgBgsiBwRAIAIgBzYCBCACQQhqIAQ2AgBBAAwCCyACIAY2AgQgAkEIaiAENgIAC0EBCzYCACAFKAIMIQYg
BSgCCARAIAVBEGooAgAhBAwBCyAJIAQ2AgQgCSAGNgIAQYGAgIB4IQYLIAogBDYCBCAKIAY2AgAgBUEgaiQAAkACQCAIKAIIIgJB
gYCAgHhHBEAgAkUNASACIAgoAgwQegALIAhBEGokAAwBCxBHAAsgAygCRAUgAgsgAygCPGogDToAACADIAMoAkRBAWoiAjYCRCAB
QQFqIgEgDEcNAAsLIANBOGogCygCACIBNgIAIAMgAykCPCIPNwMwIANBPGogD6cgARALIAMoAjwNASADKAJAIQIgA0EIaiADQcQA
aigCACIBQQAQPCADKAIMIQQgAygCCCACIAEQggEhAiAAIAE2AgggACAENgIEIAAgAjYCACADQTBqEFEgA0EgahBRIANB0ABqJAAP
CyADIAMpAkA3AzBB3IfAAEErIANBMGpBmIjAAEHUiMAAEDQACyADIAMpAkA3A0hB3IfAAEErIANByABqQYiIwABB9IjAABA0AAuk
AwENfyAAIAIoAAwiAyABKAAMIgRBAXZzQdWq1aoFcSIIIANzIgMgAigACCIFIAEoAAgiBkEBdnNB1arVqgVxIgkgBXMiBUECdnNB
s+bMmQNxIgsgA3MiAyACKAAEIgcgASgABCIKQQF2c0HVqtWqBXEiDCAHcyIHIAIoAAAiAiABKAAAIgFBAXZzQdWq1aoFcSINIAJz
IgJBAnZzQbPmzJkDcSIOIAdzIgdBBHZzQY+evPgAcSIPIANzNgIcIAAgBCAIQQF0cyIDIAYgCUEBdHMiBEECdnNBs+bMmQNxIggg
A3MiAyAKIAxBAXRzIgYgASANQQF0cyIBQQJ2c0Gz5syZA3EiCSAGcyIGQQR2c0GPnrz4AHEiCiADczYCGCAAIAtBAnQgBXMiAyAO
QQJ0IAJzIgJBBHZzQY+evPgAcSIFIANzNgIUIAAgD0EEdCAHczYCDCAAIAhBAnQgBHMiAyAJQQJ0IAFzIgFBBHZzQY+evPgAcSIE
IANzNgIQIAAgCkEEdCAGczYCCCAAIAVBBHQgAnM2AgQgACAEQQR0IAFzNgIAC6QDAQ5/IAAgASgCHCICIAEoAhgiBEEBdnNB1arV
qgVxIgcgAnMiAiABKAIUIgUgASgCECIGQQF2c0HVqtWqBXEiCCAFcyIFQQJ2c0Gz5syZA3EiCSACcyICIAEoAgwiAyABKAIIIgtB
AXZzQdWq1aoFcSIMIANzIgMgASgCBCIKIAEoAgAiAUEBdnNB1arVqgVxIg0gCnMiCkECdnNBs+bMmQNxIg4gA3MiA0EEdnNBj568
+ABxIg8gAnM2ABwgACAJQQJ0IAVzIgIgDkECdCAKcyIFQQR2c0GPnrz4AHEiCSACczYAGCAAIA9BBHQgA3M2ABQgACAEIAdBAXRz
IgIgBiAIQQF0cyIEQQJ2c0Gz5syZA3EiByACcyICIAsgDEEBdHMiBiABIA1BAXRzIgFBAnZzQbPmzJkDcSIIIAZzIgZBBHZzQY+e
vPgAcSIDIAJzNgAMIAAgCUEEdCAFczYAECAAIAdBAnQgBHMiAiAIQQJ0IAFzIgFBBHZzQY+evPgAcSIEIAJzNgAIIAAgA0EEdCAG
czYABCAAIARBBHQgAXM2AAAL+wIBB38jAEEQayIEJAACQAJAAkACQAJAAkAgASgCBCICRQ0AIAEoAgAhBiACQQNxIQcCQCACQQRJ
BEBBACECDAELIAZBHGohAyACQXxxIQhBACECA0AgAygCACADQQhrKAIAIANBEGsoAgAgA0EYaygCACACampqaiECIANBIGohAyAI
IAVBBGoiBUcNAAsLIAcEQCAFQQN0IAZqQQRqIQMDQCADKAIAIAJqIQIgA0EIaiEDIAdBAWsiBw0ACwsgAUEMaigCAARAIAJBAEgN
ASAGKAIERSACQRBJcQ0BIAJBAXQhAgsgAg0BC0EBIQNBACECDAELIAJBAEgNAUHdosAALQAAGiACQQEQYCIDRQ0CCyAEQQA2Aggg
BCACNgIEIAQgAzYCACAEQbiZwAAgARANRQ0CQZiawABBMyAEQQ9qQcyawABB9JrAABA0AAsQRwALQQEgAhB6AAsgACAEKQIANwIA
IABBCGogBEEIaigCADYCACAEQRBqJAAL4wIBBX9BEEEIEFggAEsEQEEQQQgQWCEAC0EIQQgQWCEDQRRBCBBYIQJBEEEIEFghBAJA
QQBBEEEIEFhBAnRrIgVBgIB8IAQgAiADamprQXdxQQNrIgMgAyAFSxsgAGsgAU0NACAAQRAgAUEEakEQQQgQWEEFayABSxtBCBBY
IgNqQRBBCBBYakEEaxADIgJFDQAgAhCHASEBAkAgAEEBayIEIAJxRQRAIAEhAAwBCyACIARqQQAgAGtxEIcBIQJBEEEIEFghBCAB
EHQgAiAAQQAgAiABayAETRtqIgAgAWsiAmshBCABEGpFBEAgACAEEEwgASACEEwgASACEBAMAQsgASgCACEBIAAgBDYCBCAAIAEg
Amo2AgALAkAgABBqDQAgABB0IgJBEEEIEFggA2pNDQAgACADEIQBIQEgACADEEwgASACIANrIgMQTCABIAMQEAsgABCGASEGIAAQ
ahoLIAYLigMCBX8BfiMAQUBqIgUkAEEBIQcCQCAALQAEDQAgAC0ABSEJIAAoAgAiBigCHCIIQQRxRQRAIAYoAhRB25zAAEHYnMAA
IAkbQQJBAyAJGyAGQRhqKAIAKAIMEQEADQEgBigCFCABIAIgBigCGCgCDBEBAA0BIAYoAhRBqJzAAEECIAYoAhgoAgwRAQANASAD
IAYgBCgCDBEAACEHDAELIAlFBEAgBigCFEHdnMAAQQMgBkEYaigCACgCDBEBAA0BIAYoAhwhCAsgBUEBOgAbIAVBNGpBvJzAADYC
ACAFIAYpAhQ3AgwgBSAFQRtqNgIUIAUgBikCCDcCJCAGKQIAIQogBSAINgI4IAUgBigCEDYCLCAFIAYtACA6ADwgBSAKNwIcIAUg
BUEMaiIINgIwIAggASACEA8NACAFQQxqQaicwABBAhAPDQAgAyAFQRxqIAQoAgwRAAANACAFKAIwQeCcwABBAiAFKAI0KAIMEQEA
IQcLIABBAToABSAAIAc6AAQgBUFAayQAIAALiAQBBX8jAEEQayIDJAACQAJ/AkAgAUGAAU8EQCADQQA2AgwgAUGAEEkNASABQYCA
BEkEQCADIAFBP3FBgAFyOgAOIAMgAUEMdkHgAXI6AAwgAyABQQZ2QT9xQYABcjoADUEDDAMLIAMgAUE/cUGAAXI6AA8gAyABQQZ2
QT9xQYABcjoADiADIAFBDHZBP3FBgAFyOgANIAMgAUESdkEHcUHwAXI6AAxBBAwCCyAAKAIIIgIgACgCBEYEQCMAQSBrIgQkAAJA
AkAgAkEBaiICRQ0AQQggACgCBCIGQQF0IgUgAiACIAVJGyICIAJBCE0bIgVBf3NBH3YhAgJAIAZFBEAgBEEANgIYDAELIAQgBjYC
HCAEQQE2AhggBCAAKAIANgIUCyAEQQhqIAIgBSAEQRRqEC4gBCgCDCECIAQoAghFBEAgACAFNgIEIAAgAjYCAAwCCyACQYGAgIB4
Rg0BIAJFDQAgAiAEQRBqKAIAEHoACxBHAAsgBEEgaiQAIAAoAgghAgsgACACQQFqNgIIIAAoAgAgAmogAToAAAwCCyADIAFBP3FB
gAFyOgANIAMgAUEGdkHAAXI6AAxBAgshASABIAAoAgQgACgCCCICa0sEQCAAIAIgARAsIAAoAgghAgsgACgCACACaiADQQxqIAEQ
ggEaIAAgASACajYCCAsgA0EQaiQAQQALvgICBX8BfiMAQTBrIgQkAEEnIQICQCAAQpDOAFQEQCAAIQcMAQsDQCAEQQlqIAJqIgNB
BGsgACAAQpDOAIAiB0KQzgB+faciBUH//wNxQeQAbiIGQQF0QaqdwABqLwAAOwAAIANBAmsgBSAGQeQAbGtB//8DcUEBdEGqncAA
ai8AADsAACACQQRrIQIgAEL/wdcvViAHIQANAAsLIAenIgNB4wBLBEAgAkECayICIARBCWpqIAenIgMgA0H//wNxQeQAbiIDQeQA
bGtB//8DcUEBdEGqncAAai8AADsAAAsCQCADQQpPBEAgAkECayICIARBCWpqIANBAXRBqp3AAGovAAA7AAAMAQsgAkEBayICIARB
CWpqIANBMGo6AAALIAFBxJvAAEEAIARBCWogAmpBJyACaxAJIARBMGokAAuyAgEDfyMAQYABayIEJAACQAJAAn8CQCABKAIcIgJB
EHFFBEAgAkEgcQ0BIAA1AgAgARAaDAILIAAoAgAhAEEAIQIDQCACIARqQf8AakEwQdcAIABBD3EiA0EKSRsgA2o6AAAgAkEBayEC
IABBEEkgAEEEdiEARQ0ACyACQYABaiIAQYABSw0CIAFBqJ3AAEECIAIgBGpBgAFqQQAgAmsQCQwBCyAAKAIAIQBBACECA0AgAiAE
akH/AGpBMEE3IABBD3EiA0EKSRsgA2o6AAAgAkEBayECIABBEEkgAEEEdiEARQ0ACyACQYABaiIAQYABSw0CIAFBqJ3AAEECIAIg
BGpBgAFqQQAgAmsQCQsgBEGAAWokAA8LIABBgAFBmJ3AABA2AAsgAEGAAUGYncAAEDYAC7sCAQV/IAAoAhghAwJAAkAgACAAKAIM
RgRAIABBFEEQIABBFGoiASgCACIEG2ooAgAiAg0BQQAhAQwCCyAAKAIIIgIgACgCDCIBNgIMIAEgAjYCCAwBCyABIABBEGogBBsh
BANAIAQhBSACIgFBFGoiAiABQRBqIAIoAgAiAhshBCABQRRBECACG2ooAgAiAg0ACyAFQQA2AgALAkAgA0UNAAJAIAAgACgCHEEC
dEGYo8AAaiICKAIARwRAIANBEEEUIAMoAhAgAEYbaiABNgIAIAENAQwCCyACIAE2AgAgAQ0AQbSmwABBtKbAACgCAEF+IAAoAhx3
cTYCAA8LIAEgAzYCGCAAKAIQIgIEQCABIAI2AhAgAiABNgIYCyAAQRRqKAIAIgBFDQAgAUEUaiAANgIAIAAgATYCGAsLnwIBBH8g
AEIANwIQIAACf0EAIAFBgAJJDQAaQR8gAUH///8HSw0AGiABQQYgAUEIdmciAmt2QQFxIAJBAXRrQT5qCyIDNgIcIANBAnRBmKPA
AGohAgJAQbSmwAAoAgAiBEEBIAN0IgVxRQRAQbSmwAAgBCAFcjYCACACIAA2AgAMAQsgAigCACECIAMQUyEDAkACQCACEHQgAUYE
QCACIQMMAQsgASADdCEEA0AgAiAEQR12QQRxakEQaiIFKAIAIgNFDQIgBEEBdCEEIAMiAhB0IAFHDQALCyADKAIIIgEgADYCDCAD
IAA2AgggACADNgIMIAAgATYCCCAAQQA2AhgPCyAFIAA2AgALIAAgAjYCGCAAIAA2AgggACAANgIMC8QCAgR/AX4jAEFAaiIDJAAg
ACgCACEFIAACf0EBIAAtAAgNABogACgCBCIEKAIcIgZBBHFFBEBBASAEKAIUQducwABB5ZzAACAFG0ECQQEgBRsgBEEYaigCACgC
DBEBAA0BGiABIAQgAigCDBEAAAwBCyAFRQRAQQEgBCgCFEHmnMAAQQIgBEEYaigCACgCDBEBAA0BGiAEKAIcIQYLIANBAToAGyAD
QTRqQbycwAA2AgAgAyAEKQIUNwIMIAMgA0EbajYCFCADIAQpAgg3AiQgBCkCACEHIAMgBjYCOCADIAQoAhA2AiwgAyAELQAgOgA8
IAMgBzcCHCADIANBDGo2AjBBASABIANBHGogAigCDBEAAA0AGiADKAIwQeCcwABBAiADKAI0KAIMEQEACzoACCAAIAVBAWo2AgAg
A0FAayQAIAALXQEMf0GgpMAAKAIAIgIEQEGYpMAAIQYDQCACIgEoAgghAiABKAIEIQMgASgCACEEIAEoAgwaIAEhBiAFQQFqIQUg
Ag0ACwtB2KbAAEH/HyAFIAVB/x9NGzYCACAIC8YeAhB/A34jAEEgayIIJAAgCCACNgIYIAggAjYCFCAIIAE2AhAgCEEQahA+IAgo
AhghEyAIKAIQIQEgCCADBH8gCCAENgIYIAggBDYCFCAIIAM2AhAgCEEQahA+IAggCCgCGCICNgIMIAggAjYCCCAIKAIQBUEACzYC
BCAIQRBqIREjAEGgCWsiBSQAAkACQAJAAkACQCAIQQRqIgMoAgBFBEAgBUHwBGpB4InAAEEsEBMgBSgC8AQiAkUNASAFIAUoAvgE
Igc2AiwgBSAFKAL0BDYCKCAFIAI2AiQMAgsgBUGYAWogA0EIaigCACICNgIAIAUgAykCACIWNwOQASAFQfAEaiAWpyACEBMgBSgC
8AQiAgRAIAUgBSgC+AQiBzYCLCAFIAUoAvQENgIoIAUgAjYCJCAFQZABahBRDAILIAUoAvQEIQIgEUEANgIAIBEgAjYCBCAFQZAB
ahBRDAILIAUoAvQEIQIgEUEANgIAIBEgAjYCBAwBCyAHQSBHBEBBnIrAAEEJEAEhAiARQQA2AgAgESACNgIEIAVBJGoQUQwBCyAF
QcgAaiIHIAJBGGopAAA3AwAgBUFAayIEIAJBEGopAAA3AwAgBUE4aiIDIAJBCGopAAA3AwAgBSACKQAANwMwIAVBGGogE0EAEDwg
BSgCHCECIAUoAhggASATEIIBIQogBSATNgJcIAUgAjYCWCAFIAo2AlQgBUH4AGogBykDADcDACAFQfAAaiAEKQMANwMAIAVB6ABq
IAMpAwA3AwAgBSAFKQMwNwNgIAVBkAFqIAVB4ABqEAggBUEQaiATQXBxIg1BEGoiDkEBEDwgBSAONgKMASAFIAUoAhQ2AogBIAUg
BSgCECISNgKEASAOIBNJDQEgBUHwBGoiECAFQZABakHgAxCCARogBUGACWoiA0IANwAAIANBCGpCADcAACADIAogDWogE0EPcSIC
EIIBGiACIANqQRAgAmsiAiACEIEBGiAFQdgIaiAFQYgJaikAADcDACAFIAUpAIAJNwPQCCAFIBNBBHY2AogJIAUgEjYChAkgBSAK
NgKACSMAQUBqIgkkACADKAIIIhRBAXEgAygCBCEHIAMoAgAhBCAUQQJPBEAgFEEBdiEGIAQhAyAHIQIDQCAJQSBqIBAgAxARIAJB
GGogCUE4aikDADcAACACQRBqIAlBMGopAwA3AAAgAkEIaiAJQShqKQMANwAAIAIgCSkDIDcAACADQSBqIQMgAkEgaiECIAZBAWsi
Bg0ACwsEQCAJEE0gCUEIaiAEIBRB/v///wBxQQR0IgNqIgJBCGopAAA3AwAgCSACKQAANwMAIAlBIGogECAJEBEgAyAHaiICQQhq
IAlBKGopAAA3AAAgAiAJKQAgNwAACyAJQUBrJAAgEkUNASAFQeAIaiICEE0gBUHoCGogBUHYCGopAwA3AwAgBSAFKQPQCDcD4Agg
BUGACWogBUHwBGoiFCACEBEgDSASaiICQQhqIAVBiAlqKQAANwAAIAIgBSkAgAk3AAAgBUEIaiAOQQAQPCAFKAIMIQMgBSgCCCAS
IA4QggEhAiAFIA42AvgEIAUgAzYC9AQgBSACNgLwBCMAQTBrIgwkACAMQRBqIQYgFCgCCCIPIRBBqILAAC0AACEKIwBBIGsiDSQA
IBBBgICAgHxJIQQgEEEDbiICQQJ0IQMCQCAQIAJBA2xrIgdFBEAgAyECDAELAkACQAJAIApFBEBBAiECIAdBAWsOAgMCAQsgEEGA
gICAfEkgA0EEaiICIANPcSEEDAMLIA1BEGpCADcCACANQQE2AgggDUHgjsAANgIEIA0gDUEcajYCDCANQQRqQcyPwAAQSAALQQMh
AgsgAiADciECCyAGIAI2AgQgBiAENgIAIA1BIGokAAJAAkAgDCgCEARAIAxBCGogDCgCFCILQQEQPCAMKAIMIRAgDCgCCCEJQQAh
B0EAIQQCQAJAAkACfyAUKAIAIQ5BACECAkAgD0EbSQ0AIA9BGmsiAkEAIAIgD00bIQoCQANAIA8gB0Eaak8EQCAEQWBGDQIgCyAE
QSBqIgJJBEAgAiALQZSVwAAQOAALIAQgCWoiBiAHIA5qIgQpAAAiFUI4hiIWQjqIp0GrgsAAai0AADoAACAGQQRqIBVCgICA+A+D
QgiGIhdCIoinQauCwABqLQAAOgAAIAZBAWogFiAVQoD+A4NCKIaEIhZCNIinQT9xQauCwABqLQAAOgAAIAZBAmogFiAVQoCA/AeD
QhiGIBeEhCIXQi6Ip0E/cUGrgsAAai0AADoAACAGQQNqIBdCKIinQT9xQauCwABqLQAAOgAAIAZBBmogFUIIiEKAgID4D4MgFUIY
iEKAgPwHg4QgFUIoiEKA/gODIBVCOIiEhCIWpyIDQRZ2QT9xQauCwABqLQAAOgAAIAZBB2ogA0EQdkE/cUGrgsAAai0AADoAACAG
QQVqIBYgF4RCHIinQT9xQauCwABqLQAAOgAAIAZBCGogBEEGaikAACIVQjiGIhZCOoinQauCwABqLQAAOgAAIAZBCWogFiAVQoD+
A4NCKIaEIhdCNIinQT9xQauCwABqLQAAOgAAIAZBCmogFyAVQoCAgPgPg0IIhiIWIBVCgID8B4NCGIaEhCIXQi6Ip0E/cUGrgsAA
ai0AADoAACAGQQtqIBdCKIinQT9xQauCwABqLQAAOgAAIAZBDGogFkIiiKdBq4LAAGotAAA6AAAgBkENaiAXIBVCCIhCgICA+A+D
IBVCGIhCgID8B4OEIBVCKIhCgP4DgyAVQjiIhIQiFoRCHIinQT9xQauCwABqLQAAOgAAIAZBDmogFqciA0EWdkE/cUGrgsAAai0A
ADoAACAGQQ9qIANBEHZBP3FBq4LAAGotAAA6AAAgBkEQaiAEQQxqKQAAIhVCOIYiFkI6iKdBq4LAAGotAAA6AAAgBkERaiAWIBVC
gP4Dg0IohoQiF0I0iKdBP3FBq4LAAGotAAA6AAAgBkESaiAXIBVCgICA+A+DQgiGIhYgFUKAgPwHg0IYhoSEIhdCLoinQT9xQauC
wABqLQAAOgAAIAZBE2ogF0IoiKdBP3FBq4LAAGotAAA6AAAgBkEUaiAWQiKIp0GrgsAAai0AADoAACAGQRZqIBVCCIhCgICA+A+D
IBVCGIhCgID8B4OEIBVCKIhCgP4DgyAVQjiIhIQiFqciA0EWdkE/cUGrgsAAai0AADoAACAGQRdqIANBEHZBP3FBq4LAAGotAAA6
AAAgBkEVaiAWIBeEQhyIp0E/cUGrgsAAai0AADoAACAGQRhqIARBEmopAAAiFUI4hiIWQjqIp0GrgsAAai0AADoAACAGQRlqIBYg
FUKA/gODQiiGhCIXQjSIp0E/cUGrgsAAai0AADoAACAGQRpqIBcgFUKAgID4D4NCCIYiFiAVQoCA/AeDQhiGhIQiF0IuiKdBP3FB
q4LAAGotAAA6AAAgBkEbaiAXQiiIp0E/cUGrgsAAai0AADoAACAGQRxqIBZCIoinQauCwABqLQAAOgAAIAZBHWogFyAVQgiIQoCA
gPgPgyAVQhiIQoCA/AeDhCAVQiiIQoD+A4MgFUI4iISEIhaEQhyIp0E/cUGrgsAAai0AADoAACAGQR5qIBanIgNBFnZBP3FBq4LA
AGotAAA6AAAgBkEfaiADQRB2QT9xQauCwABqLQAAOgAAIAIhBCAKIAdBGGoiB08NAQwDCwsgB0EaaiAPQYSVwAAQOAALQWBBAEGU
lcAAEDkACwJAAkACQAJAAkACfwJAAkACQAJAAkACQCAPIA9BA3AiBmsiEiAHTQRAIAIhAwwBCwNAIAdBfEsNAiAHQQNqIgQgD0sN
AyACQQRqIQMgAkF7Sw0EIAMgC0sEQCADIAtB9JTAABA4AAsgAiAJaiINIAcgDmoiAi0AACIKQQJ2QauCwABqLQAAOgAAIA1BA2og
AkECai0AACIHQT9xQauCwABqLQAAOgAAIA1BAmogAkEBai0AACICQQJ0IAdBBnZyQT9xQauCwABqLQAAOgAAIA1BAWogCkEEdCAC
QQR2ckE/cUGrgsAAai0AADoAACADIQIgBCIHIBJJDQALCyAGQQFrDgIDBAYLIAcgB0EDakHklMAAEDkACyAHQQNqIA9B5JTAABA4
AAsgAiADQfSUwAAQOQALIAMgC0kEQEECIQcgAyAJaiAOIBJqLQAAIgJBAnZBq4LAAGotAAA6AAAgAkEEdEEwcSALIANBAWoiBEsN
AhogBCALQdSUwAAQNwALIAMgC0HElMAAEDcACyADIAtPDQIgAyAJaiAOIBJqLQAAIgJBAnZBq4LAAGotAAA6AAAgEkEBaiIKIA9P
DQMgA0EBaiIEIAtPDQRBAyEHIAQgCWogAkEEdCAKIA5qLQAAIgJBBHZyQT9xQauCwABqLQAAOgAAIANBAmoiBCALTw0FIAJBAnRB
PHELIQIgBCAJaiACQauCwABqLQAAOgAAIAMgB2ohAwsgAwwECyADIAtBhJTAABA3AAsgCiAPQZSUwAAQNwALIAQgC0GklMAAEDcA
CyAEIAtBtJTAABA3AAsiCkGogsAALQAABH8gCiALSw0BAn8gCSAKaiECIAsgCmshB0EAIQMCQEEAIAprQQNxIgQEQANAIAMgB0YN
AiACIANqQT06AAAgBCADQQFqIgNHDQALCyAEDAELIAcgB0Hcj8AAEDcACwVBAAsgCmpLDQEMAgsgCiALQdCFwAAQNgALQeCFwABB
KkGMhsAAED0ACyAMQRxqIAkgCxALIAwoAhwEQCAMKQIgIhZCgICAgPAfg0KAgICAIFINAgsgESALNgIIIBEgEDYCBCARIAk2AgAg
FBBRIAxBMGokAAwCC0GCh8AAQS1BsIfAABA9AAsgDCAWNwIoIAwgCzYCJCAMIBA2AiAgDCAJNgIcQcCHwABBDCAMQRxqQZCBwABB
zIfAABA0AAsgBUGEAWoQUSAFQdQAahBRIAVBJGoQUQsgBUGgCWokAAwBC0Hch8AAQSsgBUHwBGpBuIjAAEGMisAAEDQACyAIKAIY
IQIgCCgCFCEDIAgoAhAhBCATBEAgARAFCyAAIAQEfyAIIAI2AhggCCADNgIUIAggBDYCECAIQRBqED4gCCgCGCEBIAgoAhAhBEEA
IQNBAAVBAQs2AgwgACADNgIIIAAgATYCBCAAIAQ2AgAgCEEgaiQAC9wRAg1/AX4jAEEgayIHJAAgByACNgIYIAcgAjYCFCAHIAE2
AhAgB0EQahA+IAcoAhghDyAHKAIQIQEgByADBH8gByAENgIYIAcgBDYCFCAHIAM2AhAgB0EQahA+IAcgBygCGCICNgIMIAcgAjYC
CCAHKAIQBUEACzYCBCAHQRBqIQsjAEHgCGsiBSQAAkACQAJAIAdBBGoiAigCAEUEQCAFQfQEakHgicAAQSwQEyAFKAL0BCIDRQ0B
IAUgBSgC/AQiBDYCLCAFIAUoAvgENgIoIAUgAzYCJAwCCyAFQZgBaiACQQhqKAIAIgM2AgAgBSACKQIAIhI3A5ABIAVB9ARqIBKn
IAMQEyAFKAL0BCIDBEAgBSAFKAL8BCIENgIsIAUgBSgC+AQ2AiggBSADNgIkIAVBkAFqEFEMAgsgBSgC+AQhAiALQQA2AgAgCyAC
NgIEIAVBkAFqEFEMAgsgBSgC+AQhAiALQQA2AgAgCyACNgIEDAELAkACQAJAIARBIEYEQCAFQcgAaiIEIANBGGopAAA3AwAgBUFA
ayIJIANBEGopAAA3AwAgBUE4aiIGIANBCGopAAA3AwAgBSADKQAANwMwIAVB9ARqIAEgDxAmIAUoAvQEIgINAUG4isAAQRwQASEC
IAtBADYCACALIAI2AgQMAgtBnIrAAEEJEAEhAiALQQA2AgAgCyACNgIEDAELIAUgBSgC/AQiCjYCXCAFIAUoAvgENgJYIAUgAjYC
VCAFQfgAaiAEKQMANwMAIAVB8ABqIAkpAwA3AwAgBUHoAGogBikDADcDACAFIAUpAzA3A2AgBUGQAWoiAyAFQeAAahAIIAVBGGog
CkEBEDwgBSAKNgKMASAFIAUoAhw2AogBIAUgBSgCGCIJNgKEASAFQfQEaiADQeADEIIBGgJAIApBD3ENACAFIAk2AtgIIAUgAjYC
1AggBSAKQQR2Igw2AtwIIAVB9ARqIQ4jAEFAaiIIJAAgBUHUCGoiAigCCCINQQFxIAIoAgQhAyACKAIAIQYgDUECTwRAIA1BAXYh
ECAGIQQgAyECA0AgCEEgaiAOIAQQDiACQRhqIAhBOGopAwA3AAAgAkEQaiAIQTBqKQMANwAAIAJBCGogCEEoaikDADcAACACIAgp
AyA3AAAgBEEgaiEEIAJBIGohAiAQQQFrIhANAAsLBEAgCBBNIAhBCGogBiANQf7///8AcUEEdCICaiIEQQhqKQAANwMAIAggBCkA
ADcDACAIQSBqIA4gCBAOIAIgA2oiAkEIaiAIQShqKQAANwAAIAIgCCkAIDcAAAsgCEFAayQAIAVBEGohCCAJIQJBACEDQQAhBgJA
AkACQCAMRQ0AIAxBBHQgAmpBEGstAA8iBEERa0H/AXFB8AFJDQBBACAEayEDQRAgBGsgAiAMQQR0aiEOAkADQCADQX9GDQEgAyAO
aiEGIANBAWohAyAGLQAAIARGDQALQQAhAwwBC0ERTw0BIAxBBHQgBGshBiACIQMLIAggBjYCBCAIIAM2AgAMAQtB5YDAAEEZQYCB
wAAQQwALIAUoAhBFDQACQCAKRQRAQQAhBgwBCyAKIAkgCmpBAWstAAAiAmshBiACIApLDQMLIAVB9ARqIQhBACEEIwBB8ABrIgMk
ACADQShqIgIgBjYCBCACIAk2AgAgAyADKQMoNwI0IANB0ABqIANBNGoQEgJAAkACQAJAIAMoAlAEQCADQegAaiADQdgAaikCADcD
ACADIAMpAlA3A2AgA0EgaiADQeAAaiICEH4gAygCJCEJIAMoAiAhCiADQRhqIAIQfyADKAIcRQRAIAggCjYCBCAIQQA2AgAgCEEI
aiAJNgIADAILAkAgBkUEQEEBIQIMAQsgBkEASA0DQd2iwAAtAAAaIAZBARBgIgJFDQQLIANBADYCRCADIAI2AjwgAyAGNgJAIAYg
CUkEfyADQTxqQQAgCRAtIAMoAkQhBCADKAI8BSACCyAEaiAKIAkQggEaIAMgBCAJaiIGNgJEIAMoAkAgBmtBAk0EQCADQTxqIAZB
AxAtIAMoAkQhBgsgAygCPCICIAZqIgRBhJvAAC8AACIJOwAAIARBAmpBhpvAAC0AACIKOgAAIAMgBkEDaiIGNgJEIAMgAykCNDcC
SCADQdAAaiADQcgAahASIAMoAlAEQANAIANB6ABqIANB2ABqKQIANwMAIAMgAykCUDcDYCADQRBqIANB4ABqEH4gAygCECEMIAMo
AhQiBCADKAJAIAZrSwRAIANBPGogBiAEEC0gAygCRCEGIAMoAjwhAgsgAiAGaiAMIAQQggEaIAMgBCAGaiIGNgJEIANBCGogA0Hg
AGoQfyADKAIMBEAgAygCQCAGa0ECTQRAIANBPGogBkEDEC0gAygCRCEGCyADKAI8IgIgBmoiBCAJOwAAIARBAmogCjoAACADIAZB
A2oiBjYCRAsgA0HQAGogA0HIAGoQEiADKAJQDQALCyAIIAMpAjw3AgAgCEEIaiADQcQAaigCADYCAAwBCyAIQbiZwAA2AgQgCEEA
NgIAIAhBCGpBADYCAAsgA0HwAGokAAwCCxBHAAtBASAGEHoACwJAIAUoAvQEIgNFBEAgBSgC+AQhBCAFQQhqIAVB/ARqKAIAIgZB
ABA8IAUoAgwhAiAFKAIIIgMgBCAGEIIBGgwBCyAFKAL8BCEGIAUoAvgEIQILIAsgBjYCCCALIAI2AgQgCyADNgIAIAVBhAFqEFEg
BUHUAGoQUSAFQSRqEFEMAwtB1IrAAEEeEAEhAiALQQA2AgAgCyACNgIEIAVBhAFqEFEgBUHUAGoQUQsgBUEkahBRDAELIAYgCkGo
isAAEDgACyAFQeAIaiQAIAcoAhghAiAHKAIUIQMgBygCECEEIA8EQCABEAULIAAgBAR/IAcgAjYCGCAHIAM2AhQgByAENgIQIAdB
EGoQPiAHKAIYIQEgBygCECEEQQAhA0EABUEBCzYCDCAAIAM2AgggACABNgIEIAAgBDYCACAHQSBqJAALjQIBAn8jAEEQayICJAAC
QCAAKAIAIgMtAABFBEAgASgCFEGNosAAQQQgAUEYaigCACgCDBEBACEADAELQQEhACACIANBAWo2AgAgAiABKAIUQZGiwABBBCAB
QRhqKAIAKAIMEQEAOgAMIAIgATYCCCACQQA6AA0gAkEANgIEIAJBBGogAkHsnMAAEB4gAi0ADCEBKAIAIgNFBEAgAUEARyEADAEL
IAENACACKAIIIQECQCADQQFHDQAgAi0ADUUNACABLQAcQQRxDQAgASgCFEHonMAAQQEgAUEYaigCACgCDBEBAA0BCyABKAIUQcSb
wABBASABQRhqKAIAKAIMEQEAIQALIAJBEGokACAAC/ABAgR/AX4jAEEwayICJAAgAUEEaiEEIAEoAgRFBEAgASgCACEDIAJBLGoi
BUEANgIAIAJCATcCJCACQSRqQaCXwAAgAxANGiACQSBqIAUoAgAiAzYCACACIAIpAiQiBjcDGCAEQQhqIAM2AgAgBCAGNwIACyAC
QRBqIgMgBEEIaigCADYCACABQQxqQQA2AgAgBCkCACEGIAFCATcCBEHdosAALQAAGiACIAY3AwhBDEEEEGAiAUUEQEEEQQwQegAL
IAEgAikDCDcCACABQQhqIAMoAgA2AgAgAEHQmMAANgIEIAAgATYCACACQTBqJAAL1wYBCn8jAEEQayIFJAAgBSACNgIIIAUgAjYC
BCAFIAE2AgAgBRA+IAUoAgghCyAFKAIAIQEgBSAENgIIIAUgBDYCBCAFIAM2AgAgBRA+IAUoAgAiDCEEIAUoAgghAyMAQfABayIC
JAAgAiALNgIEIAIgATYCACACIAM2AgwgAiAENgIIIAJBmAFqQYSJwABBLBATIAIoApgBRQRAIAIgAigCnAE2AkBB3IfAAEErIAJB
QGtBqIjAAEGwicAAEDQACyACQRhqIAJBoAFqKAIANgIAIAIgAikCmAE3AxAgAkHMAGpCAzcCACACQawBakEDNgIAIAJBpAFqIg1B
BDYCACACQQM2AkQgAkHAicAANgJAIAJBAzYCnAEgAiACQZgBaiIHNgJIIAIgAkEIajYCqAEgAiACQRBqIg42AqABIAIgAjYCmAEg
AkEcaiIEIAJBQGsiCRAWIAlBAEHAABCBARogAkGIAWpC/rnrxemOlZkQNwIAIAJCgcaUupbx6uZvNwKAASACQgA3ApABIAkgAigC
HCACKAIkECggBBBRIAcgCUHYABCCARogAkEoaiEKQQAhBCMAQdAAayIGJAAgBkEAQTgQgQEiBiAHKAJQIgg2AjggBiAHQdQAaigC
ADYCPCAHQfKKwABBOEH4ACAIQQN2QT9xIghBOEkbIAhrECgDQCAEIAZqIAQgB2ooAgA2AgAgBEEEaiIEQThHDQALIAdBQGsiCCAG
EAQgBkIANwNIIAZCADcDQEFwIQQDQCAEIAZqQdAAaiAEIAhqQRBqKAIANgIAIARBBGoiBA0ACyAKIAYpA0g3AAggCiAGKQNANwAA
IAZB0ABqJAAgDUIBNwIAIAJBATYCnAEgAkHYicAANgKYASACQQU2AjwgAiACQThqNgKgASACIAo2AjggCSAHEBYgBUEIaiACQcgA
aigCADYCACAFIAIpA0A3AgAgDhBRIAJB8AFqJAAgBSgCCCEGIAUoAgQhBCAFKAIAIQIgAwRAIAwQBQsgCwRAIAEQBQsgACACBH8g
BSAGNgIIIAUgBDYCBCAFIAI2AgAgBRA+IAUoAgghASAFKAIAIQNBACEEQQAFQQELNgIMIAAgBDYCCCAAIAE2AgQgACADNgIAIAVB
EGokAAvaAQEBfyMAQRBrIgUkACAFIAAoAhQgASACIABBGGooAgAoAgwRAQA6AAwgBSAANgIIIAUgAkU6AA0gBUEANgIEIAVBBGog
A0Hsj8AAEB4gBEHYi8AAEB4hAAJ/IAUtAAwiAUEARyAAKAIAIgJFDQAaQQEgAQ0AGiAFKAIIIQACQCACQQFHDQAgBS0ADUUNACAA
LQAcQQRxDQBBASAAKAIUQeicwABBASAAQRhqKAIAKAIMEQEADQEaCyAAKAIUQcSbwABBASAAQRhqKAIAKAIMEQEACyAFQRBqJAAL
jSICEX8IfiMAQTBrIgkkACAJQQhqIhEgAkEDdiACQQdxIgNBAEdqNgIAIBEgAkECdiACQQNxQQBHakEDbDYCBCAJIAkpAwg3AhAg
CSAJQRBqKAIEIg5BARA8IAkgDjYCICAJIAkoAgQ2AhwgCSAJKAIAIhE2AhggCUEkaiEGIAEhDCAJKAIQIQogCSgCFBpBqoLAAC0A
ACETQamCwAAtAAAhEgJAAkACQAJAAkACQAJAAkACQAJAAkAgAw4GAAUBAgMFBAtBCCEDDAMLQQohAwwCC0ELIQMMAQtBDCEDC0EA
IQEgAiADayIEQQAgAiAETxsiD0EgTw0BDAMLIAJFDQEgDCACQQFrIgFqLQAAIgJBPUYNASACQeuCwABqLQAAQf8BRw0BIAZBADoA
BCAGQQI2AgAgBkEIaiABNgIAIAZBBWogAjoAAAwECyAPQSBrIQsCQAJAAkACQANAIAVBYEYNASAFQSBqIgEgAksNAiAIQRpqIA5L
DQMCQAJAIAUgDGoiBy0AACIDQeuCwABqMQAAIhlC/wFRDQAgB0EBai0AACIDQeuCwABqMQAAIhdC/wFRBEAgBUEBaiEFDAELIAdB
AmotAAAiA0HrgsAAajEAACIYQv8BUQRAIAVBAmohBQwBCyAHQQNqLQAAIgNB64LAAGoxAAAiGkL/AVEEQCAFQQNqIQUMAQsgB0EE
ai0AACIDQeuCwABqMQAAIhRC/wFRBEAgBUEEaiEFDAELIAdBBWotAAAiA0HrgsAAajEAACIVQv8BUQRAIAVBBWohBQwBCyAHQQZq
LQAAIgNB64LAAGoxAAAiG0L/AVEEQCAFQQZqIQUMAQsgB0EHai0AACIDQeuCwABqMQAAIhZC/wFSDQEgBUEHaiEFCyAGQQI2AgAg
BiADrUIIhiAFrUIghoQ3AgQMCQsgCCARaiINIBdCNIYgGUI6hoQiFyAYQi6GhCIYIBpCKIaEIBRCIoaEIhQgFUIchoQiFSAbQhaG
hCAWQhCGhCIWQoD+A4NCKIYgFkKAgPwHg0IYhiAWQoCAgPgPg0IIhoSEIBVCCIhCgICA+A+DIBRCGIhCgID8B4OEIBhCKIhCgP4D
gyAXQjiIhISENwAAQQghAyAHQQhqLQAAIgRB64LAAGoxAAAiGUL/AVENBEEJIQMgB0EJai0AACIEQeuCwABqMQAAIhdC/wFRDQRB
CiEDIAdBCmotAAAiBEHrgsAAajEAACIYQv8BUQ0EQQshAyAHQQtqLQAAIgRB64LAAGoxAAAiGkL/AVENBEEMIQMgB0EMai0AACIE
QeuCwABqMQAAIhRC/wFRDQRBDSEDIAdBDWotAAAiBEHrgsAAajEAACIVQv8BUQ0EQQ4hAyAHQQ5qLQAAIgRB64LAAGoxAAAiG0L/
AVENBEEPIQMgB0EPai0AACIEQeuCwABqMQAAIhZC/wFRDQQgDUEGaiAXQjSGIBlCOoaEIhcgGEIuhoQiGCAaQiiGhCAUQiKGhCIU
IBVCHIaEIhUgG0IWhoQgFkIQhoQiFkKA/gODQiiGIBZCgID8B4NCGIYgFkKAgID4D4NCCIaEhCAVQgiIQoCAgPgPgyAUQhiIQoCA
/AeDhCAYQiiIQoD+A4MgF0I4iISEhDcAAEEQIQMCQCAHQRBqLQAAIgRB64LAAGoxAAAiGUL/AVENAEERIQMgB0ERai0AACIEQeuC
wABqMQAAIhdC/wFRDQBBEiEDIAdBEmotAAAiBEHrgsAAajEAACIYQv8BUQ0AQRMhAyAHQRNqLQAAIgRB64LAAGoxAAAiGkL/AVEN
AEEUIQMgB0EUai0AACIEQeuCwABqMQAAIhRC/wFRDQBBFSEDIAdBFWotAAAiBEHrgsAAajEAACIVQv8BUQ0AQRYhAyAHQRZqLQAA
IgRB64LAAGoxAAAiG0L/AVENAEEXIQMgB0EXai0AACIEQeuCwABqMQAAIhZC/wFRDQAgDUEMaiAXQjSGIBlCOoaEIhcgGEIuhoQi
GCAaQiiGhCAUQiKGhCIUIBVCHIaEIhUgG0IWhoQgFkIQhoQiFkKA/gODQiiGIBZCgID8B4NCGIYgFkKAgID4D4NCCIaEhCAVQgiI
QoCAgPgPgyAUQhiIQoCA/AeDhCAYQiiIQoD+A4MgF0I4iISEhDcAAEEYIQMgB0EYai0AACIEQeuCwABqMQAAIhlC/wFRDQhBGSED
IAdBGWotAAAiBEHrgsAAajEAACIXQv8BUQ0IQRohAyAHQRpqLQAAIgRB64LAAGoxAAAiGEL/AVENCEEbIQMgB0Ebai0AACIEQeuC
wABqMQAAIhpC/wFRDQhBHCEDIAdBHGotAAAiBEHrgsAAajEAACIUQv8BUQ0IQR0hAyAHQR1qLQAAIgRB64LAAGoxAAAiFUL/AVEN
CEEeIQMgB0Eeai0AACIEQeuCwABqMQAAIhtC/wFRDQhBHyEDIAdBH2otAAAiBEHrgsAAajEAACIWQv8BUQ0IIA1BEmogF0I0hiAZ
QjqGhCIXIBhCLoaEIhggGkIohoQgFEIihoQiFCAVQhyGhCIVIBtCFoaEIBZCEIaEIhZCgP4Dg0IohiAWQoCA/AeDQhiGIBZCgICA
+A+DQgiGhIQgFUIIiEKAgID4D4MgFEIYiEKAgPwHg4QgGEIoiEKA/gODIBdCOIiEhIQ3AAAgCkEEayEKIAhBGGohCCALIAEiBUkN
BwwBCwsMBgtBYEEAQayRwAAQOQALIAEgAkGskcAAEDgACyAIQRpqIA5BvJHAABA4AAsMAgsgBkECNgIAIAZBAToABAwCCwJAAkAg
D0EISQ0AIAEgD0EIayIFTw0AAkACQAJAAkACQANAIAFBCGohBCABQXhGDQIgAiAESQ0DIAhBd0sNBCAIQQhqIA5LDQUgASAMaiIL
LQAAIgNB64LAAGoxAAAiGUL/AVENASALQQFqLQAAIgNB64LAAGoxAAAiF0L/AVEEQCABQQFyIQEMAgsgC0ECai0AACIDQeuCwABq
MQAAIhhC/wFRBEAgAUECciEBDAILIAtBA2otAAAiA0HrgsAAajEAACIaQv8BUQRAIAFBA3IhAQwCCyALQQRqLQAAIgNB64LAAGox
AAAiFEL/AVEEQCABQQRyIQEMAgsgC0EFai0AACIDQeuCwABqMQAAIhVC/wFRBEAgAUEFciEBDAILIAtBBmotAAAiA0HrgsAAajEA
ACIbQv8BUQRAIAFBBnIhAQwCCyALQQdqLQAAIgNB64LAAGoxAAAiFkL/AVIEQCAIIBFqIBdCNIYgGUI6hoQiFyAYQi6GhCIYIBpC
KIaEIBRCIoaEIhQgFUIchoQiFSAbQhaGhCAWQhCGhCIWQoD+A4NCKIYgFkKAgPwHg0IYhiAWQoCAgPgPg0IIhoSEIBVCCIhCgICA
+A+DIBRCGIhCgID8B4OEIBhCKIhCgP4DgyAXQjiIhISENwAAIApBAWshCiAIQQZqIQggBSAEIgFNDQgMAQsLIAFBB3IhAQsgBkEC
NgIAIAYgAa1CIIYgA61CCIaENwIEDAcLQXggBEHMkcAAEDkACyAEIAJBzJHAABA4AAsgCCAIQQhqQdyRwAAQOQALIAhBCGogDkHc
kcAAEDgACyABIQQLAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgCkECSQRAIAghCgwBCyAKQQFrIQUgAiAE
ayEDA0AgAiAESQ0DIAhBBmohCiAIQXlLDQQgCiAOSw0FIAIgBEYNBiAEIAxqIgstAAAiAUHrgsAAajEAACIZQv8BUQ0TIANBAkkN
ByALQQFqLQAAIgFB64LAAGoxAAAiGkL/AVENAiADQQJNDQggC0ECai0AACIBQeuCwABqMQAAIhtC/wFRDQkgA0EDTQ0KIAtBA2ot
AAAiAUHrgsAAajEAACIWQv8BUQ0LIANBBE0NDCALQQRqLQAAIgFB64LAAGoxAAAiF0L/AVENDSADQQVNDQ4gC0EFai0AACIBQeuC
wABqMQAAIhhC/wFRDQ8gA0EGTQ0QIAtBBmotAAAiAUHrgsAAajEAACIUQv8BUQ0RIANBB00NEiALQQdqLQAAIgFB64LAAGoxAAAi
FUL/AVEEQCAEQQdqIQQMFAsgCCARaiIBIBpCNIYgGUI6hoQgG0IuhoQgFkIohoQgF0IihoQgGEIchoQgFEIWhoQiFEIIiEKAgID4
D4MgFEIYiEKAgPwHg4QgFEIoiEKA/gODIBRCOIiEhD4AACABQQRqIBQgFUIQhoQiFUKAgPwHg0IYhiAVQoCAgPgPg0IIhoRCIIg9
AAAgA0EIayEDIARBCGohBCAKIQggBUEBayIFDQALCyASQQBHIRJBACENQQAhCEEAIQNCACEUQQAhB0EAIQEjAEEgayIQJAACQAJA
AkACQAJAIAIgBE8EQCACIARGBEBBACECDAMLIAIgDGohDyAEIAxqIQwDQEEAIQUDQCAFIAdqIQ0gBSAMaiILLQAAIgJBPUcEQAJA
IAVFBEAgAkHrgsAAajEAACIVQv8BUQ0BIA1BAWohByAVIAhBAWoiCEE6bEE+ca2GIBSEIRRBACENIAIhASALQQFqIgwgD0cNBAwH
CyAGQYD6ADsBBCAGQQI2AgAgBkEIaiADIARqNgIADAcLIAZBADoABCAGQQI2AgAgBkEFaiACOgAAIAZBCGogBCAHaiAFajYCAAwG
CyADIA0gBRshAyANQQJxBEAgDCAFQQFqIgVqIA9GDQQMAQsLCyAGQYD6ADsBBCAGQQI2AgAgBkEIaiADIARqNgIADAMLIAQgAkHo
jMAAEDYACyAPIAxrIQ0gASECCwJAAkACQAJAIBNBAWsOAgEAAwsgDQ0BDAILIAggDWpBA3FFDQEgBkECNgIAIAZBAzoABAwCCyAG
QQI2AgAgBkEDOgAEDAELQQAhBQJAAn8CQAJAAkACQAJAAkACQCAIIgwOCQgAAQIDAAQFBgALIBBBEGpCADcCACAQQQE2AgggEEGI
jsAANgIEIBAgEEEcajYCDCAQQQRqQZCOwAAQSAALQQgMBQtBEAwEC0EYDAMLQSAMAgtBKAwBC0EwCyEMQQEhBQsgEkUgFCAMrYZC
AFJxRQRAIAUEQCAKIA4gCiAOSxshAUEAIQJBOCEFA0AgASAKRg0EIAogEWogFCAFQThxrYg8AAAgBUEIayEFIApBAWohCiACQQhq
IgIgDEkNAAsLIAYgCjYCCCAGIAMgBGo2AgQgBiANQQBHNgIADAELIAZBAjoABCAGQQI2AgAgBkEFaiACOgAAIAZBCGogBCAIakEB
azYCAAsgEEEgaiQADAELIAEgDkH4jMAAEDcACwwTCyAEQQFqIQQMEAsgBCACQeyRwAAQNgALIAggCkH8kcAAEDkACyAKIA5B/JHA
ABA4AAtBAEEAQYySwAAQNwALQQFBAUGcksAAEDcAC0ECQQJBrJLAABA3AAsgBEECaiEEDAkLQQNBA0G8ksAAEDcACyAEQQNqIQQM
BwtBBEEEQcySwAAQNwALIARBBGohBAwFC0EFQQVB3JLAABA3AAsgBEEFaiEEDAMLQQZBBkHsksAAEDcACyAEQQZqIQQMAQtBB0EH
QfySwAAQNwALIAZBAjYCACAGIAGtQgiGIAStQiCGhDcCBAwBCyAGQQI2AgAgBiAErUIIhiADIAVqrUIghoQ3AgQLAkAgCSgCJEEC
RwRAIAlBLGooAgAiASAOTQRAIAkgATYCIAsgACAJKQIYNwIAIABBCGogCUEgaigCADYCAAwBCyAJKQIoIRUgAEEANgIAIAAgFTcC
BCAJQRhqEFELIAlBMGokAAvKAQACQAJAIAEEQCACQQBIDQECQAJAAn8gAygCBARAIANBCGooAgAiAUUEQCACRQRAQQEhAQwEC0Hd
osAALQAAGiACQQEQYAwCCyADKAIAIAFBASACEFkMAQsgAkUEQEEBIQEMAgtB3aLAAC0AABogAkEBEGALIgFFDQELIAAgATYCBCAA
QQhqIAI2AgAgAEEANgIADwsgAEEBNgIEDAILIABBADYCBAwBCyAAQQA2AgQgAEEBNgIADwsgAEEIaiACNgIAIABBATYCAAvFAQEE
fyMAQUBqIgMkACADQQBBwAAQgQEhAyAAIAAoAlAiBiACQQN0aiIENgJQIABB1ABqIgUgBSgCACACQR12aiAEIAZJajYCACACBEAg
ASACaiEEIABBQGshBSAGQQN2QT9xIQIDQCAAIAJqIAEtAAA6AAAgAkEBaiICQcAARgRAQQAhAgNAIAIgA2ogACACaigCADYCACAC
QQRqIgJBwABHDQALIAUgAxAEQQAhAgsgAUEBaiIBIARHDQALCyADQUBrJAALhAIBAn8jAEEgayIGJABBlKPAAEGUo8AAKAIAIgdB
AWo2AgACQAJAIAdBAEgNAEHgpsAALQAADQBB4KbAAEEBOgAAQdymwABB3KbAACgCAEEBajYCACAGIAU6AB0gBiAEOgAcIAYgAzYC
GCAGIAI2AhQgBkGYmcAANgIQIAZB9JbAADYCDEGEo8AAKAIAIgJBAEgNAEGEo8AAIAJBAWo2AgBBhKPAAEGMo8AAKAIABH8gBiAA
IAEoAhARAgAgBiAGKQMANwIMQYyjwAAoAgAgBkEMakGQo8AAKAIAKAIUEQIAQYSjwAAoAgBBAWsFIAILNgIAQeCmwABBADoAACAE
DQELAAsAC70BAQR/QXAhBCAAIAFBAnRqIQBB+AAgASABQfgATxtB+ABrIQYCQAJAA0AgASAEaiIDQfgATw0CIAUgBkYNASAAIABB
QGooAgAgACgCACACeEGDhowYcXMiA0ECdEH8+fNncSADQQR0QfDhw4d/cXMgA0EGdEHAgYOGfHFzIANzNgIAIARBAWohBCAAQQRq
IQAgBUEBayIFQXhHDQALDwsgASAFa0H4AEG8lsAAEDcACyADQfgAQayWwAAQNwAL2QEBAn8jAEEQayICJAAgAiAAQQRqNgIEIAEo
AhRBraLAAEEJIAFBGGooAgAoAgwRAQAhAyACQQA6AA0gAiADOgAMIAIgATYCCCACQQhqQbaiwABBCyAAQZiiwAAQGEHBosAAQQkg
AkEEakHMosAAEBghAyACLQAMIQACfyAAQQBHIAItAA1FDQAaQQEgAA0AGiADKAIAIgAtABxBBHFFBEAgACgCFEHjnMAAQQIgACgC
GCgCDBEBAAwBCyAAKAIUQeKcwABBASAAKAIYKAIMEQEACyACQRBqJAALyAEBAn8jAEEgayIDJAACQAJAIAEgASACaiIBSw0AQQgg
ACgCBCICQQF0IgQgASABIARJGyIBIAFBCE0bIgRBf3NBH3YhAQJAIAJFBEAgA0EANgIYDAELIAMgAjYCHCADQQE2AhggAyAAKAIA
NgIUCyADQQhqIAEgBCADQRRqEC4gAygCDCEBIAMoAghFBEAgACAENgIEIAAgATYCAAwCCyABQYGAgIB4Rg0BIAFFDQAgASADQRBq
KAIAEHoACxBHAAsgA0EgaiQAC8gBAQJ/IwBBIGsiAyQAAkACQCABIAEgAmoiAUsNAEEIIAAoAgQiAkEBdCIEIAEgASAESRsiASAB
QQhNGyIEQX9zQR92IQECQCACRQRAIANBADYCGAwBCyADIAI2AhwgA0EBNgIYIAMgACgCADYCFAsgA0EIaiABIAQgA0EUahAnIAMo
AgwhASADKAIIRQRAIAAgBDYCBCAAIAE2AgAMAgsgAUGBgICAeEYNASABRQ0AIAEgA0EQaigCABB6AAsQRwALIANBIGokAAusAQEB
fwJAAkAgAQRAIAJBAEgNAQJ/IAMoAgQEQAJAIANBCGooAgAiBEUEQAwBCyADKAIAIAQgASACEFkMAgsLIAEgAkUNABpB3aLAAC0A
ABogAiABEGALIgMEQCAAIAM2AgQgAEEIaiACNgIAIABBADYCAA8LIAAgATYCBCAAQQhqIAI2AgAMAgsgAEEANgIEIABBCGogAjYC
AAwBCyAAQQA2AgQLIABBATYCAAusAQEDfyMAQdAAayICJAADQAJAIAIgACADajYCDCACQQ02AiwgAkEBNgIkIAJBATYCFCACQbSL
wAA2AhAgAkEBNgIcIAIgAkEMajYCKCACQQM6AEwgAkEINgJIIAJCIDcCQCACQoCAgIAgNwI4IAJBAjYCMCACIAJBMGo2AiAgAiAC
QShqNgIYIAEgAkEQahBcIgQNACADQQFqIgNBEEcNAQsLIAJB0ABqJAAgBAuPAQEDfyMAQYABayIDJAAgAC0AACECQQAhAANAIAAg
A2pB/wBqQTBB1wAgAkEPcSIEQQpJGyAEajoAACAAQQFrIQAgAiIEQQR2IQIgBEEQTw0ACyAAQYABaiICQYABSwRAIAJBgAFBmJ3A
ABA2AAsgAUGoncAAQQIgACADakGAAWpBACAAaxAJIANBgAFqJAALkgEBAX8jAEFAaiICJAAgAkIANwM4IAJBOGogACgCABACIAJB
GGpCATcCACACIAIoAjwiADYCNCACIAA2AjAgAiACKAI4NgIsIAJBDjYCKCACQQI2AhAgAkHIi8AANgIMIAIgAkEsajYCJCACIAJB
JGo2AhQgASACQQxqEFwgAigCMARAIAIoAiwQBQsgAkFAayQAC4sBAQF/IwBBEGsiAiQAAn8CQAJAAkACQCAALQAAQQFrDgMBAgMA
CyACIABBAWo2AgggAUGJkMAAQQsgAEEEaiACQQhqECUMAwsgAUH8j8AAQQ0QVQwCCyACIABBAWo2AgwgAUGUkMAAQREgAEEEaiAC
QQxqECUMAQsgAUGlkMAAQQ4QVQsgAkEQaiQAC4wBAgN/AX4jAEEgayICJAAgAUEEaiEDIAEoAgRFBEAgASgCACEBIAJBHGoiBEEA
NgIAIAJCATcCFCACQRRqQaCXwAAgARANGiACQRBqIAQoAgAiATYCACACIAIpAhQiBTcDCCADQQhqIAE2AgAgAyAFNwIACyAAQdCY
wAA2AgQgACADNgIAIAJBIGokAAt9AQF/IwBBQGoiBSQAIAUgATYCDCAFIAA2AgggBSADNgIUIAUgAjYCECAFQSRqQgI3AgAgBUE8
akEuNgIAIAVBAjYCHCAFQaycwAA2AhggBUEvNgI0IAUgBUEwajYCICAFIAVBEGo2AjggBSAFQQhqNgIwIAVBGGogBBBIAAt4AQJ/
IAFBD2ohAiAAIAFBAnRqIQBBICEBAkACQANAIAJBCGtB+ABPDQIgAkH4AE8NASAAIAFqIgNBHGogA0EEaygCADYCACACQQFrIQIg
AUEEayIBDQALDwsgAkH4AEHclsAAEDcACyACQQhrQfgAQcyWwAAQNwALbAEBfyMAQTBrIgMkACADIAA2AgAgAyABNgIEIANBFGpC
AjcCACADQSxqQRI2AgAgA0ECNgIMIANBqJ/AADYCCCADQRI2AiQgAyADQSBqNgIQIAMgA0EEajYCKCADIAM2AiAgA0EIaiACEEgA
C2wBAX8jAEEwayIDJAAgAyABNgIEIAMgADYCACADQRRqQgI3AgAgA0EsakESNgIAIANBAjYCDCADQZicwAA2AgggA0ESNgIkIAMg
A0EgajYCECADIAM2AiggAyADQQRqNgIgIANBCGogAhBIAAtsAQF/IwBBMGsiAyQAIAMgADYCACADIAE2AgQgA0EUakICNwIAIANB
LGpBEjYCACADQQI2AgwgA0HIn8AANgIIIANBEjYCJCADIANBIGo2AhAgAyADQQRqNgIoIAMgAzYCICADQQhqIAIQSAALbAEBfyMA
QTBrIgMkACADIAA2AgAgAyABNgIEIANBFGpCAjcCACADQSxqQRI2AgAgA0ECNgIMIANB/J/AADYCCCADQRI2AiQgAyADQSBqNgIQ
IAMgA0EEajYCKCADIAM2AiAgA0EIaiACEEgAC/sDAgd/AX4jAEEQayIEJAAgACgCCCEGIAAoAgAhACABKAIUQdCbwABBASABQRhq
KAIAKAIMEQEAIQMgBEEEaiICQQA6AAUgAiADOgAEIAIgATYCACAGBEADQCAEIAA2AgwgBEEMaiEIIwBBQGoiASQAQQEhAwJAIARB
BGoiBS0ABA0AIAUtAAUhAwJAIAUoAgAiAigCHCIHQQRxRQRAIANFDQFBASEDIAIoAhRB25zAAEECIAJBGGooAgAoAgwRAQBFDQEM
AgsgA0UEQEEBIQMgAigCFEHpnMAAQQEgAkEYaigCACgCDBEBAA0CIAIoAhwhBwtBASEDIAFBAToAGyABQTRqQbycwAA2AgAgASAC
KQIUNwIMIAEgAUEbajYCFCABIAIpAgg3AiQgAikCACEJIAEgBzYCOCABIAIoAhA2AiwgASACLQAgOgA8IAEgCTcCHCABIAFBDGo2
AjAgCCABQRxqQbSZwAAoAgARAAANASABKAIwQeCcwABBAiABKAI0KAIMEQEAIQMMAQsgCCACQbSZwAAoAgARAAAhAwsgBUEBOgAF
IAUgAzoABCABQUBrJAAgAEEBaiEAIAZBAWsiBg0ACwsgBEEEaiIALQAEBH9BAQUgACgCACIAKAIUQfycwABBASAAQRhqKAIAKAIM
EQEACyAEQRBqJAALZwAjAEEwayIAJABB3KLAAC0AAARAIABBGGpCATcCACAAQQI2AhAgAEHcl8AANgIMIABBEjYCKCAAIAE2Aiwg
ACAAQSRqNgIUIAAgAEEsajYCJCAAQQxqQYSYwAAQSAALIABBMGokAAt3AAJAAkACQCABRQRAQQEhAgwBCyABQQBIDQECfyACRQRA
Qd2iwAAtAAAaIAFBARBgDAELAkAgARADIgJFDQAgAhCHARBqDQAgAkEAIAEQgQEaCyACCyICRQ0CCyAAIAE2AgQgACACNgIADwsQ
RwALQQEgARB6AAtbAQF/IwBBMGsiAyQAIAMgATYCDCADIAA2AgggA0EcakIBNwIAIANBATYCFCADQcibwAA2AhAgA0EvNgIsIAMg
A0EoajYCGCADIANBCGo2AiggA0EQaiACEEgAC7sCAQd/IwBBEGsiBSQAAkAgACgCCCIEIAAoAgRPDQAgBUEIaiEGIwBBIGsiASQA
AkAgBCAAKAIETQRAIAFBCGohAgJAIAAoAgQiA0UEQCACQQA2AgQMAQsgAiADNgIIIAJBATYCBCACIAAoAgA2AgALAkACQCABKAIM
IgJFDQAgAUEQaigCACEDIAEoAgghByAERQRAIAMEQCAHEAULIABCATcCAAwBCyAHIAMgAiAEEFkiA0UNASAAIAQ2AgQgACADNgIA
C0GBgICAeCECCyAGIAQ2AgQgBiACNgIAIAFBIGokAAwBCyABQRRqQgA3AgAgAUEBNgIMIAFBxIHAADYCCCABQZCBwAA2AhAgAUEI
akGYgsAAEEgACyAFKAIIIgBBgYCAgHhGDQAgACAFKAIMEHoACyAFQRBqJAALTwECfyAAKAIEIQIgACgCACEDAkAgACgCCCIALQAA
RQ0AIANB1JzAAEEEIAIoAgwRAQBFDQBBAQ8LIAAgAUEKRjoAACADIAEgAigCEBEAAAtCAQF/IAIgACgCBCAAKAIIIgNrSwRAIAAg
AyACECwgACgCCCEDCyAAKAIAIANqIAEgAhCCARogACACIANqNgIIQQALTQECf0HdosAALQAAGiABKAIEIQIgASgCACEDQQhBBBBg
IgFFBEBBBEEIEHoACyABIAI2AgQgASADNgIAIABB4JjAADYCBCAAIAE2AgALQgEBfyACIAAoAgQgACgCCCIDa0sEQCAAIAMgAhAt
IAAoAgghAwsgACgCACADaiABIAIQggEaIAAgAiADajYCCEEAC0cBAX8jAEEgayIDJAAgA0EMakIANwIAIANBATYCBCADQcSbwAA2
AgggAyABNgIcIAMgADYCGCADIANBGGo2AgAgAyACEEgAC+cBAQN/IwBBEGsiAyQAIAMgAEEMajYCDCMAQRBrIgIkACABKAIUQaSb
wABBDSABQRhqKAIAKAIMEQEAIQQgAkEAOgANIAIgBDoADCACIAE2AgggAkEIakGHm8AAQQUgAEG0m8AAEBhBjJvAAEEFIANBDGpB
lJvAABAYIQACfyACLQAMIgFBAEcgAi0ADUUNABpBASABDQAaIAAoAgAiAC0AHEEEcUUEQCAAKAIUQeOcwABBAiAAKAIYKAIMEQEA
DAELIAAoAhRB4pzAAEEBIAAoAhgoAgwRAQALIAJBEGokACADQRBqJAALNwACQCABaUEBR0GAgICAeCABayAASXINACAABEBB3aLA
AC0AABogACABEGAiAUUNAQsgAQ8LAAs5AAJAAn8gAkGAgMQARwRAQQEgACACIAEoAhARAAANARoLIAMNAUEACw8LIAAgAyAEIAEo
AgwRAQALPwEBfyMAQSBrIgAkACAAQRRqQgA3AgAgAEEBNgIMIABBgJrAADYCCCAAQbiZwAA2AhAgAEEIakGImsAAEEgAC8kCAQJ/
IwBBIGsiAiQAIAJBATsBHCACIAE2AhggAiAANgIUIAJB1JvAADYCECACQcSbwAA2AgwjAEEQayIBJAACQCACQQxqIgAoAgwiAgRA
IAAoAggiA0UNASABIAI2AgwgASAANgIIIAEgAzYCBCMAQRBrIgAkACABQQRqIgEoAgAiAkEMaigCACEDAkACfwJAAkAgAigCBA4C
AAEDCyADDQJBACECQfSWwAAMAQsgAw0BIAIoAgAiAygCBCECIAMoAgALIQMgACACNgIEIAAgAzYCACAAQfCYwAAgASgCBCIAKAII
IAEoAgggAC0AECAALQARECkACyAAQQA2AgQgACACNgIAIABBhJnAACABKAIEIgAoAgggASgCCCAALQAQIAAtABEQKQALQfSWwABB
K0GwmMAAEEMAC0H0lsAAQStBwJjAABBDAAstAAJAIANpQQFHQYCAgIB4IANrIAFJckUEQCAAIAEgAyACEFkiAA0BCwALIAALsgEB
A38gACgCACEAIAEQZ0UEQCABEGhFBEAgADEAACABEBoPCyMAQYABayIDJAAgAC0AACEAA0AgAiADakH/AGpBMEE3IABBD3EiBEEK
SRsgBGo6AAAgAkEBayECIAAiBEEEdiEAIARBEE8NAAsgAkGAAWoiAEGAAUsEQCAAQYABQZidwAAQNgALIAFBqJ3AAEECIAIgA2pB
gAFqQQAgAmsQCSADQYABaiQADwsgACABEDALpwIBA38gARBnRQRAIAEQaEUEQCAAIAEQbg8LIwBBgAFrIgMkACAAKAIAIQADQCAC
IANqQf8AakEwQTcgAEEPcSIEQQpJGyAEajoAACACQQFrIQIgAEEQSSAAQQR2IQBFDQALIAJBgAFqIgBBgAFLBEAgAEGAAUGYncAA
EDYACyABQaidwABBAiACIANqQYABakEAIAJrEAkgA0GAAWokAA8LIwBBgAFrIgMkACAAKAIAIQADQCACIANqQf8AakEwQdcAIABB
D3EiBEEKSRsgBGo6AAAgAkEBayECIABBEEkgAEEEdiEARQ0ACyACQYABaiIAQYABSwRAIABBgAFBmJ3AABA2AAsgAUGoncAAQQIg
AiADakGAAWpBACACaxAJIANBgAFqJAALJwAgACAAKAIEQQFxIAFyQQJyNgIEIAAgAWoiACAAKAIEQQFyNgIECycAIABCADcAACAA
QRhqQgA3AAAgAEEQakIANwAAIABBCGpCADcAAAsgAQF/AkAgACgCBCIBRQ0AIABBCGooAgBFDQAgARAFCwsjACACIAIoAgRBfnE2
AgQgACABQQFyNgIEIAAgAWogATYCAAseACAAIAFBA3I2AgQgACABaiIAIAAoAgRBAXI2AgQLEQAgACgCBARAIAAoAgAQBQsLGQEB
fyAAKAIQIgEEfyABBSAAQRRqKAIACwsSAEEZIABBAXZrQQAgAEEfRxsLFgAgACABQQFyNgIEIAAgAWogATYCAAsZACAAKAIUIAEg
AiAAQRhqKAIAKAIMEQEACxwAIAEoAhRBqKLAAEEFIAFBGGooAgAoAgwRAQALFAAgACgCACIAQYQBTwRAIAAQAAsLEAAgACABakEB
a0EAIAFrcQuLBgEGfwJ/IAAhBQJAAkACQAJAAkAgAkEJTwRAIAIgAxAXIgcNAUEADAYLQQhBCBBYIQBBFEEIEFghAUEQQQgQWCEC
QQBBEEEIEFhBAnRrIgRBgIB8IAIgACABamprQXdxQQNrIgAgACAESxsgA00NA0EQIANBBGpBEEEIEFhBBWsgA0sbQQgQWCECIAUQ
hwEiACAAEHQiBBCEASEBAkACQAJAAkACQAJAIAAQakUEQCACIARNDQQgAUHEpsAAKAIARg0GIAFBwKbAACgCAEYNAyABEGUNCSAB
EHQiBiAEaiIIIAJJDQkgCCACayEEIAZBgAJJDQEgARAcDAILIAAQdCEBIAJBgAJJDQggASACa0GBgAhJIAJBBGogAU1xDQQgASAA
KAIAIgFqQRBqIQQgAkEfakGAgAQQWCECDAgLIAFBDGooAgAiCSABQQhqKAIAIgFHBEAgASAJNgIMIAkgATYCCAwBC0GwpsAAQbCm
wAAoAgBBfiAGQQN2d3E2AgALQRBBCBBYIARNBEAgACACEIQBIQEgACACEEwgASAEEEwgASAEEBAgAA0JDAcLIAAgCBBMIAANCAwG
C0G4psAAKAIAIARqIgQgAkkNBQJAQRBBCBBYIAQgAmsiAUsEQCAAIAQQTEEAIQFBACEEDAELIAAgAhCEASIEIAEQhAEhBiAAIAIQ
TCAEIAEQVCAGIAYoAgRBfnE2AgQLQcCmwAAgBDYCAEG4psAAIAE2AgAgAA0HDAULQRBBCBBYIAQgAmsiAUsNACAAIAIQhAEhBCAA
IAIQTCAEIAEQTCAEIAEQEAsgAA0FDAMLQbymwAAoAgAgBGoiBCACSw0BDAILIAcgBSABIAMgASADSRsQggEaIAUQBQwCCyAAIAIQ
hAEhASAAIAIQTCABIAQgAmsiAkEBcjYCBEG8psAAIAI2AgBBxKbAACABNgIAIAANAgsgAxADIgFFDQAgASAFIAAQdEF4QXwgABBq
G2oiACADIAAgA0kbEIIBIAUQBQwCCyAHDAELIAAQahogABCGAQsLCwAgAQRAIAAQBQsLDwAgAEEBdCIAQQAgAGtyCxMAIAAoAhQg
AEEYaigCACABEA0LFAAgACgCACABIAAoAgQoAgwRAAALEAAgACgCACAAKAIEIAEQfQsQACAAKAIAIAAoAgggARB9CxkAAn8gAUEJ
TwRAIAEgABAXDAELIAAQAwsLIQAgAEKYo6rL4I761NYANwMIIABCq6qJm/b22twaNwMACyAAIABC5N7HhZDQhd59NwMIIABCwff5
6MyTstFBNwMACyIAIABCqrDurabN4qqqfzcDCCAAQrusqeeAuviazQA3AwALEwAgAEHgmMAANgIEIAAgATYCAAsNACAALQAEQQJx
QQF2CxAAIAEgACgCACAAKAIEEAYLDQAgAC0AHEEQcUEEdgsNACAALQAcQSBxQQV2CwoAQQAgAGsgAHELCwAgAC0ABEEDcUULDAAg
ACABQQNyNgIECw0AIAAoAgAgACgCBGoLDgAgACgCABoDQAwACwALCwAgADUCACABEBoLCwAgACMAaiQAIwALBgAgABBRCwsAIAAo
AgAgARAwCw0AIAFB7JbAAEEIEFULDQAgAEGgl8AAIAEQDQsKACAAKAIEQXhxCwoAIAAoAgRBAXELCgAgACgCDEEBcQsKACAAKAIM
QQF2CwsAIAAoAgAgARArCw0AIABBuJnAACABEA0LGQAgACABQYCjwAAoAgAiAEETIAAbEQIAAAuIBAEFfyMAQRBrIgMkAAJAAn8C
QCABQYABTwRAIANBADYCDCABQYAQSQ0BIAFBgIAESQRAIAMgAUE/cUGAAXI6AA4gAyABQQx2QeABcjoADCADIAFBBnZBP3FBgAFy
OgANQQMMAwsgAyABQT9xQYABcjoADyADIAFBBnZBP3FBgAFyOgAOIAMgAUEMdkE/cUGAAXI6AA0gAyABQRJ2QQdxQfABcjoADEEE
DAILIAAoAggiAiAAKAIERgRAIwBBIGsiBCQAAkACQCACQQFqIgJFDQBBCCAAKAIEIgZBAXQiBSACIAIgBUkbIgIgAkEITRsiBUF/
c0EfdiECAkAgBkUEQCAEQQA2AhgMAQsgBCAGNgIcIARBATYCGCAEIAAoAgA2AhQLIARBCGogAiAFIARBFGoQJyAEKAIMIQIgBCgC
CEUEQCAAIAU2AgQgACACNgIADAILIAJBgYCAgHhGDQEgAkUNACACIARBEGooAgAQegALEEcACyAEQSBqJAAgACgCCCECCyAAIAJB
AWo2AgggACgCACACaiABOgAADAILIAMgAUE/cUGAAXI6AA0gAyABQQZ2QcABcjoADEECCyEBIAEgACgCBCAAKAIIIgJrSwRAIAAg
AiABEC0gACgCCCECCyAAKAIAIAJqIANBDGogARCCARogACABIAJqNgIICyADQRBqJABBAAsNACAAQbycwAAgARANCwoAIAIgACAB
EAYLDAAgACABKQIANwMACwwAIAAgASkCCDcDAAu3AgEDfwJ/IAAoAgAhACMAQYABayIEJAACQAJAAn8CQCABKAIcIgNBEHFFBEAg
A0EgcQ0BIAAxAAAgARAaDAILIAAtAAAhAANAIAIgBGpB/wBqQTBB1wAgAEEPcSIDQQpJGyADajoAACACQQFrIQIgACIDQQR2IQAg
A0EQTw0ACyACQYABaiIAQYABSw0CIAFBqJ3AAEECIAIgBGpBgAFqQQAgAmsQCQwBCyAALQAAIQADQCACIARqQf8AakEwQTcgAEEP
cSIDQQpJGyADajoAACACQQFrIQIgACIDQQR2IQAgA0EQTw0ACyACQYABaiIAQYABSw0CIAFBqJ3AAEECIAIgBGpBgAFqQQAgAmsQ
CQsgBEGAAWokAAwCCyAAQYABQZidwAAQNgALIABBgAFBmJ3AABA2AAsLrwEBA38gASEFAkAgAkEQSQRAIAAhAQwBCyAAQQAgAGtB
A3EiA2ohBCADBEAgACEBA0AgASAFOgAAIAFBAWoiASAESQ0ACwsgBCACIANrIgJBfHEiA2ohASADQQBKBEAgBUH/AXFBgYKECGwh
AwNAIAQgAzYCACAEQQRqIgQgAUkNAAsLIAJBA3EhAgsgAgRAIAEgAmohAgNAIAEgBToAACABQQFqIgEgAkkNAAsLIAALuAIBB38C
QCACIgRBEEkEQCAAIQIMAQsgAEEAIABrQQNxIgNqIQUgAwRAIAAhAiABIQYDQCACIAYtAAA6AAAgBkEBaiEGIAJBAWoiAiAFSQ0A
CwsgBSAEIANrIghBfHEiB2ohAgJAIAEgA2oiA0EDcQRAIAdBAEwNASADQQN0IgRBGHEhCSADQXxxIgZBBGohAUEAIARrQRhxIQQg
BigCACEGA0AgBSAGIAl2IAEoAgAiBiAEdHI2AgAgAUEEaiEBIAVBBGoiBSACSQ0ACwwBCyAHQQBMDQAgAyEBA0AgBSABKAIANgIA
IAFBBGohASAFQQRqIgUgAkkNAAsLIAhBA3EhBCADIAdqIQELIAQEQCACIARqIQMDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiAD
SQ0ACwsgAAsLAEGEicAAQSwQAQsHACAAIAFqCwcAIAAgAWsLBwAgAEEIagsHACAAQQhrCwMAAQsL7SEEAEGAgMAAC/MKL1VzZXJz
L21hZ3Vhbmd6aGkvLmNhcmdvL3JlZ2lzdHJ5L3NyYy9pbmRleC5jcmF0ZXMuaW8tNmYxN2QyMmJiYTE1MDAxZi9ibG9jay1wYWRk
aW5nLTAuMy4zL3NyYy9saWIucnNhc3NlcnRpb24gZmFpbGVkOiBuIDw9IGJzAAAAABAAZQAAAFEAAAARAAAAAQAAABQAAAAEAAAA
AgAAAFRyaWVkIHRvIHNocmluayB0byBhIGxhcmdlciBjYXBhY2l0eaAAEAAkAAAAL3J1c3RjLzc5ZTk3MTZjOTgwNTcwYmZkMWY2
NjZlM2IxNmFjNTgzZjAxNjg5NjIvbGlicmFyeS9hbGxvYy9zcmMvcmF3X3ZlYy5yc8wAEABMAAAArgEAAAkAAAABAAFBQkNERUZH
SElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsv////////////////////////
/////////////////////////////////z7///8/NDU2Nzg5Ojs8Pf////////8AAQIDBAUGBwgJCgsMDQ4PEBESExQVFhcYGf//
/////xobHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIz////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////y9Vc2Vycy9tYWd1YW5nemhpLy5jYXJnby9yZWdpc3RyeS9zcmMvaW5kZXguY3JhdGVzLmlvLTZmMTdkMjJi
YmExNTAwMWYvYmFzZTY0LTAuMjEuMi9zcmMvZW5jb2RlLnJzAAAAawIQAGIAAABQAAAAMwAAAHVzaXplIG92ZXJmbG93IHdoZW4g
Y2FsY3VsYXRpbmcgYjY0IGxlbmd0aAAAawIQAGIAAABXAAAACgAAAC9Vc2Vycy9tYWd1YW5nemhpLy5jYXJnby9yZWdpc3RyeS9z
cmMvaW5kZXguY3JhdGVzLmlvLTZmMTdkMjJiYmExNTAwMWYvYmFzZTY0LTAuMjEuMi9zcmMvZW5naW5lL21vZC5yc2ludGVnZXIg
b3ZlcmZsb3cgd2hlbiBjYWxjdWxhdGluZyBidWZmZXIgc2l6ZQAcAxAAZgAAAHcAAAAOAAAASW52YWxpZCBVVEY4HAMQAGYAAAB8
AAAAIAAAAGNhbGxlZCBgUmVzdWx0Ojp1bndyYXAoKWAgb24gYW4gYEVycmAgdmFsdWUABgAAAAgAAAAEAAAABwAAAAYAAAAIAAAA
BAAAAAgAAAAJAAAABAAAAAQAAAAKAAAACwAAAAAAAAABAAAADAAAAHNyYy9saWIucnMAAEgEEAAKAAAAeQAAACUAAAADBQcADwoN
AQsOBAYJDAgCSAQQAAoAAAB7AAAAJwAAAEFMc1BEcnNPQjdDN0RBZTN1cjhNQ3dzQnNBRUh1Z0M2QXdBQUI3OEtBQTg9SAQQAAoA
AAAVAAAALwAAANwDEAAAAAAA3AMQAAAAAADcAxAAAAAAANwDEAAAAAAAdnd3THU3ZTZ1ZzRIQVFNQXVnOENzQThIRDdvSER3dXhB
ZzRIQVFHNkRMQT1IBBAACgAAADcAAAAKAAAARXJyb3IgS2V5AAAASAQQAAoAAABaAAAANgAAAEVycm9yIGRlY29kaW5nIGNpcGhl
ciB0ZXh0IDFFcnJvciBkZWNyeXB0aW5nIGNpcGhlciB0ZXh0IDKAAEG0i8AAC9gVsgUQAAAAAABKc1ZhbHVlKCkAAAC8BRAACAAA
AMQFEAABAAAADwAAAAQAAAAEAAAAEAAAAC9Vc2Vycy9tYWd1YW5nemhpLy5jYXJnby9yZWdpc3RyeS9zcmMvaW5kZXguY3JhdGVz
LmlvLTZmMTdkMjJiYmExNTAwMWYvYmFzZTY0LTAuMjEuMi9zcmMvZW5naW5lL2dlbmVyYWxfcHVycG9zZS9kZWNvZGVfc3VmZml4
LnJz6AUQAIAAAAAdAAAAGQAAAOgFEACAAAAAmgAAAAkAAABpbnRlcm5hbCBlcnJvcjogZW50ZXJlZCB1bnJlYWNoYWJsZSBjb2Rl
OiBJbXBvc3NpYmxlOiBtdXN0IG9ubHkgaGF2ZSAwIHRvIDggaW5wdXQgYnl0ZXMgaW4gbGFzdCBjaHVuaywgd2l0aCBubyBpbnZh
bGlkIGxlbmd0aHMAAIgGEAB+AAAA6AUQAIAAAACFAAAADgAAAGludGVybmFsIGVycm9yOiBlbnRlcmVkIHVucmVhY2hhYmxlIGNv
ZGU6IEltcG9zc2libGUgcmVtYWluZGVyAAAgBxAAPgAAAC9Vc2Vycy9tYWd1YW5nemhpLy5jYXJnby9yZWdpc3RyeS9zcmMvaW5k
ZXguY3JhdGVzLmlvLTZmMTdkMjJiYmExNTAwMWYvYmFzZTY0LTAuMjEuMi9zcmMvZW5jb2RlLnJzAABoBxAAYgAAAG4AAAAWAAAA
aAcQAGIAAACCAAAACQAAAA8AAAAEAAAABAAAABEAAABJbnZhbGlkTGVuZ3RoSW52YWxpZEJ5dGVJbnZhbGlkTGFzdFN5bWJvbElu
dmFsaWRQYWRkaW5nL1VzZXJzL21hZ3Vhbmd6aGkvLmNhcmdvL3JlZ2lzdHJ5L3NyYy9pbmRleC5jcmF0ZXMuaW8tNmYxN2QyMmJi
YTE1MDAxZi9iYXNlNjQtMC4yMS4yL3NyYy9lbmdpbmUvZ2VuZXJhbF9wdXJwb3NlL2RlY29kZS5yczMIEAB5AAAAcgAAACkAAAAz
CBAAeQAAAHMAAAAvAAAAMwgQAHkAAACZAAAAGwAAADMIEAB5AAAAnQAAABkAAAAzCBAAeQAAALAAAAATAAAAMwgQAHkAAACzAAAA
GAAAADMIEAB5AAAA2gAAAB8AAAAzCBAAeQAAAOAAAAAfAAAAMwgQAHkAAADpAAAAHwAAADMIEAB5AAAA8gAAAB8AAAAzCBAAeQAA
APsAAAAfAAAAMwgQAHkAAAAEAQAAHwAAADMIEAB5AAAADQEAAB8AAAAzCBAAeQAAABYBAAAfAAAAL1VzZXJzL21hZ3Vhbmd6aGkv
LmNhcmdvL3JlZ2lzdHJ5L3NyYy9pbmRleC5jcmF0ZXMuaW8tNmYxN2QyMmJiYTE1MDAxZi9iYXNlNjQtMC4yMS4yL3NyYy9lbmdp
bmUvZ2VuZXJhbF9wdXJwb3NlL21vZC5ycwAAjAkQAHYAAACUAAAADQAAAIwJEAB2AAAAlgAAAEAAAACMCRAAdgAAAJUAAAANAAAA
jAkQAHYAAACYAAAADQAAAIwJEAB2AAAAnAAAAA0AAACMCRAAdgAAAJ0AAAANAAAAjAkQAHYAAACFAAAAJQAAAIwJEAB2AAAAhgAA
ACsAAACMCRAAdgAAAD4AAAAbAAAAjAkQAHYAAABAAAAAIAAAAC9Vc2Vycy9tYWd1YW5nemhpLy5jYXJnby9yZWdpc3RyeS9zcmMv
aW5kZXguY3JhdGVzLmlvLTZmMTdkMjJiYmExNTAwMWYvYWVzLTAuOC4zL3NyYy9zb2Z0L2ZpeHNsaWNlMzIucnMApAoQAGcAAADd
AQAAKQAAAKQKEABnAAAA8gEAAC0AAACkChAAZwAAAIkEAAASAAAApAoQAGcAAACJBAAAPQAAAKQKEABnAAAAFAUAACIAAACkChAA
ZwAAABQFAAAJAAAAUGFkRXJyb3JjYWxsZWQgYE9wdGlvbjo6dW53cmFwKClgIG9uIGEgYE5vbmVgIHZhbHVlABQAAAAMAAAABAAA
ABUAAAAWAAAAFwAAAG1lbW9yeSBhbGxvY2F0aW9uIG9mICBieXRlcyBmYWlsZWQAALgLEAAVAAAAzQsQAA0AAABsaWJyYXJ5L3N0
ZC9zcmMvYWxsb2MucnPsCxAAGAAAAGIBAAAJAAAAbGlicmFyeS9zdGQvc3JjL3Bhbmlja2luZy5ycxQMEAAcAAAAUwIAAB8AAAAU
DBAAHAAAAFQCAAAeAAAAFAAAAAwAAAAEAAAAGAAAABkAAAAIAAAABAAAABoAAAAZAAAACAAAAAQAAAAbAAAAHAAAAB0AAAAQAAAA
BAAAAB4AAAAfAAAAIAAAAAAAAAABAAAAIQAAACIAAAAEAAAABAAAACMAAAAkAAAADAAAAAQAAAAlAAAAJgAAACcAAABsaWJyYXJ5
L2FsbG9jL3NyYy9yYXdfdmVjLnJzY2FwYWNpdHkgb3ZlcmZsb3cAAADsDBAAEQAAANAMEAAcAAAAFgIAAAUAAABhIGZvcm1hdHRp
bmcgdHJhaXQgaW1wbGVtZW50YXRpb24gcmV0dXJuZWQgYW4gZXJyb3IAKAAAAAAAAAABAAAAKQAAAGxpYnJhcnkvYWxsb2Mvc3Jj
L2ZtdC5yc1wNEAAYAAAAYgIAACAAAADvv71ieXRlc2Vycm9yAAAAIgAAAAQAAAAEAAAAKgAAAEZyb21VdGY4RXJyb3IAAAArAAAA
DAAAAAQAAAAsAAAAKQAAAMQNEAAAAAAAWwAAADAAAAAAAAAAAQAAADEAAABpbmRleCBvdXQgb2YgYm91bmRzOiB0aGUgbGVuIGlz
ICBidXQgdGhlIGluZGV4IGlzIAAA5A0QACAAAAAEDhAAEgAAADogAADEDRAAAAAAACgOEAACAAAAMgAAAAwAAAAEAAAAMwAAADQA
AAA1AAAAICAgICB7ICwgIHsKLAp9IH0oKAosCgAAMgAAAAQAAAAEAAAANgAAAF1saWJyYXJ5L2NvcmUvc3JjL2ZtdC9udW0ucnN9
DhAAGwAAAGkAAAAXAAAAMHgwMDAxMDIwMzA0MDUwNjA3MDgwOTEwMTExMjEzMTQxNTE2MTcxODE5MjAyMTIyMjMyNDI1MjYyNzI4
MjkzMDMxMzIzMzM0MzUzNjM3MzgzOTQwNDE0MjQzNDQ0NTQ2NDc0ODQ5NTA1MTUyNTM1NDU1NTY1NzU4NTk2MDYxNjI2MzY0NjU2
NjY3Njg2OTcwNzE3MjczNzQ3NTc2Nzc3ODc5ODA4MTgyODM4NDg1ODY4Nzg4ODk5MDkxOTI5Mzk0OTU5Njk3OTg5OXJhbmdlIHN0
YXJ0IGluZGV4ICBvdXQgb2YgcmFuZ2UgZm9yIHNsaWNlIG9mIGxlbmd0aCAAAHIPEAASAAAAhA8QACIAAAByYW5nZSBlbmQgaW5k
ZXgguA8QABAAAACEDxAAIgAAAHNsaWNlIGluZGV4IHN0YXJ0cyBhdCAgYnV0IGVuZHMgYXQgANgPEAAWAAAA7g8QAA0AAAABAQEB
AQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEB
AQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBBzqHAAAszAgICAgICAgICAgICAgICAgIC
AgICAgICAgICAgICAwMDAwMDAwMDAwMDAwMDAwQEBAQEAEGNosAAC0xOb25lU29tZQAAADIAAAAEAAAABAAAADcAAABFcnJvclV0
ZjhFcnJvcnZhbGlkX3VwX3RvZXJyb3JfbGVuAAAyAAAABAAAAAQAAAA4AHsJcHJvZHVjZXJzAghsYW5ndWFnZQEEUnVzdAAMcHJv
Y2Vzc2VkLWJ5AwVydXN0Yx0xLjc0LjAgKDc5ZTk3MTZjOSAyMDIzLTExLTEzKQZ3YWxydXMGMC4xOS4wDHdhc20tYmluZGdlbhIw
LjIuODcgKGYwYThhZTNiOSkALA90YXJnZXRfZmVhdHVyZXMCKw9tdXRhYmxlLWdsb2JhbHMrCHNpZ24tZXh0
`,ti=null,MA=null,FA=null,ZO=null,LI=0,ic=new Array(132).fill(void 0);ic.push(void 0,null,!0,!1);var QA=ic.length;function qfe(e){let t=ic[e];return e>=132&&(ic[e]=QA,QA=e),t}function XO(){return(FA===null||FA.byteLength===0)&&(FA=new Uint8Array(ZO.buffer)),FA}function $I(){return(MA===null||MA.byteLength===0)&&(MA=new Int32Array(ZO.buffer)),MA}function jfe(e,t){return e=e>>>0,fa(XO().subarray(e,e+t))}function Ufe(e,t,r){if(r===void 0){let i=Gp(e),a=t(i.length,1)>>>0;return XO().subarray(a,a+i.length).set(i),LI=i.length,a}let n=Gp(e),s=t(n.length,1)>>>0;return XO().subarray(s,s+n.length).set(n),LI=n.length,s}function Vnt(e){return e==null}function Knt(e){let t=atob(e.replace(/\s+/g,"")),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}async function Ynt(){if(ti!==null)return ti;let e=Knt(Gnt),t={wbg:{__wbindgen_object_drop_ref:n=>qfe(n),__wbindgen_string_new:(n,s)=>{let i=jfe(n,s);QA===ic.length&&ic.push(ic.length+1);let a=QA;return QA=ic[a],ic[a]=i,a},__wbindgen_debug_string:()=>{}}};return ti=(await WebAssembly.instantiate(e,t)).instance.exports,ZO=ti.memory,MA=null,FA=null,ti}function Wnt(e,t){let r,n;try{let s=ti.__wbindgen_add_to_stack_pointer(-16),i=Ufe(e,ti.__wbindgen_malloc,ti.__wbindgen_realloc),a=LI,o=Vnt(t)?0:Ufe(t,ti.__wbindgen_malloc,ti.__wbindgen_realloc),c=LI;ti.gateway_decrypt(s,i,a,o,c);let u=$I()[s/4+0],l=$I()[s/4+1],d=$I()[s/4+2],f=$I()[s/4+3],h=u,p=l;if(f)throw h=0,p=0,qfe(d);return r=h,n=p,jfe(h,p)}finally{ti.__wbindgen_add_to_stack_pointer(16),r!==void 0&&n!==void 0&&ti.__wbindgen_free(r,n,1)}}async function Hfe(e,t){return e=e.replace(/\s+/g,""),await Ynt(),Wnt(e,t)}Zr();Gr();var e5=class extends Je{async search(t){try{let r="https://jadeite.migu.cn/search/v3/open-search",n={appVersion:"6.1.1.00",ct:101,isCorrectWord:1,k:t,mediaSource:9e6,packId:"1002581,1002601,1003861,1003862,1003863,1003864,1003865,1003866,1004041,1004121,1004261,1004262,1004281,1004321,1004262,1004281,1004322,1004261,1004421,1004422,1002781,1004301,1004641,1004761,1005061,1005261,1005301,1005321,1005361,1005362,1005341,1005342,1005521,1005722,1005721,1015749,1015761,1015760,1015762,1015763,1015768,1015786,1015790,1015812,1015813,1015814,1015815,1015816,1015817,1015820,1015819,1015821",pageIdx:1,pageSize:20,sid:"1X4A395AL3XS3UV5MT8PQ1L5JUYK6KFM8VKDSDD48S5Y7YX5WY1MOUHRT6512988",copyrightTerminal:3,searchScene:2,uiVersion:"A3.26.0"},s={Accept:"application/json, text/plain, */*","Accept-Language":"zh-CN,zh;q=0.9",Connection:"keep-alive","Content-Type":"application/json",Origin:"https://www.miguvideo.com",Referer:"https://www.miguvideo.com/","Sec-Fetch-Dest":"empty","Sec-Fetch-Mode":"cors","Sec-Fetch-Site":"cross-site","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36",appId:"miguvideo","sec-ch-ua":'Not(A:Brand";v="8", "Chromium";v="144", "Google Chrome";v="144"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"Windows",terminalId:"www"},i=await sr(r,JSON.stringify(n),{headers:s});if(!i||!i.data)return E("info","[Migu] \u641C\u7D22\u54CD\u5E94\u4E3A\u7A7A"),[];let o=(typeof i.data=="string"?JSON.parse(i.data):i.data)?.body?.contentInfoList,c=[];return o.forEach(u=>{let l=u?.shortMediaAsset;if(l&&l.isLong){let d;l?.extraData?d=l?.extraData?.episodes?.[0]:d=l?.pID,c.push({name:l.name,type:l.contDisplayName,year:l.year.trim(),img:l.h5pics?.highResolutionV,url:`https://v3-sc.miguvideo.com/program/v4/cont/content-info/${d}/1`,epsId:d})}}),E("info",`[Migu] \u641C\u7D22\u627E\u5230 ${c.length} \u4E2A\u6709\u6548\u7ED3\u679C`),c}catch(r){return E("error","getMiguAnimes error:",{message:r.message,name:r.name,stack:r.stack}),[]}}extractEpId(t){let n=t.split("?")[0].split("/").filter(s=>s!=="");return n[n.length-1]||""}async getDetail(t){try{let r=await ue(`https://v3-sc.miguvideo.com/program/v4/cont/content-info/${t}/1`,{headers:{"user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}});if(!r||!r.data)return E("info","getMiguDetail: \u8BF7\u6C42\u5931\u8D25\u6216\u65E0\u6570\u636E\u8FD4\u56DE"),{duration:0,epsID:null};let n=r.data?.body?.data?.playing?.duration||0,s=r.data?.body?.data?.epsID||null;return{duration:n,epsID:s}}catch(r){return E("error","getMiguDetail error:",{message:r.message,name:r.name,stack:r.stack}),{duration:0,epsID:null}}}async getEpisodes(t){try{let r=await ue(t,{headers:{"user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}});if(!r||!r.data)return E("info","getMiguEposides: \u8BF7\u6C42\u5931\u8D25\u6216\u65E0\u6570\u636E\u8FD4\u56DE"),[];let n=r.data?.body?.data?.datas;if(n)return n;{let s=r.data?.body?.data?.name,i=r.data?.body?.data?.playing?.pID;return i?[{name:s,pID:i}]:(E("info","getMiguEposides: eps \u4E0D\u5B58\u5728"),[])}}catch(r){return E("error","getMiguEposides error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async handleAnimes(t,r,n){let s=[];if(!t||!Array.isArray(t))return E("error","[Migu] sourceAnimes is not a valid array"),[];let i=await Promise.all(t.filter(a=>zt(a.name||a.title,r)).map(async a=>{try{let o=await this.getEpisodes(a.url||a.mediaId),c=[];for(let u of o)c.push({name:u.name,url:`https://webapi.miguvideo.com/gateway/live_barrage/videox/barrage/v2/list/${a.epsId??u.pID}/${u.pID}`,title:`\u3010migu\u3011 ${u.name}`});if(c.length>0){let u={animeId:Tr(a.epsId??o[0]?.pID),bangumiId:String(a.epsId??o[0]?.pID),animeTitle:`${a.name||a.title}(${a.year})\u3010${a.type}\u3011from migu`,type:a.type,typeDescription:a.type,imageUrl:a.img??a.imageUrl,startDate:Kt(a.year),episodeCount:c.length,rating:0,isFavorited:!0,source:"migu"};s.push(u),et({...u,links:c}),B.animes.length>B.MAX_ANIMES&&st()}}catch(o){E("error",`[Migu] Error processing anime: ${o.message}`)}}));return this.sortAndPushAnimesByYear(s,n),i}async getEpisodeDanmu(t){E("info","\u5F00\u59CB\u4ECE\u672C\u5730\u8BF7\u6C42\u54AA\u5495\u89C6\u9891\u5F39\u5E55...",t);let r=await this.getEpisodeDanmuSegments(t);if(!r||!r.segmentList||r.segmentList.length===0)return[];let n=r.segmentList;E("info",`\u5F39\u5E55\u5206\u6BB5\u6570\u91CF: ${n.length}`);let s=100,i=[];for(let a=0;a<n.length;a+=s){let o=n.slice(a,a+s),c=o.map(l=>this.getEpisodeSegmentDanmu(l)),u=await Promise.allSettled(c);for(let l=0;l<u.length;l++){let d=u[l],f=o[l],h=f.segment_start,p=f.segment_end;if(d.status==="fulfilled"){let m=d.value;m&&m.length>0&&i.push(...m)}else E("error",`\u83B7\u53D6\u5F39\u5E55\u6BB5\u5931\u8D25 (${h}-${p}s):`,d.reason.message)}a+s<n.length&&await new Promise(l=>setTimeout(l,200))}return i.length===0?(E("info",`\u54AA\u5495\u89C6\u9891: \u8BE5\u89C6\u9891\u6682\u65E0\u5F39\u5E55\u6570\u636E (vid=${t})`),[]):($r(i),i)}async getEpisodeDanmuSegments(t){E("info","\u83B7\u53D6\u54AA\u5495\u89C6\u9891\u5F39\u5E55\u5206\u6BB5\u5217\u8868...",t);let r=this.extractEpId(t),n=await this.getDetail(r),s=fd(n.duration);E("info","itemId:",r),E("info","durationSec:",s),E("info","epsID:",n.epsID);let i=30,a=[];for(let o=0;o<s;o+=i){let c=o,u=Math.min(o+i,s),l=`https://webapi.miguvideo.com/gateway/live_barrage/videox/barrage/v2/list/${n.epsID??r}/${r}/${c}/${u}/020`;a.push({type:"migu",segment_start:c,segment_end:u,url:l})}return new Ve({type:"migu",segmentList:a})}async getEpisodeSegmentDanmu(t){try{let r=await ue(t.url,{headers:{"user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36",appCode:"miguvideo_default_h5"},retries:1}),n=[];if(r&&r.data){let s=await Hfe(r.data),a=(typeof r.data=="string"?JSON.parse(s):s)?.body?.result??[];n.push(...a)}return n}catch(r){return E("error","\u8BF7\u6C42\u5206\u7247\u5F39\u5E55\u5931\u8D25:",r),[]}}formatComments(t){return t.map(r=>({cid:Number(r.cid),p:`${r.playtime},1,${TI(r.textcolor)},[migu]`,m:r.msg,t:r.playtime,like:r.praiseCount}))}},zfe=e5;pt();Ze();Dt();Zr();kn();Br();Gr();var UA=class extends Je{convertYoukuUrl(t){let r=t.match(/vid=([^&]+)/);return!r||!r[1]?null:`https://v.youku.com/v_show/id_${r[1]}.html`}filterYoukuSearchItem(t,r){let n=t.commonData;if(!n||!n.titleDTO||n.isYouku!==1&&n.hasYouku!==1)return null;let s=n.titleDTO.displayName;if(["\u4E2D\u914D\u7248","\u62A2\u5148\u770B","\u975E\u6B63\u7247","\u89E3\u8BFB","\u63ED\u79D8","\u8D4F\u6790","\u300A"].some(f=>s.includes(f)))return null;let a=n.feature.match(/[12][890][0-9][0-9]/),o=a?parseInt(a[0]):null,c=s.replace(/<[^>]+>/g,"").replace(/.+?/g,"").trim().replace(/:/g,"\uFF1A"),u="\u7535\u89C6\u5267",l=(n.cats||"").toLowerCase(),d=(n.feature||"").toLowerCase();return l.includes("\u52A8\u6F2B")||l.includes("anime")?u="\u52A8\u6F2B":l.includes("\u7535\u5F71")||l.includes("movie")?u="\u7535\u5F71":l.includes("\u7535\u89C6\u5267")||l.includes("drama")?u="\u7535\u89C6\u5267":l.includes("\u7EFC\u827A")||l.includes("variety")?u="\u7EFC\u827A":d.includes("\u52A8\u6F2B")?u="\u52A8\u6F2B":d.includes("\u7535\u5F71")?u="\u7535\u5F71":d.includes("\u7535\u89C6\u5267")?u="\u7535\u89C6\u5267":d.includes("\u7EFC\u827A")&&(u="\u7EFC\u827A"),{provider:"youku",mediaId:n.showId,title:c,type:u,year:o,imageUrl:n.posterDTO?n.posterDTO.vThumbUrl:null,episodeCount:n.episodeTotal,cats:n.cats}}async search(t){try{E("info",`[Youku] \u5F00\u59CB\u641C\u7D22: ${t}`);let r=encodeURIComponent(t),n=encodeURIComponent("Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"),s=`https://search.youku.com/api/search?keyword=${r}&userAgent=${n}&site=1&categories=0&ftype=0&ob=0&pg=1`,i=await ue(s,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36",Accept:"application/json",Referer:"https://www.youku.com/"}});if(!i||!i.data)return E("info","[Youku] \u641C\u7D22\u54CD\u5E94\u4E3A\u7A7A"),[];let a=typeof i.data=="string"?JSON.parse(i.data):i.data;if(!a.pageComponentList)return E("info","[Youku] \u641C\u7D22\u65E0\u7ED3\u679C"),[];let o=[];for(let c of a.pageComponentList){let u=this.filterYoukuSearchItem(c,t);u&&o.push(u)}return E("info",`[Youku] \u641C\u7D22\u627E\u5230 ${o.length} \u4E2A\u6709\u6548\u7ED3\u679C`),o}catch(r){return E("error","[Youku] \u641C\u7D22\u51FA\u9519:",r.message),[]}}async getEpisodes(t){try{E("info",`[Youku] \u83B7\u53D6\u5206\u96C6\u5217\u8868: show_id=${t}`);let r=100,n=await this._getEpisodesPage(t,1,r);if(!n||!n.videos||n.videos.length===0)return E("info","[Youku] \u672A\u627E\u5230\u5206\u96C6\u4FE1\u606F"),[];let s=[...n.videos],i=n.total;if(i>r){let a=Math.ceil(i/r);E("info",`[Youku] \u68C0\u6D4B\u5230 ${i} \u4E2A\u5206\u96C6\uFF0C\u5C06\u5E76\u53D1\u8BF7\u6C42 ${a} \u9875`);let o=[];for(let u=2;u<=a;u++)o.push(this._getEpisodesPage(t,u,r));let c=await Promise.allSettled(o);for(let u=0;u<c.length;u++){let l=c[u];l.status==="fulfilled"&&l.value&&l.value.videos?s.push(...l.value.videos):l.status==="rejected"&&E("error",`[Youku] \u83B7\u53D6\u5206\u96C6\u9875\u9762 ${u+2} \u5931\u8D25:`,l.reason)}E("info",`[Youku] \u5E76\u53D1\u83B7\u53D6\u5B8C\u6210\uFF0C\u5171\u83B7\u53D6 ${s.length} \u4E2A\u5206\u96C6`)}return E("info",`[Youku] \u5171\u83B7\u53D6 ${s.length} \u96C6`),s}catch(r){return E("error","[Youku] \u83B7\u53D6\u5206\u96C6\u51FA\u9519:",r.message),[]}}async _getEpisodesPage(t,r,n){let s=`https://openapi.youku.com/v2/shows/videos.json?client_id=53e6cc67237fc59a&package=com.huawei.hwvplayer.youku&ext=show&show_id=${t}&page=${r}&count=${n}`,i=await ue(s,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}});return!i||!i.data?null:typeof i.data=="string"?JSON.parse(i.data):i.data}async handleAnimes(t,r,n){let s=[];if(!t||!Array.isArray(t))return E("error","[Youku] sourceAnimes is not a valid array"),[];let i=await Promise.all(t.filter(a=>zt(a.title,r)).map(async a=>{try{let o=await this.getEpisodes(a.mediaId),c=this._extractMediaType(a.cats,a.type),u=this._processAndFormatEpisodes(o,c),l=[];for(let d of u){let f=d.link||`https://v.youku.com/v_show/id_${d.vid}.html`;l.push({name:d.episodeIndex.toString(),url:f,title:`\u3010youku\u3011 ${d.title}`})}if(l.length>0){let f={animeId:Tr(a.mediaId),bangumiId:a.mediaId,animeTitle:`${a.title}(${a.year||"N/A"})\u3010${a.type}\u3011from youku`,type:a.type,typeDescription:a.type,imageUrl:a.imageUrl,startDate:Kt(a.year),episodeCount:l.length,rating:0,isFavorited:!0,source:"youku"};s.push(f),et({...f,links:l}),B.animes.length>B.MAX_ANIMES&&st()}}catch(o){E("error",`[Youku] Error processing anime: ${o.message}`)}}));return this.sortAndPushAnimesByYear(s,n),i}_processAndFormatEpisodes(t,r="variety"){return[...t].map((i,a)=>{let o=a+1,c=this._formatEpisodeTitle(i,o,r);return{vid:i.id,title:c,episodeIndex:o,link:i.link}})}_formatEpisodeTitle(t,r,n){let s=t.displayName||t.title,i=/^(?:\d{2,4}-\d{2}-\d{2}|\d{2}-\d{2})\s*(?=(?:\d+))|^(?:\d{2,4}-\d{2}-\d{2}|\d{2}-\d{2})\s*:\s*/;if(s=s.replace(i,"").trim(),n==="movie")return s;if(n==="variety"){let a=s.match(/(\d+)/);return a?`\u7B2C${a[1]}\u671F ${t.published?.split(" ")[0]??""} ${s}`:`\u7B2C${r}\u671F ${t.published?.split(" ")[0]??""} ${s}`}return/^\d+/.test(s)?s:`\u7B2C${r}\u96C6 ${s}`}_extractMediaType(t,r){let n=(t||"").toLowerCase(),s=(r||"").toLowerCase();return n.includes("\u7EFC\u827A")||n.includes("variety")?"variety":n.includes("\u7535\u5F71")||n.includes("movie")?"movie":n.includes("\u52A8\u6F2B")||n.includes("anime")?"anime":n.includes("\u7535\u89C6\u5267")||n.includes("drama")?"drama":s.includes("\u7EFC\u827A")?"variety":s.includes("\u7535\u5F71")?"movie":s.includes("\u52A8\u6F2B")?"anime":(s.includes("\u7535\u89C6\u5267"),"drama")}async getEpisodeDanmu(t){if(E("info","\u5F00\u59CB\u4ECE\u672C\u5730\u8BF7\u6C42\u4F18\u9177\u5F39\u5E55...",t),!t)return[];let n=(await this.getEpisodeDanmuSegments(t)).segmentList,s=[],i=B.youkuConcurrency,a=[...n];for(let o=0;o<a.length;o+=i){let c=a.slice(o,o+i).map(async u=>{let l=await sr(u.url,bn({data:u.data}),{headers:{Cookie:`_m_h5_tk=${u._m_h5_tk};_m_h5_tk_enc=${u._m_h5_tk_enc};`,Referer:"https://v.youku.com","Content-Type":"application/x-www-form-urlencoded","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36"},allow_redirects:!1,retries:1}),d=[];if(l.data?.data&&l.data.data.result){let f=JSON.parse(l.data.data.result);f.code!=="-1"&&d.push(...f.data.result)}return d});try{let u=await Promise.allSettled(c);for(let l of u)l.status==="fulfilled"&&Array.isArray(l.value)&&(s=s.concat(l.value))}catch(u){E("error","\u4F18\u9177\u5206\u6BB5\u6279\u91CF\u8BF7\u6C42\u5931\u8D25:",u.message)}}return $r(s),s}async getEpisodeDanmuSegments(t){if(E("info","\u83B7\u53D6\u4F18\u9177\u5F39\u5E55\u5206\u6BB5\u5217\u8868...",t),!t)return new Ve({type:"youku",segmentList:[]});t.includes("youku.com/video?vid")&&(t=this.convertYoukuUrl(t));let r="https://openapi.youku.com/v2/videos/show.json",n="https://acs.youku.com/h5/mopen.youku.danmu.list/1.0/",s=/^(https?:\/\/[^\/]+)(\/[^?#]*)/,i=t.match(s),a;if(i)a=i[2].split("/").filter(Boolean),a.unshift(""),E("info",a);else return E("error","Invalid URL"),[];let o=a[a.length-1].split(".")[0].slice(3);E("info",`video_id: ${o}`);let c;try{let b=`${r}?client_id=53e6cc67237fc59a&video_id=${o}&package=com.huawei.hwvplayer.youku&ext=show`;c=await ue(b,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36"},allow_redirects:!1})}catch(b){return E("error","\u8BF7\u6C42\u89C6\u9891\u4FE1\u606F\u5931\u8D25:",b),[]}let u=typeof c.data=="string"?JSON.parse(c.data):c.data,l=u.title,d=u.duration;E("info",`\u6807\u9898: ${l}, \u65F6\u957F: ${d}`);let f,h,p;try{let b="https://log.mmstat.com/eg.js",_="https://acs.youku.com/h5/mtop.com.youku.aplatform.weakget/1.0/?jsv=2.5.1&appKey=24679788",C=await ue(b,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36"},allow_redirects:!1});E("info",`cnaRes: ${JSON.stringify(C)}`),E("info",`cnaRes.headers: ${JSON.stringify(C.headers)}`);let w=C.headers.etag||C.headers.Etag;E("info",`etag: ${w}`),f=w.replace(/^"|"$/g,""),E("info",`cna: ${f}`);let S;for(;!S;)S=await ue(_,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36"},allow_redirects:!1});E("info",`tkEncRes: ${JSON.stringify(S)}`),E("info",`tkEncRes.headers: ${JSON.stringify(S.headers)}`);let T=S.headers["set-cookie"]||S.headers["Set-Cookie"];E("info",`tkEncSetCookie: ${T}`);let R=T.match(/_m_h5_tk_enc=([^;]+)/);h=R?R[1]:null;let P=T.match(/_m_h5_tk=([^;]+)/);p=P?P[1]:null,E("info",`_m_h5_tk_enc: ${h}`),E("info",`_m_h5_tk: ${p}`)}catch(b){return E("error","\u83B7\u53D6 cna \u6216 tk_enc \u5931\u8D25:",b),[]}let m=60,A=Math.floor(d/m)+1,g=[],x=async b=>{let _={ctime:Date.now(),ctype:10004,cver:"v1.0",guid:f,mat:b,mcount:1,pid:0,sver:"3.1.0",type:1,vid:o},C=JSON.stringify(_);function w(q){let j="";for(let G=0;G<q.length;G++)q.charCodeAt(G)>255?j+=encodeURIComponent(q[G]):j+=q[G];return j}function S(q){let j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",G="",J=0,Q=0;for(let te=0;te<q.length;te++)for(J=J<<8|q.charCodeAt(te),Q+=8;Q>=6;)G+=j[J>>Q-6&63],Q-=6;for(Q>0&&(G+=j[J<<6-Q&63]);G.length%4!==0;)G+="=";return G}let T=S(w(C));_.msg=T,_.sign=As(`${T}MkmC9SoIw6xCkSKHhJ7b5D2r51kBiREr`).toString().toLowerCase();let R=JSON.stringify(_),P=Date.now(),N={jsv:"2.5.6",appKey:"24679788",t:P,sign:As([p.slice(0,32),P,"24679788",R].join("&")).toString().toLowerCase(),api:"mopen.youku.danmu.list",v:"1.0",type:"originaljson",dataType:"jsonp",timeout:"20000",jsonpIncPrefix:"utility"},D=bn(N),k=`${n}?${D}`;return E("info",`piece_url: ${k}`),{type:"youku",segment_start:b*m,segment_end:Math.min((b+1)*m,d),url:k,data:R,_m_h5_tk:p,_m_h5_tk_enc:h}},y=Array.from({length:A},(b,_)=>_);for(let b=0;b<y.length;b++){let _=await x(y[b]);g.push(_)}return new Ve({type:"youku",segmentList:g})}async getEpisodeSegmentDanmu(t){E("info","\u5F00\u59CB\u4ECE\u672C\u5730\u8BF7\u6C42\u4F18\u9177\u5206\u6BB5\u5F39\u5E55...",t.url);let r=await sr(t.url,bn({data:t.data}),{headers:{Cookie:`_m_h5_tk=${t._m_h5_tk};_m_h5_tk_enc=${t._m_h5_tk_enc};`,Referer:"https://v.youku.com","Content-Type":"application/x-www-form-urlencoded","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36"},allow_redirects:!1,retries:1}),n=[];if(r.data?.data&&r.data.data.result){let s=JSON.parse(r.data.data.result);s.code!=="-1"&&n.push(...s.data.result)}return n}formatComments(t){return t.map(r=>{let n={timepoint:0,ct:1,size:25,color:16777215,unixtime:Math.floor(Date.now()/1e3),uid:0,content:""};n.timepoint=r.playat/1e3;let s=JSON.parse(r.propertis);if(s?.color&&(n.color=typeof s.color=="string"?parseInt(s.color,10):s.color),s?.pos){let i=s.pos;i===1?n.ct=5:i===2&&(n.ct=4)}return n.content=r.content,n.like=r.extFields.voteUp,n})}};pt();Ze();Dt();kn();Br();Zr();Gr();var qA=class extends Je{constructor(){super(),this.positionMap={1:1,4:5,5:4}}filterSohuSearchItem(t,r){if(!t.aid||!t.album_name||t.is_trailer===1||t.corner_mark&&t.corner_mark.text==="\u9884\u544A")return null;let n=t.album_name.replace("<<<","").replace(">>>",""),s=null;if(t.meta&&Array.isArray(t.meta)){for(let i of t.meta)if(i.txt&&i.txt.includes("|")){let a=i.txt.split("|");if(a.length>0){let o=a[0].trim();o.includes("\u522B\u540D")&&a.length>1?s=a[1].trim():s=o;break}}}return{mediaId:String(t.aid),title:n,type:s,year:t.year||null,imageUrl:t.ver_big_pic||null,episodeCount:t.total_video_count||0}}async search(t){try{E("info",`[Sohu] \u5F00\u59CB\u641C\u7D22: ${t}`);let r={key:t,type:"1",page:"1",page_size:"20",user_id:"",tabsChosen:"0",poster:"4",tuple:"6",extSource:"1",show_star_detail:"3",pay:"1",hl:"3",uid:String(Math.floor(Date.now()*1e3)),passport:"",plat:"-1",ssl:"0"},n={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36",Accept:"application/json, text/plain, */*","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8",Referer:"https://so.tv.sohu.com/",Origin:"https://so.tv.sohu.com"},s=`https://m.so.tv.sohu.com/search/pc/keyword?${bn(r)}`,i=await ue(s,{headers:n});if(!i||!i.data)return E("info","[Sohu] \u641C\u7D22\u54CD\u5E94\u4E3A\u7A7A"),[];let a=typeof i.data=="string"?JSON.parse(i.data):i.data;if(!a.data||!a.data.items)return E("info","[Sohu] \u641C\u7D22\u54CD\u5E94\u4E2D\u65E0\u6570\u636E"),[];let o=[];for(let c of a.data.items){let u=this.filterSohuSearchItem(c,t);u&&o.push(u)}return E("info",`[Sohu] \u641C\u7D22\u627E\u5230 ${o.length} \u4E2A\u6709\u6548\u7ED3\u679C`),o}catch(r){return E("error","[Sohu] \u641C\u7D22\u51FA\u9519:",r.message),[]}}async getEpisodes(t){try{E("info",`[Sohu] \u83B7\u53D6\u5206\u96C6\u5217\u8868: media_id=${t}`);let r=null,n={playlistid:t,api_key:"f351515304020cad28c92f70f002261c"},s={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",Referer:"https://tv.sohu.com/"},i=`https://pl.hd.sohu.com/videolist?${bn(n)}`,a=await ue(i,{headers:s,timeout:15e3});if(!a||!a.data)return E("info","[Sohu] \u5206\u96C6\u54CD\u5E94\u4E3A\u7A7A"),[];let o=a.data;if(typeof o=="string"&&o.startsWith("jsonp")){let u=o.indexOf("(")+1,l=o.lastIndexOf(")");if(u>0&&l>u){let d=o.substring(u,l);o=JSON.parse(d)}else return E("error","\u641C\u72D0\u89C6\u9891: \u65E0\u6CD5\u89E3\u6790JSONP\u54CD\u5E94"),[]}else typeof o=="string"&&(o=JSON.parse(o));if(r=o.videos||[],!r||r.length===0)return E("warning",`\u641C\u72D0\u89C6\u9891: \u672A\u627E\u5230\u5206\u96C6\u5217\u8868 (media_id=${t})`),[];let c=[];for(let u=0;u<r.length;u++){let l=r[u],d,f,h;typeof l=="object"?(d=String(l.vid||""),f=l.video_name||`\u7B2C${u+1}\u96C6`,h=l.url_html5||""):(d=String(l.vid||l.vid||""),f=l.name||l.video_name||`\u7B2C${u+1}\u96C6`,h=l.pageUrl||l.url_html5||""),h&&h.startsWith("http://")&&(h=h.replace("http://","https://"));let p={vid:d,title:f,url:h,episodeId:`${d}:${t}`};c.push(p)}return E("info",`[Sohu] \u6210\u529F\u83B7\u53D6 ${c.length} \u4E2A\u5206\u96C6 (media_id=${t})`),c}catch(r){return E("error","[Sohu] \u83B7\u53D6\u5206\u96C6\u51FA\u9519:",r.message),[]}}async handleAnimes(t,r,n){let s=[];if(!t||!Array.isArray(t))return E("error","[Sohu] sourceAnimes is not a valid array"),[];let i=await Promise.all(t.filter(a=>zt(a.title,r)).map(async a=>{try{let o=await this.getEpisodes(a.mediaId),c=[];for(let u=0;u<o.length;u++){let l=o[u],d=l.title||`\u7B2C${u+1}\u96C6`,f=`https://tv.sohu.com/item/${a.mediaId}.html`;c.push({name:(u+1).toString(),url:`${l.url}`,title:`\u3010sohu\u3011 ${d}`})}if(c.length>0){let l={animeId:Tr(a.mediaId),bangumiId:a.mediaId,animeTitle:`${a.title}(${a.year||new Date().getFullYear()})\u3010${a.type}\u3011from sohu`,type:a.type,typeDescription:a.type,imageUrl:a.imageUrl,startDate:Kt(a.year||new Date().getFullYear()),episodeCount:c.length,rating:0,isFavorited:!0,source:"sohu"};s.push(l),et({...l,links:c}),B.animes.length>B.MAX_ANIMES&&st()}}catch(o){E("error",`[Sohu] Error processing anime: ${o.message}`)}}));return this.sortAndPushAnimesByYear(s,n),i}async extractVidAndAid(t){let r,n="0",s=await ue(t,{headers:{"User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}}),i=s.data.match(/vid="(\d+)"/);return i&&(r=i[1]),n=s.data.match(/id="aid"[^>]*value=['"](\d+)['"]/)?.[1],n||(n=s.data.match(/playlistId="(\d+)"/)?.[1]),{vid:r,aid:n}}async getEpisodeDanmu(t){E("info","\u5F00\u59CB\u4ECE\u672C\u5730\u8BF7\u6C42\u641C\u72D0\u89C6\u9891\u5F39\u5E55...",t);let r=await this.getEpisodeDanmuSegments(t);if(!r||!r.segmentList||r.segmentList.length===0)return[];let n=r.segmentList;E("info",`\u5F39\u5E55\u5206\u6BB5\u6570\u91CF: ${n.length}`);let s=10,i=[];for(let a=0;a<n.length;a+=s){let o=n.slice(a,a+s),c=o.map(l=>this.getDanmuSegment(l)),u=await Promise.allSettled(c);for(let l=0;l<u.length;l++){let d=u[l],f=o[l],h=f.segment_start,p=f.segment_end;if(d.status==="fulfilled"){let m=d.value;if(m&&m.length>0)i.push(...m);else if(h>600)break}else E("error",`\u83B7\u53D6\u5F39\u5E55\u6BB5\u5931\u8D25 (${h}-${p}s):`,d.reason.message)}a+s<n.length&&await new Promise(l=>setTimeout(l,200))}return i.length===0?(E("info",`\u641C\u72D0\u89C6\u9891: \u8BE5\u89C6\u9891\u6682\u65E0\u5F39\u5E55\u6570\u636E (vid=${t})`),[]):($r(i),i)}async getDanmuSegment(t){try{let r={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36",Referer:"https://tv.sohu.com/"},n=await ue(t.url,{headers:r,timeout:1e4});if(!n||!n.data)return E("error",`\u641C\u72D0\u89C6\u9891: \u5F39\u5E55\u6BB5\u54CD\u5E94\u4E3A\u7A7A (${t.segment_start}-${t.segment_end}s)`),[];try{let i=(typeof n.data=="string"?JSON.parse(n.data):n.data).info?.comments||[];return i&&i.length>0&&E("info",`\u641C\u72D0\u89C6\u9891: \u83B7\u53D6\u5230 ${i.length} \u6761\u5F39\u5E55 (${t.segment_start}-${t.segment_end}s)`),i||[]}catch(s){return E("error",`\u641C\u72D0\u89C6\u9891: \u89E3\u6790\u5F39\u5E55\u54CD\u5E94\u5931\u8D25: ${s.message}`),[]}}catch(r){return E("error",`\u641C\u72D0\u89C6\u9891: \u83B7\u53D6\u5F39\u5E55\u6BB5\u5931\u8D25 (vid=${vid}, ${start}-${end}s): ${r.message}`),[]}}async getEpisodeDanmuSegments(t){E("info","\u83B7\u53D6\u641C\u72D0\u89C6\u9891\u5F39\u5E55\u5206\u6BB5\u5217\u8868...",t);let{vid:r,aid:n}=await this.extractVidAndAid(t),s=10800,i=300,a=[];for(let o=0;o<s;o+=i){let c=o+i;a.push({type:"sohu",segment_start:o,segment_end:c,url:`https://api.danmu.tv.sohu.com/dmh5/dmListAll?act=dmlist_v2&vid=${r}&aid=${n}&pct=2&time_begin=${o}&time_end=${c}&dct=1&request_from=h5_js`})}return new Ve({type:"sohu",segmentList:a})}async getEpisodeSegmentDanmu(t){try{let r=await ue(t.url,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"},retries:1}),n=[];if(r&&r.data){let s=typeof r.data=="string"?JSON.parse(r.data):r.data;n.push(...s.info?.comments||[])}return n}catch(r){return E("error","\u8BF7\u6C42\u5206\u7247\u5F39\u5E55\u5931\u8D25:",r),[]}}formatComments(t){return t.map(r=>{try{let n=16777215;if(r.t&&r.t.c){let l=r.t.c;typeof l=="string"&&l.startsWith("#")?n=parseInt(l.substring(1),16):n=parseInt(String(l),16)}let s=r.v||0,i=Math.floor(parseFloat(r.created||Date.now()/1e3)),a=r.uid||"",o=r.i||"",c=1;r.t&&r.t.p&&(c=this.positionMap[r.t.p]||1);let u=`${s},1,25,${n},${i},0,${a},${o}`;return{cid:String(o),p:u,m:r.c||"",t:parseFloat(s),like:r.fcount}}catch(n){return E("error",`\u683C\u5F0F\u5316\u5F39\u5E55\u5931\u8D25: ${n.message}, \u5F39\u5E55\u6570\u636E:`,r),null}}).filter(r=>r!==null)}};pt();Ze();Dt();kn();Br();Zr();Gr();var Gfe={tv:"\u7535\u89C6\u5267",movie:"\u7535\u5F71",cartoon:"\u52A8\u6F2B",comic:"\u52A8\u6F2B"},jA=class extends Je{constructor(){super(),this.positionMap={4:1,3:4,1:5,2:1}}filterLeshiSearchItem(t,r){if(!t.pid||!t.title)return null;let n=t.title,s=Gfe[t.type]||"\u7535\u89C6\u5267";return{mediaId:String(t.pid),title:n,type:s,year:t.year||null,imageUrl:t.imageUrl||null,episodeCount:t.episodeCount||0}}async search(t){try{E("info",`[Leshi] \u5F00\u59CB\u641C\u7D22: ${t}`);let r={wd:t,from:"pc",ref:"click",click_area:"search_button",query:t,is_default_query:"0",module:"search_rst_page"},n={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36",Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8","Accept-Encoding":"gzip, deflate, br",Referer:"https://so.le.com/",Connection:"keep-alive","Upgrade-Insecure-Requests":"1","Sec-Fetch-Dest":"document","Sec-Fetch-Mode":"navigate","Sec-Fetch-Site":"same-origin"},s=`https://so.le.com/s?${bn(r)}`,i=await ue(s,{headers:n,timeout:15e3});if(!i||!i.data)return E("info","[Leshi] \u641C\u7D22\u54CD\u5E94\u4E3A\u7A7A"),[];let a=i.data;E("debug",`[Leshi] \u641C\u7D22\u8BF7\u6C42\u6210\u529F\uFF0C\u54CD\u5E94\u957F\u5EA6: ${a.length} \u5B57\u7B26`);let o=[],c=/<div class="So-detail[^"]*"[^>]*data-info="({.*?})"[^>]*>/g,u,l=[];for(;(u=c.exec(a))!==null;)l.push(u);E("debug",`[Leshi] \u4ECEHTML\u4E2D\u627E\u5230 ${l.length} \u4E2A data-info \u5757`);for(let d of l)try{let f=d[1];E("debug",`[Leshi] \u63D0\u53D6\u5230 data-info \u539F\u59CB\u5B57\u7B26\u4E32: ${f.substring(0,200)}...`),f=f.replace(/'/g,'"'),f=f.replace(/([{,])(\w+):/g,'$1"$2":');let h=JSON.parse(f);E("debug",`[Leshi] \u6210\u529F\u89E3\u6790 data-info\uFF0Cpid=${h.pid}, type=${h.type}`);let p=h.pid||"",m=h.type||"",A=h.total||"0";if(!p)continue;let g=d.index,x=[`</div>
	</div>`,`</div>
</div>`,"</div></div>"],y=-1;for(let k of x){let q=a.indexOf(k,g);if(q!==-1){y=q;break}}if(y===-1){let k=a.indexOf('<div class="So-detail',g+100);if(k!==-1)y=k;else continue}let b=a.substring(g,y),_="",C=/<h1>[\s\S]*?<a[^>]*title="([^"]*)"[^>]*>/.exec(b);if(C&&C[1]&&(_=C[1].trim()),!_&&h.keyWord){let k=/(.*?)(?:\d{4})?(?:||)?$/.exec(h.keyWord);k&&k[1]&&(_=k[1].replace(/[^\u4e00-\u9fa5a-zA-Z0-9]/g,"").trim())}if(!_){let k=/<a[^>]*title="([^"]*?)[^0-9\u4e00-\u9fa5][^"]*"/.exec(b);k&&k[1]&&(_=k[1].trim())}_||E("info","[Leshi] \u672A\u627E\u5230\u6807\u9898\uFF0C\u5C1D\u8BD5\u4ECE\u5176\u4ED6\u6765\u6E90\u83B7\u53D6");let w=/<img[^>]*(?:src|data-src|alt)="([^"]+)"/.exec(b),S=w?w[1]:"",T=null,R=/<b><\/b>.*?>(\d{4})<\/a>/.exec(b);R||(R=/<b><\/b>.*?>(\d{4})<\/a>/.exec(b)),R||(R=/_y(\d{4})_/.exec(b)),R||(R=/(\d{4})/.exec(h.keyWord||"")),R&&(T=parseInt(R[1]));let P=Gfe[m]||"\u7535\u89C6\u5267",N=A&&/^\d+$/.test(A)?parseInt(A):0,D={mediaId:p,title:_,type:P,year:T,imageUrl:S&&S.startsWith("http")?S:S?`https:${S}`:null,episodeCount:N};o.push(D),E("debug",`[Leshi] \u89E3\u6790\u6210\u529F - ${_} (pid=${p}, type=${P}, episodes=${N})`)}catch(f){E("warning",`[Leshi] \u89E3\u6790\u641C\u7D22\u7ED3\u679C\u9879\u5931\u8D25: ${f}`);continue}if(o.length>0){E("info",`[Leshi] \u7F51\u7EDC\u641C\u7D22 '${t}' \u5B8C\u6210\uFF0C\u627E\u5230 ${o.length} \u4E2A\u6709\u6548\u7ED3\u679C\u3002`),E("info","[Leshi] \u641C\u7D22\u7ED3\u679C\u5217\u8868:");for(let d of o)E("info",`  - ${d.title} (ID: ${d.mediaId}, \u7C7B\u578B: ${d.type}, \u5E74\u4EFD: ${d.year})`)}else E("info",`[Leshi] \u7F51\u7EDC\u641C\u7D22 '${t}' \u5B8C\u6210\uFF0C\u627E\u5230 0 \u4E2A\u7ED3\u679C\u3002`);return o}catch(r){return E("error","[Leshi] \u641C\u7D22\u51FA\u9519:",r.message),[]}}async getEpisodes(t){try{E("info",`[Leshi] \u83B7\u53D6\u5206\u96C6\u5217\u8868: media_id=${t}`);let r=[`https://www.le.com/tv/${t}.html`,`https://www.le.com/comic/${t}.html`,`https://www.le.com/playlet/${t}.html`,`https://www.le.com/movie/${t}.html`],n=null;for(let l of r)try{let d=await ue(l,{timeout:1e4});if(d&&d.data&&d.status===200){n=d.data,E("debug",`\u6210\u529F\u83B7\u53D6\u9875\u9762: ${l}`);break}}catch(d){E("debug",`\u5C1D\u8BD5URL\u5931\u8D25 ${l}: ${d}`);continue}if(!n)return E("error",`\u65E0\u6CD5\u83B7\u53D6\u4F5C\u54C1\u9875\u9762: media_id=${t}`),[];let s=/<div class="show_cnt twxj-[^"]*">[\s\S]*?<\/div>\s*<\/div>\s*<\/div>/.exec(n);if(s)return E("debug","\u627E\u5230\u56FE\u6587\u9009\u96C6\u5BB9\u5668"),this.parseEpisodesFromHtml(s[0],t);let i=/<div class="show_cnt sjxj-[^"]*">[\s\S]*?<\/div>\s*<\/div>\s*<\/div>/.exec(n);if(i)return E("debug","\u627E\u5230\u6570\u5B57\u9009\u96C6\u5BB9\u5668"),this.parseEpisodesFromHtml(i[0],t);E("debug","\u672A\u627E\u5230\u7279\u5B9A\u9009\u96C6\u5BB9\u5668\uFF0C\u5C1D\u8BD5\u67E5\u627E\u7B2C\u4E00\u96C6\u89C6\u9891\u5217\u8868...");let a=/<div class="show_play first_videolist[\s\S]*?<\/div>\s*<\/div>\s*<\/div>/.exec(n);if(a){let l=a[0];return this.parseEpisodesFromHtml(l,t)}E("error",`\u65E0\u6CD5\u627E\u5230\u5267\u96C6\u5217\u8868\u5BB9\u5668: media_id=${t}`);let o=/https:\/\/www\.le\.com\/ptv\/vplay\/(\d+)\.html/g,c=n.matchAll(o),u=[];for(let l of c){let d=l[1],f=l[0],h={vid:d,title:`\u7B2C${u.length+1}\u96C6`,url:f,episodeId:`${d}:${t}`};u.push(h)}return u.length>0?(E("info",`[Leshi] \u4ECEHTML\u5185\u5BB9\u4E2D\u5339\u914D\u5230 ${u.length} \u4E2A\u5267\u96C6\u94FE\u63A5`),u):[]}catch(r){return E("error","[Leshi] \u83B7\u53D6\u5206\u96C6\u51FA\u9519:",r.message),[]}}parseEpisodesFromHtml(t,r){try{let n=/<div class="col_4"[^>]*>[\s\S]*?<\/div>/g,s=t.match(n);if(!s||s.length===0){E("debug","\u5728HTML\u4E2D\u672A\u627E\u5230\u5267\u96C6\u5BB9\u5668div.col_4\uFF0C\u5C1D\u8BD5\u67E5\u627Edl.dl_temp\u5143\u7D20");let a=/<dl class="dl_temp">[\s\S]*?<\/dl>/g,o=t.match(a);if(!o||o.length===0){E("debug","\u5728HTML\u4E2D\u672A\u627E\u5230\u5267\u96C6\u5143\u7D20\uFF0C\u5C1D\u8BD5\u66F4\u5E7F\u6CDB\u7684\u9009\u62E9\u5668");let c=/<dl[^>]*class="[^"]*dl_temp[^"]*"[^>]*>[\s\S]*?<\/dl>/g,u=t.match(c);return!u||u.length===0?(E("error",`\u65E0\u6CD5\u4ECEHTML\u4E2D\u89E3\u6790\u5230\u4EFB\u4F55\u5267\u96C6: media_id=${r}`),[]):this.extractEpisodes(u,r)}return this.extractEpisodes(o,r)}let i=[];for(let a of s){let o=/<dl class="dl_temp">[\s\S]*?<\/dl>/.exec(a);o&&i.push(o[0])}return i.length===0?(E("error",`\u4ECE\u5BB9\u5668\u4E2D\u672A\u80FD\u63D0\u53D6\u5230\u4EFB\u4F55dl.dl_temp\u5143\u7D20: media_id=${r}`),[]):this.extractEpisodes(i,r)}catch(n){return E("error",`[Leshi] \u89E3\u6790\u5267\u96C6HTML\u5931\u8D25: ${n.message}`),[]}}extractEpisodes(t,r){let n=[];for(let s of t)try{let i=/<a[^>]+href="(\/\/www\.le\.com\/ptv\/vplay\/(\d+)\.html)"[^>]*>/.exec(s);if(!i){E("debug","\u8DF3\u8FC7\u65E0\u6CD5\u89E3\u6790\u94FE\u63A5\u7684\u5267\u96C6\u5143\u7D20");continue}let a=i[1],o=i[2],c=`https:${a}`,u="",l=/<dt class="d_tit">[\s\n\r]*<a[^>]*title="([^"]*)"[^>]*>([^<]*)<\/a>/.exec(s);if(l&&l[1])u=l[1].trim();else if(l&&l[2])u=l[2].trim();else{let h=/<a[^>]*title="([^"]*)"[^>]*>[\s\S]*?<dt class="d_tit">/.exec(s)||/<dt class="d_tit">[\s\S]*?<a[^>]*title="([^"]*)"/.exec(s);if(h&&h[1])u=h[1].trim();else{let p=/<dd class="d_cnt"[^>]*>([^<]*)/.exec(s);if(p&&p[1])u=p[1].trim();else{let m=/<a[^>]*title="[^"]*"[^>]*>([^<]*)/.exec(s);m&&m[1]&&(u=m[1].trim())}}}if(!u){let h=/(\d+)|(\d+)(?:\s*)?/.exec(s);h?u=`\u7B2C${h[1]||h[2]}\u96C6`:u=`\u7B2C${n.length+1}\u96C6`}if(/|Preview|preview/.test(u)){E("debug",`\u8DF3\u8FC7\u9884\u544A\u7247: ${u}`);continue}let f={vid:o,title:u,url:c,episodeId:`${o}:${r}`};n.push(f)}catch(i){E("warning",`[Leshi] \u89E3\u6790\u5355\u4E2A\u5267\u96C6\u5931\u8D25: ${i.message}`);continue}return E("info",`[Leshi] \u6210\u529F\u89E3\u6790\u5267\u96C6\u5217\u8868: media_id=${r}, \u5171 ${n.length} \u96C6`),n}async handleAnimes(t,r,n){let s=[];if(!t||!Array.isArray(t))return E("error","[Leshi] sourceAnimes is not a valid array"),[];let i=await Promise.all(t.filter(a=>zt(a.title,r)).map(async a=>{try{let o=await this.getEpisodes(a.mediaId),c=[];for(let u=0;u<o.length;u++){let l=o[u],d=l.title||`\u7B2C${u+1}\u96C6`;c.push({name:(u+1).toString(),url:`${l.url}`,title:`\u3010leshi\u3011 ${d}`})}if(c.length>0){let l={animeId:Tr(a.mediaId),bangumiId:a.mediaId,animeTitle:`${a.title}(${a.year||new Date().getFullYear()})\u3010${a.type}\u3011from leshi`,type:a.type,typeDescription:a.type,imageUrl:a.imageUrl,startDate:Kt(a.year||new Date().getFullYear()),episodeCount:c.length,rating:0,isFavorited:!0,source:"leshi"};s.push(l),et({...l,links:c}),B.animes.length>B.MAX_ANIMES&&st()}}catch(o){E("error",`[Leshi] Error processing anime: ${o.message}`)}}));return this.sortAndPushAnimesByYear(s,n),i}async getEpisodeDanmu(t){E("info","\u5F00\u59CB\u4ECE\u672C\u5730\u8BF7\u6C42\u4E50\u89C6\u7F51\u5F39\u5E55...",t);let r=await this.getEpisodeDanmuSegments(t);if(!r||!r.segmentList||r.segmentList.length===0)return[];let n=r.segmentList;E("info",`\u5F39\u5E55\u5206\u6BB5\u6570\u91CF: ${n.length}`);let s=10,i=[];for(let a=0;a<n.length;a+=s){let o=n.slice(a,a+s),c=o.map(l=>this.getDanmuSegment(l)),u=await Promise.allSettled(c);for(let l=0;l<u.length;l++){let d=u[l],f=o[l],h=f.segment_start,p=f.segment_end;if(d.status==="fulfilled"){let m=d.value;if(m&&m.length>0)i.push(...m);else if(h>600)break}else E("error",`\u83B7\u53D6\u5F39\u5E55\u6BB5\u5931\u8D25 (${h}-${p}s):`,d.reason.message)}a+s<n.length&&await new Promise(l=>setTimeout(l,200))}return i.length===0?(E("info",`\u4E50\u89C6\u7F51: \u8BE5\u89C6\u9891\u6682\u65E0\u5F39\u5E55\u6570\u636E (vid=${t})`),[]):($r(i),i)}async getDanmuSegment(t){try{let r=await ue(t.url,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"},retries:1}),n=[];if(r&&r.data){let s=typeof r.data=="string"?r.data:JSON.stringify(r.data),i=/vjs_\d+\((.*)\)/.exec(s);if(i){let a=JSON.parse(i[1]);a.code===200&&a.data&&n.push(...a.data.list||[])}}return n}catch(r){return E("error","\u8BF7\u6C42\u5206\u7247\u5F39\u5E55\u5931\u8D25:",r),[]}}async getEpisodeDanmuSegments(t){E("info","\u83B7\u53D6\u4E50\u89C6\u7F51\u5F39\u5E55\u5206\u6BB5\u5217\u8868...",t);let r=t,n=t.match(/\/vplay\/(\d+)\.html/);n&&(r=n[1]);let s=await this.getVideoDuration(r),i=[];for(let a=0;a<Math.ceil(s/300);a++){let o=a*300,c=Math.min((a+1)*300,s);i.push({type:"leshi",segment_start:o,segment_end:c,url:`https://hd-my.le.com/danmu/list?vid=${r}&start=${o}&end=${c}&callback=vjs_${Date.now()}`})}return E("info",`\u4E50\u89C6\u7F51: \u89C6\u9891\u65F6\u957F ${s}\u79D2\uFF0C\u5206\u4E3A ${i.length} \u4E2A\u65F6\u95F4\u6BB5`),new Ve({type:"leshi",segmentList:i})}async getEpisodeSegmentDanmu(t){return this.getDanmuSegment(t)}async getVideoDuration(t){try{let r=await ue(`https://www.le.com/ptv/vplay/${t}.html`,{timeout:1e4});if(!r||!r.data)return E("warning","\u4E50\u89C6\u7F51: \u83B7\u53D6\u89C6\u9891\u65F6\u957F\u5931\u8D25\uFF0C\u4F7F\u7528\u9ED8\u8BA4\u503C2400\u79D2"),2400;let n=/duration['"]?\s*:\s*['"]?(\d{2}):(\d{2}):(\d{2})['"]?|duration['"]?\s*:\s*['"]?(\d{2}):(\d{2})['"]?|duration['"]?\s*:\s*(\d+)['"]?/.exec(r.data);if(n){if(n[1]&&n[2]&&n[3]){let s=parseInt(n[1]),i=parseInt(n[2]),a=parseInt(n[3]);return s*3600+i*60+a}else if(n[4]&&n[5]){let s=parseInt(n[4]),i=parseInt(n[5]);return s*60+i}else if(n[6])return parseInt(n[6])}return 2400}catch(r){return E("warning",`\u83B7\u53D6\u89C6\u9891\u65F6\u957F\u5931\u8D25: ${r}\uFF0C\u4F7F\u7528\u9ED8\u8BA4\u503C2400\u79D2`),2400}}formatComments(t){return t.map(r=>{try{let n=this.positionMap[parseInt(r.position)]||1,s=parseFloat(r.start||0),i=r.color||"FFFFFF",a=parseInt(i,16),o=r.id||r._id||"",c=r.txt||"",u=`${s.toFixed(2)},${n},25,${a},[${this.constructor.name.toLowerCase()}]`;return{cid:String(o),p:u,m:c,t:Math.round(s*100)/100}}catch(n){return E("error",`\u683C\u5F0F\u5316\u5F39\u5E55\u5931\u8D25: ${n.message}, \u5F39\u5E55\u6570\u636E:`,r),null}}).filter(r=>r!==null)}};pt();Ze();Dt();kn();Br();Zr();Gr();var t5=class extends Je{async search(t){try{let r=`https://m.ixigua.com/s/${t}`,s=(await ue(r,{headers:{"user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/17.5 Mobile/15A5370a Safari/602.1"}})).data,i=[],a=/<section class="search-section">[\s\S]*?<h2 class="search-section-title">[\s\S]*?[\s\S]*?<\/h2>[\s\S]*?<div class="s-long-video-card">([\s\S]*?)<\/div><\/div><\/div>/,o=s.match(a);if(o){let c=o[1],u=/<div class="s-long-video">[\s\S]*?(?=<div class="s-long-video">|$)/g;(c.match(u)||[]).forEach(d=>{let f=d.match(/href="(\/video\/\d+)"/),h=f?`https://m.ixigua.com${f[1]}`:"",p=d.match(/<h3 class="s-long-video-info-title">[\s\S]*?title="([^"]+)"/),m=p?p[1]:"",A=d.match(/<img src="([^"]+)"/),g=A?A[1]:"";g&&g.startsWith("//")&&(g="https:"+g),g=g.replace(/&amp;/g,"&");let x=d.match(/<p>([^<]+\/[^<]+\/\d{4})<\/p>/),y="",b="";if(x){let _=x[1].split("/");y=_[0]||"",b=_[2]||""}h&&m&&i.push({name:m,type:y,year:b,img:g,url:h})})}else return E("info","xiguaSearchresp: \u76F8\u5173\u89C6\u9891\u7684section \u4E0D\u5B58\u5728"),[];return E("info",`[Xigua] \u641C\u7D22\u627E\u5230 ${i.length} \u4E2A\u6709\u6548\u7ED3\u679C`),i}catch(r){return E("error","getXiguaAnimes error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async getDetail(t){try{let n=`https://m.ixigua.com/video/${t.split("/").pop()}`,s=await ue(n,{headers:{"user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/17.5 Mobile/15A5370a Safari/602.1"}});if(!s||!s.data)return E("info","getXiguaDetail: \u8BF7\u6C42\u5931\u8D25\u6216\u65E0\u6570\u636E\u8FD4\u56DE"),0;let i=s.data.match(/"duration"\s*:\s*([\d.]+)/);return i?parseFloat(i[1]):0}catch(r){return E("error","getXiguaDetail error:",{message:r.message,name:r.name,stack:r.stack}),0}}async getEpisodes(t){try{let r=`https://m.ixigua.com/video/${t}`,n=await ue(r,{headers:{"user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/17.5 Mobile/15A5370a Safari/602.1"}});if(!n||!n.data)return E("info","getXiguaEposides: \u8BF7\u6C42\u5931\u8D25\u6216\u65E0\u6570\u636E\u8FD4\u56DE"),[];let s=n.data.match(/"episodes_list"\s*:\s*(\[[\s\S]*?\})\s*\]/);if(s)try{let i=s[0].replace(/"episodes_list"\s*:\s*/,"");return JSON.parse(i).map(c=>({seq_num:c.seq_num,title:c.title||`\u7B2C${c.seq_num}\u96C6`,url:`https://m.ixigua.com/video/${c.gid}`,gid:c.gid,cover_image_url:c.cover_image_url}))}catch(i){E("error","\u89E3\u6790episodes_list\u5931\u8D25:",i)}else return E("info","getXiguaEposides: episodes_list \u4E0D\u5B58\u5728"),[]}catch(r){return E("error","getXiguaEposides error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async handleAnimes(t,r,n){let s=[];if(!t||!Array.isArray(t))return E("error","[Xigua] sourceAnimes is not a valid array"),[];let i=await Promise.all(t.filter(a=>zt(a.name,r)).map(async a=>{try{let o=a.url.split("/").pop(),c=await this.getEpisodes(o),u=[];for(let l of c){let d=l.title;u.push({name:d,url:l.url,title:`\u3010xigua\u3011 ${d}`})}if(u.length>0){let l={animeId:Tr(o),bangumiId:String(o),animeTitle:`${a.name}(${a.year})\u3010${a.type}\u3011from xigua`,type:a.type,typeDescription:a.type,imageUrl:a.img,startDate:Kt(a.year),episodeCount:u.length,rating:0,isFavorited:!0,source:"xigua"};s.push(l),et({...l,links:u}),B.animes.length>B.MAX_ANIMES&&st()}}catch(o){E("error",`[Xigua] Error processing anime: ${o.message}`)}}));return this.sortAndPushAnimesByYear(s,n),i}async getEpisodeDanmu(t){E("info","\u5F00\u59CB\u4ECE\u672C\u5730\u8BF7\u6C42\u897F\u74DC\u89C6\u9891\u5F39\u5E55...",t);let r=await this.getEpisodeDanmuSegments(t);if(!r||!r.segmentList||r.segmentList.length===0)return[];let n=r.segmentList;E("info",`\u5F39\u5E55\u5206\u6BB5\u6570\u91CF: ${n.length}`);let s=100,i=[];for(let a=0;a<n.length;a+=s){let o=n.slice(a,a+s),c=o.map(l=>this.getEpisodeSegmentDanmu(l)),u=await Promise.allSettled(c);for(let l=0;l<u.length;l++){let d=u[l],f=o[l],h=f.segment_start,p=f.segment_end;if(d.status==="fulfilled"){let m=d.value;m&&m.length>0&&i.push(...m)}else E("error",`\u83B7\u53D6\u5F39\u5E55\u6BB5\u5931\u8D25 (${h}-${p}s):`,d.reason.message)}a+s<n.length&&await new Promise(l=>setTimeout(l,200))}return i.length===0?(E("info",`\u897F\u74DC\u89C6\u9891: \u8BE5\u89C6\u9891\u6682\u65E0\u5F39\u5E55\u6570\u636E (vid=${t})`),[]):($r(i),i)}async getEpisodeDanmuSegments(t){E("info","\u83B7\u53D6\u897F\u74DC\u89C6\u9891\u5F39\u5E55\u5206\u6BB5\u5217\u8868...",t);let r=t.split("/").pop(),n=await this.getDetail(t)*1e3;E("info","itemId:",r),E("info","duration:",n);let s=3e5,i=[];for(let a=0;a<n;a+=s){let o=a,c=Math.min(a+s,n),l=`https://ib.snssdk.com/vapp/danmaku/list/v1/?${bn({item_id:r,start_time:o,end_time:c,format:"json"})}`;i.push({type:"xigua",segment_start:o,segment_end:c,url:l})}return new Ve({type:"xigua",segmentList:i})}async getEpisodeSegmentDanmu(t){try{let r=await ue(t.url,{headers:{"user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/17.5 Mobile/15A5370a Safari/602.1"},retries:1}),n=[];if(r&&r.data){let i=(typeof r.data=="string"?JSON.parse(r.data):r.data).data??[];n.push(...i)}return n}catch(r){return E("error","\u8BF7\u6C42\u5206\u7247\u5F39\u5E55\u5931\u8D25:",r),[]}}formatComments(t){return t.map(r=>({cid:Number(r.danmaku_id),p:`${(r.offset_time/1e3).toFixed(2)},1,16777215,[xigua]`,m:r.text,t:Math.round(r.offset_time/1e3)}))}},Vfe=t5;pt();Ze();Dt();kn();Br();Zr();Gr();var r5=class extends Je{constructor(){super(),this.domain="https://mob.mddcloud.com.cn",this.headers={"user-agent":"Mdd/5.8.00 (Android+32+)","Content-Type":"application/json",version:"5.8.00",Referer:"mdd"}}getPlayload(t,r){let n=Date.now(),s=bn(r,!1),i=`os:Android|version:5.8.00|action:${t}|time:${n}|appToken:|privateKey:e1be6b4cf4021b3d181170d1879a530a9e4130b69032144d5568abfd6cd6c1c2|data:${s}&`;return{channel:"1000",data:r,deviceNum:"853BDD7A1DC011F1C341455071C03AEB",deviceType:0,jsonSign:0,os:"Android",sign:As(i),sourceVersion:0,terminalType:"APP",thirdStatus:0,time:n,version:"5.8.00",visitorStatus:0}}extractByRegex(t){let r=t.match(/\/video\/([a-f0-9]+)\.html/i),n=t.match(/[?&]uuid=([a-f0-9]+)/i);return{vodUuid:r?r[1]:null,uuid:n?n[1]:null,success:!!(r&&n)}}async search(t){try{let r="/searchApi/search/getAllSearchResult4820.action",n=`${this.domain}${r}`,s={keyWord:t},i=await sr(n,JSON.stringify(this.getPlayload(r,s)),{headers:this.headers});if(!i||!i.data)return E("info","[Maiduidui] \u641C\u7D22\u54CD\u5E94\u4E3A\u7A7A"),[];let a=typeof i.data=="string"?JSON.parse(i.data):i.data,o=[],c=a?.data;for(let u of c)if(u?.typeName==="\u5267\u96C6"||u?.typeName==="\u7535\u5F71"||u?.typeName==="\u7EFC\u827A")for(let l of u?.vodList)o.push({name:l.name,type:u.typeName,year:l.yearName,img:l.downImage,url:l.uuid});return E("info",`[Maiduidui] \u641C\u7D22\u627E\u5230 ${o.length} \u4E2A\u6709\u6548\u7ED3\u679C`),o}catch(r){return E("error","getMaiduiduiAnimes error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async getDetail(t){try{let r=this.extractByRegex(t),n=r.uuid,s=r.vodUuid,i="/api/vod/listVodSactions.action",a=`${this.domain}${i}`,o={hasIntroduction:0,vodUuid:s},c=await sr(a,JSON.stringify(this.getPlayload(i,o)),{headers:this.headers});if(!c||!c.data)return E("info","[Maiduidui] \u83B7\u53D6\u8BE6\u60C5\u4FE1\u606F\u54CD\u5E94\u4E3A\u7A7A"),[];let u=typeof c.data=="string"?JSON.parse(c.data):c.data;for(let l of u?.data)if(l.uuid===n)return l.duration;return 0}catch(r){return E("error","getMaiduiduiDetail error:",{message:r.message,name:r.name,stack:r.stack}),0}}async getEpisodes(t){try{let r="/api/vod/listVodSactions.action",n=`${this.domain}${r}`,s={hasIntroduction:0,vodUuid:t},i=await sr(n,JSON.stringify(this.getPlayload(r,s)),{headers:this.headers});if(!i||!i.data)return E("info","[Maiduidui] \u83B7\u53D6\u96C6\u4FE1\u606F\u54CD\u5E94\u4E3A\u7A7A"),[];let a=[];return(typeof i.data=="string"?JSON.parse(i.data):i.data)?.data.forEach(c=>{a.push({title:c.name,episodeId:c.uuid})}),a}catch(r){return E("error","getMaiduiduiEposides error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async handleAnimes(t,r,n){let s=[];if(!t||!Array.isArray(t))return E("error","[Maiduidui] sourceAnimes is not a valid array"),[];let i=await Promise.all(t.filter(a=>zt(a.name,r)).map(async a=>{try{let o=await this.getEpisodes(a.url),c=[];for(let u of o){let l=u.title;c.push({name:l,url:`https://www.mddcloud.com.cn/video/${a.url}.html?uuid=${u.episodeId}`,title:`\u3010maiduidui\u3011 ${l}`})}if(c.length>0){let u={animeId:Tr(a.url),bangumiId:a.url,animeTitle:`${a.name}(${a.year})\u3010${a.type}\u3011from maiduidui`,type:a.type,typeDescription:a.type,imageUrl:a.img,startDate:Kt(a.year),episodeCount:c.length,rating:0,isFavorited:!0,source:"maiduidui"};s.push(u),et({...u,links:c}),B.animes.length>B.MAX_ANIMES&&st()}}catch(o){E("error",`[Maiduidui] Error processing anime: ${o.message}`)}}));return this.sortAndPushAnimesByYear(s,n),i}async getEpisodeDanmu(t){E("info","\u5F00\u59CB\u4ECE\u672C\u5730\u8BF7\u6C42\u57CB\u5806\u5806\u5F39\u5E55...",t);let r=await this.getEpisodeDanmuSegments(t);if(!r||!r.segmentList||r.segmentList.length===0)return[];let n=r.segmentList;E("info",`\u5F39\u5E55\u5206\u6BB5\u6570\u91CF: ${n.length}`);let s=20,i=[];for(let a=0;a<n.length;a+=s){let o=n.slice(a,a+s),c=o.map(l=>this.getEpisodeSegmentDanmu(l)),u=await Promise.allSettled(c);for(let l=0;l<u.length;l++){let d=u[l],f=o[l],h=f.segment_start,p=f.segment_end;if(d.status==="fulfilled"){let m=d.value;m&&m.length>0&&i.push(...m)}else E("error",`\u83B7\u53D6\u5F39\u5E55\u6BB5\u5931\u8D25 (${h}-${p}s):`,d.reason.message)}a+s<n.length&&await new Promise(l=>setTimeout(l,200))}return i.length===0?(E("info",`\u57CB\u5806\u5806: \u8BE5\u89C6\u9891\u6682\u65E0\u5F39\u5E55\u6570\u636E (vid=${t})`),[]):($r(i),i)}async getEpisodeDanmuSegments(t){E("info","\u83B7\u53D6\u57CB\u5806\u5806\u5F39\u5E55\u5206\u6BB5\u5217\u8868...",t);let n=this.extractByRegex(t).uuid,s=await this.getDetail(t);E("info","uuid:",n),E("info","duration:",s);let i=60,a=[];for(let o=0;o<s;o+=i){let c=o,u=Math.min(o+i,s);a.push({type:"maiduidui",segment_start:c,segment_end:u,url:t})}return new Ve({type:"maiduidui",segmentList:a})}async getEpisodeSegmentDanmu(t){try{let r=this.extractByRegex(t.url),n=r.uuid,s=r.vodUuid,i="/api/barrage/vodBarrage396.action",a=`${this.domain}${i}`,o={sactionUuid:n,times:t.segment_start,vodUuid:s},c=await sr(a,JSON.stringify(this.getPlayload(i,o)),{headers:this.headers,retries:1}),u=[];return c&&c.data&&((typeof c.data=="string"?JSON.parse(c.data):c.data).data??[]).forEach(f=>{u.push(...f.barrageList)}),u}catch(r){return E("error","\u8BF7\u6C42\u5206\u7247\u5F39\u5E55\u5931\u8D25:",r),[]}}formatComments(t){return t.map(r=>({cid:Number(r.uuid),p:`${r.times.toFixed(2)},1,${TI(r.color.replace("#",""))},[maiduidui]`,m:r.content,t:r.times}))}},Kfe=r5;pt();Ze();Dt();Br();Gr();var HA=class extends Je{get headers(){return{"Content-Type":"application/json","User-Agent":`huangxd-/danmu_api/${B.version}(https://github.com/huangxd-/danmu_api)`}}async search(t){try{let r=t.replace(/[._]/g," ").replace(/\s+/g," ").trim();E("info",`[Animeko] \u5F00\u59CB\u641C\u7D22 (V0): ${r}`);let i=await sr("https://api.bgm.tv/v0/search/subjects?limit=5",JSON.stringify({keyword:r,filter:{type:[2]}}),{headers:this.headers});if(!i||!i.data)return E("info","[Animeko] \u641C\u7D22\u8BF7\u6C42\u5931\u8D25\u6216\u65E0\u6570\u636E\u8FD4\u56DE"),[];let a=i.data.data||[];return a.length===0?(E("info","[Animeko] \u672A\u627E\u5230\u76F8\u5173\u6761\u76EE"),[]):(a=this.filterSearchResults(a,t),a.length===0?(E("info","[Animeko] \u8FC7\u6EE4\u540E\u65E0\u5339\u914D\u7ED3\u679C"),[]):(a.length>1&&(a=await this.checkRelationsAndModifyTitles(a)),E("info",`[Animeko] \u641C\u7D22\u5B8C\u6210\uFF0C\u627E\u5230 ${a.length} \u4E2A\u6709\u6548\u7ED3\u679C`),this.transformResults(a)))}catch(r){return E("error","[Animeko] Search error:",{message:r.message,name:r.name,stack:r.stack}),[]}}getExplicitSeasonNumber(t){if(!t)return null;let r=Xt(t),n=r.match(/(?:^|\s|\[|\(||)(?:Season|S|)\s*(\d+)(?:\s*|||Season|\]|\)||)?/i);if(n&&n[1])return parseInt(n[1],10);let s={\u4E00:1,\u4E8C:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6,\u4E03:7,\u516B:8,\u4E5D:9,\u5341:10},i=r.match(/([]+)[]/);return i&&s[i[1]]?s[i[1]]:null}removePunctuationAndSymbols(t){return t?t.replace(/[\s\x20-\x2F\x3A-\x40\x5B-\x60\x7B-\x7E\u2000-\u206F\u3000-\u3003\u3008-\u301F\u3030-\u303F\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF60\uFFE0-\uFFE6\uFF61-\uFF65\u2190-\u21FF\u2600-\u27BF]+/g,""):""}filterSearchResults(t,r){let s=c=>c?this.removePunctuationAndSymbols(Xt(c).toLowerCase()):"",i=s(r),a=t.filter(c=>{let u=new Set;c.name&&u.add(c.name),c.name_cn&&u.add(c.name_cn),c.infobox&&Array.isArray(c.infobox)&&c.infobox.forEach(d=>{d.key==="\u522B\u540D"&&Array.isArray(d.value)&&d.value.forEach(f=>{f.v&&u.add(f.v)}),d.key==="\u4E2D\u6587\u540D"&&typeof d.value=="string"&&u.add(d.value)});let l=0;for(let d of u){let f=s(d),h=this.calculateSimilarity(i,f);h>l&&(l=h)}return l>=.8});if(a.length===0)return[];let o=this.getExplicitSeasonNumber(r);if(o!==null&&o>1){E("info",`[Animeko] \u68C0\u6D4B\u5230\u6307\u5B9A\u5B63\u5EA6\u641C\u7D22: \u7B2C ${o} \u5B63`);let c=a.filter(u=>{let l=this.getExplicitSeasonNumber(u.name),d=this.getExplicitSeasonNumber(u.name_cn);return(l!==null?l:d!==null?d:1)===o});return c.length>0?c:(E("info",`[Animeko] \u672A\u627E\u5230\u7B2C ${o} \u5B63\u5BF9\u5E94\u6761\u76EE\uFF0C\u56DE\u9000\u81F3\u6700\u4F18\u7ED3\u679C`),[a[0]])}return a}calculateSimilarity(t,r){if(!t||!r)return 0;if(t===r)return 1;if(t.includes(r)||r.includes(t))return .8+Math.min(t.length,r.length)/Math.max(t.length,r.length)*.2;let n=t.length,s=r.length,i=[];for(let c=0;c<=n;c++)i[c]=[c];for(let c=0;c<=s;c++)i[0][c]=c;for(let c=1;c<=n;c++)for(let u=1;u<=s;u++){let l=t.charAt(c-1)===r.charAt(u-1)?0:1;i[c][u]=Math.min(i[c-1][u]+1,i[c][u-1]+1,i[c-1][u-1]+l)}let a=i[n][s],o=Math.max(n,s);return o===0?1:1-a/o}hasExplicitSeasonInfo(t){return t?[/\s*[0-9]+\s*[]/i,/Season\s*\d+/i,/S\d+/i,/Part\s*\d+/i,/OVA/i,/OAD/i,/|Movie|Film/i,/|/i,/SP/i,/(?<!\d)\d+$/,/\S+/i,/\S+/i,/Act\s*\d+/i,/Phase\s*\d+/i].some(n=>n.test(t)):!1}async checkRelationsAndModifyTitles(t){let r=Math.min(t.length,3);for(let n=0;n<r;n++)for(let s=0;s<r;s++){if(n===s)continue;let i=t[n],a=t[s],o=i.name_cn||i.name,c=a.name_cn||a.name;if(c.includes(o)&&c.length>o.length){if(this.hasExplicitSeasonInfo(c))continue;let l=(await this.getSubjectRelations(i.id)).find(d=>d.id===a.id);if(l&&(E("info",`[Animeko] \u68C0\u6D4B\u5230\u5173\u7CFB: [${o}] -> ${l.relation} -> [${c}]`),["\u7EED\u96C6","\u756A\u5916\u7BC7","\u4E3B\u7EBF\u6545\u4E8B","\u524D\u4F20","\u4E0D\u540C\u6F14\u7ECE","\u884D\u751F"].includes(l.relation))){let f=l.relation;f==="\u7EED\u96C6"&&(f="\u7EED\u7BC7"),a._relation_mark=`(${f})`}}}return t}async getSubjectRelations(t){try{let r=`https://api.bgm.tv/v0/subjects/${t}/subjects`,n=await ue(r,{headers:this.headers});return!n||!n.data||!Array.isArray(n.data)?[]:n.data.filter(s=>s.type===2).map(s=>({id:s.id,name:s.name_cn||s.name,relation:s.relation}))}catch(r){return E("warn",`[Animeko] \u83B7\u53D6\u5173\u7CFB\u5931\u8D25 ID:${t}: ${r.message}`),[]}}transformResults(t){return t.map(r=>{let n="\u52A8\u6F2B";if(r.platform)switch(r.platform){case"TV":n="TV\u52A8\u753B";break;case"Web":n="Web\u52A8\u753B";break;case"OVA":n="OVA";break;case"Movie":n="\u5267\u573A\u7248";break;default:n=r.platform}let s=r._relation_mark?` ${r._relation_mark}`:"",i=[];return r.infobox&&Array.isArray(r.infobox)&&r.infobox.forEach(a=>{a.key==="\u522B\u540D"&&Array.isArray(a.value)&&a.value.forEach(o=>{o&&o.v&&i.push(o.v)})}),r.name_cn&&r.name_cn!==r.name&&i.push(r.name_cn),{id:r.id,name:r.name,name_cn:(r.name_cn||r.name)+s,aliases:i,images:r.images,air_date:r.date,score:r.score,typeDescription:n}})}async getEpisodes(t){let r=[],n=0,s=200;try{for(;;){let i=`https://api.bgm.tv/v0/episodes?subject_id=${t}&limit=${s}&offset=${n}`,a=await ue(i,{headers:this.headers});if(!a||!a.data||!Array.isArray(a.data.data)){n===0&&E("info",`[Animeko] Subject ${t} \u65E0\u5267\u96C6\u6570\u636E\u6216\u54CD\u5E94\u5F02\u5E38`);break}let o=a.data.data;if(o.length===0||(r=r.concat(o),o.length===s&&E("info",`[Animeko] ID:${t} \u6B63\u52A0\u8F7D\u66F4\u591A\u5267\u96C6 (\u5F53\u524D\u5DF2\u83B7: ${r.length})`),o.length<s))break;if(n+=s,n>1600){E("warn",`[Animeko] ID:${t} \u5267\u96C6\u6570\u91CF\u8D85\u8FC7\u5B89\u5168\u9650\u5236(1600)\uFF0C\u505C\u6B62\u7FFB\u9875`);break}}return r}catch(i){return E("error","[Animeko] GetEpisodes error:",{message:i.message,id:t,offset:n}),[]}}async handleAnimes(t,r,n){let s=[];if(!t||!Array.isArray(t))return t&&E("error","[Animeko] sourceAnimes is not a valid array"),[];let i=await Promise.all(t.map(async a=>{try{let o=await this.getEpisodes(a.id),c=[],u=a.air_date||"";if(Array.isArray(o)){o.sort((l,d)=>(l.sort||0)-(d.sort||0));for(let l of o){if(l.type!==0)continue;!u&&l.airdate&&(u=l.airdate);let d=l.sort||l.ep,f=l.name_cn||l.name||"",h=`\u7B2C${d}\u8BDD ${f}`.trim();c.push({name:`${d}`,url:l.id.toString(),title:`\u3010animeko\u3011 ${h}`})}}if(c.length>0){let l=u?new Date(u).getFullYear():"",d={animeId:a.id,bangumiId:String(a.id),animeTitle:`${a.name_cn||a.name}(${l})\u3010${a.typeDescription||"\u52A8\u6F2B"}\u3011from animeko`,aliases:a.aliases||[],type:"\u52A8\u6F2B",typeDescription:a.typeDescription||"\u52A8\u6F2B",imageUrl:a.images?a.images.common||a.images.large:"",startDate:u,episodeCount:c.length,rating:a.score||0,isFavorited:!0,source:"animeko"};s.push(d),et({...d,links:c}),B.animes.length>B.MAX_ANIMES&&st()}}catch(o){E("error",`[Animeko] Error processing anime ${a.id}: ${o.message}`)}}));return this.sortAndPushAnimesByYear(s,n),i}async getEpisodeDanmu(t){let r=String(t).trim();if(r.includes("/")){let o=r.split("/");r=o[o.length-1]}if(r.includes("?")&&(r=r.split("?")[0]),!r)return E("error","[Animeko] \u65E0\u6548\u7684 episodeId"),[];let n="https://danmaku-global.myani.org",s="https://danmaku-cn.myani.org",i=async o=>{let c=`${o}/v1/danmaku/${r}`;try{let u=await ue(c,{headers:this.headers});if(!u||!u.data)return null;let l=u.data;return l.danmakuList?l.danmakuList:null}catch(u){return E("warn",`[Animeko] \u8BF7\u6C42\u8282\u70B9\u5931\u8D25: ${o} - ${u.message}`),null}},a=await i(n);return a||(E("info",`[Animeko] Global \u8282\u70B9\u83B7\u53D6\u5931\u8D25/\u65E0\u6570\u636E\uFF0C\u964D\u7EA7\u5C1D\u8BD5 CN \u8282\u70B9... ID:${r}`),a=await i(s)),a?(E("info",`[Animeko] \u6210\u529F\u83B7\u53D6\u5F39\u5E55\uFF0C\u5171 ${a.length} \u6761`),a):(E("error","[Animeko] \u6240\u6709\u8282\u70B9\u5C1D\u8BD5\u5747\u5931\u8D25\uFF0C\u65E0\u6CD5\u83B7\u53D6\u5F39\u5E55"),[])}async getEpisodeDanmuSegments(t){return new Ve({type:"animeko",segmentList:[{type:"animeko",segment_start:0,segment_end:3e4,url:String(t)}]})}async getEpisodeSegmentDanmu(t){let r=(t.url||"").trim();return r?this.getEpisodeDanmu(r):[]}formatComments(t){if(!Array.isArray(t))return[];let r={NORMAL:1,TOP:5,BOTTOM:4};return t.filter(n=>n&&n.danmakuInfo).map(n=>{let s=n.danmakuInfo,i=(Number(s.playTime)/1e3).toFixed(2),a=r[s.location]||1,o=s.color===-1?16777215:s.color,c=B.danmuSimplifiedTraditional==="simplified"?Xt(s.text):s.text;return{cid:n.id,p:`${i},${a},${o},[animeko]`,m:c}})}};pt();Ze();Dt();Zr();Gr();var zA=class extends Je{async search(t){}async getEpisodes(t){}async handleAnimes(t,r,n){}async getEpisodeDanmu(t){try{let r=await ue(`${B.otherServer}/?url=${t}&ac=dm`,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}});return E("info",`danmu response from ${B.otherServer}: \u2193\u2193\u2193`),$r(r.data),r.data}catch(r){return E("error",`\u8BF7\u6C42 ${B.otherServer} \u5931\u8D25:`,r),[]}}async getEpisodeDanmuSegments(t){return E("info","\u83B7\u53D6\u7B2C\u4E09\u65B9\u670D\u52A1\u5668\u5F39\u5E55\u5206\u6BB5\u5217\u8868...",t),new Ve({type:"other_server",segmentList:[{type:"other_server",segment_start:0,segment_end:3e4,url:t}]})}async getEpisodeSegmentDanmu(t){return this.getEpisodeDanmu(t.url)}formatComments(t){return t}};Gr();var Yfe=new vA,Wfe=new _A,GA=new TA,VA=new RA,KA=new NA,YA=new kA,FI=new DA,pd=new PA,hd=new UA,md=new OA,Zp=new $A,ac=new LA,gd=new zfe,e0=new qA,t0=new jA,r0=new Vfe,n0=new Kfe,WA=new HA,a5=new zA,n5=new CA(pd,md,hd,ac,gd),Jfe=new IA(n5),MI=new Map;function s5(e,t){if(!t)return!0;let r=Su(e.animeTitle);return r?r===t:!0}function Jnt(e,t,r){let n=Dn(e.animeTitle),s=Dn(t);if(n.includes(s)){let i=n.match(/^(.*?)\(\d{4}\)/),a=i?i[1].trim():n.split("(")[0].trim();if(a.startsWith(s)){let o=a.substring(s.length).trim();if(o===""&&r===1)return!0;let c=o.match(/\d+/);if(c&&c[0]===r.toString())return!0;let u=o.match(/[]+/);if(u&&tfe(u[0])===r)return!0}return!1}else return!1}async function QI(e,t=null,r=null){let n=e.searchParams.get("keyword");if(E("info",`Search anime with keyword: ${n}`),n==="")return be({errorCode:0,success:!0,errorMessage:"",animes:[]});if(B.animeTitleSimplified){let o=Xt(n);E("info",`searchAnime converted traditional to simplified: ${n} -> ${o}`),n=o}let s=LO(n);if(s!==null)return be({errorCode:0,success:!0,errorMessage:"",animes:s});let i=[];if(/^(https?:\/\/)?([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,6}(:\d+)?(\/[^\s]*)?$/.test(n)){let o=Bu.fromJson({animeId:111,bangumiId:"string",animeTitle:n,type:"type",typeDescription:"string",imageUrl:"string",startDate:"2025-08-08T13:25:11.189Z",episodeCount:1,rating:0,isFavorited:!0}),c="unknown";n.includes(".qq.com")?c="qq":n.includes(".iqiyi.com")?c="qiyi":n.includes(".mgtv.com")?c="imgo":n.includes(".youku.com")?c="youku":n.includes(".bilibili.com")?c="bilibili1":n.includes(".miguvideo.com")?c="migu":n.includes(".sohu.com")?c="sohu":n.includes(".le.com")?c="leshi":n.includes(".douyin.com")||n.includes(".ixigua.com")?c="xigua":n.includes(".mddcloud.com.cn")&&(c="maiduidui");let u=await Qde(n),l=[{name:"\u624B\u52A8\u89E3\u6790\u94FE\u63A5\u5F39\u5E55",url:n,title:`\u3010${c}\u3011 ${u}`}];return i.push(o),et(Bu.fromJson({...o,links:l})),B.animes.length>B.MAX_ANIMES&&st(),B.localCacheValid&&i.length!==0&&await SI(),B.redisValid&&i.length!==0&&await AI(),be({errorCode:0,success:!0,errorMessage:"",animes:i})}try{E("info",`Search sourceOrderArr: ${B.sourceOrderArr}`);let o=B.sourceOrderArr.map(k=>{if(k==="360")return Yfe.search(n);if(k==="vod")return Wfe.search(n,t,r);if(k==="tmdb")return Jfe.search(n);if(k==="douban")return n5.search(n);if(k==="renren")return GA.search(n);if(k==="hanjutv")return VA.search(n);if(k==="bahamut")return KA.search(n);if(k==="dandan")return YA.search(n);if(k==="custom")return FI.search(n);if(k==="tencent")return pd.search(n);if(k==="youku")return hd.search(n);if(k==="iqiyi")return md.search(n);if(k==="imgo")return Zp.search(n);if(k==="bilibili")return ac.search(n);if(k==="migu")return gd.search(n);if(k==="sohu")return e0.search(n);if(k==="leshi")return t0.search(n);if(k==="xigua")return r0.search(n);if(k==="maiduidui")return n0.search(n);if(k==="animeko")return WA.search(n)}),c=await Promise.all(o),u={};B.sourceOrderArr.forEach((k,q)=>{u[k]=c[q]});let{vod:l,360:d,tmdb:f,douban:h,renren:p,hanjutv:m,bahamut:A,dandan:g,custom:x,tencent:y,youku:b,iqiyi:_,imgo:C,bilibili:w,migu:S,sohu:T,leshi:R,xigua:P,maiduidui:N,animeko:D}=u;for(let k of B.sourceOrderArr)if(k==="360")await Yfe.handleAnimes(d,n,i);else if(k==="vod"){if(l&&Array.isArray(l))for(let q of l)q&&q.list&&q.list.length>0&&await Wfe.handleAnimes(q.list,n,i,q.serverName)}else k==="tmdb"?await Jfe.handleAnimes(f,n,i):k==="douban"?await n5.handleAnimes(h,n,i):k==="renren"?await GA.handleAnimes(p,n,i):k==="hanjutv"?await VA.handleAnimes(m,n,i):k==="bahamut"?await KA.handleAnimes(A,n,i):k==="dandan"?await YA.handleAnimes(g,n,i):k==="custom"?await FI.handleAnimes(x,n,i):k==="tencent"?await pd.handleAnimes(y,n,i):k==="youku"?await hd.handleAnimes(b,n,i):k==="iqiyi"?await md.handleAnimes(_,n,i):k==="imgo"?await Zp.handleAnimes(C,n,i):k==="bilibili"?await ac.handleAnimes(w,n,i):k==="migu"?await gd.handleAnimes(S,n,i):k==="sohu"?await e0.handleAnimes(T,n,i):k==="leshi"?await t0.handleAnimes(R,n,i):k==="xigua"?await r0.handleAnimes(P,n,i):k==="maiduidui"?await n0.handleAnimes(N,n,i):k==="animeko"&&await WA.handleAnimes(D,n,i)}catch(o){E("error","\u53D1\u751F\u9519\u8BEF:",o)}if(B.mergeSourcePairs.length>0&&await vfe(i),QO(i,n),B.enableAnimeEpisodeFilter){let o=[];for(let c of i){let u=c.animeTitle||"";if(B.animeTitleFilter&&B.animeTitleFilter.test(u)){E("info",`[searchAnime] Anime ${c.animeId} filtered by name: ${u}`);continue}let l=B.animes.find(d=>d.animeId===c.animeId);if(l&&l.links){let d=l.links.map((f,h)=>({episodeId:f.id,episodeTitle:f.title,episodeNumber:h+1}));d=d.filter(f=>!B.episodeTitleFilter.test(f.episodeTitle)),E("info",`[searchAnime] Anime ${c.animeId} filtered episodes: ${d.length}/${l.links.length}`),d.length>0&&o.push(c)}}i.length=0,i.push(...o)}return B.localCacheValid&&i.length!==0&&await SI(),B.redisValid&&i.length!==0&&await AI(),i.length>0&&MO(n,i),be({errorCode:0,success:!0,errorMessage:"",animes:i})}function o5(e){return e.filter((r,n,s)=>!s.slice(0,n).some(i=>i.episodeTitle===r.episodeTitle))}function Xnt(e){if(!e)return null;let t=e.match(/(\d+)/);if(t)return parseInt(t[1],10);let r=e.match(/[Ee][Pp]?(\d+)/);if(r)return parseInt(r[1],10);let n=e.match(/(?:^|\s)(\d+)(?:\s|$)/);return n?parseInt(n[1],10):null}function i5(e,t){if(!e||!t)return 0;let r=e.split("&").map(i=>i.trim().toLowerCase()).filter(i=>i),n=t.split("&").map(i=>i.trim().toLowerCase()).filter(i=>i),s=0;for(let i of n)r.some(o=>o===i||o.includes(i)&&i.length>2||i.includes(o)&&o.length>2)&&s++;return s===0?0:s*1e3-r.length}function Znt(e){let t=e.match(/from\s+([a-zA-Z0-9&]+)/i);return t?t[1]:null}function c5(e,t,r=null){if(!e||e.length===0)return null;let n=e;if(r&&(n=e.filter(s=>{let i=DO(s.episodeTitle);return i5(i,r)>0})),n.length===0)return null;for(let s of n){let i=Xnt(s.episodeTitle);if(i===t)return E("info",`Found episode by title number: ${s.episodeTitle} (extracted: ${i})`),s}if(n.length>=t){let s=n[t-1];return E("info",`Using fallback array index for episode ${t}: ${s.episodeTitle}`),s}for(let s of n)if(s.episodeNumber&&parseInt(s.episodeNumber,10)===t)return E("info",`Found episode by episodeNumber: ${s.episodeTitle} (episodeNumber: ${s.episodeNumber})`),s;return null}async function est(e,t,r,n,s,i,a,o){let c=B.aiBaseUrl,u=B.aiModel,l=B.aiApiKey,d=B.aiMatchPrompt;if(!B.aiValid||!d)return E("warn","AI configuration is incomplete, falling back to normal matching"),{resEpisode:null,resAnime:null};let f=new rc({apiKey:l,baseURL:c,model:u,systemPrompt:d}),h={title:s,season:e,episode:t,year:r,dynamicPlatformOrder:a,preferAnimeId:o,animes:n.animes.map(p=>{let m=p.animeTitle||"",A=m.match(/^(.*?)\(\d{4}\)/),g=A?A[1].trim():m.split("(")[0].trim();return{animeId:p.animeId,animeTitle:g,type:p.type,year:p.startDate?p.startDate.slice(0,4):null,episodeCount:p.episodeCount,source:p.source}})};try{let p=JSON.stringify(h,null,2),m=await f.ask(p);E("info",`AI match response: ${m}`);let A;try{let w=m.match(/```json\s*([\s\S]*?)\s*```|```([\s\S]*?)\s*```|({[\s\S]*})/),S=w?w[1]||w[2]||w[3]:m;A=JSON.parse(S.trim())}catch(w){return E("error",`Failed to parse AI response: ${w.message}`),{resEpisode:null,resAnime:null}}let g=A.animeIndex;if(g==null)return{resEpisode:null,resAnime:null};let x=n.animes[g];if(!x)return E("error",`AI returned invalid anime index: ${g}`),{resEpisode:null,resAnime:null};let y=new URL(i.url.replace("/match",`bangumi/${x.animeId}`)),_=await(await s0(y.pathname)).json(),C=null;if(e&&t){let w=_.bangumi.episodes.filter(T=>!B.episodeTitleFilter.test(T.episodeTitle)),S=o5(w);E("info","\u8FC7\u6EE4\u540E\u7684\u96C6\u6807\u9898",S.map(T=>T.episodeTitle)),C=c5(S,t)}else _.bangumi.episodes.length>0&&(C=_.bangumi.episodes[0]);return{resEpisode:C,resAnime:x}}catch(p){return E("error",`AI matching failed: ${p.message}`),{resEpisode:null,resAnime:null}}}async function tst(e,t,r,n,s,i,a,o){let c={anime:null,episode:null,score:-9999},u=Dn(s);for(let l of n.animes){if(B.rememberLastSelect&&o&&String(l.bangumiId)!==String(o)&&String(l.animeId)!==String(o))continue;let f=!1;if(e&&t){if(Dn(l.animeTitle).includes(u)){if(!s5(l,r)){E("info",`Year mismatch: anime year ${Su(l.animeTitle)} vs query year ${r}`);continue}let g=B.rememberLastSelect&&o&&(String(l.bangumiId)===String(o)||String(l.animeId)===String(o));(Jnt(l,s,e)||g)&&(f=!0)}}else if(l.animeTitle.split("(")[0].trim()===s){if(!s5(l,r)){E("info",`Year mismatch: anime year ${Su(l.animeTitle)} vs query year ${r}`);continue}f=!0}if(!f)continue;let h=new URL(i.url.replace("/match",`bangumi/${l.bangumiId}`)),m=await(await s0(h.pathname)).json();E("info","\u5224\u65AD\u5267\u96C6",`Anime: ${l.animeTitle}`),E("info",m);let A=null;if(e&&t){let g=m.bangumi.episodes.filter(y=>!B.episodeTitleFilter.test(y.episodeTitle)),x=o5(g);E("info","\u8FC7\u6EE4\u540E\u7684\u96C6\u6807\u9898",x.map(y=>y.episodeTitle)),A=c5(x,t,a)}else if(m.bangumi.episodes.length>0)if(a){let g=m.bangumi.episodes.find(x=>{let y=DO(x.episodeTitle);return i5(y,a)>0});g&&(A=g)}else A=m.bangumi.episodes[0];if(A){let g=Znt(l.animeTitle)||l.source,x=0;if(a?x=i5(g,a):x=1,x>c.score&&(c={anime:l,episode:A,score:x}),!a)break}}return{resEpisode:c.episode,resAnime:c.anime}}async function rst(e,t,r,n,s,i,a){for(let o of e.animes){if(s&&!s5(o,s)){E("info",`Fallback: Year mismatch: anime year ${Su(o.animeTitle)} vs query year ${s}`);continue}let c=new URL(t.url.replace("/match",`bangumi/${o.bangumiId}`)),l=await(await s0(c.pathname)).json();if(E("info",l),r&&n){let d=l.bangumi.episodes.filter(p=>!B.episodeTitleFilter.test(p.episodeTitle)),f=o5(d),h=c5(f,n,null);if(h){i=h,a=o;break}}else if(l.bangumi.episodes.length>0){i=l.bangumi.episodes[0],a=o;break}}return{resEpisode:i,resAnime:a}}async function nst(e){let t=/^(.+?)[.\s]+S(\d+)E(\d+)/i,r=e.match(t),n,s,i,a;if(r){n=r[1].trim(),s=parseInt(r[2],10),i=parseInt(r[3],10);let o=e.match(/(?:\.|\(|)((?:19|20)\d{2})(?:\)||\.|$)/);o&&(a=parseInt(o[1],10));let c=n.match(/^[\u4e00-\u9fa5]+[^.\r\n]*/);if(c)n=c[0];else if(/^[A-Za-z0-9]/.test(n)){let u=n.match(/^([A-Za-z0-9.&\s]+?)(?=\.\d{4}|$)/);u&&(n=u[1].trim().replace(/[._]/g," "))}else{let u=n.split(/\.(?:19|20)\d{2}|2160p|1080p|720p|H265|iPhone/)[0],l=u.match(/^[\u4e00-\u9fa5]+/);n=l?l[0]:u.trim()}n=n.replace(/\.\d{4}$/i,"").trim()}else{let o=/^([^.\s]+(?:[.\s][^.\s]+)*?)(?:[.\s](?:\d{4}|(?:19|20)\d{2}|\d{3,4}p|S\d+|E\d+|WEB|BluRay|Blu-ray|HDTV|DVDRip|BDRip|x264|x265|H\.?264|H\.?265|AAC|AC3|DDP|TrueHD|DTS|10bit|HDR|60FPS))/i,c=e.match(o);n=c?c[1].replace(/[._]/g," ").trim():e,s=null,i=null;let u=e.match(/(?:\.|\(|)((?:19|20)\d{2})(?:\)||\.|$)/);u&&(a=parseInt(u[1],10))}return B.titleToChinese&&(n=await dfe(n.replace("."," "),s,i)),E("info","Parsed title, season, episode, year",{title:n,season:s,episode:i,year:a}),{title:n,season:s,episode:i,year:a}}async function Xfe(e,t){try{let r=await t.json();if(!r)return E("error","Request body is empty"),be({errorCode:400,success:!1,errorMessage:"Empty request body"},400);let{fileName:n}=r;if(!n)return E("error","Missing fileName parameter in request body"),be({errorCode:400,success:!1,errorMessage:"Missing fileName parameter"},400);let{cleanFileName:s,preferredPlatform:i}=rfe(n);E("info",`Processing anime match for query: ${n}`),E("info",`Parsed cleanFileName: ${s}, preferredPlatform: ${i}`);let{title:a,season:o,episode:c,year:u}=await nst(s);if(B.titleMappingTable&&B.titleMappingTable.size>0){let b=B.titleMappingTable.get(a);b&&(a=b,E("info",`Title mapped from original: ${e.searchParams.get("keyword")} to: ${a}`))}if(B.animeTitleSimplified){let b=Xt(a);E("info",`matchAnime converted traditional to simplified: ${a} -> ${b}`),a=b}let[l,d]=jO(a);E("info",`prefer animeId: ${l} from ${d}`);let f=new URL(t.url.replace("/match",`/search/anime?keyword=${a}`)),p=await(await QI(f,l,d)).json();E("info",`searchData: ${p.animes}`);let m,A,g=nfe(i);E("info",`Original platformOrderArr: ${B.platformOrderArr}`),E("info",`Dynamic platformOrder: ${g}`),E("info",`Preferred platform: ${i||"none"}`);let x=await est(o,c,u,p,a,t,g,l);if(x.resAnime)m=x.resAnime,A=x.resEpisode,E("info",`AI match found: ${m.animeTitle}; episode: ${A.episodeTitle}`);else{for(let b of g){let _=await tst(o,c,u,p,a,t,b,l);if(A=_.resEpisode,m=_.resAnime,m){E("info",`Found match with platform: ${b||"default"}`);break}}if(!m){let b=await rst(p,t,o,c,u,A,m);A=b.resEpisode,m=b.resAnime}}let y={errorCode:0,success:!0,errorMessage:"",isMatched:!1,matches:[]};return A&&(y.isMatched=!0,y.matches=[EI.fromJson({episodeId:A.episodeId,animeId:m.animeId,animeTitle:m.animeTitle,episodeTitle:A.episodeTitle,type:m.type,typeDescription:m.typeDescription,shift:0,imageUrl:m.imageUrl})]),E("info",`resMatchData: ${y}`),be(y)}catch(r){return E("error",`Failed to parse request body: ${r.message}`),be({errorCode:400,success:!1,errorMessage:"Invalid JSON body"},400)}}async function Zfe(e){let t=e.searchParams.get("anime"),r=e.searchParams.get("episode")||"";if(B.animeTitleSimplified){let o=Xt(t);E("info",`searchEpisodes converted traditional to simplified: ${t} -> ${o}`),t=o}if(E("info",`Search episodes with anime: ${t}, episode: ${r}`),!t)return E("error","Missing anime parameter"),be({errorCode:400,success:!1,errorMessage:"Missing anime parameter"},400);let n=new URL(`/search/anime?keyword=${t}`,e.origin),i=await(await QI(n)).json();if(!i.success||!i.animes||i.animes.length===0)return E("info","No anime found for the given title"),be({errorCode:0,success:!0,errorMessage:"",hasMore:!1,animes:[]});let a=[];for(let o of i.animes){let c=new URL(`/bangumi/${o.bangumiId}`,e.origin),l=await(await s0(c.pathname)).json();if(l.success&&l.bangumi&&l.bangumi.episodes){let d=l.bangumi.episodes;if(r){if(r==="movie")d=l.bangumi.episodes.filter(f=>o.typeDescription&&(o.typeDescription.includes("\u7535\u5F71")||o.typeDescription.includes("\u5267\u573A\u7248")||f.episodeTitle.toLowerCase().includes("movie")||f.episodeTitle.includes("\u5267\u573A\u7248")));else if(/^\d+$/.test(r)){let f=parseInt(r);d=l.bangumi.episodes.filter(h=>parseInt(h.episodeNumber)===f)}}d.length>0&&a.push(vI.fromJson({animeId:o.animeId,animeTitle:o.animeTitle,type:o.type,typeDescription:o.typeDescription,episodes:d.map(f=>({episodeId:f.episodeId,episodeTitle:f.episodeTitle}))}))}}return E("info",`Found ${a.length} animes with filtered episodes`),be({errorCode:0,success:!0,errorMessage:"",animes:a})}async function s0(e){let t=e.split("/").pop(),r=parseInt(t),n;if(isNaN(r)||(n=B.animes.find(a=>a.animeId.toString()===r.toString())),n||(n=B.animes.find(a=>a.bangumiId===t)),!n)return E("error",`Anime with ID ${t} not found`),be({errorCode:404,success:!1,errorMessage:"Anime not found",bangumi:null},404);E("info",`Fetched details for anime ID: ${t}`);let s=[];for(let a=0;a<n.links.length;a++){let o=n.links[a];s.push({seasonId:`season-${n.animeId}`,episodeId:o.id,episodeTitle:`${o.title}`,episodeNumber:`${a+1}`,airDate:n.startDate})}if(B.enableAnimeEpisodeFilter){if(s=s.filter(a=>!B.episodeTitleFilter.test(a.episodeTitle)),E("info",`[getBangumi] Episode filter enabled. Filtered episodes: ${s.length}/${n.links.length}`),s.length===0)return E("warn",`[getBangumi] No valid episodes after filtering for anime ID ${t}`),be({errorCode:404,success:!1,errorMessage:"No valid episodes after filtering",bangumi:null},404);s=s.map((a,o)=>({...a,episodeNumber:`${o+1}`}))}let i=_I.fromJson({animeId:n.animeId,bangumiId:n.bangumiId,animeTitle:n.animeTitle,imageUrl:n.imageUrl,isOnAir:!0,airDay:1,isFavorited:n.isFavorited,rating:n.rating,type:n.type,typeDescription:n.typeDescription,seasons:[{id:`season-${n.animeId}`,airDate:n.startDate,name:"Season 1",episodeCount:n.episodeCount}],episodes:s});return be({errorCode:0,success:!0,errorMessage:"",bangumi:i})}async function sst(e){let t=e.split(Wp),n=t.map(l=>l.split(":")[0]).filter(Boolean).join("\uFF06");E("info",`[Merge] \u5F00\u59CB\u83B7\u53D6 [${n}] \u805A\u5408\u5F39\u5E55...`);let s=ec(e);if(s)return E("info",`[Merge] \u547D\u4E2D\u7F13\u5B58 [${n}]\uFF0C\u8FD4\u56DE ${s.length} \u6761`),s;let i={},a=t.map(async l=>{let d=l.indexOf(":");if(d===-1)return[];let f=l.substring(0,d),h=l.substring(d+1);if(!f||!h)return[];let p=`${f}:${h}`;if(MI.has(p)){E("info",`[Merge] \u590D\u7528\u6B63\u5728\u8FDB\u884C\u7684\u8BF7\u6C42: ${p}`);try{return await MI.get(p)||[]}catch{return[]}}let m=(async()=>{let A=null;if(f==="renren"?A=GA:f==="hanjutv"?A=VA:f==="bahamut"?A=KA:f==="dandan"?A=YA:f==="tencent"?A=pd:f==="youku"?A=hd:f==="iqiyi"?A=md:f==="imgo"?A=Zp:f==="bilibili"?A=ac:f==="migu"?A=gd:f==="sohu"?A=e0:f==="leshi"?A=t0:f==="xigua"?A=r0:f==="maiduidui"?A=n0:f==="animeko"&&(A=WA),A)try{let g=await A.getEpisodeDanmu(h),x=A.formatComments(g);return i[f]=x.length,x}catch(g){return E("error",`[Merge] \u83B7\u53D6 ${f} \u5931\u8D25: ${g.message}`),i[f]=0,[]}return[]})();MI.set(p,m);try{return await m}finally{MI.delete(p)}}),o=await Promise.all(a),c=[];o.forEach(l=>{c=_fe(c,l)});let u=Object.entries(i).map(([l,d])=>`${l}: ${d}`).join(", ");return E("info",`[Merge] \u805A\u5408\u539F\u59CB\u6570\u636E\u5B8C\u6210: \u603B\u8BA1 ${c.length} \u6761 (${u})`),EA(c,n)}async function epe(e,t,r){let n=parseInt(e.split("/").pop()),s=bA(n),i=FO(n),a=i?(i.match(/(.*?)/)||[null])[0]?.replace(/[]/g,""):null;if(E("info","comment url...",s),E("info","comment title...",i),E("info","comment platform...",a),!s)return E("error",`Comment with ID ${n} not found`),be({count:0,comments:[]},404);E("info",`Fetched comment ID: ${n}`);let o=ec(s);if(o!==null){let f={count:o.length,comments:o};return to(f,t)}E("info","\u5F00\u59CB\u4ECE\u672C\u5730\u8BF7\u6C42\u5F39\u5E55...",s);let c=[];if(s&&s.includes(Wp))c=await sst(s);else{s.includes(".qq.com")?c=await pd.getComments(s,a,r):s.includes(".iqiyi.com")?c=await md.getComments(s,a,r):s.includes(".mgtv.com")?c=await Zp.getComments(s,a,r):s.includes(".bilibili.com")||s.includes("b23.tv")?(s.includes("b23.tv")&&(s=await ac.resolveB23Link(s)),c=await ac.getComments(s,a,r)):s.includes(".youku.com")?c=await hd.getComments(s,a,r):s.includes(".miguvideo.com")?c=await gd.getComments(s,a,r):s.includes(".sohu.com")?c=await e0.getComments(s,a,r):s.includes(".le.com")?c=await t0.getComments(s,a,r):s.includes(".douyin.com")||s.includes(".ixigua.com")?c=await r0.getComments(s,a,r):s.includes(".mddcloud.com.cn")&&(c=await n0.getComments(s,a,r));let f=/^(https?:\/\/)?([\w.-]+)\.([a-z]{2,})(\/.*)?$/i;f.test(s)||(a==="renren"?c=await GA.getComments(s,a,r):a==="hanjutv"?c=await VA.getComments(s,a,r):a==="bahamut"?c=await KA.getComments(s,a,r):a==="dandan"?c=await YA.getComments(s,a,r):a==="custom"?c=await FI.getComments(s,a,r):a==="animeko"&&(c=await WA.getComments(s,a,r))),(!c||c.length===0)&&f.test(s)&&(c=await a5.getComments(s,"other_server",r))}let[u,l]=UO(n);u&&l&&(qO(u,l),B.localCacheValid&&u&&wI("lastSelectMap",JSON.stringify(Object.fromEntries(B.lastSelectMap))),B.redisValid&&u&&TO("lastSelectMap",B.lastSelectMap).catch(f=>E("error","Redis set error",f))),r||(c&&c.comments&&(c=c.comments),Array.isArray(c)||(c=[]),c.length>0&&yA(s,c));let d={count:c.length,comments:c};return to(d,t)}async function tpe(e,t,r){try{if(!e||typeof e!="string")return E("error","Missing or invalid url parameter"),be({errorCode:400,success:!1,errorMessage:"Missing or invalid url parameter",count:0,comments:[]},400);if(e=e.trim(),!e.startsWith("http"))return E("error","Invalid url format, must start with http or https"),be({errorCode:400,success:!1,errorMessage:"Invalid url format, must start with http or https",count:0,comments:[]},400);E("info",`Processing comment request for URL: ${e}`);let n=e,s=ec(n);if(s!==null){let o={errorCode:0,success:!0,errorMessage:"",count:s.length,comments:s};return to(o,t)}E("info","\u5F00\u59CB\u4ECE\u672C\u5730\u8BF7\u6C42\u5F39\u5E55...",n);let i=[];n.includes(".qq.com")?i=await pd.getComments(n,"qq",r):n.includes(".iqiyi.com")?i=await md.getComments(n,"qiyi",r):n.includes(".mgtv.com")?i=await Zp.getComments(n,"imgo",r):n.includes(".bilibili.com")||n.includes("b23.tv")?(n.includes("b23.tv")&&(n=await ac.resolveB23Link(n)),i=await ac.getComments(n,"bilibili1",r)):n.includes(".youku.com")?i=await hd.getComments(n,"youku",r):n.includes(".miguvideo.com")?i=await gd.getComments(n,"migu",r):n.includes(".sohu.com")?i=await e0.getComments(n,"sohu",r):n.includes(".le.com")?i=await t0.getComments(n,"leshi",r):n.includes(".douyin.com")||n.includes(".ixigua.com")?i=await r0.getComments(n,"xigua",r):n.includes(".mddcloud.com.cn")?i=await n0.getComments(n,"maiduidui",r):/^(https?:\/\/)?([\w.-]+)\.([a-z]{2,})(\/.*)?$/i.test(n)&&(i=await a5.getComments(n,"other_server",r)),E("info",`Successfully fetched ${i.length} comments from URL`),i.length>0&&yA(n,i);let a={errorCode:0,success:!0,errorMessage:"",count:i.length,comments:i};return to(a,t)}catch(n){return E("error",`Failed to process comment by URL request: ${n.message}`),be({errorCode:500,success:!1,errorMessage:"Internal server error",count:0,comments:[]},500)}}async function rpe(e,t){try{let r=e.url,n=e.type;if(!r||typeof r!="string")return E("error","Missing or invalid url parameter"),be({errorCode:400,success:!1,errorMessage:"Missing or invalid url parameter",count:0,comments:[]},400);r=r.trim(),E("info",`Processing segment comment request for URL: ${r}`);let s=ec(r);if(s!==null){let o={errorCode:0,success:!0,errorMessage:"",count:s.length,comments:s};return to(o,t)}E("info",`\u5F00\u59CB\u4ECE\u672C\u5730\u8BF7\u6C42\u5206\u6BB5\u5F39\u5E55... URL: ${r}`);let i=[];n==="qq"?i=await pd.getSegmentComments(e):n==="qiyi"?i=await md.getSegmentComments(e):n==="imgo"?i=await Zp.getSegmentComments(e):n==="bilibili1"?i=await ac.getSegmentComments(e):n==="youku"?i=await hd.getSegmentComments(e):n==="migu"?i=await gd.getSegmentComments(e):n==="sohu"?i=await e0.getSegmentComments(e):n==="leshi"?i=await t0.getSegmentComments(e):n==="xigua"?i=await r0.getSegmentComments(e):n==="maiduidui"?i=await n0.getSegmentComments(e):n==="hanjutv"?i=await VA.getSegmentComments(e):n==="bahamut"?i=await KA.getSegmentComments(e):n==="renren"?i=await GA.getSegmentComments(e):n==="dandan"?i=await YA.getSegmentComments(e):n==="animeko"?i=await WA.getSegmentComments(e):n==="custom"?i=await FI.getSegmentComments(e):n==="other_server"&&(i=await a5.getSegmentComments(e)),E("info",`Successfully fetched ${i.length} segment comments from URL`),i.length>0&&yA(r,i);let a={errorCode:0,success:!0,errorMessage:"",count:i.length,comments:i};return to(a,t)}catch(r){return E("error",`Failed to process segment comment request: ${r.message}`),be({errorCode:500,success:!1,errorMessage:"Internal server error",count:0,comments:[]},500)}}pt();Dt();pt();var npe=`
/* \u57FA\u7840\u6837\u5F0F - Zen-iOS Hybrid Design */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;800&display=swap');

:root {
    --bg-base: #F2F2F7;
    --bg-card: rgba(255, 255, 255, 0.65);
    --bg-glass: rgba(255, 255, 255, 0.4);
    --text-primary: #1C1C1E;
    --text-secondary: #6C6C70;
    --primary-color: #1C1C1E; /* \u6DF1\u7A7A\u9ED1 */
    --accent-color: #007AFF; /* iOS Blue for interactions */
    --danger-color: #FF3B30;
    --success-color: #34C759;
    --warning-color: #FFCC00;
    
    --shadow-floating: 0 24px 48px -12px rgba(0, 0, 0, 0.08);
    --shadow-card: 0 4px 12px rgba(0, 0, 0, 0.03);
    --shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.05);
    
    --radius-xl: 40px;
    --radius-lg: 24px;
    --radius-md: 16px;
    --radius-sm: 8px;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, "SF Pro Display", "Segoe UI", Roboto, sans-serif;
    background-color: var(--bg-base);
    color: var(--text-primary);
    min-height: 100vh;
    padding: 20px;
    line-height: 1.5;
}

/* \u5BB9\u5668\uFF1A\u6781\u81F4\u6BDB\u73BB\u7483 + \u53CC\u5C42\u7269\u7406\u63CF\u8FB9 */
.container {
    max-width: 1200px;
    margin: 0 auto;
    background: var(--bg-card);
    backdrop-filter: blur(50px);
    -webkit-backdrop-filter: blur(50px);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-floating);
    border: 1px solid rgba(255, 255, 255, 0.6); /* \u5185\u63CF\u8FB9 */
    position: relative;
    overflow: hidden;
}

/* \u6A21\u62DF\u5916\u63CF\u8FB9 (\u901A\u8FC7\u4F2A\u5143\u7D20\u6216 box-shadow \u4E5F\u53EF\u4EE5\uFF0C\u8FD9\u91CC\u7528 outline \u4FDD\u6301 dom \u5E72\u51C0) */
.container::after {
    content: '';
    position: absolute;
    inset: -1px;
    border-radius: var(--radius-xl);
    padding: 1px;
    background: linear-gradient(to bottom, rgba(0,0,0,0.05), rgba(0,0,0,0.02));
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
    z-index: 1;
}

.header {
    background: rgba(255, 255, 255, 0.5);
    border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    padding: 30px 40px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 20px;
}

.header-left {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 12px;
}

.logo-title-container {
    display: flex;
    align-items: center;
    gap: 18px;
}

.logo {
    width: 56px;
    height: 56px;
    background: #fff;
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    overflow: hidden;
    border: 1px solid rgba(0,0,0,0.03);
}

.logo img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.header h1 {
    font-size: 28px;
    font-weight: 800;
    color: var(--text-primary);
    letter-spacing: -0.02em;
    margin: 0;
}

.version-info {
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 12px;
    font-weight: 600;
    color: var(--text-secondary);
}

.version-badge {
    background: rgba(0, 0, 0, 0.04);
    padding: 4px 12px;
    border-radius: 100px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.update-badge {
    background: rgba(255, 204, 0, 0.15);
    color: #997a00;
    padding: 4px 12px;
    border-radius: 100px;
    cursor: pointer;
    transition: all 0.2s;
}

.update-badge:hover {
    background: rgba(255, 204, 0, 0.25);
}

.api-endpoint-badge span {
    font-family: 'SF Mono', 'Menlo', monospace;
    font-size: 11px;
}

.content {
    padding: 40px;
}

.section {
    display: none;
    animation: fadeIn 0.4s cubic-bezier(0.16, 1, 0.3, 1); /* iOS easeOut */
}

.section.active {
    display: block;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px) scale(0.98); }
    to { opacity: 1; transform: translateY(0) scale(1); }
}

h2 {
    font-size: 24px;
    font-weight: 700;
    letter-spacing: -0.01em;
    margin-bottom: 24px;
    color: var(--text-primary);
}

/* Footer */
.footer {
    padding: 40px;
    text-align: center;
    font-size: 12px;
    color: var(--text-secondary);
    border-top: 1px solid rgba(0,0,0,0.05);
    background: rgba(255,255,255,0.3);
}

.footer-text {
    color: var(--text-secondary);
    margin: 8px 0;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
    line-height: 1.6;
}

.footer-links {
    margin-top: 20px;
    display: flex;
    justify-content: center;
    gap: 20px;
}

.footer-link {
    color: var(--text-primary);
    text-decoration: none;
    font-weight: 600;
    opacity: 0.7;
    transition: opacity 0.2s;
}

.footer-link:hover {
    opacity: 1;
}

.github-link {
    display: inline-flex;
    align-items: center;
    gap: 6px;
}

.github-icon {
    width: 14px;
    height: 14px;
    opacity: 0.8;
}

.tg-link {
    display: inline-flex;
    align-items: center;
    gap: 6px;
}

.tg-icon {
    width: 14px;
    height: 14px;
    opacity: 0.8;
}

/* \u6EDA\u52A8\u6761\u7F8E\u5316 */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}
::-webkit-scrollbar-track {
    background: transparent;
}
::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.1);
    border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 0, 0, 0.2);
}

/* \u5DE5\u5177\u7C7B */
.text-gray {
    color: var(--text-secondary);
}

.text-dark-gray {
    color: #333;
}

.text-red {
    color: var(--danger-color);
}

.text-center {
    text-align: center;
}

.font-size-12 {
    font-size: 12px;
}

.margin-top-3 {
    margin-top: 3px;
}

.margin-bottom-15 {
    margin-bottom: 15px;
}

.padding-20 {
    padding: 20px;
}

.text-monospace {
    font-family: 'SF Mono', 'Menlo', monospace;
}
`;var spe=`
/* \u7EC4\u4EF6\u6837\u5F0F - Zen-iOS Hybrid Design */

/* \u5BFC\u822A\u6309\u94AE\uFF1A\u80F6\u56CA\u5F0F\u8BBE\u8BA1 */
.nav-buttons {
    display: flex;
    gap: 8px;
    background: rgba(118, 118, 128, 0.12);
    padding: 4px;
    border-radius: 14px; /* iOS Segmented Control style */
    flex-wrap: wrap;
}

.nav-btn {
    padding: 8px 16px;
    background: transparent;
    border: none;
    color: var(--text-secondary);
    border-radius: 10px;
    cursor: pointer;
    font-size: 13px;
    font-weight: 600;
    transition: all 0.3s cubic-bezier(0.25, 1, 0.5, 1);
    user-select: none;
}

.nav-btn:hover {
    color: var(--text-primary);
    background: rgba(255, 255, 255, 0.5);
}

.nav-btn.active {
    background: #FFFFFF;
    color: #000000;
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.12), 0 3px 1px rgba(0, 0, 0, 0.04);
}

.nav-btn:active {
    transform: scale(0.97);
}

/* \u73AF\u5883\u53D8\u91CF\u5206\u7C7B\u5207\u6362 */
.env-categories {
    display: flex;
    gap: 12px;
    margin-bottom: 30px;
    flex-wrap: wrap;
}

.category-btn {
    padding: 10px 20px;
    background: #FFFFFF;
    border: 1px solid rgba(0,0,0,0.05);
    border-radius: 100px; /* Fully rounded */
    cursor: pointer;
    font-size: 13px;
    font-weight: 600;
    color: var(--text-secondary);
    transition: all 0.2s;
    box-shadow: var(--shadow-card);
}

.category-btn:hover {
    transform: translateY(-1px);
    background: #FAFAFA;
}

.category-btn.active {
    background: var(--primary-color);
    color: white;
    border-color: var(--primary-color);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.category-btn:active {
    transform: scale(0.95);
}

/* \u5361\u7247\u5217\u8868 (Layering) */
.env-list {
    display: grid;
    gap: 16px;
    margin-bottom: 30px;
}

.env-item {
    background: rgba(255, 255, 255, 0.6);
    backdrop-filter: blur(20px);
    padding: 24px;
    border-radius: var(--radius-lg);
    border: 1px solid rgba(255, 255, 255, 0.8); /* Inner light stroke */
    box-shadow:
        0 4px 6px -1px rgba(0, 0, 0, 0.02),
        0 2px 4px -1px rgba(0, 0, 0, 0.02),
        inset 0 0 0 1px rgba(255, 255, 255, 0.5);
    display: flex;
    justify-content: space-between;
    align-items: flex-start; /* Align to top for better look with descriptions */
    flex-wrap: wrap;
    gap: 20px;
    transition: transform 0.2s;
    overflow: hidden;
}

.env-item:hover {
    transform: translateY(-1px);
    background: rgba(255, 255, 255, 0.8);
}

.env-item .env-info {
    flex: 1;
    min-width: 240px;
    overflow: hidden;
}

.env-item .env-info strong {
    color: var(--text-primary);
    font-size: 15px;
    font-weight: 700;
    margin-bottom: 8px;
    display: block;
    letter-spacing: -0.01em;
    overflow-wrap: break-word;
    word-break: break-word;
}

.env-item .env-info div.text-dark-gray {
    background: rgba(0, 0, 0, 0.03);
    padding: 8px 12px;
    border-radius: 8px;
    font-family: 'SF Mono', 'Menlo', monospace;
    font-size: 14px;
    color: #333;
    display: block;
    border: 1px solid rgba(0,0,0,0.04);
    overflow-wrap: break-word;
    word-break: break-all;
}

.env-item .env-actions {
    display: flex;
    gap: 10px;
    flex-shrink: 0;
}

/* \u6309\u94AE\u4F53\u7CFB */
.btn {
    padding: 10px 20px;
    border: none;
    border-radius: 12px; /* iOS medium radius */
    cursor: pointer;
    font-size: 14px;
    font-weight: 600;
    transition: all 0.2s cubic-bezier(0.25, 1, 0.5, 1);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    letter-spacing: 0.01em;
}

.btn:active {
    transform: scale(0.95); /* Tactile feedback */
}

/* Primary: Dark Space Black */
.btn-primary {
    background: var(--primary-color);
    color: white;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.btn-primary:hover {
    background: #333;
}

/* Success: iOS Green */
.btn-success {
    background: var(--success-color);
    color: white;
    box-shadow: 0 4px 12px rgba(52, 199, 89, 0.2);
}

.btn-success:hover {
    background: #2db54e;
}

/* Danger: iOS Red */
.btn-danger {
    background: var(--danger-color);
    color: white;
    box-shadow: 0 4px 12px rgba(255, 59, 48, 0.2);
}

.btn-danger:hover {
    background: #e03328;
}

/* \u9884\u89C8\u533A\u57DF */
.preview-area {
    display: grid;
    gap: 30px;
    margin-top: 20px;
}

.preview-category {
    background: rgba(255, 255, 255, 0.6);
    backdrop-filter: blur(20px);
    border-radius: var(--radius-lg);
    border: 1px solid rgba(255, 255, 255, 0.8);
    box-shadow:
        0 4px 6px -1px rgba(0, 0, 0, 0.02),
        0 2px 4px -1px rgba(0, 0, 0, 0.02),
        inset 0 0 0 1px rgba(255, 255, 255, 0.5);
    padding: 24px;
    transition: transform 0.2s;
    overflow: hidden;
}

.preview-category:hover {
    transform: translateY(-2px);
    background: rgba(255, 255, 255, 0.75);
    box-shadow: var(--shadow-floating);
}

.preview-category h3 {
    font-size: 18px;
    font-weight: 800;
    margin-bottom: 20px;
    color: var(--text-primary);
    border-bottom: 1px solid rgba(0,0,0,0.05);
    padding-bottom: 12px;
}

.preview-item {
    padding: 16px;
    background: rgba(255, 255, 255, 0.5);
    margin-bottom: 12px;
    border-radius: 12px;
    border-left: 4px solid var(--primary-color);
    box-shadow: 0 2px 8px rgba(0,0,0,0.02);
    transition: all 0.2s;
    overflow: hidden;
}

.preview-item:last-child {
    margin-bottom: 0;
}

.preview-item:hover {
    transform: translateX(4px);
    background: #FFFFFF;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
}

.preview-item .preview-key {
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--text-secondary);
    margin-bottom: 6px;
    font-weight: 700;
    overflow-wrap: break-word;
    word-break: break-word;
}

.preview-item .preview-value {
    background: transparent;
    padding: 0;
    font-family: 'SF Mono', 'Menlo', monospace;
    color: var(--text-primary);
    font-size: 13px;
    word-break: break-all;
    overflow-wrap: break-word;
}

/* \u65E5\u5FD7\u5BB9\u5668 */
.log-container, .api-response, .json-response, .error-response {
    background: #1C1C1E; /* Deep Dark */
    color: #F2F2F7;
    padding: 20px;
    border-radius: 16px;
    border: 1px solid rgba(255,255,255,0.1);
    box-shadow: inset 0 2px 10px rgba(0,0,0,0.2);
    font-family: 'SF Mono', 'Menlo', monospace;
    font-size: 12px;
    line-height: 1.6;
    max-height: 400px;
    overflow: auto;
    white-space: pre-wrap;
    word-wrap: break-word;
}

.api-response.xml {
    color: #88ccff;
}

/* JSON\u9AD8\u4EAE\u6837\u5F0F */
.json-response .key {
    color: #9cdcfe;
}

.json-response .string {
    color: #ce9178;
}

.json-response .number {
    color: #b5cea8;
}

.json-response .boolean {
    color: #569cd6;
}

.json-response .null {
    color: #569cd6;
}

.json-response .undefined {
    color: #569cd6;
}

.error-response {
    color: #f48771;
}

.log-entry {
    padding: 4px 8px;
    border-radius: 4px;
    margin-bottom: 2px;
}
.log-entry:hover {
    background: rgba(255,255,255,0.05);
}

/* \u6A21\u6001\u6846 */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.25);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    z-index: 1000;
    padding: 20px;
    overflow-y: auto;
}

.modal.active {
    display: flex;
    justify-content: center;
    align-items: center;
}

.modal-content {
    background: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(50px);
    -webkit-backdrop-filter: blur(50px);
    border-radius: 32px;
    box-shadow: 0 40px 80px rgba(0,0,0,0.2);
    border: 1px solid rgba(255,255,255,0.5);
    padding: 40px;
}

/* \u914D\u7F6E\u7F16\u8F91\u5F39\u7A97\u4E13\u7528\u6837\u5F0F - \u66F4\u5BBD\u66F4\u534F\u8C03\u7684\u6BD4\u4F8B */
#env-modal .modal-content {
    width: 90vw;
    max-width: 680px;
    max-height: 85vh;
    overflow-y: auto;
    padding: 32px 36px;
}

#env-modal .modal-content::-webkit-scrollbar {
    width: 6px;
}

#env-modal .modal-content::-webkit-scrollbar-track {
    background: transparent;
}

#env-modal .modal-content::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.15);
    border-radius: 3px;
}

#env-modal .modal-content::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 0, 0, 0.25);
}

/* \u591A\u9009\u6807\u7B7E\u533A\u57DF\u4F18\u5316 - \u9650\u5236\u9AD8\u5EA6\u5E76\u652F\u6301\u6EDA\u52A8 */
#env-modal .selected-tags {
    max-height: 140px;
    overflow-y: auto;
}

#env-modal .available-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    max-height: 180px;
    overflow-y: auto;
    padding: 12px;
    background: rgba(245, 245, 247, 0.5);
    border-radius: 12px;
    margin-top: 12px;
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid rgba(0,0,0,0.06);
    padding-bottom: 20px;
    margin-bottom: 30px;
}

.modal-header h3 {
    font-size: 20px;
    font-weight: 700;
    color: var(--text-primary);
}

.close-btn {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: rgba(0,0,0,0.05);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    font-size: 18px;
}

.close-btn:hover {
    background: rgba(0,0,0,0.1);
    transform: rotate(90deg);
}

/* \u8FDB\u5EA6\u6761 */
.progress-container {
    height: 2px;
    background: transparent;
}
.progress-bar {
    background: linear-gradient(90deg, var(--primary-color), var(--text-secondary));
    box-shadow: none;
}

/* Bilibili Status */
.bili-cookie-status {
    background: rgba(255,255,255,0.5);
    border: 1px solid rgba(0,0,0,0.05);
    border-left: 4px solid var(--primary-color);
    border-radius: 12px;
}

/* Tag Styles */
.value-type-badge {
    padding: 4px 10px;
    border-radius: 100px;
    background: var(--text-primary);
    color: #FFFFFF;
    font-weight: 600;
    text-transform: uppercase;
    font-size: 10px;
    letter-spacing: 0.05em;
}

/* \u52A0\u8F7D\u63D0\u793A */
.loading-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.2);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 9998;
}

.loading-overlay.active {
    display: flex;
}

.loading-content {
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    padding: 32px;
    border-radius: 24px;
    text-align: center;
    box-shadow: 0 20px 40px rgba(0,0,0,0.15);
    max-width: 320px;
    border: 1px solid rgba(255,255,255,0.4);
}

.loading-spinner {
    width: 48px;
    height: 48px;
    border: 4px solid rgba(0,0,0,0.05);
    border-top: 4px solid var(--primary-color);
    border-radius: 50%;
    animation: spin 0.8s cubic-bezier(0.6, 0.2, 0.4, 0.8) infinite;
    margin: 0 auto 20px;
}

.loading-spinner-small {
    display: inline-block;
    width: 16px;
    height: 16px;
    border: 2px solid rgba(255,255,255,0.3);
    border-top: 2px solid white;
    border-radius: 50%;
    animation: spin 0.8s cubic-bezier(0.6, 0.2, 0.4, 0.8) infinite;
}

.btn-success .loading-spinner-small {
    border: 2px solid rgba(255,255,255,0.3);
    border-top: 2px solid white;
}

.loading-text {
    font-size: 16px;
    color: var(--text-primary);
    font-weight: 600;
    margin-bottom: 8px;
}

.loading-detail {
    font-size: 13px;
    color: var(--text-secondary);
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* \u52A8\u6F2B\u641C\u7D22\u7ED3\u679C\u7F51\u683C */
.anime-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: 20px;
    margin-top: 16px;
}

.anime-item {
    background: rgba(255, 255, 255, 0.6);
    backdrop-filter: blur(20px);
    border-radius: 16px;
    border: 1px solid rgba(255, 255, 255, 0.8);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.04);
    overflow: hidden;
    cursor: pointer;
    transition: all 0.2s cubic-bezier(0.25, 1, 0.5, 1);
}

.anime-item:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.08);
    background: rgba(255, 255, 255, 0.85);
}

.anime-item:active {
    transform: scale(0.98);
}

.anime-item-img {
    width: 100%;
    aspect-ratio: 3 / 4;
    object-fit: cover;
    display: block;
    background: rgba(0, 0, 0, 0.03);
}

.anime-title {
    padding: 12px;
    font-size: 13px;
    font-weight: 600;
    color: var(--text-primary);
    line-height: 1.4;
    margin: 0;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* \u5267\u96C6\u5217\u8868 */
.episode-list-container {
    display: grid;
    gap: 10px;
    margin-top: 16px;
}

.episode-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 16px;
    padding: 16px 20px;
    background: rgba(255, 255, 255, 0.6);
    backdrop-filter: blur(20px);
    border-radius: 14px;
    border: 1px solid rgba(255, 255, 255, 0.8);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.02);
    transition: all 0.2s;
}

.episode-item:hover {
    background: rgba(255, 255, 255, 0.85);
    transform: translateX(4px);
}

.episode-item-content {
    flex: 1;
    font-size: 14px;
    color: var(--text-primary);
    min-width: 0;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.episode-item-content strong {
    font-weight: 700;
    color: var(--text-primary);
}

.episode-push-btn {
    flex-shrink: 0;
    padding: 8px 16px;
    font-size: 13px;
}

/* \u6587\u5B57\u989C\u8272\u5DE5\u5177\u7C7B */
.text-yellow-gold {
    color: #997a00;
}

/* \u63A8\u9001\u5F39\u5E55\u533A\u57DF\u6807\u9898 */
#push-anime-list h3,
#push-episode-list h3 {
    font-size: 18px;
    font-weight: 700;
    margin-bottom: 8px;
    color: var(--text-primary);
}

#push-anime-list,
#push-episode-list {
    margin-top: 24px;
    padding: 24px;
    background: rgba(255, 255, 255, 0.4);
    border-radius: 20px;
    border: 1px solid rgba(255, 255, 255, 0.6);
}

/* \u8BF7\u6C42\u8BB0\u5F55\u6837\u5F0F */
.request-records-container {
    border-radius: 8px;
}

.no-records {
    text-align: center;
    color: #fff;
    padding: 60px;
    font-style: italic;
    font-size: 16px;
}

.record-item {
    background: linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%);
    border: none;
    border-radius: 16px;
    padding: 10px;
    margin-bottom: 10px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.15);
    transition: transform 0.2s, box-shadow 0.2s;
}

.record-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 40px rgba(0,0,0,0.2);
}

.record-header {
    display: flex;
    justify-content: flex-start;
    align-items: center;
    margin-bottom: 15px;
    flex-wrap: wrap;
    gap: 15px;
}

.record-method {
    background: linear-gradient(135deg, #00b4db 0%, #0083b0 100%);
    color: white;
    padding: 8px 16px;
    border-radius: 10px;
    font-size: 14px;
    font-weight: bold;
    min-width: 60px;
    text-align: center;
    box-shadow: 0 4px 15px rgba(0,180,219,0.3);
}

.record-interface {
    flex: 1;
    font-family: 'Courier New', monospace;
    font-weight: 600;
    color: #2d3748;
    word-break: break-all;
    font-size: 15px;
    background: #edf2f7;
    padding: 8px 16px;
    border-radius: 8px;
}

.record-ip {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    color: white;
    padding: 8px 16px;
    border-radius: 10px;
    font-size: 13px;
    min-width: 120px;
    text-align: center;
    font-weight: 500;
    box-shadow: 0 4px 15px rgba(245,87,108,0.3);
}

.record-timestamp {
    color: #718096;
    font-size: 14px;
    margin-bottom: 15px;
    padding-bottom: 15px;
    border-bottom: 2px dashed #e2e8f0;
    display: flex;
    align-items: center;
    gap: 8px;
}

.record-timestamp.no-params {
    border-bottom: none;
    margin-bottom: 0;
    padding-bottom: 0;
}

.record-timestamp::before {
    content: '\u{1F550}';
    font-size: 16px;
}

.record-params {
    background: #f5f5f5;
    border-radius: 12px;
    padding: 15px;
    border: 1px solid #e0e0e0;
}

.record-params-title {
    color: #667eea;
    font-weight: 600;
    font-size: 14px;
    margin-bottom: 12px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.record-params-title::before {
    content: '\u{1F4CB}';
    font-size: 16px;
}

.record-params pre {
    margin: 0;
    padding: 15px;
    background: #ffffff;
    color: #333;
    border-radius: 8px;
    font-family: 'Courier New', monospace;
    font-size: 13px;
    white-space: pre-wrap;
    word-wrap: break-word;
    overflow-x: auto;
    line-height: 1.6;
    border: 1px solid #ddd;
}

/* \u8BF7\u6C42\u8BB0\u5F55\u79FB\u52A8\u7AEF\u9002\u914D */
@media (max-width: 768px) {
    .record-header {
        flex-direction: column;
        align-items: stretch;
    }
    
    .record-method,
    .record-interface,
    .record-ip {
        width: 100%;
        box-sizing: border-box;
    }
}
`;var ipe=`
/* \u8868\u5355\u6837\u5F0F - Zen-iOS Hybrid Design */
.form-group {
    margin-bottom: 24px;
}

.form-group label {
    display: block;
    margin-bottom: 8px;
    font-size: 11px;
    font-weight: 700;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.08em;
}

.form-group input,
.form-group select,
.form-group textarea {
    width: 100%;
    padding: 12px 16px;
    border: 1px solid rgba(0,0,0,0.06);
    border-radius: 12px; /* Smooth corners */
    font-size: 14px;
    background-color: rgba(245, 245, 247, 0.5); /* #F5F5F7 50% */
    color: var(--text-primary);
    box-shadow: var(--shadow-inner); /* Inner shadow for depth */
    transition: all 0.2s;
    outline: none;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    background-color: #FFFFFF;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 4px rgba(28, 28, 30, 0.1); /* Focus ring */
}

.form-group textarea {
    resize: vertical;
    min-height: 100px;
    font-family: 'SF Mono', 'Menlo', monospace;
    line-height: 1.5;
}

/* \u5F00\u5173\u6309\u94AE (iOS style) */
.switch-container {
    display: flex;
    align-items: center;
    gap: 12px;
}

.switch {
    position: relative;
    display: inline-block;
    width: 52px;
    height: 32px;
}

.switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

.slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(120, 120, 128, 0.16); /* iOS gray */
    transition: .3s cubic-bezier(0.25, 1, 0.5, 1);
    border-radius: 32px;
}

.slider:before {
    position: absolute;
    content: "";
    height: 28px;
    width: 28px;
    left: 2px;
    bottom: 2px;
    background-color: white;
    transition: .3s cubic-bezier(0.25, 1, 0.5, 1);
    border-radius: 50%;
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15), 0 3px 1px rgba(0, 0, 0, 0.06);
}

input:checked + .slider {
    background-color: var(--success-color); /* Green for on */
}

input:checked + .slider:before {
    transform: translateX(20px);
}

.switch-label {
    font-weight: 600;
    color: var(--text-primary);
    font-size: 14px;
}

/* \u6570\u5B57\u6EDA\u8F6E */
.number-picker {
    display: flex;
    align-items: center;
    gap: 20px;
    background: rgba(255, 255, 255, 0.5);
    padding: 20px;
    border-radius: 16px;
    border: 1px solid rgba(0,0,0,0.05);
}

.number-display {
    font-size: 40px;
    font-weight: 800;
    color: var(--text-primary);
    min-width: 70px;
    text-align: center;
    font-variant-numeric: tabular-nums;
}

.number-controls {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.number-btn {
    width: 36px;
    height: 36px;
    border: 1px solid rgba(0,0,0,0.1);
    background: white;
    color: var(--text-primary);
    border-radius: 10px;
    cursor: pointer;
    font-size: 18px;
    font-weight: bold;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}

.number-btn:hover {
    background: #F5F5F7;
    transform: translateY(-1px);
}

.number-btn:active {
    transform: scale(0.95);
    background: #E5E5EA;
}

/* Range Slider */
.number-range input[type="range"] {
    -webkit-appearance: none;
    width: 100%;
    height: 6px;
    border-radius: 3px;
    background: rgba(120, 120, 128, 0.16);
    outline: none;
    padding: 0;
    box-shadow: none;
    border: none;
}

.number-range input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background: white;
    cursor: pointer;
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15), 0 3px 1px rgba(0, 0, 0, 0.06);
    border: 0.5px solid rgba(0,0,0,0.04);
}

/* \u6807\u7B7E\u9009\u62E9 */
.tag-selector {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
}

.tag-option {
    padding: 8px 16px;
    background: #FFFFFF;
    border: 1px solid rgba(0,0,0,0.1);
    border-radius: 100px;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 13px;
    font-weight: 600;
    color: var(--text-secondary);
}

.tag-option:hover {
    background: #F5F5F7;
    color: var(--text-primary);
}

.tag-option.selected {
    background: var(--primary-color);
    color: white;
    border-color: var(--primary-color);
    box-shadow: 0 4px 10px rgba(0,0,0,0.15);
}

/* \u591A\u9009\u533A\u57DF */
.selected-tags {
    min-height: 80px;
    background: rgba(245, 245, 247, 0.5);
    border: 1px dashed rgba(0,0,0,0.15);
    border-radius: 16px;
    padding: 16px;
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    align-items: flex-start;
    box-shadow: var(--shadow-inner);
}

.selected-tag {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: var(--primary-color);
    color: white;
    padding: 8px 16px;
    border-radius: 100px;
    font-size: 13px;
    font-weight: 600;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    cursor: move;
}

.selected-tag .remove-btn {
    width: 20px;
    height: 20px;
    background: rgba(255,255,255,0.2);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: background 0.2s;
    font-size: 12px;
}

.selected-tag .remove-btn:hover {
    background: rgba(255,255,255,0.4);
}

.available-tags {
    margin-top: 15px;
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

.available-tag {
    padding: 6px 14px;
    background: #FFFFFF;
    border: 1px solid rgba(0,0,0,0.1);
    border-radius: 100px;
    font-size: 12px;
    font-weight: 500;
    color: var(--text-secondary);
    transition: all 0.2s;
    display: inline-flex;
    cursor: pointer;
}

.available-tag:hover {
    transform: translateY(-1px);
    border-color: rgba(0,0,0,0.2);
}

.available-tag.disabled {
    opacity: 0.4;
    cursor: not-allowed;
    pointer-events: none;
}

/* \u5408\u5E76\u6A21\u5F0F\u63A7\u5236\u533A */
.merge-mode-controls {
    display: flex;
    align-items: center;
    margin-top: 16px;
    margin-bottom: 12px;
    gap: 0;
}

.merge-mode-btn {
    display: inline-flex;
    align-items: center;
    padding: 0;
    background: transparent;
    border: none;
    color: var(--accent-color);
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
    text-decoration: none;
    position: relative;
}

.merge-mode-btn:hover {
    color: #005ecb;
}

.merge-mode-btn:active {
    opacity: 0.6;
}

.merge-mode-btn.active {
    color: var(--success-color);
}

.merge-mode-controls .form-help {
    font-size: 12px;
    color: var(--text-secondary);
    margin: 0;
    margin-left: 10px;
}

/* \u6682\u5B58\u533A */
.staging-area {
    display: none;
    min-height: 60px;
    background: rgba(255, 243, 205, 0.3);
    border: 1px dashed rgba(255, 193, 7, 0.4);
    border-radius: 12px;
    padding: 12px;
    margin-top: 12px;
    margin-bottom: 12px;
    flex-wrap: wrap;
    gap: 8px;
    align-items: center;
    position: relative;
}

.staging-area.active {
    display: flex;
}

.staging-tag {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    background: rgba(255, 193, 7, 0.15);
    color: var(--text-primary);
    padding: 6px 12px;
    border-radius: 100px;
    font-size: 12px;
    font-weight: 600;
    border: 1px solid rgba(255, 193, 7, 0.3);
    cursor: move;
}

.staging-tag.dragging {
    opacity: 0.5;
}

.staging-tag.drag-over {
    border-color: var(--accent-color);
    background: rgba(0, 122, 255, 0.1);
}

.staging-tag .remove-btn {
    width: 16px;
    height: 16px;
    background: rgba(0, 0, 0, 0.1);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: background 0.2s;
    font-size: 11px;
    line-height: 1;
}

.staging-tag .remove-btn:hover {
    background: rgba(0, 0, 0, 0.2);
}

.confirm-merge-btn {
    width: 32px;
    height: 32px;
    background: var(--success-color);
    color: white;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    font-size: 16px;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    box-shadow: 0 2px 8px rgba(52, 199, 89, 0.3);
    margin-left: auto;
}

.confirm-merge-btn:hover {
    background: #2fb350;
    transform: scale(1.05);
}

.confirm-merge-btn:active {
    transform: scale(0.95);
}

/* Map items */
.map-item {
    background: #FFFFFF;
    border: 1px solid rgba(0,0,0,0.06);
    border-radius: 12px;
    padding: 12px;
    margin-bottom: 12px;
    display: flex;
    align-items: center;
    gap: 12px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.02);
}

.map-input-left, .map-input-right {
    background: #F5F5F7;
    border: none;
    border-radius: 8px;
    padding: 8px 12px;
    font-family: 'SF Mono', monospace;
    font-size: 13px;
}
`;var ape=`
/* \u54CD\u5E94\u5F0F\u6837\u5F0F - Zen-iOS Hybrid Design */
@media (max-width: 768px) {
    body {
        padding: 10px;
    }

    .container {
        border-radius: 24px; /* Slightly smaller radius on mobile */
    }

    .header {
        padding: 20px;
        flex-direction: column;
        align-items: stretch;
    }

    .header-left {
        width: 100%;
        align-items: center;
        text-align: center;
    }
    
    .logo-title-container {
        flex-direction: column;
        gap: 10px;
    }

    .logo {
        width: 48px;
        height: 48px;
        font-size: 20px;
    }

    .header h1 {
        font-size: 20px;
    }

    .version-info {
        justify-content: center;
        margin-top: 8px;
        width: 100%;
        font-size: 11px;
    }

    .nav-buttons {
        width: 100%;
        justify-content: stretch;
        gap: 4px;
        background: rgba(118, 118, 128, 0.12);
        border-radius: 12px;
        padding: 4px;
    }

    .nav-btn {
        flex: 1;
        text-align: center;
        font-size: 12px;
        padding: 6px 2px;
        border-radius: 8px;
    }

    .content {
        padding: 20px;
    }

    .env-item {
        flex-direction: column;
        align-items: stretch;
        padding: 16px;
    }

    .env-item .env-info {
        min-width: 0; /* Fix flex overflow */
        width: 100%;
    }

    .env-item .env-info div.text-dark-gray {
        font-size: 13px;
        max-width: 100%;
    }

    .env-actions {
        width: 100%;
        margin-top: 12px;
        display: flex;
    }

    .env-actions .btn {
        flex: 1;
    }

    /* \u9884\u89C8\u5361\u7247\u79FB\u52A8\u7AEF */
    .preview-category {
        padding: 16px;
    }

    .preview-item {
        padding: 12px;
    }

    .preview-item .preview-value {
        font-size: 12px;
    }
    
    .api-selector select {
        font-size: 16px; /* Prevent auto-zoom on iOS */
    }

    /* \u914D\u7F6E\u7F16\u8F91\u5F39\u7A97\u79FB\u52A8\u7AEF\u9002\u914D */
    #env-modal .modal-content {
        width: 95vw;
        max-width: none;
        padding: 24px 20px;
        border-radius: 24px;
        max-height: 90vh;
    }

    #env-modal .selected-tags {
        max-height: 120px;
    }

    #env-modal .available-tags {
        max-height: 150px;
    }

    #env-modal .modal-header {
        padding-bottom: 16px;
        margin-bottom: 20px;
    }

    #env-modal .modal-header h3 {
        font-size: 18px;
    }

    /* \u63A8\u9001\u5F39\u5E55\u79FB\u52A8\u7AEF\u9002\u914D */
    .anime-grid {
        grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));
        gap: 12px;
    }

    .anime-item-img {
        aspect-ratio: 3 / 4;
    }

    .anime-title {
        padding: 10px;
        font-size: 12px;
    }

    .episode-item {
        flex-direction: column;
        align-items: stretch;
        gap: 12px;
        padding: 14px 16px;
    }

    .episode-item-content {
        white-space: normal;
    }

    .episode-push-btn {
        width: 100%;
    }

    #push-anime-list,
    #push-episode-list {
        padding: 16px;
        margin-top: 16px;
    }
}
`;var ope=`
// \u81EA\u5B9A\u4E49\u5F39\u7A97\u7EC4\u4EF6
function createCustomAlert() {
    // \u68C0\u67E5\u662F\u5426\u5DF2\u5B58\u5728\u81EA\u5B9A\u4E49\u5F39\u7A97\u5143\u7D20
    if (document.getElementById('custom-alert-overlay')) {
        return;
    }

    // \u521B\u5EFA\u5F39\u7A97HTML\u5143\u7D20
    const alertHTML = '<div class="modal" id="custom-alert-overlay"><div class="modal-content" id="custom-alert-content"><div class="modal-header"><h3 id="custom-alert-title">\u63D0\u793A</h3><button class="close-btn" id="custom-alert-close">&times;</button></div><div class="modal-body"><p id="custom-alert-message"></p></div><div class="modal-footer"><button class="btn btn-primary" id="custom-alert-confirm">\u786E\u5B9A</button></div></div></div>';

    // \u6DFB\u52A0\u5230body
    document.body.insertAdjacentHTML('beforeend', alertHTML);

    // \u83B7\u53D6\u5143\u7D20
    const overlay = document.getElementById('custom-alert-overlay');
    const closeBtn = document.getElementById('custom-alert-close');
    const confirmBtn = document.getElementById('custom-alert-confirm');

    // \u5173\u95ED\u5F39\u7A97\u51FD\u6570
    function closeAlert() {
        overlay.classList.remove('active');
        // \u91CD\u7F6E\u6807\u9898\u548C\u6D88\u606F
        document.getElementById('custom-alert-title').textContent = '\u63D0\u793A';
    }

    // \u4E8B\u4EF6\u76D1\u542C\u5668
    closeBtn.addEventListener('click', closeAlert);
    confirmBtn.addEventListener('click', closeAlert);

    // \u70B9\u51FB\u906E\u7F69\u5C42\u5173\u95ED\u5F39\u7A97
    overlay.addEventListener('click', function(e) {
        if (e.target === overlay) {
            closeAlert();
        }
    });
}

// \u81EA\u5B9A\u4E49alert\u51FD\u6570
function customAlert(message, title = '\u63D0\u793A') {
    // \u786E\u4FDD\u5F39\u7A97\u5143\u7D20\u5DF2\u521B\u5EFA
    createCustomAlert();

    // \u83B7\u53D6\u5143\u7D20
    const overlay = document.getElementById('custom-alert-overlay');
    const titleElement = document.getElementById('custom-alert-title');
    const messageElement = document.getElementById('custom-alert-message');

    // \u8BBE\u7F6E\u6807\u9898\u548C\u6D88\u606F
    titleElement.textContent = title;
    messageElement.innerHTML = message;

    // \u663E\u793A\u5F39\u7A97
    overlay.classList.add('active');
}

// \u81EA\u5B9A\u4E49confirm\u51FD\u6570\uFF08\u5982\u679C\u9700\u8981\uFF09
function customConfirm(message, title = '\u786E\u8BA4') {
    return new Promise((resolve) => {
        // \u786E\u4FDD\u5F39\u7A97\u5143\u7D20\u5DF2\u521B\u5EFA
        createCustomAlert();

        // \u83B7\u53D6\u5143\u7D20
        const overlay = document.getElementById('custom-alert-overlay');
        const titleElement = document.getElementById('custom-alert-title');
        const messageElement = document.getElementById('custom-alert-message');
        const confirmBtn = document.getElementById('custom-alert-confirm');

        // \u79FB\u9664\u4E4B\u524D\u7684\u4E8B\u4EF6\u76D1\u542C\u5668\uFF08\u5982\u679C\u6709\uFF09
        const newConfirmBtn = confirmBtn.cloneNode(true);
        confirmBtn.parentNode.replaceChild(newConfirmBtn, confirmBtn);

        // \u8BBE\u7F6E\u6807\u9898\u548C\u6D88\u606F
        titleElement.textContent = title;
        messageElement.innerHTML = message;

        // \u786E\u5B9A\u6309\u94AE\u4E8B\u4EF6
        newConfirmBtn.addEventListener('click', () => {
            overlay.classList.remove('active');
            resolve(true);
        });

        // \u5173\u95ED\u6309\u94AE\u4E8B\u4EF6
        document.getElementById('custom-alert-close').addEventListener('click', () => {
            overlay.classList.remove('active');
            resolve(false);
        });

        // \u70B9\u51FB\u906E\u7F69\u5C42\u5173\u95ED
        overlay.addEventListener('click', function(e) {
            if (e.target === overlay) {
                overlay.classList.remove('active');
                resolve(false);
            }
        });

        // \u663E\u793A\u5F39\u7A97
        overlay.classList.add('active');
    });
}

// \u521D\u59CB\u5316\u81EA\u5B9A\u4E49\u5F39\u7A97
document.addEventListener('DOMContentLoaded', createCustomAlert);

// \u6570\u636E\u5B58\u50A8
let envVariables = {};
let currentCategory = 'api'; // \u9ED8\u8BA4\u5206\u7C7B\u6539\u4E3Aapi
let editingKey = null;
let logs = []; // \u4FDD\u7559\u672C\u5730\u65E5\u5FD7\u6570\u7EC4\uFF0C\u7528\u4E8EUI\u663E\u793A

// \u7248\u672C\u4FE1\u606F
let currentVersion = '';
let latestVersion = '';
let currentToken = 'globals.currentToken';
let currentAdminToken = ''; // admin token\uFF0C\u7528\u4E8E\u7CFB\u7EDF\u7BA1\u7406
let originalToken = '';

// \u53CD\u5411\u4EE3\u7406/API\u57FA\u7840\u8DEF\u5F84\u914D\u7F6E
// \u4ECELocalStorage\u83B7\u53D6\u7528\u6237\u81EA\u5B9A\u4E49\u7684Base URL
let customBaseUrl = localStorage.getItem('logvar_api_base_url') || '';

// \u4FDD\u5B58\u81EA\u5B9A\u4E49Base URL (\u4E3A\u7A7A\u5219\u6E05\u9664)
function saveBaseUrl() {
    const input = document.getElementById('custom-base-url').value.trim();
    if (input) {
        // \u786E\u4FDDURL\u4E0D\u4EE5\u659C\u6760\u7ED3\u5C3E\uFF0C\u65B9\u4FBF\u540E\u7EED\u62FC\u63A5
        let formattedUrl = input;
        if (formattedUrl.endsWith('/')) {
            formattedUrl = formattedUrl.slice(0, -1);
        }
        localStorage.setItem('logvar_api_base_url', formattedUrl);
        customBaseUrl = formattedUrl;
        customAlert('API\u5730\u5740\u914D\u7F6E\u5DF2\u4FDD\u5B58\uFF0C\u5373\u5C06\u5237\u65B0\u9875\u9762\u3002', '\u4FDD\u5B58\u6210\u529F');
        setTimeout(() => {
            location.reload();
        }, 1000);
    } else {
        // \u8F93\u5165\u4E3A\u7A7A\uFF0C\u89C6\u4E3A\u6E05\u9664\u914D\u7F6E/\u91CD\u7F6E\u4E3A\u9ED8\u8BA4
        localStorage.removeItem('logvar_api_base_url');
        customBaseUrl = '';
        customAlert('\u914D\u7F6E\u5DF2\u91CD\u7F6E\u4E3A\u9ED8\u8BA4\u72B6\u6001\uFF0C\u5373\u5C06\u5237\u65B0\u9875\u9762\u3002', '\u64CD\u4F5C\u6210\u529F');
        setTimeout(() => {
            location.reload();
        }, 1000);
    }
}

// \u6784\u5EFA\u5E26token\u7684API\u8BF7\u6C42\u8DEF\u5F84
function buildApiUrl(path, isSystemPath = false) {
    let res;
    // \u5982\u679C\u662F\u7CFB\u7EDF\u7BA1\u7406\u8DEF\u5F84\u4E14\u6709admin token,\u5219\u4F7F\u7528admin token
    if (isSystemPath && currentAdminToken && currentAdminToken.trim() !== '' && currentAdminToken.trim() !== '*'.repeat(currentAdminToken.length)) {
        res = '/' + currentAdminToken + path;
    } else {
        // \u5426\u5219\u4F7F\u7528\u666E\u901Atoken
        res = (currentToken ? '/' + currentToken : "") + path;
    }
    
    // \u5982\u679C\u914D\u7F6E\u4E86\u81EA\u5B9A\u4E49\u57FA\u7840URL (\u89E3\u51B3\u53CD\u4EE3\u95EE\u9898)
    if (customBaseUrl) {
        // \u786E\u4FDD\u8DEF\u5F84\u4EE5/\u5F00\u5934
        const cleanPath = res.startsWith('/') ? res : '/' + res;
        return customBaseUrl + cleanPath;
    }

    return res;
}

// \u4ECEAPI\u52A0\u8F7D\u771F\u5B9E\u73AF\u5883\u53D8\u91CF\u6570\u636E
function loadEnvVariables() {
    // \u4ECEAPI\u83B7\u53D6\u771F\u5B9E\u914D\u7F6E\u6570\u636E
    fetch(buildApiUrl('/api/config', true))
        .then(response => response.json())
        .then(config => {
            // \u4ECE\u914D\u7F6E\u4E2D\u83B7\u53D6admin token
            currentAdminToken = config.originalEnvVars?.ADMIN_TOKEN || '';

            originalToken = config.originalEnvVars?.TOKEN || '';
            
            // \u4F7F\u7528\u4ECEAPI\u83B7\u53D6\u7684\u539F\u59CB\u73AF\u5883\u53D8\u91CF\uFF0C\u7528\u4E8E\u7CFB\u7EDF\u8BBE\u7F6E
            const originalEnvVars = config.originalEnvVars || {};
            
            // \u91CD\u65B0\u7EC4\u7EC7\u6570\u636E\u7ED3\u6784\u4EE5\u9002\u914D\u73B0\u6709UI
            envVariables = {};
            
            // \u5C06\u539F\u59CB\u73AF\u5883\u53D8\u91CF\u8F6C\u6362\u4E3AUI\u6240\u9700\u683C\u5F0F
            // \u8FD9\u91CC\u9700\u8981\u5C06\u539F\u59CB\u73AF\u5883\u53D8\u91CF\u6309\u7C7B\u522B\u7EC4\u7EC7
            Object.keys(originalEnvVars).forEach(key => {
                // \u4ECEenvVarConfig\u83B7\u53D6\u914D\u7F6E\u4FE1\u606F
                const varConfig = config.envVarConfig?.[key] || { category: 'system', type: 'text', description: '\u672A\u5206\u7C7B\u914D\u7F6E\u9879' };
                const category = varConfig.category || 'system';
                
                // \u5982\u679C\u8BE5\u5206\u7C7B\u4E0D\u5B58\u5728\uFF0C\u521B\u5EFA\u5B83
                if (!envVariables[category]) {
                    envVariables[category] = [];
                }
                
                // \u6DFB\u52A0\u5230\u5BF9\u5E94\u5206\u7C7B\uFF0C\u5305\u542B\u5B8C\u6574\u7684\u914D\u7F6E\u4FE1\u606F
                envVariables[category].push({
                    key: key,
                    value: originalEnvVars[key],
                    description: varConfig.description || '',
                    type: varConfig.type || 'text',
                    min: varConfig.min,
                    max: varConfig.max,
                    options: varConfig.options || [] // \u4EC5\u5BF9 select \u548C multi-select \u7C7B\u578B\u6709\u6548
                });
            });
            
            // \u6E32\u67D3\u73AF\u5883\u53D8\u91CF\u5217\u8868
            renderEnvList();
        })
        .catch(error => {
            console.error('Failed to load env variables:', error);
        });
}

// \u66F4\u65B0API\u7AEF\u70B9\u4FE1\u606F
function updateApiEndpoint() {
  return fetch(buildApiUrl('/api/config', true))
    .then(response => {
        // \u68C0\u67E5ContentType\uFF0C\u5982\u679C\u662FHTML\u8BF4\u660E\u53EF\u80FD\u662F404\u9875\u9762\u6216\u53CD\u4EE3\u9519\u8BEF\u9875\u9762
        const contentType = response.headers.get("content-type");
        if (contentType && contentType.indexOf("application/json") === -1) {
             throw new Error("Received HTML instead of JSON. Possible 404 or Proxy Error.");
        }
        if (!response.ok) {
            throw new Error(\`HTTP error! status: \${response.status}\`);
        }
        return response.json();
    })
    .then(config => {
      let _reverseProxy = customBaseUrl; // \u4F7F\u7528\u5168\u5C40\u914D\u7F6E

      // \u83B7\u53D6\u5F53\u524D\u9875\u9762\u7684\u534F\u8BAE\u3001\u4E3B\u673A\u548C\u7AEF\u53E3
      const protocol = window.location.protocol;
      const host = window.location.host;
      const token = config.originalEnvVars?.TOKEN || '87654321'; // \u9ED8\u8BA4token\u503C
      const adminToken = config.originalEnvVars?.ADMIN_TOKEN;

      // \u83B7\u53D6URL\u8DEF\u5F84\u5E76\u63D0\u53D6token
      let urlPath = window.location.pathname;
      if(_reverseProxy) {
          try {
              let proxyPath = _reverseProxy.startsWith('http') 
                  ? new URL(_reverseProxy).pathname 
                  : _reverseProxy;
              
              if (proxyPath.endsWith('/')) {
                  proxyPath = proxyPath.slice(0, -1);
              }
              if(proxyPath && urlPath.startsWith(proxyPath)) {
                  urlPath = urlPath.substring(proxyPath.length);
              }
          } catch(e) { /* ignore */ }
      }

      const pathParts = urlPath.split('/').filter(part => part !== '');
      const urlToken = pathParts.length > 0 ? pathParts[0] : '';
      let apiToken = '********';
      
      // \u5224\u65AD\u662F\u5426\u4F7F\u7528\u9ED8\u8BA4token
      if (token === '87654321') {
        // \u5982\u679C\u662F\u9ED8\u8BA4token\uFF0C\u5219\u663E\u793A\u771F\u5B9Etoken
        apiToken = token;
      } else {
        // \u5982\u679C\u4E0D\u662F\u9ED8\u8BA4token\uFF0C\u5219\u68C0\u67E5URL\u4E2D\u7684token\u662F\u5426\u5339\u914D\uFF0C\u5339\u914D\u5219\u663E\u793A\u771F\u5B9Etoken\uFF0C\u5426\u5219\u663E\u793A\u661F\u53F7
        if (urlToken === token || (adminToken !== "" && urlToken === adminToken)) {
          apiToken = token; // \u66F4\u65B0\u5168\u5C40token\u53D8\u91CF
        }
      }
      
      // \u6784\u9020API\u7AEF\u70B9URL
      let baseUrlStr;
      if (_reverseProxy) {
          // \u5982\u679C\u914D\u7F6E\u4E86\u53CD\u4EE3\uFF0C\u4E14\u662F\u76F8\u5BF9\u8DEF\u5F84\uFF0C\u5219\u8865\u5168\u534F\u8BAE\u548C\u4E3B\u673A\uFF0C\u786E\u4FDD\u663E\u793A\u4E3A\u7EDD\u5BF9\u8DEF\u5F84
          baseUrlStr = _reverseProxy.startsWith('http') 
              ? _reverseProxy 
              : (protocol + '//' + host + _reverseProxy);
      } else {
          baseUrlStr = protocol + '//' + host;
      }

      // \u786E\u4FDD baseUrlStr \u4E0D\u4EE5\u659C\u6760\u7ED3\u5C3E
      let cleanBaseUrl = baseUrlStr;
      if (cleanBaseUrl.endsWith('/')) {
          cleanBaseUrl = cleanBaseUrl.slice(0, -1);
      }
      const apiEndpoint = cleanBaseUrl + '/' + apiToken;
      
      const apiEndpointElement = document.getElementById('api-endpoint');
      if (apiEndpointElement) {
        apiEndpointElement.textContent = apiEndpoint;
      }
      return config; // \u8FD4\u56DE\u914D\u7F6E\u4FE1\u606F\uFF0C\u4EE5\u4FBF\u94FE\u5F0F\u8C03\u7528
    })
    .catch(error => {
      console.error('\u83B7\u53D6\u914D\u7F6E\u4FE1\u606F\u5931\u8D25:', error);
      // \u51FA\u9519\u65F6\u663E\u793A\u9ED8\u8BA4\u503C
      const protocol = window.location.protocol;
      const host = window.location.host;
      let _reverseProxy = customBaseUrl;
      
      // \u6784\u9020\u663E\u793A\u7528\u7684BaseUrl
      let baseUrlStr;
      if (_reverseProxy) {
          baseUrlStr = _reverseProxy.startsWith('http') 
              ? _reverseProxy 
              : (protocol + '//' + host + _reverseProxy);
      } else {
          baseUrlStr = protocol + '//' + host;
      }

      let cleanBaseUrl = baseUrlStr;
      if (cleanBaseUrl.endsWith('/')) {
          cleanBaseUrl = cleanBaseUrl.slice(0, -1);
      }
      const apiEndpoint = cleanBaseUrl + '/********';
      
      const apiEndpointElement = document.getElementById('api-endpoint');
      if (apiEndpointElement) {
        apiEndpointElement.textContent = apiEndpoint;
      }
      
      // \u5982\u679C\u662F\u56E0\u4E3A\u53CD\u4EE3\u5BFC\u81F4\u7684\u95EE\u9898\uFF0C\u663E\u793A\u8F93\u5165\u6846 (\u4EA4\u7531renderPreview\u5904\u7406\uFF0C\u6216\u8005\u5728\u8FD9\u91CC\u4E5F\u53EF\u4EE5\u89E6\u53D1)
      const proxyContainer = document.getElementById('proxy-config-container');
      if(proxyContainer) {
          proxyContainer.style.display = 'block';
          // \u586B\u5145\u5F53\u524D\u8F93\u5165\u6846\uFF08\u5982\u679C\u6709\u503C\uFF09
          if(customBaseUrl) {
              document.getElementById('custom-base-url').value = customBaseUrl;
          }
      }
      
      throw error; // \u629B\u51FA\u9519\u8BEF\uFF0C\u4EE5\u4FBF\u8C03\u7528\u8005\u53EF\u4EE5\u5904\u7406
    });
}

function getDockerVersion() {
  const url = "https://img.shields.io/docker/v/logvar/danmu-api?sort=semver";

  fetch(url)
    .then(response => response.text())
    .then(svgContent => {
      // \u4F7F\u7528\u6B63\u5219\u8868\u8FBE\u5F0F\u4ECE SVG \u4E2D\u63D0\u53D6\u7248\u672C\u53F7
      const versionMatch = svgContent.match(/version<\\/text><text.*?>(v[\\d\\.]+)/);

      if (versionMatch && versionMatch[1]) {
        console.log("Version:", versionMatch[1]);
        const latestVersionElement = document.getElementById('latest-version');
        if (latestVersionElement) {
          latestVersionElement.textContent = versionMatch[1];
        }
      } else {
        console.log("Version not found");
      }
    })
    .catch(error => {
      console.error("Error fetching the SVG:", error);
    });
}

// \u5207\u6362\u5BFC\u822A
function switchSection(section, event = null) {
    // \u68C0\u67E5\u662F\u5426\u5C1D\u8BD5\u8BBF\u95EE\u53D7token\u4FDD\u62A4\u7684section\uFF08\u65E5\u5FD7\u67E5\u770B\u3001\u63A5\u53E3\u8C03\u8BD5\u3001\u63A8\u9001\u5F39\u5E55\u3001\u8BF7\u6C42\u8BB0\u5F55\u3001\u7CFB\u7EDF\u914D\u7F6E\u9700\u8981token\u8BBF\u95EE\uFF09
    if (section === 'logs' || section === 'api' || section === 'env' || section === 'push' || section === 'request-records') {
        let _reverseProxy = customBaseUrl; // \u4F7F\u7528\u5168\u5C40\u914D\u7F6E

        // \u83B7\u53D6URL\u8DEF\u5F84\u5E76\u63D0\u53D6token
        let urlPath = window.location.pathname;
        if(_reverseProxy) {
            // \u4E25\u8C28\u5730\u79FB\u9664BaseUrl\u4E2D\u7684path\u90E8\u5206
            try {
                // \u5982\u679C_reverseProxy\u5305\u542B\u5B8C\u6574URL\uFF0C\u63D0\u53D6pathname
                // \u5982\u679C\u53EA\u662F\u76F8\u5BF9\u8DEF\u5F84\uFF0C\u76F4\u63A5\u4F7F\u7528
                let proxyPath = _reverseProxy.startsWith('http') 
                    ? new URL(_reverseProxy).pathname 
                    : _reverseProxy;
                
                // \u786E\u4FDD\u79FB\u9664\u5C3E\u90E8\u659C\u6760\uFF0C\u9632\u6B62\u5339\u914D\u5931\u8D25
                if (proxyPath.endsWith('/')) {
                    proxyPath = proxyPath.slice(0, -1);
                }
                
                if(proxyPath && urlPath.startsWith(proxyPath)) {
                    urlPath = urlPath.substring(proxyPath.length);
                }
            } catch(e) {
                console.error("\u89E3\u6790\u53CD\u4EE3\u8DEF\u5F84\u5931\u8D25", e);
            }
        }
        
        const pathParts = urlPath.split('/').filter(part => part !== '');
        const urlToken = pathParts.length > 0 ? pathParts[0] : '';
        
        // \u68C0\u67E5URL\u4E2D\u662F\u5426\u6709token
        if (!urlToken && originalToken !== "87654321") {
            // \u63D0\u793A\u7528\u6237\u9700\u8981\u5728URL\u4E2D\u914D\u7F6ETOKEN
            setTimeout(() => {
                // \u83B7\u53D6\u5F53\u524D\u9875\u9762\u7684\u534F\u8BAE\u3001\u4E3B\u673A\u548C\u7AEF\u53E3
                const protocol = window.location.protocol;
                const host = window.location.host;
                
                // \u6784\u9020\u663E\u793A\u7684BaseUrl\uFF0C\u786E\u4FDD\u662F\u7EDD\u5BF9\u8DEF\u5F84
                let displayBase;
                if (_reverseProxy) {
                    displayBase = _reverseProxy.startsWith('http') 
                        ? _reverseProxy 
                        : (protocol + '//' + host + _reverseProxy);
                } else {
                    displayBase = protocol + '//' + host;
                }
                
                if (displayBase.endsWith('/')) {
                    displayBase = displayBase.slice(0, -1);
                }
                
                // \u6839\u636Esection\u7C7B\u578B\u663E\u793A\u4E0D\u540C\u7684token\u63D0\u793A
                const tokenType = section === 'env' ? 'ADMIN_TOKEN' : 'TOKEN';
                customAlert('\u8BF7\u5728URL\u4E2D\u914D\u7F6E\u76F8\u5E94\u7684' + tokenType + '\u4EE5\u8BBF\u95EE\u6B64\u529F\u80FD\uFF01\\n\\n\u8BBF\u95EE\u65B9\u5F0F\uFF1A' + displayBase + '/{' + tokenType + '}');
            }, 100);
            return;
        }
        
        // \u5982\u679C\u662F\u7CFB\u7EDF\u914D\u7F6E\u9875\u9762\uFF0C\u8FD8\u9700\u8981\u68C0\u67E5\u662F\u5426\u914D\u7F6E\u4E86ADMIN_TOKEN\u4E14URL\u4E2D\u7684token\u7B49\u4E8EcurrentAdminToken
        if (section === 'env') {
            // \u68C0\u67E5\u90E8\u7F72\u5E73\u53F0\u914D\u7F6E
            checkDeployPlatformConfig().then(result => {
                if (!result.success) {
                    // \u5982\u679C\u914D\u7F6E\u68C0\u67E5\u4E0D\u901A\u8FC7\uFF0C\u53EA\u663E\u793A\u63D0\u793A\uFF0C\u4E0D\u5207\u6362\u9875\u9762
                    setTimeout(() => {
                        customAlert(result.message);
                    }, 100);
                } else {
                    // \u5982\u679C\u914D\u7F6E\u68C0\u67E5\u901A\u8FC7\uFF0C\u624D\u5207\u6362\u5230env\u9875\u9762
                    document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
                    document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));

                    document.getElementById(\`\${section}-section\`).classList.add('active');
                    // \u5728\u5F02\u6B65\u56DE\u8C03\u4E2D\u4F7F\u7528\u4F20\u5165\u7684event\u53C2\u6570\u6765\u8BBE\u7F6E\u6309\u94AE\u7684active\u72B6\u6001
                    if (event && event.target) {
                        event.target.classList.add('active');
                    }

                    addLog(\`\u5207\u6362\u5230\${section === 'env' ? '\u73AF\u5883\u53D8\u91CF' : section === 'preview' ? '\u914D\u7F6E\u9884\u89C8' : section === 'logs' ? '\u65E5\u5FD7\u67E5\u770B' : section === 'push' ? '\u63A8\u9001\u5F39\u5E55' : section === 'request-records' ? '\u8BF7\u6C42\u8BB0\u5F55' : '\u63A5\u53E3\u8C03\u8BD5'}\u6A21\u5757\`, 'info');
                }
            });
        } else {
            // \u5BF9\u4E8E\u65E5\u5FD7\u67E5\u770B\u3001\u63A5\u53E3\u8C03\u8BD5\u548C\u63A8\u9001\u5F39\u5E55\u9875\u9762\uFF0C\u53EA\u8981URL\u4E2D\u6709token\u5C31\u53EF\u4EE5\u8BBF\u95EE
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));

            document.getElementById(\`\${section}-section\`).classList.add('active');
            if (event && event.target) {
                event.target.classList.add('active');
            }

            addLog(\`\u5207\u6362\u5230\${section === 'env' ? '\u73AF\u5883\u53D8\u91CF' : section === 'preview' ? '\u914D\u7F6E\u9884\u89C8' : section === 'logs' ? '\u65E5\u5FD7\u67E5\u770B' : section === 'push' ? '\u63A8\u9001\u5F39\u5E55' : section === 'request-records' ? '\u8BF7\u6C42\u8BB0\u5F55' : '\u63A5\u53E3\u8C03\u8BD5'}\u6A21\u5757\`, 'info');
            
            // \u5982\u679C\u5207\u6362\u5230\u65E5\u5FD7\u67E5\u770B\u9875\u9762\uFF0C\u5219\u7ACB\u5373\u5237\u65B0\u65E5\u5FD7
            if (section === 'logs') {
                if (typeof fetchRealLogs === 'function') {
                    fetchRealLogs();
                }
            }
        }
    } else {
        // \u5BF9\u4E8E\u975E\u53D7\u4FDD\u62A4\u9875\u9762\uFF08\u5982\u914D\u7F6E\u9884\u89C8\uFF09\uFF0C\u6B63\u5E38\u5207\u6362
        document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));

        document.getElementById(\`\${section}-section\`).classList.add('active');
        if (event && event.target) {
            event.target.classList.add('active');
        }

        addLog(\`\u5207\u6362\u5230\${section === 'env' ? '\u73AF\u5883\u53D8\u91CF' : section === 'preview' ? '\u914D\u7F6E\u9884\u89C8' : section === 'logs' ? '\u65E5\u5FD7\u67E5\u770B' : section === 'push' ? '\u63A8\u9001\u5F39\u5E55' : '\u63A5\u53E3\u8C03\u8BD5'}\u6A21\u5757\`, 'info');
    }
}

// \u5207\u6362\u7C7B\u522B
function switchCategory(category, event = null) {
    currentCategory = category;
    document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
    if (event && event.target) {
        event.target.classList.add('active');
    }
    renderEnvList();
}

// \u5173\u95ED\u6A21\u6001\u6846
function closeModal() {
    document.getElementById('env-modal').classList.remove('active');
    
    // \u91CD\u7F6E\u8868\u5355\u5B57\u6BB5\u72B6\u6001
    document.getElementById('env-category').disabled = false;
    document.getElementById('env-key').readOnly = false;
    document.getElementById('value-type').disabled = false;
    document.getElementById('env-description').readOnly = false;
}

// \u9875\u9762\u52A0\u8F7D\u5B8C\u6210\u540E\u521D\u59CB\u5316\u65F6\u83B7\u53D6\u4E00\u6B21\u65E5\u5FD7
async function init() {
    try {
        await updateApiEndpoint(); // \u7B49\u5F85API\u7AEF\u70B9\u66F4\u65B0\u5B8C\u6210
        getDockerVersion();
        // \u4ECEAPI\u83B7\u53D6\u914D\u7F6E\u4FE1\u606F\uFF0C\u5305\u62EC\u68C0\u67E5\u662F\u5426\u6709admin token
        const config = await fetchAndSetConfig();

        // \u8BBE\u7F6E\u9ED8\u8BA4\u63A8\u9001\u5730\u5740
        setDefaultPushUrl(config);

        // \u68C0\u67E5\u5E76\u5904\u7406\u7BA1\u7406\u5458\u4EE4\u724C
        checkAndHandleAdminToken();
        
        loadEnvVariables(); // \u4ECEAPI\u52A0\u8F7D\u771F\u5B9E\u73AF\u5883\u53D8\u91CF\u6570\u636E
        renderEnvList();
        renderPreview();
        addLog('\u7CFB\u7EDF\u521D\u59CB\u5316\u5B8C\u6210', 'success');
        // \u83B7\u53D6\u771F\u5B9E\u65E5\u5FD7\u6570\u636E
        fetchRealLogs();
        
        // \u521D\u59CB\u5316\u63A8\u9001\u5F39\u5E55\u754C\u9762
        if (typeof initPushDanmuInterface === 'function') {
            initPushDanmuInterface();
        }
        
        // \u521D\u59CB\u5316\u63A5\u53E3\u8C03\u8BD5\u754C\u9762
        if (typeof initApiTestInterface === 'function') {
            initApiTestInterface();
        }
        
    } catch (error) {
        console.error('\u521D\u59CB\u5316\u5931\u8D25:', error);
        addLog('\u7CFB\u7EDF\u521D\u59CB\u5316\u5931\u8D25: ' + error.message, 'error');
        
        // \u786E\u4FDD\u53CD\u4EE3\u914D\u7F6E\u6846\u663E\u793A
        const proxyContainer = document.getElementById('proxy-config-container');
        if(proxyContainer) {
            proxyContainer.style.display = 'block';
            if(customBaseUrl) {
                document.getElementById('custom-base-url').value = customBaseUrl;
            }
        }
        
        // \u5373\u4F7F\u521D\u59CB\u5316\u5931\u8D25\uFF0C\u4E5F\u8981\u5C1D\u8BD5\u83B7\u53D6\u65E5\u5FD7
        fetchRealLogs();
    }
}

// \u590D\u5236API\u7AEF\u70B9\u5230\u526A\u8D34\u677F
function copyApiEndpoint() {
    const apiEndpointElement = document.getElementById('api-endpoint');
    if (apiEndpointElement) {
        const apiEndpoint = apiEndpointElement.textContent;
        navigator.clipboard.writeText(apiEndpoint)
            .then(() => {
                // \u4E34\u65F6\u6539\u53D8\u663E\u793A\u6587\u672C\u4EE5\u63D0\u4F9B\u53CD\u9988
                const originalText = apiEndpointElement.textContent;
                apiEndpointElement.textContent = '\u5DF2\u590D\u5236!';
                apiEndpointElement.style.color = '#ff6b6b';
                
                // 2\u79D2\u540E\u6062\u590D\u539F\u59CB\u6587\u672C
                setTimeout(() => {
                    apiEndpointElement.textContent = originalText;
                    apiEndpointElement.style.color = '#4CAF50';
                }, 2000);
                
                addLog('API\u7AEF\u70B9\u5DF2\u590D\u5236\u5230\u526A\u8D34\u677F: ' + apiEndpoint, 'success');
            })
            .catch(err => {
                console.error('\u590D\u5236\u5931\u8D25:', err);
                customAlert('\u590D\u5236\u5931\u8D25: ' + err);
                addLog('\u590D\u5236API\u7AEF\u70B9\u5931\u8D25: ' + err, 'error');
            });
    }
}

function escapeHtml(text) {
    // \u5982\u679C\u662F null \u6216 undefined\uFF0C\u8FD4\u56DE\u7A7A\u5B57\u7B26\u4E32
    if (text === null || text === undefined) {
        return '';
    }
    
    // \u5C06\u975E\u5B57\u7B26\u4E32\u503C\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32
    const str = String(text);
    
    const map = {
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        '"': '&quot;',
        "'": '&#039;'
    };
    return str.replace(/[&<>"']/g, m => map[m]);
}


// \u9875\u9762\u52A0\u8F7D\u5B8C\u6210\u540E\u521D\u59CB\u5316
init();
`;var cpe=`
// \u6E32\u67D3\u914D\u7F6E\u9884\u89C8
let currentPreviewCategory = 'api';

function renderPreview() {
    const preview = document.getElementById('preview-area');
    const proxyConfigContainer = document.getElementById('proxy-config-container');
    
    // \u4ECEAPI\u83B7\u53D6\u771F\u5B9E\u914D\u7F6E\u6570\u636E
    fetch(buildApiUrl('/api/config'))
        .then(response => {
             const contentType = response.headers.get("content-type");
             if (contentType && contentType.indexOf("application/json") === -1) {
                  // \u8FD4\u56DE\u6587\u672C\u4EE5\u4FBF\u540E\u7EED\u5904\u7406\uFF08\u4F8B\u5982\u663E\u793AHTML\u9519\u8BEF\u7684\u524D\u51E0\u4E2A\u5B57\u7B26\uFF09
                  return response.text().then(text => {
                      throw new Error('Expected JSON, got ' + contentType + '. Content: ' + text.substring(0, 50) + '...');
                  });
             }
             if (!response.ok) {
                throw new Error('HTTP error! status: ' + response.status);
             }
             return response.json();
        })
        .then(config => {
            // \u6210\u529F\u52A0\u8F7D\uFF0C\u9690\u85CF\u53CD\u4EE3\u914D\u7F6E\u6846
            if(proxyConfigContainer) {
                proxyConfigContainer.style.display = 'none';
            }

            // \u4F7F\u7528\u4ECEAPI\u83B7\u53D6\u7684\u5206\u7C7B\u73AF\u5883\u53D8\u91CF
            const categorizedVars = config.categorizedEnvVars || {};
            
            // \u6E32\u67D3\u5F53\u524D\u9009\u4E2D\u7684\u9884\u89C8\u5185\u5BB9
            let html = '';
            
            const items = categorizedVars[currentPreviewCategory];
            if (items && items.length > 0) {
                html += '<div class="preview-category">' +
                    '<h3>' + getCategoryName(currentPreviewCategory) + '</h3>';
                items.forEach(item => {
                    const escapedValue = escapeHtml(item.value);
                    html += '<div class="preview-item">' +
                            '<div class="preview-item-content">' +
                                '<div class="preview-key"><strong>' + item.key + '</strong></div>' +
                                '<div class="preview-value">' + escapedValue + '</div>' +
                            '</div>' +
                            (item.description ? '<div class="text-gray font-size-12 margin-top-3">' + item.description + '</div>' : '') +
                        '</div>';
                });
                html += '</div>';
            }
            
            preview.innerHTML = html || '<p class="text-gray padding-20 text-center">\u6682\u65E0\u914D\u7F6E</p>';
        })
        .catch(error => {
            console.error('Failed to load config for preview:', error);
            
            // \u663E\u793A\u53CD\u4EE3\u914D\u7F6E\u6846
            if(proxyConfigContainer) {
                proxyConfigContainer.style.display = 'block';
                // \u5982\u679C\u6709\u5DF2\u4FDD\u5B58\u7684URL\uFF0C\u586B\u5145\u5B83
                const savedUrl = localStorage.getItem('logvar_api_base_url');
                if(savedUrl) {
                    document.getElementById('custom-base-url').value = savedUrl;
                }
            }
            
            preview.innerHTML = '<p class="text-red">\u52A0\u8F7D\u914D\u7F6E\u5931\u8D25: ' + error.message + '</p>';
            addLog('\u52A0\u8F7D\u914D\u7F6E\u5931\u8D25: ' + error.message, 'error');
        });
}

// \u5207\u6362\u9884\u89C8\u7C7B\u522B
function switchPreviewCategory(category, event = null) {
    currentPreviewCategory = category;
    // \u66F4\u65B0\u6309\u94AE\u72B6\u6001
    const section = document.getElementById('preview-section');
    if (section) {
        section.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
    }
    if (event && event.target) {
        event.target.classList.add('active');
    }
    renderPreview();
}

// \u83B7\u53D6\u7C7B\u522B\u540D\u79F0
function getCategoryName(category) {
    const names = {
        api: 'API\u914D\u7F6E',
        source: '\u6E90\u914D\u7F6E',
        match: '\u5339\u914D\u914D\u7F6E',
        danmu: '\u5F39\u5E55\u914D\u7F6E',
        cache: '\u7F13\u5B58\u914D\u7F6E',
        system: '\u7CFB\u7EDF\u914D\u7F6E'
    };
    return names[category] || category;
}
`;var upe=`
// \u65E5\u5FD7\u76F8\u5173
function addLog(message, type = 'info') {
    const timestamp = new Date().toLocaleTimeString();
    logs.push({ timestamp, message, type });
    if (logs.length > 100) logs.shift();
    renderLogs();
}

function renderLogs() {
    const container = document.getElementById('log-container');
    container.innerHTML = logs.map(log =>
        \`<div class="log-entry \${log.type}">[\${log.timestamp}] \${log.message}</div>\`
    ).join('');
    container.scrollTop = container.scrollHeight;
}

// \u4ECEAPI\u83B7\u53D6\u771F\u5B9E\u65E5\u5FD7\u6570\u636E
async function fetchRealLogs() {
    try {
        // \u65E5\u5FD7\u67E5\u770B\u4F7F\u7528\u666E\u901Atoken\u8BBF\u95EE\uFF0C\u4E0D\u9700\u8981admin token
        const response = await fetch(buildApiUrl('/api/logs')); // \u4E0D\u4F7F\u7528admin token
        if (!response.ok) {
            throw new Error(\`HTTP error! status: \${response.status}\`);
        }
        const logText = await response.text();
        // \u89E3\u6790\u65E5\u5FD7\u6587\u672C\u4E3A\u6570\u7EC4
        const logLines = logText.split('\\n').filter(line => line.trim() !== '');
        // \u8F6C\u6362\u4E3Alogs\u6570\u7EC4\u683C\u5F0F
        logs = logLines.map(line => {
            // \u89E3\u6790\u65E5\u5FD7\u884C\uFF0C\u63D0\u53D6\u65F6\u95F4\u6233\u3001\u7EA7\u522B\u548C\u6D88\u606F
            const match = line.match(/\\[([^\\]]+)\\] (\\w+): (.*)/);
            if (match) {
                return {
                    timestamp: match[1],
                    type: match[2],
                    message: match[3]
                };
            }
            // \u5982\u679C\u65E0\u6CD5\u89E3\u6790\uFF0C\u8FD4\u56DE\u539F\u59CB\u884C
            return {
                timestamp: new Date().toLocaleTimeString(),
                type: 'info',
                message: line
            };
        });
        renderLogs();
    } catch (error) {
        console.error('Failed to fetch logs:', error);
        addLog(\`\u83B7\u53D6\u65E5\u5FD7\u5931\u8D25: \${error.message}\`, 'error');
    }
}

function refreshLogs() {
    // \u4ECEAPI\u83B7\u53D6\u771F\u5B9E\u65E5\u5FD7\u6570\u636E
    fetchRealLogs();
}

async function clearLogs() {
    // \u68C0\u67E5\u90E8\u7F72\u5E73\u53F0\u914D\u7F6E
    const configCheck = await checkDeployPlatformConfig();
    if (!configCheck.success) {
        customAlert(configCheck.message);
        return;
    }

    customConfirm('\u786E\u5B9A\u8981\u6E05\u7A7A\u6240\u6709\u65E5\u5FD7\u5417?', '\u6E05\u7A7A\u786E\u8BA4').then(async confirmed => {
        if (confirmed) {
            try {
                const response = await fetch(buildApiUrl('/api/logs/clear', true), { // \u4F7F\u7528admin token
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                });
                
                if (!response.ok) {
                    throw new Error(\`HTTP error! status: \${response.status}\`);
                }
                
                const result = await response.json();
                if (result.success) {
                    // \u6E05\u7A7A\u524D\u7AEF\u663E\u793A\u7684\u65E5\u5FD7
                    logs = [];
                    renderLogs();
                    addLog('\u65E5\u5FD7\u5DF2\u6E05\u7A7A', 'warn');
                } else {
                    addLog(\`\u6E05\u7A7A\u65E5\u5FD7\u5931\u8D25: \${result.message}\`, 'error');
                }
            } catch (error) {
                console.error('Failed to clear logs:', error);
                addLog(\`\u6E05\u7A7A\u65E5\u5FD7\u5931\u8D25: \${error.message}\`, 'error');
            }
        }
    });
}

// JSON\u9AD8\u4EAE\u51FD\u6570
function highlightJSON(obj) {
    let json = JSON.stringify(obj, null, 2);
    // \u8F6C\u4E49HTML\u7279\u6B8A\u5B57\u7B26
    json = json.replace(/&/g, '&').replace(/</g, '<').replace(/>/g, '>');
    
    // \u9AD8\u4EAEJSON\u8BED\u6CD5
    return json.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(s*:)?|\b(true|false|null)\b|-?d+(?:.d*)?(?:[eE][+-]?d+)?)/g, function (match) {
        let cls = 'number';
        if (/^"/.test(match)) {
            if (/:$/.test(match)) {
                cls = 'key';
            } else {
                cls = 'string';
            }
        } else if (/true|false/.test(match)) {
            cls = 'boolean';
        } else if (/null/.test(match)) {
            cls = 'null';
        }
        return '<span class="' + cls + '">' + match + '</span>';
    });
}
`;var lpe=`
// API \u914D\u7F6E
const apiConfigs = {
    searchAnime: {
        name: '\u641C\u7D22\u52A8\u6F2B',
        method: 'GET',
        path: '/api/v2/search/anime',
        params: [
            { name: 'keyword', label: '\u5173\u952E\u8BCD \u6216 \u64AD\u653E\u94FE\u63A5URL', type: 'text', required: true, placeholder: '\u793A\u4F8B: \u751F\u4E07\u7269 \u6216 http://v.qq.com/x/cover/rjae621myqca41h/j0032ubhl9s.html' }
        ]
    },
    searchEpisodes: {
        name: '\u641C\u7D22\u5267\u96C6',
        method: 'GET',
        path: '/api/v2/search/episodes',
        params: [
            { name: 'anime', label: '\u52A8\u6F2B\u540D\u79F0', type: 'text', required: true, placeholder: '\u793A\u4F8B: \u751F\u4E07\u7269' },
            { name: 'episode', label: '\u96C6', type: 'text', required: false, placeholder: '\u793A\u4F8B: 1, movie' }
        ]
    },
    matchAnime: {
        name: '\u5339\u914D\u52A8\u6F2B',
        method: 'POST',
        path: '/api/v2/match',
        params: [
            { name: 'fileName', label: '\u6587\u4EF6\u540D', type: 'text', required: true, placeholder: '\u793A\u4F8B: \u751F\u4E07\u7269 S02E08, \u65E0\u5FE7\u6E21.S02E08.2160p.WEB-DL.H265.DDP.5.1, \u7231\u60C5\u516C\u5BD3.ipartment.2009.S02E08.H.265.25fps.mkv, \u4EB2\u7231\u7684X S02E08, \u5B87\u5B99Marry Me? S02E08' }
        ]
    },
    getBangumi: {
        name: '\u83B7\u53D6\u756A\u5267\u8BE6\u60C5',
        method: 'GET',
        path: '/api/v2/bangumi/:animeId',
        params: [
            { name: 'animeId', label: '\u52A8\u6F2BID', type: 'text', required: true, placeholder: '\u793A\u4F8B: 236379' }
        ]
    },
    getComment: {
        name: '\u83B7\u53D6\u5F39\u5E55',
        method: 'GET',
        path: '/api/v2/comment/:commentId',
        params: [
            { name: 'commentId', label: '\u5F39\u5E55ID', type: 'text', required: true, placeholder: '\u793A\u4F8B: 10009' },
            { name: 'format', label: '\u683C\u5F0F', type: 'select', required: false, placeholder: '\u53EF\u9009: json\u6216xml', options: ['json', 'xml'] },
            { name: 'segmentflag', label: '\u5206\u7247\u6807\u5FD7', type: 'select', required: false, placeholder: '\u53EF\u9009: true\u6216false', options: ['true', 'false'] }
        ]
    },
    getSegmentComment: {
        name: '\u83B7\u53D6\u5206\u7247\u5F39\u5E55',
        method: 'POST',
        path: '/api/v2/segmentcomment',
        params: [
            { name: 'format', label: '\u683C\u5F0F', type: 'select', required: false, placeholder: '\u53EF\u9009: json\u6216xml', options: ['json', 'xml'] },
        ],
        hasBody: true,
        bodyType: 'json'
    }
};

// \u521D\u59CB\u5316\u63A5\u53E3\u8C03\u8BD5\u754C\u9762
function initApiTestInterface() {
    // \u4E3AAPI\u9009\u62E9\u4E0B\u62C9\u6846\u6DFB\u52A0\u56DE\u8F66\u4E8B\u4EF6\u76D1\u542C
    const apiSelect = document.getElementById('api-select');
    if (apiSelect) {
        apiSelect.addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                loadApiParams();
            }
        });
    }
}

// \u4E3A\u53C2\u6570\u8F93\u5165\u6846\u6DFB\u52A0\u56DE\u8F66\u4E8B\u4EF6\u76D1\u542C
function attachEnterEventToParams() {
    // \u5EF6\u8FDF\u6267\u884C\uFF0C\u786E\u4FDDDOM\u5143\u7D20\u5DF2\u7ECF\u6E32\u67D3
    setTimeout(() => {
        // \u83B7\u53D6\u6240\u6709\u53C2\u6570\u8F93\u5165\u6846
        const paramInputs = document.querySelectorAll('#params-form input[type="text"], #params-form textarea, #params-form select');
        paramInputs.forEach(input => {
            // \u79FB\u9664\u4E4B\u524D\u7684\u4E8B\u4EF6\u76D1\u542C\u5668\uFF08\u907F\u514D\u91CD\u590D\u7ED1\u5B9A\uFF09
            input.removeEventListener('keypress', handleParamInputEnter);
            // \u6DFB\u52A0\u65B0\u7684\u4E8B\u4EF6\u76D1\u542C\u5668
            input.addEventListener('keypress', handleParamInputEnter);
        });
    }, 100);
}

// \u5904\u7406\u53C2\u6570\u8F93\u5165\u6846\u7684\u56DE\u8F66\u4E8B\u4EF6
function handleParamInputEnter(event) {
    if (event.key === 'Enter') {
        // \u89E6\u53D1\u6D4B\u8BD5API\u6309\u94AE\u7684\u70B9\u51FB\u4E8B\u4EF6
        const testButton = document.querySelector('#api-params .btn-success');
        if (testButton) {
            testButton.click();
        }
    }
}

// \u63A5\u53E3\u8C03\u8BD5\u76F8\u5173
function loadApiParams() {
    const select = document.getElementById('api-select');
    const apiKey = select.value;
    const paramsDiv = document.getElementById('api-params');
    const formDiv = document.getElementById('params-form');

    if (!apiKey) {
        paramsDiv.style.display = 'none';
        return;
    }

    const config = apiConfigs[apiKey];
    paramsDiv.style.display = 'block';

    let html = '';

    // \u6DFB\u52A0\u67E5\u8BE2\u53C2\u6570\u90E8\u5206
    if (config.params && config.params.length > 0) {
        html += '<div class="params-section">';
        html += '<h4>\u67E5\u8BE2\u53C2\u6570</h4>';
        html += config.params.map(param => {
            if (param.type === 'select') {
                // \u4E3Aselect\u7C7B\u578B\u53C2\u6570\u6DFB\u52A0\u9ED8\u8BA4\u9009\u9879
                let optionsHtml = '<option value="">-- \u8BF7\u9009\u62E9 --</option>';
                if (param.options) {
                    optionsHtml += param.options.map(opt => \`<option value="\${opt}">\${opt}</option>\`).join('');
                }
                return \`
                    <div class="form-group">
                        <label>\${param.label}\${param.required ? ' *' : ''}</label>
                        <select id="param-\${param.name}">
                            \${optionsHtml}
                        </select>
                        \${param.placeholder ? \`<div class="form-help">\${param.placeholder}</div>\` : ''}
                    </div>
                \`; 
            }
            // \u4F7F\u7528placeholder\u5C5E\u6027\u663E\u793A\u793A\u4F8B\u53C2\u6570
            const placeholder = param.placeholder ? param.placeholder : "\u8BF7\u8F93\u5165" + param.label;
            return \`
                <div class="form-group">
                    <label>\${param.label}\${param.required ? ' *' : ''}</label>
                    <input type="\${param.type}" id="param-\${param.name}" placeholder="\${placeholder}" \${param.required ? 'required' : ''}>
                </div>
            \`; 
        }).join('');
        html += '</div>';
    }

    // \u6DFB\u52A0\u8BF7\u6C42\u4F53\u90E8\u5206\uFF08\u5982\u679C\u63A5\u53E3\u6709\u8BF7\u6C42\u4F53\uFF09
    if (config.hasBody) {
        html += '<div class="body-section">';
        html += '<h4>\u8BF7\u6C42\u4F53</h4>';
        html += \`<div class="form-group">
            <label>\u8BF7\u6C42\u4F53\u5185\u5BB9 * (JSON\u683C\u5F0F)</label>
            <textarea id="body-content" rows="6" placeholder='\u8F93\u5165JSON\u683C\u5F0F\u7684\u8BF7\u6C42\u4F53\uFF0C\u4F8B\u5982\uFF1A{"type": "qq","segment_start":0,"segment_end":30000,"url":"https://dm.video.qq.com/barrage/segment/j0032ubhl9s/t/v1/0/30000"}'></textarea>
            <div class="form-help">\u8F93\u5165JSON\u683C\u5F0F\u7684\u8BF7\u6C42\u4F53\u5185\u5BB9</div>
        </div>\`;
        html += '</div>';
    }

    if (!html) {
        html = '<p class="text-gray">\u6B64\u63A5\u53E3\u65E0\u9700\u53C2\u6570</p>';
    }

    formDiv.innerHTML = html;
    
    // \u4E3A\u53C2\u6570\u8F93\u5165\u6846\u6DFB\u52A0\u56DE\u8F66\u4E8B\u4EF6\u76D1\u542C
    attachEnterEventToParams();
}

function testApi() {
    const select = document.getElementById('api-select');
    const apiKey = select.value;
    const sendButton = document.querySelector('#api-params .btn-success'); // \u83B7\u53D6\u53D1\u9001\u8BF7\u6C42\u6309\u94AE

    if (!apiKey) {
        addLog('\u8BF7\u5148\u9009\u62E9\u63A5\u53E3', 'error');
        return;
    }

    // \u8BBE\u7F6E\u6309\u94AE\u4E3A\u52A0\u8F7D\u72B6\u6001
    const originalText = sendButton.innerHTML;
    sendButton.innerHTML = '<span class="loading-spinner-small"></span>';
    sendButton.disabled = true;

    const config = apiConfigs[apiKey];
    const params = {};

    // \u83B7\u53D6\u67E5\u8BE2\u53C2\u6570
    if (config.params) {
        config.params.forEach(param => {
            const value = document.getElementById(\`param-\${param.name}\`).value;
            if (value) params[param.name] = value;
        });
    }

    addLog(\`\u8C03\u7528\u63A5\u53E3: \${config.name} (\${config.method} \${config.path})\`, 'info');
    addLog(\`\u8BF7\u6C42\u53C2\u6570: \${JSON.stringify(params)}\`, 'info');

    // \u6784\u5EFA\u8BF7\u6C42URL
    let url = config.path;
    
    // \u68C0\u67E5\u662F\u5426\u4E3A\u8DEF\u5F84\u53C2\u6570\u63A5\u53E3
    const isPathParameterApi = config.path.includes(':');
    
    if (isPathParameterApi) {
        // \u5904\u7406\u8DEF\u5F84\u53C2\u6570\u63A5\u53E3 (/api/v2/comment \u548C /api/v2/bangumi)
        // \u5148\u5206\u79BB\u8DEF\u5F84\u53C2\u6570\u548C\u67E5\u8BE2\u53C2\u6570
        const pathParams = {};
        const queryParams = {};
        
        // \u5206\u7C7B\u53C2\u6570
        for (const [key, value] of Object.entries(params)) {
            // \u68C0\u67E5\u53C2\u6570\u662F\u5426\u4E3A\u8DEF\u5F84\u53C2\u6570
            if (config.path.includes(':' + key)) {
                pathParams[key] = value;
            } else {
                // \u5176\u4ED6\u53C2\u6570\u4F5C\u4E3A\u67E5\u8BE2\u53C2\u6570
                queryParams[key] = value;
            }
        }
        
        // \u66FF\u6362\u8DEF\u5F84\u53C2\u6570
        for (const [key, value] of Object.entries(pathParams)) {
            url = url.replace(':' + key, encodeURIComponent(value));
        }
        
        // \u6DFB\u52A0\u67E5\u8BE2\u53C2\u6570
        if (config.method === 'GET' && Object.keys(queryParams).length > 0) {
            const queryString = new URLSearchParams(queryParams).toString();
            url = url + '?' + queryString;
        }
    } else {
        // \u4FDD\u6301\u539F\u6765\u7684\u903B\u8F91\uFF0C\u7528\u4E8E search/anime \u7B49\u63A5\u53E3
        if (config.method === 'GET') {
            const queryString = new URLSearchParams(params).toString();
            url = url + '?' + queryString;
        } else if (config.method === 'POST' && apiKey === 'getSegmentComment') {
            // \u5BF9\u4E8E getSegmentComment \u63A5\u53E3\uFF0C\u9700\u8981\u5C06 format \u53C2\u6570\u6DFB\u52A0\u5230 URL \u67E5\u8BE2\u53C2\u6570\u4E2D
            const queryParams = {};
            if (params.format) {
                queryParams.format = params.format;
            }
            if (Object.keys(queryParams).length > 0) {
                const queryString = new URLSearchParams(queryParams).toString();
                url = url + '?' + queryString;
            }
        }
    }

    // \u914D\u7F6E\u8BF7\u6C42\u9009\u9879
    const requestOptions = {
        method: config.method,
        headers: {
            'Content-Type': 'application/json'
        }
    };

    // \u5904\u7406\u8BF7\u6C42\u4F53
    if (config.hasBody) {
        // \u4ECE\u8BF7\u6C42\u4F53\u8F93\u5165\u6846\u83B7\u53D6\u5185\u5BB9
        const bodyContent = document.getElementById('body-content').value;
        if (bodyContent) {
            try {
                // \u5C1D\u8BD5\u89E3\u6790\u7528\u6237\u8F93\u5165\u7684JSON
                const bodyData = JSON.parse(bodyContent);
                requestOptions.body = JSON.stringify(bodyData);
            } catch (e) {
                addLog('\u8BF7\u6C42\u4F53JSON\u683C\u5F0F\u9519\u8BEF: ' + e.message, 'error');
                sendButton.innerHTML = originalText;
                sendButton.disabled = false;
                return;
            }
        } else {
            // \u5982\u679C\u6CA1\u6709\u5728\u8BF7\u6C42\u4F53\u8F93\u5165\u6846\u4E2D\u8F93\u5165\u5185\u5BB9\uFF0C\u5219\u4F7F\u7528\u53C2\u6570\u6784\u5EFA\u8BF7\u6C42\u4F53\uFF08\u5411\u540E\u517C\u5BB9\uFF09
            if (apiKey === 'getSegmentComment') {
                // \u5BF9\u4E8E getSegmentComment \u63A5\u53E3\uFF0C\u521B\u5EFA segment \u5BF9\u8C61
                const segmentData = { url: params.url };
                if (params.format) {
                    segmentData.format = params.format;
                }
                requestOptions.body = JSON.stringify(segmentData);
            } else {
                requestOptions.body = JSON.stringify(params);
            }
        }
    } else if (config.method === 'POST') {
        // \u5BF9\u4E8E\u6CA1\u6709\u7279\u6B8A\u8BF7\u6C42\u4F53\u914D\u7F6E\u7684POST\u63A5\u53E3\uFF0C\u4F7F\u7528\u53C2\u6570\u6784\u5EFA\u8BF7\u6C42\u4F53
        requestOptions.body = JSON.stringify(params);
    }

    // \u53D1\u9001\u771F\u5B9EAPI\u8BF7\u6C42
    fetch(buildApiUrl(url), requestOptions)
        .then(response => {
            if (!response.ok) {
                throw new Error(\`HTTP error! status: \${response.status}\`);
            }
            
            // \u68C0\u67E5format\u53C2\u6570\u4EE5\u786E\u5B9A\u5982\u4F55\u5904\u7406\u54CD\u5E94
            const formatParam = params.format || 'json';
            
            if (formatParam.toLowerCase() === 'xml') {
                // \u5BF9\u4E8EXML\u683C\u5F0F\uFF0C\u8FD4\u56DE\u6587\u672C\u5185\u5BB9
                return response.text().then(text => ({
                    data: text,
                    format: 'xml'
                }));
            } else {
                // \u5BF9\u4E8EJSON\u683C\u5F0F\u6216\u5176\u4ED6\u60C5\u51B5\uFF0C\u8FD4\u56DEJSON\u5BF9\u8C61
                return response.json().then(json => ({
                    data: json,
                    format: 'json'
                }));
            }
        })
        .then(result => {
            // \u663E\u793A\u54CD\u5E94\u7ED3\u679C
            document.getElementById('api-response-container').style.display = 'block';
            
            if (result.format === 'xml') {
                // \u663E\u793AXML\u54CD\u5E94
                document.getElementById('api-response').textContent = result.data;
                document.getElementById('api-response').className = 'api-response xml'; // \u4F7F\u7528XML\u4E13\u7528\u6837\u5F0F\u7C7B
            } else {
                // \u663E\u793AJSON\u54CD\u5E94
                document.getElementById('api-response').className = 'json-response';
                document.getElementById('api-response').innerHTML = highlightJSON(result.data);
            }
            
            addLog('\u63A5\u53E3\u8C03\u7528\u6210\u529F', 'success');
        })
        .catch(error => {
            // \u5904\u7406\u9519\u8BEF
            const errorMessage = \`API\u8BF7\u6C42\u5931\u8D25: \${error.message}\`;
            document.getElementById('api-response-container').style.display = 'block';
            document.getElementById('api-response').textContent = errorMessage;
            // \u6DFB\u52A0\u9519\u8BEF\u4FE1\u606F\u7684CSS\u7C7B
            document.getElementById('api-response').className = 'error-response';
            addLog(errorMessage, 'error');
        })
        .finally(() => {
            // \u6062\u590D\u6309\u94AE\u72B6\u6001
            sendButton.innerHTML = originalText;
            sendButton.disabled = false;
        });
}
`;var dpe=`
// \u63A8\u9001\u5F39\u5E55\u529F\u80FD\u76F8\u5173

// \u4ECE\u73AF\u5883\u53D8\u91CF\u83B7\u53D6\u9ED8\u8BA4\u63A8\u9001\u5730\u5740
function getDefaultPushUrl(config) {
    const pushUrl = config.originalEnvVars?.DANMU_PUSH_URL || '';
    return pushUrl.trim();
}

// \u8BBE\u7F6E\u9ED8\u8BA4\u63A8\u9001\u5730\u5740
function setDefaultPushUrl(config) {
    const defaultPushUrl = getDefaultPushUrl(config);
    if (defaultPushUrl) {
        const pushUrlInput = document.getElementById('push-url');
        if (pushUrlInput && !pushUrlInput.value) {
            pushUrlInput.value = defaultPushUrl;
        }
    }
}

// \u521D\u59CB\u5316\u63A8\u9001\u5F39\u5E55\u754C\u9762
function initPushDanmuInterface() {
    const searchKeywordInput = document.getElementById('push-search-keyword');
    if (searchKeywordInput) {
        // \u6DFB\u52A0\u56DE\u8F66\u952E\u641C\u7D22\u4E8B\u4EF6\u76D1\u542C
        searchKeywordInput.addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                searchAnimeForPush();
            }
        });
    }
}

// \u641C\u7D22\u52A8\u6F2B\u7528\u4E8E\u63A8\u9001
function searchAnimeForPush() {
    const keyword = document.getElementById('push-search-keyword').value.trim();
    const pushUrl = document.getElementById('push-url').value.trim();
    const searchBtn = document.querySelector('#push-section .btn-primary');
    
    if (!keyword) {
        customAlert('\u8BF7\u8F93\u5165\u641C\u7D22\u5173\u952E\u5B57');
        return;
    }
    
    // \u641C\u7D22\u65F6\u4E0D\u518D\u6821\u9A8CpushUrl\u662F\u5426\u4E3A\u7A7A\uFF0C\u53EA\u5728\u63A8\u9001\u65F6\u6821\u9A8C
    
    // \u6DFB\u52A0\u52A0\u8F7D\u72B6\u6001
    const originalText = searchBtn.textContent;
    searchBtn.innerHTML = '<span class="loading-spinner-small"></span>';
    searchBtn.disabled = true;
    
    // \u6784\u5EFA\u641C\u7D22API\u8BF7\u6C42URL
    const searchUrl = buildApiUrl('/api/v2/search/anime?keyword=' + encodeURIComponent(keyword));
    
    addLog(\`\u5F00\u59CB\u641C\u7D22\u52A8\u6F2B: \${keyword}\`, 'info');
    
    // \u53D1\u9001\u641C\u7D22\u8BF7\u6C42
    fetch(searchUrl)
        .then(response => {
            if (!response.ok) {
                throw new Error(\`HTTP error! status: \${response.status}\`);
            }
            return response.json();
        })
        .then(data => {
            if (data.success && data.animes.length > 0) {
                displayAnimeListForPush(data.animes, pushUrl);
            } else {
                document.getElementById('push-anime-list').style.display = 'none';
                document.getElementById('push-episode-list').style.display = 'none';
                customAlert('\u672A\u627E\u5230\u76F8\u5173\u52A8\u6F2B');
                addLog('\u672A\u627E\u5230\u76F8\u5173\u52A8\u6F2B', 'warn');
            }
        })
        .catch(error => {
            console.error('\u641C\u7D22\u52A8\u6F2B\u5931\u8D25:', error);
            customAlert('\u641C\u7D22\u52A8\u6F2B\u5931\u8D25: ' + error.message);
            addLog('\u641C\u7D22\u52A8\u6F2B\u5931\u8D25: ' + error.message, 'error');
        })
        .finally(() => {
            // \u6062\u590D\u6309\u94AE\u72B6\u6001
            searchBtn.innerHTML = originalText;
            searchBtn.disabled = false;
        });
}

// \u5C55\u793A\u52A8\u6F2B\u5217\u8868\u7528\u4E8E\u63A8\u9001
function displayAnimeListForPush(animes, pushUrl) {
    const container = document.getElementById('push-anime-list');
    let html = '<h3>\u641C\u7D22\u7ED3\u679C</h3><div class="anime-grid">';

    animes.forEach(anime => {
        const imageUrl = anime.imageUrl || 'https://placehold.co/150x200?text=No+Image';
        html += \`
            <div class="anime-item" onclick="getBangumiForPush(\${anime.animeId}, '\${pushUrl}')">
                <img src="\${imageUrl}" alt="\${anime.animeTitle}" referrerpolicy="no-referrer" class="anime-item-img">
                <h4 class="anime-title">\${anime.animeTitle} - \u5171\${anime.episodeCount}\u96C6</h4>
            </div>
        \`; 
    });
    
    html += '</div>';
    container.innerHTML = html;
    container.style.display = 'block';
    
    addLog(\`\u663E\u793A \${animes.length} \u4E2A\u52A8\u6F2B\u7ED3\u679C\`, 'info');
}

// \u83B7\u53D6\u756A\u5267\u8BE6\u60C5\u7528\u4E8E\u63A8\u9001
function getBangumiForPush(animeId, pushUrl) {
    const bangumiUrl = buildApiUrl('/api/v2/bangumi/' + animeId);
    
    addLog(\`\u83B7\u53D6\u756A\u5267\u8BE6\u60C5: \${animeId}\`, 'info');
    
    fetch(bangumiUrl)
        .then(response => {
            if (!response.ok) {
                throw new Error(\`HTTP error! status: \${response.status}\`);
            }
            return response.json();
        })
        .then(data => {
            if (data.success && data.bangumi && data.bangumi.episodes) {
                displayEpisodeListForPush(data.bangumi.animeTitle, data.bangumi.episodes, pushUrl);
            } else {
                customAlert('\u8BE5\u52A8\u6F2B\u6682\u65E0\u5267\u96C6\u4FE1\u606F');
                addLog('\u8BE5\u52A8\u6F2B\u6682\u65E0\u5267\u96C6\u4FE1\u606F', 'warn');
            }
        })
        .catch(error => {
            console.error('\u83B7\u53D6\u756A\u5267\u8BE6\u60C5\u5931\u8D25:', error);
            customAlert('\u83B7\u53D6\u756A\u5267\u8BE6\u60C5\u5931\u8D25: ' + error.message);
            addLog('\u83B7\u53D6\u756A\u5267\u8BE6\u60C5\u5931\u8D25: ' + error.message, 'error');
        });
}

// \u5C55\u793A\u5267\u96C6\u5217\u8868\u7528\u4E8E\u63A8\u9001
function displayEpisodeListForPush(animeTitle, episodes, pushUrl) {
    const container = document.getElementById('push-episode-list');
    let html = \`<h3>\u5267\u96C6\u5217\u8868</h3><h4 class="text-yellow-gold">\${animeTitle}</h4><div class="episode-list-container">\`;

    episodes.forEach(episode => {
        // \u751F\u6210\u5F39\u5E55URL
        const commentUrl = window.location.origin + buildApiUrl('/api/v2/comment/' + episode.episodeId + '?format=xml');
        html += \`
            <div class="episode-item">
                <div class="episode-item-content">
                    <strong>\u7B2C\${episode.episodeNumber}\u96C6</strong> - \${episode.episodeTitle || '\u65E0\u6807\u9898'}
                </div>
                <button class="btn btn-success btn-sm episode-push-btn" onclick="pushDanmu('\${pushUrl}', '\${commentUrl}', '\${episode.episodeTitle || '\u7B2C' + episode.episodeNumber + '\u96C6'}')">\u63A8\u9001</button>
            </div>
        \`; 
    });
    
    html += '</div>';
    container.innerHTML = html;
    container.style.display = 'block';
    
    addLog(\`\u663E\u793A \${episodes.length} \u4E2A\u5267\u96C6\`, 'info');
    
    // \u81EA\u52A8\u6EDA\u52A8\u5230\u5267\u96C6\u5217\u8868\u5904
    setTimeout(() => {
        container.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }, 10);
}

// \u63A8\u9001\u5F39\u5E55
async function pushDanmu(pushUrl, commentUrl, episodeTitle) {
    // \u83B7\u53D6\u63A8\u9001\u6309\u94AE\u5143\u7D20
    const pushButton = event.target; // \u901A\u8FC7\u4E8B\u4EF6\u5BF9\u8C61\u83B7\u53D6\u5F53\u524D\u70B9\u51FB\u7684\u6309\u94AE

    // \u6821\u9A8C\u63A8\u9001\u5730\u5740\u662F\u5426\u4E3A\u7A7A
    if (!pushUrl || pushUrl.trim() === '') {
        customAlert('\u8BF7\u8F93\u5165\u63A8\u9001\u5730\u5740');
        if (pushButton) {
            pushButton.innerHTML = '\u63A8\u9001';
            pushButton.disabled = false;
        }
        return;
    }

    if (pushButton) {
        const originalText = pushButton.innerHTML;
        pushButton.innerHTML = '<span class="loading-spinner-small"></span>';
        pushButton.disabled = true;
    }

    try {       
        // \u5411\u63A8\u9001\u5730\u5740\u53D1\u9001\u5F39\u5E55\u6570\u636E
        const pushResponse = await fetch(pushUrl + encodeURIComponent(commentUrl), {
            method: 'GET',
            mode: 'no-cors', // \u7531\u4E8E\u8DE8\u57DF\u9650\u5236\uFF0C\u4F7F\u7528no-cors\u6A21\u5F0F
        });

        customAlert('\u5F39\u5E55\u63A8\u9001\u6210\u529F\uFF01' + episodeTitle);
        addLog('\u5F39\u5E55\u63A8\u9001\u6210\u529F - ' + episodeTitle, 'success');
    } catch (error) {
        console.error('\u63A8\u9001\u5F39\u5E55\u5931\u8D25:', error);
        customAlert('\u63A8\u9001\u5F39\u5E55\u5931\u8D25: ' + error.message);
        addLog('\u63A8\u9001\u5F39\u5E55\u5931\u8D25: ' + error.message, 'error');
    } finally {
        // \u6062\u590D\u6309\u94AE\u72B6\u6001
        if (pushButton) {
            pushButton.innerHTML = '\u63A8\u9001';
            pushButton.disabled = false;
        }
    }
}
`;var fpe=`
// \u8BF7\u6C42\u8BB0\u5F55\u76F8\u5173\u529F\u80FD
async function renderRequestRecords() {
    const recordsContainer = document.getElementById('request-records-list');
    if (!recordsContainer) {
        console.error('\u672A\u627E\u5230\u8BF7\u6C42\u8BB0\u5F55\u5BB9\u5668');
        return;
    }

    try {
        // \u4ECEAPI\u83B7\u53D6\u8BF7\u6C42\u8BB0\u5F55
        const response = await fetch(buildApiUrl('/api/reqrecords'));
        if (!response.ok) {
            throw new Error('\u83B7\u53D6\u8BF7\u6C42\u8BB0\u5F55\u5931\u8D25');
        }
        
        const data = await response.json();
        const records = data.records;
        const todayReqNum = data.todayReqNum;

        // \u663E\u793A\u4ECA\u65E5\u8BF7\u6C42\u603B\u6570
        const totalRequestsElement = document.getElementById('total-requests-today');
        if (totalRequestsElement) {
            totalRequestsElement.textContent = \`\u4ECA\u65E5\u8BF7\u6C42\u603B\u6570: \${todayReqNum}\`;
        }

        if (records.length === 0) {
            recordsContainer.innerHTML = '<div class="no-records">\u6682\u65E0\u8BF7\u6C42\u8BB0\u5F55</div>';
            return;
        }

        // \u751F\u6210\u8BB0\u5F55HTML
        const recordsHtml = records.map(record => {
            const interfaceName = decodeURIComponent(record.interface) || '\u672A\u77E5\u63A5\u53E3';
            const params = record.params || {};
            const timestamp = record.timestamp ? new Date(record.timestamp).toLocaleString('zh-CN') : '\u672A\u77E5\u65F6\u95F4';
            const method = record.method || 'GET';
            const clientIp = record.clientIp || '\u672A\u77E5IP';

            // \u683C\u5F0F\u5316\u53C2\u6570\u663E\u793A
            const hasParams = Object.keys(params).length > 0;
            const paramsHtml = hasParams 
                ? \`<div class="record-params">
                    <div class="record-params-title">\u8BF7\u6C42\u53C2\u6570</div>
                    <pre>\${JSON.stringify(params, null, 2)}</pre>
                   </div>\` 
                : '';

            // \u5982\u679C\u6CA1\u6709\u53C2\u6570\uFF0C\u7ED9\u65F6\u95F4\u6233\u6DFB\u52A0 no-params \u7C7B\u4EE5\u9690\u85CF\u865A\u7EBF
            const timestampClass = hasParams ? 'record-timestamp' : 'record-timestamp no-params';

            return \`
            <div class="record-item">
                <div class="record-header">
                    <div class="record-method">\${method}</div>
                    <div class="record-interface">\${interfaceName}</div>
                    <div class="record-ip">\${clientIp}</div>
                </div>
                <div class="\${timestampClass}">\${timestamp}</div>
                \${paramsHtml}
            </div>\`;
        }).join('');

        recordsContainer.innerHTML = recordsHtml;
    } catch (error) {
        console.error('\u83B7\u53D6\u8BF7\u6C42\u8BB0\u5F55\u65F6\u51FA\u9519:', error);
        recordsContainer.innerHTML = '<div class="no-records">\u83B7\u53D6\u8BF7\u6C42\u8BB0\u5F55\u5931\u8D25: ' + error.message + '</div>';
    }
}

// \u521D\u59CB\u5316\u8BF7\u6C42\u8BB0\u5F55\u754C\u9762
function initRequestRecordsInterface() {
    // \u786E\u4FDD\u5728\u5207\u6362\u5230\u8BF7\u6C42\u8BB0\u5F55\u6807\u7B7E\u9875\u65F6\u4E5F\u66F4\u65B0\u8BB0\u5F55
    const originalSwitchSection = window.switchSection;
    if (originalSwitchSection && typeof originalSwitchSection === 'function') {
        window.switchSection = function(section, event = null) {
            // \u8C03\u7528\u539F\u51FD\u6570
            originalSwitchSection(section, event);
            
            // \u5982\u679C\u5207\u6362\u5230\u8BF7\u6C42\u8BB0\u5F55\u9875\u9762\uFF0C\u5219\u5237\u65B0\u8BB0\u5F55
            if (section === 'request-records') {
                setTimeout(renderRequestRecords, 100);
            }
        };
    }

    // \u9996\u6B21\u521D\u59CB\u5316
    if (document.getElementById('request-records-section') && 
        document.querySelector('.nav-btn[data-section="request-records"]') &&
        document.querySelector('.nav-btn[data-section="request-records"]').classList.contains('active')) {
        renderRequestRecords();
    }
}

// \u9875\u9762\u52A0\u8F7D\u5B8C\u6210\u540E\u521D\u59CB\u5316
document.addEventListener('DOMContentLoaded', function() {
    if (typeof initRequestRecordsInterface === 'function') {
        initRequestRecordsInterface();
    }
    
    // \u6DFB\u52A0\u5237\u65B0\u6309\u94AE\u529F\u80FD
    const refreshBtn = document.getElementById('refresh-request-records');
    if (refreshBtn) {
        refreshBtn.onclick = function() {
            renderRequestRecords();
        };
    }

});
`;var ppe=`
// \u5168\u5C40\u53D8\u91CF\u5B9A\u4E49
let isMergeMode = false;
let stagingTags = [];

// \u663E\u793A\u6E05\u7406\u7F13\u5B58\u786E\u8BA4\u6A21\u6001\u6846
function showClearCacheModal() {
    document.getElementById('clear-cache-modal').classList.add('active');
}

// \u9690\u85CF\u6E05\u7406\u7F13\u5B58\u786E\u8BA4\u6A21\u6001\u6846
function hideClearCacheModal() {
    document.getElementById('clear-cache-modal').classList.remove('active');
}

// \u786E\u8BA4\u6E05\u7406\u7F13\u5B58
async function confirmClearCache() {
    // \u68C0\u67E5\u90E8\u7F72\u5E73\u53F0\u914D\u7F6E
    const configCheck = await checkDeployPlatformConfig();
    if (!configCheck.success) {
        hideClearCacheModal();
        customAlert(configCheck.message);
        return;
    }

    hideClearCacheModal();
    showLoading('\u6B63\u5728\u6E05\u7406\u7F13\u5B58...', '\u6E05\u9664\u4E2D\uFF0C\u8BF7\u7A0D\u5019');
    addLog('\u5F00\u59CB\u6E05\u7406\u7F13\u5B58', 'info');

    try {
        // \u8C03\u7528\u771F\u5B9E\u7684\u6E05\u7406\u7F13\u5B58API
        const response = await fetch(buildApiUrl('/api/cache/clear', true), { // \u4F7F\u7528admin token
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            }
        });

        const result = await response.json();

        if (result.success) {
            updateLoadingText('\u6E05\u7406\u5B8C\u6210', '\u7F13\u5B58\u5DF2\u6210\u529F\u6E05\u9664');
            addLog('\u7F13\u5B58\u6E05\u7406\u5B8C\u6210', 'success');
            addLog('\u7F13\u5B58\u6E05\u7406\u6210\u529F\uFF01\u5DF2\u6E05\u7406: ' + JSON.stringify(result.clearedItems), 'success');
        } else {
            updateLoadingText('\u6E05\u7406\u5931\u8D25', '\u8BF7\u67E5\u770B\u65E5\u5FD7\u4E86\u89E3\u8BE6\u60C5');
            addLog('\u7F13\u5B58\u6E05\u7406\u5931\u8D25: ' + result.message, 'error');
        }
    } catch (error) {
        updateLoadingText('\u6E05\u7406\u5931\u8D25', '\u7F51\u7EDC\u9519\u8BEF\u6216\u670D\u52A1\u4E0D\u53EF\u7528');
        addLog('\u7F13\u5B58\u6E05\u7406\u8BF7\u6C42\u5931\u8D25: ' + error.message, 'error');
    } finally {
        setTimeout(() => {
            hideLoading();
        }, 10);
    }
}

// \u663E\u793A\u91CD\u65B0\u90E8\u7F72\u786E\u8BA4\u6A21\u6001\u6846
function showDeploySystemModal() {
    document.getElementById('deploy-system-modal').classList.add('active');
}

// \u9690\u85CF\u91CD\u65B0\u90E8\u7F72\u786E\u8BA4\u6A21\u6001\u6846
function hideDeploySystemModal() {
    document.getElementById('deploy-system-modal').classList.remove('active');
}

// \u786E\u8BA4\u91CD\u65B0\u90E8\u7F72\u7CFB\u7EDF
function confirmDeploySystem() {
    // \u68C0\u67E5\u90E8\u7F72\u5E73\u53F0\u914D\u7F6E
    checkDeployPlatformConfig().then(configCheck => {
        if (!configCheck.success) {
            hideDeploySystemModal();
            customAlert(configCheck.message);
            return;
        }

        hideDeploySystemModal();
        showLoading('\u51C6\u5907\u90E8\u7F72...', '\u6B63\u5728\u68C0\u67E5\u7CFB\u7EDF\u72B6\u6001');
        addLog('===== \u5F00\u59CB\u7CFB\u7EDF\u90E8\u7F72 =====', 'info');

        // \u83B7\u53D6\u5F53\u524D\u90E8\u7F72\u5E73\u53F0
        fetch(buildApiUrl('/api/config', true))
            .then(response => response.json())
            .then(config => {
                const deployPlatform = config.envs.deployPlatform || 'node';
                addLog(\`\u68C0\u6D4B\u5230\u90E8\u7F72\u5E73\u53F0: \${deployPlatform}\`, 'info');

                if (deployPlatform.toLowerCase() === 'node') {
                    // Node\u90E8\u7F72\u4E0D\u9700\u8981\u91CD\u65B0\u90E8\u7F72
                    setTimeout(() => {
                        hideLoading();
                        addLog('===== \u90E8\u7F72\u5B8C\u6210 =====', 'success');
                        addLog('Node\u90E8\u7F72\u6A21\u5F0F\uFF0C\u73AF\u5883\u53D8\u91CF\u5DF2\u751F\u6548', 'info');
                        addLog('Node\u90E8\u7F72\u6A21\u5F0F - \u5728Node\u90E8\u7F72\u6A21\u5F0F\u4E0B\uFF0C\u73AF\u5883\u53D8\u91CF\u4FEE\u6539\u540E\u4F1A\u81EA\u52A8\u751F\u6548\uFF0C\u65E0\u9700\u91CD\u65B0\u90E8\u7F72\u3002\u7CFB\u7EDF\u5DF2\u66F4\u65B0\u914D\u7F6E', 'success');
                    }, 150);
                } else {  
                    // \u8C03\u7528\u771F\u5B9E\u7684\u90E8\u7F72API
                    fetch(buildApiUrl('/api/deploy', true), { // \u4F7F\u7528admin token
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        }
                    })
                    .then(response => response.json())
                    .then(result => {
                        if (result.success) {
                            addLog('\u4E91\u7AEF\u90E8\u7F72\u89E6\u53D1\u6210\u529F', 'success');
                            // \u6A21\u62DF\u4E91\u7AEF\u90E8\u7F72\u8FC7\u7A0B
                            simulateDeployProcess();
                        } else {
                            hideLoading();
                            addLog(\`\u4E91\u7AEF\u90E8\u7F72\u5931\u8D25: \${result.message}\`, 'error');
                            addLog(\`\u4E91\u7AEF\u90E8\u7F72\u5931\u8D25: \${result.message}\`, 'error');
                        }
                    })
                    .catch(error => {
                        hideLoading();
                        addLog(\`\u4E91\u7AEF\u90E8\u7F72\u8BF7\u6C42\u5931\u8D25: \${error.message}\`, 'error');
                        addLog(\`\u4E91\u7AEF\u90E8\u7F72\u8BF7\u6C42\u5931\u8D25: \${error.message}\`, 'error');
                    });
                }
            })
            .catch(error => {
                hideLoading();
                addLog(\`\u83B7\u53D6\u90E8\u7F72\u5E73\u53F0\u4FE1\u606F\u5931\u8D25: \${error.message}\`, 'error');
                console.error('\u83B7\u53D6\u90E8\u7F72\u5E73\u53F0\u4FE1\u606F\u5931\u8D25:', error);
            });
    });
}

// \u6A21\u62DF\u4E91\u7AEF\u90E8\u7F72\u8FC7\u7A0B
function simulateDeployProcess() {
    let progress = 0;
    const progressInterval = setInterval(() => {
        progress += Math.random() * 8;
        if (progress >= 100) {
            progress = 10;
            clearInterval(progressInterval);
        }
        updateProgress(progress);
    }, 300);

    // \u6A21\u62DF\u90E8\u7F72\u6B65\u9AA4
    const steps = [
        { delay: 100, text: '\u68C0\u67E5\u73AF\u5883\u53D8\u91CF...', detail: '\u9A8C\u8BC1\u914D\u7F6E\u6587\u4EF6', log: '\u914D\u7F6E\u6587\u4EF6\u9A8C\u8BC1\u901A\u8FC7' },
        { delay: 5000, text: '\u89E6\u53D1\u4E91\u7AEF\u90E8\u7F72...', detail: '\u90E8\u7F72\u5230\u5F53\u524D\u5E73\u53F0', log: '\u4E91\u7AEF\u90E8\u7F72\u5DF2\u89E6\u53D1' },
        { delay: 9500, text: '\u6784\u5EFA\u9879\u76EE...', detail: '\u4E91\u7AEF\u6784\u5EFA\u4E2D', log: '\u4E91\u7AEF\u6784\u5EFA\u5B8C\u6210' },
        { delay: 5000, text: '\u90E8\u7F72\u66F4\u65B0...', detail: '\u53D1\u5E03\u5230\u751F\u4EA7\u73AF\u5883', log: '\u66F4\u65B0\u5DF2\u90E8\u7F72' },
        { delay: 5500, text: '\u670D\u52A1\u91CD\u542F...', detail: '\u5E94\u7528\u65B0\u914D\u7F6E', log: '\u670D\u52A1\u5DF2\u91CD\u542F' },
        { delay: 5000, text: '\u5065\u5EB7\u68C0\u67E5...', detail: '\u9A8C\u8BC1\u670D\u52A1\u72B6\u6001', log: '\u6240\u6709\u670D\u52A1\u8FD0\u884C\u6B63\u5E38' },
    ];

    steps.forEach(step => {
        setTimeout(() => {
            updateLoadingText(step.text, step.detail);
            addLog(step.log, 'success');
        }, step.delay);
    });

    // \u90E8\u7F72\u540E\u68C0\u67E5\u670D\u52A1\u662F\u5426\u53EF\u7528
    setTimeout(() => {
        checkDeploymentStatus();
    }, 900); // \u5EF6\u957F\u5EF6\u8FDF\u4EE5\u786E\u4FDD\u6A21\u62DF\u90E8\u7F72\u8FC7\u7A0B\u5B8C\u6210
}

// \u68C0\u67E5\u90E8\u7F72\u72B6\u6001\uFF0C\u6BCF\u96945\u79D2\u8BF7\u6C42/api/logs\u63A5\u53E3\u76F4\u5230\u8BF7\u6C42\u6210\u529F
function checkDeploymentStatus() {
    const checkInterval = setInterval(() => {
        updateLoadingText('\u90E8\u7F72\u5B8C\u6210\uFF0C\u68C0\u67E5\u670D\u52A1\u72B6\u6001...', '\u6B63\u5728\u8BF7\u6C42 /api/logs \u63A5\u53E3');
        addLog('\u6B63\u5728\u68C0\u67E5\u670D\u52A1\u72B6\u6001...', 'info');

        fetch(buildApiUrl('/api/logs'))
            .then(response => {
                if (response.ok) {
                    // \u8BF7\u6C42\u6210\u529F\uFF0C\u505C\u6B62\u68C0\u67E5
                    clearInterval(checkInterval);
                    // \u66F4\u65B0\u52A0\u8F7D\u72B6\u6001\u800C\u4E0D\u662F\u7ACB\u5373\u9690\u85CF
                    updateLoadingText('\u90E8\u7F72\u6210\u529F\uFF01', '\u670D\u52A1\u5DF2\u91CD\u542F\u5E76\u6B63\u5E38\u8FD0\u884C');
                    addLog('===== \u90E8\u7F72\u5B8C\u6210 =====', 'success');
                    addLog('\u90E8\u7F72\u7248\u672C: ' + latestVersion, 'info');
                    addLog('\u7CFB\u7EDF\u5DF2\u66F4\u65B0\u5E76\u91CD\u542F', 'success');
                    
                    // \u90E8\u7F72\u5B8C\u6210\u540E\u518D\u6B21\u786E\u8BA4\uFF0C\u8BBF\u95EE/api/logs\u63A5\u53E3\u6765\u786E\u8BA4\u90E8\u7F72\u5B8C\u6210
                    confirmDeploymentByLogs();
                } else {
                    addLog('\u670D\u52A1\u68C0\u67E5\u4E2D - \u72B6\u6001\u7801: ' + response.status, 'info');
                }
            })
            .catch(error => {
                addLog('\u670D\u52A1\u68C0\u67E5\u4E2D - \u8FDE\u63A5\u5931\u8D25: ' + error.message, 'info');
            });
    }, 500); // \u6BCF5\u79D2\u68C0\u67E5\u4E00\u6B21
}

// \u90E8\u7F72\u5B8C\u6210\u540E\u901A\u8FC7\u8BBF\u95EE/api/logs\u63A5\u53E3\u6765\u786E\u8BA4\u90E8\u7F72\u5B8C\u6210
function confirmDeploymentByLogs() {
    // \u90E8\u7F72\u5B8C\u6210\u540E\u7684\u786E\u8BA4\u68C0\u67E5
    let confirmationAttempts = 0;
    const maxAttempts = 3; // \u6700\u591A\u5C1D\u8BD53\u6B21\u786E\u8BA4\u90E8\u7F72\u5B8C\u6210

    const confirmationInterval = setInterval(() => {
        confirmationAttempts++;
        updateLoadingText('\u90E8\u7F72\u5B8C\u6210\u786E\u8BA4\u4E2D...', '\u6B63\u5728\u786E\u8BA4\u90E8\u7F72\u5B8C\u6210 (' + confirmationAttempts + '/' + maxAttempts + ')');
        addLog('\u90E8\u7F72\u5B8C\u6210\u786E\u8BA4 - \u5C1D\u8BD5 ' + confirmationAttempts + '/' + maxAttempts, 'info');

        fetch(buildApiUrl('/api/logs'))
            .then(response => {
                if (response.ok) {
                    // \u8BF7\u6C42\u6210\u529F\uFF0C\u505C\u6B62\u786E\u8BA4\u68C0\u67E5
                    clearInterval(confirmationInterval);
                    // \u663E\u793A\u6210\u529F\u4FE1\u606F\u540E\u5EF6\u8FDF\u9690\u85CF\u52A0\u8F7D\u906E\u7F69
                    updateLoadingText('\u90E8\u7F72\u786E\u8BA4\u6210\u529F\uFF01', '\u670D\u52A1\u5DF2\u91CD\u542F\u5E76\u6B63\u5E38\u8FD0\u884C');
                    addLog('\u90E8\u7F72\u786E\u8BA4\u6210\u529F - /api/logs \u63A5\u53E3\u8BBF\u95EE\u6B63\u5E38', 'success');
                    
                    setTimeout(() => {
                        hideLoading();
                        // \u663E\u793A\u6210\u529F\u5F39\u7A97
                        customAlert('\u90E8\u7F72\u6210\u529F\uFF01\u4E91\u7AEF\u90E8\u7F72\u5DF2\u5B8C\u6210\uFF0C\u670D\u52A1\u5DF2\u91CD\u542F\uFF0C\u914D\u7F6E\u5DF2\u751F\u6548');
                        addLog('\u90E8\u7F72\u6210\u529F\uFF01\u4E91\u7AEF\u90E8\u7F72\u5DF2\u5B8C\u6210\uFF0C\u670D\u52A1\u5DF2\u91CD\u542F\uFF0C\u914D\u7F6E\u5DF2\u751F\u6548', 'success');
                    }, 200);
                } else if (confirmationAttempts >= maxAttempts) {
                    // \u8FBE\u5230\u6700\u5927\u5C1D\u8BD5\u6B21\u6570\uFF0C\u505C\u6B62\u786E\u8BA4\u68C0\u67E5
                    clearInterval(confirmationInterval);
                    updateLoadingText('\u90E8\u7F72\u786E\u8BA4\u5B8C\u6210', '\u670D\u52A1\u5DF2\u91CD\u542F');
                    addLog('\u90E8\u7F72\u786E\u8BA4\u5B8C\u6210 - \u5DF2\u8FBE\u5230\u6700\u5927\u5C1D\u8BD5\u6B21\u6570', 'warn');
                    
                    setTimeout(() => {
                        hideLoading();
                        // \u663E\u793A\u6210\u529F\u5F39\u7A97
                        customAlert('\u90E8\u7F72\u6210\u529F\uFF01\u4E91\u7AEF\u90E8\u7F72\u5DF2\u5B8C\u6210\uFF0C\u670D\u52A1\u5DF2\u91CD\u542F\uFF0C\u914D\u7F6E\u5DF2\u751F\u6548');
                        addLog('\u90E8\u7F72\u6210\u529F\uFF01\u4E91\u7AEF\u90E8\u7F72\u5DF2\u5B8C\u6210\uFF0C\u670D\u52A1\u5DF2\u91CD\u542F\uFF0C\u914D\u7F6E\u5DF2\u751F\u6548', 'success');
                    }, 200);
                } else {
                    addLog('\u90E8\u7F72\u786E\u8BA4\u4E2D - \u72B6\u6001\u7801: ' + response.status, 'info');
                }
            })
            .catch(error => {
                if (confirmationAttempts >= maxAttempts) {
                    // \u8FBE\u5230\u6700\u5927\u5C1D\u8BD5\u6B21\u6570\uFF0C\u505C\u6B62\u786E\u8BA4\u68C0\u67E5
                    clearInterval(confirmationInterval);
                    updateLoadingText('\u90E8\u7F72\u786E\u8BA4\u5B8C\u6210', '\u670D\u52A1\u5DF2\u91CD\u542F');
                    addLog('\u90E8\u7F72\u786E\u8BA4\u5B8C\u6210 - \u5DF2\u8FBE\u5230\u6700\u5927\u5C1D\u8BD5\u6B21\u6570', 'warn');
                    
                    setTimeout(() => {
                        hideLoading();
                        // \u663E\u793A\u6210\u529F\u5F39\u7A97
                        customAlert('\u90E8\u7F72\u6210\u529F\uFF01\u4E91\u7AEF\u90E8\u7F72\u5DF2\u5B8C\u6210\uFF0C\u670D\u52A1\u5DF2\u91CD\u542F\uFF0C\u914D\u7F6E\u5DF2\u751F\u6548');
                        addLog('\u90E8\u7F72\u6210\u529F\uFF01\u4E91\u7AEF\u90E8\u7F72\u5DF2\u5B8C\u6210\uFF0C\u670D\u52A1\u5DF2\u91CD\u542F\uFF0C\u914D\u7F6E\u5DF2\u751F\u6548', 'success');
                    }, 200);
                } else {
                    addLog('\u90E8\u7F72\u786E\u8BA4\u4E2D - \u8FDE\u63A5\u5931\u8D25: ' + error.message, 'info');
                }
            });
    }, 5000); // \u6BCF5\u79D2\u68C0\u67E5\u4E00\u6B21\uFF0C\u7528\u4E8E\u786E\u8BA4\u90E8\u7F72\u5B8C\u6210
}

// \u68C0\u67E5URL\u4E2D\u7684token\u662F\u5426\u4E0EcurrentAdminToken\u5339\u914D
function checkAdminToken() {
    let _reverseProxy = customBaseUrl; // \u4F7F\u7528\u5168\u5C40\u53D8\u91CF customBaseUrl

    // \u83B7\u53D6URL\u8DEF\u5F84\u5E76\u63D0\u53D6token
    let urlPath = window.location.pathname;
    
    // \u5982\u679C\u914D\u7F6E\u4E86\u53CD\u4EE3\u8DEF\u5F84\uFF0C\u5FC5\u987B\u5148\u5265\u79BB\u5B83
    if(_reverseProxy) {
        try {
            // \u89E3\u6790\u914D\u7F6E\u4E2D\u7684\u8DEF\u5F84\u90E8\u5206\uFF0C\u4F8B\u5982 http://192.168.8.1:2333/danmu_api => /danmu_api
            let proxyPath = _reverseProxy.startsWith('http') 
                ? new URL(_reverseProxy).pathname 
                : _reverseProxy;
            
            // \u786E\u4FDD\u79FB\u9664\u5C3E\u90E8\u659C\u6760
            if (proxyPath.endsWith('/')) {
                proxyPath = proxyPath.slice(0, -1);
            }
            
            // \u5982\u679C\u5F53\u524DURL\u5305\u542B\u6B64\u524D\u7F00\uFF0C\u5219\u79FB\u9664\u5B83
            if(proxyPath && urlPath.startsWith(proxyPath)) {
                urlPath = urlPath.substring(proxyPath.length);
            }
        } catch(e) {
            console.error("\u89E3\u6790\u53CD\u4EE3\u8DEF\u5F84\u5931\u8D25", e);
        }
    }

    const pathParts = urlPath.split('/').filter(part => part !== '');
    const urlToken = pathParts.length > 0 ? pathParts[0] : currentToken; // \u5982\u679C\u6CA1\u6709\u8DEF\u5F84\u6BB5\uFF0C\u4F7F\u7528\u9ED8\u8BA4token
    
    // \u68C0\u67E5\u662F\u5426\u914D\u7F6E\u4E86ADMIN_TOKEN\u4E14URL\u4E2D\u7684token\u7B49\u4E8EcurrentAdminToken
    return currentAdminToken && currentAdminToken.trim() !== '' && urlToken === currentAdminToken;
}

// \u68C0\u67E5\u90E8\u7F72\u5E73\u53F0\u76F8\u5173\u914D\u7F6E
async function checkDeployPlatformConfig() {
    // \u9996\u5148\u68C0\u67E5\u662F\u5426\u914D\u7F6E\u4E86ADMIN_TOKEN
    if (!checkAdminToken()) {
        // \u83B7\u53D6\u5F53\u524D\u9875\u9762\u7684\u534F\u8BAE\u3001\u4E3B\u673A\u548C\u7AEF\u53E3
        const protocol = window.location.protocol;
        const host = window.location.host;
        
        let displayBase;
        if (customBaseUrl) {
            displayBase = customBaseUrl.startsWith('http') 
                ? customBaseUrl 
                : (protocol + '//' + host + customBaseUrl);
        } else {
            displayBase = protocol + '//' + host;
        }

        if (displayBase.endsWith('/')) {
            displayBase = displayBase.slice(0, -1);
        }
        
        return { success: false, message: \`<div style="text-align: left;">
            <p style="margin-bottom: 12px; font-weight: 500;">\u68C0\u6D4B\u5230\u672A\u914D\u7F6E\u7CFB\u7EDF\u7BA1\u7406\u4EE4\u724C (ADMIN_TOKEN)\uFF0C\u65E0\u6CD5\u4F7F\u7528\u7CFB\u7EDF\u914D\u7F6E\u529F\u80FD\u3002</p>
            <div style="background: rgba(0,0,0,0.03); padding: 16px; border-radius: 12px; font-size: 13px; border: 1px solid rgba(0,0,0,0.05);">
                <p style="margin-bottom: 8px; font-weight: bold; color: var(--text-primary);">\u5982\u4F55\u4FEE\u590D\uFF1A</p>
                <ol style="padding-left: 20px; margin-bottom: 12px; color: var(--text-secondary); line-height: 1.6;">
                    <li>\u5728\u90E8\u7F72\u5E73\u53F0\u8BBE\u7F6E\u73AF\u5883\u53D8\u91CF <code>ADMIN_TOKEN</code></li>
                    <li>\u91CD\u65B0\u90E8\u7F72\u670D\u52A1</li>
                    <li>\u4F7F\u7528\u5E26Token\u7684\u94FE\u63A5\u8BBF\u95EE</li>
                </ol>
                <p style="margin-bottom: 6px; font-weight: bold; color: var(--text-primary);">\u8BBF\u95EE\u793A\u4F8B\uFF1A</p>
                <code style="display: block; background: #fff; padding: 10px; border-radius: 8px; border: 1px solid rgba(0,0,0,0.08); word-break: break-all; font-family: 'SF Mono', monospace; color: var(--primary-color);">\${displayBase}/{ADMIN_TOKEN}</code>
            </div>
        </div>\` };
    }
    
    try {
        const response = await fetch(buildApiUrl('/api/config', true));
        if (!response.ok) {
            throw new Error('HTTP error! status: ' + response.status);
        }
        
        const config = await response.json();
        const deployPlatform = config.envs.deployPlatform || 'node';
        
        // \u5982\u679C\u662Fnode\u90E8\u7F72\u5E73\u53F0\uFF0C\u53EA\u9700\u8981\u68C0\u67E5ADMIN_TOKEN
        if (deployPlatform.toLowerCase() === 'node') {
            return { success: true, message: 'Node\u90E8\u7F72\u5E73\u53F0\uFF0C\u4EC5\u9700\u914D\u7F6EADMIN_TOKEN' };
        }
        
        // \u5BF9\u4E8E\u5176\u4ED6\u90E8\u7F72\u5E73\u53F0\uFF0C\u6536\u96C6\u6240\u6709\u7F3A\u5931\u7684\u73AF\u5883\u53D8\u91CF
        const missingVars = [];
        const deployPlatformProject = config.originalEnvVars.DEPLOY_PLATFROM_PROJECT;
        const deployPlatformToken = config.originalEnvVars.DEPLOY_PLATFROM_TOKEN;
        const deployPlatformAccount = config.originalEnvVars.DEPLOY_PLATFROM_ACCOUNT;
        
        if (!deployPlatformProject || deployPlatformProject.trim() === '') {
            missingVars.push('DEPLOY_PLATFROM_PROJECT');
        }
        
        if (!deployPlatformToken || deployPlatformToken.trim() === '') {
            missingVars.push('DEPLOY_PLATFROM_TOKEN');
        }
        
        // \u5BF9\u4E8Enetlify\u548Ccloudflare\u90E8\u7F72\u5E73\u53F0\uFF0C\u8FD8\u9700\u8981\u68C0\u67E5DEPLOY_PLATFROM_ACCOUNT
        if (deployPlatform.toLowerCase() === 'netlify' || deployPlatform.toLowerCase() === 'cloudflare') {
            if (!deployPlatformAccount || deployPlatformAccount.trim() === '') {
                missingVars.push('DEPLOY_PLATFROM_ACCOUNT');
            }
        }
        
        if (missingVars.length > 0) {
            const missingVarsStr = missingVars.join('\u3001');
            return { success: false, message: '\u90E8\u7F72\u5E73\u53F0\u4E3A' + deployPlatform + '\uFF0C\u8BF7\u914D\u7F6E\u4EE5\u4E0B\u7F3A\u5931\u7684\u73AF\u5883\u53D8\u91CF\uFF1A' + missingVarsStr };
        }
        
        return { success: true, message: deployPlatform + '\u90E8\u7F72\u5E73\u53F0\u914D\u7F6E\u5B8C\u6574' };
    } catch (error) {
        console.error('\u68C0\u67E5\u90E8\u7F72\u5E73\u53F0\u914D\u7F6E\u5931\u8D25:', error);
        return { success: false, message: '\u68C0\u67E5\u90E8\u7F72\u5E73\u53F0\u914D\u7F6E\u5931\u8D25: ' + error.message };
    }
}

// \u83B7\u53D6\u5E76\u8BBE\u7F6E\u914D\u7F6E\u4FE1\u606F
async function fetchAndSetConfig() {
    const config = await fetch(buildApiUrl('/api/config', true)).then(response => response.json());
    const hasAdminToken = config.hasAdminToken;
    currentAdminToken = config.originalEnvVars?.ADMIN_TOKEN || '';
    return config;
}

// \u68C0\u67E5\u5E76\u5904\u7406\u7BA1\u7406\u5458\u4EE4\u724C
function checkAndHandleAdminToken() {
    if (!checkAdminToken()) {
        // \u7981\u7528\u7CFB\u7EDF\u914D\u7F6E\u6309\u94AE\u5E76\u6DFB\u52A0\u63D0\u793A
        const envNavBtn = document.getElementById('env-nav-btn');
        if (envNavBtn) {
            envNavBtn.title = '\u8BF7\u5148\u914D\u7F6EADMIN_TOKEN\u5E76\u4F7F\u7528\u6B63\u786E\u7684admin token\u8BBF\u95EE\u4EE5\u542F\u7528\u7CFB\u7EDF\u7BA1\u7406\u529F\u80FD';
        }
    }
}

// \u6E32\u67D3\u503C\u8F93\u5165\u63A7\u4EF6
function renderValueInput(item) {
    const container = document.getElementById('value-input-container');
    const type = item ? item.type : document.getElementById('value-type').value;
    const value = item ? item.value : '';
    const currentKey = item ? item.key : document.getElementById('env-key').value;

    if (type === 'boolean') {
        // \u5E03\u5C14\u5F00\u5173
        const checked = value === 'true' || value === true;
        container.innerHTML = \`
            <label>\u503C</label>
            <div class="switch-container">
                <label class="switch">
                    <input type="checkbox" id="bool-value" \${checked ? 'checked' : ''}>
                    <span class="slider"></span>
                </label>
                <span class="switch-label" id="bool-label">\${checked ? '\u542F\u7528' : '\u7981\u7528'}</span>
            </div>
        \`;

        document.getElementById('bool-value').addEventListener('change', function(e) {
            document.getElementById('bool-label').textContent = e.target.checked ? '\u542F\u7528' : '\u7981\u7528';
        });

    } else if (type === 'number') {
        // \u6570\u5B57\u6EDA\u8F6E
        const min = item && item.min !== undefined ? item.min : 1;
        const max = item && item.max !== undefined ? item.max : 100;
        const currentValue = value || min;

        container.innerHTML = \`
            <label>\u503C (\${min}-\${max})</label>
            <div class="number-picker">
                <div class="number-controls">
                    <button type="button" class="number-btn" onclick="adjustNumber(1)">\u25B2</button>
                    <button type="button" class="number-btn" onclick="adjustNumber(-1)">\u25BC</button>
                </div>
                <div class="number-display" id="num-value">\${currentValue}</div>
            </div>
            <div class="number-range">
                <input type="range" id="num-slider" min="\${min}" max="\${max}" value="\${currentValue}"
                       oninput="updateNumberDisplay(this.value)">
            </div>
        \`;

    } else if (type === 'select') {
        // \u6807\u7B7E\u9009\u62E9
        const options = item && item.options ? item.options : ['option1', 'option2', 'option3'];
        const optionsInput = item ? '' : \`
            <div class="form-group margin-bottom-15">
                <label>\u53EF\u9009\u9879 (\u9017\u53F7\u5206\u9694)</label>
                <input type="text" id="select-options" placeholder="\u4F8B\u5982: debug,info,warn,error"
                       value="\${options.join(',')}" onchange="updateTagOptions()">
            </div>
        \`; 

        container.innerHTML = \`
            \${optionsInput}
            <label>\u9009\u62E9\u503C</label>
            <div class="tag-selector" id="tag-selector">
                \${options.map(opt => \`
                    <div class="tag-option \${opt === value ? 'selected' : ''}"
                         data-value="\${opt}" onclick="selectTag(this)">
                        \${opt}
                    </div>
                \`).join('')}
            </div>
        \`;

    } else if (type === 'multi-select') {
        // \u591A\u9009\u6807\u7B7E\uFF08\u53EF\u62D6\u52A8\u6392\u5E8F\uFF09
        const options = item && item.options ? item.options : ['option1', 'option2', 'option3', 'option4'];
        // \u786E\u4FDDvalue\u662F\u5B57\u7B26\u4E32\u7C7B\u578B\u540E\u518D\u8FDB\u884Csplit\u64CD\u4F5C
        const stringValue = typeof value === 'string' ? value : String(value || '');
        const selectedValues = stringValue ? stringValue.split(',').map(v => v.trim()).filter(v => v) : [];
        
        // \u68C0\u67E5\u662F\u5426\u4E3A SOURCE_ORDER\uFF0C\u5982\u679C\u662F\u5219\u4E0D\u663E\u793A\u5408\u5E76\u6A21\u5F0F
        const shouldShowMergeMode = currentKey === 'MERGE_SOURCE_PAIRS' || currentKey === 'PLATFORM_ORDER';
        
        // \u6BCF\u6B21\u6E32\u67D3\u65F6\u91CD\u7F6E\u5408\u5E76\u6A21\u5F0F\u72B6\u6001
        isMergeMode = false;
        stagingTags = [];

        const optionsInput = item ? '' : \`
            <div class="form-group margin-bottom-15">
                <label>\u53EF\u9009\u9879 (\u9017\u53F7\u5206\u9694)</label>
                <input type="text" id="multi-options" placeholder="\u4F8B\u5982: auth,payment,analytics"
                       value="\${options.join(',')}" onchange="updateMultiOptions()">
            </div>
        \`; 

        container.innerHTML = \`
            \${optionsInput}
            <label>\u5DF2\u9009\u62E9 (\u62D6\u52A8\u8C03\u6574\u987A\u5E8F)</label>
            <div class="multi-select-container">
                <div class="selected-tags \${selectedValues.length === 0 ? 'empty' : ''}" id="selected-tags">
                    \${selectedValues.map(val => \`
                        <div class="selected-tag" draggable="true" data-value="\${val}">
                            <span class="tag-text">\${val}</span>
                            <button type="button" class="remove-btn" onclick="removeSelectedTag(this)">\xD7</button>
                        </div>
                    \`).join('')}
                </div>

                \${shouldShowMergeMode ? \`
                <div class="merge-mode-controls">
                    <div class="merge-mode-btn" id="merge-mode-toggle" onclick="toggleMergeMode()">
                        \u5F00\u542F\u5408\u5E76\u6A21\u5F0F
                    </div>
                    <div class="form-help" style="margin: 0; margin-left: 10px;">
                        \u5F00\u542F\u540E\u70B9\u51FB\u4E0B\u65B9\u9009\u9879\u5C06\u6DFB\u52A0\u5230\u6682\u5B58\u533A,\u7EC4\u5408\u540E\u70B9\u51FB \u221A \u786E\u8BA4
                    </div>
                </div>

                <div class="staging-area" id="staging-area">
                    <button type="button" class="confirm-merge-btn" onclick="confirmMergeGroup()" title="\u786E\u8BA4\u6DFB\u52A0\u8BE5\u7EC4">\u2713</button>
                </div>
                \` : ''}

                <label>\u53EF\u9009\u9879 (\u70B9\u51FB\u6DFB\u52A0)</label>
                <div class="available-tags" id="available-tags">
                    \${options.map(opt => {
                        return \`
                            <div class="available-tag"
                                 data-value="\${opt}" onclick="addSelectedTag(this)">
                                \${opt}
                            </div>
                        \`;
                    }).join('')}
                </div>
            </div>
        \`;

        // \u8BBE\u7F6E\u62D6\u52A8\u4E8B\u4EF6
        // \u7ACB\u5373\u6267\u884C\u4E00\u6B21\u72B6\u6001\u68C0\u67E5\uFF0C\u786E\u4FDD\u5DF2\u9009\u9879\u53D8\u7070
        setTimeout(updateTagStates, 0);
        setupDragAndDrop();

    } else if (type === 'map') {
        // \u6620\u5C04\u8868\u7C7B\u578B
        const pairs = value ? value.split(';').map(pair => pair.trim()).filter(pair => pair) : [];
        const mapItems = pairs.map(pair => {
            if (pair.includes('->')) {
                const [left, right] = pair.split('->').map(s => s.trim());
                return { left, right };
            }
            return { left: pair, right: '' };
        });

        container.innerHTML = \`
            <label>\u6620\u5C04\u914D\u7F6E</label>
            <div class="map-container" id="map-container">
                \${mapItems.map((item, index) => \`
                    <div class="map-item" data-index="\${index}">
                        <input type="text" class="map-input-left" placeholder="\u539F\u59CB\u503C" value="\${item.left}">
                        <span class="map-separator">-></span>
                        <input type="text" class="map-input-right" placeholder="\u6620\u5C04\u503C" value="\${item.right}">
                        <button type="button" class="btn btn-danger map-remove-btn" onclick="removeMapItem(this)">\u5220\u9664</button>
                    </div>
                \`).join('')}
                <div class="map-item-template" style="display: none;">
                    <input type="text" class="map-input-left" placeholder="\u539F\u59CB\u503C">
                    <span class="map-separator">-></span>
                    <input type="text" class="map-input-right" placeholder="\u6620\u5C04\u503C">
                    <button type="button" class="btn btn-danger map-remove-btn" onclick="removeMapItem(this)">\u5220\u9664</button>
                </div>
            </div>
            <button type="button" class="btn btn-primary" onclick="addMapItem()">\u6DFB\u52A0\u6620\u5C04\u9879</button>
        \`;

    } else {
        // \u6587\u672C\u8F93\u5165
        const currentKey = document.getElementById('env-key') ? document.getElementById('env-key').value : '';
        const isBilibiliCookie = currentKey === 'BILIBILI_COOKIE';
        const isAiApiKey = currentKey === 'AI_API_KEY';
        
        if (isAiApiKey) {
            // AI API Key \u4E13\u7528\u7F16\u8F91\u754C\u9762
            container.innerHTML = \`
                <div class="ai-apikey-editor">
                    <label>API Key \u503C</label>
                    <textarea class="form-group" id="text-value" placeholder="\u8BF7\u8F93\u5165 AI API Key" rows="3">\${value}</textarea>
                    <div class="form-help">\u652F\u6301 OpenAI \u517C\u5BB9\u7684 API\uFF0C\u9700\u914D\u5408 AI_BASE_URL \u548C AI_MODEL \u914D\u7F6E\u4F7F\u7528</div>

                    <div class="ai-apikey-status" id="ai-apikey-status">
                        <span class="ai-status-icon">\u{1F50D}</span>
                        <span class="ai-status-text">\u70B9\u51FB\u4E0B\u65B9\u6309\u94AE\u6D4B\u8BD5\u8FDE\u901A\u6027</span>
                    </div>
                    <div class="ai-apikey-actions" style="margin-bottom: 15px;">
                        <button type="button" class="btn btn-primary btn-sm" id="ai-verify-btn" onclick="verifyAiConnection()">
                            \u{1F9EA} \u6D4B\u8BD5\u8FDE\u901A\u6027
                        </button>
                    </div>
                </div>
            \`;
        } else if (isBilibiliCookie) {
            // Bilibili Cookie \u4E13\u7528\u7F16\u8F91\u754C\u9762
            const rows = value && value.length > 50 ? Math.min(Math.max(Math.ceil(value.length / 50), 3), 8) : 3;
            container.innerHTML = \`
                <div class="bili-cookie-editor">
                    <div class="bili-cookie-status" id="bili-cookie-status">
                        <span class="bili-status-text">\u68C0\u6D4B\u4E2D...</span>
                    </div>
                    
                    <div class="bili-cookie-actions">
                        <button type="button" class="btn btn-primary btn-sm" onclick="startBilibiliQRLogin()">
                            \u626B\u7801\u767B\u5F55
                        </button>
                    </div>
                    
                    <label>Cookie \u503C</label>
                    <textarea class="form-group" id="text-value" placeholder="SESSDATA=xxx; bili_jct=xxx; DedeUserID=xxx;" rows="\${rows}">\${value}</textarea>
                    <div class="form-help">\u63A8\u8350\u4F7F\u7528\u626B\u7801\u767B\u5F55\u81EA\u52A8\u83B7\u53D6\uFF0C\u6216\u624B\u52A8\u7C98\u8D34\u5305\u542B SESSDATA \u548C bili_jct \u7684\u5B8C\u6574 Cookie</div>
                </div>
            \`;
            
            // \u81EA\u52A8\u68C0\u6D4B Cookie \u72B6\u6001 + \u76D1\u542C\u8F93\u5165\u53D8\u5316\uFF08\u9632\u6296\uFF09
            setTimeout(() => {
                autoCheckBilibiliCookieStatus();

                const inputEl = document.getElementById('text-value');
                if (inputEl) {
                    let debounceTimer = null;
                    inputEl.addEventListener('input', () => {
                        if (debounceTimer) clearTimeout(debounceTimer);
                        debounceTimer = setTimeout(() => {
                            autoCheckBilibiliCookieStatus();
                        }, 600);
                    });
                }
            }, 120);
        } else if (value && value.length > 50) {
            const rows = Math.min(Math.max(Math.ceil(value.length / 50), 3), 10);
            container.innerHTML = \`
                <label>\u53D8\u91CF\u503C *</label>
                <textarea id="text-value" placeholder="\u4F8B\u5982: localhost" rows="\${rows}" class="text-monospace">\${value}</textarea>
            \`;
        } else {
            container.innerHTML = \`
                <label>\u53D8\u91CF\u503C *</label>
                <input type="text" id="text-value" placeholder="\u4F8B\u5982: localhost" value="\${value}" required>
            \`; 
        }
    }
}

// \u8C03\u6574\u6570\u5B57
function adjustNumber(delta) {
    const display = document.getElementById('num-value');
    const slider = document.getElementById('num-slider');
    let value = parseInt(display.textContent) + delta;

    value = Math.max(parseInt(slider.min), Math.min(parseInt(slider.max), value));

    display.textContent = value;
    slider.value = value;
}

// \u66F4\u65B0\u6570\u5B57\u663E\u793A
function updateNumberDisplay(value) {
    document.getElementById('num-value').textContent = value;
}

// \u9009\u62E9\u6807\u7B7E
function selectTag(element) {
    document.querySelectorAll('.tag-option').forEach(el => el.classList.remove('selected'));
    element.classList.add('selected');
}

// \u66F4\u65B0\u6807\u7B7E\u9009\u9879
function updateTagOptions() {
    const input = document.getElementById('select-options');
    const options = input.value.split(',').map(s => s.trim()).filter(s => s);
    const container = document.getElementById('tag-selector');

    container.innerHTML = options.map(opt => \`
        <div class="tag-option" data-value="\${opt}" onclick="selectTag(this)">
            \${opt}
        </div>
    \`).join('');
}

// \u7EDF\u4E00\u7684\u72B6\u6001\u68C0\u67E5\u51FD\u6570
function updateTagStates() {
    // \u786E\u4FDD DOM \u5143\u7D20\u5B58\u5728\uFF0C\u9632\u6B62\u5728\u6E32\u67D3\u8FC7\u7A0B\u4E2D\u88AB\u8C03\u7528\u51FA\u9519
    const keyInput = document.getElementById('env-key');
    if (!keyInput) return;

    const currentKey = keyInput.value;
    const isMergeSourcePairs = currentKey === 'MERGE_SOURCE_PAIRS';

    // 1. \u83B7\u53D6\u5F53\u524D\u6682\u5B58\u533A\u4E2D\u7684Token (\u9632\u6B62\u540C\u7EC4\u5185\u91CD\u590D)
    const stagingTokens = new Set(stagingTags);
    
    // 2. \u83B7\u53D6\u5DF2\u786E\u8BA4\u7684 Selected Tags (\u4EC5\u5728\u975E\u5408\u5E76\u6A21\u5F0F\u4E0B\u9700\u8981\u68C0\u67E5)
    const selectedTagElements = Array.from(document.querySelectorAll('.selected-tag'));

    // 3. \u66F4\u65B0\u6240\u6709\u53EF\u9009\u9879\u7684\u72B6\u6001
    const availableTags = document.querySelectorAll('.available-tag');
    availableTags.forEach(tag => {
        const value = tag.dataset.value;
        let shouldDisable = false;

        if (isMergeMode) {
            // [\u5408\u5E76\u6A21\u5F0F\u903B\u8F91]
            // \u53EA\u8981\u4E0D\u5728\u5F53\u524D\u7684\u6682\u5B58\u533A\u4E2D\uFF0C\u5C31\u53EF\u4EE5\u9009\uFF08\u5141\u8BB8 bilibili&a \u548C bilibili&b\uFF09
            // \u4E5F\u5C31\u662F\u8BF4\uFF0C\u6211\u4EEC\u5B8C\u5168\u4E0D\u68C0\u67E5 selectedTagElements
            if (stagingTokens.has(value)) {
                shouldDisable = true;
            }
        } else {
            // [\u666E\u901A\u6A21\u5F0F\u903B\u8F91]
            // \u53EA\u8981\u5DF2\u7ECF\u88AB\u9009\u4E86\uFF0C\u5C31\u7981\u7528 (\u7CBE\u51C6\u5339\u914D)
            const isAlreadySelected = selectedTagElements.some(el => el.dataset.value === value);
            if (isAlreadySelected) {
                shouldDisable = true;
            }

            // \u7279\u6B8A\u60C5\u51B5\uFF1A\u5982\u679C\u662F MERGE_SOURCE_PAIRS \u4F46\u6CA1\u5F00\u5408\u5E76\u6A21\u5F0F\uFF0C\u4E14\u8FD8\u6CA1\u88AB\u9009\uFF0C\u4E5F\u7981\u7528\uFF08\u5F3A\u8FEB\u7528\u6237\u5F00\u5F00\u5173\uFF09
            if (isMergeSourcePairs && !isAlreadySelected) {
                shouldDisable = true;
            }
        }

        if (shouldDisable) {
            tag.classList.add('disabled');
        } else {
            tag.classList.remove('disabled');
        }
    });
}

// \u6DFB\u52A0\u5DF2\u9009\u6807\u7B7E
function addSelectedTag(element) {
    const value = element.dataset.value;

    if (isMergeMode) {
        if (!stagingTags.includes(value)) {
            stagingTags.push(value);
            renderStagingArea();
            updateTagStates(); // \u7ACB\u5373\u66F4\u65B0\u72B6\u6001 (\u8BE5\u9009\u9879\u53D8\u7070\uFF0C\u9632\u6B62\u540C\u7EC4\u91CD\u590D)
        }
        return;
    }

    if (element.classList.contains('disabled')) return;
    
    const container = document.getElementById('selected-tags');

    // \u79FB\u9664empty\u7C7B
    container.classList.remove('empty');

    // \u521B\u5EFA\u65B0\u6807\u7B7E
    const tag = document.createElement('div');
    tag.className = 'selected-tag';
    tag.draggable = true;
    tag.dataset.value = value;
    tag.innerHTML = \`
        <span class="tag-text">\${value}</span>
        <button type="button" class="remove-btn" onclick="removeSelectedTag(this)">\xD7</button>
    \`;

    container.appendChild(tag);
    updateTagStates(); // \u7ACB\u5373\u66F4\u65B0\u72B6\u6001
    setupDragAndDrop();
}

// \u79FB\u9664\u5DF2\u9009\u6807\u7B7E
function removeSelectedTag(button) {
    const tag = button.parentElement;
    tag.remove();

    const container = document.getElementById('selected-tags');
    if (container.children.length === 0) {
        container.classList.add('empty');
    }

    updateTagStates(); // \u79FB\u9664\u540E\u7ACB\u5373\u91CA\u653E\u72B6\u6001
    setupDragAndDrop();
}

// \u66F4\u65B0\u591A\u9009\u9009\u9879
function updateMultiOptions() {
    const input = document.getElementById('multi-options');
    const options = input.value.split(',').map(s => s.trim()).filter(s => s);

    const container = document.getElementById('available-tags');
    container.innerHTML = options.map(opt => {
        return \`
            <div class="available-tag"
                 data-value="\${opt}" onclick="addSelectedTag(this)">
                \${opt}
            </div>
        \`;
    }).join('');
    
    updateTagStates(); // \u521D\u59CB\u5316\u65F6\u66F4\u65B0\u72B6\u6001
}

// \u5207\u6362\u5408\u5E76\u6A21\u5F0F
function toggleMergeMode() {
    isMergeMode = !isMergeMode;
    const btn = document.getElementById('merge-mode-toggle');
    const stagingArea = document.getElementById('staging-area');

    if (isMergeMode) {
        btn.classList.add('active');
        btn.innerHTML = '\u5173\u95ED\u5408\u5E76\u6A21\u5F0F';
        stagingArea.classList.add('active');
        renderStagingArea();
    } else {
        btn.classList.remove('active');
        btn.innerHTML = '\u5F00\u542F\u5408\u5E76\u6A21\u5F0F';
        stagingArea.classList.remove('active');
        stagingTags = [];
    }
    
    // \u5207\u6362\u6A21\u5F0F\u65F6\u7ACB\u5373\u5237\u65B0\u6240\u6709\u53EF\u9009\u9879\u72B6\u6001
    updateTagStates();
}

// \u6E32\u67D3\u6682\u5B58\u533A
function renderStagingArea() {
    const container = document.getElementById('staging-area');
    const confirmBtn = container.querySelector('.confirm-merge-btn');
    
    while (container.firstChild && container.firstChild !== confirmBtn) {
        container.removeChild(container.firstChild);
    }

    if (stagingTags.length === 0) {
        const hint = document.createElement('span');
        hint.textContent = '\u8BF7\u70B9\u51FB\u4E0B\u65B9\u9009\u9879\u8FDB\u884C\u7EC4\u5408...';
        hint.style.color = '#666';
        hint.style.fontSize = '12px';
        container.insertBefore(hint, confirmBtn);
        confirmBtn.disabled = true;
    } else {
        stagingTags.forEach((tag, index) => {
            if (index > 0) {
                const sep = document.createElement('span');
                sep.className = 'staging-separator';
                sep.textContent = '&';
                container.insertBefore(sep, confirmBtn);
            }
            const tagEl = document.createElement('div');
            tagEl.className = 'staging-tag';
            tagEl.draggable = true;
            tagEl.dataset.value = tag;
            tagEl.dataset.index = index;
            tagEl.innerHTML = \`\${tag}<span class="remove-btn" onclick="removeFromStaging(\${index})">\xD7</span>\`;
            container.insertBefore(tagEl, confirmBtn);
        });
        confirmBtn.disabled = false;
        setupStagingDragAndDrop();
    }
}

// \u4ECE\u6682\u5B58\u533A\u79FB\u9664
function removeFromStaging(index) {
    stagingTags.splice(index, 1);
    renderStagingArea();
    updateTagStates(); // \u79FB\u9664\u540E\u5237\u65B0\u72B6\u6001
}

// \u786E\u8BA4\u6DFB\u52A0\u5408\u5E76\u7EC4
function confirmMergeGroup() {
    if (stagingTags.length === 0) return;
    const groupValue = stagingTags.join('&');
    const container = document.getElementById('selected-tags');
    container.classList.remove('empty');

    const tag = document.createElement('div');
    tag.className = 'selected-tag';
    tag.draggable = true;
    tag.dataset.value = groupValue;
    tag.innerHTML = \`<span class="tag-text">\${groupValue}</span><button type="button" class="remove-btn" onclick="removeSelectedTag(this)">\xD7</button>\`;
    
    container.appendChild(tag);
    setupDragAndDrop();
    
    stagingTags = []; // \u6E05\u7A7A\u6682\u5B58\u533A
    renderStagingArea();
    updateTagStates(); // \u5173\u952E\uFF1A\u786E\u8BA4\u540E\u7ACB\u5373\u91CD\u65B0\u8BA1\u7B97\u6240\u6709\u53EF\u9009\u9879\u7684\u7981\u7528\u72B6\u6001 (\u91CD\u7F6E\u4E3A\u53EF\u7528)
}

// \u8BBE\u7F6E\u6682\u5B58\u533A\u62D6\u653E\u529F\u80FD
function setupStagingDragAndDrop() {
    const container = document.getElementById('staging-area');
    const tags = container.querySelectorAll('.staging-tag');
    
    tags.forEach(tag => {
        tag.addEventListener('dragstart', handleStagingDragStart);
        tag.addEventListener('dragend', handleStagingDragEnd);
        tag.addEventListener('dragover', handleStagingDragOver);
        tag.addEventListener('drop', handleStagingDrop);
        tag.addEventListener('dragenter', handleStagingDragEnter);
        tag.addEventListener('dragleave', handleStagingDragLeave);
        
        tag.addEventListener('touchstart', handleStagingTouchStart);
        tag.addEventListener('touchmove', handleStagingTouchMove);
        tag.addEventListener('touchend', handleStagingTouchEnd);
    });
}

let stagingDraggedElement = null;

function handleStagingDragStart(e) {
    stagingDraggedElement = this;
    this.classList.add('dragging');
    e.dataTransfer.effectAllowed = 'move';
}

function handleStagingDragEnd(e) {
    this.classList.remove('dragging');
    document.querySelectorAll('.staging-tag').forEach(tag => {
        tag.classList.remove('drag-over');
    });
}

function handleStagingDragOver(e) {
    if (e.preventDefault) {
        e.preventDefault();
    }
    e.dataTransfer.dropEffect = 'move';
    return false;
}

function handleStagingDragEnter(e) {
    if (this !== stagingDraggedElement) {
        this.classList.add('drag-over');
    }
}

function handleStagingDragLeave(e) {
    this.classList.remove('drag-over');
}

function handleStagingDrop(e) {
    if (e.stopPropagation) {
        e.stopPropagation();
    }

    if (stagingDraggedElement !== this) {
        const draggedIndex = parseInt(stagingDraggedElement.dataset.index);
        const targetIndex = parseInt(this.dataset.index);
        
        const [movedItem] = stagingTags.splice(draggedIndex, 1);
        stagingTags.splice(targetIndex, 0, movedItem);
        
        renderStagingArea();
    }

    this.classList.remove('drag-over');
    return false;
}

function handleStagingTouchStart(e) {
    if (e.target.classList.contains('remove-btn')) {
        return;
    }
    
    e.preventDefault();
    stagingDraggedElement = this;
    this.classList.add('dragging');
    
    this.style.transform = 'rotate(5deg)';
    this.style.opacity = '0.8';
    this.style.zIndex = '1000';
}

function handleStagingTouchMove(e) {
    if (!stagingDraggedElement) return;
    e.preventDefault();
    
    const touch = e.touches[0];
    const elementRect = stagingDraggedElement.getBoundingClientRect();
    
    if (!document.getElementById('staging-touch-drag-ghost')) {
        const ghostElement = stagingDraggedElement.cloneNode(true);
        ghostElement.id = 'staging-touch-drag-ghost';
        ghostElement.style.position = 'fixed';
        ghostElement.style.left = '0';
        ghostElement.style.top = '0';
        ghostElement.style.pointerEvents = 'none';
        ghostElement.style.zIndex = '9999';
        ghostElement.style.transform = 'translate(' + (touch.clientX - (elementRect.width / 2)) + 'px, ' + (touch.clientY - (elementRect.height / 2)) + 'px) rotate(5deg)';
        ghostElement.style.opacity = '0.8';
        ghostElement.style.boxSizing = 'border-box';
        ghostElement.style.width = elementRect.width + 'px';
        ghostElement.style.height = elementRect.height + 'px';
        document.body.appendChild(ghostElement);
    } else {
        const ghostElement = document.getElementById('staging-touch-drag-ghost');
        ghostElement.style.transform = 'translate(' + (touch.clientX - (elementRect.width / 2)) + 'px, ' + (touch.clientY - (elementRect.height / 2)) + 'px) rotate(5deg)';
    }
    
    const container = document.getElementById('staging-area');
    const tags = Array.from(container.querySelectorAll('.staging-tag')).filter(tag => tag !== stagingDraggedElement);
    let targetElement = null;
    
    for (const tag of tags) {
        const rect = tag.getBoundingClientRect();
        if (touch.clientX >= rect.left && touch.clientX <= rect.right &&
            touch.clientY >= rect.top && touch.clientY <= rect.bottom) {
            targetElement = tag;
            break;
        }
    }
    
    document.querySelectorAll('.staging-tag').forEach(tag => {
        if (tag !== stagingDraggedElement) {
            tag.classList.remove('drag-over');
        }
    });
    
    if (targetElement) {
        targetElement.classList.add('drag-over');
    }
}

function handleStagingTouchEnd(e) {
    if (!stagingDraggedElement) return;
    e.preventDefault();
    
    const ghostElement = document.getElementById('staging-touch-drag-ghost');
    if (ghostElement) {
        document.body.removeChild(ghostElement);
    }
    
    const touch = e.changedTouches[0];
    const targetElement = document.elementFromPoint(touch.clientX, touch.clientY);
    const targetTag = targetElement.closest('.staging-tag');
    
    if (targetTag && targetTag !== stagingDraggedElement) {
        const draggedIndex = parseInt(stagingDraggedElement.dataset.index);
        const targetIndex = parseInt(targetTag.dataset.index);
        
        const [movedItem] = stagingTags.splice(draggedIndex, 1);
        stagingTags.splice(targetIndex, 0, movedItem);
        
        renderStagingArea();
    }
    
    stagingDraggedElement.style.transform = '';
    stagingDraggedElement.style.opacity = '';
    stagingDraggedElement.style.zIndex = '';
    stagingDraggedElement.classList.remove('dragging');
    
    document.querySelectorAll('.staging-tag').forEach(tag => {
        tag.classList.remove('drag-over');
    });
    
    stagingDraggedElement = null;
}

// \u8BBE\u7F6E\u62D6\u653E\u529F\u80FD
let draggedElement = null;
let touchDragging = false;

// \u4E3A\u5220\u9664\u6309\u94AE\u6DFB\u52A0\u89E6\u6478\u4E8B\u4EF6\u76D1\u542C\u5668\uFF0C\u4EE5\u786E\u4FDD\u5176\u53EF\u4EE5\u88AB\u70B9\u51FB
function setupDragAndDrop() {
    const container = document.getElementById('selected-tags');
    const tags = container.querySelectorAll('.selected-tag');

    tags.forEach(tag => {
        // \u9F20\u6807\u62D6\u653E\u4E8B\u4EF6
        tag.addEventListener('dragstart', handleDragStart);
        tag.addEventListener('dragend', handleDragEnd);
        tag.addEventListener('dragover', handleDragOver);
        tag.addEventListener('drop', handleDrop);
        tag.addEventListener('dragenter', handleDragEnter);
        tag.addEventListener('dragleave', handleDragLeave);
        
        // \u89E6\u6478\u62D6\u653E\u4E8B\u4EF6
        tag.addEventListener('touchstart', handleTouchStart);
        tag.addEventListener('touchmove', handleTouchMove);
        tag.addEventListener('touchend', handleTouchEnd);
        
        // \u786E\u4FDD\u5220\u9664\u6309\u94AE\u53EF\u4EE5\u88AB\u70B9\u51FB
        const removeBtn = tag.querySelector('.remove-btn');
        if (removeBtn) {
            // \u963B\u6B62\u5220\u9664\u6309\u94AE\u4E0A\u7684\u89E6\u6478\u4E8B\u4EF6\u5192\u6CE1\u5230\u7236\u5143\u7D20
            removeBtn.addEventListener('touchstart', function(e) {
                e.stopPropagation();
            });
            
            removeBtn.addEventListener('touchend', function(e) {
                e.stopPropagation();
            });
        }
    });
}

function handleDragStart(e) {
    draggedElement = this;
    this.classList.add('dragging');
    e.dataTransfer.effectAllowed = 'move';
}

function handleDragEnd(e) {
    this.classList.remove('dragging');
    document.querySelectorAll('.selected-tag').forEach(tag => {
        tag.classList.remove('drag-over');
    });
}

function handleDragOver(e) {
    if (e.preventDefault) {
        e.preventDefault();
    }
    e.dataTransfer.dropEffect = 'move';
    return false;
}

function handleDragEnter(e) {
    if (this !== draggedElement) {
        this.classList.add('drag-over');
    }
}

function handleDragLeave(e) {
    this.classList.remove('drag-over');
}

function handleDrop(e) {
    if (e.stopPropagation) {
        e.stopPropagation();
    }

    if (draggedElement !== this) {
        const container = document.getElementById('selected-tags');
        const allTags = Array.from(container.querySelectorAll('.selected-tag'));
        const draggedIndex = allTags.indexOf(draggedElement);
        const targetIndex = allTags.indexOf(this);

        if (draggedIndex < targetIndex) {
            this.parentNode.insertBefore(draggedElement, this.nextSibling);
        } else {
            this.parentNode.insertBefore(draggedElement, this);
        }
    }

    this.classList.remove('drag-over');
    return false;
}

// \u89E6\u6478\u62D6\u52A8\u4E8B\u4EF6\u5904\u7406
function handleTouchStart(e) {
    // \u68C0\u67E5\u70B9\u51FB\u7684\u662F\u5426\u662F\u5220\u9664\u6309\u94AE
    if (e.target.classList.contains('remove-btn')) {
        // \u5982\u679C\u70B9\u51FB\u7684\u662F\u5220\u9664\u6309\u94AE\uFF0C\u5219\u4E0D\u6267\u884C\u62D6\u52A8\u64CD\u4F5C
        return;
    }
    
    // \u9632\u6B62\u9ED8\u8BA4\u7684\u89E6\u6478\u884C\u4E3A
    e.preventDefault();
    
    // \u83B7\u53D6\u89E6\u6478\u70B9
    const touch = e.touches[0];
    
    // \u6A21\u62DF\u62D6\u52A8\u5F00\u59CB
    draggedElement = this;
    this.classList.add('dragging');
    touchDragging = true;
    
    // \u6DFB\u52A0\u62D6\u52A8\u6837\u5F0F
    this.style.transform = 'rotate(5deg)';
    this.style.opacity = '0.8';
    this.style.zIndex = '1000';
    
    // \u6DFB\u52A0\u89E6\u6478\u79FB\u52A8\u548C\u7ED3\u675F\u4E8B\u4EF6\u76D1\u542C\u5668\u5230\u6587\u6863
    document.addEventListener('touchmove', handleTouchMove, { passive: false });
    document.addEventListener('touchend', handleTouchEnd, { passive: false });
}

function handleTouchMove(e) {
    if (!touchDragging || !draggedElement) return;
    
    // \u9632\u6B62\u9ED8\u8BA4\u7684\u89E6\u6478\u884C\u4E3A
    e.preventDefault();
    
    // \u4F7F\u7528 requestAnimationFrame \u6765\u4F18\u5316\u6027\u80FD
    if (window.requestAnimationFrame) {
        window.requestAnimationFrame(() => {
            // \u83B7\u53D6\u89E6\u6478\u70B9\u4F4D\u7F6E
            const touch = e.touches[0];
            
            // \u83B7\u53D6\u62D6\u52A8\u5143\u7D20\u7684\u5C3A\u5BF8
            const elementRect = draggedElement.getBoundingClientRect();
            
            // \u521B\u5EFA\u4E00\u4E2A\u4E34\u65F6\u7684\u62D6\u52A8\u5143\u7D20\uFF0C\u800C\u4E0D\u662F\u79FB\u52A8\u539F\u59CB\u5143\u7D20
            if (!document.getElementById('touch-drag-ghost')) {
                const ghostElement = draggedElement.cloneNode(true);
                ghostElement.id = 'touch-drag-ghost';
                ghostElement.style.position = 'fixed'; // \u4F7F\u7528 fixed \u800C\u4E0D\u662F absolute
                ghostElement.style.left = '0';
                ghostElement.style.top = '0';
                ghostElement.style.pointerEvents = 'none'; // \u9632\u6B62\u5E72\u6270\u89E6\u6478\u4E8B\u4EF6
                ghostElement.style.zIndex = '9999';
                ghostElement.style.transform = 'translate(' + (touch.clientX - (elementRect.width / 2)) + 'px, ' + (touch.clientY - (elementRect.height / 2)) + 'px) rotate(5deg)';
                ghostElement.style.opacity = '0.8';
                ghostElement.style.boxSizing = 'border-box'; // \u786E\u4FDD\u5C3A\u5BF8\u8BA1\u7B97\u6B63\u786E
                ghostElement.style.width = elementRect.width + 'px'; // \u56FA\u5B9A\u5BBD\u5EA6
                ghostElement.style.height = elementRect.height + 'px'; // \u56FA\u5B9A\u9AD8\u5EA6
                document.body.appendChild(ghostElement);
            } else {
                const ghostElement = document.getElementById('touch-drag-ghost');
                ghostElement.style.transform = 'translate(' + (touch.clientX - (elementRect.width / 2)) + 'px, ' + (touch.clientY - (elementRect.height / 2)) + 'px) rotate(5deg)';
            }
            
            // \u68C0\u67E5\u4E0E\u5176\u4ED6\u5143\u7D20\u7684\u78B0\u649E
            const container = document.getElementById('selected-tags');
            const tags = Array.from(container.querySelectorAll('.selected-tag')).filter(tag => tag !== draggedElement);
            let targetElement = null;
            
            for (const tag of tags) {
                const rect = tag.getBoundingClientRect();
                if (touch.clientX >= rect.left && touch.clientX <= rect.right &&
                    touch.clientY >= rect.top && touch.clientY <= rect.bottom) {
                    targetElement = tag;
                    break;
                }
            }
            
            // \u9AD8\u4EAE\u76EE\u6807\u5143\u7D20
            document.querySelectorAll('.selected-tag').forEach(tag => {
                if (tag !== draggedElement) {
                    tag.classList.remove('drag-over');
                }
            });
            
            if (targetElement) {
                targetElement.classList.add('drag-over');
            }
        });
    } else {
        // \u964D\u7EA7\u5904\u7406\uFF0C\u5982\u679C\u4E0D\u652F\u6301 requestAnimationFrame
        const touch = e.touches[0];
        
        // \u83B7\u53D6\u62D6\u52A8\u5143\u7D20\u7684\u5C3A\u5BF8
        const elementRect = draggedElement.getBoundingClientRect();
        
        // \u521B\u5EFA\u4E00\u4E2A\u4E34\u65F6\u7684\u62D6\u52A8\u5143\u7D20\uFF0C\u800C\u4E0D\u662F\u79FB\u52A8\u539F\u59CB\u5143\u7D20
        if (!document.getElementById('touch-drag-ghost')) {
            const ghostElement = draggedElement.cloneNode(true);
            ghostElement.id = 'touch-drag-ghost';
            ghostElement.style.position = 'fixed'; // \u4F7F\u7528 fixed \u800C\u4E0D\u662F absolute
            ghostElement.style.left = '0';
            ghostElement.style.top = '0';
            ghostElement.style.pointerEvents = 'none'; // \u9632\u6B62\u5E72\u6270\u89E6\u6478\u4E8B\u4EF6
            ghostElement.style.zIndex = '9999';
            ghostElement.style.transform = 'translate(' + (touch.clientX - (elementRect.width / 2)) + 'px, ' + (touch.clientY - (elementRect.height / 2)) + 'px) rotate(5deg)';
            ghostElement.style.opacity = '0.8';
            ghostElement.style.boxSizing = 'border-box'; // \u786E\u4FDD\u5C3A\u5BF8\u8BA1\u7B97\u6B63\u786E
            ghostElement.style.width = elementRect.width + 'px'; // \u56FA\u5B9A\u5BBD\u5EA6
            ghostElement.style.height = elementRect.height + 'px'; // \u56FA\u5B9A\u9AD8\u5EA6
            document.body.appendChild(ghostElement);
        } else {
            const ghostElement = document.getElementById('touch-drag-ghost');
            ghostElement.style.transform = 'translate(' + (touch.clientX - (elementRect.width / 2)) + 'px, ' + (touch.clientY - (elementRect.height / 2)) + 'px) rotate(5deg)';
        }
        
        // \u68C0\u67E5\u4E0E\u5176\u4ED6\u5143\u7D20\u7684\u78B0\u649E
        const container = document.getElementById('selected-tags');
        const tags = Array.from(container.querySelectorAll('.selected-tag')).filter(tag => tag !== draggedElement);
        let targetElement = null;
        
        for (const tag of tags) {
            const rect = tag.getBoundingClientRect();
            if (touch.clientX >= rect.left && touch.clientX <= rect.right &&
                touch.clientY >= rect.top && touch.clientY <= rect.bottom) {
                targetElement = tag;
                break;
            }
        }
        
        // \u9AD8\u4EAE\u76EE\u6807\u5143\u7D20
        document.querySelectorAll('.selected-tag').forEach(tag => {
            if (tag !== draggedElement) {
                tag.classList.remove('drag-over');
            }
        });
        
        if (targetElement) {
            targetElement.classList.add('drag-over');
        }
    }
}

function handleTouchEnd(e) {
    if (!touchDragging || !draggedElement) return;
    
    // \u9632\u6B62\u9ED8\u8BA4\u7684\u89E6\u6478\u884C\u4E3A
    e.preventDefault();
    
    // \u79FB\u9664\u4E34\u65F6\u62D6\u52A8\u5143\u7D20
    const ghostElement = document.getElementById('touch-drag-ghost');
    if (ghostElement) {
        document.body.removeChild(ghostElement);
    }
    
    // \u627E\u5230\u76EE\u6807\u5143\u7D20\uFF08\u5982\u679C\u6709\uFF09
    const touch = e.changedTouches[0];
    const targetElement = document.elementFromPoint(touch.clientX, touch.clientY);
    
    const container = document.getElementById('selected-tags');
    const targetTag = targetElement.closest('.selected-tag');
    
    // \u5982\u679C\u76EE\u6807\u662F\u53E6\u4E00\u4E2A\u6807\u7B7E\uFF0C\u6267\u884C\u4EA4\u6362
    if (targetTag && targetTag !== draggedElement && container.contains(targetTag)) {
        const allTags = Array.from(container.querySelectorAll('.selected-tag'));
        const draggedIndex = allTags.indexOf(draggedElement);
        const targetIndex = allTags.indexOf(targetTag);

        if (draggedIndex < targetIndex) {
            targetTag.parentNode.insertBefore(draggedElement, targetTag.nextSibling);
        } else {
            targetTag.parentNode.insertBefore(draggedElement, targetTag);
        }
    }
    
    // \u91CD\u7F6E\u5143\u7D20\u6837\u5F0F
    draggedElement.style.transform = '';
    draggedElement.style.opacity = '';
    draggedElement.style.zIndex = '';
    
    // \u79FB\u9664\u62D6\u52A8\u7C7B
    draggedElement.classList.remove('dragging');
    document.querySelectorAll('.selected-tag').forEach(tag => {
        tag.classList.remove('drag-over');
    });
    
    // \u91CD\u7F6E\u53D8\u91CF
    touchDragging = false;
    draggedElement = null;
    
    // \u79FB\u9664\u4E8B\u4EF6\u76D1\u542C\u5668
    document.removeEventListener('touchmove', handleTouchMove);
    document.removeEventListener('touchend', handleTouchEnd);
}

// \u663E\u793A\u52A0\u8F7D\u906E\u7F69
function showLoading(text, detail) {
    document.getElementById('loading-text').textContent = text;
    document.getElementById('loading-detail').textContent = detail;
    document.getElementById('loading-overlay').classList.add('active');
    document.getElementById('progress-container').classList.add('active');
    updateProgress(0);
}

// \u9690\u85CF\u52A0\u8F7D\u906E\u7F69
function hideLoading() {
    document.getElementById('loading-overlay').classList.remove('active');
    setTimeout(() => {
        document.getElementById('progress-container').classList.remove('active');
        updateProgress(0);
    }, 300);
}

// \u66F4\u65B0\u52A0\u8F7D\u6587\u672C
function updateLoadingText(text, detail) {
    document.getElementById('loading-text').textContent = text;
    document.getElementById('loading-detail').textContent = detail;
}

// \u66F4\u65B0\u8FDB\u5EA6\u6761
function updateProgress(percent) {
    document.getElementById('progress-bar').style.width = percent + '%';
}

// \u6E32\u67D3\u73AF\u5883\u53D8\u91CF\u5217\u8868
function renderEnvList() {
    const list = document.getElementById('env-list');
    const items = envVariables[currentCategory] || [];

    if (items.length === 0) {
        list.innerHTML = '<p class="text-gray padding-20 text-center">\u6682\u65E0\u914D\u7F6E\u9879</p>';
        return;
    }

    list.innerHTML = items.map((item, index) => {
        const typeLabel = item.type === 'boolean' ? '\u5E03\u5C14' :
                         item.type === 'number' ? '\u6570\u5B57' :
                         item.type === 'select' ? '\u5355\u9009' :
                         item.type === 'map' ? '\u6620\u5C04' :
                         item.type === 'multi-select' ? '\u591A\u9009' : '\u6587\u672C';
        const badgeClass = item.type === 'multi-select' ? 'multi' : '';

        const escapedValue = escapeHtml(item.value);

        return \`
            <div class="env-item">
                <div class="env-info">
                    <strong>\${item.key}<span class="value-type-badge \${badgeClass}">\${typeLabel}</span></strong>
                    <div class="text-dark-gray">\${escapedValue}</div>
                    <div class="text-gray font-size-12 margin-top-3">\${item.description || '\u65E0\u63CF\u8FF0'}</div>
                </div>
                <div class="env-actions">
                    <button class="btn btn-primary" onclick="editEnv(\${index})">\u7F16\u8F91</button>
                    <button class="btn btn-danger" onclick="deleteEnv(\${index})">\u5220\u9664</button>
                </div>
            </div>
        \`;
    }).join('');
}

// \u7F16\u8F91\u73AF\u5883\u53D8\u91CF
function editEnv(index) {
    const item = envVariables[currentCategory][index];
    const editButton = event.target; // \u83B7\u53D6\u5F53\u524D\u70B9\u51FB\u7684\u7F16\u8F91\u6309\u94AE
    
    // \u8BBE\u7F6E\u6309\u94AE\u4E3A\u52A0\u8F7D\u72B6\u6001
    const originalText = editButton.innerHTML;
    editButton.innerHTML = '<span class="loading-spinner-small"></span>';
    editButton.disabled = true;
    
    editingKey = index;
    document.getElementById('modal-title').textContent = '\u7F16\u8F91\u914D\u7F6E\u9879';
    document.getElementById('env-category').value = currentCategory;
    document.getElementById('env-key').value = item.key;
    document.getElementById('env-description').value = item.description || '';
    document.getElementById('value-type').value = item.type || 'text';

    // \u8BBE\u7F6E\u5B57\u6BB5\u4E3A\u53EA\u8BFB\uFF08\u7F16\u8F91\u6A21\u5F0F\u4E0B\uFF09
    document.getElementById('env-category').disabled = true;
    document.getElementById('env-key').readOnly = true;
    document.getElementById('value-type').disabled = true;
    document.getElementById('env-description').readOnly = true;

    // \u6E32\u67D3\u5BF9\u5E94\u7684\u503C\u8F93\u5165\u63A7\u4EF6
    renderValueInput(item);

    document.getElementById('env-modal').classList.add('active');
    
    // \u6062\u590D\u6309\u94AE\u72B6\u6001\uFF08\u5728\u5B9E\u9645\u573A\u666F\u4E2D\uFF0C\u8FD9\u4F1A\u5728\u7F16\u8F91\u5B8C\u6210\u540E\u53D1\u751F\uFF0C\u6BD4\u5982\u5728\u4FDD\u5B58\u540E\u6216\u53D6\u6D88\u540E\uFF09
    // \u4E3A\u4E86\u6F14\u793A\uFF0C\u8FD9\u91CC\u7ACB\u5373\u6062\u590D\u6309\u94AE\u72B6\u6001\uFF0C\u5B9E\u9645\u4F7F\u7528\u4E2D\u5E94\u8BE5\u5728\u9002\u5F53\u7684\u5730\u65B9\u6062\u590D\u6309\u94AE\u72B6\u6001
    editButton.innerHTML = originalText;
    editButton.disabled = false;
}

// \u5220\u9664\u73AF\u5883\u53D8\u91CF
function deleteEnv(index) {
    customConfirm('\u786E\u5B9A\u8981\u5220\u9664\u8FD9\u4E2A\u914D\u7F6E\u9879\u5417?', '\u5220\u9664\u786E\u8BA4').then(confirmed => {
        if (confirmed) {
            const item = envVariables[currentCategory][index];
            const key = item.key;
            const deleteButton = event.target; // \u83B7\u53D6\u5F53\u524D\u70B9\u51FB\u7684\u5220\u9664\u6309\u94AE

            // \u8BBE\u7F6E\u6309\u94AE\u4E3A\u52A0\u8F7D\u72B6\u6001
            const originalText = deleteButton.innerHTML;
            deleteButton.innerHTML = '<span class="loading-spinner-small"></span>';
            deleteButton.disabled = true;

            // \u8C03\u7528API\u5220\u9664\u73AF\u5883\u53D8\u91CF
            fetch(buildApiUrl('/api/env/del'), {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ key })
            })
            .then(response => response.json())
            .then(result => {
                if (result.success) {
                    // \u4ECE\u672C\u5730\u6570\u636E\u4E2D\u5220\u9664
                    envVariables[currentCategory].splice(index, 1);
                    renderEnvList();
                    renderPreview();
                    addLog(\`\u5220\u9664\u914D\u7F6E\u9879: \${key}\`, 'warn');
                } else {
                    addLog(\`\u5220\u9664\u914D\u7F6E\u9879\u5931\u8D25: \${result.message}\`, 'error');
                    addLog(\`\u5220\u9664\u914D\u7F6E\u9879\u5931\u8D25: \${result.message}\`, 'error');
                }
            })
            .catch(error => {
                addLog(\`\u5220\u9664\u914D\u7F6E\u9879\u5931\u8D25: \${error.message}\`, 'error');
                addLog(\`\u5220\u9664\u914D\u7F6E\u9879\u5931\u8D25: \${error.message}\`, 'error');
            })
            .finally(() => {
                // \u6062\u590D\u6309\u94AE\u72B6\u6001
                deleteButton.innerHTML = originalText;
                deleteButton.disabled = false;
            });
        }
    });
}

// \u8868\u5355\u63D0\u4EA4
document.getElementById('env-form').addEventListener('submit', async function(e) {
    e.preventDefault();

    const category = document.getElementById('env-category').value;
    const key = document.getElementById('env-key').value.trim();
    const description = document.getElementById('env-description').value.trim();
    const type = document.getElementById('value-type').value;

    // \u6839\u636E\u7C7B\u578B\u83B7\u53D6\u503C
    let value, itemData;

    if (type === 'boolean') {
        value = document.getElementById('bool-value').checked ? 'true' : 'false';
        itemData = { key, value, description, type };
    } else if (type === 'number') {
        value = document.getElementById('num-value').textContent;
        const min = parseInt(document.getElementById('num-slider').min);
        const max = parseInt(document.getElementById('num-slider').max);
        itemData = { key, value, description, type, min, max };
    } else if (type === 'select') {
        const selected = document.querySelector('.tag-option.selected');
        value = selected ? selected.dataset.value : '';
        const options = Array.from(document.querySelectorAll('.tag-option')).map(el => el.dataset.value);
        itemData = { key, value, description, type, options };
    } else if (type === 'multi-select') {
        // \u5982\u679C\u5F00\u542F\u4E86\u5408\u5E76\u6A21\u5F0F\uFF0C\u4E14\u6682\u5B58\u533A\u8FD8\u6709\u5185\u5BB9\uFF0C\u81EA\u52A8\u5C06\u5176\u89C6\u4E3A\u786E\u8BA4\u6DFB\u52A0
        if (isMergeMode && stagingTags && stagingTags.length > 0) {
            confirmMergeGroup();
        }

        const selectedTags = Array.from(document.querySelectorAll('.selected-tag'))
            .map(el => el.dataset.value);
        value = selectedTags.join(',');
        const options = Array.from(document.querySelectorAll('.available-tag')).map(el => el.dataset.value);
        itemData = { key, value, description, type, options };
    } else if (type === 'map') {
        // \u83B7\u53D6\u6620\u5C04\u8868\u503C
        const mapItems = document.querySelectorAll('#map-container .map-item');
        const pairs = [];
        mapItems.forEach(item => {
            const leftInput = item.querySelector('.map-input-left');
            const rightInput = item.querySelector('.map-input-right');
            const leftValue = leftInput.value.trim();
            const rightValue = rightInput.value.trim();
            if (leftValue && rightValue) {
                pairs.push(leftValue + '->' + rightValue);
            }
        });
        value = pairs.join(';');
        itemData = { key, value, description, type };
    } else {
        value = document.getElementById('text-value').value.trim();
        itemData = { key, value, description, type };
    }

    // \u8C03\u7528API\u66F4\u65B0\u73AF\u5883\u53D8\u91CF - \u5148\u5C1D\u8BD5set\u63A5\u53E3\uFF0C\u5931\u8D25\u5219\u8C03\u7528add\u63A5\u53E3
    try {
        // \u9996\u5148\u5C1D\u8BD5\u4F7F\u7528set\u63A5\u53E3\u66F4\u65B0
        let response = await fetch(buildApiUrl('/api/env/set'), {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ key, value })
        });

        let result = await response.json();

        if (!result.success) {
            // \u5982\u679Cset\u63A5\u53E3\u5931\u8D25\uFF0C\u5C1D\u8BD5\u4F7F\u7528add\u63A5\u53E3
            response = await fetch(buildApiUrl('/api/env/add'), {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ key, value })
            });

            result = await response.json();
        }

        if (result.success) {
            // \u66F4\u65B0\u672C\u5730\u6570\u636E
            if (!envVariables[category]) {
                envVariables[category] = [];
            }

            if (editingKey !== null) {
                envVariables[currentCategory][editingKey] = itemData;
                addLog(\`\u66F4\u65B0\u914D\u7F6E\u9879: \${key} = \${value}\`, 'success');
            } else {
                envVariables[category].push(itemData);
                addLog(\`\u6DFB\u52A0\u914D\u7F6E\u9879: \${key} = \${value}\`, 'success');
            }

            if (category !== currentCategory) {
                currentCategory = category;
                document.querySelectorAll('.category-btn').forEach((btn, i) => {
                    btn.classList.toggle('active', ['api', 'source', 'match', 'danmu', 'cache', 'system'][i] === category);
                });
            }

            renderEnvList();
            renderPreview();
            closeModal();
        } else {
            addLog(\`\u64CD\u4F5C\u5931\u8D25: \${result.message}\`, 'error');
            addLog(\`\u64CD\u4F5C\u5931\u8D25: \${result.message}\`, 'error');
            customAlert(result.message + '\uFF0C\u8BF7\u68C0\u67E5\u90E8\u7F72\u5E73\u53F0\u76F8\u5173\u73AF\u5883\u53D8\u91CF\u914D\u7F6E\u662F\u5426\u6B63\u786E');
        }
    } catch (error) {
        addLog(\`\u66F4\u65B0\u73AF\u5883\u53D8\u91CF\u5931\u8D25: \${error.message}\`, 'error');
        addLog(\`\u66F4\u65B0\u73AF\u5883\u53D8\u91CF\u5931\u8D25: \${error.message}\`, 'error');
        customAlert(result.message + '\uFF0C\u8BF7\u68C0\u67E5\u90E8\u7F72\u5E73\u53F0\u76F8\u5173\u73AF\u5883\u53D8\u91CF\u914D\u7F6E\u662F\u5426\u6B63\u786E');
    }
});

// \u6DFB\u52A0\u6620\u5C04\u9879
function addMapItem() {
    const container = document.getElementById('map-container');
    const template = document.querySelector('.map-item-template');
    const newItem = template.cloneNode(true);
    newItem.style.display = 'flex';
    newItem.classList.remove('map-item-template');
    newItem.classList.add('map-item');
    const index = container.querySelectorAll('.map-item').length;
    newItem.setAttribute('data-index', index);
    container.appendChild(newItem);
}

// \u5220\u9664\u6620\u5C04\u9879
function removeMapItem(button) {
    const item = button.closest('.map-item');
    if (item) {
        item.remove();
    }
}
/* ========================================
   Bilibili Cookie \u626B\u7801\u767B\u5F55\u529F\u80FD
   ======================================== */
let biliQRCheckInterval = null;
let biliBiliQRKey = null;

async function startBilibiliQRLogin() {
    // \u521B\u5EFA\u626B\u7801\u767B\u5F55\u6A21\u6001\u6846
    if (!document.getElementById('bili-qr-modal')) {
        const modalHTML = \`
            <div class="modal" id="bili-qr-modal">
                <div class="modal-content" style="max-width: 400px;">
                    <div class="modal-header">
                        <h3>\u626B\u7801\u767B\u5F55 Bilibili</h3>
                        <button class="close-btn" onclick="closeBiliQRModal()">\xD7</button>
                    </div>
                    <div class="modal-body" style="text-align: center;">
                        <div id="bili-qr-container">
                            <div class="loading-spinner" id="bili-qr-loading"></div>
                            <p id="bili-qr-status">\u6B63\u5728\u751F\u6210\u4E8C\u7EF4\u7801...</p>
                            <div id="bili-qr-code" style="display: none;"></div>
                        </div>
                    </div>
                </div>
            </div>
        \`;
        document.body.insertAdjacentHTML('beforeend', modalHTML);
    }
    
    const modal = document.getElementById('bili-qr-modal');
    const qrCode = document.getElementById('bili-qr-code');
    const qrLoading = document.getElementById('bili-qr-loading');
    const qrStatus = document.getElementById('bili-qr-status');
    
    modal.classList.add('active');
    qrCode.style.display = 'none';
    qrCode.innerHTML = '';
    qrLoading.style.display = 'block';
    qrStatus.textContent = '\u6B63\u5728\u751F\u6210\u4E8C\u7EF4\u7801...';
    
    if (biliQRCheckInterval) {
        clearInterval(biliQRCheckInterval);
    }
    
    try {
        const response = await fetch(buildApiUrl('/api/cookie/qr/generate', true), {
            method: 'POST'
        });
        
        const result = await response.json();
        
        if (result.success && result.data) {
            biliBiliQRKey = result.data.qrcode_key;
            const qrUrl = result.data.url;
            
            qrCode.innerHTML = '<img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=' + encodeURIComponent(qrUrl) + '" alt="\u4E8C\u7EF4\u7801">';
            qrCode.style.display = 'block';
            qrLoading.style.display = 'none';
            qrStatus.textContent = '\u8BF7\u4F7F\u7528 Bilibili APP \u626B\u63CF';
            
            startBiliQRCheck();
        } else {
            throw new Error(result.message || '\u751F\u6210\u4E8C\u7EF4\u7801\u5931\u8D25');
        }
    } catch (error) {
        qrLoading.style.display = 'none';
        qrStatus.textContent = error.message;
    }
}

function startBiliQRCheck() {
    if (!biliBiliQRKey) return;
    
    const qrStatus = document.getElementById('bili-qr-status');
    
    biliQRCheckInterval = setInterval(async () => {
        try {
            const response = await fetch(buildApiUrl('/api/cookie/qr/check', true), {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ qrcode_key: biliBiliQRKey })
            });
            
            const result = await response.json();
            
            if (result.success && result.data) {
                const code = result.data.code;
                
                switch (code) {
                    case 86101:
                        qrStatus.textContent = '\u7B49\u5F85\u626B\u7801...';
                        break;
                    case 86090:
                        qrStatus.textContent = '\u5DF2\u626B\u7801\uFF0C\u8BF7\u786E\u8BA4';
                        break;
                    case 86038:
                        qrStatus.textContent = '\u4E8C\u7EF4\u7801\u5DF2\u8FC7\u671F';
                        clearInterval(biliQRCheckInterval);
                        break;
                    case 0:
                        qrStatus.textContent = '\u767B\u5F55\u6210\u529F\uFF01';
                        clearInterval(biliQRCheckInterval);
                        
                        if (result.data.cookie) {
                            fillBilibiliCookie(result.data.cookie);
                        }
                        
                        setTimeout(() => {
                            closeBiliQRModal();
                        }, 1000);
                        break;
                }
            }
        } catch (error) {
            console.error('\u68C0\u67E5\u626B\u7801\u72B6\u6001\u5931\u8D25:', error);
        }
    }, 2000);
}

function fillBilibiliCookie(cookie) {
    const textInput = document.getElementById('text-value');
    if (textInput) {
        textInput.value = cookie;
        textInput.dispatchEvent(new Event('input', { bubbles: true }));
        
        textInput.style.borderColor = 'var(--success-color, #28a745)';
        setTimeout(() => {
            textInput.style.borderColor = '';
            // \u586B\u5165\u540E\u89E6\u53D1\u68C0\u6D4B\u4E00\u6B21\uFF08\u4F1A\u63D0\u793A\u7528\u6237\u4FDD\u5B58\uFF09
            autoCheckBilibiliCookieStatus();
        }, 2000);
    }
}

function closeBiliQRModal() {
    const modal = document.getElementById('bili-qr-modal');
    if (modal) {
        modal.classList.remove('active');
    }
    
    if (biliQRCheckInterval) {
        clearInterval(biliQRCheckInterval);
    }
}

async function autoCheckBilibiliCookieStatus() {
    const textInput = document.getElementById('text-value');
    const statusEl = document.getElementById('bili-cookie-status');
    
    if (!textInput || !statusEl) return;
    
    const cookie = textInput.value.trim();
    
    // \u5982\u679C\u8F93\u5165\u6846\u4E3A\u7A7A,\u63D0\u793A\u672A\u914D\u7F6E
    if (!cookie) {
        statusEl.innerHTML = '<span class="bili-status-text">\u672A\u914D\u7F6E</span>';
        return;
    }
    
    statusEl.innerHTML = '<span class="bili-status-text">\u68C0\u6D4B\u4E2D...</span>';

    // \u8131\u654F\u540E\u7684 *...* \u65E0\u6CD5\u76F4\u63A5\u6821\u9A8C\uFF0C\u540E\u7AEF\u4F1A\u81EA\u52A8\u6539\u4E3A\u6821\u9A8C\u201C\u5DF2\u4FDD\u5B58\u201D\u7684 Cookie
    const isMasked = /^[*]+$/.test(cookie);
    const payload = isMasked ? {} : { cookie };

    try {
        const response = await fetch(buildApiUrl('/api/cookie/verify', true), {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
        });

        const result = await response.json();

        if (result && result.success && result.data) {
            if (result.data.isValid) {
                const uname = result.data.uname || '\u5DF2\u767B\u5F55';
                const expiresAt = result.data.expiresAt;
                const now = Math.floor(Date.now() / 1000);

                let leftText = '';
                if (typeof expiresAt === 'number' && expiresAt > now) {
                    const daysLeft = Math.ceil((expiresAt - now) / (24 * 60 * 60));
                    leftText = \` (\u5269\u4F59 \${daysLeft} \u5929)\`;
                }

                // \u7528\u6237\u624B\u52A8\u8F93\u5165/\u626B\u7801\u586B\u5165\u7684 Cookie \u2192 \u63D0\u793A\u4FDD\u5B58
                if (!isMasked) {
                    statusEl.innerHTML = \`<span class="bili-status-text">\${uname}\${leftText} \xB7 \u8BF7\u70B9\u51FB\u4FDD\u5B58\u6309\u94AE\uFF08Vercel\u7B49\u5E73\u53F0\u9700\u91CD\u65B0\u90E8\u7F72\u540E\u751F\u6548\uFF09</span>\`;
                } else {
                    // \u8131\u654F\u663E\u793A\u65F6\u53EA\u5C55\u793A\u5F53\u524D\u5DF2\u4FDD\u5B58 Cookie \u7684\u72B6\u6001
                    statusEl.innerHTML = \`<span class="bili-status-text">\${uname}\${leftText}</span>\`;
                }
            } else {
                const err = result.data.error || 'Cookie\u65E0\u6548\u6216\u5DF2\u5931\u6548';
                statusEl.innerHTML = \`<span class="bili-status-text">\${err}\uFF0C\u8BF7\u91CD\u65B0\u626B\u7801\u767B\u5F55\u5E76\u4FDD\u5B58</span>\`;
            }
        } else {
            statusEl.innerHTML = '<span class="bili-status-text">\u68C0\u6D4B\u5931\u8D25</span>';
        }
    } catch (error) {
        statusEl.innerHTML = '<span class="bili-status-text">\u68C0\u6D4B\u5931\u8D25</span>';
    }
}
// \u663E\u793A Bilibili Cookie \u4FDD\u5B58\u63D0\u793A
function showBilibiliCookieSaveHint(text) {
    const statusEl = document.getElementById('bili-cookie-status');
    if (!statusEl) return;

    const msg = text || '\u8BF7\u70B9\u51FB\u4FDD\u5B58\u6309\u94AE,Vercel\u7B49\u5E73\u53F0\u9700\u91CD\u65B0\u90E8\u7F72\u540E\u751F\u6548';
    statusEl.innerHTML = \`<span class="bili-status-text">\${msg}</span>\`;
}

/* ========================================
   AI API Key \u8FDE\u901A\u6027\u6D4B\u8BD5\u529F\u80FD
   ======================================== */
async function verifyAiConnection() {
    const statusEl = document.getElementById('ai-apikey-status');
    const btn = document.getElementById('ai-verify-btn');
    const textInput = document.getElementById('text-value');
    
    if (!statusEl || !textInput) return;
    
    const apiKey = textInput.value.trim();
    
    // \u5982\u679C\u8F93\u5165\u6846\u4E3A\u7A7A\uFF0C\u63D0\u793A\u672A\u914D\u7F6E
    if (!apiKey) {
        statusEl.innerHTML = '<span class="ai-status-icon">\u26A0\uFE0F</span><span class="ai-status-text">\u8BF7\u5148\u8F93\u5165 API Key</span>';
        return;
    }
    
    // \u8BBE\u7F6E\u6309\u94AE\u4E3A\u52A0\u8F7D\u72B6\u6001
    const originalText = btn.innerHTML;
    btn.innerHTML = '<span class="loading-spinner-small"></span>';
    btn.disabled = true;
    
    statusEl.innerHTML = '<span class="ai-status-icon">\u{1F50D}</span><span class="ai-status-text">\u6B63\u5728\u6D4B\u8BD5\u8FDE\u901A\u6027...</span>';
    
    // \u68C0\u67E5\u662F\u5426\u4E3A\u8131\u654F\u540E\u7684 *...* 
    const isMasked = /^[*]+$/.test(apiKey);
    
    try {
        const response = await fetch(buildApiUrl('/api/ai/verify', true), {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(isMasked ? {} : { 'aiApiKey': apiKey })
        });
        
        const result = await response.json();
        
        if (result.ok) {
            statusEl.innerHTML = '<span class="ai-status-icon">\u2705</span><span class="ai-status-text">' + (result.message || 'AI \u670D\u52A1\u8FDE\u901A\u6027\u6D4B\u8BD5\u6210\u529F') + '</span>';
            statusEl.style.color = 'var(--success-color, #28a745)';
        } else {
            statusEl.innerHTML = '<span class="ai-status-icon">\u274C</span><span class="ai-status-text">' + (result.message || '\u8FDE\u901A\u6027\u6D4B\u8BD5\u5931\u8D25') + '</span>';
            statusEl.style.color = 'var(--danger-color, #dc3545)';
        }
    } catch (error) {
        statusEl.innerHTML = '<span class="ai-status-icon">\u26A0\uFE0F</span><span class="ai-status-text">\u6D4B\u8BD5\u8BF7\u6C42\u5931\u8D25: ' + error.message + '</span>';
        statusEl.style.color = 'var(--warning-color, #ffc107)';
    } finally {
        // \u6062\u590D\u6309\u94AE\u72B6\u6001
        btn.innerHTML = originalText;
        btn.disabled = false;
    }
}
`;var hpe=`
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LogVar\u5F39\u5E55API</title>
    <link rel="icon" type="image/jpg" href="https://i.mji.rip/2025/09/27/eedc7b701c0fa5c1f7c175b22f441ad9.jpeg">
    <link rel="apple-touch-icon" href="https://i.mji.rip/2025/09/27/eedc7b701c0fa5c1f7c175b22f441ad9.jpeg">
    <style>${npe}</style>
    <style>${spe}</style>
    <style>${ipe}</style>
    <style>${ape}</style>
    
</head>
<body>
    <div class="container">
        <!-- \u8FDB\u5EA6\u6761 -->
        <div class="progress-container" id="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>

        <div class="header">
            <div class="header-left">
                <div class="logo-title-container">
                    <div class="logo"><img src="https://i.mji.rip/2025/09/27/eedc7b701c0fa5c1f7c175b22f441ad9.jpeg" width="500"/></div>
                    <h1>LogVar\u5F39\u5E55API</h1>
                </div>
                <div class="version-info">
                    <span class="version-badge">\u5F53\u524D\u7248\u672C: <span id="current-version">v${B.version}</span></span>
                    <span class="update-badge" id="update-badge">
                        \u6700\u65B0\u7248\u672C: <span id="latest-version">\u52A0\u8F7D\u4E2D...</span>
                    </span>
                    <span class="api-endpoint-badge">
                        API\u7AEF\u70B9: <span id="api-endpoint" title="\u70B9\u51FB\u590D\u5236API\u7AEF\u70B9" style="cursor: pointer; color: var(--success-color); font-weight: bold;" onclick="copyApiEndpoint()">\u52A0\u8F7D\u4E2D...</span>
                    </span>
                </div>
            </div>
            <div class="nav-buttons">
                <button class="nav-btn active" onclick="switchSection('preview', event)">\u914D\u7F6E\u9884\u89C8</button>
                <button class="nav-btn" onclick="switchSection('logs', event)">\u65E5\u5FD7\u67E5\u770B</button>
                <button class="nav-btn" onclick="switchSection('api', event)">\u63A5\u53E3\u8C03\u8BD5</button>
                <button class="nav-btn" onclick="switchSection('push', event)">\u63A8\u9001\u5F39\u5E55</button>
                <button class="nav-btn" onclick="switchSection('request-records', event)">\u8BF7\u6C42\u8BB0\u5F55</button>
                <button class="nav-btn" onclick="switchSection('env', event)" id="env-nav-btn">\u7CFB\u7EDF\u914D\u7F6E</button>
            </div>
        </div>

        <div class="content">
            <!-- \u914D\u7F6E\u9884\u89C8 -->
            <div class="section active" id="preview-section">
                <h2>\u914D\u7F6E\u9884\u89C8</h2>
                
                <div id="proxy-config-container" style="display: none; background: rgba(255, 204, 0, 0.08); border: 1px solid rgba(255, 204, 0, 0.2); padding: 24px; border-radius: 16px; margin-bottom: 24px;">
                    <h3 style="color: #997a00; margin-top: 0; font-size: 16px; margin-bottom: 12px;">\u83B7\u53D6\u914D\u7F6E\u5931\u8D25</h3>
                    <p style="color: #997a00; margin-bottom: 16px; font-size: 14px; opacity: 0.9;">
                        \u68C0\u6D4B\u5230\u65E0\u6CD5\u83B7\u53D6\u914D\u7F6E\u3002\u5982\u679C\u60A8\u4F7F\u7528\u4E86\u590D\u6742\u7684\u53CD\u5411\u4EE3\u7406\uFF1A\u4F8B\u5982\u5C06 <code>http://{ip}:9321/</code> \u4EE3\u7406\u5230\u4E86 <code>http://{ip}:9321/danmu_api/</code>\uFF0C\u8BF7\u5728\u6B64\u5904\u624B\u52A8\u8F93\u5165\u5B8C\u6574\u7684\u53CD\u4EE3\u540E\u94FE\u63A5\uFF08\u4E0D\u5305\u542BTOKEN\u548CADMIN_TOKEN\u7684\uFF09
                    </p>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <input type="text" id="custom-base-url" placeholder="\u4F8B\u5982: http://192.168.8.1:2333/danmu_api/ (\u7559\u7A7A\u4FDD\u5B58\u5373\u6062\u590D\u9ED8\u8BA4)" style="flex: 1; min-width: 200px; padding: 12px; border: 1px solid rgba(0,0,0,0.1); border-radius: 12px;">
                        <button class="btn btn-primary" onclick="saveBaseUrl()">\u4FDD\u5B58\u5E76\u5237\u65B0</button>
                    </div>
                    <p style="color: var(--text-secondary); font-size: 12px; margin-top: 10px; opacity: 0.8;">* \u8BBE\u7F6E\u5C06\u4FDD\u5B58\u5728\u6D4F\u89C8\u5668\u672C\u5730\u5B58\u50A8\u4E2D\uFF0C\u6E05\u9664\u7F51\u9875\u7684\u2018\u672C\u5730\u5B58\u50A8\u7A7A\u95F4\u2019\u6216\u8005\u8F93\u5165\u6846\u4E2D\u7559\u7A7A\u5E76\u4FDD\u5B58\u53EF\u6062\u590D\u9ED8\u8BA4</p>
                </div>

                <div class="env-categories">
                    <button class="category-btn active" onclick="switchPreviewCategory('api', event)">API\u914D\u7F6E</button>
                    <button class="category-btn" onclick="switchPreviewCategory('source', event)">\u6E90\u914D\u7F6E</button>
                    <button class="category-btn" onclick="switchPreviewCategory('match', event)">\u5339\u914D\u914D\u7F6E</button>
                    <button class="category-btn" onclick="switchPreviewCategory('danmu', event)">\u5F39\u5E55\u914D\u7F6E</button>
                    <button class="category-btn" onclick="switchPreviewCategory('cache', event)">\u7F13\u5B58\u914D\u7F6E</button>
                    <button class="category-btn" onclick="switchPreviewCategory('system', event)">\u7CFB\u7EDF\u914D\u7F6E</button>
                </div>

                <p style="color: var(--text-secondary); margin-bottom: 20px; font-size: 14px;">\u5F53\u524D\u751F\u6548\u7684\u73AF\u5883\u53D8\u91CF\u914D\u7F6E</p>
                <div class="preview-area" id="preview-area"></div>
            </div>

            <!-- \u65E5\u5FD7\u67E5\u770B -->
            <div class="section" id="logs-section">
                <h2>\u65E5\u5FD7\u67E5\u770B</h2>
                <div class="log-controls">
                    <div>
                        <button class="btn btn-primary" onclick="refreshLogs()">\u5237\u65B0\u65E5\u5FD7</button>
                        <button class="btn btn-danger" onclick="clearLogs()">\u6E05\u7406\u65E5\u5FD7</button>
                    </div>
                    <span style="color: var(--text-secondary); font-size: 13px;">\u5B9E\u65F6\u65E5\u5FD7\u76D1\u63A7</span>
                </div>
                <div class="log-container" id="log-container"></div>
            </div>

            <!-- \u63A5\u53E3\u8C03\u8BD5 -->
            <div class="section" id="api-section">
                <h2>\u63A5\u53E3\u8C03\u8BD5</h2>
                <div class="api-selector">
                    <div class="form-group">
                        <label>\u9009\u62E9\u63A5\u53E3</label>
                        <select id="api-select" onchange="loadApiParams()">
                            <option value="">-- \u8BF7\u9009\u62E9\u63A5\u53E3 --</option>
                            <option value="searchAnime">\u641C\u7D22\u52A8\u6F2B - /api/v2/search/anime</option>
                            <option value="searchEpisodes">\u641C\u7D22\u5267\u96C6 - /api/v2/search/episodes</option>
                            <option value="matchAnime">\u5339\u914D\u52A8\u6F2B - /api/v2/match</option>
                            <option value="getBangumi">\u83B7\u53D6\u756A\u5267\u8BE6\u60C5 - /api/v2/bangumi/:animeId</option>
                            <option value="getComment">\u83B7\u53D6\u5F39\u5E55 - /api/v2/comment/:commentId</option>
                            <option value="getSegmentComment">\u83B7\u53D6\u5206\u7247\u5F39\u5E55 - /api/v2/segmentcomment</option>
                        </select>
                    </div>
                </div>

                <div class="api-params" id="api-params" style="display: none;">
                    <h3 style="margin-bottom: 15px; font-size: 16px;">\u63A5\u53E3\u53C2\u6570</h3>
                    <div id="params-form"></div>
                    <button class="btn btn-success" onclick="testApi()" style="margin-top: 15px;">\u53D1\u9001\u8BF7\u6C42</button>
                </div>

                <div id="api-response-container" style="display: none;">
                    <h3 style="margin: 24px 0 12px; font-size: 16px;">\u54CD\u5E94\u7ED3\u679C</h3>
                    <div class="api-response" id="api-response"></div>
                </div>
            </div>

            <!-- \u63A8\u9001\u5F39\u5E55 -->
            <div class="section" id="push-section">
                <h2>\u63A8\u9001\u5F39\u5E55</h2>
                <p style="color: var(--text-secondary); margin-bottom: 24px; font-size: 13px;">\u652F\u6301OK\u5F71\u89C6\u7B49\u64AD\u653E\u5668\uFF0C\u4E24\u7AEF\u9700\u8981\u5728\u540C\u4E00\u5C40\u57DF\u7F51\u6216\u4F7F\u7528\u516C\u7F51ip\uFF0C\u63A8\u9001\u5730\u5740\u683C\u5F0F\u5982 http://127.0.0.1:9978/action?do=refresh&type=danmaku&path=</p>
                <div class="push-controls" style="margin-bottom: 24px;">
                    <div class="form-group" style="margin-bottom: 20px;">
                        <label>\u63A8\u9001\u5730\u5740</label>
                        <input type="text" id="push-url" placeholder="\u8BF7\u8F93\u5165\u63A8\u9001\u5730\u5740\uFF0C\u4F8B\u5982: http://127.0.0.1:9978/action?do=refresh&type=danmaku&path=">
                    </div>
                    <div class="form-group" style="margin-bottom: 20px;">
                        <label>\u641C\u7D22\u5173\u952E\u5B57</label>
                        <div style="margin-top: 8px; display: flex; gap: 10px;">
                            <input type="text" id="push-search-keyword" placeholder="\u8BF7\u8F93\u5165\u641C\u7D22\u5173\u952E\u5B57" style="flex: 1;">
                            <button class="btn btn-primary" onclick="searchAnimeForPush()" style="width: auto; padding: 0 24px;">\u641C\u7D22</button>
                        </div>
                    </div>
                </div>
                <div id="push-anime-list" class="anime-list" style="display: none;"></div>
                <div id="push-episode-list" class="episode-list" style="display: none; margin-top: 24px;"></div>
            </div>

            <!-- \u8BF7\u6C42\u8BB0\u5F55 -->
            <div class="section" id="request-records-section">
                <h2>\u8BF7\u6C42\u8BB0\u5F55</h2>
                <div class="log-controls">
                    <div>
                        <button class="btn btn-primary" id="refresh-request-records">\u{1F504} \u5237\u65B0\u8BB0\u5F55</button>
                        <span id="total-requests-today" style="color: #ff5722; margin-left: 15px; vertical-align: middle; font-size: 1.2em; font-weight: bold;"></span>
                    </div>
                    <span style="color: #666;">\u4E91\u670D\u52A1\u90E8\u7F72\u9700\u8981\u914D\u7F6Eredis</span>
                </div>
                <div class="request-records-container" id="request-records-list"></div>
            </div>

            <!-- \u7CFB\u7EDF\u914D\u7F6E -->
            <div class="section" id="env-section">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px; flex-wrap: wrap; gap: 16px;">
                    <div>
                        <h2 style="margin: 0;">\u73AF\u5883\u53D8\u91CF\u914D\u7F6E</h2>
                        <p style="margin: 8px 0 0 0; color: var(--text-secondary); font-size: 13px;">vercel/netlify/edgeone\u5E73\u53F0\u4FEE\u6539\u53D8\u91CF\u540E\u9700\u8981\u91CD\u65B0\u90E8\u7F72</p>
                    </div>
                <div style="display: flex; gap: 12px; flex-wrap: wrap;">
                    <button class="btn btn-danger" onclick="showClearCacheModal()" title="\u6E05\u7406\u7CFB\u7EDF\u7F13\u5B58">
                        \u6E05\u7406\u7F13\u5B58
                    </button>
                    <button class="btn btn-success" onclick="showDeploySystemModal()" title="\u91CD\u65B0\u90E8\u7F72\u7CFB\u7EDF">
                        \u91CD\u65B0\u90E8\u7F72
                    </button>
                </div>

                <!-- \u6E05\u7406\u7F13\u5B58\u786E\u8BA4\u6A21\u6001\u6846 -->
                <div class="modal" id="clear-cache-modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>\u786E\u8BA4\u6E05\u7406\u7F13\u5B58</h3>
                            <button class="close-btn" onclick="hideClearCacheModal()">&times;</button>
                        </div>
                        <div class="modal-body">
                            <p style="margin-bottom: 20px;">\u786E\u5B9A\u8981\u6E05\u7406\u6240\u6709\u7F13\u5B58\u5417\uFF1F\u8FD9\u5C06\u6E05\u9664\uFF1A</p>
                            <ul class="confirmation-list">
                                <li>\u52A8\u6F2B\u641C\u7D22\u7F13\u5B58 (animes)</li>
                                <li>\u5267\u96C6ID\u7F13\u5B58 (episodeIds)</li>
                                <li>\u5267\u96C6\u7F16\u53F7\u7F13\u5B58 (episodeNum)</li>
                                <li>\u6700\u540E\u9009\u62E9\u6620\u5C04\u7F13\u5B58 (lastSelectMap)</li>
                                <li>\u641C\u7D22\u7ED3\u679C\u7F13\u5B58</li>
                                <li>\u5F39\u5E55\u5185\u5BB9\u7F13\u5B58</li>
                                <li>\u8BF7\u6C42\u5386\u53F2\u8BB0\u5F55</li>
                            </ul>
                            <p style="color: var(--text-secondary); margin-top: 20px; font-size: 13px;">\u6E05\u7406\u540E\u53EF\u80FD\u9700\u8981\u91CD\u65B0\u767B\u5F55</p>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-success" onclick="confirmClearCache()">\u786E\u8BA4\u6E05\u7406</button>
                            <button class="btn btn-danger" onclick="hideClearCacheModal()">\u53D6\u6D88</button>
                        </div>
                    </div>
                </div>

                <!-- \u91CD\u65B0\u90E8\u7F72\u786E\u8BA4\u6A21\u6001\u6846 -->
                <div class="modal" id="deploy-system-modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>\u786E\u8BA4\u91CD\u65B0\u90E8\u7F72</h3>
                            <button class="close-btn" onclick="hideDeploySystemModal()">&times;</button>
                        </div>
                        <div class="modal-body">
                            <p style="margin-bottom: 20px;">\u786E\u5B9A\u8981\u91CD\u65B0\u90E8\u7F72\u7CFB\u7EDF\u5417\uFF1F</p>
                            <div class="warning-box" style="background: rgba(255, 204, 0, 0.08); border-left: 4px solid #FFCC00;">
                                <p style="margin: 0; font-weight: bold;">\u90E8\u7F72\u8FC7\u7A0B\u4E2D\uFF1A</p>
                                <ul class="confirmation-list">
                                    <li>\u7CFB\u7EDF\u5C06\u77ED\u6682\u4E0D\u53EF\u7528</li>
                                    <li>\u6240\u6709\u914D\u7F6E\u5C06\u91CD\u65B0\u52A0\u8F7D</li>
                                    <li>\u670D\u52A1\u5C06\u81EA\u52A8\u91CD\u542F</li>
                                </ul>
                                <p style="margin-top: 10px; font-size: 13px;">\u9884\u8BA1\u8017\u65F6\uFF1A30-90\u79D2</p>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-success" onclick="confirmDeploySystem()">\u786E\u8BA4\u90E8\u7F72</button>
                            <button class="btn btn-danger" onclick="hideDeploySystemModal()">\u53D6\u6D88</button>
                        </div>
                    </div>
                </div>
                </div>

                <div class="env-categories">
                    <button class="category-btn active" onclick="switchCategory('api', event)">API\u914D\u7F6E</button>
                    <button class="category-btn" onclick="switchCategory('source', event)">\u6E90\u914D\u7F6E</button>
                    <button class="category-btn" onclick="switchCategory('match', event)">\u5339\u914D\u914D\u7F6E</button>
                    <button class="category-btn" onclick="switchCategory('danmu', event)">\u5F39\u5E55\u914D\u7F6E</button>
                    <button class="category-btn" onclick="switchCategory('cache', event)">\u7F13\u5B58\u914D\u7F6E</button>
                    <button class="category-btn" onclick="switchCategory('system', event)">\u7CFB\u7EDF\u914D\u7F6E</button>
                </div>

                <div class="env-list" id="env-list"></div>
            </div>
        </div>
    </div>

    <!-- \u52A0\u8F7D\u906E\u7F69\u5C42 -->
    <div class="loading-overlay" id="loading-overlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <div class="loading-text" id="loading-text">\u6B63\u5728\u5904\u7406...</div>
            <div class="loading-detail" id="loading-detail">\u8BF7\u7A0D\u5019</div>
        </div>
    </div>

    <!-- \u7F16\u8F91\u6A21\u6001\u6846 -->
    <div class="modal" id="env-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">\u7F16\u8F91\u914D\u7F6E\u9879</h3>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <form id="env-form">
                <div class="form-group">
                    <label>\u53D8\u91CF\u7C7B\u522B</label>
                    <select id="env-category" disabled>
                        <option value="api">API\u914D\u7F6E</option>
                        <option value="source">\u6E90\u914D\u7F6E</option>
                        <option value="match">\u5339\u914D\u914D\u7F6E</option>
                        <option value="danmu">\u5F39\u5E55\u914D\u7F6E</option>
                        <option value="cache">\u7F13\u5B58\u914D\u7F6E</option>
                        <option value="system">\u7CFB\u7EDF\u914D\u7F6E</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>\u53D8\u91CF\u540D</label>
                    <input type="text" id="env-key" placeholder="\u4F8B\u5982: DB_HOST" required readonly>
                </div>
                <div class="form-group">
                    <label>\u503C\u7C7B\u578B</label>
                    <select id="value-type" onchange="renderValueInput()" disabled>
                        <option value="text">\u6587\u672C</option>
                        <option value="boolean">\u5E03\u5C14\u503C</option>
                        <option value="number">\u6570\u5B57 (1-100)</option>
                        <option value="select">\u5355\u9009</option>
                        <option value="multi-select">\u591A\u9009 (\u53EF\u6392\u5E8F)</option>
                        <option value="map">\u6620\u5C04</option>
                    </select>
                </div>
                <div class="form-group" id="value-input-container">
                    <!-- \u52A8\u6001\u6E32\u67D3\u7684\u503C\u8F93\u5165\u63A7\u4EF6 -->
                    </div>
                <div class="form-group">
                    <label>\u63CF\u8FF0</label>
                    <textarea id="env-description" placeholder="\u914D\u7F6E\u9879\u8BF4\u660E" readonly></textarea>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button type="submit" class="btn btn-success" style="flex: 1;">\u4FDD\u5B58</button>
                    <button type="button" class="btn btn-danger" onclick="closeModal()" style="flex: 1;">\u53D6\u6D88</button>
                </div>
            </form>
        </div>
    </div>

    <!-- \u9879\u76EE\u58F0\u660E -->
    <footer class="footer">
        <p class="footer-text">
            \u4E00\u4E2A\u4EBA\u4EBA\u90FD\u80FD\u90E8\u7F72\u7684\u57FA\u4E8E js \u7684\u5F39\u5E55 API \u670D\u52A1\u5668\uFF0C\u652F\u6301\u7231\u4F18\u817E\u8292\u54D4\u54AA\u4EBA\u97E9\u5DF4\u72D0\u4E50\u897F\u57CB\u5F39\u5E55\u76F4\u63A5\u83B7\u53D6\uFF0C\u517C\u5BB9\u5F39\u5F39play\u7684\u641C\u7D22\u3001\u8BE6\u60C5\u67E5\u8BE2\u548C\u5F39\u5E55\u83B7\u53D6\u63A5\u53E3\u89C4\u8303\uFF0C\u5E76\u63D0\u4F9B\u65E5\u5FD7\u8BB0\u5F55\uFF0C\u652F\u6301vercel/netlify/edgeone/cloudflare/docker/claw\u7B49\u90E8\u7F72\u65B9\u5F0F\uFF0C\u4E0D\u7528\u63D0\u524D\u4E0B\u8F7D\u5F39\u5E55\uFF0C\u6CA1\u6709nas\u6216\u5C0F\u9E21\u4E5F\u80FD\u4E00\u952E\u90E8\u7F72\u3002
        </p>
        <p class="footer-text">\u672C\u9879\u76EE\u4EC5\u4E3A\u4E2A\u4EBA\u7231\u597D\u5F00\u53D1\uFF0C\u4EE3\u7801\u5F00\u6E90\u3002\u5982\u6709\u4EFB\u4F55\u4FB5\u6743\u884C\u4E3A\uFF0C\u8BF7\u8054\u7CFB\u672C\u4EBA\u5220\u9664\u3002</p>
        <p class="footer-links">
            <a href="https://t.me/ddjdd_bot" target="_blank" class="footer-link tg-link">
                <svg class="tg-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/></svg>
                TG MSG ROBOT
            </a>
            <a href="https://t.me/logvar_danmu_group" target="_blank" class="footer-link tg-link">
                <svg class="tg-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/></svg>
                TG GROUP
            </a>
            <a href="https://t.me/logvar_danmu_channel" target="_blank" class="footer-link tg-link">
                <svg class="tg-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/></svg>
                TG CHANNEL
            </a>
            <a href="https://github.com/huangxd-/danmu_api" target="_blank" class="footer-link github-link">
                <img src="https://upload.wikimedia.org/wikipedia/commons/9/91/Octicons-mark-github.svg" alt="GitHub" class="github-icon">
                GitHub Repo
            </a>
        </p>
        <p>\u6709\u95EE\u9898\u63D0issue\u6216\u79C1\u4FE1\u673A\u5668\u4EBA\u90FDok</p>
    </footer>

    <script>
        ${ope}
        ${cpe}
        ${upe}
        ${lpe}
        ${dpe}
        ${fpe}
        ${ppe}
    </script>
</body>
</html>
`;Ze();var ys=class{static async getHandler(t){switch(t?.toLowerCase()){case"cloudflare":let{CloudflareHandler:r}=await Promise.resolve().then(()=>(gpe(),mpe));return new r;case"vercel":let{VercelHandler:n}=await Promise.resolve().then(()=>(ype(),Ape));return new n;case"netlify":let{NetlifyHandler:s}=await Promise.resolve().then(()=>(Epe(),bpe));return new s;case"edgeone":let{EdgeoneHandler:i}=await Promise.resolve().then(()=>(vpe(),xpe));return new i;case"node":let{NodeHandler:a}=await import(["./node-handler",".js"].join(""));return new a;default:let{NodeHandler:o}=await import(["./node-handler",".js"].join(""));return new o}}static getSupportedPlatforms(){return["cloudflare","vercel","netlify","edgeone","node"]}};function p5(){return new Response(hpe.replace("globals.currentToken",B.currentToken),{headers:{"Content-Type":"text/html; charset=utf-8","Access-Control-Allow-Origin":"*"}})}function UI(e=!1){let t=B.envVarConfig,r={api:[],source:[],match:[],danmu:[],cache:[],system:[]},n={...B.accessedEnvVars,localCacheValid:B.localCacheValid,redisValid:B.redisValid,aiValid:B.aiValid,deployPlatform:B.deployPlatform};Object.keys(n).forEach(o=>{let c=t[o]||{category:"system",type:"text",description:"\u672A\u5206\u7C7B\u914D\u7F6E\u9879"},u=c.category||"system";r[u].push({key:o,value:n[o].value||n[o],type:n[o].type||c.type||"text",description:c.description||"\u65E0\u63CF\u8FF0",options:n[o].options||c.options})});let i=(B.adminToken||"").trim()!=="",a={...B.originalEnvVars};return(!e||B.currentToken!==B.adminToken)&&Object.keys(a).forEach(o=>{(B.currentToken!==B.token||o!=="TOKEN")&&o in n&&/^\*+$/.test(n[o])&&(a[o]=n[o])}),be({message:"Welcome to the LogVar Danmu API server",version:B.VERSION,envs:n,categorizedEnvVars:r,envVarConfig:t,originalEnvVars:a,hasAdminToken:i,repository:"https://github.com/huangxd-/danmu_api.git",description:"\u4E00\u4E2A\u4EBA\u4EBA\u90FD\u80FD\u90E8\u7F72\u7684\u57FA\u4E8E js \u7684\u5F39\u5E55 API \u670D\u52A1\u5668\uFF0C\u652F\u6301\u7231\u4F18\u817E\u8292\u54D4\u54AA\u4EBA\u97E9\u5DF4\u72D0\u4E50\u897F\u57CB\u5F39\u5E55\u76F4\u63A5\u83B7\u53D6\uFF0C\u517C\u5BB9\u5F39\u5F39play\u7684\u641C\u7D22\u3001\u8BE6\u60C5\u67E5\u8BE2\u548C\u5F39\u5E55\u83B7\u53D6\u63A5\u53E3\u89C4\u8303\uFF0C\u5E76\u63D0\u4F9B\u65E5\u5FD7\u8BB0\u5F55\uFF0C\u652F\u6301vercel/netlify/edgeone/cloudflare/docker/claw\u7B49\u90E8\u7F72\u65B9\u5F0F\uFF0C\u4E0D\u7528\u63D0\u524D\u4E0B\u8F7D\u5F39\u5E55\uFF0C\u6CA1\u6709nas\u6216\u5C0F\u9E21\u4E5F\u80FD\u4E00\u952E\u90E8\u7F72\u3002",notice:"\u672C\u9879\u76EE\u4EC5\u4E3A\u4E2A\u4EBA\u7231\u597D\u5F00\u53D1\uFF0C\u4EE3\u7801\u5F00\u6E90\u3002\u5982\u6709\u4EFB\u4F55\u4FB5\u6743\u884C\u4E3A\uFF0C\u8BF7\u8054\u7CFB\u672C\u4EBA\u5220\u9664\u3002\u6709\u95EE\u9898\u63D0issue\u6216\u79C1\u4FE1\u673A\u5668\u4EBA\u90FDok\uFF0CTG MSG ROBOT: [https://t.me/ddjdd_bot]; \u63A8\u8350\u52A0\u4E92\u52A9\u7FA4\u54A8\u8BE2\uFF0CTG GROUP: [https://t.me/logvar_danmu_group]; \u5173\u6CE8\u9891\u9053\u83B7\u53D6\u6700\u65B0\u66F4\u65B0\u5185\u5BB9\uFF0CTG CHANNEL: [https://t.me/logvar_danmu_channel]\u3002"})}async function _pe(){try{let e=B.deployPlatform;if(E("info",`[server] Deployment request received for platform: ${e}`),e.toLowerCase()==="node")return E("info","[server] Node/Docker deployment - no redeployment needed, config changes take effect automatically"),be({success:!0,message:"Node/Docker deployment - configuration changes take effect automatically"},200);let t=await ys.getHandler(e);return t?await t.deploy()?(E("info",`[server] Deployment triggered successfully for platform: ${e}`),be({success:!0,message:"Deployment triggered successfully"},200)):(E("error",`[server] Failed to trigger deployment for platform: ${e}`),be({success:!1,message:"Failed to trigger deployment"},500)):(E("error",`[server] No handler found for platform: ${e}`),be({success:!1,message:`No handler found for platform: ${e}`},400))}catch(e){return E("error",`[server] Deployment error: ${e.message}`),be({success:!1,message:`Deployment failed: ${e.message}`},500)}}function Ipe(){let e=B.logBuffer.map(r=>`[${r.timestamp}] ${r.level}: ${Mde(r.message)}`).join(`
`),t=e;return B.currentToken!==B.adminToken&&(t=e.replace(/(client\s+ip:\s*)([^\n\r]*)/gi,(r,n,s)=>{let i=s.replace(/[^.\s\n\r]/g,"*");return n+i})),new Response(t,{headers:{"Content-Type":"text/plain; charset=utf-8"}})}function Cpe(){return B.logBuffer=[],be({success:!0,message:"Logs cleared"},200)}async function wpe(){try{B.animes=[],B.episodeIds=[],B.episodeNum=10001,B.lastSelectMap=new Map,B.reqRecords=[],B.todayReqNum=0,B.searchCache=new Map,B.commentCache=new Map,B.requestHistory=new Map,E("info","[server] Memory cache cleared successfully");try{if(B.localCacheValid){let{updateLocalCaches:e}=await Promise.resolve().then(()=>(Br(),cfe));await e(),E("info","[server] Local cache cleared successfully")}}catch(e){E("warn",`[server] Local cache may not be available: ${e.message}`)}try{if(B.redisValid){let{updateRedisCaches:e}=await Promise.resolve().then(()=>(yI(),efe));await e(),E("info","[server] Redis cache cleared successfully")}}catch(e){E("warn",`[server] Redis may not be available: ${e.message}`)}return E("info","[server] All caches cleared successfully"),be({success:!0,message:"Cache cleared successfully",clearedItems:{animes:0,episodeIds:0,episodeNum:10001,lastSelectMap:0,searchCache:0,commentCache:0,requestHistory:0,reqRecords:0,todayReqNum:0}},200)}catch(e){return E("error",`[server] Cache clear failed: ${e.message}`),be({success:!1,message:`Cache clear failed: ${e.message}`},500)}}function Spe(){let e=[...B.reqRecords].reverse(),t=B.todayReqNum||0;return B.currentToken!==B.adminToken&&(e=e.map(r=>{if(r.clientIp){let n=r.clientIp.replace(/[^.]/g,"*");return{...r,clientIp:n}}return r})),be({records:e,todayReqNum:t},200)}Dt();pt();async function Tpe(e){try{let{key:t,value:r}=await e.json();if(!t)return be({success:!1,message:"\u7F3A\u5C11\u73AF\u5883\u53D8\u91CF\u540D\u79F0"},400);let n=B.deployPlatform;return await(await ys.getHandler(n)).setEnv(t,r)?be({success:!0,message:`\u73AF\u5883\u53D8\u91CF ${t} \u8BBE\u7F6E\u6210\u529F`}):be({success:!1,message:`\u73AF\u5883\u53D8\u91CF ${t} \u8BBE\u7F6E\u5931\u8D25`},500)}catch(t){return console.error("\u8BBE\u7F6E\u73AF\u5883\u53D8\u91CF\u5931\u8D25:",t),be({success:!1,message:`\u8BBE\u7F6E\u73AF\u5883\u53D8\u91CF\u5931\u8D25: ${t.message}`},500)}}async function Bpe(e){try{let{key:t,value:r}=await e.json();if(!t)return be({success:!1,message:"\u7F3A\u5C11\u73AF\u5883\u53D8\u91CF\u540D\u79F0"},400);let n=B.deployPlatform;return await(await ys.getHandler(n)).addEnv(t,r)?be({success:!0,message:`\u73AF\u5883\u53D8\u91CF ${t} \u6DFB\u52A0\u6210\u529F`}):be({success:!1,message:`\u73AF\u5883\u53D8\u91CF ${t} \u6DFB\u52A0\u5931\u8D25`},500)}catch(t){return console.error("\u6DFB\u52A0\u73AF\u5883\u53D8\u91CF\u5931\u8D25:",t),be({success:!1,message:`\u6DFB\u52A0\u73AF\u5883\u53D8\u91CF\u5931\u8D25: ${t.message}`},500)}}async function Rpe(e){try{let{key:t}=await e.json();if(!t)return be({success:!1,message:"\u7F3A\u5C11\u73AF\u5883\u53D8\u91CF\u540D\u79F0"},400);let r=B.deployPlatform;return await(await ys.getHandler(r)).delEnv(t)?be({success:!0,message:`\u73AF\u5883\u53D8\u91CF ${t} \u5220\u9664\u6210\u529F`}):be({success:!1,message:`\u73AF\u5883\u53D8\u91CF ${t} \u5220\u9664\u5931\u8D25`},500)}catch(t){return console.error("\u5220\u9664\u73AF\u5883\u53D8\u91CF\u5931\u8D25:",t),be({success:!1,message:`\u5220\u9664\u73AF\u5883\u53D8\u91CF\u5931\u8D25: ${t.message}`},500)}}async function Npe(e){try{let t=await e.json(),r=t.aiBaseUrl||B.aiBaseUrl||"https://api.openai.com/v1",n=t.aiModel||B.aiModel||"gpt-4o",s=t.aiApiKey||B.aiApiKey;if(!s)return be({success:!1,ok:!1,message:"AI_API_KEY \u672A\u914D\u7F6E"},400);let a=await new rc({baseURL:r,model:n,apiKey:s,systemPrompt:"\u56DE\u7B54\u5C3D\u91CF\u7B80\u6D01"}).verify();return a.ok?be({success:!0,ok:!0,message:"AI \u670D\u52A1\u8FDE\u901A\u6027\u6D4B\u8BD5\u6210\u529F"}):be({success:!1,ok:!1,message:`AI \u670D\u52A1\u8FDE\u901A\u6027\u6D4B\u8BD5\u5931\u8D25: ${a.error}`},200)}catch(t){return console.error("AI \u8FDE\u901A\u6027\u9A8C\u8BC1\u5931\u8D25:",t),be({success:!1,ok:!1,message:`AI \u8FDE\u901A\u6027\u9A8C\u8BC1\u5931\u8D25: ${t.message}`},500)}}Gr();Dt();Ze();pt();var ist=new Map;function kpe(){try{if(B&&typeof B.bilibliCookie=="string"&&B.bilibliCookie)return B.bilibliCookie}catch{}try{if(B&&B.env&&typeof B.env.BILIBILI_COOKIE=="string"&&B.env.BILIBILI_COOKIE)return B.env.BILIBILI_COOKIE}catch{}return typeof process<"u"&&process.env&&typeof process.env.BILIBILI_COOKIE=="string"&&process.env.BILIBILI_COOKIE?process.env.BILIBILI_COOKIE:""}function ast(e){try{let t=e.match(/SESSDATA=([^;]+)/);if(!t)return Math.floor(Date.now()/1e3)+30*24*60*60;let r=t[1],n=decodeURIComponent(r),s=Math.floor(Date.now()/1e3),i=(n.match(/\d{10,}/g)||[]).map(c=>Number(c)).filter(c=>Number.isFinite(c)),a=10*365*24*60*60,o=i.filter(c=>c>s&&c<s+a);if(o.length>0)return Math.max(...o);if(n.includes(",")){let c=n.split(",");if(c.length>1){let u=parseInt(c[1],10);if(!isNaN(u)&&u>s)return u}}}catch{}return Math.floor(Date.now()/1e3)+30*24*60*60}async function Dpe(e){if(!e)return{isValid:!1,error:"\u7F3A\u5C11Cookie"};if(!e.includes("SESSDATA")||!e.includes("bili_jct"))return{isValid:!1,error:"Cookie\u683C\u5F0F\u4E0D\u5B8C\u6574\uFF08\u9700\u8981\u5305\u542B SESSDATA \u548C bili_jct\uFF09"};try{let t=await fetch("https://api.bilibili.com/x/web-interface/nav",{method:"GET",headers:{Cookie:e,"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Referer:"https://www.bilibili.com/",Origin:"https://www.bilibili.com",Accept:"application/json, text/plain, */*","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8"}});if(!t.ok){let n=await t.text().catch(()=>"");return{isValid:!1,error:`\u9A8C\u8BC1\u8BF7\u6C42\u5931\u8D25\uFF1AHTTP ${t.status}${n?" - "+n.slice(0,80):""}`}}let r;try{r=await t.json()}catch(n){let s=await t.text().catch(()=>"");return{isValid:!1,error:`\u9A8C\u8BC1\u54CD\u5E94\u89E3\u6790\u5931\u8D25\uFF1A${s?s.slice(0,80):n.message}`}}return r?.code===0&&r?.data?.isLogin?{isValid:!0,data:{uname:r.data.uname,mid:r.data.mid,face:r.data.face}}:r?.code===0&&r?.data&&r.data.isLogin===!1?{isValid:!1,error:"\u8D26\u53F7\u672A\u767B\u5F55\uFF08Cookie \u5DF2\u5931\u6548\uFF09"}:{isValid:!1,error:r?.message||"Cookie\u65E0\u6548\u6216\u5DF2\u8FC7\u671F"}}catch(t){return{isValid:!1,error:"\u9A8C\u8BC1\u8BF7\u6C42\u5931\u8D25: "+t.message}}}async function Ppe(e,t="saved"){if(!e)return{success:!0,data:{isValid:!1,checked:t,error:"\u672A\u914D\u7F6ECookie"}};let r=await Dpe(e);return r.isValid?{success:!0,data:{isValid:!0,checked:t,uname:r.data?.uname||"\u672A\u77E5\u7528\u6237",expiresAt:ast(e)}}:{success:!0,data:{isValid:!1,checked:t,error:r.error||"Cookie\u65E0\u6548\u6216\u5DF2\u5931\u6548"}}}async function Ope(){try{let e=kpe(),t=await Ppe(e,"saved");return be(t)}catch(e){return be({success:!1,message:e.message},500)}}async function $pe(e){try{let t={};try{t=await e.json()}catch{t={}}let r=typeof t.cookie=="string"?t.cookie.trim():"",n=!r||/^\*+$/.test(r),s=n?kpe():r,a=await Ppe(s,n?"saved":"input");return be(a)}catch(t){return be({success:!1,message:t.message},500)}}async function Lpe(){try{let t=await(await fetch("https://passport.bilibili.com/x/passport-login/web/qrcode/generate",{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Referer:"https://www.bilibili.com/"}})).json();return t.code!==0?be({success:!1,message:t.message||"\u751F\u6210\u4E8C\u7EF4\u7801\u5931\u8D25"},500):(ist.set(t.data.qrcode_key,{createTime:Date.now(),status:"generated"}),be({success:!0,data:t.data}))}catch(e){return be({success:!1,message:e.message},500)}}function ost(e){let t=new Map,r=[];try{if(e?.headers&&typeof e.headers.getSetCookie=="function")r=e.headers.getSetCookie()||[];else{let u=e?.headers?.get?.("set-cookie");u&&(r=[u])}}catch{r=[]}for(let u of r){if(!u||typeof u!="string")continue;let l=u.split(";")[0],d=l.indexOf("=");if(d<=0)continue;let f=l.slice(0,d).trim(),h=l.slice(d+1).trim();f&&t.set(f,h)}let n=t.get("SESSDATA"),s=t.get("bili_jct"),i=t.get("DedeUserID"),a=t.get("DedeUserID__ckMd5"),o=t.get("sid");if(!n)return null;let c=[`SESSDATA=${n}`];return s&&c.push(`bili_jct=${s}`),i&&c.push(`DedeUserID=${i}`),a&&c.push(`DedeUserID__ckMd5=${a}`),o&&c.push(`sid=${o}`),c.join("; ")}async function Mpe(e){try{let t=await e.json(),r=t.qrcodeKey||t.qrcode_key;if(!r)return be({success:!1,message:"\u7F3A\u5C11qrcodeKey\u53C2\u6570"},400);let n=await fetch(`https://passport.bilibili.com/x/passport-login/web/qrcode/poll?qrcode_key=${r}`,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Referer:"https://www.bilibili.com/"}}),s=await n.json(),i=null;if(s?.data?.code===0&&(i=ost(n),!i&&s?.data?.url))try{let o=new URL(s.data.url),c=new URLSearchParams(o.search),u=decodeURIComponent(c.get("SESSDATA")||""),l=decodeURIComponent(c.get("bili_jct")||""),d=decodeURIComponent(c.get("DedeUserID")||"");if(u){let f=[`SESSDATA=${u}`];l&&f.push(`bili_jct=${l}`),d&&f.push(`DedeUserID=${d}`),i=f.join("; ")}}catch{}let a={success:!0,data:{code:s?.data?.code,message:s?.data?.message||""}};return i&&(a.data.cookie=i),be(a)}catch(t){return be({success:!1,message:t.message},500)}}async function Fpe(e){try{let r=((await e.json()).cookie||"").trim();if(!r)return be({success:!1,message:"\u7F3A\u5C11cookie\u53C2\u6570"},400);if(!r.includes("SESSDATA")||!r.includes("bili_jct"))return be({success:!1,message:"Cookie\u683C\u5F0F\u4E0D\u6B63\u786E"},400);let n=await Dpe(r);if(!n.isValid)return be({success:!1,message:"Cookie\u9A8C\u8BC1\u5931\u8D25: "+(n.error||"\u65E0\u6548")},400);let s=B.deployPlatform,i=await ys.getHandler(s);return i?await i.setEnv("BILIBILI_COOKIE",r)?be({success:!0,data:{uname:n.data?.uname},message:"Cookie\u4FDD\u5B58\u6210\u529F"}):be({success:!1,message:"Cookie\u4FDD\u5B58\u5931\u8D25\uFF1A\u73AF\u5883\u53D8\u91CF\u5199\u5165\u5931\u8D25"},500):be({success:!1,message:`Cookie\u4FDD\u5B58\u5931\u8D25\uFF1A\u4E0D\u652F\u6301\u7684\u90E8\u7F72\u5E73\u53F0 ${s||"unknown"}`},400)}catch(t){return be({success:!1,message:t.message},500)}}var ze;async function Qpe(e,t,r,n){ze=cd.init(t);let s=new URL(e.url),i=s.pathname,a=e.method;ze.deployPlatform=r,r==="node"&&await zO(i,r),await NO(i),!ze.aiValid&&ze.aiBaseUrl&&ze.aiModel&&ze.aiApiKey&&i!=="/favicon.ico"&&i!=="/robots.txt"&&(await new rc({baseURL:ze.aiBaseUrl,model:ze.aiModel,apiKey:ze.aiApiKey,systemPrompt:"\u56DE\u7B54\u5C3D\u91CF\u7B80\u6D01"}).verify()).ok&&(ze.aiValid=!0),E("info",`request url: ${JSON.stringify(s)}`),E("info",`request path: ${i}`),E("info",`client ip: ${n}`);let o=i.split("/").filter(Boolean),c=["api","v1","v2","search","match","bangumi","comment"],u=o[0]||"",l=ze.token==="87654321",d=u===ze.token||u===ze.adminToken;if(ze.currentToken=d?u:l&&(u==="87654321"||c.includes(u))?u==="87654321"?u:"87654321":"",r==="node"&&ze.localCacheValid&&i!=="/favicon.ico"&&i!=="/robots.txt"&&await HO(),ze.redisValid&&i!=="/favicon.ico"&&i!=="/robots.txt"&&await RO(),["/api/v2/search/anime","/api/v2/match","/api/v2/search/episodes","/api/v2/bangumi","/api/v2/comment","/api/v2/segmentcomment"].some(h=>i.includes(h))){let h=ze.reqRecords.length>0?ze.reqRecords[ze.reqRecords.length-1]:null,p=new Date().toDateString();if(h){let y=new Date(h.timestamp).toDateString();console.log("currentDate: ",p),console.log("lastDate: ",y),y!==p?ze.todayReqNum=1:ze.todayReqNum++}else ze.todayReqNum=1;let m=e.url,A=m.indexOf("/api/v2");A!==-1&&(m=m.substring(A));let g=null;if(a==="POST"||a==="PUT"||a==="PATCH")try{let y=e.clone();if((y.headers.get("content-type")||"").includes("application/json"))g=await y.json();else{let _=await y.text();_&&(g=JSON.parse(_))}}catch{g=null}let x={interface:m,params:g,timestamp:new Date().toISOString(),method:a,clientIp:n};ze.reqRecords.push(x),ze.reqRecords.length>ze.MAX_RECORDS&&(ze.reqRecords=ze.reqRecords.slice(-ze.MAX_RECORDS))}if(i==="/"&&a==="GET")return p5();if(i==="/favicon.ico"||i==="/robots.txt"||a==="OPTIONS")return new Response(null,{status:204,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Authorization, User-Agent"}});if(ze.token==="87654321"){if(o.length>0){if(o[0]==="87654321"||o[0]===ze.adminToken)i="/"+o.slice(1).join("/");else if(!c.includes(o[0]))return i==="/api/config"&&a==="GET"?UI(!1):(E("error",`Invalid token in path: ${i}`),be({errorCode:401,success:!1,errorMessage:"Unauthorized"},401))}}else{if(o.length<1||o[0]!==ze.token&&o[0]!==ze.adminToken)return i==="/api/config"&&a==="GET"?UI(!1):(E("error",`Invalid or missing token in path: ${i}`),be({errorCode:401,success:!1,errorMessage:"Unauthorized"},401));i="/"+o.slice(1).join("/")}if(i==="/api/config"&&a==="GET")return UI(!0);if(i==="/api/reqrecords"&&a==="GET")return Spe();if(E("info",i),i!=="/"&&i!=="/api/logs"&&!i.startsWith("/api/env")&&!i.startsWith("/api/deploy")&&!i.startsWith("/api/cache")&&!i.startsWith("/api/cookie")&&!i.startsWith("/api/config")&&!i.startsWith("/api/ai")){E("info",`[Path Check] Starting path normalization for: "${i}"`);let h=i;for(;i.startsWith("/api/v2/api/v2/");)E("info","[Path Check] Found redundant /api/v2 prefix. Cleaning..."),i=i.substring(7);i!==h?E("info",`[Path Check] Path after cleanup: "${i}"`):E("info","[Path Check] Path after cleanup: No cleanup needed.");let p=i;!i.startsWith("/api/v2")&&i!=="/"&&!i.startsWith("/api/logs")&&!i.startsWith("/api/env")&&!i.startsWith("/api/cache")&&!i.startsWith("/api/cookie")&&!i.startsWith("/api/config")&&!i.startsWith("/api/ai")&&(E("info","[Path Check] Path is missing /api/v2 prefix. Adding..."),i="/api/v2"+i),i===p&&E("info","[Path Check] Prefix Check: No prefix addition needed."),E("info",`[Path Check] Final normalized path: "${i}"`)}if(i==="/"&&a==="GET")return p5();if(i==="/api/v2/search/anime"&&a==="GET")return QI(s);if(i==="/api/v2/search/episodes"&&a==="GET")return Zfe(s);if(i==="/api/v2/match"&&a==="POST")return Xfe(s,e);if(i.startsWith("/api/v2/bangumi/")&&a==="GET")return s0(i);if(i.startsWith("/api/v2/comment")&&a==="GET"){let h=s.searchParams.get("format"),p=s.searchParams.get("url"),m=s.searchParams.get("segmentflag"),A=m==="true"||m==="1";if(p){let y=ec(p);if(y!==null){E("info",`[Rate Limit] Cache hit for URL: ${p}, skipping rate limit check`);let b={count:y.length,comments:y};return to(b,h)}if(ze.rateLimitMaxRequests>0){let b=Date.now(),_=60*1e3;II(b),ze.requestHistory.has(n)||ze.requestHistory.set(n,[]);let w=ze.requestHistory.get(n).filter(S=>b-S<=_);if(w.length>=ze.rateLimitMaxRequests)return E("warn",`[Rate Limit] IP ${n} exceeded rate limit (${w.length}/${ze.rateLimitMaxRequests} requests in 1 minute)`),be({errorCode:429,success:!1,errorMessage:"Too many requests, please try again later"},429);w.push(b),ze.requestHistory.set(n,w),E("info",`[Rate Limit] IP ${n} request count: ${w.length}/${ze.rateLimitMaxRequests}`)}return tpe(p,h,A)}if(!i.startsWith("/api/v2/comment/"))return E("error","Missing commentId or url parameter"),be({errorCode:400,success:!1,errorMessage:"Missing commentId or url parameter"},400);let g=parseInt(i.split("/").pop()),x=bA(g);if(x){let y=ec(x);if(y!==null){E("info",`[Rate Limit] Cache hit for URL: ${x}, skipping rate limit check`);let b={count:y.length,comments:y};return to(b,h)}}if(ze.rateLimitMaxRequests>0){let y=Date.now(),b=60*1e3;II(y),ze.requestHistory.has(n)||ze.requestHistory.set(n,[]);let C=ze.requestHistory.get(n).filter(w=>y-w<=b);if(C.length>=ze.rateLimitMaxRequests)return E("warn",`[Rate Limit] IP ${n} exceeded rate limit (${C.length}/${ze.rateLimitMaxRequests} requests in 1 minute)`),be({errorCode:429,success:!1,errorMessage:"Too many requests, please try again later"},429);C.push(y),ze.requestHistory.set(n,C),E("info",`[Rate Limit] IP ${n} request count: ${C.length}/${ze.rateLimitMaxRequests}`)}return epe(i,h,A)}if(i.startsWith("/api/v2/segmentcomment")&&a==="POST")try{let h=s.searchParams.get("format"),p=await e.json(),m;try{m=Vp.fromJson(p)}catch{return E("error","Invalid JSON in request body for segment"),be({errorCode:400,success:!1,errorMessage:"Invalid JSON in request body"},400)}return rpe(m,h)}catch(h){return E("error",`Error processing segmentcomment request: ${h.message}`),be({errorCode:500,success:!1,errorMessage:"Internal server error"},500)}return i==="/api/logs"&&a==="GET"?Ipe():i==="/api/logs/clear"&&a==="POST"?Cpe():i==="/api/env/set"&&a==="POST"?Tpe(e):i==="/api/env/add"&&a==="POST"?Bpe(e):i==="/api/env/del"&&a==="POST"?Rpe(e):i==="/api/deploy"&&a==="POST"?_pe():i==="/api/cache/clear"&&a==="POST"?wpe():i==="/api/cookie/status"&&a==="GET"?Ope():i==="/api/cookie/qr/generate"&&a==="POST"?Lpe():i==="/api/cookie/qr/check"&&a==="POST"?Mpe(e):i==="/api/cookie/verify"&&a==="POST"?$pe(e):i==="/api/cookie/save"&&a==="POST"?Fpe(e):i==="/api/ai/verify"&&a==="POST"?Npe(e):be({message:"Not found"},404)}var ha=null,_5=9321,m5=0,Ad=null,Upe=!1,no={...process.env,ADMIN_TOKEN:"douer"},qI=!1,XA=null,$i=null,gr={overrides:{},deletedKeys:[]};function Pn(...e){console.log("[danmu:debug]",...e)}function ZA(...e){console.error("[danmu:debug]",...e)}function cst(){try{let byEval=eval("1 + 1")===2,byFunction=Function("return 2 + 2")()===4;return byEval&&byFunction}catch{return!1}}function g5(){return{overrides:{},deletedKeys:[]}}function zpe(){let e=String(process.env.DANMU_ENV_STORE_FILE||"").trim();if(e)return e;let t=String(process.env.NODE_PATH||"").trim()||process.cwd();return v5.default.resolve(t,"danmu_env_overrides.json")}function ust(e){let t=g5();if(!e||typeof e!="object")return t;let r=Array.isArray(e.deletedKeys)?e.deletedKeys.map(s=>String(s||"").trim()).filter(s=>s):[];t.deletedKeys=Array.from(new Set(r));let n=new Set(t.deletedKeys);return e.overrides&&typeof e.overrides=="object"&&!Array.isArray(e.overrides)&&Object.entries(e.overrides).forEach(([s,i])=>{let a=String(s||"").trim();!a||n.has(a)||(t.overrides[a]=i==null?"":String(i))}),t}function lst(){$i=zpe();try{if(!ey.default.existsSync($i)){gr=g5(),Pn("loadPersistedEnvStore()",{loaded:!1,reason:"store file not found",path:$i});return}let e=ey.default.readFileSync($i,"utf8"),t=e?JSON.parse(e):{};gr=ust(t),Pn("loadPersistedEnvStore()",{loaded:!0,path:$i,overrides:Object.keys(gr.overrides).length,deleted:gr.deletedKeys.length})}catch(e){gr=g5(),ZA("loadPersistedEnvStore() failed",{message:e?.message||String(e),stack:e?.stack||"",path:$i})}}function dst(){try{$i||($i=zpe());let e=v5.default.dirname($i);ey.default.mkdirSync(e,{recursive:!0});let t={version:1,updatedAt:new Date().toISOString(),overrides:gr.overrides,deletedKeys:gr.deletedKeys};return ey.default.writeFileSync($i,JSON.stringify(t,null,2),"utf8"),!0}catch(e){return ZA("savePersistedEnvStore() failed",{message:e?.message||String(e),stack:e?.stack||"",path:$i||""}),!1}}function A5(){let e={...process.env};return Object.entries(gr.overrides).forEach(([t,r])=>{e[t]=r}),gr.deletedKeys.forEach(t=>{delete e[t]}),fst(e)}function fst(e){let t=e||{},r=String(t.TOKEN||"").trim();t.TOKEN=r||"87654321";let n=String(t.SOURCE_ORDER||"").trim();t.SOURCE_ORDER=n||"tencent,youku,iqiyi,imgo,bilibili,dandan,renren,hanjutv";let s=String(t.STRICT_TITLE_MATCH||"").trim();t.STRICT_TITLE_MATCH=s||"true";let i=String(t.NODE_TLS_REJECT_UNAUTHORIZED||"").trim();t.NODE_TLS_REJECT_UNAUTHORIZED=i||"0";let a=String(t.RATE_LIMIT_MAX_REQUESTS||"").trim();t.RATE_LIMIT_MAX_REQUESTS=a||"0";let o=String(t.ADMIN_TOKEN||"").trim();return t.ADMIN_TOKEN=o||"douer",t}function y5(){let e=String(no&&no.NODE_TLS_REJECT_UNAUTHORIZED||"").trim();e?process.env.NODE_TLS_REJECT_UNAUTHORIZED=e:delete process.env.NODE_TLS_REJECT_UNAUTHORIZED}function pst(e){return e==null?null:Array.isArray(e)?e.map(t=>String(t)).join(","):typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"?String(e):null}function hst(e,t){if(!e||typeof e!="object"||!e.originalEnvVars||typeof e.originalEnvVars!="object")return e;let r=e.originalEnvVars,n=e.envs&&typeof e.envs=="object"?e.envs:{};return Object.keys(r).forEach(s=>{let i=r[s];if(!(i==null||String(i).trim()===""))return;if(s==="TOKEN"){r[s]=String(t.TOKEN||"87654321");return}if(s==="ADMIN_TOKEN"){r[s]=String(t.ADMIN_TOKEN||"");return}let o=t[s];if(o!=null&&String(o).trim()!==""){r[s]=String(o);return}if(!Object.prototype.hasOwnProperty.call(n,s))return;let c=n[s];if(typeof c=="string"&&/^\*+$/.test(c))return;let u=pst(c);u!==null&&u!==""&&(r[s]=u)}),e}function h5(e,t,r=!1){let n=String(e||"").trim();if(!n)return!1;let s=Object.prototype.hasOwnProperty.call(process.env,n),i=process.env[n],a=Object.prototype.hasOwnProperty.call(gr.overrides,n),o=gr.overrides[n],c=gr.deletedKeys.includes(n);if(r)delete process.env[n],delete gr.overrides[n],gr.deletedKeys.includes(n)||gr.deletedKeys.push(n);else{let u=t==null?"":String(t);process.env[n]=u,gr.overrides[n]=u,gr.deletedKeys=gr.deletedKeys.filter(l=>l!==n)}return dst()?(no=A5(),y5(),!0):(a?gr.overrides[n]=o:delete gr.overrides[n],c&&!gr.deletedKeys.includes(n)&&gr.deletedKeys.push(n),c||(gr.deletedKeys=gr.deletedKeys.filter(u=>u!==n)),s?process.env[n]=i:delete process.env[n],no=A5(),y5(),!1)}var mst={async setEnv(e,t){return h5(e,t,!1)?(Pn("memoryNodeEnvHandler.setEnv()",{key:String(e||"")}),!0):!1},async addEnv(e,t){return h5(e,t,!1)?(Pn("memoryNodeEnvHandler.addEnv()",{key:String(e||"")}),!0):!1},async delEnv(e){return h5(e,"",!0)?(Pn("memoryNodeEnvHandler.delEnv()",{key:String(e||"")}),!0):!1}};function gst(){qI||(XA=ys.getHandler,ys.getHandler=async function(t){let r=String(t||"").toLowerCase();return!r||r==="node"?mst:XA.call(ys,t)},qI=!0,Pn("installNodeEnvHotReloadPatch()",{patched:!0}))}function Ast(){!qI||!XA||(ys.getHandler=XA,XA=null,qI=!1,Pn("uninstallNodeEnvHotReloadPatch()",{patched:!1}))}function yst(e){return e==null?Buffer.alloc(0):Buffer.isBuffer(e)?e:e instanceof ArrayBuffer?Buffer.from(e):ArrayBuffer.isView(e)?Buffer.from(e.buffer,e.byteOffset,e.byteLength):Buffer.from(String(e),"utf8")}async function bst(e){if(!e||typeof e.getReader!="function")return Buffer.from(String(e??""),"utf8");let t=e.getReader(),r=[];try{for(;;){let{done:n,value:s}=await t.read();if(n)break;if(s!=null){if(Buffer.isBuffer(s)){r.push(s);continue}if(s instanceof Uint8Array){r.push(Buffer.from(s));continue}if(s instanceof ArrayBuffer){r.push(Buffer.from(s));continue}if(ArrayBuffer.isView(s)){r.push(Buffer.from(s.buffer,s.byteOffset,s.byteLength));continue}r.push(Buffer.from(String(s),"utf8"))}}}finally{typeof t.releaseLock=="function"&&t.releaseLock()}return r.length?Buffer.concat(r):Buffer.alloc(0)}async function Est(e){if(e==null)return Buffer.alloc(0);if(Buffer.isBuffer(e))return e;if(e instanceof ArrayBuffer)return Buffer.from(e);if(ArrayBuffer.isView(e))return Buffer.from(e.buffer,e.byteOffset,e.byteLength);if(typeof e=="string")return Buffer.from(e,"utf8");if(typeof Blob=="function"&&e instanceof Blob){let t=await e.arrayBuffer();return Buffer.from(t)}return typeof e.getReader=="function"?bst(e):Buffer.from(String(e),"utf8")}var ty=class{constructor(t=void 0){if(this._map=new Map,!!t){if(typeof t.forEach=="function"){t.forEach((r,n)=>this.set(n,r));return}if(Array.isArray(t)){t.forEach(([r,n])=>this.set(r,n));return}typeof t=="object"&&Object.entries(t).forEach(([r,n])=>this.set(r,n))}}set(t,r){this._map.set(String(t).toLowerCase(),String(r))}get(t){let r=this._map.get(String(t).toLowerCase());return r===void 0?null:r}has(t){return this._map.has(String(t).toLowerCase())}delete(t){this._map.delete(String(t).toLowerCase())}forEach(t,r=void 0){for(let[n,s]of this._map.entries())t.call(r,s,n,this)}entries(){return this._map.entries()}[Symbol.iterator](){return this._map[Symbol.iterator]()}},b5=class e{constructor(t,r={}){this.url=String(t||""),this.method=String(r.method||"GET").toUpperCase();let n=globalThis.Headers||ty;this.headers=r.headers instanceof n?r.headers:new n(r.headers||{}),this._bodyBuffer=yst(r.body)}clone(){return new e(this.url,{method:this.method,headers:Object.fromEntries(this.headers.entries()),body:this._bodyBuffer})}async text(){return this._bodyBuffer.toString("utf8")}async json(){let t=await this.text();return t?JSON.parse(t):null}async arrayBuffer(){return this._bodyBuffer.buffer.slice(this._bodyBuffer.byteOffset,this._bodyBuffer.byteOffset+this._bodyBuffer.byteLength)}},E5=class{constructor(t=null,r={}){let n=globalThis.Headers||ty;this.status=Number(r.status||200),this.statusText=String(r.statusText||""),this.headers=r.headers instanceof n?r.headers:new n(r.headers||{}),this.ok=this.status>=200&&this.status<300,this.body=t,this.bodyUsed=!1,this._bodyBuffer=null,this._bodyBufferPromise=null}async _ensureBodyBuffer(){return this._bodyBuffer?this._bodyBuffer:(this._bodyBufferPromise||(this._bodyBufferPromise=Est(this.body).then(t=>(this._bodyBuffer=t,this.bodyUsed=!0,t))),this._bodyBufferPromise)}async text(){return(await this._ensureBodyBuffer()).toString("utf8")}async json(){let t=await this.text();return t?JSON.parse(t):null}async arrayBuffer(){let t=await this._ensureBodyBuffer();return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}};function xst(){Upe||(typeof globalThis.Headers!="function"&&(globalThis.Headers=ty),typeof globalThis.Response!="function"&&(globalThis.Response=E5),typeof globalThis.Request!="function"&&(globalThis.Request=b5),Upe=!0,Pn("installWebApiPolyfills()",{hasFetch:typeof globalThis.fetch=="function",hasRequest:typeof globalThis.Request=="function",hasHeaders:typeof globalThis.Headers=="function",hasResponse:typeof globalThis.Response=="function"}))}async function qpe(e,t={}){let n=String(no&&no.NODE_TLS_REJECT_UNAUTHORIZED||"").trim()!=="0",s=new Hpe.default.Agent({rejectUnauthorized:n}),i=await _e({url:e,method:t.method||"GET",headers:t.headers||{},data:t.body,signal:t.signal,responseType:"arraybuffer",validateStatus:()=>!0,httpsAgent:s,timeout:1e4}),a=Buffer.from(i.data),o={};return Object.entries(i.headers||{}).forEach(([c,u])=>{o[c]=String(u)}),{ok:i.status>=200&&i.status<300,status:i.status,statusText:i.statusText||"",headers:new Headers(o),url:String(e),async text(){return a.toString("utf8")},async json(){return JSON.parse(a.toString("utf8"))},async arrayBuffer(){return a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength)}}}function vst(){Pn("installPatches()",{hasFetch:typeof globalThis.fetch=="function"}),Ad=globalThis.fetch,globalThis.fetch=function(t,r){return m5>0?qpe(t,r):typeof Ad=="function"?Ad(t,r):qpe(t,r)}}function x5(){if(Pn("uninstallPatches()",{hasOriginalFetch:!!Ad}),typeof Ad=="function")globalThis.fetch=Ad;else try{delete globalThis.fetch}catch{globalThis.fetch=void 0}Ad=null}function Gpe(e=9321){if(_5=e,xst(),gst(),lst(),no=A5(),y5(),Pn("loadDanmuEnv()",{source:"process.env + persisted store",adminTokenFallback:no.ADMIN_TOKEN==="douer",persistedEnvStorePath:$i,persistedOverrides:Object.keys(gr.overrides).length,persistedDeletedKeys:gr.deletedKeys.length}),Pn("start()",{port:e,alreadyRunning:!!ha,node:process.version,platform:`${process.platform}/${process.arch}`,v8:process.versions?.v8,dynamicCode:cst()}),!ha){vst();try{ha=jpe.default.createServer(async(t,r)=>{m5++;let n=`${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`,s=Date.now();Pn(`[${n}] inbound`,{method:t.method,url:t.url,host:t.headers.host,remote:t.socket?.remoteAddress||"unknown"});try{let i=`http://${t.headers.host||`127.0.0.1:${e}`}${t.url}`,a=(()=>{try{return new URL(i).pathname||""}catch{return String(t.url||"")}})(),o=t.method==="GET"&&a.endsWith("/api/config"),c;(t.method==="POST"||t.method==="PUT")&&(c=await new Promise(h=>{let p="";t.on("data",m=>p+=m),t.on("end",()=>h(p))}));let u=new Request(i,{method:t.method,headers:Object.fromEntries(Object.entries(t.headers).map(([h,p])=>[h,String(p)])),body:c||void 0}),l={...no},d=await Qpe(u,l,"node",t.socket?.remoteAddress||"unknown");Pn(`[${n}] worker done`,{status:d.status}),r.statusCode=d.status,d.headers.forEach((h,p)=>{let m=p.toLowerCase();m!=="content-encoding"&&m!=="content-length"&&r.setHeader(p,h)});let f;if(o){let h=await d.text();try{let p=JSON.parse(h),m=hst(p,l);f=Buffer.from(JSON.stringify(m),"utf8")}catch{f=Buffer.from(h||"","utf8")}}else f=Buffer.from(await d.arrayBuffer());r.setHeader("Content-Length",f.length),r.end(f)}catch(i){ZA(`[${n}] request failed`,{message:i?.message||String(i),stack:i?.stack||""}),r.statusCode=500,r.end("Internal Server Error")}finally{Pn(`[${n}] complete`,{costMs:Date.now()-s}),m5--}}),ha.listen(e,"0.0.0.0",()=>{let t=ha?.address?.();Pn("listen ok",{address:t})}),ha.on("error",t=>{ZA("server error",{message:t?.message||String(t),code:t?.code}),console.warn(`[danmu] \u5185\u7F6E\u5F39\u5E55\u670D\u52A1\u542F\u52A8\u5931\u8D25: ${t.message}`),x5(),ha=null})}catch(t){ZA("start() failed",{message:t?.message||String(t),stack:t?.stack||""}),console.warn(`[danmu] \u5185\u7F6E\u5F39\u5E55\u670D\u52A1\u542F\u52A8\u5931\u8D25: ${t.message}`),x5()}}}function Vpe(){Pn("stop()",{hasServer:!!ha,port:_5}),ha&&(ha.close(),ha=null),Ast(),x5()}function XBt(){return _5}function Kpe(){return String(no?.ADMIN_TOKEN||"").trim()||"douer"}function Ist(e){return ry.default.enc.Utf8.stringify(ry.default.enc.Base64.parse(e))}function Ype(e){return ry.default.enc.Base64.stringify(ry.default.enc.Utf8.parse(e))}function Jpe(e){let t=`http://${new URL(e).hostname}:9321`,r=String(Kpe()||"").trim();return r?`${t}/${encodeURIComponent(r)}`:t}async function Cst(e,t){return{}}async function wst(e,t){return{class:[{type_id:"setting",type_name:`${e.server.address().url}/website`}]}}async function Sst(e,t){let r=e.server.address().url,n=r+e.server.prefix+"/proxy",s=Jpe(r);return{page:1,pagecount:1,limit:1,total:1,list:[{vod_id:"openInternalWebsite",vod_name:"\u901A\u7528\u914D\u7F6E",vod_pic:n+"/"+Ype(`${r}/website`)},{vod_id:"builtinDanmuApiQr",vod_name:"\u5F39\u5E55\u670D\u52A1",vod_pic:n+"/"+Ype(s)}]}}async function Tst(e,t){return e.body.id==="openInternalWebsite"?(await e.server.messageToDart({action:"openInternalWebview",opt:{url:`${e.server.address().url}/website`}}),{list:[{vod_name:"",vod_content:""}]}):e.body.id==="builtinDanmuApiQr"?(await e.server.messageToDart({action:"openInternalWebview",opt:{url:Jpe(e.server.address().url)}}),{list:[{vod_name:"",vod_content:""}]}):{list:[{vod_name:"",vod_content:""}]}}async function Bst(e,t){let r=e.params.img,n=Ist(r),s=await Wpe.default.toBuffer(n,{width:120,height:120,margin:15});t.send(s)}var Xpe={meta:{key:"baseset",name:"\u914D\u7F6E",type:3},api:async e=>{e.post("/init",Cst),e.post("/home",wst),e.post("/category",Sst),e.post("/detail",Tst),e.get("/proxy/:img",Bst)}};var Rst=["https://666.666291.xyz","https://www.muou.asia","https://www.muou.site"],I5=async e=>(await e.db.getObjectDefault("/muou",{}))?.urls||e.config.muou?.urls||Rst,Nst=async(e,t)=>{await e.db.push("/muou/urls",t)},kst=async e=>{await e.db.delete("/muou/urls")};async function C5(e){e.get("/urls",async(t,r)=>{r.send({code:0,data:await I5(t.server)})}),e.put("/urls",async(t,r)=>{await Nst(t.server,t.body),r.send({code:0})}),e.delete("/urls",async(t,r)=>{await kst(t.server),r.send({code:0})})}var w5,jI=e=>{if(!w5){let t=Date.now();w5=new Promise(async r=>{let n=await I5(e),s=await Pr(n);console.log("\u6728\u5076\u57DF\u540D",s,`${Date.now()-t}ms`),r(s)})}return w5};async function S5(e){return(await Pe.get(e,{headers:{"User-Agent":Jt}})).data}async function Dst(e,t){let r=[{type_id:"1",type_name:"\u7535\u5F71"},{type_id:"2",type_name:"\u5267\u96C6"},{type_id:"3",type_name:"\u52A8\u6F2B"},{type_id:"4",type_name:"\u7EAA\u5F55"},{type_id:"29",type_name:"\u7EFC\u827A"},{type_id:"25",type_name:"115"}],n={};return n[1]=[{key:"class",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u559C\u5267",v:"\u559C\u5267"},{n:"\u7231\u60C5",v:"\u7231\u60C5"},{n:"\u6050\u6016",v:"\u6050\u6016"},{n:"\u52A8\u4F5C",v:"\u52A8\u4F5C"},{n:"\u79D1\u5E7B",v:"\u79D1\u5E7B"},{n:"\u5267\u60C5",v:"\u5267\u60C5"},{n:"\u6218\u4E89",v:"\u6218\u4E89"},{n:"\u8B66\u532A",v:"\u8B66\u532A"},{n:"\u72AF\u7F6A",v:"\u72AF\u7F6A"},{n:"\u52A8\u753B",v:"\u52A8\u753B"},{n:"\u5947\u5E7B",v:"\u5947\u5E7B"},{n:"\u6B66\u4FA0",v:"\u6B66\u4FA0"},{n:"\u5192\u9669",v:"\u5192\u9669"},{n:"\u67AA\u6218",v:"\u67AA\u6218"},{n:"\u60AC\u7591",v:"\u60AC\u7591"},{n:"\u60CA\u609A",v:"\u60CA\u609A"},{n:"\u7ECF\u5178",v:"\u7ECF\u5178"},{n:"\u9752\u6625",v:"\u9752\u6625"},{n:"\u6587\u827A",v:"\u6587\u827A"},{n:"\u5FAE\u7535\u5F71",v:"\u5FAE\u7535\u5F71"},{n:"\u53E4\u88C5",v:"\u53E4\u88C5"},{n:"\u5386\u53F2",v:"\u5386\u53F2"},{n:"\u8FD0\u52A8",v:"\u8FD0\u52A8"},{n:"\u519C\u6751",v:"\u519C\u6751"},{n:"\u513F\u7AE5",v:"\u513F\u7AE5"},{n:"\u7F51\u7EDC\u7535\u5F71",v:"\u7F51\u7EDC\u7535\u5F71"}]},{key:"area",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u5927\u9646",v:"\u5927\u9646"},{n:"\u9999\u6E2F",v:"\u9999\u6E2F"},{n:"\u53F0\u6E7E",v:"\u53F0\u6E7E"},{n:"\u7F8E\u56FD",v:"\u7F8E\u56FD"},{n:"\u6CD5\u56FD",v:"\u6CD5\u56FD"},{n:"\u82F1\u56FD",v:"\u82F1\u56FD"},{n:"\u65E5\u672C",v:"\u65E5\u672C"},{n:"\u97E9\u56FD",v:"\u97E9\u56FD"},{n:"\u5FB7\u56FD",v:"\u5FB7\u56FD"},{n:"\u6CF0\u56FD",v:"\u6CF0\u56FD"},{n:"\u5370\u5EA6",v:"\u5370\u5EA6"},{n:"\u610F\u5927\u5229",v:"\u610F\u5927\u5229"},{n:"\u897F\u73ED\u7259",v:"\u897F\u73ED\u7259"},{n:"\u52A0\u62FF\u5927",v:"\u52A0\u62FF\u5927"},{n:"\u5176\u4ED6",v:"\u5176\u4ED6"}]},{key:"year",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"2026",v:"2026"},{n:"2025",v:"2025"},{n:"2024",v:"2024"},{n:"2023",v:"2023"},{n:"2022",v:"2022"},{n:"2021",v:"2021"},{n:"2020",v:"2020"},{n:"2019",v:"2019"},{n:"2018",v:"2018"},{n:"2017",v:"2017"},{n:"2016",v:"2016"},{n:"2015",v:"2015"},{n:"2014",v:"2014"},{n:"2013",v:"2013"},{n:"2012",v:"2012"},{n:"2011",v:"2011"},{n:"2010",v:"2010"}]},{key:"by",name:"",init:"time",value:[{n:"\u65F6\u95F4",v:"time"},{n:"\u4EBA\u6C14",v:"hits"},{n:"\u8BC4\u5206",v:"score"}]}],n[2]=[{key:"class",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u53E4\u88C5",v:"\u53E4\u88C5"},{n:"\u6218\u4E89",v:"\u6218\u4E89"},{n:"\u9752\u6625\u5076\u50CF",v:"\u9752\u6625\u5076\u50CF"},{n:"\u559C\u5267",v:"\u559C\u5267"},{n:"\u5BB6\u5EAD",v:"\u5BB6\u5EAD"},{n:"\u72AF\u7F6A",v:"\u72AF\u7F6A"},{n:"\u52A8\u4F5C",v:"\u52A8\u4F5C"},{n:"\u5947\u5E7B",v:"\u5947\u5E7B"},{n:"\u5267\u60C5",v:"\u5267\u60C5"},{n:"\u5386\u53F2",v:"\u5386\u53F2"},{n:"\u7ECF\u5178",v:"\u7ECF\u5178"},{n:"\u4E61\u6751",v:"\u4E61\u6751"},{n:"\u60C5\u666F",v:"\u60C5\u666F"},{n:"\u5546\u6218",v:"\u5546\u6218"},{n:"\u7F51\u5267",v:"\u7F51\u5267"},{n:"\u5176\u4ED6",v:"\u5176\u4ED6"}]},{key:"area",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u4E2D\u56FD\u5927\u9646",v:"\u4E2D\u56FD\u5927\u9646"},{n:"\u5927\u9646",v:"\u5927\u9646"},{n:"\u5185\u5730",v:"\u5185\u5730"},{n:"\u97E9\u56FD",v:"\u97E9\u56FD"},{n:"\u9999\u6E2F",v:"\u9999\u6E2F"},{n:"\u53F0\u6E7E",v:"\u53F0\u6E7E"},{n:"\u65E5\u672C",v:"\u65E5\u672C"},{n:"\u7F8E\u56FD",v:"\u7F8E\u56FD"},{n:"\u6CF0\u56FD",v:"\u6CF0\u56FD"},{n:"\u82F1\u56FD",v:"\u82F1\u56FD"},{n:"\u65B0\u52A0\u5761",v:"\u65B0\u52A0\u5761"},{n:"\u5176\u4ED6",v:"\u5176\u4ED6"}]},{key:"year",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"2026",v:"2026"},{n:"2025",v:"2025"},{n:"2024",v:"2024"},{n:"2023",v:"2023"},{n:"2022",v:"2022"},{n:"2021",v:"2021"},{n:"2020",v:"2020"},{n:"2019",v:"2019"},{n:"2018",v:"2018"},{n:"2017",v:"2017"},{n:"2016",v:"2016"},{n:"2015",v:"2015"},{n:"2014",v:"2014"},{n:"2013",v:"2013"},{n:"2012",v:"2012"},{n:"2011",v:"2011"},{n:"2010",v:"2010"}]},{key:"by",name:"",init:"time",value:[{n:"\u65F6\u95F4",v:"time"},{n:"\u4EBA\u6C14",v:"hits"},{n:"\u8BC4\u5206",v:"score"}]}],n[3]=[{key:"year",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"2026",v:"2026"},{n:"2025",v:"2025"},{n:"2024",v:"2024"},{n:"2023",v:"2023"},{n:"2022",v:"2022"},{n:"2021",v:"2021"},{n:"2020",v:"2020"},{n:"2019",v:"2019"},{n:"2018",v:"2018"},{n:"2017",v:"2017"},{n:"2016",v:"2016"},{n:"2015",v:"2015"},{n:"2014",v:"2014"},{n:"2013",v:"2013"},{n:"2012",v:"2012"},{n:"2011",v:"2011"},{n:"2010",v:"2010"}]},{key:"by",name:"",init:"time",value:[{n:"\u65F6\u95F4",v:"time"},{n:"\u4EBA\u6C14",v:"hits"},{n:"\u8BC4\u5206",v:"score"}]}],n[4]=[{key:"year",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"2026",v:"2026"},{n:"2025",v:"2025"},{n:"2024",v:"2024"},{n:"2023",v:"2023"},{n:"2022",v:"2022"},{n:"2021",v:"2021"},{n:"2020",v:"2020"},{n:"2019",v:"2019"},{n:"2018",v:"2018"},{n:"2017",v:"2017"},{n:"2016",v:"2016"},{n:"2015",v:"2015"},{n:"2014",v:"2014"},{n:"2013",v:"2013"},{n:"2012",v:"2012"},{n:"2011",v:"2011"},{n:"2010",v:"2010"}]},{key:"by",name:"",init:"time",value:[{n:"\u65F6\u95F4",v:"time"},{n:"\u4EBA\u6C14",v:"hits"},{n:"\u8BC4\u5206",v:"score"}]}],n[29]=[{key:"by",name:"",init:"time",value:[{n:"\u65F6\u95F4",v:"time"},{n:"\u4EBA\u6C14",v:"hits"},{n:"\u8BC4\u5206",v:"score"}]}],n[25]=[{key:"year",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"2026",v:"2026"},{n:"2025",v:"2025"},{n:"2024",v:"2024"},{n:"2023",v:"2023"},{n:"2022",v:"2022"},{n:"2021",v:"2021"},{n:"2020",v:"2020"},{n:"2019",v:"2019"},{n:"2018",v:"2018"},{n:"2017",v:"2017"},{n:"2016",v:"2016"},{n:"2015",v:"2015"},{n:"2014",v:"2014"},{n:"2013",v:"2013"},{n:"2012",v:"2012"},{n:"2011",v:"2011"},{n:"2010",v:"2010"}]},{key:"by",name:"",init:"time",value:[{n:"\u65F6\u95F4",v:"time"},{n:"\u4EBA\u6C14",v:"hits"},{n:"\u8BC4\u5206",v:"score"}]}],{class:r,filters:n}}async function Pst(e,t){let r=await jI(e.server),n=e.body.id,s=e.body.page,i=e.body.filters||{},a=s||1;a==0&&(a=1);let o=r+"/index.php/vod/show";i.area&&(o+=`/area/${i.area}`),i.by&&(o+=`/by/${i.by}`),i.class&&(o+=`/class/${i.class}`),o+=`/id/${n}/page/${a}`,i.year&&(o+=`/year/${i.year}`),o+=".html";let c=await S5(o,Jt),u=je(c),l=u("#main .module-item"),d=[];for(var f of l){let m=u(f).find(".module-item-pic a").attr("href"),A=u(f).find(".module-item-pic img").attr("alt"),g=u(f).find(".module-item-pic img").attr("data-src"),x=u(f).find(".module-item-text").text();d.push({vod_id:m,vod_name:A,vod_pic:g,vod_remarks:x})}let p=u("#page > a:contains(\u4E0B\u4E00\u9875)").length>0?parseInt(a)+1:parseInt(a);return{page:parseInt(a),pagecount:p,limit:72,total:72*p,list:d}}async function Ost(e,t){let r=await jI(e.server),n=Array.isArray(e.body.id)?e.body.id:[e.body.id],s=[];for(let i of n){let a=await S5(r+i),o=je(a),c={vod_id:i,vod_name:o(".page-title")[0].children[0].data,vod_pic:o(o(".mobile-play")).find(".lazyload")[0].attribs["data-src"]},u=o(".video-info-itemtitle");for(let f of u){let h=o(f).text(),m=o(f).next().find("a").map((A,g)=>{let x=o(g).text().trim();return x||null}).get().filter(Boolean).join(", ");h.includes("\u5267\u60C5")?c.vod_content=o(f).next().find("p").text().trim():h.includes("\u5BFC\u6F14")?c.vod_director=m.trim():h.includes("\u4E3B\u6F14")&&(c.vod_actor=m.trim())}let l=o("div.module-row-info p").map((f,h)=>h.children[0].data).get(),d=await qt(l,e);d&&(c.vod_play_from=d.froms,c.vod_play_url=d.urls),s.push(c)}return{list:s}}async function $st(e,t){let r=await jI(e.server),n=e.body.page,s=e.body.wd,i=n||1;i==0&&(i=1);let a=await S5(`${r}/index.php/vod/search/wd/${s}.html`),o=je(a),c=o(".module-search-item").map((u,l)=>({vod_id:o(l).find(".video-serial")[0].attribs.href,vod_name:o(l).find(".video-serial")[0].attribs.title,vod_pic:o(l).find(".module-item-pic > img")[0].attribs["data-src"],vod_remarks:o(o(l).find(".video-serial")[0]).text()})).get();return{page:i,pagecount:c.length<10?i:i+1,list:c}}var Zpe={meta:{key:"muou",name:"\u6728\u5076",type:3},api:async e=>{e.post("/init",Wt),e.post("/home",Dst),e.post("/category",Pst),e.post("/detail",Ost),e.post("/play",Ht),e.post("/search",$st),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",jt)},check:jI};var Lst=["http://fmao.shop"],T5=async e=>(await e.db.getObjectDefault("/labi",{}))?.urls||e.config.labi?.urls||Lst,Mst=async(e,t)=>{await e.db.push("/labi/urls",t)},Fst=async e=>{await e.db.delete("/labi/urls")};async function B5(e){e.get("/urls",async(t,r)=>{r.send({code:0,data:await T5(t.server)})}),e.put("/urls",async(t,r)=>{await Mst(t.server,t.body),r.send({code:0})}),e.delete("/urls",async(t,r)=>{await Fst(t.server),r.send({code:0})})}var R5,HI=e=>{if(!R5){let t=Date.now();R5=new Promise(async r=>{let n=await T5(e),s=await Pr(n);console.log("\u8721\u7B14\u57DF\u540D",s,`${Date.now()-t}ms`),r(s)})}return R5};async function N5(e){return(await Pe.get(e,{headers:{"User-Agent":Jt}})).data}async function Qst(e,t){return{class:[{type_id:"1",type_name:"\u7535\u5F71"},{type_id:"2",type_name:"\u5267\u96C6"},{type_id:"3",type_name:"\u52A8\u6F2B"},{type_id:"4",type_name:"\u7EFC\u827A"},{type_id:"24",type_name:"4K"},{type_id:"29",type_name:"\u81FB\u5F69"},{type_id:"5",type_name:"\u77ED\u5267"}],filters:{}}}async function Ust(e,t){let r=await HI(e.server),n=e.body.id,s=e.body.page,i=s||1;i==0&&(i=1);let a=r+`/index.php/vod/show/id/${n}/page/${s}.html`,o=await N5(a,Jt),c=je(o),u=c("#main .module-item"),l=[];for(var d of u){let p=c(d).find(".module-item-pic a").attr("href"),m=c(d).find(".module-item-pic img").attr("alt"),A=c(d).find(".module-item-pic img").attr("data-src"),g=c(d).find(".module-item-text").text();l.push({vod_id:p,vod_name:m,vod_pic:A,vod_remarks:g})}let h=c("#page > a:contains(\u4E0B\u4E00\u9875)").length>0?parseInt(i)+1:parseInt(i);return{page:parseInt(i),pagecount:h,limit:72,total:72*h,list:l}}async function qst(e,t){let r=await HI(e.server),n=Array.isArray(e.body.id)?e.body.id:[e.body.id],s=[];for(let i of n){let a=await N5(r+i),o=je(a),c={vod_id:i,vod_name:o(".page-title")[0].children[0].data,vod_pic:o(o(".mobile-play")).find(".lazyload")[0].attribs["data-src"]},u=o(".video-info-itemtitle");for(let f of u){let h=o(f).text(),m=o(f).next().find("a").map((A,g)=>{let x=o(g).text().trim();return x||null}).get().filter(Boolean).join(", ");h.includes("\u5267\u60C5")?c.vod_content=o(f).next().find("p").text().trim():h.includes("\u5BFC\u6F14")?c.vod_director=m.trim():h.includes("\u4E3B\u6F14")&&(c.vod_actor=m.trim())}let l=o("div.module-row-info p").map((f,h)=>h.children[0].data).get(),d=await qt(l,e);d&&(c.vod_play_from=d.froms,c.vod_play_url=d.urls),s.push(c)}return{list:s}}async function jst(e,t){let r=await HI(e.server),n=e.body.page,s=e.body.wd,i=n||1;i==0&&(i=1);let a=await N5(`${r}/index.php/vod/search/wd/${s}.html`),o=je(a),c=o(".module-search-item").map((u,l)=>({vod_id:o(l).find(".video-serial")[0].attribs.href,vod_name:o(l).find(".video-serial")[0].attribs.title,vod_pic:o(l).find(".module-item-pic > img")[0].attribs["data-src"],vod_remarks:o(o(l).find(".video-serial")[0]).text()})).get();return{page:i,pagecount:c.length<10?i:i+1,list:c}}var e0e={meta:{key:"labi",name:"\u8721\u7B14",type:3},api:async e=>{e.post("/init",Wt),e.post("/home",Qst),e.post("/category",Ust),e.post("/detail",qst),e.post("/play",Ht),e.post("/search",jst),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",jt)},check:HI};var Hst=["http://fmao.shop"],k5=async e=>(await e.db.getObjectDefault("/shandian",{}))?.urls||e.config.shandian?.urls||Hst,zst=async(e,t)=>{await e.db.push("/shandian/urls",t)},Gst=async e=>{await e.db.delete("/shandian/urls")};async function D5(e){e.get("/urls",async(t,r)=>{r.send({code:0,data:await k5(t.server)})}),e.put("/urls",async(t,r)=>{await zst(t.server,t.body),r.send({code:0})}),e.delete("/urls",async(t,r)=>{await Gst(t.server),r.send({code:0})})}var P5,zI=e=>{if(!P5){let t=Date.now();P5=new Promise(async r=>{let n=await k5(e),s=await Pr(n);console.log("\u95EA\u7535\u57DF\u540D",s,`${Date.now()-t}ms`),r(s)})}return P5};async function O5(e){return(await Pe.get(e,{headers:{"User-Agent":Jt}})).data}async function Vst(e,t){return{class:[{type_id:"1",type_name:"\u7535\u5F71"},{type_id:"2",type_name:"\u5267\u96C6"},{type_id:"3",type_name:"\u7EFC\u827A"},{type_id:"4",type_name:"\u52A8\u6F2B"},{type_id:"30",type_name:"\u77ED\u5267"}],filters:{}}}async function Kst(e,t){let r=await zI(e.server),n=e.body.id,s=e.body.page,i=s||1;i==0&&(i=1);let a=r+`/index.php/vod/show/id/${n}/page/${s}.html`,o=await O5(a,Jt),c=je(o),u=c("#main .module-item"),l=[];for(var d of u){let p=c(d).find(".module-item-pic a").attr("href"),m=c(d).find(".module-item-pic img").attr("alt"),A=c(d).find(".module-item-pic img").attr("data-src"),g=c(d).find(".module-item-text").text();l.push({vod_id:p,vod_name:m,vod_pic:A,vod_remarks:g})}let h=c("#page > a:contains(\u4E0B\u4E00\u9875)").length>0?parseInt(i)+1:parseInt(i);return{page:parseInt(i),pagecount:h,limit:72,total:72*h,list:l}}async function Yst(e,t){let r=await zI(e.server),n=Array.isArray(e.body.id)?e.body.id:[e.body.id],s=[];for(let i of n){let a=await O5(r+i),o=je(a),c={vod_id:i,vod_name:o(".page-title")[0].children[0].data,vod_pic:o(o(".mobile-play")).find(".lazyload")[0].attribs["data-src"]},u=o(".video-info-itemtitle");for(let f of u){let h=o(f).text(),m=o(f).next().find("a").map((A,g)=>{let x=o(g).text().trim();return x||null}).get().filter(Boolean).join(", ");h.includes("\u5267\u60C5")?c.vod_content=o(f).next().find("p").text().trim():h.includes("\u5BFC\u6F14")?c.vod_director=m.trim():h.includes("\u4E3B\u6F14")&&(c.vod_actor=m.trim())}let l=o("div.module-row-info p").map((f,h)=>h.children[0].data).get(),d=await qt(l,e);d&&(c.vod_play_from=d.froms,c.vod_play_url=d.urls),s.push(c)}return{list:s}}async function Wst(e,t){let r=await zI(e.server),n=e.body.page,s=e.body.wd,i=n||1;i==0&&(i=1);let a=await O5(`${r}/index.php/vod/search/wd/${s}.html`),o=je(a),c=o(".module-search-item").map((u,l)=>({vod_id:o(l).find(".video-serial")[0].attribs.href,vod_name:o(l).find(".video-serial")[0].attribs.title,vod_pic:o(l).find(".module-item-pic > img")[0].attribs["data-src"],vod_remarks:o(o(l).find(".video-serial")[0]).text()})).get();return{page:i,pagecount:c.length<10?i:i+1,list:c}}var t0e={meta:{key:"shandian",name:"\u95EA\u7535",type:3},api:async e=>{e.post("/init",Wt),e.post("/home",Vst),e.post("/category",Kst),e.post("/detail",Yst),e.post("/play",Ht),e.post("/search",Wst),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",jt)},check:zI};var Jst=["https://woog.nxog.eu.org"],$5=async e=>(await e.db.getObjectDefault("/ouge",{}))?.urls||e.config.ouge?.urls||Jst,Xst=async(e,t)=>{await e.db.push("/ouge/urls",t)},Zst=async e=>{await e.db.delete("/ouge/urls")};async function L5(e){e.get("/urls",async(t,r)=>{r.send({code:0,data:await $5(t.server)})}),e.put("/urls",async(t,r)=>{await Xst(t.server,t.body),r.send({code:0})}),e.delete("/urls",async(t,r)=>{await Zst(t.server),r.send({code:0})})}var M5,GI=e=>{if(!M5){let t=Date.now();M5=new Promise(async r=>{let n=await $5(e),s=await Pr(n);console.log("\u6B27\u54E5\u57DF\u540D",s,`${Date.now()-t}ms`),r(s)})}return M5};async function F5(e){return(await Pe.get(e,{headers:{"User-Agent":Jt}})).data}async function eit(e,t){return{class:[{type_id:"1",type_name:"\u7535\u5F71"},{type_id:"2",type_name:"\u5267\u96C6"},{type_id:"3",type_name:"\u52A8\u6F2B"},{type_id:"5",type_name:"\u77ED\u5267"},{type_id:"4",type_name:"\u7EFC\u827A"},{type_id:"21",type_name:"\u7EFC\u5408"}],filters:{}}}async function tit(e,t){let r=await GI(e.server),n=e.body.id,s=e.body.page,i=s||1;i==0&&(i=1);let a=r+`/index.php/vod/show/id/${n}/page/${s}.html`,o=await F5(a,Jt),c=je(o),u=c("#main .module-item"),l=[];for(var d of u){let p=c(d).find(".module-item-pic a").attr("href"),m=c(d).find(".module-item-pic img").attr("alt"),A=c(d).find(".module-item-pic img").attr("data-src"),g=c(d).find(".module-item-text").text();l.push({vod_id:p,vod_name:m,vod_pic:A,vod_remarks:g})}let h=c("#page > a:contains(\u4E0B\u4E00\u9875)").length>0?parseInt(i)+1:parseInt(i);return{page:parseInt(i),pagecount:h,limit:72,total:72*h,list:l}}async function rit(e,t){let r=await GI(e.server),n=Array.isArray(e.body.id)?e.body.id:[e.body.id],s=[];for(let i of n){let a=await F5(r+i),o=je(a),c={vod_id:i,vod_name:o(".page-title")[0].children[0].data,vod_pic:o(o(".mobile-play")).find(".lazyload")[0].attribs["data-src"]},u=o(".video-info-itemtitle");for(let f of u){let h=o(f).text(),m=o(f).next().find("a").map((A,g)=>{let x=o(g).text().trim();return x||null}).get().filter(Boolean).join(", ");h.includes("\u5267\u60C5")?c.vod_content=o(f).next().find("p").text().trim():h.includes("\u5BFC\u6F14")?c.vod_director=m.trim():h.includes("\u4E3B\u6F14")&&(c.vod_actor=m.trim())}let l=o("div.module-row-info p").map((f,h)=>h.children[0].data).get(),d=await qt(l,e);d&&(c.vod_play_from=d.froms,c.vod_play_url=d.urls),s.push(c)}return{list:s}}async function nit(e,t){let r=await GI(e.server),n=e.body.page,s=e.body.wd,i=n||1;i==0&&(i=1);let a=await F5(`${r}/index.php/vod/search/wd/${s}.html`),o=je(a),c=o(".module-search-item").map((u,l)=>({vod_id:o(l).find(".video-serial")[0].attribs.href,vod_name:o(l).find(".video-serial")[0].attribs.title,vod_pic:o(l).find(".module-item-pic > img")[0].attribs["data-src"],vod_remarks:o(o(l).find(".video-serial")[0]).text()})).get();return{page:i,pagecount:c.length<10?i:i+1,list:c}}var r0e={meta:{key:"ouge",name:"\u6B27\u6B4C",type:3},api:async e=>{e.post("/init",Wt),e.post("/home",eit),e.post("/category",tit),e.post("/detail",rit),e.post("/play",Ht),e.post("/search",nit),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",jt)},check:GI};var sit=["https://erxiaofn.click","https://erxiaofn.site"],Q5=async e=>(await e.db.getObjectDefault("/erxiao",{}))?.urls||e.config.erxiao?.urls||sit,iit=async(e,t)=>{await e.db.push("/erxiao/urls",t)},ait=async e=>{await e.db.delete("/erxiao/urls")};async function U5(e){e.get("/urls",async(t,r)=>{r.send({code:0,data:await Q5(t.server)})}),e.put("/urls",async(t,r)=>{await iit(t.server,t.body),r.send({code:0})}),e.delete("/urls",async(t,r)=>{await ait(t.server),r.send({code:0})})}var q5,VI=e=>{if(!q5){let t=Date.now();q5=new Promise(async r=>{let n=await Q5(e),s=await Pr(n);console.log("\u4E8C\u5C0F\u57DF\u540D",s,`${Date.now()-t}ms`),r(s)})}return q5};async function j5(e){return(await Pe.get(e,{headers:{"User-Agent":Jt}})).data}async function oit(e,t){return{class:[{type_id:"1",type_name:"\u7535\u5F71"},{type_id:"2",type_name:"\u5267\u96C6"},{type_id:"3",type_name:"\u52A8\u6F2B"},{type_id:"4",type_name:"\u70ED\u64AD"},{type_id:"21",type_name:"\u7EFC\u827A"}],filters:{}}}async function cit(e,t){let r=await VI(e.server),n=e.body.id,s=e.body.page,i=s||1;i==0&&(i=1);let a=r+`/index.php/vod/show/id/${n}/page/${s}.html`,o=await j5(a,Jt),c=je(o),u=c("#main .module-item"),l=[];for(var d of u){let p=c(d).find(".module-item-pic a").attr("href"),m=c(d).find(".module-item-pic img").attr("alt"),A=c(d).find(".module-item-pic img").attr("data-src"),g=c(d).find(".module-item-text").text();l.push({vod_id:p,vod_name:m,vod_pic:A,vod_remarks:g})}let h=c("#page > a:contains(\u4E0B\u4E00\u9875)").length>0?parseInt(i)+1:parseInt(i);return{page:parseInt(i),pagecount:h,limit:72,total:72*h,list:l}}async function uit(e,t){let r=await VI(e.server),n=Array.isArray(e.body.id)?e.body.id:[e.body.id],s=[];for(let i of n){let a=await j5(r+i),o=je(a),c={vod_id:i,vod_name:o(".page-title")[0].children[0].data,vod_pic:o(o(".mobile-play")).find(".lazyload")[0].attribs["data-src"]},u=o(".video-info-itemtitle");for(let f of u){let h=o(f).text(),m=o(f).next().find("a").map((A,g)=>{let x=o(g).text().trim();return x||null}).get().filter(Boolean).join(", ");h.includes("\u5267\u60C5")?c.vod_content=o(f).next().find("p").text().trim():h.includes("\u5BFC\u6F14")?c.vod_director=m.trim():h.includes("\u4E3B\u6F14")&&(c.vod_actor=m.trim())}let l=o("div.module-row-info p").map((f,h)=>h.children[0].data).get(),d=await qt(l,e);d&&(c.vod_play_from=d.froms,c.vod_play_url=d.urls),s.push(c)}return{list:s}}async function lit(e,t){let r=await VI(e.server),n=e.body.page,s=e.body.wd,i=n||1;i==0&&(i=1);let a=await j5(`${r}/index.php/vod/search/wd/${s}.html`),o=je(a),c=o(".module-search-item").map((u,l)=>({vod_id:o(l).find(".video-serial")[0].attribs.href,vod_name:o(l).find(".video-serial")[0].attribs.title,vod_pic:o(l).find(".module-item-pic > img")[0].attribs["data-src"],vod_remarks:o(o(l).find(".video-serial")[0]).text()})).get();return{page:i,pagecount:c.length<10?i:i+1,list:c}}var n0e={meta:{key:"erxiao",name:"\u4E8C\u5C0F",type:3},api:async e=>{e.post("/init",Wt),e.post("/home",oit),e.post("/category",cit),e.post("/detail",uit),e.post("/play",Ht),e.post("/search",lit),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",jt)},check:VI};var dit=["http://xhban.xyz:20720","http://154.222.27.33:20720","http://103.45.162.207:20720"],H5=async e=>(await e.db.getObjectDefault("/huban",{}))?.urls||e.config.huban?.urls||dit,fit=async(e,t)=>{await e.db.push("/huban/urls",t)},pit=async e=>{await e.db.delete("/huban/urls")};async function z5(e){e.get("/urls",async(t,r)=>{r.send({code:0,data:await H5(t.server)})}),e.put("/urls",async(t,r)=>{await fit(t.server,t.body),r.send({code:0})}),e.delete("/urls",async(t,r)=>{await pit(t.server),r.send({code:0})})}var G5,KI=e=>{if(!G5){let t=Date.now();G5=new Promise(async r=>{let n=await H5(e),s=await Pr(n);console.log("\u864E\u6591\u57DF\u540D",s,`${Date.now()-t}ms`),r(s)})}return G5};async function V5(e){return(await Pe.get(e,{headers:{"User-Agent":Jt}})).data}async function hit(e,t){return{class:[{type_id:"1",type_name:"\u5F71"},{type_id:"2",type_name:"\u5267"},{type_id:"3",type_name:"\u7EFC"},{type_id:"4",type_name:"\u6F2B"},{type_id:"6",type_name:"\u77ED"},{type_id:"5",type_name:"\u7CBE"},{type_id:"30",type_name:"115"}],filters:{}}}async function mit(e,t){let r=await KI(e.server),n=e.body.id,s=e.body.page,i=s||1;i==0&&(i=1);let a=r+`/index.php/vod/show/id/${n}/page/${s}.html`,o=await V5(a,Jt),c=je(o),u=c("#main .module-item"),l=[];for(var d of u){let p=c(d).find(".module-item-pic a").attr("href"),m=c(d).find(".module-item-pic img").attr("alt"),A=c(d).find(".module-item-pic img").attr("data-src"),g=c(d).find(".module-item-text").text();l.push({vod_id:p,vod_name:m,vod_pic:A,vod_remarks:g})}let h=c("#page > a:contains(\u4E0B\u4E00\u9875)").length>0?parseInt(i)+1:parseInt(i);return{page:parseInt(i),pagecount:h,limit:72,total:72*h,list:l}}async function git(e,t){let r=await KI(e.server),n=Array.isArray(e.body.id)?e.body.id:[e.body.id],s=[];for(let i of n){let a=await V5(r+i),o=je(a),c={vod_id:i,vod_name:o(".page-title")[0].children[0].data,vod_pic:o(o(".mobile-play")).find(".lazyload")[0].attribs["data-src"]},u=o(".video-info-itemtitle");for(let f of u){let h=o(f).text(),m=o(f).next().find("a").map((A,g)=>{let x=o(g).text().trim();return x||null}).get().filter(Boolean).join(", ");h.includes("\u5267\u60C5")?c.vod_content=o(f).next().find("p").text().trim():h.includes("\u5BFC\u6F14")?c.vod_director=m.trim():h.includes("\u4E3B\u6F14")&&(c.vod_actor=m.trim())}let l=o("div.module-row-info p").map((f,h)=>h.children[0].data).get(),d=await qt(l,e);d&&(c.vod_play_from=d.froms,c.vod_play_url=d.urls),s.push(c)}return{list:s}}async function Ait(e,t){let r=await KI(e.server),n=e.body.page,s=e.body.wd,i=n||1;i==0&&(i=1);let a=await V5(`${r}/index.php/vod/search/wd/${s}.html`),o=je(a),c=o(".module-search-item").map((u,l)=>({vod_id:o(l).find(".video-serial")[0].attribs.href,vod_name:o(l).find(".video-serial")[0].attribs.title,vod_pic:o(l).find(".module-item-pic > img")[0].attribs["data-src"],vod_remarks:o(o(l).find(".video-serial")[0]).text()})).get();return{page:i,pagecount:c.length<10?i:i+1,list:c}}var s0e={meta:{key:"huban",name:"\u864E\u6591",type:3},api:async e=>{e.post("/init",Wt),e.post("/home",hit),e.post("/category",mit),e.post("/detail",git),e.post("/play",Ht),e.post("/search",Ait),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",jt)},check:KI};var yit=["http://xsayang.fun:12512","http://154.201.83.50:12512"],K5=async e=>(await e.db.getObjectDefault("/xiaoban",{}))?.urls||e.config.xiaoban?.urls||yit,bit=async(e,t)=>{await e.db.push("/xiaoban/urls",t)},Eit=async e=>{await e.db.delete("/xiaoban/urls")};async function Y5(e){e.get("/urls",async(t,r)=>{r.send({code:0,data:await K5(t.server)})}),e.put("/urls",async(t,r)=>{await bit(t.server,t.body),r.send({code:0})}),e.delete("/urls",async(t,r)=>{await Eit(t.server),r.send({code:0})})}var W5,YI=e=>{if(!W5){let t=Date.now();W5=new Promise(async r=>{let n=await K5(e),s=await Pr(n);console.log("\u5C0F\u6591\u57DF\u540D",s,`${Date.now()-t}ms`),r(s)})}return W5};async function J5(e){return(await Pe.get(e,{headers:{"User-Agent":Jt}})).data}async function xit(e,t){return{class:[{type_id:"30",type_name:"115"},{type_id:"35",type_name:"123"},{type_id:"36",type_name:"\u5929\u79FB\u8FC5"},{type_id:"1",type_name:"\u5F71"},{type_id:"2",type_name:"\u5267"},{type_id:"3",type_name:"\u7EFC"},{type_id:"4",type_name:"\u6F2B"},{type_id:"6",type_name:"\u77ED"},{type_id:"5",type_name:"\u7CBE"}],filters:{}}}async function vit(e,t){let r=await YI(e.server),n=e.body.id,s=e.body.page,i=s||1;i==0&&(i=1);let a=r+`/index.php/vod/show/id/${n}/page/${s}.html`,o=await J5(a,Jt),c=je(o),u=c("#main .module-item"),l=[];for(var d of u){let p=c(d).find(".module-item-pic a").attr("href"),m=c(d).find(".module-item-pic img").attr("alt"),A=c(d).find(".module-item-pic img").attr("data-src"),g=c(d).find(".module-item-text").text();l.push({vod_id:p,vod_name:m,vod_pic:A,vod_remarks:g})}let h=c("#page > a:contains(\u4E0B\u4E00\u9875)").length>0?parseInt(i)+1:parseInt(i);return{page:parseInt(i),pagecount:h,limit:72,total:72*h,list:l}}async function _it(e,t){let r=await YI(e.server),n=Array.isArray(e.body.id)?e.body.id:[e.body.id],s=[];for(let i of n){let a=await J5(r+i),o=je(a),c={vod_id:i,vod_name:o(".page-title")[0].children[0].data,vod_pic:o(o(".mobile-play")).find(".lazyload")[0].attribs["data-src"]},u=o(".video-info-itemtitle");for(let f of u){let h=o(f).text(),m=o(f).next().find("a").map((A,g)=>{let x=o(g).text().trim();return x||null}).get().filter(Boolean).join(", ");h.includes("\u5267\u60C5")?c.vod_content=o(f).next().find("p").text().trim():h.includes("\u5BFC\u6F14")?c.vod_director=m.trim():h.includes("\u4E3B\u6F14")&&(c.vod_actor=m.trim())}let l=o("div.module-row-info p").map((f,h)=>h.children[0].data).get(),d=await qt(l,e);d&&(c.vod_play_from=d.froms,c.vod_play_url=d.urls),s.push(c)}return{list:s}}async function Iit(e,t){let r=await YI(e.server),n=e.body.page,s=e.body.wd,i=n||1;i==0&&(i=1);let a=await J5(`${r}/index.php/vod/search/wd/${s}.html`),o=je(a),c=o(".module-search-item").map((u,l)=>({vod_id:o(l).find(".video-serial")[0].attribs.href,vod_name:o(l).find(".video-serial")[0].attribs.title,vod_pic:o(l).find(".module-item-pic > img")[0].attribs["data-src"],vod_remarks:o(o(l).find(".video-serial")[0]).text()})).get();return{page:i,pagecount:c.length<10?i:i+1,list:c}}var i0e={meta:{key:"xiaoban",name:"\u5C0F\u6591",type:3},api:async e=>{e.post("/init",Wt),e.post("/home",xit),e.post("/category",vit),e.post("/detail",_it),e.post("/play",Ht),e.post("/search",Iit),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",jt)},check:YI};var o0e=ke(require("vm"),1),Z5=class{add(t,r,n){if(typeof arguments[0]!="string")for(let s in arguments[0])this.add(s,arguments[0][s],arguments[1]);else(Array.isArray(t)?t:[t]).forEach(function(s){this[s]=this[s]||[],r&&this[s][n?"unshift":"push"](r)},this)}run(t,r){this[t]=this[t]||[],this[t].forEach(function(n){n.call(r&&r.context?r.context:r,r)})}},e$=class{constructor(t){this.jsep=t,this.registered={}}register(...t){t.forEach(r=>{if(typeof r!="object"||!r.name||!r.init)throw new Error("Invalid JSEP plugin format");this.registered[r.name]||(r.init(this.jsep),this.registered[r.name]=r)})}},Gs=class e{static get version(){return"1.4.0"}static toString(){return"JavaScript Expression Parser (JSEP) v"+e.version}static addUnaryOp(t){return e.max_unop_len=Math.max(t.length,e.max_unop_len),e.unary_ops[t]=1,e}static addBinaryOp(t,r,n){return e.max_binop_len=Math.max(t.length,e.max_binop_len),e.binary_ops[t]=r,n?e.right_associative.add(t):e.right_associative.delete(t),e}static addIdentifierChar(t){return e.additional_identifier_chars.add(t),e}static addLiteral(t,r){return e.literals[t]=r,e}static removeUnaryOp(t){return delete e.unary_ops[t],t.length===e.max_unop_len&&(e.max_unop_len=e.getMaxKeyLen(e.unary_ops)),e}static removeAllUnaryOps(){return e.unary_ops={},e.max_unop_len=0,e}static removeIdentifierChar(t){return e.additional_identifier_chars.delete(t),e}static removeBinaryOp(t){return delete e.binary_ops[t],t.length===e.max_binop_len&&(e.max_binop_len=e.getMaxKeyLen(e.binary_ops)),e.right_associative.delete(t),e}static removeAllBinaryOps(){return e.binary_ops={},e.max_binop_len=0,e}static removeLiteral(t){return delete e.literals[t],e}static removeAllLiterals(){return e.literals={},e}get char(){return this.expr.charAt(this.index)}get code(){return this.expr.charCodeAt(this.index)}constructor(t){this.expr=t,this.index=0}static parse(t){return new e(t).parse()}static getMaxKeyLen(t){return Math.max(0,...Object.keys(t).map(r=>r.length))}static isDecimalDigit(t){return t>=48&&t<=57}static binaryPrecedence(t){return e.binary_ops[t]||0}static isIdentifierStart(t){return t>=65&&t<=90||t>=97&&t<=122||t>=128&&!e.binary_ops[String.fromCharCode(t)]||e.additional_identifier_chars.has(String.fromCharCode(t))}static isIdentifierPart(t){return e.isIdentifierStart(t)||e.isDecimalDigit(t)}throwError(t){let r=new Error(t+" at character "+this.index);throw r.index=this.index,r.description=t,r}runHook(t,r){if(e.hooks[t]){let n={context:this,node:r};return e.hooks.run(t,n),n.node}return r}searchHook(t){if(e.hooks[t]){let r={context:this};return e.hooks[t].find(function(n){return n.call(r.context,r),r.node}),r.node}}gobbleSpaces(){let t=this.code;for(;t===e.SPACE_CODE||t===e.TAB_CODE||t===e.LF_CODE||t===e.CR_CODE;)t=this.expr.charCodeAt(++this.index);this.runHook("gobble-spaces")}parse(){this.runHook("before-all");let t=this.gobbleExpressions(),r=t.length===1?t[0]:{type:e.COMPOUND,body:t};return this.runHook("after-all",r)}gobbleExpressions(t){let r=[],n,s;for(;this.index<this.expr.length;)if(n=this.code,n===e.SEMCOL_CODE||n===e.COMMA_CODE)this.index++;else if(s=this.gobbleExpression())r.push(s);else if(this.index<this.expr.length){if(n===t)break;this.throwError('Unexpected "'+this.char+'"')}return r}gobbleExpression(){let t=this.searchHook("gobble-expression")||this.gobbleBinaryExpression();return this.gobbleSpaces(),this.runHook("after-expression",t)}gobbleBinaryOp(){this.gobbleSpaces();let t=this.expr.substr(this.index,e.max_binop_len),r=t.length;for(;r>0;){if(e.binary_ops.hasOwnProperty(t)&&(!e.isIdentifierStart(this.code)||this.index+t.length<this.expr.length&&!e.isIdentifierPart(this.expr.charCodeAt(this.index+t.length))))return this.index+=r,t;t=t.substr(0,--r)}return!1}gobbleBinaryExpression(){let t,r,n,s,i,a,o,c,u;if(a=this.gobbleToken(),!a||(r=this.gobbleBinaryOp(),!r))return a;for(i={value:r,prec:e.binaryPrecedence(r),right_a:e.right_associative.has(r)},o=this.gobbleToken(),o||this.throwError("Expected expression after "+r),s=[a,i,o];r=this.gobbleBinaryOp();){if(n=e.binaryPrecedence(r),n===0){this.index-=r.length;break}i={value:r,prec:n,right_a:e.right_associative.has(r)},u=r;let l=d=>i.right_a&&d.right_a?n>d.prec:n<=d.prec;for(;s.length>2&&l(s[s.length-2]);)o=s.pop(),r=s.pop().value,a=s.pop(),t={type:e.BINARY_EXP,operator:r,left:a,right:o},s.push(t);t=this.gobbleToken(),t||this.throwError("Expected expression after "+u),s.push(i,t)}for(c=s.length-1,t=s[c];c>1;)t={type:e.BINARY_EXP,operator:s[c-1].value,left:s[c-2],right:t},c-=2;return t}gobbleToken(){let t,r,n,s;if(this.gobbleSpaces(),s=this.searchHook("gobble-token"),s)return this.runHook("after-token",s);if(t=this.code,e.isDecimalDigit(t)||t===e.PERIOD_CODE)return this.gobbleNumericLiteral();if(t===e.SQUOTE_CODE||t===e.DQUOTE_CODE)s=this.gobbleStringLiteral();else if(t===e.OBRACK_CODE)s=this.gobbleArray();else{for(r=this.expr.substr(this.index,e.max_unop_len),n=r.length;n>0;){if(e.unary_ops.hasOwnProperty(r)&&(!e.isIdentifierStart(this.code)||this.index+r.length<this.expr.length&&!e.isIdentifierPart(this.expr.charCodeAt(this.index+r.length)))){this.index+=n;let i=this.gobbleToken();return i||this.throwError("missing unaryOp argument"),this.runHook("after-token",{type:e.UNARY_EXP,operator:r,argument:i,prefix:!0})}r=r.substr(0,--n)}e.isIdentifierStart(t)?(s=this.gobbleIdentifier(),e.literals.hasOwnProperty(s.name)?s={type:e.LITERAL,value:e.literals[s.name],raw:s.name}:s.name===e.this_str&&(s={type:e.THIS_EXP})):t===e.OPAREN_CODE&&(s=this.gobbleGroup())}return s?(s=this.gobbleTokenProperty(s),this.runHook("after-token",s)):this.runHook("after-token",!1)}gobbleTokenProperty(t){this.gobbleSpaces();let r=this.code;for(;r===e.PERIOD_CODE||r===e.OBRACK_CODE||r===e.OPAREN_CODE||r===e.QUMARK_CODE;){let n;if(r===e.QUMARK_CODE){if(this.expr.charCodeAt(this.index+1)!==e.PERIOD_CODE)break;n=!0,this.index+=2,this.gobbleSpaces(),r=this.code}this.index++,r===e.OBRACK_CODE?(t={type:e.MEMBER_EXP,computed:!0,object:t,property:this.gobbleExpression()},t.property||this.throwError('Unexpected "'+this.char+'"'),this.gobbleSpaces(),r=this.code,r!==e.CBRACK_CODE&&this.throwError("Unclosed ["),this.index++):r===e.OPAREN_CODE?t={type:e.CALL_EXP,arguments:this.gobbleArguments(e.CPAREN_CODE),callee:t}:(r===e.PERIOD_CODE||n)&&(n&&this.index--,this.gobbleSpaces(),t={type:e.MEMBER_EXP,computed:!1,object:t,property:this.gobbleIdentifier()}),n&&(t.optional=!0),this.gobbleSpaces(),r=this.code}return t}gobbleNumericLiteral(){let t="",r,n;for(;e.isDecimalDigit(this.code);)t+=this.expr.charAt(this.index++);if(this.code===e.PERIOD_CODE)for(t+=this.expr.charAt(this.index++);e.isDecimalDigit(this.code);)t+=this.expr.charAt(this.index++);if(r=this.char,r==="e"||r==="E"){for(t+=this.expr.charAt(this.index++),r=this.char,(r==="+"||r==="-")&&(t+=this.expr.charAt(this.index++));e.isDecimalDigit(this.code);)t+=this.expr.charAt(this.index++);e.isDecimalDigit(this.expr.charCodeAt(this.index-1))||this.throwError("Expected exponent ("+t+this.char+")")}return n=this.code,e.isIdentifierStart(n)?this.throwError("Variable names cannot start with a number ("+t+this.char+")"):(n===e.PERIOD_CODE||t.length===1&&t.charCodeAt(0)===e.PERIOD_CODE)&&this.throwError("Unexpected period"),{type:e.LITERAL,value:parseFloat(t),raw:t}}gobbleStringLiteral(){let t="",r=this.index,n=this.expr.charAt(this.index++),s=!1;for(;this.index<this.expr.length;){let i=this.expr.charAt(this.index++);if(i===n){s=!0;break}else if(i==="\\")switch(i=this.expr.charAt(this.index++),i){case"n":t+=`
`;break;case"r":t+="\r";break;case"t":t+="	";break;case"b":t+="\b";break;case"f":t+="\f";break;case"v":t+="\v";break;default:t+=i}else t+=i}return s||this.throwError('Unclosed quote after "'+t+'"'),{type:e.LITERAL,value:t,raw:this.expr.substring(r,this.index)}}gobbleIdentifier(){let t=this.code,r=this.index;for(e.isIdentifierStart(t)?this.index++:this.throwError("Unexpected "+this.char);this.index<this.expr.length&&(t=this.code,e.isIdentifierPart(t));)this.index++;return{type:e.IDENTIFIER,name:this.expr.slice(r,this.index)}}gobbleArguments(t){let r=[],n=!1,s=0;for(;this.index<this.expr.length;){this.gobbleSpaces();let i=this.code;if(i===t){n=!0,this.index++,t===e.CPAREN_CODE&&s&&s>=r.length&&this.throwError("Unexpected token "+String.fromCharCode(t));break}else if(i===e.COMMA_CODE){if(this.index++,s++,s!==r.length){if(t===e.CPAREN_CODE)this.throwError("Unexpected token ,");else if(t===e.CBRACK_CODE)for(let a=r.length;a<s;a++)r.push(null)}}else if(r.length!==s&&s!==0)this.throwError("Expected comma");else{let a=this.gobbleExpression();(!a||a.type===e.COMPOUND)&&this.throwError("Expected comma"),r.push(a)}}return n||this.throwError("Expected "+String.fromCharCode(t)),r}gobbleGroup(){this.index++;let t=this.gobbleExpressions(e.CPAREN_CODE);if(this.code===e.CPAREN_CODE)return this.index++,t.length===1?t[0]:t.length?{type:e.SEQUENCE_EXP,expressions:t}:!1;this.throwError("Unclosed (")}gobbleArray(){return this.index++,{type:e.ARRAY_EXP,elements:this.gobbleArguments(e.CBRACK_CODE)}}},Cit=new Z5;Object.assign(Gs,{hooks:Cit,plugins:new e$(Gs),COMPOUND:"Compound",SEQUENCE_EXP:"SequenceExpression",IDENTIFIER:"Identifier",MEMBER_EXP:"MemberExpression",LITERAL:"Literal",THIS_EXP:"ThisExpression",CALL_EXP:"CallExpression",UNARY_EXP:"UnaryExpression",BINARY_EXP:"BinaryExpression",ARRAY_EXP:"ArrayExpression",TAB_CODE:9,LF_CODE:10,CR_CODE:13,SPACE_CODE:32,PERIOD_CODE:46,COMMA_CODE:44,SQUOTE_CODE:39,DQUOTE_CODE:34,OPAREN_CODE:40,CPAREN_CODE:41,OBRACK_CODE:91,CBRACK_CODE:93,QUMARK_CODE:63,SEMCOL_CODE:59,COLON_CODE:58,unary_ops:{"-":1,"!":1,"~":1,"+":1},binary_ops:{"||":1,"??":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10,"**":11},right_associative:new Set(["**"]),additional_identifier_chars:new Set(["$","_"]),literals:{true:!0,false:!1,null:null},this_str:"this"});Gs.max_unop_len=Gs.getMaxKeyLen(Gs.unary_ops);Gs.max_binop_len=Gs.getMaxKeyLen(Gs.binary_ops);var oc=e=>new Gs(e).parse(),wit=Object.getOwnPropertyNames(class{});Object.getOwnPropertyNames(Gs).filter(e=>!wit.includes(e)&&oc[e]===void 0).forEach(e=>{oc[e]=Gs[e]});oc.Jsep=Gs;var Sit="ConditionalExpression",Tit={name:"ternary",init(e){e.hooks.add("after-expression",function(r){if(r.node&&this.code===e.QUMARK_CODE){this.index++;let n=r.node,s=this.gobbleExpression();if(s||this.throwError("Expected expression"),this.gobbleSpaces(),this.code===e.COLON_CODE){this.index++;let i=this.gobbleExpression();if(i||this.throwError("Expected expression"),r.node={type:Sit,test:n,consequent:s,alternate:i},n.operator&&e.binary_ops[n.operator]<=.9){let a=n;for(;a.right.operator&&e.binary_ops[a.right.operator]<=.9;)a=a.right;r.node.test=a.right,a.right=r.node,r.node=n}}else this.throwError("Expected :")}})}};oc.plugins.register(Tit);var a0e=47,Bit=92,Rit={name:"regex",init(e){e.hooks.add("gobble-token",function(r){if(this.code===a0e){let n=++this.index,s=!1;for(;this.index<this.expr.length;){if(this.code===a0e&&!s){let i=this.expr.slice(n,this.index),a="";for(;++this.index<this.expr.length;){let c=this.code;if(c>=97&&c<=122||c>=65&&c<=90||c>=48&&c<=57)a+=this.char;else break}let o;try{o=new RegExp(i,a)}catch(c){this.throwError(c.message)}return r.node={type:e.LITERAL,value:o,raw:this.expr.slice(n-1,this.index)},r.node=this.gobbleTokenProperty(r.node),r.node}this.code===e.OBRACK_CODE?s=!0:s&&this.code===e.CBRACK_CODE&&(s=!1),this.index+=this.code===Bit?2:1}this.throwError("Unclosed Regex")}})}},X5=43,Nit=45,i0={name:"assignment",assignmentOperators:new Set(["=","*=","**=","/=","%=","+=","-=","<<=",">>=",">>>=","&=","^=","|=","||=","&&=","??="]),updateOperators:[X5,Nit],assignmentPrecedence:.9,init(e){let t=[e.IDENTIFIER,e.MEMBER_EXP];i0.assignmentOperators.forEach(n=>e.addBinaryOp(n,i0.assignmentPrecedence,!0)),e.hooks.add("gobble-token",function(s){let i=this.code;i0.updateOperators.some(a=>a===i&&a===this.expr.charCodeAt(this.index+1))&&(this.index+=2,s.node={type:"UpdateExpression",operator:i===X5?"++":"--",argument:this.gobbleTokenProperty(this.gobbleIdentifier()),prefix:!0},(!s.node.argument||!t.includes(s.node.argument.type))&&this.throwError(`Unexpected ${s.node.operator}`))}),e.hooks.add("after-token",function(s){if(s.node){let i=this.code;i0.updateOperators.some(a=>a===i&&a===this.expr.charCodeAt(this.index+1))&&(t.includes(s.node.type)||this.throwError(`Unexpected ${s.node.operator}`),this.index+=2,s.node={type:"UpdateExpression",operator:i===X5?"++":"--",argument:s.node,prefix:!1})}}),e.hooks.add("after-expression",function(s){s.node&&r(s.node)});function r(n){i0.assignmentOperators.has(n.operator)?(n.type="AssignmentExpression",r(n.left),r(n.right)):n.operator||Object.values(n).forEach(s=>{s&&typeof s=="object"&&r(s)})}}};oc.plugins.register(Rit,i0);oc.addUnaryOp("typeof");oc.addLiteral("null",null);oc.addLiteral("undefined",void 0);var kit=new Set(["constructor","__proto__","__defineGetter__","__defineSetter__"]),ir={evalAst(e,t){switch(e.type){case"BinaryExpression":case"LogicalExpression":return ir.evalBinaryExpression(e,t);case"Compound":return ir.evalCompound(e,t);case"ConditionalExpression":return ir.evalConditionalExpression(e,t);case"Identifier":return ir.evalIdentifier(e,t);case"Literal":return ir.evalLiteral(e,t);case"MemberExpression":return ir.evalMemberExpression(e,t);case"UnaryExpression":return ir.evalUnaryExpression(e,t);case"ArrayExpression":return ir.evalArrayExpression(e,t);case"CallExpression":return ir.evalCallExpression(e,t);case"AssignmentExpression":return ir.evalAssignmentExpression(e,t);default:throw SyntaxError("Unexpected expression",e)}},evalBinaryExpression(e,t){return{"||":(n,s)=>n||s(),"&&":(n,s)=>n&&s(),"|":(n,s)=>n|s(),"^":(n,s)=>n^s(),"&":(n,s)=>n&s(),"==":(n,s)=>n==s(),"!=":(n,s)=>n!=s(),"===":(n,s)=>n===s(),"!==":(n,s)=>n!==s(),"<":(n,s)=>n<s(),">":(n,s)=>n>s(),"<=":(n,s)=>n<=s(),">=":(n,s)=>n>=s(),"<<":(n,s)=>n<<s(),">>":(n,s)=>n>>s(),">>>":(n,s)=>n>>>s(),"+":(n,s)=>n+s(),"-":(n,s)=>n-s(),"*":(n,s)=>n*s(),"/":(n,s)=>n/s(),"%":(n,s)=>n%s()}[e.operator](ir.evalAst(e.left,t),()=>ir.evalAst(e.right,t))},evalCompound(e,t){let r;for(let n=0;n<e.body.length;n++){e.body[n].type==="Identifier"&&["var","let","const"].includes(e.body[n].name)&&e.body[n+1]&&e.body[n+1].type==="AssignmentExpression"&&(n+=1);let s=e.body[n];r=ir.evalAst(s,t)}return r},evalConditionalExpression(e,t){return ir.evalAst(e.test,t)?ir.evalAst(e.consequent,t):ir.evalAst(e.alternate,t)},evalIdentifier(e,t){if(Object.hasOwn(t,e.name))return t[e.name];throw ReferenceError(`${e.name} is not defined`)},evalLiteral(e){return e.value},evalMemberExpression(e,t){let r=String(e.computed?ir.evalAst(e.property):e.property.name),n=ir.evalAst(e.object,t);if(n==null)throw TypeError(`Cannot read properties of ${n} (reading '${r}')`);if(!Object.hasOwn(n,r)&&kit.has(r))throw TypeError(`Cannot read properties of ${n} (reading '${r}')`);let s=n[r];return typeof s=="function"?s.bind(n):s},evalUnaryExpression(e,t){return{"-":n=>-ir.evalAst(n,t),"!":n=>!ir.evalAst(n,t),"~":n=>~ir.evalAst(n,t),"+":n=>+ir.evalAst(n,t),typeof:n=>typeof ir.evalAst(n,t)}[e.operator](e.argument)},evalArrayExpression(e,t){return e.elements.map(r=>ir.evalAst(r,t))},evalCallExpression(e,t){let r=e.arguments.map(s=>ir.evalAst(s,t));return ir.evalAst(e.callee,t)(...r)},evalAssignmentExpression(e,t){if(e.left.type!=="Identifier")throw SyntaxError("Invalid left-hand side in assignment");let r=e.left.name,n=ir.evalAst(e.right,t);return t[r]=n,t[r]}},t$=class{constructor(t){this.code=t,this.ast=oc(this.code)}runInNewContext(t){let r=Object.assign(Object.create(null),t);return ir.evalAst(this.ast,r)}};function ku(e,t){return e=e.slice(),e.push(t),e}function r$(e,t){return t=t.slice(),t.unshift(e),t}var n$=class extends Error{constructor(t){super('JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)'),this.avoidNew=!0,this.value=t,this.name="NewError"}};function Qt(e,t,r,n,s){if(!(this instanceof Qt))try{return new Qt(e,t,r,n,s)}catch(a){if(!a.avoidNew)throw a;return a.value}typeof e=="string"&&(s=n,n=r,r=t,t=e,e=null);let i=e&&typeof e=="object";if(e=e||{},this.json=e.json||r,this.path=e.path||t,this.resultType=e.resultType||"value",this.flatten=e.flatten||!1,this.wrap=Object.hasOwn(e,"wrap")?e.wrap:!0,this.sandbox=e.sandbox||{},this.eval=e.eval===void 0?"safe":e.eval,this.ignoreEvalErrors=typeof e.ignoreEvalErrors>"u"?!1:e.ignoreEvalErrors,this.parent=e.parent||null,this.parentProperty=e.parentProperty||null,this.callback=e.callback||n||null,this.otherTypeCallback=e.otherTypeCallback||s||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},e.autostart!==!1){let a={path:i?e.path:t};i?"json"in e&&(a.json=e.json):a.json=r;let o=this.evaluate(a);if(!o||typeof o!="object")throw new n$(o);return o}}Qt.prototype.evaluate=function(e,t,r,n){let s=this.parent,i=this.parentProperty,{flatten:a,wrap:o}=this;if(this.currResultType=this.resultType,this.currEval=this.eval,this.currSandbox=this.sandbox,r=r||this.callback,this.currOtherTypeCallback=n||this.otherTypeCallback,t=t||this.json,e=e||this.path,e&&typeof e=="object"&&!Array.isArray(e)){if(!e.path&&e.path!=="")throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!Object.hasOwn(e,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');({json:t}=e),a=Object.hasOwn(e,"flatten")?e.flatten:a,this.currResultType=Object.hasOwn(e,"resultType")?e.resultType:this.currResultType,this.currSandbox=Object.hasOwn(e,"sandbox")?e.sandbox:this.currSandbox,o=Object.hasOwn(e,"wrap")?e.wrap:o,this.currEval=Object.hasOwn(e,"eval")?e.eval:this.currEval,r=Object.hasOwn(e,"callback")?e.callback:r,this.currOtherTypeCallback=Object.hasOwn(e,"otherTypeCallback")?e.otherTypeCallback:this.currOtherTypeCallback,s=Object.hasOwn(e,"parent")?e.parent:s,i=Object.hasOwn(e,"parentProperty")?e.parentProperty:i,e=e.path}if(s=s||null,i=i||null,Array.isArray(e)&&(e=Qt.toPathString(e)),!e&&e!==""||!t)return;let c=Qt.toPathArray(e);c[0]==="$"&&c.length>1&&c.shift(),this._hasParentSelector=null;let u=this._trace(c,t,["$"],s,i,r).filter(function(l){return l&&!l.isParentSelector});return u.length?!o&&u.length===1&&!u[0].hasArrExpr?this._getPreferredOutput(u[0]):u.reduce((l,d)=>{let f=this._getPreferredOutput(d);return a&&Array.isArray(f)?l=l.concat(f):l.push(f),l},[]):o?[]:void 0};Qt.prototype._getPreferredOutput=function(e){let t=this.currResultType;switch(t){case"all":{let r=Array.isArray(e.path)?e.path:Qt.toPathArray(e.path);return e.pointer=Qt.toPointer(r),e.path=typeof e.path=="string"?e.path:Qt.toPathString(e.path),e}case"value":case"parent":case"parentProperty":return e[t];case"path":return Qt.toPathString(e[t]);case"pointer":return Qt.toPointer(e.path);default:throw new TypeError("Unknown result type")}};Qt.prototype._handleCallback=function(e,t,r){if(t){let n=this._getPreferredOutput(e);e.path=typeof e.path=="string"?e.path:Qt.toPathString(e.path),t(n,r,e)}};Qt.prototype._trace=function(e,t,r,n,s,i,a,o){let c;if(!e.length)return c={path:r,value:t,parent:n,parentProperty:s,hasArrExpr:a},this._handleCallback(c,i,"value"),c;let u=e[0],l=e.slice(1),d=[];function f(h){Array.isArray(h)?h.forEach(p=>{d.push(p)}):d.push(h)}if((typeof u!="string"||o)&&t&&Object.hasOwn(t,u))f(this._trace(l,t[u],ku(r,u),t,u,i,a));else if(u==="*")this._walk(t,h=>{f(this._trace(l,t[h],ku(r,h),t,h,i,!0,!0))});else if(u==="..")f(this._trace(l,t,r,n,s,i,a)),this._walk(t,h=>{typeof t[h]=="object"&&f(this._trace(e.slice(),t[h],ku(r,h),t,h,i,!0))});else{if(u==="^")return this._hasParentSelector=!0,{path:r.slice(0,-1),expr:l,isParentSelector:!0};if(u==="~")return c={path:ku(r,u),value:s,parent:n,parentProperty:null},this._handleCallback(c,i,"property"),c;if(u==="$")f(this._trace(l,t,r,null,null,i,a));else if(/^(-?\d*):(-?\d*):?(\d*)$/u.test(u))f(this._slice(u,l,t,r,n,s,i));else if(u.indexOf("?(")===0){if(this.currEval===!1)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");let h=u.replace(/^\?\((.*?)\)$/u,"$1"),p=/@.?([^?]*)[['](\??\(.*?\))(?!.\)\])[\]']/gu.exec(h);p?this._walk(t,m=>{let A=[p[2]],g=p[1]?t[m][p[1]]:t[m];this._trace(A,g,r,n,s,i,!0).length>0&&f(this._trace(l,t[m],ku(r,m),t,m,i,!0))}):this._walk(t,m=>{this._eval(h,t[m],m,r,n,s)&&f(this._trace(l,t[m],ku(r,m),t,m,i,!0))})}else if(u[0]==="("){if(this.currEval===!1)throw new Error("Eval [(expr)] prevented in JSONPath expression.");f(this._trace(r$(this._eval(u,t,r.at(-1),r.slice(0,-1),n,s),l),t,r,n,s,i,a))}else if(u[0]==="@"){let h=!1,p=u.slice(1,-2);switch(p){case"scalar":(!t||!["object","function"].includes(typeof t))&&(h=!0);break;case"boolean":case"string":case"undefined":case"function":typeof t===p&&(h=!0);break;case"integer":Number.isFinite(t)&&!(t%1)&&(h=!0);break;case"number":Number.isFinite(t)&&(h=!0);break;case"nonFinite":typeof t=="number"&&!Number.isFinite(t)&&(h=!0);break;case"object":t&&typeof t===p&&(h=!0);break;case"array":Array.isArray(t)&&(h=!0);break;case"other":h=this.currOtherTypeCallback(t,r,n,s);break;case"null":t===null&&(h=!0);break;default:throw new TypeError("Unknown value type "+p)}if(h)return c={path:r,value:t,parent:n,parentProperty:s},this._handleCallback(c,i,"value"),c}else if(u[0]==="`"&&t&&Object.hasOwn(t,u.slice(1))){let h=u.slice(1);f(this._trace(l,t[h],ku(r,h),t,h,i,a,!0))}else if(u.includes(",")){let h=u.split(",");for(let p of h)f(this._trace(r$(p,l),t,r,n,s,i,!0))}else!o&&t&&Object.hasOwn(t,u)&&f(this._trace(l,t[u],ku(r,u),t,u,i,a,!0))}if(this._hasParentSelector)for(let h=0;h<d.length;h++){let p=d[h];if(p&&p.isParentSelector){let m=this._trace(p.expr,t,p.path,n,s,i,a);if(Array.isArray(m)){d[h]=m[0];let A=m.length;for(let g=1;g<A;g++)h++,d.splice(h,0,m[g])}else d[h]=m}}return d};Qt.prototype._walk=function(e,t){if(Array.isArray(e)){let r=e.length;for(let n=0;n<r;n++)t(n)}else e&&typeof e=="object"&&Object.keys(e).forEach(r=>{t(r)})};Qt.prototype._slice=function(e,t,r,n,s,i,a){if(!Array.isArray(r))return;let o=r.length,c=e.split(":"),u=c[2]&&Number.parseInt(c[2])||1,l=c[0]&&Number.parseInt(c[0])||0,d=c[1]&&Number.parseInt(c[1])||o;l=l<0?Math.max(0,l+o):Math.min(o,l),d=d<0?Math.max(0,d+o):Math.min(o,d);let f=[];for(let h=l;h<d;h+=u)this._trace(r$(h,t),r,n,s,i,a,!0).forEach(m=>{f.push(m)});return f};Qt.prototype._eval=function(e,t,r,n,s,i){this.currSandbox._$_parentProperty=i,this.currSandbox._$_parent=s,this.currSandbox._$_property=r,this.currSandbox._$_root=this.json,this.currSandbox._$_v=t;let a=e.includes("@path");a&&(this.currSandbox._$_path=Qt.toPathString(n.concat([r])));let o=this.currEval+"Script:"+e;if(!Qt.cache[o]){let c=e.replaceAll("@parentProperty","_$_parentProperty").replaceAll("@parent","_$_parent").replaceAll("@property","_$_property").replaceAll("@root","_$_root").replaceAll(/@([.\s)[])/gu,"_$_v$1");if(a&&(c=c.replaceAll("@path","_$_path")),this.currEval==="safe"||this.currEval===!0||this.currEval===void 0)Qt.cache[o]=new this.safeVm.Script(c);else if(this.currEval==="native")Qt.cache[o]=new this.vm.Script(c);else if(typeof this.currEval=="function"&&this.currEval.prototype&&Object.hasOwn(this.currEval.prototype,"runInNewContext")){let u=this.currEval;Qt.cache[o]=new u(c)}else if(typeof this.currEval=="function")Qt.cache[o]={runInNewContext:u=>this.currEval(c,u)};else throw new TypeError(`Unknown "eval" property "${this.currEval}"`)}try{return Qt.cache[o].runInNewContext(this.currSandbox)}catch(c){if(this.ignoreEvalErrors)return!1;throw new Error("jsonPath: "+c.message+": "+e)}};Qt.cache={};Qt.toPathString=function(e){let t=e,r=t.length,n="$";for(let s=1;s<r;s++)/^(~|\^|@.*?\(\))$/u.test(t[s])||(n+=/^[0-9*]+$/u.test(t[s])?"["+t[s]+"]":"['"+t[s]+"']");return n};Qt.toPointer=function(e){let t=e,r=t.length,n="";for(let s=1;s<r;s++)/^(~|\^|@.*?\(\))$/u.test(t[s])||(n+="/"+t[s].toString().replaceAll("~","~0").replaceAll("/","~1"));return n};Qt.toPathArray=function(e){let{cache:t}=Qt;if(t[e])return t[e].concat();let r=[],s=e.replaceAll(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/gu,";$&;").replaceAll(/[['](\??\(.*?\))[\]'](?!.\])/gu,function(i,a){return"[#"+(r.push(a)-1)+"]"}).replaceAll(/\[['"]([^'\]]*)['"]\]/gu,function(i,a){return"['"+a.replaceAll(".","%@%").replaceAll("~","%%@@%%")+"']"}).replaceAll("~",";~;").replaceAll(/['"]?\.['"]?(?![^[]*\])|\[['"]?/gu,";").replaceAll("%@%",".").replaceAll("%%@@%%","~").replaceAll(/(?:;)?(\^+)(?:;)?/gu,function(i,a){return";"+a.split("").join(";")+";"}).replaceAll(/;;;|;;/gu,";..;").replaceAll(/;$|'?\]|'$/gu,"").split(";").map(function(i){let a=i.match(/#(\d+)/u);return!a||!a[1]?i:r[a[1]]});return t[e]=s,t[e].concat()};Qt.prototype.safeVm={Script:t$};Qt.prototype.vm=o0e.default;var c0e=(e,t)=>(e=e||"",t=t||"",resolve(e,t)),u0e={query(e,t){return Qt.JSONPath({path:t,json:e})}},s$=!0,l0e=":eq|:lt|:gt|:first|:last|:not|:even|:odd|:has|:contains|:matches|:empty|^body$|^#",Dit="(url|src|href|-original|-src|-play|-url|style)$|^(data-|url-|src-)",Pit="^(ftp|magnet|thunder|ws):",i$=class{constructor(t=""){this.MY_URL=t,this.pdfh_html="",this.pdfa_html="",this.pdfh_doc=null,this.pdfa_doc=null}test(t,r){return!!new RegExp(t,"mi").exec(r)}contains(t,r){return t.indexOf(r)!==-1}parseHikerToJq(t,r=!1){if(this.contains(t,"&&")){let n=t.split("&&"),s=[];for(let i=0;i<n.length;i++){let a=n[i].split(" "),o=a[a.length-1];this.test(l0e,o)||!r&&i>=n.length-1?s.push(n[i]):s.push(`${n[i]}:eq(0)`)}t=s.join(" ")}else{let n=t.split(" "),s=n[n.length-1];!this.test(l0e,s)&&r&&(t=`${t}:eq(0)`)}return t}getParseInfo(t){let r=[],n=0,s=t;if(this.contains(t,":eq")){s=t.split(":eq")[0];let i=t.split(":eq")[1];this.contains(s,"--")?(r=s.split("--").slice(1),s=s.split("--")[0]):this.contains(i,"--")&&(r=i.split("--").slice(1),i=i.split("--")[0]);try{n=parseInt(i.split("(")[1].split(")")[0])}catch{}}else this.contains(t,"--")&&(s=t.split("--")[0],r=t.split("--").slice(1));return{nparse_rule:s,nparse_index:n,excludes:r}}reorderAdjacentLtAndGt(t){let r=/:gt\((\d+)\):lt\((\d+)\)/,n;for(;(n=r.exec(t))!==null;){let s=`:lt(${n[2]}):gt(${n[1]})`;t=t.substring(0,n.index)+s+t.substring(n.index+n[0].length),r.lastIndex=n.index}return t}parseOneRule(t,r,n){let{nparse_rule:s,nparse_index:i,excludes:a}=this.getParseInfo(r);if(s=this.reorderAdjacentLtAndGt(s),n?n=n.find(s):n=t(s),this.contains(r,":eq")&&(n=n.eq(i)),a.length>0&&n){n=n.clone();for(let o of a)n.find(o).remove()}return n}parseText(t){return t=t.replace(/[\s]+/gm,`
`),t=t.replace(/\n+/g,`
`).replace(/^\s+/,""),t=t.replace(/\n/g," "),t}pdfa(t,r){if(!t||!r)return[];r=this.parseHikerToJq(r);let n=je(t);s$&&this.pdfa_html!==t&&(this.pdfa_html=t,this.pdfa_doc=n);let s=r.split(" "),i=null;for(let o of s)if(i=this.parseOneRule(n,o,i),!i)return[];return(i?.toArray()??[]).map(o=>{let c=`${n(o)}`;return c||""})}pdfl(t,r,n,s,i){if(!t||!r)return[];r=this.parseHikerToJq(r,!1);let a=[],o=je(t),c=r.split(" "),u=null;for(let l of c)if(u=this.parseOneRule(o,l,u),!u)return[];return u.each((l,d)=>{a.push(`${o(d)}`)}),a}pdfh(t,r,n=""){if(!t||!r)return"";let s=je(t);if(typeof s$<"u"&&s$&&this.pdfa_html!==t&&(this.pdfa_html=t,this.pdfa_doc=s),r==="body&&Text"||r==="Text")return this.parseText(s.text());if(r==="body&&Html"||r==="Html")return s.html();let i;if(this.contains(r,"&&")){let c=r.split("&&");i=c.pop(),r=c.join("&&")}r=this.parseHikerToJq(r,!0);let a=r.split(" "),o=null;for(let c of a)if(o=this.parseOneRule(s,c,o),!o)return"";if(i)switch(i){case"Text":o=o?this.parseText(o.text()):"";break;case"Html":o=o?o.html():"";break;default:let c=o.clone(),u=i.split("||");for(let l of u){if(o=c?.attr(l)||"",this.contains(l.toLowerCase(),"style")&&this.contains(o,"url("))try{o=o.match(/url\((.*?)\)/)[1],o=o.replace(/^['"]|['"]$/g,"")}catch{}if(o&&n&&this.test(Dit,l)&&!this.test(Pit,o)&&(o=o.includes("http")?o.slice(o.indexOf("http")):c0e(n,o)),o)break}}else o=`${o}`;return o}pd(t,r,n=""){return n||(n=this.MY_URL),this.pdfh(t,r,n)}pq(t){return je(t)}pjfh(t,r,n=!1){if(!t||!r)return"";try{t=typeof t=="string"?JSON.parse(t):t}catch{return console.log("\u5B57\u7B26\u4E32\u8F6C JSON \u5931\u8D25"),""}r.startsWith("$.")||(r="$."+r);let s="",i=r.split("||");for(let a of i){let o=u0e.query(t,a);if(s=Array.isArray(o)?o[0]||"":o||"",n&&s&&(s=c0e(this.MY_URL,s)),s)break}return s}pj(t,r){return this.pjfh(t,r,!0)}pjfa(t,r){if(!t||!r)return[];try{t=typeof t=="string"?JSON.parse(t):t}catch{return[]}r.startsWith("$.")||(r="$."+r);let n=u0e.query(t,r);return Array.isArray(n)&&Array.isArray(n[0])&&n.length===1?n[0]:n||[]}},WI=i$;var Oit=["https://www.leijing1.com"],a$=async e=>(await e.db.getObjectDefault("/leijing",{}))?.urls||e.config.leijing?.urls||Oit,$it=async(e,t)=>{await e.db.push("/leijing/urls",t)},Lit=async e=>{await e.db.delete("/leijing/urls")};async function o$(e){e.get("/urls",async(t,r)=>{r.send({code:0,data:await a$(t.server)})}),e.put("/urls",async(t,r)=>{await $it(t.server,t.body),r.send({code:0})}),e.delete("/urls",async(t,r)=>{await Lit(t.server),r.send({code:0})})}var d0e={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.131 Safari/537.36","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8"},c$,JI=e=>{if(!c$){let t=Date.now();c$=new Promise(async r=>{let n=await a$(e),s=await Pr(n,d0e);console.log("\u96F7\u9CB8\u57DF\u540D",s,`${Date.now()-t}ms`),r(s)})}return c$};async function u$(e){return(await Pe.get(e,{headers:d0e})).data}var l$=e=>new WI().pq(e);async function Mit(e,t){return{class:[{type_id:"42204681950354",type_name:"\u7535\u5F71"},{type_id:"42204684250355",type_name:"\u5267\u96C6"},{type_id:"42204792950357",type_name:"\u52A8\u6F2B"},{type_id:"42212287587456",type_name:"\u539F\u76D8"},{type_id:"42204697150356",type_name:"\u7EAA\u5F55"},{type_id:"42210356650363",type_name:"\u7EFC\u827A"}],filters:{}}}async function Fit(e,t){let r=await JI(e.server),n=e.body.id,i=e.body.page||1;i==0&&(i=1);let a=await u$(`${r}/?tagId=${n}&page=${i}`),o=l$(a),c=[];o(".topicList .topicItem").each((f,h)=>{let p=o(h).find("h2 a:first")[0];c.push({vod_name:p.children[0].data,vod_id:p.attribs.href,vod_pic:e.server.address().url+e.server.prefix+"/icon"})});let u=o(".topicPage .pg")[0],l=o(u).find(".count")[0].children[0].data.match(/\d+/)[0],d=o(u).find(".last")[0].attribs.title.match(/\d+/)[0];return{page:parseInt(i),pagecount:d?parseInt(d):1,limit:c.length,total:l?parseInt(l):c.length,list:c}}async function Qit(e,t){let r=await JI(e.server),n=await u$(`${r}/${e.body.id}`),s=l$(n),i={vod_name:s(".title")[0].children[0].data.trim(),vod_id:`${e.body.id}`,vod_content:s("div.topicContent p:nth-child(1)").text().replace(/\s+/g,"")},a=s(".topicContent").html(),o=a.match(/<a\s+(?:[^>]*?\s+)?href=["'](https?:\/\/cloud\.189\.cn\/[^"']*)["'][^>]*>/gi);if(!o||o.length===0?(o=a.match(/<span\s+style="color:\s*#0070C0;\s*">https?:\/\/cloud\.189\.cn\/[^<]*<\/span>/gi),o&&o.length>0?o=o[0].match(/https?:\/\/cloud\.189\.cn\/[^<]*/)[0]:o=a.match(/https?:\/\/cloud\.189\.cn\/[^<]*/)[0]):o=o[0].match(/https?:\/\/cloud\.189\.cn\/[^"']*/)[0],jg(o)){let c=await qt(o,e);c&&(i.vod_play_from=c.froms,i.vod_play_url=c.urls)}return{list:[i]}}async function Uit(e,t){let r=await JI(e.server),n=e.body.page||1,s=e.body.wd,i=await u$(`${r}/search?keyword=${encodeURIComponent(decodeURIComponent(s))}&page=${n}`),a=l$(i),o=[];return a(".topicList .topicItem").each((c,u)=>{let l=a(u).find(".tag")[0];if(["\u7535\u5F71","\u5267\u96C6","\u52A8\u6F2B","\u5F71\u89C6\u539F\u76D8","\u7EFC\u827A"].includes(a(l).html())){let d=a(u).find(".title a:first")[0];o.push({vod_name:a(d).html().replace(/<[^>]*>/g,"").replace(/\s+/g,""),vod_id:d.attribs.href,vod_remarks:"",vod_pic:`${r}/favicon.ico`})}}),{page:n,pagecount:1,list:o}}async function qit(e,t){try{let n=Buffer.from("iVBORw0KGgoAAAANSUhEUgAAAEAAAABABAMAAABYR2ztAAAALVBMVEVHcEw9r+cipOQqp+VItOhCsedives7ruccouNVueovquW74/eV1PLW7vpzxu6kNLMaAAAACHRSTlMAK9qm1B0KZtVpWLIAAAJCSURBVEjHxZUxj9MwFMdzQzsD1cFMGegKJ3QnPgITEirz3cAxw0l8gJbBl4E5TqssDCShyh45Ye+16X5y3JmkqT8Dz0lo4zSpN/iryZD30/s/1/Z7mvbv1B0+rGh4WY9/eHLWr+js03s5fnXT15G9+yG7f/64Gu/cDFBNo/O3FaB3EAfiRcXgJWrQs51Jt4catUtxctEMjB+UwLtBMzB6VTp8Ri16fnnUYefxcdAGjL4UJaBWFUU8ageeHq8RoR+iys7rdmAs9qPzph34rgK+inWeCEB3C4mv+1cFcJaFbGDzV2bIgEcIYfBAzKOmi/TotwToDsZTijGGzD/pcu46ke/YFcCD7AsmPAx9G4T+hDJK7irAjJYAMzyKo3QqWAlYW9yKLZ5ExoRmbGWCm1m1mPkbwuMpmQPAQsYwCYhfLdKblxkywyFTP8J0tVhLy3SzIM8AC8yB2J7dSwCyVnhlLVNYcRhSdgjoUFUCjw0ZNr/Agm9kCy/M/0lq5BYbDIVKRaJvMc8o56EAFkFo4mhuyhlibNHEIgAsYEvMZJukcgZGQrBgdr4t2Iu32dqWLZIpZACLW2xlq8n9lkM9EgAWWFjMYJuC6G6bRmnNglCwMGBjOXaIFaaTtJZBSBTpQh3JjBquVMNtkp9Bbpen1Uls+cihIuI2nepjF6e4FxeKm3XsbuYdpKu63VpP1R+UHUbZo5RdrrVJ/e2T6k6r7NXaVWOK8X6kdFXzQj1xxMyS47WZpZ56mnY9PN2PzdPDufk/9QdaMC7B2rkgYwAAAABJRU5ErkJggg==","base64");return t.header("Content-Type","image/png"),t.header("Content-Length",n.length),t.send(n)}catch{t.code(500).send({error:"Failed to load image"})}}var f0e={meta:{key:"leijing",name:"\u96F7\u9CB8",type:3},api:async e=>{e.post("/init",Wt),e.post("/home",Mit),e.post("/category",Fit),e.post("/detail",Qit),e.post("/play",Ht),e.post("/search",Uit),e.get("/icon",qit),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",jt)},check:JI};async function jit(e){try{return await _e.request(typeof e=="string"?e:{url:e.url,method:e.method||"GET",headers:e.headers||{"User-Agent":hD},data:e.data||"",responseType:e.responseType||""})}catch(t){return t.response}}async function p0e(e){return(await Pe.get(e,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.131 Safari/537.36"}})).data}var d$="https://www.91panta.cn",f$=e=>new WI().pq(e),h0e=[{type_id:"39765285016165",type_name:"\u7535\u5F71"},{type_id:"39765284616164",type_name:"\u7535\u89C6\u5267"},{type_id:"39724839640293",type_name:"\u7EFC\u827A"},{type_id:"39724838540291",type_name:"\u52A8\u6F2B"},{type_id:"44732560408431",type_name:"\u77ED\u5267"},{type_id:"39956600861068",type_name:"\u7EAA\u5F55\u7247"}],Hit=h0e.map(e=>e.type_name.trim());async function zit(e,t){return{class:h0e,filters:{}}}async function Git(e,t){let r=e.body.id,s=e.body.page||1;s==0&&(s=1);let i=await p0e(`${d$}/?tagId=${r}&page=${s}`),a=f$(i),o=[];a(".topicList .topicItem").each((d,f)=>{let h=a(f).find("h2 a:first")[0];if(!h||!h.children||!h.children[0]||!h.attribs)return;let p=h.children[0].data;if(!p)return;let m=a(f).find(".tm-m-photos-thumb li:first")[0]?.attribs["data-src"];o.push({vod_name:p.split(" ")[0],vod_id:h.attribs.href,vod_pic:m?`https://www.91panta.cn/${m}`:"https://www.91panta.cn/favicon.ico"})});let c=a(".topicPage .pg")[0],u=o.length,l=1;if(c){let d=a(c).find(".count")[0];if(d&&d.children&&d.children[0]){let h=d.children[0].data.match(/\d+/);h&&(u=h[0])}let f=a(c).find(".last")[0];if(f&&f.attribs&&f.attribs.title){let h=f.attribs.title.match(/\d+/);h&&(l=h[0])}}return{page:parseInt(s),pagecount:l?parseInt(l):1,limit:o.length,total:u?parseInt(u):o.length,list:o}}async function Vit(e,t){let r=await p0e(`${d$}/${e.body.id}`),n=f$(r),s=n(".title")[0];if(!s||!s.children||!s.children[0])return{list:[]};let i={vod_name:s.children[0].data.trim(),vod_id:`/${e.body.id}`,vod_content:n("div.topicContent p:nth-child(1)").text().replace(/\s+/g,"")},a=n(".topicContent").html(),o=a.match(/<a\s+(?:[^>]*?\s+)?href=["'](https:\/\/(?:caiyun|yun)\.139\.com\/[^"']*)["'][^>]*>/gi);if(!o||o.length===0)if(o=a.match(/<span\s+style="color:\s*#0070C0;\s*">https:\/\/(?:caiyun|yun)\.139\.com\/[^<]*<\/span>/gi),o&&o.length>0){let c=o[0].match(/https:\/\/(?:caiyun|yun)\.139\.com\/[^<]*/);o=c?c[0]:null}else{let c=a.match(/https:\/\/(?:caiyun|yun)\.139\.com\/[^<\s]*/);o=c?c[0]:null}else{let c=o[0].match(/https:\/\/(?:caiyun|yun)\.139\.com\/[^"']*/);o=c?c[0]:null}if(o){let c=await qt(o,e);c&&c.froms&&c.urls&&(i.vod_play_from=c.froms,i.vod_play_url=c.urls)}return{list:[i]}}async function Kit(e,t){let r=e.body.page||1,n=e.body.wd,s=(await jit(`${d$}/search?keyword=${encodeURIComponent(decodeURIComponent(n))}&page=${r}`)).data,i=f$(s),a=[];return i(".topicList .topicItem").each((o,c)=>{let u=i(c).find(".tag")[0],l=u?i(u).html().trim():null;if(u&&Hit.includes(l)){let d=i(c).find(".title a:first")[0];if(!d||!d.attribs)return;let f=i(c).find(".tm-m-photos-thumb li:first")[0]?.attribs["data-src"],h=i(d).html().replace(/<[^>]*>/g,"").replace(/\s+/g,"");a.push({vod_name:h,vod_id:d.attribs.href,vod_remarks:"",vod_pic:f?`https://www.91panta.cn/${f}`:"https://www.91panta.cn/favicon.ico"})}}),{page:r,pagecount:1,list:a}}var m0e={meta:{key:"panta",name:"\u76D8Ta",type:3},api:async e=>{e.post("/init",Wt),e.post("/home",zit),e.post("/category",Git),e.post("/detail",Vit),e.post("/play",Ht),e.post("/search",Kit),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",jt)}};var Yit=["https://wogg.xxooo.cf","https://wogg.333232.xyz","https://www.wogg.net"],p$=async e=>(await e.db.getObjectDefault("/wanou",{}))?.urls||e.config.wanou?.urls||Yit,Wit=async(e,t)=>{await e.db.push("/wanou/urls",t)},Jit=async e=>{await e.db.delete("/wanou/urls")};async function h$(e){e.get("/urls",async(t,r)=>{r.send({code:0,data:await p$(t.server)})}),e.put("/urls",async(t,r)=>{await Wit(t.server,t.body),r.send({code:0})}),e.delete("/urls",async(t,r)=>{await Jit(t.server),r.send({code:0})})}var m$,ZI=e=>{if(!m$){let t=Date.now();m$=new Promise(async r=>{let n=await p$(e),s=await Pr(n);console.log("\u73A9\u5076\u57DF\u540D",s,`${Date.now()-t}ms`),r(s)})}return m$};async function XI(e){return(await Pe.get(e,{headers:{"User-Agent":Jt}})).data}async function Xit(e,t){return await Wt(e,t),{}}async function Zit(e,t){let r=[{type_id:"1",type_name:"\u7535\u5F71"},{type_id:"2",type_name:"\u5267\u96C6"},{type_id:"3",type_name:"\u52A8\u6F2B"},{type_id:"44",type_name:"\u81FB\u5F69"},{type_id:"4",type_name:"\u7EFC\u827A"},{type_id:"46",type_name:"\u7EAA\u5F55"},{type_id:"6",type_name:"\u77ED\u5267"},{type_id:"5",type_name:"\u97F3\u4E50"}],n=[{n:"\u5168\u90E8",v:""},{n:"2026",v:"2026"},{n:"2025",v:"2025"},{n:"2024",v:"2024"},{n:"2023",v:"2023"},{n:"2022",v:"2022"},{n:"2021",v:"2021"},{n:"2020",v:"2020"},{n:"2019",v:"2019"},{n:"2018",v:"2018"},{n:"2017",v:"2017"},{n:"2016",v:"2016"},{n:"2015",v:"2015"},{n:"2014",v:"2014"},{n:"2013",v:"2013"},{n:"2012",v:"2012"},{n:"2011",v:"2011"},{n:"2010",v:"2010"}],s=[{n:"\u65F6\u95F4",v:"time"},{n:"\u4EBA\u6C14",v:"hits"},{n:"\u8BC4\u5206",v:"score"}],i=[{n:"\u5168\u90E8",v:""},{n:"\u559C\u5267",v:"\u559C\u5267"},{n:"\u7231\u60C5",v:"\u7231\u60C5"},{n:"\u6050\u6016",v:"\u6050\u6016"},{n:"\u52A8\u4F5C",v:"\u52A8\u4F5C"},{n:"\u79D1\u5E7B",v:"\u79D1\u5E7B"},{n:"\u5267\u60C5",v:"\u5267\u60C5"},{n:"\u6218\u4E89",v:"\u6218\u4E89"},{n:"\u8B66\u532A",v:"\u8B66\u532A"},{n:"\u72AF\u7F6A",v:"\u72AF\u7F6A"},{n:"\u53E4\u88C5",v:"\u53E4\u88C5"},{n:"\u5947\u5E7B",v:"\u5947\u5E7B"},{n:"\u6B66\u4FA0",v:"\u6B66\u4FA0"},{n:"\u5192\u9669",v:"\u5192\u9669"},{n:"\u67AA\u6218",v:"\u67AA\u6218"},{n:"\u60AC\u7591",v:"\u60AC\u7591"},{n:"\u60CA\u609A",v:"\u60CA\u609A"},{n:"\u7ECF\u5178",v:"\u7ECF\u5178"},{n:"\u9752\u6625",v:"\u9752\u6625"},{n:"\u6587\u827A",v:"\u6587\u827A"},{n:"\u5FAE\u7535\u5F71",v:"\u5FAE\u7535\u5F71"},{n:"\u5386\u53F2",v:"\u5386\u53F2"}],a=[{n:"\u5168\u90E8",v:""},{n:"\u4E2D\u56FD\u5927\u9646",v:"\u4E2D\u56FD\u5927\u9646"},{n:"\u4E2D\u56FD\u9999\u6E2F",v:"\u4E2D\u56FD\u9999\u6E2F"},{n:"\u4E2D\u56FD\u53F0\u6E7E",v:"\u4E2D\u56FD\u53F0\u6E7E"},{n:"\u7F8E\u56FD",v:"\u7F8E\u56FD"},{n:"\u897F\u73ED\u7259",v:"\u897F\u73ED\u7259"},{n:"\u6CD5\u56FD",v:"\u6CD5\u56FD"},{n:"\u82F1\u56FD",v:"\u82F1\u56FD"},{n:"\u65E5\u672C",v:"\u65E5\u672C"},{n:"\u97E9\u56FD",v:"\u97E9\u56FD"},{n:"\u6CF0\u56FD",v:"\u6CF0\u56FD"},{n:"\u5FB7\u56FD",v:"\u5FB7\u56FD"},{n:"\u5370\u5EA6",v:"\u5370\u5EA6"},{n:"\u610F\u5927\u5229",v:"\u610F\u5927\u5229"},{n:"\u52A0\u62FF\u5927",v:"\u52A0\u62FF\u5927"},{n:"\u5176\u4ED6",v:"\u5176\u4ED6"}],o={};return o[1]=[{key:"class",name:"",init:"",value:i},{key:"area",name:"",init:"",value:a},{key:"year",name:"",init:"",value:n},{key:"by",name:"",init:"time",value:s}],o[2]=[{key:"class",name:"",init:"",value:i},{key:"area",name:"",init:"",value:a},{key:"year",name:"",init:"",value:n},{key:"by",name:"",init:"time",value:s}],o[3]=[{key:"class",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u60C5\u611F",v:"\u60C5\u611F"},{n:"\u79D1\u5E7B",v:"\u79D1\u5E7B"},{n:"\u70ED\u8840",v:"\u70ED\u8840"},{n:"\u63A8\u7406",v:"\u63A8\u7406"},{n:"\u641E\u7B11",v:"\u641E\u7B11"},{n:"\u5192\u9669",v:"\u5192\u9669"},{n:"\u841D\u8389",v:"\u841D\u8389"},{n:"\u6821\u56ED",v:"\u6821\u56ED"},{n:"\u52A8\u4F5C",v:"\u52A8\u4F5C"},{n:"\u673A\u6218",v:"\u673A\u6218"},{n:"\u8FD0\u52A8",v:"\u8FD0\u52A8"},{n:"\u6218\u4E89",v:"\u6218\u4E89"},{n:"\u5C11\u5E74",v:"\u5C11\u5E74"},{n:"\u5C11\u5973",v:"\u5C11\u5973"},{n:"\u793E\u4F1A",v:"\u793E\u4F1A"},{n:"\u539F\u521B",v:"\u539F\u521B"},{n:"\u4EB2\u5B50",v:"\u4EB2\u5B50"},{n:"\u76CA\u667A",v:"\u76CA\u667A"},{n:"\u52B1\u5FD7",v:"\u52B1\u5FD7"},{n:"\u5176\u4ED6",v:"\u5176\u4ED6"}]},{key:"area",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u4E2D\u56FD\u5927\u9646",v:"\u4E2D\u56FD\u5927\u9646"},{n:"\u65E5\u672C",v:"\u65E5\u672C"},{n:"\u7F8E\u56FD",v:"\u7F8E\u56FD"},{n:"\u82F1\u56FD",v:"\u82F1\u56FD"},{n:"\u897F\u73ED\u7259",v:"\u897F\u73ED\u7259"},{n:"\u6CD5\u56FD",v:"\u6CD5\u56FD"},{n:"\u5176\u4ED6",v:"\u5176\u4ED6"}]},{key:"year",name:"",init:"",value:n},{key:"by",name:"",init:"time",value:s}],o[44]=[{key:"class",name:"",init:"",value:i},{key:"area",name:"",init:"",value:a},{key:"year",name:"",init:"",value:n},{key:"by",name:"",init:"time",value:s}],o[4]=[{key:"area",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u4E2D\u56FD\u5927\u9646",v:"\u4E2D\u56FD\u5927\u9646"},{n:"\u4E2D\u56FD\u53F0\u6E7E",v:"\u4E2D\u56FD\u53F0\u6E7E"},{n:"\u7F8E\u56FD",v:"\u7F8E\u56FD"},{n:"\u6CD5\u56FD",v:"\u6CD5\u56FD"},{n:"\u82F1\u56FD",v:"\u82F1\u56FD"},{n:"\u65E5\u672C",v:"\u65E5\u672C"},{n:"\u97E9\u56FD",v:"\u97E9\u56FD"}]},{key:"year",name:"",init:"",value:n},{key:"by",name:"",init:"time",value:s}],o[46]=[{key:"year",name:"",init:"",value:n},{key:"by",name:"",init:"time",value:s}],o[6]=[{key:"class",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u7537\u9891",v:"\u7537\u9891"},{n:"\u5973\u9891",v:"\u5973\u9891"},{n:"\u90FD\u5E02",v:"\u90FD\u5E02"},{n:"\u751C\u5BA0",v:"\u751C\u5BA0"},{n:"\u5E74\u4EE3",v:"\u5E74\u4EE3"},{n:"\u7A7F\u8D8A",v:"\u7A7F\u8D8A"},{n:"\u53E4\u88C5",v:"\u53E4\u88C5"},{n:"\u4EB2\u60C5",v:"\u4EB2\u60C5"},{n:"\u5947\u5E7B",v:"\u5947\u5E7B"},{n:"\u840C\u5B9D",v:"\u840C\u5B9D"},{n:"\u91CD\u751F",v:"\u91CD\u751F"},{n:"\u5192\u9669",v:"\u5192\u9669"},{n:"\u9006\u88AD",v:"\u9006\u88AD"},{n:"\u8650\u604B",v:"\u8650\u604B"},{n:"\u9274\u5B9D",v:"\u9274\u5B9D"},{n:"\u590D\u4EC7",v:"\u590D\u4EC7"},{n:"\u4FEE\u4ED9",v:"\u4FEE\u4ED9"}]},{key:"year",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"2026",v:"2026"},{n:"2025",v:"2025"},{n:"2024",v:"2024"},{n:"2023",v:"2023"},{n:"2022",v:"2022"},{n:"2021",v:"2021"}]},{key:"by",name:"",init:"time",value:s}],o[5]=[{key:"by",name:"",init:"time",value:s}],{class:r,filters:o}}function g$(e){return e.startsWith("/img.php?url=")?e.substr(13):e}function eat(e){let t=Array.isArray(e)?e:e.split("-");for(let r=1;r<t.length;r++)if(t[r]!="")return r;return-1}async function tat(e,t){let r=await ZI(e.server),n=e.body.id,s=e.body.page,i=e.body.filters||{},a=s||1;if(a==0&&(a=1),n.startsWith("s-")){let o=["","","","","","","","","","",a,"","",""],c=n.split("-");o[parseInt(c[1])]=c[2];let u=await XI(`${r}/index.php/vodsearch/${o.join("-")}.html`),l=je(u),d=l("div.module-items > div.module-search-item").map((f,h)=>{let p=l(h).find("div.video-info-header h3 a")[0];return{vod_id:p.attribs.href.match(/voddetail\/(.*).html/)[1],vod_name:p.attribs.title,vod_pic:g$(l(h).find("div.module-item-pic img")[0].attribs["data-src"]),vod_remarks:l(h).find("a.video-serial").text()}}).get();return{page:a,pagecount:d.length<10?a:a+1,list:d}}else{let o=[n,"","","","","","","",a,"","",""];i.area&&(o[1]=i.area),i.by&&(o[2]=i.by),i.class&&(o[3]=i.class),i.year&&(o[11]=i.year);let c=`${r}/index.php/vodshow/${o.join("-")}.html`,u=await XI(c),l=je(u),d=l("div.module-items > div.module-item").map((f,h)=>{let p=l(h).find("div.video-name a")[0];return{vod_id:p.attribs.href.match(/voddetail\/(.*).html/)[1],vod_name:p.attribs.title,vod_pic:g$(l(h).find("div.module-item-pic img")[0].attribs["data-src"]),vod_remarks:l(h).find("div.module-item-text").text()}}).get();return{page:a,pagecount:d.length<70?a:a+1,list:d}}}async function rat(e,t){let r=await ZI(e.server),n=Array.isArray(e.body.id)?e.body.id:[e.body.id],s=[];for(let i of n){let a=await XI(`${r}/index.php/voddetail/${i}.html`),o=je(a),c=[],u=[],l="";o("div.video-info-items a[href*=/vodsearch/]").each((p,m)=>{let A=m.attribs.href.match(/vodsearch\/(.*).html/)[1].split("-"),g=o(m).text().trim(),x=eat(A);if(x===5){let y={id:"s-5-"+decodeURIComponent(A[5].toString()),name:g};c.push(`[a=cr:${JSON.stringify(y)}/]${g}[/a]`)}else if(x===1){let y={id:"s-1-"+decodeURIComponent(A[1].toString()),name:g};u.push(`[a=cr:${JSON.stringify(y)}/]${g}[/a]`)}else x===13&&(l=g)});let d={vod_name:o(".page-title")[0].children[0].data,vod_year:l,vod_actor:u.join(", "),vod_director:c.join(", "),vod_content:o("div.video-info-content p[style*=none]")[0].children[0].data.trim()},f=o("div.module-row-info p").map((p,m)=>m.children[0].data).get(),h=await qt(f,e);h&&(d.vod_play_from=h.froms,d.vod_play_url=h.urls),s.push(d)}return{list:s}}async function nat(e,t){let r=await ZI(e.server),n=e.body.page,s=e.body.wd,i=n||1;i==0&&(i=1);let a=await XI(`${r}/index.php/vodsearch/-------------.html?wd=${s}`),o=je(a),c=o("div.module-items > div.module-search-item").map((u,l)=>{let d=o(l).find("div.video-info-header h3 a")[0];return{vod_id:d.attribs.href.match(/voddetail\/(.*).html/)[1],vod_name:d.attribs.title,vod_pic:g$(o(l).find("div.module-item-pic img")[0].attribs["data-src"]),vod_remarks:o(l).find("a.video-serial").text()}}).get();return{page:i,pagecount:c.length<10?i:i+1,list:c}}async function sat(e,t){try{let r=function(a){a.statusCode&&a.statusCode==500&&console.error(a)},n=e.server.prefix,s={},i=await e.server.inject().post(`${n}/init`);if(s.init=i.json(),r(i.json()),i=await e.server.inject().post(`${n}/home`),s.home=i.json(),r(i.json()),s.home.class.length>0&&(i=await e.server.inject().post(`${n}/category`).payload({id:s.home.class[0].type_id,page:1,filter:!0,filters:{}}),s.category=i.json(),r(i.json()),s.category.list.length>0&&(i=await e.server.inject().post(`${n}/detail`).payload({id:s.category.list[0].vod_id}),s.detail=i.json(),r(i.json()),s.detail.list&&s.detail.list.length>0))){s.play=[];for(let a of s.detail.list){let o=a.vod_play_from.split("$$$"),c=a.vod_play_url.split("$$$");for(let u=0;u<o.length;u++){let l=o[u],d=c[u].split("#");for(let f=0;f<d.length&&f<2;f++)i=await e.server.inject().post(`${n}/play`).payload({flag:l,id:d[f].split("$")[1]}),s.play.push(i.json())}}}return i=await e.server.inject().post(`${n}/search`).payload({wd:"\u7231",page:1}),s.search=i.json(),r(i.json()),s}catch(r){return console.error(r),t.code(500),{err:r.message,tip:"check debug console output"}}}var g0e={meta:{key:"wanou",name:"\u73A9\u5076",type:3},api:async e=>{e.post("/init",Xit),e.post("/home",Zit),e.post("/category",tat),e.post("/detail",rat),e.post("/play",Ht),e.post("/search",nat),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",jt),e.get("/test",sat)},check:ZI};var iat=["http://www.miqk.cc","https://mihdr.top","https://www.mihdr.top"],A$=async e=>(await e.db.getObjectDefault("/zhizhen",{}))?.urls||e.config.zhizhen?.urls||iat,aat=async(e,t)=>{await e.db.push("/zhizhen/urls",t)},oat=async e=>{await e.db.delete("/zhizhen/urls")};async function y$(e){e.get("/urls",async(t,r)=>{r.send({code:0,data:await A$(t.server)})}),e.put("/urls",async(t,r)=>{await aat(t.server,t.body),r.send({code:0})}),e.delete("/urls",async(t,r)=>{await oat(t.server),r.send({code:0})})}var b$,e2=e=>{if(!b$){let t=Date.now();b$=new Promise(async r=>{let n=await A$(e),s=await Pr(n);console.log("\u81F3\u81FB\u57DF\u540D",s,`${Date.now()-t}ms`),r(s)})}return b$};async function E$(e){return(await Pe.get(e,{headers:{"User-Agent":Jt}})).data}async function cat(e,t){return{class:[{type_id:"26",type_name:"\u4E25\u9009"},{type_id:"1",type_name:"\u7535\u5F71"},{type_id:"2",type_name:"\u5267\u96C6"},{type_id:"3",type_name:"\u52A8\u6F2B"},{type_id:"4",type_name:"\u7EFC\u827A"},{type_id:"5",type_name:"\u77ED\u5267"},{type_id:"24",type_name:"\u8001\u5267"}],filters:{}}}async function uat(e,t){let r=await e2(e.server),n=e.body.id,s=e.body.page,i=s||1;i==0&&(i=1);let a=r+`/index.php/vod/show/id/${n}/page/${s}.html`,o=await E$(a,Jt),c=je(o),u=c("#main .module-item"),l=[];for(var d of u){let p=c(d).find(".module-item-pic a").attr("href"),m=c(d).find(".module-item-pic img").attr("alt"),A=c(d).find(".module-item-pic img").attr("data-src"),g=c(d).find(".module-item-text").text();l.push({vod_id:p,vod_name:m,vod_pic:A,vod_remarks:g})}let h=c("#page > a:contains(\u4E0B\u4E00\u9875)").length>0?parseInt(i)+1:parseInt(i);return{page:parseInt(i),pagecount:h,limit:72,total:72*h,list:l}}async function lat(e,t){let r=await e2(e.server),n=Array.isArray(e.body.id)?e.body.id:[e.body.id],s=[];for(let i of n){let a=await E$(r+i),o=je(a),c={vod_id:i,vod_name:o(".page-title")[0].children[0].data,vod_pic:o(o(".mobile-play")).find(".lazyload")[0].attribs["data-src"]},u=o(".video-info-itemtitle");for(let f of u){let h=o(f).text(),m=o(f).next().find("a").map((A,g)=>{let x=o(g).text().trim();return x||null}).get().filter(Boolean).join(", ");h.includes("\u5267\u60C5")?c.vod_content=o(f).next().find("p").text().trim():h.includes("\u5BFC\u6F14")?c.vod_director=m.trim():h.includes("\u4E3B\u6F14")&&(c.vod_actor=m.trim())}let l=o("div.module-row-info p").map((f,h)=>h.children[0].data).get(),d=await qt(l,e);d&&(c.vod_play_from=d.froms,c.vod_play_url=d.urls),s.push(c)}return{list:s}}async function dat(e,t){let r=await e2(e.server),n=e.body.page,s=e.body.wd,i=n||1;i==0&&(i=1);let a=await E$(`${r}/index.php/vod/search/wd/${s}.html`),o=je(a),c=o(".module-search-item").map((u,l)=>({vod_id:o(l).find(".video-serial")[0].attribs.href,vod_name:o(l).find(".video-serial")[0].attribs.title,vod_pic:o(l).find(".module-item-pic > img")[0].attribs["data-src"],vod_remarks:o(o(l).find(".video-serial")[0]).text()})).get();return{page:i,pagecount:c.length<10?i:i+1,list:c}}var A0e={meta:{key:"zhizhen",name:"\u81F3\u81FB",type:3},api:async e=>{e.post("/init",Wt),e.post("/home",cat),e.post("/category",uat),e.post("/detail",lat),e.post("/play",Ht),e.post("/search",dat),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",jt)},check:e2};var b0e=async(e,t,r)=>(await e.db.getObjectDefault("/tgsou",{}))?.[t]||e.config.tgsou[t]||r,fat={douerpan:"\u8C46\u513F\u76D8"},y0e=e=>{if(!e||typeof e!="object"||Array.isArray(e))return{};let t={};for(let[r,n]of Object.entries(e))typeof n=="string"&&n.trim()!==""&&(t[r]=n);return t},x$=e=>b0e(e,"url","https://tgsou.252035.xyz"),v$=async e=>{let t=await e.db.getObjectDefault("/tgsou",{});if(Object.prototype.hasOwnProperty.call(t,"count"))return t.count;let r=e.config?.tgsou||{};return Object.prototype.hasOwnProperty.call(r,"count")?r.count:""},_$=e=>b0e(e,"channelUsername","douerpan"),I$=async e=>{let t=await e.db.getObjectDefault("/tgsou",{});if(Object.prototype.hasOwnProperty.call(t,"pic"))return t.pic;let r=e.config?.tgsou||{};return Object.prototype.hasOwnProperty.call(r,"pic")?r.pic:!0},C$=async e=>{let t=await e.db.getObjectDefault("/tgsou",{}),r={};if(Object.prototype.hasOwnProperty.call(t,"channelNameMap"))r=y0e(t.channelNameMap);else{let n=e.config?.tgsou||{};Object.prototype.hasOwnProperty.call(n,"channelNameMap")&&(r=y0e(n.channelNameMap))}return{...fat,...r}},ny=async(e,t,r)=>{await e.db.push(`/tgsou/${t}`,r)};async function w$(e){e.get("/config",async(t,r)=>{let n=await x$(t.server),s=await v$(t.server),i=await _$(t.server),a=await I$(t.server),o=await C$(t.server),c=s===""||s===null||typeof s>"u"?"":Number(s);r.send({code:0,data:{url:n,count:c,channelUsername:i.split(","),pic:a,channelNameMap:o}})}),e.put("/config",async(t,r)=>{await ny(t.server,"url",t.body.url),await ny(t.server,"count",t.body.count),await ny(t.server,"channelUsername",t.body.channelUsername.join(",")),await ny(t.server,"pic",t.body.pic),await ny(t.server,"channelNameMap",t.body.channelNameMap||{}),r.send({code:0})})}async function pat(e,t){return await Wt(e,t),{}}async function hat(e,t){return{class:[]}}var mat=(e,t)=>!t||typeof t!="object"?e:t[e]||e;function gat(e){return e&&(e=e.replace(/https?:\/\/[^\s]+/gi,""),e=e.split(/[|:]/)?.[1]||e,e=e.split(`
`)?.[0]||e,e=e.trim(),e=e.replace(/^[^\u4e00-\u9fa5A-Za-z0-9\(\[\{]+/,"").trim(),e=e.replace(/^(|||||)[\s|]+/,"").trim(),/^[\(\[\{]/.test(e)?(e=e.replace(/^[\(\[\{][^\)\]\}]*[\)\]\}]/,"").trim(),e=e.replace(/[\(\[\{].*$/,"").trim()):e=e.replace(/[\(\[\{].*$/,"").trim(),e=e.replace(/((?:|||)\s*(?:)?\s*\d+\s*)|((?:|||)\s*(?:)?\s*[]+\s*)|(\d+\s*\s*)|([]+\s*\s*)|((?:|)\s*(?:EP)?\s*\d+)|((?:\s*)?EP\d+)|(\d+)|(S\d+\s*E\d+(?:)?)/g,"").trim(),e=e.replace(/\s*\d+\s*\+\s*\d+\s*\s*/g,"").replace(/\s*4[Kk]\s*(DV|HDR10|SDR10||)?\s*(|50|10bit)?\s*/g,"").replace(/\s*\d+[pP]\s*/g,"").replace(/\s*(||WEB-60fpsMAX|WEB-|DV|HDR10|HDR|SDR|||||50|25|60|10bit|10BIT|||||EDR||Vivid||txb||||ATVP|IQ|Friday|||||||||MAX|||||||||||Viu|10B|)\s*/g,"").replace(/\s*[^\s]*\s*/g,"").replace(/\s*\s*/g," ").replace(/\s*\d{4}?\s*/g,"").replace(/\s*\s*\d+\.?\d*\s*[KMGT]B\s*/g,"").replace(/\d+\.?\d*\s*[KMGT]B/g,"").replace(/\s*?\s*/g,"").replace(/\s*\+\s*/g," ").replace(/\s+/g," ").trim(),e=e.split(/|,/)?.[0],e?.trim())}async function Aat(e,t){return{page:1,pagecount:1,list:[]}}async function yat(e,t){let r=Array.isArray(e.body.id)?e.body.id:[e.body.id],n=[];for(let s of r){let i=s.includes("|")?s.split("|"):[s],a=await qt(i,e),o={};a&&(o.vod_play_from=a.froms,o.vod_play_url=a.urls),n.push(o)}return{list:n}}async function bat(e,t){let r=await x$(e.server),n=await v$(e.server),s=await _$(e.server),i=await I$(e.server),a=await C$(e.server),o=e.body.wd,c=Number(n),u=Number.isFinite(c)?Math.floor(c):0,l=u>0,d=new URL(r);d.searchParams.set("pic",String(i)),l&&d.searchParams.set("count",String(u)),d.searchParams.set("channelUsername",s),d.searchParams.set("keyword",o||"");let f=await _e.get(d.toString()),h=new Map;for(let m of f.data.results){let[A,g]=m.split("$$$");if(!g)continue;let x=g.split("##");for(let y=0;y<x.length&&(!l||y<=u);y++){let[b,_]=x[y].split("$$"),[C,w]=b.split("@"),S=Xo().find(T=>T.validator(C));if(S){let T=gat(_)||o,R=!!w,P=R?/^https?:\/\//i.test(w)?w:`${r}/down?id=${w}&channelUsername=${A}`:S.pic,N=R?P:C;h.has(N)||h.set(N,{links:[],panInfos:[],pic:P,group:A,title:T});let D=h.get(N),k=C?.replace(/\s+/g,"");D.links.includes(k)||(D.links.push(k),D.panInfos.push(S))}}}let p=[];for(let[m,A]of h.entries()){let g=[...new Set(A.panInfos.map(x=>x.name))].join("/");p.push({vod_id:A.links.join("|"),vod_name:A.title,vod_pic:A.pic,vod_remarks:`${g}:${mat(A.group,a)}`})}return{page:1,pagecount:1,list:p}}var E0e={meta:{key:"tgsou",name:"TG\u641C\xB2",type:3},api:async e=>{e.post("/init",pat),e.post("/home",hat),e.post("/category",Aat),e.post("/detail",yat),e.post("/play",Ht),e.post("/search",bat),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",jt)}};var S$=async(e,t,r)=>(await e.db.getObjectDefault("/tgchannel",{}))?.[t]||e.config.tgchannel[t]||r,Eat={douerpan:"\u8C46\u513F\u76D8"},x0e=e=>{if(!e||typeof e!="object"||Array.isArray(e))return{};let t={};for(let[r,n]of Object.entries(e))typeof n=="string"&&n.trim()!==""&&(t[r]=n);return t},t2=e=>S$(e,"url","https://t.me"),T$=async e=>{let t=await e.db.getObjectDefault("/tgchannel",{});if(Object.prototype.hasOwnProperty.call(t,"count"))return t.count;let r=e.config?.tgchannel||{};return Object.prototype.hasOwnProperty.call(r,"count")?r.count:""},B$=e=>S$(e,"channelUsername","douerpan"),R$=e=>S$(e,"homeChannelUsername","douerpan"),r2=async e=>{let t=await e.db.getObjectDefault("/tgchannel",{});if(Object.prototype.hasOwnProperty.call(t,"pic"))return t.pic;let r=e.config?.tgchannel||{};return Object.prototype.hasOwnProperty.call(r,"pic")?r.pic:!0},n2=async e=>{let t=await e.db.getObjectDefault("/tgchannel",{}),r={};if(Object.prototype.hasOwnProperty.call(t,"channelNameMap"))r=x0e(t.channelNameMap);else{let n=e.config?.tgchannel||{};Object.prototype.hasOwnProperty.call(n,"channelNameMap")&&(r=x0e(n.channelNameMap))}return{...Eat,...r}},a0=async(e,t,r)=>{await e.db.push(`/tgchannel/${t}`,r)};async function N$(e){e.get("/config",async(t,r)=>{let n=await t2(t.server),s=await T$(t.server),i=await B$(t.server),a=await R$(t.server),o=await r2(t.server),c=await n2(t.server),u=s===""||s===null||typeof s>"u"?"":Number(s);r.send({code:0,data:{url:n,count:u,channelUsername:i.split(","),homeChannelUsername:a.split(","),pic:o,channelNameMap:c}})}),e.put("/config",async(t,r)=>{await a0(t.server,"url",t.body.url),await a0(t.server,"count",t.body.count),await a0(t.server,"channelUsername",t.body.channelUsername.join(",")),await a0(t.server,"homeChannelUsername",t.body.homeChannelUsername.join(",")),await a0(t.server,"pic",t.body.pic),await a0(t.server,"channelNameMap",t.body.channelNameMap||{}),r.send({code:0})})}function xat(e){let t=e.attr("style"),r=/background-image:url\('([^']+)'\)/.exec(t);if(r&&r.length>1)return r[1]}function I0e(e){return e=e.replace(/https?:\/\/[^\s]+/gi,""),e=e.split(/[|:]/)?.[1]||e,e=e.split(`
`)?.[0]||e,e=e.trim(),e=e.replace(/^[^\u4e00-\u9fa5A-Za-z0-9\(\[\{]+/,"").trim(),e=e.replace(/^(|||||)[\s|]+/,"").trim(),/^[\(\[\{]/.test(e)?(e=e.replace(/^[\(\[\{][^\)\]\}]*[\)\]\}]/,"").trim(),e=e.replace(/[\(\[\{].*$/,"").trim()):e=e.replace(/[\(\[\{].*$/,"").trim(),e=e.replace(/((?:|||)\s*(?:)?\s*\d+\s*)|((?:|||)\s*(?:)?\s*[]+\s*)|(\d+\s*\s*)|([]+\s*\s*)|((?:|)\s*(?:EP)?\s*\d+)|((?:\s*)?EP\d+)|(\d+)|(S\d+\s*E\d+(?:)?)/g,"").trim(),e=e.replace(/\s*\d+\s*\+\s*\d+\s*\s*/g,"").replace(/\s*4[Kk]\s*(DV|HDR10|SDR10||)?\s*(|50|10bit)?\s*/g,"").replace(/\s*\d+[pP]\s*/g,"").replace(/\s*(||WEB-60fpsMAX|WEB-|DV|HDR10|HDR|SDR|||||50|25|60|10bit|10BIT|||||EDR||Vivid||txb||||ATVP|IQ|Friday|||||||||MAX|||||||||||Viu|10B|)\s*/g,"").replace(/\s*[^\s]*\s*/g,"").replace(/\s*\s*/g," ").replace(/\s*\d{4}?\s*/g,"").replace(/\s*\s*\d+\.?\d*\s*[KMGT]B\s*/g,"").replace(/\d+\.?\d*\s*[KMGT]B/g,"").replace(/\s*?\s*/g,"").replace(/\s*\+\s*/g," ").replace(/\s+/g," ").trim(),e=e.split(/|,/)?.[0],e?.trim()}function vat(e){let t=[];for(let r of e){let n=r.attribs?.href;Xo().some(s=>s.validator(n))&&t.push(n)}return t}function _at(e){let t=[],r=e.match(/https?:\/\/[^\s]+/gi);if(r)for(let n of r)Xo().some(s=>s.validator(n))&&t.push(n);return t}function Iat(e){for(let t of e){let r=t.attribs?.href;if(C0e(r))return r}}var C0e=e=>/t.me\/.*\/.*/.test(e),w0e=e=>Xo().find(t=>t.validator(e)),S0e=(e,t)=>!t||typeof t!="object"?e:t[e]||e;async function Cat(e){let t=await _e.get(e,{timeout:5e3,headers:{"User-Agent":"MoZhao"}}),r=je(t.data),n=r(".tgme_widget_message"),s=[];for(let i of n){let a=i.attribs["data-post"],o=xat(r(i).find(".tgme_widget_message_photo_wrap"));r("br").replaceWith(`
`);let c=r(i).find(".tgme_widget_message_text").text(),u=I0e(c),l=c,d=vat(r(i).find(".tgme_widget_message_text a")),f=[...d];if(!d.length){let h=Iat(r(i).find(".tgme_widget_message_text a"));h&&d.push(h)}d.length&&s.push({id:d.join("|"),title:u,description:l,cover:o,messageId:Number(a.split("/")[1]),panLinks:f})}return s}async function wat(e){let t=await _e.get(e,{timeout:5e3,headers:{"User-Agent":"MoZhao"}}),r=je(t.data),n=r('meta[property="og:image"]').attr("content"),s=I0e(r('meta[property="og:description"]').attr("content")),i=r('meta[property="og:description"]').attr("content"),a=_at(r('meta[property="og:description"]').attr("content"));return{title:s,description:i,cover:n,links:a}}async function Sat(e,t){return await Wt(e,t),{}}async function Tat(e){let t=await R$(e.server),r=await n2(e.server);return{class:t.split(",").map(n=>({type_id:n,type_name:S0e(n,r)}))}}var v0e={},_0e={};async function T0e(e){let t=await t2(e.server),r=await r2(e.server),n=e.body.id,s=e.body.page;s||(s=1);try{let i=await Cat(`${t}/s/${n}${s>1?`?before=${_0e[n]}`:""}`);_0e[n]=i[0].messageId,s===1&&(v0e[n]=i[i.length-1].messageId),i.reverse();let a=i.map(o=>{let c,u="";return o.panLinks.length&&o.panLinks.forEach(l=>{let d=w0e(l);d&&(u+=u?`|${d.name}`:d.name,c||(c=d.pic))}),c||(c="https://telegram.org/img/apple-touch-icon.png"),{vod_name:o.title,vod_id:o.id,vod_pic:r&&o.cover||c,vod_remarks:u,rawData:o}});return{page:s,pagecount:Math.ceil(v0e[n]/a.length),list:a}}catch(i){return console.error(i),{page:s,pagecount:1,list:[]}}}async function Bat(e,t){let r=await t2(e.server),n=Array.isArray(e.body.id)?e.body.id:[e.body.id],s=[];for(let i of n){let a=i.split("|");a.length===1&&C0e(a[0])&&(a=(await wat(i.replace("https://t.me",r))).links);let o=await qt(a,e),c={vod_id:i};o&&(c.vod_play_from=o.froms,c.vod_play_url=o.urls),s.push(c)}return{list:s}}async function Rat(e,t){let r=await T$(e.server),n=await B$(e.server),s=await r2(e.server),i=await n2(e.server),a=e.body.wd,o=Number(r),c=Number.isFinite(o)?Math.floor(o):0,u=c>0,l=n.split(","),d=await Promise.all(l.map(h=>T0e({body:{id:`${h}?q=${encodeURIComponent(a)}`},server:e.server}))),f=[];return d.forEach((h,p)=>{let m=h.list.filter(g=>g.rawData.panLinks.length);(u?m.slice(0,c):m).forEach(g=>{let x="",y;g.rawData.panLinks.forEach(b=>{let _=w0e(b);_&&(x+=x?`|${_.name}`:_.name),y||(y=_.pic)}),f.push({vod_id:g.vod_id,vod_name:g.vod_name,vod_pic:s&&g.vod_pic||y,vod_remarks:`${x}:${S0e(l[p],i)}`})})}),{page:1,pagecount:1,list:f}}var B0e={meta:{key:"tgchannel",name:"TG\u641C",type:3},api:async e=>{e.post("/init",Sat),e.post("/home",Tat),e.post("/category",T0e),e.post("/detail",Bat),e.post("/play",Ht),e.post("/search",Rat),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",jt)}};var R0e=ke(P$(),1),O$=ke(Hs(),1),yd="https://frodo.douban.com",so={};function bd(e){e+=`&udid=${so.id}&uuid=${so.id}&&rom=android&apikey=0dad551ec0f84ed02907ff5c42e8ec70&s=rexxar_new&channel=Yingyongbao_Market&timezone=Asia/Shanghai&device_id=${so.id}&os_rom=android&apple=c52fbb99b908be4d026954cc4374f16d&mooncake=0f607264fc6318a92b9e13c65db7cd3c&sugar=0`;let t=new URL(e),r=(0,R0e.default)().unix().toString(),n=O$.default.HmacSHA1("GET&"+encodeURIComponent(t.pathname)+"&"+r,"bf7dddc7c9cfe6f7"),s=O$.default.enc.Base64.stringify(n);return e+"&_sig="+encodeURIComponent(s)+"&_ts="+r}async function Ed(e,t){return(await Pe.get(e,{headers:{"User-Agent":t||so.ua}})).data}async function Nat(e,t){let r=e.server.prefix+"/device";return so=await e.server.db.getObjectDefault(r,{}),so.id||(so.id=fae(40).toLowerCase(),so.ua=`Rexxar-Core/0.1.3 api-client/1 com.douban.frodo/7.9.0(216) Android/28 product/Xiaomi11 rom/android network/wifi udid/${so.id} platform/mobile com.douban.frodo/7.9.0(216) Rexxar/1.2.151 platform/mobile 1.2.151`,await e.server.db.push(r,so)),{}}async function kat(e,t){let r=[{type_id:"t1",type_name:"\u70ED\u64AD"},{type_id:"t2",type_name:"\u7247\u5E93"},{type_id:"t250",type_name:"Top250"},{type_id:"t3",type_name:"\u699C\u5355",ratio:1},{type_id:"t4",type_name:"\u7247\u5355",ratio:1}],n={};return n.t1=[{key:"u",name:"",init:"movie/hot_gaia",value:[{n:"\u7535\u5F71",v:"movie/hot_gaia"},{n:"\u7535\u89C6\u5267",v:"subject_collection/tv_hot/items"},{n:"\u56FD\u4EA7\u5267",v:"subject_collection/tv_domestic/items"},{n:"\u7F8E\u5267",v:"subject_collection/tv_american/items"},{n:"\u65E5\u5267",v:"subject_collection/tv_japanese/items"},{n:"\u97E9\u5267",v:"subject_collection/tv_korean/items"},{n:"\u52A8\u6F2B",v:"subject_collection/tv_animation/items"},{n:"\u7EFC\u827A",v:"subject_collection/show_hot/items"}]}],n.t4=[{key:"type",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u7535\u5F71",v:"movie"},{n:"\u7535\u89C6\u5267",v:"tv"}]},{key:"cate",name:"",init:"all",value:[{n:"\u5168\u90E8",v:"all"},{n:"\u8C46\u74E3\u7247\u5355",v:"official"},{n:"\u7CBE\u9009",v:"selected"},{n:"\u7ECF\u5178",v:"classical"},{n:"\u83B7\u5956",v:"prize"},{n:"\u9AD8\u5206",v:"high_score"},{n:"\u699C\u5355",v:"movie_list"},{n:"\u51B7\u95E8\u4F73\u7247",v:"dark_horse"},{n:"\u4E3B\u9898",v:"topic"},{n:"\u5BFC\u6F14",v:"director"},{n:"\u6F14\u5458",v:"actor"},{n:"\u7CFB\u5217",v:"series"}]}],n.t2=[{key:"form",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u7535\u5F71",v:"\u7535\u5F71"},{n:"\u7535\u89C6\u5267",v:"\u7535\u89C6\u5267"},{n:"\u52A8\u6F2B",v:"\u52A8\u753B"},{n:"\u7EFC\u827A",v:"\u7EFC\u827A"},{n:"\u7EAA\u5F55\u7247",v:"\u7EAA\u5F55\u7247"},{n:"\u77ED\u7247",v:"\u77ED\u7247"}]},{key:"genre",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u5267\u60C5",v:"\u5267\u60C5"},{n:"\u559C\u5267",v:"\u559C\u5267"},{n:"\u52A8\u4F5C",v:"\u52A8\u4F5C"},{n:"\u79D1\u5E7B",v:"\u79D1\u5E7B"},{n:"\u7231\u60C5",v:"\u7231\u60C5"},{n:"\u60AC\u7591",v:"\u60AC\u7591"},{n:"\u72AF\u7F6A",v:"\u72AF\u7F6A"},{n:"\u6218\u4E89",v:"\u6218\u4E89"},{n:"\u6050\u6016",v:"\u6050\u6016"},{n:"\u5BB6\u5EAD",v:"\u5BB6\u5EAD"},{n:"\u53E4\u88C5",v:"\u53E4\u88C5"},{n:"\u6B66\u4FA0",v:"\u6B66\u4FA0"},{n:"\u9752\u6625",v:"\u9752\u6625"},{n:"\u540C\u6027",v:"\u540C\u6027"},{n:"\u97F3\u4E50",v:"\u97F3\u4E50"},{n:"\u6B4C\u821E",v:"\u6B4C\u821E"},{n:"\u5386\u53F2",v:"\u5386\u53F2"},{n:"\u5192\u9669",v:"\u5192\u9669"},{n:"\u5947\u5E7B",v:"\u5947\u5E7B"},{n:"\u4F20\u8BB0",v:"\u4F20\u8BB0"},{n:"\u8FD0\u52A8",v:"\u8FD0\u52A8"},{n:"\u897F\u90E8",v:"\u897F\u90E8"},{n:"\u707E\u96BE",v:"\u707E\u96BE"}]},{key:"region",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u4E2D\u56FD\u5927\u9646",v:"\u4E2D\u56FD\u5927\u9646"},{n:"\u4E2D\u56FD\u9999\u6E2F",v:"\u4E2D\u56FD\u9999\u6E2F"},{n:"\u4E2D\u56FD\u53F0\u6E7E",v:"\u4E2D\u56FD\u53F0\u6E7E"},{n:"\u7F8E\u56FD",v:"\u7F8E\u56FD"},{n:"\u82F1\u56FD",v:"\u82F1\u56FD"},{n:"\u65E5\u672C",v:"\u65E5\u672C"},{n:"\u97E9\u56FD",v:"\u97E9\u56FD"},{n:"\u5370\u5EA6",v:"\u5370\u5EA6"},{n:"\u6CD5\u56FD",v:"\u6CD5\u56FD"},{n:"\u5FB7\u56FD",v:"\u5FB7\u56FD"},{n:"\u897F\u73ED\u7259",v:"\u897F\u73ED\u7259"},{n:"\u6CF0\u56FD",v:"\u6CF0\u56FD"},{n:"\u610F\u5927\u5229",v:"\u610F\u5927\u5229"},{n:"\u52A0\u62FF\u5927",v:"\u52A0\u62FF\u5927"},{n:"\u6FB3\u5927\u5229\u4E9A",v:"\u6FB3\u5927\u5229\u4E9A"},{n:"\u4FC4\u7F57\u65AF",v:"\u4FC4\u7F57\u65AF"},{n:"\u745E\u5178",v:"\u745E\u5178"},{n:"\u4E39\u9EA6",v:"\u4E39\u9EA6"},{n:"\u5DF4\u897F",v:"\u5DF4\u897F"},{n:"\u58A8\u897F\u54E5",v:"\u58A8\u897F\u54E5"}]},{key:"year",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"2026",v:"2026"},{n:"2025",v:"2025"},{n:"2024",v:"2024"},{n:"2023",v:"2023"},{n:"2022",v:"2022"},{n:"2021",v:"2021"},{n:"2020",v:"2020"},{n:"2019",v:"2019"},{n:"2010\u5E74\u4EE3",v:"2010\u5E74\u4EE3"},{n:"2000\u5E74\u4EE3",v:"2000\u5E74\u4EE3"},{n:"90\u5E74\u4EE3",v:"90\u5E74\u4EE3"},{n:"80\u5E74\u4EE3",v:"80\u5E74\u4EE3"},{n:"70\u5E74\u4EE3",v:"70\u5E74\u4EE3"},{n:"60\u5E74\u4EE3",v:"60\u5E74\u4EE3"},{n:"\u66F4\u65E9",v:"\u66F4\u65E9"}]},{key:"sort",name:"",init:"U",value:[{n:"\u70ED\u5EA6",v:"U"},{n:"\u8BC4\u5206",v:"S"},{n:"\u65F6\u95F4",v:"R"}]}],{class:r,filters:n}}async function Dat(e,t){let r=e.body.id,n=e.body.page,s=e.body.filters,i=n||1;if(i==0&&(i=1),r=="t1"){let a=bd(`${yd}/api/v2/${s.u||"movie/hot_gaia"}?area=\u5168\u90E8&sort=recommend&playable=0&loc_id=0&start=${(i-1)*30}&count=30`),o=await Ed(a),c=[];for(let u of o.items||o.subject_collection_items){let l=(u.rating&&u.rating.value||"").toString();c.push({vod_id:u.id,vod_name:u.title,vod_pic:u.pic.normal||u.pic.large,vod_remarks:l.length>0?"\u8BC4\u5206:"+l:""})}return{page:parseInt(i),pagecount:Math.ceil(o.total/30),list:c}}else if(r=="t250"){let a=bd(`${yd}/api/v2/subject_collection/movie_top250/items?area=\u5168\u90E8&sort=recommend&playable=0&loc_id=0&start=${(i-1)*30}&count=30`),o=await Ed(a),c=[];for(let u of o.items||o.subject_collection_items){let l=(u.rating&&u.rating.value||"").toString();c.push({vod_id:u.id,vod_name:u.title,vod_pic:u.pic.normal||u.pic.large,vod_remarks:l.length>0?"\u8BC4\u5206:"+l:""})}return{page:parseInt(i),pagecount:Math.ceil(o.total/30),list:c}}else if(r=="t2"){let a=s.form||"",o=s.genre||"",c=s.region||"",u=s.year||"",l=s.sort||"U",d=a,f=o,h="movie";d==="\u52A8\u753B"&&(d="\u7535\u89C6\u5267",f||(f="\u52A8\u753B")),(d==="\u7535\u89C6\u5267"||d==="\u7EFC\u827A")&&(h="tv");let p={};f&&(p.\u7C7B\u578B=f),d&&(p.\u5F62\u5F0F=d),c&&(p.\u5730\u533A=c);let m=[];a&&m.push(a),o&&m.push(o),c&&m.push(c),u&&m.push(u);let A=new URLSearchParams({refresh:"0",start:((i-1)*30).toString(),count:"30",selected_categories:JSON.stringify(p),uncollect:"false",score_range:"0,10"});l&&A.append("sort",l),m.length>0&&A.append("tags",m.join(","));let g=`https://m.douban.com/rexxar/api/v2/${h}/recommend?${A.toString()}`,y=(await Pe.get(g,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",Referer:"https://m.douban.com/"}})).data,b=y&&y.items?y.items:[],_=[];for(let C of b)if(C&&(C.type==="movie"||C.type==="tv")){let w="";if(C.rating&&typeof C.rating.value<"u"){let S=C.rating.value;w=typeof S=="number"?S.toFixed(1):S.toString()}_.push({vod_id:C.id||"",vod_name:C.title||"",vod_pic:C.pic&&(C.pic.normal||C.pic.large)||"",vod_remarks:w?"\u8BC4\u5206:"+w:""})}return{page:parseInt(i),pagecount:i<10?i+1:i,list:_}}else if(r=="t3"){let a=bd(`${yd}/api/v2/movie/category_ranks?count=30&category=recent_hot`),o=await Ed(a),c=[];for(let u of o.selected_collections)c.push({vod_id:"cr_"+u.id,vod_name:u.short_name||u.title,vod_pic:u.cover_url,vod_remarks:"",cate:{}});a=bd(`${yd}/api/v2/tv/category_ranks?count=30&category=recent_hot`),o=await Ed(a);for(let u of o.selected_collections)c.push({vod_id:"cr_"+u.id,vod_name:u.short_name||u.title,vod_pic:u.cover_url,vod_remarks:"",cate:{}});return{page:1,pagecount:1,list:c}}else if(r=="t4"){let a=bd(`${yd}/api/v2/skynet/new_playlists?subject_type=${s.type||""}&category=${s.cate||"all"}&loc_id=0&start=${(i-1)*30}&count=30`),o=await Ed(a),c=[];for(let u of o.data[0].items)c.push({vod_id:u.owner?"dl_"+u.id:"cr_"+u.id,vod_name:u.title,vod_pic:u.cover_url,vod_remarks:"",cate:{}});return{page:parseInt(i),pagecount:Math.ceil(o.total/30),list:c}}else if(r.startsWith("cr_")){let a=bd(`${yd}/api/v2/subject_collection/${r.substring(3)}/items?start=${(i-1)*30}&count=30&updated_at=&items_only=1`),o=await Ed(a),c=[];for(let u of o.subject_collection_items){let l=(u.rating&&u.rating.value||"").toString();c.push({vod_id:u.id,vod_name:u.title,vod_pic:u.pic.normal||u.pic.large,vod_remarks:l.length>0?"\u8BC4\u5206:"+l:""})}return{page:parseInt(i),pagecount:Math.ceil(o.total/30),list:c}}else if(r.startsWith("dl_")){let a=bd(`${yd}/api/v2/doulist/${r.substring(3)}/posts?start=${(i-1)*30}&count=30&updated_at=&items_only=1`),o=await Ed(a),c=[];for(let u of o.items){let l=u.content.subject;if(!l)continue;let d=(l.rating&&l.rating.value||"").toString();c.push({vod_id:l.id,vod_name:l.title,vod_pic:l.pic.normal||l.pic.large,vod_remarks:d.length>0?"\u8BC4\u5206:"+d:""})}return{page:parseInt(i),pagecount:Math.ceil(o.total/30),list:c}}}async function Pat(e,t){return{}}async function Oat(e,t){return{}}async function $at(e,t){return{}}async function Lat(e,t){try{let r=function(a){a.statusCode&&a.statusCode==500&&console.error(a)},n=e.server.prefix,s={},i=await e.server.inject().post(`${n}/init`);if(s.init=i.json(),r(i.json()),i=await e.server.inject().post(`${n}/home`),s.home=i.json(),r(i.json()),s.home.class.length>0&&(i=await e.server.inject().post(`${n}/category`).payload({id:s.home.class[0].type_id,page:1,filter:!0,filters:{}}),s.category=i.json(),r(i.json()),s.category.list.length>0&&(i=await e.server.inject().post(`${n}/detail`).payload({id:s.category.list[0].vod_id}),s.detail=i.json(),r(i.json()),s.detail.list&&s.detail.list.length>0))){s.play=[];for(let a of s.detail.list){let o=a.vod_play_from.split("$$$"),c=a.vod_play_url.split("$$$");for(let u=0;u<o.length;u++){let l=o[u],d=c[u].split("#");for(let f=0;f<d.length&&f<2;f++)i=await e.server.inject().post(`${n}/play`).payload({flag:l,id:d[f].split("$")[1]}),s.play.push(i.json())}}}return i=await e.server.inject().post(`${n}/search`).payload({wd:"\u7231",page:1}),s.search=i.json(),r(i.json()),s}catch(r){return console.error(r),t.code(500),{err:r.message,tip:"check debug console output"}}}var N0e={meta:{key:"douban",name:"\u8C46\u74E3\u200D",type:3,indexs:1},api:async e=>{e.post("/init",Nat),e.post("/home",kat),e.post("/category",Dat),e.post("/detail",Pat),e.post("/play",Oat),e.post("/search",$at),e.get("/test",Lat)}};async function Mat(e,t){return{}}async function Fat(e,t){return"true"}async function Qat(e,t){let r=Array.isArray(e.body.id)?e.body.id:[e.body.id],n=[];for(let s of r){let i={vod_id:s,vod_content:"",vod_name:s,vod_pic:"https://pic.rmb.bdstatic.com/bjh/1d0b02d0f57f0a42201f92caba5107ed.jpeg"},a=await qt(s,e);a&&(i.vod_play_from=a.froms,i.vod_play_url=a.urls),n.push(i)}return{list:n}}async function Uat(e,t){try{let r=function(a){a.statusCode&&a.statusCode==500&&console.error(a)},n=e.server.prefix,s={},i=await e.server.inject().post(`${n}/support`).payload({clip:"https://xx.xx/1.m3u8"});return s.support=i.json(),r(i.json()),i=await e.server.inject().post(`${n}/detail`).payload({id:"https://xx.xx/1.m3u8"}),s.detail=i.json(),r(i.json()),i=await e.server.inject().post(`${n}/play`).payload({flag:"xx",id:"https://xx.xx/1.m3u8"}),s.play=i.json(),r(i.json()),s}catch(r){return console.error(r),t.code(500),{err:r.message,tip:"check debug console output"}}}var k0e={meta:{key:"push",name:"\u63A8\u9001",type:4},api:async e=>{e.post("/init",Mat),e.post("/support",Fat),e.post("/detail",Qat),e.post("/play",Ht),e.get("/test",Uat),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",jt)}};var i2=async(e,t,r)=>(await e.db.getObjectDefault("/pansou",{}))?.[t]||e.config.pansou?.[t]||r,$$=async e=>i2(e,"url","https://pan.wnng.cn"),L$=async e=>{let t=await i2(e,"channels","");return t?t.split(",").map(r=>r.trim()).filter(r=>r):[]},M$=async e=>{let t=await i2(e,"plugins","");return t?t.split(",").map(r=>r.trim()).filter(r=>r):[]},F$=async e=>{let t=await i2(e,"cloudTypes","");return t?t.split(",").map(r=>r.trim()).filter(r=>r):[]},s2=async(e,t,r)=>{await e.db.push(`/pansou/${t}`,r)},qat=async e=>{await e.db.delete("/pansou")};async function Q$(e){e.get("/config",async(t,r)=>{let n=await $$(t.server),s=await L$(t.server),i=await M$(t.server),a=await F$(t.server);r.send({code:0,data:{url:n,channels:s,plugins:i,cloudTypes:a}})}),e.put("/config",async(t,r)=>{await s2(t.server,"url",t.body.url||""),await s2(t.server,"channels",Array.isArray(t.body.channels)?t.body.channels.join(","):""),await s2(t.server,"plugins",Array.isArray(t.body.plugins)?t.body.plugins.join(","):""),await s2(t.server,"cloudTypes",Array.isArray(t.body.cloudTypes)?t.body.cloudTypes.join(","):""),r.send({code:0})}),e.delete("/config",async(t,r)=>{await qat(t.server),r.send({code:0})})}function jat(e){return e?e.startsWith("tg:")?e.substring(3):e.startsWith("plugin:")?e.substring(7):e:null}function Hat(e){return e?e.replace(/^([:])/,"").replace(/\s+/g," ").trim():""}function zat(e,t){let r=new Map;for(let[,s]of Object.entries(e))if(Array.isArray(s))for(let i of s){if(!i||!i.url)continue;let a=Xo().find(f=>f.validator(i.url));if(!a)continue;let o=i.images&&Array.isArray(i.images)&&i.images.length>0,c=o?i.images[0]:a.pic,u=o?c:i.url;r.has(u)||r.set(u,{links:[],panInfos:[],sources:[],pic:c,title:Hat(i.note||t)});let l=r.get(u),d=i.url?.replace(/\s+/g,"");if(!l.links.includes(d)&&(l.links.push(d),l.panInfos.push(a),i.source)){let f=jat(i.source);f&&!l.sources.includes(f)&&l.sources.push(f)}}let n=[];for(let[,s]of r.entries()){let i=[...new Set(s.panInfos.map(o=>o.name))].join("/"),a=s.sources.length>0?`:${s.sources[0]}`:"";n.push({vod_id:s.links.join("|"),vod_name:s.title,vod_pic:s.pic,vod_remarks:`${i}${a}`})}return n}async function Gat(e,t){return await Wt(e,t),{}}async function Vat(e,t){return{class:[]}}async function Kat(e,t){return{page:1,pagecount:1,list:[]}}async function Yat(e,t){let r=Array.isArray(e.body.id)?e.body.id:[e.body.id],n=[];for(let s of r){let i=s.includes("|")?s.split("|"):[s],a=await qt(i,e),o={};a&&(o.vod_play_from=a.froms,o.vod_play_url=a.urls),n.push(o)}return{list:n}}async function Wat(e,t){try{let r=e.body.wd,n=await $$(e.server),s=await L$(e.server),i=await M$(e.server),a=await F$(e.server),o={kw:r};s.length>0&&(o.channels=s),i.length>0&&(o.plugins=i),a.length>0&&(o.cloud_types=a);let c=await _e.post(`${n}/api/search`,o);return c.data&&c.data.data&&c.data.data.merged_by_type?{page:1,pagecount:1,list:zat(c.data.data.merged_by_type,r)}:{page:1,pagecount:1,list:[]}}catch(r){return console.error("PanSou search error:",r),{page:1,pagecount:1,list:[]}}}var D0e={meta:{key:"pansou",name:"PanSou",type:3},api:async e=>{e.post("/init",Gat),e.post("/home",Vat),e.post("/category",Kat),e.post("/detail",Yat),e.post("/play",Ht),e.post("/search",Wat),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",jt)}};var o0=async e=>{let t=await e.db.getObjectDefault("/live2vod",{});return{sources:t?.sources||e.config.live2vod?.sources||[],showMode:t?.showMode||e.config.live2vod?.showMode||"groups",def_pic:t?.def_pic||e.config.live2vod?.def_pic||"https://ghproxy.net/https://raw.githubusercontent.com/hjdhnx/hipy-server/master/app/static/img/lives.jpg"}},U$=async(e,t)=>{await e.db.push("/live2vod",t)},Jat=async e=>{await e.db.delete("/live2vod")};async function q$(e){e.get("/config",async(t,r)=>{r.send({code:0,data:await o0(t.server)})}),e.put("/config",async(t,r)=>{await U$(t.server,t.body),r.send({code:0})}),e.delete("/config",async(t,r)=>{await Jat(t.server),r.send({code:0})}),e.get("/sources",async(t,r)=>{let n=await o0(t.server);r.send({code:0,data:n.sources||[]})}),e.post("/sources",async(t,r)=>{let{name:n,url:s,img:i}=t.body;if(!n||!s){r.code(400).send({code:1,msg:"\u540D\u79F0\u548CURL\u4E0D\u80FD\u4E3A\u7A7A"});return}let a=await o0(t.server);a.sources=a.sources||[],a.sources.push({name:n,url:s,img:i||""}),await U$(t.server,a),r.send({code:0})}),e.delete("/sources/:index",async(t,r)=>{let n=parseInt(t.params.index),s=await o0(t.server);s.sources&&n>=0&&n<s.sources.length?(s.sources.splice(n,1),await U$(t.server,s),r.send({code:0})):r.code(404).send({code:1,msg:"\u7D22\u5F15\u65E0\u6548"})})}var ri={sources:[],def_pic:"https://ghproxy.net/https://raw.githubusercontent.com/hjdhnx/hipy-server/master/app/static/img/lives.jpg"},sy={},a2={};async function Xat(e){return(await Pe(e,{method:"get",headers:{"User-Agent":"okhttp/3.14.9"},timeout:1e4})).data}function Zat(e){let t=e.split(`
`),r={},n=[],s=null;return t.forEach(i=>{if(i=i.trim(),i.startsWith("#EXTINF:")){let a=i.replace(/'/g,'"'),o="\u672A\u77E5\u9891\u9053",c="";try{let l=a.match(/group-title="(.*?)"/);l&&(o=l[1].trim())}catch{}try{let l=a.match(/tvg-logo="(.*?)"/);l&&(c=l[1].trim())}catch{}s={name:i.split(",").slice(-1)[0].trim(),logo:c,group:o}}else if(i.startsWith("http")&&s){let a=s.group;r[a]||(r[a]=[],n.push(a)),r[a].push({name:s.name,url:i,logo:s.logo}),s=null}}),{groups:r,groupNames:n}}function eot(e){let t=e.split(`
`),r={},n=[],s="";return t.forEach(i=>{if(i=i.trim(),!!i){if(/,#/.test(i))s=i.split(",")[0].trim(),r[s]||(r[s]=[],n.push(s));else if(i.includes(",")&&s){let a=i.split(",");a.length>=2&&a[1].trim().startsWith("http")&&r[s].push({name:a[0].trim(),url:a[1].trim(),logo:""})}}}),{groups:r,groupNames:n}}async function o2(e){if(sy[e])return sy[e];let t=await Xat(e),r;/#EXTM3U/.test(t)?r=Zat(t):r=eot(t);for(let n of Object.keys(r.groups)){let s=r.groups[n],i=new Map;s.forEach(a=>{i.has(a.name)?(i.get(a.name).urls.push(a.url),!i.get(a.name).logo&&a.logo&&(i.get(a.name).logo=a.logo)):i.set(a.name,{...a,urls:[a.url]})}),r.groups[n]=Array.from(i.values())}return sy[e]=r,r}async function tot(e,t){let r=await o0(e.server);ri.sources=r.sources||[],ri.def_pic=r.def_pic||ri.def_pic,Object.keys(sy).forEach(s=>delete sy[s]),a2={};let n=ri.sources.map(async s=>{try{let i=await o2(s.url),a=[{n:"\u5168\u90E8",v:""}];i.groupNames.forEach(o=>{a.push({n:o,v:o})}),a2[s.url]=[{key:"group",name:"",init:"",value:a}]}catch(i){console.error(`\u9884\u52A0\u8F7D\u76F4\u64AD\u6E90 ${s.name} \u5931\u8D25: ${i.message}`),a2[s.url]=[]}});return await Promise.all(n),{}}async function rot(e,t){return{class:ri.sources.map(n=>({type_id:n.url,type_name:n.name})),filters:a2}}async function not(e,t){let r=e.body.id,n=e.body.page||1,i=(e.body.filters||{}).group||"";if(n>1)return{page:n,pagecount:1,list:[]};let o=ri.sources.find(c=>c.url===r)?.img||"";try{let c=await o2(r),u=[],l=i?[i]:c.groupNames;for(let d of l){let f=c.groups[d];f&&f.forEach(h=>{u.push({vod_id:r+"$"+d+"$"+h.name,vod_name:h.name,vod_pic:h.logo||o||ri.def_pic,vod_remarks:d})})}return{page:1,pagecount:1,total:u.length,list:u}}catch(c){return console.error(`\u83B7\u53D6\u5206\u7C7B\u9875\u5931\u8D25: ${c.message}`),{page:1,pagecount:1,list:[]}}}async function sot(e,t){let r=Array.isArray(e.body.id)?e.body.id:[e.body.id],n=[];for(let s of r){let i=s.split("$"),a=i[0],o=i[1],c=i.slice(2).join("$"),u=ri.sources.find(f=>f.url===a),l=u?.img||"",d=u?.name||"\u76F4\u64AD\u6E90";try{let p=(await o2(a)).groups[o]?.find(g=>g.name===c);if(!p){n.push({vod_id:s,vod_name:c,vod_pic:l||ri.def_pic,vod_content:"\u672A\u627E\u5230\u9891\u9053",vod_play_from:d,vod_play_url:""});continue}let A=(p.urls||[p.url]).map((g,x)=>`\u7EBF\u8DEF${x+1}$${g}`);n.push({vod_id:s,vod_name:c,type_name:o,vod_pic:p.logo||l||ri.def_pic,vod_content:`\u9891\u9053: ${c}
\u5206\u7EC4: ${o}
\u6765\u6E90: ${d}`,vod_play_from:d,vod_play_url:A.join("#"),vod_remarks:o})}catch(f){console.error(`\u83B7\u53D6\u8BE6\u60C5\u5931\u8D25: ${f.message}`),n.push({vod_id:s,vod_name:c,vod_pic:l||ri.def_pic,vod_content:`\u83B7\u53D6\u5931\u8D25: ${f.message}`,vod_play_from:d,vod_play_url:""})}}return{list:n}}async function iot(e,t){return{parse:0,url:e.body.id}}async function aot(e,t){let r=e.body.wd,n=[];for(let s of ri.sources)try{let i=await o2(s.url),a=s.img||"",o=new RegExp(r,"i");for(let c of i.groupNames){let u=i.groups[c];u&&u.forEach(l=>{o.test(l.name)&&n.push({vod_id:s.url+"$"+c+"$"+l.name,vod_name:l.name,vod_pic:l.logo||a||ri.def_pic,vod_remarks:`${s.name} \xB7 ${c}`})})}}catch(i){console.error(`\u641C\u7D22\u6E90 ${s.name} \u5931\u8D25: ${i.message}`)}return{page:1,pagecount:1,total:n.length,list:n}}async function oot(e,t){try{let r=function(a){a.statusCode&&a.statusCode===500&&console.error(a)},n=e.server.prefix,s={},i=await e.server.inject().post(`${n}/init`);return s.init=i.json(),r(i.json()),i=await e.server.inject().post(`${n}/home`),s.home=i.json(),r(i.json()),s.home.class&&s.home.class.length>0&&(i=await e.server.inject().post(`${n}/category`).payload({id:s.home.class[0].type_id,page:1,filters:{}}),s.category=i.json(),r(i.json()),s.category.list&&s.category.list.length>0&&(i=await e.server.inject().post(`${n}/detail`).payload({id:s.category.list[0].vod_id}),s.detail=i.json(),r(i.json()))),i=await e.server.inject().post(`${n}/search`).payload({wd:"CCTV",page:1}),s.search=i.json(),r(i.json()),s}catch(r){return console.error(r),t.code(500),{err:r.message,tip:"check debug console output"}}}var P0e={meta:{key:"live2vod",name:"\u76F4\u64AD",type:3},api:async e=>{e.post("/init",tot),e.post("/home",rot),e.post("/category",not),e.post("/detail",sot),e.post("/play",iot),e.post("/search",aot),e.get("/test",oot)}};var Du={host:"https://api.ztcgi.com",headers:{"User-Agent":"Mozilla/5.0 (Linux; Android 9; V2196A Build/PQ3A.190705.08211809; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/91.0.4472.114 Mobile Safari/537.36;webank/h5face;webank/1.0;netType:NETWORK_WIFI;appVersion:416;packageName:com.jp3.xg3",Referer:"https://api.ztcgi.com",Accept:"application/json"},imgHost:"https://img2.jgsfnl.com"};function cot(){return[{type_id:"1",type_name:"\u7535\u5F71"},{type_id:"2",type_name:"\u7535\u89C6\u5267"},{type_id:"3",type_name:"\u52A8\u6F2B"},{type_id:"4",type_name:"\u7EFC\u827A"}]}function j$(e){return e?e.startsWith("http")?e:Du.imgHost+e:""}async function uot(e,t){return{}}async function lot(e,t){return{class:cot()}}async function dot(e,t){let r=e.body.id,s=e.body.page||1;s==0&&(s=1);try{let i=`${Du.host}/api/crumb/list?fcate_pid=${r}&category_id=&area=&year=&type=&sort=&page=${s}`,o=(await Pe.get(i,{headers:Du.headers})).data,u=(Array.isArray(o.data)?o.data:[]).map(f=>({vod_id:String(f.id),vod_name:f.title||"",vod_pic:j$(f.path||""),vod_remarks:f.mask||""})).filter(f=>f.vod_id&&f.vod_name),l=u.length>0,d=l?parseInt(s)+1:parseInt(s);return{page:parseInt(s),pagecount:d,limit:u.length||20,total:l?9999:u.length,list:u}}catch{return{list:[],page:parseInt(s),pagecount:1,limit:20,total:0}}}async function fot(e,t){let r=Array.isArray(e.body.id)?e.body.id:[e.body.id],n=[];for(let s of r)try{let i=`${Du.host}/api/video/detailv2?id=${s}`,o=(await Pe.get(i,{headers:Du.headers})).data.data,c={vod_id:String(o.id||s),vod_name:o.title||"",vod_pic:j$(o.thumbnail||o.path||o.tvimg||""),type_name:(o.types||[]).map(f=>f.name).join("/")||"",vod_year:o.year||"",vod_area:o.area||"",vod_remarks:o.mask||"",vod_actor:(o.actors||[]).map(f=>f.name).join("/")||"",vod_director:(o.directors||[]).map(f=>f.name).join("/")||"",vod_content:o.description||"",vod_play_from:"",vod_play_url:""},u=Array.isArray(o.source_list_source)?o.source_list_source:[],l=[],d=[];u.forEach((f,h)=>{let p=f.name||f.source_name||`\u7EBF\u8DEF${h+1}`;if(p==="\u5E38\u89C4\u7EBF\u8DEF")return;let m=Array.isArray(f.source_list)?f.source_list:[],A=[];m.forEach((g,x)=>{let y=g.source_name||g.name||`\u7B2C${x+1}\u96C6`,b=g.url||g.play_url||"";b&&A.push(`${y}$${b}`)}),A.length>0&&(l.push(p),d.push(A.join("#")))}),c.vod_play_from=l.join("$$$"),c.vod_play_url=d.join("$$$"),n.push(c)}catch{}return{list:n}}async function pot(e,t){let r=e.body.id,n=r.startsWith("//")?`https:${r}`:r;return n.includes(".m3u8")||n.includes(".mp4")?{parse:0,url:n,header:Du.headers}:{parse:1,url:n}}async function hot(e,t){let r=e.body.page,n=e.body.wd,s=r||1;s==0&&(s=1);try{let i=`${Du.host}/api/v2/search/videoV2?key=${encodeURIComponent(n)}&category_id=88&page=${s}&pageSize=20`,o=(await Pe.get(i,{headers:Du.headers})).data,u=(Array.isArray(o.data)?o.data:[]).map(d=>({vod_id:String(d.id),vod_name:d.title||"",vod_pic:j$(d.thumbnail||d.path||""),vod_remarks:d.mask||""})).filter(d=>d.vod_id&&d.vod_name),l=o.total||0;return{page:parseInt(s),pagecount:u.length>0?parseInt(s)+1:parseInt(s),total:l,list:u}}catch{return{list:[],page:parseInt(s),pagecount:1}}}async function mot(e,t){try{let r=e.server.prefix,n={},s=await e.server.inject().post(`${r}/init`);if(n.init=s.json(),s=await e.server.inject().post(`${r}/home`),n.home=s.json(),n.home.class.length>0&&(s=await e.server.inject().post(`${r}/category`).payload({id:n.home.class[0].type_id,page:1}),n.category=s.json(),n.category.list.length>0&&(s=await e.server.inject().post(`${r}/detail`).payload({id:n.category.list[0].vod_id}),n.detail=s.json(),n.detail.list&&n.detail.list.length>0))){n.play=[];for(let i of n.detail.list){let a=i.vod_play_from.split("$$$"),o=i.vod_play_url.split("$$$");for(let c=0;c<a.length;c++){let u=a[c],l=o[c].split("#");for(let d=0;d<l.length&&d<2;d++)s=await e.server.inject().post(`${r}/play`).payload({flag:u,id:l[d].split("$")[1]}),n.play.push(s.json())}}}return s=await e.server.inject().post(`${r}/search`).payload({wd:"\u7231",page:1}),n.search=s.json(),n}catch(r){return t.code(500),{err:r.message,tip:"check debug console output"}}}var O0e={meta:{key:"jianpian",name:"\u8350\u7247",type:3},api:async e=>{e.post("/init",uot),e.post("/home",lot),e.post("/category",dot),e.post("/detail",fot),e.post("/play",pot),e.post("/search",hot),e.get("/test",mot)}};var $0e=ke(require("crypto"),1),Pu="https://film.symx.club",L0e={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36",Accept:"application/json, text/plain, */*","Accept-Language":"zh-CN,zh;q=0.9","Cache-Control":"no-cache",Pragma:"no-cache","Sec-Ch-Ua":'"Google Chrome";v="143", "Chromium";v="143", "Not A(Brand";v="24"',"Sec-Ch-Ua-Mobile":"?0","Sec-Ch-Ua-Platform":'"Windows"',"Sec-Fetch-Dest":"empty","Sec-Fetch-Mode":"cors","Sec-Fetch-Site":"same-origin","X-Platform":"web",Referer:"https://film.symx.club/"},io={reportId:"X-Sign",traceId:"pts",session:"symx",updatedAt:0};function got(e){if(e==null)return null;if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}function Lr(e){return e==null?"":String(e)}function Aot(e){return Lr(e).replace(/\$/g,"\uFE69").replace(/#/g,"\uFF03")}function H$(e){let t="0x1A2B3C4D5E6F7A8B9C",r=Lr(e);if(!r||r.length%2!==0)return"";let n="";for(let s=0;s<r.length;s+=2){let i=parseInt(r.substring(s,s+2),16);if(Number.isNaN(i))return"";let a=t.charCodeAt(s/2%t.length);n+=String.fromCharCode(i^a)}return n}async function xd(e,t={}){try{let r={...L0e,...t.headers||{}},n=await Pe(e,{method:"get",...t,headers:r});return got(n.data)}catch(r){return console.error("\u8BF7\u6C42\u5931\u8D25:",e,r.message),null}}async function yot(){let e=Date.now();if(io.updatedAt>0&&e-io.updatedAt<5*60*1e3)return;let t=await xd(`${Pu}/api/system/config`),r=t&&t.data?t.data:null;if(!r)return;let n=H$(r.reportId),s=H$(r.traceId),i=H$(r.session);n&&s&&i&&(io.reportId=n,io.traceId=s,io.session=i,io.updatedAt=e)}function bot(){let t=Date.now().toString().slice(0,-1),r=t.split("").reduce((n,s)=>n+Number(s),0);return`${t}${r%10}`}function Eot(e,t){try{let n={p:Lr(e).split("?")[0],t,s:`symx_${io.session}`},s="";return Lr(io.traceId).split("").forEach(i=>{s+=n[i]||""}),s=s.split("1").join("i").split("0").join("o").split("5").join("s"),$0e.default.createHmac("sha256",io.session).update(s).digest("hex")}catch{return""}}async function M0e(e){await yot();let t=bot(),r=Eot(e,t);return r?{"X-Timestamp":t,[io.reportId]:r}:{}}async function xot(e,t){return{}}async function vot(e,t){let r=await xd(`${Pu}/api/category/top`),n=[];return r&&r.data&&Array.isArray(r.data)&&r.data.forEach(s=>{n.push({type_id:String(s.id),type_name:s.name||""})}),{class:n}}async function _ot(e,t){let r=await xd(`${Pu}/api/film/category`),n=[];return r&&r.data&&Array.isArray(r.data)&&r.data.forEach(s=>{(s.filmList||[]).forEach(a=>{n.push({vod_id:String(a.id),vod_name:a.name||"",vod_pic:a.cover||"",vod_remarks:a.doubanScore||""})})}),{list:n.slice(0,30)}}async function Iot(e,t){let r=e.body.id,s=e.body.page||1;s==0&&(s=1);let i=await xd(`${Pu}/api/film/category/list?area=&categoryId=${encodeURIComponent(r)}&language=&pageNum=${s}&pageSize=15&sort=updateTime&year=`),a=[];return i&&i.data&&i.data.list&&Array.isArray(i.data.list)&&i.data.list.forEach(o=>{a.push({vod_id:String(o.id),vod_name:o.name||"",vod_pic:o.cover||"",vod_remarks:o.updateStatus||""})}),{page:s,pagecount:a.length>=15?s+1:s,list:a}}async function Cot(e,t){let r=Array.isArray(e.body.id)?e.body.id:[e.body.id],n=[];for(let s of r){let i=Lr(s),a=`/film/detail?id=${encodeURIComponent(i)}`,o=await M0e(a),c=await xd(`${Pu}/api${a}`,{headers:o});if(!c||!c.data)continue;let u=c.data,l=[],d=[];u.playLineList&&Array.isArray(u.playLineList)&&u.playLineList.forEach(f=>{let p=(Array.isArray(f.lines)?f.lines:[]).map(m=>{let A=Aot(m.name),g=Lr(m.id),x=Lr(f.playerId||"");return!A||!g?"":`${A}$${Lr(u.id||i)}:${g}:${x}`}).filter(Boolean);p.length!==0&&(l.push(Lr(f.playerName)||`\u7EBF\u8DEF${l.length+1}`),d.push(p.join("#")))}),n.push({vod_id:Lr(u.id||i),vod_name:Lr(u.name),vod_pic:Lr(u.cover),vod_year:Lr(u.year),vod_area:Lr(u.other),vod_actor:Lr(u.actor),vod_director:Lr(u.director),vod_content:Lr(u.blurb),vod_remarks:Lr(u.updateStatus),vod_douban_score:Lr(u.doubanScore),type_name:Lr(u.vod_class),vod_play_from:l.join("$$$"),vod_play_url:d.join("$$$")})}return{list:n}}async function wot(e,t){let r=Lr(e.body.id),n=r.split(":"),s=n.length>=2?n[1]:r,i=`/line/play/parse?lineId=${encodeURIComponent(s)}`,a=await M0e(i),o=await xd(`${Pu}/api${i}`,{headers:a}),c=o&&o.data?Lr(o.data):"";return c?{parse:0,url:c,header:{"User-Agent":L0e["User-Agent"],Referer:Pu+"/"}}:{parse:1,url:""}}async function Sot(e,t){let r=e.body.page,n=e.body.wd,s=r||1;s==0&&(s=1);let i=await xd(`${Pu}/api/film/search?keyword=${encodeURIComponent(n)}&pageNum=${s}&pageSize=10`),a=[];return i&&i.data&&i.data.list&&Array.isArray(i.data.list)&&i.data.list.forEach(o=>{a.push({vod_id:String(o.id),vod_name:o.name||"",vod_pic:o.cover||"",vod_remarks:o.updateStatus||"",vod_year:o.year||"",vod_area:o.area||"",vod_director:o.director||""})}),{page:s,pagecount:a.length>=10?s+1:s,list:a}}async function Tot(e,t){try{let r=function(a){a.statusCode&&a.statusCode==500&&console.error(a)},n=e.server.prefix,s={},i=await e.server.inject().post(`${n}/init`);if(s.init=i.json(),r(i.json()),i=await e.server.inject().post(`${n}/home`),s.home=i.json(),r(i.json()),s.home.class&&s.home.class.length>0&&(i=await e.server.inject().post(`${n}/category`).payload({id:s.home.class[0].type_id,page:1}),s.category=i.json(),r(i.json()),s.category.list&&s.category.list.length>0&&(i=await e.server.inject().post(`${n}/detail`).payload({id:s.category.list[0].vod_id}),s.detail=i.json(),r(i.json()),s.detail.list&&s.detail.list.length>0))){s.play=[];for(let a of s.detail.list){let o=a.vod_play_from.split("$$$"),c=a.vod_play_url.split("$$$");for(let u=0;u<o.length;u++){let l=c[u].split("#");for(let d=0;d<l.length&&d<2;d++)i=await e.server.inject().post(`${n}/play`).payload({flag:o[u],id:l[d].split("$")[1]}),s.play.push(i.json())}}}return i=await e.server.inject().post(`${n}/search`).payload({wd:"\u7231",page:1}),s.search=i.json(),r(i.json()),s}catch(r){return console.error(r),t.code(500),{err:r.message,tip:"check debug console output"}}}var F0e={meta:{key:"symx",name:"\u6728\u516E",type:3},api:async e=>{e.post("/init",xot),e.post("/home",vot),e.post("/homeVod",_ot),e.post("/category",Iot),e.post("/detail",Cot),e.post("/play",wot),e.post("/search",Sot),e.get("/test",Tot)}};var iy="http://su.haotv.site",Bot={"User-Agent":"okhttp/3.12.11"},Rot={user_id:"XPGBOX",token2:"X28tpHOOiCB6T2VddyLaFNV4JZT0+i9Ep88+rWLcRPJXUkVhsTx5q9Be2N8=",version:"XPGBOX com.phoenix.tv1.6.1",hash:"bd56",screenx:"2268","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/117.0.0.0 Safari/537.36",token:"Yz0QiCqorD4JdlVqQTe4JJB0JazI2RUjg/9smAGhdtRQM3IXmiRx2PEt4t9EUFS+BiIyBffFa4MPMJkOZQJqe/ApC3U9wm2iDW9jWrFCWwR9mDwuMQU33A+F/VyQOhI/jYxKZFsGOcmWilxqLylX8bLLNnAU5jaTrSPwRO+DfBnIdhckWld4V1k2ZfZ3QKbN",timestamp:"1768109944",screeny:"1116"},Q0e=20;async function ay(e){try{return(await Pe(e,{method:"get",headers:Bot,timeout:15e3})).data}catch(t){return console.error("\u5C0F\u82F9\u679C\u8BF7\u6C42\u5931\u8D25:",e,t.message),null}}function Not(e){return!e||!Array.isArray(e)?[]:e.filter(t=>!t.key||!t.key.includes("\u53CA\u65F6\u96E8"))}async function kot(e,t){return{}}async function Dot(e,t){let r=await ay(`${iy}/api.php/v2.vod/androidtypes`),n=[];return r&&r.data&&Array.isArray(r.data)&&r.data.forEach(s=>{n.push({type_id:String(s.type_id||""),type_name:s.type_name||""})}),{class:n}}async function Pot(e,t){let r=await ay(`${iy}/api.php/v2.main/androidhome`),n=[];return r&&r.data&&r.data.list&&Array.isArray(r.data.list)&&r.data.list.forEach(s=>{s.list&&Array.isArray(s.list)&&s.list.forEach(i=>{let a=i.updateInfo?"\u66F4\u65B0\u81F3"+i.updateInfo:i.score?String(i.score):"";n.push({vod_id:String(i.id||""),vod_name:i.name||"",vod_pic:i.pic||"",vod_remarks:a})})}),{list:n.slice(0,20)}}async function Oot(e,t){let r=e.body.id,n=e.body.page,s=e.body.filters||{},i=n||1;i==0&&(i=1);let a={page:i,type:r||"",area:s.areaes||"",year:s.yeares||"",sortby:s.sortby||"",class:s.classes||""},o=Object.keys(a).filter(l=>a[l]!=="").map(l=>l+"="+encodeURIComponent(a[l])).join("&"),c=await ay(`${iy}/api.php/v2.vod/androidfilter10086?${o}`),u=[];return c&&c.data&&Array.isArray(c.data)&&c.data.forEach(l=>{let d=l.updateInfo?"\u66F4\u65B0\u81F3"+l.updateInfo:l.score?String(l.score):"";u.push({vod_id:String(l.id||""),vod_name:l.name||"",vod_pic:l.pic||"",vod_remarks:d})}),{page:i,pagecount:u.length>=Q0e?i+1:i,list:u}}async function $ot(e,t){let r=Array.isArray(e.body.id)?e.body.id:[e.body.id],n=[];for(let s of r){let i=await ay(`${iy}/api.php/v3.vod/androiddetail2?vod_id=${s}`);if(!i||!i.data)continue;let a=i.data,c=Not(a.urls||[]).map(u=>u.key+"$"+u.url).join("#");n.push({vod_id:String(a.id||""),vod_name:a.name||"",vod_pic:a.pic||"",vod_remarks:a.updateInfo?"\u66F4\u65B0\u81F3"+a.updateInfo:"",vod_actor:a.actor||"",vod_director:a.director||"",vod_content:a.content||"",vod_play_from:"\u5C0F\u82F9\u679C",vod_play_url:c||""})}return{list:n}}async function Lot(e,t){let r=e.body.id;return r.startsWith("http")||(r="http://s.xpgtv.net/m3u8/"+r+".m3u8"),{parse:0,url:r,header:Rot}}async function Mot(e,t){let r=e.body.page,n=e.body.wd,s=r||1;s==0&&(s=1);let i=await ay(`${iy}/api.php/v2.vod/androidsearch10086?page=${s}&wd=${encodeURIComponent(n)}`),a=[];return i&&i.data&&Array.isArray(i.data)&&i.data.forEach(o=>{let c=o.updateInfo?"\u66F4\u65B0\u81F3"+o.updateInfo:o.score?String(o.score):"";a.push({vod_id:String(o.id||""),vod_name:o.name||"",vod_pic:o.pic||"",vod_remarks:c})}),{page:s,pagecount:a.length>=Q0e?s+1:s,list:a}}async function Fot(e,t){try{let r=function(a){a.statusCode&&a.statusCode==500&&console.error(a)},n=e.server.prefix,s={},i=await e.server.inject().post(`${n}/init`);if(s.init=i.json(),r(i.json()),i=await e.server.inject().post(`${n}/home`),s.home=i.json(),r(i.json()),s.home.class&&s.home.class.length>0&&(i=await e.server.inject().post(`${n}/category`).payload({id:s.home.class[0].type_id,page:1}),s.category=i.json(),r(i.json()),s.category.list&&s.category.list.length>0&&(i=await e.server.inject().post(`${n}/detail`).payload({id:s.category.list[0].vod_id}),s.detail=i.json(),r(i.json()),s.detail.list&&s.detail.list.length>0))){s.play=[];for(let a of s.detail.list){let o=a.vod_play_from.split("$$$"),c=a.vod_play_url.split("$$$");for(let u=0;u<o.length;u++){let l=c[u].split("#");for(let d=0;d<l.length&&d<2;d++)i=await e.server.inject().post(`${n}/play`).payload({flag:o[u],id:l[d].split("$")[1]}),s.play.push(i.json())}}}return i=await e.server.inject().post(`${n}/search`).payload({wd:"\u7231",page:1}),s.search=i.json(),r(i.json()),s}catch(r){return console.error(r),t.code(500),{err:r.message,tip:"check debug console output"}}}var U0e={meta:{key:"xiaopingguo",name:"\u82F9\u679C",type:3},api:async e=>{e.post("/init",kot),e.post("/home",Dot),e.post("/homeVod",Pot),e.post("/category",Oot),e.post("/detail",$ot),e.post("/play",Lot),e.post("/search",Mot),e.get("/test",Fot)}};var z$=async e=>(await e.db.getObjectDefault("/sites",{}))?.list||e.config.sites.list,Qot=async(e,t)=>{await e.db.push("/sites/list",t)},Uot=async e=>{await e.db.delete("/sites/list")};async function G$(e){e.get("/list",async(t,r)=>{r.send({code:0,data:await z$(t.server)})}),e.put("/list",async(t,r)=>{await Qot(t.server,t.body.list),r.send({code:0})}),e.delete("/list",async(t,r)=>{await Uot(t.server),r.send({code:0})})}var c2=async e=>await e.db.getObjectDefault("/danmu")||e.config.danmu,qot=async(e,t)=>{await e.db.push("/danmu",t)},jot=async e=>{await e.db.delete("/danmu")},Hot=3,V$=(e,t=Hot)=>{messageToDart({action:"toast",opt:{message:e,duration:t}})},zot=e=>{try{let t=new URL(e);return t.searchParams.set("format","json"),t.toString()}catch{return null}},Got=e=>Array.isArray(e?.comments)?e.comments.length:Array.isArray(e)?e.length:0;async function K$(e){e.get("/setting",async(t,r)=>{r.send({code:0,data:await c2(t.server)})}),e.put("/setting",async(t,r)=>{await qot(t.server,t.body),r.send({code:0})}),e.delete("/setting",async(t,r)=>{await jot(t.server),r.send({code:0})}),e.post("/push",async(t,r)=>{let n=t.body||{},s=n.url,i=n.sourceName||"\u5F39\u5E55\u6E90",a=n.previewUrl||zot(s);if(!s){r.code(400).send({code:1,message:"Missing push url"});return}a&&(async()=>{try{let o=await _e.get(a,{timeout:1e4}),c=Got(o.data);c>0?V$(`\u901A\u8FC7 ${i} - \u89E3\u6790\u5230 ${c} \u6761\u5F39\u5E55`):V$("\u6CA1\u6709\u627E\u5230\u5F39\u5E55\u5466~")}catch(o){console.error("Manual danmu preview failed:",o),V$("\u6CA1\u6709\u627E\u5230\u5F39\u5E55\u5466~")}})(),messageToDart({action:"danmuPush",opt:{url:s}}),r.send({code:0})}),e.get("/fe",(t,r)=>{r.type("text/html").send(`
    <!DOCTYPE html>
    <html>
      <head>
        <meta charset="utf-8">
        <title>\u5F39\u5E55\u641C\u7D22</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://lib.baomitu.com/antd/5.25.0/reset.min.css">      </head>
      <body>
        <div id="app"></div>
        <script crossorigin src="https://lib.baomitu.com/react/18.2.0/umd/react.production.min.js"></script>
        <script crossorigin src="https://lib.baomitu.com/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
        <script crossorigin src="https://lib.baomitu.com/axios/0.26.0/axios.min.js"></script>
        <script crossorigin src="https://lib.baomitu.com/dayjs/1.10.8/dayjs.min.js"></script>
        <script crossorigin src="https://lib.baomitu.com/antd/5.25.0/antd.min.js"></script>
        <script>${globalThis.danmuBundle}</script>
      </body>
    </html>
    `)})}var Y$=["\u7F8E\u5267","\u97E9\u5267","\u65E5\u5267","\u53F0\u5267","\u6E2F\u5267","\u6E2F\u53F0\u5267","\u56FD\u4EA7\u5267","\u5927\u9646\u5267","\u5185\u5730\u5267","\u6CF0\u5267","\u82F1\u5267","\u7F8E\u5267\u7248","\u82F1\u5267\u7248","\u65E5\u5267\u7248","\u97E9\u5267\u7248","\u53F0\u5267\u7248","\u6E2F\u5267\u7248","\u6CF0\u5267\u7248","\u5F71\u540E","\u5F71\u5E1D","\u56FD\u5267","\u5FAE\u77ED\u5267","\u77ED\u5267","\u7535\u5F71","\u5267\u96C6","\u7EFC\u827A","\u72AF\u7F6A","\u52A8\u6F2B","\u52A8\u753B","\u7EAA\u5F55\u7247","\u77ED\u7247","\u8FDE\u7EED\u5267","\u7CFB\u5217\u5267","\u7F51\u7EDC\u5267","\u7535\u89C6\u5267"],Vot=["\u5F71\u7247","\u7247\u5B50","\u7247\u82B1","\u7247\u6BB5","\u9884\u544A","\u9884\u544A\u7247","\u82B1\u7D6E","\u5E55\u540E","\u8BBF\u8C08","\u7279\u522B\u7BC7","\u756A\u5916\u7BC7","OVA","OAD","SP","TV\u7248","\u5267\u573A\u7248","\u7535\u5F71\u7248","\u5F71\u7248","\u5267\u7248","\u56FD\u8BED\u7248","\u666E\u901A\u8BDD\u7248","\u7CA4\u8BED\u7248","\u95FD\u5357\u8BED\u7248","\u5BA2\u5BB6\u8BED\u7248","\u5434\u8BED\u7248","\u5DDD\u8BED\u7248","\u6E58\u8BED\u7248","\u8D63\u8BED\u7248","\u7CA4\u8BED\u914D\u97F3\u7248","\u56FD\u8BED\u914D\u97F3\u7248","\u666E\u901A\u8BDD\u914D\u97F3\u7248","\u65B9\u8A00\u7248","\u539F\u7248\u914D\u97F3","\u539F\u97F3\u7248","\u53F0\u8BED\u7248","\u7CA4\u8BED\u4E2D\u5B57\u7248","\u56FD\u8BED\u4E2D\u5B57\u7248","\u666E\u901A\u8BDD\u4E2D\u5B57\u7248","\u7CA4\u8BED\u539F\u58F0\u7248","\u56FD\u8BED\u539F\u58F0\u7248","\u666E\u901A\u8BDD\u539F\u58F0\u7248","\u7CA4\u8BED\u5185\u5D4C\u5B57\u5E55\u7248","\u56FD\u8BED\u5185\u5D4C\u5B57\u5E55\u7248","\u666E\u901A\u8BDD\u5185\u5D4C\u5B57\u5E55\u7248","\u52A8\u753B\u7248","\u771F\u4EBA\u7248","\u6539\u7F16\u7248","\u91CD\u5236\u7248","\u4FEE\u590D\u7248","\u52A0\u957F\u7248","\u672A\u5220\u51CF\u7248","\u5B8C\u6574\u7248","\u5BFC\u6F14\u526A\u8F91\u7248","\u7EC8\u6781\u7248","\u7279\u522B\u7248","\u9650\u5B9A\u7248","\u6536\u85CF\u7248","\u8C6A\u534E\u7248","\u5178\u85CF\u7248","\u9AD8\u6E05\u7248","\u8D85\u6E05\u7248","\u6807\u6E05\u7248","HD\u7248","UHD\u7248","4K\u7248","\u84DD\u5149\u7248","DVD\u7248","BD\u7248","WEB\u7248","TVrip","BDrip","DVDrip","HDrip","WEB-DL","HDTV","DVDRip","BRRip","HDRip","BluRay","TS","TC","CAM","\u62A2\u5148\u7248","\u67AA\u7248","\u5077\u62CD\u7248","\u6CC4\u9732\u7248","\u62A2\u5148\u770B","\u6B63\u7247","\u6B63\u7247\u7247\u6BB5","\u6B63\u7247\u7CBE\u534E","\u82B1\u7D6E\u96C6\u9526","\u5E55\u540E\u82B1\u7D6E","\u5236\u4F5C\u7279\u8F91","\u8BBF\u8C08\u5F55","\u9996\u6620\u793C","\u7EA2\u6BEF\u79C0","\u8DEF\u6F14","\u53D1\u5E03\u4F1A","\u9884\u544A\u7247\u5408\u96C6","\u9884\u544A\u7247\u82B1\u7D6E","\u7247\u82B1\u9884\u544A","\u7CBE\u5F69\u7247\u6BB5","\u7CBE\u5F69\u96C6\u9526","\u7CBE\u9009\u7247\u6BB5","\u9AD8\u80FD\u7247\u6BB5","\u9AD8\u5149\u65F6\u523B","\u526A\u8F91\u7248","\u6DF7\u526A","MV","\u4E3B\u9898\u66F2","\u63D2\u66F2","\u7247\u5C3E\u66F2","\u914D\u4E50","\u539F\u58F0","OST","\u539F\u58F0\u5E26","\u539F\u58F0\u5927\u789F","\u97F3\u4E50\u96C6","\u97F3\u4E50\u4F1A","\u6F14\u5531","Live","Live\u7248","\u73B0\u573A\u7248","\u73B0\u573A\u5F55\u5236","\u821E\u53F0\u7248","\u821E\u53F0\u5267","\u8BDD\u5267","\u6B4C\u5267","\u821E\u5267","\u620F\u66F2","\u4EAC\u5267","\u8D8A\u5267","\u7CA4\u5267","\u8BC4\u5267","\u9EC4\u6885\u620F","\u4E8C\u4EBA\u8F6C","\u76F8\u58F0","\u5C0F\u54C1","\u7EFC\u827A\u79C0","\u771F\u4EBA\u79C0","\u8131\u53E3\u79C0","\u8BBF\u8C08\u8282\u76EE","\u7EAA\u5F55\u7247\u7CFB\u5217","\u4E13\u9898\u7247","\u79D1\u6559\u7247","\u52A8\u753B\u7247","\u52A8\u6F2B\u7247","\u52A8\u753B\u77ED\u7247","\u52A8\u753B\u7535\u5F71","\u52A8\u753B\u7CFB\u5217","\u52A8\u753B\u5267\u96C6","\u52A8\u753B\u8FDE\u7EED\u5267","\u52A8\u753BOVA","\u52A8\u753BOAD","\u52A8\u753BSP","\u52A8\u753B\u7279\u5178","\u52A8\u753B\u5408\u96C6","\u52A8\u753B\u7CBE\u9009","\u7535\u5F71\u5408\u96C6","\u5F71\u7247\u5408\u96C6","\u7CFB\u5217\u5408\u96C6","\u5408\u96C6\u7248","\u5957\u88C5\u7248","\u5957\u88C5\u5408\u96C6","\u5168\u96C6","\u5168\u7CFB\u5217","\u5168\u5B63","\u7B2C\u4E00\u5B63","\u7B2C\u4E8C\u5B63","\u7B2C\u4E09\u5B63","\u7B2C\u56DB\u5B63","\u7B2C\u4E94\u5B63","\u7B2C\u516D\u5B63","\u7B2C\u4E03\u5B63","\u7B2C\u516B\u5B63","\u7B2C\u4E5D\u5B63","\u7B2C\u5341\u5B63","\u66F4\u65B0\u4E2D","\u5B8C\u7ED3","\u5B8C\u7ED3\u7BC7","\u5B8C\u7ED3\u5B63","\u6700\u7EC8\u5B63","\u6700\u7EC8\u7AE0","\u7EC8\u7AE0","\u7EC8\u7BC7","\u5927\u7ED3\u5C40","\u5927\u7D50\u5C40","\u7279\u522B\u7BC7\u5B8C\u7ED3","\u756A\u5916\u5B8C\u7ED3","OVA\u5B8C\u7ED3","OAD\u5B8C\u7ED3","SP\u5B8C\u7ED3","\u5168\u5267\u7EC8","\u5B8C\u7ED3\u6492\u82B1","\u5B8C\u7ED3\u7EAA\u5FF5","\u5B8C\u7ED3\u7279\u8F91","\u5B8C\u7ED3\u8BBF\u8C08","\u5B8C\u7ED3\u82B1\u7D6E","\u5B8C\u7ED3\u5408\u96C6","\u5B8C\u7ED3\u7BC7\u5408\u96C6","\u5B8C\u7ED3\u7EAA\u5FF5\u5408\u96C6","\u5B8C\u7ED3\u7279\u8F91\u5408\u96C6","\u5B8C\u7ED3\u8BBF\u8C08\u5408\u96C6","\u5B8C\u7ED3\u82B1\u7D6E\u5408\u96C6","\u5B8C\u7ED3\u7EAA\u5FF5\u7279\u8F91","\u5B8C\u7ED3\u7EAA\u5FF5\u8BBF\u8C08","\u5B8C\u7ED3\u7EAA\u5FF5\u82B1\u7D6E","\u5B8C\u7ED3\u7EAA\u5FF5\u5408\u96C6\u7279\u8F91","\u5B8C\u7ED3\u7EAA\u5FF5\u5408\u96C6\u8BBF\u8C08","\u5B8C\u7ED3\u7EAA\u5FF5\u5408\u96C6\u82B1\u7D6E","\u5B8C\u7ED3\u7EAA\u5FF5\u7279\u8F91\u8BBF\u8C08","\u5B8C\u7ED3\u7EAA\u5FF5\u7279\u8F91\u82B1\u7D6E","\u5B8C\u7ED3\u7EAA\u5FF5\u8BBF\u8C08\u82B1\u7D6E","\u5B8C\u7ED3\u7EAA\u5FF5\u5408\u96C6\u7279\u8F91\u8BBF\u8C08\u82B1\u7D6E","BD","BDRIP","WEB-DL","HDRip","DVDRip","BDRip","BRRip","Rip","BluRay","IMAX","CAM","HD","HDR","UHD","4K","1080p","720p","2160p","480p","120fps","60fps","x264","x265","H264","HEVC","AAC","dts","ddp","truehd","10bit","8bit","5.1","7.1","\u56FD\u8BED","\u7CA4\u8BED","\u82F1\u8BED","\u65E5\u8BED","\u97E9\u8BED","\u6CF0\u8BED","\u6CD5\u8BED","\u5FB7\u8BED","\u897F\u73ED\u7259\u8BED","\u4FC4\u8BED","\u8461\u8404\u7259\u8BED","\u610F\u5927\u5229\u8BED","\u81FB\u5F69","\u4E2D\u5B57","\u7B80\u4E2D","\u7E41\u4E2D","\u7B80\u7E41\u4E2D\u5B57","\u4E2D\u82F1\u53CC\u5B57","\u5185\u5D4C","\u5185\u5C01","\u675C\u6BD4\u5168\u666F\u58F0","\u675C\u6BD4\u97F3\u6548","\u65E0\u6C34\u5370","\u5B8C\u6574\u7248","\u539F\u58F0\u7248","\u89E3\u8BF4\u7248","\u9884\u544A\u7247","\u672A\u5220\u51CF\u7248","\u52A0\u957F\u7248","\u84DD\u5149","\u62A2\u5148\u7248","TC\u7248","\u62A2\u5148","TC","\u4E24\u5B63\u5168","\u5168\u5B63","\u5168\u96C6","DV","\u538B\u5236","HQ","\u5E27","\u7535\u5F71\u7248","\u8C46\u74E3","\u66F4\u65B0","\u66F4\u65B0\u5230","\u63A8\u8350","\u52A8\u4F5C","\u5192\u9669","\u7231\u60C5","\u79D1\u5E7B","\u60AC\u7591","\u60CA\u609A","\u6050\u6016","\u559C\u5267","\u60B2\u5267","\u5267\u60C5","\u5947\u5E7B","\u72AF\u7F6A","\u6218\u4E89","\u5386\u53F2","\u4F20\u8BB0","\u97F3\u4E50","\u6B4C\u821E","\u5BB6\u5EAD","\u513F\u7AE5","\u4F53\u80B2","\u707E\u96BE","\u4F26\u7406","\u77ED\u7247","\u5FAE\u7535\u5F71","\u9AD8\u6E05","\u8D85\u6E05","\u6807\u6E05","\u62A2\u9C9C\u770B","\u9996\u64AD","\u72EC\u64AD","\u70ED\u64AD","\u8FDE\u8F7D\u4E2D","\u6700\u65B0","\u7ECF\u5178","\u70ED\u95E8","\u83B7\u5956","\u53E3\u7891","\u597D\u8BC4","\u9AD8\u5206","\u8C46\u74E3\u9AD8\u5206","IMDb\u9AD8\u5206","\u672A\u5206\u7EA7","\u9650\u5236\u7EA7","\u5BFC\u6F14\u526A\u8F91","\u52A0\u957F","\u7279\u522B\u52A0\u957F","\u7EC8\u6781\u526A\u8F91","\u6536\u85CF","\u8C6A\u534E","\u7EAA\u5FF5","\u9650\u5B9A","\u91CD\u6620","\u4FEE\u590D","\u6570\u7801\u4FEE\u590D","\u91CD\u5236","\u84DD\u5149\u4FEE\u590D","\u91CD\u5236\u9AD8\u6E05","\u9AD8\u6E05\u91CD\u5236","\u91CD\u7F16","\u91CD\u526A","\u914D\u97F3","\u8BD1\u5236","\u539F\u58F0","\u53CC\u8BED","\u591A\u8BED","\u591A\u58F0\u9053","\u73AF\u7ED5\u58F0","\u5168\u666F\u58F0","3D","VR","\u5168\u666F","360\u5EA6","8K","\u539F\u753B","\u65E0\u635F","\u6709\u635F","\u538B\u7F29","\u672A\u538B\u7F29","\u9AD8\u7801\u7387","\u4F4E\u7801\u7387","\u91CD\u7F16\u7801","\u591A\u5B57\u5E55","\u591A\u97F3\u8F68","\u53CC\u97F3\u8F68","\u591A\u7248\u672C","\u5408\u96C6","\u5957\u88C5","\u7CFB\u5217","\u5B8C\u7ED3\u7248","\u6700\u7EC8\u5B63","\u6700\u7EC8\u7AE0","\u7EC8\u7AE0","\u5927\u7ED3\u5C40","\u7279\u522B\u7BC7","\u756A\u5916\u7BC7","OVA","OAD","SP","\u5267\u573A\u7248","\u7535\u5F71\u7248","\u5F71\u7248","\u5267\u7248","\u52A8\u753B\u7248","\u771F\u4EBA\u7248","\u6539\u7F16\u7248","\u539F\u521B","\u884D\u751F","\u756A\u5916","\u7EED\u96C6","\u524D\u4F20","\u540E\u4F20","\u91CD\u542F","\u7FFB\u62CD","\u91CD\u62CD","\u81F4\u656C","\u7EAA\u5FF5","\u732E\u793C","\u8D3A\u5C81","\u6691\u671F\u6863","\u56FD\u5E86\u6863","\u8D3A\u5C81\u6863","\u6625\u8282\u6863","\u60C5\u4EBA\u8282\u6863","\u4E2D\u79CB\u6863","\u6863\u671F","\u4E0A\u6620","\u5B9A\u6863","\u9996\u6620","\u516C\u6620","\u4E0A\u6620\u65F6\u95F4","\u4E0A\u6620\u65E5\u671F","\u7968\u623F","\u7968\u623F\u51A0\u519B","\u7968\u623F\u699C","\u53E3\u7891\u699C","\u8BC4\u5206\u699C","\u6392\u884C\u699C","\u699C\u5355","\u699C\u5355\u7B2C\u4E00","\u70ED\u95E8\u699C","\u70ED\u641C","\u70ED\u8BAE","\u8BDD\u9898","\u70ED\u8BAE\u8BDD\u9898","\u70ED\u95E8\u8BDD\u9898","\u8BA8\u8BBA\u5EA6","\u5173\u6CE8\u5EA6","\u70ED\u5EA6","\u70ED\u5EA6\u699C","\u70ED\u95E8\u63A8\u8350","\u7CBE\u9009","\u529B\u8350","\u5F3A\u70C8\u63A8\u8350","\u5FC5\u770B","\u4E0D\u53EF\u9519\u8FC7","\u7ECF\u5178\u4E4B\u4F5C","\u795E\u4F5C","\u4F73\u4F5C","\u9AD8\u5206\u4F73\u4F5C","\u9AD8\u5206\u795E\u4F5C","\u70C2\u7247","\u5DEE\u8BC4","\u4F4E\u5206","\u53E3\u7891\u7206\u68DA","\u53E3\u7891\u6251\u8857","\u53E3\u7891\u4E24\u6781","\u53E3\u7891\u5206\u5316","\u4E89\u8BAE","\u70ED\u8BAE\u4E0D\u65AD","\u5907\u53D7\u5173\u6CE8","\u4E07\u4F17\u671F\u5F85","\u671F\u5F85\u5DF2\u4E45","\u4E07\u4F17\u77A9\u76EE","\u5E74\u5EA6\u6700\u4F73","\u5E74\u5EA6\u6700\u5DEE","\u5E74\u5EA6\u4E4B\u4F5C","\u5E74\u5EA6\u9ED1\u9A6C","\u5E74\u5EA6\u60CA\u559C","\u5E74\u5EA6\u5931\u671B","\u538B\u8F74\u4E4B\u4F5C","\u6536\u5B98\u4E4B\u4F5C","\u6536\u5B98","\u6536\u5B98\u5B63","\u6536\u5B98\u6218","\u5927\u7ED3\u5C40\u524D\u7BC7","\u5927\u7ED3\u5C40\u540E\u7BC7","\u6700\u7EC8\u56DE","\u6700\u7EC8\u8BDD","\u6700\u7EC8\u7AE0\u524D\u7BC7","\u6700\u7EC8\u7AE0\u540E\u7BC7"],Kot=[...Y$,...Vot],q0e=new RegExp(Kot.join("|"),"ig"),Yot=new RegExp(Y$.join("|"),"ig");function z0e(e){if(!e||!e.trim())return"";let t=e.trim();t=t.replace(//g,""),t=t.replace(/-/g," "),t=t.replace(Yot,""),t=t.replace(/\s+/g," ").trim();let r=t.match(/^[\u4e00-\u9fa5]+\d+(?=|\s|$)/);if(r)return r[0];let n=t.match(/^[\u4e00-\u9fa5]+[\u4e00-\u9fa50-9]+\s*(?=\(\d{4}\))/);if(n)return n[0];let s=t.match(/^[\u4e00-\u9fa5]+[\u4e00-\u9fa5 ,.]+\s*(?=\(||\s+\d{4})/),i=s?s[0].trim():"",a=!1,o=t.match(/(.+?)/);if(o)t=o[1],a=!0;else{let l=new RegExp(`\u3010((?!${Y$.join("|")})[\u4E00-\u9FA5]{2,}[^/]+?)\u3011`,"i"),d=t.match(l);d&&(t=d[1],a=!0)}!a&&i&&(t=i);let c=[[/.*-/g,""],[/\b\d{4}\b/g,""],[/(?<!^)\[.*?\]|\{.*?\}|.*?|.*?/g," "],[/\b\d+(\.\d+)?[GMK]B?\b/gi,""],[q0e,""],[/\d+(\.\d+)?/g,""],[/\b\d+(?=fps|)/g,""],[/\b[a-zA-Z]\b/g,""],[/(?<![\u4e00-\u9fa5])\b\d+\b(?![\u4e00-\u9fa5])/g,""],[/[^a-zA-Z0-9\u4e00-\u9fa5 ]/g,""],[/\s+/g," "]];for(let l of c)t=t.replace(l[0],l[1]);t=t.trim(),t.includes(" ")&&(t=t.substring(0,t.indexOf(" "))),!a&&i&&(t=t.replace(/\s/g,""));let u=e.match(/([\u4e00-\u9fa5]{2,})\s*$/);if(u){let l=u[1];(t.length<2||/\d+/.test(t))&&(t=l)}if(!t){let l=e.match(/\[(.*?)\]/);l&&(t=l[1].trim(),t=t.replace(q0e,"").replace(/\d+/g,"").replace(/\s+/g," ").trim())}return t.trim()}var j0e={\u96F6:0,\u4E00:1,\u4E8C:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6,\u4E03:7,\u516B:8,\u4E5D:9},H0e={\u5341:10,\u767E:100,\u5343:1e3,\u4E07:1e4,\u4EBF:1e8};function G0e(e){if(!e)return-1;let t=0,r=0,n=0,s=!1;for(let i=0;i<e.length;i++){let a=e[i];if(j0e.hasOwnProperty(a))n=j0e[a];else if(H0e.hasOwnProperty(a)){let o=H0e[a];o===10?(n===0&&(n=1),r+=n*o,n=0):o===1e4||o===1e8?(r+=n,t+=r*o,r=0,n=0,s=!0):(r+=(n||1)*o,n=0)}else return-1}return s||(t+=r),t+=n,e.startsWith("\u5341")&&t<20&&(t=10+t%10),t}function Ou(e){return e&&e.replace(/([]+)|(\d+)/g,(t,r,n)=>{if(r){let s=G0e(r);return s!==-1?String(s):t}else if(n)return String(parseInt(n,10));return t})}function Wot(e){let t=e;return t=t.replace(/[()[\]{}]\s*([])\s*[()[\]{}]/g,"$1"),t=t.replace(/(\[|\{|\|).*?(\]|\}||)/g," "),t=t.replace(/\d+\s*(fps||frames?|hz|)/gi," "),t=t.replace(/\b(\d+(p|k|i)|4k|8k|uhd|hd|fhd|qhd|2160p|1440p|1080p|720p|480p|360p)\b/gi," "),t=t.replace(/\b(19|20)\d{2}\b/g," "),t=t.replace(/\b(?:dts|ddp|aac|ac3|eac3|truehd|atmos)\d+(?:\.\d+)?\b|\b\d+\.\d+\b/gi," "),t=t.replace(/\b(8bit|10bit|12bit)\b/gi," "),t=t.replace(/\b(hdr|hdr10|hdr10\+|dolby vision|dv|hlg)\b/gi," "),t=t.replace(/\b(x264|x265|h\.264|h\.265|h264|h265|hevc|mpeg4|av1|vp9)\b/gi," "),t=t.replace(/\b(web-dl|bluray|bdrip|hdrip|dvdrip|brrip|hdtv|dvdr|cam|ts|tc|r5|scr)\b/gi," "),t=t.replace(/\b(hq|sd|hd|fhd|uhd|imax|superbit|remux|extended|uncut|directors cut|dc|special edition|se)\b/gi," "),t=t.replace(/\b(|||||||||||||||||||||hdr)\b/gi," "),t=t.replace(/[\-\_.,()]+/g," "),t.replace(/\s+/g," ").trim()}function Jot(e){let t=e.replace(/(\[|\{|\|).*?(\]|\}||)/g," ");if(/s\d+e\d+/i.test(t))return"-1";let r=t.match(/[\u4e00-\u9fa5\-\_\.\s]+(0*\d{1,8})(?:[\-\_\.\s]|$)/);if(r){let n=r[1],s=parseInt(n,10);if(s>0&&!(s>=1900&&s<=2100))return Ou(n)}if(r=t.trim().match(/^0*\d{1,8}$/),r){let n=r[0],s=parseInt(n,10);if(s>0&&!(s>=1900&&s<=2100))return Ou(n)}return"-1"}function Xot(e){let t="\u671F|\u5B63",r="\u4E0A\u4E2D\u4E0B",n="\u96C6\u8A71\u8BDD",s=new RegExp(`(\u7B2C?)(0*(d{1,8}|[\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D\u5341\u767E\u5343\u4E07\u4EBF]+))((?:${t})[${r}]?[\uFF08(]?[${r}]?[)\uFF09]?)`),i=e.match(s);if(i){let o=i[1],c=i[2],u=i[4].replace(/[()]/g,"");return c=Ou(c),o+c+u}let a=Array.from(e.matchAll(/(?:s\d+.*?e|e)(\d{1,8})(?!\d)/gi));if(a.length>0)return Ou(a[a.length-1][1]);if(s=new RegExp(`\u7B2C([\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D\u5341\u767E\u5343\u4E07\u4EBF]+)[${n}]`),i=e.match(s),i){let o=G0e(i[1]);return o>0?String(o):"-1"}return s=new RegExp(`\u7B2C(d{1,8})[${n}]`),i=e.match(s),i||(i=e.match(/ep(\d{1,8})/i),i)||(s=new RegExp(`(d{1,8})[${n}]`),i=e.match(s),i)?Ou(i[1]):"-1"}function Zot(e){let t="a-zA-Z\xC0-\u017F",r=new RegExp(`(?<![${t}d])0*(\\d{1,8})(?![${t}d])`,"gu"),n=e.match(r);if(n)for(let s of n){let i=parseInt(s,10);if(!(i>=1900&&i<=2100))return Ou(s)}return"-1"}function V0e(e){if(!e)return"-1";let t=e,r=t.lastIndexOf(".");r>0&&(t=t.substring(0,r));let n=Wot(t),s=Xot(n);if(s!=="-1")return s;let i=Jot(t);return i!=="-1"?i:Zot(n)}var W$=async e=>(await e.db.getObjectDefault("/t4",{}))?.list||e.config.t4?.list||[],ect=async(e,t)=>{await e.db.push("/t4/list",t)},tct=async e=>{await e.db.delete("/t4/list")};async function J$(e){e.get("/list",async(t,r)=>{r.send({code:0,data:await W$(t.server)})}),e.put("/list",async(t,r)=>{await ect(t.server,t.body),r.send({code:0})}),e.delete("/list",async(t,r)=>{await tct(t.server),r.send({code:0})})}function X$(e,t){let r=_e.create({baseURL:t});function n(){return{}}async function s(){try{let{data:u}=await r.get("",{params:{filter:!0}});return u}catch(u){return console.warn(u),{class:[]}}}async function i(u){try{let{data:l}=await r.get("",{params:{ac:"detail",t:u.body.id,pg:u.body.page||1}});return l}catch(l){console.warn(l)}}async function a(u){try{let{data:l}=await r.get("",{params:{ac:"detail",ids:u.body.id}});return l}catch(l){console.warn(l)}}async function o(u){try{let{data:l}=await r.get("",{params:{play:u.body.id,flag:u.body.flag}});return!l.url&&!l.urls&&u.body.id.startsWith("http")?{url:u.body.id}:l}catch(l){console.warn(l)}}async function c(u){try{let{data:l}=await r.get("",{params:{ac:"list",wd:u.body.wd}});return l}catch(l){console.warn(l)}}return{meta:{key:e,name:e,type:3,t4:!0},api:async u=>{u.post("/init",n),u.post("/home",s),u.post("/category",i),u.post("/detail",a),u.post("/play",o),u.post("/search",c)}}}var Z$=async e=>(await e.db.getObjectDefault("/cms",{}))?.list||e.config.cms?.list||[],rct=async(e,t)=>{await e.db.push("/cms/list",t)},nct=async e=>{await e.db.delete("/cms/list")};async function e8(e){e.get("/list",async(t,r)=>{r.send({code:0,data:await Z$(t.server)})}),e.put("/list",async(t,r)=>{await rct(t.server,t.body),r.send({code:0})}),e.delete("/list",async(t,r)=>{await nct(t.server),r.send({code:0})})}function t8(e,t){let r=_e.create({baseURL:t});function n(){return{}}async function s(){try{let{data:u}=await r.get("",{params:{ac:"class"}});return u}catch(u){return console.warn(u),{class:[]}}}async function i(u){try{let{data:l}=await r.get("",{params:{ac:"detail",t:u.body.id,pg:u.body.page||1}});return l}catch(l){console.warn(l)}}async function a(u){try{let{data:l}=await r.get("",{params:{ac:"detail",ids:u.body.id}});return l}catch(l){console.warn(l)}}async function o(u){return{url:u.body.id}}async function c(u){try{let{data:l}=await r.get("",{params:{ac:"list",wd:u.body.wd}});return l}catch(l){console.warn(l)}}return{meta:{key:e,name:e,type:3,cms:!0},api:async u=>{u.post("/init",n),u.post("/home",s),u.post("/category",i),u.post("/detail",a),u.post("/play",o),u.post("/search",c)}}}var K0e=async e=>{let t=[N0e,g0e,Zpe,e0e,t0e,A0e,Ode,r0e,n0e,s0e,i0e,f0e,m0e,B0e,E0e,D0e,F0e,U0e,O0e,P0e,Xpe,k0e];return(await W$(e)).forEach(s=>{t.push(X$(s.name,s.address))}),(await Z$(e)).forEach(s=>{t.push(t8(s.name,s.address))}),t},Y0e="/spider",r8={};async function n8(e,{db:t,config:r}){(await K0e({db:t,config:r})).forEach(s=>{let i=Y0e+"/"+s.meta.key+"/"+s.meta.type;e.register(s.api,{prefix:i}),s.check?.(e),console.log("Register spider: "+i)}),e.register(async s=>{s.get("/check",async function(a,o){o.send({run:!s.stop})});let i=async()=>{let a={video:{sites:[]},read:{sites:[]},comic:{sites:[]},music:{sites:[]},pan:{sites:[]},color:s.config.color||[]};return(await K0e({db:t,config:r})).forEach(c=>{let u=Object.assign({},c.meta);u.api=Y0e+"/"+u.key+"/"+u.type,u.key="nodejs_"+u.key;let l=c.meta.type;l<10?a.video.sites.push(u):l>=10&&l<20?a.read.sites.push(u):l>=20&&l<30?a.comic.sites.push(u):l>=30&&l<40?a.music.sites.push(u):l>=40&&l<50&&a.pan.sites.push(u)}),a};s.get("/config",async function(a,o){let c=await i(),u=await z$(a.server),l=c.video.sites,d={},f={};l.forEach(p=>{f[p.key]=p});let h=[];u.forEach(p=>{d[p.key]=!0;let m=f[p.key];if(m&&p.enable){let A=typeof p.name=="string"?p.name.trim():"";h.push({...m,name:A||m.name})}}),l.forEach(p=>{d[p.key]||h.push(p)}),c.video.sites=h,c.video.danmuSearchUrl=`http://127.0.0.1:${a.server.address().port}/website/danmu/fe`,o.send(c)}),s.get("/full-config",i)}),e.get("/danmu-proxy",async(s,i)=>{try{let{name:a,episodeNumber:o,originalName:c}=s.query,u=await c2(s.server),l=u.debug||!1;l&&(console.log("=== \u5F39\u5E55\u5339\u914D\u8C03\u8BD5\u4FE1\u606F ==="),console.log("\u4F20\u5165\u53C2\u6570:"),console.log("  - \u89C6\u9891\u540D\u79F0:",a),console.log("  - \u539F\u59CB\u540D\u79F0:",c||"(\u672A\u63D0\u4F9B)"),console.log("  - \u96C6\u6570:",o),console.log("\u914D\u7F6E\u7684\u5F39\u5E55\u6E90\u6570\u91CF:",u.urls.length));let d=1,h=(c||a).match(/([\d]+)/);if(h){let _=h[1];d={\u4E00:1,\u4E8C:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6,\u4E03:7,\u516B:8,\u4E5D:9,\u5341:10}[_]||parseInt(_)||1,l&&console.log("\u68C0\u6D4B\u5230\u5B63\u6570\u4FE1\u606F:",`\u7B2C${d}\u5B63`)}let p=`S${d}`,m=!o||o==="0",A=a;!m&&o&&(A=`${a} ${p}E${o}`),l&&console.log("\u6784\u9020\u7684\u6587\u4EF6\u540D:",A);let g=u.urls.map(async _=>{try{l&&(console.log(`
\u6B63\u5728\u8BF7\u6C42\u5F39\u5E55\u6E90: ${_.name||_.address}`),console.log(`\u8BF7\u6C42URL: ${_.address}/api/v2/match`),console.log(`\u8BF7\u6C42\u6570\u636E: { fileName: "${A}" }`));let C=await _e.post(`${_.address}/api/v2/match`,{fileName:A},{headers:{"Content-Type":"application/json"},timeout:1e4});if(l&&(console.log(`
${_.name||_.address} \u8FD4\u56DE\u7ED3\u679C:`),console.log("  - \u5339\u914D\u6210\u529F:",C.data?.success),console.log("  - \u662F\u5426\u5339\u914D:",C.data?.isMatched)),C.data?.success&&C.data?.isMatched&&C.data?.matches?.length>0){let w=C.data.matches[0];return l&&(console.log("  - \u5339\u914D\u7ED3\u679C:"),console.log("    * \u96C6\u6570ID:",w.episodeId),console.log("    * \u96C6\u6570\u6807\u9898:",w.episodeTitle),console.log("    * \u52A8\u753B\u6807\u9898:",w.animeTitle)),{url:_,match:w,score:100}}else return l&&console.log("  - \u672A\u627E\u5230\u7CBE\u786E\u5339\u914D"),null}catch(C){return l&&(console.log(`
${_.name||_.address} \u8BF7\u6C42\u5931\u8D25:`),console.log("  - \u9519\u8BEF\u4FE1\u606F:",C.message),C.response&&(console.log("  - \u54CD\u5E94\u72B6\u6001\u7801:",C.response.status),console.log("  - \u54CD\u5E94\u6570\u636E:",JSON.stringify(C.response.data)))),null}}),y=(await Promise.all(g)).filter(_=>_!==null);l&&console.log(`
\u5339\u914D\u7ED3\u679C\u6C47\u603B: \u5171 ${y.length} \u4E2A\u6709\u6548\u7ED3\u679C`);let b=null;if(y.length>0){let _=y[0];l&&(console.log("\u9009\u62E9\u7684\u5F39\u5E55\u6E90:",_.url.name||_.url.address),console.log("\u9009\u62E9\u7684\u96C6\u6570:",_.match.episodeTitle)),b={url:`${_.url.address}/api/v2/comment/${_.match.episodeId}?withRelated=true&chConvert=1`,sourceName:_.url.name||"\u5F39\u5E55\u6E90",episodeTitle:_.match.episodeTitle},messageToDart({action:"toast",opt:{message:`\u5339\u914D\u5230 ${b.episodeTitle} - \u5F39\u5E55\u89E3\u6790\u4E2D......`,duration:3}})}else l&&console.log(`
\u6240\u6709\u5F39\u5E55\u6E90\u5747\u672A\u5339\u914D\u6210\u529F`);if(b){l&&(console.log(`
=== \u8BF7\u6C42\u5F39\u5E55\u6570\u636E ===`),console.log("\u5F39\u5E55URL:",b.url));let _=await _e.get(b.url,{timeout:1e4});l&&(console.log("\u5F39\u5E55\u54CD\u5E94\u72B6\u6001:",_.status),console.log("\u5F39\u5E55\u6570\u636E:",_.data?.comments?.length||0,"\u6761"));let C=`<?xml version="1.0" encoding="UTF-8"?>
<i>
`,w=0;if(_.data?.comments?.length>0){for(let S of _.data.comments)if(S.p&&S.m){let T=S.m.trim();if(T){let R=T.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");C+=`    <d p="${S.p}">${R}</d>
`,w++}}}C+="</i>",l&&(console.log("\u8F6C\u6362\u540E\u7684\u5F39\u5E55\u6570\u91CF:",w),console.log("XML\u6570\u636E\u5927\u5C0F:",C.length,"\u5B57\u8282"),console.log("XML\u6570\u636E\u9884\u89C8:",C.substring(0,500)),console.log(`=== \u5F39\u5E55\u5339\u914D\u5B8C\u6210 ===
`)),messageToDart({action:"toast",opt:{message:`\u901A\u8FC7 ${b.sourceName} - \u89E3\u6790\u5230 ${w} \u6761\u5F39\u5E55`,duration:3}}),i.header("Content-Type","application/xml"),i.send(C)}else messageToDart({action:"toast",opt:{message:"\u6CA1\u6709\u627E\u5230\u5F39\u5E55\u5466~",duration:3}}),i.header("Content-Type","application/xml"),i.send('<?xml version="1.0" encoding="UTF-8"?><i/>')}catch(a){console.error(`
=== \u5F39\u5E55\u5339\u914D\u53D1\u751F\u9519\u8BEF ===`),console.error("\u9519\u8BEF\u7C7B\u578B:",a.name),console.error("\u9519\u8BEF\u4FE1\u606F:",a.message),console.error("\u9519\u8BEF\u5806\u6808:",a.stack),console.error(`=========================
`),messageToDart({action:"toast",opt:{message:"\u6CA1\u6709\u627E\u5230\u5F39\u5E55\u5466~",duration:2}}),i.code(500).send({error:"Failed to fetch danmu content"})}}),e.addHook("onSend",(s,i,a,o)=>{if(i.sent||i.raw?.headersSent||!s.url.endsWith("/detail")&&!s.url.endsWith("/play"))return o(null,a);let c=typeof a=="string"?a:Buffer.isBuffer(a)?a.toString():null;if(!c)return o(null,a);c2(s.server).then(u=>{if(!u?.autoPush)return o(null,a);try{if(s.url.endsWith("/detail")){let d=JSON.parse(c).list[0];r8={};let f=d.vod_play_from.split("$$$")||[];return d.vod_play_url.split("$$$").filter(Boolean).forEach((h,p)=>{h.split("#").forEach(m=>{let[A,g]=m.split("$");r8[`${f[p]}_${g}`]={name:z0e(d.vod_name),originalName:d.vod_name,episodeNumber:V0e(A)}})}),o(null,a)}if(s.url.endsWith("/play")){let l=JSON.parse(c);if((l.url||l.url?.length||l.urls?.length)&&!l?.extra?.danmaku){let d=`${s.body.flag}_${s.body.id}`,f=r8[d];if(f){l.extra||(l.extra={});let h=new URL(`http://127.0.0.1:${s.server.address().port}/danmu-proxy`);return h.searchParams.set("name",f.name),h.searchParams.set("episodeNumber",f.episodeNumber),f.originalName&&h.searchParams.set("originalName",f.originalName),l.extra.danmaku=h.toString(),o(null,JSON.stringify(l))}}}}catch(l){console.error(l)}return o(null,a)}).catch(u=>(console.error(u),o(null,a)))})}var E2=ke(fhe(),1);var hhe=ke(qp(),1),cy=ke(Hs(),1);var m2="Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.81 Safari/537.36 SE 2.X MetaSr 1.0",d0={NEW:"NEW",SCANNED:"SCANNED",CONFIRMED:"CONFIRMED",EXPIRED:"EXPIRED",CANCELED:"CANCELED"},phe={encode(e,t=3e5){let r={data:e,expireTime:Date.now()+t};return Buffer.from(JSON.stringify(r)).toString("base64url")},decode(e){try{if(!e)return null;let t=JSON.parse(Buffer.from(e,"base64url").toString());return Date.now()>t.expireTime?null:t.data}catch{return null}}},bct=async e=>{let t=cy.default.enc.Hex.stringify(cy.default.MD5(e.config.quark.cookie)).toString();return(await e.db.getObjectDefault("/quark",{}))[t]??""},Ect=async(e,t)=>{let r=cy.default.enc.Hex.stringify(cy.default.MD5(e.config.quark.cookie)).toString();await e.db.push(`/quark/${r}`,t)};async function x8(e){e.get("/qrcode",async(r,n)=>{try{let s=await _e.get("https://uop.quark.cn/cas/ajax/getTokenForQrcodeLogin?client_id=532&v=1.2",{headers:{"User-Agent":m2}}),i=s.data.data.members.token,a=Ga(s.headers["set-cookie"]),o=phe.encode({token:i,cookies:a}),c="https://su.quark.cn/4_eMHBJ?token="+i+"&client_id=532&ssb=weblogin&uc_param_str=&uc_biz_str=S%3Acustom%7COPT%3ASAREA%400%7COPT%3AIMMERSIVE%401%7COPT%3ABACK_BTN_STYLE%400",u=await hhe.default.toBuffer(c,{width:300,height:300});n.header("X-Session-Key",o),n.send(u)}catch(s){console.error("\u5938\u514B\u4E8C\u7EF4\u7801\u751F\u6210\u5931\u8D25:",s),n.status(500).send({code:-1,message:"\u4E8C\u7EF4\u7801\u751F\u6210\u5931\u8D25"})}}),e.post("/check-status",async(r,n)=>{let{sessionKey:s}=r.body,i=phe.decode(s);if(!i)return n.send({code:0,data:{status:d0.EXPIRED}});let{token:a,cookies:o}=i;try{let c=await _e.get(`https://uop.quark.cn/cas/ajax/getServiceTicketByQrcodeToken?client_id=532&v=1.2&token=${a}`,{headers:{"User-Agent":m2}});if(c.data.status===2e6){let u=await t(c.data.data.members.service_ticket,o);n.send({code:0,data:{status:d0.CONFIRMED,cookie:u}})}else c.data.status===50004002?n.send({code:0,data:{status:d0.EXPIRED}}):c.data.status===50004001?n.send({code:0,data:{status:d0.NEW}}):n.send({code:0,data:{status:d0.NEW}})}catch(c){console.error("\u5938\u514B\u72B6\u6001\u68C0\u67E5\u5931\u8D25:",c),n.send({code:0,data:{status:d0.NEW}})}});async function t(r,n){let s=[...n],i=await _e.get(`https://pan.quark.cn/account/info?st=${r}&fr=pc&platform=pc`,{headers:{"User-Agent":m2,Cookie:s.join("")}});i.headers["set-cookie"]&&(s=s.concat(Ga(i.headers["set-cookie"])));let a=await _e.get("https://drive-pc.quark.cn/1/clouddrive/share/sharepage/dir?pr=ucpro&fr=pc&uc_param_str=&aver=1",{headers:{"User-Agent":m2,Cookie:s.join("")}});return a.headers["set-cookie"]&&(s=s.concat(Ga(a.headers["set-cookie"]))),s.join("")}e.post("/cookie",(r,n)=>{n.send({code:-1,message:"\u8BF7\u4F7F\u7528 /check-status \u63A5\u53E3"})}),e.get("/cookie",async(r,n)=>{n.send({code:0,data:await bct(r.server)})}),e.put("/cookie",async(r,n)=>{await Ect(r.server,r.body.cookie),n.send({code:0})})}var uy=ke(Hs(),1);var _d={NEW:"NEW",SCANNED:"SCANNED",CONFIRMED:"CONFIRMED",EXPIRED:"EXPIRED",CANCELED:"CANCELED"},mhe={encode(e,t=3e5){let r={data:e,expireTime:Date.now()+t};return Buffer.from(JSON.stringify(r)).toString("base64url")},decode(e){try{if(!e)return null;let t=JSON.parse(Buffer.from(e,"base64url").toString());return Date.now()>t.expireTime?null:t.data}catch{return null}}},xct=async e=>{let t=uy.default.enc.Hex.stringify(uy.default.MD5(e.config.uc.token)).toString();return(await e.db.getObjectDefault("/uc",{}))[t]??""},vct=async(e,t)=>{let r=uy.default.enc.Hex.stringify(uy.default.MD5(e.config.uc.token)).toString();await e.db.push(`/uc/${r}`,t)};async function v8(e){e.get("/qrcode",async(t,r)=>{try{let n="/oauth/authorize",s=Math.floor(Date.now()/1e3).toString()+"000",i=Pi.DeviceID,a=sA(i,s),o=J_("GET",n,s,Xr.signKey),c={Accept:"application/json, text/plain, */*","User-Agent":"Mozilla/5.0 (Linux; U; Android 13; zh-cn; M2004J7AC Build/UKQ1.231108.001) AppleWebKit/533.1 (KHTML, like Gecko) Mobile Safari/533.1","x-pan-tm":s,"x-pan-token":o,"x-pan-client-id":Xr.clientID,...Pi.AccessToken?{Authorization:`Bearer ${Pi.AccessToken}`}:{}},u=await _e.get(`${Xr.api}${n}`,{params:{req_id:a,access_token:Pi.AccessToken,app_ver:Xr.appVer,device_id:i,device_brand:"Xiaomi",platform:"tv",device_name:"M2004J7AC",device_model:"M2004J7AC",build_device:"M2004J7AC",build_product:"M2004J7AC",device_gpu:"Adreno (TM) 550",activity_rect:"{}",channel:Xr.channel,auth_type:"code",client_id:Xr.clientID,scope:"netdisk",qrcode:"1",qr_width:"460",qr_height:"460"},headers:c}),l=mhe.encode({query_token:u.data.query_token,req_id:a});r.header("X-Session-Key",l),r.send(Buffer.from(u.data.qr_data,"base64"))}catch(n){console.error("UC-TV\u4E8C\u7EF4\u7801\u751F\u6210\u5931\u8D25:",n),r.status(500).send({code:-1,message:"\u4E8C\u7EF4\u7801\u751F\u6210\u5931\u8D25"})}}),e.post("/check-status",async(t,r)=>{let{sessionKey:n}=t.body,s=mhe.decode(n);if(!s)return r.send({code:0,data:{status:_d.EXPIRED}});let{query_token:i}=s;try{let a="/oauth/code",o=Math.floor(Date.now()/1e3).toString()+"000",c=Pi.DeviceID,u=sA(c,o),l=J_("GET",a,o,Xr.signKey),d={Accept:"application/json, text/plain, */*","User-Agent":"Mozilla/5.0 (Linux; U; Android 13; zh-cn; M2004J7AC Build/UKQ1.231108.001) AppleWebKit/533.1 (KHTML, like Gecko) Mobile Safari/533.1","x-pan-tm":o,"x-pan-token":l,"x-pan-client-id":Xr.clientID,...Pi.AccessToken?{Authorization:`Bearer ${Pi.AccessToken}`}:{}},f=await _e.get(`${Xr.api}${a}`,{params:{req_id:u,access_token:Pi.AccessToken,app_ver:Xr.appVer,device_id:c,device_brand:"Xiaomi",platform:"tv",device_name:"M2004J7AC",device_model:"M2004J7AC",build_device:"M2004J7AC",build_product:"M2004J7AC",device_gpu:"Adreno (TM) 550",activity_rect:"{}",channel:Xr.channel,client_id:Xr.clientID,scope:"netdisk",query_token:i},headers:d,validateStatus:h=>h<500});if(f.data.status===0){let h="/token",p=Math.floor(Date.now()/1e3).toString()+"000",m=sA(Pi.DeviceID,p),A=JSON.stringify({req_id:m,app_ver:Xr.appVer,device_id:Pi.DeviceID,device_brand:"Xiaomi",platform:"tv",device_name:"M2004J7AC",device_model:"M2004J7AC",build_device:"M2004J7AC",build_product:"M2004J7AC",device_gpu:"Adreno (TM) 550",activity_rect:"{}",channel:Xr.channel,code:f.data.code}),g=await _e.post(`${Xr.codeApi}${h}`,A,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36",Accept:"application/json, text/plain, */*","Content-Type":"application/json"}});g.data.code===200?r.send({code:0,data:{status:_d.CONFIRMED,cookie:g.data.data.access_token}}):r.send({code:0,data:{status:_d.NEW}})}else f.data.errno===11003?r.send({code:0,data:{status:_d.NEW}}):f.data.status===-1||f.data.errno===11001?r.send({code:0,data:{status:_d.EXPIRED}}):r.send({code:0,data:{status:_d.NEW}})}catch(a){console.error("UC-TV\u72B6\u6001\u68C0\u67E5\u5931\u8D25:",a),r.send({code:0,data:{status:_d.NEW}})}}),e.post("/token",async(t,r)=>{r.send({code:-1,message:"\u8BF7\u4F7F\u7528 /check-status \u63A5\u53E3"})}),e.get("/token",async(t,r)=>{r.send({code:0,data:await xct(t.server)})}),e.put("/token",async(t,r)=>{await vct(t.server,t.body.cookie),r.send({code:0})})}var ghe=async(e,t)=>(await e.db.getObjectDefault("/tyi",{}))?.[t]||"",Ahe=async(e,t,r)=>{await e.db.push(`/tyi/${t}`,r)};async function _8(e){e.get("/account",async(t,r)=>{let n=await ghe(t.server,"cloud_account"),s=await ghe(t.server,"cloud_password");r.send({code:0,data:{username:n,password:s}})}),e.put("/account",async(t,r)=>{await Ahe(t.server,"cloud_account",t.body.username),await Ahe(t.server,"cloud_password",t.body.password),r.send({code:0})})}var yhe=async(e,t)=>(await e.db.getObjectDefault("/pan123",{}))?.[t]||"",bhe=async(e,t,r)=>{await e.db.push(`/pan123/${t}`,r)};async function I8(e){e.get("/account",async(t,r)=>{let n=await yhe(t.server,"pan_passport"),s=await yhe(t.server,"pan_password");r.send({code:0,data:{username:n,password:s}})}),e.put("/account",async(t,r)=>{await bhe(t.server,"pan_passport",t.body.username),await bhe(t.server,"pan_password",t.body.password),r.send({code:0})})}var Mkt=ke(qp(),1),Qkt=ke(Hs(),1);var f0="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36",Id={NEW:"NEW",SCANNED:"SCANNED",CONFIRMED:"CONFIRMED",EXPIRED:"EXPIRED",CANCELED:"CANCELED"},Ehe={encode(e,t=3e5){let r={data:e,expireTime:Date.now()+t};return Buffer.from(JSON.stringify(r)).toString("base64url")},decode(e){try{if(!e)return null;let t=JSON.parse(Buffer.from(e,"base64url").toString());return Date.now()>t.expireTime?null:t.data}catch{return null}}},_ct=async e=>(await e.db.getObjectDefault("/baidu",{}))["baidu_cookie"]??"",C8=async(e,t)=>{await e.db.push("/baidu/baidu_cookie",t)};function Ict(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}async function w8(e){e.get("/qrcode",async(r,n)=>{try{let s=Ict(),i=new Date().getTime().toString(),a=Math.floor(new Date().getTime()/1e3).toString(),o=`tangram_guid_${i}`,u=(await Pe.get("https://passport.baidu.com/v2/api/getqrcode",{params:{lp:"pc",qrloginfrom:"pc",gid:s,callback:o,apiver:"v3",tt:a,tpl:"netdisk",_:i},headers:{"User-Agent":f0,Referer:"https://pan.baidu.com","sec-ch-ua-platform":'"Windows"',DNT:"1"}})).data;if(typeof u=="string"){u=u.replace(/^[^(]*\(/,"").replace(/\);?$/,"");let l=JSON.parse(u);if(l.errno===0){let d=Ehe.encode({sign:l.sign,channel_id:l.channel_id}),f="https://"+l.imgurl,h=await Pe.get(f,{responseType:"arraybuffer",headers:{"User-Agent":f0}});n.header("X-Session-Key",d),n.send(h.data)}else throw new Error(`\u83B7\u53D6\u4E8C\u7EF4\u7801\u5931\u8D25: ${l.errmsg||"\u672A\u77E5\u9519\u8BEF"}`)}else throw new Error("\u54CD\u5E94\u683C\u5F0F\u9519\u8BEF")}catch(s){console.error("\u767E\u5EA6\u4E8C\u7EF4\u7801\u83B7\u53D6\u5931\u8D25:",s),n.status(500).send({code:-1,message:s?.message||"\u83B7\u53D6\u4E8C\u7EF4\u7801\u5931\u8D25"})}}),e.post("/check-status",async(r,n)=>{let{sessionKey:s}=r.body,i=Ehe.decode(s);if(!i)return n.send({code:0,data:{status:Id.EXPIRED}});let{sign:a}=i;try{let o=new Date().getTime().toString(),c=`tangram_guid_${o}`,l=(await Pe.get("https://passport.baidu.com/channel/unicast",{params:{channel_id:a,tpl:"netdisk",apiver:"v3",tt:Math.floor(new Date().getTime()/1e3).toString(),callback:c,_:o},headers:{"User-Agent":f0,Referer:"https://pan.baidu.com"}})).data;if(typeof l=="string"){l=l.replace(/^[^(]*\(/,"").replace(/\);?\s*$/,"").trim();let d=JSON.parse(l);if(d.errno===0&&d.channel_v){let f=JSON.parse(d.channel_v);if(f.status===1)return n.send({code:0,data:{status:Id.SCANNED}});if(f.status===0&&f.v){let h=await t(f.v,r.server);return n.send({code:0,data:{status:Id.CONFIRMED,cookie:h}})}}else{if(d.errno===1)return n.send({code:0,data:{status:Id.NEW}});if(d.errno===2)return n.send({code:0,data:{status:Id.EXPIRED}})}}n.send({code:0,data:{status:Id.NEW}})}catch(o){console.error("\u767E\u5EA6\u72B6\u6001\u68C0\u67E5\u5931\u8D25:",o),n.send({code:0,data:{status:Id.NEW}})}});async function t(r,n){let s=new Date().getTime().toString(),i=Math.floor(new Date().getTime()/1e3).toString(),o=(await Pe.get("https://passport.baidu.com/v3/login/main/qrbdusslogin",{params:{v:s,bduss:r,u:"https://pan.baidu.com/disk/main#/index?category=all",loginVersion:"v5",qrcode:"1",tpl:"netdisk",maskId:"",fileId:"",apiver:"v3",tt:s,traceid:"",time:i,alg:"v3",elapsed:"1"},headers:{"User-Agent":f0,Referer:"https://pan.baidu.com/","Accept-Language":"zh-CN,zh;q=0.9"},timeout:3e4})).data;if(typeof o=="string"){o=o.replace(/^[^(]*\(/,"").replace(/\);?\s*$/,"").trim();let c=o.match(/"bduss":\s*"([^"]+)"/),u=o.match(/"stoken":\s*"([^"]+)"/),l=o.match(/"ptoken":\s*"([^"]+)"/),d=o.match(/"ubi":\s*"([^"]+)"/);if(c&&u&&l&&d){let f=c[1],h=u[1],p=l[1],m=encodeURIComponent(d[1]),g=Object.entries({newlogin:"1",UBI:m,STOKEN:h,BDUSS:f,PTOKEN:p,BDUSS_BFESS:f,STOKEN_BFESS:h,PTOKEN_BFESS:p,UBI_BFESS:m}).map(([b,_])=>`${b}=${_}`).join("; "),y=(await Pe.get("https://passport.baidu.com/v3/login/api/auth/?return_type=5&tpl=netdisk&u=https://pan.baidu.com/disk/home",{headers:{"User-Agent":f0,Referer:"https://pan.baidu.com/",Cookie:g},maxRedirects:0,validateStatus:b=>b===302||b===200})).headers.location;if(y){let _=(await Pe.get(y,{headers:{"User-Agent":f0,Referer:"https://pan.baidu.com/",Cookie:g},maxRedirects:0,validateStatus:S=>S===302||S===200})).headers["set-cookie"],C="";if(_){let S=_.find(T=>T.toLowerCase().includes("stoken"));S&&(C=S.split(";")[0])}let w=C?`BDUSS=${f};${C};`:`BDUSS=${f};STOKEN=${h};`;return await C8(n,w),w}else{let b=`BDUSS=${f};STOKEN=${h};`;return await C8(n,b),b}}}throw new Error("Cookie\u89E3\u6790\u5931\u8D25")}e.post("/cookie",async(r,n)=>{n.send({code:-1,message:"\u8BF7\u4F7F\u7528 /check-status \u63A5\u53E3"})}),e.get("/cookie",async(r,n)=>{n.send({code:0,data:await _ct(r.server)})}),e.put("/cookie",async(r,n)=>{await C8(r.server,r.body.cookie),n.send({code:0})})}var g2=[{key:"quark",name:"\u5938\u514B",enable:!0,chunkSize:512,poolSize:10},{key:"uc",name:"UC",enable:!0,chunkSize:512,poolSize:10},{key:"baidu",name:"\u767E\u5EA6",enable:!0},{key:"tianyi",name:"\u5929\u7FFC",enable:!0},{key:"yidong",name:"\u79FB\u52A8",enable:!0},{key:"123",name:"123",enable:!0},{key:"115",name:"115",enable:!0}],S8=async e=>{let r=(await e.db.getObjectDefault("/pans",{}))?.list||e.config.pans.list;return r.filter(n=>g2.some(s=>s.key===n.key)).concat(g2.filter(n=>!r.some(s=>s.key===n.key))).map(n=>({...g2.find(i=>i.key===n.key),...n}))},Cct=async(e,t)=>{await e.db.push("/pans/list",t),globalThis.Pans=t},wct=async e=>{await e.db.delete("/pans/list"),globalThis.Pans=g2};async function T8(e){e.get("/list",async(t,r)=>{r.send({code:0,data:await S8(t.server)})}),e.put("/list",async(t,r)=>{await Cct(t.server,t.body.list),r.send({code:0})}),e.delete("/list",async(t,r)=>{await wct(t.server),r.send({code:0})})}var xhe=ke(P$(),1);async function B8(e){e.get("/",async(t,r)=>{r.header("Content-Disposition",`attachment; filename="config.${(0,xhe.default)().format("YYYY-MM-DD")}.json"`);let n=await t.server.db.getData("/");r.send(JSON.stringify(n,null,4))}),e.put("/",async(t,r)=>{await t.server.db.push("/",t.body),r.send({code:0})})}async function R8(e){e.get("/",(t,r)=>{r.type("text/html").send(`
    <!DOCTYPE html>
    <html>
      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <title>\u9996\u9875</title>
      </head>
      <body>
        <div id="app"></div>
        <script crossorigin src="https://lib.baomitu.com/react/18.2.0/umd/react.production.min.js"></script>
        <script crossorigin src="https://lib.baomitu.com/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
        <script crossorigin src="https://lib.baomitu.com/axios/0.26.0/axios.min.js"></script>
        <script crossorigin src="https://lib.baomitu.com/dayjs/1.10.8/dayjs.min.js"></script>
        <script crossorigin src="https://lib.baomitu.com/antd/5.25.0/antd.min.js"></script>
        <link rel="stylesheet" href="https://lib.baomitu.com/antd/5.25.0/reset.min.css">
        <script>${globalThis.websiteBundle}</script>
      </body>
    </html>
    `)}),e.register(x8,{prefix:"/quark"}),e.register(yP,{prefix:"/uc"}),e.register(v8,{prefix:"/uc-tv"}),e.register(aO,{prefix:"/115"}),e.register(C5,{prefix:"/muou"}),e.register(mO,{prefix:"/duoduo"}),e.register(B5,{prefix:"/labi"}),e.register(D5,{prefix:"/shandian"}),e.register(L5,{prefix:"/ouge"}),e.register(U5,{prefix:"/erxiao"}),e.register(z5,{prefix:"/huban"}),e.register(Y5,{prefix:"/xiaoban"}),e.register(_8,{prefix:"/tianyi"}),e.register(h$,{prefix:"/wanou"}),e.register(o$,{prefix:"/leijing"}),e.register(y$,{prefix:"/zhizhen"}),e.register(w$,{prefix:"/tgsou"}),e.register(Q$,{prefix:"/pansou"}),e.register(I8,{prefix:"/pan123"}),e.register(w8,{prefix:"/baidu"}),e.register(N$,{prefix:"/tgchannel"}),e.register(G$,{prefix:"/sites"}),e.register(T8,{prefix:"/pans"}),e.register(B8,{prefix:"/backup"}),e.register(K$,{prefix:"/danmu"}),e.register(J$,{prefix:"/t4"}),e.register(e8,{prefix:"/cms"}),e.register(q$,{prefix:"/live2vod"})}var vhe=ke(require("os"),1),N8=e=>e?.find(t=>t.family==="IPv4")?.address,_he=function(){let e=vhe.default.networkInterfaces();return N8(e.en0)||N8(e.en1)||N8(e.en2)||"127.0.0.1"};var ar=null,A2=Number.parseInt(process.env.CATPAW_LOG_LIMIT||"1500",10)||1500,Cd=[],Che=["log","info","warn","error","debug"],ly={},y2=!1;function Sct(e){if(typeof e=="string")return e;if(e instanceof Error)return`${e.name}: ${e.message}
${e.stack||""}`;try{return JSON.stringify(e)}catch{try{return String(e)}catch{return"[Unserializable]"}}}function Tct(e,t){Cd.push({ts:new Date().toISOString(),level:e,msg:t.map(Sct).join(" ")}),Cd.length>A2&&Cd.splice(0,Cd.length-A2)}function Bct(){y2||(Che.forEach(e=>{let t=console[e];typeof t=="function"&&(ly[e]=t.bind(console),console[e]=(...r)=>{Tct(e,r),ly[e](...r)})}),y2=!0)}function Rct(){y2&&(Che.forEach(e=>{ly[e]&&(console[e]=ly[e],delete ly[e])}),y2=!1)}function Nct(e){e.get("/api/catpaw-logs",async t=>{let r=Number.parseInt(t.query?.limit,10),n=Number.isFinite(r)&&r>0?Math.min(r,A2):A2,s=Cd.slice(-n);return{success:!0,total:Cd.length,count:s.length,logs:s}}),e.post("/api/catpaw-logs/clear",async()=>(Cd.length=0,{success:!0}))}function b2(...e){console.log("[danmu:debug][index]",...e)}async function kct(e){ar=(0,Ihe.default)({serverFactory:catServerFactory,forceCloseConnections:!0,logger:process.env.NODE_ENV!=="development",maxParamLength:10240}),Bct(),Nct(ar),globalThis.messageToDart=ar.messageToDart=async i=>{try{console.log("messageToDart",i);let a=catDartServerPort();return a==0?null:(await _e.post(`http://127.0.0.1:${a}/msg`,i)).data}catch(a){return console.error(a),null}},ar.address=function(){let i=this.server.address();return i.url=`http://${_he()}:${i.port}`,i.dynamic="js2p://_WEB_",i},ar.addHook("onError",async(i,a,o)=>(console.error(o),o.statusCode||(o.statusCode=500),o)),ar.stop=!1,ar.config=e;let t=9321;b2("before start()",{danmuPort:t,node:process.version,platform:`${process.platform}/${process.arch}`}),Gpe(t),b2("after start()",{danmuPort:t}),ar.db=new E2.JsonDB(new E2.Config((process.env.NODE_PATH||".")+"/default.db.json",!0,!0,"/",!0));let r=ar.db.push.bind(ar.db);ar.db.push=async(...i)=>{let a=await r(...i);return ar.db.getData("/").then(o=>{ar.messageToDart({action:"saveProfile",opt:o})}),a};let n=ar.db.delete.bind(ar.db);ar.db.delete=async(...i)=>{let a=await n(...i);return ar.db.getData("/").then(o=>{ar.messageToDart({action:"saveProfile",opt:o})}),a},ar.messageToDart({action:"queryProfile"}).then(i=>{i&&Object.keys(i).length>0&&r("/",i||{})}),ar.register(n8,{db:ar.db,config:e}),ar.register(R8,{prefix:"/website"}),globalThis.Pans=await S8(ar),globalThis.getPanName=i=>globalThis.Pans.find(a=>a.key===i)?.name,globalThis.getPanEnabled=i=>globalThis.Pans.find(a=>a.key===i)?.enable;let s=(i,a=!0)=>{let o=a&&process.env.DEV_HTTP_PORT?process.env.DEV_HTTP_PORT:i;ar.listen({port:o,host:"0.0.0.0"},(c,u)=>{c?(console.error(c),c.code==="EADDRINUSE"&&(console.log(`Port ${o} is already in use. Trying next available port...`),s(i+1,!1))):console.log(`Server listening on ${u}`)})};s(2333)}async function Dct(){b2("before stop()"),Vpe(),b2("after stop()"),ar&&(ar.close(),ar.stop=!0),Rct(),ar=null}0&&(module.exports={start,stop});
/*! Bundled license information:

forwarded/index.js:
  (*!
   * forwarded
   * Copyright(c) 2014-2017 Douglas Christopher Wilson
   * MIT Licensed
   *)

proxy-addr/index.js:
  (*!
   * proxy-addr
   * Copyright(c) 2014-2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

toad-cache/dist/toad-cache.cjs:
  (**
   * toad-cache
   *
   * @copyright 2024 Igor Savin <kibertoad@gmail.com>
   * @license MIT
   * @version 3.7.0
   *)

cookie/index.js:
  (*!
   * cookie
   * Copyright(c) 2012-2014 Roman Shtylman
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

light-my-request/lib/form-data.js:
  (*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

mime-db/index.js:
  (*!
   * mime-db
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

mime-types/index.js:
  (*!
   * mime-types
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cdric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

rwlock/lib/lock.js:
  (*! ReadWriteLock - v5.0.0 - 2015-01-16
   * Author: Alberto La Rocca <a71104@gmail.com> (https://github.com/71104)
   * Released under the MIT license
   * Copyright (c) 2015 Alberto La Rocca *)
*/
