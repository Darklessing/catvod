
globalThis.websiteBundle = function() {
  return `
    (function() {
      const exports = {};
      const module = { exports };
      ${"var _a=Object.create;var xt=Object.defineProperty,za=Object.defineProperties,qa=Object.getOwnPropertyDescriptor,Ra=Object.getOwnPropertyDescriptors,Ua=Object.getOwnPropertyNames,Lt=Object.getOwnPropertySymbols,ja=Object.getPrototypeOf,wn=Object.prototype.hasOwnProperty,fr=Object.prototype.propertyIsEnumerable;var cr=(e,t,n)=>t in e?xt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k=(e,t)=>{for(var n in t||(t={}))wn.call(t,n)&&cr(e,n,t[n]);if(Lt)for(var n of Lt(t))fr.call(t,n)&&cr(e,n,t[n]);return e},N=(e,t)=>za(e,Ra(t));var Cn=(e,t)=>{var n={};for(var r in e)wn.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Lt)for(var r of Lt(e))t.indexOf(r)<0&&fr.call(e,r)&&(n[r]=e[r]);return n};var Ne=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ha=(e,t)=>{for(var n in t)xt(e,n,{get:t[n],enumerable:!0})},pr=(e,t,n,r)=>{if(t&&typeof t==\"object\"||typeof t==\"function\")for(let o of Ua(t))!wn.call(e,o)&&o!==n&&xt(e,o,{get:()=>t[o],enumerable:!(r=qa(t,o))||r.enumerable});return e};var q=(e,t,n)=>(n=e!=null?_a(ja(e)):{},pr(t||!e||!e.__esModule?xt(n,\"default\",{value:e,enumerable:!0}):n,e)),Wa=e=>pr(xt({},\"__esModule\",{value:!0}),e);var V=Ne((ws,mr)=>{mr.exports=window.React});var On=Ne((Cs,xr)=>{xr.exports=window.ReactDOM});var hr=Ne(Tn=>{\"use strict\";var gr=On();Tn.createRoot=gr.createRoot,Tn.hydrateRoot=gr.hydrateRoot;var Os});var vr=Ne((Ss,br)=>{br.exports=window.antd});var wr=Ne((ks,yr)=>{yr.exports=window.axios});var Or=Ne((Fs,Cr)=>{Cr.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case\"INPUT\":case\"TEXTAREA\":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type===\"Caret\"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(o){e.addRange(o)}),t&&t.focus()}}});var kr=Ne((Es,Sr)=>{\"use strict\";var $a=Or(),Tr={\"text/plain\":\"Text\",\"text/html\":\"Url\",default:\"Text\"},Va=\"Copy to clipboard: #{key}, Enter\";function Ga(e){var t=(/mac os x/i.test(navigator.userAgent)?\"\\u2318\":\"Ctrl\")+\"+C\";return e.replace(/#{\\s*key\\s*}/g,t)}function Ya(e,t){var n,r,o,i,l,s,d=!1;t||(t={}),n=t.debug||!1;try{o=$a(),i=document.createRange(),l=document.getSelection(),s=document.createElement(\"span\"),s.textContent=e,s.ariaHidden=\"true\",s.style.all=\"unset\",s.style.position=\"fixed\",s.style.top=0,s.style.clip=\"rect(0, 0, 0, 0)\",s.style.whiteSpace=\"pre\",s.style.webkitUserSelect=\"text\",s.style.MozUserSelect=\"text\",s.style.msUserSelect=\"text\",s.style.userSelect=\"text\",s.addEventListener(\"copy\",function(f){if(f.stopPropagation(),t.format)if(f.preventDefault(),typeof f.clipboardData>\"u\"){n&&console.warn(\"unable to use e.clipboardData\"),n&&console.warn(\"trying IE specific stuff\"),window.clipboardData.clearData();var m=Tr[t.format]||Tr.default;window.clipboardData.setData(m,e)}else f.clipboardData.clearData(),f.clipboardData.setData(t.format,e);t.onCopy&&(f.preventDefault(),t.onCopy(f.clipboardData))}),document.body.appendChild(s),i.selectNodeContents(s),l.addRange(i);var u=document.execCommand(\"copy\");if(!u)throw new Error(\"copy command was unsuccessful\");d=!0}catch(f){n&&console.error(\"unable to copy using execCommand: \",f),n&&console.warn(\"trying IE specific stuff\");try{window.clipboardData.setData(t.format||\"text\",e),t.onCopy&&t.onCopy(window.clipboardData),d=!0}catch(m){n&&console.error(\"unable to copy using clipboardData: \",m),n&&console.error(\"falling back to prompt\"),r=Ga(\"message\"in t?t.message:Va),window.prompt(r,e)}}finally{l&&(typeof l.removeRange==\"function\"?l.removeRange(i):l.removeAllRanges()),s&&document.body.removeChild(s),o()}return d}Sr.exports=Ya});var Lr=Ne((Js,qt)=>{(function(){\"use strict\";var e={}.hasOwnProperty;function t(){for(var o=\"\",i=0;i<arguments.length;i++){var l=arguments[i];l&&(o=r(o,n(l)))}return o}function n(o){if(typeof o==\"string\"||typeof o==\"number\")return o;if(typeof o!=\"object\")return\"\";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes(\"[native code]\"))return o.toString();var i=\"\";for(var l in o)e.call(o,l)&&o[l]&&(i=r(i,l));return i}function r(o,i){return i?o?o+\" \"+i:o+i:o}typeof qt<\"u\"&&qt.exports?(t.default=t,qt.exports=t):typeof define==\"function\"&&typeof define.amd==\"object\"&&define.amd?define(\"classnames\",[],function(){return t}):window.classNames=t})()});var vs={};Ha(vs,{renderClient:()=>bs});module.exports=Wa(vs);var a=q(V(),1),Sa=q(hr(),1),c=q(vr(),1),dt=q(wr(),1),ka=q(kr(),1);var Fr=q(V()),Ka=(0,Fr.createContext)({}),Bt=Ka;function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(null,arguments)}function Er(e){if(Array.isArray(e))return e}function Dr(e,t){var n=e==null?null:typeof Symbol<\"u\"&&e[Symbol.iterator]||e[\"@@iterator\"];if(n!=null){var r,o,i,l,s=[],d=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);d=!0);}catch(f){u=!0,o=f}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return s}}function Sn(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ir(e,t){if(e){if(typeof e==\"string\")return Sn(e,t);var n={}.toString.call(e).slice(8,-1);return n===\"Object\"&&e.constructor&&(n=e.constructor.name),n===\"Map\"||n===\"Set\"?Array.from(e):n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sn(e,t):void 0}}function Nr(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function _t(e,t){return Er(e)||Dr(e,t)||Ir(e,t)||Nr()}function be(e){\"@babel/helpers - typeof\";return be=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(t){return typeof t}:function(t){return t&&typeof Symbol==\"function\"&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},be(e)}function Ar(e,t){if(be(e)!=\"object\"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||\"default\");if(be(r)!=\"object\")return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(t===\"string\"?String:Number)(e)}function Mr(e){var t=Ar(e,\"string\");return be(t)==\"symbol\"?t:t+\"\"}function G(e,t,n){return(t=Mr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pr(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function zt(e,t){if(e==null)return{};var n,r,o=Pr(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var ze=q(V()),Io=q(Lr());var Y=Math.round;function kn(e,t){let n=e.replace(/^[^(]*\\((.*)/,\"$1\").replace(/\\).*/,\"\").match(/\\d*\\.?\\d+%?/g)||[],r=n.map(o=>parseFloat(o));for(let o=0;o<3;o+=1)r[o]=t(r[o]||0,n[o]||\"\",o);return n[3]?r[3]=n[3].includes(\"%\")?r[3]/100:r[3]:r[3]=1,r}var Br=(e,t,n)=>n===0?e:e/100;function gt(e,t){let n=t||255;return e>n?n:e<0?0:e}var Be=class e{constructor(t){G(this,\"isValid\",!0),G(this,\"r\",0),G(this,\"g\",0),G(this,\"b\",0),G(this,\"a\",1),G(this,\"_h\",void 0),G(this,\"_s\",void 0),G(this,\"_l\",void 0),G(this,\"_v\",void 0),G(this,\"_max\",void 0),G(this,\"_min\",void 0),G(this,\"_brightness\",void 0);function n(r){return r[0]in t&&r[1]in t&&r[2]in t}if(t)if(typeof t==\"string\"){let o=function(i){return r.startsWith(i)},r=t.trim();/^#?[A-F\\d]{3,8}$/i.test(r)?this.fromHexString(r):o(\"rgb\")?this.fromRgbString(r):o(\"hsl\")?this.fromHslString(r):(o(\"hsv\")||o(\"hsb\"))&&this.fromHsvString(r)}else if(t instanceof e)this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this._h=t._h,this._s=t._s,this._l=t._l,this._v=t._v;else if(n(\"rgb\"))this.r=gt(t.r),this.g=gt(t.g),this.b=gt(t.b),this.a=typeof t.a==\"number\"?gt(t.a,1):1;else if(n(\"hsl\"))this.fromHsl(t);else if(n(\"hsv\"))this.fromHsv(t);else throw new Error(\"@ant-design/fast-color: unsupported input \"+JSON.stringify(t))}setR(t){return this._sc(\"r\",t)}setG(t){return this._sc(\"g\",t)}setB(t){return this._sc(\"b\",t)}setA(t){return this._sc(\"a\",t,1)}setHue(t){let n=this.toHsv();return n.h=t,this._c(n)}getLuminance(){function t(i){let l=i/255;return l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4)}let n=t(this.r),r=t(this.g),o=t(this.b);return .2126*n+.7152*r+.0722*o}getHue(){if(typeof this._h>\"u\"){let t=this.getMax()-this.getMin();t===0?this._h=0:this._h=Y(60*(this.r===this.getMax()?(this.g-this.b)/t+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/t+2:(this.r-this.g)/t+4))}return this._h}getSaturation(){if(typeof this._s>\"u\"){let t=this.getMax()-this.getMin();t===0?this._s=0:this._s=t/this.getMax()}return this._s}getLightness(){return typeof this._l>\"u\"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>\"u\"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>\"u\"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(t=10){let n=this.getHue(),r=this.getSaturation(),o=this.getLightness()-t/100;return o<0&&(o=0),this._c({h:n,s:r,l:o,a:this.a})}lighten(t=10){let n=this.getHue(),r=this.getSaturation(),o=this.getLightness()+t/100;return o>1&&(o=1),this._c({h:n,s:r,l:o,a:this.a})}mix(t,n=50){let r=this._c(t),o=n/100,i=s=>(r[s]-this[s])*o+this[s],l={r:Y(i(\"r\")),g:Y(i(\"g\")),b:Y(i(\"b\")),a:Y(i(\"a\")*100)/100};return this._c(l)}tint(t=10){return this.mix({r:255,g:255,b:255,a:1},t)}shade(t=10){return this.mix({r:0,g:0,b:0,a:1},t)}onBackground(t){let n=this._c(t),r=this.a+n.a*(1-this.a),o=i=>Y((this[i]*this.a+n[i]*n.a*(1-this.a))/r);return this._c({r:o(\"r\"),g:o(\"g\"),b:o(\"b\"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}clone(){return this._c(this)}toHexString(){let t=\"#\",n=(this.r||0).toString(16);t+=n.length===2?n:\"0\"+n;let r=(this.g||0).toString(16);t+=r.length===2?r:\"0\"+r;let o=(this.b||0).toString(16);if(t+=o.length===2?o:\"0\"+o,typeof this.a==\"number\"&&this.a>=0&&this.a<1){let i=Y(this.a*255).toString(16);t+=i.length===2?i:\"0\"+i}return t}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){let t=this.getHue(),n=Y(this.getSaturation()*100),r=Y(this.getLightness()*100);return this.a!==1?\"hsla(\".concat(t,\",\").concat(n,\"%,\").concat(r,\"%,\").concat(this.a,\")\"):\"hsl(\".concat(t,\",\").concat(n,\"%,\").concat(r,\"%)\")}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?\"rgba(\".concat(this.r,\",\").concat(this.g,\",\").concat(this.b,\",\").concat(this.a,\")\"):\"rgb(\".concat(this.r,\",\").concat(this.g,\",\").concat(this.b,\")\")}toString(){return this.toRgbString()}_sc(t,n,r){let o=this.clone();return o[t]=gt(n,r),o}_c(t){return new this.constructor(t)}getMax(){return typeof this._max>\"u\"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>\"u\"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(t){let n=t.replace(\"#\",\"\");function r(o,i){return parseInt(n[o]+n[i||o],16)}n.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=n[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=n[6]?r(6,7)/255:1)}fromHsl({h:t,s:n,l:r,a:o}){if(this._h=t%360,this._s=n,this._l=r,this.a=typeof o==\"number\"?o:1,n<=0){let C=Y(r*255);this.r=C,this.g=C,this.b=C}let i=0,l=0,s=0,d=t/60,u=(1-Math.abs(2*r-1))*n,f=u*(1-Math.abs(d%2-1));d>=0&&d<1?(i=u,l=f):d>=1&&d<2?(i=f,l=u):d>=2&&d<3?(l=u,s=f):d>=3&&d<4?(l=f,s=u):d>=4&&d<5?(i=f,s=u):d>=5&&d<6&&(i=u,s=f);let m=r-u/2;this.r=Y((i+m)*255),this.g=Y((l+m)*255),this.b=Y((s+m)*255)}fromHsv({h:t,s:n,v:r,a:o}){this._h=t%360,this._s=n,this._v=r,this.a=typeof o==\"number\"?o:1;let i=Y(r*255);if(this.r=i,this.g=i,this.b=i,n<=0)return;let l=t/60,s=Math.floor(l),d=l-s,u=Y(r*(1-n)*255),f=Y(r*(1-n*d)*255),m=Y(r*(1-n*(1-d))*255);switch(s){case 0:this.g=m,this.b=u;break;case 1:this.r=f,this.b=u;break;case 2:this.r=u,this.b=m;break;case 3:this.r=u,this.g=f;break;case 4:this.r=m,this.g=u;break;case 5:default:this.g=u,this.b=f;break}}fromHsvString(t){let n=kn(t,Br);this.fromHsv({h:n[0],s:n[1],v:n[2],a:n[3]})}fromHslString(t){let n=kn(t,Br);this.fromHsl({h:n[0],s:n[1],l:n[2],a:n[3]})}fromRgbString(t){let n=kn(t,(r,o)=>o.includes(\"%\")?Y(r/100*255):r);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}};var Rt=2,_r=.16,Xa=.05,Za=.05,Qa=.15,Ur=5,jr=4,Ja=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function zr(e,t,n){var r;return Math.round(e.h)>=60&&Math.round(e.h)<=240?r=n?Math.round(e.h)-Rt*t:Math.round(e.h)+Rt*t:r=n?Math.round(e.h)+Rt*t:Math.round(e.h)-Rt*t,r<0?r+=360:r>=360&&(r-=360),r}function qr(e,t,n){if(e.h===0&&e.s===0)return e.s;var r;return n?r=e.s-_r*t:t===jr?r=e.s+_r:r=e.s+Xa*t,r>1&&(r=1),n&&t===Ur&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function Rr(e,t,n){var r;return n?r=e.v+Za*t:r=e.v-Qa*t,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function Ut(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=new Be(e),o=r.toHsv(),i=Ur;i>0;i-=1){var l=new Be({h:zr(o,i,!0),s:qr(o,i,!0),v:Rr(o,i,!0)});n.push(l)}n.push(r);for(var s=1;s<=jr;s+=1){var d=new Be({h:zr(o,s),s:qr(o,s),v:Rr(o,s)});n.push(d)}return t.theme===\"dark\"?Ja.map(function(u){var f=u.index,m=u.amount;return new Be(t.backgroundColor||\"#141414\").mix(n[f],m).toHexString()}):n.map(function(u){return u.toHexString()})}var Hr=[\"#fff1f0\",\"#ffccc7\",\"#ffa39e\",\"#ff7875\",\"#ff4d4f\",\"#f5222d\",\"#cf1322\",\"#a8071a\",\"#820014\",\"#5c0011\"];Hr.primary=Hr[5];var Wr=[\"#fff2e8\",\"#ffd8bf\",\"#ffbb96\",\"#ff9c6e\",\"#ff7a45\",\"#fa541c\",\"#d4380d\",\"#ad2102\",\"#871400\",\"#610b00\"];Wr.primary=Wr[5];var $r=[\"#fff7e6\",\"#ffe7ba\",\"#ffd591\",\"#ffc069\",\"#ffa940\",\"#fa8c16\",\"#d46b08\",\"#ad4e00\",\"#873800\",\"#612500\"];$r.primary=$r[5];var Vr=[\"#fffbe6\",\"#fff1b8\",\"#ffe58f\",\"#ffd666\",\"#ffc53d\",\"#faad14\",\"#d48806\",\"#ad6800\",\"#874d00\",\"#613400\"];Vr.primary=Vr[5];var Gr=[\"#feffe6\",\"#ffffb8\",\"#fffb8f\",\"#fff566\",\"#ffec3d\",\"#fadb14\",\"#d4b106\",\"#ad8b00\",\"#876800\",\"#614700\"];Gr.primary=Gr[5];var Yr=[\"#fcffe6\",\"#f4ffb8\",\"#eaff8f\",\"#d3f261\",\"#bae637\",\"#a0d911\",\"#7cb305\",\"#5b8c00\",\"#3f6600\",\"#254000\"];Yr.primary=Yr[5];var Kr=[\"#f6ffed\",\"#d9f7be\",\"#b7eb8f\",\"#95de64\",\"#73d13d\",\"#52c41a\",\"#389e0d\",\"#237804\",\"#135200\",\"#092b00\"];Kr.primary=Kr[5];var Xr=[\"#e6fffb\",\"#b5f5ec\",\"#87e8de\",\"#5cdbd3\",\"#36cfc9\",\"#13c2c2\",\"#08979c\",\"#006d75\",\"#00474f\",\"#002329\"];Xr.primary=Xr[5];var jt=[\"#e6f4ff\",\"#bae0ff\",\"#91caff\",\"#69b1ff\",\"#4096ff\",\"#1677ff\",\"#0958d9\",\"#003eb3\",\"#002c8c\",\"#001d66\"];jt.primary=jt[5];var Zr=[\"#f0f5ff\",\"#d6e4ff\",\"#adc6ff\",\"#85a5ff\",\"#597ef7\",\"#2f54eb\",\"#1d39c4\",\"#10239e\",\"#061178\",\"#030852\"];Zr.primary=Zr[5];var Qr=[\"#f9f0ff\",\"#efdbff\",\"#d3adf7\",\"#b37feb\",\"#9254de\",\"#722ed1\",\"#531dab\",\"#391085\",\"#22075e\",\"#120338\"];Qr.primary=Qr[5];var Jr=[\"#fff0f6\",\"#ffd6e7\",\"#ffadd2\",\"#ff85c0\",\"#f759ab\",\"#eb2f96\",\"#c41d7f\",\"#9e1068\",\"#780650\",\"#520339\"];Jr.primary=Jr[5];var eo=[\"#a6a6a6\",\"#999999\",\"#8c8c8c\",\"#808080\",\"#737373\",\"#666666\",\"#404040\",\"#1a1a1a\",\"#000000\",\"#000000\"];eo.primary=eo[5];var to=[\"#2a1215\",\"#431418\",\"#58181c\",\"#791a1f\",\"#a61d24\",\"#d32029\",\"#e84749\",\"#f37370\",\"#f89f9a\",\"#fac8c3\"];to.primary=to[5];var no=[\"#2b1611\",\"#441d12\",\"#592716\",\"#7c3118\",\"#aa3e19\",\"#d84a1b\",\"#e87040\",\"#f3956a\",\"#f8b692\",\"#fad4bc\"];no.primary=no[5];var ro=[\"#2b1d11\",\"#442a11\",\"#593815\",\"#7c4a15\",\"#aa6215\",\"#d87a16\",\"#e89a3c\",\"#f3b765\",\"#f8cf8d\",\"#fae3b7\"];ro.primary=ro[5];var oo=[\"#2b2111\",\"#443111\",\"#594214\",\"#7c5914\",\"#aa7714\",\"#d89614\",\"#e8b339\",\"#f3cc62\",\"#f8df8b\",\"#faedb5\"];oo.primary=oo[5];var ao=[\"#2b2611\",\"#443b11\",\"#595014\",\"#7c6e14\",\"#aa9514\",\"#d8bd14\",\"#e8d639\",\"#f3ea62\",\"#f8f48b\",\"#fafab5\"];ao.primary=ao[5];var io=[\"#1f2611\",\"#2e3c10\",\"#3e4f13\",\"#536d13\",\"#6f9412\",\"#8bbb11\",\"#a9d134\",\"#c9e75d\",\"#e4f88b\",\"#f0fab5\"];io.primary=io[5];var lo=[\"#162312\",\"#1d3712\",\"#274916\",\"#306317\",\"#3c8618\",\"#49aa19\",\"#6abe39\",\"#8fd460\",\"#b2e58b\",\"#d5f2bb\"];lo.primary=lo[5];var so=[\"#112123\",\"#113536\",\"#144848\",\"#146262\",\"#138585\",\"#13a8a8\",\"#33bcb7\",\"#58d1c9\",\"#84e2d8\",\"#b2f1e8\"];so.primary=so[5];var uo=[\"#111a2c\",\"#112545\",\"#15325b\",\"#15417e\",\"#1554ad\",\"#1668dc\",\"#3c89e8\",\"#65a9f3\",\"#8dc5f8\",\"#b7dcfa\"];uo.primary=uo[5];var co=[\"#131629\",\"#161d40\",\"#1c2755\",\"#203175\",\"#263ea0\",\"#2b4acb\",\"#5273e0\",\"#7f9ef3\",\"#a8c1f8\",\"#d2e0fa\"];co.primary=co[5];var fo=[\"#1a1325\",\"#24163a\",\"#301c4d\",\"#3e2069\",\"#51258f\",\"#642ab5\",\"#854eca\",\"#ab7ae0\",\"#cda8f0\",\"#ebd7fa\"];fo.primary=fo[5];var po=[\"#291321\",\"#40162f\",\"#551c3b\",\"#75204f\",\"#a02669\",\"#cb2b83\",\"#e0529c\",\"#f37fb7\",\"#f8a8cc\",\"#fad2e3\"];po.primary=po[5];var mo=[\"#151515\",\"#1f1f1f\",\"#2d2d2d\",\"#393939\",\"#494949\",\"#5a5a5a\",\"#6a6a6a\",\"#7b7b7b\",\"#888888\",\"#969696\"];mo.primary=mo[5];function xo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xo(Object(n),!0).forEach(function(r){G(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xo(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Eo=q(V());function Fn(){return!!(typeof window<\"u\"&&window.document&&window.document.createElement)}function En(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}var go=\"data-rc-order\",ho=\"data-rc-priority\",ei=\"rc-util-key\",Dn=new Map;function bo(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.mark;return t?t.startsWith(\"data-\")?t:\"data-\".concat(t):ei}function In(e){if(e.attachTo)return e.attachTo;var t=document.querySelector(\"head\");return t||document.body}function ti(e){return e===\"queue\"?\"prependQueue\":e?\"prepend\":\"append\"}function Nn(e){return Array.from((Dn.get(e)||e).children).filter(function(t){return t.tagName===\"STYLE\"})}function vo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Fn())return null;var n=t.csp,r=t.prepend,o=t.priority,i=o===void 0?0:o,l=ti(r),s=l===\"prependQueue\",d=document.createElement(\"style\");d.setAttribute(go,l),s&&i&&d.setAttribute(ho,\"\".concat(i)),n!=null&&n.nonce&&(d.nonce=n==null?void 0:n.nonce),d.innerHTML=e;var u=In(t),f=u.firstChild;if(r){if(s){var m=(t.styles||Nn(u)).filter(function(C){if(![\"prepend\",\"prependQueue\"].includes(C.getAttribute(go)))return!1;var g=Number(C.getAttribute(ho)||0);return i>=g});if(m.length)return u.insertBefore(d,m[m.length-1].nextSibling),d}u.insertBefore(d,f)}else u.appendChild(d);return d}function ni(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=In(t);return(t.styles||Nn(n)).find(function(r){return r.getAttribute(bo(t))===e})}function ri(e,t){var n=Dn.get(e);if(!n||!En(document,n)){var r=vo(\"\",t),o=r.parentNode;Dn.set(e,o),e.removeChild(r)}}function yo(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=In(n),o=Nn(r),i=le(le({},n),{},{styles:o});ri(r,i);var l=ni(t,i);if(l){var s,d;if((s=i.csp)!==null&&s!==void 0&&s.nonce&&l.nonce!==((d=i.csp)===null||d===void 0?void 0:d.nonce)){var u;l.nonce=(u=i.csp)===null||u===void 0?void 0:u.nonce}return l.innerHTML!==e&&(l.innerHTML=e),l}var f=vo(e,i);return f.setAttribute(bo(i),t),f}function wo(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}function oi(e){return wo(e)instanceof ShadowRoot}function Co(e){return oi(e)?wo(e):null}var An={},ai=[],ii=function(t){ai.push(t)};function li(e,t){if(0)var n}function si(e,t){if(0)var n}function di(){An={}}function Oo(e,t,n){!t&&!An[n]&&(e(!1,n),An[n]=!0)}function Ht(e,t){Oo(li,e,t)}function ui(e,t){Oo(si,e,t)}Ht.preMessage=ii;Ht.resetWarned=di;Ht.noteOnce=ui;var To=Ht;var _e=q(V());function ci(e){return e.replace(/-(.)/g,function(t,n){return n.toUpperCase()})}function ko(e,t){To(e,\"[@ant-design/icons] \".concat(t))}function Mn(e){return be(e)===\"object\"&&typeof e.name==\"string\"&&typeof e.theme==\"string\"&&(be(e.icon)===\"object\"||typeof e.icon==\"function\")}function So(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).reduce(function(t,n){var r=e[n];switch(n){case\"class\":t.className=r,delete t.class;break;default:delete t[n],t[ci(n)]=r}return t},{})}function Wt(e,t,n){return n?_e.default.createElement(e.tag,le(le({key:t},So(e.attrs)),n),(e.children||[]).map(function(r,o){return Wt(r,\"\".concat(t,\"-\").concat(e.tag,\"-\").concat(o))})):_e.default.createElement(e.tag,le({key:t},So(e.attrs)),(e.children||[]).map(function(r,o){return Wt(r,\"\".concat(t,\"-\").concat(e.tag,\"-\").concat(o))}))}function Pn(e){return Ut(e)[0]}function $t(e){return e?Array.isArray(e)?e:[e]:[]}var fi=\"\\n.anticon {\\n  display: inline-flex;\\n  align-items: center;\\n  color: inherit;\\n  font-style: normal;\\n  line-height: 0;\\n  text-align: center;\\n  text-transform: none;\\n  vertical-align: -0.125em;\\n  text-rendering: optimizeLegibility;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\n.anticon > * {\\n  line-height: 1;\\n}\\n\\n.anticon svg {\\n  display: inline-block;\\n}\\n\\n.anticon::before {\\n  display: none;\\n}\\n\\n.anticon .anticon-icon {\\n  display: block;\\n}\\n\\n.anticon[tabindex] {\\n  cursor: pointer;\\n}\\n\\n.anticon-spin::before,\\n.anticon-spin {\\n  display: inline-block;\\n  -webkit-animation: loadingCircle 1s infinite linear;\\n  animation: loadingCircle 1s infinite linear;\\n}\\n\\n@-webkit-keyframes loadingCircle {\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n    transform: rotate(360deg);\\n  }\\n}\\n\\n@keyframes loadingCircle {\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n    transform: rotate(360deg);\\n  }\\n}\\n\",Fo=function(t){var n=(0,_e.useContext)(Bt),r=n.csp,o=n.prefixCls,i=n.layer,l=fi;o&&(l=l.replace(/anticon/g,o)),i&&(l=\"@layer \".concat(i,\" {\\n\").concat(l,\"\\n}\")),(0,_e.useEffect)(function(){var s=t.current,d=Co(s);yo(l,\"@ant-design-icons\",{prepend:!i,csp:r,attachTo:d})},[])};var pi=[\"icon\",\"className\",\"onClick\",\"style\",\"primaryColor\",\"secondaryColor\"],ht={primaryColor:\"#333\",secondaryColor:\"#E6E6E6\",calculated:!1};function mi(e){var t=e.primaryColor,n=e.secondaryColor;ht.primaryColor=t,ht.secondaryColor=n||Pn(t),ht.calculated=!!n}function xi(){return le({},ht)}var Vt=function(t){var n=t.icon,r=t.className,o=t.onClick,i=t.style,l=t.primaryColor,s=t.secondaryColor,d=zt(t,pi),u=Eo.useRef(),f=ht;if(l&&(f={primaryColor:l,secondaryColor:s||Pn(l)}),Fo(u),ko(Mn(n),\"icon should be icon definiton, but got \".concat(n)),!Mn(n))return null;var m=n;return m&&typeof m.icon==\"function\"&&(m=le(le({},m),{},{icon:m.icon(f.primaryColor,f.secondaryColor)})),Wt(m.icon,\"svg-\".concat(m.name),le(le({className:r,onClick:o,style:i,\"data-icon\":m.name,width:\"1em\",height:\"1em\",fill:\"currentColor\",\"aria-hidden\":\"true\"},d),{},{ref:u}))};Vt.displayName=\"IconReact\";Vt.getTwoToneColors=xi;Vt.setTwoToneColors=mi;var bt=Vt;function Ln(e){var t=$t(e),n=_t(t,2),r=n[0],o=n[1];return bt.setTwoToneColors({primaryColor:r,secondaryColor:o})}function Do(){var e=bt.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}var gi=[\"className\",\"icon\",\"spin\",\"rotate\",\"tabIndex\",\"onClick\",\"twoToneColor\"];Ln(jt.primary);var Gt=ze.forwardRef(function(e,t){var n=e.className,r=e.icon,o=e.spin,i=e.rotate,l=e.tabIndex,s=e.onClick,d=e.twoToneColor,u=zt(e,gi),f=ze.useContext(Bt),m=f.prefixCls,C=m===void 0?\"anticon\":m,g=f.rootClassName,F=(0,Io.default)(g,C,G(G({},\"\".concat(C,\"-\").concat(r.name),!!r.name),\"\".concat(C,\"-spin\"),!!o||r.name===\"loading\"),n),w=l;w===void 0&&s&&(w=-1);var b=i?{msTransform:\"rotate(\".concat(i,\"deg)\"),transform:\"rotate(\".concat(i,\"deg)\")}:void 0,p=$t(d),h=_t(p,2),O=h[0],y=h[1];return ze.createElement(\"span\",W({role:\"img\",\"aria-label\":r.name},u,{ref:t,tabIndex:w,onClick:s,className:F}),ze.createElement(bt,{icon:r,primaryColor:O,secondaryColor:y,style:b}))});Gt.displayName=\"AntdIcon\";Gt.getTwoToneColor=Do;Gt.setTwoToneColor=Ln;var ee=Gt;var Yt=q(V());var hi={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z\"}}]},name:\"edit\",theme:\"outlined\"},No=hi;var bi=function(t,n){return Yt.createElement(ee,W({},t,{ref:n,icon:No}))},vi=Yt.forwardRef(bi),Kt=vi;var Xt=q(V());var yi={icon:{tag:\"svg\",attrs:{\"fill-rule\":\"evenodd\",viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z\"}}]},name:\"export\",theme:\"outlined\"},Ao=yi;var wi=function(t,n){return Xt.createElement(ee,W({},t,{ref:n,icon:Ao}))},Ci=Xt.forwardRef(wi),Bn=Ci;var Zt=q(V());var Oi={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z\"}}]},name:\"holder\",theme:\"outlined\"},Mo=Oi;var Ti=function(t,n){return Zt.createElement(ee,W({},t,{ref:n,icon:Mo}))},Si=Zt.forwardRef(Ti),_n=Si;var Qt=q(V());var ki={icon:{tag:\"svg\",attrs:{\"fill-rule\":\"evenodd\",viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM653.3 424.6l52.2 52.2a8.01 8.01 0 01-4.7 13.6l-179.4 21c-5.1.6-9.5-3.7-8.9-8.9l21-179.4c.8-6.6 8.9-9.4 13.6-4.7l52.4 52.4 256.2-256.2c3.1-3.1 8.2-3.1 11.3 0l42.4 42.4c3.1 3.1 3.1 8.2 0 11.3L653.3 424.6z\"}}]},name:\"import\",theme:\"outlined\"},Po=ki;var Fi=function(t,n){return Qt.createElement(ee,W({},t,{ref:n,icon:Po}))},Ei=Qt.forwardRef(Fi),zn=Ei;var Jt=q(V());var Di={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z\"}},{tag:\"path\",attrs:{d:\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\"}}]},name:\"minus-circle\",theme:\"outlined\"},Lo=Di;var Ii=function(t,n){return Jt.createElement(ee,W({},t,{ref:n,icon:Lo}))},Ni=Jt.forwardRef(Ii),qe=Ni;var en=q(V());var Ai={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z\"}},{tag:\"path\",attrs:{d:\"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z\"}}]},name:\"plus\",theme:\"outlined\"},Bo=Ai;var Mi=function(t,n){return en.createElement(ee,W({},t,{ref:n,icon:Bo}))},Pi=en.forwardRef(Mi),Re=Pi;var tn=q(V());var Li={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z\"}}]},name:\"setting\",theme:\"outlined\"},_o=Li;var Bi=function(t,n){return tn.createElement(ee,W({},t,{ref:n,icon:_o}))},_i=tn.forwardRef(Bi),qn=_i;var nn=q(V());var zi={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z\"}}]},name:\"user\",theme:\"outlined\"},zo=zi;var qi=function(t,n){return nn.createElement(ee,W({},t,{ref:n,icon:zo}))},Ri=nn.forwardRef(qi),Rn=Ri;var x=q(V()),Ve=q(On());var j=q(V());function Ro(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,j.useMemo)(()=>r=>{t.forEach(o=>o(r))},t)}var vt=typeof window<\"u\"&&typeof window.document<\"u\"&&typeof window.document.createElement<\"u\";function Ue(e){let t=Object.prototype.toString.call(e);return t===\"[object Window]\"||t===\"[object global]\"}function rn(e){return\"nodeType\"in e}function te(e){var t,n;return e?Ue(e)?e:rn(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function on(e){let{Document:t}=te(e);return e instanceof t}function rt(e){return Ue(e)?!1:e instanceof te(e).HTMLElement}function jn(e){return e instanceof te(e).SVGElement}function je(e){return e?Ue(e)?e.document:rn(e)?on(e)?e:rt(e)||jn(e)?e.ownerDocument:document:document:document}var ue=vt?j.useLayoutEffect:j.useEffect;function an(e){let t=(0,j.useRef)(e);return ue(()=>{t.current=e}),(0,j.useCallback)(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function Uo(){let e=(0,j.useRef)(null),t=(0,j.useCallback)((r,o)=>{e.current=setInterval(r,o)},[]),n=(0,j.useCallback)(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function ot(e,t){t===void 0&&(t=[e]);let n=(0,j.useRef)(e);return ue(()=>{n.current!==e&&(n.current=e)},t),n}function at(e,t){let n=(0,j.useRef)();return(0,j.useMemo)(()=>{let r=e(n.current);return n.current=r,r},[...t])}function yt(e){let t=an(e),n=(0,j.useRef)(null),r=(0,j.useCallback)(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}function ln(e){let t=(0,j.useRef)();return(0,j.useEffect)(()=>{t.current=e},[e]),t.current}var Un={};function He(e,t){return(0,j.useMemo)(()=>{if(t)return t;let n=Un[e]==null?0:Un[e]+1;return Un[e]=n,e+\"-\"+n},[e,t])}function jo(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((i,l)=>{let s=Object.entries(l);for(let[d,u]of s){let f=i[d];f!=null&&(i[d]=f+e*u)}return i},k({},t))}}var We=jo(1),it=jo(-1);function Ui(e){return\"clientX\"in e&&\"clientY\"in e}function wt(e){if(!e)return!1;let{KeyboardEvent:t}=te(e.target);return t&&e instanceof t}function ji(e){if(!e)return!1;let{TouchEvent:t}=te(e.target);return t&&e instanceof t}function Ct(e){if(ji(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Ui(e)?{x:e.clientX,y:e.clientY}:null}var Ae=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:n}=e;return\"translate3d(\"+(t?Math.round(t):0)+\"px, \"+(n?Math.round(n):0)+\"px, 0)\"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:n}=e;return\"scaleX(\"+t+\") scaleY(\"+n+\")\"}},Transform:{toString(e){if(e)return[Ae.Translate.toString(e),Ae.Scale.toString(e)].join(\" \")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+\" \"+n+\"ms \"+r}}}),qo=\"a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]\";function Ho(e){return e.matches(qo)?e:e.querySelector(qo)}var $e=q(V()),Hi={display:\"none\"};function Wo(e){let{id:t,value:n}=e;return $e.default.createElement(\"div\",{id:t,style:Hi},n)}function $o(e){let{id:t,announcement:n,ariaLiveType:r=\"assertive\"}=e,o={position:\"fixed\",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:\"hidden\",clip:\"rect(0 0 0 0)\",clipPath:\"inset(100%)\",whiteSpace:\"nowrap\"};return $e.default.createElement(\"div\",{id:t,style:o,role:\"status\",\"aria-live\":r,\"aria-atomic\":!0},n)}function Vo(){let[e,t]=(0,$e.useState)(\"\");return{announce:(0,$e.useCallback)(r=>{r!=null&&t(r)},[]),announcement:e}}var ra=(0,x.createContext)(null);function Wi(e){let t=(0,x.useContext)(ra);(0,x.useEffect)(()=>{if(!t)throw new Error(\"useDndMonitor must be used within a children of <DndContext>\");return t(e)},[e,t])}function $i(){let[e]=(0,x.useState)(()=>new Set),t=(0,x.useCallback)(r=>(e.add(r),()=>e.delete(r)),[e]);return[(0,x.useCallback)(r=>{let{type:o,event:i}=r;e.forEach(l=>{var s;return(s=l[o])==null?void 0:s.call(l,i)})},[e]),t]}var Vi={draggable:\"\\n    To pick up a draggable item, press the space bar.\\n    While dragging, use the arrow keys to move the item.\\n    Press space again to drop the item in its new position, or press escape to cancel.\\n  \"},Gi={onDragStart(e){let{active:t}=e;return\"Picked up draggable item \"+t.id+\".\"},onDragOver(e){let{active:t,over:n}=e;return n?\"Draggable item \"+t.id+\" was moved over droppable area \"+n.id+\".\":\"Draggable item \"+t.id+\" is no longer over a droppable area.\"},onDragEnd(e){let{active:t,over:n}=e;return n?\"Draggable item \"+t.id+\" was dropped over droppable area \"+n.id:\"Draggable item \"+t.id+\" was dropped.\"},onDragCancel(e){let{active:t}=e;return\"Dragging was cancelled. Draggable item \"+t.id+\" was dropped.\"}};function Yi(e){let{announcements:t=Gi,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=Vi}=e,{announce:i,announcement:l}=Vo(),s=He(\"DndLiveRegion\"),[d,u]=(0,x.useState)(!1);if((0,x.useEffect)(()=>{u(!0)},[]),Wi((0,x.useMemo)(()=>({onDragStart(m){let{active:C}=m;i(t.onDragStart({active:C}))},onDragMove(m){let{active:C,over:g}=m;t.onDragMove&&i(t.onDragMove({active:C,over:g}))},onDragOver(m){let{active:C,over:g}=m;i(t.onDragOver({active:C,over:g}))},onDragEnd(m){let{active:C,over:g}=m;i(t.onDragEnd({active:C,over:g}))},onDragCancel(m){let{active:C,over:g}=m;i(t.onDragCancel({active:C,over:g}))}}),[i,t])),!d)return null;let f=x.default.createElement(x.default.Fragment,null,x.default.createElement(Wo,{id:r,value:o.draggable}),x.default.createElement($o,{id:s,announcement:l}));return n?(0,Ve.createPortal)(f,n):f}var $;(function(e){e.DragStart=\"dragStart\",e.DragMove=\"dragMove\",e.DragEnd=\"dragEnd\",e.DragCancel=\"dragCancel\",e.DragOver=\"dragOver\",e.RegisterDroppable=\"registerDroppable\",e.SetDroppableDisabled=\"setDroppableDisabled\",e.UnregisterDroppable=\"unregisterDroppable\"})($||($={}));function dn(){}function Ft(e,t){return(0,x.useMemo)(()=>({sensor:e,options:t!=null?t:{}}),[e,t])}function Xn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,x.useMemo)(()=>[...t].filter(r=>r!=null),[...t])}var me=Object.freeze({x:0,y:0});function Ki(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function oa(e,t){if(!e||e.length===0)return null;let[n]=e;return t?n[t]:n}function Xi(e,t){let n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),l=o-r,s=i-n;if(r<o&&n<i){let d=t.width*t.height,u=e.width*e.height,f=l*s,m=f/(d+u-f);return Number(m.toFixed(4))}return 0}var Zi=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e,o=[];for(let i of r){let{id:l}=i,s=n.get(l);if(s){let d=Xi(s,t);d>0&&o.push({id:l,data:{droppableContainer:i,value:d}})}}return o.sort(Ki)};function Qi(e,t,n){return N(k({},e),{scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1})}function aa(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:me}function Ji(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.reduce((l,s)=>N(k({},l),{top:l.top+e*s.y,bottom:l.bottom+e*s.y,left:l.left+e*s.x,right:l.right+e*s.x}),k({},n))}}var el=Ji(1);function tl(e){if(e.startsWith(\"matrix3d(\")){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith(\"matrix(\")){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function nl(e,t,n){let r=tl(t);if(!r)return e;let{scaleX:o,scaleY:i,x:l,y:s}=r,d=e.left-l-(1-o)*parseFloat(n),u=e.top-s-(1-i)*parseFloat(n.slice(n.indexOf(\" \")+1)),f=o?e.width/o:e.width,m=i?e.height/i:e.height;return{width:f,height:m,top:u,right:d+f,bottom:u+m,left:d}}var rl={ignoreTransform:!1};function Xe(e,t){t===void 0&&(t=rl);let n=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:u,transformOrigin:f}=te(e).getComputedStyle(e);u&&(n=nl(n,u,f))}let{top:r,left:o,width:i,height:l,bottom:s,right:d}=n;return{top:r,left:o,width:i,height:l,bottom:s,right:d}}function Go(e){return Xe(e,{ignoreTransform:!0})}function ol(e){let t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function al(e,t){return t===void 0&&(t=te(e).getComputedStyle(e)),t.position===\"fixed\"}function il(e,t){t===void 0&&(t=te(e).getComputedStyle(e));let n=/(auto|scroll|overlay)/;return[\"overflow\",\"overflowX\",\"overflowY\"].some(o=>{let i=t[o];return typeof i==\"string\"?n.test(i):!1})}function fn(e,t){let n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(on(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!rt(o)||jn(o)||n.includes(o))return n;let i=te(e).getComputedStyle(o);return o!==e&&il(o,i)&&n.push(o),al(o,i)?n:r(o.parentNode)}return e?r(e):n}function ia(e){let[t]=fn(e,1);return t!=null?t:null}function Hn(e){return!vt||!e?null:Ue(e)?e:rn(e)?on(e)||e===je(e).scrollingElement?window:rt(e)?e:null:null}function la(e){return Ue(e)?e.scrollX:e.scrollLeft}function sa(e){return Ue(e)?e.scrollY:e.scrollTop}function Vn(e){return{x:la(e),y:sa(e)}}var K;(function(e){e[e.Forward=1]=\"Forward\",e[e.Backward=-1]=\"Backward\"})(K||(K={}));function da(e){return!vt||!e?!1:e===document.scrollingElement}function ua(e){let t={x:0,y:0},n=da(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,l=e.scrollTop>=r.y,s=e.scrollLeft>=r.x;return{isTop:o,isLeft:i,isBottom:l,isRight:s,maxScroll:r,minScroll:t}}var ll={x:.2,y:.2};function sl(e,t,n,r,o){let{top:i,left:l,right:s,bottom:d}=n;r===void 0&&(r=10),o===void 0&&(o=ll);let{isTop:u,isBottom:f,isLeft:m,isRight:C}=ua(e),g={x:0,y:0},F={x:0,y:0},w={height:t.height*o.y,width:t.width*o.x};return!u&&i<=t.top+w.height?(g.y=K.Backward,F.y=r*Math.abs((t.top+w.height-i)/w.height)):!f&&d>=t.bottom-w.height&&(g.y=K.Forward,F.y=r*Math.abs((t.bottom-w.height-d)/w.height)),!C&&s>=t.right-w.width?(g.x=K.Forward,F.x=r*Math.abs((t.right-w.width-s)/w.width)):!m&&l<=t.left+w.width&&(g.x=K.Backward,F.x=r*Math.abs((t.left+w.width-l)/w.width)),{direction:g,speed:F}}function dl(e){if(e===document.scrollingElement){let{innerWidth:i,innerHeight:l}=window;return{top:0,left:0,right:i,bottom:l,width:i,height:l}}let{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function ca(e){return e.reduce((t,n)=>We(t,Vn(n)),me)}function ul(e){return e.reduce((t,n)=>t+la(n),0)}function cl(e){return e.reduce((t,n)=>t+sa(n),0)}function fl(e,t){if(t===void 0&&(t=Xe),!e)return;let{top:n,left:r,bottom:o,right:i}=t(e);ia(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:\"center\",inline:\"center\"})}var pl=[[\"x\",[\"left\",\"right\"],ul],[\"y\",[\"top\",\"bottom\"],cl]],Tt=class{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let r=fn(n),o=ca(r);this.rect=k({},t),this.width=t.width,this.height=t.height;for(let[i,l,s]of pl)for(let d of l)Object.defineProperty(this,d,{get:()=>{let u=s(r),f=o[i]-u;return this.rect[d]+f},enumerable:!0});Object.defineProperty(this,\"rect\",{enumerable:!1})}},Ge=class{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}};function ml(e){let{EventTarget:t}=te(e);return e instanceof t?e:je(e)}function Wn(e,t){let n=Math.abs(e.x),r=Math.abs(e.y);return typeof t==\"number\"?Math.sqrt(n**2+r**2)>t:\"x\"in t&&\"y\"in t?n>t.x&&r>t.y:\"x\"in t?n>t.x:\"y\"in t?r>t.y:!1}var ce;(function(e){e.Click=\"click\",e.DragStart=\"dragstart\",e.Keydown=\"keydown\",e.ContextMenu=\"contextmenu\",e.Resize=\"resize\",e.SelectionChange=\"selectionchange\",e.VisibilityChange=\"visibilitychange\"})(ce||(ce={}));function Yo(e){e.preventDefault()}function xl(e){e.stopPropagation()}var M;(function(e){e.Space=\"Space\",e.Down=\"ArrowDown\",e.Right=\"ArrowRight\",e.Left=\"ArrowLeft\",e.Up=\"ArrowUp\",e.Esc=\"Escape\",e.Enter=\"Enter\",e.Tab=\"Tab\"})(M||(M={}));var fa={start:[M.Space,M.Enter],cancel:[M.Esc],end:[M.Space,M.Enter,M.Tab]},gl=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case M.Right:return N(k({},n),{x:n.x+25});case M.Left:return N(k({},n),{x:n.x-25});case M.Down:return N(k({},n),{y:n.y+25});case M.Up:return N(k({},n),{y:n.y-25})}},un=class{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;let{event:{target:n}}=t;this.props=t,this.listeners=new Ge(je(n)),this.windowListeners=new Ge(te(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ce.Resize,this.handleCancel),this.windowListeners.add(ce.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ce.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&fl(r),n(me)}handleKeyDown(t){if(wt(t)){let{active:n,context:r,options:o}=this.props,{keyboardCodes:i=fa,coordinateGetter:l=gl,scrollBehavior:s=\"smooth\"}=o,{code:d}=t;if(i.end.includes(d)){this.handleEnd(t);return}if(i.cancel.includes(d)){this.handleCancel(t);return}let{collisionRect:u}=r.current,f=u?{x:u.left,y:u.top}:me;this.referenceCoordinates||(this.referenceCoordinates=f);let m=l(t,{active:n,context:r.current,currentCoordinates:f});if(m){let C=it(m,f),g={x:0,y:0},{scrollableAncestors:F}=r.current;for(let w of F){let b=t.code,{isTop:p,isRight:h,isLeft:O,isBottom:y,maxScroll:v,minScroll:T}=ua(w),D=dl(w),A={x:Math.min(b===M.Right?D.right-D.width/2:D.right,Math.max(b===M.Right?D.left:D.left+D.width/2,m.x)),y:Math.min(b===M.Down?D.bottom-D.height/2:D.bottom,Math.max(b===M.Down?D.top:D.top+D.height/2,m.y))},z=b===M.Right&&!h||b===M.Left&&!O,U=b===M.Down&&!y||b===M.Up&&!p;if(z&&A.x!==m.x){let B=w.scrollLeft+C.x,X=b===M.Right&&B<=v.x||b===M.Left&&B>=T.x;if(X&&!C.y){w.scrollTo({left:B,behavior:s});return}X?g.x=w.scrollLeft-B:g.x=b===M.Right?w.scrollLeft-v.x:w.scrollLeft-T.x,g.x&&w.scrollBy({left:-g.x,behavior:s});break}else if(U&&A.y!==m.y){let B=w.scrollTop+C.y,X=b===M.Down&&B<=v.y||b===M.Up&&B>=T.y;if(X&&!C.x){w.scrollTo({top:B,behavior:s});return}X?g.y=w.scrollTop-B:g.y=b===M.Down?w.scrollTop-v.y:w.scrollTop-T.y,g.y&&w.scrollBy({top:-g.y,behavior:s});break}}this.handleMove(t,We(it(m,this.referenceCoordinates),g))}}}handleMove(t,n){let{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){let{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){let{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}};un.activators=[{eventName:\"onKeyDown\",handler:(e,t,n)=>{let{keyboardCodes:r=fa,onActivation:o}=t,{active:i}=n,{code:l}=e.nativeEvent;if(r.start.includes(l)){let s=i.activatorNode.current;return s&&e.target!==s?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function Ko(e){return!!(e&&\"distance\"in e)}function Xo(e){return!!(e&&\"delay\"in e)}var St=class{constructor(t,n,r){var o;r===void 0&&(r=ml(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;let{event:i}=t,{target:l}=i;this.props=t,this.events=n,this.document=je(l),this.documentListeners=new Ge(this.document),this.listeners=new Ge(r),this.windowListeners=new Ge(te(l)),this.initialCoordinates=(o=Ct(i))!=null?o:me,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ce.Resize,this.handleCancel),this.windowListeners.add(ce.DragStart,Yo),this.windowListeners.add(ce.VisibilityChange,this.handleCancel),this.windowListeners.add(ce.ContextMenu,Yo),this.documentListeners.add(ce.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Xo(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Ko(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){let{active:r,onPending:o}=this.props;o(r,t,this.initialCoordinates,n)}handleStart(){let{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ce.Click,xl,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ce.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;let{activated:r,initialCoordinates:o,props:i}=this,{onMove:l,options:{activationConstraint:s}}=i;if(!o)return;let d=(n=Ct(t))!=null?n:me,u=it(o,d);if(!r&&s){if(Ko(s)){if(s.tolerance!=null&&Wn(u,s.tolerance))return this.handleCancel();if(Wn(u,s.distance))return this.handleStart()}if(Xo(s)&&Wn(u,s.tolerance))return this.handleCancel();this.handlePending(s,u);return}t.cancelable&&t.preventDefault(),l(d)}handleEnd(){let{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){let{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===M.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}},hl={cancel:{name:\"pointercancel\"},move:{name:\"pointermove\"},end:{name:\"pointerup\"}},Ke=class extends St{constructor(t){let{event:n}=t,r=je(n.target);super(t,hl,r)}};Ke.activators=[{eventName:\"onPointerDown\",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];var bl={move:{name:\"mousemove\"},end:{name:\"mouseup\"}},Gn;(function(e){e[e.RightClick=2]=\"RightClick\"})(Gn||(Gn={}));var Yn=class extends St{constructor(t){super(t,bl,je(t.event.target))}};Yn.activators=[{eventName:\"onMouseDown\",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Gn.RightClick?!1:(r==null||r({event:n}),!0)}}];var $n={cancel:{name:\"touchcancel\"},move:{name:\"touchmove\"},end:{name:\"touchend\"}},lt=class extends St{constructor(t){super(t,$n)}static setup(){return window.addEventListener($n.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener($n.move.name,t)};function t(){}}};lt.activators=[{eventName:\"onTouchStart\",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t,{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var Ot;(function(e){e[e.Pointer=0]=\"Pointer\",e[e.DraggableRect=1]=\"DraggableRect\"})(Ot||(Ot={}));var cn;(function(e){e[e.TreeOrder=0]=\"TreeOrder\",e[e.ReversedTreeOrder=1]=\"ReversedTreeOrder\"})(cn||(cn={}));function vl(e){let{acceleration:t,activator:n=Ot.Pointer,canScroll:r,draggingRect:o,enabled:i,interval:l=5,order:s=cn.TreeOrder,pointerCoordinates:d,scrollableAncestors:u,scrollableAncestorRects:f,delta:m,threshold:C}=e,g=wl({delta:m,disabled:!i}),[F,w]=Uo(),b=(0,x.useRef)({x:0,y:0}),p=(0,x.useRef)({x:0,y:0}),h=(0,x.useMemo)(()=>{switch(n){case Ot.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Ot.DraggableRect:return o}},[n,o,d]),O=(0,x.useRef)(null),y=(0,x.useCallback)(()=>{let T=O.current;if(!T)return;let D=b.current.x*p.current.x,A=b.current.y*p.current.y;T.scrollBy(D,A)},[]),v=(0,x.useMemo)(()=>s===cn.TreeOrder?[...u].reverse():u,[s,u]);(0,x.useEffect)(()=>{if(!i||!u.length||!h){w();return}for(let T of v){if((r==null?void 0:r(T))===!1)continue;let D=u.indexOf(T),A=f[D];if(!A)continue;let{direction:z,speed:U}=sl(T,A,h,t,C);for(let B of[\"x\",\"y\"])g[B][z[B]]||(U[B]=0,z[B]=0);if(U.x>0||U.y>0){w(),O.current=T,F(y,l),b.current=U,p.current=z;return}}b.current={x:0,y:0},p.current={x:0,y:0},w()},[t,y,r,w,i,l,JSON.stringify(h),JSON.stringify(g),F,u,v,f,JSON.stringify(C)])}var yl={x:{[K.Backward]:!1,[K.Forward]:!1},y:{[K.Backward]:!1,[K.Forward]:!1}};function wl(e){let{delta:t,disabled:n}=e,r=ln(t);return at(o=>{if(n||!r||!o)return yl;let i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[K.Backward]:o.x[K.Backward]||i.x===-1,[K.Forward]:o.x[K.Forward]||i.x===1},y:{[K.Backward]:o.y[K.Backward]||i.y===-1,[K.Forward]:o.y[K.Forward]||i.y===1}}},[n,t,r])}function Cl(e,t){let n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return at(o=>{var i;return t==null?null:(i=r!=null?r:o)!=null?i:null},[r,t])}function Ol(e,t){return(0,x.useMemo)(()=>e.reduce((n,r)=>{let{sensor:o}=r,i=o.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,r)}));return[...n,...i]},[]),[e,t])}var kt;(function(e){e[e.Always=0]=\"Always\",e[e.BeforeDragging=1]=\"BeforeDragging\",e[e.WhileDragging=2]=\"WhileDragging\"})(kt||(kt={}));var Kn;(function(e){e.Optimized=\"optimized\"})(Kn||(Kn={}));var Zo=new Map;function Tl(e,t){let{dragging:n,dependencies:r,config:o}=t,[i,l]=(0,x.useState)(null),{frequency:s,measure:d,strategy:u}=o,f=(0,x.useRef)(e),m=b(),C=ot(m),g=(0,x.useCallback)(function(p){p===void 0&&(p=[]),!C.current&&l(h=>h===null?p:h.concat(p.filter(O=>!h.includes(O))))},[C]),F=(0,x.useRef)(null),w=at(p=>{if(m&&!n)return Zo;if(!p||p===Zo||f.current!==e||i!=null){let h=new Map;for(let O of e){if(!O)continue;if(i&&i.length>0&&!i.includes(O.id)&&O.rect.current){h.set(O.id,O.rect.current);continue}let y=O.node.current,v=y?new Tt(d(y),y):null;O.rect.current=v,v&&h.set(O.id,v)}return h}return p},[e,i,n,m,d]);return(0,x.useEffect)(()=>{f.current=e},[e]),(0,x.useEffect)(()=>{m||g()},[n,m]),(0,x.useEffect)(()=>{i&&i.length>0&&l(null)},[JSON.stringify(i)]),(0,x.useEffect)(()=>{m||typeof s!=\"number\"||F.current!==null||(F.current=setTimeout(()=>{g(),F.current=null},s))},[s,m,g,...r]),{droppableRects:w,measureDroppableContainers:g,measuringScheduled:i!=null};function b(){switch(u){case kt.Always:return!1;case kt.BeforeDragging:return n;default:return!n}}}function pa(e,t){return at(n=>e?n||(typeof t==\"function\"?t(e):e):null,[t,e])}function Sl(e,t){return pa(e,t)}function kl(e){let{callback:t,disabled:n}=e,r=an(t),o=(0,x.useMemo)(()=>{if(n||typeof window>\"u\"||typeof window.MutationObserver>\"u\")return;let{MutationObserver:i}=window;return new i(r)},[r,n]);return(0,x.useEffect)(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function pn(e){let{callback:t,disabled:n}=e,r=an(t),o=(0,x.useMemo)(()=>{if(n||typeof window>\"u\"||typeof window.ResizeObserver>\"u\")return;let{ResizeObserver:i}=window;return new i(r)},[n]);return(0,x.useEffect)(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function Fl(e){return new Tt(Xe(e),e)}function Qo(e,t,n){t===void 0&&(t=Fl);let[r,o]=(0,x.useState)(null);function i(){o(d=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=d!=null?d:n)!=null?u:null}let f=t(e);return JSON.stringify(d)===JSON.stringify(f)?d:f})}let l=kl({callback(d){if(e)for(let u of d){let{type:f,target:m}=u;if(f===\"childList\"&&m instanceof HTMLElement&&m.contains(e)){i();break}}}}),s=pn({callback:i});return ue(()=>{i(),e?(s==null||s.observe(e),l==null||l.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),l==null||l.disconnect())},[e]),r}function El(e){let t=pa(e);return aa(e,t)}var Jo=[];function Dl(e){let t=(0,x.useRef)(e),n=at(r=>e?r&&r!==Jo&&e&&t.current&&e.parentNode===t.current.parentNode?r:fn(e):Jo,[e]);return(0,x.useEffect)(()=>{t.current=e},[e]),n}function Il(e){let[t,n]=(0,x.useState)(null),r=(0,x.useRef)(e),o=(0,x.useCallback)(i=>{let l=Hn(i.target);l&&n(s=>s?(s.set(l,Vn(l)),new Map(s)):null)},[]);return(0,x.useEffect)(()=>{let i=r.current;if(e!==i){l(i);let s=e.map(d=>{let u=Hn(d);return u?(u.addEventListener(\"scroll\",o,{passive:!0}),[u,Vn(u)]):null}).filter(d=>d!=null);n(s.length?new Map(s):null),r.current=e}return()=>{l(e),l(i)};function l(s){s.forEach(d=>{let u=Hn(d);u==null||u.removeEventListener(\"scroll\",o)})}},[o,e]),(0,x.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((i,l)=>We(i,l),me):ca(e):me,[e,t])}function ea(e,t){t===void 0&&(t=[]);let n=(0,x.useRef)(null);return(0,x.useEffect)(()=>{n.current=null},t),(0,x.useEffect)(()=>{let r=e!==me;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?it(e,n.current):me}function Nl(e){(0,x.useEffect)(()=>{if(!vt)return;let t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(let n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Al(e,t){return(0,x.useMemo)(()=>e.reduce((n,r)=>{let{eventName:o,handler:i}=r;return n[o]=l=>{i(l,t)},n},{}),[e,t])}function ma(e){return(0,x.useMemo)(()=>e?ol(e):null,[e])}var ta=[];function Ml(e,t){t===void 0&&(t=Xe);let[n]=e,r=ma(n?te(n):null),[o,i]=(0,x.useState)(ta);function l(){i(()=>e.length?e.map(d=>da(d)?r:new Tt(t(d),d)):ta)}let s=pn({callback:l});return ue(()=>{s==null||s.disconnect(),l(),e.forEach(d=>s==null?void 0:s.observe(d))},[e]),o}function Pl(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return rt(t)?t:e}function Ll(e){let{measure:t}=e,[n,r]=(0,x.useState)(null),o=(0,x.useCallback)(u=>{for(let{target:f}of u)if(rt(f)){r(m=>{let C=t(f);return m?N(k({},m),{width:C.width,height:C.height}):C});break}},[t]),i=pn({callback:o}),l=(0,x.useCallback)(u=>{let f=Pl(u);i==null||i.disconnect(),f&&(i==null||i.observe(f)),r(f?t(f):null)},[t,i]),[s,d]=yt(l);return(0,x.useMemo)(()=>({nodeRef:s,rect:n,setRef:d}),[n,s,d])}var Bl=[{sensor:Ke,options:{}},{sensor:un,options:{}}],_l={current:{}},sn={draggable:{measure:Go},droppable:{measure:Go,strategy:kt.WhileDragging,frequency:Kn.Optimized},dragOverlay:{measure:Xe}},Ye=class extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}},zl={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ye,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:dn},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:sn,measureDroppableContainers:dn,windowRect:null,measuringScheduled:!1},ql={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:\"\"},dispatch:dn,draggableNodes:new Map,over:null,measureDroppableContainers:dn},mn=(0,x.createContext)(ql),xa=(0,x.createContext)(zl);function Rl(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ye}}}function Ul(e,t){switch(t.type){case $.DragStart:return N(k({},e),{draggable:N(k({},e.draggable),{initialCoordinates:t.initialCoordinates,active:t.active})});case $.DragMove:return e.draggable.active==null?e:N(k({},e),{draggable:N(k({},e.draggable),{translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}})});case $.DragEnd:case $.DragCancel:return N(k({},e),{draggable:N(k({},e.draggable),{active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}})});case $.RegisterDroppable:{let{element:n}=t,{id:r}=n,o=new Ye(e.droppable.containers);return o.set(r,n),N(k({},e),{droppable:N(k({},e.droppable),{containers:o})})}case $.SetDroppableDisabled:{let{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;let l=new Ye(e.droppable.containers);return l.set(n,N(k({},i),{disabled:o})),N(k({},e),{droppable:N(k({},e.droppable),{containers:l})})}case $.UnregisterDroppable:{let{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;let i=new Ye(e.droppable.containers);return i.delete(n),N(k({},e),{droppable:N(k({},e.droppable),{containers:i})})}default:return e}}function jl(e){let{disabled:t}=e,{active:n,activatorEvent:r,draggableNodes:o}=(0,x.useContext)(mn),i=ln(r),l=ln(n==null?void 0:n.id);return(0,x.useEffect)(()=>{if(!t&&!r&&i&&l!=null){if(!wt(i)||document.activeElement===i.target)return;let s=o.get(l);if(!s)return;let{activatorNode:d,node:u}=s;if(!d.current&&!u.current)return;requestAnimationFrame(()=>{for(let f of[d.current,u.current]){if(!f)continue;let m=Ho(f);if(m){m.focus();break}}})}},[r,t,o,l,i]),null}function Hl(e,t){let o=t,{transform:n}=o,r=Cn(o,[\"transform\"]);return e!=null&&e.length?e.reduce((i,l)=>l(k({transform:i},r)),n):n}function Wl(e){return(0,x.useMemo)(()=>({draggable:k(k({},sn.draggable),e==null?void 0:e.draggable),droppable:k(k({},sn.droppable),e==null?void 0:e.droppable),dragOverlay:k(k({},sn.dragOverlay),e==null?void 0:e.dragOverlay)}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function $l(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e,i=(0,x.useRef)(!1),{x:l,y:s}=typeof o==\"boolean\"?{x:o,y:o}:o;ue(()=>{if(!l&&!s||!t){i.current=!1;return}if(i.current||!r)return;let u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;let f=n(u),m=aa(f,r);if(l||(m.x=0),s||(m.y=0),i.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){let C=ia(u);C&&C.scrollBy({top:m.y,left:m.x})}},[t,l,s,r,n])}var ga=(0,x.createContext)(N(k({},me),{scaleX:1,scaleY:1})),Me;(function(e){e[e.Uninitialized=0]=\"Uninitialized\",e[e.Initializing=1]=\"Initializing\",e[e.Initialized=2]=\"Initialized\"})(Me||(Me={}));var Zn=(0,x.memo)(function(t){var n,r,o,i;let ur=t,{id:l,accessibility:s,autoScroll:d=!0,children:u,sensors:f=Bl,collisionDetection:m=Zi,measuring:C,modifiers:g}=ur,F=Cn(ur,[\"id\",\"accessibility\",\"autoScroll\",\"children\",\"sensors\",\"collisionDetection\",\"measuring\",\"modifiers\"]),w=(0,x.useReducer)(Ul,void 0,Rl),[b,p]=w,[h,O]=$i(),[y,v]=(0,x.useState)(Me.Uninitialized),T=y===Me.Initialized,{draggable:{active:D,nodes:A,translate:z},droppable:{containers:U}}=b,B=D!=null?A.get(D):null,X=(0,x.useRef)({initial:null,translated:null}),ne=(0,x.useMemo)(()=>{var J;return D!=null?{id:D,data:(J=B==null?void 0:B.data)!=null?J:_l,rect:X}:null},[D,B]),se=(0,x.useRef)(null),[Pe,Oe]=(0,x.useState)(null),[Z,Te]=(0,x.useState)(null),fe=ot(F,Object.values(F)),S=He(\"DndDescribedBy\",l),E=(0,x.useMemo)(()=>U.getEnabled(),[U]),I=Wl(C),{droppableRects:L,measureDroppableContainers:pe,measuringScheduled:Le}=Tl(E,{dragging:T,dependencies:[z.x,z.y],config:I.droppable}),re=Cl(A,D),At=(0,x.useMemo)(()=>Z?Ct(Z):null,[Z]),Se=Ba(),ye=Sl(re,I.draggable.measure);$l({activeNode:D!=null?A.get(D):null,config:Se.layoutShiftCompensation,initialRect:ye,measure:I.draggable.measure});let P=Qo(re,I.draggable.measure,ye),ut=Qo(re?re.parentElement:null),xe=(0,x.useRef)({activatorEvent:null,active:null,activeNode:re,collisionRect:null,collisions:null,droppableRects:L,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:U,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ze=U.getNodeFor((n=xe.current.over)==null?void 0:n.id),we=Ll({measure:I.dragOverlay.measure}),Qe=(r=we.nodeRef.current)!=null?r:re,Je=T?(o=we.rect)!=null?o:P:null,nr=!!(we.nodeRef.current&&we.rect),rr=El(nr?null:P),bn=ma(Qe?te(Qe):null),ke=Dl(T?Ze!=null?Ze:re:null),Mt=Ml(ke),Pt=Hl(g,{transform:{x:z.x-rr.x,y:z.y-rr.y,scaleX:1,scaleY:1},activatorEvent:Z,active:ne,activeNodeRect:P,containerNodeRect:ut,draggingNodeRect:Je,over:xe.current.over,overlayNodeRect:we.rect,scrollableAncestors:ke,scrollableAncestorRects:Mt,windowRect:bn}),or=At?We(At,z):null,ar=Il(ke),Da=ea(ar),Ia=ea(ar,[P]),et=We(Pt,Da),tt=Je?el(Je,Pt):null,ct=ne&&tt?m({active:ne,collisionRect:tt,droppableRects:L,droppableContainers:E,pointerCoordinates:or}):null,ir=oa(ct,\"id\"),[Fe,lr]=(0,x.useState)(null),Na=nr?Pt:We(Pt,Ia),Aa=Qi(Na,(i=Fe==null?void 0:Fe.rect)!=null?i:null,P),vn=(0,x.useRef)(null),sr=(0,x.useCallback)((J,oe)=>{let{sensor:ae,options:Ee}=oe;if(se.current==null)return;let de=A.get(se.current);if(!de)return;let ie=J.nativeEvent,ge=new ae({active:se.current,activeNode:de,event:ie,options:Ee,context:xe,onAbort(Q){if(!A.get(Q))return;let{onDragAbort:he}=fe.current,Ce={id:Q};he==null||he(Ce),h({type:\"onDragAbort\",event:Ce})},onPending(Q,De,he,Ce){if(!A.get(Q))return;let{onDragPending:pt}=fe.current,Ie={id:Q,constraint:De,initialCoordinates:he,offset:Ce};pt==null||pt(Ie),h({type:\"onDragPending\",event:Ie})},onStart(Q){let De=se.current;if(De==null)return;let he=A.get(De);if(!he)return;let{onDragStart:Ce}=fe.current,ft={activatorEvent:ie,active:{id:De,data:he.data,rect:X}};(0,Ve.unstable_batchedUpdates)(()=>{Ce==null||Ce(ft),v(Me.Initializing),p({type:$.DragStart,initialCoordinates:Q,active:De}),h({type:\"onDragStart\",event:ft}),Oe(vn.current),Te(ie)})},onMove(Q){p({type:$.DragMove,coordinates:Q})},onEnd:nt($.DragEnd),onCancel:nt($.DragCancel)});vn.current=ge;function nt(Q){return async function(){let{active:he,collisions:Ce,over:ft,scrollAdjustedTranslate:pt}=xe.current,Ie=null;if(he&&pt){let{cancelDrop:mt}=fe.current;Ie={activatorEvent:ie,active:he,collisions:Ce,delta:pt,over:ft},Q===$.DragEnd&&typeof mt==\"function\"&&await Promise.resolve(mt(Ie))&&(Q=$.DragCancel)}se.current=null,(0,Ve.unstable_batchedUpdates)(()=>{p({type:Q}),v(Me.Uninitialized),lr(null),Oe(null),Te(null),vn.current=null;let mt=Q===$.DragEnd?\"onDragEnd\":\"onDragCancel\";if(Ie){let yn=fe.current[mt];yn==null||yn(Ie),h({type:mt,event:Ie})}})}}},[A]),Ma=(0,x.useCallback)((J,oe)=>(ae,Ee)=>{let de=ae.nativeEvent,ie=A.get(Ee);if(se.current!==null||!ie||de.dndKit||de.defaultPrevented)return;let ge={active:ie};J(ae,oe.options,ge)===!0&&(de.dndKit={capturedBy:oe.sensor},se.current=Ee,sr(ae,oe))},[A,sr]),dr=Ol(f,Ma);Nl(f),ue(()=>{P&&y===Me.Initializing&&v(Me.Initialized)},[P,y]),(0,x.useEffect)(()=>{let{onDragMove:J}=fe.current,{active:oe,activatorEvent:ae,collisions:Ee,over:de}=xe.current;if(!oe||!ae)return;let ie={active:oe,activatorEvent:ae,collisions:Ee,delta:{x:et.x,y:et.y},over:de};(0,Ve.unstable_batchedUpdates)(()=>{J==null||J(ie),h({type:\"onDragMove\",event:ie})})},[et.x,et.y]),(0,x.useEffect)(()=>{let{active:J,activatorEvent:oe,collisions:ae,droppableContainers:Ee,scrollAdjustedTranslate:de}=xe.current;if(!J||se.current==null||!oe||!de)return;let{onDragOver:ie}=fe.current,ge=Ee.get(ir),nt=ge&&ge.rect.current?{id:ge.id,rect:ge.rect.current,data:ge.data,disabled:ge.disabled}:null,Q={active:J,activatorEvent:oe,collisions:ae,delta:{x:de.x,y:de.y},over:nt};(0,Ve.unstable_batchedUpdates)(()=>{lr(nt),ie==null||ie(Q),h({type:\"onDragOver\",event:Q})})},[ir]),ue(()=>{xe.current={activatorEvent:Z,active:ne,activeNode:re,collisionRect:tt,collisions:ct,droppableRects:L,draggableNodes:A,draggingNode:Qe,draggingNodeRect:Je,droppableContainers:U,over:Fe,scrollableAncestors:ke,scrollAdjustedTranslate:et},X.current={initial:Je,translated:tt}},[ne,re,ct,tt,A,Qe,Je,L,U,Fe,ke,et]),vl(N(k({},Se),{delta:z,draggingRect:tt,pointerCoordinates:or,scrollableAncestors:ke,scrollableAncestorRects:Mt}));let Pa=(0,x.useMemo)(()=>({active:ne,activeNode:re,activeNodeRect:P,activatorEvent:Z,collisions:ct,containerNodeRect:ut,dragOverlay:we,draggableNodes:A,droppableContainers:U,droppableRects:L,over:Fe,measureDroppableContainers:pe,scrollableAncestors:ke,scrollableAncestorRects:Mt,measuringConfiguration:I,measuringScheduled:Le,windowRect:bn}),[ne,re,P,Z,ct,ut,we,A,U,L,Fe,pe,ke,Mt,I,Le,bn]),La=(0,x.useMemo)(()=>({activatorEvent:Z,activators:dr,active:ne,activeNodeRect:P,ariaDescribedById:{draggable:S},dispatch:p,draggableNodes:A,over:Fe,measureDroppableContainers:pe}),[Z,dr,ne,P,p,S,A,Fe,pe]);return x.default.createElement(ra.Provider,{value:O},x.default.createElement(mn.Provider,{value:La},x.default.createElement(xa.Provider,{value:Pa},x.default.createElement(ga.Provider,{value:Aa},u)),x.default.createElement(jl,{disabled:(s==null?void 0:s.restoreFocus)===!1})),x.default.createElement(Yi,N(k({},s),{hiddenTextDescribedById:S})));function Ba(){let J=(Pe==null?void 0:Pe.autoScrollEnabled)===!1,oe=typeof d==\"object\"?d.enabled===!1:d===!1,ae=T&&!J&&!oe;return typeof d==\"object\"?N(k({},d),{enabled:ae}):{enabled:ae}}}),Vl=(0,x.createContext)(null),na=\"button\",Gl=\"Draggable\";function ha(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e,i=He(Gl),{activators:l,activatorEvent:s,active:d,activeNodeRect:u,ariaDescribedById:f,draggableNodes:m,over:C}=(0,x.useContext)(mn),{role:g=na,roleDescription:F=\"draggable\",tabIndex:w=0}=o!=null?o:{},b=(d==null?void 0:d.id)===t,p=(0,x.useContext)(b?ga:Vl),[h,O]=yt(),[y,v]=yt(),T=Al(l,t),D=ot(n);ue(()=>(m.set(t,{id:t,key:i,node:h,activatorNode:y,data:D}),()=>{let z=m.get(t);z&&z.key===i&&m.delete(t)}),[m,t]);let A=(0,x.useMemo)(()=>({role:g,tabIndex:w,\"aria-disabled\":r,\"aria-pressed\":b&&g===na?!0:void 0,\"aria-roledescription\":F,\"aria-describedby\":f.draggable}),[r,g,w,b,F,f.draggable]);return{active:d,activatorEvent:s,activeNodeRect:u,attributes:A,isDragging:b,listeners:r?void 0:T,node:h,over:C,setNodeRef:O,setActivatorNodeRef:v,transform:p}}function ba(){return(0,x.useContext)(xa)}var Yl=\"Droppable\",Kl={timeout:25};function va(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e,i=He(Yl),{active:l,dispatch:s,over:d,measureDroppableContainers:u}=(0,x.useContext)(mn),f=(0,x.useRef)({disabled:n}),m=(0,x.useRef)(!1),C=(0,x.useRef)(null),g=(0,x.useRef)(null),{disabled:F,updateMeasurementsFor:w,timeout:b}=k(k({},Kl),o),p=ot(w!=null?w:r),h=(0,x.useCallback)(()=>{if(!m.current){m.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{u(Array.isArray(p.current)?p.current:[p.current]),g.current=null},b)},[b]),O=pn({callback:h,disabled:F||!l}),y=(0,x.useCallback)((A,z)=>{O&&(z&&(O.unobserve(z),m.current=!1),A&&O.observe(A))},[O]),[v,T]=yt(y),D=ot(t);return(0,x.useEffect)(()=>{!O||!v.current||(O.disconnect(),m.current=!1,O.observe(v.current))},[v,O]),(0,x.useEffect)(()=>(s({type:$.RegisterDroppable,element:{id:r,key:i,disabled:n,node:v,rect:C,data:D}}),()=>s({type:$.UnregisterDroppable,key:i,id:r})),[r]),(0,x.useEffect)(()=>{n!==f.current.disabled&&(s({type:$.SetDroppableDisabled,id:r,key:i,disabled:n}),f.current.disabled=n)},[r,i,n,s]),{active:l,rect:C,isOver:(d==null?void 0:d.id)===r,node:v,over:d,setNodeRef:T}}var Qn=e=>{let{transform:t}=e;return N(k({},t),{x:0})};var H=q(V());function Et(e,t,n){let r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Xl(e,t){return e.reduce((n,r,o)=>{let i=t.get(r);return i&&(n[o]=i),n},Array(e.length))}function xn(e){return e!==null&&e>=0}function Zl(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Ql(e){return typeof e==\"boolean\"?{draggable:e,droppable:e}:e}var ya=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e,i=Et(t,r,n),l=t[o],s=i[o];return!s||!l?null:{x:s.left-l.left,y:s.top-l.top,scaleX:s.width/l.width,scaleY:s.height/l.height}};var gn={scaleX:1,scaleY:1},Jn=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:l}=e,s=(t=i[n])!=null?t:r;if(!s)return null;if(o===n){let u=i[l];return u?k({x:0,y:n<l?u.top+u.height-(s.top+s.height):u.top-s.top},gn):null}let d=Jl(i,o,n);return o>n&&o<=l?k({x:0,y:-s.height-d},gn):o<n&&o>=l?k({x:0,y:s.height+d},gn):k({x:0,y:0},gn)};function Jl(e,t,n){let r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}var wa=\"Sortable\",Ca=H.default.createContext({activeIndex:-1,containerId:wa,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:ya,disabled:{draggable:!1,droppable:!1}});function er(e){let{children:t,id:n,items:r,strategy:o=ya,disabled:i=!1}=e,{active:l,dragOverlay:s,droppableRects:d,over:u,measureDroppableContainers:f}=ba(),m=He(wa,n),C=s.rect!==null,g=(0,H.useMemo)(()=>r.map(T=>typeof T==\"object\"&&\"id\"in T?T.id:T),[r]),F=l!=null,w=l?g.indexOf(l.id):-1,b=u?g.indexOf(u.id):-1,p=(0,H.useRef)(g),h=!Zl(g,p.current),O=b!==-1&&w===-1||h,y=Ql(i);ue(()=>{h&&F&&f(g)},[h,g,F,f]),(0,H.useEffect)(()=>{p.current=g},[g]);let v=(0,H.useMemo)(()=>({activeIndex:w,containerId:m,disabled:y,disableTransforms:O,items:g,overIndex:b,useDragOverlay:C,sortedRects:Xl(g,d),strategy:o}),[w,m,y.draggable,y.droppable,O,g,b,d,C,o]);return H.default.createElement(Ca.Provider,{value:v},t)}var es=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return Et(n,r,o).indexOf(t)},ts=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:l,previousItems:s,previousContainerId:d,transition:u}=e;return!u||!r||s!==i&&o===l?!1:n?!0:l!==o&&t===d},ns={duration:200,easing:\"ease\"},Oa=\"transform\",rs=Ae.Transition.toString({property:Oa,duration:0,easing:\"linear\"}),os={roleDescription:\"sortable\"};function as(e){let{disabled:t,index:n,node:r,rect:o}=e,[i,l]=(0,H.useState)(null),s=(0,H.useRef)(n);return ue(()=>{if(!t&&n!==s.current&&r.current){let d=o.current;if(d){let u=Xe(r.current,{ignoreTransform:!0}),f={x:d.left-u.left,y:d.top-u.top,scaleX:d.width/u.width,scaleY:d.height/u.height};(f.x||f.y)&&l(f)}}n!==s.current&&(s.current=n)},[t,n,r,o]),(0,H.useEffect)(()=>{i&&l(null)},[i]),i}function tr(e){let{animateLayoutChanges:t=ts,attributes:n,disabled:r,data:o,getNewIndex:i=es,id:l,strategy:s,resizeObserverConfig:d,transition:u=ns}=e,{items:f,containerId:m,activeIndex:C,disabled:g,disableTransforms:F,sortedRects:w,overIndex:b,useDragOverlay:p,strategy:h}=(0,H.useContext)(Ca),O=is(r,g),y=f.indexOf(l),v=(0,H.useMemo)(()=>k({sortable:{containerId:m,index:y,items:f}},o),[m,o,y,f]),T=(0,H.useMemo)(()=>f.slice(f.indexOf(l)),[f,l]),{rect:D,node:A,isOver:z,setNodeRef:U}=va({id:l,data:v,disabled:O.droppable,resizeObserverConfig:k({updateMeasurementsFor:T},d)}),{active:B,activatorEvent:X,activeNodeRect:ne,attributes:se,setNodeRef:Pe,listeners:Oe,isDragging:Z,over:Te,setActivatorNodeRef:fe,transform:S}=ha({id:l,data:v,attributes:k(k({},os),n),disabled:O.draggable}),E=Ro(U,Pe),I=!!B,L=I&&!F&&xn(C)&&xn(b),pe=!p&&Z,Le=pe&&L?S:null,re=s!=null?s:h,At=L?Le!=null?Le:re({rects:w,activeNodeRect:ne,activeIndex:C,overIndex:b,index:y}):null,Se=xn(C)&&xn(b)?i({id:l,items:f,activeIndex:C,overIndex:b}):y,ye=B==null?void 0:B.id,P=(0,H.useRef)({activeId:ye,items:f,newIndex:Se,containerId:m}),ut=f!==P.current.items,xe=t({active:B,containerId:m,isDragging:Z,isSorting:I,id:l,index:y,items:f,newIndex:P.current.newIndex,previousItems:P.current.items,previousContainerId:P.current.containerId,transition:u,wasDragging:P.current.activeId!=null}),Ze=as({disabled:!xe,index:y,node:A,rect:D});return(0,H.useEffect)(()=>{I&&P.current.newIndex!==Se&&(P.current.newIndex=Se),m!==P.current.containerId&&(P.current.containerId=m),f!==P.current.items&&(P.current.items=f)},[I,Se,m,f]),(0,H.useEffect)(()=>{if(ye===P.current.activeId)return;if(ye!=null&&P.current.activeId==null){P.current.activeId=ye;return}let Qe=setTimeout(()=>{P.current.activeId=ye},50);return()=>clearTimeout(Qe)},[ye]),{active:B,activeIndex:C,attributes:se,data:v,rect:D,index:y,newIndex:Se,items:f,isOver:z,isSorting:I,isDragging:Z,listeners:Oe,node:A,overIndex:b,over:Te,setNodeRef:E,setActivatorNodeRef:fe,setDroppableNodeRef:U,setDraggableNodeRef:Pe,transform:Ze!=null?Ze:At,transition:we()};function we(){if(Ze||ut&&P.current.newIndex===y)return rs;if(!(pe&&!wt(X)||!u)&&(I||xe))return Ae.Transition.toString(N(k({},u),{property:Oa}))}}function is(e,t){var n,r;return typeof e==\"boolean\"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}var tc=[M.Down,M.Right,M.Up,M.Left];if(typeof window<\"u\"){let e=document.createElement(\"style\");e.textContent=\".container {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  flex: 1;\\n  width: 100%;\\n  padding: 16px;\\n  box-sizing: border-box;\\n  background: #F2F2F7;\\n}\\n.qrcode-card {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  width: 100%;\\n  max-width: 360px;\\n  margin: 0 auto;\\n  padding: 24px 20px;\\n}\\n.qrcode-wrapper {\\n  position: relative;\\n  cursor: pointer;\\n  margin-bottom: 24px;\\n  display: flex;\\n  justify-content: center;\\n}\\n.qrcode-wrapper:hover .qrcode-glow {\\n  opacity: 0.4;\\n}\\n.qrcode-glow {\\n  position: absolute;\\n  inset: -4px;\\n  background: linear-gradient(135deg, #60a5fa 0%, #a78bfa 100%);\\n  border-radius: 24px;\\n  filter: blur(12px);\\n  opacity: 0.2;\\n  transition: opacity 0.3s ease;\\n  z-index: 0;\\n}\\n.qrcode-container {\\n  position: relative;\\n  background: #fff;\\n  padding: 16px;\\n  border-radius: 20px;\\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\\n  border: 1px solid rgba(0, 0, 0, 0.05);\\n  z-index: 1;\\n}\\n.qrcode-image {\\n  width: 160px;\\n  height: 160px;\\n  border-radius: 12px;\\n  object-fit: cover;\\n  transition: opacity 0.3s ease;\\n}\\n.qrcode-image--loading {\\n  opacity: 0.3;\\n}\\n.qrcode-overlay {\\n  position: absolute;\\n  inset: 0;\\n  background: rgba(255, 255, 255, 0.95);\\n  backdrop-filter: blur(4px);\\n  border-radius: 20px;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  gap: 12px;\\n  z-index: 10;\\n}\\n.qrcode-overlay span {\\n  font-size: 12px;\\n  font-weight: 500;\\n  color: #8E8E93;\\n  letter-spacing: 0.5px;\\n}\\n.qrcode-spinner {\\n  width: 32px;\\n  height: 32px;\\n  border: 2px solid rgba(59, 130, 246, 0.2);\\n  border-top-color: #3b82f6;\\n  border-radius: 50%;\\n  animation: spin 0.8s linear infinite;\\n}\\n@keyframes spin {\\n  to {\\n    transform: rotate(360deg);\\n  }\\n}\\n.qrcode-status {\\n  position: absolute;\\n  bottom: -14px;\\n  left: 50%;\\n  transform: translateX(-50%);\\n  display: flex;\\n  align-items: center;\\n  gap: 6px;\\n  padding: 4px 12px;\\n  background: rgba(255, 255, 255, 0.95);\\n  backdrop-filter: blur(8px);\\n  border-radius: 12px;\\n  border: 1px solid rgba(0, 0, 0, 0.05);\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);\\n  z-index: 20;\\n  white-space: nowrap;\\n}\\n.status-dot {\\n  width: 6px;\\n  height: 6px;\\n  border-radius: 50%;\\n  flex-shrink: 0;\\n  transition: background-color 0.3s ease;\\n}\\n.status-dot--pulse {\\n  animation: pulse 1.5s ease-in-out infinite;\\n}\\n@keyframes pulse {\\n  0%,\\n  100% {\\n    opacity: 1;\\n  }\\n  50% {\\n    opacity: 0.5;\\n  }\\n}\\n.status-text {\\n  font-size: 10px;\\n  font-weight: 600;\\n  color: #8E8E93;\\n  text-transform: uppercase;\\n  letter-spacing: 0.5px;\\n  white-space: nowrap;\\n}\\n.cookie-result-wrapper {\\n  width: 100%;\\n  margin-bottom: 20px;\\n}\\n.cookie-result {\\n  width: 100%;\\n  height: 120px;\\n  padding: 14px;\\n  background: rgba(118, 118, 128, 0.08);\\n  border: none;\\n  border-radius: 16px;\\n  font-size: 12px;\\n  font-family: 'SF Mono', Monaco, 'Courier New', monospace;\\n  color: #1C1C1E;\\n  resize: none;\\n  outline: none;\\n  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.04);\\n  transition: background-color 0.2s ease, box-shadow 0.2s ease;\\n  box-sizing: border-box;\\n}\\n.cookie-result::placeholder {\\n  color: #8E8E93;\\n}\\n.cookie-result:focus {\\n  background: rgba(255, 255, 255, 0.8);\\n  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.04), 0 0 0 2px rgba(59, 130, 246, 0.2);\\n}\\n.action-buttons {\\n  display: grid;\\n  grid-template-columns: 1fr 1fr;\\n  gap: 12px;\\n  width: 100%;\\n}\\n.action-btn {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  gap: 8px;\\n  padding: 14px 20px;\\n  border-radius: 16px;\\n  font-size: 14px;\\n  font-weight: 600;\\n  cursor: pointer;\\n  transition: all 0.2s ease;\\n  border: none;\\n  outline: none;\\n}\\n.action-btn:active {\\n  transform: scale(0.98);\\n}\\n.action-btn--primary {\\n  background: #1C1C1E;\\n  color: #fff;\\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\\n}\\n.action-btn--primary:hover {\\n  background: #2C2C2E;\\n}\\n.action-btn--secondary {\\n  background: #fff;\\n  color: #1C1C1E;\\n  border: 1px solid rgba(0, 0, 0, 0.08);\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);\\n}\\n.action-btn--secondary:hover {\\n  background: #F9F9F9;\\n}\\n.btn-icon {\\n  width: 16px;\\n  height: 16px;\\n  opacity: 0.7;\\n}\\n.qrcodeCard {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n}\\n.qrcodeCard img {\\n  width: 150px;\\n  height: 150px;\\n  cursor: pointer;\\n}\\n.qrcodeCard .btns {\\n  display: flex;\\n  justify-content: space-around;\\n  margin-top: 24px;\\n}\\n.dynamic-delete-button {\\n  position: relative;\\n  top: 2px;\\n  margin: 0 8px;\\n  color: #555;\\n  font-size: 18px;\\n  cursor: pointer;\\n  transition: all 0.3s;\\n}\\n.dynamic-delete-button:hover {\\n  color: #777;\\n}\\n.dynamic-delete-button[disabled] {\\n  cursor: not-allowed;\\n  opacity: 0.5;\\n}\\n.domain-edit-modal {\\n  --domain-action-size: 32px;\\n  --domain-action-gap: 8px;\\n  --domain-action-total: calc(var(--domain-action-size) + var(--domain-action-gap));\\n  --domain-row-gap: 12px;\\n  --domain-label-width: 72px;\\n}\\n.domain-edit-modal .ant-form-horizontal .ant-form-item-label {\\n  flex: 0 0 var(--domain-label-width) !important;\\n  max-width: var(--domain-label-width) !important;\\n  padding-left: 8px;\\n  padding-right: 12px;\\n  padding-bottom: 0 !important;\\n  display: flex !important;\\n  align-items: center !important;\\n  height: 32px !important;\\n  text-align: right;\\n}\\n.domain-edit-modal .ant-form-horizontal .ant-form-item-label > label {\\n  height: 32px !important;\\n  line-height: 32px !important;\\n}\\n.domain-edit-modal .ant-form-horizontal .ant-form-item-control {\\n  flex: 1 1 auto !important;\\n  max-width: calc(100% - var(--domain-label-width)) !important;\\n  min-width: 0;\\n}\\n.domain-edit-modal .domain-edit-aligned-input {\\n  width: calc(100% - var(--domain-action-total));\\n}\\n.domain-edit-modal .domain-edit-add-button {\\n  width: calc(100% - var(--domain-action-total));\\n}\\n.domain-edit-modal .ant-form-item {\\n  margin-bottom: var(--domain-row-gap);\\n}\\n.domain-edit-modal .ant-form-item:last-child {\\n  margin-bottom: 0;\\n}\\n.domain-list-row {\\n  display: flex;\\n  align-items: center;\\n  gap: var(--domain-action-gap, 8px);\\n  width: 100%;\\n}\\n.domain-list-input {\\n  flex: 1;\\n  min-width: 0;\\n}\\n.domain-list-action {\\n  width: var(--domain-action-size, 32px);\\n  flex: 0 0 var(--domain-action-size, 32px);\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n.domain-list-action--placeholder {\\n  visibility: hidden;\\n}\\n.domain-list-row .dynamic-delete-button {\\n  margin: 0;\\n}\\n.sites-table .ant-table-tbody > tr > td {\\n  padding: 8px 16px;\\n}\\n.sites-table .ant-table-thead > tr > th {\\n  white-space: nowrap;\\n}\\n.main-card {\\n  min-height: auto;\\n  max-height: calc(100vh - 100px);\\n  width: 100%;\\n  max-width: 420px;\\n  overflow: auto;\\n  background: rgba(255, 255, 255, 0.65);\\n  backdrop-filter: blur(50px);\\n  border-radius: 32px;\\n  box-shadow: 0 24px 48px -12px rgba(0, 0, 0, 0.08), 0 0 0 1px rgba(255, 255, 255, 0.5) inset, 0 0 0 1px rgba(0, 0, 0, 0.03);\\n  border: 1px solid rgba(255, 255, 255, 0.2);\\n  animation: fadeInUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;\\n}\\n.main-card .ant-card-body {\\n  padding: 24px 16px;\\n}\\n.main-card .ant-tabs-nav {\\n  margin-bottom: 16px;\\n}\\n.main-card .ant-tabs-nav::before {\\n  display: none;\\n}\\n.main-card .ant-tabs-nav-list {\\n  display: flex;\\n  flex-wrap: wrap;\\n  gap: 6px;\\n  padding: 6px;\\n  background: rgba(118, 118, 128, 0.1);\\n  border-radius: 14px;\\n  width: 100%;\\n  justify-content: center;\\n}\\n.main-card .ant-tabs-tab {\\n  flex: 1;\\n  min-width: 0;\\n  margin: 0 !important;\\n  padding: 8px 12px !important;\\n  border-radius: 10px;\\n  font-size: 13px;\\n  font-weight: 500;\\n  color: #8E8E93;\\n  background: transparent;\\n  transition: all 0.3s ease;\\n  justify-content: center;\\n}\\n.main-card .ant-tabs-tab:hover {\\n  color: #1C1C1E;\\n}\\n.main-card .ant-tabs-tab.ant-tabs-tab-active {\\n  background: #fff;\\n  color: #1C1C1E;\\n  box-shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.12), 0 1px 1px rgba(0, 0, 0, 0.05);\\n}\\n.main-card .ant-tabs-tab.ant-tabs-tab-active .ant-tabs-tab-btn {\\n  color: #1C1C1E;\\n}\\n.main-card .ant-tabs-ink-bar {\\n  display: none;\\n}\\n@keyframes fadeInUp {\\n  from {\\n    opacity: 0;\\n    transform: translateY(16px);\\n  }\\n  to {\\n    opacity: 1;\\n    transform: translateY(0);\\n  }\\n}\\n.app-layout {\\n  display: flex;\\n  flex-direction: column;\\n  min-height: 100vh;\\n  width: 100%;\\n  background: #F2F2F7;\\n}\\n.top-nav-bar {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: 100%;\\n  padding: 12px 16px;\\n  background: transparent;\\n  box-sizing: border-box;\\n}\\n.nav-pill {\\n  display: flex;\\n  align-items: center;\\n  gap: 4px;\\n  padding: 4px;\\n  background: rgba(255, 255, 255, 0.65);\\n  backdrop-filter: blur(20px);\\n  border-radius: 20px;\\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.06), 0 0 0 1px rgba(255, 255, 255, 0.5) inset, 0 0 0 1px rgba(0, 0, 0, 0.03);\\n}\\n.nav-tab {\\n  display: flex;\\n  align-items: center;\\n  gap: 6px;\\n  padding: 8px 16px;\\n  border-radius: 16px;\\n  cursor: pointer;\\n  font-size: 13px;\\n  font-weight: 500;\\n  color: #8E8E93;\\n  background: transparent;\\n  border: none;\\n  transition: all 0.3s ease;\\n}\\n.nav-tab:hover {\\n  color: #1C1C1E;\\n}\\n.nav-tab--active {\\n  color: #1C1C1E;\\n  background: #fff;\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\\n}\\n.nav-tab--active:hover {\\n  background: #fff;\\n  color: #1C1C1E;\\n}\\n.nav-tab .anticon {\\n  font-size: 14px;\\n}\\n.nav-divider {\\n  width: 1px;\\n  height: 20px;\\n  background: rgba(0, 0, 0, 0.1);\\n  margin: 0 4px;\\n}\\n.nav-actions {\\n  display: flex;\\n  align-items: center;\\n  gap: 2px;\\n}\\n.nav-actions .ant-btn {\\n  color: #8E8E93;\\n  font-size: 12px;\\n  font-weight: 500;\\n  padding: 6px 12px;\\n  height: auto;\\n  border-radius: 12px;\\n}\\n.nav-actions .ant-btn:hover {\\n  color: #1C1C1E;\\n  background: rgba(0, 0, 0, 0.04);\\n}\\n.drag-handle {\\n  cursor: grab;\\n  color: #999;\\n  font-size: 18px;\\n  padding: 8px;\\n  touch-action: none;\\n}\\n.drag-handle:active {\\n  cursor: grabbing;\\n}\\n.pansou-config-modal {\\n  max-width: 420px;\\n}\\n.pansou-config-modal .ant-modal-body {\\n  padding: 16px 24px;\\n}\\n.pansou-config-tabs {\\n  margin-bottom: 16px;\\n}\\n.pansou-config-tabs .ant-tabs-nav {\\n  margin-bottom: 12px;\\n}\\n.pansou-config-tabs .ant-tabs-nav::before {\\n  display: none;\\n}\\n.pansou-config-tabs .ant-tabs-nav-list {\\n  gap: 4px;\\n}\\n.pansou-config-tabs .ant-tabs-tab {\\n  padding: 8px 16px;\\n  border-radius: 10px;\\n  font-size: 13px;\\n  font-weight: 500;\\n  color: #8E8E93;\\n  background: transparent;\\n  margin: 0 !important;\\n  transition: all 0.2s ease;\\n}\\n.pansou-config-tabs .ant-tabs-tab:hover {\\n  color: #1C1C1E;\\n}\\n.pansou-config-tabs .ant-tabs-tab.ant-tabs-tab-active {\\n  background: rgba(118, 118, 128, 0.12);\\n  color: #1C1C1E;\\n}\\n.pansou-config-tabs .ant-tabs-tab.ant-tabs-tab-active .ant-tabs-tab-btn {\\n  color: #1C1C1E;\\n}\\n.pansou-config-tabs .ant-tabs-ink-bar {\\n  display: none;\\n}\\n.pansou-config-tabs .ant-badge-count {\\n  font-size: 11px;\\n  background: #1C1C1E;\\n  box-shadow: none;\\n}\\n.pansou-checkbox-section {\\n  min-height: 200px;\\n  max-height: 400px;\\n  overflow-y: auto;\\n}\\n.pansou-checkbox-header {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-bottom: 12px;\\n  padding: 0 4px;\\n  color: #8E8E93;\\n  font-size: 13px;\\n}\\n.pansou-checkbox-header .ant-btn-link {\\n  color: #1C1C1E;\\n  font-weight: 500;\\n  padding: 4px 8px;\\n  height: auto;\\n}\\n.pansou-checkbox-header .ant-btn-link:hover,\\n.pansou-checkbox-header .ant-btn-link:focus,\\n.pansou-checkbox-header .ant-btn-link:active {\\n  color: #3C3C3E;\\n  background: rgba(0, 0, 0, 0.04);\\n}\\n.pansou-add-channel {\\n  display: flex;\\n  gap: 8px;\\n  margin-bottom: 12px;\\n}\\n.pansou-checkbox-grid {\\n  display: grid;\\n  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\\n  gap: 8px;\\n}\\n.pansou-checkbox-card {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  padding: 10px 14px;\\n  border: 1px solid rgba(0, 0, 0, 0.06);\\n  border-radius: 10px;\\n  cursor: pointer;\\n  transition: all 0.2s;\\n  background: #fff;\\n}\\n.pansou-checkbox-card:hover {\\n  border-color: rgba(0, 0, 0, 0.12);\\n  background: #F9F9F9;\\n}\\n.pansou-checkbox-card--selected {\\n  border-color: #1C1C1E;\\n  background: rgba(28, 28, 30, 0.04);\\n}\\n.pansou-checkbox-card--selected .pansou-checkbox-card__check {\\n  color: #1C1C1E;\\n}\\n.pansou-checkbox-card__label {\\n  flex: 1;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  font-size: 13px;\\n}\\n.pansou-checkbox-card__delete {\\n  flex-shrink: 0;\\n  color: #8E8E93;\\n  font-size: 14px;\\n  margin-left: 6px;\\n  transition: color 0.2s;\\n}\\n.pansou-checkbox-card__delete:hover {\\n  color: #ef4444;\\n}\\n.pansou-empty-tip {\\n  text-align: center;\\n  color: #8E8E93;\\n  padding: 40px 0;\\n  font-size: 13px;\\n}\\n.pansou-config-footer {\\n  margin-top: 16px;\\n  padding-top: 16px;\\n  border-top: 1px solid rgba(0, 0, 0, 0.06);\\n}\\n.ant-input,\\n.ant-input-password .ant-input,\\n.ant-input-number,\\n.ant-input-number-input {\\n  background: rgba(118, 118, 128, 0.08);\\n  border: none;\\n  border-radius: 12px;\\n  font-size: 14px;\\n}\\n.ant-input:focus,\\n.ant-input-password .ant-input:focus,\\n.ant-input-number:focus,\\n.ant-input-number-input:focus,\\n.ant-input:hover,\\n.ant-input-password .ant-input:hover,\\n.ant-input-number:hover,\\n.ant-input-number-input:hover,\\n.ant-input.ant-input-focused,\\n.ant-input-password .ant-input.ant-input-focused,\\n.ant-input-number.ant-input-focused,\\n.ant-input-number-input.ant-input-focused {\\n  background: rgba(255, 255, 255, 0.8);\\n  box-shadow: 0 0 0 2px rgba(28, 28, 30, 0.15);\\n  border-color: transparent;\\n}\\n.ant-input {\\n  padding: 10px 14px;\\n}\\n.ant-input-affix-wrapper {\\n  background: rgba(118, 118, 128, 0.08);\\n  border: none;\\n  border-radius: 12px;\\n  padding: 6px 14px;\\n}\\n.ant-input-affix-wrapper:focus,\\n.ant-input-affix-wrapper:hover,\\n.ant-input-affix-wrapper.ant-input-affix-wrapper-focused {\\n  background: rgba(255, 255, 255, 0.8);\\n  box-shadow: 0 0 0 2px rgba(28, 28, 30, 0.15);\\n  border-color: transparent !important;\\n}\\n.ant-input-affix-wrapper .ant-input {\\n  background: transparent;\\n  padding: 4px 0;\\n  box-shadow: none;\\n}\\n.ant-input-affix-wrapper .ant-input:focus,\\n.ant-input-affix-wrapper .ant-input:hover {\\n  box-shadow: none;\\n}\\n.ant-input-number {\\n  width: 100%;\\n  padding: 0;\\n}\\n.ant-input-number .ant-input-number-input {\\n  padding: 10px 14px;\\n  height: auto;\\n}\\n.ant-input-number:focus,\\n.ant-input-number:hover,\\n.ant-input-number.ant-input-number-focused {\\n  border-color: transparent !important;\\n}\\n.ant-input-number-group-addon {\\n  background: rgba(118, 118, 128, 0.08);\\n  border: none;\\n  border-radius: 0 12px 12px 0;\\n  color: #8E8E93;\\n  font-size: 13px;\\n  padding: 0 14px;\\n  min-width: 50px;\\n  text-align: center;\\n}\\n.ant-input-number-group .ant-input-number {\\n  border-radius: 12px 0 0 12px;\\n}\\n.ios-form .ant-form-item {\\n  margin-bottom: 16px;\\n}\\n.ios-form .ant-form-item-label > label {\\n  color: #8E8E93;\\n  font-size: 13px;\\n  font-weight: 500;\\n}\\n.ios-button-group {\\n  display: flex;\\n  gap: 12px;\\n  margin-top: 20px;\\n}\\n.action-btn--danger {\\n  background: #fff;\\n  color: #ef4444;\\n  border: 1px solid rgba(239, 68, 68, 0.3);\\n}\\n.action-btn--danger:hover {\\n  background: rgba(239, 68, 68, 0.05);\\n}\\n.ios-modal {\\n  max-width: 420px;\\n}\\n.ios-modal .ant-modal-content {\\n  background: rgba(255, 255, 255, 0.9);\\n  backdrop-filter: blur(30px);\\n  border-radius: 24px;\\n  box-shadow: 0 24px 48px -12px rgba(0, 0, 0, 0.15);\\n  border: 1px solid rgba(255, 255, 255, 0.3);\\n}\\n.ios-modal .ant-modal-header {\\n  background: transparent;\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.06);\\n  padding: 20px 24px;\\n  border-radius: 24px 24px 0 0;\\n}\\n.ios-modal .ant-modal-title {\\n  font-size: 17px;\\n  font-weight: 600;\\n  color: #1C1C1E;\\n}\\n.ios-modal .ant-modal-body {\\n  padding: 20px 24px;\\n}\\n.ios-modal .ant-modal-footer {\\n  border-top: 1px solid rgba(0, 0, 0, 0.06);\\n  padding: 16px 24px;\\n}\\n.ios-modal .ant-modal-close {\\n  top: 16px;\\n  right: 16px;\\n}\\n.ios-modal .ant-modal-close .ant-modal-close-x {\\n  color: #8E8E93;\\n}\\n.ios-modal .ant-modal-close .ant-modal-close-x:hover {\\n  color: #1C1C1E;\\n}\\n.ant-message .ant-message-notice-content {\\n  background: rgba(255, 255, 255, 0.85);\\n  backdrop-filter: blur(20px);\\n  border-radius: 16px;\\n  padding: 12px 20px;\\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\\n  border: 1px solid rgba(255, 255, 255, 0.5);\\n}\\n.ios-alert {\\n  background: rgba(59, 130, 246, 0.08);\\n  border: none;\\n  border-radius: 12px;\\n}\\n.ios-alert .ant-alert-message {\\n  color: #1C1C1E;\\n  font-weight: 500;\\n}\\n.ios-alert .ant-alert-description {\\n  color: #8E8E93;\\n}\\n.ant-switch {\\n  background: rgba(120, 120, 128, 0.16);\\n  min-width: 51px;\\n  height: 31px;\\n}\\n.ant-switch .ant-switch-handle {\\n  width: 27px;\\n  height: 27px;\\n  top: 2px;\\n  inset-inline-start: 2px;\\n}\\n.ant-switch .ant-switch-handle::before {\\n  border-radius: 50%;\\n  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15), 0 1px 1px rgba(0, 0, 0, 0.16);\\n}\\n.ant-switch:hover:not(.ant-switch-disabled) {\\n  background: rgba(120, 120, 128, 0.24);\\n}\\n.ant-switch:focus {\\n  box-shadow: none;\\n}\\n.ant-switch.ant-switch-checked {\\n  background: #34C759;\\n}\\n.ant-switch.ant-switch-checked .ant-switch-handle {\\n  inset-inline-start: calc(100% - 29px);\\n}\\n.ant-switch.ant-switch-checked:hover:not(.ant-switch-disabled) {\\n  background: #2DB84E;\\n}\\n.ios-edit-btn {\\n  color: #8E8E93;\\n  padding: 4px 8px;\\n  border-radius: 8px;\\n  transition: all 0.2s ease;\\n}\\n.ios-edit-btn:hover {\\n  color: #1C1C1E;\\n  background: rgba(0, 0, 0, 0.04);\\n}\\n.ios-edit-btn .anticon {\\n  font-size: 16px;\\n}\\n.ios-tag {\\n  background: rgba(118, 118, 128, 0.12);\\n  border: none;\\n  border-radius: 6px;\\n  color: #8E8E93;\\n  font-size: 11px;\\n  font-weight: 500;\\n  padding: 2px 8px;\\n  line-height: 1.4;\\n}\\n.ant-space-compact .ant-input {\\n  border-radius: 12px 0 0 12px;\\n}\\n.ant-space-compact .ant-btn {\\n  border-radius: 0 12px 12px 0;\\n}\\n.ant-space-compact .ant-btn-primary {\\n  background: #1C1C1E;\\n  border: none;\\n}\\n.ant-space-compact .ant-btn-primary:hover,\\n.ant-space-compact .ant-btn-primary:focus,\\n.ant-space-compact .ant-btn-primary:active {\\n  background: #2C2C2E !important;\\n}\\n.ant-btn-primary {\\n  background: #1C1C1E;\\n  border: none;\\n  border-radius: 12px;\\n}\\n.ant-btn-primary:hover,\\n.ant-btn-primary:focus,\\n.ant-btn-primary:active {\\n  background: #2C2C2E !important;\\n  border-color: transparent !important;\\n}\\n.ant-btn-dashed {\\n  border-radius: 12px;\\n  border-color: rgba(0, 0, 0, 0.15) !important;\\n  color: #8E8E93;\\n}\\n.ant-btn-dashed:hover,\\n.ant-btn-dashed:focus,\\n.ant-btn-dashed:active {\\n  color: #1C1C1E !important;\\n  border-color: rgba(0, 0, 0, 0.3) !important;\\n  background: rgba(0, 0, 0, 0.02) !important;\\n}\\n.ant-btn-text:hover,\\n.ant-btn-text:focus,\\n.ant-btn-text:active {\\n  background: rgba(0, 0, 0, 0.04) !important;\\n  color: #1C1C1E !important;\\n}\\n.ant-btn-link {\\n  color: #1C1C1E;\\n}\\n.ant-btn-link:hover,\\n.ant-btn-link:focus,\\n.ant-btn-link:active {\\n  color: #3C3C3E !important;\\n  background: transparent !important;\\n}\\n.ant-btn-dangerous.ant-btn-text {\\n  color: #ef4444;\\n}\\n.ant-btn-dangerous.ant-btn-text:hover,\\n.ant-btn-dangerous.ant-btn-text:focus,\\n.ant-btn-dangerous.ant-btn-text:active {\\n  color: #dc2626 !important;\\n  background: rgba(239, 68, 68, 0.04) !important;\\n}\\n.action-btn--secondary-outline {\\n  background: #fff;\\n  color: #8E8E93;\\n  border: 1px solid rgba(0, 0, 0, 0.08);\\n}\\n.action-btn--secondary-outline:hover {\\n  color: #1C1C1E;\\n  background: #F9F9F9;\\n}\\n.pansou-add-channel .ant-btn-primary {\\n  background: #1C1C1E;\\n  border: none;\\n  border-radius: 12px;\\n  font-weight: 500;\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\\n}\\n.pansou-add-channel .ant-btn-primary:hover,\\n.pansou-add-channel .ant-btn-primary:focus,\\n.pansou-add-channel .ant-btn-primary:active {\\n  background: #2C2C2E !important;\\n  border-color: transparent !important;\\n}\\n.pansou-add-channel .ant-input {\\n  background: rgba(118, 118, 128, 0.08);\\n  border: none;\\n  border-radius: 12px;\\n  padding: 8px 14px;\\n}\\n.pansou-add-channel .ant-input:focus,\\n.pansou-add-channel .ant-input:hover {\\n  background: rgba(255, 255, 255, 0.8);\\n  box-shadow: 0 0 0 2px rgba(28, 28, 30, 0.15);\\n  border-color: transparent;\\n}\\n.pansou-add-channel .ant-input-clear-icon {\\n  color: #8E8E93;\\n}\\n.pansou-add-channel .ant-input-clear-icon:hover {\\n  color: #1C1C1E;\\n}\\n.pansou-add-channel .ant-input-affix-wrapper {\\n  background: rgba(118, 118, 128, 0.08);\\n  border: none;\\n  border-radius: 12px;\\n  padding: 4px 14px;\\n}\\n.pansou-add-channel .ant-input-affix-wrapper:focus,\\n.pansou-add-channel .ant-input-affix-wrapper:hover,\\n.pansou-add-channel .ant-input-affix-wrapper.ant-input-affix-wrapper-focused {\\n  background: rgba(255, 255, 255, 0.8);\\n  box-shadow: 0 0 0 2px rgba(28, 28, 30, 0.15);\\n  border-color: transparent !important;\\n}\\n.pansou-add-channel .ant-input-affix-wrapper .ant-input {\\n  background: transparent;\\n  box-shadow: none;\\n  padding: 4px 0;\\n}\\n.pansou-add-channel .ant-input-affix-wrapper .ant-input:focus,\\n.pansou-add-channel .ant-input-affix-wrapper .ant-input:hover {\\n  box-shadow: none;\\n}\\n\",document.head.appendChild(e)}var Dt=\"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAICAgICAQICAgIDAgIDAwYEAwMDAwcFBQQGCAcJCAgHCAgJCg0LCQoMCggICw8LDA0ODg8OCQsQERAOEQ0ODg7/2wBDAQIDAwMDAwcEBAcOCQgJDg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg7/wgARCAE8ATwDAREAAhEBAxEB/8QAHQAAAgIDAQEBAAAAAAAAAAAABQYABAIDBwEJCP/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAPv4QhCEIQhCEIQhCEIQhCEIQhCEIQhCEIQhCGsoFU8IQhD0tG80FgtEKxQNRkXDMpmZfNpSMDcVDQQhCEMi6XTIgMEEWzI9IQ8MRjGQCh4PngtCKUjaN4QE43j6XRQKwZFIEGw9IQxMhyHcskARycDjCbTwhrF4KnRCsEzSUgOIxsKQ6DaI4MOgGg58XxsEQ2B0h4ZFUXRyOpF8gBOVG8cwQVS2FhPKZ1MLGAqi0aSoYC8Nw5iUKoyEFMNDeJo1B0DGkIlwRAudSL5ACcsLQZObgcMHRwQUTpZZN4KEYrjMLwCD4SFwGF8JgAuDaKA0mk50UxoH0UwmdSL5ACcrLZeOVAINnVimUB5BBbKQjBU6gQBAI2hw1A4UxYGkchPGcGnLiiNx00WQodSL5ACcrLYaObgcLnRgUDzo5SAZgBDadRLQiA4bS+JwpgMrDsMwljSaDnhTGgfRSCZ1IvkAJyosDoCCoWguJxTOpF0DmIugo6EbTlwROjmIiCEHBlDJpOejQMAFNISLYhhc6kXyAI5OCBjNp4emoXQmdFKhdK4tFUMhYQQoOJTKolDOGDEhzY2h8hD0pi4OZ1EvkBggCyZEPTwxMRlGUWzQYFQEgsNgkZxtKBfF0rgUuDqLIJNh4Q9MT0cx5LRDWUCmDikXCkDz0NBUWheChVOaAQ3mY8DuXw8UxFEIvHSxhNhrBZgFCA0JDAbiEIaxXF0Oi+KxiHw2AjaNYHOTAAtFsJlwJHRBgFk5iLA2HSxqKghFEfC0IxfH4tkIeFcDlIJgoAlYqmstlMOBQRBaGcPmAsi0NQ7C6c6F8vj8dEBRzUqj0NgmhA6WXiHhVForDQXweJgvmQZChzsEjGbzwtDQaRbAIDLwJF01Bk6CPYrimGA+MgOLo0FghVFoVi2PATA5ycXx6HwrHIRHDZ0UKCGfk8/aAUMjmgFChTNQ1DiNoIF0sG4Ih8Mlg9IUBNF03h8aiockBR0YZxVOXiyO510rn5DPnEdwPrGBxbK5vF8rDYHBwCAqiQBxpOhDGbCEKgpHOxUGE6oZHPwSOQYOZiWXjpB0c+UQiC+GD6oHIjs5fAInggYB7GUtmYnCmP4yBAKGZAac+Ofi+FDpRmbS4XzE5WKI1HRT8bCcfvA+cZ+0wOfJA+uYfDYCE0zD4YN4xm0EjoUy8OJZIVRbF0VBaCw2jiUCsMQrHNCiHD5Gn1dL4GD46HzfOjHeguagSaCyNhrKIyDUMhqLodNpCFMVBTAYujKdHIahqB5yAQTSfJY+shsLZ086afOUJH6cB5vGMoi2XSuL4WGwPDeMhZIQhWE8VwUKgUG8vhkaTQIApAU+c53s/RAYG4JHxmPqAdjKgPGYuCKJhiaAWQJj8dGGQ2kIYA8UxHBwYMimNA5lYFG0FiCfJs/Yp+rDn583DrR+8jqxvFY9DgKEM2l8WACYhw6mdLLpDQCjM2AkEi0XS4Q3goqhYsGAKPw4cFLR+nTvYYG4yNhSFAEA0Oj4Czm5QGU6idELZAYJRBtLwuHPhiN4pGYeCYIF0ohYegSaQ6bAOKgTHQXzlANIOJ1ACnJzadJH8MmZCkKQtBIKCSLI/B0ClA0jSbgCK5VOmFosjEeigcvMx7BwiBADGZ04ggjGPofLZ6QoCaADwFCYUxvD54CRdDYeNYvnh0o2F0ZgYJYIMjEAgULAYHnShxFoolsbRtN5AaJx6bRSA54bzaQGi8Fg0CgeMAwkGAMCUKAbCArAYMF4rAcLjaCRJKx086gXiFQWigQpGshD0IGsVw4XxIA4WBwcGYCnPQKEAyVAudFN56JAhHhqK4eOoHRC4QEHNRYNxmeEMTSMw8mgsCocxBZdPTaZlEDmgJDsaS+PwNCYqHOSgUy6dEOmDKbiAE5OUhqMzE9PBULI/AkKi0c0KQYGEXgCeFYxLQfPBgOjEN4ogUyFA0jUdKHUskAJystDcLZQLwxiqDxtFcaS+LZXMQaKxZN4qFQ3HpmHhqLpkCg+M4vFIsjWNJvIATlhaChzACBo6eDSgPpSDodNRpFg5ULR0EIHNDEZgebyyLpsG8YRnGQzMTAsFk9IATlZbLxysBBs6qUygdCNQWDgJFwDCwK4bLIlhk6gazeDzngbOkDCDD0YCAE3h42kAJywtDAIIICo/AMHjyBS6NILEY0l8Ai+ajANHVC8bBcEkeg8UBMKo6m0BhsdSyQAnKTMdioVzeXBLK5000CuXg8UhcAYXAgICxoHA9CRrFMYQGKIJNocN4yD2MhuIAzlIBDJtIQ1gUOnVwgLItF4vCMBB9BwnG4qBwaxqN4rCsKYFPRkDwACJ0gdCwQoiaL5D0hDwgwDkXSsLJXLItGI0lYWDUeF8bw+ZgcTwOYGYfDAuFMaxpN5DE0GkhCEIQ2lgyPDSYmRpIbzE0nhDIsG0hgVjAhDabTSYG43npCEIQhCEIQhCEIQhCEIQhCEIQhCEIQhCEIf/8QAJRAAAwEBAAIBBAMBAQEAAAAAAwQFAgEAFRAGBwgUERITFiBQ/9oACAEBAAECAP8Ax/P/AMTWyudpez9n7P2fs80xu9Y64I/O+EPqj7PNIbWmdUBviL3RGcN9Y297P2fs/Z+z9nikFnPfhwtOn2xyr7T2ntO1c2ZtTTO3J7GD6YpOtWPcAszaDLLVNCqgydl+qpTI49W5Y9p7T2ntO1QWZNBbXxS7Y0sqGT6r1XJJZLCsjQA6nLrsOZpUzmHxPuImiBpKJ9ns0aTtCSYu3/EUMSPU+q5JPKICDpHvxT8p8kC5wz3sgPfxVFM5Mx/gQVEGu71+qXRSRO6PVZwym+31kEfhvD5kBNsj/KSzZ8URwvEfml5S8k+PHoUPZzqSJ6nk7xE3aGWniPMpbyo8lxBHhWmgeuXW/lzcnw3hvJfazTdPNSS+MtLyH4j80vKfknyn5T+Jfkzyn5O8Foxl3X3Wyx+ohYnHTNxUI521D5fc23E0bw3k3y3455nyJ4Dyj5D8R+aXlPyT48ChO9ZOnIAqcm+JhbnbB1ZudLHM8c1QeW8RQNig4zSNwU6Omzg3kvlZVubmXJQwKl5D8R+aflTskvPDo+tAh5VLM7N6bwifFqGVOTDUCUiRfE+sdrLFDOnCkKJUsH7IMYZJ/JqybG6BYXiPzS5Yyq0Gv7X2vKpa7LUjK5SUQONunPzSVM7lDUbv7PH3emDJ4Zxag/p/xF/Ff2vteVmKuzwcI/LYqkzUfkz13rfXdnYkzJul2QjZITvG3BU8VzNxO7GNXSjKHDN0pbWBvSeSPWeu9d63ssEiSitj41gqeph1MiyqbHS4MmTenddwqpRDRPw+XAsxnQ0AHDhtKoo1iYxNawt6vUwwBBFOLO1hLQf/ACTyj0exapbIXBkGtvHOpxbFYNRXi40BzgB/bQqzKGiU8Vs8ZlVZlITDbVKolXn0GmHnpTimvnvSFYwOdhNyaSX2eQeNfraPPpH3USwghMxFJIoId5Koip1ar729pmkOpsVXX2VdymtboBjCS58mM5QWeV7/AFa6+/qtgic86tYitMFnm/1FmVWm2T8bn/3xWdcJ5nCSshAK9bGUV5CU8YDzkJ4MfBiPOHMhlLXNUe2DLeSVU16Pbu+mn+Sk2122efmWq8qo4vUGHOEzprqIpodBp9T/AAw3iovTV0IXOfDPHx70GinWVYo9r+Jbkl4zVqVW88hLzFao/uF9+/uz9Ufjb+QYGm2jIYk9E4RUqpVcIYMCgm/zB5uJuB9+T9pFpuEpSH5rD7NAIUpYWt2G9lSUiIDN+RH5P/b38R/vL9CfYD7FaY+iPvMm0QreXc8NPdnuBpZq6JXXECUvg67Y9fDfa2nQlVlaSdKYCfEFgvBsp5Xk4n7/ADP+7f4i/Zl/dL8SJAfrL6ZBqP8AUS9UZqWDeAMrSE8KghUdKsqoJnc7a3yYbk1iRQndGm9P2sJwyjORVZb6yzwrn5B/U/03o1rTUtMET85fov8AGuiDAmzn2r1VYai7QwvJuIjF5tNREWfj+D8fMfrae+yHUmWAqpqipCuAKP8An7ucXa/unmBhXz8+af4ny8yjopoBhuRCLAcba1tF1WyrbnuB7z/wfNFbYnDm8nhWbxVScX25inNNCZk/l39vfxl+uupIzk/D/Uf3x+5P24+mU1HJgAJbOpTmGCMBk9dy0m/IrTnxa+e+HXopOJDngAXOBzMgMeh1rIHJ31h9ufqX6P8Atz+U0j6l+ufvZ96/yT/Gz7LSdzNN6Y4sUVB9pzafDKuIkHjc9mAdPvwQhXgtEXJJZmG8UBpQR9UDGHpdzT+HPqn6V+uPwaf/ABRl/h79ufxczFSRWZ0cSromaRK3WZnFEqiDwxDmow0lc/DfXSpOKtdLTaOab4905VyKi/RbXMTrk+guZzqyoZHYzqJmZ51uWeP44rgMXCGLWXxT0I8pJIefhjL4N6SeJSq1xuyTl4VEogvpPnywi8sjybkqya4R77W09meVF2qzvI02xTnJLlTBUpaKPgS878M7fZ7jo23XTL9QexX7Vbo6cQqZrkrNvIdnlM8iyIjrjjnU+TdlefwXDTpFuwi7Cyrx5e5Nog38N4bVVRYScmai8h4lev8AXNI7WSS4gyDAUlhtc3PGRupX7TTolovu4wvJ5JNH2jOcFYepuPKNfT5Uu/B+tF4/ultn/b/b/bJQjamkkIS2AUdgJ+zp6e4KhRrPUP2Vmx7NiSBRTo9LWVzMZpbf52ajDTUz8PErPfv5Y/2/3/36xx6U+HWh55Ycfew5hr+uGe1z0SE8T8Sw1mRwXdkBq3xlbSmsJ8jYm4Fz4p+V+IJAk9meu5MLIdSlcwclIDNkTaeU0kuIvg6Loe58AQFDb0c6pOh/tU0FBmS1PAtMLJYX78U/KfkjOzM1vdq1hnq5n+b4XEsTU00D/nuzGmTnTQYmMiyPgP4HlEq9nNvdUhZS+5rEH/nl4c5EGfin5S8k+US0m/3Zjc4tPyd4AO5yCvAdW0CpivoPY+KOX+JLiknmKSzTzEV2gmCOgkLH6vU+Ljxn5p+U/JPlLlPP9ZmZnKfk7xbemkjc202eyd91MiyDrdFncYaSbMlaVUVOrKkzJvFztLUgGOY1FR4Wvil5S8k+NrPyvSoSU1qnJ3gsn4i4Buh42IGO8cUKPnnUpQZvSbHux4MUpfrLFejWSrJ2D1dlmZW58U/KnZTA2CY/XEPZ6jEvqIXUDDSazoyTmeNgFSUWFoQNJukaS3QDkC7dGuewR5Yo2x0Jxp2Q8+KObAQ7FQ9j7D2G6BtxwTMGC9PKJNg56Z18Tw1wf16bnUiKKKInRcQb235pYac6ZuQdScSQdfvwyKhK1C5E9L6X0nYmIU6UqL+DBbngnmRZjrRFUHZpYXofQKxkURi7hxRyRqB/zo/p5CPqa3FDEnogz8dzpf8AS/R/R/R/R/R4lhfPPO86Hi/Q9U4pkOgdS/R/R4ngXx3HVf0f0eJYW/y6rxLAOc/+T//EAD0QAAICAQMCAgkCBQEGBwAAAAECAAMRBBIhBTEGEwcQIiMkQVFScRQyCCBCYYFiM1BykbLRJVNzgqGiwv/aAAgBAQADPwD+Qf7lABipnmL90T74n3xPvi/fE++J90V/nBjvFz3gccTI9QQHJirnmL9win+oRXHeALmICfaiv85uEwIEzFPzgwYqkjdE++J98X7hF+4RfuEX74pz7UDjvMj1lK2jV2MA0sNh9qWkZ3GW/cZb9xlv3GWgdzLBZgtGsIBaHyMywXEZhIEATvBsPMKI5Bjq7ANLT2Yx9+C0a2vvGFBliWNzHawDdN9Q5ipSeZsdhuhezvCNOTmMljYaWsT7Ut+plv3GW/cZb9xlw+Zj7+WjW/Obq/WRU8Y6lxHusjGuGGExhWcR6rTGF4ENmljG3OIaq4awRCcjML0NiO95h8omGu+EgCb9KYQ7EQ16qBaO8IrYZjPe3MZrYf0ZjPewj2w7O0Pq4PEZEaPVqSIdwmafX7p5nVtAbOZXXpsmVIx5Ep+olT/MSuzT5ihyQJjWCA6cZiRfLOIeSIa3OTPNXEO/diLXURA2omMRV0h5ilmxNt+YfKxmNdWYwvmLRPgz+IDqz+YvlCV1VSlWPIlJ+YlTnGYjUGAaoz3onufVwZ7p58Y359RTSHB+UcWtzH+6O1wG6F9JM7p8ZBXpgYofG6B07xBW0QOcGeZbN2nJx8o/OBHFxJENCQtSQDLLWbvLd2dssSBasGIXMzcJ8GfxPjD+ZimFKG5jC1vaj7/3RnsXmF9JPfme+nufVwZ7p58W3q+Fb8T3rww+eJ8H/ifunxkb9HxLFuMIQjMY1Ngx2uOYTesD6fGIhydsrr3cCYsIEax4uzJWVITwJUiGbNwBhe88zc4nwZ/E+MP5nw09y0PnNPbE96s+DP8Awz3899Pc+v3Tz4tvzOYX0bcRmub2Y/2x1tHswpo5jdM6yb9LOWOI9bECNYhBmCTNmqE9wIErYzFrAGefbAFzieXScDtGrLR2yMx78yw3Z2xkI4m3SET4w/mZoheo8RzY3Ebd+0xksHEKaMz35nvp7n1+6eY1bQC2V2abBlTk8CVZ7CVI3YSuvTEQGxpnWCAacZlbAxXcnERKzkRfam3VQCkQGh8Q/q2mXERaIj1sJlHMP6kwWAZErVclJXX8oF0zTGrP5i+UORK7aj2lTEnAlOewlVbdhETTmBtUZ70T3PrJqeMNQ5jU3QhMZ9ePnCayAY9tpjG8GGvSwi0jMVk5MCocTzCYK2zAh25i2aU8wNqmnIhr08LORPM07GfEHj5xUrGZXWmAYrEjdPM0zRk1LGNXDtxn1kdjGesjMa3Uw7hMU+vfWY1ljkLLRYeJaBLZb9JbLCOxjl+RCjjiEUERltYwoCMxrYyAsYEU8zbd3gOnILQWXzOIX08fzoxohFhOJ+nRhCXIDQvd3nm6SM7khZaGOAZcPkZb9JbLvoZaR2MfzORDXjiba/WCDFfPEr5O2VpngSrfjAlRTtKkzwJSD8pTnuJWe0XyYh3YM32nEJr5E8uhoQ7CEGMEPMJsgQDmVmrlpW7dxFsrilDgRl34jrecwV3DJiPWBmV3DOIh/pErUH2ZUhPAlLuRK3XsJWiHgSpHifKe7/l90YQGxLPPMbyJYC2Jd5h5Mu39zHU8mZoPMZrDzAX5i+TC1D4EIufiEtGcdo4/pMsq+REtq+ZjC4ZaB6hkwPVEKNmIHcieXf3hV1BaBkGWitXnMVKm5myxsNM38vFdO8zSxBjLeRmF7AMzdV/JgQAERbcwb84mKyIHzxEBPErWCrIEdzjMOzM8i6Bl27pXdpzEYtxPf9ojJyJWU/bEVD7MCbsR6ruIUIBMHkfugCsN0NrtzM2E5jK4wZZkDJjHTRlpbmWW2NzLUtBlvAJMZ9LHOoJjC4ZmKf5AqmbGbmeZZiB0girW0WpmEDOQDDqGhLZxBXpjDXe+IaruTN1eN0/UzZlsRKnxKzTECHE84tOCwEOmu+mIRURmWW5IMcucws8LuJ2mzSRiGENlxyINucQVvB5OILLO0FR7Tanr2qZgMMw2WGe9zAKoCJil43nvHfUQtgkRESKtLQeY+IRcZZZYBGKjImzTNPIvcs2FHJM8NaX+IhOgrovO8CLmi/rg3GwXZ/2qp86R2PG49x9DR1TplGs0Wor1mjvrWym+lwyWIwyrKw4IIIOYc8iKunaEXPtlhYxnryRNmeJmyBecRa8CB6MQuCcQUuZXXxmVgkboH+cW2ALkTA9ZNZjbmgrY5ldZ7iKxwGgdJmh5794BqIu0QJSYAjjdBa74MLXzdauRFGmBxMUPPRh4K6pqdH1DxCnUup1Eh9D0pP1NqkdwSDsU/wBmYTwD429IbeIvBXQeoeH9TqWLdRq1IrWq9/8AzVVGOxj/AFckHv3zm/0c9Wo8J+ML7NX4F1FmKruXfpTk/vUdzUTyyDt3HzB0l/SaNbo769VpL6ltouqcMliMMqykcEEEEERXyoM/UMx7zyyTtgprIIi7jEF0UpgQs8wgzFaqEZKiWVFpYbTzLHIhWsZg2fyDaYih4ELbWj+ccNGe4DM9z3gNJGYbnbEsF5OJYAIyaU/iNvcZMNlhhstyFzCrqcTTdP6LfrNZeml0mnqa2+61gqVooJZiT2AAJnWfHvVtf4V8Bau7pHglSarNVVmvU9U7gknulR+SdyOW+g8eeMtBR1fxFangrolwD1fqqTZrLVPIIpyNoP1dgf7Gein0ZXp4W8NdX6t4m8aIwPUbrtTUNLoR9hVKwTYfpu9n5zXelPxGOsdZFvTfAmjtxqtSOH1rDvTUf+p/lOm9C8J6bp2gSrp/Sen6VKaKwdqUU1rtVeewVQJ4K9Ifijr3TPDPVf1mq6VdstDDaL07edV99e7K5/7qTWaxkypk4xCwbEdXaFLJ7QBaV7O8qRe4iNxuiXVGLtcwHVxVpBi1DvA/zmV9ZFbSzc0sdmjhicGeXcIBph7UNpwDPM7iVp3ErXgTNDYjF3OIVu5iAjMqrQciX9H8D9M9GXRtSab+sV/q+sOh5/SqxFdX4d1JP9q8dmnTdf04elfxTpE1QS8p4d0lyZUMhw2qI7EhgVT6FSZU9Vg3cEYO0kH/AJieZ/EvbqT1p7fR3a51dpsuLa0sWydOSe+Sf9qecf3mi6N4c0fR+j6Ovp/TNJUKtNpqF2pWo7ACabxr6NOteGOpW31aLqWmNFtmntKOueQQR9CBweD2IIJB8VegX+KX28jqfRdZtuVSVr12nb/82IQR9CfqJpuqeF+ndY6df5+g12mr1Oms7b63UMp/5EQscFottPMTa0xa0KHvHXsZay9zLFfljMpgtPOqMLarIHzhTTSwOY5cZnu/XuUwWE8RAG9mKqtgRqbeIwwpMFuMmKKMiFMxzbiedR2gKOdsFFrcdjPJc8wqmN01fij+NHxed5sNWsr6fpq88KKkWvA/LBj+TNN4Z9H/AEXw9oMJo+m6GrS1BRjIRQufycZMLg+3DdaeZ5xEDU5KSjp3jTwV4ppqxZrtLfotSQPnSwdP8kWvL+rfwhdFS5za/T9Tfo8nvtV96j/CuBHV49aRrlMdmPEcAw74DTBUpIhrt7zzgATKzgxPLxBa3Amwzah/kAUxU3CC4mDYxhpumCOYHoEFomLYBVAaXh32YlgtMtEv6L/GZ4vuvTc1XXP1e36qxFo/+CINVoKdVQ4sourWytx2ZSMgx/qYxsEAAzKv0v8AiaUaD0d9GRwdSbNZqXX7VArRf+ZLS2r+Eim+wYTWdX1N1X91G2v/AKq2hNZOI6ORiGw4Igas8TYjcQ0W9psrIm9DHFuYa25MCJ3gZsbolqxCn8uUMdt0atyTAKmnmXGOpzDTUATFPBaJY8BSB62nmu/EJJ9mNXu9majp3pD6T4701HwHU6V0escDtqKwdhP/ABV8D/0jKPGnoQo8OazUA+JegVCiyt29u/TDiq0fUAYQ/QgfcIwsxiHvtn6VOZpen9K1Or1mpTTaSio2XXWuFStFBLMSewABJmq9M/8AFFqtf0am7VaIunTeg6YD23rDEKcfV3Zm/wDcBNN4N9EHhrwpQwcdO0SVWuOz2n2rH/y5YxX0/aDk4i02SsjES2huJhmIEet2EawQqpOI1bx1jq3eYCgtBag5m5f5AYrq0O18CWFmG0xhZlli1pCVO2W+ZHDDM2VcmIMjMrscyqxIjA8Tonj30bdW8K9doL6DW17d6Ab6XHKWIfkykAiekT+Hn08U2h7endQ0thfpvVaUzp9fV9RnhgRwyHt2M8D+JNHptF43x4O67gK9zBrNHe3zYOBmvP0fgfcZ4L1/TF1PT/FnRtdQV3CyjqdLjH+Gnos8HaCx+p+Nem3XqONJoLxqryfkNlWSM/VsCdd9JNV/h3oNN3QPCBf26i2dRrsHjzSOAv8AoBI+pM1nRNXV6QfGOhbT9UKf+DaC8YegMCDdYp7MQcKD2GTC165g8gRPLMzYcRq35iCrBaVvW3Ii+e0Umb6TgQqWO2bSZiMLBHYCZp9e0GBGIzBaMZi3IYrEkrEqRjibLiILRyJWgyRK6TAUIDR3JwZaGOcwoOTEKcmVB+4nhTx/4Nv6B4s6Pp+tdLtO7y7hzW3IDo4wyNyfaUg8zVfrr9b6OvFNL6Y8p07rmVZPqBdWp3f2yg/M9OeivNdXhKjXJ99HWdIF/wDvYpnpY6peB1duleHKP6zfrPOcD+wqDA/5YTwX4A11HVLxZ4p8RVkMmt1tYFdLfWqrkL+SWI+RlgP7TDQ4JE8urGY1sLgkieTUTGqYgNHcEbobLDzHZxC+n5EC0tkTZawE3EgRnsBxCgHE21+sipsR1taMtnJissTYYgreBtWcGZqHzhFJxLRaY5bmK8U15AjVA4lqsZYpjGxQTN+lzH3kCG1+REZOViYPswUoxAhrtIzBYYp00HkWRmveWEQq/MXeuYn6aDyXm+9oXccQYU7YK6+02r68oYuWMNVp2wqeTAKG9qcuN08zU8njMQ0gZldlUqYkxKQYK7duYllQ5lVqSshjEQnE26oTdpxFJiKYuyIqGA1PG89o9bz4fkwNQ3MD3mVmntEqc4nl3YzC9HeGyhoW1ZyPnK0xkSutB2ibcCZHr2o09phDa5j1KTLFrYCW2WMY4uzzHqUAw7CJlTCyNG87OYyiHZBtIzBbnEJ1IMCaaAPibzB5PJi1o0Wx2BMFxzBXyJ5CYz2hcEZh87MIpxGfdGF8ygzFt00StyYunzzBvxunm45m5PWTW0ZrjPrB5DYjMx4jN/TCD+2Onylv0Mtlqo3Bji7tLGHAMtFWcGWV5jvbNgDQVptzGteFBmCqk8wDeA0zectK9nLSvyjzAzMFj33R2GdssC42x9hysNFhyIKDgtK/JI3xGRsNCXbBlhvjttmafWNhiI7ZlSEgNK2XGZS2ZT9RKfqJT9RKT9JVbFepsCe/PswImSJXVQZWC0TzTESmYt7xCMkytKe4g8pgHhd25h3d43YGWPXH3kmBrhkRBR2lQOJW1JgQNiGu04jgY3GOwOWhsMLuOIUA4m2r17amjJa+DLWc4aWkdzLvqZd9TLvqZaB3MsV+TGZwMxX0/Mr82KlJIhrrbmMbH5h3HmO64zHJzzHo+ccKRujWAjMLE+rLyvyOYgc4g88YhGj4j+eY3kczKNC1jcRlXsYRBviELE2CAL68VPCdS8820RfLyREHylX0EQ/IRfKOFnlWtCl4nl6OEakjMNtEZ62lnnNxHh3jMUUHiBS2I5c4jiEerYYUqxum9+8BuERtPKy5MSug8wOWAi2seJigkLHV24joe0srIEZkEzX6uDPdPPi2g8yJVpoiMeYn3RHfvFs00GWmNTCdBx9JZ+rP5jNSAZ5tU3OfZgH9MFGTiLUjCC21p5wmyljibHYQtGjiOXj0nM8tMFoD84XrIBjXWmZ7iCzTniBnPsz/AEwo/aGqbU9funnxjfn1FdK2DHFz8mPnuY5uHJhbRT90+MgfSRWuJIgQRTX2lXOQJTsPAiCt8Rw7gRjfzE8kZiDStB+oYCeY+JupziMjdoW+UNVLGWVuRLbGllqRu5EFWMiIUxEb5CV4PEqWIO0wvr908+Lf8/8Af1fCt+IfNeH6Q+eJjRj8T90+MgGkieZFaDycwVAwKSN089WGZ5oY4hpvPEFKYzBZp2G6F7zM3iLZphxAzdoFTtFTTtxN97AD5wsw9mKlYyolVdRldLkZis+N0Vl7wKp5gRyMwWPNyev3Tz4xvzOYbNGY72NhY/2mOloO2GvSYmN0+Mjfo+JYtxzChwTA9MZ62xLfNPeOG5itURN24gRqnMezKxic4my8QCgRIhrOJmp4G1cRagYlCd8RBWw3zLnDwi7looqHtRWU4eNbacHMfMIrHr908xqmirbyZW9HJlLse0olKStKCMwNYwzM6sQPphBtY7Y1NxxCDgmLbVKyGOBEpDYgNxGYLqIqk8RRdE8qKmpgWjvGYnBjskNlJhTVQVafvMbgHjlj7caxv3Rt8tRP3Ry+GaLYRkxNkG315qeN57y2q0y1V7mW/WWSyWFSMyy14/nAmYpED1mAhjiNRacRxxCNO0sYvLHvhGlEJVsCOlxlhQiWC3MsPEa0Amba4HqORNhc4j1hgJa7NLSZYX7GM57Qig8R6rTLK3xGZBM1+vejTzXYhYd54jj5R/oY/wBDH+2P9Id/InlPyJsT1BkPE3scCFW7QmojEZ3bibH/AGzZTjE81GhLn2Yfthz+2FH7QVqMiKqwFDA6NxC7txCSfZn+iYblYK/6YDSeJudsLCr9oasTCevIitE+giRIkSJEip8oF9WRAYBAYh+URfkIAICDEPyiRIg+QgX1giKc5ESJEirBiISciIPkIEmB/ur/xAAUEQEAAAAAAAAAAAAAAAAAAACg/9oACAECAQE/AEgf/8QAFBEBAAAAAAAAAAAAAAAAAAAAoP/aAAgBAwEBPwBIH//Z\";var{TabPane:ve}=c.Tabs,_=dt.default.create({baseURL:\"/website\"});_.interceptors.response.use(function(e){if(e.data.code!==0)throw c.message.error(e.data.message),new Error(e.data);return e.data.data},function(e){return Promise.reject(e)});c.message.config({top:\"40%\"});var R={IDLE:\"idle\",LOADING:\"loading\",WAITING:\"waiting\",SCANNED:\"scanned\",SUCCESS:\"success\",EXPIRED:\"expired\",ERROR:\"error\"},It={NEW:\"NEW\",SCANNED:\"SCANNED\",CONFIRMED:\"CONFIRMED\",EXPIRED:\"EXPIRED\",CANCELED:\"CANCELED\"},ss={[R.IDLE]:\"READY\",[R.LOADING]:\"LOADING\",[R.WAITING]:\"SCAN ME\",[R.SCANNED]:\"CONFIRM\",[R.SUCCESS]:\"SUCCESS\",[R.EXPIRED]:\"EXPIRED\",[R.ERROR]:\"ERROR\"};function Nt({qrcodeUrl:e,cacheUrl:t,checkStatusUrl:n}){let[r,o]=a.default.useState(\"\"),[i,l]=a.default.useState(R.IDLE),[s,d]=a.default.useState(Dt),[u,f]=a.default.useState(null),m=(0,a.useRef)(null),C=(0,a.useRef)(null),g=(0,a.useCallback)(()=>{m.current&&(clearInterval(m.current),m.current=null),C.current&&(clearTimeout(C.current),C.current=null)},[]),F=(0,a.useCallback)(y=>{g(),m.current=setInterval(async()=>{try{let v=await dt.default.post(\"/website\".concat(n),{sessionKey:y});if(v.data.code===0&&v.data.data){let{status:T,cookie:D}=v.data.data;switch(T){case It.CONFIRMED:g(),o(D),l(R.SUCCESS),await _.put(t,{cookie:D}),c.message.success(\"\\u626B\\u7801\\u6210\\u529F\\uFF0C\\u5DF2\\u81EA\\u52A8\\u5165\\u5E93\"),setTimeout(()=>{d(Dt),l(R.IDLE),f(null)},2e3);break;case It.SCANNED:l(R.SCANNED);break;case It.EXPIRED:case It.CANCELED:g(),d(Dt),l(R.EXPIRED),f(null),c.message.warning(\"\\u4E8C\\u7EF4\\u7801\\u5DF2\\u8FC7\\u671F\\uFF0C\\u8BF7\\u91CD\\u65B0\\u70B9\\u51FB\");break;case It.NEW:default:break}}}catch(v){}},2e3),C.current=setTimeout(()=>{g(),d(Dt),l(R.EXPIRED),f(null),c.message.warning(\"\\u4E8C\\u7EF4\\u7801\\u5DF2\\u8FC7\\u671F\\uFF0C\\u8BF7\\u91CD\\u65B0\\u70B9\\u51FB\")},12e4)},[t,n,g]),w=(0,a.useCallback)(async()=>{if(i!==R.LOADING){g(),l(R.LOADING),f(null);try{let y=await dt.default.get(\"/website\".concat(e,\"?t=\").concat(Date.now()),{responseType:\"blob\"}),v=y.headers[\"x-session-key\"];if(v){f(v);let T=URL.createObjectURL(y.data);d(T),l(R.WAITING),F(v)}else throw new Error(\"\\u672A\\u83B7\\u53D6\\u5230 sessionKey\")}catch(y){console.error(\"\\u83B7\\u53D6\\u4E8C\\u7EF4\\u7801\\u5931\\u8D25:\",y),l(R.ERROR),c.message.error(\"\\u83B7\\u53D6\\u4E8C\\u7EF4\\u7801\\u5931\\u8D25\")}}},[e,i,g,F]),b=(0,a.useCallback)(y=>{if(!y){c.message.warning(\"\\u6CA1\\u6709\\u53EF\\u590D\\u5236\\u7684\\u5185\\u5BB9\");return}(0,ka.default)(y),c.message.success(\"\\u5DF2\\u590D\\u5236\\u5230\\u526A\\u8D34\\u677F\")},[]),p=(0,a.useCallback)(async()=>{if(!r){c.message.warning(\"\\u6CA1\\u6709\\u53EF\\u5165\\u5E93\\u7684\\u5185\\u5BB9\");return}await _.put(t,{cookie:r}),c.message.success(\"\\u5165\\u5E93\\u6210\\u529F\")},[t,r]);(0,a.useEffect)(()=>(_.get(t).then(y=>{o(y||\"\")}),()=>g()),[t,g]);let h=()=>{switch(i){case R.SUCCESS:return\"#22c55e\";case R.ERROR:case R.EXPIRED:return\"#ef4444\";default:return\"#3b82f6\"}},O=i===R.LOADING;return a.default.createElement(\"div\",{className:\"qrcode-card\"},a.default.createElement(\"div\",{className:\"qrcode-wrapper\",onClick:w},a.default.createElement(\"div\",{className:\"qrcode-glow\"}),a.default.createElement(\"div\",{className:\"qrcode-container\"},a.default.createElement(\"img\",{src:s,alt:\"\\u626B\\u7801\\u533A\\u57DF\",className:\"qrcode-image \".concat(O?\"qrcode-image--loading\":\"\")}),O&&a.default.createElement(\"div\",{className:\"qrcode-overlay\"},a.default.createElement(\"div\",{className:\"qrcode-spinner\"}),a.default.createElement(\"span\",null,\"\\u751F\\u6210\\u4E2D...\"))),a.default.createElement(\"div\",{className:\"qrcode-status\"},a.default.createElement(\"div\",{className:\"status-dot \".concat(i===R.WAITING||i===R.SCANNED?\"status-dot--pulse\":\"\"),style:{backgroundColor:h()}}),a.default.createElement(\"span\",{className:\"status-text\"},ss[i]))),a.default.createElement(\"div\",{className:\"cookie-result-wrapper\"},a.default.createElement(\"textarea\",{className:\"cookie-result\",value:r,onChange:y=>o(y.target.value),placeholder:\"\\u70B9\\u51FB\\u4E0A\\u65B9\\u4E8C\\u7EF4\\u7801\\u5F00\\u59CB\\u626B\\u7801...\",spellCheck:\"false\"})),a.default.createElement(\"div\",{className:\"action-buttons\"},a.default.createElement(\"button\",{className:\"action-btn action-btn--primary\",onClick:()=>b(r)},a.default.createElement(\"span\",null,\"\\u590D\\u5236\"),a.default.createElement(\"svg\",{className:\"btn-icon\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\"},a.default.createElement(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"}))),a.default.createElement(\"button\",{className:\"action-btn action-btn--secondary\",onClick:p},a.default.createElement(\"span\",null,\"\\u5165\\u5E93\"),a.default.createElement(\"svg\",{className:\"btn-icon\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\"},a.default.createElement(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M5 13l4 4L19 7\"})))))}function Ta({api:e}){let[t]=c.Form.useForm(),n=async()=>{try{let r=await t.validateFields();await _.put(e,r),c.message.success(\"\\u5165\\u5E93\\u6210\\u529F\")}catch(r){console.error(r),c.message.error(\"\\u5165\\u5E93\\u5931\\u8D25\\uFF1A\".concat(r==null?void 0:r.message))}};return(0,a.useEffect)(()=>{_.get(e).then(r=>{t.setFieldsValue(r)})},[]),a.default.createElement(c.Form,{form:t,className:\"ios-form\",layout:\"vertical\"},a.default.createElement(c.Form.Item,{label:\"\\u8D26\\u53F7\",name:\"username\"},a.default.createElement(c.Input,null)),a.default.createElement(c.Form.Item,{label:\"\\u5BC6\\u7801\",name:\"password\"},a.default.createElement(c.Input.Password,null)),a.default.createElement(c.Form.Item,{label:null},a.default.createElement(\"button\",{className:\"action-btn action-btn--primary\",onClick:n},\"\\u4FDD\\u5B58\")))}function ds({visible:e,onCancel:t,onSave:n,panKey:r,panName:o,chunkSize:i,poolSize:l}){let[s]=c.Form.useForm();(0,a.useEffect)(()=>{e&&s.setFieldsValue({chunkSize:i||512,poolSize:l||10})},[e,i,l,s]);let d=async()=>{try{let u=await s.validateFields();n(u)}catch(u){console.error(\"\\u9A8C\\u8BC1\\u5931\\u8D25:\",u)}};return a.default.createElement(c.Modal,{title:\"\".concat(o,\" \\u4E0B\\u8F7D\\u914D\\u7F6E\"),open:e,onCancel:t,width:\"90%\",className:\"ios-modal\",footer:null},a.default.createElement(c.Alert,{message:\"\\u914D\\u7F6E\\u8BF4\\u660E\",description:a.default.createElement(a.default.Fragment,null,a.default.createElement(\"div\",null,\"\\u2022 \\u5206\\u7247\\u5927\\u5C0F\\uFF1A\\u5EFA\\u8BAE 256-1024 KB\"),a.default.createElement(\"div\",null,\"\\u2022 \\u7EBF\\u7A0B\\u6570\\uFF1A\\u5EFA\\u8BAE 5-15\"),a.default.createElement(\"div\",null,\"\\u2022 \\u53C2\\u6570\\u8FC7\\u5927\\u53EF\\u80FD\\u5BFC\\u81F4\\u9650\\u901F\\u6216\\u5C01\\u7981\")),type:\"info\",showIcon:!0,className:\"ios-alert\",style:{marginBottom:16}}),a.default.createElement(c.Form,{form:s,layout:\"vertical\",className:\"ios-form ios-input-number\"},a.default.createElement(c.Form.Item,{label:\"\\u5206\\u7247\\u5927\\u5C0F (KB)\",name:\"chunkSize\",rules:[{required:!0,message:\"\\u8BF7\\u8F93\\u5165\\u5206\\u7247\\u5927\\u5C0F\"},{type:\"number\",min:64,max:2048,message:\"\\u8303\\u56F4: 64-2048 KB\"}]},a.default.createElement(c.InputNumber,{style:{width:\"100%\"},placeholder:\"512\",addonAfter:\"KB\"})),a.default.createElement(c.Form.Item,{label:\"\\u5E76\\u53D1\\u7EBF\\u7A0B\\u6570\",name:\"poolSize\",rules:[{required:!0,message:\"\\u8BF7\\u8F93\\u5165\\u7EBF\\u7A0B\\u6570\"},{type:\"number\",min:1,max:20,message:\"\\u8303\\u56F4: 1-20\"}]},a.default.createElement(c.InputNumber,{style:{width:\"100%\"},placeholder:\"10\",addonAfter:\"\\u7EBF\\u7A0B\"})),a.default.createElement(c.Form.Item,{style:{marginBottom:0,marginTop:24}},a.default.createElement(\"div\",{className:\"ios-button-group\",style:{justifyContent:\"flex-end\"}},a.default.createElement(\"button\",{className:\"action-btn action-btn--secondary-outline\",onClick:t},\"\\u53D6\\u6D88\"),a.default.createElement(\"button\",{className:\"action-btn action-btn--primary\",onClick:d},\"\\u4FDD\\u5B58\")))))}var Fa=e=>{let{attributes:t,listeners:n,setNodeRef:r,transform:o,transition:i,isDragging:l}=tr({id:e[\"data-row-key\"]}),s=k(N(k({},e.style),{transform:Ae.Translate.toString(o),transition:i}),l?{position:\"relative\",zIndex:9999}:{});return a.default.createElement(\"tr\",k(N(k({},e),{ref:r,style:s}),t))},Ea=({rowKey:e})=>{let{listeners:t,setActivatorNodeRef:n}=tr({id:e});return a.default.createElement(_n,k({ref:n,className:\"drag-handle\"},t))},hn=\"https://pan.wnng.cn\",st=[{key:\"baidu\",name:\"\\u767E\\u5EA6\\u7F51\\u76D8\"},{key:\"aliyun\",name:\"\\u963F\\u91CC\\u4E91\\u76D8\"},{key:\"quark\",name:\"\\u5938\\u514B\\u7F51\\u76D8\"},{key:\"tianyi\",name:\"\\u5929\\u7FFC\\u4E91\\u76D8\"},{key:\"115\",name:\"115\\u7F51\\u76D8\"},{key:\"xunlei\",name:\"\\u8FC5\\u96F7\\u7F51\\u76D8\"},{key:\"uc\",name:\"UC\\u7F51\\u76D8\"},{key:\"yidong\",name:\"\\u79FB\\u52A8\\u4E91\\u76D8\"},{key:\"pikpak\",name:\"PikPak\"},{key:\"123pan\",name:\"123\\u7F51\\u76D8\"},{key:\"magnet\",name:\"\\u78C1\\u529B\\u94FE\\u63A5\"},{key:\"ed2k\",name:\"\\u7535\\u9A74\\u94FE\\u63A5\"}],us=[{key:\"nodejs_muou\",api:\"/muou/urls\",name:\"\\u6728\\u5076\"},{key:\"nodejs_wanou\",api:\"/wanou/urls\",name:\"\\u73A9\\u5076\"},{key:\"nodejs_leijing\",api:\"/leijing/urls\",name:\"\\u96F7\\u9CB8\"},{key:\"nodejs_zhizhen\",api:\"/zhizhen/urls\",name:\"\\u81F3\\u81FB\"},{key:\"nodejs_duoduo\",api:\"/duoduo/urls\",name:\"\\u591A\\u591A\"},{key:\"nodejs_erxiao\",api:\"/erxiao/urls\",name:\"\\u4E8C\\u5C0F\"},{key:\"nodejs_huban\",api:\"/huban/urls\",name:\"\\u864E\\u6591\"},{key:\"nodejs_labi\",api:\"/labi/urls\",name:\"\\u8FA3\\u7B14\"},{key:\"nodejs_ouge\",api:\"/ouge/urls\",name:\"\\u6B27\\u6B4C\"},{key:\"nodejs_xiaoban\",api:\"/xiaoban/urls\",name:\"\\u5C0F\\u73ED\"},{key:\"nodejs_tgchannel\",api:\"/tgchannel/config\",name:\"TG\\u9891\\u9053\",type:\"tg\"},{key:\"nodejs_tgsou\",api:\"/tgsou/config\",name:\"TG\\u641C\",type:\"tg\"},{key:\"nodejs_pansou\",api:\"/pansou/config\",name:\"PanSou\",type:\"pansou\"},{key:\"nodejs_live2vod\",api:\"/live2vod/config\",name:\"\\u76F4\\u64AD\\u8F6C\\u70B9\\u64AD\",type:\"live2vod\"}],cs=us.reduce((e,t)=>(e[t.key]={api:t.api,name:t.name,type:t.type},e),{});function fs({visible:e,onCancel:t,onSave:n,siteName:r}){let[o]=c.Form.useForm(),[i,l]=(0,a.useState)(!1),[s,d]=(0,a.useState)(\"channels\"),[u,f]=(0,a.useState)([]),[m,C]=(0,a.useState)([]),[g,F]=(0,a.useState)(!1),[w,b]=(0,a.useState)([]),[p,h]=(0,a.useState)([]),[O,y]=(0,a.useState)([]),[v,T]=(0,a.useState)(\"\"),[D,A]=(0,a.useState)([]),z=(0,a.useRef)(0),U=()=>{let S=v.trim();if(S){if(u.includes(S)){c.message.warning('\\u9891\\u9053 \"'.concat(S,'\" \\u5DF2\\u5B58\\u5728')),T(\"\");return}f([S,...u]),A([S,...D]),b([S,...w]),T(\"\"),c.message.success('\\u5DF2\\u6DFB\\u52A0\\u9891\\u9053 \"'.concat(S,'\"'))}},B=(S,E)=>{E.stopPropagation(),f(u.filter(I=>I!==S)),b(w.filter(I=>I!==S)),A(D.filter(I=>I!==S)),c.message.success('\\u5DF2\\u5220\\u9664\\u9891\\u9053 \"'.concat(S,'\"'))},X=(0,a.useCallback)(async S=>{if(!S)return null;F(!0);try{let E=await dt.default.get(\"\".concat(S,\"/api/health\"));if(E.data){let I=E.data.channels||[],L=E.data.plugins||[];return f(I),C(L),{channels:I,plugins:L}}return null}catch(E){return console.error(\"\\u83B7\\u53D6 PanSou \\u9009\\u9879\\u5931\\u8D25:\",E),null}finally{F(!1)}},[]);(0,a.useEffect)(()=>{let S=++z.current;if(!e){l(!1),T(\"\");return}l(!0),_.get(\"/pansou/config\").then(async E=>{if(z.current!==S)return;let I=E.url||hn;o.setFieldsValue({name:r,url:I});let L=await X(I);E.channels&&E.channels.length>0?b(E.channels):L!=null&&L.channels&&b(L.channels),E.plugins&&E.plugins.length>0?h(E.plugins):L!=null&&L.plugins&&h(L.plugins),E.cloudTypes&&E.cloudTypes.length>0?y(E.cloudTypes):y(st.map(pe=>pe.key))}).catch(E=>{z.current===S&&(console.error(E),c.message.error(\"\\u52A0\\u8F7D\\u914D\\u7F6E\\u5931\\u8D25\"))}).finally(()=>{z.current===S&&l(!1)})},[e,r,o,X]);let ne=(0,a.useCallback)(S=>{let E=S.target.value||hn;X(E)},[X]),se=async()=>{let S;try{S=await o.validateFields()}catch(E){return}try{l(!0);let E={url:S.url||\"\",channels:w,plugins:p,cloudTypes:O};await _.put(\"/pansou/config\",E),c.message.success(\"\\u4FDD\\u5B58\\u6210\\u529F\"),n(S.name),t()}catch(E){console.error(E),c.message.error(\"\\u4FDD\\u5B58\\u5931\\u8D25\\uFF1A\".concat((E==null?void 0:E.message)||\"\\u8BF7\\u6C42\\u5931\\u8D25\"))}finally{l(!1)}},Pe=async()=>{try{l(!0),await _.delete(\"/pansou/config\");let E=(await _.get(\"/pansou/config\")).url||hn;o.setFieldsValue({url:E});let I=await X(E);b((I==null?void 0:I.channels)||[]),h((I==null?void 0:I.plugins)||[]),y(st.map(L=>L.key)),c.message.success(\"\\u91CD\\u7F6E\\u6210\\u529F\")}catch(S){console.error(S),c.message.error(\"\\u91CD\\u7F6E\\u5931\\u8D25\\uFF1A\".concat(S==null?void 0:S.message))}finally{l(!1)}},Oe=(S,E,I)=>{S.includes(I)?E(S.filter(L=>L!==I)):E([...S,I])},Z=(S,E,I)=>{E.length===S.length?I([]):I([...S])},Te=(S,E,I,L,pe,Le)=>a.default.createElement(\"div\",{key:S,className:\"pansou-checkbox-card \".concat(E?\"pansou-checkbox-card--selected\":\"\"),onClick:I},a.default.createElement(\"span\",{className:\"pansou-checkbox-card__label\"},L||S),pe&&a.default.createElement(qe,{className:\"pansou-checkbox-card__delete\",onClick:Le})),fe=[{key:\"channels\",label:a.default.createElement(c.Badge,{count:w.length,overflowCount:9999,size:\"small\",offset:[12,-4]},a.default.createElement(\"span\",{style:{paddingRight:8}},\"TG\\u9891\\u9053\"))},{key:\"plugins\",label:a.default.createElement(c.Badge,{count:p.length,overflowCount:9999,size:\"small\",offset:[12,-4]},a.default.createElement(\"span\",{style:{paddingRight:8}},\"\\u641C\\u7D22\\u63D2\\u4EF6\"))},{key:\"cloudTypes\",label:a.default.createElement(c.Badge,{count:O.length,overflowCount:9999,size:\"small\",offset:[12,-4]},a.default.createElement(\"span\",{style:{paddingRight:8}},\"\\u7F51\\u76D8\\u7C7B\\u578B\"))}];return a.default.createElement(c.Modal,{title:\"\\u7F16\\u8F91 \".concat(r||\"PanSou\"),open:e,onCancel:t,className:\"ios-modal pansou-config-modal\",footer:null,width:\"90%\",destroyOnClose:!0},a.default.createElement(c.Spin,{spinning:i},a.default.createElement(c.Form,{form:o,layout:\"horizontal\",labelCol:{span:4},wrapperCol:{span:20},className:\"ios-form\"},a.default.createElement(c.Form.Item,{label:\"\\u540D\\u79F0\",name:\"name\"},a.default.createElement(c.Input,{placeholder:\"\\u7AD9\\u6E90\\u540D\\u79F0\"})),a.default.createElement(c.Form.Item,{label:\"API \\u5730\\u5740\",name:\"url\"},a.default.createElement(c.Input,{placeholder:\"\\u7559\\u7A7A\\u4F7F\\u7528\\u9ED8\\u8BA4: \".concat(hn),onBlur:ne}))),a.default.createElement(c.Tabs,{activeKey:s,onChange:d,items:fe,className:\"pansou-config-tabs\"}),a.default.createElement(c.Spin,{spinning:g},s===\"channels\"&&a.default.createElement(\"div\",{className:\"pansou-checkbox-section\"},a.default.createElement(\"div\",{className:\"pansou-checkbox-header\"},a.default.createElement(\"span\",null,\"\\u5DF2\\u9009 \",w.length,\" / \",u.length),a.default.createElement(c.Space,null,a.default.createElement(c.Button,{type:\"link\",size:\"small\",onClick:()=>Z(u,w,b)},w.length===u.length?\"\\u53D6\\u6D88\\u5168\\u9009\":\"\\u5168\\u9009\"))),a.default.createElement(\"div\",{className:\"pansou-add-channel\"},a.default.createElement(c.Input,{placeholder:\"\\u641C\\u7D22\\u6216\\u6DFB\\u52A0\\u9891\\u9053\",value:v,onChange:S=>T(S.target.value),onPressEnter:U,allowClear:!0,style:{flex:1}}),a.default.createElement(c.Button,{type:\"primary\",icon:a.default.createElement(Re,null),onClick:U},\"\\u6DFB\\u52A0\")),a.default.createElement(\"div\",{className:\"pansou-checkbox-grid\"},u.filter(S=>!v||S.toLowerCase().includes(v.toLowerCase())).map(S=>Te(S,w.includes(S),()=>Oe(w,b,S),S,D.includes(S),E=>B(S,E)))),u.length===0&&!g&&a.default.createElement(\"div\",{className:\"pansou-empty-tip\"},\"\\u8BF7\\u5148\\u914D\\u7F6E\\u6B63\\u786E\\u7684 API \\u5730\\u5740\\u4EE5\\u52A0\\u8F7D\\u53EF\\u7528\\u9891\\u9053\")),s===\"plugins\"&&a.default.createElement(\"div\",{className:\"pansou-checkbox-section\"},a.default.createElement(\"div\",{className:\"pansou-checkbox-header\"},a.default.createElement(\"span\",null,\"\\u5DF2\\u9009 \",p.length,\" / \",m.length),a.default.createElement(c.Button,{type:\"link\",size:\"small\",onClick:()=>Z(m,p,h)},p.length===m.length?\"\\u53D6\\u6D88\\u5168\\u9009\":\"\\u5168\\u9009\")),a.default.createElement(\"div\",{className:\"pansou-checkbox-grid\"},m.map(S=>Te(S,p.includes(S),()=>Oe(p,h,S),S,!1,null))),m.length===0&&!g&&a.default.createElement(\"div\",{className:\"pansou-empty-tip\"},\"\\u8BF7\\u5148\\u914D\\u7F6E\\u6B63\\u786E\\u7684 API \\u5730\\u5740\\u4EE5\\u52A0\\u8F7D\\u53EF\\u7528\\u63D2\\u4EF6\")),s===\"cloudTypes\"&&a.default.createElement(\"div\",{className:\"pansou-checkbox-section\"},a.default.createElement(\"div\",{className:\"pansou-checkbox-header\"},a.default.createElement(\"span\",null,\"\\u5DF2\\u9009 \",O.length,\" / \",st.length),a.default.createElement(c.Button,{type:\"link\",size:\"small\",onClick:()=>Z(st.map(S=>S.key),O,y)},O.length===st.length?\"\\u53D6\\u6D88\\u5168\\u9009\":\"\\u5168\\u9009\")),a.default.createElement(\"div\",{className:\"pansou-checkbox-grid\"},st.map(S=>Te(S.key,O.includes(S.key),()=>Oe(O,y,S.key),S.name,!1,null))))),a.default.createElement(\"div\",{className:\"pansou-config-footer ios-button-group\"},a.default.createElement(\"button\",{className:\"action-btn action-btn--primary\",onClick:se,disabled:i},\"\\u4FDD\\u5B58\"),a.default.createElement(\"button\",{className:\"action-btn action-btn--danger\",onClick:Pe,disabled:i},\"\\u91CD\\u7F6E\"))))}function ps({visible:e,onCancel:t,onSave:n,siteKey:r,siteName:o}){let[i]=c.Form.useForm(),[l,s]=(0,a.useState)(!1),d=cs[r],u=!!d,f=(d==null?void 0:d.type)===\"tg\",m=(d==null?void 0:d.type)===\"live2vod\",C=(0,a.useRef)(0),g=p=>{if(p===\"\"||p===null||typeof p>\"u\")return null;let h=Number(p);return Number.isFinite(h)?h:null},F=p=>{if(p==null||p===\"\")return\"\";let h=Number(p);return Number.isFinite(h)?h:\"\"};(0,a.useEffect)(()=>{let p=++C.current;if(!e){s(!1);return}u?(s(!0),_.get(d.api).then(h=>{if(C.current===p)if(f){let O=[],y=new Set;h.channelNameMap&&Object.keys(h.channelNameMap).forEach(v=>y.add(v)),h.channelUsername&&h.channelUsername.forEach(v=>y.add(v)),h.homeChannelUsername&&h.homeChannelUsername.forEach(v=>y.add(v)),y.forEach(v=>{var T;O.push({id:v,name:((T=h.channelNameMap)==null?void 0:T[v])||\"\"})}),i.setFieldsValue({name:o,url:h.url,count:g(h==null?void 0:h.count),pic:h.pic,channels:O.length>0?O:[{id:\"\",name:\"\"}]})}else m?i.setFieldsValue({name:o,sources:h.sources||[{name:\"\",url:\"\"}]}):i.setFieldsValue({urls:h,name:o})}).catch(h=>{C.current===p&&(console.error(h),c.message.error(\"\\u52A0\\u8F7D\\u914D\\u7F6E\\u5931\\u8D25\"))}).finally(()=>{C.current===p&&s(!1)})):i.setFieldsValue({name:o})},[e,r,o,u,f,m,i,d]);let w=async()=>{let p;try{p=await i.validateFields()}catch(h){return}try{if(s(!0),u)if(f){let h={},O=[],y=[];p.channels&&p.channels.length>0&&p.channels.forEach(T=>{T.id&&(T.name&&(h[T.id]=T.name),O.push(T.id),r===\"nodejs_tgchannel\"&&y.push(T.id))});let v=k({url:p.url,count:F(p.count),pic:p.pic,channelNameMap:h,channelUsername:O},r===\"nodejs_tgchannel\"?{homeChannelUsername:y}:{});await _.put(d.api,v)}else if(m){let h={sources:p.sources||[]};await _.put(d.api,h)}else await _.put(d.api,p.urls);c.message.success(\"\\u4FDD\\u5B58\\u6210\\u529F\"),n(p.name),t()}catch(h){console.error(h),c.message.error(\"\\u4FDD\\u5B58\\u5931\\u8D25\\uFF1A\".concat((h==null?void 0:h.message)||\"\\u8BF7\\u6C42\\u5931\\u8D25\"))}finally{s(!1)}},b=async()=>{if(u)try{s(!0),await _.delete(d.api);let p=await _.get(d.api);if(f){let h=[],O=new Set;p.channelNameMap&&Object.keys(p.channelNameMap).forEach(y=>O.add(y)),p.channelUsername&&p.channelUsername.forEach(y=>O.add(y)),p.homeChannelUsername&&p.homeChannelUsername.forEach(y=>O.add(y)),O.forEach(y=>{var v;h.push({id:y,name:((v=p.channelNameMap)==null?void 0:v[y])||\"\"})}),i.setFieldsValue({url:p.url,count:g(p==null?void 0:p.count),pic:p.pic,channels:h.length>0?h:[{id:\"\",name:\"\"}]})}else m?i.setFieldsValue({sources:p.sources||[{name:\"\",url:\"\"}]}):i.setFieldsValue({urls:p});c.message.success(\"\\u91CD\\u7F6E\\u6210\\u529F\")}catch(p){console.error(p),c.message.error(\"\\u91CD\\u7F6E\\u5931\\u8D25\\uFF1A\".concat(p==null?void 0:p.message))}finally{s(!1)}};return a.default.createElement(c.Modal,{title:\"\\u7F16\\u8F91 \".concat(o||(d==null?void 0:d.name)||\"\"),open:e,onCancel:t,className:\"ios-modal domain-edit-modal\",footer:null,width:\"90%\",destroyOnClose:!0},a.default.createElement(c.Form,{form:i,layout:\"vertical\",requiredMark:!1,colon:!1},a.default.createElement(c.Form.Item,{label:\"\\u540D\\u79F0\",name:\"name\",rules:[{required:!0,message:\"\\u8BF7\\u8F93\\u5165\\u540D\\u79F0\"}]},a.default.createElement(c.Input,{placeholder:\"\\u8BF7\\u8F93\\u5165\\u540D\\u79F0\",className:\"domain-edit-aligned-input\"})),u&&!f&&!m&&a.default.createElement(a.default.Fragment,null,a.default.createElement(c.Form.List,{name:\"urls\",rules:[{required:!0,message:\"\\u8BF7\\u6DFB\\u52A0\\u57DF\\u540D\"}]},(p,{add:h,remove:O},{errors:y})=>a.default.createElement(a.default.Fragment,null,p.map((v,T)=>a.default.createElement(c.Form.Item,{label:T===0?\"\\u57DF\\u540D\":null,required:!1,key:v.key,style:{marginBottom:12}},a.default.createElement(\"div\",{className:\"domain-list-row\"},a.default.createElement(c.Form.Item,N(k({},v),{validateTrigger:[\"onChange\",\"onBlur\"],rules:[{required:!0,whitespace:!0,message:\"\\u8BF7\\u8F93\\u5165\\u57DF\\u540D\"}],noStyle:!0}),a.default.createElement(c.Input,{placeholder:\"\\u8BF7\\u8F93\\u5165\\u57DF\\u540D\",className:\"domain-list-input\"})),a.default.createElement(\"span\",{className:\"domain-list-action\".concat(p.length>1?\"\":\" domain-list-action--placeholder\")},p.length>1?a.default.createElement(qe,{className:\"dynamic-delete-button\",onClick:()=>O(v.name)}):null)))),a.default.createElement(c.Form.Item,{label:null},a.default.createElement(c.Button,{type:\"dashed\",onClick:()=>h(),className:\"domain-edit-add-button\",icon:a.default.createElement(Re,null)},\"\\u6DFB\\u52A0\\u57DF\\u540D\"),a.default.createElement(c.Form.ErrorList,{errors:y}))))),u&&f&&a.default.createElement(a.default.Fragment,null,a.default.createElement(c.Form.Item,{label:\"TG\\u57DF\\u540D\",name:\"url\",rules:[{required:!0,message:\"\\u8BF7\\u8F93\\u5165TG\\u57DF\\u540D\"}]},a.default.createElement(c.Input,{placeholder:\"\\u8BF7\\u8F93\\u5165TG\\u57DF\\u540D\",className:\"domain-edit-aligned-input\"})),a.default.createElement(c.Form.Item,{label:\"\\u5355\\u9891\\u9053\\u8D44\\u6E90\\u6570\\u91CF\",name:\"count\"},a.default.createElement(c.InputNumber,{min:1,placeholder:\"\\u7559\\u7A7A\\u8868\\u793A\\u4E0D\\u9650\\u5236\",className:\"domain-edit-aligned-input\"})),a.default.createElement(c.Form.List,{name:\"channels\",rules:[{validator:async(p,h)=>{if(!h||h.length===0)return Promise.reject(new Error(\"\\u8BF7\\u81F3\\u5C11\\u6DFB\\u52A0\\u4E00\\u4E2A\\u9891\\u9053\"))}}]},(p,{add:h,remove:O},{errors:y})=>a.default.createElement(a.default.Fragment,null,p.map((v,T)=>a.default.createElement(c.Form.Item,{label:T===0?\"\\u9891\\u9053\\u5217\\u8868\":\"\",required:!1,key:v.key,style:{marginBottom:12}},a.default.createElement(\"div\",{className:\"domain-list-row\"},a.default.createElement(c.Form.Item,N(k({},v),{name:[v.name,\"name\"],style:{marginBottom:0,flex:\"1\"}}),a.default.createElement(c.Input,{placeholder:\"\\u540D\\u79F0\"})),a.default.createElement(c.Form.Item,N(k({},v),{name:[v.name,\"id\"],rules:[{required:!0,whitespace:!0,message:\"\\u8BF7\\u8F93\\u5165\\u9891\\u9053ID\"}],style:{marginBottom:0,flex:\"1\"}}),a.default.createElement(c.Input,{placeholder:\"\\u9891\\u9053ID\"})),a.default.createElement(\"span\",{className:\"domain-list-action\".concat(p.length>1?\"\":\" domain-list-action--placeholder\")},p.length>1?a.default.createElement(qe,{className:\"dynamic-delete-button\",onClick:()=>O(v.name)}):null)))),a.default.createElement(c.Form.Item,{label:\"\"},a.default.createElement(c.Button,{type:\"dashed\",onClick:()=>h({id:\"\",name:\"\"}),className:\"domain-edit-add-button\",icon:a.default.createElement(Re,null)},\"\\u6DFB\\u52A0\\u9891\\u9053\"),a.default.createElement(c.Form.ErrorList,{errors:y})))),a.default.createElement(c.Form.Item,{label:\"\\u663E\\u793A\\u56FE\\u7247\",name:\"pic\",valuePropName:\"checked\"},a.default.createElement(c.Switch,null))),u&&m&&a.default.createElement(a.default.Fragment,null,a.default.createElement(c.Form.List,{name:\"sources\",rules:[{validator:async(p,h)=>{if(!h||h.length===0)return Promise.reject(new Error(\"\\u8BF7\\u81F3\\u5C11\\u6DFB\\u52A0\\u4E00\\u4E2A\\u76F4\\u64AD\\u6E90\"))}}]},(p,{add:h,remove:O},{errors:y})=>a.default.createElement(a.default.Fragment,null,p.map((v,T)=>a.default.createElement(c.Form.Item,{label:T===0?\"\\u76F4\\u64AD\\u6E90\\u5217\\u8868\":\"\",required:!1,key:v.key,style:{marginBottom:12}},a.default.createElement(\"div\",{className:\"domain-list-row\"},a.default.createElement(c.Form.Item,N(k({},v),{name:[v.name,\"name\"],rules:[{required:!0,whitespace:!0,message:\"\\u8BF7\\u8F93\\u5165\\u540D\\u79F0\"}],style:{marginBottom:0,flex:\"1\"}}),a.default.createElement(c.Input,{placeholder:\"\\u540D\\u79F0\"})),a.default.createElement(c.Form.Item,N(k({},v),{name:[v.name,\"url\"],rules:[{required:!0,whitespace:!0,message:\"\\u8BF7\\u8F93\\u5165\\u76F4\\u64AD\\u6E90URL\"}],style:{marginBottom:0,flex:\"2\"}}),a.default.createElement(c.Input,{placeholder:\"\\u76F4\\u64AD\\u6E90URL (m3u/txt)\"})),a.default.createElement(\"span\",{className:\"domain-list-action\".concat(p.length>1?\"\":\" domain-list-action--placeholder\")},p.length>1?a.default.createElement(qe,{className:\"dynamic-delete-button\",onClick:()=>O(v.name)}):null)))),a.default.createElement(c.Form.Item,{label:\"\"},a.default.createElement(c.Button,{type:\"dashed\",onClick:()=>h({name:\"\",url:\"\"}),className:\"domain-edit-add-button\",icon:a.default.createElement(Re,null)},\"\\u6DFB\\u52A0\\u76F4\\u64AD\\u6E90\"),a.default.createElement(c.Form.ErrorList,{errors:y}))))),a.default.createElement(c.Form.Item,{label:null},a.default.createElement(\"div\",{className:\"ios-button-group\"},a.default.createElement(\"button\",{className:\"action-btn action-btn--primary\",onClick:w,disabled:l},\"\\u4FDD\\u5B58\"),u&&a.default.createElement(\"button\",{className:\"action-btn action-btn--danger\",onClick:b,disabled:l},\"\\u91CD\\u7F6E\")))))}function ms(){let[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!1),[o,i]=(0,a.useState)(!1),[l,s]=(0,a.useState)(null),d=b=>{s(b),b.key===\"nodejs_pansou\"?i(!0):r(!0)},u=b=>{if(l){let p=e.findIndex(h=>h.key===l.key);p!==-1&&(e[p].name=b,t([...e]))}},f=(0,a.useMemo)(()=>[{title:\"\",dataIndex:\"drag\",width:40,render(b,p){return a.default.createElement(Ea,{rowKey:p.key})}},{title:\"\\u7AD9\\u6E90\",dataIndex:\"name\",render(b,p){return a.default.createElement(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:\"8px\",flexWrap:\"wrap\"}},a.default.createElement(\"span\",{style:{flex:1}},b),p.t4&&a.default.createElement(c.Tag,{className:\"ios-tag\"},\"T4\"),p.cms&&a.default.createElement(c.Tag,{className:\"ios-tag\"},\"CMS\"))}},{title:\"\\u542F\\u7528\",dataIndex:\"enable\",render(b,p,h){return a.default.createElement(c.Switch,{value:b,onChange:O=>{e[h].enable=O,t([...e])}})},width:80},{title:\"\\u64CD\\u4F5C\",dataIndex:\"action\",width:60,render(b,p){return a.default.createElement(c.Button,{type:\"text\",className:\"ios-edit-btn\",icon:a.default.createElement(Kt,null),onClick:()=>d(p),size:\"small\"})}}],[e]),m=Xn(Ft(Ke,{activationConstraint:{distance:1}}),Ft(lt,{activationConstraint:{delay:150,tolerance:5}})),C=({active:b,over:p})=>{b.id!==(p==null?void 0:p.id)&&t(h=>{let O=h.findIndex(v=>v.key===b.id),y=h.findIndex(v=>v.key===(p==null?void 0:p.id));return Et(h,O,y)})},g=async()=>{let p=(await dt.default.get(\"/full-config\")).data.video.sites,h=await _.get(\"/sites/list\"),O={},y={};p.forEach(T=>{y[T.key]=T});let v=h.filter(T=>(O[T.key]=!0,y[T.key])).map(T=>{let D=y[T.key];return{key:T.key,name:T.name||D.name,enable:T.enable,t4:D.t4,cms:D.cms}});p.forEach(T=>{O[T.key]||v.push({key:T.key,name:T.name,enable:!0,t4:T.t4,cms:T.cms})}),t(v)},F=async()=>{try{await _.put(\"/sites/list\",{list:e}),c.message.success({content:a.default.createElement(a.default.Fragment,null,\"\\u8BBE\\u7F6E\\u6210\\u529F\",a.default.createElement(\"br\",null),\"\\u9700\\u91CD\\u65B0\\u52A0\\u8F7D\\u6E90\\uFF01\",a.default.createElement(\"br\",null),\"\\u9700\\u91CD\\u65B0\\u52A0\\u8F7D\\u6E90\\uFF01\",a.default.createElement(\"br\",null),\"\\u9700\\u91CD\\u65B0\\u52A0\\u8F7D\\u6E90\\uFF01\",a.default.createElement(\"br\",null)),duration:5})}catch(b){console.error(b),c.message.error(\"\\u8BBE\\u7F6E\\u5931\\u8D25\\uFF1A\".concat(b==null?void 0:b.message))}},w=async()=>{try{await _.delete(\"/sites/list\"),g(),c.message.success(\"\\u91CD\\u7F6E\\u6210\\u529F\")}catch(b){console.error(b),c.message.error(\"\\u91CD\\u7F6E\\u5931\\u8D25\\uFF1A\".concat(b==null?void 0:b.message))}};return(0,a.useEffect)(()=>{g()},[]),a.default.createElement(\"div\",null,a.default.createElement(Zn,{sensors:m,modifiers:[Qn],onDragEnd:C},a.default.createElement(er,{items:e.map(b=>b.key),strategy:Jn},a.default.createElement(c.Table,{components:{body:{row:Fa}},rowKey:\"key\",columns:f,dataSource:e,pagination:!1,className:\"sites-table\"}))),a.default.createElement(\"div\",{className:\"ios-button-group\"},a.default.createElement(\"button\",{className:\"action-btn action-btn--primary\",onClick:F},\"\\u4FDD\\u5B58\"),a.default.createElement(\"button\",{className:\"action-btn action-btn--danger\",onClick:w},\"\\u91CD\\u7F6E\")),a.default.createElement(ps,{visible:n,onCancel:()=>r(!1),onSave:u,siteKey:l==null?void 0:l.key,siteName:l==null?void 0:l.name}),a.default.createElement(fs,{visible:o,onCancel:()=>i(!1),onSave:u,siteName:l==null?void 0:l.name}))}function xs(){let[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!1),[o,i]=(0,a.useState)(null),l=(0,a.useMemo)(()=>[{title:\"\",dataIndex:\"drag\",width:40,render(g,F){return a.default.createElement(Ea,{rowKey:F.key})}},{title:\"\\u7F51\\u76D8\",dataIndex:\"name\",render(g,F){return a.default.createElement(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:\"8px\",flexWrap:\"wrap\"}},a.default.createElement(\"span\",{style:{flex:1}},g),(F.key===\"quark\"||F.key===\"uc\")&&F.chunkSize&&a.default.createElement(c.Tag,{className:\"ios-tag\"},F.chunkSize,\"KB/\",F.poolSize,\"\\u7EBF\\u7A0B\"))}},{title:\"\\u542F\\u7528\",dataIndex:\"enable\",render(g,F,w){return a.default.createElement(c.Switch,{value:g,onChange:b=>{e[w].enable=b,t([...e])}})},width:80},{title:\"\\u64CD\\u4F5C\",dataIndex:\"action\",width:60,render(g,F,w){return F.key===\"quark\"||F.key===\"uc\"?a.default.createElement(c.Button,{type:\"text\",className:\"ios-edit-btn\",icon:a.default.createElement(Kt,null),onClick:()=>{i(N(k({},F),{index:w})),r(!0)},size:\"small\"}):null}}],[e]),s=Xn(Ft(Ke,{activationConstraint:{distance:1}}),Ft(lt,{activationConstraint:{delay:150,tolerance:5}})),d=({active:g,over:F})=>{g.id!==(F==null?void 0:F.id)&&t(w=>{let b=w.findIndex(h=>h.key===g.id),p=w.findIndex(h=>h.key===(F==null?void 0:F.id));return Et(w,b,p)})},u=async()=>{let g=await _.get(\"/pans/list\");t(g)},f=async()=>{try{await _.put(\"/pans/list\",{list:e}),c.message.success({content:a.default.createElement(a.default.Fragment,null,\"\\u8BBE\\u7F6E\\u6210\\u529F\",a.default.createElement(\"br\",null),a.default.createElement(\"span\",{style:{fontSize:\"12px\",color:\"#999\"}},\"\\u914D\\u7F6E\\u5DF2\\u4FDD\\u5B58\\u5E76\\u7ACB\\u5373\\u751F\\u6548\")),duration:2})}catch(g){console.error(g),c.message.error(\"\\u8BBE\\u7F6E\\u5931\\u8D25\\uFF1A\".concat(g==null?void 0:g.message))}},m=async()=>{try{await _.delete(\"/pans/list\"),u(),c.message.success(\"\\u91CD\\u7F6E\\u6210\\u529F\")}catch(g){console.error(g),c.message.error(\"\\u91CD\\u7F6E\\u5931\\u8D25\\uFF1A\".concat(g==null?void 0:g.message))}},C=g=>{e[o.index]=N(k({},e[o.index]),{chunkSize:g.chunkSize,poolSize:g.poolSize}),t([...e]),r(!1),c.message.info('\\u914D\\u7F6E\\u5DF2\\u66F4\\u65B0\\uFF0C\\u8BF7\\u70B9\\u51FB\\u4E0B\\u65B9\"\\u4FDD\\u5B58\"\\u6309\\u94AE\\u4FDD\\u5B58\\u914D\\u7F6E')};return(0,a.useEffect)(()=>{u()},[]),a.default.createElement(\"div\",null,a.default.createElement(Zn,{sensors:s,modifiers:[Qn],onDragEnd:d},a.default.createElement(er,{items:e.map(g=>g.key),strategy:Jn},a.default.createElement(c.Table,{components:{body:{row:Fa}},rowKey:\"key\",columns:l,dataSource:e,pagination:!1,className:\"sites-table\"}))),a.default.createElement(\"div\",{className:\"ios-button-group\"},a.default.createElement(\"button\",{className:\"action-btn action-btn--primary\",onClick:f},\"\\u4FDD\\u5B58\"),a.default.createElement(\"button\",{className:\"action-btn action-btn--danger\",onClick:m},\"\\u91CD\\u7F6E\")),a.default.createElement(ds,{visible:n,onCancel:()=>r(!1),onSave:C,panKey:o==null?void 0:o.key,panName:o==null?void 0:o.name,chunkSize:o==null?void 0:o.chunkSize,poolSize:o==null?void 0:o.poolSize}))}function gs(){let[e]=c.Form.useForm(),t=\"/danmu/setting\",n=async()=>{let i=await _.get(t);e.setFieldsValue(i)},r=async()=>{let i=await e.validateFields();try{await _.put(t,i),c.message.success(\"\\u4FDD\\u5B58\\u6210\\u529F\")}catch(l){console.error(l),c.message.error(\"\\u4FDD\\u5B58\\u5931\\u8D25\\uFF1A\".concat(l==null?void 0:l.message))}},o=async()=>{try{await _.delete(t),n(),c.message.success(\"\\u91CD\\u7F6E\\u6210\\u529F\")}catch(i){console.error(i),c.message.error(\"\\u91CD\\u7F6E\\u5931\\u8D25\\uFF1A\".concat(i==null?void 0:i.message))}};return(0,a.useEffect)(()=>{n()},[]),a.default.createElement(c.Form,{form:e,layout:\"vertical\",style:{maxWidth:600},className:\"ios-form\"},a.default.createElement(c.Alert,{message:\"\\u5F00\\u542F\\u81EA\\u52A8\\u63A8\\u9001\\u65F6\\uFF0C\\u81EA\\u52A8\\u9009\\u53D6\\u6700\\u5FEB\\u54CD\\u5E94\\u7684API\",type:\"info\",className:\"ios-alert\",style:{marginBottom:24}}),a.default.createElement(c.Form.Item,{label:\"API \\u5217\\u8868\",style:{marginBottom:8}},a.default.createElement(c.Form.List,{name:\"urls\",rules:[{required:!0,message:\"\\u8BF7\\u6DFB\\u52A0API\\u5730\\u5740\"}]},(i,{add:l,remove:s},{errors:d})=>a.default.createElement(\"div\",{style:{display:\"flex\",flexDirection:\"column\",gap:12}},i.map(u=>a.default.createElement(\"div\",{key:u.key,className:\"domain-list-row\"},a.default.createElement(c.Form.Item,N(k({},u),{name:[u.name,\"address\"],validateTrigger:[\"onChange\",\"onBlur\"],rules:[{required:!0,whitespace:!0,message:\"\\u8BF7\\u8F93\\u5165API\\u5730\\u5740\"}],style:{flex:1,marginBottom:0}}),a.default.createElement(c.Input,{placeholder:\"\\u8BF7\\u8F93\\u5165API\\u5730\\u5740\"})),a.default.createElement(c.Form.Item,N(k({},u),{name:[u.name,\"name\"],validateTrigger:[\"onChange\",\"onBlur\"],style:{width:100,marginBottom:0,flexShrink:0}}),a.default.createElement(c.Input,{placeholder:\"\\u522B\\u540D\"})),a.default.createElement(\"span\",{className:\"domain-list-action\".concat(i.length>1?\"\":\" domain-list-action--placeholder\")},i.length>1?a.default.createElement(qe,{className:\"dynamic-delete-button\",onClick:()=>s(u.name)}):null))),a.default.createElement(c.Button,{type:\"dashed\",onClick:()=>l(),block:!0,icon:a.default.createElement(Re,null)},\"\\u6DFB\\u52A0 API\"),a.default.createElement(c.Form.ErrorList,{errors:d})))),a.default.createElement(c.Form.Item,{label:\"\\u81EA\\u52A8\\u63A8\\u9001\",name:\"autoPush\",valuePropName:\"checked\",style:{marginBottom:16}},a.default.createElement(c.Switch,null)),a.default.createElement(c.Form.Item,{label:\"\\u8C03\\u8BD5\\u4FE1\\u606F\",name:\"debug\",valuePropName:\"checked\",tooltip:\"\\u5F00\\u542F\\u540E\\u5728\\u63A7\\u5236\\u53F0\\u663E\\u793A\\u8BE6\\u7EC6\\u7684\\u5F39\\u5E55\\u5339\\u914D\\u8C03\\u8BD5\\u4FE1\\u606F\",style:{marginBottom:24}},a.default.createElement(c.Switch,null)),a.default.createElement(c.Form.Item,{style:{marginBottom:0}},a.default.createElement(\"div\",{className:\"ios-button-group\"},a.default.createElement(\"button\",{className:\"action-btn action-btn--primary\",onClick:r},\"\\u4FDD\\u5B58\"),a.default.createElement(\"button\",{className:\"action-btn action-btn--danger\",onClick:o},\"\\u91CD\\u7F6E\"))))}function hs(){let[e,t]=(0,a.useState)(\"account\"),n={accept:\".json\",showUploadList:!1,beforeUpload(i){let l=new FileReader;return l.onload=async s=>{try{let d=JSON.parse(s.target.result);await _.put(\"/backup\",d),c.message.success(\"\".concat(i.name,\"\\u5BFC\\u5165\\u6210\\u529F\"))}catch(d){c.message.error(\"\".concat(i.name,\"\\u5BFC\\u5165\\u5931\\u8D25: \").concat(d.message)),console.error(\"Error parsing JSON:\",d)}},l.readAsText(i),!1}},r=[{key:\"account\",label:\"\\u767B\\u5F55\",icon:a.default.createElement(Rn,null)},{key:\"settings\",label:\"\\u8BBE\\u7F6E\",icon:a.default.createElement(qn,null)}],o=()=>{switch(e){case\"account\":return a.default.createElement(c.Tabs,{destroyInactiveTabPane:!0},a.default.createElement(ve,{tab:\"\\u5938\\u514B\",key:\"quark\"},a.default.createElement(Nt,{qrcodeUrl:\"/quark/qrcode\",cacheUrl:\"/quark/cookie\",checkStatusUrl:\"/quark/check-status\"})),a.default.createElement(ve,{tab:\"UC\",key:\"uc-cookie\"},a.default.createElement(Nt,{qrcodeUrl:\"/uc/qrcode\",cacheUrl:\"/uc/cookie\",checkStatusUrl:\"/uc/check-status\"})),a.default.createElement(ve,{tab:\"UT\",key:\"uc-token\"},a.default.createElement(Nt,{qrcodeUrl:\"/uc-tv/qrcode\",cacheUrl:\"/uc-tv/token\",checkStatusUrl:\"/uc-tv/check-status\"})),a.default.createElement(ve,{tab:\"115\",key:\"115\"},a.default.createElement(Nt,{qrcodeUrl:\"/115/qrcode\",cacheUrl:\"/115/cookie\",checkStatusUrl:\"/115/check-status\"})),a.default.createElement(ve,{tab:\"\\u767E\\u5EA6\",key:\"baidu\"},a.default.createElement(Nt,{qrcodeUrl:\"/baidu/qrcode\",cacheUrl:\"/baidu/cookie\",checkStatusUrl:\"/baidu/check-status\"})),a.default.createElement(ve,{tab:\"\\u5929\\u7FFC\",key:\"tianyi\"},a.default.createElement(Ta,{api:\"/tianyi/account\"})),a.default.createElement(ve,{tab:\"123\",key:\"123\"},a.default.createElement(Ta,{api:\"/pan123/account\"})));case\"settings\":return a.default.createElement(c.Tabs,{destroyOnHidden:!0},a.default.createElement(ve,{tab:\"\\u7AD9\\u6E90\\u5217\\u8868\",key:\"sites\"},a.default.createElement(ms,null)),a.default.createElement(ve,{tab:\"\\u7F51\\u76D8\\u5217\\u8868\",key:\"pans\"},a.default.createElement(xs,null)),a.default.createElement(ve,{tab:\"\\u5F39\\u5E55\\u8BBE\\u7F6E\",key:\"danmu\"},a.default.createElement(gs,null)));default:return null}};return a.default.createElement(\"div\",{className:\"app-layout\"},a.default.createElement(\"div\",{className:\"top-nav-bar\"},a.default.createElement(\"div\",{className:\"nav-pill\"},r.map(i=>a.default.createElement(\"div\",{key:i.key,className:\"nav-tab \".concat(e===i.key?\"nav-tab--active\":\"\"),onClick:()=>t(i.key)},i.icon,a.default.createElement(\"span\",null,i.label))),a.default.createElement(\"div\",{className:\"nav-divider\"}),a.default.createElement(\"div\",{className:\"nav-actions\"},a.default.createElement(c.Upload,k({},n),a.default.createElement(c.Button,{type:\"text\",icon:a.default.createElement(zn,null),size:\"small\"},\"\\u5BFC\\u5165\")),a.default.createElement(c.Button,{type:\"text\",icon:a.default.createElement(Bn,null),size:\"small\",href:\"/website/backup\",target:\"_blank\"},\"\\u5BFC\\u51FA\")))),a.default.createElement(\"div\",{className:\"container\"},a.default.createElement(c.Card,{className:\"main-card\"},o())))}function bs(){(0,Sa.createRoot)(document.getElementById(\"app\")).render(a.default.createElement(hs,null))}\n/*! Bundled license information:\n\nclassnames/index.js:\n  (*!\n  \tCopyright (c) 2018 Jed Watson.\n  \tLicensed under the MIT License (MIT), see\n  \thttp://jedwatson.github.io/classnames\n  *)\n*/\n"}
      module.exports.renderClient();
    })();
  `;
}();



globalThis.danmuBundle = function() {
  return `
    (function() {
      const exports = {};
      const module = { exports };
      ${"var Bt=Object.create;var R=Object.defineProperty,Lt=Object.defineProperties,Nt=Object.getOwnPropertyDescriptor,Ht=Object.getOwnPropertyDescriptors,qt=Object.getOwnPropertyNames,pe=Object.getOwnPropertySymbols,Ut=Object.getPrototypeOf,ce=Object.prototype.hasOwnProperty,jt=Object.prototype.propertyIsEnumerable;var xe=(t,e,r)=>e in t?R(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,he=(t,e)=>{for(var r in e||(e={}))ce.call(e,r)&&xe(t,r,e[r]);if(pe)for(var r of pe(e))jt.call(e,r)&&xe(t,r,e[r]);return t},Oe=(t,e)=>Lt(t,Ht(e));var D=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Wt=(t,e)=>{for(var r in e)R(t,r,{get:e[r],enumerable:!0})},ge=(t,e,r,o)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of qt(e))!ce.call(t,a)&&a!==r&&R(t,a,{get:()=>e[a],enumerable:!(o=Nt(e,a))||o.enumerable});return t};var T=(t,e,r)=>(r=t!=null?Bt(Ut(t)):{},ge(e||!t||!t.__esModule?R(r,\"default\",{value:t,enumerable:!0}):r,t)),Vt=t=>ge(R({},\"__esModule\",{value:!0}),t);var C=D((vr,Te)=>{Te.exports=window.React});var be=D((Sr,we)=>{we.exports=window.ReactDOM});var Ce=D(X=>{\"use strict\";var Fe=be();X.createRoot=Fe.createRoot,X.hydrateRoot=Fe.hydrateRoot;var kr});var ve=D((Ar,ye)=>{ye.exports=window.antd});var Ee=D((eo,H)=>{(function(){\"use strict\";var t={}.hasOwnProperty;function e(){for(var a=\"\",l=0;l<arguments.length;l++){var n=arguments[l];n&&(a=o(a,r(n)))}return a}function r(a){if(typeof a==\"string\"||typeof a==\"number\")return a;if(typeof a!=\"object\")return\"\";if(Array.isArray(a))return e.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes(\"[native code]\"))return a.toString();var l=\"\";for(var n in a)t.call(a,n)&&a[n]&&(l=o(l,n));return l}function o(a,l){return l?a?a+\" \"+l:a+l:a}typeof H<\"u\"&&H.exports?(e.default=e,H.exports=e):typeof define==\"function\"&&typeof define.amd==\"object\"&&define.amd?define(\"classnames\",[],function(){return e}):window.classNames=e})()});var Mt=D((ia,Rt)=>{Rt.exports=window.axios});var Cr={};Wt(Cr,{Danmu:()=>Et,renderDanmu:()=>Fr});module.exports=Vt(Cr);var s=T(C(),1),_t=T(Ce(),1),x=T(ve(),1);var Se=T(C()),zt=(0,Se.createContext)({}),B=zt;function y(){return y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)({}).hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},y.apply(null,arguments)}function ke(t){if(Array.isArray(t))return t}function Pe(t,e){var r=t==null?null:typeof Symbol<\"u\"&&t[Symbol.iterator]||t[\"@@iterator\"];if(r!=null){var o,a,l,n,u=[],f=!0,i=!1;try{if(l=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(o=l.call(r)).done)&&(u.push(o.value),u.length!==e);f=!0);}catch(m){i=!0,a=m}finally{try{if(!f&&r.return!=null&&(n=r.return(),Object(n)!==n))return}finally{if(i)throw a}}return u}}function ee(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,o=Array(e);r<e;r++)o[r]=t[r];return o}function Ae(t,e){if(t){if(typeof t==\"string\")return ee(t,e);var r={}.toString.call(t).slice(8,-1);return r===\"Object\"&&t.constructor&&(r=t.constructor.name),r===\"Map\"||r===\"Set\"?Array.from(t):r===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ee(t,e):void 0}}function De(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function L(t,e){return ke(t)||Pe(t,e)||Ae(t,e)||De()}function w(t){\"@babel/helpers - typeof\";return w=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(e){return typeof e}:function(e){return e&&typeof Symbol==\"function\"&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},w(t)}function Re(t,e){if(w(t)!=\"object\"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var o=r.call(t,e||\"default\");if(w(o)!=\"object\")return o;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(e===\"string\"?String:Number)(t)}function Me(t){var e=Re(t,\"string\");return w(e)==\"symbol\"?e:e+\"\"}function h(t,e,r){return(e=Me(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _e(t,e){if(t==null)return{};var r={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)!==-1)continue;r[o]=t[o]}return r}function N(t,e){if(t==null)return{};var r,o,a=_e(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)r=l[o],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}var k=T(C()),Pt=T(Ee());var O=Math.round;function te(t,e){let r=t.replace(/^[^(]*\\((.*)/,\"$1\").replace(/\\).*/,\"\").match(/\\d*\\.?\\d+%?/g)||[],o=r.map(a=>parseFloat(a));for(let a=0;a<3;a+=1)o[a]=e(o[a]||0,r[a]||\"\",a);return r[3]?o[3]=r[3].includes(\"%\")?o[3]/100:o[3]:o[3]=1,o}var Ie=(t,e,r)=>r===0?t:t/100;function M(t,e){let r=e||255;return t>r?r:t<0?0:t}var v=class t{constructor(e){h(this,\"isValid\",!0),h(this,\"r\",0),h(this,\"g\",0),h(this,\"b\",0),h(this,\"a\",1),h(this,\"_h\",void 0),h(this,\"_s\",void 0),h(this,\"_l\",void 0),h(this,\"_v\",void 0),h(this,\"_max\",void 0),h(this,\"_min\",void 0),h(this,\"_brightness\",void 0);function r(o){return o[0]in e&&o[1]in e&&o[2]in e}if(e)if(typeof e==\"string\"){let a=function(l){return o.startsWith(l)},o=e.trim();/^#?[A-F\\d]{3,8}$/i.test(o)?this.fromHexString(o):a(\"rgb\")?this.fromRgbString(o):a(\"hsl\")?this.fromHslString(o):(a(\"hsv\")||a(\"hsb\"))&&this.fromHsvString(o)}else if(e instanceof t)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(r(\"rgb\"))this.r=M(e.r),this.g=M(e.g),this.b=M(e.b),this.a=typeof e.a==\"number\"?M(e.a,1):1;else if(r(\"hsl\"))this.fromHsl(e);else if(r(\"hsv\"))this.fromHsv(e);else throw new Error(\"@ant-design/fast-color: unsupported input \"+JSON.stringify(e))}setR(e){return this._sc(\"r\",e)}setG(e){return this._sc(\"g\",e)}setB(e){return this._sc(\"b\",e)}setA(e){return this._sc(\"a\",e,1)}setHue(e){let r=this.toHsv();return r.h=e,this._c(r)}getLuminance(){function e(l){let n=l/255;return n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}let r=e(this.r),o=e(this.g),a=e(this.b);return .2126*r+.7152*o+.0722*a}getHue(){if(typeof this._h>\"u\"){let e=this.getMax()-this.getMin();e===0?this._h=0:this._h=O(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>\"u\"){let e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>\"u\"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>\"u\"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>\"u\"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){let r=this.getHue(),o=this.getSaturation(),a=this.getLightness()-e/100;return a<0&&(a=0),this._c({h:r,s:o,l:a,a:this.a})}lighten(e=10){let r=this.getHue(),o=this.getSaturation(),a=this.getLightness()+e/100;return a>1&&(a=1),this._c({h:r,s:o,l:a,a:this.a})}mix(e,r=50){let o=this._c(e),a=r/100,l=u=>(o[u]-this[u])*a+this[u],n={r:O(l(\"r\")),g:O(l(\"g\")),b:O(l(\"b\")),a:O(l(\"a\")*100)/100};return this._c(n)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){let r=this._c(e),o=this.a+r.a*(1-this.a),a=l=>O((this[l]*this.a+r[l]*r.a*(1-this.a))/o);return this._c({r:a(\"r\"),g:a(\"g\"),b:a(\"b\"),a:o})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e=\"#\",r=(this.r||0).toString(16);e+=r.length===2?r:\"0\"+r;let o=(this.g||0).toString(16);e+=o.length===2?o:\"0\"+o;let a=(this.b||0).toString(16);if(e+=a.length===2?a:\"0\"+a,typeof this.a==\"number\"&&this.a>=0&&this.a<1){let l=O(this.a*255).toString(16);e+=l.length===2?l:\"0\"+l}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){let e=this.getHue(),r=O(this.getSaturation()*100),o=O(this.getLightness()*100);return this.a!==1?\"hsla(\".concat(e,\",\").concat(r,\"%,\").concat(o,\"%,\").concat(this.a,\")\"):\"hsl(\".concat(e,\",\").concat(r,\"%,\").concat(o,\"%)\")}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?\"rgba(\".concat(this.r,\",\").concat(this.g,\",\").concat(this.b,\",\").concat(this.a,\")\"):\"rgb(\".concat(this.r,\",\").concat(this.g,\",\").concat(this.b,\")\")}toString(){return this.toRgbString()}_sc(e,r,o){let a=this.clone();return a[e]=M(r,o),a}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>\"u\"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>\"u\"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){let r=e.replace(\"#\",\"\");function o(a,l){return parseInt(r[a]+r[l||a],16)}r.length<6?(this.r=o(0),this.g=o(1),this.b=o(2),this.a=r[3]?o(3)/255:1):(this.r=o(0,1),this.g=o(2,3),this.b=o(4,5),this.a=r[6]?o(6,7)/255:1)}fromHsl({h:e,s:r,l:o,a}){if(this._h=e%360,this._s=r,this._l=o,this.a=typeof a==\"number\"?a:1,r<=0){let d=O(o*255);this.r=d,this.g=d,this.b=d}let l=0,n=0,u=0,f=e/60,i=(1-Math.abs(2*o-1))*r,m=i*(1-Math.abs(f%2-1));f>=0&&f<1?(l=i,n=m):f>=1&&f<2?(l=m,n=i):f>=2&&f<3?(n=i,u=m):f>=3&&f<4?(n=m,u=i):f>=4&&f<5?(l=m,u=i):f>=5&&f<6&&(l=i,u=m);let p=o-i/2;this.r=O((l+p)*255),this.g=O((n+p)*255),this.b=O((u+p)*255)}fromHsv({h:e,s:r,v:o,a}){this._h=e%360,this._s=r,this._v=o,this.a=typeof a==\"number\"?a:1;let l=O(o*255);if(this.r=l,this.g=l,this.b=l,r<=0)return;let n=e/60,u=Math.floor(n),f=n-u,i=O(o*(1-r)*255),m=O(o*(1-r*f)*255),p=O(o*(1-r*(1-f))*255);switch(u){case 0:this.g=p,this.b=i;break;case 1:this.r=m,this.b=i;break;case 2:this.r=i,this.b=p;break;case 3:this.r=i,this.g=m;break;case 4:this.r=p,this.g=i;break;case 5:default:this.g=i,this.b=m;break}}fromHsvString(e){let r=te(e,Ie);this.fromHsv({h:r[0],s:r[1],v:r[2],a:r[3]})}fromHslString(e){let r=te(e,Ie);this.fromHsl({h:r[0],s:r[1],l:r[2],a:r[3]})}fromRgbString(e){let r=te(e,(o,a)=>a.includes(\"%\")?O(o/100*255):o);this.r=r[0],this.g=r[1],this.b=r[2],this.a=r[3]}};var q=2,Be=.16,Gt=.05,$t=.05,Qt=.15,qe=5,Ue=4,Yt=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function Le(t,e,r){var o;return Math.round(t.h)>=60&&Math.round(t.h)<=240?o=r?Math.round(t.h)-q*e:Math.round(t.h)+q*e:o=r?Math.round(t.h)+q*e:Math.round(t.h)-q*e,o<0?o+=360:o>=360&&(o-=360),o}function Ne(t,e,r){if(t.h===0&&t.s===0)return t.s;var o;return r?o=t.s-Be*e:e===Ue?o=t.s+Be:o=t.s+Gt*e,o>1&&(o=1),r&&e===qe&&o>.1&&(o=.1),o<.06&&(o=.06),Math.round(o*100)/100}function He(t,e,r){var o;return r?o=t.v+$t*e:o=t.v-Qt*e,o=Math.max(0,Math.min(1,o)),Math.round(o*100)/100}function U(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=[],o=new v(t),a=o.toHsv(),l=qe;l>0;l-=1){var n=new v({h:Le(a,l,!0),s:Ne(a,l,!0),v:He(a,l,!0)});r.push(n)}r.push(o);for(var u=1;u<=Ue;u+=1){var f=new v({h:Le(a,u),s:Ne(a,u),v:He(a,u)});r.push(f)}return e.theme===\"dark\"?Yt.map(function(i){var m=i.index,p=i.amount;return new v(e.backgroundColor||\"#141414\").mix(r[m],p).toHexString()}):r.map(function(i){return i.toHexString()})}var je=[\"#fff1f0\",\"#ffccc7\",\"#ffa39e\",\"#ff7875\",\"#ff4d4f\",\"#f5222d\",\"#cf1322\",\"#a8071a\",\"#820014\",\"#5c0011\"];je.primary=je[5];var We=[\"#fff2e8\",\"#ffd8bf\",\"#ffbb96\",\"#ff9c6e\",\"#ff7a45\",\"#fa541c\",\"#d4380d\",\"#ad2102\",\"#871400\",\"#610b00\"];We.primary=We[5];var Ve=[\"#fff7e6\",\"#ffe7ba\",\"#ffd591\",\"#ffc069\",\"#ffa940\",\"#fa8c16\",\"#d46b08\",\"#ad4e00\",\"#873800\",\"#612500\"];Ve.primary=Ve[5];var ze=[\"#fffbe6\",\"#fff1b8\",\"#ffe58f\",\"#ffd666\",\"#ffc53d\",\"#faad14\",\"#d48806\",\"#ad6800\",\"#874d00\",\"#613400\"];ze.primary=ze[5];var Ge=[\"#feffe6\",\"#ffffb8\",\"#fffb8f\",\"#fff566\",\"#ffec3d\",\"#fadb14\",\"#d4b106\",\"#ad8b00\",\"#876800\",\"#614700\"];Ge.primary=Ge[5];var $e=[\"#fcffe6\",\"#f4ffb8\",\"#eaff8f\",\"#d3f261\",\"#bae637\",\"#a0d911\",\"#7cb305\",\"#5b8c00\",\"#3f6600\",\"#254000\"];$e.primary=$e[5];var Qe=[\"#f6ffed\",\"#d9f7be\",\"#b7eb8f\",\"#95de64\",\"#73d13d\",\"#52c41a\",\"#389e0d\",\"#237804\",\"#135200\",\"#092b00\"];Qe.primary=Qe[5];var Ye=[\"#e6fffb\",\"#b5f5ec\",\"#87e8de\",\"#5cdbd3\",\"#36cfc9\",\"#13c2c2\",\"#08979c\",\"#006d75\",\"#00474f\",\"#002329\"];Ye.primary=Ye[5];var j=[\"#e6f4ff\",\"#bae0ff\",\"#91caff\",\"#69b1ff\",\"#4096ff\",\"#1677ff\",\"#0958d9\",\"#003eb3\",\"#002c8c\",\"#001d66\"];j.primary=j[5];var Ze=[\"#f0f5ff\",\"#d6e4ff\",\"#adc6ff\",\"#85a5ff\",\"#597ef7\",\"#2f54eb\",\"#1d39c4\",\"#10239e\",\"#061178\",\"#030852\"];Ze.primary=Ze[5];var Ke=[\"#f9f0ff\",\"#efdbff\",\"#d3adf7\",\"#b37feb\",\"#9254de\",\"#722ed1\",\"#531dab\",\"#391085\",\"#22075e\",\"#120338\"];Ke.primary=Ke[5];var Je=[\"#fff0f6\",\"#ffd6e7\",\"#ffadd2\",\"#ff85c0\",\"#f759ab\",\"#eb2f96\",\"#c41d7f\",\"#9e1068\",\"#780650\",\"#520339\"];Je.primary=Je[5];var Xe=[\"#a6a6a6\",\"#999999\",\"#8c8c8c\",\"#808080\",\"#737373\",\"#666666\",\"#404040\",\"#1a1a1a\",\"#000000\",\"#000000\"];Xe.primary=Xe[5];var et=[\"#2a1215\",\"#431418\",\"#58181c\",\"#791a1f\",\"#a61d24\",\"#d32029\",\"#e84749\",\"#f37370\",\"#f89f9a\",\"#fac8c3\"];et.primary=et[5];var tt=[\"#2b1611\",\"#441d12\",\"#592716\",\"#7c3118\",\"#aa3e19\",\"#d84a1b\",\"#e87040\",\"#f3956a\",\"#f8b692\",\"#fad4bc\"];tt.primary=tt[5];var rt=[\"#2b1d11\",\"#442a11\",\"#593815\",\"#7c4a15\",\"#aa6215\",\"#d87a16\",\"#e89a3c\",\"#f3b765\",\"#f8cf8d\",\"#fae3b7\"];rt.primary=rt[5];var ot=[\"#2b2111\",\"#443111\",\"#594214\",\"#7c5914\",\"#aa7714\",\"#d89614\",\"#e8b339\",\"#f3cc62\",\"#f8df8b\",\"#faedb5\"];ot.primary=ot[5];var at=[\"#2b2611\",\"#443b11\",\"#595014\",\"#7c6e14\",\"#aa9514\",\"#d8bd14\",\"#e8d639\",\"#f3ea62\",\"#f8f48b\",\"#fafab5\"];at.primary=at[5];var lt=[\"#1f2611\",\"#2e3c10\",\"#3e4f13\",\"#536d13\",\"#6f9412\",\"#8bbb11\",\"#a9d134\",\"#c9e75d\",\"#e4f88b\",\"#f0fab5\"];lt.primary=lt[5];var nt=[\"#162312\",\"#1d3712\",\"#274916\",\"#306317\",\"#3c8618\",\"#49aa19\",\"#6abe39\",\"#8fd460\",\"#b2e58b\",\"#d5f2bb\"];nt.primary=nt[5];var ft=[\"#112123\",\"#113536\",\"#144848\",\"#146262\",\"#138585\",\"#13a8a8\",\"#33bcb7\",\"#58d1c9\",\"#84e2d8\",\"#b2f1e8\"];ft.primary=ft[5];var it=[\"#111a2c\",\"#112545\",\"#15325b\",\"#15417e\",\"#1554ad\",\"#1668dc\",\"#3c89e8\",\"#65a9f3\",\"#8dc5f8\",\"#b7dcfa\"];it.primary=it[5];var dt=[\"#131629\",\"#161d40\",\"#1c2755\",\"#203175\",\"#263ea0\",\"#2b4acb\",\"#5273e0\",\"#7f9ef3\",\"#a8c1f8\",\"#d2e0fa\"];dt.primary=dt[5];var ut=[\"#1a1325\",\"#24163a\",\"#301c4d\",\"#3e2069\",\"#51258f\",\"#642ab5\",\"#854eca\",\"#ab7ae0\",\"#cda8f0\",\"#ebd7fa\"];ut.primary=ut[5];var st=[\"#291321\",\"#40162f\",\"#551c3b\",\"#75204f\",\"#a02669\",\"#cb2b83\",\"#e0529c\",\"#f37fb7\",\"#f8a8cc\",\"#fad2e3\"];st.primary=st[5];var mt=[\"#151515\",\"#1f1f1f\",\"#2d2d2d\",\"#393939\",\"#494949\",\"#5a5a5a\",\"#6a6a6a\",\"#7b7b7b\",\"#888888\",\"#969696\"];mt.primary=mt[5];function pt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,o)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pt(Object(r),!0).forEach(function(o){h(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pt(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}var St=T(C());function re(){return!!(typeof window<\"u\"&&window.document&&window.document.createElement)}function oe(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var r=e;r;){if(r===t)return!0;r=r.parentNode}return!1}var xt=\"data-rc-order\",ct=\"data-rc-priority\",Zt=\"rc-util-key\",ae=new Map;function ht(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith(\"data-\")?e:\"data-\".concat(e):Zt}function le(t){if(t.attachTo)return t.attachTo;var e=document.querySelector(\"head\");return e||document.body}function Kt(t){return t===\"queue\"?\"prependQueue\":t?\"prepend\":\"append\"}function ne(t){return Array.from((ae.get(t)||t).children).filter(function(e){return e.tagName===\"STYLE\"})}function Ot(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!re())return null;var r=e.csp,o=e.prepend,a=e.priority,l=a===void 0?0:a,n=Kt(o),u=n===\"prependQueue\",f=document.createElement(\"style\");f.setAttribute(xt,n),u&&l&&f.setAttribute(ct,\"\".concat(l)),r!=null&&r.nonce&&(f.nonce=r==null?void 0:r.nonce),f.innerHTML=t;var i=le(e),m=i.firstChild;if(o){if(u){var p=(e.styles||ne(i)).filter(function(d){if(![\"prepend\",\"prependQueue\"].includes(d.getAttribute(xt)))return!1;var c=Number(d.getAttribute(ct)||0);return l>=c});if(p.length)return i.insertBefore(f,p[p.length-1].nextSibling),f}i.insertBefore(f,m)}else i.appendChild(f);return f}function Jt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=le(e);return(e.styles||ne(r)).find(function(o){return o.getAttribute(ht(e))===t})}function Xt(t,e){var r=ae.get(t);if(!r||!oe(document,r)){var o=Ot(\"\",e),a=o.parentNode;ae.set(t,a),t.removeChild(o)}}function gt(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=le(r),a=ne(o),l=g(g({},r),{},{styles:a});Xt(o,l);var n=Jt(e,l);if(n){var u,f;if((u=l.csp)!==null&&u!==void 0&&u.nonce&&n.nonce!==((f=l.csp)===null||f===void 0?void 0:f.nonce)){var i;n.nonce=(i=l.csp)===null||i===void 0?void 0:i.nonce}return n.innerHTML!==t&&(n.innerHTML=t),n}var m=Ot(t,l);return m.setAttribute(ht(l),e),m}function Tt(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}function er(t){return Tt(t)instanceof ShadowRoot}function wt(t){return er(t)?Tt(t):null}var fe={},tr=[],rr=function(e){tr.push(e)};function or(t,e){if(0)var r}function ar(t,e){if(0)var r}function lr(){fe={}}function bt(t,e,r){!e&&!fe[r]&&(t(!1,r),fe[r]=!0)}function W(t,e){bt(or,t,e)}function nr(t,e){bt(ar,t,e)}W.preMessage=rr;W.resetWarned=lr;W.noteOnce=nr;var Ft=W;var S=T(C());function fr(t){return t.replace(/-(.)/g,function(e,r){return r.toUpperCase()})}function yt(t,e){Ft(t,\"[@ant-design/icons] \".concat(e))}function ie(t){return w(t)===\"object\"&&typeof t.name==\"string\"&&typeof t.theme==\"string\"&&(w(t.icon)===\"object\"||typeof t.icon==\"function\")}function Ct(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,r){var o=t[r];switch(r){case\"class\":e.className=o,delete e.class;break;default:delete e[r],e[fr(r)]=o}return e},{})}function V(t,e,r){return r?S.default.createElement(t.tag,g(g({key:e},Ct(t.attrs)),r),(t.children||[]).map(function(o,a){return V(o,\"\".concat(e,\"-\").concat(t.tag,\"-\").concat(a))})):S.default.createElement(t.tag,g({key:e},Ct(t.attrs)),(t.children||[]).map(function(o,a){return V(o,\"\".concat(e,\"-\").concat(t.tag,\"-\").concat(a))}))}function de(t){return U(t)[0]}function z(t){return t?Array.isArray(t)?t:[t]:[]}var ir=\"\\n.anticon {\\n  display: inline-flex;\\n  align-items: center;\\n  color: inherit;\\n  font-style: normal;\\n  line-height: 0;\\n  text-align: center;\\n  text-transform: none;\\n  vertical-align: -0.125em;\\n  text-rendering: optimizeLegibility;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\n.anticon > * {\\n  line-height: 1;\\n}\\n\\n.anticon svg {\\n  display: inline-block;\\n}\\n\\n.anticon::before {\\n  display: none;\\n}\\n\\n.anticon .anticon-icon {\\n  display: block;\\n}\\n\\n.anticon[tabindex] {\\n  cursor: pointer;\\n}\\n\\n.anticon-spin::before,\\n.anticon-spin {\\n  display: inline-block;\\n  -webkit-animation: loadingCircle 1s infinite linear;\\n  animation: loadingCircle 1s infinite linear;\\n}\\n\\n@-webkit-keyframes loadingCircle {\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n    transform: rotate(360deg);\\n  }\\n}\\n\\n@keyframes loadingCircle {\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n    transform: rotate(360deg);\\n  }\\n}\\n\",vt=function(e){var r=(0,S.useContext)(B),o=r.csp,a=r.prefixCls,l=r.layer,n=ir;a&&(n=n.replace(/anticon/g,a)),l&&(n=\"@layer \".concat(l,\" {\\n\").concat(n,\"\\n}\")),(0,S.useEffect)(function(){var u=e.current,f=wt(u);gt(n,\"@ant-design-icons\",{prepend:!l,csp:o,attachTo:f})},[])};var dr=[\"icon\",\"className\",\"onClick\",\"style\",\"primaryColor\",\"secondaryColor\"],_={primaryColor:\"#333\",secondaryColor:\"#E6E6E6\",calculated:!1};function ur(t){var e=t.primaryColor,r=t.secondaryColor;_.primaryColor=e,_.secondaryColor=r||de(e),_.calculated=!!r}function sr(){return g({},_)}var G=function(e){var r=e.icon,o=e.className,a=e.onClick,l=e.style,n=e.primaryColor,u=e.secondaryColor,f=N(e,dr),i=St.useRef(),m=_;if(n&&(m={primaryColor:n,secondaryColor:u||de(n)}),vt(i),yt(ie(r),\"icon should be icon definiton, but got \".concat(r)),!ie(r))return null;var p=r;return p&&typeof p.icon==\"function\"&&(p=g(g({},p),{},{icon:p.icon(m.primaryColor,m.secondaryColor)})),V(p.icon,\"svg-\".concat(p.name),g(g({className:o,onClick:a,style:l,\"data-icon\":p.name,width:\"1em\",height:\"1em\",fill:\"currentColor\",\"aria-hidden\":\"true\"},f),{},{ref:i}))};G.displayName=\"IconReact\";G.getTwoToneColors=sr;G.setTwoToneColors=ur;var E=G;function ue(t){var e=z(t),r=L(e,2),o=r[0],a=r[1];return E.setTwoToneColors({primaryColor:o,secondaryColor:a})}function kt(){var t=E.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var mr=[\"className\",\"icon\",\"spin\",\"rotate\",\"tabIndex\",\"onClick\",\"twoToneColor\"];ue(j.primary);var $=k.forwardRef(function(t,e){var r=t.className,o=t.icon,a=t.spin,l=t.rotate,n=t.tabIndex,u=t.onClick,f=t.twoToneColor,i=N(t,mr),m=k.useContext(B),p=m.prefixCls,d=p===void 0?\"anticon\":p,c=m.rootClassName,P=(0,Pt.default)(c,d,h(h({},\"\".concat(d,\"-\").concat(o.name),!!o.name),\"\".concat(d,\"-spin\"),!!a||o.name===\"loading\"),r),A=n;A===void 0&&u&&(A=-1);var b=l?{msTransform:\"rotate(\".concat(l,\"deg)\"),transform:\"rotate(\".concat(l,\"deg)\")}:void 0,F=z(f),I=L(F,2),J=I[0],It=I[1];return k.createElement(\"span\",y({role:\"img\",\"aria-label\":o.name},i,{ref:e,tabIndex:A,onClick:u,className:P}),k.createElement(E,{icon:o,primaryColor:J,secondaryColor:It,style:b}))});$.displayName=\"AntdIcon\";$.getTwoToneColor=kt;$.setTwoToneColor=ue;var Q=$;var Y=T(C());var pr={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M839.6 433.8L749 150.5a9.24 9.24 0 00-8.9-6.5h-77.4c-4.1 0-7.6 2.6-8.9 6.5l-91.3 283.3c-.3.9-.5 1.9-.5 2.9 0 5.1 4.2 9.3 9.3 9.3h56.4c4.2 0 7.8-2.8 9-6.8l17.5-61.6h89l17.3 61.5c1.1 4 4.8 6.8 9 6.8h61.2c1 0 1.9-.1 2.8-.4 2.4-.8 4.3-2.4 5.5-4.6 1.1-2.2 1.3-4.7.6-7.1zM663.3 325.5l32.8-116.9h6.3l32.1 116.9h-71.2zm143.5 492.9H677.2v-.4l132.6-188.9c1.1-1.6 1.7-3.4 1.7-5.4v-36.4c0-5.1-4.2-9.3-9.3-9.3h-204c-5.1 0-9.3 4.2-9.3 9.3v43c0 5.1 4.2 9.3 9.3 9.3h122.6v.4L587.7 828.9a9.35 9.35 0 00-1.7 5.4v36.4c0 5.1 4.2 9.3 9.3 9.3h211.4c5.1 0 9.3-4.2 9.3-9.3v-43a9.2 9.2 0 00-9.2-9.3zM416 702h-76V172c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v530h-76c-6.7 0-10.5 7.8-6.3 13l112 141.9a8 8 0 0012.6 0l112-141.9c4.1-5.2.4-13-6.3-13z\"}}]},name:\"sort-ascending\",theme:\"outlined\"},At=pr;var xr=function(e,r){return Y.createElement(Q,y({},e,{ref:r,icon:At}))},cr=Y.forwardRef(xr),se=cr;var Z=T(C());var hr={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M839.6 433.8L749 150.5a9.24 9.24 0 00-8.9-6.5h-77.4c-4.1 0-7.6 2.6-8.9 6.5l-91.3 283.3c-.3.9-.5 1.9-.5 2.9 0 5.1 4.2 9.3 9.3 9.3h56.4c4.2 0 7.8-2.8 9-6.8l17.5-61.6h89l17.3 61.5c1.1 4 4.8 6.8 9 6.8h61.2c1 0 1.9-.1 2.8-.4 2.4-.8 4.3-2.4 5.5-4.6 1.1-2.2 1.3-4.7.6-7.1zM663.3 325.5l32.8-116.9h6.3l32.1 116.9h-71.2zm143.5 492.9H677.2v-.4l132.6-188.9c1.1-1.6 1.7-3.4 1.7-5.4v-36.4c0-5.1-4.2-9.3-9.3-9.3h-204c-5.1 0-9.3 4.2-9.3 9.3v43c0 5.1 4.2 9.3 9.3 9.3h122.6v.4L587.7 828.9a9.35 9.35 0 00-1.7 5.4v36.4c0 5.1 4.2 9.3 9.3 9.3h211.4c5.1 0 9.3-4.2 9.3-9.3v-43a9.2 9.2 0 00-9.2-9.3zM310.3 167.1a8 8 0 00-12.6 0L185.7 309c-4.2 5.3-.4 13 6.3 13h76v530c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V322h76c6.7 0 10.5-7.8 6.3-13l-112-141.9z\"}}]},name:\"sort-descending\",theme:\"outlined\"},Dt=hr;var Or=function(e,r){return Z.createElement(Q,y({},e,{ref:r,icon:Dt}))},gr=Z.forwardRef(Or),me=gr;var K=T(Mt(),1);if(typeof window<\"u\"){let t=document.createElement(\"style\");t.textContent=\"html,\\nbody,\\n#app {\\n  height: 100%;\\n  margin: 0;\\n  padding: 0;\\n  overflow: hidden;\\n}\\n.danmu-container {\\n  display: flex;\\n  flex-direction: column;\\n  height: 100%;\\n  padding: 20px;\\n  box-sizing: border-box;\\n}\\n.danmu-container .main-title {\\n  text-align: center;\\n  transition: all 0.3s ease-out;\\n  max-height: 50px;\\n  opacity: 1;\\n  margin-bottom: 20px;\\n  overflow: hidden;\\n}\\n.danmu-container .main-title.hidden {\\n  max-height: 0;\\n  opacity: 0;\\n  margin: 0;\\n}\\n.danmu-container .search-input {\\n  margin-bottom: 20px;\\n}\\n.danmu-container .result-container {\\n  flex-grow: 1;\\n  overflow: hidden;\\n  display: flex;\\n  flex-direction: column;\\n}\\n.danmu-container .result-container .spin-container {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  height: 100%;\\n}\\n.danmu-container .result-container > .ant-tabs {\\n  flex-grow: 1;\\n  display: flex;\\n  flex-direction: column;\\n  overflow: hidden;\\n}\\n.danmu-container .result-container > .ant-tabs .ant-tabs-content-holder {\\n  overflow-y: auto;\\n  flex-grow: 1;\\n}\\n.drawer {\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  bottom: 0;\\n}\\n.drawer .ant-drawer-mask {\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  bottom: 0;\\n}\\n.drawer .ant-drawer-content-wrapper {\\n  left: 0;\\n  right: 0;\\n}\\n.drawer .ant-drawer-title {\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n.drawer .ant-list-item {\\n  padding: 16px 24px;\\n}\\n@media (max-width: 768px) {\\n  .danmu-container {\\n    padding: 10px;\\n  }\\n  .danmu-container .search-input {\\n    margin-bottom: 8px;\\n  }\\n  .danmu-container .ant-tabs-left > .ant-tabs-nav {\\n    width: 80px;\\n  }\\n  .danmu-container .ant-tabs-nav {\\n    margin: 0;\\n  }\\n  .danmu-container .ant-tabs-tab {\\n    font-size: 12px;\\n    padding: 8px 12px;\\n  }\\n  .danmu-container .anime-episode-container {\\n    flex-direction: column;\\n  }\\n  .danmu-container .anime-episode-container .anime-list-col,\\n  .danmu-container .anime-episode-container .episode-list-col {\\n    width: 100%;\\n    border-right: none;\\n    max-height: 50vh;\\n  }\\n  .danmu-container .anime-episode-container .anime-list-col {\\n    border-bottom: 1px solid #f0f0f0;\\n  }\\n  .drawer .ant-drawer-header {\\n    padding: 16px 12px;\\n  }\\n  .drawer .ant-list-item {\\n    padding: 12px;\\n  }\\n}\\n\",document.head.appendChild(t)}var{Search:Tr}=x.Input,{Title:wr}=x.Typography,br=({animes:t,sourceUrl:e,sourceName:r})=>{let[o,a]=(0,s.useState)(!1),[l,n]=(0,s.useState)(null),[u,f]=(0,s.useState)(!1),i=async d=>{try{let c=\"\".concat(e,\"/api/v2/comment/\").concat(d.episodeId);await K.default.post(\"/website/danmu/push\",{url:\"\".concat(c,\"?format=xml\"),previewUrl:\"\".concat(c,\"?format=json\"),sourceName:r}),a(!1)}catch(c){console.error(c),x.message.error(\"\\u63A8\\u9001\\u5931\\u8D25\")}},m=d=>{n(d),a(!0),f(!1)},p=()=>{l&&(n(Oe(he({},l),{episodes:[...l.episodes].reverse()})),f(d=>!d))};return!t||t.length===0?s.default.createElement(x.Empty,{description:\"\\u8BE5\\u6765\\u6E90\\u4E0B\\u65E0\\u7ED3\\u679C\"}):s.default.createElement(s.default.Fragment,null,s.default.createElement(x.List,{dataSource:t,renderItem:d=>s.default.createElement(x.List.Item,{onClick:()=>m(d)},d.animeTitle)}),l&&s.default.createElement(x.Drawer,{title:l.animeTitle,placement:\"bottom\",onClose:()=>a(!1),open:o,height:\"80%\",destroyOnClose:!0,closable:!1,bodyStyle:{padding:0},rootClassName:\"drawer\",extra:s.default.createElement(x.Button,{icon:u?s.default.createElement(se,null):s.default.createElement(me,null),onClick:p,style:{marginLeft:16}})},s.default.createElement(x.List,{dataSource:l.episodes,renderItem:d=>s.default.createElement(x.List.Item,{onClick:()=>i(d)},d.episodeTitle)})))};function Et(){let[t,e]=(0,s.useState)([]),[r,o]=(0,s.useState)(!1),[a,l]=(0,s.useState)([]),[n,u]=(0,s.useState)(!1),[f,i]=(0,s.useState)(new URLSearchParams(window.location.search).get(\"keyword\")||\"\");(0,s.useEffect)(()=>{K.default.get(\"/website/danmu/setting\").then(d=>{d.data.code===0&&d.data.data&&d.data.data.urls?e(d.data.data.urls.map(c=>({name:c.name||new URL(c.address).hostname,url:c.address}))):x.message.error(\"\\u83B7\\u53D6\\u5F39\\u5E55\\u6E90\\u5931\\u8D25\")}).catch(d=>{console.error(d),x.message.error(\"\\u83B7\\u53D6\\u5F39\\u5E55\\u6E90\\u5931\\u8D25\")})},[]);let m=(0,s.useCallback)((d,c=!1)=>{let P=d.trim();if(!P){c||x.message.warning(\"\\u8BF7\\u8F93\\u5165\\u641C\\u7D22\\u5173\\u952E\\u8BCD\");return}if(t.length===0&&!c){x.message.error(\"\\u6CA1\\u6709\\u53EF\\u7528\\u7684\\u5F39\\u5E55\\u6E90\");return}if(i(P),!c){let b=new URL(window.location);b.searchParams.set(\"keyword\",P),window.history.pushState({},\"\",b)}o(!0),u(!0),l([]);let A=0;t.forEach(b=>{K.default.get(\"\".concat(b.url,\"/api/v2/search/episodes\"),{params:{anime:P}}).then(F=>{if(F.data.success&&F.data.animes&&F.data.animes.length>0){let I={sourceName:b.name,sourceUrl:b.url,data:F.data};l(J=>[...J,I])}}).catch(F=>console.error(\"Search from \".concat(b.name,\" failed:\"),F)).finally(()=>{A++,A===t.length&&o(!1)})})},[t]);(0,s.useEffect)(()=>{if(t.length>0){let c=new URLSearchParams(window.location.search).get(\"keyword\");c&&m(c,!0)}},[t,m]);let p=a.map((d,c)=>({key:\"\".concat(d.sourceName,\"-\").concat(c),label:d.sourceName,children:s.default.createElement(br,{animes:d.data.animes,sourceUrl:d.sourceUrl,sourceName:d.sourceName})}));return s.default.createElement(\"div\",{className:\"danmu-container\"},s.default.createElement(wr,{level:2,className:\"main-title \".concat(n?\"hidden\":\"\")},\"\\u5F39\\u5E55\\u641C\\u7D22\"),s.default.createElement(Tr,{placeholder:\"\\u8F93\\u5165\\u5F71\\u89C6\\u540D\\u79F0...\",enterButton:\"\\u641C\\u7D22\",size:\"large\",onSearch:d=>m(d),loading:r,className:\"search-input\",value:f,onChange:d=>i(d.target.value)}),s.default.createElement(\"div\",{className:\"result-container\"},n&&a.length===0&&r&&s.default.createElement(\"div\",{className:\"spin-container\"},s.default.createElement(x.Spin,{size:\"large\"})),a.length>0&&s.default.createElement(x.Tabs,{items:p,size:\"small\"}),n&&a.length===0&&!r&&s.default.createElement(x.Empty,{description:\"\\u672A\\u627E\\u5230\\u76F8\\u5173\\u7ED3\\u679C\"})))}function Fr(){(0,_t.createRoot)(document.getElementById(\"app\")).render(s.default.createElement(Et,null))}\n/*! Bundled license information:\n\nclassnames/index.js:\n  (*!\n  \tCopyright (c) 2018 Jed Watson.\n  \tLicensed under the MIT License (MIT), see\n  \thttp://jedwatson.github.io/classnames\n  *)\n*/\n"}
      module.exports.renderDanmu();
    })();
  `;
}();


var dhe=Object.create;var dy=Object.defineProperty;var fhe=Object.getOwnPropertyDescriptor;var phe=Object.getOwnPropertyNames;var hhe=Object.getPrototypeOf,mhe=Object.prototype.hasOwnProperty;var bs=(e,t)=>()=>(e&&(t=e(e=0)),t);var C=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Pn=(e,t)=>{for(var r in t)dy(e,r,{get:t[r],enumerable:!0})},C8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of phe(t))!mhe.call(e,s)&&s!==r&&dy(e,s,{get:()=>t[s],enumerable:!(n=fhe(t,s))||n.enumerable});return e};var Pe=(e,t,r)=>(r=e!=null?dhe(hhe(e)):{},C8(t||!e||!e.__esModule?dy(r,"default",{value:e,enumerable:!0}):r,e)),ghe=e=>C8(dy({},"__esModule",{value:!0}),e);var S8=C((tct,w8)=>{"use strict";function Ahe(e){var t=new e,r=t;function n(){var a=t;return a.next?t=a.next:(t=new e,r=t),a.next=null,a}function s(a){r.next=a,r=a}return{get:n,release:s}}w8.exports=Ahe});var B8=C((rct,EI)=>{"use strict";var yhe=S8();function T8(e,t,r){if(typeof e=="function"&&(r=t,t=e,e=null),!(r>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");var n=yhe(bhe),s=null,a=null,o=0,c=null,u={push:g,drain:Es,saturated:Es,pause:d,paused:!1,get concurrency(){return r},set concurrency(w){if(!(w>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");if(r=w,!u.paused)for(;s&&o<r;)o++,y()},running:l,resume:m,idle:h,length:f,getQueue:p,unshift:A,empty:Es,kill:v,killAndDrain:b,error:I,abort:E};return u;function l(){return o}function d(){u.paused=!0}function f(){for(var w=s,S=0;w;)w=w.next,S++;return S}function p(){for(var w=s,S=[];w;)S.push(w.value),w=w.next;return S}function m(){if(u.paused){if(u.paused=!1,s===null){o++,y();return}for(;s&&o<r;)o++,y()}}function h(){return o===0&&u.length()===0}function g(w,S){var T=n.get();T.context=e,T.release=y,T.value=w,T.callback=S||Es,T.errorHandler=c,o>=r||u.paused?a?(a.next=T,a=T):(s=T,a=T,u.saturated()):(o++,t.call(e,T.value,T.worked))}function A(w,S){var T=n.get();T.context=e,T.release=y,T.value=w,T.callback=S||Es,T.errorHandler=c,o>=r||u.paused?s?(T.next=s,s=T):(s=T,a=T,u.saturated()):(o++,t.call(e,T.value,T.worked))}function y(w){w&&n.release(w);var S=s;S&&o<=r?u.paused?o--:(a===s&&(a=null),s=S.next,S.next=null,t.call(e,S.value,S.worked),a===null&&u.empty()):--o===0&&u.drain()}function v(){s=null,a=null,u.drain=Es}function b(){s=null,a=null,u.drain(),u.drain=Es}function E(){var w=s;for(s=null,a=null;w;){var S=w.next,T=w.callback,B=w.errorHandler,N=w.value,O=w.context;w.value=null,w.callback=Es,w.errorHandler=null,B&&B(new Error("abort"),N),T.call(O,new Error("abort")),w.release(w),w=S}u.drain=Es}function I(w){c=w}}function Es(){}function bhe(){this.value=null,this.callback=Es,this.next=null,this.release=Es,this.context=null,this.errorHandler=null;var e=this;this.worked=function(r,n){var s=e.callback,a=e.errorHandler,o=e.value;e.value=null,e.callback=Es,e.errorHandler&&a(r,o),s.call(e.context,r,n),e.release(e)}}function Ehe(e,t,r){typeof e=="function"&&(r=t,t=e,e=null);function n(d,f){t.call(this,d).then(function(p){f(null,p)},f)}var s=T8(e,n,r),a=s.push,o=s.unshift;return s.push=c,s.unshift=u,s.drained=l,s;function c(d){var f=new Promise(function(p,m){a(d,function(h,g){if(h){m(h);return}p(g)})});return f.catch(Es),f}function u(d){var f=new Promise(function(p,m){o(d,function(h,g){if(h){m(h);return}p(g)})});return f.catch(Es),f}function l(){var d=new Promise(function(f){process.nextTick(function(){if(s.idle())f();else{var p=s.drain;s.drain=function(){typeof p=="function"&&p(),f(),s.drain=p}}})});return d}}EI.exports=T8;EI.exports.promise=Ehe});var vI=C((nct,fy)=>{"use strict";var{format:xhe}=require("node:util");function vhe(){return`${this.name} [${this.code}]: ${this.message}`}function xI(e,t,r=500,n=Error){if(!e)throw new Error("Fastify error code must not be empty");if(!t)throw new Error("Fastify error message must not be empty");e=e.toUpperCase(),!r&&(r=void 0);function s(...a){if(!new.target)return new s(...a);this.code=e,this.name="FastifyError",this.statusCode=r;let o=a.length-1;o!==-1&&a[o]&&typeof a[o]=="object"&&"cause"in a[o]&&(this.cause=a.pop().cause),this.message=xhe(t,...a),Error.stackTraceLimit!==0&&Error.captureStackTrace(this,s)}return s.prototype=Object.create(n.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),s.prototype[Symbol.toStringTag]="Error",s.prototype.toString=vhe,s}fy.exports=xI;fy.exports.default=xI;fy.exports.createError=xI});var py=C((sct,R8)=>{"use strict";var{createError:cc}=vI();R8.exports={AVV_ERR_EXPOSE_ALREADY_DEFINED:cc("AVV_ERR_EXPOSE_ALREADY_DEFINED","'%s' is already defined, specify an expose option for '%s'"),AVV_ERR_ATTRIBUTE_ALREADY_DEFINED:cc("AVV_ERR_ATTRIBUTE_ALREADY_DEFINED","'%s' is already defined"),AVV_ERR_CALLBACK_NOT_FN:cc("AVV_ERR_CALLBACK_NOT_FN","Callback for '%s' hook is not a function. Received: '%s'"),AVV_ERR_PLUGIN_NOT_VALID:cc("AVV_ERR_PLUGIN_NOT_VALID","Plugin must be a function or a promise. Received: '%s'"),AVV_ERR_ROOT_PLG_BOOTED:cc("AVV_ERR_ROOT_PLG_BOOTED","Root plugin has already booted"),AVV_ERR_PARENT_PLG_LOADED:cc("AVV_ERR_PARENT_PLG_LOADED","Impossible to load '%s' plugin because the parent '%s' was already loaded"),AVV_ERR_READY_TIMEOUT:cc("AVV_ERR_READY_TIMEOUT","Plugin did not start in time: '%s'. You may have forgotten to call 'done' function or to resolve a Promise"),AVV_ERR_PLUGIN_EXEC_TIMEOUT:cc("AVV_ERR_PLUGIN_EXEC_TIMEOUT","Plugin did not start in time: '%s'. You may have forgotten to call 'done' function or to resolve a Promise")}});var Td=C((ict,N8)=>{"use strict";var _he=Symbol("avvio.Boot"),Ihe=Symbol("isOnCloseHandler"),Che=Symbol("avvio.ThenifyDoNotWrap"),whe=Symbol("avvio.TimeTree.untrackNode"),She=Symbol("avvio.TimeTree.trackNode"),The=Symbol("avvio.TimeTree.getParent"),Bhe=Symbol("avvio.TimeTree.getNode"),Rhe=Symbol("avvio.TimeTree.addNode"),Nhe=Symbol.for("plugin-meta");N8.exports={kAvvio:_he,kIsOnCloseHandler:Ihe,kThenifyDoNotWrap:Che,kUntrackNode:whe,kTrackNode:She,kGetParent:The,kGetNode:Bhe,kAddNode:Rhe,kPluginMeta:Nhe}});var M8=C((act,L8)=>{"use strict";var{kUntrackNode:k8,kTrackNode:_I,kGetParent:D8,kGetNode:P8,kAddNode:O8}=Td(),II=class{constructor(){this.root=null,this.tableId=new Map,this.tableLabel=new Map}[_I](t){this.tableId.set(t.id,t),this.tableLabel.has(t.label)?this.tableLabel.get(t.label).push(t):this.tableLabel.set(t.label,[t])}[k8](t){this.tableId.delete(t.id);let r=this.tableLabel.get(t.label);r.pop(),r.length===0&&this.tableLabel.delete(t.label)}[D8](t){if(t===null)return null;if(this.tableLabel.has(t)){let r=this.tableLabel.get(t);return r[r.length-1]}else return null}[P8](t){return this.tableId.get(t)}[O8](t,r,n){let s=this[D8](t);if(s===null)return this.root={parent:null,id:"root",label:r,nodes:[],start:n,stop:null,diff:-1},this[_I](this.root),this.root.id;let o=`${r}-${Math.random()}`,c={parent:t,id:o,label:r,nodes:[],start:n,stop:null,diff:-1};return s.nodes.push(c),this[_I](c),o}start(t,r,n=Date.now()){return this[O8](t,r,n)}stop(t,r=Date.now()){let n=this[P8](t);n&&(n.stop=r,n.diff=n.stop-n.start||0,this[k8](n))}toJSON(){return Object.assign({},this.root)}prettyPrint(){return $8(this.toJSON())}};function $8(e,t=""){let r=t,n=e.nodes.length,s=n-1;r+=`${e.label} ${e.diff} ms
`;for(let a=0;a<n;++a){let o=e.nodes[a],c=t+(a===s?"  ":"\u2502 ");r+=t,r+=a===s?"\u2514\u2500":"\u251C\u2500",r+=o.nodes.length===0?"\u2500 ":"\u252C ",r+=$8(o,c).slice(t.length+2)}return r}L8.exports={TimeTree:II}});var hy=C((oct,F8)=>{"use strict";var{debuglog:khe}=require("node:util"),Dhe=khe("avvio");F8.exports={debug:Dhe}});var U8=C((cct,Q8)=>{"use strict";function Phe(){let e={resolve:null,reject:null,promise:null};return e.promise=new Promise((t,r)=>{e.resolve=t,e.reject=r}),e}Q8.exports={createPromise:Phe}});var j8=C((uct,q8)=>{"use strict";var{kPluginMeta:CI}=Td();function Ohe(e,t){return e[CI]&&e[CI].name?e[CI].name:t&&t.name?t.name:e.name?e.name:e.toString().split(`
`).slice(0,2).map(r=>r.trim()).join(" -- ")}q8.exports={getPluginName:Ohe}});var my=C((lct,H8)=>{"use strict";function $he(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}H8.exports={isPromiseLike:$he}});var G8=C((dct,z8)=>{"use strict";var{EventEmitter:Lhe}=require("node:events"),{inherits:Mhe}=require("node:util"),{debug:_n}=hy(),{createPromise:Fhe}=U8(),{AVV_ERR_PLUGIN_EXEC_TIMEOUT:Qhe}=py(),{getPluginName:Uhe}=j8(),{isPromiseLike:qhe}=my();function Bd(e,t,r,n,s){this.queue=e,this.func=t,this.options=r,this.isAfter=n,this.timeout=s,this.started=!1,this.name=Uhe(t,r),this.queue.pause(),this._error=null,this.loaded=!1,this._promise=null,this.startTime=null}Mhe(Bd,Lhe);Bd.prototype.exec=function(e,t){_n("exec",this.name),this.server=e;let r=this.func,n=this.name,s=!1;this.options=typeof this.options=="function"?this.options(this.server):this.options;let a=null,o=u=>{if(s){_n("loading complete",n);return}this._error=u,_n(u?"exec errored":"exec completed",n),s=!0,a&&clearTimeout(a),t(u)};this.timeout>0&&(_n("setting up timeout",n,this.timeout),a=setTimeout(function(){_n("timed out",n),a=null;let u=new Qhe(n);u.fn=r,o(u)},this.timeout)),this.started=!0,this.startTime=Date.now(),this.emit("start",this.server?this.server.name:null,this.name,Date.now());let c=r(this.server,this.options,o);qhe(c)&&(_n("exec: resolving promise",n),c.then(()=>process.nextTick(o),u=>process.nextTick(o,u)))};Bd.prototype.loadedSoFar=function(){if(_n("loadedSoFar",this.name),this.loaded)return Promise.resolve();let e=()=>{this.server.after((r,n)=>{this._error=r,this.queue.pause(),this._promise&&(r?(_n("rejecting promise",this.name,r),this._promise.reject(r)):(_n("resolving promise",this.name),this._promise.resolve()),this._promise=null),process.nextTick(n,r)}),this.queue.resume()},t;return this._promise?t=Promise.resolve():(this._promise=Fhe(),t=this._promise.promise,this.server?e():this.on("start",e)),t};Bd.prototype.enqueue=function(e,t){_n("enqueue",this.name,e.name),this.emit("enqueue",this.server?this.server.name:null,this.name,Date.now()),this.queue.push(e,t)};Bd.prototype.finish=function(e,t){_n("finish",this.name,e);let r=()=>{this.loaded||(_n("loaded",this.name),this.emit("loaded",this.server?this.server.name:null,this.name,Date.now()),this.loaded=!0,t(e))};if(e){this._promise&&(this._promise.reject(e),this._promise=null),r();return}let n=()=>{if(_n("check",this.name,this.queue.length(),this.queue.running(),this._promise),this.queue.length()===0&&this.queue.running()===0)if(this._promise){let s=()=>{_n("wrap"),queueMicrotask(n)};this._promise.resolve(),this._promise.promise.then(s,s),this._promise=null}else r();else _n("delayed",this.name),this.queue.drain=()=>{_n("drain",this.name),this.queue.drain=jhe,queueMicrotask(n)}};queueMicrotask(n),this.queue.resume()};function jhe(){}z8.exports={Plugin:Bd}});var K8=C((fct,V8)=>{"use strict";var{AVV_ERR_PLUGIN_NOT_VALID:wI}=py();function Hhe(e){if(!(e&&(typeof e=="function"||typeof e.then=="function")))throw Array.isArray(e)?new wI("array"):e===null?new wI("null"):new wI(typeof e)}V8.exports={validatePlugin:Hhe}});var W8=C((pct,Y8)=>{"use strict";function zhe(e){return e!==null&&typeof e=="object"&&typeof e.default=="function"}Y8.exports={isBundledOrTypescriptPlugin:zhe}});var Z8=C((hct,X8)=>{"use strict";var{debug:J8}=hy(),{kThenifyDoNotWrap:SI}=Td();function Ghe(){if(this.booted){J8("thenify returning undefined because we are already booted");return}if(this[SI]){this[SI]=!1;return}return J8("thenify"),(e,t)=>this._loadRegistered().then(()=>(this[SI]=!0,e(this._server)),t)}X8.exports={thenify:Ghe}});var tL=C((mct,eL)=>{"use strict";var{isPromiseLike:Vhe}=my(),{kAvvio:Khe}=Td();function Yhe(e,t,r){let n=e.apply(e,t);Vhe(n)&&!n[Khe]?n.then(()=>process.nextTick(r),s=>process.nextTick(r,s)):r&&process.nextTick(r)}eL.exports={executeWithThenable:Yhe}});var uL=C((gct,BI)=>{"use strict";var gy=B8(),Whe=require("node:events").EventEmitter,Jhe=require("node:util").inherits,{AVV_ERR_EXPOSE_ALREADY_DEFINED:m0,AVV_ERR_CALLBACK_NOT_FN:Rd,AVV_ERR_ROOT_PLG_BOOTED:Xhe,AVV_ERR_READY_TIMEOUT:Zhe,AVV_ERR_ATTRIBUTE_ALREADY_DEFINED:eme}=py(),{kAvvio:sL,kIsOnCloseHandler:iL}=Td(),{TimeTree:tme}=M8(),{Plugin:aL}=G8(),{debug:Nd}=hy(),{validatePlugin:rme}=K8(),{isBundledOrTypescriptPlugin:nme}=W8(),{isPromiseLike:sme}=my(),{thenify:oL}=Z8(),{executeWithThenable:rL}=tL();function Lr(e,t,r){if(typeof e=="function"&&arguments.length===1&&(r=e,t={},e=null),typeof t=="function"&&(r=t,t={}),t=t||{},t.autostart=t.autostart!==!1,t.timeout=Number(t.timeout)||0,t.expose=t.expose||{},!new.target)return new Lr(e,t,r);this._server=e||this,this._opts=t,e&&this._expose(),this._current=[],this._error=null,this._lastUsed=null,this.setMaxListeners(0),r&&this.once("start",r),this.started=!1,this.booted=!1,this.pluginTree=new tme,this._readyQ=gy(this,cL,1),this._readyQ.pause(),this._readyQ.drain=()=>{this.emit("start"),this._readyQ.drain=nL},this._closeQ=gy(this,ame,1),this._closeQ.pause(),this._closeQ.drain=()=>{this.emit("close"),this._closeQ.drain=nL},this._doStart=null;let n=this;this._root=new aL(gy(this,this._loadPluginNextTick,1),function(a,o,c){n._doStart=c,o.autostart&&n.start()},t,!1,0),this._trackPluginLoading(this._root),this._loadPlugin(this._root,s=>{Nd("root plugin ready");try{this.emit("preReady"),this._root=null}catch(a){s=s||this._error||a}if(s){if(this._error=s,this._readyQ.length()===0)throw s}else this.booted=!0;this._readyQ.resume()})}Jhe(Lr,Whe);Lr.prototype.start=function(){return this.started=!0,process.nextTick(this._doStart),this};Lr.prototype.override=function(e,t,r){return e};Lr.prototype[sL]=!0;Lr.prototype.use=function(e,t){return this._lastUsed=this._addPlugin(e,t,!1),this};Lr.prototype._loadRegistered=function(){let e=this._current[0];return!this.started&&!this.booted&&process.nextTick(()=>this._root.queue.resume()),e?e.loadedSoFar():Promise.resolve()};Object.defineProperty(Lr.prototype,"then",{get:oL});Lr.prototype._addPlugin=function(e,t,r){if(nme(e)&&(e=e.default),rme(e),t=t||{},this.booted)throw new Xhe;let n=this._current[0],s=this._opts.timeout;if(!n.loaded&&n.timeout>0){let o=Date.now()-n.startTime;s=n.timeout-(o+3)}let a=new aL(gy(this,this._loadPluginNextTick,1),e,t,r,s);if(this._trackPluginLoading(a),n.loaded)throw new Error(a.name,n.name);return n.enqueue(a,o=>{o&&(this._error=o)}),a};Lr.prototype._expose=function(){let t=this,r=t._server,{use:n="use",after:s="after",ready:a="ready",onClose:o="onClose",close:c="close"}=this._opts.expose;if(r[n])throw new m0(n,"use");if(r[n]=function(u,l){return t.use(u,l),this},r[s])throw new m0(s,"after");if(r[s]=function(u){return typeof u!="function"?t._loadRegistered():(t.after(TI(u,this)),this)},r[a])throw new m0(a,"ready");if(r[a]=function(u){if(u&&typeof u!="function")throw new Rd(a,typeof u);return t.ready(u?TI(u,this):void 0)},r[o])throw new m0(o,"onClose");if(r[o]=function(u){if(typeof u!="function")throw new Rd(o,typeof u);return t.onClose(ome(u,this)),this},r[c])throw new m0(c,"close");if(r[c]=function(u){if(u&&typeof u!="function")throw new Rd(c,typeof u);return u?(t.close(TI(u,this)),this):t.close()},r.then)throw new eme("then");Object.defineProperty(r,"then",{get:oL.bind(t)}),r[sL]=!0};Lr.prototype.after=function(e){if(!e)return this._loadRegistered();this._addPlugin(t.bind(this),{},!0);function t(r,n,s){cL.call(this,e,s)}return this};Lr.prototype.onClose=function(e){if(typeof e!="function")throw new Rd("onClose",typeof e);return e[iL]=!0,this._closeQ.unshift(e,t=>{t&&(this._error=t)}),this};Lr.prototype.close=function(e){let t;if(e){if(typeof e!="function")throw new Rd("close",typeof e)}else t=new Promise(function(r,n){e=function(s){if(s)return n(s);r()}});return this.ready(()=>{this._error=null,this._closeQ.push(e),process.nextTick(this._closeQ.resume.bind(this._closeQ))}),t};Lr.prototype.ready=function(e){if(e){if(typeof e!="function")throw new Rd("ready",typeof e);this._readyQ.push(e),queueMicrotask(this.start.bind(this));return}return new Promise((t,r)=>{this._readyQ.push(s),this.start();let n=this._current[0].server;function s(a,o,c){a?r(a):t(n),process.nextTick(c)}})};Lr.prototype._trackPluginLoading=function(e){let t=this._current[0]?.name||null;e.once("start",(r,n,s)=>{let a=this.pluginTree.start(t||null,n,s);e.once("loaded",(o,c,u)=>{this.pluginTree.stop(a,u)})})};Lr.prototype.prettyPrint=function(){return this.pluginTree.prettyPrint()};Lr.prototype.toJSON=function(){return this.pluginTree.toJSON()};Lr.prototype._loadPlugin=function(e,t){let r=this;if(sme(e.func)){e.func.then(o=>{typeof o.default=="function"&&(o=o.default),e.func=o,this._loadPlugin(e,t)},t);return}let n=r._current[0];if(r._current.unshift(e),r._error&&!e.isAfter){Nd("skipping loading of plugin as instance errored and it is not an after",e.name),process.nextTick(a);return}let s=n&&n.server||r._server;if(!e.isAfter)try{s=r.override(s,e.func,e.options)}catch(o){return Nd("override errored",e.name),a(o)}e.exec(s,a);function a(o){e.finish(o,c=>{r._current.shift(),t(c)})}};Lr.prototype._loadPluginNextTick=function(e,t){process.nextTick(this._loadPlugin.bind(this),e,t)};function nL(){}function cL(e,t){let r=this._server,n=this._error;if(this._error=null,e.length===0)this._error=n,rL(e,[],t);else if(e.length===1)rL(e,[n],t);else if(this._opts.timeout===0){let s=a=>{this._error=a,t(this._error)};e.length===2?e(n,s):e(n,r,s)}else ime.call(this,e,n,r,t)}function ime(e,t,r,n){let s=e.unwrappedName??e.name;Nd("setting up ready timeout",s,this._opts.timeout);let a=setTimeout(()=>{Nd("timed out",s),a=null;let c=new Zhe(s);c.fn=e,this._error=c,n(c)},this._opts.timeout);e.length===2?e(t,o.bind(this)):e(t,r,o.bind(this));function o(c){a&&(clearTimeout(a),this._error=c,n(this._error))}}function ame(e,t){let r=this._server,n=e[iL];if(e.length===0||e.length===1){let s;n?s=e(r):s=e(this._error),s&&typeof s.then=="function"?(Nd("resolving close/onClose promise"),s.then(()=>process.nextTick(t),a=>process.nextTick(t,a))):process.nextTick(t)}else e.length===2?e(n?r:this._error,t):n?e(r,t):e(this._error,r,t)}function ome(e,t){return r.bind(t);function r(n,s){let a;e.length===0?(a=e(),a&&a.then?a.then(function(){process.nextTick(s)},s):process.nextTick(s)):e.length===1?(a=e(this),a&&a.then?a.then(function(){process.nextTick(s)},s):process.nextTick(s)):e(this,s)}}function TI(e,t){let r=n.bind(t);return r.unwrappedName=e.name,r;function n(s,a){let o;e?e.length===0?(o=e(),o&&o.then?o.then(function(){process.nextTick(a,s)},a):process.nextTick(a,s)):e.length===1?(o=e(s),o&&o.then?o.then(function(){process.nextTick(a)},a):process.nextTick(a)):e.length===2?e(s,a):e(s,this,a):process.nextTick(a)}}BI.exports=Lr;BI.exports.express=function(e){return Lr(e,{expose:{use:"load"}})}});var cn=C((Act,lL)=>{"use strict";var cme={kAvvioBoot:Symbol("fastify.avvioBoot"),kChildren:Symbol("fastify.children"),kServerBindings:Symbol("fastify.serverBindings"),kBodyLimit:Symbol("fastify.bodyLimit"),kRoutePrefix:Symbol("fastify.routePrefix"),kLogLevel:Symbol("fastify.logLevel"),kLogSerializers:Symbol("fastify.logSerializers"),kHooks:Symbol("fastify.hooks"),kContentTypeParser:Symbol("fastify.contentTypeParser"),kState:Symbol("fastify.state"),kOptions:Symbol("fastify.options"),kDisableRequestLogging:Symbol("fastify.disableRequestLogging"),kPluginNameChain:Symbol("fastify.pluginNameChain"),kRouteContext:Symbol("fastify.context"),kPublicRouteContext:Symbol("fastify.routeOptions"),kGenReqId:Symbol("fastify.genReqId"),kSchemaController:Symbol("fastify.schemaController"),kSchemaHeaders:Symbol("headers-schema"),kSchemaParams:Symbol("params-schema"),kSchemaQuerystring:Symbol("querystring-schema"),kSchemaBody:Symbol("body-schema"),kSchemaResponse:Symbol("response-schema"),kSchemaErrorFormatter:Symbol("fastify.schemaErrorFormatter"),kSchemaVisited:Symbol("fastify.schemas.visited"),kRequest:Symbol("fastify.Request"),kRequestPayloadStream:Symbol("fastify.RequestPayloadStream"),kRequestAcceptVersion:Symbol("fastify.RequestAcceptVersion"),kRequestCacheValidateFns:Symbol("fastify.request.cache.validateFns"),kRequestOriginalUrl:Symbol("fastify.request.originalUrl"),kFourOhFour:Symbol("fastify.404"),kCanSetNotFoundHandler:Symbol("fastify.canSetNotFoundHandler"),kFourOhFourLevelInstance:Symbol("fastify.404LogLevelInstance"),kFourOhFourContext:Symbol("fastify.404ContextKey"),kDefaultJsonParse:Symbol("fastify.defaultJSONParse"),kReply:Symbol("fastify.Reply"),kReplySerializer:Symbol("fastify.reply.serializer"),kReplyIsError:Symbol("fastify.reply.isError"),kReplyHeaders:Symbol("fastify.reply.headers"),kReplyTrailers:Symbol("fastify.reply.trailers"),kReplyHasStatusCode:Symbol("fastify.reply.hasStatusCode"),kReplyHijacked:Symbol("fastify.reply.hijacked"),kReplyStartTime:Symbol("fastify.reply.startTime"),kReplyNextErrorHandler:Symbol("fastify.reply.nextErrorHandler"),kReplyEndTime:Symbol("fastify.reply.endTime"),kReplyErrorHandlerCalled:Symbol("fastify.reply.errorHandlerCalled"),kReplyIsRunningOnErrorHook:Symbol("fastify.reply.isRunningOnErrorHook"),kReplySerializerDefault:Symbol("fastify.replySerializerDefault"),kReplyCacheSerializeFns:Symbol("fastify.reply.cache.serializeFns"),kTestInternals:Symbol("fastify.testInternals"),kErrorHandler:Symbol("fastify.errorHandler"),kChildLoggerFactory:Symbol("fastify.childLoggerFactory"),kHasBeenDecorated:Symbol("fastify.hasBeenDecorated"),kKeepAliveConnections:Symbol("fastify.keepAliveConnections"),kRouteByFastify:Symbol("fastify.routeByFastify")};lL.exports=cme});var kI=C((yct,Ay)=>{"use strict";var{format:RI}=require("node:util");function ume(e){return dL({...e,name:"DeprecationWarning"})}function dL({name:e,code:t,message:r,unlimited:n=!1}={}){if(!e)throw new Error("Warning name must not be empty");if(!t)throw new Error("Warning code must not be empty");if(!r)throw new Error("Warning message must not be empty");if(typeof n!="boolean")throw new Error("Warning opts.unlimited must be a boolean");t=t.toUpperCase();let s={[e]:function(o,c,u){a.emitted===!0&&a.unlimited!==!0||(a.emitted=!0,process.emitWarning(a.format(o,c,u),a.name,a.code))}};n&&(s={[e]:function(o,c,u){a.emitted=!0,process.emitWarning(a.format(o,c,u),a.name,a.code)}});let a=s[e];return a.emitted=!1,a.message=r,a.unlimited=n,a.code=t,a.format=function(o,c,u){let l;return o&&c&&u?l=RI(r,o,c,u):o&&c?l=RI(r,o,c):o?l=RI(r,o):l=r,l},a}var NI={createWarning:dL,createDeprecation:ume};Ay.exports=NI;Ay.exports.default=NI;Ay.exports.processWarning=NI});var io=C((bct,pL)=>{"use strict";var{createDeprecation:On,createWarning:fL}=kI(),lme=On({code:"FSTDEP005",message:'You are accessing the deprecated "request.connection" property. Use "request.socket" instead.'}),dme=On({code:"FSTDEP006",message:"You are decorating Request/Reply with a reference type. This reference is shared amongst all requests. Use onRequest hook instead. Property: %s"}),fme=On({code:"FSTDEP007",message:'You are trying to set a HEAD route using "exposeHeadRoute" route flag when a sibling route is already set. See documentation for more info.'}),pme=On({code:"FSTDEP008",message:'You are using route constraints via the route { version: "..." } option, use { constraints: { version: "..." } } option instead.'}),hme=On({code:"FSTDEP009",message:'You are using a custom route versioning strategy via the server { versioning: "..." } option, use { constraints: { version: "..." } } option instead.'}),mme=On({code:"FSTDEP010",message:'Modifying the "reply.sent" property is deprecated. Use the "reply.hijack()" method instead.'}),gme=On({code:"FSTDEP011",message:'Variadic listen method is deprecated. Please use ".listen(optionsObject)" instead. The variadic signature will be removed in `fastify@5`.'}),Ame=On({code:"FSTDEP012",message:'request.context property access is deprecated. Please use "request.routeOptions.config" or "request.routeOptions.schema" instead for accessing Route settings. The "request.context" will be removed in `fastify@5`.'}),yme=On({code:"FSTDEP013",message:'Direct return of "trailers" function is deprecated. Please use "callback" or "async-await" for return value. The support of direct return will removed in `fastify@5`.'}),bme=On({code:"FSTDEP014",message:"You are trying to set/access the default route. This property is deprecated. Please, use setNotFoundHandler if you want to custom a 404 handler or the wildcard (*) to match all routes."}),Eme=On({code:"FSTDEP015",message:'You are accessing the deprecated "request.routeSchema" property. Use "request.routeOptions.schema" instead. Property "req.routeSchema" will be removed in `fastify@5`.'}),xme=On({code:"FSTDEP016",message:'You are accessing the deprecated "request.routeConfig" property. Use "request.routeOptions.config" instead. Property "req.routeConfig" will be removed in `fastify@5`.'}),vme=On({code:"FSTDEP017",message:'You are accessing the deprecated "request.routerPath" property. Use "request.routeOptions.url" instead. Property "req.routerPath" will be removed in `fastify@5`.'}),_me=On({code:"FSTDEP018",message:'You are accessing the deprecated "request.routerMethod" property. Use "request.routeOptions.method" instead. Property "req.routerMethod" will be removed in `fastify@5`.'}),Ime=On({code:"FSTDEP019",message:'reply.context property access is deprecated. Please use "request.routeOptions.config" or "request.routeOptions.schema" instead for accessing Route settings. The "reply.context" will be removed in `fastify@5`.'}),Cme=On({code:"FSTDEP020",message:'You are using the deprecated "reply.getResponseTime()"" method. Use the "request.elapsedTime" property instead. Method "reply.getResponseTime()" will be removed in `fastify@5`.'}),wme=fL({name:"FastifyWarning",code:"FSTWRN001",message:"The %s schema for %s: %s is missing. This may indicate the schema is not well specified.",unlimited:!0}),Sme=fL({name:"FastifyWarning",code:"FSTWRN002",message:"The %s plugin being registered mixes async and callback styles, which will result in an error in `fastify@5`",unlimited:!0});pL.exports={FSTDEP005:lme,FSTDEP006:dme,FSTDEP007:fme,FSTDEP008:pme,FSTDEP009:hme,FSTDEP010:mme,FSTDEP011:gme,FSTDEP012:Ame,FSTDEP013:yme,FSTDEP014:bme,FSTDEP015:Eme,FSTDEP016:xme,FSTDEP017:vme,FSTDEP018:_me,FSTDEP019:Ime,FSTDEP020:Cme,FSTWRN001:wme,FSTWRN002:Sme}});var $n=C((Ect,yy)=>{"use strict";var be=vI(),kd={FST_ERR_NOT_FOUND:be("FST_ERR_NOT_FOUND","Not Found",404),FST_ERR_OPTIONS_NOT_OBJ:be("FST_ERR_OPTIONS_NOT_OBJ","Options must be an object",500,TypeError),FST_ERR_QSP_NOT_FN:be("FST_ERR_QSP_NOT_FN","querystringParser option should be a function, instead got '%s'",500,TypeError),FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN:be("FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN","schemaController.bucket option should be a function, instead got '%s'",500,TypeError),FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN:be("FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN","schemaErrorFormatter option should be a non async function. Instead got '%s'.",500,TypeError),FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ:be("FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ","ajv.customOptions option should be an object, instead got '%s'",500,TypeError),FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR:be("FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR","ajv.plugins option should be an array, instead got '%s'",500,TypeError),FST_ERR_VERSION_CONSTRAINT_NOT_STR:be("FST_ERR_VERSION_CONSTRAINT_NOT_STR","Version constraint should be a string.",500,TypeError),FST_ERR_VALIDATION:be("FST_ERR_VALIDATION","%s",400),FST_ERR_LISTEN_OPTIONS_INVALID:be("FST_ERR_LISTEN_OPTIONS_INVALID","Invalid listen options: '%s'",500,TypeError),FST_ERR_CTP_ALREADY_PRESENT:be("FST_ERR_CTP_ALREADY_PRESENT","Content type parser '%s' already present."),FST_ERR_CTP_INVALID_TYPE:be("FST_ERR_CTP_INVALID_TYPE","The content type should be a string or a RegExp",500,TypeError),FST_ERR_CTP_EMPTY_TYPE:be("FST_ERR_CTP_EMPTY_TYPE","The content type cannot be an empty string",500,TypeError),FST_ERR_CTP_INVALID_HANDLER:be("FST_ERR_CTP_INVALID_HANDLER","The content type handler should be a function",500,TypeError),FST_ERR_CTP_INVALID_PARSE_TYPE:be("FST_ERR_CTP_INVALID_PARSE_TYPE","The body parser can only parse your data as 'string' or 'buffer', you asked '%s' which is not supported.",500,TypeError),FST_ERR_CTP_BODY_TOO_LARGE:be("FST_ERR_CTP_BODY_TOO_LARGE","Request body is too large",413,RangeError),FST_ERR_CTP_INVALID_MEDIA_TYPE:be("FST_ERR_CTP_INVALID_MEDIA_TYPE","Unsupported Media Type: %s",415),FST_ERR_CTP_INVALID_CONTENT_LENGTH:be("FST_ERR_CTP_INVALID_CONTENT_LENGTH","Request body size did not match Content-Length",400,RangeError),FST_ERR_CTP_EMPTY_JSON_BODY:be("FST_ERR_CTP_EMPTY_JSON_BODY","Body cannot be empty when content-type is set to 'application/json'",400),FST_ERR_CTP_INSTANCE_ALREADY_STARTED:be("FST_ERR_CTP_INSTANCE_ALREADY_STARTED",'Cannot call "%s" when fastify instance is already started!',400),FST_ERR_DEC_ALREADY_PRESENT:be("FST_ERR_DEC_ALREADY_PRESENT","The decorator '%s' has already been added!"),FST_ERR_DEC_DEPENDENCY_INVALID_TYPE:be("FST_ERR_DEC_DEPENDENCY_INVALID_TYPE","The dependencies of decorator '%s' must be of type Array.",500,TypeError),FST_ERR_DEC_MISSING_DEPENDENCY:be("FST_ERR_DEC_MISSING_DEPENDENCY","The decorator is missing dependency '%s'."),FST_ERR_DEC_AFTER_START:be("FST_ERR_DEC_AFTER_START","The decorator '%s' has been added after start!"),FST_ERR_HOOK_INVALID_TYPE:be("FST_ERR_HOOK_INVALID_TYPE","The hook name must be a string",500,TypeError),FST_ERR_HOOK_INVALID_HANDLER:be("FST_ERR_HOOK_INVALID_HANDLER","%s hook should be a function, instead got %s",500,TypeError),FST_ERR_HOOK_INVALID_ASYNC_HANDLER:be("FST_ERR_HOOK_INVALID_ASYNC_HANDLER","Async function has too many arguments. Async hooks should not use the 'done' argument.",500,TypeError),FST_ERR_HOOK_NOT_SUPPORTED:be("FST_ERR_HOOK_NOT_SUPPORTED","%s hook not supported!",500,TypeError),FST_ERR_MISSING_MIDDLEWARE:be("FST_ERR_MISSING_MIDDLEWARE","You must register a plugin for handling middlewares, visit fastify.dev/docs/latest/Reference/Middleware/ for more info.",500),FST_ERR_HOOK_TIMEOUT:be("FST_ERR_HOOK_TIMEOUT","A callback for '%s' hook timed out. You may have forgotten to call 'done' function or to resolve a Promise"),FST_ERR_LOG_INVALID_DESTINATION:be("FST_ERR_LOG_INVALID_DESTINATION","Cannot specify both logger.stream and logger.file options"),FST_ERR_LOG_INVALID_LOGGER:be("FST_ERR_LOG_INVALID_LOGGER","Invalid logger object provided. The logger instance should have these functions(s): '%s'.",500,TypeError),FST_ERR_REP_INVALID_PAYLOAD_TYPE:be("FST_ERR_REP_INVALID_PAYLOAD_TYPE","Attempted to send payload of invalid type '%s'. Expected a string or Buffer.",500,TypeError),FST_ERR_REP_RESPONSE_BODY_CONSUMED:be("FST_ERR_REP_RESPONSE_BODY_CONSUMED","Response.body is already consumed."),FST_ERR_REP_ALREADY_SENT:be("FST_ERR_REP_ALREADY_SENT",'Reply was already sent, did you forget to "return reply" in "%s" (%s)?'),FST_ERR_REP_SENT_VALUE:be("FST_ERR_REP_SENT_VALUE","The only possible value for reply.sent is true.",500,TypeError),FST_ERR_SEND_INSIDE_ONERR:be("FST_ERR_SEND_INSIDE_ONERR","You cannot use `send` inside the `onError` hook"),FST_ERR_SEND_UNDEFINED_ERR:be("FST_ERR_SEND_UNDEFINED_ERR","Undefined error has occurred"),FST_ERR_BAD_STATUS_CODE:be("FST_ERR_BAD_STATUS_CODE","Called reply with an invalid status code: %s"),FST_ERR_BAD_TRAILER_NAME:be("FST_ERR_BAD_TRAILER_NAME","Called reply.trailer with an invalid header name: %s"),FST_ERR_BAD_TRAILER_VALUE:be("FST_ERR_BAD_TRAILER_VALUE","Called reply.trailer('%s', fn) with an invalid type: %s. Expected a function."),FST_ERR_FAILED_ERROR_SERIALIZATION:be("FST_ERR_FAILED_ERROR_SERIALIZATION","Failed to serialize an error. Error: %s. Original error: %s"),FST_ERR_MISSING_SERIALIZATION_FN:be("FST_ERR_MISSING_SERIALIZATION_FN",'Missing serialization function. Key "%s"'),FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN:be("FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN",'Missing serialization function. Key "%s:%s"'),FST_ERR_REQ_INVALID_VALIDATION_INVOCATION:be("FST_ERR_REQ_INVALID_VALIDATION_INVOCATION",'Invalid validation invocation. Missing validation function for HTTP part "%s" nor schema provided.'),FST_ERR_SCH_MISSING_ID:be("FST_ERR_SCH_MISSING_ID","Missing schema $id property"),FST_ERR_SCH_ALREADY_PRESENT:be("FST_ERR_SCH_ALREADY_PRESENT","Schema with id '%s' already declared!"),FST_ERR_SCH_CONTENT_MISSING_SCHEMA:be("FST_ERR_SCH_CONTENT_MISSING_SCHEMA","Schema is missing for the content type '%s'"),FST_ERR_SCH_DUPLICATE:be("FST_ERR_SCH_DUPLICATE","Schema with '%s' already present!"),FST_ERR_SCH_VALIDATION_BUILD:be("FST_ERR_SCH_VALIDATION_BUILD","Failed building the validation schema for %s: %s, due to error %s"),FST_ERR_SCH_SERIALIZATION_BUILD:be("FST_ERR_SCH_SERIALIZATION_BUILD","Failed building the serialization schema for %s: %s, due to error %s"),FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX:be("FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX",'response schemas should be nested under a valid status code, e.g { 2xx: { type: "object" } }'),FST_ERR_HTTP2_INVALID_VERSION:be("FST_ERR_HTTP2_INVALID_VERSION","HTTP2 is available only from node >= 8.8.1"),FST_ERR_INIT_OPTS_INVALID:be("FST_ERR_INIT_OPTS_INVALID","Invalid initialization options: '%s'"),FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE:be("FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE","Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method"),FST_ERR_DUPLICATED_ROUTE:be("FST_ERR_DUPLICATED_ROUTE","Method '%s' already declared for route '%s'"),FST_ERR_BAD_URL:be("FST_ERR_BAD_URL","'%s' is not a valid url component",400,URIError),FST_ERR_ASYNC_CONSTRAINT:be("FST_ERR_ASYNC_CONSTRAINT","Unexpected error from async constraint",500),FST_ERR_DEFAULT_ROUTE_INVALID_TYPE:be("FST_ERR_DEFAULT_ROUTE_INVALID_TYPE","The defaultRoute type should be a function",500,TypeError),FST_ERR_INVALID_URL:be("FST_ERR_INVALID_URL","URL must be a string. Received '%s'",400,TypeError),FST_ERR_ROUTE_OPTIONS_NOT_OBJ:be("FST_ERR_ROUTE_OPTIONS_NOT_OBJ",'Options for "%s:%s" route must be an object',500,TypeError),FST_ERR_ROUTE_DUPLICATED_HANDLER:be("FST_ERR_ROUTE_DUPLICATED_HANDLER",'Duplicate handler for "%s:%s" route is not allowed!',500),FST_ERR_ROUTE_HANDLER_NOT_FN:be("FST_ERR_ROUTE_HANDLER_NOT_FN","Error Handler for %s:%s route, if defined, must be a function",500,TypeError),FST_ERR_ROUTE_MISSING_HANDLER:be("FST_ERR_ROUTE_MISSING_HANDLER",'Missing handler function for "%s:%s" route.',500),FST_ERR_ROUTE_METHOD_INVALID:be("FST_ERR_ROUTE_METHOD_INVALID","Provided method is invalid!",500,TypeError),FST_ERR_ROUTE_METHOD_NOT_SUPPORTED:be("FST_ERR_ROUTE_METHOD_NOT_SUPPORTED","%s method is not supported.",500),FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED:be("FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED","Body validation schema for %s:%s route is not supported!",500),FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT:be("FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT","'bodyLimit' option must be an integer > 0. Got '%s'",500,TypeError),FST_ERR_ROUTE_REWRITE_NOT_STR:be("FST_ERR_ROUTE_REWRITE_NOT_STR",'Rewrite url for "%s" needs to be of type "string" but received "%s"',500,TypeError),FST_ERR_REOPENED_CLOSE_SERVER:be("FST_ERR_REOPENED_CLOSE_SERVER","Fastify has already been closed and cannot be reopened"),FST_ERR_REOPENED_SERVER:be("FST_ERR_REOPENED_SERVER","Fastify is already listening"),FST_ERR_INSTANCE_ALREADY_LISTENING:be("FST_ERR_INSTANCE_ALREADY_LISTENING","Fastify instance is already listening. %s"),FST_ERR_PLUGIN_VERSION_MISMATCH:be("FST_ERR_PLUGIN_VERSION_MISMATCH","fastify-plugin: %s - expected '%s' fastify version, '%s' is installed"),FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE:be("FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE","The decorator '%s'%s is not present in %s"),FST_ERR_PLUGIN_CALLBACK_NOT_FN:be("FST_ERR_PLUGIN_CALLBACK_NOT_FN","fastify-plugin: %s",500,TypeError),FST_ERR_PLUGIN_NOT_VALID:be("FST_ERR_PLUGIN_NOT_VALID","fastify-plugin: %s"),FST_ERR_ROOT_PLG_BOOTED:be("FST_ERR_ROOT_PLG_BOOTED","fastify-plugin: %s"),FST_ERR_PARENT_PLUGIN_BOOTED:be("FST_ERR_PARENT_PLUGIN_BOOTED","fastify-plugin: %s"),FST_ERR_PLUGIN_TIMEOUT:be("FST_ERR_PLUGIN_TIMEOUT","fastify-plugin: %s")};function Tme(e,t){return t.cause=e,t}yy.exports=kd;yy.exports.appendStackTrace=Tme;yy.exports.AVVIO_ERRORS_MAP={AVV_ERR_CALLBACK_NOT_FN:kd.FST_ERR_PLUGIN_CALLBACK_NOT_FN,AVV_ERR_PLUGIN_NOT_VALID:kd.FST_ERR_PLUGIN_NOT_VALID,AVV_ERR_ROOT_PLG_BOOTED:kd.FST_ERR_ROOT_PLG_BOOTED,AVV_ERR_PARENT_PLG_LOADED:kd.FST_ERR_PARENT_PLUGIN_BOOTED,AVV_ERR_READY_TIMEOUT:kd.FST_ERR_PLUGIN_TIMEOUT}});var uc=C((xct,vL)=>{"use strict";var Bme=["onRoute","onRegister","onReady","onListen","preClose","onClose"],AL=["onTimeout","onRequest","preParsing","preValidation","preSerialization","preHandler","onSend","onResponse","onError","onRequestAbort"],Rme=AL.concat(Bme),{FST_ERR_HOOK_INVALID_TYPE:Nme,FST_ERR_HOOK_INVALID_HANDLER:kme,FST_ERR_SEND_UNDEFINED_ERR:by,FST_ERR_HOOK_TIMEOUT:Dme,FST_ERR_HOOK_NOT_SUPPORTED:Pme,AVVIO_ERRORS_MAP:hL,appendStackTrace:mL}=$n(),{kChildren:g0,kHooks:yL,kRequestPayloadStream:gL}=cn();function A0(){this.onRequest=[],this.preParsing=[],this.preValidation=[],this.preSerialization=[],this.preHandler=[],this.onResponse=[],this.onSend=[],this.onError=[],this.onRoute=[],this.onRegister=[],this.onReady=[],this.onListen=[],this.onTimeout=[],this.onRequestAbort=[],this.preClose=[]}A0.prototype=Object.create(null);A0.prototype.validate=function(e,t){if(typeof e!="string")throw new Nme;if(Array.isArray(this[e])===!1)throw new Pme(e);if(typeof t!="function")throw new kme(e,Object.prototype.toString.call(t))};A0.prototype.add=function(e,t){this.validate(e,t),this[e].push(t)};function Ome(e){let t=new A0;return t.onRequest=e.onRequest.slice(),t.preParsing=e.preParsing.slice(),t.preValidation=e.preValidation.slice(),t.preSerialization=e.preSerialization.slice(),t.preHandler=e.preHandler.slice(),t.onSend=e.onSend.slice(),t.onResponse=e.onResponse.slice(),t.onError=e.onError.slice(),t.onRoute=e.onRoute.slice(),t.onRegister=e.onRegister.slice(),t.onTimeout=e.onTimeout.slice(),t.onRequestAbort=e.onRequestAbort.slice(),t.onReady=[],t.onListen=[],t.preClose=[],t}function bL(e,t,r,n){let s=r[yL][e],a=0,o=0;u();function c(d){if(d){d.code==="AVV_ERR_READY_TIMEOUT"?d=mL(d,new Dme(e)):d=hL[d.code]!=null?mL(d,new hL[d.code](d.message)):d,n(d);return}n()}function u(d){if(d){c(d);return}if(a===s.length&&o===r[g0].length){a===0&&o===0?c():t(function(p,m){c(p),m(p)});return}if(a===s.length&&o<r[g0].length){let f=r[g0][o++];bL(e,t,f,u);return}t(l(s[a++],r)),u()}function l(d,f){return function(p,m){if(p){m(p);return}if(d.length===1){try{d.call(f,m)}catch(h){m(h)}return}try{let h=d.call(f);if(h&&typeof h.then=="function"){h.then(m,m);return}}catch(h){p=h}m(p)}}}function EL(e){let t=e[yL].onListen,r=t.length,n=0,s=0;a();function a(c){if(c&&e.log.error(c),n===r){for(;s<e[g0].length;){let u=e[g0][s++];EL(u)}return}o(t[n++],e,a)}async function o(c,u,l){if(c.length===1){try{c.call(u,l)}catch(d){l(d)}return}try{let d=c.call(u);if(d&&typeof d.then=="function"){d.then(l,l);return}l()}catch(d){l(d)}}}function Dd(e){return function(r,n,s,a){let o=0;function c(d){if(d||o===r.length){a(d,n,s);return}let f;try{f=e(r[o++],n,s,c)}catch(p){a(p,n,s);return}f&&typeof f.then=="function"&&f.then(u,l)}function u(){c()}function l(d){d||(d=new by),a(d,n,s)}c()}}function $me(e,t,r,n){return e(t,r,n)}var Lme=Dd($me),Mme=Dd(y0),Fme=Dd(y0),Qme=Dd(y0),Ume=Dd(y0);function xL(e,t,r,n,s){let a=0;function o(l,d){if(l){s(l,t,r,n);return}if(d!==void 0&&(n=d),a===e.length){s(null,t,r,n);return}let f;try{f=e[a++](t,r,n,o)}catch(p){s(p,t,r);return}f&&typeof f.then=="function"&&f.then(c,u)}function c(l){o(null,l)}function u(l){l||(l=new by),s(l,t,r,n)}o()}var qme=xL;function jme(e,t,r,n){let s=0;function a(u,l){if(r.sent)return;if(l!==void 0&&(t[gL]=l),u||s===e.length){n(u,t,r);return}let d;try{d=e[s++](t,r,t[gL],a)}catch(f){n(f,t,r);return}d&&typeof d.then=="function"&&d.then(o,c)}function o(u){a(null,u)}function c(u){u||(u=new by),n(u,t,r)}a()}function Hme(e,t,r){let n=0;function s(c){if(c||n===e.length){r(c,t);return}let u;try{u=e[n++](t,s)}catch(l){r(l,t);return}u&&typeof u.then=="function"&&u.then(a,o)}function a(){s()}function o(c){c||(c=new by),r(c,t)}s()}function y0(e,t,r,n){if(r.sent!==!0)return e(t,r,n)}vL.exports={Hooks:A0,buildHooks:Ome,hookRunnerGenerator:Dd,preParsingHookRunner:jme,onResponseHookRunner:Lme,onSendHookRunner:xL,preSerializationHookRunner:qme,onRequestAbortHookRunner:Hme,hookIterator:y0,hookRunnerApplication:bL,onListenHookRunner:EL,preHandlerHookRunner:Fme,preValidationHookRunner:Mme,onRequestHookRunner:Ume,onTimeoutHookRunner:Qme,lifecycleHooks:AL,supportedHooks:Rme}});var kL=C((vct,PI)=>{"use strict";var zme=require("node:http"),Gme=require("node:https"),Vme=require("node:dns"),{FSTDEP011:_L}=io(),{kState:Ln,kOptions:Kme,kServerBindings:Yme}=cn(),{onListenHookRunner:Ey}=uc(),{FST_ERR_HTTP2_INVALID_VERSION:Wme,FST_ERR_REOPENED_CLOSE_SERVER:wL,FST_ERR_REOPENED_SERVER:SL,FST_ERR_LISTEN_OPTIONS_INVALID:Jme}=$n();PI.exports.createServer=Xme;PI.exports.compileValidateHTTPVersion=ege;function TL(e){return`Server listening at ${e}`}function Xme(e,t){let r=RL(e,t);function n(s,...a){let o=a.slice(-1).pop(),c=Object.prototype.toString.call(arguments[0]);if(arguments.length===0)s=DI([]);else if(arguments.length>0&&c!=="[object Object]"&&c!=="[object Function]")_L(),s=DI(Array.from(arguments)),o=s.cb;else if(a.length>1){_L();let l=s.path?[s.path]:[s.port??0,s.host??"localhost"];Object.assign(s,DI([...l,...a]))}else s.cb=o;if(s.signal){if(typeof s.signal.on!="function"&&typeof s.signal.addEventListener!="function")throw new Jme("Invalid options.signal");if(s.signal.aborted)this.close();else{let l=()=>{this.close()};s.signal.addEventListener("abort",l,{once:!0})}}let u;if(s.path==null?u=s.host??"localhost":u=s.host,Object.prototype.hasOwnProperty.call(s,"host")===!1&&(s.host=u),u==="localhost"?s.cb=(l,d)=>{if(l){o(l,d);return}IL.call(this,r,t,e,s,()=>{this[Ln].listening=!0,o(null,d),Ey(this)})}:s.cb=(l,d)=>{if(l){o(l,d);return}this[Ln].listening=!0,o(null,d),Ey(this)},o===void 0)return Zme.call(this,r,s).then(d=>new Promise((f,p)=>{u==="localhost"?IL.call(this,r,t,e,s,()=>{this[Ln].listening=!0,f(d),Ey(this)}):(f(d),Ey(this))}));this.ready(BL.call(this,r,s))}return{server:r,listen:n}}function IL(e,t,r,n,s){this[Ln].listening=!1,Vme.lookup(n.host,{all:!0},(a,o)=>{if(a){s();return}let c=e.listening&&r.serverFactory,u=0,l=0;if(!c){let f=e.address();for(let p of o)if(p.address!==f.address){u++;let m=Object.assign({},n,{host:p.address,port:f.port,cb:A=>{l++,A||this[Yme].push(h),l===u&&s()}}),h=RL(r,t),g=()=>{h.close(()=>{}),r.forceCloseConnections==="idle"?h.closeIdleConnections():typeof h.closeAllConnections=="function"&&r.forceCloseConnections&&h.closeAllConnections()};h.on("upgrade",e.emit.bind(e,"upgrade")),e.on("unref",g),e.on("close",g),e.on("error",g),this[Ln].listening=!1,BL.call(this,h,m)()}}if(u===0){s();return}let d=e.unref;e.unref=function(){d.call(e),e.emit("unref")}})}function BL(e,t){let r=n=>{if(e.removeListener("error",r),n)this[Ln].listening=!1,t.cb(n,null);else{let s=NL.call(this,e,t.listenTextResolver||TL);t.cb(null,s)}};return n=>{if(n!=null)return t.cb(n);if(this[Ln].listening&&this[Ln].closing)return t.cb(new wL,null);if(this[Ln].listening)return t.cb(new SL,null);e.once("error",r),this[Ln].closing||(e.listen(t,r),this[Ln].listening=!0)}}function Zme(e,t){return this[Ln].listening&&this[Ln].closing?Promise.reject(new wL):this[Ln].listening?Promise.reject(new SL):this.ready().then(()=>{let r,n=new Promise((a,o)=>{r=c=>{this[Ln].listening=!1,o(c)},e.once("error",r)}),s=new Promise((a,o)=>{e.listen(t,()=>{e.removeListener("error",r),a(NL.call(this,e,t.listenTextResolver||TL))}),this[Ln].listening=!0});return Promise.race([n,s])})}function ege(e){let t=!1,r=new Map;return e.serverFactory&&(t=!0),e.http2?(r.set("2.0",!0),e.https&&e.https.allowHTTP1===!0&&(r.set("1.1",!0),r.set("1.0",!0))):(r.set("1.1",!0),r.set("1.0",!0)),function(s){return t||r.has(s)}}function RL(e,t){let r=null,n=e.https===!0?{}:e.https;return e.serverFactory?r=e.serverFactory(t,e):e.http2?(typeof n=="object"?r=CL().createSecureServer(n,t):r=CL().createServer(t),r.on("session",rge(e.http2SessionTimeout))):(n?r=Gme.createServer(n,t):r=zme.createServer(e.http,t),r.keepAliveTimeout=e.keepAliveTimeout,r.requestTimeout=e.requestTimeout,e.maxRequestsPerSocket>0&&(r.maxRequestsPerSocket=e.maxRequestsPerSocket)),e.serverFactory||r.setTimeout(e.connectionTimeout),r}function DI(e){if(e.length===0)return{port:0,host:"localhost"};let r={cb:typeof e[e.length-1]=="function"?e.pop():void 0},n=e[0],s=e.length,a=e[s-1];return typeof n=="string"&&isNaN(n)?(r.path=n,r.backlog=s>1?a:void 0):(r.port=s>=1&&Number.isInteger(n)?n:tge(n),r.host=s>=2&&e[1]?e[1]:"localhost",r.backlog=s>=3?e[2]:void 0),r}function tge(e){let t=Number(e);return t>=0&&!Number.isNaN(t)&&Number.isInteger(t)?t:0}function NL(e,t){let r=e.address(),n=typeof r=="string";n||(r.address.indexOf(":")===-1?r=r.address+":"+r.port:r="["+r.address+"]:"+r.port),r=(n?"":"http"+(this[Kme].https?"s":"")+"://")+r;let s=t(r);return this.log.info(s),r}function CL(){try{return require("node:http2")}catch{throw new Wme}}function rge(e){return function(t){t.setTimeout(e,nge)}}function nge(){this.close()}});var MI=C((_ct,PL)=>{"use strict";var{kSchemaHeaders:_y,kSchemaParams:OI,kSchemaQuerystring:$I,kSchemaBody:LI,kSchemaResponse:DL}=cn(),sge=/^[1-5]{1}[0-9]{2}$|^[1-5]xx$|^default$/,{FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX:ige}=$n(),{FSTWRN001:xy}=io();function age(e,t){if(!e.schema||!e.schema.response)return;let{method:r,url:n}=e.config||{};e[DL]=Object.keys(e.schema.response).reduce(function(s,a){let o=e.schema.response[a];if(a=a.toLowerCase(),!sge.exec(a))throw new ige;if(o.content){let c={};for(let u of Object.keys(o.content)){let l=o.content[u].schema;c[u]=t({schema:l,url:n,method:r,httpStatus:a,contentType:u})}s[a]=c}else s[a]=t({schema:o,url:n,method:r,httpStatus:a});return s},{})}function oge(e,t,r){let{schema:n}=e;if(!n)return;let{method:s,url:a}=e.config||{},o=n.headers;if(o&&(r||Object.getPrototypeOf(o)!==Object.prototype))e[_y]=t({schema:o,method:s,url:a,httpPart:"headers"});else if(o){let c={};Object.keys(o).forEach(u=>{c[u]=o[u]}),c.required instanceof Array&&(c.required=c.required.map(u=>u.toLowerCase())),o.properties&&(c.properties={},Object.keys(o.properties).forEach(u=>{c.properties[u.toLowerCase()]=o.properties[u]})),e[_y]=t({schema:c,method:s,url:a,httpPart:"headers"})}else Object.prototype.hasOwnProperty.call(n,"headers")&&xy("headers",s,a);n.body?e[LI]=t({schema:n.body,method:s,url:a,httpPart:"body"}):Object.prototype.hasOwnProperty.call(n,"body")&&xy("body",s,a),n.querystring?e[$I]=t({schema:n.querystring,method:s,url:a,httpPart:"querystring"}):Object.prototype.hasOwnProperty.call(n,"querystring")&&xy("querystring",s,a),n.params?e[OI]=t({schema:n.params,method:s,url:a,httpPart:"params"}):Object.prototype.hasOwnProperty.call(n,"params")&&xy("params",s,a)}function vy(e,t,r){let n=t[r]===void 0,s=e&&e(n?null:t[r]);if(s?.then)return s.then(o=>a(o)).catch(o=>o);return a(s);function a(o){return o===!1?e.errors:o&&o.error?o.error:(o&&o.value&&(t[r]=o.value),!1)}}function Iy(e,t,r){let n=r===void 0;if(n||!r.skipParams){let a=vy(e[OI],t,"params");if(a)return typeof a.then!="function"?lc(a,"params",e.schemaErrorFormatter):cge(a,e,t)}if(n||!r.skipBody){let a=vy(e[LI],t,"body");if(a)return typeof a.then!="function"?lc(a,"body",e.schemaErrorFormatter):uge(a,e,t)}if(n||!r.skipQuery){let a=vy(e[$I],t,"query");if(a)return typeof a.then!="function"?lc(a,"querystring",e.schemaErrorFormatter):lge(a,e,t)}let s=vy(e[_y],t,"headers");return s?typeof s.then!="function"?lc(s,"headers",e.schemaErrorFormatter):dge(s,e,t):!1}function cge(e,t,r){return e.then(n=>n?lc(n,"params",t.schemaErrorFormatter):Iy(t,r,{skipParams:!0}))}function uge(e,t,r){return e.then(n=>n?lc(n,"body",t.schemaErrorFormatter):Iy(t,r,{skipParams:!0,skipBody:!0}))}function lge(e,t,r){return e.then(n=>n?lc(n,"querystring",t.schemaErrorFormatter):Iy(t,r,{skipParams:!0,skipBody:!0,skipQuery:!0}))}function dge(e,t,r){return e.then(n=>n?lc(n,"headers",t.schemaErrorFormatter):!1)}function lc(e,t,r){if(e instanceof Error)return e.statusCode=e.statusCode||400,e.code=e.code||"FST_ERR_VALIDATION",e.validationContext=e.validationContext||t,e;let n=r(e,t);return n.statusCode=n.statusCode||400,n.code=n.code||"FST_ERR_VALIDATION",n.validation=e,n.validationContext=t,n}PL.exports={symbols:{bodySchema:LI,querystringSchema:$I,responseSchema:DL,paramsSchema:OI,headersSchema:_y},compileSchemasForValidation:oge,compileSchemasForSerialization:age,validate:Iy}});var FI=C((Ict,$L)=>{"use strict";var{kReplyIsError:OL,kReplyHijacked:fge}=cn();function pge(e,t){e.then(function(r){if(t[fge]!==!0&&(r!==void 0||t.sent===!1&&t.raw.headersSent===!1&&t.request.raw.aborted===!1))try{t.send(r)}catch(n){t[OL]=!0,t.send(n)}},function(r){if(t.sent===!0){t.log.error({err:r},"Promise errored, but reply.sent = true was set");return}t[OL]=!0;try{t.send(r)}catch(n){t.send(n)}})}$L.exports=pge});var jI=C((Cct,qI)=>{"use strict";var{validate:hge}=MI(),{preValidationHookRunner:mge,preHandlerHookRunner:gge}=uc(),Age=FI(),{kReplyIsError:Cy,kRouteContext:fc}=cn();function yge(e,t,r){if(r.sent===!0)return;if(e!=null){r[Cy]=!0,r.send(e);return}let n=t.raw.method,s=t.headers,a=t[fc];if(n==="GET"||n==="HEAD"){dc(t,r);return}let o=s["content-type"];if(n==="POST"||n==="PUT"||n==="PATCH"||n==="TRACE"||n==="SEARCH"){o===void 0?s["transfer-encoding"]===void 0&&(s["content-length"]==="0"||s["content-length"]===void 0)?dc(t,r):a.contentTypeParser.run("",dc,t,r):a.contentTypeParser.run(o,dc,t,r);return}if(n==="OPTIONS"||n==="DELETE"){o!==void 0&&(s["transfer-encoding"]!==void 0||s["content-length"]!==void 0)?a.contentTypeParser.run(o,dc,t,r):dc(t,r);return}dc(t,r)}function dc(e,t){try{e[fc].preValidation!==null?mge(e[fc].preValidation,e,t,QI):QI(null,e,t)}catch(r){QI(r,e,t)}}function QI(e,t,r){if(r.sent===!0)return;if(e!=null){r[Cy]=!0,r.send(e);return}let n=hge(r[fc],t);if(n&&typeof n.then=="function"||!1){let a=LL.bind(null,t,r);n.then(a,a)}else LL(t,r,n)}function LL(e,t,r){if(r){if(t[fc].attachValidation===!1){t.send(r);return}t.request.validationError=r}e[fc].preHandler!==null?gge(e[fc].preHandler,e,t,UI):UI(null,e,t)}function UI(e,t,r){if(r.sent)return;if(e!=null){r[Cy]=!0,r.send(e);return}let n;try{n=t[fc].handler(t,r)}catch(s){r[Cy]=!0,r.send(s);return}n!==void 0&&(n!==null&&typeof n.then=="function"?Age(n,r):r.send(n))}qI.exports=yge;qI.exports[Symbol.for("internals")]={handler:dc,preHandlerCallback:UI}});var FL=C((wct,ML)=>{"use strict";function Pd(){}var bge={fatal:Pd,error:Pd,warn:Pd,info:Pd,debug:Pd,trace:Pd};Object.defineProperty(ML,"exports",{get(){return Object.create(bge)}})});var zI=C((Sct,qL)=>{"use strict";var b0=e=>e&&typeof e.message=="string",HI=e=>{if(!e)return;let t=e.cause;if(typeof t=="function"){let r=e.cause();return b0(r)?r:void 0}else return b0(t)?t:void 0},QL=(e,t)=>{if(!b0(e))return"";let r=e.stack||"";if(t.has(e))return r+`
causes have become circular...`;let n=HI(e);return n?(t.add(e),r+`
caused by: `+QL(n,t)):r},Ege=e=>QL(e,new Set),UL=(e,t,r)=>{if(!b0(e))return"";let n=r?"":e.message||"";if(t.has(e))return n+": ...";let s=HI(e);if(s){t.add(e);let a=typeof e.cause=="function";return n+(a?"":": ")+UL(s,t,a)}else return n},xge=e=>UL(e,new Set);qL.exports={isErrorLike:b0,getErrorCause:HI,stackWithCauses:Ege,messageWithCauses:xge}});var GI=C((Tct,HL)=>{"use strict";var vge=Symbol("circular-ref-tag"),wy=Symbol("pino-raw-err-ref"),jL=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},aggregateErrors:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[wy]},set:function(e){this[wy]=e}}});Object.defineProperty(jL,wy,{writable:!0,value:{}});HL.exports={pinoErrProto:jL,pinoErrorSymbols:{seen:vge,rawSymbol:wy}}});var VL=C((Bct,GL)=>{"use strict";GL.exports=KI;var{messageWithCauses:_ge,stackWithCauses:Ige,isErrorLike:zL}=zI(),{pinoErrProto:Cge,pinoErrorSymbols:wge}=GI(),{seen:VI}=wge,{toString:Sge}=Object.prototype;function KI(e){if(!zL(e))return e;e[VI]=void 0;let t=Object.create(Cge);t.type=Sge.call(e.constructor)==="[object Function]"?e.constructor.name:e.name,t.message=_ge(e),t.stack=Ige(e),Array.isArray(e.errors)&&(t.aggregateErrors=e.errors.map(r=>KI(r)));for(let r in e)if(t[r]===void 0){let n=e[r];zL(n)?r!=="cause"&&!Object.prototype.hasOwnProperty.call(n,VI)&&(t[r]=KI(n)):t[r]=n}return delete e[VI],t.raw=e,t}});var YL=C((Rct,KL)=>{"use strict";KL.exports=Ty;var{isErrorLike:YI}=zI(),{pinoErrProto:Tge,pinoErrorSymbols:Bge}=GI(),{seen:Sy}=Bge,{toString:Rge}=Object.prototype;function Ty(e){if(!YI(e))return e;e[Sy]=void 0;let t=Object.create(Tge);t.type=Rge.call(e.constructor)==="[object Function]"?e.constructor.name:e.name,t.message=e.message,t.stack=e.stack,Array.isArray(e.errors)&&(t.aggregateErrors=e.errors.map(r=>Ty(r))),YI(e.cause)&&!Object.prototype.hasOwnProperty.call(e.cause,Sy)&&(t.cause=Ty(e.cause));for(let r in e)if(t[r]===void 0){let n=e[r];YI(n)?Object.prototype.hasOwnProperty.call(n,Sy)||(t[r]=Ty(n)):t[r]=n}return delete e[Sy],t.raw=e,t}});var ZL=C((Nct,XL)=>{"use strict";XL.exports={mapHttpRequest:Nge,reqSerializer:JL};var WI=Symbol("pino-raw-req-ref"),WL=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},query:{enumerable:!0,writable:!0,value:""},params:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[WI]},set:function(e){this[WI]=e}}});Object.defineProperty(WL,WI,{writable:!0,value:{}});function JL(e){let t=e.info||e.socket,r=Object.create(WL);if(r.id=typeof e.id=="function"?e.id():e.id||(e.info?e.info.id:void 0),r.method=e.method,e.originalUrl)r.url=e.originalUrl;else{let n=e.path;r.url=typeof n=="string"?n:e.url?e.url.path||e.url:void 0}return e.query&&(r.query=e.query),e.params&&(r.params=e.params),r.headers=e.headers,r.remoteAddress=t&&t.remoteAddress,r.remotePort=t&&t.remotePort,r.raw=e.raw||e,r}function Nge(e){return{req:JL(e)}}});var nM=C((kct,rM)=>{"use strict";rM.exports={mapHttpResponse:kge,resSerializer:tM};var JI=Symbol("pino-raw-res-ref"),eM=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[JI]},set:function(e){this[JI]=e}}});Object.defineProperty(eM,JI,{writable:!0,value:{}});function tM(e){let t=Object.create(eM);return t.statusCode=e.headersSent?e.statusCode:null,t.headers=e.getHeaders?e.getHeaders():e._headers,t.raw=e,t}function kge(e){return{res:tM(e)}}});var ZI=C((Dct,sM)=>{"use strict";var XI=VL(),Dge=YL(),By=ZL(),Ry=nM();sM.exports={err:XI,errWithCause:Dge,mapHttpRequest:By.mapHttpRequest,mapHttpResponse:Ry.mapHttpResponse,req:By.reqSerializer,res:Ry.resSerializer,wrapErrorSerializer:function(t){return t===XI?t:function(n){return t(XI(n))}},wrapRequestSerializer:function(t){return t===By.reqSerializer?t:function(n){return t(By.reqSerializer(n))}},wrapResponseSerializer:function(t){return t===Ry.resSerializer?t:function(n){return t(Ry.resSerializer(n))}}}});var eC=C((Pct,iM)=>{"use strict";function Pge(e,t){return t}iM.exports=function(){let t=Error.prepareStackTrace;Error.prepareStackTrace=Pge;let r=new Error().stack;if(Error.prepareStackTrace=t,!Array.isArray(r))return;let n=r.slice(2),s=[];for(let a of n)a&&s.push(a.getFileName());return s}});var oM=C((Oct,aM)=>{"use strict";aM.exports=Oge;function Oge(e={}){let{ERR_PATHS_MUST_BE_STRINGS:t=()=>"fast-redact - Paths must be (non-empty) strings",ERR_INVALID_PATH:r=n=>`fast-redact \u2013 Invalid path (${n})`}=e;return function({paths:s}){s.forEach(a=>{if(typeof a!="string")throw Error(t());try{if(//.test(a))throw Error();let o=(a[0]==="["?"":".")+a.replace(/^\*/,"\u3007").replace(/\.\*/g,".\u3007").replace(/\[\*\]/g,"[\u3007]");if(/\n|\r|;/.test(o)||/\/\*/.test(o))throw Error();Function(`
            'use strict'
            const o = new Proxy({}, { get: () => o, set: () => { throw Error() } });
            const \u3007 = null;
            o${o}
            if ([o${o}].length !== 1) throw Error()`)()}catch{throw Error(r(a))}})}}});var Ny=C(($ct,cM)=>{"use strict";cM.exports=/[^.[\]]+|\[((?:.)*?)\]/g});var lM=C((Lct,uM)=>{"use strict";var $ge=Ny();uM.exports=Lge;function Lge({paths:e}){let t=[];var r=0;let n=e.reduce(function(s,a,o){var c=a.match($ge).map(d=>d.replace(/'|"|`/g,""));let u=a[0]==="[";c=c.map(d=>d[0]==="["?d.substr(1,d.length-2):d);let l=c.indexOf("*");if(l>-1){let d=c.slice(0,l),f=d.join("."),p=c.slice(l+1,c.length),m=p.length>0;r++,t.push({before:d,beforeStr:f,after:p,nested:m})}else s[a]={path:c,val:void 0,precensored:!1,circle:"",escPath:JSON.stringify(a),leadingBracket:u};return s},{});return{wildcards:t,wcLen:r,secret:n}}});var fM=C((Mct,dM)=>{"use strict";var Mge=Ny();dM.exports=Fge;function Fge({secret:e,serialize:t,wcLen:r,strict:n,isCensorFct:s,censorFctTakesPath:a},o){let c=Function("o",`
    if (typeof o !== 'object' || o == null) {
      ${jge(n,t)}
    }
    const { censor, secret } = this
    const originalSecret = {}
    const secretKeys = Object.keys(secret)
    for (var i = 0; i < secretKeys.length; i++) {
      originalSecret[secretKeys[i]] = secret[secretKeys[i]]
    }

    ${Qge(e,s,a)}
    this.compileRestore()
    ${Uge(r>0,s,a)}
    this.secret = originalSecret
    ${qge(t)}
  `).bind(o);return c.state=o,t===!1&&(c.restore=u=>o.restore(u)),c}function Qge(e,t,r){return Object.keys(e).map(n=>{let{escPath:s,leadingBracket:a,path:o}=e[n],c=a?1:0,u=a?"":".",l=[];for(var d;(d=Mge.exec(n))!==null;){let[,h]=d,{index:g,input:A}=d;g>c&&l.push(A.substring(0,g-(h?0:1)))}var f=l.map(h=>`o${u}${h}`).join(" && ");f.length===0?f+=`o${u}${n} != null`:f+=` && o${u}${n} != null`;let p=`
      switch (true) {
        ${l.reverse().map(h=>`
          case o${u}${h} === censor:
            secret[${s}].circle = ${JSON.stringify(h)}
            break
        `).join(`
`)}
      }
    `,m=r?`val, ${JSON.stringify(o)}`:"val";return`
      if (${f}) {
        const val = o${u}${n}
        if (val === censor) {
          secret[${s}].precensored = true
        } else {
          secret[${s}].val = val
          o${u}${n} = ${t?`censor(${m})`:"censor"}
          ${p}
        }
      }
    `}).join(`
`)}function Uge(e,t,r){return e===!0?`
    {
      const { wildcards, wcLen, groupRedact, nestedRedact } = this
      for (var i = 0; i < wcLen; i++) {
        const { before, beforeStr, after, nested } = wildcards[i]
        if (nested === true) {
          secret[beforeStr] = secret[beforeStr] || []
          nestedRedact(secret[beforeStr], o, before, after, censor, ${t}, ${r})
        } else secret[beforeStr] = groupRedact(o, before, censor, ${t}, ${r})
      }
    }
  `:""}function qge(e){return e===!1?"return o":`
    var s = this.serialize(o)
    this.restore(o)
    return s
  `}function jge(e,t){return e===!0?"throw Error('fast-redact: primitives cannot be redacted')":t===!1?"return o":"return this.serialize(o)"}});var rC=C((Fct,mM)=>{"use strict";mM.exports={groupRedact:zge,groupRestore:Hge,nestedRedact:Vge,nestedRestore:Gge};function Hge({keys:e,values:t,target:r}){if(r==null||typeof r=="string")return;let n=e.length;for(var s=0;s<n;s++){let a=e[s];r[a]=t[s]}}function zge(e,t,r,n,s){let a=pM(e,t);if(a==null||typeof a=="string")return{keys:null,values:null,target:a,flat:!0};let o=Object.keys(a),c=o.length,u=t.length,l=s?[...t]:void 0,d=new Array(c);for(var f=0;f<c;f++){let p=o[f];d[f]=a[p],s?(l[u]=p,a[p]=r(a[p],l)):n?a[p]=r(a[p]):a[p]=r}return{keys:o,values:d,target:a,flat:!0}}function Gge(e){for(let t=0;t<e.length;t++){let{target:r,path:n,value:s}=e[t],a=r;for(let o=n.length-1;o>0;o--)a=a[n[o]];a[n[0]]=s}}function Vge(e,t,r,n,s,a,o){let c=pM(t,r);if(c==null)return;let u=Object.keys(c),l=u.length;for(var d=0;d<l;d++){let f=u[d];Kge(e,c,f,r,n,s,a,o)}return e}function tC(e,t){return e!=null?"hasOwn"in Object?Object.hasOwn(e,t):Object.prototype.hasOwnProperty.call(e,t):!1}function Kge(e,t,r,n,s,a,o,c){let u=s.length,l=u-1,d=r;var f=-1,p,m,h,g=null,A=null,y,v,b=!1,E=0,I=0,w=Yge();if(h=p=t[r],typeof p=="object"){for(;p!=null&&++f<u&&(I+=1,r=s[f],g=h,!(r!=="*"&&!A&&!(typeof p=="object"&&r in p)));)if(!(r==="*"&&(A==="*"&&(b=!0),A=r,f!==l))){if(A){let T=Object.keys(p);for(var S=0;S<T.length;S++){let B=T[S];if(v=p[B],y=r==="*",b)w=ao(w,B,I),E=f,h=hM(v,E-1,r,n,s,a,o,c,d,p,m,h,y,B,f,l,w,e,t[d],I+1);else if(y||typeof v=="object"&&v!==null&&r in v){if(y?h=v:h=v[r],m=f!==l?h:o?c?a(h,[...n,d,...s]):a(h):a,y){let N=E0(ao(w,B,I),h,t[d]);e.push(N),p[B]=m}else if(v[r]!==m)if(m===void 0&&a!==void 0||tC(v,r)&&m===h)w=ao(w,B,I);else{w=ao(w,B,I);let N=E0(ao(w,r,I+1),h,t[d]);e.push(N),v[r]=m}}}A=null}else{if(h=p[r],w=ao(w,r,I),m=f!==l?h:o?c?a(h,[...n,d,...s]):a(h):a,!(tC(p,r)&&m===h||m===void 0&&a!==void 0)){let T=E0(w,h,t[d]);e.push(T),p[r]=m}p=p[r]}if(typeof p!="object")break}}}function pM(e,t){for(var r=-1,n=t.length,s=e;s!=null&&++r<n;)s=s[t[r]];return s}function hM(e,t,r,n,s,a,o,c,u,l,d,f,p,m,h,g,A,y,v,b){if(t===0&&(p||typeof e=="object"&&e!==null&&r in e)){if(p?f=e:f=e[r],d=h!==g?f:o?c?a(f,[...n,u,...s]):a(f):a,p){let E=E0(A,f,v);y.push(E),l[m]=d}else if(e[r]!==d){if(!(d===void 0&&a!==void 0||tC(e,r)&&d===f)){let E=E0(ao(A,r,b+1),f,v);y.push(E),e[r]=d}}}for(let E in e)typeof e[E]=="object"&&(A=ao(A,E,b),hM(e[E],t-1,r,n,s,a,o,c,u,l,d,f,p,m,h,g,A,y,v,b+1))}function Yge(){return{parent:null,key:null,children:[],depth:0}}function ao(e,t,r){if(e.depth===r)return ao(e.parent,t,r);var n={parent:e,key:t,depth:r,children:[]};return e.children.push(n),n}function E0(e,t,r){let n=e,s=[];do s.push(n.key),n=n.parent;while(n.parent!=null);return{path:s,value:t,target:r}}});var AM=C((Qct,gM)=>{"use strict";var{groupRestore:Wge,nestedRestore:Jge}=rC();gM.exports=Xge;function Xge(){return function(){if(this.restore){this.restore.state.secret=this.secret;return}let{secret:t,wcLen:r}=this,n=Object.keys(t),s=Zge(t,n),a=r>0,o=a?{secret:t,groupRestore:Wge,nestedRestore:Jge}:{secret:t};this.restore=Function("o",eAe(s,n,a)).bind(o),this.restore.state=o}}function Zge(e,t){return t.map(r=>{let{circle:n,escPath:s,leadingBracket:a}=e[r],c=n?`o.${n} = secret[${s}].val`:`o${a?"":"."}${r} = secret[${s}].val`,u=`secret[${s}].val = undefined`;return`
      if (secret[${s}].val !== undefined) {
        try { ${c} } catch (e) {}
        ${u}
      }
    `}).join("")}function eAe(e,t,r){return`
    const secret = this.secret
    ${r===!0?`
    const keys = Object.keys(secret)
    const len = keys.length
    for (var i = len - 1; i >= ${t.length}; i--) {
      const k = keys[i]
      const o = secret[k]
      if (o) {
        if (o.flat === true) this.groupRestore(o)
        else this.nestedRestore(o)
        secret[k] = null
      }
    }
  `:""}
    ${e}
    return o
  `}});var bM=C((Uct,yM)=>{"use strict";yM.exports=tAe;function tAe(e){let{secret:t,censor:r,compileRestore:n,serialize:s,groupRedact:a,nestedRedact:o,wildcards:c,wcLen:u}=e,l=[{secret:t,censor:r,compileRestore:n}];return s!==!1&&l.push({serialize:s}),u>0&&l.push({groupRedact:a,nestedRedact:o,wildcards:c,wcLen:u}),Object.assign(...l)}});var vM=C((qct,xM)=>{"use strict";var EM=oM(),rAe=lM(),nAe=fM(),sAe=AM(),{groupRedact:iAe,nestedRedact:aAe}=rC(),oAe=bM(),cAe=Ny(),uAe=EM(),nC=e=>e;nC.restore=nC;var lAe="[REDACTED]";sC.rx=cAe;sC.validator=EM;xM.exports=sC;function sC(e={}){let t=Array.from(new Set(e.paths||[])),r="serialize"in e&&(e.serialize===!1||typeof e.serialize=="function")?e.serialize:JSON.stringify,n=e.remove;if(n===!0&&r!==JSON.stringify)throw Error("fast-redact \u2013 remove option may only be set when serializer is JSON.stringify");let s=n===!0?void 0:"censor"in e?e.censor:lAe,a=typeof s=="function",o=a&&s.length>1;if(t.length===0)return r||nC;uAe({paths:t,serialize:r,censor:s});let{wildcards:c,wcLen:u,secret:l}=rAe({paths:t,censor:s}),d=sAe(),f="strict"in e?e.strict:!0;return nAe({secret:l,wcLen:u,serialize:r,strict:f,isCensorFct:a,censorFctTakesPath:o},oAe({secret:l,censor:s,compileRestore:d,serialize:r,groupRedact:iAe,nestedRedact:aAe,wildcards:c,wcLen:u}))}});var Od=C((jct,_M)=>{"use strict";var dAe=Symbol("pino.setLevel"),fAe=Symbol("pino.getLevel"),pAe=Symbol("pino.levelVal"),hAe=Symbol("pino.levelComp"),mAe=Symbol("pino.useLevelLabels"),gAe=Symbol("pino.useOnlyCustomLevels"),AAe=Symbol("pino.mixin"),yAe=Symbol("pino.lsCache"),bAe=Symbol("pino.chindings"),EAe=Symbol("pino.asJson"),xAe=Symbol("pino.write"),vAe=Symbol("pino.redactFmt"),_Ae=Symbol("pino.time"),IAe=Symbol("pino.timeSliceIndex"),CAe=Symbol("pino.stream"),wAe=Symbol("pino.stringify"),SAe=Symbol("pino.stringifySafe"),TAe=Symbol("pino.stringifiers"),BAe=Symbol("pino.end"),RAe=Symbol("pino.formatOpts"),NAe=Symbol("pino.messageKey"),kAe=Symbol("pino.errorKey"),DAe=Symbol("pino.nestedKey"),PAe=Symbol("pino.nestedKeyStr"),OAe=Symbol("pino.mixinMergeStrategy"),$Ae=Symbol("pino.msgPrefix"),LAe=Symbol("pino.wildcardFirst"),MAe=Symbol.for("pino.serializers"),FAe=Symbol.for("pino.formatters"),QAe=Symbol.for("pino.hooks"),UAe=Symbol.for("pino.metadata");_M.exports={setLevelSym:dAe,getLevelSym:fAe,levelValSym:pAe,levelCompSym:hAe,useLevelLabelsSym:mAe,mixinSym:AAe,lsCacheSym:yAe,chindingsSym:bAe,asJsonSym:EAe,writeSym:xAe,serializersSym:MAe,redactFmtSym:vAe,timeSym:_Ae,timeSliceIndexSym:IAe,streamSym:CAe,stringifySym:wAe,stringifySafeSym:SAe,stringifiersSym:TAe,endSym:BAe,formatOptsSym:RAe,messageKeySym:NAe,errorKeySym:kAe,nestedKeySym:DAe,wildcardFirstSym:LAe,needsMetadataGsym:UAe,useOnlyCustomLevelsSym:gAe,formattersSym:FAe,hooksSym:QAe,nestedKeyStrSym:PAe,mixinMergeStrategySym:OAe,msgPrefixSym:$Ae}});var oC=C((Hct,SM)=>{"use strict";var aC=vM(),{redactFmtSym:qAe,wildcardFirstSym:ky}=Od(),{rx:iC,validator:jAe}=aC,IM=jAe({ERR_PATHS_MUST_BE_STRINGS:()=>"pino \u2013 redacted paths must be strings",ERR_INVALID_PATH:e=>`pino \u2013 redact paths array contains an invalid path (${e})`}),CM="[Redacted]",wM=!1;function HAe(e,t){let{paths:r,censor:n}=zAe(e),s=r.reduce((c,u)=>{iC.lastIndex=0;let l=iC.exec(u),d=iC.exec(u),f=l[1]!==void 0?l[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):l[0];if(f==="*"&&(f=ky),d===null)return c[f]=null,c;if(c[f]===null)return c;let{index:p}=d,m=`${u.substr(p,u.length-1)}`;return c[f]=c[f]||[],f!==ky&&c[f].length===0&&c[f].push(...c[ky]||[]),f===ky&&Object.keys(c).forEach(function(h){c[h]&&c[h].push(m)}),c[f].push(m),c},{}),a={[qAe]:aC({paths:r,censor:n,serialize:t,strict:wM})},o=(...c)=>t(typeof n=="function"?n(...c):n);return[...Object.keys(s),...Object.getOwnPropertySymbols(s)].reduce((c,u)=>{if(s[u]===null)c[u]=l=>o(l,[u]);else{let l=typeof n=="function"?(d,f)=>n(d,[u,...f]):n;c[u]=aC({paths:s[u],censor:l,serialize:t,strict:wM})}return c},a)}function zAe(e){if(Array.isArray(e))return e={paths:e,censor:CM},IM(e),e;let{paths:t,censor:r=CM,remove:n}=e;if(Array.isArray(t)===!1)throw Error("pino \u2013 redact must contain an array of strings");return n===!0&&(r=void 0),IM({paths:t,censor:r}),{paths:t,censor:r}}SM.exports=HAe});var BM=C((zct,TM)=>{"use strict";var GAe=()=>"",VAe=()=>`,"time":${Date.now()}`,KAe=()=>`,"time":${Math.round(Date.now()/1e3)}`,YAe=()=>`,"time":"${new Date(Date.now()).toISOString()}"`;TM.exports={nullTime:GAe,epochTime:VAe,unixTime:KAe,isoTime:YAe}});var NM=C((Gct,RM)=>{"use strict";function WAe(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}RM.exports=JAe;function JAe(e,t,r){var n=r&&r.stringify||WAe,s=1;if(typeof e=="object"&&e!==null){var a=t.length+s;if(a===1)return e;var o=new Array(a);o[0]=n(e);for(var c=1;c<a;c++)o[c]=n(t[c]);return o.join(" ")}if(typeof e!="string")return e;var u=t.length;if(u===0)return e;for(var l="",d=1-s,f=-1,p=e&&e.length||0,m=0;m<p;){if(e.charCodeAt(m)===37&&m+1<p){switch(f=f>-1?f:0,e.charCodeAt(m+1)){case 100:case 102:if(d>=u||t[d]==null)break;f<m&&(l+=e.slice(f,m)),l+=Number(t[d]),f=m+2,m++;break;case 105:if(d>=u||t[d]==null)break;f<m&&(l+=e.slice(f,m)),l+=Math.floor(Number(t[d])),f=m+2,m++;break;case 79:case 111:case 106:if(d>=u||t[d]===void 0)break;f<m&&(l+=e.slice(f,m));var h=typeof t[d];if(h==="string"){l+="'"+t[d]+"'",f=m+2,m++;break}if(h==="function"){l+=t[d].name||"<anonymous>",f=m+2,m++;break}l+=n(t[d]),f=m+2,m++;break;case 115:if(d>=u)break;f<m&&(l+=e.slice(f,m)),l+=String(t[d]),f=m+2,m++;break;case 37:f<m&&(l+=e.slice(f,m)),l+="%",f=m+2,m++,d--;break}++d}++m}return f===-1?e:(f<p&&(l+=e.slice(f)),l)}});var uC=C((Vct,cC)=>{"use strict";if(typeof SharedArrayBuffer<"u"&&typeof Atomics<"u"){let t=function(r){if((r>0&&r<1/0)===!1)throw typeof r!="number"&&typeof r!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");Atomics.wait(e,0,0,Number(r))},e=new Int32Array(new SharedArrayBuffer(4));cC.exports=t}else{let e=function(t){if((t>0&&t<1/0)===!1)throw typeof t!="number"&&typeof t!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");let n=Date.now()+Number(t);for(;n>Date.now(););};cC.exports=e}});var FM=C((Kct,MM)=>{"use strict";var Mr=require("fs"),XAe=require("events"),ZAe=require("util").inherits,kM=require("path"),dC=uC(),Dy=100,Py=Buffer.allocUnsafe(0),eye=16*1024,DM="buffer",PM="utf8";function OM(e,t){t._opening=!0,t._writing=!0,t._asyncDrainScheduled=!1;function r(a,o){if(a){t._reopening=!1,t._writing=!1,t._opening=!1,t.sync?process.nextTick(()=>{t.listenerCount("error")>0&&t.emit("error",a)}):t.emit("error",a);return}let c=t._reopening;t.fd=o,t.file=e,t._reopening=!1,t._opening=!1,t._writing=!1,t.sync?process.nextTick(()=>t.emit("ready")):t.emit("ready"),!t.destroyed&&(!t._writing&&t._len>t.minLength||t._flushPending?t._actualWrite():c&&process.nextTick(()=>t.emit("drain")))}let n=t.append?"a":"w",s=t.mode;if(t.sync)try{t.mkdir&&Mr.mkdirSync(kM.dirname(e),{recursive:!0});let a=Mr.openSync(e,n,s);r(null,a)}catch(a){throw r(a),a}else t.mkdir?Mr.mkdir(kM.dirname(e),{recursive:!0},a=>{if(a)return r(a);Mr.open(e,n,s,r)}):Mr.open(e,n,s,r)}function Li(e){if(!(this instanceof Li))return new Li(e);let{fd:t,dest:r,minLength:n,maxLength:s,maxWrite:a,sync:o,append:c=!0,mkdir:u,retryEAGAIN:l,fsync:d,contentMode:f,mode:p}=e||{};t=t||r,this._len=0,this.fd=-1,this._bufs=[],this._lens=[],this._writing=!1,this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this._flushPending=!1,this._hwm=Math.max(n||0,16387),this.file=null,this.destroyed=!1,this.minLength=n||0,this.maxLength=s||0,this.maxWrite=a||eye,this.sync=o||!1,this.writable=!0,this._fsync=d||!1,this.append=c||!1,this.mode=p,this.retryEAGAIN=l||(()=>!0),this.mkdir=u||!1;let m,h;if(f===DM)this._writingBuf=Py,this.write=nye,this.flush=iye,this.flushSync=oye,this._actualWrite=uye,m=()=>Mr.writeSync(this.fd,this._writingBuf),h=()=>Mr.write(this.fd,this._writingBuf,this.release);else if(f===void 0||f===PM)this._writingBuf="",this.write=rye,this.flush=sye,this.flushSync=aye,this._actualWrite=cye,m=()=>Mr.writeSync(this.fd,this._writingBuf,"utf8"),h=()=>Mr.write(this.fd,this._writingBuf,"utf8",this.release);else throw new Error(`SonicBoom supports "${PM}" and "${DM}", but passed ${f}`);if(typeof t=="number")this.fd=t,process.nextTick(()=>this.emit("ready"));else if(typeof t=="string")OM(t,this);else throw new Error("SonicBoom supports only file descriptors and files");if(this.minLength>=this.maxWrite)throw new Error(`minLength should be smaller than maxWrite (${this.maxWrite})`);this.release=(g,A)=>{if(g){if((g.code==="EAGAIN"||g.code==="EBUSY")&&this.retryEAGAIN(g,this._writingBuf.length,this._len-this._writingBuf.length))if(this.sync)try{dC(Dy),this.release(void 0,0)}catch(b){this.release(b)}else setTimeout(h,Dy);else this._writing=!1,this.emit("error",g);return}this.emit("write",A);let y=lC(this._writingBuf,this._len,A);if(this._len=y.len,this._writingBuf=y.writingBuf,this._writingBuf.length){if(!this.sync){h();return}try{do{let b=m(),E=lC(this._writingBuf,this._len,b);this._len=E.len,this._writingBuf=E.writingBuf}while(this._writingBuf.length)}catch(b){this.release(b);return}}this._fsync&&Mr.fsyncSync(this.fd);let v=this._len;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):v>this.minLength?this._actualWrite():this._ending?v>0?this._actualWrite():(this._writing=!1,Oy(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(tye,this)):this.emit("drain"))},this.on("newListener",function(g){g==="drain"&&(this._asyncDrainScheduled=!1)})}function lC(e,t,r){return typeof e=="string"&&Buffer.byteLength(e)!==r&&(r=Buffer.from(e).subarray(0,r).toString().length),t=Math.max(t-r,0),e=e.slice(r),{writingBuf:e,len:t}}function tye(e){e.listenerCount("drain")>0&&(e._asyncDrainScheduled=!1,e.emit("drain"))}ZAe(Li,XAe);function $M(e,t){return e.length===0?Py:e.length===1?e[0]:Buffer.concat(e,t)}function rye(e){if(this.destroyed)throw new Error("SonicBoom destroyed");let t=this._len+e.length,r=this._bufs;return this.maxLength&&t>this.maxLength?(this.emit("drop",e),this._len<this._hwm):(r.length===0||r[r.length-1].length+e.length>this.maxWrite?r.push(""+e):r[r.length-1]+=e,this._len=t,!this._writing&&this._len>=this.minLength&&this._actualWrite(),this._len<this._hwm)}function nye(e){if(this.destroyed)throw new Error("SonicBoom destroyed");let t=this._len+e.length,r=this._bufs,n=this._lens;return this.maxLength&&t>this.maxLength?(this.emit("drop",e),this._len<this._hwm):(r.length===0||n[n.length-1]+e.length>this.maxWrite?(r.push([e]),n.push(e.length)):(r[r.length-1].push(e),n[n.length-1]+=e.length),this._len=t,!this._writing&&this._len>=this.minLength&&this._actualWrite(),this._len<this._hwm)}function LM(e){this._flushPending=!0;let t=()=>{this._fsync?(this._flushPending=!1,e()):Mr.fsync(this.fd,n=>{this._flushPending=!1,e(n)}),this.off("error",r)},r=n=>{this._flushPending=!1,e(n),this.off("drain",t)};this.once("drain",t),this.once("error",r)}function sye(e){if(e!=null&&typeof e!="function")throw new Error("flush cb must be a function");if(this.destroyed){let t=new Error("SonicBoom destroyed");if(e){e(t);return}throw t}if(this.minLength<=0){e?.();return}e&&LM.call(this,e),!this._writing&&(this._bufs.length===0&&this._bufs.push(""),this._actualWrite())}function iye(e){if(e!=null&&typeof e!="function")throw new Error("flush cb must be a function");if(this.destroyed){let t=new Error("SonicBoom destroyed");if(e){e(t);return}throw t}if(this.minLength<=0){e?.();return}e&&LM.call(this,e),!this._writing&&(this._bufs.length===0&&(this._bufs.push([]),this._lens.push(0)),this._actualWrite())}Li.prototype.reopen=function(e){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.reopen(e)});return}if(this._ending)return;if(!this.file)throw new Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");if(e&&(this.file=e),this._reopening=!0,this._writing)return;let t=this.fd;this.once("ready",()=>{t!==this.fd&&Mr.close(t,r=>{if(r)return this.emit("error",r)})}),OM(this.file,this)};Li.prototype.end=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.end()});return}this._ending||(this._ending=!0,!this._writing&&(this._len>0&&this.fd>=0?this._actualWrite():Oy(this)))};function aye(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift(this._writingBuf),this._writingBuf="");let e="";for(;this._bufs.length||e;){e.length<=0&&(e=this._bufs[0]);try{let t=Mr.writeSync(this.fd,e,"utf8"),r=lC(e,this._len,t);e=r.writingBuf,this._len=r.len,e.length<=0&&this._bufs.shift()}catch(t){if((t.code==="EAGAIN"||t.code==="EBUSY")&&!this.retryEAGAIN(t,e.length,this._len-e.length))throw t;dC(Dy)}}try{Mr.fsyncSync(this.fd)}catch{}}function oye(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift([this._writingBuf]),this._writingBuf=Py);let e=Py;for(;this._bufs.length||e.length;){e.length<=0&&(e=$M(this._bufs[0],this._lens[0]));try{let t=Mr.writeSync(this.fd,e);e=e.subarray(t),this._len=Math.max(this._len-t,0),e.length<=0&&(this._bufs.shift(),this._lens.shift())}catch(t){if((t.code==="EAGAIN"||t.code==="EBUSY")&&!this.retryEAGAIN(t,e.length,this._len-e.length))throw t;dC(Dy)}}}Li.prototype.destroy=function(){this.destroyed||Oy(this)};function cye(){let e=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf||this._bufs.shift()||"",this.sync)try{let t=Mr.writeSync(this.fd,this._writingBuf,"utf8");e(null,t)}catch(t){e(t)}else Mr.write(this.fd,this._writingBuf,"utf8",e)}function uye(){let e=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf.length?this._writingBuf:$M(this._bufs.shift(),this._lens.shift()),this.sync)try{let t=Mr.writeSync(this.fd,this._writingBuf);e(null,t)}catch(t){e(t)}else Mr.write(this.fd,this._writingBuf,e)}function Oy(e){if(e.fd===-1){e.once("ready",Oy.bind(null,e));return}e.destroyed=!0,e._bufs=[],e._lens=[],Mr.fsync(e.fd,t);function t(){e.fd!==1&&e.fd!==2?Mr.close(e.fd,r):r()}function r(n){if(n){e.emit("error",n);return}e._ending&&!e._writing&&e.emit("finish"),e.emit("close")}}Li.SonicBoom=Li;Li.default=Li;MM.exports=Li});var fC=C((Yct,HM)=>{"use strict";var Mi={exit:[],beforeExit:[]},QM={exit:fye,beforeExit:pye},$d;function lye(){$d===void 0&&($d=new FinalizationRegistry(hye))}function dye(e){Mi[e].length>0||process.on(e,QM[e])}function UM(e){Mi[e].length>0||(process.removeListener(e,QM[e]),Mi.exit.length===0&&Mi.beforeExit.length===0&&($d=void 0))}function fye(){qM("exit")}function pye(){qM("beforeExit")}function qM(e){for(let t of Mi[e]){let r=t.deref(),n=t.fn;r!==void 0&&n(r,e)}Mi[e]=[]}function hye(e){for(let t of["exit","beforeExit"]){let r=Mi[t].indexOf(e);Mi[t].splice(r,r+1),UM(t)}}function jM(e,t,r){if(t===void 0)throw new Error("the object can't be undefined");dye(e);let n=new WeakRef(t);n.fn=r,lye(),$d.register(t,n),Mi[e].push(n)}function mye(e,t){jM("exit",e,t)}function gye(e,t){jM("beforeExit",e,t)}function Aye(e){if($d!==void 0){$d.unregister(e);for(let t of["exit","beforeExit"])Mi[t]=Mi[t].filter(r=>{let n=r.deref();return n&&n!==e}),UM(t)}}HM.exports={register:mye,registerBeforeExit:gye,unregister:Aye}});var zM=C((Wct,yye)=>{yye.exports={name:"thread-stream",version:"2.7.0",description:"A streaming way to send data to a Node.js Worker Thread",main:"index.js",types:"index.d.ts",dependencies:{"real-require":"^0.2.0"},devDependencies:{"@types/node":"^20.1.0","@types/tap":"^15.0.0","@yao-pkg/pkg":"^5.11.5",desm:"^1.3.0",fastbench:"^1.0.1",husky:"^9.0.6","pino-elasticsearch":"^8.0.0","sonic-boom":"^3.0.0",standard:"^17.0.0",tap:"^16.2.0","ts-node":"^10.8.0",typescript:"^5.3.2","why-is-node-running":"^2.2.2"},scripts:{test:'standard && npm run transpile && tap "test/**/*.test.*js" && tap --ts test/*.test.*ts',"test:ci":"standard && npm run transpile && npm run test:ci:js && npm run test:ci:ts","test:ci:js":'tap --no-check-coverage --timeout=120 --coverage-report=lcovonly "test/**/*.test.*js"',"test:ci:ts":'tap --ts --no-check-coverage --coverage-report=lcovonly "test/**/*.test.*ts"',"test:yarn":'npm run transpile && tap "test/**/*.test.js" --no-check-coverage',transpile:"sh ./test/ts/transpile.sh",prepare:"husky install"},standard:{ignore:["test/ts/**/*"]},repository:{type:"git",url:"git+https://github.com/mcollina/thread-stream.git"},keywords:["worker","thread","threads","stream"],author:"Matteo Collina <hello@matteocollina.com>",license:"MIT",bugs:{url:"https://github.com/mcollina/thread-stream/issues"},homepage:"https://github.com/mcollina/thread-stream#readme"}});var VM=C((Jct,GM)=>{"use strict";function bye(e,t,r,n,s){let a=Date.now()+n,o=Atomics.load(e,t);if(o===r){s(null,"ok");return}let c=o,u=l=>{Date.now()>a?s(null,"timed-out"):setTimeout(()=>{c=o,o=Atomics.load(e,t),o===c?u(l>=1e3?1e3:l*2):o===r?s(null,"ok"):s(null,"not-equal")},l)};u(1)}function Eye(e,t,r,n,s){let a=Date.now()+n,o=Atomics.load(e,t);if(o!==r){s(null,"ok");return}let c=u=>{Date.now()>a?s(null,"timed-out"):setTimeout(()=>{o=Atomics.load(e,t),o!==r?s(null,"ok"):c(u>=1e3?1e3:u*2)},u)};c(1)}GM.exports={wait:bye,waitDiff:Eye}});var YM=C((Xct,KM)=>{"use strict";KM.exports={WRITE_INDEX:4,READ_INDEX:8}});var eF=C((Zct,ZM)=>{"use strict";var{version:xye}=zM(),{EventEmitter:vye}=require("events"),{Worker:_ye}=require("worker_threads"),{join:Iye}=require("path"),{pathToFileURL:Cye}=require("url"),{wait:wye}=VM(),{WRITE_INDEX:xs,READ_INDEX:ha}=YM(),Sye=require("buffer"),Tye=require("assert"),de=Symbol("kImpl"),Bye=Sye.constants.MAX_STRING_LENGTH,x0=class{constructor(t){this._value=t}deref(){return this._value}},Ly=class{register(){}unregister(){}},Rye=process.env.NODE_V8_COVERAGE?Ly:global.FinalizationRegistry||Ly,Nye=process.env.NODE_V8_COVERAGE?x0:global.WeakRef||x0,WM=new Rye(e=>{e.exited||e.terminate()});function kye(e,t){let{filename:r,workerData:n}=t,a=("__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{})["thread-stream-worker"]||Iye(__dirname,"lib","worker.js"),o=new _ye(a,{...t.workerOpts,trackUnmanagedFds:!1,workerData:{filename:r.indexOf("file://")===0?r:Cye(r).href,dataBuf:e[de].dataBuf,stateBuf:e[de].stateBuf,workerData:{$context:{threadStreamVersion:xye},...n}}});return o.stream=new x0(e),o.on("message",Dye),o.on("exit",XM),WM.register(e,o),o}function JM(e){Tye(!e[de].sync),e[de].needDrain&&(e[de].needDrain=!1,e.emit("drain"))}function $y(e){let t=Atomics.load(e[de].state,xs),r=e[de].data.length-t;if(r>0){if(e[de].buf.length===0){e[de].flushing=!1,e[de].ending?AC(e):e[de].needDrain&&process.nextTick(JM,e);return}let n=e[de].buf.slice(0,r),s=Buffer.byteLength(n);s<=r?(e[de].buf=e[de].buf.slice(r),My(e,n,$y.bind(null,e))):e.flush(()=>{if(!e.destroyed){for(Atomics.store(e[de].state,ha,0),Atomics.store(e[de].state,xs,0);s>e[de].data.length;)r=r/2,n=e[de].buf.slice(0,r),s=Buffer.byteLength(n);e[de].buf=e[de].buf.slice(r),My(e,n,$y.bind(null,e))}})}else if(r===0){if(t===0&&e[de].buf.length===0)return;e.flush(()=>{Atomics.store(e[de].state,ha,0),Atomics.store(e[de].state,xs,0),$y(e)})}else ma(e,new Error("overwritten"))}function Dye(e){let t=this.stream.deref();if(t===void 0){this.exited=!0,this.terminate();return}switch(e.code){case"READY":this.stream=new Nye(t),t.flush(()=>{t[de].ready=!0,t.emit("ready")});break;case"ERROR":ma(t,e.err);break;case"EVENT":Array.isArray(e.args)?t.emit(e.name,...e.args):t.emit(e.name,e.args);break;case"WARNING":process.emitWarning(e.err);break;default:ma(t,new Error("this should not happen: "+e.code))}}function XM(e){let t=this.stream.deref();t!==void 0&&(WM.unregister(t),t.worker.exited=!0,t.worker.off("exit",XM),ma(t,e!==0?new Error("the worker thread exited"):null))}var hC=class extends vye{constructor(t={}){if(super(),t.bufferSize<4)throw new Error("bufferSize must at least fit a 4-byte utf-8 char");this[de]={},this[de].stateBuf=new SharedArrayBuffer(128),this[de].state=new Int32Array(this[de].stateBuf),this[de].dataBuf=new SharedArrayBuffer(t.bufferSize||4*1024*1024),this[de].data=Buffer.from(this[de].dataBuf),this[de].sync=t.sync||!1,this[de].ending=!1,this[de].ended=!1,this[de].needDrain=!1,this[de].destroyed=!1,this[de].flushing=!1,this[de].ready=!1,this[de].finished=!1,this[de].errored=null,this[de].closed=!1,this[de].buf="",this.worker=kye(this,t),this.on("message",(r,n)=>{this.worker.postMessage(r,n)})}write(t){if(this[de].destroyed)return mC(this,new Error("the worker has exited")),!1;if(this[de].ending)return mC(this,new Error("the worker is ending")),!1;if(this[de].flushing&&this[de].buf.length+t.length>=Bye)try{pC(this),this[de].flushing=!0}catch(r){return ma(this,r),!1}if(this[de].buf+=t,this[de].sync)try{return pC(this),!0}catch(r){return ma(this,r),!1}return this[de].flushing||(this[de].flushing=!0,setImmediate($y,this)),this[de].needDrain=this[de].data.length-this[de].buf.length-Atomics.load(this[de].state,xs)<=0,!this[de].needDrain}end(){this[de].destroyed||(this[de].ending=!0,AC(this))}flush(t){if(this[de].destroyed){typeof t=="function"&&process.nextTick(t,new Error("the worker has exited"));return}let r=Atomics.load(this[de].state,xs);wye(this[de].state,ha,r,1/0,(n,s)=>{if(n){ma(this,n),process.nextTick(t,n);return}if(s==="not-equal"){this.flush(t);return}process.nextTick(t)})}flushSync(){this[de].destroyed||(pC(this),gC(this))}unref(){this.worker.unref()}ref(){this.worker.ref()}get ready(){return this[de].ready}get destroyed(){return this[de].destroyed}get closed(){return this[de].closed}get writable(){return!this[de].destroyed&&!this[de].ending}get writableEnded(){return this[de].ending}get writableFinished(){return this[de].finished}get writableNeedDrain(){return this[de].needDrain}get writableObjectMode(){return!1}get writableErrored(){return this[de].errored}};function mC(e,t){setImmediate(()=>{e.emit("error",t)})}function ma(e,t){e[de].destroyed||(e[de].destroyed=!0,t&&(e[de].errored=t,mC(e,t)),e.worker.exited?setImmediate(()=>{e[de].closed=!0,e.emit("close")}):e.worker.terminate().catch(()=>{}).then(()=>{e[de].closed=!0,e.emit("close")}))}function My(e,t,r){let n=Atomics.load(e[de].state,xs),s=Buffer.byteLength(t);return e[de].data.write(t,n),Atomics.store(e[de].state,xs,n+s),Atomics.notify(e[de].state,xs),r(),!0}function AC(e){if(!(e[de].ended||!e[de].ending||e[de].flushing)){e[de].ended=!0;try{e.flushSync();let t=Atomics.load(e[de].state,ha);Atomics.store(e[de].state,xs,-1),Atomics.notify(e[de].state,xs);let r=0;for(;t!==-1;){if(Atomics.wait(e[de].state,ha,t,1e3),t=Atomics.load(e[de].state,ha),t===-2){ma(e,new Error("end() failed"));return}if(++r===10){ma(e,new Error("end() took too long (10s)"));return}}process.nextTick(()=>{e[de].finished=!0,e.emit("finish")})}catch(t){ma(e,t)}}}function pC(e){let t=()=>{e[de].ending?AC(e):e[de].needDrain&&process.nextTick(JM,e)};for(e[de].flushing=!1;e[de].buf.length!==0;){let r=Atomics.load(e[de].state,xs),n=e[de].data.length-r;if(n===0){gC(e),Atomics.store(e[de].state,ha,0),Atomics.store(e[de].state,xs,0);continue}else if(n<0)throw new Error("overwritten");let s=e[de].buf.slice(0,n),a=Buffer.byteLength(s);if(a<=n)e[de].buf=e[de].buf.slice(n),My(e,s,t);else{for(gC(e),Atomics.store(e[de].state,ha,0),Atomics.store(e[de].state,xs,0);a>e[de].buf.length;)n=n/2,s=e[de].buf.slice(0,n),a=Buffer.byteLength(s);e[de].buf=e[de].buf.slice(n),My(e,s,t)}}}function gC(e){if(e[de].flushing)throw new Error("unable to flush while flushing");let t=Atomics.load(e[de].state,xs),r=0;for(;;){let n=Atomics.load(e[de].state,ha);if(n===-2)throw Error("_flushSync failed");if(n!==t)Atomics.wait(e[de].state,ha,n,1e3);else break;if(++r===10)throw new Error("_flushSync took too long (10s)")}}ZM.exports=hC});var EC=C((eut,tF)=>{"use strict";var{createRequire:Pye}=require("module"),Oye=eC(),{join:yC,isAbsolute:$ye,sep:Lye}=require("path"),Mye=uC(),bC=fC(),Fye=eF();function Qye(e){bC.register(e,qye),bC.registerBeforeExit(e,jye),e.on("close",function(){bC.unregister(e)})}function Uye(e,t,r){let n=new Fye({filename:e,workerData:t,workerOpts:r});n.on("ready",s),n.on("close",function(){process.removeListener("exit",a)}),process.on("exit",a);function s(){process.removeListener("exit",a),n.unref(),r.autoEnd!==!1&&Qye(n)}function a(){n.closed||(n.flushSync(),Mye(100),n.end())}return n}function qye(e){e.ref(),e.flushSync(),e.end(),e.once("close",function(){e.unref()})}function jye(e){e.flushSync()}function Hye(e){let{pipeline:t,targets:r,levels:n,dedupe:s,options:a={},worker:o={},caller:c=Oye()}=e,u=typeof c=="string"?[c]:c,l="__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{},d=e.target;if(d&&r)throw new Error("only one of target or targets can be specified");return r?(d=l["pino-worker"]||yC(__dirname,"worker.js"),a.targets=r.map(p=>({...p,target:f(p.target)}))):t&&(d=l["pino-pipeline-worker"]||yC(__dirname,"worker-pipeline.js"),a.targets=t.map(p=>({...p,target:f(p.target)}))),n&&(a.levels=n),s&&(a.dedupe=s),a.pinoWillSendConfig=!0,Uye(f(d),a,o);function f(p){if(p=l[p]||p,$ye(p)||p.indexOf("file://")===0)return p;if(p==="pino/file")return yC(__dirname,"..","file.js");let m;for(let h of u)try{let g=h==="node:repl"?process.cwd()+Lye:h;m=Pye(g).resolve(p);break}catch{continue}if(!m)throw new Error(`unable to determine transport target for "${p}"`);return m}}tF.exports=Hye});var Uy=C((tut,fF)=>{"use strict";var rF=NM(),{mapHttpRequest:zye,mapHttpResponse:Gye}=ZI(),vC=FM(),nF=fC(),{lsCacheSym:Vye,chindingsSym:aF,writeSym:sF,serializersSym:oF,formatOptsSym:iF,endSym:Kye,stringifiersSym:cF,stringifySym:uF,stringifySafeSym:_C,wildcardFirstSym:lF,nestedKeySym:Yye,formattersSym:dF,messageKeySym:Wye,errorKeySym:Jye,nestedKeyStrSym:Xye,msgPrefixSym:Fy}=Od(),{isMainThread:Zye}=require("worker_threads"),e1e=EC();function Ld(){}function t1e(e,t){if(!t)return r;return function(...s){t.call(this,s,r,e)};function r(n,...s){if(typeof n=="object"){let a=n;n!==null&&(n.method&&n.headers&&n.socket?n=zye(n):typeof n.setHeader=="function"&&(n=Gye(n)));let o;a===null&&s.length===0?o=[null]:(a=s.shift(),o=s),typeof this[Fy]=="string"&&a!==void 0&&a!==null&&(a=this[Fy]+a),this[sF](n,rF(a,o,this[iF]),e)}else{let a=n===void 0?s.shift():n;typeof this[Fy]=="string"&&a!==void 0&&a!==null&&(a=this[Fy]+a),this[sF](null,rF(a,s,this[iF]),e)}}}function xC(e){let t="",r=0,n=!1,s=255,a=e.length;if(a>100)return JSON.stringify(e);for(var o=0;o<a&&s>=32;o++)s=e.charCodeAt(o),(s===34||s===92)&&(t+=e.slice(r,o)+"\\",r=o,n=!0);return n?t+=e.slice(r):t=e,s<32?JSON.stringify(e):'"'+t+'"'}function r1e(e,t,r,n){let s=this[uF],a=this[_C],o=this[cF],c=this[Kye],u=this[aF],l=this[oF],d=this[dF],f=this[Wye],p=this[Jye],m=this[Vye][r]+n;m=m+u;let h;d.log&&(e=d.log(e));let g=o[lF],A="";for(let v in e)if(h=e[v],Object.prototype.hasOwnProperty.call(e,v)&&h!==void 0){l[v]?h=l[v](h):v===p&&l.err&&(h=l.err(h));let b=o[v]||g;switch(typeof h){case"undefined":case"function":continue;case"number":Number.isFinite(h)===!1&&(h=null);case"boolean":b&&(h=b(h));break;case"string":h=(b||xC)(h);break;default:h=(b||s)(h,a)}if(h===void 0)continue;let E=xC(v);A+=","+E+":"+h}let y="";if(t!==void 0){h=l[f]?l[f](t):t;let v=o[f]||g;switch(typeof h){case"function":break;case"number":Number.isFinite(h)===!1&&(h=null);case"boolean":v&&(h=v(h)),y=',"'+f+'":'+h;break;case"string":h=(v||xC)(h),y=',"'+f+'":'+h;break;default:h=(v||s)(h,a),y=',"'+f+'":'+h}}return this[Yye]&&A?m+this[Xye]+A.slice(1)+"}"+y+c:m+A+y+c}function n1e(e,t){let r,n=e[aF],s=e[uF],a=e[_C],o=e[cF],c=o[lF],u=e[oF],l=e[dF].bindings;t=l(t);for(let d in t)if(r=t[d],(d!=="level"&&d!=="serializers"&&d!=="formatters"&&d!=="customLevels"&&t.hasOwnProperty(d)&&r!==void 0)===!0){if(r=u[d]?u[d](r):r,r=(o[d]||c||s)(r,a),r===void 0)continue;n+=',"'+d+'":'+r}return n}function s1e(e){return e.write!==e.constructor.prototype.write}var i1e=process.env.NODE_V8_COVERAGE||process.env.V8_COVERAGE;function Qy(e){let t=new vC(e);return t.on("error",r),!i1e&&!e.sync&&Zye&&(nF.register(t,a1e),t.on("close",function(){nF.unregister(t)})),t;function r(n){if(n.code==="EPIPE"){t.write=Ld,t.end=Ld,t.flushSync=Ld,t.destroy=Ld;return}t.removeListener("error",r),t.emit("error",n)}}function a1e(e,t){e.destroyed||(t==="beforeExit"?(e.flush(),e.on("drain",function(){e.end()})):e.flushSync())}function o1e(e){return function(r,n,s={},a){if(typeof s=="string")a=Qy({dest:s}),s={};else if(typeof a=="string"){if(s&&s.transport)throw Error("only one of option.transport or stream can be specified");a=Qy({dest:a})}else if(s instanceof vC||s.writable||s._writableState)a=s,s={};else if(s.transport){if(s.transport instanceof vC||s.transport.writable||s.transport._writableState)throw Error("option.transport do not allow stream, please pass to option directly. e.g. pino(transport)");if(s.transport.targets&&s.transport.targets.length&&s.formatters&&typeof s.formatters.level=="function")throw Error("option.transport.targets do not allow custom level formatters");let u;s.customLevels&&(u=s.useOnlyCustomLevels?s.customLevels:Object.assign({},s.levels,s.customLevels)),a=e1e({caller:n,...s.transport,levels:u})}if(s=Object.assign({},e,s),s.serializers=Object.assign({},e.serializers,s.serializers),s.formatters=Object.assign({},e.formatters,s.formatters),s.prettyPrint)throw new Error("prettyPrint option is no longer supported, see the pino-pretty package (https://github.com/pinojs/pino-pretty)");let{enabled:o,onChild:c}=s;return o===!1&&(s.level="silent"),c||(s.onChild=Ld),a||(s1e(process.stdout)?a=process.stdout:a=Qy({fd:process.stdout.fd||1})),{opts:s,stream:a}}}function c1e(e,t){try{return JSON.stringify(e)}catch{try{return(t||this[_C])(e)}catch{return'"[unable to serialize, circular reference is too complex to analyze]"'}}}function u1e(e,t,r){return{level:e,bindings:t,log:r}}function l1e(e){let t=Number(e);return typeof e=="string"&&Number.isFinite(t)?t:e===void 0?1:e}fF.exports={noop:Ld,buildSafeSonicBoom:Qy,asChindings:n1e,asJson:r1e,genLog:t1e,createArgsNormalizer:o1e,stringify:c1e,buildFormatters:u1e,normalizeDestFileDescriptor:l1e}});var qy=C((rut,pF)=>{var d1e={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},f1e={ASC:"ASC",DESC:"DESC"};pF.exports={DEFAULT_LEVELS:d1e,SORTING_ORDER:f1e}});var wC=C((nut,AF)=>{"use strict";var{lsCacheSym:p1e,levelValSym:IC,useOnlyCustomLevelsSym:h1e,streamSym:m1e,formattersSym:g1e,hooksSym:A1e,levelCompSym:hF}=Od(),{noop:y1e,genLog:Fu}=Uy(),{DEFAULT_LEVELS:ga,SORTING_ORDER:mF}=qy(),gF={fatal:e=>{let t=Fu(ga.fatal,e);return function(...r){let n=this[m1e];if(t.call(this,...r),typeof n.flushSync=="function")try{n.flushSync()}catch{}}},error:e=>Fu(ga.error,e),warn:e=>Fu(ga.warn,e),info:e=>Fu(ga.info,e),debug:e=>Fu(ga.debug,e),trace:e=>Fu(ga.trace,e)},CC=Object.keys(ga).reduce((e,t)=>(e[ga[t]]=t,e),{}),b1e=Object.keys(CC).reduce((e,t)=>(e[t]='{"level":'+Number(t),e),{});function E1e(e){let t=e[g1e].level,{labels:r}=e.levels,n={};for(let s in r){let a=t(r[s],Number(s));n[s]=JSON.stringify(a).slice(0,-1)}return e[p1e]=n,e}function x1e(e,t){if(t)return!1;switch(e){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}function v1e(e){let{labels:t,values:r}=this.levels;if(typeof e=="number"){if(t[e]===void 0)throw Error("unknown level value"+e);e=t[e]}if(r[e]===void 0)throw Error("unknown level "+e);let n=this[IC],s=this[IC]=r[e],a=this[h1e],o=this[hF],c=this[A1e].logMethod;for(let u in r){if(o(r[u],s)===!1){this[u]=y1e;continue}this[u]=x1e(u,a)?gF[u](c):Fu(r[u],c)}this.emit("level-change",e,s,t[n],n,this)}function _1e(e){let{levels:t,levelVal:r}=this;return t&&t.labels?t.labels[r]:""}function I1e(e){let{values:t}=this.levels,r=t[e];return r!==void 0&&this[hF](r,this[IC])}function C1e(e,t,r){return e===mF.DESC?t<=r:t>=r}function w1e(e){return typeof e=="string"?C1e.bind(null,e):e}function S1e(e=null,t=!1){let r=e?Object.keys(e).reduce((a,o)=>(a[e[o]]=o,a),{}):null,n=Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),t?null:CC,r),s=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),t?null:ga,e);return{labels:n,values:s}}function T1e(e,t,r){if(typeof e=="number"){if(![].concat(Object.keys(t||{}).map(a=>t[a]),r?[]:Object.keys(CC).map(a=>+a),1/0).includes(e))throw Error(`default level:${e} must be included in custom levels`);return}let n=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),r?null:ga,t);if(!(e in n))throw Error(`default level:${e} must be included in custom levels`)}function B1e(e,t){let{labels:r,values:n}=e;for(let s in t){if(s in n)throw Error("levels cannot be overridden");if(t[s]in r)throw Error("pre-existing level values cannot be used for new levels")}}function R1e(e){if(typeof e!="function"&&!(typeof e=="string"&&Object.values(mF).includes(e)))throw new Error('Levels comparison should be one of "ASC", "DESC" or "function" type')}AF.exports={initialLsCache:b1e,genLsCache:E1e,levelMethods:gF,getLevel:_1e,setLevel:v1e,isLevelEnabled:I1e,mappings:S1e,assertNoLevelCollisions:B1e,assertDefaultLevelFound:T1e,genLevelComparison:w1e,assertLevelComparison:R1e}});var SC=C((sut,yF)=>{"use strict";yF.exports={version:"8.21.0"}});var BF=C((aut,TF)=>{"use strict";var{EventEmitter:N1e}=require("events"),{lsCacheSym:k1e,levelValSym:D1e,setLevelSym:BC,getLevelSym:bF,chindingsSym:RC,parsedChindingsSym:P1e,mixinSym:O1e,asJsonSym:IF,writeSym:$1e,mixinMergeStrategySym:L1e,timeSym:M1e,timeSliceIndexSym:F1e,streamSym:CF,serializersSym:Qu,formattersSym:TC,errorKeySym:Q1e,messageKeySym:U1e,useOnlyCustomLevelsSym:q1e,needsMetadataGsym:j1e,redactFmtSym:H1e,stringifySym:z1e,formatOptsSym:G1e,stringifiersSym:V1e,msgPrefixSym:EF}=Od(),{getLevel:K1e,setLevel:Y1e,isLevelEnabled:W1e,mappings:J1e,initialLsCache:X1e,genLsCache:Z1e,assertNoLevelCollisions:ebe}=wC(),{asChindings:wF,asJson:tbe,buildFormatters:xF,stringify:vF}=Uy(),{version:rbe}=SC(),nbe=oC(),sbe=class{},SF={constructor:sbe,child:ibe,bindings:abe,setBindings:obe,flush:dbe,isLevelEnabled:W1e,version:rbe,get level(){return this[bF]()},set level(e){this[BC](e)},get levelVal(){return this[D1e]},set levelVal(e){throw Error("levelVal is read-only")},[k1e]:X1e,[$1e]:ube,[IF]:tbe,[bF]:K1e,[BC]:Y1e};Object.setPrototypeOf(SF,N1e.prototype);TF.exports=function(){return Object.create(SF)};var _F=e=>e;function ibe(e,t){if(!e)throw Error("missing bindings for child Pino");t=t||{};let r=this[Qu],n=this[TC],s=Object.create(this);if(t.hasOwnProperty("serializers")===!0){s[Qu]=Object.create(null);for(let d in r)s[Qu][d]=r[d];let u=Object.getOwnPropertySymbols(r);for(var a=0;a<u.length;a++){let d=u[a];s[Qu][d]=r[d]}for(let d in t.serializers)s[Qu][d]=t.serializers[d];let l=Object.getOwnPropertySymbols(t.serializers);for(var o=0;o<l.length;o++){let d=l[o];s[Qu][d]=t.serializers[d]}}else s[Qu]=r;if(t.hasOwnProperty("formatters")){let{level:u,bindings:l,log:d}=t.formatters;s[TC]=xF(u||n.level,l||_F,d||n.log)}else s[TC]=xF(n.level,_F,n.log);if(t.hasOwnProperty("customLevels")===!0&&(ebe(this.levels,t.customLevels),s.levels=J1e(t.customLevels,s[q1e]),Z1e(s)),typeof t.redact=="object"&&t.redact!==null||Array.isArray(t.redact)){s.redact=t.redact;let u=nbe(s.redact,vF),l={stringify:u[H1e]};s[z1e]=vF,s[V1e]=u,s[G1e]=l}typeof t.msgPrefix=="string"&&(s[EF]=(this[EF]||"")+t.msgPrefix),s[RC]=wF(s,e);let c=t.level||this.level;return s[BC](c),this.onChild(s),s}function abe(){let t=`{${this[RC].substr(1)}}`,r=JSON.parse(t);return delete r.pid,delete r.hostname,r}function obe(e){let t=wF(this,e);this[RC]=t,delete this[P1e]}function cbe(e,t){return Object.assign(t,e)}function ube(e,t,r){let n=this[M1e](),s=this[O1e],a=this[Q1e],o=this[U1e],c=this[L1e]||cbe,u;e==null?u={}:e instanceof Error?(u={[a]:e},t===void 0&&(t=e.message)):(u=e,t===void 0&&e[o]===void 0&&e[a]&&(t=e[a].message)),s&&(u=c(u,s(u,r,this)));let l=this[IF](u,t,r,n),d=this[CF];d[j1e]===!0&&(d.lastLevel=r,d.lastObj=u,d.lastMsg=t,d.lastTime=n.slice(this[F1e]),d.lastLogger=this),d.write(l)}function lbe(){}function dbe(e){if(e!=null&&typeof e!="function")throw Error("callback must be a function");let t=this[CF];typeof t.flush=="function"?t.flush(e||lbe):e&&e()}});var DF=C((PC,kF)=>{"use strict";var{hasOwnProperty:v0}=Object.prototype,qu=DC();qu.configure=DC;qu.stringify=qu;qu.default=qu;PC.stringify=qu;PC.configure=DC;kF.exports=qu;var fbe=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function pc(e){return e.length<5e3&&!fbe.test(e)?`"${e}"`:JSON.stringify(e)}function NC(e,t){if(e.length>200||t)return e.sort(t);for(let r=1;r<e.length;r++){let n=e[r],s=r;for(;s!==0&&e[s-1]>n;)e[s]=e[s-1],s--;e[s]=n}return e}var pbe=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function kC(e){return pbe.call(e)!==void 0&&e.length!==0}function RF(e,t,r){e.length<r&&(r=e.length);let n=t===","?"":" ",s=`"0":${n}${e[0]}`;for(let a=1;a<r;a++)s+=`${t}"${a}":${n}${e[a]}`;return s}function hbe(e){if(v0.call(e,"circularValue")){let t=e.circularValue;if(typeof t=="string")return`"${t}"`;if(t==null)return t;if(t===Error||t===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function mbe(e){let t;if(v0.call(e,"deterministic")&&(t=e.deterministic,typeof t!="boolean"&&typeof t!="function"))throw new TypeError('The "deterministic" argument must be of type boolean or comparator function');return t===void 0?!0:t}function gbe(e,t){let r;if(v0.call(e,t)&&(r=e[t],typeof r!="boolean"))throw new TypeError(`The "${t}" argument must be of type boolean`);return r===void 0?!0:r}function NF(e,t){let r;if(v0.call(e,t)){if(r=e[t],typeof r!="number")throw new TypeError(`The "${t}" argument must be of type number`);if(!Number.isInteger(r))throw new TypeError(`The "${t}" argument must be an integer`);if(r<1)throw new RangeError(`The "${t}" argument must be >= 1`)}return r===void 0?1/0:r}function Uu(e){return e===1?"1 item":`${e} items`}function Abe(e){let t=new Set;for(let r of e)(typeof r=="string"||typeof r=="number")&&t.add(String(r));return t}function ybe(e){if(v0.call(e,"strict")){let t=e.strict;if(typeof t!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(t)return r=>{let n=`Object can not safely be stringified. Received type ${typeof r}`;throw typeof r!="function"&&(n+=` (${r.toString()})`),new Error(n)}}}function DC(e){e={...e};let t=ybe(e);t&&(e.bigint===void 0&&(e.bigint=!1),"circularValue"in e||(e.circularValue=Error));let r=hbe(e),n=gbe(e,"bigint"),s=mbe(e),a=typeof s=="function"?s:void 0,o=NF(e,"maximumDepth"),c=NF(e,"maximumBreadth");function u(m,h,g,A,y,v){let b=h[m];switch(typeof b=="object"&&b!==null&&typeof b.toJSON=="function"&&(b=b.toJSON(m)),b=A.call(h,m,b),typeof b){case"string":return pc(b);case"object":{if(b===null)return"null";if(g.indexOf(b)!==-1)return r;let E="",I=",",w=v;if(Array.isArray(b)){if(b.length===0)return"[]";if(o<g.length+1)return'"[Array]"';g.push(b),y!==""&&(v+=y,E+=`
${v}`,I=`,
${v}`);let k=Math.min(b.length,c),P=0;for(;P<k-1;P++){let j=u(String(P),b,g,A,y,v);E+=j!==void 0?j:"null",E+=I}let D=u(String(P),b,g,A,y,v);if(E+=D!==void 0?D:"null",b.length-1>c){let j=b.length-c-1;E+=`${I}"... ${Uu(j)} not stringified"`}return y!==""&&(E+=`
${w}`),g.pop(),`[${E}]`}let S=Object.keys(b),T=S.length;if(T===0)return"{}";if(o<g.length+1)return'"[Object]"';let B="",N="";y!==""&&(v+=y,I=`,
${v}`,B=" ");let O=Math.min(T,c);s&&!kC(b)&&(S=NC(S,a)),g.push(b);for(let k=0;k<O;k++){let P=S[k],D=u(P,b,g,A,y,v);D!==void 0&&(E+=`${N}${pc(P)}:${B}${D}`,N=I)}if(T>c){let k=T-c;E+=`${N}"...":${B}"${Uu(k)} not stringified"`,N=I}return y!==""&&N.length>1&&(E=`
${v}${E}
${w}`),g.pop(),`{${E}}`}case"number":return isFinite(b)?String(b):t?t(b):"null";case"boolean":return b===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(b);default:return t?t(b):void 0}}function l(m,h,g,A,y,v){switch(typeof h=="object"&&h!==null&&typeof h.toJSON=="function"&&(h=h.toJSON(m)),typeof h){case"string":return pc(h);case"object":{if(h===null)return"null";if(g.indexOf(h)!==-1)return r;let b=v,E="",I=",";if(Array.isArray(h)){if(h.length===0)return"[]";if(o<g.length+1)return'"[Array]"';g.push(h),y!==""&&(v+=y,E+=`
${v}`,I=`,
${v}`);let T=Math.min(h.length,c),B=0;for(;B<T-1;B++){let O=l(String(B),h[B],g,A,y,v);E+=O!==void 0?O:"null",E+=I}let N=l(String(B),h[B],g,A,y,v);if(E+=N!==void 0?N:"null",h.length-1>c){let O=h.length-c-1;E+=`${I}"... ${Uu(O)} not stringified"`}return y!==""&&(E+=`
${b}`),g.pop(),`[${E}]`}g.push(h);let w="";y!==""&&(v+=y,I=`,
${v}`,w=" ");let S="";for(let T of A){let B=l(T,h[T],g,A,y,v);B!==void 0&&(E+=`${S}${pc(T)}:${w}${B}`,S=I)}return y!==""&&S.length>1&&(E=`
${v}${E}
${b}`),g.pop(),`{${E}}`}case"number":return isFinite(h)?String(h):t?t(h):"null";case"boolean":return h===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(h);default:return t?t(h):void 0}}function d(m,h,g,A,y){switch(typeof h){case"string":return pc(h);case"object":{if(h===null)return"null";if(typeof h.toJSON=="function"){if(h=h.toJSON(m),typeof h!="object")return d(m,h,g,A,y);if(h===null)return"null"}if(g.indexOf(h)!==-1)return r;let v=y;if(Array.isArray(h)){if(h.length===0)return"[]";if(o<g.length+1)return'"[Array]"';g.push(h),y+=A;let B=`
${y}`,N=`,
${y}`,O=Math.min(h.length,c),k=0;for(;k<O-1;k++){let D=d(String(k),h[k],g,A,y);B+=D!==void 0?D:"null",B+=N}let P=d(String(k),h[k],g,A,y);if(B+=P!==void 0?P:"null",h.length-1>c){let D=h.length-c-1;B+=`${N}"... ${Uu(D)} not stringified"`}return B+=`
${v}`,g.pop(),`[${B}]`}let b=Object.keys(h),E=b.length;if(E===0)return"{}";if(o<g.length+1)return'"[Object]"';y+=A;let I=`,
${y}`,w="",S="",T=Math.min(E,c);kC(h)&&(w+=RF(h,I,c),b=b.slice(h.length),T-=h.length,S=I),s&&(b=NC(b,a)),g.push(h);for(let B=0;B<T;B++){let N=b[B],O=d(N,h[N],g,A,y);O!==void 0&&(w+=`${S}${pc(N)}: ${O}`,S=I)}if(E>c){let B=E-c;w+=`${S}"...": "${Uu(B)} not stringified"`,S=I}return S!==""&&(w=`
${y}${w}
${v}`),g.pop(),`{${w}}`}case"number":return isFinite(h)?String(h):t?t(h):"null";case"boolean":return h===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(h);default:return t?t(h):void 0}}function f(m,h,g){switch(typeof h){case"string":return pc(h);case"object":{if(h===null)return"null";if(typeof h.toJSON=="function"){if(h=h.toJSON(m),typeof h!="object")return f(m,h,g);if(h===null)return"null"}if(g.indexOf(h)!==-1)return r;let A="",y=h.length!==void 0;if(y&&Array.isArray(h)){if(h.length===0)return"[]";if(o<g.length+1)return'"[Array]"';g.push(h);let w=Math.min(h.length,c),S=0;for(;S<w-1;S++){let B=f(String(S),h[S],g);A+=B!==void 0?B:"null",A+=","}let T=f(String(S),h[S],g);if(A+=T!==void 0?T:"null",h.length-1>c){let B=h.length-c-1;A+=`,"... ${Uu(B)} not stringified"`}return g.pop(),`[${A}]`}let v=Object.keys(h),b=v.length;if(b===0)return"{}";if(o<g.length+1)return'"[Object]"';let E="",I=Math.min(b,c);y&&kC(h)&&(A+=RF(h,",",c),v=v.slice(h.length),I-=h.length,E=","),s&&(v=NC(v,a)),g.push(h);for(let w=0;w<I;w++){let S=v[w],T=f(S,h[S],g);T!==void 0&&(A+=`${E}${pc(S)}:${T}`,E=",")}if(b>c){let w=b-c;A+=`${E}"...":"${Uu(w)} not stringified"`}return g.pop(),`{${A}}`}case"number":return isFinite(h)?String(h):t?t(h):"null";case"boolean":return h===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(h);default:return t?t(h):void 0}}function p(m,h,g){if(arguments.length>1){let A="";if(typeof g=="number"?A=" ".repeat(Math.min(g,10)):typeof g=="string"&&(A=g.slice(0,10)),h!=null){if(typeof h=="function")return u("",{"":m},[],h,A,"");if(Array.isArray(h))return l("",m,[],Abe(h),A,"")}if(A.length!==0)return d("",m,[],A,"")}return f("",m,[])}return p}});var $F=C((out,OF)=>{"use strict";var OC=Symbol.for("pino.metadata"),{DEFAULT_LEVELS:PF}=qy(),bbe=PF.info;function Ebe(e,t){let r=0;e=e||[],t=t||{dedupe:!1};let n=Object.create(PF);n.silent=1/0,t.levels&&typeof t.levels=="object"&&Object.keys(t.levels).forEach(f=>{n[f]=t.levels[f]});let s={write:a,add:u,emit:o,flushSync:c,end:l,minLevel:0,streams:[],clone:d,[OC]:!0,streamLevels:n};return Array.isArray(e)?e.forEach(u,s):u.call(s,e),e=null,s;function a(f){let p,m=this.lastLevel,{streams:h}=this,g=0,A;for(let y=vbe(h.length,t.dedupe);Ibe(y,h.length,t.dedupe);y=_be(y,t.dedupe))if(p=h[y],p.level<=m){if(g!==0&&g!==p.level)break;if(A=p.stream,A[OC]){let{lastTime:v,lastMsg:b,lastObj:E,lastLogger:I}=this;A.lastLevel=m,A.lastTime=v,A.lastMsg=b,A.lastObj=E,A.lastLogger=I}A.write(f),t.dedupe&&(g=p.level)}else if(!t.dedupe)break}function o(...f){for(let{stream:p}of this.streams)typeof p.emit=="function"&&p.emit(...f)}function c(){for(let{stream:f}of this.streams)typeof f.flushSync=="function"&&f.flushSync()}function u(f){if(!f)return s;let p=typeof f.write=="function"||f.stream,m=f.write?f:f.stream;if(!p)throw Error("stream object needs to implement either StreamEntry or DestinationStream interface");let{streams:h,streamLevels:g}=this,A;typeof f.levelVal=="number"?A=f.levelVal:typeof f.level=="string"?A=g[f.level]:typeof f.level=="number"?A=f.level:A=bbe;let y={stream:m,level:A,levelVal:void 0,id:r++};return h.unshift(y),h.sort(xbe),this.minLevel=h[0].level,s}function l(){for(let{stream:f}of this.streams)typeof f.flushSync=="function"&&f.flushSync(),f.end()}function d(f){let p=new Array(this.streams.length);for(let m=0;m<p.length;m++)p[m]={level:f,stream:this.streams[m].stream};return{write:a,add:u,minLevel:f,streams:p,clone:d,emit:o,flushSync:c,[OC]:!0}}}function xbe(e,t){return e.level-t.level}function vbe(e,t){return t?e-1:0}function _be(e,t){return t?e-1:e+1}function Ibe(e,t,r){return r?e>=0:e<t}OF.exports=Ebe});var YF=C((cut,ni)=>{"use strict";var Cbe=require("os"),HF=ZI(),wbe=eC(),Sbe=oC(),zF=BM(),Tbe=BF(),GF=Od(),{configure:Bbe}=DF(),{assertDefaultLevelFound:Rbe,mappings:VF,genLsCache:Nbe,genLevelComparison:kbe,assertLevelComparison:Dbe}=wC(),{DEFAULT_LEVELS:Pbe,SORTING_ORDER:Obe}=qy(),{createArgsNormalizer:$be,asChindings:Lbe,buildSafeSonicBoom:LF,buildFormatters:Mbe,stringify:$C,normalizeDestFileDescriptor:MF,noop:Fbe}=Uy(),{version:Qbe}=SC(),{chindingsSym:FF,redactFmtSym:Ube,serializersSym:QF,timeSym:qbe,timeSliceIndexSym:jbe,streamSym:Hbe,stringifySym:UF,stringifySafeSym:LC,stringifiersSym:qF,setLevelSym:zbe,endSym:Gbe,formatOptsSym:Vbe,messageKeySym:Kbe,errorKeySym:Ybe,nestedKeySym:Wbe,mixinSym:Jbe,levelCompSym:Xbe,useOnlyCustomLevelsSym:Zbe,formattersSym:jF,hooksSym:eEe,nestedKeyStrSym:tEe,mixinMergeStrategySym:rEe,msgPrefixSym:nEe}=GF,{epochTime:KF,nullTime:sEe}=zF,{pid:iEe}=process,aEe=Cbe.hostname(),oEe=HF.err,cEe={level:"info",levelComparison:Obe.ASC,levels:Pbe,messageKey:"msg",errorKey:"err",nestedKey:null,enabled:!0,base:{pid:iEe,hostname:aEe},serializers:Object.assign(Object.create(null),{err:oEe}),formatters:Object.assign(Object.create(null),{bindings(e){return e},level(e,t){return{level:t}}}),hooks:{logMethod:void 0},timestamp:KF,name:void 0,redact:null,customLevels:null,useOnlyCustomLevels:!1,depthLimit:5,edgeLimit:100},uEe=$be(cEe),lEe=Object.assign(Object.create(null),HF);function MC(...e){let t={},{opts:r,stream:n}=uEe(t,wbe(),...e),{redact:s,crlf:a,serializers:o,timestamp:c,messageKey:u,errorKey:l,nestedKey:d,base:f,name:p,level:m,customLevels:h,levelComparison:g,mixin:A,mixinMergeStrategy:y,useOnlyCustomLevels:v,formatters:b,hooks:E,depthLimit:I,edgeLimit:w,onChild:S,msgPrefix:T}=r,B=Bbe({maximumDepth:I,maximumBreadth:w}),N=Mbe(b.level,b.bindings,b.log),O=$C.bind({[LC]:B}),k=s?Sbe(s,O):{},P=s?{stringify:k[Ube]}:{stringify:O},D="}"+(a?`\r
`:`
`),j=Lbe.bind(null,{[FF]:"",[QF]:o,[qF]:k,[UF]:$C,[LC]:B,[jF]:N}),H="";f!==null&&(p===void 0?H=j(f):H=j(Object.assign({},f,{name:p})));let V=c instanceof Function?c:c?KF:sEe,X=V().indexOf(":")+1;if(v&&!h)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(A&&typeof A!="function")throw Error(`Unknown mixin type "${typeof A}" - expected "function"`);if(T&&typeof T!="string")throw Error(`Unknown msgPrefix type "${typeof T}" - expected "string"`);Rbe(m,h,v);let U=VF(h,v);typeof n.emit=="function"&&n.emit("message",{code:"PINO_CONFIG",config:{levels:U,messageKey:u,errorKey:l}}),Dbe(g);let re=kbe(g);return Object.assign(t,{levels:U,[Xbe]:re,[Zbe]:v,[Hbe]:n,[qbe]:V,[jbe]:X,[UF]:$C,[LC]:B,[qF]:k,[Gbe]:D,[Vbe]:P,[Kbe]:u,[Ybe]:l,[Wbe]:d,[tEe]:d?`,${JSON.stringify(d)}:{`:"",[QF]:o,[Jbe]:A,[rEe]:y,[FF]:H,[jF]:N,[eEe]:E,silent:Fbe,onChild:S,[nEe]:T}),Object.setPrototypeOf(t,Tbe()),Nbe(t),t[zbe](m),t}ni.exports=MC;ni.exports.destination=(e=process.stdout.fd)=>typeof e=="object"?(e.dest=MF(e.dest||process.stdout.fd),LF(e)):LF({dest:MF(e),minLength:0});ni.exports.transport=EC();ni.exports.multistream=$F();ni.exports.levels=VF();ni.exports.stdSerializers=lEe;ni.exports.stdTimeFunctions=Object.assign({},zF);ni.exports.symbols=GF;ni.exports.version=Qbe;ni.exports.default=MC;ni.exports.pino=MC});var _0=C((uut,e9)=>{"use strict";var dEe=FL(),jy=YF(),{serializersSym:WF}=jy.symbols,{FST_ERR_LOG_INVALID_DESTINATION:fEe,FST_ERR_LOG_INVALID_LOGGER:pEe}=$n();function JF(e){if(e.stream&&e.file)throw new fEe;e.file&&(e.stream=jy.destination(e.file),delete e.file);let t=e.logger,r=e.genReqId,n=null;return t?(e.logger=void 0,e.genReqId=void 0,t[WF]&&(e.serializers=Object.assign({},e.serializers,t[WF])),n=t.child({},e),e.logger=t,e.genReqId=r):n=jy(e,e.stream),n}var FC={req:function(t){return{method:t.method,url:t.url,version:t.headers&&t.headers["accept-version"],hostname:t.hostname,remoteAddress:t.ip,remotePort:t.socket?t.socket.remotePort:void 0}},err:jy.stdSerializers.err,res:function(t){return{statusCode:t.statusCode}}};function hEe(){let e=process.hrtime();return e[0]*1e3+e[1]/1e6}function mEe(e){if(!e.logger){let n=dEe;return n.child=()=>n,{logger:n,hasLogger:!1}}if(XF(e.logger))return{logger:JF({logger:e.logger,serializers:Object.assign({},FC,e.logger.serializers)}),hasLogger:!0};let t={};return Object.prototype.toString.call(e.logger)==="[object Object]"&&Reflect.ownKeys(e.logger).forEach(n=>{Object.defineProperty(t,n,{value:e.logger[n],writable:!0,enumerable:!0,configurable:!0})}),t.level=t.level||"info",t.serializers=Object.assign({},FC,t.serializers),e.logger=t,{logger:JF(e.logger),hasLogger:!0}}function XF(e,t){let r=["info","error","debug","fatal","warn","trace","child"],n=e?r.filter(s=>!e[s]||typeof e[s]!="function"):r;if(n.length){if(n.length===r.length&&!t)return!1;throw pEe(n.join(","))}else return!0}function gEe(e,t,r,n,s){let a={[e.requestIdLogLabel]:n},o=e.childLoggerFactory.call(e.server,t,a,s||{},r);return e.childLoggerFactory!==ZF&&XF(o,!0),o}function ZF(e,t,r){return e.child(t,r)}e9.exports={createLogger:mEe,createChildLogger:gEe,defaultChildLoggerFactory:ZF,serializers:FC,now:hEe}});var Hy=C((lut,t9)=>{"use strict";t9.exports=AEe;function Md(e){return e instanceof Buffer?Buffer.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}function AEe(e){if(e=e||{},e.circles)return yEe(e);let t=new Map;if(t.set(Date,o=>new Date(o)),t.set(Map,(o,c)=>new Map(n(Array.from(o),c))),t.set(Set,(o,c)=>new Set(n(Array.from(o),c))),e.constructorHandlers)for(let o of e.constructorHandlers)t.set(o[0],o[1]);let r=null;return e.proto?a:s;function n(o,c){let u=Object.keys(o),l=new Array(u.length);for(let d=0;d<u.length;d++){let f=u[d],p=o[f];typeof p!="object"||p===null?l[f]=p:p.constructor!==Object&&(r=t.get(p.constructor))?l[f]=r(p,c):ArrayBuffer.isView(p)?l[f]=Md(p):l[f]=c(p)}return l}function s(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return n(o,s);if(o.constructor!==Object&&(r=t.get(o.constructor)))return r(o,s);let c={};for(let u in o){if(Object.hasOwnProperty.call(o,u)===!1)continue;let l=o[u];typeof l!="object"||l===null?c[u]=l:l.constructor!==Object&&(r=t.get(l.constructor))?c[u]=r(l,s):ArrayBuffer.isView(l)?c[u]=Md(l):c[u]=s(l)}return c}function a(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return n(o,a);if(o.constructor!==Object&&(r=t.get(o.constructor)))return r(o,a);let c={};for(let u in o){let l=o[u];typeof l!="object"||l===null?c[u]=l:l.constructor!==Object&&(r=t.get(l.constructor))?c[u]=r(l,a):ArrayBuffer.isView(l)?c[u]=Md(l):c[u]=a(l)}return c}}function yEe(e){let t=[],r=[],n=new Map;if(n.set(Date,u=>new Date(u)),n.set(Map,(u,l)=>new Map(a(Array.from(u),l))),n.set(Set,(u,l)=>new Set(a(Array.from(u),l))),e.constructorHandlers)for(let u of e.constructorHandlers)n.set(u[0],u[1]);let s=null;return e.proto?c:o;function a(u,l){let d=Object.keys(u),f=new Array(d.length);for(let p=0;p<d.length;p++){let m=d[p],h=u[m];if(typeof h!="object"||h===null)f[m]=h;else if(h.constructor!==Object&&(s=n.get(h.constructor)))f[m]=s(h,l);else if(ArrayBuffer.isView(h))f[m]=Md(h);else{let g=t.indexOf(h);g!==-1?f[m]=r[g]:f[m]=l(h)}}return f}function o(u){if(typeof u!="object"||u===null)return u;if(Array.isArray(u))return a(u,o);if(u.constructor!==Object&&(s=n.get(u.constructor)))return s(u,o);let l={};t.push(u),r.push(l);for(let d in u){if(Object.hasOwnProperty.call(u,d)===!1)continue;let f=u[d];if(typeof f!="object"||f===null)l[d]=f;else if(f.constructor!==Object&&(s=n.get(f.constructor)))l[d]=s(f,o);else if(ArrayBuffer.isView(f))l[d]=Md(f);else{let p=t.indexOf(f);p!==-1?l[d]=r[p]:l[d]=o(f)}}return t.pop(),r.pop(),l}function c(u){if(typeof u!="object"||u===null)return u;if(Array.isArray(u))return a(u,c);if(u.constructor!==Object&&(s=n.get(u.constructor)))return s(u,c);let l={};t.push(u),r.push(l);for(let d in u){let f=u[d];if(typeof f!="object"||f===null)l[d]=f;else if(f.constructor!==Object&&(s=n.get(f.constructor)))l[d]=s(f,c);else if(ArrayBuffer.isView(f))l[d]=Md(f);else{let p=t.indexOf(f);p!==-1?l[d]=r[p]:l[d]=c(f)}}return t.pop(),r.pop(),l}}});var I0=C((dut,i9)=>{"use strict";var bEe=Hy()({circles:!1,proto:!0}),{kSchemaVisited:r9,kSchemaResponse:EEe}=cn(),UC=Symbol.for("fluent-schema-object"),{FST_ERR_SCH_MISSING_ID:xEe,FST_ERR_SCH_ALREADY_PRESENT:vEe,FST_ERR_SCH_DUPLICATE:_Ee,FST_ERR_SCH_CONTENT_MISSING_SCHEMA:IEe}=$n(),s9=["params","body","querystring","query","headers"];function zy(e){this.store=e||{}}zy.prototype.add=function(e){let t=bEe(e.isFluentSchema||e.isFluentJSONSchema||e[UC]?e.valueOf():e),r=t.$id;if(!r)throw new xEe;if(this.store[r])throw new vEe(r);this.store[r]=t};zy.prototype.getSchemas=function(){return Object.assign({},this.store)};zy.prototype.getSchema=function(e){return this.store[e]};function n9(e){return typeof e=="object"&&Object.getPrototypeOf(e)!==Object.prototype}function CEe(e,t){if(e[r9])return e;if(e.query){if(e.querystring)throw new _Ee("querystring");e.querystring=e.query}wEe(e);for(let r of s9){let n=e[r];n&&!n9(n)&&(e[r]=QC(n,t.jsonShorthand))}if(e.response){let r=Object.keys(e.response);for(let n of r){if(n9(e.response[n]))continue;let s=e.response[n].content,a=!1;if(s){let o=Object.keys(s);for(let c=0;c<o.length;c++){let u=o[c];if(!s[u].schema){if(o.length===1)break;throw new IEe(u)}e.response[n].content[u].schema=QC(s[u].schema,t.jsonShorthand),c===o.length-1&&(a=!0)}}a||(e.response[n]=QC(e.response[n],t.jsonShorthand))}}return e[r9]=!0,e}function wEe(e){for(let t of s9)e[t]&&(e[t].isFluentSchema||e[t][UC])&&(e[t]=e[t].valueOf());if(e.response){let t=Object.keys(e.response);for(let r of t)(e.response[r].isFluentSchema||e.response[r][UC])&&(e.response[r]=e.response[r].valueOf())}}function QC(e,t){return!t||e.$ref||e.oneOf||e.allOf||e.anyOf||e.$merge||e.$patch?e:!e.type&&!e.properties?{type:"object",properties:e}:e}function SEe(e,t,r){let n=e[EEe];if(!n)return!1;if(n[t]){if(n[t].constructor===Object&&r){let a=r.split(";",1)[0];return n[t][a]?n[t][a]:!1}return n[t]}let s=(t+"")[0]+"xx";if(n[s]){if(n[s].constructor===Object&&r){let a=r.split(";",1)[0];return n[s][a]?n[s][a]:!1}return n[s]}if(n.default){if(n.default.constructor===Object&&r){let a=r.split(";",1)[0];return n.default[a]?n.default[a]:!1}return n.default}return!1}i9.exports={buildSchemas(e){return new zy(e)},getSchemaSerializer:SEe,normalizeSchema:CEe}});var qC=C((fut,o9)=>{"use strict";var TEe=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;o9.exports=class a9{constructor(t){switch(t&&t.rounding){case"floor":this.parseInteger=Math.floor;break;case"ceil":this.parseInteger=Math.ceil;break;case"round":this.parseInteger=Math.round;break;case"trunc":default:this.parseInteger=Math.trunc;break}this._options=t}asInteger(t){if(Number.isInteger(t))return""+t;if(typeof t=="bigint")return t.toString();let r=this.parseInteger(t);if(r===1/0||r===-1/0||r!==r)throw new Error(`The value "${t}" cannot be converted to an integer.`);return""+r}asNumber(t){let r=Number(t);if(r!==r)throw new Error(`The value "${t}" cannot be converted to a number.`);return r===1/0||r===-1/0?"null":""+r}asBoolean(t){return t&&"true"||"false"}asDateTime(t){if(t===null)return'""';if(t instanceof Date)return'"'+t.toISOString()+'"';if(typeof t=="string")return'"'+t+'"';throw new Error(`The value "${t}" cannot be converted to a date-time.`)}asDate(t){if(t===null)return'""';if(t instanceof Date)return'"'+new Date(t.getTime()-t.getTimezoneOffset()*6e4).toISOString().slice(0,10)+'"';if(typeof t=="string")return'"'+t+'"';throw new Error(`The value "${t}" cannot be converted to a date.`)}asTime(t){if(t===null)return'""';if(t instanceof Date)return'"'+new Date(t.getTime()-t.getTimezoneOffset()*6e4).toISOString().slice(11,19)+'"';if(typeof t=="string")return'"'+t+'"';throw new Error(`The value "${t}" cannot be converted to a time.`)}asString(t){let r=t.length;if(r<42){let s="",a=-1,o=255;for(var n=0;n<r;n++)if(o=t.charCodeAt(n),o===34||o===92)a===-1&&(a=0),s+=t.slice(a,n)+"\\",a=n;else if(o<32||o>=55296&&o<=57343)return JSON.stringify(t);return a===-1&&'"'+t+'"'||'"'+s+t.slice(a)+'"'}else return r<5e3&&TEe.test(t)===!1?'"'+t+'"':JSON.stringify(t)}asUnsafeString(t){return'"'+t+'"'}getState(){return this._options}static restoreFromState(t){return new a9(t)}}});var S0=C(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.regexpCode=Ot.getEsmExportName=Ot.getProperty=Ot.safeStringify=Ot.stringify=Ot.strConcat=Ot.addCodeArg=Ot.str=Ot._=Ot.nil=Ot._Code=Ot.Name=Ot.IDENTIFIER=Ot._CodeOrName=void 0;var C0=class{};Ot._CodeOrName=C0;Ot.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var ju=class extends C0{constructor(t){if(super(),!Ot.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};Ot.Name=ju;var si=class extends C0{constructor(t){super(),this._items=typeof t=="string"?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let t=this._items[0];return t===""||t==='""'}get str(){var t;return(t=this._str)!==null&&t!==void 0?t:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var t;return(t=this._names)!==null&&t!==void 0?t:this._names=this._items.reduce((r,n)=>(n instanceof ju&&(r[n.str]=(r[n.str]||0)+1),r),{})}};Ot._Code=si;Ot.nil=new si("");function c9(e,...t){let r=[e[0]],n=0;for(;n<t.length;)HC(r,t[n]),r.push(e[++n]);return new si(r)}Ot._=c9;var jC=new si("+");function u9(e,...t){let r=[w0(e[0])],n=0;for(;n<t.length;)r.push(jC),HC(r,t[n]),r.push(jC,w0(e[++n]));return BEe(r),new si(r)}Ot.str=u9;function HC(e,t){t instanceof si?e.push(...t._items):t instanceof ju?e.push(t):e.push(kEe(t))}Ot.addCodeArg=HC;function BEe(e){let t=1;for(;t<e.length-1;){if(e[t]===jC){let r=REe(e[t-1],e[t+1]);if(r!==void 0){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}function REe(e,t){if(t==='""')return e;if(e==='""')return t;if(typeof e=="string")return t instanceof ju||e[e.length-1]!=='"'?void 0:typeof t!="string"?`${e.slice(0,-1)}${t}"`:t[0]==='"'?e.slice(0,-1)+t.slice(1):void 0;if(typeof t=="string"&&t[0]==='"'&&!(e instanceof ju))return`"${e}${t.slice(1)}`}function NEe(e,t){return t.emptyStr()?e:e.emptyStr()?t:u9`${e}${t}`}Ot.strConcat=NEe;function kEe(e){return typeof e=="number"||typeof e=="boolean"||e===null?e:w0(Array.isArray(e)?e.join(","):e)}function DEe(e){return new si(w0(e))}Ot.stringify=DEe;function w0(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}Ot.safeStringify=w0;function PEe(e){return typeof e=="string"&&Ot.IDENTIFIER.test(e)?new si(`.${e}`):c9`[${e}]`}Ot.getProperty=PEe;function OEe(e){if(typeof e=="string"&&Ot.IDENTIFIER.test(e))return new si(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)}Ot.getEsmExportName=OEe;function $Ee(e){return new si(e.toString())}Ot.regexpCode=$Ee});var VC=C(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.ValueScope=_s.ValueScopeName=_s.Scope=_s.varKinds=_s.UsedValueState=void 0;var vs=S0(),zC=class extends Error{constructor(t){super(`CodeGen: "code" for ${t} not defined`),this.value=t.value}},Gy;(function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"})(Gy||(_s.UsedValueState=Gy={}));_s.varKinds={const:new vs.Name("const"),let:new vs.Name("let"),var:new vs.Name("var")};var Vy=class{constructor({prefixes:t,parent:r}={}){this._names={},this._prefixes=t,this._parent=r}toName(t){return t instanceof vs.Name?t:this.name(t)}name(t){return new vs.Name(this._newName(t))}_newName(t){let r=this._names[t]||this._nameGroup(t);return`${t}${r.index++}`}_nameGroup(t){var r,n;if(!((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0)&&n.has(t)||this._prefixes&&!this._prefixes.has(t))throw new Error(`CodeGen: prefix "${t}" is not allowed in this scope`);return this._names[t]={prefix:t,index:0}}};_s.Scope=Vy;var Ky=class extends vs.Name{constructor(t,r){super(r),this.prefix=t}setValue(t,{property:r,itemIndex:n}){this.value=t,this.scopePath=(0,vs._)`.${new vs.Name(r)}[${n}]`}};_s.ValueScopeName=Ky;var LEe=(0,vs._)`\n`,GC=class extends Vy{constructor(t){super(t),this._values={},this._scope=t.scope,this.opts={...t,_n:t.lines?LEe:vs.nil}}get(){return this._scope}name(t){return new Ky(t,this._newName(t))}value(t,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let s=this.toName(t),{prefix:a}=s,o=(n=r.key)!==null&&n!==void 0?n:r.ref,c=this._values[a];if(c){let d=c.get(o);if(d)return d}else c=this._values[a]=new Map;c.set(o,s);let u=this._scope[a]||(this._scope[a]=[]),l=u.length;return u[l]=r.ref,s.setValue(r,{property:a,itemIndex:l}),s}getValue(t,r){let n=this._values[t];if(n)return n.get(r)}scopeRefs(t,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return(0,vs._)`${t}${n.scopePath}`})}scopeCode(t=this._values,r,n){return this._reduceValues(t,s=>{if(s.value===void 0)throw new Error(`CodeGen: name "${s}" has no value`);return s.value.code},r,n)}_reduceValues(t,r,n={},s){let a=vs.nil;for(let o in t){let c=t[o];if(!c)continue;let u=n[o]=n[o]||new Map;c.forEach(l=>{if(u.has(l))return;u.set(l,Gy.Started);let d=r(l);if(d){let f=this.opts.es5?_s.varKinds.var:_s.varKinds.const;a=(0,vs._)`${a}${f} ${l} = ${d};${this.opts._n}`}else if(d=s?.(l))a=(0,vs._)`${a}${d}${this.opts._n}`;else throw new zC(l);u.set(l,Gy.Completed)})}return a}};_s.ValueScope=GC});var ot=C(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.or=dt.and=dt.not=dt.CodeGen=dt.operators=dt.varKinds=dt.ValueScopeName=dt.ValueScope=dt.Scope=dt.Name=dt.regexpCode=dt.stringify=dt.getProperty=dt.nil=dt.strConcat=dt.str=dt._=void 0;var Ct=S0(),Fi=VC(),hc=S0();Object.defineProperty(dt,"_",{enumerable:!0,get:function(){return hc._}});Object.defineProperty(dt,"str",{enumerable:!0,get:function(){return hc.str}});Object.defineProperty(dt,"strConcat",{enumerable:!0,get:function(){return hc.strConcat}});Object.defineProperty(dt,"nil",{enumerable:!0,get:function(){return hc.nil}});Object.defineProperty(dt,"getProperty",{enumerable:!0,get:function(){return hc.getProperty}});Object.defineProperty(dt,"stringify",{enumerable:!0,get:function(){return hc.stringify}});Object.defineProperty(dt,"regexpCode",{enumerable:!0,get:function(){return hc.regexpCode}});Object.defineProperty(dt,"Name",{enumerable:!0,get:function(){return hc.Name}});var Xy=VC();Object.defineProperty(dt,"Scope",{enumerable:!0,get:function(){return Xy.Scope}});Object.defineProperty(dt,"ValueScope",{enumerable:!0,get:function(){return Xy.ValueScope}});Object.defineProperty(dt,"ValueScopeName",{enumerable:!0,get:function(){return Xy.ValueScopeName}});Object.defineProperty(dt,"varKinds",{enumerable:!0,get:function(){return Xy.varKinds}});dt.operators={GT:new Ct._Code(">"),GTE:new Ct._Code(">="),LT:new Ct._Code("<"),LTE:new Ct._Code("<="),EQ:new Ct._Code("==="),NEQ:new Ct._Code("!=="),NOT:new Ct._Code("!"),OR:new Ct._Code("||"),AND:new Ct._Code("&&"),ADD:new Ct._Code("+")};var oo=class{optimizeNodes(){return this}optimizeNames(t,r){return this}},KC=class extends oo{constructor(t,r,n){super(),this.varKind=t,this.name=r,this.rhs=n}render({es5:t,_n:r}){let n=t?Fi.varKinds.var:this.varKind,s=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${s};`+r}optimizeNames(t,r){if(t[this.name.str])return this.rhs&&(this.rhs=Qd(this.rhs,t,r)),this}get names(){return this.rhs instanceof Ct._CodeOrName?this.rhs.names:{}}},Yy=class extends oo{constructor(t,r,n){super(),this.lhs=t,this.rhs=r,this.sideEffects=n}render({_n:t}){return`${this.lhs} = ${this.rhs};`+t}optimizeNames(t,r){if(!(this.lhs instanceof Ct.Name&&!t[this.lhs.str]&&!this.sideEffects))return this.rhs=Qd(this.rhs,t,r),this}get names(){let t=this.lhs instanceof Ct.Name?{}:{...this.lhs.names};return Jy(t,this.rhs)}},YC=class extends Yy{constructor(t,r,n,s){super(t,n,s),this.op=r}render({_n:t}){return`${this.lhs} ${this.op}= ${this.rhs};`+t}},WC=class extends oo{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`${this.label}:`+t}},JC=class extends oo{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`break${this.label?` ${this.label}`:""};`+t}},XC=class extends oo{constructor(t){super(),this.error=t}render({_n:t}){return`throw ${this.error};`+t}get names(){return this.error.names}},ZC=class extends oo{constructor(t){super(),this.code=t}render({_n:t}){return`${this.code};`+t}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(t,r){return this.code=Qd(this.code,t,r),this}get names(){return this.code instanceof Ct._CodeOrName?this.code.names:{}}},T0=class extends oo{constructor(t=[]){super(),this.nodes=t}render(t){return this.nodes.reduce((r,n)=>r+n.render(t),"")}optimizeNodes(){let{nodes:t}=this,r=t.length;for(;r--;){let n=t[r].optimizeNodes();Array.isArray(n)?t.splice(r,1,...n):n?t[r]=n:t.splice(r,1)}return t.length>0?this:void 0}optimizeNames(t,r){let{nodes:n}=this,s=n.length;for(;s--;){let a=n[s];a.optimizeNames(t,r)||(MEe(t,a.names),n.splice(s,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((t,r)=>Gu(t,r.names),{})}},co=class extends T0{render(t){return"{"+t._n+super.render(t)+"}"+t._n}},ew=class extends T0{},Fd=class extends co{};Fd.kind="else";var Hu=class e extends co{constructor(t,r){super(r),this.condition=t}render(t){let r=`if(${this.condition})`+super.render(t);return this.else&&(r+="else "+this.else.render(t)),r}optimizeNodes(){super.optimizeNodes();let t=this.condition;if(t===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new Fd(n):n}if(r)return t===!1?r instanceof e?r:r.nodes:this.nodes.length?this:new e(l9(t),r instanceof e?[r]:r.nodes);if(!(t===!1||!this.nodes.length))return this}optimizeNames(t,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(t,r),!!(super.optimizeNames(t,r)||this.else))return this.condition=Qd(this.condition,t,r),this}get names(){let t=super.names;return Jy(t,this.condition),this.else&&Gu(t,this.else.names),t}};Hu.kind="if";var zu=class extends co{};zu.kind="for";var tw=class extends zu{constructor(t){super(),this.iteration=t}render(t){return`for(${this.iteration})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iteration=Qd(this.iteration,t,r),this}get names(){return Gu(super.names,this.iteration.names)}},rw=class extends zu{constructor(t,r,n,s){super(),this.varKind=t,this.name=r,this.from=n,this.to=s}render(t){let r=t.es5?Fi.varKinds.var:this.varKind,{name:n,from:s,to:a}=this;return`for(${r} ${n}=${s}; ${n}<${a}; ${n}++)`+super.render(t)}get names(){let t=Jy(super.names,this.from);return Jy(t,this.to)}},Wy=class extends zu{constructor(t,r,n,s){super(),this.loop=t,this.varKind=r,this.name=n,this.iterable=s}render(t){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iterable=Qd(this.iterable,t,r),this}get names(){return Gu(super.names,this.iterable.names)}},B0=class extends co{constructor(t,r,n){super(),this.name=t,this.args=r,this.async=n}render(t){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(t)}};B0.kind="func";var R0=class extends T0{render(t){return"return "+super.render(t)}};R0.kind="return";var nw=class extends co{render(t){let r="try"+super.render(t);return this.catch&&(r+=this.catch.render(t)),this.finally&&(r+=this.finally.render(t)),r}optimizeNodes(){var t,r;return super.optimizeNodes(),(t=this.catch)===null||t===void 0||t.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(t,r){var n,s;return super.optimizeNames(t,r),(n=this.catch)===null||n===void 0||n.optimizeNames(t,r),(s=this.finally)===null||s===void 0||s.optimizeNames(t,r),this}get names(){let t=super.names;return this.catch&&Gu(t,this.catch.names),this.finally&&Gu(t,this.finally.names),t}},N0=class extends co{constructor(t){super(),this.error=t}render(t){return`catch(${this.error})`+super.render(t)}};N0.kind="catch";var k0=class extends co{render(t){return"finally"+super.render(t)}};k0.kind="finally";var sw=class{constructor(t,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...r,_n:r.lines?`
`:""},this._extScope=t,this._scope=new Fi.Scope({parent:t}),this._nodes=[new ew]}toString(){return this._root.render(this.opts)}name(t){return this._scope.name(t)}scopeName(t){return this._extScope.name(t)}scopeValue(t,r){let n=this._extScope.value(t,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(t,r){return this._extScope.getValue(t,r)}scopeRefs(t){return this._extScope.scopeRefs(t,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(t,r,n,s){let a=this._scope.toName(r);return n!==void 0&&s&&(this._constants[a.str]=n),this._leafNode(new KC(t,a,n)),a}const(t,r,n){return this._def(Fi.varKinds.const,t,r,n)}let(t,r,n){return this._def(Fi.varKinds.let,t,r,n)}var(t,r,n){return this._def(Fi.varKinds.var,t,r,n)}assign(t,r,n){return this._leafNode(new Yy(t,r,n))}add(t,r){return this._leafNode(new YC(t,dt.operators.ADD,r))}code(t){return typeof t=="function"?t():t!==Ct.nil&&this._leafNode(new ZC(t)),this}object(...t){let r=["{"];for(let[n,s]of t)r.length>1&&r.push(","),r.push(n),(n!==s||this.opts.es5)&&(r.push(":"),(0,Ct.addCodeArg)(r,s));return r.push("}"),new Ct._Code(r)}if(t,r,n){if(this._blockNode(new Hu(t)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(t){return this._elseNode(new Hu(t))}else(){return this._elseNode(new Fd)}endIf(){return this._endBlockNode(Hu,Fd)}_for(t,r){return this._blockNode(t),r&&this.code(r).endFor(),this}for(t,r){return this._for(new tw(t),r)}forRange(t,r,n,s,a=this.opts.es5?Fi.varKinds.var:Fi.varKinds.let){let o=this._scope.toName(t);return this._for(new rw(a,o,r,n),()=>s(o))}forOf(t,r,n,s=Fi.varKinds.const){let a=this._scope.toName(t);if(this.opts.es5){let o=r instanceof Ct.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,Ct._)`${o}.length`,c=>{this.var(a,(0,Ct._)`${o}[${c}]`),n(a)})}return this._for(new Wy("of",s,a,r),()=>n(a))}forIn(t,r,n,s=this.opts.es5?Fi.varKinds.var:Fi.varKinds.const){if(this.opts.ownProperties)return this.forOf(t,(0,Ct._)`Object.keys(${r})`,n);let a=this._scope.toName(t);return this._for(new Wy("in",s,a,r),()=>n(a))}endFor(){return this._endBlockNode(zu)}label(t){return this._leafNode(new WC(t))}break(t){return this._leafNode(new JC(t))}return(t){let r=new R0;if(this._blockNode(r),this.code(t),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(R0)}try(t,r,n){if(!r&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let s=new nw;if(this._blockNode(s),this.code(t),r){let a=this.name("e");this._currNode=s.catch=new N0(a),r(a)}return n&&(this._currNode=s.finally=new k0,this.code(n)),this._endBlockNode(N0,k0)}throw(t){return this._leafNode(new XC(t))}block(t,r){return this._blockStarts.push(this._nodes.length),t&&this.code(t).endBlock(r),this}endBlock(t){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||t!==void 0&&n!==t)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${t} expected`);return this._nodes.length=r,this}func(t,r=Ct.nil,n,s){return this._blockNode(new B0(t,r,n)),s&&this.code(s).endFunc(),this}endFunc(){return this._endBlockNode(B0)}optimize(t=1){for(;t-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(t){return this._currNode.nodes.push(t),this}_blockNode(t){this._currNode.nodes.push(t),this._nodes.push(t)}_endBlockNode(t,r){let n=this._currNode;if(n instanceof t||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${t.kind}/${r.kind}`:t.kind}"`)}_elseNode(t){let r=this._currNode;if(!(r instanceof Hu))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=t,this}get _root(){return this._nodes[0]}get _currNode(){let t=this._nodes;return t[t.length-1]}set _currNode(t){let r=this._nodes;r[r.length-1]=t}};dt.CodeGen=sw;function Gu(e,t){for(let r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function Jy(e,t){return t instanceof Ct._CodeOrName?Gu(e,t.names):e}function Qd(e,t,r){if(e instanceof Ct.Name)return n(e);if(!s(e))return e;return new Ct._Code(e._items.reduce((a,o)=>(o instanceof Ct.Name&&(o=n(o)),o instanceof Ct._Code?a.push(...o._items):a.push(o),a),[]));function n(a){let o=r[a.str];return o===void 0||t[a.str]!==1?a:(delete t[a.str],o)}function s(a){return a instanceof Ct._Code&&a._items.some(o=>o instanceof Ct.Name&&t[o.str]===1&&r[o.str]!==void 0)}}function MEe(e,t){for(let r in t)e[r]=(e[r]||0)-(t[r]||0)}function l9(e){return typeof e=="boolean"||typeof e=="number"||e===null?!e:(0,Ct._)`!${iw(e)}`}dt.not=l9;var FEe=d9(dt.operators.AND);function QEe(...e){return e.reduce(FEe)}dt.and=QEe;var UEe=d9(dt.operators.OR);function qEe(...e){return e.reduce(UEe)}dt.or=qEe;function d9(e){return(t,r)=>t===Ct.nil?r:r===Ct.nil?t:(0,Ct._)`${iw(t)} ${e} ${iw(r)}`}function iw(e){return e instanceof Ct.Name?e:(0,Ct._)`(${e})`}});var $t=C(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.checkStrictMode=gt.getErrorPath=gt.Type=gt.useFunc=gt.setEvaluated=gt.evaluatedPropsToName=gt.mergeEvaluated=gt.eachItem=gt.unescapeJsonPointer=gt.escapeJsonPointer=gt.escapeFragment=gt.unescapeFragment=gt.schemaRefOrVal=gt.schemaHasRulesButRef=gt.schemaHasRules=gt.checkUnknownRules=gt.alwaysValidSchema=gt.toHash=void 0;var or=ot(),jEe=S0();function HEe(e){let t={};for(let r of e)t[r]=!0;return t}gt.toHash=HEe;function zEe(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(h9(e,t),!m9(t,e.self.RULES.all))}gt.alwaysValidSchema=zEe;function h9(e,t=e.schema){let{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;let s=n.RULES.keywords;for(let a in t)s[a]||y9(e,`unknown keyword: "${a}"`)}gt.checkUnknownRules=h9;function m9(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(t[r])return!0;return!1}gt.schemaHasRules=m9;function GEe(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}gt.schemaHasRulesButRef=GEe;function VEe({topSchemaRef:e,schemaPath:t},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,or._)`${r}`}return(0,or._)`${e}${t}${(0,or.getProperty)(n)}`}gt.schemaRefOrVal=VEe;function KEe(e){return g9(decodeURIComponent(e))}gt.unescapeFragment=KEe;function YEe(e){return encodeURIComponent(ow(e))}gt.escapeFragment=YEe;function ow(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}gt.escapeJsonPointer=ow;function g9(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}gt.unescapeJsonPointer=g9;function WEe(e,t){if(Array.isArray(e))for(let r of e)t(r);else t(e)}gt.eachItem=WEe;function f9({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(s,a,o,c)=>{let u=o===void 0?a:o instanceof or.Name?(a instanceof or.Name?e(s,a,o):t(s,a,o),o):a instanceof or.Name?(t(s,o,a),a):r(a,o);return c===or.Name&&!(u instanceof or.Name)?n(s,u):u}}gt.mergeEvaluated={props:f9({mergeNames:(e,t,r)=>e.if((0,or._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,or._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,or._)`${r} || {}`).code((0,or._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,or._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,or._)`${r} || {}`),cw(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:A9}),items:f9({mergeNames:(e,t,r)=>e.if((0,or._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,or._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,or._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,or._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function A9(e,t){if(t===!0)return e.var("props",!0);let r=e.var("props",(0,or._)`{}`);return t!==void 0&&cw(e,r,t),r}gt.evaluatedPropsToName=A9;function cw(e,t,r){Object.keys(r).forEach(n=>e.assign((0,or._)`${t}${(0,or.getProperty)(n)}`,!0))}gt.setEvaluated=cw;var p9={};function JEe(e,t){return e.scopeValue("func",{ref:t,code:p9[t.code]||(p9[t.code]=new jEe._Code(t.code))})}gt.useFunc=JEe;var aw;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(aw||(gt.Type=aw={}));function XEe(e,t,r){if(e instanceof or.Name){let n=t===aw.Num;return r?n?(0,or._)`"[" + ${e} + "]"`:(0,or._)`"['" + ${e} + "']"`:n?(0,or._)`"/" + ${e}`:(0,or._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,or.getProperty)(e).toString():"/"+ow(e)}gt.getErrorPath=XEe;function y9(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}gt.checkStrictMode=y9});var uo=C(uw=>{"use strict";Object.defineProperty(uw,"__esModule",{value:!0});var Mn=ot(),ZEe={data:new Mn.Name("data"),valCxt:new Mn.Name("valCxt"),instancePath:new Mn.Name("instancePath"),parentData:new Mn.Name("parentData"),parentDataProperty:new Mn.Name("parentDataProperty"),rootData:new Mn.Name("rootData"),dynamicAnchors:new Mn.Name("dynamicAnchors"),vErrors:new Mn.Name("vErrors"),errors:new Mn.Name("errors"),this:new Mn.Name("this"),self:new Mn.Name("self"),scope:new Mn.Name("scope"),json:new Mn.Name("json"),jsonPos:new Mn.Name("jsonPos"),jsonLen:new Mn.Name("jsonLen"),jsonPart:new Mn.Name("jsonPart")};uw.default=ZEe});var D0=C(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.extendErrors=Fn.resetErrorsCount=Fn.reportExtraError=Fn.reportError=Fn.keyword$DataError=Fn.keywordError=void 0;var Bt=ot(),Zy=$t(),is=uo();Fn.keywordError={message:({keyword:e})=>(0,Bt.str)`must pass "${e}" keyword validation`};Fn.keyword$DataError={message:({keyword:e,schemaType:t})=>t?(0,Bt.str)`"${e}" keyword must be ${t} ($data)`:(0,Bt.str)`"${e}" keyword is invalid ($data)`};function exe(e,t=Fn.keywordError,r,n){let{it:s}=e,{gen:a,compositeRule:o,allErrors:c}=s,u=x9(e,t,r);n??(o||c)?b9(a,u):E9(s,(0,Bt._)`[${u}]`)}Fn.reportError=exe;function txe(e,t=Fn.keywordError,r){let{it:n}=e,{gen:s,compositeRule:a,allErrors:o}=n,c=x9(e,t,r);b9(s,c),a||o||E9(n,is.default.vErrors)}Fn.reportExtraError=txe;function rxe(e,t){e.assign(is.default.errors,t),e.if((0,Bt._)`${is.default.vErrors} !== null`,()=>e.if(t,()=>e.assign((0,Bt._)`${is.default.vErrors}.length`,t),()=>e.assign(is.default.vErrors,null)))}Fn.resetErrorsCount=rxe;function nxe({gen:e,keyword:t,schemaValue:r,data:n,errsCount:s,it:a}){if(s===void 0)throw new Error("ajv implementation error");let o=e.name("err");e.forRange("i",s,is.default.errors,c=>{e.const(o,(0,Bt._)`${is.default.vErrors}[${c}]`),e.if((0,Bt._)`${o}.instancePath === undefined`,()=>e.assign((0,Bt._)`${o}.instancePath`,(0,Bt.strConcat)(is.default.instancePath,a.errorPath))),e.assign((0,Bt._)`${o}.schemaPath`,(0,Bt.str)`${a.errSchemaPath}/${t}`),a.opts.verbose&&(e.assign((0,Bt._)`${o}.schema`,r),e.assign((0,Bt._)`${o}.data`,n))})}Fn.extendErrors=nxe;function b9(e,t){let r=e.const("err",t);e.if((0,Bt._)`${is.default.vErrors} === null`,()=>e.assign(is.default.vErrors,(0,Bt._)`[${r}]`),(0,Bt._)`${is.default.vErrors}.push(${r})`),e.code((0,Bt._)`${is.default.errors}++`)}function E9(e,t){let{gen:r,validateName:n,schemaEnv:s}=e;s.$async?r.throw((0,Bt._)`new ${e.ValidationError}(${t})`):(r.assign((0,Bt._)`${n}.errors`,t),r.return(!1))}var Vu={keyword:new Bt.Name("keyword"),schemaPath:new Bt.Name("schemaPath"),params:new Bt.Name("params"),propertyName:new Bt.Name("propertyName"),message:new Bt.Name("message"),schema:new Bt.Name("schema"),parentSchema:new Bt.Name("parentSchema")};function x9(e,t,r){let{createErrors:n}=e.it;return n===!1?(0,Bt._)`{}`:sxe(e,t,r)}function sxe(e,t,r={}){let{gen:n,it:s}=e,a=[ixe(s,r),axe(e,r)];return oxe(e,t,a),n.object(...a)}function ixe({errorPath:e},{instancePath:t}){let r=t?(0,Bt.str)`${e}${(0,Zy.getErrorPath)(t,Zy.Type.Str)}`:e;return[is.default.instancePath,(0,Bt.strConcat)(is.default.instancePath,r)]}function axe({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:n}){let s=n?t:(0,Bt.str)`${t}/${e}`;return r&&(s=(0,Bt.str)`${s}${(0,Zy.getErrorPath)(r,Zy.Type.Str)}`),[Vu.schemaPath,s]}function oxe(e,{params:t,message:r},n){let{keyword:s,data:a,schemaValue:o,it:c}=e,{opts:u,propertyName:l,topSchemaRef:d,schemaPath:f}=c;n.push([Vu.keyword,s],[Vu.params,typeof t=="function"?t(e):t||(0,Bt._)`{}`]),u.messages&&n.push([Vu.message,typeof r=="function"?r(e):r]),u.verbose&&n.push([Vu.schema,o],[Vu.parentSchema,(0,Bt._)`${d}${f}`],[is.default.data,a]),l&&n.push([Vu.propertyName,l])}});var _9=C(Ud=>{"use strict";Object.defineProperty(Ud,"__esModule",{value:!0});Ud.boolOrEmptySchema=Ud.topBoolOrEmptySchema=void 0;var cxe=D0(),uxe=ot(),lxe=uo(),dxe={message:"boolean schema is false"};function fxe(e){let{gen:t,schema:r,validateName:n}=e;r===!1?v9(e,!1):typeof r=="object"&&r.$async===!0?t.return(lxe.default.data):(t.assign((0,uxe._)`${n}.errors`,null),t.return(!0))}Ud.topBoolOrEmptySchema=fxe;function pxe(e,t){let{gen:r,schema:n}=e;n===!1?(r.var(t,!1),v9(e)):r.var(t,!0)}Ud.boolOrEmptySchema=pxe;function v9(e,t){let{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,cxe.reportError)(s,dxe,void 0,t)}});var lw=C(qd=>{"use strict";Object.defineProperty(qd,"__esModule",{value:!0});qd.getRules=qd.isJSONType=void 0;var hxe=["string","number","integer","boolean","null","object","array"],mxe=new Set(hxe);function gxe(e){return typeof e=="string"&&mxe.has(e)}qd.isJSONType=gxe;function Axe(){let e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}qd.getRules=Axe});var dw=C(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});mc.shouldUseRule=mc.shouldUseGroup=mc.schemaHasRulesForType=void 0;function yxe({schema:e,self:t},r){let n=t.RULES.types[r];return n&&n!==!0&&I9(e,n)}mc.schemaHasRulesForType=yxe;function I9(e,t){return t.rules.some(r=>C9(e,r))}mc.shouldUseGroup=I9;function C9(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}mc.shouldUseRule=C9});var P0=C(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});Qn.reportTypeError=Qn.checkDataTypes=Qn.checkDataType=Qn.coerceAndCheckDataType=Qn.getJSONTypes=Qn.getSchemaTypes=Qn.DataType=void 0;var bxe=lw(),Exe=dw(),xxe=D0(),rt=ot(),w9=$t(),jd;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(jd||(Qn.DataType=jd={}));function vxe(e){let t=S9(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}Qn.getSchemaTypes=vxe;function S9(e){let t=Array.isArray(e)?e:e?[e]:[];if(t.every(bxe.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}Qn.getJSONTypes=S9;function _xe(e,t){let{gen:r,data:n,opts:s}=e,a=Ixe(t,s.coerceTypes),o=t.length>0&&!(a.length===0&&t.length===1&&(0,Exe.schemaHasRulesForType)(e,t[0]));if(o){let c=pw(t,n,s.strictNumbers,jd.Wrong);r.if(c,()=>{a.length?Cxe(e,t,a):hw(e)})}return o}Qn.coerceAndCheckDataType=_xe;var T9=new Set(["string","number","integer","boolean","null"]);function Ixe(e,t){return t?e.filter(r=>T9.has(r)||t==="array"&&r==="array"):[]}function Cxe(e,t,r){let{gen:n,data:s,opts:a}=e,o=n.let("dataType",(0,rt._)`typeof ${s}`),c=n.let("coerced",(0,rt._)`undefined`);a.coerceTypes==="array"&&n.if((0,rt._)`${o} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,rt._)`${s}[0]`).assign(o,(0,rt._)`typeof ${s}`).if(pw(t,s,a.strictNumbers),()=>n.assign(c,s))),n.if((0,rt._)`${c} !== undefined`);for(let l of r)(T9.has(l)||l==="array"&&a.coerceTypes==="array")&&u(l);n.else(),hw(e),n.endIf(),n.if((0,rt._)`${c} !== undefined`,()=>{n.assign(s,c),wxe(e,c)});function u(l){switch(l){case"string":n.elseIf((0,rt._)`${o} == "number" || ${o} == "boolean"`).assign(c,(0,rt._)`"" + ${s}`).elseIf((0,rt._)`${s} === null`).assign(c,(0,rt._)`""`);return;case"number":n.elseIf((0,rt._)`${o} == "boolean" || ${s} === null
              || (${o} == "string" && ${s} && ${s} == +${s})`).assign(c,(0,rt._)`+${s}`);return;case"integer":n.elseIf((0,rt._)`${o} === "boolean" || ${s} === null
              || (${o} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(c,(0,rt._)`+${s}`);return;case"boolean":n.elseIf((0,rt._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(c,!1).elseIf((0,rt._)`${s} === "true" || ${s} === 1`).assign(c,!0);return;case"null":n.elseIf((0,rt._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(c,null);return;case"array":n.elseIf((0,rt._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${s} === null`).assign(c,(0,rt._)`[${s}]`)}}}function wxe({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,rt._)`${t} !== undefined`,()=>e.assign((0,rt._)`${t}[${r}]`,n))}function fw(e,t,r,n=jd.Correct){let s=n===jd.Correct?rt.operators.EQ:rt.operators.NEQ,a;switch(e){case"null":return(0,rt._)`${t} ${s} null`;case"array":a=(0,rt._)`Array.isArray(${t})`;break;case"object":a=(0,rt._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":a=o((0,rt._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":a=o();break;default:return(0,rt._)`typeof ${t} ${s} ${e}`}return n===jd.Correct?a:(0,rt.not)(a);function o(c=rt.nil){return(0,rt.and)((0,rt._)`typeof ${t} == "number"`,c,r?(0,rt._)`isFinite(${t})`:rt.nil)}}Qn.checkDataType=fw;function pw(e,t,r,n){if(e.length===1)return fw(e[0],t,r,n);let s,a=(0,w9.toHash)(e);if(a.array&&a.object){let o=(0,rt._)`typeof ${t} != "object"`;s=a.null?o:(0,rt._)`!${t} || ${o}`,delete a.null,delete a.array,delete a.object}else s=rt.nil;a.number&&delete a.integer;for(let o in a)s=(0,rt.and)(s,fw(o,t,r,n));return s}Qn.checkDataTypes=pw;var Sxe={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,rt._)`{type: ${e}}`:(0,rt._)`{type: ${t}}`};function hw(e){let t=Txe(e);(0,xxe.reportError)(t,Sxe)}Qn.reportTypeError=hw;function Txe(e){let{gen:t,data:r,schema:n}=e,s=(0,w9.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:e}}});var R9=C(e1=>{"use strict";Object.defineProperty(e1,"__esModule",{value:!0});e1.assignDefaults=void 0;var Hd=ot(),Bxe=$t();function Rxe(e,t){let{properties:r,items:n}=e.schema;if(t==="object"&&r)for(let s in r)B9(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,a)=>B9(e,a,s.default))}e1.assignDefaults=Rxe;function B9(e,t,r){let{gen:n,compositeRule:s,data:a,opts:o}=e;if(r===void 0)return;let c=(0,Hd._)`${a}${(0,Hd.getProperty)(t)}`;if(s){(0,Bxe.checkStrictMode)(e,`default is ignored for: ${c}`);return}let u=(0,Hd._)`${c} === undefined`;o.useDefaults==="empty"&&(u=(0,Hd._)`${u} || ${c} === null || ${c} === ""`),n.if(u,(0,Hd._)`${c} = ${(0,Hd.stringify)(r)}`)}});var ii=C(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.validateUnion=Xt.validateArray=Xt.usePattern=Xt.callValidateCode=Xt.schemaProperties=Xt.allSchemaProperties=Xt.noPropertyInData=Xt.propertyInData=Xt.isOwnProperty=Xt.hasPropFunc=Xt.reportMissingProp=Xt.checkMissingProp=Xt.checkReportMissingProp=void 0;var yr=ot(),mw=$t(),gc=uo(),Nxe=$t();function kxe(e,t){let{gen:r,data:n,it:s}=e;r.if(Aw(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,yr._)`${t}`},!0),e.error()})}Xt.checkReportMissingProp=kxe;function Dxe({gen:e,data:t,it:{opts:r}},n,s){return(0,yr.or)(...n.map(a=>(0,yr.and)(Aw(e,t,a,r.ownProperties),(0,yr._)`${s} = ${a}`)))}Xt.checkMissingProp=Dxe;function Pxe(e,t){e.setParams({missingProperty:t},!0),e.error()}Xt.reportMissingProp=Pxe;function N9(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,yr._)`Object.prototype.hasOwnProperty`})}Xt.hasPropFunc=N9;function gw(e,t,r){return(0,yr._)`${N9(e)}.call(${t}, ${r})`}Xt.isOwnProperty=gw;function Oxe(e,t,r,n){let s=(0,yr._)`${t}${(0,yr.getProperty)(r)} !== undefined`;return n?(0,yr._)`${s} && ${gw(e,t,r)}`:s}Xt.propertyInData=Oxe;function Aw(e,t,r,n){let s=(0,yr._)`${t}${(0,yr.getProperty)(r)} === undefined`;return n?(0,yr.or)(s,(0,yr.not)(gw(e,t,r))):s}Xt.noPropertyInData=Aw;function k9(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Xt.allSchemaProperties=k9;function $xe(e,t){return k9(t).filter(r=>!(0,mw.alwaysValidSchema)(e,t[r]))}Xt.schemaProperties=$xe;function Lxe({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:a},it:o},c,u,l){let d=l?(0,yr._)`${e}, ${t}, ${n}${s}`:t,f=[[gc.default.instancePath,(0,yr.strConcat)(gc.default.instancePath,a)],[gc.default.parentData,o.parentData],[gc.default.parentDataProperty,o.parentDataProperty],[gc.default.rootData,gc.default.rootData]];o.opts.dynamicRef&&f.push([gc.default.dynamicAnchors,gc.default.dynamicAnchors]);let p=(0,yr._)`${d}, ${r.object(...f)}`;return u!==yr.nil?(0,yr._)`${c}.call(${u}, ${p})`:(0,yr._)`${c}(${p})`}Xt.callValidateCode=Lxe;var Mxe=(0,yr._)`new RegExp`;function Fxe({gen:e,it:{opts:t}},r){let n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,a=s(r,n);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,yr._)`${s.code==="new RegExp"?Mxe:(0,Nxe.useFunc)(e,s)}(${r}, ${n})`})}Xt.usePattern=Fxe;function Qxe(e){let{gen:t,data:r,keyword:n,it:s}=e,a=t.name("valid");if(s.allErrors){let c=t.let("valid",!0);return o(()=>t.assign(c,!1)),c}return t.var(a,!0),o(()=>t.break()),a;function o(c){let u=t.const("len",(0,yr._)`${r}.length`);t.forRange("i",0,u,l=>{e.subschema({keyword:n,dataProp:l,dataPropType:mw.Type.Num},a),t.if((0,yr.not)(a),c)})}}Xt.validateArray=Qxe;function Uxe(e){let{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(u=>(0,mw.alwaysValidSchema)(s,u))&&!s.opts.unevaluated)return;let o=t.let("valid",!1),c=t.name("_valid");t.block(()=>r.forEach((u,l)=>{let d=e.subschema({keyword:n,schemaProp:l,compositeRule:!0},c);t.assign(o,(0,yr._)`${o} || ${c}`),e.mergeValidEvaluated(d,c)||t.if((0,yr.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}Xt.validateUnion=Uxe});var O9=C(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.validateKeywordUsage=Aa.validSchemaType=Aa.funcKeywordCode=Aa.macroKeywordCode=void 0;var as=ot(),Ku=uo(),qxe=ii(),jxe=D0();function Hxe(e,t){let{gen:r,keyword:n,schema:s,parentSchema:a,it:o}=e,c=t.macro.call(o.self,s,a,o),u=P9(r,n,c);o.opts.validateSchema!==!1&&o.self.validateSchema(c,!0);let l=r.name("valid");e.subschema({schema:c,schemaPath:as.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:u,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}Aa.macroKeywordCode=Hxe;function zxe(e,t){var r;let{gen:n,keyword:s,schema:a,parentSchema:o,$data:c,it:u}=e;Vxe(u,t);let l=!c&&t.compile?t.compile.call(u.self,a,o,u):t.validate,d=P9(n,s,l),f=n.let("valid");e.block$data(f,p),e.ok((r=t.valid)!==null&&r!==void 0?r:f);function p(){if(t.errors===!1)g(),t.modifying&&D9(e),A(()=>e.error());else{let y=t.async?m():h();t.modifying&&D9(e),A(()=>Gxe(e,y))}}function m(){let y=n.let("ruleErrs",null);return n.try(()=>g((0,as._)`await `),v=>n.assign(f,!1).if((0,as._)`${v} instanceof ${u.ValidationError}`,()=>n.assign(y,(0,as._)`${v}.errors`),()=>n.throw(v))),y}function h(){let y=(0,as._)`${d}.errors`;return n.assign(y,null),g(as.nil),y}function g(y=t.async?(0,as._)`await `:as.nil){let v=u.opts.passContext?Ku.default.this:Ku.default.self,b=!("compile"in t&&!c||t.schema===!1);n.assign(f,(0,as._)`${y}${(0,qxe.callValidateCode)(e,d,v,b)}`,t.modifying)}function A(y){var v;n.if((0,as.not)((v=t.valid)!==null&&v!==void 0?v:f),y)}}Aa.funcKeywordCode=zxe;function D9(e){let{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,as._)`${n.parentData}[${n.parentDataProperty}]`))}function Gxe(e,t){let{gen:r}=e;r.if((0,as._)`Array.isArray(${t})`,()=>{r.assign(Ku.default.vErrors,(0,as._)`${Ku.default.vErrors} === null ? ${t} : ${Ku.default.vErrors}.concat(${t})`).assign(Ku.default.errors,(0,as._)`${Ku.default.vErrors}.length`),(0,jxe.extendErrors)(e)},()=>e.error())}function Vxe({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function P9(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,as.stringify)(r)})}function Kxe(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}Aa.validSchemaType=Kxe;function Yxe({schema:e,opts:t,self:r,errSchemaPath:n},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error("ajv implementation error");let o=s.dependencies;if(o?.some(c=>!Object.prototype.hasOwnProperty.call(e,c)))throw new Error(`parent schema must have dependencies of ${a}: ${o.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[a])){let u=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(u);else throw new Error(u)}}Aa.validateKeywordUsage=Yxe});var L9=C(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.extendSubschemaMode=Ac.extendSubschemaData=Ac.getSubschema=void 0;var ya=ot(),$9=$t();function Wxe(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:a,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){let c=e.schema[t];return r===void 0?{schema:c,schemaPath:(0,ya._)`${e.schemaPath}${(0,ya.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:c[r],schemaPath:(0,ya._)`${e.schemaPath}${(0,ya.getProperty)(t)}${(0,ya.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,$9.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||a===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:o,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}Ac.getSubschema=Wxe;function Jxe(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:a,propertyName:o}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:c}=t;if(r!==void 0){let{errorPath:l,dataPathArr:d,opts:f}=t,p=c.let("data",(0,ya._)`${t.data}${(0,ya.getProperty)(r)}`,!0);u(p),e.errorPath=(0,ya.str)`${l}${(0,$9.getErrorPath)(r,n,f.jsPropertySyntax)}`,e.parentDataProperty=(0,ya._)`${r}`,e.dataPathArr=[...d,e.parentDataProperty]}if(s!==void 0){let l=s instanceof ya.Name?s:c.let("data",s,!0);u(l),o!==void 0&&(e.propertyName=o)}a&&(e.dataTypes=a);function u(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}Ac.extendSubschemaData=Jxe;function Xxe(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:a}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),a!==void 0&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=r}Ac.extendSubschemaMode=Xxe});var ai=C((Sut,M9)=>{"use strict";M9.exports=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!==0;){var o=a[s];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r}});var Q9=C((Tut,F9)=>{"use strict";var yc=F9.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};t1(t,n,s,e,"",e)};yc.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};yc.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};yc.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};yc.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t1(e,t,r,n,s,a,o,c,u,l){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,a,o,c,u,l);for(var d in n){var f=n[d];if(Array.isArray(f)){if(d in yc.arrayKeywords)for(var p=0;p<f.length;p++)t1(e,t,r,f[p],s+"/"+d+"/"+p,a,s,d,n,p)}else if(d in yc.propsKeywords){if(f&&typeof f=="object")for(var m in f)t1(e,t,r,f[m],s+"/"+d+"/"+Zxe(m),a,s,d,n,m)}else(d in yc.keywords||e.allKeys&&!(d in yc.skipKeywords))&&t1(e,t,r,f,s+"/"+d,a,s,d,n)}r(n,s,a,o,c,u,l)}}function Zxe(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}});var O0=C(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.getSchemaRefs=Is.resolveUrl=Is.normalizeId=Is._getFullPath=Is.getFullPath=Is.inlineRef=void 0;var eve=$t(),tve=ai(),rve=Q9(),nve=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function sve(e,t=!0){return typeof e=="boolean"?!0:t===!0?!yw(e):t?U9(e)<=t:!1}Is.inlineRef=sve;var ive=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function yw(e){for(let t in e){if(ive.has(t))return!0;let r=e[t];if(Array.isArray(r)&&r.some(yw)||typeof r=="object"&&yw(r))return!0}return!1}function U9(e){let t=0;for(let r in e){if(r==="$ref")return 1/0;if(t++,!nve.has(r)&&(typeof e[r]=="object"&&(0,eve.eachItem)(e[r],n=>t+=U9(n)),t===1/0))return 1/0}return t}function q9(e,t="",r){r!==!1&&(t=zd(t));let n=e.parse(t);return j9(e,n)}Is.getFullPath=q9;function j9(e,t){return e.serialize(t).split("#")[0]+"#"}Is._getFullPath=j9;var ave=/#\/?$/;function zd(e){return e?e.replace(ave,""):""}Is.normalizeId=zd;function ove(e,t,r){return r=zd(r),e.resolve(t,r)}Is.resolveUrl=ove;var cve=/^[a-z_][-a-z0-9._]*$/i;function uve(e,t){if(typeof e=="boolean")return{};let{schemaId:r,uriResolver:n}=this.opts,s=zd(e[r]||t),a={"":s},o=q9(n,s,!1),c={},u=new Set;return rve(e,{allKeys:!0},(f,p,m,h)=>{if(h===void 0)return;let g=o+p,A=a[h];typeof f[r]=="string"&&(A=y.call(this,f[r])),v.call(this,f.$anchor),v.call(this,f.$dynamicAnchor),a[p]=A;function y(b){let E=this.opts.uriResolver.resolve;if(b=zd(A?E(A,b):b),u.has(b))throw d(b);u.add(b);let I=this.refs[b];return typeof I=="string"&&(I=this.refs[I]),typeof I=="object"?l(f,I.schema,b):b!==zd(g)&&(b[0]==="#"?(l(f,c[b],b),c[b]=f):this.refs[b]=g),b}function v(b){if(typeof b=="string"){if(!cve.test(b))throw new Error(`invalid anchor "${b}"`);y.call(this,`#${b}`)}}}),c;function l(f,p,m){if(p!==void 0&&!tve(f,p))throw d(m)}function d(f){return new Error(`reference "${f}" resolves to more than one schema`)}}Is.getSchemaRefs=uve});var M0=C(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.getData=bc.KeywordCxt=bc.validateFunctionCode=void 0;var K9=_9(),H9=P0(),Ew=dw(),r1=P0(),lve=R9(),L0=O9(),bw=L9(),Me=ot(),Ke=uo(),dve=O0(),lo=$t(),$0=D0();function fve(e){if(J9(e)&&(X9(e),W9(e))){mve(e);return}Y9(e,()=>(0,K9.topBoolOrEmptySchema)(e))}bc.validateFunctionCode=fve;function Y9({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},a){s.code.es5?e.func(t,(0,Me._)`${Ke.default.data}, ${Ke.default.valCxt}`,n.$async,()=>{e.code((0,Me._)`"use strict"; ${z9(r,s)}`),hve(e,s),e.code(a)}):e.func(t,(0,Me._)`${Ke.default.data}, ${pve(s)}`,n.$async,()=>e.code(z9(r,s)).code(a))}function pve(e){return(0,Me._)`{${Ke.default.instancePath}="", ${Ke.default.parentData}, ${Ke.default.parentDataProperty}, ${Ke.default.rootData}=${Ke.default.data}${e.dynamicRef?(0,Me._)`, ${Ke.default.dynamicAnchors}={}`:Me.nil}}={}`}function hve(e,t){e.if(Ke.default.valCxt,()=>{e.var(Ke.default.instancePath,(0,Me._)`${Ke.default.valCxt}.${Ke.default.instancePath}`),e.var(Ke.default.parentData,(0,Me._)`${Ke.default.valCxt}.${Ke.default.parentData}`),e.var(Ke.default.parentDataProperty,(0,Me._)`${Ke.default.valCxt}.${Ke.default.parentDataProperty}`),e.var(Ke.default.rootData,(0,Me._)`${Ke.default.valCxt}.${Ke.default.rootData}`),t.dynamicRef&&e.var(Ke.default.dynamicAnchors,(0,Me._)`${Ke.default.valCxt}.${Ke.default.dynamicAnchors}`)},()=>{e.var(Ke.default.instancePath,(0,Me._)`""`),e.var(Ke.default.parentData,(0,Me._)`undefined`),e.var(Ke.default.parentDataProperty,(0,Me._)`undefined`),e.var(Ke.default.rootData,Ke.default.data),t.dynamicRef&&e.var(Ke.default.dynamicAnchors,(0,Me._)`{}`)})}function mve(e){let{schema:t,opts:r,gen:n}=e;Y9(e,()=>{r.$comment&&t.$comment&&eQ(e),Eve(e),n.let(Ke.default.vErrors,null),n.let(Ke.default.errors,0),r.unevaluated&&gve(e),Z9(e),_ve(e)})}function gve(e){let{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,Me._)`${r}.evaluated`),t.if((0,Me._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,Me._)`${e.evaluated}.props`,(0,Me._)`undefined`)),t.if((0,Me._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,Me._)`${e.evaluated}.items`,(0,Me._)`undefined`))}function z9(e,t){let r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,Me._)`/*# sourceURL=${r} */`:Me.nil}function Ave(e,t){if(J9(e)&&(X9(e),W9(e))){yve(e,t);return}(0,K9.boolOrEmptySchema)(e,t)}function W9({schema:e,self:t}){if(typeof e=="boolean")return!e;for(let r in e)if(t.RULES.all[r])return!0;return!1}function J9(e){return typeof e.schema!="boolean"}function yve(e,t){let{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&eQ(e),xve(e),vve(e);let a=n.const("_errs",Ke.default.errors);Z9(e,a),n.var(t,(0,Me._)`${a} === ${Ke.default.errors}`)}function X9(e){(0,lo.checkUnknownRules)(e),bve(e)}function Z9(e,t){if(e.opts.jtd)return G9(e,[],!1,t);let r=(0,H9.getSchemaTypes)(e.schema),n=(0,H9.coerceAndCheckDataType)(e,r);G9(e,r,!n,t)}function bve(e){let{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,lo.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Eve(e){let{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,lo.checkStrictMode)(e,"default is ignored in the schema root")}function xve(e){let t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,dve.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function vve(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function eQ({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){let a=r.$comment;if(s.$comment===!0)e.code((0,Me._)`${Ke.default.self}.logger.log(${a})`);else if(typeof s.$comment=="function"){let o=(0,Me.str)`${n}/$comment`,c=e.scopeValue("root",{ref:t.root});e.code((0,Me._)`${Ke.default.self}.opts.$comment(${a}, ${o}, ${c}.schema)`)}}function _ve(e){let{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:a}=e;r.$async?t.if((0,Me._)`${Ke.default.errors} === 0`,()=>t.return(Ke.default.data),()=>t.throw((0,Me._)`new ${s}(${Ke.default.vErrors})`)):(t.assign((0,Me._)`${n}.errors`,Ke.default.vErrors),a.unevaluated&&Ive(e),t.return((0,Me._)`${Ke.default.errors} === 0`))}function Ive({gen:e,evaluated:t,props:r,items:n}){r instanceof Me.Name&&e.assign((0,Me._)`${t}.props`,r),n instanceof Me.Name&&e.assign((0,Me._)`${t}.items`,n)}function G9(e,t,r,n){let{gen:s,schema:a,data:o,allErrors:c,opts:u,self:l}=e,{RULES:d}=l;if(a.$ref&&(u.ignoreKeywordsWithRef||!(0,lo.schemaHasRulesButRef)(a,d))){s.block(()=>rQ(e,"$ref",d.all.$ref.definition));return}u.jtd||Cve(e,t),s.block(()=>{for(let p of d.rules)f(p);f(d.post)});function f(p){(0,Ew.shouldUseGroup)(a,p)&&(p.type?(s.if((0,r1.checkDataType)(p.type,o,u.strictNumbers)),V9(e,p),t.length===1&&t[0]===p.type&&r&&(s.else(),(0,r1.reportTypeError)(e)),s.endIf()):V9(e,p),c||s.if((0,Me._)`${Ke.default.errors} === ${n||0}`))}}function V9(e,t){let{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,lve.assignDefaults)(e,t.type),r.block(()=>{for(let a of t.rules)(0,Ew.shouldUseRule)(n,a)&&rQ(e,a.keyword,a.definition,t.type)})}function Cve(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(wve(e,t),e.opts.allowUnionTypes||Sve(e,t),Tve(e,e.dataTypes))}function wve(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{tQ(e.dataTypes,r)||xw(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),Rve(e,t)}}function Sve(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&xw(e,"use allowUnionTypes to allow union type keyword")}function Tve(e,t){let r=e.self.RULES.all;for(let n in r){let s=r[n];if(typeof s=="object"&&(0,Ew.shouldUseRule)(e.schema,s)){let{type:a}=s.definition;a.length&&!a.some(o=>Bve(t,o))&&xw(e,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function Bve(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function tQ(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function Rve(e,t){let r=[];for(let n of e.dataTypes)tQ(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function xw(e,t){let r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,lo.checkStrictMode)(e,t,e.opts.strictTypes)}var n1=class{constructor(t,r,n){if((0,L0.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,lo.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",nQ(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,L0.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",Ke.default.errors))}result(t,r,n){this.failResult((0,Me.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,Me.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);let{schemaCode:r}=this;this.fail((0,Me._)`${r} !== undefined && (${(0,Me.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?$0.reportExtraError:$0.reportError)(this,this.def.error,r)}$dataError(){(0,$0.reportError)(this,this.def.$dataError||$0.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,$0.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=Me.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=Me.nil,r=Me.nil){if(!this.$data)return;let{gen:n,schemaCode:s,schemaType:a,def:o}=this;n.if((0,Me.or)((0,Me._)`${s} === undefined`,r)),t!==Me.nil&&n.assign(t,!0),(a.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==Me.nil&&n.assign(t,!1)),n.else()}invalid$data(){let{gen:t,schemaCode:r,schemaType:n,def:s,it:a}=this;return(0,Me.or)(o(),c());function o(){if(n.length){if(!(r instanceof Me.Name))throw new Error("ajv implementation error");let u=Array.isArray(n)?n:[n];return(0,Me._)`${(0,r1.checkDataTypes)(u,r,a.opts.strictNumbers,r1.DataType.Wrong)}`}return Me.nil}function c(){if(s.validateSchema){let u=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,Me._)`!${u}(${r})`}return Me.nil}}subschema(t,r){let n=(0,bw.getSubschema)(this.it,t);(0,bw.extendSubschemaData)(n,this.it,t),(0,bw.extendSubschemaMode)(n,t);let s={...this.it,...n,items:void 0,props:void 0};return Ave(s,r),s}mergeEvaluated(t,r){let{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=lo.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=lo.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){let{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,Me.Name)),!0}};bc.KeywordCxt=n1;function rQ(e,t,r,n){let s=new n1(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,L0.funcKeywordCode)(s,r):"macro"in r?(0,L0.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,L0.funcKeywordCode)(s,r)}var Nve=/^\/(?:[^~]|~0|~1)*$/,kve=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function nQ(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,a;if(e==="")return Ke.default.rootData;if(e[0]==="/"){if(!Nve.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,a=Ke.default.rootData}else{let l=kve.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);let d=+l[1];if(s=l[2],s==="#"){if(d>=t)throw new Error(u("property/index",d));return n[t-d]}if(d>t)throw new Error(u("data",d));if(a=r[t-d],!s)return a}let o=a,c=s.split("/");for(let l of c)l&&(a=(0,Me._)`${a}${(0,Me.getProperty)((0,lo.unescapeJsonPointer)(l))}`,o=(0,Me._)`${o} && ${a}`);return o;function u(l,d){return`Cannot access ${l} ${d} levels up, current level is ${t}`}}bc.getData=nQ});var s1=C(_w=>{"use strict";Object.defineProperty(_w,"__esModule",{value:!0});var vw=class extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}};_w.default=vw});var F0=C(ww=>{"use strict";Object.defineProperty(ww,"__esModule",{value:!0});var Iw=O0(),Cw=class extends Error{constructor(t,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Iw.resolveUrl)(t,r,n),this.missingSchema=(0,Iw.normalizeId)((0,Iw.getFullPath)(t,this.missingRef))}};ww.default=Cw});var a1=C(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.resolveSchema=oi.getCompilingSchema=oi.resolveRef=oi.compileSchema=oi.SchemaEnv=void 0;var Qi=ot(),Dve=s1(),Yu=uo(),Ui=O0(),sQ=$t(),Pve=M0(),Gd=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Ui.normalizeId)(n?.[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n?.$async,this.refs={}}};oi.SchemaEnv=Gd;function Tw(e){let t=iQ.call(this,e);if(t)return t;let r=(0,Ui.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:a}=this.opts,o=new Qi.CodeGen(this.scope,{es5:n,lines:s,ownProperties:a}),c;e.$async&&(c=o.scopeValue("Error",{ref:Dve.default,code:(0,Qi._)`require("ajv/dist/runtime/validation_error").default`}));let u=o.scopeName("validate");e.validateName=u;let l={gen:o,allErrors:this.opts.allErrors,data:Yu.default.data,parentData:Yu.default.parentData,parentDataProperty:Yu.default.parentDataProperty,dataNames:[Yu.default.data],dataPathArr:[Qi.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Qi.stringify)(e.schema)}:{ref:e.schema}),validateName:u,ValidationError:c,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Qi.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Qi._)`""`,opts:this.opts,self:this},d;try{this._compilations.add(e),(0,Pve.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);let f=o.toString();d=`${o.scopeRefs(Yu.default.scope)}return ${f}`,this.opts.code.process&&(d=this.opts.code.process(d,e));let m=new Function(`${Yu.default.self}`,`${Yu.default.scope}`,d)(this,this.scope.get());if(this.scope.value(u,{ref:m}),m.errors=null,m.schema=e.schema,m.schemaEnv=e,e.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:u,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){let{props:h,items:g}=l;m.evaluated={props:h instanceof Qi.Name?void 0:h,items:g instanceof Qi.Name?void 0:g,dynamicProps:h instanceof Qi.Name,dynamicItems:g instanceof Qi.Name},m.source&&(m.source.evaluated=(0,Qi.stringify)(m.evaluated))}return e.validate=m,e}catch(f){throw delete e.validate,delete e.validateName,d&&this.logger.error("Error compiling schema, function code:",d),f}finally{this._compilations.delete(e)}}oi.compileSchema=Tw;function Ove(e,t,r){var n;r=(0,Ui.resolveUrl)(this.opts.uriResolver,t,r);let s=e.refs[r];if(s)return s;let a=Mve.call(this,e,r);if(a===void 0){let o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:c}=this.opts;o&&(a=new Gd({schema:o,schemaId:c,root:e,baseId:t}))}if(a!==void 0)return e.refs[r]=$ve.call(this,a)}oi.resolveRef=Ove;function $ve(e){return(0,Ui.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Tw.call(this,e)}function iQ(e){for(let t of this._compilations)if(Lve(t,e))return t}oi.getCompilingSchema=iQ;function Lve(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function Mve(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||i1.call(this,e,t)}function i1(e,t){let r=this.opts.uriResolver.parse(t),n=(0,Ui._getFullPath)(this.opts.uriResolver,r),s=(0,Ui.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return Sw.call(this,r,e);let a=(0,Ui.normalizeId)(n),o=this.refs[a]||this.schemas[a];if(typeof o=="string"){let c=i1.call(this,e,o);return typeof c?.schema!="object"?void 0:Sw.call(this,r,c)}if(typeof o?.schema=="object"){if(o.validate||Tw.call(this,o),a===(0,Ui.normalizeId)(t)){let{schema:c}=o,{schemaId:u}=this.opts,l=c[u];return l&&(s=(0,Ui.resolveUrl)(this.opts.uriResolver,s,l)),new Gd({schema:c,schemaId:u,root:e,baseId:s})}return Sw.call(this,r,o)}}oi.resolveSchema=i1;var Fve=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Sw(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(let c of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let u=r[(0,sQ.unescapeFragment)(c)];if(u===void 0)return;r=u;let l=typeof r=="object"&&r[this.opts.schemaId];!Fve.has(c)&&l&&(t=(0,Ui.resolveUrl)(this.opts.uriResolver,t,l))}let a;if(typeof r!="boolean"&&r.$ref&&!(0,sQ.schemaHasRulesButRef)(r,this.RULES)){let c=(0,Ui.resolveUrl)(this.opts.uriResolver,t,r.$ref);a=i1.call(this,n,c)}let{schemaId:o}=this.opts;if(a=a||new Gd({schema:r,schemaId:o,root:n,baseId:t}),a.schema!==a.root.schema)return a}});var aQ=C((Put,Qve)=>{Qve.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var Rw=C((Out,lQ)=>{"use strict";var Uve=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),cQ=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function Bw(e){let t="",r=0,n=0;for(n=0;n<e.length;n++)if(r=e[n].charCodeAt(0),r!==48){if(!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n];break}for(n+=1;n<e.length;n++){if(r=e[n].charCodeAt(0),!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n]}return t}var qve=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function oQ(e){return e.length=0,!0}function jve(e,t,r){if(e.length){let n=Bw(e);if(n!=="")t.push(n);else return r.error=!0,!1;e.length=0}return!0}function Hve(e){let t=0,r={error:!1,address:"",zone:""},n=[],s=[],a=!1,o=!1,c=jve;for(let u=0;u<e.length;u++){let l=e[u];if(!(l==="["||l==="]"))if(l===":"){if(a===!0&&(o=!0),!c(s,n,r))break;if(++t>7){r.error=!0;break}u>0&&e[u-1]===":"&&(a=!0),n.push(":");continue}else if(l==="%"){if(!c(s,n,r))break;c=oQ}else{s.push(l);continue}}return s.length&&(c===oQ?r.zone=s.join(""):o?n.push(s.join("")):n.push(Bw(s))),r.address=n.join(""),r}function uQ(e){if(zve(e,":")<2)return{host:e,isIPV6:!1};let t=Hve(e);if(t.error)return{host:e,isIPV6:!1};{let r=t.address,n=t.address;return t.zone&&(r+="%"+t.zone,n+="%25"+t.zone),{host:r,isIPV6:!0,escapedHost:n}}}function zve(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}function Gve(e){let t=e,r=[],n=-1,s=0;for(;s=t.length;){if(s===1){if(t===".")break;if(t==="/"){r.push("/");break}else{r.push(t);break}}else if(s===2){if(t[0]==="."){if(t[1]===".")break;if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&(t[1]==="."||t[1]==="/")){r.push("/");break}}else if(s===3&&t==="/.."){r.length!==0&&r.pop(),r.push("/");break}if(t[0]==="."){if(t[1]==="."){if(t[2]==="/"){t=t.slice(3);continue}}else if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&t[1]==="."){if(t[2]==="/"){t=t.slice(2);continue}else if(t[2]==="."&&t[3]==="/"){t=t.slice(3),r.length!==0&&r.pop();continue}}if((n=t.indexOf("/",1))===-1){r.push(t);break}else r.push(t.slice(0,n)),t=t.slice(n)}return r.join("")}function Vve(e,t){let r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function Kve(e){let t=[];if(e.userinfo!==void 0&&(t.push(e.userinfo),t.push("@")),e.host!==void 0){let r=unescape(e.host);if(!cQ(r)){let n=uQ(r);n.isIPV6===!0?r=`[${n.escapedHost}]`:r=e.host}t.push(r)}return(typeof e.port=="number"||typeof e.port=="string")&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}lQ.exports={nonSimpleDomain:qve,recomposeAuthority:Kve,normalizeComponentEncoding:Vve,removeDotSegments:Gve,isIPv4:cQ,isUUID:Uve,normalizeIPv6:uQ,stringArrayToHexStripped:Bw}});var mQ=C(($ut,hQ)=>{"use strict";var{isUUID:Yve}=Rw(),Wve=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,Jve=["http","https","ws","wss","urn","urn:uuid"];function Xve(e){return Jve.indexOf(e)!==-1}function Nw(e){return e.secure===!0?!0:e.secure===!1?!1:e.scheme?e.scheme.length===3&&(e.scheme[0]==="w"||e.scheme[0]==="W")&&(e.scheme[1]==="s"||e.scheme[1]==="S")&&(e.scheme[2]==="s"||e.scheme[2]==="S"):!1}function dQ(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function fQ(e){let t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function Zve(e){return e.secure=Nw(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function e_e(e){if((e.port===(Nw(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){let[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function t_e(e,t){if(!e.path)return e.error="URN can not be parsed",e;let r=e.path.match(Wve);if(r){let n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];let s=`${n}:${t.nid||e.nid}`,a=kw(s);e.path=void 0,a&&(e=a.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function r_e(e,t){if(e.nid===void 0)throw new Error("URN without nid cannot be serialized");let r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),s=`${r}:${t.nid||n}`,a=kw(s);a&&(e=a.serialize(e,t));let o=e,c=e.nss;return o.path=`${n||t.nid}:${c}`,t.skipEscape=!0,o}function n_e(e,t){let r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!Yve(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function s_e(e){let t=e;return t.nss=(e.uuid||"").toLowerCase(),t}var pQ={scheme:"http",domainHost:!0,parse:dQ,serialize:fQ},i_e={scheme:"https",domainHost:pQ.domainHost,parse:dQ,serialize:fQ},o1={scheme:"ws",domainHost:!0,parse:Zve,serialize:e_e},a_e={scheme:"wss",domainHost:o1.domainHost,parse:o1.parse,serialize:o1.serialize},o_e={scheme:"urn",parse:t_e,serialize:r_e,skipNormalize:!0},c_e={scheme:"urn:uuid",parse:n_e,serialize:s_e,skipNormalize:!0},c1={http:pQ,https:i_e,ws:o1,wss:a_e,urn:o_e,"urn:uuid":c_e};Object.setPrototypeOf(c1,null);function kw(e){return e&&(c1[e]||c1[e.toLowerCase()])||void 0}hQ.exports={wsIsSecure:Nw,SCHEMES:c1,isValidSchemeName:Xve,getSchemeHandler:kw}});var yQ=C((Lut,l1)=>{"use strict";var{normalizeIPv6:u_e,removeDotSegments:Q0,recomposeAuthority:l_e,normalizeComponentEncoding:u1,isIPv4:d_e,nonSimpleDomain:f_e}=Rw(),{SCHEMES:p_e,getSchemeHandler:gQ}=mQ();function h_e(e,t){return typeof e=="string"?e=ba(fo(e,t),t):typeof e=="object"&&(e=fo(ba(e,t),t)),e}function m_e(e,t,r){let n=r?Object.assign({scheme:"null"},r):{scheme:"null"},s=AQ(fo(e,n),fo(t,n),n,!0);return n.skipEscape=!0,ba(s,n)}function AQ(e,t,r,n){let s={};return n||(e=fo(ba(e,r),r),t=fo(ba(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=Q0(t.path||""),s.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=Q0(t.path||""),s.query=t.query):(t.path?(t.path[0]==="/"?s.path=Q0(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?s.path="/"+t.path:e.path?s.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:s.path=t.path,s.path=Q0(s.path)),s.query=t.query):(s.path=e.path,t.query!==void 0?s.query=t.query:s.query=e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function g_e(e,t,r){return typeof e=="string"?(e=unescape(e),e=ba(u1(fo(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=ba(u1(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=ba(u1(fo(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=ba(u1(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function ba(e,t){let r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),s=[],a=gQ(n.scheme||r.scheme);a&&a.serialize&&a.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&s.push(r.scheme,":");let o=l_e(r);if(o!==void 0&&(n.reference!=="suffix"&&s.push("//"),s.push(o),r.path&&r.path[0]!=="/"&&s.push("/")),r.path!==void 0){let c=r.path;!n.absolutePath&&(!a||!a.absolutePath)&&(c=Q0(c)),o===void 0&&c[0]==="/"&&c[1]==="/"&&(c="/%2F"+c.slice(2)),s.push(c)}return r.query!==void 0&&s.push("?",r.query),r.fragment!==void 0&&s.push("#",r.fragment),s.join("")}var A_e=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function fo(e,t){let r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},s=!1;r.reference==="suffix"&&(r.scheme?e=r.scheme+":"+e:e="//"+e);let a=e.match(A_e);if(a){if(n.scheme=a[1],n.userinfo=a[3],n.host=a[4],n.port=parseInt(a[5],10),n.path=a[6]||"",n.query=a[7],n.fragment=a[8],isNaN(n.port)&&(n.port=a[5]),n.host)if(d_e(n.host)===!1){let u=u_e(n.host);n.host=u.host.toLowerCase(),s=u.isIPV6}else s=!0;n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");let o=gQ(r.scheme||n.scheme);if(!r.unicodeSupport&&(!o||!o.unicodeSupport)&&n.host&&(r.domainHost||o&&o.domainHost)&&s===!1&&f_e(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(c){n.error=n.error||"Host's domain name can not be converted to ASCII: "+c}(!o||o&&!o.skipNormalize)&&(e.indexOf("%")!==-1&&(n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),n.host!==void 0&&(n.host=unescape(n.host))),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),o&&o.parse&&o.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}var Dw={SCHEMES:p_e,normalize:h_e,resolve:m_e,resolveComponent:AQ,equal:g_e,serialize:ba,parse:fo};l1.exports=Dw;l1.exports.default=Dw;l1.exports.fastUri=Dw});var EQ=C(Pw=>{"use strict";Object.defineProperty(Pw,"__esModule",{value:!0});var bQ=yQ();bQ.code='require("ajv/dist/runtime/uri").default';Pw.default=bQ});var TQ=C(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.CodeGen=In.Name=In.nil=In.stringify=In.str=In._=In.KeywordCxt=void 0;var y_e=M0();Object.defineProperty(In,"KeywordCxt",{enumerable:!0,get:function(){return y_e.KeywordCxt}});var Vd=ot();Object.defineProperty(In,"_",{enumerable:!0,get:function(){return Vd._}});Object.defineProperty(In,"str",{enumerable:!0,get:function(){return Vd.str}});Object.defineProperty(In,"stringify",{enumerable:!0,get:function(){return Vd.stringify}});Object.defineProperty(In,"nil",{enumerable:!0,get:function(){return Vd.nil}});Object.defineProperty(In,"Name",{enumerable:!0,get:function(){return Vd.Name}});Object.defineProperty(In,"CodeGen",{enumerable:!0,get:function(){return Vd.CodeGen}});var b_e=s1(),CQ=F0(),E_e=lw(),U0=a1(),x_e=ot(),q0=O0(),d1=P0(),$w=$t(),xQ=aQ(),v_e=EQ(),wQ=(e,t)=>new RegExp(e,t);wQ.code="new RegExp";var __e=["removeAdditional","useDefaults","coerceTypes"],I_e=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),C_e={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},w_e={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},vQ=200;function S_e(e){var t,r,n,s,a,o,c,u,l,d,f,p,m,h,g,A,y,v,b,E,I,w,S,T,B;let N=e.strict,O=(t=e.code)===null||t===void 0?void 0:t.optimize,k=O===!0||O===void 0?1:O||0,P=(n=(r=e.code)===null||r===void 0?void 0:r.regExp)!==null&&n!==void 0?n:wQ,D=(s=e.uriResolver)!==null&&s!==void 0?s:v_e.default;return{strictSchema:(o=(a=e.strictSchema)!==null&&a!==void 0?a:N)!==null&&o!==void 0?o:!0,strictNumbers:(u=(c=e.strictNumbers)!==null&&c!==void 0?c:N)!==null&&u!==void 0?u:!0,strictTypes:(d=(l=e.strictTypes)!==null&&l!==void 0?l:N)!==null&&d!==void 0?d:"log",strictTuples:(p=(f=e.strictTuples)!==null&&f!==void 0?f:N)!==null&&p!==void 0?p:"log",strictRequired:(h=(m=e.strictRequired)!==null&&m!==void 0?m:N)!==null&&h!==void 0?h:!1,code:e.code?{...e.code,optimize:k,regExp:P}:{optimize:k,regExp:P},loopRequired:(g=e.loopRequired)!==null&&g!==void 0?g:vQ,loopEnum:(A=e.loopEnum)!==null&&A!==void 0?A:vQ,meta:(y=e.meta)!==null&&y!==void 0?y:!0,messages:(v=e.messages)!==null&&v!==void 0?v:!0,inlineRefs:(b=e.inlineRefs)!==null&&b!==void 0?b:!0,schemaId:(E=e.schemaId)!==null&&E!==void 0?E:"$id",addUsedSchema:(I=e.addUsedSchema)!==null&&I!==void 0?I:!0,validateSchema:(w=e.validateSchema)!==null&&w!==void 0?w:!0,validateFormats:(S=e.validateFormats)!==null&&S!==void 0?S:!0,unicodeRegExp:(T=e.unicodeRegExp)!==null&&T!==void 0?T:!0,int32range:(B=e.int32range)!==null&&B!==void 0?B:!0,uriResolver:D}}var j0=class{constructor(t={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,t=this.opts={...t,...S_e(t)};let{es5:r,lines:n}=this.opts.code;this.scope=new x_e.ValueScope({scope:{},prefixes:I_e,es5:r,lines:n}),this.logger=D_e(t.logger);let s=t.validateFormats;t.validateFormats=!1,this.RULES=(0,E_e.getRules)(),_Q.call(this,C_e,t,"NOT SUPPORTED"),_Q.call(this,w_e,t,"DEPRECATED","warn"),this._metaOpts=N_e.call(this),t.formats&&B_e.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),t.keywords&&R_e.call(this,t.keywords),typeof t.meta=="object"&&this.addMetaSchema(t.meta),T_e.call(this),t.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:t,meta:r,schemaId:n}=this.opts,s=xQ;n==="id"&&(s={...xQ},s.id=s.$id,delete s.$id),r&&t&&this.addMetaSchema(s,s[n],!1)}defaultMeta(){let{meta:t,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof t=="object"?t[r]||t:void 0}validate(t,r){let n;if(typeof t=="string"){if(n=this.getSchema(t),!n)throw new Error(`no schema with key or ref "${t}"`)}else n=this.compile(t);let s=n(r);return"$async"in n||(this.errors=n.errors),s}compile(t,r){let n=this._addSchema(t,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(t,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return s.call(this,t,r);async function s(d,f){await a.call(this,d.$schema);let p=this._addSchema(d,f);return p.validate||o.call(this,p)}async function a(d){d&&!this.getSchema(d)&&await s.call(this,{$ref:d},!0)}async function o(d){try{return this._compileSchemaEnv(d)}catch(f){if(!(f instanceof CQ.default))throw f;return c.call(this,f),await u.call(this,f.missingSchema),o.call(this,d)}}function c({missingSchema:d,missingRef:f}){if(this.refs[d])throw new Error(`AnySchema ${d} is loaded but ${f} cannot be resolved`)}async function u(d){let f=await l.call(this,d);this.refs[d]||await a.call(this,f.$schema),this.refs[d]||this.addSchema(f,d,r)}async function l(d){let f=this._loading[d];if(f)return f;try{return await(this._loading[d]=n(d))}finally{delete this._loading[d]}}}addSchema(t,r,n,s=this.opts.validateSchema){if(Array.isArray(t)){for(let o of t)this.addSchema(o,void 0,n,s);return this}let a;if(typeof t=="object"){let{schemaId:o}=this.opts;if(a=t[o],a!==void 0&&typeof a!="string")throw new Error(`schema ${o} must be string`)}return r=(0,q0.normalizeId)(r||a),this._checkUnique(r),this.schemas[r]=this._addSchema(t,n,r,s,!0),this}addMetaSchema(t,r,n=this.opts.validateSchema){return this.addSchema(t,r,!0,n),this}validateSchema(t,r){if(typeof t=="boolean")return!0;let n;if(n=t.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let s=this.validate(n,t);if(!s&&r){let a="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(a);else throw new Error(a)}return s}getSchema(t){let r;for(;typeof(r=IQ.call(this,t))=="string";)t=r;if(r===void 0){let{schemaId:n}=this.opts,s=new U0.SchemaEnv({schema:{},schemaId:n});if(r=U0.resolveSchema.call(this,s,t),!r)return;this.refs[t]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(t){if(t instanceof RegExp)return this._removeAllSchemas(this.schemas,t),this._removeAllSchemas(this.refs,t),this;switch(typeof t){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=IQ.call(this,t);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[t],delete this.refs[t],this}case"object":{let r=t;this._cache.delete(r);let n=t[this.opts.schemaId];return n&&(n=(0,q0.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(t){for(let r of t)this.addKeyword(r);return this}addKeyword(t,r){let n;if(typeof t=="string")n=t,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof t=="object"&&r===void 0){if(r=t,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(O_e.call(this,n,r),!r)return(0,$w.eachItem)(n,a=>Ow.call(this,a)),this;L_e.call(this,r);let s={...r,type:(0,d1.getJSONTypes)(r.type),schemaType:(0,d1.getJSONTypes)(r.schemaType)};return(0,$w.eachItem)(n,s.type.length===0?a=>Ow.call(this,a,s):a=>s.type.forEach(o=>Ow.call(this,a,s,o))),this}getKeyword(t){let r=this.RULES.all[t];return typeof r=="object"?r.definition:!!r}removeKeyword(t){let{RULES:r}=this;delete r.keywords[t],delete r.all[t];for(let n of r.rules){let s=n.rules.findIndex(a=>a.keyword===t);s>=0&&n.rules.splice(s,1)}return this}addFormat(t,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[t]=r,this}errorsText(t=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!t||t.length===0?"No errors":t.map(s=>`${n}${s.instancePath} ${s.message}`).reduce((s,a)=>s+r+a)}$dataMetaSchema(t,r){let n=this.RULES.all;t=JSON.parse(JSON.stringify(t));for(let s of r){let a=s.split("/").slice(1),o=t;for(let c of a)o=o[c];for(let c in n){let u=n[c];if(typeof u!="object")continue;let{$data:l}=u.definition,d=o[c];l&&d&&(o[c]=SQ(d))}}return t}_removeAllSchemas(t,r){for(let n in t){let s=t[n];(!r||r.test(n))&&(typeof s=="string"?delete t[n]:s&&!s.meta&&(this._cache.delete(s.schema),delete t[n]))}}_addSchema(t,r,n,s=this.opts.validateSchema,a=this.opts.addUsedSchema){let o,{schemaId:c}=this.opts;if(typeof t=="object")o=t[c];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof t!="boolean")throw new Error("schema must be object or boolean")}let u=this._cache.get(t);if(u!==void 0)return u;n=(0,q0.normalizeId)(o||n);let l=q0.getSchemaRefs.call(this,t,n);return u=new U0.SchemaEnv({schema:t,schemaId:c,meta:r,baseId:n,localRefs:l}),this._cache.set(u.schema,u),a&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=u),s&&this.validateSchema(t,!0),u}_checkUnique(t){if(this.schemas[t]||this.refs[t])throw new Error(`schema with key or id "${t}" already exists`)}_compileSchemaEnv(t){if(t.meta?this._compileMetaSchema(t):U0.compileSchema.call(this,t),!t.validate)throw new Error("ajv implementation error");return t.validate}_compileMetaSchema(t){let r=this.opts;this.opts=this._metaOpts;try{U0.compileSchema.call(this,t)}finally{this.opts=r}}};j0.ValidationError=b_e.default;j0.MissingRefError=CQ.default;In.default=j0;function _Q(e,t,r,n="error"){for(let s in e){let a=s;a in t&&this.logger[n](`${r}: option ${s}. ${e[a]}`)}}function IQ(e){return e=(0,q0.normalizeId)(e),this.schemas[e]||this.refs[e]}function T_e(){let e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(let t in e)this.addSchema(e[t],t)}function B_e(){for(let e in this.opts.formats){let t=this.opts.formats[e];t&&this.addFormat(e,t)}}function R_e(e){if(Array.isArray(e)){this.addVocabulary(e);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let t in e){let r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}function N_e(){let e={...this.opts};for(let t of __e)delete e[t];return e}var k_e={log(){},warn(){},error(){}};function D_e(e){if(e===!1)return k_e;if(e===void 0)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}var P_e=/^[a-z_$][a-z0-9_$:-]*$/i;function O_e(e,t){let{RULES:r}=this;if((0,$w.eachItem)(e,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!P_e.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!t&&t.$data&&!("code"in t||"validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function Ow(e,t,r){var n;let s=t?.post;if(r&&s)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:a}=this,o=s?a.post:a.rules.find(({type:u})=>u===r);if(o||(o={type:r,rules:[]},a.rules.push(o)),a.keywords[e]=!0,!t)return;let c={keyword:e,definition:{...t,type:(0,d1.getJSONTypes)(t.type),schemaType:(0,d1.getJSONTypes)(t.schemaType)}};t.before?$_e.call(this,o,c,t.before):o.rules.push(c),a.all[e]=c,(n=t.implements)===null||n===void 0||n.forEach(u=>this.addKeyword(u))}function $_e(e,t,r){let n=e.rules.findIndex(s=>s.keyword===r);n>=0?e.rules.splice(n,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function L_e(e){let{metaSchema:t}=e;t!==void 0&&(e.$data&&this.opts.$data&&(t=SQ(t)),e.validateSchema=this.compile(t,!0))}var M_e={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function SQ(e){return{anyOf:[e,M_e]}}});var BQ=C(Lw=>{"use strict";Object.defineProperty(Lw,"__esModule",{value:!0});var F_e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Lw.default=F_e});var DQ=C(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.callRef=Wu.getValidate=void 0;var Q_e=F0(),RQ=ii(),Cs=ot(),Kd=uo(),NQ=a1(),f1=$t(),U_e={keyword:"$ref",schemaType:"string",code(e){let{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:a,validateName:o,opts:c,self:u}=n,{root:l}=a;if((r==="#"||r==="#/")&&s===l.baseId)return f();let d=NQ.resolveRef.call(u,l,s,r);if(d===void 0)throw new Q_e.default(n.opts.uriResolver,s,r);if(d instanceof NQ.SchemaEnv)return p(d);return m(d);function f(){if(a===l)return p1(e,o,a,a.$async);let h=t.scopeValue("root",{ref:l});return p1(e,(0,Cs._)`${h}.validate`,l,l.$async)}function p(h){let g=kQ(e,h);p1(e,g,h,h.$async)}function m(h){let g=t.scopeValue("schema",c.code.source===!0?{ref:h,code:(0,Cs.stringify)(h)}:{ref:h}),A=t.name("valid"),y=e.subschema({schema:h,dataTypes:[],schemaPath:Cs.nil,topSchemaRef:g,errSchemaPath:r},A);e.mergeEvaluated(y),e.ok(A)}}};function kQ(e,t){let{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Cs._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Wu.getValidate=kQ;function p1(e,t,r,n){let{gen:s,it:a}=e,{allErrors:o,schemaEnv:c,opts:u}=a,l=u.passContext?Kd.default.this:Cs.nil;n?d():f();function d(){if(!c.$async)throw new Error("async schema referenced by sync schema");let h=s.let("valid");s.try(()=>{s.code((0,Cs._)`await ${(0,RQ.callValidateCode)(e,t,l)}`),m(t),o||s.assign(h,!0)},g=>{s.if((0,Cs._)`!(${g} instanceof ${a.ValidationError})`,()=>s.throw(g)),p(g),o||s.assign(h,!1)}),e.ok(h)}function f(){e.result((0,RQ.callValidateCode)(e,t,l),()=>m(t),()=>p(t))}function p(h){let g=(0,Cs._)`${h}.errors`;s.assign(Kd.default.vErrors,(0,Cs._)`${Kd.default.vErrors} === null ? ${g} : ${Kd.default.vErrors}.concat(${g})`),s.assign(Kd.default.errors,(0,Cs._)`${Kd.default.vErrors}.length`)}function m(h){var g;if(!a.opts.unevaluated)return;let A=(g=r?.validate)===null||g===void 0?void 0:g.evaluated;if(a.props!==!0)if(A&&!A.dynamicProps)A.props!==void 0&&(a.props=f1.mergeEvaluated.props(s,A.props,a.props));else{let y=s.var("props",(0,Cs._)`${h}.evaluated.props`);a.props=f1.mergeEvaluated.props(s,y,a.props,Cs.Name)}if(a.items!==!0)if(A&&!A.dynamicItems)A.items!==void 0&&(a.items=f1.mergeEvaluated.items(s,A.items,a.items));else{let y=s.var("items",(0,Cs._)`${h}.evaluated.items`);a.items=f1.mergeEvaluated.items(s,y,a.items,Cs.Name)}}}Wu.callRef=p1;Wu.default=U_e});var PQ=C(Mw=>{"use strict";Object.defineProperty(Mw,"__esModule",{value:!0});var q_e=BQ(),j_e=DQ(),H_e=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",q_e.default,j_e.default];Mw.default=H_e});var OQ=C(Fw=>{"use strict";Object.defineProperty(Fw,"__esModule",{value:!0});var h1=ot(),Ec=h1.operators,m1={maximum:{okStr:"<=",ok:Ec.LTE,fail:Ec.GT},minimum:{okStr:">=",ok:Ec.GTE,fail:Ec.LT},exclusiveMaximum:{okStr:"<",ok:Ec.LT,fail:Ec.GTE},exclusiveMinimum:{okStr:">",ok:Ec.GT,fail:Ec.LTE}},z_e={message:({keyword:e,schemaCode:t})=>(0,h1.str)`must be ${m1[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,h1._)`{comparison: ${m1[e].okStr}, limit: ${t}}`},G_e={keyword:Object.keys(m1),type:"number",schemaType:"number",$data:!0,error:z_e,code(e){let{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,h1._)`${r} ${m1[t].fail} ${n} || isNaN(${r})`)}};Fw.default=G_e});var $Q=C(Qw=>{"use strict";Object.defineProperty(Qw,"__esModule",{value:!0});var H0=ot(),V_e={message:({schemaCode:e})=>(0,H0.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,H0._)`{multipleOf: ${e}}`},K_e={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:V_e,code(e){let{gen:t,data:r,schemaCode:n,it:s}=e,a=s.opts.multipleOfPrecision,o=t.let("res"),c=a?(0,H0._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${a}`:(0,H0._)`${o} !== parseInt(${o})`;e.fail$data((0,H0._)`(${n} === 0 || (${o} = ${r}/${n}, ${c}))`)}};Qw.default=K_e});var MQ=C(Uw=>{"use strict";Object.defineProperty(Uw,"__esModule",{value:!0});function LQ(e){let t=e.length,r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}Uw.default=LQ;LQ.code='require("ajv/dist/runtime/ucs2length").default'});var FQ=C(qw=>{"use strict";Object.defineProperty(qw,"__esModule",{value:!0});var Ju=ot(),Y_e=$t(),W_e=MQ(),J_e={message({keyword:e,schemaCode:t}){let r=e==="maxLength"?"more":"fewer";return(0,Ju.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Ju._)`{limit: ${e}}`},X_e={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:J_e,code(e){let{keyword:t,data:r,schemaCode:n,it:s}=e,a=t==="maxLength"?Ju.operators.GT:Ju.operators.LT,o=s.opts.unicode===!1?(0,Ju._)`${r}.length`:(0,Ju._)`${(0,Y_e.useFunc)(e.gen,W_e.default)}(${r})`;e.fail$data((0,Ju._)`${o} ${a} ${n}`)}};qw.default=X_e});var QQ=C(jw=>{"use strict";Object.defineProperty(jw,"__esModule",{value:!0});var Z_e=ii(),g1=ot(),e2e={message:({schemaCode:e})=>(0,g1.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,g1._)`{pattern: ${e}}`},t2e={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:e2e,code(e){let{data:t,$data:r,schema:n,schemaCode:s,it:a}=e,o=a.opts.unicodeRegExp?"u":"",c=r?(0,g1._)`(new RegExp(${s}, ${o}))`:(0,Z_e.usePattern)(e,n);e.fail$data((0,g1._)`!${c}.test(${t})`)}};jw.default=t2e});var UQ=C(Hw=>{"use strict";Object.defineProperty(Hw,"__esModule",{value:!0});var z0=ot(),r2e={message({keyword:e,schemaCode:t}){let r=e==="maxProperties"?"more":"fewer";return(0,z0.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,z0._)`{limit: ${e}}`},n2e={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:r2e,code(e){let{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?z0.operators.GT:z0.operators.LT;e.fail$data((0,z0._)`Object.keys(${r}).length ${s} ${n}`)}};Hw.default=n2e});var qQ=C(zw=>{"use strict";Object.defineProperty(zw,"__esModule",{value:!0});var G0=ii(),V0=ot(),s2e=$t(),i2e={message:({params:{missingProperty:e}})=>(0,V0.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,V0._)`{missingProperty: ${e}}`},a2e={keyword:"required",type:"object",schemaType:"array",$data:!0,error:i2e,code(e){let{gen:t,schema:r,schemaCode:n,data:s,$data:a,it:o}=e,{opts:c}=o;if(!a&&r.length===0)return;let u=r.length>=c.loopRequired;if(o.allErrors?l():d(),c.strictRequired){let m=e.parentSchema.properties,{definedProperties:h}=e.it;for(let g of r)if(m?.[g]===void 0&&!h.has(g)){let A=o.schemaEnv.baseId+o.errSchemaPath,y=`required property "${g}" is not defined at "${A}" (strictRequired)`;(0,s2e.checkStrictMode)(o,y,o.opts.strictRequired)}}function l(){if(u||a)e.block$data(V0.nil,f);else for(let m of r)(0,G0.checkReportMissingProp)(e,m)}function d(){let m=t.let("missing");if(u||a){let h=t.let("valid",!0);e.block$data(h,()=>p(m,h)),e.ok(h)}else t.if((0,G0.checkMissingProp)(e,r,m)),(0,G0.reportMissingProp)(e,m),t.else()}function f(){t.forOf("prop",n,m=>{e.setParams({missingProperty:m}),t.if((0,G0.noPropertyInData)(t,s,m,c.ownProperties),()=>e.error())})}function p(m,h){e.setParams({missingProperty:m}),t.forOf(m,n,()=>{t.assign(h,(0,G0.propertyInData)(t,s,m,c.ownProperties)),t.if((0,V0.not)(h),()=>{e.error(),t.break()})},V0.nil)}}};zw.default=a2e});var jQ=C(Gw=>{"use strict";Object.defineProperty(Gw,"__esModule",{value:!0});var K0=ot(),o2e={message({keyword:e,schemaCode:t}){let r=e==="maxItems"?"more":"fewer";return(0,K0.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,K0._)`{limit: ${e}}`},c2e={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:o2e,code(e){let{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?K0.operators.GT:K0.operators.LT;e.fail$data((0,K0._)`${r}.length ${s} ${n}`)}};Gw.default=c2e});var Y0=C(Vw=>{"use strict";Object.defineProperty(Vw,"__esModule",{value:!0});var HQ=ai();HQ.code='require("ajv/dist/runtime/equal").default';Vw.default=HQ});var zQ=C(Yw=>{"use strict";Object.defineProperty(Yw,"__esModule",{value:!0});var Kw=P0(),Cn=ot(),u2e=$t(),l2e=Y0(),d2e={message:({params:{i:e,j:t}})=>(0,Cn.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Cn._)`{i: ${e}, j: ${t}}`},f2e={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:d2e,code(e){let{gen:t,data:r,$data:n,schema:s,parentSchema:a,schemaCode:o,it:c}=e;if(!n&&!s)return;let u=t.let("valid"),l=a.items?(0,Kw.getSchemaTypes)(a.items):[];e.block$data(u,d,(0,Cn._)`${o} === false`),e.ok(u);function d(){let h=t.let("i",(0,Cn._)`${r}.length`),g=t.let("j");e.setParams({i:h,j:g}),t.assign(u,!0),t.if((0,Cn._)`${h} > 1`,()=>(f()?p:m)(h,g))}function f(){return l.length>0&&!l.some(h=>h==="object"||h==="array")}function p(h,g){let A=t.name("item"),y=(0,Kw.checkDataTypes)(l,A,c.opts.strictNumbers,Kw.DataType.Wrong),v=t.const("indices",(0,Cn._)`{}`);t.for((0,Cn._)`;${h}--;`,()=>{t.let(A,(0,Cn._)`${r}[${h}]`),t.if(y,(0,Cn._)`continue`),l.length>1&&t.if((0,Cn._)`typeof ${A} == "string"`,(0,Cn._)`${A} += "_"`),t.if((0,Cn._)`typeof ${v}[${A}] == "number"`,()=>{t.assign(g,(0,Cn._)`${v}[${A}]`),e.error(),t.assign(u,!1).break()}).code((0,Cn._)`${v}[${A}] = ${h}`)})}function m(h,g){let A=(0,u2e.useFunc)(t,l2e.default),y=t.name("outer");t.label(y).for((0,Cn._)`;${h}--;`,()=>t.for((0,Cn._)`${g} = ${h}; ${g}--;`,()=>t.if((0,Cn._)`${A}(${r}[${h}], ${r}[${g}])`,()=>{e.error(),t.assign(u,!1).break(y)})))}}};Yw.default=f2e});var GQ=C(Jw=>{"use strict";Object.defineProperty(Jw,"__esModule",{value:!0});var Ww=ot(),p2e=$t(),h2e=Y0(),m2e={message:"must be equal to constant",params:({schemaCode:e})=>(0,Ww._)`{allowedValue: ${e}}`},g2e={keyword:"const",$data:!0,error:m2e,code(e){let{gen:t,data:r,$data:n,schemaCode:s,schema:a}=e;n||a&&typeof a=="object"?e.fail$data((0,Ww._)`!${(0,p2e.useFunc)(t,h2e.default)}(${r}, ${s})`):e.fail((0,Ww._)`${a} !== ${r}`)}};Jw.default=g2e});var VQ=C(Xw=>{"use strict";Object.defineProperty(Xw,"__esModule",{value:!0});var W0=ot(),A2e=$t(),y2e=Y0(),b2e={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,W0._)`{allowedValues: ${e}}`},E2e={keyword:"enum",schemaType:"array",$data:!0,error:b2e,code(e){let{gen:t,data:r,$data:n,schema:s,schemaCode:a,it:o}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");let c=s.length>=o.opts.loopEnum,u,l=()=>u??(u=(0,A2e.useFunc)(t,y2e.default)),d;if(c||n)d=t.let("valid"),e.block$data(d,f);else{if(!Array.isArray(s))throw new Error("ajv implementation error");let m=t.const("vSchema",a);d=(0,W0.or)(...s.map((h,g)=>p(m,g)))}e.pass(d);function f(){t.assign(d,!1),t.forOf("v",a,m=>t.if((0,W0._)`${l()}(${r}, ${m})`,()=>t.assign(d,!0).break()))}function p(m,h){let g=s[h];return typeof g=="object"&&g!==null?(0,W0._)`${l()}(${r}, ${m}[${h}])`:(0,W0._)`${r} === ${g}`}}};Xw.default=E2e});var KQ=C(Zw=>{"use strict";Object.defineProperty(Zw,"__esModule",{value:!0});var x2e=OQ(),v2e=$Q(),_2e=FQ(),I2e=QQ(),C2e=UQ(),w2e=qQ(),S2e=jQ(),T2e=zQ(),B2e=GQ(),R2e=VQ(),N2e=[x2e.default,v2e.default,_2e.default,I2e.default,C2e.default,w2e.default,S2e.default,T2e.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},B2e.default,R2e.default];Zw.default=N2e});var tS=C(J0=>{"use strict";Object.defineProperty(J0,"__esModule",{value:!0});J0.validateAdditionalItems=void 0;var Xu=ot(),eS=$t(),k2e={message:({params:{len:e}})=>(0,Xu.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Xu._)`{limit: ${e}}`},D2e={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:k2e,code(e){let{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,eS.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}YQ(e,n)}};function YQ(e,t){let{gen:r,schema:n,data:s,keyword:a,it:o}=e;o.items=!0;let c=r.const("len",(0,Xu._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Xu._)`${c} <= ${t.length}`);else if(typeof n=="object"&&!(0,eS.alwaysValidSchema)(o,n)){let l=r.var("valid",(0,Xu._)`${c} <= ${t.length}`);r.if((0,Xu.not)(l),()=>u(l)),e.ok(l)}function u(l){r.forRange("i",t.length,c,d=>{e.subschema({keyword:a,dataProp:d,dataPropType:eS.Type.Num},l),o.allErrors||r.if((0,Xu.not)(l),()=>r.break())})}}J0.validateAdditionalItems=YQ;J0.default=D2e});var rS=C(X0=>{"use strict";Object.defineProperty(X0,"__esModule",{value:!0});X0.validateTuple=void 0;var WQ=ot(),A1=$t(),P2e=ii(),O2e={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){let{schema:t,it:r}=e;if(Array.isArray(t))return JQ(e,"additionalItems",t);r.items=!0,!(0,A1.alwaysValidSchema)(r,t)&&e.ok((0,P2e.validateArray)(e))}};function JQ(e,t,r=e.schema){let{gen:n,parentSchema:s,data:a,keyword:o,it:c}=e;d(s),c.opts.unevaluated&&r.length&&c.items!==!0&&(c.items=A1.mergeEvaluated.items(n,r.length,c.items));let u=n.name("valid"),l=n.const("len",(0,WQ._)`${a}.length`);r.forEach((f,p)=>{(0,A1.alwaysValidSchema)(c,f)||(n.if((0,WQ._)`${l} > ${p}`,()=>e.subschema({keyword:o,schemaProp:p,dataProp:p},u)),e.ok(u))});function d(f){let{opts:p,errSchemaPath:m}=c,h=r.length,g=h===f.minItems&&(h===f.maxItems||f[t]===!1);if(p.strictTuples&&!g){let A=`"${o}" is ${h}-tuple, but minItems or maxItems/${t} are not specified or different at path "${m}"`;(0,A1.checkStrictMode)(c,A,p.strictTuples)}}}X0.validateTuple=JQ;X0.default=O2e});var XQ=C(nS=>{"use strict";Object.defineProperty(nS,"__esModule",{value:!0});var $2e=rS(),L2e={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,$2e.validateTuple)(e,"items")};nS.default=L2e});var eU=C(sS=>{"use strict";Object.defineProperty(sS,"__esModule",{value:!0});var ZQ=ot(),M2e=$t(),F2e=ii(),Q2e=tS(),U2e={message:({params:{len:e}})=>(0,ZQ.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,ZQ._)`{limit: ${e}}`},q2e={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:U2e,code(e){let{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,M2e.alwaysValidSchema)(n,t)&&(s?(0,Q2e.validateAdditionalItems)(e,s):e.ok((0,F2e.validateArray)(e)))}};sS.default=q2e});var tU=C(iS=>{"use strict";Object.defineProperty(iS,"__esModule",{value:!0});var ci=ot(),y1=$t(),j2e={message:({params:{min:e,max:t}})=>t===void 0?(0,ci.str)`must contain at least ${e} valid item(s)`:(0,ci.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,ci._)`{minContains: ${e}}`:(0,ci._)`{minContains: ${e}, maxContains: ${t}}`},H2e={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:j2e,code(e){let{gen:t,schema:r,parentSchema:n,data:s,it:a}=e,o,c,{minContains:u,maxContains:l}=n;a.opts.next?(o=u===void 0?1:u,c=l):o=1;let d=t.const("len",(0,ci._)`${s}.length`);if(e.setParams({min:o,max:c}),c===void 0&&o===0){(0,y1.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(c!==void 0&&o>c){(0,y1.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,y1.alwaysValidSchema)(a,r)){let g=(0,ci._)`${d} >= ${o}`;c!==void 0&&(g=(0,ci._)`${g} && ${d} <= ${c}`),e.pass(g);return}a.items=!0;let f=t.name("valid");c===void 0&&o===1?m(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),c!==void 0&&t.if((0,ci._)`${s}.length > 0`,p)):(t.let(f,!1),p()),e.result(f,()=>e.reset());function p(){let g=t.name("_valid"),A=t.let("count",0);m(g,()=>t.if(g,()=>h(A)))}function m(g,A){t.forRange("i",0,d,y=>{e.subschema({keyword:"contains",dataProp:y,dataPropType:y1.Type.Num,compositeRule:!0},g),A()})}function h(g){t.code((0,ci._)`${g}++`),c===void 0?t.if((0,ci._)`${g} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,ci._)`${g} > ${c}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,ci._)`${g} >= ${o}`,()=>t.assign(f,!0)))}}};iS.default=H2e});var sU=C(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.validateSchemaDeps=Ea.validatePropertyDeps=Ea.error=void 0;var aS=ot(),z2e=$t(),Z0=ii();Ea.error={message:({params:{property:e,depsCount:t,deps:r}})=>{let n=t===1?"property":"properties";return(0,aS.str)`must have ${n} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:n}})=>(0,aS._)`{property: ${e},
    missingProperty: ${n},
    depsCount: ${t},
    deps: ${r}}`};var G2e={keyword:"dependencies",type:"object",schemaType:"object",error:Ea.error,code(e){let[t,r]=V2e(e);rU(e,t),nU(e,r)}};function V2e({schema:e}){let t={},r={};for(let n in e){if(n==="__proto__")continue;let s=Array.isArray(e[n])?t:r;s[n]=e[n]}return[t,r]}function rU(e,t=e.schema){let{gen:r,data:n,it:s}=e;if(Object.keys(t).length===0)return;let a=r.let("missing");for(let o in t){let c=t[o];if(c.length===0)continue;let u=(0,Z0.propertyInData)(r,n,o,s.opts.ownProperties);e.setParams({property:o,depsCount:c.length,deps:c.join(", ")}),s.allErrors?r.if(u,()=>{for(let l of c)(0,Z0.checkReportMissingProp)(e,l)}):(r.if((0,aS._)`${u} && (${(0,Z0.checkMissingProp)(e,c,a)})`),(0,Z0.reportMissingProp)(e,a),r.else())}}Ea.validatePropertyDeps=rU;function nU(e,t=e.schema){let{gen:r,data:n,keyword:s,it:a}=e,o=r.name("valid");for(let c in t)(0,z2e.alwaysValidSchema)(a,t[c])||(r.if((0,Z0.propertyInData)(r,n,c,a.opts.ownProperties),()=>{let u=e.subschema({keyword:s,schemaProp:c},o);e.mergeValidEvaluated(u,o)},()=>r.var(o,!0)),e.ok(o))}Ea.validateSchemaDeps=nU;Ea.default=G2e});var aU=C(oS=>{"use strict";Object.defineProperty(oS,"__esModule",{value:!0});var iU=ot(),K2e=$t(),Y2e={message:"property name must be valid",params:({params:e})=>(0,iU._)`{propertyName: ${e.propertyName}}`},W2e={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Y2e,code(e){let{gen:t,schema:r,data:n,it:s}=e;if((0,K2e.alwaysValidSchema)(s,r))return;let a=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},a),t.if((0,iU.not)(a),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(a)}};oS.default=W2e});var uS=C(cS=>{"use strict";Object.defineProperty(cS,"__esModule",{value:!0});var b1=ii(),qi=ot(),J2e=uo(),E1=$t(),X2e={message:"must NOT have additional properties",params:({params:e})=>(0,qi._)`{additionalProperty: ${e.additionalProperty}}`},Z2e={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:X2e,code(e){let{gen:t,schema:r,parentSchema:n,data:s,errsCount:a,it:o}=e;if(!a)throw new Error("ajv implementation error");let{allErrors:c,opts:u}=o;if(o.props=!0,u.removeAdditional!=="all"&&(0,E1.alwaysValidSchema)(o,r))return;let l=(0,b1.allSchemaProperties)(n.properties),d=(0,b1.allSchemaProperties)(n.patternProperties);f(),e.ok((0,qi._)`${a} === ${J2e.default.errors}`);function f(){t.forIn("key",s,A=>{!l.length&&!d.length?h(A):t.if(p(A),()=>h(A))})}function p(A){let y;if(l.length>8){let v=(0,E1.schemaRefOrVal)(o,n.properties,"properties");y=(0,b1.isOwnProperty)(t,v,A)}else l.length?y=(0,qi.or)(...l.map(v=>(0,qi._)`${A} === ${v}`)):y=qi.nil;return d.length&&(y=(0,qi.or)(y,...d.map(v=>(0,qi._)`${(0,b1.usePattern)(e,v)}.test(${A})`))),(0,qi.not)(y)}function m(A){t.code((0,qi._)`delete ${s}[${A}]`)}function h(A){if(u.removeAdditional==="all"||u.removeAdditional&&r===!1){m(A);return}if(r===!1){e.setParams({additionalProperty:A}),e.error(),c||t.break();return}if(typeof r=="object"&&!(0,E1.alwaysValidSchema)(o,r)){let y=t.name("valid");u.removeAdditional==="failing"?(g(A,y,!1),t.if((0,qi.not)(y),()=>{e.reset(),m(A)})):(g(A,y),c||t.if((0,qi.not)(y),()=>t.break()))}}function g(A,y,v){let b={keyword:"additionalProperties",dataProp:A,dataPropType:E1.Type.Str};v===!1&&Object.assign(b,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(b,y)}}};cS.default=Z2e});var uU=C(dS=>{"use strict";Object.defineProperty(dS,"__esModule",{value:!0});var eIe=M0(),oU=ii(),lS=$t(),cU=uS(),tIe={keyword:"properties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&cU.default.code(new eIe.KeywordCxt(a,cU.default,"additionalProperties"));let o=(0,oU.allSchemaProperties)(r);for(let f of o)a.definedProperties.add(f);a.opts.unevaluated&&o.length&&a.props!==!0&&(a.props=lS.mergeEvaluated.props(t,(0,lS.toHash)(o),a.props));let c=o.filter(f=>!(0,lS.alwaysValidSchema)(a,r[f]));if(c.length===0)return;let u=t.name("valid");for(let f of c)l(f)?d(f):(t.if((0,oU.propertyInData)(t,s,f,a.opts.ownProperties)),d(f),a.allErrors||t.else().var(u,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(u);function l(f){return a.opts.useDefaults&&!a.compositeRule&&r[f].default!==void 0}function d(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},u)}}};dS.default=tIe});var pU=C(fS=>{"use strict";Object.defineProperty(fS,"__esModule",{value:!0});var lU=ii(),x1=ot(),dU=$t(),fU=$t(),rIe={keyword:"patternProperties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,data:n,parentSchema:s,it:a}=e,{opts:o}=a,c=(0,lU.allSchemaProperties)(r),u=c.filter(g=>(0,dU.alwaysValidSchema)(a,r[g]));if(c.length===0||u.length===c.length&&(!a.opts.unevaluated||a.props===!0))return;let l=o.strictSchema&&!o.allowMatchingProperties&&s.properties,d=t.name("valid");a.props!==!0&&!(a.props instanceof x1.Name)&&(a.props=(0,fU.evaluatedPropsToName)(t,a.props));let{props:f}=a;p();function p(){for(let g of c)l&&m(g),a.allErrors?h(g):(t.var(d,!0),h(g),t.if(d))}function m(g){for(let A in l)new RegExp(g).test(A)&&(0,dU.checkStrictMode)(a,`property ${A} matches pattern ${g} (use allowMatchingProperties)`)}function h(g){t.forIn("key",n,A=>{t.if((0,x1._)`${(0,lU.usePattern)(e,g)}.test(${A})`,()=>{let y=u.includes(g);y||e.subschema({keyword:"patternProperties",schemaProp:g,dataProp:A,dataPropType:fU.Type.Str},d),a.opts.unevaluated&&f!==!0?t.assign((0,x1._)`${f}[${A}]`,!0):!y&&!a.allErrors&&t.if((0,x1.not)(d),()=>t.break())})})}}};fS.default=rIe});var hU=C(pS=>{"use strict";Object.defineProperty(pS,"__esModule",{value:!0});var nIe=$t(),sIe={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){let{gen:t,schema:r,it:n}=e;if((0,nIe.alwaysValidSchema)(n,r)){e.fail();return}let s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};pS.default=sIe});var mU=C(hS=>{"use strict";Object.defineProperty(hS,"__esModule",{value:!0});var iIe=ii(),aIe={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:iIe.validateUnion,error:{message:"must match a schema in anyOf"}};hS.default=aIe});var gU=C(mS=>{"use strict";Object.defineProperty(mS,"__esModule",{value:!0});var v1=ot(),oIe=$t(),cIe={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,v1._)`{passingSchemas: ${e.passing}}`},uIe={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:cIe,code(e){let{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;let a=r,o=t.let("valid",!1),c=t.let("passing",null),u=t.name("_valid");e.setParams({passing:c}),t.block(l),e.result(o,()=>e.reset(),()=>e.error(!0));function l(){a.forEach((d,f)=>{let p;(0,oIe.alwaysValidSchema)(s,d)?t.var(u,!0):p=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},u),f>0&&t.if((0,v1._)`${u} && ${o}`).assign(o,!1).assign(c,(0,v1._)`[${c}, ${f}]`).else(),t.if(u,()=>{t.assign(o,!0),t.assign(c,f),p&&e.mergeEvaluated(p,v1.Name)})})}}};mS.default=uIe});var AU=C(gS=>{"use strict";Object.defineProperty(gS,"__esModule",{value:!0});var lIe=$t(),dIe={keyword:"allOf",schemaType:"array",code(e){let{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");let s=t.name("valid");r.forEach((a,o)=>{if((0,lIe.alwaysValidSchema)(n,a))return;let c=e.subschema({keyword:"allOf",schemaProp:o},s);e.ok(s),e.mergeEvaluated(c)})}};gS.default=dIe});var EU=C(AS=>{"use strict";Object.defineProperty(AS,"__esModule",{value:!0});var _1=ot(),bU=$t(),fIe={message:({params:e})=>(0,_1.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,_1._)`{failingKeyword: ${e.ifClause}}`},pIe={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:fIe,code(e){let{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,bU.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let s=yU(n,"then"),a=yU(n,"else");if(!s&&!a)return;let o=t.let("valid",!0),c=t.name("_valid");if(u(),e.reset(),s&&a){let d=t.let("ifClause");e.setParams({ifClause:d}),t.if(c,l("then",d),l("else",d))}else s?t.if(c,l("then")):t.if((0,_1.not)(c),l("else"));e.pass(o,()=>e.error(!0));function u(){let d=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},c);e.mergeEvaluated(d)}function l(d,f){return()=>{let p=e.subschema({keyword:d},c);t.assign(o,c),e.mergeValidEvaluated(p,o),f?t.assign(f,(0,_1._)`${d}`):e.setParams({ifClause:d})}}}};function yU(e,t){let r=e.schema[t];return r!==void 0&&!(0,bU.alwaysValidSchema)(e,r)}AS.default=pIe});var xU=C(yS=>{"use strict";Object.defineProperty(yS,"__esModule",{value:!0});var hIe=$t(),mIe={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,hIe.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};yS.default=mIe});var vU=C(bS=>{"use strict";Object.defineProperty(bS,"__esModule",{value:!0});var gIe=tS(),AIe=XQ(),yIe=rS(),bIe=eU(),EIe=tU(),xIe=sU(),vIe=aU(),_Ie=uS(),IIe=uU(),CIe=pU(),wIe=hU(),SIe=mU(),TIe=gU(),BIe=AU(),RIe=EU(),NIe=xU();function kIe(e=!1){let t=[wIe.default,SIe.default,TIe.default,BIe.default,RIe.default,NIe.default,vIe.default,_Ie.default,xIe.default,IIe.default,CIe.default];return e?t.push(AIe.default,bIe.default):t.push(gIe.default,yIe.default),t.push(EIe.default),t}bS.default=kIe});var _U=C(ES=>{"use strict";Object.defineProperty(ES,"__esModule",{value:!0});var Fr=ot(),DIe={message:({schemaCode:e})=>(0,Fr.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Fr._)`{format: ${e}}`},PIe={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:DIe,code(e,t){let{gen:r,data:n,$data:s,schema:a,schemaCode:o,it:c}=e,{opts:u,errSchemaPath:l,schemaEnv:d,self:f}=c;if(!u.validateFormats)return;s?p():m();function p(){let h=r.scopeValue("formats",{ref:f.formats,code:u.code.formats}),g=r.const("fDef",(0,Fr._)`${h}[${o}]`),A=r.let("fType"),y=r.let("format");r.if((0,Fr._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>r.assign(A,(0,Fr._)`${g}.type || "string"`).assign(y,(0,Fr._)`${g}.validate`),()=>r.assign(A,(0,Fr._)`"string"`).assign(y,g)),e.fail$data((0,Fr.or)(v(),b()));function v(){return u.strictSchema===!1?Fr.nil:(0,Fr._)`${o} && !${y}`}function b(){let E=d.$async?(0,Fr._)`(${g}.async ? await ${y}(${n}) : ${y}(${n}))`:(0,Fr._)`${y}(${n})`,I=(0,Fr._)`(typeof ${y} == "function" ? ${E} : ${y}.test(${n}))`;return(0,Fr._)`${y} && ${y} !== true && ${A} === ${t} && !${I}`}}function m(){let h=f.formats[a];if(!h){v();return}if(h===!0)return;let[g,A,y]=b(h);g===t&&e.pass(E());function v(){if(u.strictSchema===!1){f.logger.warn(I());return}throw new Error(I());function I(){return`unknown format "${a}" ignored in schema at path "${l}"`}}function b(I){let w=I instanceof RegExp?(0,Fr.regexpCode)(I):u.code.formats?(0,Fr._)`${u.code.formats}${(0,Fr.getProperty)(a)}`:void 0,S=r.scopeValue("formats",{key:a,ref:I,code:w});return typeof I=="object"&&!(I instanceof RegExp)?[I.type||"string",I.validate,(0,Fr._)`${S}.validate`]:["string",I,S]}function E(){if(typeof h=="object"&&!(h instanceof RegExp)&&h.async){if(!d.$async)throw new Error("async format in sync schema");return(0,Fr._)`await ${y}(${n})`}return typeof A=="function"?(0,Fr._)`${y}(${n})`:(0,Fr._)`${y}.test(${n})`}}}};ES.default=PIe});var IU=C(xS=>{"use strict";Object.defineProperty(xS,"__esModule",{value:!0});var OIe=_U(),$Ie=[OIe.default];xS.default=$Ie});var CU=C(Yd=>{"use strict";Object.defineProperty(Yd,"__esModule",{value:!0});Yd.contentVocabulary=Yd.metadataVocabulary=void 0;Yd.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Yd.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var SU=C(vS=>{"use strict";Object.defineProperty(vS,"__esModule",{value:!0});var LIe=PQ(),MIe=KQ(),FIe=vU(),QIe=IU(),wU=CU(),UIe=[LIe.default,MIe.default,(0,FIe.default)(),QIe.default,wU.metadataVocabulary,wU.contentVocabulary];vS.default=UIe});var BU=C(I1=>{"use strict";Object.defineProperty(I1,"__esModule",{value:!0});I1.DiscrError=void 0;var TU;(function(e){e.Tag="tag",e.Mapping="mapping"})(TU||(I1.DiscrError=TU={}))});var NU=C(IS=>{"use strict";Object.defineProperty(IS,"__esModule",{value:!0});var Wd=ot(),_S=BU(),RU=a1(),qIe=F0(),jIe=$t(),HIe={message:({params:{discrError:e,tagName:t}})=>e===_S.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Wd._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},zIe={keyword:"discriminator",type:"object",schemaType:"object",error:HIe,code(e){let{gen:t,data:r,schema:n,parentSchema:s,it:a}=e,{oneOf:o}=s;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");let c=n.propertyName;if(typeof c!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");let u=t.let("valid",!1),l=t.const("tag",(0,Wd._)`${r}${(0,Wd.getProperty)(c)}`);t.if((0,Wd._)`typeof ${l} == "string"`,()=>d(),()=>e.error(!1,{discrError:_S.DiscrError.Tag,tag:l,tagName:c})),e.ok(u);function d(){let m=p();t.if(!1);for(let h in m)t.elseIf((0,Wd._)`${l} === ${h}`),t.assign(u,f(m[h]));t.else(),e.error(!1,{discrError:_S.DiscrError.Mapping,tag:l,tagName:c}),t.endIf()}function f(m){let h=t.name("valid"),g=e.subschema({keyword:"oneOf",schemaProp:m},h);return e.mergeEvaluated(g,Wd.Name),h}function p(){var m;let h={},g=y(s),A=!0;for(let E=0;E<o.length;E++){let I=o[E];if(I?.$ref&&!(0,jIe.schemaHasRulesButRef)(I,a.self.RULES)){let S=I.$ref;if(I=RU.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,S),I instanceof RU.SchemaEnv&&(I=I.schema),I===void 0)throw new qIe.default(a.opts.uriResolver,a.baseId,S)}let w=(m=I?.properties)===null||m===void 0?void 0:m[c];if(typeof w!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${c}"`);A=A&&(g||y(I)),v(w,E)}if(!A)throw new Error(`discriminator: "${c}" must be required`);return h;function y({required:E}){return Array.isArray(E)&&E.includes(c)}function v(E,I){if(E.const)b(E.const,I);else if(E.enum)for(let w of E.enum)b(w,I);else throw new Error(`discriminator: "properties/${c}" must have "const" or "enum"`)}function b(E,I){if(typeof E!="string"||E in h)throw new Error(`discriminator: "${c}" values must be unique strings`);h[E]=I}}}};IS.default=zIe});var kU=C((Clt,GIe)=>{GIe.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var wS=C((br,CS)=>{"use strict";Object.defineProperty(br,"__esModule",{value:!0});br.MissingRefError=br.ValidationError=br.CodeGen=br.Name=br.nil=br.stringify=br.str=br._=br.KeywordCxt=br.Ajv=void 0;var VIe=TQ(),KIe=SU(),YIe=NU(),DU=kU(),WIe=["/properties"],C1="http://json-schema.org/draft-07/schema",Jd=class extends VIe.default{_addVocabularies(){super._addVocabularies(),KIe.default.forEach(t=>this.addVocabulary(t)),this.opts.discriminator&&this.addKeyword(YIe.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let t=this.opts.$data?this.$dataMetaSchema(DU,WIe):DU;this.addMetaSchema(t,C1,!1),this.refs["http://json-schema.org/schema"]=C1}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(C1)?C1:void 0)}};br.Ajv=Jd;CS.exports=br=Jd;CS.exports.Ajv=Jd;Object.defineProperty(br,"__esModule",{value:!0});br.default=Jd;var JIe=M0();Object.defineProperty(br,"KeywordCxt",{enumerable:!0,get:function(){return JIe.KeywordCxt}});var Xd=ot();Object.defineProperty(br,"_",{enumerable:!0,get:function(){return Xd._}});Object.defineProperty(br,"str",{enumerable:!0,get:function(){return Xd.str}});Object.defineProperty(br,"stringify",{enumerable:!0,get:function(){return Xd.stringify}});Object.defineProperty(br,"nil",{enumerable:!0,get:function(){return Xd.nil}});Object.defineProperty(br,"Name",{enumerable:!0,get:function(){return Xd.Name}});Object.defineProperty(br,"CodeGen",{enumerable:!0,get:function(){return Xd.CodeGen}});var XIe=s1();Object.defineProperty(br,"ValidationError",{enumerable:!0,get:function(){return XIe.default}});var ZIe=F0();Object.defineProperty(br,"MissingRefError",{enumerable:!0,get:function(){return ZIe.default}})});var OU=C((wlt,PU)=>{"use strict";var eCe={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};PU.exports={HEX:eCe}});var jU=C((Slt,qU)=>{"use strict";var{HEX:tCe}=OU();function FU(e){if(UU(e,".")<3)return{host:e,isIPV4:!1};let t=e.match(/^(\b[01]?\d{1,2}|\b2[0-4]\d|\b25[0-5])(\.([01]?\d{1,2}|2[0-4]\d|25[0-5])){3}$/u)||[],[r]=t;return r?{host:nCe(r,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function SS(e){let t="",r=!0;for(let n of e){if(n!=="0"&&r===!0&&(r=!1),tCe[n]===void 0)return;r||(t+=n)}return t}function rCe(e){let t=0,r={error:!1,address:"",zone:""},n=[],s=[],a=!1,o=!1,c=!1;function u(){if(s.length){if(a===!1){let l=SS(s.join(""));if(l!==void 0)n.push(l);else return r.error=!0,!1}s.length=0}return!0}for(let l=0;l<e.length;l++){let d=e[l];if(!(d==="["||d==="]"))if(d===":"){if(o===!0&&(c=!0),!u())break;if(t++,n.push(":"),t>7){r.error=!0;break}l-1>=0&&e[l-1]===":"&&(o=!0);continue}else if(d==="%"){if(!u())break;a=!0}else{s.push(d);continue}}return s.length&&(a?r.zone=s.join(""):c?n.push(s.join("")):n.push(SS(s.join("")))),r.address=n.join(""),r}function QU(e,t={}){if(UU(e,":")<2)return{host:e,isIPV6:!1};let r=rCe(e);if(r.error)return{host:e,isIPV6:!1};{let n=r.address,s=r.address;return r.zone&&(n+="%"+r.zone,s+="%25"+r.zone),{host:n,escapedHost:s,isIPV6:!0}}}function nCe(e,t){let r="",n=!0,s=e.length;for(let a=0;a<s;a++){let o=e[a];o==="0"&&n?(a+1<=s&&e[a+1]===t||a+1===s)&&(r+=o,n=!1):(o===t?n=!0:n=!1,r+=o)}return r}function UU(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}var $U=/^\.\.?\//u,LU=/^\/\.(?:\/|$)/u,MU=/^\/\.\.(?:\/|$)/u,sCe=/^\/?(?:.|\n)*?(?=\/|$)/u;function iCe(e){let t=[];for(;e.length;)if(e.match($U))e=e.replace($U,"");else if(e.match(LU))e=e.replace(LU,"/");else if(e.match(MU))e=e.replace(MU,"/"),t.pop();else if(e==="."||e==="..")e="";else{let r=e.match(sCe);if(r){let n=r[0];e=e.slice(n.length),t.push(n)}else throw new Error("Unexpected dot segment condition")}return t.join("")}function aCe(e,t){let r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function oCe(e,t){let r=[];if(e.userinfo!==void 0&&(r.push(e.userinfo),r.push("@")),e.host!==void 0){let n=unescape(e.host),s=FU(n);if(s.isIPV4)n=s.host;else{let a=QU(s.host,{isIPV4:!1});a.isIPV6===!0?n=`[${a.escapedHost}]`:n=e.host}r.push(n)}return(typeof e.port=="number"||typeof e.port=="string")&&(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0}qU.exports={recomposeAuthority:oCe,normalizeComponentEncoding:aCe,removeDotSegments:iCe,normalizeIPv4:FU,normalizeIPv6:QU,stringToHexStripped:SS}});var YU=C((Tlt,KU)=>{"use strict";var cCe=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,uCe=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function HU(e){return typeof e.secure=="boolean"?e.secure:String(e.scheme).toLowerCase()==="wss"}function zU(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function GU(e){let t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function lCe(e){return e.secure=HU(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function dCe(e){if((e.port===(HU(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){let[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function fCe(e,t){if(!e.path)return e.error="URN can not be parsed",e;let r=e.path.match(uCe);if(r){let n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];let s=`${n}:${t.nid||e.nid}`,a=TS[s];e.path=void 0,a&&(e=a.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function pCe(e,t){let r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),s=`${r}:${t.nid||n}`,a=TS[s];a&&(e=a.serialize(e,t));let o=e,c=e.nss;return o.path=`${n||t.nid}:${c}`,t.skipEscape=!0,o}function hCe(e,t){let r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!cCe.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function mCe(e){let t=e;return t.nss=(e.uuid||"").toLowerCase(),t}var VU={scheme:"http",domainHost:!0,parse:zU,serialize:GU},gCe={scheme:"https",domainHost:VU.domainHost,parse:zU,serialize:GU},w1={scheme:"ws",domainHost:!0,parse:lCe,serialize:dCe},ACe={scheme:"wss",domainHost:w1.domainHost,parse:w1.parse,serialize:w1.serialize},yCe={scheme:"urn",parse:fCe,serialize:pCe,skipNormalize:!0},bCe={scheme:"urn:uuid",parse:hCe,serialize:mCe,skipNormalize:!0},TS={http:VU,https:gCe,ws:w1,wss:ACe,urn:yCe,"urn:uuid":bCe};KU.exports=TS});var RS=C((Blt,T1)=>{"use strict";var{normalizeIPv6:ECe,normalizeIPv4:xCe,removeDotSegments:eh,recomposeAuthority:vCe,normalizeComponentEncoding:S1}=jU(),WU=YU();function _Ce(e,t){return typeof e=="string"?e=xa(po(e,t),t):typeof e=="object"&&(e=po(xa(e,t),t)),e}function ICe(e,t,r){let n=Object.assign({scheme:"null"},r),s=JU(po(e,n),po(t,n),n,!0);return xa(s,{...n,skipEscape:!0})}function JU(e,t,r,n){let s={};return n||(e=po(xa(e,r),r),t=po(xa(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=eh(t.path||""),s.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=eh(t.path||""),s.query=t.query):(t.path?(t.path.charAt(0)==="/"?s.path=eh(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?s.path="/"+t.path:e.path?s.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:s.path=t.path,s.path=eh(s.path)),s.query=t.query):(s.path=e.path,t.query!==void 0?s.query=t.query:s.query=e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function CCe(e,t,r){return typeof e=="string"?(e=unescape(e),e=xa(S1(po(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=xa(S1(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=xa(S1(po(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=xa(S1(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function xa(e,t){let r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),s=[],a=WU[(n.scheme||r.scheme||"").toLowerCase()];a&&a.serialize&&a.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&(s.push(r.scheme),s.push(":"));let o=vCe(r,n);if(o!==void 0&&(n.reference!=="suffix"&&s.push("//"),s.push(o),r.path&&r.path.charAt(0)!=="/"&&s.push("/")),r.path!==void 0){let c=r.path;!n.absolutePath&&(!a||!a.absolutePath)&&(c=eh(c)),o===void 0&&(c=c.replace(/^\/\//u,"/%2F")),s.push(c)}return r.query!==void 0&&(s.push("?"),s.push(r.query)),r.fragment!==void 0&&(s.push("#"),s.push(r.fragment)),s.join("")}var wCe=Array.from({length:127},(e,t)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(t)));function SCe(e){let t=0;for(let r=0,n=e.length;r<n;++r)if(t=e.charCodeAt(r),t>126||wCe[t])return!0;return!1}var TCe=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function po(e,t){let r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},s=e.indexOf("%")!==-1;r.reference==="suffix"&&(e=(r.scheme?r.scheme+":":"")+"//"+e);let a=e.match(TCe);if(a){if(n.scheme=a[1],n.userinfo=a[3],n.host=a[4],n.port=parseInt(a[5],10),n.path=a[6]||"",n.query=a[7],n.fragment=a[8],isNaN(n.port)&&(n.port=a[5]),n.host){let c=xCe(n.host);c.isIPV4===!1?n.host=ECe(c.host,{isIPV4:!1}).host.toLowerCase():n.host=c.host}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&!n.path&&n.query===void 0?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");let o=WU[(r.scheme||n.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!o||!o.unicodeSupport)&&n.host&&(r.domainHost||o&&o.domainHost)&&SCe(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(c){n.error=n.error||"Host's domain name can not be converted to ASCII: "+c}(!o||o&&!o.skipNormalize)&&(s&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),s&&n.userinfo!==void 0&&(n.userinfo=unescape(n.userinfo)),s&&n.host!==void 0&&(n.host=unescape(n.host)),n.path!==void 0&&n.path.length&&(n.path=escape(unescape(n.path))),n.fragment!==void 0&&n.fragment.length&&(n.fragment=encodeURI(decodeURI(n.fragment)))),o&&o.parse&&o.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}var BS={normalize:_Ce,resolve:ICe,resolveComponents:JU,equal:CCe,serialize:xa,parse:po};T1.exports=BS;T1.exports.default=BS;T1.exports.fastUri=BS});var B1=C(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a.formatNames=_a.fastFormats=_a.fullFormats=void 0;function va(e,t){return{validate:e,compare:t}}_a.fullFormats={date:va(t7,PS),time:va(kS(!0),OS),"date-time":va(XU(!0),n7),"iso-time":va(kS(),r7),"iso-date-time":va(XU(),s7),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:PCe,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:UCe,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:OCe,int32:{type:"number",validate:MCe},int64:{type:"number",validate:FCe},float:{type:"number",validate:e7},double:{type:"number",validate:e7},password:!0,binary:!0};_a.fastFormats={..._a.fullFormats,date:va(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,PS),time:va(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,OS),"date-time":va(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,n7),"iso-time":va(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,r7),"iso-date-time":va(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,s7),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i};_a.formatNames=Object.keys(_a.fullFormats);function BCe(e){return e%4===0&&(e%100!==0||e%400===0)}var RCe=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,NCe=[0,31,28,31,30,31,30,31,31,30,31,30,31];function t7(e){let t=RCe.exec(e);if(!t)return!1;let r=+t[1],n=+t[2],s=+t[3];return n>=1&&n<=12&&s>=1&&s<=(n===2&&BCe(r)?29:NCe[n])}function PS(e,t){if(e&&t)return e>t?1:e<t?-1:0}var NS=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function kS(e){return function(r){let n=NS.exec(r);if(!n)return!1;let s=+n[1],a=+n[2],o=+n[3],c=n[4],u=n[5]==="-"?-1:1,l=+(n[6]||0),d=+(n[7]||0);if(l>23||d>59||e&&!c)return!1;if(s<=23&&a<=59&&o<60)return!0;let f=a-d*u,p=s-l*u-(f<0?1:0);return(p===23||p===-1)&&(f===59||f===-1)&&o<61}}function OS(e,t){if(!(e&&t))return;let r=new Date("2020-01-01T"+e).valueOf(),n=new Date("2020-01-01T"+t).valueOf();if(r&&n)return r-n}function r7(e,t){if(!(e&&t))return;let r=NS.exec(e),n=NS.exec(t);if(r&&n)return e=r[1]+r[2]+r[3],t=n[1]+n[2]+n[3],e>t?1:e<t?-1:0}var DS=/t|\s/i;function XU(e){let t=kS(e);return function(n){let s=n.split(DS);return s.length===2&&t7(s[0])&&t(s[1])}}function n7(e,t){if(!(e&&t))return;let r=new Date(e).valueOf(),n=new Date(t).valueOf();if(r&&n)return r-n}function s7(e,t){if(!(e&&t))return;let[r,n]=e.split(DS),[s,a]=t.split(DS),o=PS(r,s);if(o!==void 0)return o||OS(n,a)}var kCe=/\/|:/,DCe=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function PCe(e){return kCe.test(e)&&DCe.test(e)}var ZU=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function OCe(e){return ZU.lastIndex=0,ZU.test(e)}var $Ce=-(2**31),LCe=2**31-1;function MCe(e){return Number.isInteger(e)&&e<=LCe&&e>=$Ce}function FCe(e){return Number.isInteger(e)}function e7(){return!0}var QCe=/[^\\]\\Z/;function UCe(e){if(QCe.test(e))return!1;try{return new RegExp(e),!0}catch{return!1}}});var i7=C(Zd=>{"use strict";Object.defineProperty(Zd,"__esModule",{value:!0});Zd.formatLimitDefinition=void 0;var qCe=wS(),ji=ot(),xc=ji.operators,R1={formatMaximum:{okStr:"<=",ok:xc.LTE,fail:xc.GT},formatMinimum:{okStr:">=",ok:xc.GTE,fail:xc.LT},formatExclusiveMaximum:{okStr:"<",ok:xc.LT,fail:xc.GTE},formatExclusiveMinimum:{okStr:">",ok:xc.GT,fail:xc.LTE}},jCe={message:({keyword:e,schemaCode:t})=>(0,ji.str)`should be ${R1[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,ji._)`{comparison: ${R1[e].okStr}, limit: ${t}}`};Zd.formatLimitDefinition={keyword:Object.keys(R1),type:"string",schemaType:"string",$data:!0,error:jCe,code(e){let{gen:t,data:r,schemaCode:n,keyword:s,it:a}=e,{opts:o,self:c}=a;if(!o.validateFormats)return;let u=new qCe.KeywordCxt(a,c.RULES.all.format.definition,"format");u.$data?l():d();function l(){let p=t.scopeValue("formats",{ref:c.formats,code:o.code.formats}),m=t.const("fmt",(0,ji._)`${p}[${u.schemaCode}]`);e.fail$data((0,ji.or)((0,ji._)`typeof ${m} != "object"`,(0,ji._)`${m} instanceof RegExp`,(0,ji._)`typeof ${m}.compare != "function"`,f(m)))}function d(){let p=u.schema,m=c.formats[p];if(!m||m===!0)return;if(typeof m!="object"||m instanceof RegExp||typeof m.compare!="function")throw new Error(`"${s}": format "${p}" does not define "compare" function`);let h=t.scopeValue("formats",{key:p,ref:m,code:o.code.formats?(0,ji._)`${o.code.formats}${(0,ji.getProperty)(p)}`:void 0});e.fail$data(f(h))}function f(p){return(0,ji._)`${p}.compare(${r}, ${n}) ${R1[s].fail} 0`}},dependencies:["format"]};var HCe=e=>(e.addKeyword(Zd.formatLimitDefinition),e);Zd.default=HCe});var u7=C((th,c7)=>{"use strict";Object.defineProperty(th,"__esModule",{value:!0});var ef=B1(),zCe=i7(),$S=ot(),a7=new $S.Name("fullFormats"),GCe=new $S.Name("fastFormats"),LS=(e,t={keywords:!0})=>{if(Array.isArray(t))return o7(e,t,ef.fullFormats,a7),e;let[r,n]=t.mode==="fast"?[ef.fastFormats,GCe]:[ef.fullFormats,a7],s=t.formats||ef.formatNames;return o7(e,s,r,n),t.keywords&&(0,zCe.default)(e),e};LS.get=(e,t="full")=>{let n=(t==="fast"?ef.fastFormats:ef.fullFormats)[e];if(!n)throw new Error(`Unknown format "${e}"`);return n};function o7(e,t,r,n){var s,a;(s=(a=e.opts.code).formats)!==null&&s!==void 0||(a.formats=(0,$S._)`require("ajv-formats/dist/formats").${n}`);for(let o of t)e.addFormat(o,r[o])}c7.exports=th=LS;Object.defineProperty(th,"__esModule",{value:!0});th.default=LS});var FS=C((klt,l7)=>{"use strict";var VCe=wS(),KCe=RS(),YCe=u7(),WCe=Hy()({proto:!0}),MS=class e{constructor(t){this.ajv=new VCe({...t,strictSchema:!1,validateSchema:!1,allowUnionTypes:!0,uriResolver:KCe}),YCe(this.ajv),this.ajv.addKeyword({keyword:"fjs_type",type:"object",errors:!1,validate:(r,n)=>n instanceof Date}),this._ajvSchemas={},this._ajvOptions=t||{}}addSchema(t,r){let n=t.$id||r;if(t.$id!==void 0&&t.$id[0]==="#"&&(n=r+t.$id),this.ajv.refs[n]===void 0&&this.ajv.schemas[n]===void 0){let s=WCe(t);this.convertSchemaToAjvFormat(s),this.ajv.addSchema(s,n),this._ajvSchemas[n]=t}}validate(t,r){return this.ajv.validate(t,r)}convertSchemaToAjvFormat(t){if(t!==null){t.type==="string"?(t.fjs_type="string",t.type=["string","object"]):Array.isArray(t.type)&&t.type.includes("string")&&!t.type.includes("object")&&(t.fjs_type="string",t.type.push("object"));for(let r in t)typeof t[r]=="object"&&this.convertSchemaToAjvFormat(t[r])}}getState(){return{ajvOptions:this._ajvOptions,ajvSchemas:this._ajvSchemas}}static restoreFromState(t){let r=new e(t.ajvOptions);for(let[n,s]of Object.entries(t.ajvSchemas))r.ajv.addSchema(s,n);return r}};l7.exports=MS});var US=C((Dlt,QS)=>{"use strict";function JCe(e,t,r,n){let s="";t.validatorSchemasIds.size>0?(s+=`const Validator = require('fast-json-stringify/lib/validator')
`,s+=`const validatorState = ${JSON.stringify(n.getState())}
`,s+=`const validator = Validator.restoreFromState(validatorState)
`):s+=`const validator = null
`;let{schema:a,...o}=r.getState();return`
  'use strict'

  const Serializer = require('fast-json-stringify/lib/serializer')
  const serializerState = ${JSON.stringify(o)}
  const serializer = Serializer.restoreFromState(serializerState)

  ${s}

  module.exports = ${e.toString()}(validator, serializer)`}QS.exports=JCe;QS.exports.dependencies={Serializer:qC(),Validator:FS()}});var f7=C((Olt,d7)=>{"use strict";var{dependencies:XCe}=US(),{Serializer:ZCe,Validator:Plt}=XCe,ewe={mode:"standalone"},twe=ZCe.restoreFromState(ewe),rwe=null;d7.exports=function(t,r){function n(a){let o=a&&typeof a.toJSON=="function"?a.toJSON():a;if(o===null)return"{}";let c=!1,u="{";return o.statusCode!==void 0&&(!c&&(c=!0)||(u+=","),u+='"statusCode":',u+=r.asNumber(o.statusCode)),o.code!==void 0&&(!c&&(c=!0)||(u+=","),u+='"code":',u+=r.asString(o.code)),o.error!==void 0&&(!c&&(c=!0)||(u+=","),u+='"error":',u+=r.asString(o.error)),o.message!==void 0&&(!c&&(c=!0)||(u+=","),u+='"message":',u+=r.asString(o.message)),u+"}"}return n}(rwe,twe)});var rh=C(($lt,g7)=>{"use strict";var p7=require("node:http").STATUS_CODES,nwe=FI(),{kReplyHeaders:Zu,kReplyNextErrorHandler:N1,kReplyIsRunningOnErrorHook:swe,kReplyHasStatusCode:iwe,kRouteContext:m7}=cn(),{FST_ERR_REP_INVALID_PAYLOAD_TYPE:awe,FST_ERR_FAILED_ERROR_SERIALIZATION:owe}=$n(),{getSchemaSerializer:cwe}=I0(),qS=f7(),uwe={func:dwe,toJSON(){return this.func.name.toString()+"()"}};function lwe(e,t,r){e[swe]=!1;let n=e[m7];if(e[N1]===!1){h7(t,e,function(c,u){try{c.raw.writeHead(c.raw.statusCode,c[Zu])}catch(l){c.log.warn({req:c.request,res:c,err:l},l&&l.message),c.raw.writeHead(c.raw.statusCode)}c.raw.end(u)});return}let s=e[N1]||n.errorHandler;e[N1]=Object.getPrototypeOf(s),delete e[Zu]["content-type"],delete e[Zu]["content-length"];let a=s.func;if(!a){e[N1]=!1,h7(t,e,r);return}let o=a(t,e.request,e);o!==void 0&&(o!==null&&typeof o.then=="function"?nwe(o,e):e.send(o))}function dwe(e,t,r){if(pwe(e,r),!r[iwe]||r.statusCode===200){let n=e.statusCode||e.status;r.code(n>=400?n:500)}r.statusCode<500?r.log.info({res:r,err:e},e&&e.message):r.log.error({req:t,res:r,err:e},e&&e.message),r.send(e)}function h7(e,t,r){let n=t.raw,s=t.statusCode;t[Zu]["content-type"]=t[Zu]["content-type"]??"application/json; charset=utf-8";let a;try{let o=cwe(t[m7],s,t[Zu]["content-type"]);a=o===!1?qS({error:p7[s+""],code:e.code,message:e.message,statusCode:s}):o(Object.create(e,{error:{value:p7[s+""]},message:{value:e.message},statusCode:{value:s}}))}catch(o){t.log.error({err:o,statusCode:n.statusCode},"The serializer for the given status code failed"),t.code(500),a=qS(new owe(o.message,e.message))}typeof a!="string"&&!Buffer.isBuffer(a)&&(a=qS(new awe(typeof a))),t[Zu]["content-length"]=""+Buffer.byteLength(a),r(t,a)}function fwe(e=uwe,t){if(!t)return e;let r=Object.create(e);return r.func=t,r}function pwe(e,t){let r=t.raw,n=r.statusCode;n=n>=400?n:500,e!=null&&(e.headers!==void 0&&t.headers(e.headers),e.status>=400?n=e.status:e.statusCode>=400&&(n=e.statusCode)),r.statusCode=n}g7.exports={buildErrorHandler:fwe,handleError:lwe}});var L1=C((Llt,$1)=>{"use strict";var GS=require("node:stream").finished,hwe=require("node:stream").Readable,{kFourOhFourContext:A7,kPublicRouteContext:y7,kReplyErrorHandlerCalled:w7,kReplyHijacked:nh,kReplyStartTime:sh,kReplyEndTime:KS,kReplySerializer:ho,kReplySerializerDefault:D1,kReplyIsError:P1,kReplyHeaders:fr,kReplyTrailers:un,kReplyHasStatusCode:YS,kReplyIsRunningOnErrorHook:WS,kReplyNextErrorHandler:mwe,kDisableRequestLogging:S7,kSchemaResponse:O1,kReplyCacheSerializeFns:vc,kSchemaController:jS,kOptions:gwe,kRouteContext:At}=cn(),{onSendHookRunner:T7,onResponseHookRunner:Awe,preHandlerHookRunner:ywe,preSerializationHookRunner:bwe}=uc(),b7=jI()[Symbol.for("internals")],Ewe=_0(),VS=Ewe.now,{handleError:E7}=rh(),{getSchemaSerializer:xwe}=I0(),HS={JSON:"application/json; charset=utf-8",PLAIN:"text/plain; charset=utf-8",OCTET:"application/octet-stream"},{FST_ERR_REP_INVALID_PAYLOAD_TYPE:vwe,FST_ERR_REP_RESPONSE_BODY_CONSUMED:_we,FST_ERR_REP_ALREADY_SENT:B7,FST_ERR_REP_SENT_VALUE:Iwe,FST_ERR_SEND_INSIDE_ONERR:Cwe,FST_ERR_BAD_STATUS_CODE:wwe,FST_ERR_BAD_TRAILER_NAME:Swe,FST_ERR_BAD_TRAILER_VALUE:Twe,FST_ERR_MISSING_SERIALIZATION_FN:Bwe,FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN:Rwe}=$n(),{FSTDEP010:Nwe,FSTDEP013:kwe,FSTDEP019:Dwe,FSTDEP020:Pwe}=io(),R7=Object.prototype.toString;function cr(e,t,r){this.raw=e,this[ho]=null,this[w7]=!1,this[P1]=!1,this[WS]=!1,this.request=t,this[fr]={},this[un]=null,this[YS]=!1,this[sh]=void 0,this.log=r}cr.props=[];Object.defineProperties(cr.prototype,{[At]:{get(){return this.request[At]}},context:{get(){return Dwe(),this.request[At]}},elapsedTime:{get(){return this[sh]===void 0?0:(this[KS]||VS())-this[sh]}},server:{get(){return this.request[At].server}},sent:{enumerable:!0,get(){return(this[nh]||this.raw.writableEnded)===!0},set(e){if(Nwe(),e!==!0)throw new Iwe;if(this.sent&&this[nh])throw new B7(this.request.url,this.request.method);this[nh]=!0}},statusCode:{get(){return this.raw.statusCode},set(e){this.code(e)}},[y7]:{get(){return this.request[y7]}}});cr.prototype.hijack=function(){return this[nh]=!0,this};cr.prototype.send=function(e){if(this[WS]===!0)throw new Cwe;if(this.sent)return this.log.warn({err:new B7(this.request.url,this.request.method)}),this;if(e instanceof Error||this[P1]===!0)return this[P1]=!1,ih(this,e,el),this;if(e===void 0)return el(this,e),this;let t=this.getHeader("content-type"),r=t!==void 0;if(e!==null){if(typeof e.pipe=="function"||typeof e.getReader=="function"||R7.call(e)==="[object Response]")return el(this,e),this;if(e?.buffer instanceof ArrayBuffer){r===!1&&(this[fr]["content-type"]=HS.OCTET);let n=Buffer.isBuffer(e)?e:Buffer.from(e.buffer,e.byteOffset,e.byteLength);return el(this,n),this}if(r===!1&&typeof e=="string")return this[fr]["content-type"]=HS.PLAIN,el(this,e),this}if(this[ho]!==null){if(typeof e!="string")return x7(this,e),this;e=this[ho](e)}else if(r===!1||t.indexOf("json")>-1){if(r===!1)this[fr]["content-type"]=HS.JSON;else if(t.indexOf("charset")===-1){let n=t.trim();n.endsWith(";")?this[fr]["content-type"]=`${n} charset=utf-8`:this[fr]["content-type"]=`${n}; charset=utf-8`}if(typeof e!="string")return x7(this,e),this}return el(this,e),this};cr.prototype.getHeader=function(e){e=e.toLowerCase();let t=this.raw,r=this[fr][e];return r===void 0&&t.hasHeader(e)&&(r=t.getHeader(e)),r};cr.prototype.getHeaders=function(){return{...this.raw.getHeaders(),...this[fr]}};cr.prototype.hasHeader=function(e){return e=e.toLowerCase(),this[fr][e]!==void 0||this.raw.hasHeader(e)};cr.prototype.removeHeader=function(e){return delete this[fr][e.toLowerCase()],this};cr.prototype.header=function(e,t=""){return e=e.toLowerCase(),this[fr][e]&&e==="set-cookie"?(typeof this[fr][e]=="string"&&(this[fr][e]=[this[fr][e]]),Array.isArray(t)?Array.prototype.push.apply(this[fr][e],t):this[fr][e].push(t)):this[fr][e]=t,this};cr.prototype.headers=function(e){let t=Object.keys(e);for(var r=0;r!==t.length;++r){let n=t[r];this.header(n,e[n])}return this};var Owe=new Set(["transfer-encoding","content-length","host","cache-control","max-forwards","te","authorization","set-cookie","content-encoding","content-type","content-range","trailer"]);cr.prototype.trailer=function(e,t){if(e=e.toLowerCase(),Owe.has(e))throw new Swe(e);if(typeof t!="function")throw new Twe(e,typeof t);return this[un]===null&&(this[un]={}),this[un][e]=t,this};cr.prototype.hasTrailer=function(e){return this[un]?.[e.toLowerCase()]!==void 0};cr.prototype.removeTrailer=function(e){return this[un]===null?this:(this[un][e.toLowerCase()]=void 0,this)};cr.prototype.code=function(e){let t=Number(e);if(isNaN(t)||t<100||t>599)throw new wwe(e||String(e));return this.raw.statusCode=t,this[YS]=!0,this};cr.prototype.status=cr.prototype.code;cr.prototype.getSerializationFunction=function(e,t){let r;return typeof e=="string"||typeof e=="number"?typeof t=="string"?r=this[At][O1]?.[e]?.[t]:r=this[At][O1]?.[e]:typeof e=="object"&&(r=this[At][vc]?.get(e)),r};cr.prototype.compileSerializationSchema=function(e,t=null,r=null){let{request:n}=this,{method:s,url:a}=n;if(this[At][vc]?.has(e))return this[At][vc].get(e);let c=(this[At].serializerCompiler||this.server[jS].serializerCompiler||this.server[jS].setupSerializer(this.server[gwe])||this.server[jS].serializerCompiler)({schema:e,method:s,url:a,httpStatus:t,contentType:r});return this[At][vc]==null&&(this[At][vc]=new WeakMap),this[At][vc].set(e,c),c};cr.prototype.serializeInput=function(e,t,r,n){let s=r,a;if(r=typeof t=="string"||typeof t=="number"?t:r,n=r&&s!==r?s:n,r!=null){if(n!=null?a=this[At][O1]?.[r]?.[n]:a=this[At][O1]?.[r],a==null)throw n?new Rwe(r,n):new Bwe(r)}else this[At][vc]?.has(t)?a=this[At][vc].get(t):a=this.compileSerializationSchema(t,r,n);return a(e)};cr.prototype.serialize=function(e){return this[ho]!==null?this[ho](e):this[At]&&this[At][D1]?this[At][D1](e,this.raw.statusCode):D7(this[At],e,this.raw.statusCode)};cr.prototype.serializer=function(e){return this[ho]=e,this};cr.prototype.type=function(e){return this[fr]["content-type"]=e,this};cr.prototype.redirect=function(e,t){return typeof e=="string"&&(t=e,e=this[YS]?this.raw.statusCode:302),this.header("location",t).code(e).send()};cr.prototype.callNotFound=function(){return Uwe(this),this};cr.prototype.getResponseTime=function(){return Pwe(),this.elapsedTime};cr.prototype.then=function(e,t){if(this.sent){e();return}GS(this.raw,r=>{r&&r.code!=="ERR_STREAM_PREMATURE_CLOSE"?t?t(r):this.log&&this.log.warn("unhandled rejection on reply.then"):e()})};function x7(e,t){e[At].preSerialization!==null?bwe(e[At].preSerialization,e.request,e,t,v7):v7(null,e.request,e,t)}function v7(e,t,r,n){if(e!=null){ih(r,e);return}try{r[ho]!==null?n=r[ho](n):r[At]&&r[At][D1]?n=r[At][D1](n,r.raw.statusCode):n=D7(r[At],n,r.raw.statusCode,r[fr]["content-type"])}catch(s){$we(s,r),ih(r,s);return}el(r,n)}function $we(e,t){e.serialization=t[At].config}function el(e,t){e[At].onSend!==null?T7(e[At].onSend,e.request,e,t,Lwe):N7(e,t)}function Lwe(e,t,r,n){e!=null?ih(r,e):N7(r,n)}function zS(e,t){let r=e.raw;try{r.writeHead(t,e[fr])}catch(n){throw n.code==="ERR_HTTP_HEADERS_SENT"&&e.log.warn(`Reply was already sent, did you forget to "return reply" in the "${e.request.raw.url}" (${e.request.raw.method}) route?`),n}}function N7(e,t){let r=e.raw,n=e.request;if(e[un]!==null){let o=Object.keys(e[un]),c="";for(let u of o)typeof e[un][u]=="function"&&(c+=" ",c+=u);e.header("Transfer-Encoding","chunked"),e.header("Trailer",c.trim())}let s=R7.call(t)==="[object Response]";s&&typeof t.status=="number"&&e.code(t.status);let a=r.statusCode;if(t==null){a>=200&&a!==204&&a!==304&&n.method!=="HEAD"&&e[un]===null&&(e[fr]["content-length"]="0"),zS(e,a),k1(t,r,e);return}if(a>=100&&a<200||a===204){e.removeHeader("content-type"),e.removeHeader("content-length"),zS(e,a),k1(void 0,r,e),typeof t.resume=="function"&&(t.on("error",P7),t.resume());return}if(typeof t.pipe=="function"){k7(t,r,e);return}if(typeof t.getReader=="function"){I7(t,r,e);return}if(s){if(typeof t.headers=="object"&&typeof t.headers.forEach=="function")for(let[o,c]of t.headers)e.header(o,c);if(t.body!=null){if(t.bodyUsed)throw new _we;I7(t.body,r,e)}return}if(typeof t!="string"&&!Buffer.isBuffer(t))throw new vwe(typeof t);if(e[un]===null){let o=e[fr]["content-length"];(!o||n.raw.method!=="HEAD"&&Number(o)!==Buffer.byteLength(t))&&(e[fr]["content-length"]=""+Buffer.byteLength(t))}zS(e,a),r.write(t),k1(t,r,e)}function _7(e,t,r){t.code==="ERR_STREAM_PREMATURE_CLOSE"?e[S7]||e.info({res:r},"stream closed prematurely"):e.warn({err:t},"response terminated with an error with headers already sent")}function I7(e,t,r){let n=hwe.fromWeb(e);k7(n,t,r)}function k7(e,t,r){let n=!0,s=!1;if(Mwe(e,t,r),GS(e,{readable:!0,writable:!1},function(a){n=!1,a!=null&&(t.headersSent||r.request.raw.aborted===!0?(s||(s=!0,_7(r.log,a,t)),t.destroy()):ih(r,a))}),GS(t,function(a){n&&(a!=null&&t.headersSent&&!s&&(s=!0,_7(r.log,a,t)),typeof e.destroy=="function"?e.destroy():typeof e.close=="function"?e.close(P7):typeof e.abort=="function"?e.abort():r.log.warn("stream payload does not end properly"))}),t.headersSent)r.log.warn("response will send, but you shouldn't use res.writeHead in stream mode");else for(let a in r[fr])t.setHeader(a,r[fr][a]);e.pipe(t)}function k1(e,t,r){if(r[un]===null){t.end(null,null,null);return}let n=Object.keys(r[un]),s={},a=0,o=!0;function c(){a===0&&(t.addTrailers(s),t.end(null,null,null))}for(let u of n){let l=function(f,p){a++,f?r.log.debug(f):s[u]=p,process.nextTick(c)};if(typeof r[un][u]!="function")continue;o=!1,a--;let d=r[un][u](r,e,l);typeof d=="object"&&typeof d.then=="function"?d.then(f=>l(null,f),l):d!=null&&(kwe(),l(null,d))}o&&t.end(null,null,null)}function Mwe(e,t,r){r[un]!==null&&e.on("end",()=>k1(null,t,r))}function ih(e,t,r){e[At].onError!==null&&!e[mwe]?(e[WS]=!0,T7(e[At].onError,e.request,e,t,()=>E7(e,t,r))):E7(e,t,r)}function Fwe(e){e[sh]=VS();let t=r=>{e[KS]=VS(),e.raw.removeListener("finish",t),e.raw.removeListener("error",t);let n=e[At];n&&n.onResponse!==null?Awe(n.onResponse,e.request,e,C7):C7(r,e.request,e)};e.raw.on("finish",t),e.raw.on("error",t)}function C7(e,t,r){if(r.log[S7])return;let n=r.elapsedTime;if(e!=null){r.log.error({res:r,err:e,responseTime:n},"request errored");return}r.log.info({res:r,responseTime:n},"request completed")}function Qwe(e){let t=e.props.slice();function r(n,s,a){this.raw=n,this[P1]=!1,this[w7]=!1,this[nh]=!1,this[ho]=null,this.request=s,this[fr]={},this[un]=null,this[sh]=void 0,this[KS]=void 0,this.log=a;for(var o,c=0;c<t.length;c++)o=t[c],this[o.key]=o.value}return Object.setPrototypeOf(r.prototype,e.prototype),Object.setPrototypeOf(r,e),r.parent=e,r.props=t,r}function Uwe(e){if(e[At][A7]===null){e.log.warn("Trying to send a NotFound error inside a 404 handler. Sending basic 404 response."),e.code(404).send("404 Not Found");return}e.request[At]=e[At][A7],e[At].preHandler!==null?ywe(e[At].preHandler,e.request,e,b7.preHandlerCallback):b7.preHandlerCallback(null,e.request,e)}function D7(e,t,r,n){let s=xwe(e,r,n);return s?s(t):JSON.stringify(t)}function P7(){}$1.exports=cr;$1.exports.buildReply=Qwe;$1.exports.setupResponseListeners=Fwe});var $7=C((Mlt,O7)=>{"use strict";O7.exports=qwe;function qwe(e){if(!e)throw new TypeError("argument req is required");var t=Hwe(e.headers["x-forwarded-for"]||""),r=jwe(e),n=[r].concat(t);return n}function jwe(e){return e.socket?e.socket.remoteAddress:e.connection.remoteAddress}function Hwe(e){for(var t=e.length,r=[],n=e.length,s=e.length-1;s>=0;s--)switch(e.charCodeAt(s)){case 32:n===t&&(n=t=s);break;case 44:n!==t&&r.push(e.substring(n,t)),n=t=s;break;default:n=s;break}return n!==t&&r.push(e.substring(n,t)),r}});var M7=C((L7,ah)=>{(function(){var e,t,r,n,s,a,o,c,u;t={},c=this,typeof ah<"u"&&ah!==null&&ah.exports?ah.exports=t:c.ipaddr=t,o=function(l,d,f,p){var m,h;if(l.length!==d.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");for(m=0;p>0;){if(h=f-p,h<0&&(h=0),l[m]>>h!==d[m]>>h)return!1;p-=f,m+=1}return!0},t.subnetMatch=function(l,d,f){var p,m,h,g,A;f==null&&(f="unicast");for(h in d)for(g=d[h],g[0]&&!(g[0]instanceof Array)&&(g=[g]),p=0,m=g.length;p<m;p++)if(A=g[p],l.kind()===A[0].kind()&&l.match.apply(l,A))return h;return f},t.IPv4=function(){function l(d){var f,p,m;if(d.length!==4)throw new Error("ipaddr: ipv4 octet count should be 4");for(f=0,p=d.length;f<p;f++)if(m=d[f],!(0<=m&&m<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=d}return l.prototype.kind=function(){return"ipv4"},l.prototype.toString=function(){return this.octets.join(".")},l.prototype.toNormalizedString=function(){return this.toString()},l.prototype.toByteArray=function(){return this.octets.slice(0)},l.prototype.match=function(d,f){var p;if(f===void 0&&(p=d,d=p[0],f=p[1]),d.kind()!=="ipv4")throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return o(this.octets,d.octets,8,f)},l.prototype.SpecialRanges={unspecified:[[new l([0,0,0,0]),8]],broadcast:[[new l([255,255,255,255]),32]],multicast:[[new l([224,0,0,0]),4]],linkLocal:[[new l([169,254,0,0]),16]],loopback:[[new l([127,0,0,0]),8]],carrierGradeNat:[[new l([100,64,0,0]),10]],private:[[new l([10,0,0,0]),8],[new l([172,16,0,0]),12],[new l([192,168,0,0]),16]],reserved:[[new l([192,0,0,0]),24],[new l([192,0,2,0]),24],[new l([192,88,99,0]),24],[new l([198,51,100,0]),24],[new l([203,0,113,0]),24],[new l([240,0,0,0]),4]]},l.prototype.range=function(){return t.subnetMatch(this,this.SpecialRanges)},l.prototype.toIPv4MappedAddress=function(){return t.IPv6.parse("::ffff:"+this.toString())},l.prototype.prefixLengthFromSubnetMask=function(){var d,f,p,m,h,g,A;for(A={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0},d=0,h=!1,f=p=3;p>=0;f=p+=-1)if(m=this.octets[f],m in A){if(g=A[m],h&&g!==0)return null;g!==8&&(h=!0),d+=g}else return null;return 32-d},l}(),r="(0?\\d+|0x[a-f0-9]+)",n={fourOctet:new RegExp("^"+r+"\\."+r+"\\."+r+"\\."+r+"$","i"),longValue:new RegExp("^"+r+"$","i")},t.IPv4.parser=function(l){var d,f,p,m,h;if(f=function(g){return g[0]==="0"&&g[1]!=="x"?parseInt(g,8):parseInt(g)},d=l.match(n.fourOctet))return function(){var g,A,y,v;for(y=d.slice(1,6),v=[],g=0,A=y.length;g<A;g++)p=y[g],v.push(f(p));return v}();if(d=l.match(n.longValue)){if(h=f(d[1]),h>4294967295||h<0)throw new Error("ipaddr: address outside defined range");return function(){var g,A;for(A=[],m=g=0;g<=24;m=g+=8)A.push(h>>m&255);return A}().reverse()}else return null},t.IPv6=function(){function l(d,f){var p,m,h,g,A,y;if(d.length===16)for(this.parts=[],p=m=0;m<=14;p=m+=2)this.parts.push(d[p]<<8|d[p+1]);else if(d.length===8)this.parts=d;else throw new Error("ipaddr: ipv6 part count should be 8 or 16");for(y=this.parts,h=0,g=y.length;h<g;h++)if(A=y[h],!(0<=A&&A<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");f&&(this.zoneId=f)}return l.prototype.kind=function(){return"ipv6"},l.prototype.toString=function(){return this.toNormalizedString().replace(/((^|:)(0(:|$))+)/,"::")},l.prototype.toRFC5952String=function(){var d,f,p,m,h;for(m=/((^|:)(0(:|$)){2,})/g,h=this.toNormalizedString(),d=0,f=-1;p=m.exec(h);)p[0].length>f&&(d=p.index,f=p[0].length);return f<0?h:h.substring(0,d)+"::"+h.substring(d+f)},l.prototype.toByteArray=function(){var d,f,p,m,h;for(d=[],h=this.parts,f=0,p=h.length;f<p;f++)m=h[f],d.push(m>>8),d.push(m&255);return d},l.prototype.toNormalizedString=function(){var d,f,p;return d=function(){var m,h,g,A;for(g=this.parts,A=[],m=0,h=g.length;m<h;m++)f=g[m],A.push(f.toString(16));return A}.call(this).join(":"),p="",this.zoneId&&(p="%"+this.zoneId),d+p},l.prototype.toFixedLengthString=function(){var d,f,p;return d=function(){var m,h,g,A;for(g=this.parts,A=[],m=0,h=g.length;m<h;m++)f=g[m],A.push(f.toString(16).padStart(4,"0"));return A}.call(this).join(":"),p="",this.zoneId&&(p="%"+this.zoneId),d+p},l.prototype.match=function(d,f){var p;if(f===void 0&&(p=d,d=p[0],f=p[1]),d.kind()!=="ipv6")throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return o(this.parts,d.parts,16,f)},l.prototype.SpecialRanges={unspecified:[new l([0,0,0,0,0,0,0,0]),128],linkLocal:[new l([65152,0,0,0,0,0,0,0]),10],multicast:[new l([65280,0,0,0,0,0,0,0]),8],loopback:[new l([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new l([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new l([0,0,0,0,0,65535,0,0]),96],rfc6145:[new l([0,0,0,0,65535,0,0,0]),96],rfc6052:[new l([100,65435,0,0,0,0,0,0]),96],"6to4":[new l([8194,0,0,0,0,0,0,0]),16],teredo:[new l([8193,0,0,0,0,0,0,0]),32],reserved:[[new l([8193,3512,0,0,0,0,0,0]),32]]},l.prototype.range=function(){return t.subnetMatch(this,this.SpecialRanges)},l.prototype.isIPv4MappedAddress=function(){return this.range()==="ipv4Mapped"},l.prototype.toIPv4Address=function(){var d,f,p;if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");return p=this.parts.slice(-2),d=p[0],f=p[1],new t.IPv4([d>>8,d&255,f>>8,f&255])},l.prototype.prefixLengthFromSubnetMask=function(){var d,f,p,m,h,g,A;for(A={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0},d=0,h=!1,f=p=7;p>=0;f=p+=-1)if(m=this.parts[f],m in A){if(g=A[m],h&&g!==0)return null;g!==16&&(h=!0),d+=g}else return null;return 128-d},l}(),s="(?:[0-9a-f]+::?)+",u="%[0-9a-z]{1,}",a={zoneIndex:new RegExp(u,"i"),native:new RegExp("^(::)?("+s+")?([0-9a-f]+)?(::)?("+u+")?$","i"),transitional:new RegExp("^((?:"+s+")|(?:::)(?:"+s+")?)"+(r+"\\."+r+"\\."+r+"\\."+r)+("("+u+")?$"),"i")},e=function(l,d){var f,p,m,h,g,A;if(l.indexOf("::")!==l.lastIndexOf("::"))return null;for(A=(l.match(a.zoneIndex)||[])[0],A&&(A=A.substring(1),l=l.replace(/%.+$/,"")),f=0,p=-1;(p=l.indexOf(":",p+1))>=0;)f++;if(l.substr(0,2)==="::"&&f--,l.substr(-2,2)==="::"&&f--,f>d)return null;for(g=d-f,h=":";g--;)h+="0:";return l=l.replace("::",h),l[0]===":"&&(l=l.slice(1)),l[l.length-1]===":"&&(l=l.slice(0,-1)),d=function(){var y,v,b,E;for(b=l.split(":"),E=[],y=0,v=b.length;y<v;y++)m=b[y],E.push(parseInt(m,16));return E}(),{parts:d,zoneId:A}},t.IPv6.parser=function(l){var d,f,p,m,h,g,A;if(a.native.test(l))return e(l,8);if((m=l.match(a.transitional))&&(A=m[6]||"",d=e(m[1].slice(0,-1)+A,6),d.parts)){for(g=[parseInt(m[2]),parseInt(m[3]),parseInt(m[4]),parseInt(m[5])],f=0,p=g.length;f<p;f++)if(h=g[f],!(0<=h&&h<=255))return null;return d.parts.push(g[0]<<8|g[1]),d.parts.push(g[2]<<8|g[3]),{parts:d.parts,zoneId:d.zoneId}}return null},t.IPv4.isIPv4=t.IPv6.isIPv6=function(l){return this.parser(l)!==null},t.IPv4.isValid=function(l){var d;try{return new this(this.parser(l)),!0}catch(f){return d=f,!1}},t.IPv4.isValidFourPartDecimal=function(l){return!!(t.IPv4.isValid(l)&&l.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},t.IPv6.isValid=function(l){var d,f;if(typeof l=="string"&&l.indexOf(":")===-1)return!1;try{return d=this.parser(l),new this(d.parts,d.zoneId),!0}catch(p){return f=p,!1}},t.IPv4.parse=function(l){var d;if(d=this.parser(l),d===null)throw new Error("ipaddr: string is not formatted like ip address");return new this(d)},t.IPv6.parse=function(l){var d;if(d=this.parser(l),d.parts===null)throw new Error("ipaddr: string is not formatted like ip address");return new this(d.parts,d.zoneId)},t.IPv4.parseCIDR=function(l){var d,f,p;if((f=l.match(/^(.+)\/(\d+)$/))&&(d=parseInt(f[2]),d>=0&&d<=32))return p=[this.parse(f[1]),d],Object.defineProperty(p,"toString",{value:function(){return this.join("/")}}),p;throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},t.IPv4.subnetMaskFromPrefixLength=function(l){var d,f,p;if(l=parseInt(l),l<0||l>32)throw new Error("ipaddr: invalid IPv4 prefix length");for(p=[0,0,0,0],f=0,d=Math.floor(l/8);f<d;)p[f]=255,f++;return d<4&&(p[d]=Math.pow(2,l%8)-1<<8-l%8),new this(p)},t.IPv4.broadcastAddressFromCIDR=function(l){var d,f,p,m,h,g;try{for(d=this.parseCIDR(l),m=d[0].toByteArray(),g=this.subnetMaskFromPrefixLength(d[1]).toByteArray(),h=[],p=0;p<4;)h.push(parseInt(m[p],10)|parseInt(g[p],10)^255),p++;return new this(h)}catch(A){throw f=A,new Error("ipaddr: the address does not have IPv4 CIDR format")}},t.IPv4.networkAddressFromCIDR=function(l){var d,f,p,m,h,g;try{for(d=this.parseCIDR(l),m=d[0].toByteArray(),g=this.subnetMaskFromPrefixLength(d[1]).toByteArray(),h=[],p=0;p<4;)h.push(parseInt(m[p],10)&parseInt(g[p],10)),p++;return new this(h)}catch(A){throw f=A,new Error("ipaddr: the address does not have IPv4 CIDR format")}},t.IPv6.parseCIDR=function(l){var d,f,p;if((f=l.match(/^(.+)\/(\d+)$/))&&(d=parseInt(f[2]),d>=0&&d<=128))return p=[this.parse(f[1]),d],Object.defineProperty(p,"toString",{value:function(){return this.join("/")}}),p;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},t.isValid=function(l){return t.IPv6.isValid(l)||t.IPv4.isValid(l)},t.parse=function(l){if(t.IPv6.isValid(l))return t.IPv6.parse(l);if(t.IPv4.isValid(l))return t.IPv4.parse(l);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},t.parseCIDR=function(l){var d;try{return t.IPv6.parseCIDR(l)}catch(f){d=f;try{return t.IPv4.parseCIDR(l)}catch(p){throw d=p,new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},t.fromByteArray=function(l){var d;if(d=l.length,d===4)return new t.IPv4(l);if(d===16)return new t.IPv6(l);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},t.process=function(l){var d;return d=this.parse(l),d.kind()==="ipv6"&&d.isIPv4MappedAddress()?d.toIPv4Address():d}}).call(L7)});var j7=C((Flt,Q1)=>{"use strict";Q1.exports=Jwe;Q1.exports.all=U7;Q1.exports.compile=q7;var zwe=$7(),Q7=M7(),Gwe=/^[0-9]+$/,M1=Q7.isValid,F1=Q7.parse,F7={linklocal:["169.254.0.0/16","fe80::/10"],loopback:["127.0.0.1/8","::1/128"],uniquelocal:["10.0.0.0/8","172.16.0.0/12","192.168.0.0/16","fc00::/7"]};function U7(e,t){var r=zwe(e);if(!t)return r;typeof t!="function"&&(t=q7(t));for(var n=0;n<r.length-1;n++)t(r[n],n)||(r.length=n+1);return r}function q7(e){if(!e)throw new TypeError("argument is required");var t;if(typeof e=="string")t=[e];else if(Array.isArray(e))t=e.slice();else throw new TypeError("unsupported trust argument");for(var r=0;r<t.length;r++)e=t[r],Object.prototype.hasOwnProperty.call(F7,e)&&(e=F7[e],t.splice.apply(t,[r,1].concat(e)),r+=e.length-1);return Kwe(Vwe(t))}function Vwe(e){for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=Ywe(e[r]);return t}function Kwe(e){var t=e.length;return t===0?Xwe:t===1?eSe(e[0]):Zwe(e)}function Ywe(e){var t=e.lastIndexOf("/"),r=t!==-1?e.substring(0,t):e;if(!M1(r))throw new TypeError("invalid IP address: "+r);var n=F1(r);t===-1&&n.kind()==="ipv6"&&n.isIPv4MappedAddress()&&(n=n.toIPv4Address());var s=n.kind()==="ipv6"?128:32,a=t!==-1?e.substring(t+1,e.length):null;if(a===null?a=s:Gwe.test(a)?a=parseInt(a,10):n.kind()==="ipv4"&&M1(a)?a=Wwe(a):a=null,a<=0||a>s)throw new TypeError("invalid range on address: "+e);return[n,a]}function Wwe(e){var t=F1(e),r=t.kind();return r==="ipv4"?t.prefixLengthFromSubnetMask():null}function Jwe(e,t){if(!e)throw new TypeError("req argument is required");if(!t)throw new TypeError("trust argument is required");var r=U7(e,t),n=r[r.length-1];return n}function Xwe(){return!1}function Zwe(e){return function(r){if(!M1(r))return!1;for(var n=F1(r),s,a=n.kind(),o=0;o<e.length;o++){var c=e[o],u=c[0],l=u.kind(),d=c[1],f=n;if(a!==l){if(l==="ipv4"&&!n.isIPv4MappedAddress())continue;s||(s=l==="ipv4"?n.toIPv4Address():n.toIPv4MappedAddress()),f=s}if(f.match(u,d))return!0}return!1}}function eSe(e){var t=e[0],r=t.kind(),n=r==="ipv4",s=e[1];return function(o){if(!M1(o))return!1;var c=F1(o),u=c.kind();if(u!==r){if(n&&!c.isIPv4MappedAddress())return!1;c=n?c.toIPv4Address():c.toIPv4MappedAddress()}return c.match(t,s)}}});var oh=C((Qlt,H7)=>{"use strict";var tSe="2.0.0",rSe=Number.MAX_SAFE_INTEGER||9007199254740991,nSe=16,sSe=250,iSe=["major","premajor","minor","preminor","patch","prepatch","prerelease"];H7.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:nSe,MAX_SAFE_BUILD_LENGTH:sSe,MAX_SAFE_INTEGER:rSe,RELEASE_TYPES:iSe,SEMVER_SPEC_VERSION:tSe,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var ch=C((Ult,z7)=>{"use strict";var aSe=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};z7.exports=aSe});var tf=C((Ia,G7)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:JS,MAX_SAFE_BUILD_LENGTH:oSe,MAX_LENGTH:cSe}=oh(),uSe=ch();Ia=G7.exports={};var lSe=Ia.re=[],dSe=Ia.safeRe=[],Se=Ia.src=[],fSe=Ia.safeSrc=[],Te=Ia.t={},pSe=0,XS="[a-zA-Z0-9-]",hSe=[["\\s",1],["\\d",cSe],[XS,oSe]],mSe=e=>{for(let[t,r]of hSe)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},Ze=(e,t,r)=>{let n=mSe(t),s=pSe++;uSe(e,s,t),Te[e]=s,Se[s]=t,fSe[s]=n,lSe[s]=new RegExp(t,r?"g":void 0),dSe[s]=new RegExp(n,r?"g":void 0)};Ze("NUMERICIDENTIFIER","0|[1-9]\\d*");Ze("NUMERICIDENTIFIERLOOSE","\\d+");Ze("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${XS}*`);Ze("MAINVERSION",`(${Se[Te.NUMERICIDENTIFIER]})\\.(${Se[Te.NUMERICIDENTIFIER]})\\.(${Se[Te.NUMERICIDENTIFIER]})`);Ze("MAINVERSIONLOOSE",`(${Se[Te.NUMERICIDENTIFIERLOOSE]})\\.(${Se[Te.NUMERICIDENTIFIERLOOSE]})\\.(${Se[Te.NUMERICIDENTIFIERLOOSE]})`);Ze("PRERELEASEIDENTIFIER",`(?:${Se[Te.NONNUMERICIDENTIFIER]}|${Se[Te.NUMERICIDENTIFIER]})`);Ze("PRERELEASEIDENTIFIERLOOSE",`(?:${Se[Te.NONNUMERICIDENTIFIER]}|${Se[Te.NUMERICIDENTIFIERLOOSE]})`);Ze("PRERELEASE",`(?:-(${Se[Te.PRERELEASEIDENTIFIER]}(?:\\.${Se[Te.PRERELEASEIDENTIFIER]})*))`);Ze("PRERELEASELOOSE",`(?:-?(${Se[Te.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Se[Te.PRERELEASEIDENTIFIERLOOSE]})*))`);Ze("BUILDIDENTIFIER",`${XS}+`);Ze("BUILD",`(?:\\+(${Se[Te.BUILDIDENTIFIER]}(?:\\.${Se[Te.BUILDIDENTIFIER]})*))`);Ze("FULLPLAIN",`v?${Se[Te.MAINVERSION]}${Se[Te.PRERELEASE]}?${Se[Te.BUILD]}?`);Ze("FULL",`^${Se[Te.FULLPLAIN]}$`);Ze("LOOSEPLAIN",`[v=\\s]*${Se[Te.MAINVERSIONLOOSE]}${Se[Te.PRERELEASELOOSE]}?${Se[Te.BUILD]}?`);Ze("LOOSE",`^${Se[Te.LOOSEPLAIN]}$`);Ze("GTLT","((?:<|>)?=?)");Ze("XRANGEIDENTIFIERLOOSE",`${Se[Te.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Ze("XRANGEIDENTIFIER",`${Se[Te.NUMERICIDENTIFIER]}|x|X|\\*`);Ze("XRANGEPLAIN",`[v=\\s]*(${Se[Te.XRANGEIDENTIFIER]})(?:\\.(${Se[Te.XRANGEIDENTIFIER]})(?:\\.(${Se[Te.XRANGEIDENTIFIER]})(?:${Se[Te.PRERELEASE]})?${Se[Te.BUILD]}?)?)?`);Ze("XRANGEPLAINLOOSE",`[v=\\s]*(${Se[Te.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Se[Te.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Se[Te.XRANGEIDENTIFIERLOOSE]})(?:${Se[Te.PRERELEASELOOSE]})?${Se[Te.BUILD]}?)?)?`);Ze("XRANGE",`^${Se[Te.GTLT]}\\s*${Se[Te.XRANGEPLAIN]}$`);Ze("XRANGELOOSE",`^${Se[Te.GTLT]}\\s*${Se[Te.XRANGEPLAINLOOSE]}$`);Ze("COERCEPLAIN",`(^|[^\\d])(\\d{1,${JS}})(?:\\.(\\d{1,${JS}}))?(?:\\.(\\d{1,${JS}}))?`);Ze("COERCE",`${Se[Te.COERCEPLAIN]}(?:$|[^\\d])`);Ze("COERCEFULL",Se[Te.COERCEPLAIN]+`(?:${Se[Te.PRERELEASE]})?(?:${Se[Te.BUILD]})?(?:$|[^\\d])`);Ze("COERCERTL",Se[Te.COERCE],!0);Ze("COERCERTLFULL",Se[Te.COERCEFULL],!0);Ze("LONETILDE","(?:~>?)");Ze("TILDETRIM",`(\\s*)${Se[Te.LONETILDE]}\\s+`,!0);Ia.tildeTrimReplace="$1~";Ze("TILDE",`^${Se[Te.LONETILDE]}${Se[Te.XRANGEPLAIN]}$`);Ze("TILDELOOSE",`^${Se[Te.LONETILDE]}${Se[Te.XRANGEPLAINLOOSE]}$`);Ze("LONECARET","(?:\\^)");Ze("CARETTRIM",`(\\s*)${Se[Te.LONECARET]}\\s+`,!0);Ia.caretTrimReplace="$1^";Ze("CARET",`^${Se[Te.LONECARET]}${Se[Te.XRANGEPLAIN]}$`);Ze("CARETLOOSE",`^${Se[Te.LONECARET]}${Se[Te.XRANGEPLAINLOOSE]}$`);Ze("COMPARATORLOOSE",`^${Se[Te.GTLT]}\\s*(${Se[Te.LOOSEPLAIN]})$|^$`);Ze("COMPARATOR",`^${Se[Te.GTLT]}\\s*(${Se[Te.FULLPLAIN]})$|^$`);Ze("COMPARATORTRIM",`(\\s*)${Se[Te.GTLT]}\\s*(${Se[Te.LOOSEPLAIN]}|${Se[Te.XRANGEPLAIN]})`,!0);Ia.comparatorTrimReplace="$1$2$3";Ze("HYPHENRANGE",`^\\s*(${Se[Te.XRANGEPLAIN]})\\s+-\\s+(${Se[Te.XRANGEPLAIN]})\\s*$`);Ze("HYPHENRANGELOOSE",`^\\s*(${Se[Te.XRANGEPLAINLOOSE]})\\s+-\\s+(${Se[Te.XRANGEPLAINLOOSE]})\\s*$`);Ze("STAR","(<|>)?=?\\s*\\*");Ze("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Ze("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var U1=C((qlt,V7)=>{"use strict";var gSe=Object.freeze({loose:!0}),ASe=Object.freeze({}),ySe=e=>e?typeof e!="object"?gSe:e:ASe;V7.exports=ySe});var ZS=C((jlt,W7)=>{"use strict";var K7=/^[0-9]+$/,Y7=(e,t)=>{if(typeof e=="number"&&typeof t=="number")return e===t?0:e<t?-1:1;let r=K7.test(e),n=K7.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},bSe=(e,t)=>Y7(t,e);W7.exports={compareIdentifiers:Y7,rcompareIdentifiers:bSe}});var Un=C((Hlt,X7)=>{"use strict";var q1=ch(),{MAX_LENGTH:J7,MAX_SAFE_INTEGER:j1}=oh(),{safeRe:H1,t:z1}=tf(),ESe=U1(),{compareIdentifiers:eT}=ZS(),tT=class e{constructor(t,r){if(r=ESe(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>J7)throw new TypeError(`version is longer than ${J7} characters`);q1("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?H1[z1.LOOSE]:H1[z1.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>j1||this.major<0)throw new TypeError("Invalid major version");if(this.minor>j1||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>j1||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let a=+s;if(a>=0&&a<j1)return a}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(q1("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),this.major<t.major?-1:this.major>t.major?1:this.minor<t.minor?-1:this.minor>t.minor?1:this.patch<t.patch?-1:this.patch>t.patch?1:0}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],s=t.prerelease[r];if(q1("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return eT(n,s)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{let n=this.build[r],s=t.build[r];if(q1("build compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return eT(n,s)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let s=`-${r}`.match(this.options.loose?H1[z1.PRERELEASELOOSE]:H1[z1.PRERELEASE]);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let a=[r,s];n===!1&&(a=[r]),eT(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};X7.exports=tT});var tl=C((zlt,eq)=>{"use strict";var Z7=Un(),xSe=(e,t,r=!1)=>{if(e instanceof Z7)return e;try{return new Z7(e,t)}catch(n){if(!r)return null;throw n}};eq.exports=xSe});var rq=C((Glt,tq)=>{"use strict";var vSe=tl(),_Se=(e,t)=>{let r=vSe(e,t);return r?r.version:null};tq.exports=_Se});var sq=C((Vlt,nq)=>{"use strict";var ISe=tl(),CSe=(e,t)=>{let r=ISe(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};nq.exports=CSe});var oq=C((Klt,aq)=>{"use strict";var iq=Un(),wSe=(e,t,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new iq(e instanceof iq?e.version:e,r).inc(t,n,s).version}catch{return null}};aq.exports=wSe});var lq=C((Ylt,uq)=>{"use strict";var cq=tl(),SSe=(e,t)=>{let r=cq(e,null,!0),n=cq(t,null,!0),s=r.compare(n);if(s===0)return null;let a=s>0,o=a?r:n,c=a?n:r,u=!!o.prerelease.length;if(!!c.prerelease.length&&!u){if(!c.patch&&!c.minor)return"major";if(c.compareMain(o)===0)return c.minor&&!c.patch?"minor":"patch"}let d=u?"pre":"";return r.major!==n.major?d+"major":r.minor!==n.minor?d+"minor":r.patch!==n.patch?d+"patch":"prerelease"};uq.exports=SSe});var fq=C((Wlt,dq)=>{"use strict";var TSe=Un(),BSe=(e,t)=>new TSe(e,t).major;dq.exports=BSe});var hq=C((Jlt,pq)=>{"use strict";var RSe=Un(),NSe=(e,t)=>new RSe(e,t).minor;pq.exports=NSe});var gq=C((Xlt,mq)=>{"use strict";var kSe=Un(),DSe=(e,t)=>new kSe(e,t).patch;mq.exports=DSe});var yq=C((Zlt,Aq)=>{"use strict";var PSe=tl(),OSe=(e,t)=>{let r=PSe(e,t);return r&&r.prerelease.length?r.prerelease:null};Aq.exports=OSe});var ui=C((edt,Eq)=>{"use strict";var bq=Un(),$Se=(e,t,r)=>new bq(e,r).compare(new bq(t,r));Eq.exports=$Se});var vq=C((tdt,xq)=>{"use strict";var LSe=ui(),MSe=(e,t,r)=>LSe(t,e,r);xq.exports=MSe});var Iq=C((rdt,_q)=>{"use strict";var FSe=ui(),QSe=(e,t)=>FSe(e,t,!0);_q.exports=QSe});var G1=C((ndt,wq)=>{"use strict";var Cq=Un(),USe=(e,t,r)=>{let n=new Cq(e,r),s=new Cq(t,r);return n.compare(s)||n.compareBuild(s)};wq.exports=USe});var Tq=C((sdt,Sq)=>{"use strict";var qSe=G1(),jSe=(e,t)=>e.sort((r,n)=>qSe(r,n,t));Sq.exports=jSe});var Rq=C((idt,Bq)=>{"use strict";var HSe=G1(),zSe=(e,t)=>e.sort((r,n)=>HSe(n,r,t));Bq.exports=zSe});var uh=C((adt,Nq)=>{"use strict";var GSe=ui(),VSe=(e,t,r)=>GSe(e,t,r)>0;Nq.exports=VSe});var V1=C((odt,kq)=>{"use strict";var KSe=ui(),YSe=(e,t,r)=>KSe(e,t,r)<0;kq.exports=YSe});var rT=C((cdt,Dq)=>{"use strict";var WSe=ui(),JSe=(e,t,r)=>WSe(e,t,r)===0;Dq.exports=JSe});var nT=C((udt,Pq)=>{"use strict";var XSe=ui(),ZSe=(e,t,r)=>XSe(e,t,r)!==0;Pq.exports=ZSe});var K1=C((ldt,Oq)=>{"use strict";var eTe=ui(),tTe=(e,t,r)=>eTe(e,t,r)>=0;Oq.exports=tTe});var Y1=C((ddt,$q)=>{"use strict";var rTe=ui(),nTe=(e,t,r)=>rTe(e,t,r)<=0;$q.exports=nTe});var sT=C((fdt,Lq)=>{"use strict";var sTe=rT(),iTe=nT(),aTe=uh(),oTe=K1(),cTe=V1(),uTe=Y1(),lTe=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return sTe(e,r,n);case"!=":return iTe(e,r,n);case">":return aTe(e,r,n);case">=":return oTe(e,r,n);case"<":return cTe(e,r,n);case"<=":return uTe(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};Lq.exports=lTe});var Fq=C((pdt,Mq)=>{"use strict";var dTe=Un(),fTe=tl(),{safeRe:W1,t:J1}=tf(),pTe=(e,t)=>{if(e instanceof dTe)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?W1[J1.COERCEFULL]:W1[J1.COERCE]);else{let u=t.includePrerelease?W1[J1.COERCERTLFULL]:W1[J1.COERCERTL],l;for(;(l=u.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||l.index+l[0].length!==r.index+r[0].length)&&(r=l),u.lastIndex=l.index+l[1].length+l[2].length;u.lastIndex=-1}if(r===null)return null;let n=r[2],s=r[3]||"0",a=r[4]||"0",o=t.includePrerelease&&r[5]?`-${r[5]}`:"",c=t.includePrerelease&&r[6]?`+${r[6]}`:"";return fTe(`${n}.${s}.${a}${o}${c}`,t)};Mq.exports=pTe});var Uq=C((hdt,Qq)=>{"use strict";var iT=class{constructor(){this.max=1e3,this.map=new Map}get(t){let r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){let s=this.map.keys().next().value;this.delete(s)}this.map.set(t,r)}return this}};Qq.exports=iT});var li=C((mdt,zq)=>{"use strict";var hTe=/\s+/g,aT=class e{constructor(t,r){if(r=gTe(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof oT)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().replace(hTe," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!jq(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&_Te(s[0])){this.set=[s];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");let r=this.set[t];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){let n=((this.options.includePrerelease&&xTe)|(this.options.loose&&vTe))+":"+t,s=qq.get(n);if(s)return s;let a=this.options.loose,o=a?os[qn.HYPHENRANGELOOSE]:os[qn.HYPHENRANGE];t=t.replace(o,DTe(this.options.includePrerelease)),Er("hyphen replace",t),t=t.replace(os[qn.COMPARATORTRIM],yTe),Er("comparator trim",t),t=t.replace(os[qn.TILDETRIM],bTe),Er("tilde trim",t),t=t.replace(os[qn.CARETTRIM],ETe),Er("caret trim",t);let c=t.split(" ").map(f=>ITe(f,this.options)).join(" ").split(/\s+/).map(f=>kTe(f,this.options));a&&(c=c.filter(f=>(Er("loose invalid filter",f,this.options),!!f.match(os[qn.COMPARATORLOOSE])))),Er("range list",c);let u=new Map,l=c.map(f=>new oT(f,this.options));for(let f of l){if(jq(f))return[f];u.set(f.value,f)}u.size>1&&u.has("")&&u.delete("");let d=[...u.values()];return qq.set(n,d),d}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>Hq(n,r)&&t.set.some(s=>Hq(s,r)&&n.every(a=>s.every(o=>a.intersects(o,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new ATe(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(PTe(this.set[r],t,this.options))return!0;return!1}};zq.exports=aT;var mTe=Uq(),qq=new mTe,gTe=U1(),oT=lh(),Er=ch(),ATe=Un(),{safeRe:os,t:qn,comparatorTrimReplace:yTe,tildeTrimReplace:bTe,caretTrimReplace:ETe}=tf(),{FLAG_INCLUDE_PRERELEASE:xTe,FLAG_LOOSE:vTe}=oh(),jq=e=>e.value==="<0.0.0-0",_Te=e=>e.value==="",Hq=(e,t)=>{let r=!0,n=e.slice(),s=n.pop();for(;r&&n.length;)r=n.every(a=>s.intersects(a,t)),s=n.pop();return r},ITe=(e,t)=>(e=e.replace(os[qn.BUILD],""),Er("comp",e,t),e=STe(e,t),Er("caret",e),e=CTe(e,t),Er("tildes",e),e=BTe(e,t),Er("xrange",e),e=NTe(e,t),Er("stars",e),e),cs=e=>!e||e.toLowerCase()==="x"||e==="*",CTe=(e,t)=>e.trim().split(/\s+/).map(r=>wTe(r,t)).join(" "),wTe=(e,t)=>{let r=t.loose?os[qn.TILDELOOSE]:os[qn.TILDE];return e.replace(r,(n,s,a,o,c)=>{Er("tilde",e,n,s,a,o,c);let u;return cs(s)?u="":cs(a)?u=`>=${s}.0.0 <${+s+1}.0.0-0`:cs(o)?u=`>=${s}.${a}.0 <${s}.${+a+1}.0-0`:c?(Er("replaceTilde pr",c),u=`>=${s}.${a}.${o}-${c} <${s}.${+a+1}.0-0`):u=`>=${s}.${a}.${o} <${s}.${+a+1}.0-0`,Er("tilde return",u),u})},STe=(e,t)=>e.trim().split(/\s+/).map(r=>TTe(r,t)).join(" "),TTe=(e,t)=>{Er("caret",e,t);let r=t.loose?os[qn.CARETLOOSE]:os[qn.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(s,a,o,c,u)=>{Er("caret",e,s,a,o,c,u);let l;return cs(a)?l="":cs(o)?l=`>=${a}.0.0${n} <${+a+1}.0.0-0`:cs(c)?a==="0"?l=`>=${a}.${o}.0${n} <${a}.${+o+1}.0-0`:l=`>=${a}.${o}.0${n} <${+a+1}.0.0-0`:u?(Er("replaceCaret pr",u),a==="0"?o==="0"?l=`>=${a}.${o}.${c}-${u} <${a}.${o}.${+c+1}-0`:l=`>=${a}.${o}.${c}-${u} <${a}.${+o+1}.0-0`:l=`>=${a}.${o}.${c}-${u} <${+a+1}.0.0-0`):(Er("no pr"),a==="0"?o==="0"?l=`>=${a}.${o}.${c}${n} <${a}.${o}.${+c+1}-0`:l=`>=${a}.${o}.${c}${n} <${a}.${+o+1}.0-0`:l=`>=${a}.${o}.${c} <${+a+1}.0.0-0`),Er("caret return",l),l})},BTe=(e,t)=>(Er("replaceXRanges",e,t),e.split(/\s+/).map(r=>RTe(r,t)).join(" ")),RTe=(e,t)=>{e=e.trim();let r=t.loose?os[qn.XRANGELOOSE]:os[qn.XRANGE];return e.replace(r,(n,s,a,o,c,u)=>{Er("xRange",e,n,s,a,o,c,u);let l=cs(a),d=l||cs(o),f=d||cs(c),p=f;return s==="="&&p&&(s=""),u=t.includePrerelease?"-0":"",l?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&p?(d&&(o=0),c=0,s===">"?(s=">=",d?(a=+a+1,o=0,c=0):(o=+o+1,c=0)):s==="<="&&(s="<",d?a=+a+1:o=+o+1),s==="<"&&(u="-0"),n=`${s+a}.${o}.${c}${u}`):d?n=`>=${a}.0.0${u} <${+a+1}.0.0-0`:f&&(n=`>=${a}.${o}.0${u} <${a}.${+o+1}.0-0`),Er("xRange return",n),n})},NTe=(e,t)=>(Er("replaceStars",e,t),e.trim().replace(os[qn.STAR],"")),kTe=(e,t)=>(Er("replaceGTE0",e,t),e.trim().replace(os[t.includePrerelease?qn.GTE0PRE:qn.GTE0],"")),DTe=e=>(t,r,n,s,a,o,c,u,l,d,f,p)=>(cs(n)?r="":cs(s)?r=`>=${n}.0.0${e?"-0":""}`:cs(a)?r=`>=${n}.${s}.0${e?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,cs(l)?u="":cs(d)?u=`<${+l+1}.0.0-0`:cs(f)?u=`<${l}.${+d+1}.0-0`:p?u=`<=${l}.${d}.${f}-${p}`:e?u=`<${l}.${d}.${+f+1}-0`:u=`<=${u}`,`${r} ${u}`.trim()),PTe=(e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(Er(e[n].semver),e[n].semver!==oT.ANY&&e[n].semver.prerelease.length>0){let s=e[n].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}});var lh=C((gdt,Jq)=>{"use strict";var dh=Symbol("SemVer ANY"),lT=class e{static get ANY(){return dh}constructor(t,r){if(r=Gq(r),t instanceof e){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),uT("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===dh?this.value="":this.value=this.operator+this.semver.version,uT("comp",this)}parse(t){let r=this.options.loose?Vq[Kq.COMPARATORLOOSE]:Vq[Kq.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Yq(n[2],this.options.loose):this.semver=dh}toString(){return this.value}test(t){if(uT("Comparator.test",t,this.options.loose),this.semver===dh||t===dh)return!0;if(typeof t=="string")try{t=new Yq(t,this.options)}catch{return!1}return cT(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Wq(t.value,r).test(this.value):t.operator===""?t.value===""?!0:new Wq(this.value,r).test(t.semver):(r=Gq(r),r.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||cT(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||cT(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};Jq.exports=lT;var Gq=U1(),{safeRe:Vq,t:Kq}=tf(),cT=sT(),uT=ch(),Yq=Un(),Wq=li()});var fh=C((Adt,Xq)=>{"use strict";var OTe=li(),$Te=(e,t,r)=>{try{t=new OTe(t,r)}catch{return!1}return t.test(e)};Xq.exports=$Te});var ej=C((ydt,Zq)=>{"use strict";var LTe=li(),MTe=(e,t)=>new LTe(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));Zq.exports=MTe});var rj=C((bdt,tj)=>{"use strict";var FTe=Un(),QTe=li(),UTe=(e,t,r)=>{let n=null,s=null,a=null;try{a=new QTe(t,r)}catch{return null}return e.forEach(o=>{a.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new FTe(n,r))}),n};tj.exports=UTe});var sj=C((Edt,nj)=>{"use strict";var qTe=Un(),jTe=li(),HTe=(e,t,r)=>{let n=null,s=null,a=null;try{a=new jTe(t,r)}catch{return null}return e.forEach(o=>{a.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new qTe(n,r))}),n};nj.exports=HTe});var oj=C((xdt,aj)=>{"use strict";var dT=Un(),zTe=li(),ij=uh(),GTe=(e,t)=>{e=new zTe(e,t);let r=new dT("0.0.0");if(e.test(r)||(r=new dT("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let s=e.set[n],a=null;s.forEach(o=>{let c=new dT(o.semver.version);switch(o.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!a||ij(c,a))&&(a=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),a&&(!r||ij(r,a))&&(r=a)}return r&&e.test(r)?r:null};aj.exports=GTe});var uj=C((vdt,cj)=>{"use strict";var VTe=li(),KTe=(e,t)=>{try{return new VTe(e,t).range||"*"}catch{return null}};cj.exports=KTe});var X1=C((_dt,pj)=>{"use strict";var YTe=Un(),fj=lh(),{ANY:WTe}=fj,JTe=li(),XTe=fh(),lj=uh(),dj=V1(),ZTe=Y1(),e3e=K1(),t3e=(e,t,r,n)=>{e=new YTe(e,n),t=new JTe(t,n);let s,a,o,c,u;switch(r){case">":s=lj,a=ZTe,o=dj,c=">",u=">=";break;case"<":s=dj,a=e3e,o=lj,c="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(XTe(e,t,n))return!1;for(let l=0;l<t.set.length;++l){let d=t.set[l],f=null,p=null;if(d.forEach(m=>{m.semver===WTe&&(m=new fj(">=0.0.0")),f=f||m,p=p||m,s(m.semver,f.semver,n)?f=m:o(m.semver,p.semver,n)&&(p=m)}),f.operator===c||f.operator===u||(!p.operator||p.operator===c)&&a(e,p.semver))return!1;if(p.operator===u&&o(e,p.semver))return!1}return!0};pj.exports=t3e});var mj=C((Idt,hj)=>{"use strict";var r3e=X1(),n3e=(e,t,r)=>r3e(e,t,">",r);hj.exports=n3e});var Aj=C((Cdt,gj)=>{"use strict";var s3e=X1(),i3e=(e,t,r)=>s3e(e,t,"<",r);gj.exports=i3e});var Ej=C((wdt,bj)=>{"use strict";var yj=li(),a3e=(e,t,r)=>(e=new yj(e,r),t=new yj(t,r),e.intersects(t,r));bj.exports=a3e});var vj=C((Sdt,xj)=>{"use strict";var o3e=fh(),c3e=ui();xj.exports=(e,t,r)=>{let n=[],s=null,a=null,o=e.sort((d,f)=>c3e(d,f,r));for(let d of o)o3e(d,t,r)?(a=d,s||(s=d)):(a&&n.push([s,a]),a=null,s=null);s&&n.push([s,null]);let c=[];for(let[d,f]of n)d===f?c.push(d):!f&&d===o[0]?c.push("*"):f?d===o[0]?c.push(`<=${f}`):c.push(`${d} - ${f}`):c.push(`>=${d}`);let u=c.join(" || "),l=typeof t.raw=="string"?t.raw:String(t);return u.length<l.length?u:t}});var Tj=C((Tdt,Sj)=>{"use strict";var _j=li(),pT=lh(),{ANY:fT}=pT,ph=fh(),hT=ui(),u3e=(e,t,r={})=>{if(e===t)return!0;e=new _j(e,r),t=new _j(t,r);let n=!1;e:for(let s of e.set){for(let a of t.set){let o=d3e(s,a,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},l3e=[new pT(">=0.0.0-0")],Ij=[new pT(">=0.0.0")],d3e=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===fT){if(t.length===1&&t[0].semver===fT)return!0;r.includePrerelease?e=l3e:e=Ij}if(t.length===1&&t[0].semver===fT){if(r.includePrerelease)return!0;t=Ij}let n=new Set,s,a;for(let m of e)m.operator===">"||m.operator===">="?s=Cj(s,m,r):m.operator==="<"||m.operator==="<="?a=wj(a,m,r):n.add(m.semver);if(n.size>1)return null;let o;if(s&&a){if(o=hT(s.semver,a.semver,r),o>0)return null;if(o===0&&(s.operator!==">="||a.operator!=="<="))return null}for(let m of n){if(s&&!ph(m,String(s),r)||a&&!ph(m,String(a),r))return null;for(let h of t)if(!ph(m,String(h),r))return!1;return!0}let c,u,l,d,f=a&&!r.includePrerelease&&a.semver.prerelease.length?a.semver:!1,p=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;f&&f.prerelease.length===1&&a.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(let m of t){if(d=d||m.operator===">"||m.operator===">=",l=l||m.operator==="<"||m.operator==="<=",s){if(p&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===p.major&&m.semver.minor===p.minor&&m.semver.patch===p.patch&&(p=!1),m.operator===">"||m.operator===">="){if(c=Cj(s,m,r),c===m&&c!==s)return!1}else if(s.operator===">="&&!ph(s.semver,String(m),r))return!1}if(a){if(f&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===f.major&&m.semver.minor===f.minor&&m.semver.patch===f.patch&&(f=!1),m.operator==="<"||m.operator==="<="){if(u=wj(a,m,r),u===m&&u!==a)return!1}else if(a.operator==="<="&&!ph(a.semver,String(m),r))return!1}if(!m.operator&&(a||s)&&o!==0)return!1}return!(s&&l&&!a&&o!==0||a&&d&&!s&&o!==0||p||f)},Cj=(e,t,r)=>{if(!e)return t;let n=hT(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},wj=(e,t,r)=>{if(!e)return t;let n=hT(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};Sj.exports=u3e});var gT=C((Bdt,Nj)=>{"use strict";var mT=tf(),Bj=oh(),f3e=Un(),Rj=ZS(),p3e=tl(),h3e=rq(),m3e=sq(),g3e=oq(),A3e=lq(),y3e=fq(),b3e=hq(),E3e=gq(),x3e=yq(),v3e=ui(),_3e=vq(),I3e=Iq(),C3e=G1(),w3e=Tq(),S3e=Rq(),T3e=uh(),B3e=V1(),R3e=rT(),N3e=nT(),k3e=K1(),D3e=Y1(),P3e=sT(),O3e=Fq(),$3e=lh(),L3e=li(),M3e=fh(),F3e=ej(),Q3e=rj(),U3e=sj(),q3e=oj(),j3e=uj(),H3e=X1(),z3e=mj(),G3e=Aj(),V3e=Ej(),K3e=vj(),Y3e=Tj();Nj.exports={parse:p3e,valid:h3e,clean:m3e,inc:g3e,diff:A3e,major:y3e,minor:b3e,patch:E3e,prerelease:x3e,compare:v3e,rcompare:_3e,compareLoose:I3e,compareBuild:C3e,sort:w3e,rsort:S3e,gt:T3e,lt:B3e,eq:R3e,neq:N3e,gte:k3e,lte:D3e,cmp:P3e,coerce:O3e,Comparator:$3e,Range:L3e,satisfies:M3e,toComparators:F3e,maxSatisfying:Q3e,minSatisfying:U3e,minVersion:q3e,validRange:j3e,outside:H3e,gtr:z3e,ltr:G3e,intersects:V3e,simplifyRange:K3e,subset:Y3e,SemVer:f3e,re:mT.re,src:mT.src,tokens:mT.t,SEMVER_SPEC_VERSION:Bj.SEMVER_SPEC_VERSION,RELEASE_TYPES:Bj.RELEASE_TYPES,compareIdentifiers:Rj.compareIdentifiers,rcompareIdentifiers:Rj.rcompareIdentifiers}});var eb=C((Rdt,ET)=>{"use strict";var Z1=j7(),W3e=gT(),{FSTDEP005:J3e,FSTDEP012:X3e,FSTDEP015:Z3e,FSTDEP016:eBe,FSTDEP017:tBe,FSTDEP018:rBe}=io(),{kHasBeenDecorated:nBe,kSchemaBody:sBe,kSchemaHeaders:iBe,kSchemaParams:aBe,kSchemaQuerystring:kj,kSchemaController:AT,kOptions:oBe,kRequestCacheValidateFns:_c,kRouteContext:Qr,kPublicRouteContext:Dj,kRequestOriginalUrl:yT}=cn(),{FST_ERR_REQ_INVALID_VALIDATION_INVOCATION:cBe}=$n(),Pj={body:sBe,headers:iBe,params:aBe,querystring:kj,query:kj};function bT(e,t,r,n,s,a){this.id=e,this[Qr]=a,this.params=t,this.raw=r,this.query=n,this.log=s,this.body=void 0}bT.props=[];function uBe(e){if(typeof e=="function")return e;if(e===!0)return function(){return!0};if(typeof e=="number")return function(t,r){return r<e};if(typeof e=="string"){let t=e.split(",").map(r=>r.trim());return Z1.compile(t)}return Z1.compile(e)}function lBe(e,t){return t?dBe(e,t):$j(e)}function $j(e){let t=e.props.slice();function r(n,s,a,o,c,u){this.id=n,this[Qr]=u,this.params=s,this.raw=a,this.query=o,this.log=c,this.body=void 0;for(var l,d=0;d<t.length;d++)l=t[d],this[l.key]=l.value}return Object.setPrototypeOf(r.prototype,e.prototype),Object.setPrototypeOf(r,e),r.props=t,r.parent=e,r}function Oj(e){let t=e.lastIndexOf(",");return t===-1?e.trim():e.slice(t+1).trim()}function dBe(e,t){let r=$j(e),n=uBe(t);return r[nBe]=!0,Object.defineProperties(r.prototype,{ip:{get(){return Z1(this.raw,n)}},ips:{get(){return Z1.all(this.raw,n)}},hostname:{get(){return this.ip!==void 0&&this.headers["x-forwarded-host"]?Oj(this.headers["x-forwarded-host"]):this.headers.host||this.headers[":authority"]}},protocol:{get(){if(this.headers["x-forwarded-proto"])return Oj(this.headers["x-forwarded-proto"]);if(this.socket)return this.socket.encrypted?"https":"http"}}}),r}Object.defineProperties(bT.prototype,{server:{get(){return this[Qr].server}},url:{get(){return this.raw.url}},originalUrl:{get(){return this[yT]||(this[yT]=this.raw.originalUrl||this.raw.url),this[yT]}},method:{get(){return this.raw.method}},context:{get(){return X3e(),this[Qr]}},routerPath:{get(){return tBe(),this[Qr].config?.url}},routeOptions:{get(){let e=this[Qr],t=e._parserOptions.limit,r=e.server.initialConfig.bodyLimit,n=e.server.hasConstraintStrategy("version")?this.raw.headers["accept-version"]:void 0,s={method:e.config?.method,url:e.config?.url,bodyLimit:t||r,attachValidation:e.attachValidation,logLevel:e.logLevel,exposeHeadRoute:e.exposeHeadRoute,prefixTrailingSlash:e.prefixTrailingSlash,handler:e.handler,version:n};return Object.defineProperties(s,{config:{get:()=>e.config},schema:{get:()=>e.schema}}),Object.freeze(s)}},routerMethod:{get(){return rBe(),this[Qr].config?.method}},routeConfig:{get(){return eBe(),this[Qr][Dj]?.config}},routeSchema:{get(){return Z3e(),this[Qr][Dj].schema}},is404:{get(){return this[Qr].config?.url===void 0}},connection:{get(){return W3e.gte(process.versions.node,"13.0.0")&&J3e(),this.raw.connection}},socket:{get(){return this.raw.socket}},ip:{get(){if(this.socket)return this.socket.remoteAddress}},hostname:{get(){return this.raw.headers.host||this.raw.headers[":authority"]}},protocol:{get(){if(this.socket)return this.socket.encrypted?"https":"http"}},headers:{get(){return this.additionalHeaders?Object.assign({},this.raw.headers,this.additionalHeaders):this.raw.headers},set(e){this.additionalHeaders=e}},getValidationFunction:{value:function(e){if(typeof e=="string"){let t=Pj[e];return this[Qr][t]}else if(typeof e=="object")return this[Qr][_c]?.get(e)}},compileValidationSchema:{value:function(e,t=null){let{method:r,url:n}=this;if(this[Qr][_c]?.has(e))return this[Qr][_c].get(e);let a=(this[Qr].validatorCompiler||this.server[AT].validatorCompiler||this.server[AT].setupValidator(this.server[oBe])||this.server[AT].validatorCompiler)({schema:e,method:r,url:n,httpPart:t});return this[Qr][_c]==null&&(this[Qr][_c]=new WeakMap),this[Qr][_c].set(e,a),a}},validateInput:{value:function(e,t,r){r=typeof t=="string"?t:r;let n=r!=null&&typeof r=="string"&&Pj[r],s;if(n&&(s=this[Qr][n]),s==null&&(t==null||typeof t!="object"||Array.isArray(t)))throw new cBe(r);return s==null&&(this[Qr][_c]?.has(t)?s=this[Qr][_c].get(t):s=this.compileValidationSchema(t,r)),s(e)}}});ET.exports=bT;ET.exports.buildRequest=lBe});var tb=C((Ndt,Lj)=>{"use strict";var{kFourOhFourContext:fBe,kReplySerializerDefault:pBe,kSchemaErrorFormatter:hBe,kErrorHandler:mBe,kChildLoggerFactory:gBe,kOptions:ABe,kReply:yBe,kRequest:bBe,kBodyLimit:EBe,kLogLevel:xBe,kContentTypeParser:vBe,kRouteByFastify:_Be,kRequestCacheValidateFns:IBe,kReplyCacheSerializeFns:CBe,kPublicRouteContext:wBe}=cn();function SBe({schema:e,handler:t,config:r,requestIdLogLabel:n,childLoggerFactory:s,errorHandler:a,bodyLimit:o,logLevel:c,logSerializers:u,attachValidation:l,validatorCompiler:d,serializerCompiler:f,replySerializer:p,schemaErrorFormatter:m,exposeHeadRoute:h,prefixTrailingSlash:g,server:A,isFastify:y}){this.schema=e,this.handler=t,this.Reply=A[yBe],this.Request=A[bBe],this.contentTypeParser=A[vBe],this.onRequest=null,this.onSend=null,this.onError=null,this.onTimeout=null,this.preHandler=null,this.onResponse=null,this.preSerialization=null,this.onRequestAbort=null,this.config=r,this.errorHandler=a||A[mBe],this.requestIdLogLabel=n||A[ABe].requestIdLogLabel,this.childLoggerFactory=s||A[gBe],this._middie=null,this._parserOptions={limit:o||A[EBe]},this.exposeHeadRoute=h,this.prefixTrailingSlash=g,this.logLevel=c||A[xBe],this.logSerializers=u,this[fBe]=null,this.attachValidation=l,this[pBe]=p,this.schemaErrorFormatter=m||A[hBe]||BBe,this[_Be]=y,this[IBe]=null,this[CBe]=null,this.validatorCompiler=d||null,this.serializerCompiler=f||null,this[wBe]=TBe(this),this.server=A}function TBe(e){return Object.create(null,{schema:{enumerable:!0,get(){return e.schema}},config:{enumerable:!0,get(){return e.config}}})}function BBe(e,t){let r="",n=", ";for(var s=0;s!==e.length;++s){let a=e[s];r+=t+(a.instancePath||"")+" "+a.message+n}return new Error(r.slice(0,-n.length))}Lj.exports=SBe});var xT=C((kdt,Mj)=>{"use strict";Mj.exports={supportedMethods:["DELETE","GET","HEAD","PATCH","POST","PUT","OPTIONS","PROPFIND","PROPPATCH","MKCOL","COPY","MOVE","LOCK","UNLOCK","TRACE","SEARCH"]}});var wT=C((Ddt,qj)=>{"use strict";var{kReply:vT,kRequest:_T,kState:RBe,kHasBeenDecorated:NBe}=cn(),{FST_ERR_DEC_ALREADY_PRESENT:Fj,FST_ERR_DEC_MISSING_DEPENDENCY:kBe,FST_ERR_DEC_AFTER_START:DBe,FST_ERR_DEC_DEPENDENCY_INVALID_TYPE:PBe}=$n(),{FSTDEP006:OBe}=io();function $Be(e,t,r,n){if(Object.prototype.hasOwnProperty.call(e,t))throw new Fj(t);IT(e,t,n),r&&(typeof r.getter=="function"||typeof r.setter=="function")?Object.defineProperty(e,t,{get:r.getter,set:r.setter}):e[t]=r}function Qj(e,t,r,n){let s=e.prototype;if(Object.prototype.hasOwnProperty.call(s,t)||nb(e,t))throw new Fj(t);e[NBe]=!0,IT(e,t,n),r&&(typeof r.getter=="function"||typeof r.setter=="function")?Object.defineProperty(s,t,{get:r.getter,set:r.setter}):typeof r=="function"?s[t]=r:e.props.push({key:t,value:r})}function Uj(e,t){typeof t=="object"&&t&&!(typeof t.getter=="function"||typeof t.setter=="function")&&OBe(e)}function LBe(e,t,r){return CT(this,e),$Be(this,e,t,r),this}function rb(e,t){return t?t in e||e.prototype&&t in e.prototype||nb(e,t):e in this}function nb(e,t){return e.props?e.props.find(({key:r})=>r===t):!1}function MBe(e){return e&&nb(this[_T],e)?!0:rb(this[_T].prototype,e)}function FBe(e){return e&&nb(this[vT],e)?!0:rb(this[vT].prototype,e)}function IT(e,t,r){if(r!=null){if(!Array.isArray(r))throw new PBe(t);for(var n=0;n!==r.length;++n)if(!rb(e,r[n]))throw new kBe(r[n])}}function QBe(e,t,r){return CT(this,e),Uj(e,t),Qj(this[vT],e,t,r),this}function UBe(e,t,r){return CT(this,e),Uj(e,t),Qj(this[_T],e,t,r),this}function CT(e,t){if(e[RBe].started)throw new DBe(t)}qj.exports={add:LBe,exist:rb,existRequest:MBe,existReply:FBe,dependencies:IT,decorateReply:QBe,decorateRequest:UBe}});var Hj=C(Ca=>{"use strict";var ST=class{constructor(t=1e3,r=0){if(isNaN(t)||t<0)throw new Error("Invalid max value");if(isNaN(r)||r<0)throw new Error("Invalid ttl value");this.first=null,this.items=new Map,this.last=null,this.max=t,this.ttl=r}get size(){return this.items.size}clear(){this.items=new Map,this.first=null,this.last=null}delete(t){if(this.items.has(t)){let r=this.items.get(t);this.items.delete(t),r.prev!==null&&(r.prev.next=r.next),r.next!==null&&(r.next.prev=r.prev),this.first===r&&(this.first=r.next),this.last===r&&(this.last=r.prev)}}deleteMany(t){for(var r=0;r<t.length;r++)this.delete(t[r])}evict(){if(this.size>0){let t=this.first;this.items.delete(t.key),this.size===0?(this.first=null,this.last=null):(this.first=t.next,this.first.prev=null)}}expiresAt(t){if(this.items.has(t))return this.items.get(t).expiry}get(t){if(this.items.has(t)){let r=this.items.get(t);if(this.ttl>0&&r.expiry<=Date.now()){this.delete(t);return}return r.value}}getMany(t){let r=[];for(var n=0;n<t.length;n++)r.push(this.get(t[n]));return r}keys(){return this.items.keys()}set(t,r){if(this.items.has(t)){let s=this.items.get(t);s.value=r,s.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl;return}this.max>0&&this.size===this.max&&this.evict();let n={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:t,prev:this.last,next:null,value:r};this.items.set(t,n),this.size===1?this.first=n:this.last.next=n,this.last=n}},TT=class{constructor(t=1e3,r=0){if(isNaN(t)||t<0)throw new Error("Invalid max value");if(isNaN(r)||r<0)throw new Error("Invalid ttl value");this.first=null,this.items=new Map,this.last=null,this.max=t,this.ttl=r}get size(){return this.items.size}bumpLru(t){if(this.last===t)return;let r=this.last,n=t.next,s=t.prev;this.first===t&&(this.first=n),t.next=null,t.prev=r,r.next=t,s!==null&&(s.next=n),n!==null&&(n.prev=s),this.last=t}clear(){this.items=new Map,this.first=null,this.last=null}delete(t){if(this.items.has(t)){let r=this.items.get(t);this.items.delete(t),r.prev!==null&&(r.prev.next=r.next),r.next!==null&&(r.next.prev=r.prev),this.first===r&&(this.first=r.next),this.last===r&&(this.last=r.prev)}}deleteMany(t){for(var r=0;r<t.length;r++)this.delete(t[r])}evict(){if(this.size>0){let t=this.first;this.items.delete(t.key),this.size===0?(this.first=null,this.last=null):(this.first=t.next,this.first.prev=null)}}expiresAt(t){if(this.items.has(t))return this.items.get(t).expiry}get(t){if(this.items.has(t)){let r=this.items.get(t);if(this.ttl>0&&r.expiry<=Date.now()){this.delete(t);return}return this.bumpLru(r),r.value}}getMany(t){let r=[];for(var n=0;n<t.length;n++)r.push(this.get(t[n]));return r}keys(){return this.items.keys()}set(t,r){if(this.items.has(t)){let s=this.items.get(t);s.value=r,s.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl,this.last!==s&&this.bumpLru(s);return}this.max>0&&this.size===this.max&&this.evict();let n={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:t,prev:this.last,next:null,value:r};this.items.set(t,n),this.size===1?this.first=n:this.last.next=n,this.last=n}},hh=class{constructor(t=1e3,r=0){if(isNaN(t)||t<0)throw new Error("Invalid max value");if(isNaN(r)||r<0)throw new Error("Invalid ttl value");this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this.max=t,this.ttl=r}bumpLru(t){if(this.last===t)return;let r=this.last,n=t.next,s=t.prev;this.first===t&&(this.first=n),t.next=null,t.prev=r,r.next=t,s!==null&&(s.next=n),n!==null&&(n.prev=s),this.last=t}clear(){this.items=Object.create(null),this.first=null,this.last=null,this.size=0}delete(t){if(Object.prototype.hasOwnProperty.call(this.items,t)){let r=this.items[t];delete this.items[t],this.size--,r.prev!==null&&(r.prev.next=r.next),r.next!==null&&(r.next.prev=r.prev),this.first===r&&(this.first=r.next),this.last===r&&(this.last=r.prev)}}deleteMany(t){for(var r=0;r<t.length;r++)this.delete(t[r])}evict(){if(this.size>0){let t=this.first;delete this.items[t.key],--this.size===0?(this.first=null,this.last=null):(this.first=t.next,this.first.prev=null)}}expiresAt(t){if(Object.prototype.hasOwnProperty.call(this.items,t))return this.items[t].expiry}get(t){if(Object.prototype.hasOwnProperty.call(this.items,t)){let r=this.items[t];if(this.ttl>0&&r.expiry<=Date.now()){this.delete(t);return}return this.bumpLru(r),r.value}}getMany(t){let r=[];for(var n=0;n<t.length;n++)r.push(this.get(t[n]));return r}keys(){return Object.keys(this.items)}set(t,r){if(Object.prototype.hasOwnProperty.call(this.items,t)){let s=this.items[t];s.value=r,s.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl,this.last!==s&&this.bumpLru(s);return}this.max>0&&this.size===this.max&&this.evict();let n={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:t,prev:this.last,next:null,value:r};this.items[t]=n,++this.size===1?this.first=n:this.last.next=n,this.last=n}},sb=class{constructor(){this.records={}}initForCache(t,r){this.records[t]={[r]:{cacheSize:0,hits:0,falsyHits:0,emptyHits:0,misses:0,expirations:0,evictions:0,invalidateOne:0,invalidateAll:0,sets:0}}}resetForCache(t){for(let r of Object.keys(this.records[t]))this.records[t][r]={cacheSize:0,hits:0,falsyHits:0,emptyHits:0,misses:0,expirations:0,evictions:0,invalidateOne:0,invalidateAll:0,sets:0}}getStatistics(){return this.records}};function jj(e){return`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`}var BT=class{constructor(t,r,n){this.cacheId=t,this.statisticTtlInHours=r,this.collectionStart=new Date,this.currentTimeStamp=jj(this.collectionStart),this.records=n||new sb,this.records.initForCache(this.cacheId,this.currentTimeStamp)}get currentRecord(){return this.records.records[this.cacheId][this.currentTimeStamp]||(this.records.records[this.cacheId][this.currentTimeStamp]={cacheSize:0,hits:0,falsyHits:0,emptyHits:0,misses:0,expirations:0,evictions:0,sets:0,invalidateOne:0,invalidateAll:0}),this.records.records[this.cacheId][this.currentTimeStamp]}hoursPassed(){return(Date.now()-this.collectionStart)/1e3/60/60}addHit(){this.archiveIfNeeded(),this.currentRecord.hits++}addFalsyHit(){this.archiveIfNeeded(),this.currentRecord.falsyHits++}addEmptyHit(){this.archiveIfNeeded(),this.currentRecord.emptyHits++}addMiss(){this.archiveIfNeeded(),this.currentRecord.misses++}addEviction(){this.archiveIfNeeded(),this.currentRecord.evictions++}setCacheSize(t){this.archiveIfNeeded(),this.currentRecord.cacheSize=t}addExpiration(){this.archiveIfNeeded(),this.currentRecord.expirations++}addSet(){this.archiveIfNeeded(),this.currentRecord.sets++}addInvalidateOne(){this.archiveIfNeeded(),this.currentRecord.invalidateOne++}addInvalidateAll(){this.archiveIfNeeded(),this.currentRecord.invalidateAll++}getStatistics(){return this.records.getStatistics()}archiveIfNeeded(){this.hoursPassed()>=this.statisticTtlInHours&&(this.collectionStart=new Date,this.currentTimeStamp=jj(this.collectionStart),this.records.initForCache(this.cacheId,this.currentTimeStamp))}},ib=class extends hh{constructor(t,r,n,s,a){if(super(t||1e3,r||0),!n)throw new Error("Cache id is mandatory");this.hitStatistics=new BT(n,a!==void 0?a:24,s)}getStatistics(){return this.hitStatistics.getStatistics()}set(t,r){super.set(t,r),this.hitStatistics.addSet(),this.hitStatistics.setCacheSize(this.size)}evict(){super.evict(),this.hitStatistics.addEviction(),this.hitStatistics.setCacheSize(this.size)}delete(t,r=!1){super.delete(t),r||this.hitStatistics.addInvalidateOne(),this.hitStatistics.setCacheSize(this.size)}clear(){super.clear(),this.hitStatistics.addInvalidateAll(),this.hitStatistics.setCacheSize(this.size)}get(t){if(Object.prototype.hasOwnProperty.call(this.items,t)){let r=this.items[t];if(this.ttl>0&&r.expiry<=Date.now()){this.delete(t,!0),this.hitStatistics.addExpiration();return}return this.bumpLru(r),r.value||this.hitStatistics.addFalsyHit(),(r.value===void 0||r.value===null||r.value==="")&&this.hitStatistics.addEmptyHit(),this.hitStatistics.addHit(),r.value}this.hitStatistics.addMiss()}},ab=class{constructor(t=1e3,r=0){if(isNaN(t)||t<0)throw new Error("Invalid max value");if(isNaN(r)||r<0)throw new Error("Invalid ttl value");this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this.max=t,this.ttl=r}clear(){this.items=Object.create(null),this.first=null,this.last=null,this.size=0}delete(t){if(Object.prototype.hasOwnProperty.call(this.items,t)){let r=this.items[t];delete this.items[t],this.size--,r.prev!==null&&(r.prev.next=r.next),r.next!==null&&(r.next.prev=r.prev),this.first===r&&(this.first=r.next),this.last===r&&(this.last=r.prev)}}deleteMany(t){for(var r=0;r<t.length;r++)this.delete(t[r])}evict(){if(this.size>0){let t=this.first;delete this.items[t.key],--this.size===0?(this.first=null,this.last=null):(this.first=t.next,this.first.prev=null)}}expiresAt(t){if(Object.prototype.hasOwnProperty.call(this.items,t))return this.items[t].expiry}get(t){if(Object.prototype.hasOwnProperty.call(this.items,t)){let r=this.items[t];if(this.ttl>0&&r.expiry<=Date.now()){this.delete(t);return}return r.value}}getMany(t){let r=[];for(var n=0;n<t.length;n++)r.push(this.get(t[n]));return r}keys(){return Object.keys(this.items)}set(t,r){if(Object.prototype.hasOwnProperty.call(this.items,t)){let s=this.items[t];s.value=r,s.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl;return}this.max>0&&this.size===this.max&&this.evict();let n={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:t,prev:this.last,next:null,value:r};this.items[t]=n,++this.size===1?this.first=n:this.last.next=n,this.last=n}};Ca.Fifo=ab;Ca.FifoMap=ST;Ca.FifoObject=ab;Ca.HitStatisticsRecord=sb;Ca.Lru=hh;Ca.LruHitStatistics=ib;Ca.LruMap=TT;Ca.LruObject=hh;Ca.LruObjectHitStatistics=ib});var Kj=C((Odt,mh)=>{"use strict";var ub=function(){};ub.prototype=Object.create(null);var ob=/; *([!#$%&'*+.^\w`|~-]+)=("(?:[\v\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\v\u0020-\u00ff])*"|[!#$%&'*+.^\w`|~-]+) */gu,cb=/\\([\v\u0020-\u00ff])/gu,zj=/^[!#$%&'*+.^\w|~-]+\/[!#$%&'*+.^\w|~-]+$/u,rl={type:"",parameters:new ub};Object.freeze(rl.parameters);Object.freeze(rl);function Gj(e){if(typeof e!="string")throw new TypeError("argument header is required and must be a string");let t=e.indexOf(";"),r=t!==-1?e.slice(0,t).trim():e.trim();if(zj.test(r)===!1)throw new TypeError("invalid media type");let n={type:r.toLowerCase(),parameters:new ub};if(t===-1)return n;let s,a,o;for(ob.lastIndex=t;a=ob.exec(e);){if(a.index!==t)throw new TypeError("invalid parameter format");t+=a[0].length,s=a[1].toLowerCase(),o=a[2],o[0]==='"'&&(o=o.slice(1,o.length-1),cb.test(o)&&(o=o.replace(cb,"$1"))),n.parameters[s]=o}if(t!==e.length)throw new TypeError("invalid parameter format");return n}function Vj(e){if(typeof e!="string")return rl;let t=e.indexOf(";"),r=t!==-1?e.slice(0,t).trim():e.trim();if(zj.test(r)===!1)return rl;let n={type:r.toLowerCase(),parameters:new ub};if(t===-1)return n;let s,a,o;for(ob.lastIndex=t;a=ob.exec(e);){if(a.index!==t)return rl;t+=a[0].length,s=a[1].toLowerCase(),o=a[2],o[0]==='"'&&(o=o.slice(1,o.length-1),cb.test(o)&&(o=o.replace(cb,"$1"))),n.parameters[s]=o}return t!==e.length?rl:n}mh.exports.default={parse:Gj,safeParse:Vj};mh.exports.parse=Gj;mh.exports.safeParse=Vj;mh.exports.defaultContentType=rl});var Zj=C(($dt,rf)=>{"use strict";var qBe=typeof Buffer<"u",Yj=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,Wj=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function Jj(e,t,r){r==null&&t!==null&&typeof t=="object"&&(r=t,t=void 0),qBe&&Buffer.isBuffer(e)&&(e=e.toString()),e&&e.charCodeAt(0)===65279&&(e=e.slice(1));let n=JSON.parse(e,t);if(n===null||typeof n!="object")return n;let s=r&&r.protoAction||"error",a=r&&r.constructorAction||"error";if(s==="ignore"&&a==="ignore")return n;if(s!=="ignore"&&a!=="ignore"){if(Yj.test(e)===!1&&Wj.test(e)===!1)return n}else if(s!=="ignore"&&a==="ignore"){if(Yj.test(e)===!1)return n}else if(Wj.test(e)===!1)return n;return Xj(n,{protoAction:s,constructorAction:a,safe:r&&r.safe})}function Xj(e,{protoAction:t="error",constructorAction:r="error",safe:n}={}){let s=[e];for(;s.length;){let a=s;s=[];for(let o of a){if(t!=="ignore"&&Object.prototype.hasOwnProperty.call(o,"__proto__")){if(n===!0)return null;if(t==="error")throw new SyntaxError("Object contains forbidden prototype property");delete o.__proto__}if(r!=="ignore"&&Object.prototype.hasOwnProperty.call(o,"constructor")&&Object.prototype.hasOwnProperty.call(o.constructor,"prototype")){if(n===!0)return null;if(r==="error")throw new SyntaxError("Object contains forbidden prototype property");delete o.constructor}for(let c in o){let u=o[c];u&&typeof u=="object"&&s.push(u)}}}return e}function RT(e,t,r){let n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return Jj(e,t,r)}finally{Error.stackTraceLimit=n}}function jBe(e,t){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return Jj(e,t,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=r}}rf.exports=RT;rf.exports.default=RT;rf.exports.parse=RT;rf.exports.safeParse=jBe;rf.exports.scan=Xj});var OT=C((Ldt,Ah)=>{"use strict";var{AsyncResource:HBe}=require("node:async_hooks"),{Fifo:tH}=Hj(),{safeParse:rH,defaultContentType:zBe}=Kj(),GBe=Zj(),{kDefaultJsonParse:gh,kContentTypeParser:nf,kBodyLimit:VBe,kRequestPayloadStream:nH,kState:kT,kTestInternals:KBe,kReplyIsError:sH,kRouteContext:YBe}=cn(),{FST_ERR_CTP_INVALID_TYPE:iH,FST_ERR_CTP_EMPTY_TYPE:WBe,FST_ERR_CTP_ALREADY_PRESENT:JBe,FST_ERR_CTP_INVALID_HANDLER:XBe,FST_ERR_CTP_INVALID_PARSE_TYPE:ZBe,FST_ERR_CTP_BODY_TOO_LARGE:eH,FST_ERR_CTP_INVALID_MEDIA_TYPE:e4e,FST_ERR_CTP_INVALID_CONTENT_LENGTH:t4e,FST_ERR_CTP_EMPTY_JSON_BODY:r4e,FST_ERR_CTP_INSTANCE_ALREADY_STARTED:DT}=$n();function mo(e,t,r){this[gh]=oH(t,r),this.customParsers=new Map,this.customParsers.set("application/json",new NT(!0,!1,e,this[gh])),this.customParsers.set("text/plain",new NT(!0,!1,e,PT)),this.parserList=[new lb("application/json"),new lb("text/plain")],this.parserRegExpList=[],this.cache=new tH(100)}mo.prototype.add=function(e,t,r){let n=typeof e=="string";if(!n&&!(e instanceof RegExp))throw new iH;if(n&&e.length===0)throw new WBe;if(typeof r!="function")throw new XBe;if(this.existingParser(e))throw new JBe(e);if(t.parseAs!==void 0&&t.parseAs!=="string"&&t.parseAs!=="buffer")throw new ZBe(t.parseAs);let s=new NT(t.parseAs==="string",t.parseAs==="buffer",t.bodyLimit,r);n&&e==="*"?this.customParsers.set("",s):(n?this.parserList.unshift(new lb(e)):(e.isEssence=e.source.indexOf(";")===-1,this.parserRegExpList.unshift(e)),this.customParsers.set(e.toString(),s))};mo.prototype.hasParser=function(e){return this.customParsers.has(typeof e=="string"?e:e.toString())};mo.prototype.existingParser=function(e){return e==="application/json"&&this.customParsers.has(e)?this.customParsers.get(e).fn!==this[gh]:e==="text/plain"&&this.customParsers.has(e)?this.customParsers.get(e).fn!==PT:this.hasParser(e)};mo.prototype.getParser=function(e){if(this.hasParser(e))return this.customParsers.get(e);let t=this.cache.get(e);if(t!==void 0)return t;let r=rH(e);if(r===zBe)return this.customParsers.get("");for(var n=0;n!==this.parserList.length;++n){let a=this.parserList[n];if(c4e(r,a)){let o=this.customParsers.get(a.name);return this.cache.set(e,o),o}}for(var s=0;s!==this.parserRegExpList.length;++s){let a=this.parserRegExpList[s];if(u4e(e,r.type,a)){let o=this.customParsers.get(a.toString());return this.cache.set(e,o),o}}return this.customParsers.get("")};mo.prototype.removeAll=function(){this.customParsers=new Map,this.parserRegExpList=[],this.parserList=[],this.cache=new tH(100)};mo.prototype.remove=function(e){if(!(typeof e=="string"||e instanceof RegExp))throw new iH;let t=this.customParsers.delete(e.toString()),r=typeof e=="string"?this.parserList:this.parserRegExpList,n=r.findIndex(s=>s.toString()===e.toString());return n>-1&&r.splice(n,1),t||n>-1};mo.prototype.run=function(e,t,r,n){let s=this.getParser(e);if(s===void 0){r.is404?t(r,n):n.send(new e4e(e||void 0));return}let a=new HBe("content-type-parser:run",r);if(s.asString===!0||s.asBuffer===!0)aH(r,n,n[YBe]._parserOptions,s,o);else{let c=s.fn(r,r[nH],o);c&&typeof c.then=="function"&&c.then(u=>o(null,u),o)}function o(c,u){a.runInAsyncScope(()=>{a.emitDestroy(),c?(n[sH]=!0,n.send(c)):(r.body=u,t(r,n))})}};function aH(e,t,r,n,s){let a=n.asString,o=r.limit===null?n.bodyLimit:r.limit,c=e.headers["content-length"]===void 0?NaN:Number(e.headers["content-length"]);if(c>o){t.header("connection","close"),t.send(new eH);return}let u=0,l=a===!0?"":[],d=e[nH]||e.raw;a===!0&&d.setEncoding("utf8"),d.on("data",f),d.on("end",p),d.on("error",p),d.resume();function f(m){u+=m.length;let{receivedEncodedLength:h=0}=d;if(u>o||h>o){d.removeListener("data",f),d.removeListener("end",p),d.removeListener("error",p),t.send(new eH);return}a===!0?l+=m:l.push(m)}function p(m){if(d.removeListener("data",f),d.removeListener("end",p),d.removeListener("error",p),m!==void 0){typeof m.statusCode=="number"&&m.statusCode>=400||(m.statusCode=400),t[sH]=!0,t.code(m.statusCode).send(m);return}if(a===!0&&(u=Buffer.byteLength(l)),!Number.isNaN(c)&&(d.receivedEncodedLength||u)!==c){t.header("connection","close"),t.send(new t4e);return}a===!1&&(l=Buffer.concat(l));let h=n.fn(e,l,s);h&&typeof h.then=="function"&&h.then(g=>s(null,g),s)}}function oH(e,t){return r;function r(n,s,a){if(s===""||s==null||Buffer.isBuffer(s)&&s.length===0)return a(new r4e,void 0);let o;try{o=GBe.parse(s,{protoAction:e,constructorAction:t})}catch(c){return c.statusCode=400,a(c,void 0)}a(null,o)}}function PT(e,t,r){r(null,t)}function NT(e,t,r,n){this.asString=e,this.asBuffer=t,this.bodyLimit=r,this.fn=n}function n4e(e){let t=new mo;return t[gh]=e[gh],t.customParsers=new Map(e.customParsers.entries()),t.parserList=e.parserList.slice(),t.parserRegExpList=e.parserRegExpList.slice(),t}function s4e(e,t,r){if(this[kT].started)throw new DT("addContentTypeParser");return typeof t=="function"&&(r=t,t={}),t||(t={}),t.bodyLimit||(t.bodyLimit=this[VBe]),Array.isArray(e)?e.forEach(n=>this[nf].add(n,t,r)):this[nf].add(e,t,r),this}function i4e(e){return this[nf].hasParser(e)}function a4e(e){if(this[kT].started)throw new DT("removeContentTypeParser");if(Array.isArray(e))for(let t of e)this[nf].remove(t);else this[nf].remove(e)}function o4e(){if(this[kT].started)throw new DT("removeAllContentTypeParsers");this[nf].removeAll()}function c4e(e,t){if(t.isEssence)return e.type.indexOf(t)!==-1;if(e.type.indexOf(t.type)===-1)return!1;for(let r of t.parameterKeys)if(!(r in e.parameters)||e.parameters[r]!==t.parameters[r])return!1;return!0}function u4e(e,t,r){return r.isEssence?r.test(t):r.test(e)}function lb(e){this.name=e;let t=rH(e);if(this.isEssence=e.indexOf(";")===-1,this.isEssence===!1&&t.type===""){let r=e.split(";",1)[0];this.type=r===""?e:r}else this.type=t.type;this.parameters=t.parameters,this.parameterKeys=Object.keys(t.parameters)}lb.prototype.toString=function(){return this.name};Ah.exports=mo;Ah.exports.helpers={buildContentTypeParser:n4e,addContentTypeParser:s4e,hasContentTypeParser:i4e,removeContentTypeParser:a4e,removeAllContentTypeParsers:o4e};Ah.exports.defaultParsers={getDefaultJsonParser:oH,defaultTextParser:PT};Ah.exports[KBe]={rawBody:aH}});var dH=C((Mdt,lH)=>{"use strict";var cH=ai(),l4e=Symbol.for("json-schema-ref"),$T=class{#e;#t;#n;#s;#i;constructor(t={}){this.#e={},this.#t={},this.#n=t.insertRefSymbol??!1,this.#s=t.allowEqualDuplicates??!0,this.#i=t.cloneSchemaWithoutRefs??!1}addSchema(t,r){t.$id!==void 0&&t.$id.charAt(0)!=="#"?r=t.$id:this.#u(t,r),this.#o(t,r)}getSchema(t,r="#"){let n=this.#e[t];if(n===void 0)throw new Error(`Cannot resolve ref "${t}${r}". Schema with id "${t}" is not found.`);return n.anchors[r]!==void 0?n.anchors[r]:uH(n.schema,r)}hasSchema(t){return this.#e[t]!==void 0}getSchemaRefs(t){let r=this.#e[t];if(r===void 0)throw new Error(`Schema with id "${t}" is not found.`);return r.refs}getSchemaDependencies(t,r={}){let n=this.#e[t];for(let s of n.refs){let a=s.schemaId;r[a]===void 0&&(r[a]=this.getSchema(a),this.getSchemaDependencies(a,r))}return r}derefSchema(t){if(this.#t[t]!==void 0)return;let r=this.#e[t];if(r===void 0)throw new Error(`Schema with id "${t}" is not found.`);!this.#i&&r.refs.length===0&&(this.#t[t]={schema:r.schema,anchors:r.anchors});let n=[];this.#r(r.schema,t,n);let s=this.getSchemaDependencies(t);for(let a in s){let o=s[a];this.#r(o,a,n)}for(let a of n){let{refSchemaId:o,refJsonPointer:c}=this.#a(a.ref,a.sourceSchemaId),u=this.getDerefSchema(o,c);if(u===null)throw new Error(`Cannot resolve ref "${a.ref}". Ref "${c}" is not found in schema "${o}".`);a.targetSchema=u,a.targetSchemaId=o}for(let a of n)this.#c(a,n)}getDerefSchema(t,r="#"){let n=this.#t[t];return n===void 0&&(this.derefSchema(t),n=this.#t[t]),n.anchors[r]!==void 0?n.anchors[r]:uH(n.schema,r)}#a(t,r){let n=t.indexOf("#");return n===-1?{refSchemaId:t,refJsonPointer:"#"}:n===0?{refSchemaId:r,refJsonPointer:t}:{refSchemaId:t.slice(0,n),refJsonPointer:t.slice(n)}}#o(t,r){let n=t.$id;n!==void 0&&typeof n=="string"&&(n.charAt(0)==="#"?this.#l(t,r,n):(this.#u(t,n),r=n));let s=t.$ref;if(s!==void 0&&typeof s=="string"){let{refSchemaId:a,refJsonPointer:o}=this.#a(s,r);this.#e[r].refs.push({schemaId:a,jsonPointer:o})}for(let a in t)typeof t[a]=="object"&&t[a]!==null&&this.#o(t[a],r)}#r(t,r,n=[]){let s=Array.isArray(t)?[...t]:{...t},a=s.$id;a!==void 0&&typeof a=="string"&&(a.charAt(0)==="#"?this.#f(s,r,a):(this.#d(s,a),r=a)),s.$ref!==void 0&&n.push({ref:s.$ref,sourceSchemaId:r,sourceSchema:s});for(let o in s){let c=s[o];typeof c=="object"&&c!==null&&(s[o]=this.#r(c,r,n))}return s}#c(t,r){let{sourceSchema:n,targetSchema:s}=t;if(n.$ref){if(this.#n&&(n[l4e]=n.$ref),delete n.$ref,s.$ref){let a=r.find(o=>o.sourceSchema===s);this.#c(a,r)}for(let a in s)if(a!=="$id"){if(n[a]!==void 0){if(cH(n[a],s[a]))continue;throw new Error(`Cannot resolve ref "${t.ref}". Property "${a}" is already exist in schema "${t.sourceSchemaId}".`)}n[a]=s[a]}t.isResolved=!0}}#u(t,r){let n=this.#e[r];if(n!==void 0){if(this.#s&&cH(t,n.schema))return;throw new Error(`There is already another schema with id "${r}".`)}this.#e[r]={schema:t,anchors:{},refs:[]}}#l(t,r,n){let{anchors:s}=this.#e[r];if(s[n]!==void 0)throw new Error(`There is already another anchor "${n}" in a schema "${r}".`);s[n]=t}#d(t,r){this.#t[r]===void 0&&(this.#t[r]={schema:t,anchors:{}})}#f(t,r,n){let{anchors:s}=this.#t[r];s[n]=t}};function uH(e,t){let r=t.split("/"),n=e;for(let s of r)if(!(s===""||s==="#")){if(typeof n!="object"||n===null)return null;n=n[s]}return n??null}lH.exports={RefResolver:$T}});var pH=C((Fdt,fH)=>{"use strict";var LT=class e{constructor(t,r,n="#"){this.schema=t,this.schemaId=r,this.jsonPointer=n}getPropertyLocation(t){return new e(this.schema[t],this.schemaId,this.jsonPointer+"/"+t)}getSchemaRef(){return this.schemaId+this.jsonPointer}};fH.exports=LT});var yH=C((Qdt,FT)=>{"use strict";FT.exports=ye;FT.exports.default=ye;var d4e={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},hH={enum:["array","boolean","integer","null","number","object","string"]},mH=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,f4e=B1().fullFormats.uri,gH=B1().fullFormats.regex;function di(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:s=e}={}){let a=null,o=0,c=o;return typeof e=="number"&&!(e%1)&&!isNaN(e)&&isFinite(e)?o===c&&typeof e=="number"&&isFinite(e)&&(e<0||isNaN(e))?(di.errors=[{instancePath:t,schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1):(di.errors=a,o===0):(di.errors=[{instancePath:t,schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1)}var MT={validate:ye};function us(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:s=e}={}){let a=null,o=0;if(o===0)if(Array.isArray(e)){if(e.length<1)return us.errors=[{instancePath:t,schemaPath:"#/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var c=!0;let u=e.length;for(let l=0;l<u;l++){let d=o;MT.validate(e[l],{instancePath:t+"/"+l,parentData:e,parentDataProperty:l,rootData:s})||(a=a===null?MT.validate.errors:a.concat(MT.validate.errors),o=a.length);var c=d===o;if(!c)break}}}else return us.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;return us.errors=a,o===0}var AH=Y0().default;function ye(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:s=e}={}){let a=null,o=0;if(!(e&&typeof e=="object"&&!Array.isArray(e))&&typeof e!="boolean")return ye.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:d4e.type},message:"must be object,boolean"}],!1;if(o===0&&e&&typeof e=="object"&&!Array.isArray(e)){if(e.$id!==void 0){let b=e.$id,E=o;if(o===E&&o===E)if(typeof b=="string"){if(!mH.test(b))return ye.errors=[{instancePath:t+"/$id",schemaPath:"#/properties/%24id/format",keyword:"format",params:{format:"uri-reference"},message:'must match format "uri-reference"'}],!1}else return ye.errors=[{instancePath:t+"/$id",schemaPath:"#/properties/%24id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=E===o}else var c=!0;if(c){if(e.$schema!==void 0){let b=e.$schema,E=o;if(o===E&&o===E)if(typeof b=="string"){if(!f4e(b))return ye.errors=[{instancePath:t+"/$schema",schemaPath:"#/properties/%24schema/format",keyword:"format",params:{format:"uri"},message:'must match format "uri"'}],!1}else return ye.errors=[{instancePath:t+"/$schema",schemaPath:"#/properties/%24schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=E===o}else var c=!0;if(c){if(e.$ref!==void 0){let b=e.$ref,E=o;if(o===E&&o===E)if(typeof b=="string"){if(!mH.test(b))return ye.errors=[{instancePath:t+"/$ref",schemaPath:"#/properties/%24ref/format",keyword:"format",params:{format:"uri-reference"},message:'must match format "uri-reference"'}],!1}else return ye.errors=[{instancePath:t+"/$ref",schemaPath:"#/properties/%24ref/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=E===o}else var c=!0;if(c){if(e.$comment!==void 0){let b=o;if(typeof e.$comment!="string")return ye.errors=[{instancePath:t+"/$comment",schemaPath:"#/properties/%24comment/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=b===o}else var c=!0;if(c){if(e.title!==void 0){let b=o;if(typeof e.title!="string")return ye.errors=[{instancePath:t+"/title",schemaPath:"#/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=b===o}else var c=!0;if(c){if(e.description!==void 0){let b=o;if(typeof e.description!="string")return ye.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=b===o}else var c=!0;if(c){if(e.readOnly!==void 0){let b=o;if(typeof e.readOnly!="boolean")return ye.errors=[{instancePath:t+"/readOnly",schemaPath:"#/properties/readOnly/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var c=b===o}else var c=!0;if(c){if(e.examples!==void 0){let b=o;if(o===b&&!Array.isArray(e.examples))return ye.errors=[{instancePath:t+"/examples",schemaPath:"#/properties/examples/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var c=b===o}else var c=!0;if(c){if(e.multipleOf!==void 0){let b=e.multipleOf,E=o;if(o===E)if(typeof b=="number"&&isFinite(b)){if(b<=0||isNaN(b))return ye.errors=[{instancePath:t+"/multipleOf",schemaPath:"#/properties/multipleOf/exclusiveMinimum",keyword:"exclusiveMinimum",params:{comparison:">",limit:0},message:"must be > 0"}],!1}else return ye.errors=[{instancePath:t+"/multipleOf",schemaPath:"#/properties/multipleOf/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var c=E===o}else var c=!0;if(c){if(e.maximum!==void 0){let b=e.maximum,E=o;if(!(typeof b=="number"&&isFinite(b)))return ye.errors=[{instancePath:t+"/maximum",schemaPath:"#/properties/maximum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var c=E===o}else var c=!0;if(c){if(e.exclusiveMaximum!==void 0){let b=e.exclusiveMaximum,E=o;if(!(typeof b=="number"&&isFinite(b)))return ye.errors=[{instancePath:t+"/exclusiveMaximum",schemaPath:"#/properties/exclusiveMaximum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var c=E===o}else var c=!0;if(c){if(e.minimum!==void 0){let b=e.minimum,E=o;if(!(typeof b=="number"&&isFinite(b)))return ye.errors=[{instancePath:t+"/minimum",schemaPath:"#/properties/minimum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var c=E===o}else var c=!0;if(c){if(e.exclusiveMinimum!==void 0){let b=e.exclusiveMinimum,E=o;if(!(typeof b=="number"&&isFinite(b)))return ye.errors=[{instancePath:t+"/exclusiveMinimum",schemaPath:"#/properties/exclusiveMinimum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var c=E===o}else var c=!0;if(c){if(e.maxLength!==void 0){let b=e.maxLength,E=o,I=o;if(!(typeof b=="number"&&!(b%1)&&!isNaN(b)&&isFinite(b)))return ye.errors=[{instancePath:t+"/maxLength",schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;if(o===I&&typeof b=="number"&&isFinite(b)&&(b<0||isNaN(b)))return ye.errors=[{instancePath:t+"/maxLength",schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1;var c=E===o}else var c=!0;if(c){if(e.minLength!==void 0){let b=o;di(e.minLength,{instancePath:t+"/minLength",parentData:e,parentDataProperty:"minLength",rootData:s})||(a=a===null?di.errors:a.concat(di.errors),o=a.length);var c=b===o}else var c=!0;if(c){if(e.pattern!==void 0){let b=e.pattern,E=o;if(o===E&&o===E)if(typeof b=="string"){if(!gH(b))return ye.errors=[{instancePath:t+"/pattern",schemaPath:"#/properties/pattern/format",keyword:"format",params:{format:"regex"},message:'must match format "regex"'}],!1}else return ye.errors=[{instancePath:t+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=E===o}else var c=!0;if(c){if(e.additionalItems!==void 0){let b=o;ye(e.additionalItems,{instancePath:t+"/additionalItems",parentData:e,parentDataProperty:"additionalItems",rootData:s})||(a=a===null?ye.errors:a.concat(ye.errors),o=a.length);var c=b===o}else var c=!0;if(c){if(e.items!==void 0){let b=e.items,E=o,I=o,w=!1,S=o;ye(b,{instancePath:t+"/items",parentData:e,parentDataProperty:"items",rootData:s})||(a=a===null?ye.errors:a.concat(ye.errors),o=a.length);var u=S===o;if(w=w||u,!w){let B=o;us(b,{instancePath:t+"/items",parentData:e,parentDataProperty:"items",rootData:s})||(a=a===null?us.errors:a.concat(us.errors),o=a.length);var u=B===o;w=w||u}if(w)o=I,a!==null&&(I?a.length=I:a=null);else{let B={instancePath:t+"/items",schemaPath:"#/properties/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return a===null?a=[B]:a.push(B),o++,ye.errors=a,!1}var c=E===o}else var c=!0;if(c){if(e.maxItems!==void 0){let b=e.maxItems,E=o,I=o;if(!(typeof b=="number"&&!(b%1)&&!isNaN(b)&&isFinite(b)))return ye.errors=[{instancePath:t+"/maxItems",schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;if(o===I&&typeof b=="number"&&isFinite(b)&&(b<0||isNaN(b)))return ye.errors=[{instancePath:t+"/maxItems",schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1;var c=E===o}else var c=!0;if(c){if(e.minItems!==void 0){let b=o;di(e.minItems,{instancePath:t+"/minItems",parentData:e,parentDataProperty:"minItems",rootData:s})||(a=a===null?di.errors:a.concat(di.errors),o=a.length);var c=b===o}else var c=!0;if(c){if(e.uniqueItems!==void 0){let b=o;if(typeof e.uniqueItems!="boolean")return ye.errors=[{instancePath:t+"/uniqueItems",schemaPath:"#/properties/uniqueItems/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var c=b===o}else var c=!0;if(c){if(e.contains!==void 0){let b=o;ye(e.contains,{instancePath:t+"/contains",parentData:e,parentDataProperty:"contains",rootData:s})||(a=a===null?ye.errors:a.concat(ye.errors),o=a.length);var c=b===o}else var c=!0;if(c){if(e.maxProperties!==void 0){let b=e.maxProperties,E=o,I=o;if(!(typeof b=="number"&&!(b%1)&&!isNaN(b)&&isFinite(b)))return ye.errors=[{instancePath:t+"/maxProperties",schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;if(o===I&&typeof b=="number"&&isFinite(b)&&(b<0||isNaN(b)))return ye.errors=[{instancePath:t+"/maxProperties",schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1;var c=E===o}else var c=!0;if(c){if(e.minProperties!==void 0){let b=o;di(e.minProperties,{instancePath:t+"/minProperties",parentData:e,parentDataProperty:"minProperties",rootData:s})||(a=a===null?di.errors:a.concat(di.errors),o=a.length);var c=b===o}else var c=!0;if(c){if(e.required!==void 0){let b=e.required,E=o;if(o===o)if(Array.isArray(b)){var l=!0;let S=b.length;for(let T=0;T<S;T++){let B=o;if(typeof b[T]!="string")return ye.errors=[{instancePath:t+"/required/"+T,schemaPath:"#/definitions/stringArray/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var l=B===o;if(!l)break}if(l){let T=b.length,B;if(T>1){let N={};for(;T--;){let O=b[T];if(typeof O=="string"){if(typeof N[O]=="number"){return B=N[O],ye.errors=[{instancePath:t+"/required",schemaPath:"#/definitions/stringArray/uniqueItems",keyword:"uniqueItems",params:{i:T,j:B},message:"must NOT have duplicate items (items ## "+B+" and "+T+" are identical)"}],!1;break}N[O]=T}}}}}else return ye.errors=[{instancePath:t+"/required",schemaPath:"#/definitions/stringArray/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var c=E===o}else var c=!0;if(c){if(e.additionalProperties!==void 0){let b=o;ye(e.additionalProperties,{instancePath:t+"/additionalProperties",parentData:e,parentDataProperty:"additionalProperties",rootData:s})||(a=a===null?ye.errors:a.concat(ye.errors),o=a.length);var c=b===o}else var c=!0;if(c){if(e.definitions!==void 0){let b=e.definitions,E=o;if(o===E)if(b&&typeof b=="object"&&!Array.isArray(b))for(let w in b){let S=o;ye(b[w],{instancePath:t+"/definitions/"+w.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:b,parentDataProperty:w,rootData:s})||(a=a===null?ye.errors:a.concat(ye.errors),o=a.length);var d=S===o;if(!d)break}else return ye.errors=[{instancePath:t+"/definitions",schemaPath:"#/properties/definitions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=E===o}else var c=!0;if(c){if(e.properties!==void 0){let b=e.properties,E=o;if(o===E)if(b&&typeof b=="object"&&!Array.isArray(b))for(let w in b){let S=o;ye(b[w],{instancePath:t+"/properties/"+w.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:b,parentDataProperty:w,rootData:s})||(a=a===null?ye.errors:a.concat(ye.errors),o=a.length);var f=S===o;if(!f)break}else return ye.errors=[{instancePath:t+"/properties",schemaPath:"#/properties/properties/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=E===o}else var c=!0;if(c){if(e.patternProperties!==void 0){let b=e.patternProperties,E=o;if(o===E)if(b&&typeof b=="object"&&!Array.isArray(b)){for(let w in b){let S=o;if(o===S&&typeof w=="string"&&!gH(w)){let T={instancePath:t+"/patternProperties",schemaPath:"#/properties/patternProperties/propertyNames/format",keyword:"format",params:{format:"regex"},message:'must match format "regex"',propertyName:w};a===null?a=[T]:a.push(T),o++}var p=S===o;if(!p){let T={instancePath:t+"/patternProperties",schemaPath:"#/properties/patternProperties/propertyNames",keyword:"propertyNames",params:{propertyName:w},message:"property name must be valid"};return a===null?a=[T]:a.push(T),o++,ye.errors=a,!1;break}}if(p)for(let w in b){let S=o;ye(b[w],{instancePath:t+"/patternProperties/"+w.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:b,parentDataProperty:w,rootData:s})||(a=a===null?ye.errors:a.concat(ye.errors),o=a.length);var m=S===o;if(!m)break}}else return ye.errors=[{instancePath:t+"/patternProperties",schemaPath:"#/properties/patternProperties/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=E===o}else var c=!0;if(c){if(e.dependencies!==void 0){let b=e.dependencies,E=o;if(o===E)if(b&&typeof b=="object"&&!Array.isArray(b))for(let w in b){let S=b[w],T=o,B=o,N=!1,O=o;ye(S,{instancePath:t+"/dependencies/"+w.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:b,parentDataProperty:w,rootData:s})||(a=a===null?ye.errors:a.concat(ye.errors),o=a.length);var h=O===o;if(N=N||h,!N){let k=o;if(o===o)if(Array.isArray(S)){var g=!0;let j=S.length;for(let H=0;H<j;H++){let V=o;if(typeof S[H]!="string"){let U={instancePath:t+"/dependencies/"+w.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+H,schemaPath:"#/definitions/stringArray/items/type",keyword:"type",params:{type:"string"},message:"must be string"};a===null?a=[U]:a.push(U),o++}var g=V===o;if(!g)break}if(g){let H=S.length,V;if(H>1){let X={};for(;H--;){let U=S[H];if(typeof U=="string"){if(typeof X[U]=="number"){V=X[U];let re={instancePath:t+"/dependencies/"+w.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/stringArray/uniqueItems",keyword:"uniqueItems",params:{i:H,j:V},message:"must NOT have duplicate items (items ## "+V+" and "+H+" are identical)"};a===null?a=[re]:a.push(re),o++;break}X[U]=H}}}}}else{let j={instancePath:t+"/dependencies/"+w.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/stringArray/type",keyword:"type",params:{type:"array"},message:"must be array"};a===null?a=[j]:a.push(j),o++}var h=k===o;N=N||h}if(N)o=B,a!==null&&(B?a.length=B:a=null);else{let k={instancePath:t+"/dependencies/"+w.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/dependencies/additionalProperties/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return a===null?a=[k]:a.push(k),o++,ye.errors=a,!1}var A=T===o;if(!A)break}else return ye.errors=[{instancePath:t+"/dependencies",schemaPath:"#/properties/dependencies/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=E===o}else var c=!0;if(c){if(e.propertyNames!==void 0){let b=o;ye(e.propertyNames,{instancePath:t+"/propertyNames",parentData:e,parentDataProperty:"propertyNames",rootData:s})||(a=a===null?ye.errors:a.concat(ye.errors),o=a.length);var c=b===o}else var c=!0;if(c){if(e.enum!==void 0){let b=e.enum,E=o;if(o===E)if(Array.isArray(b)){if(b.length<1)return ye.errors=[{instancePath:t+"/enum",schemaPath:"#/properties/enum/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{let w=b.length,S;if(w>1){e:for(;w--;)for(S=w;S--;)if(AH(b[w],b[S])){return ye.errors=[{instancePath:t+"/enum",schemaPath:"#/properties/enum/uniqueItems",keyword:"uniqueItems",params:{i:w,j:S},message:"must NOT have duplicate items (items ## "+S+" and "+w+" are identical)"}],!1;break e}}}}else return ye.errors=[{instancePath:t+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var c=E===o}else var c=!0;if(c){if(e.type!==void 0){let b=e.type,E=o,I=o,w=!1,S=o;if(!(b==="array"||b==="boolean"||b==="integer"||b==="null"||b==="number"||b==="object"||b==="string")){let B={instancePath:t+"/type",schemaPath:"#/definitions/simpleTypes/enum",keyword:"enum",params:{allowedValues:hH.enum},message:"must be equal to one of the allowed values"};a===null?a=[B]:a.push(B),o++}var y=S===o;if(w=w||y,!w){let B=o;if(o===B)if(Array.isArray(b))if(b.length<1){let O={instancePath:t+"/type",schemaPath:"#/properties/type/anyOf/1/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};a===null?a=[O]:a.push(O),o++}else{var v=!0;let O=b.length;for(let k=0;k<O;k++){let P=b[k],D=o;if(!(P==="array"||P==="boolean"||P==="integer"||P==="null"||P==="number"||P==="object"||P==="string")){let H={instancePath:t+"/type/"+k,schemaPath:"#/definitions/simpleTypes/enum",keyword:"enum",params:{allowedValues:hH.enum},message:"must be equal to one of the allowed values"};a===null?a=[H]:a.push(H),o++}var v=D===o;if(!v)break}if(v){let k=b.length,P;if(k>1){e:for(;k--;)for(P=k;P--;)if(AH(b[k],b[P])){let D={instancePath:t+"/type",schemaPath:"#/properties/type/anyOf/1/uniqueItems",keyword:"uniqueItems",params:{i:k,j:P},message:"must NOT have duplicate items (items ## "+P+" and "+k+" are identical)"};a===null?a=[D]:a.push(D),o++;break e}}}}else{let O={instancePath:t+"/type",schemaPath:"#/properties/type/anyOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};a===null?a=[O]:a.push(O),o++}var y=B===o;w=w||y}if(w)o=I,a!==null&&(I?a.length=I:a=null);else{let B={instancePath:t+"/type",schemaPath:"#/properties/type/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return a===null?a=[B]:a.push(B),o++,ye.errors=a,!1}var c=E===o}else var c=!0;if(c){if(e.format!==void 0){let b=o;if(typeof e.format!="string")return ye.errors=[{instancePath:t+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=b===o}else var c=!0;if(c){if(e.contentMediaType!==void 0){let b=o;if(typeof e.contentMediaType!="string")return ye.errors=[{instancePath:t+"/contentMediaType",schemaPath:"#/properties/contentMediaType/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=b===o}else var c=!0;if(c){if(e.contentEncoding!==void 0){let b=o;if(typeof e.contentEncoding!="string")return ye.errors=[{instancePath:t+"/contentEncoding",schemaPath:"#/properties/contentEncoding/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=b===o}else var c=!0;if(c){if(e.if!==void 0){let b=o;ye(e.if,{instancePath:t+"/if",parentData:e,parentDataProperty:"if",rootData:s})||(a=a===null?ye.errors:a.concat(ye.errors),o=a.length);var c=b===o}else var c=!0;if(c){if(e.then!==void 0){let b=o;ye(e.then,{instancePath:t+"/then",parentData:e,parentDataProperty:"then",rootData:s})||(a=a===null?ye.errors:a.concat(ye.errors),o=a.length);var c=b===o}else var c=!0;if(c){if(e.else!==void 0){let b=o;ye(e.else,{instancePath:t+"/else",parentData:e,parentDataProperty:"else",rootData:s})||(a=a===null?ye.errors:a.concat(ye.errors),o=a.length);var c=b===o}else var c=!0;if(c){if(e.allOf!==void 0){let b=o;us(e.allOf,{instancePath:t+"/allOf",parentData:e,parentDataProperty:"allOf",rootData:s})||(a=a===null?us.errors:a.concat(us.errors),o=a.length);var c=b===o}else var c=!0;if(c){if(e.anyOf!==void 0){let b=o;us(e.anyOf,{instancePath:t+"/anyOf",parentData:e,parentDataProperty:"anyOf",rootData:s})||(a=a===null?us.errors:a.concat(us.errors),o=a.length);var c=b===o}else var c=!0;if(c){if(e.oneOf!==void 0){let b=o;us(e.oneOf,{instancePath:t+"/oneOf",parentData:e,parentDataProperty:"oneOf",rootData:s})||(a=a===null?us.errors:a.concat(us.errors),o=a.length);var c=b===o}else var c=!0;if(c)if(e.not!==void 0){let b=o;ye(e.not,{instancePath:t+"/not",parentData:e,parentDataProperty:"not",rootData:s})||(a=a===null?ye.errors:a.concat(ye.errors),o=a.length);var c=b===o}else var c=!0}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}return ye.errors=a,o===0}});var jT=C((Udt,bH)=>{"use strict";var QT=class extends Error{constructor(t,r){super(),this.name="JsonSchemaMergeError",this.code="JSON_SCHEMA_MERGE_ERROR",this.message=`Failed to merge "${t}" keyword schemas.`,this.schemas=r}},UT=class extends Error{constructor(t,r){super(),this.name="JsonSchemaMergeError",this.code="JSON_SCHEMA_MERGE_ERROR",this.message=`Resolver for "${t}" keyword not found.`,this.schemas=r}},qT=class extends Error{constructor(t){super(),this.name="JsonSchemaMergeError",this.code="JSON_SCHEMA_MERGE_ERROR",this.message=`Invalid "onConflict" option: "${t}".`}};bH.exports={MergeError:QT,ResolverNotFoundError:UT,InvalidOnConflictOptionError:qT}});var vH=C((qdt,xH)=>{"use strict";var p4e=ai(),{MergeError:HT}=jT();function EH(e){let t=e[0];for(let r=1;r<e.length;r++)t=t.filter(n=>e[r].includes(n));return t}function h4e(e,t,r){let n=EH(t);if(n.length===0)throw new HT(e,t);r[e]=n}function m4e(e,t,r){for(let s=0;s<t.length;s++)Array.isArray(t[s])||(t[s]=[t[s]]);let n=EH(t);if(n.length===0)throw new HT(e,t);n.length===1?r[e]=n[0]:r[e]=n}function g4e(e,t,r){let n=[];for(let s of t)for(let a of s)n.includes(a)||n.push(a);r[e]=n}function A4e(e,t,r){r[e]=Math.min(...t)}function y4e(e,t,r){r[e]=Math.max(...t)}function b4e(e,t,r){let n=(c,u)=>u?n(u,c%u):c,s=(c,u)=>c*u/n(c,u),a=1;for(let c of t)for(;c*a%1!==0;)a*=10;let o=t[0]*a;for(let c of t)o=s(o,c*a);r[e]=o/a}function E4e(e,t,r){let n=t[0];for(let s=1;s<t.length;s++)if(!p4e(t[s],n))throw new HT(e,t);r[e]=n}function x4e(){}function v4e(e,t,r){for(let n of t)if(n===!1){r[e]=!1;return}r[e]=!0}function _4e(e,t,r){for(let n of t)if(n===!0){r[e]=!0;return}r[e]=!1}xH.exports={arraysIntersection:h4e,hybridArraysIntersection:m4e,arraysUnion:g4e,minNumber:A4e,maxNumber:y4e,commonMultiple:b4e,allEqual:E4e,booleanAnd:v4e,booleanOr:_4e,skip:x4e}});var TH=C((jdt,SH)=>{"use strict";var I4e=ai(),Sr=vH(),pb=jT(),CH={$id:Sr.skip,type:Sr.hybridArraysIntersection,enum:Sr.arraysIntersection,minLength:Sr.maxNumber,maxLength:Sr.minNumber,minimum:Sr.maxNumber,maximum:Sr.minNumber,multipleOf:Sr.commonMultiple,exclusiveMinimum:Sr.maxNumber,exclusiveMaximum:Sr.minNumber,minItems:Sr.maxNumber,maxItems:Sr.minNumber,maxProperties:Sr.minNumber,minProperties:Sr.maxNumber,const:Sr.allEqual,default:Sr.allEqual,format:Sr.allEqual,required:Sr.arraysUnion,properties:R4e,patternProperties:fb,additionalProperties:db,items:S4e,additionalItems:T4e,definitions:fb,$defs:fb,nullable:Sr.booleanAnd,oneOf:_H,anyOf:_H,allOf:Sr.arraysUnion,not:db,if:N4e,then:Sr.skip,else:Sr.skip,dependencies:IH,dependentRequired:IH,dependentSchemas:fb,propertyNames:db,uniqueItems:Sr.booleanOr,contains:db};function db(e,t,r,n,s){r[e]=Hi(t,s)}function C4e(e){let t=[[]];for(let r of e){let n=[];for(let s of t)for(let a of r)n.push([...s,a]);t=n}return t}function _H(e,t,r,n,s){if(t.length===1){r[e]=t[0];return}let a=C4e(t),o=[];for(let c of a)try{let u=Hi(c,s);u!==void 0&&o.push(u)}catch(u){if(u instanceof pb.MergeError)continue;throw u}r[e]=o}function w4e(e,t){let{items:r,additionalItems:n}=e;return Array.isArray(r)?t<r.length?r[t]:n:r!==void 0?r:n}function S4e(e,t,r,n,s){let a=0;for(let c of t)Array.isArray(c)&&(a=Math.max(a,c.length));if(a===0){r[e]=Hi(t,s);return}let o=[];for(let c=0;c<a;c++){let u=[];for(let l of n){let d=w4e(l,c);d!==void 0&&u.push(d)}o[c]=Hi(u,s)}r[e]=o}function T4e(e,t,r,n,s){let a=!1;for(let c of n)if(Array.isArray(c.items)){a=!0;break}if(!a){r[e]=Hi(t,s);return}let o=[];for(let c of n){let u=c.additionalItems;u===void 0&&!Array.isArray(c.items)&&(u=c.items),u!==void 0&&o.push(u)}r[e]=Hi(o,s)}function B4e(e,t){let{properties:r,patternProperties:n,additionalProperties:s}=e;if(r?.[t]!==void 0)return r[t];for(let a of Object.keys(n??{}))if(new RegExp(a).test(t))return n[a];return s}function R4e(e,t,r,n,s){let a={};for(let c of n){let u=c.properties??{};for(let l of Object.keys(u)){if(a[l]!==void 0)continue;let d=u[l];a[l]=[d];for(let f of n){if(c===f)continue;let p=B4e(f,l);p!==void 0&&a[l].push(p)}}}let o={};for(let c of Object.keys(a)){let u=a[c];o[c]=Hi(u,s)}r[e]=o}function fb(e,t,r,n,s){let a={};for(let c of t)for(let u of Object.keys(c))a[u]===void 0&&(a[u]=[]),a[u].push(c[u]);let o={};for(let c of Object.keys(a)){let u=a[c],l=Hi(u,s);o[c]=l}r[e]=o}function N4e(e,t,r,n,s){for(let a=0;a<n.length;a++){let o={if:n[a].if,then:n[a].then,else:n[a].else};if(o.if!==void 0){if(r.if===void 0){r.if=o.if,o.then!==void 0&&(r.then=o.then),o.else!==void 0&&(r.else=o.else);continue}r.then!==void 0&&(r.then=Hi([r.then,o],s)),r.else!==void 0&&(r.else=Hi([r.else,o],s))}}}function IH(e,t,r){let n={};for(let s of t)for(let a of Object.keys(s)){n[a]===void 0&&(n[a]=[]);let o=n[a];for(let c of s[a])o.includes(c)||o.push(c)}r[e]=n}function Hi(e,t){if(e.length===0)return{};if(e.length===1)return e[0];let r={},n={},s=!0;for(let a of e){if(a===!1)return!1;if(a!==!0){s=!1;for(let o of Object.keys(a))n[o]===void 0&&(n[o]=[]),n[o].push(a[o])}}if(s)return!0;for(let a of Object.keys(n)){let o=n[a];(t.resolvers[a]??t.defaultResolver)(a,o,r,e,t)}return r}function wH(e,t,r,n,s){let a=s.onConflict??"throw";if(t.length===1||a==="first"){r[e]=t[0];return}let o=!0;for(let c=1;c<t.length;c++)if(!I4e(t[c],t[0])){o=!1;break}if(o){r[e]=t[0];return}if(a==="throw")throw new pb.ResolverNotFoundError(e,t);if(a!=="skip")throw new pb.InvalidOnConflictOptionError(a)}function k4e(e,t={}){return t.defaultResolver===void 0&&(t.defaultResolver=wH),t.resolvers={...CH,...t.resolvers},Hi(e,t)}SH.exports={mergeSchemas:k4e,keywordsResolvers:CH,defaultResolver:wH,...pb}});var RH=C((Hdt,BH)=>{"use strict";var{mergeSchemas:D4e}=TH();function P4e(e){return D4e(e,{onConflict:"skip"})}BH.exports=P4e});var FH=C((zdt,sf)=>{"use strict";var{RefResolver:O4e}=dH(),$4e=qC(),L4e=FS(),nl=pH(),NH=yH(),M4e=RH(),F4e=/'/g,hb=2e4,DH="default",Q4e=["floor","ceil","round","trunc"],PH=["default","json-stringify"],yh=0;function zT(e,t){if(!NH(e)){t?t=`"${t}" `:t="";let r=NH.errors[0],n=new Error(`${t}schema is invalid: data${r.instancePath} ${r.message}`);throw n.errors=zT.errors,n}}function bh(e,t){let r=t.schema.$ref,n=r.indexOf("#");n===-1&&(n=r.length);let s=r.slice(0,n)||t.schemaId,a=r.slice(n)||"#",o=e.refResolver.getSchema(s,a);if(o===null)throw new Error(`Cannot find reference "${r}"`);let c=new nl(o,s,a);return o.$ref!==void 0?bh(e,c):c}function mb(e,t){let r=e.refResolver.getSchema(t,"#");return new nl(r,t,"#")}function kH(e,t){return e.$id&&e.$id.charAt(0)!=="#"?e.$id:t}function GT(e,t){zT(e),t=t||{};let r={functions:[],functionsCounter:0,functionsNamesBySchema:new Map,options:t,refResolver:new O4e,rootSchemaId:e.$id||`__fjs_root_${yh++}`,validatorSchemasIds:new Set,mergedSchemasIds:new Map},n=kH(e,r.rootSchemaId);if(r.refResolver.hasSchema(n)||r.refResolver.addSchema(e,r.rootSchemaId),t.schema)for(let d in t.schema){let f=t.schema[d],p=kH(f,d);r.refResolver.hasSchema(p)||(zT(f,d),r.refResolver.addSchema(f,d))}if(t.rounding&&!Q4e.includes(t.rounding))throw new Error(`Unsupported integer rounding method ${t.rounding}`);if(t.largeArrayMechanism)if(PH.includes(t.largeArrayMechanism))DH=t.largeArrayMechanism;else throw new Error(`Unsupported large array mechanism ${t.largeArrayMechanism}`);if(t.largeArraySize)if(typeof t.largeArraySize=="string"&&Number.isFinite(Number.parseInt(t.largeArraySize,10)))hb=Number.parseInt(t.largeArraySize,10);else if(typeof t.largeArraySize=="number"&&Number.isInteger(t.largeArraySize))hb=t.largeArraySize;else if(typeof t.largeArraySize=="bigint")hb=Number(t.largeArraySize);else throw new Error(`Unsupported large array size. Expected integer-like, got ${typeof t.largeArraySize} with value ${t.largeArraySize}`);let s=new nl(e,r.rootSchemaId),a=Ks(r,s,"input"),o=`
    const JSON_STR_BEGIN_OBJECT = '{'
    const JSON_STR_END_OBJECT = '}'
    const JSON_STR_BEGIN_ARRAY = '['
    const JSON_STR_END_ARRAY = ']'
    const JSON_STR_COMMA = ','
    const JSON_STR_COLONS = ':'
    const JSON_STR_QUOTE = '"'
    const JSON_STR_EMPTY_OBJECT = JSON_STR_BEGIN_OBJECT + JSON_STR_END_OBJECT
    const JSON_STR_EMPTY_ARRAY = JSON_STR_BEGIN_ARRAY + JSON_STR_END_ARRAY
    const JSON_STR_EMPTY_STRING = JSON_STR_QUOTE + JSON_STR_QUOTE
    const JSON_STR_NULL = 'null'
  `;a==="json += anonymous0(input)"?o+=`
    ${r.functions.join(`
`)}
    const main = anonymous0
    return main
    `:o+=`
    function main (input) {
      let json = ''
      ${a}
      return json
    }
    ${r.functions.join(`
`)}
    return main
    `;let c=new $4e(t),u=new L4e(t.ajv);for(let d of r.validatorSchemasIds){let f=r.refResolver.getSchema(d);u.addSchema(f,d);let p=r.refResolver.getSchemaDependencies(d);for(let[m,h]of Object.entries(p))u.addSchema(h,m)}if(t.debugMode&&(t.mode="debug"),t.mode==="debug")return{validator:u,serializer:c,code:`validator
serializer
${o}`,ajv:u.ajv};let l=new Function("validator","serializer",o);return t.mode==="standalone"?US()(l,r,c,u):l(u,c)}var U4e=["properties","required","additionalProperties","patternProperties","maxProperties","minProperties","dependencies"],q4e=["items","additionalItems","maxItems","minItems","uniqueItems","contains"],j4e=["maxLength","minLength","pattern"],H4e=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum"];function z4e(e){for(var t of U4e)if(t in e)return"object";for(var t of q4e)if(t in e)return"array";for(var t of j4e)if(t in e)return"string";for(var t of H4e)if(t in e)return"number";return e.type}function G4e(e,t,r){let n=t.schema,s=Object.keys(n.properties||{}),a=`
    const propertiesKeys = ${JSON.stringify(s)}
    for (const [key, value] of Object.entries(obj)) {
      if (
        propertiesKeys.includes(key) ||
        value === undefined ||
        typeof value === 'function' ||
        typeof value === 'symbol'
      ) continue
  `,o=t.getPropertyLocation("patternProperties"),c=o.schema;if(c!==void 0)for(let d in c){let f=o.getPropertyLocation(d);a+=`
        if (/${d.replace(/\\*\//g,"\\/")}/.test(key)) {
          ${r}
          json += serializer.asString(key) + JSON_STR_COLONS
          ${Ks(e,f,"value")}
          continue
        }
      `}let l=t.getPropertyLocation("additionalProperties").schema;if(l!==void 0)if(l===!0)a+=`
        ${r}
        json += serializer.asString(key) + JSON_STR_COLONS + JSON.stringify(value)
      `;else{let d=t.getPropertyLocation("additionalProperties");a+=`
        ${r}
        json += serializer.asString(key) + JSON_STR_COLONS
        ${Ks(e,d,"value")}
      `}return a+=`
    }
  `,a}function V4e(e,t){let r=t.schema,n=t.getPropertyLocation("properties"),s=r.required||[],a=Object.keys(r.properties||{}).sort((l,d)=>{let f=s.includes(l),p=s.includes(d);return f===p?0:f?-1:1}),o=s.includes(a[0]),c=`let value
`;for(let l of s)if(!a.includes(l)){let d=JSON.stringify(l);c+=`if (obj[${d}] === undefined) throw new Error('${d.replace(/'/g,"\\'")} is required!')
`}c+=`let json = JSON_STR_BEGIN_OBJECT
`;let u="";o||(c+=`let addComma = false
`,u="!addComma && (addComma = true) || (json += JSON_STR_COMMA)");for(let l of a){let d=n.getPropertyLocation(l);d.schema.$ref&&(d=bh(e,d));let f=JSON.stringify(l),p=d.schema.default,m=s.includes(l);c+=`
      value = obj[${f}]
      if (value !== undefined) {
        ${u}
        json += ${JSON.stringify(f+":")}
        ${Ks(e,d,"value")}
      }`,p!==void 0?c+=` else {
        ${u}
        json += ${JSON.stringify(f+":"+JSON.stringify(p))}
      }
      `:m?c+=` else {
        throw new Error('${f.replace(/'/g,"\\'")} is required!')
      }
      `:c+=`
`,o&&(u="json += ','")}return(r.patternProperties||r.additionalProperties)&&(c+=G4e(e,t,u)),c+=`
    return json + JSON_STR_END_OBJECT
  `,c}function gb(e,t,r){for(let o=0;o<r.length;o++){let c=r[o];c.schema.$ref&&(r[o]=bh(e,c))}let n=[];for(let o of r){let c=OH(e,o.schema,o.schemaId);delete c.$id,n.push(c)}let s=M4e(n),a=new nl(s,t);return e.refResolver.addSchema(s,t),a}function OH(e,t,r){let n=Array.isArray(t)?[]:{};t.$id!==void 0&&t.$id.charAt(0)!=="#"&&(r=t.$id);let s=e.mergedSchemasIds.get(t);s&&e.mergedSchemasIds.set(n,s);for(let a in t){let o=t[a];a==="$ref"&&typeof o=="string"&&o.charAt(0)==="#"&&(o=r+o),typeof o=="object"&&o!==null&&(o=OH(e,o,r)),n[a]=o}return n}function K4e(e){return`(${e} && typeof ${e}.toJSON === 'function')
    ? ${e}.toJSON()
    : ${e}
  `}function Y4e(e,t){let r=t.schema;if(e.functionsNamesBySchema.has(r))return e.functionsNamesBySchema.get(r);let n=LH(e);e.functionsNamesBySchema.set(r,n);let s=t.getSchemaRef();s.startsWith(e.rootSchemaId)&&(s=s.replace(e.rootSchemaId,""));let a=`
  `,o=r.nullable===!0;return a+=`
    // ${s}
    function ${n} (input) {
      const obj = ${K4e("input")}
      ${o?"":"if (obj === null) return JSON_STR_EMPTY_OBJECT"}

      ${V4e(e,t)}
    }
  `,e.functions.push(a),n}function W4e(e,t){let r=t.schema,n=t.getPropertyLocation("items");n.schema=n.schema||{},n.schema.$ref&&(n=bh(e,n));let s=n.schema;if(e.functionsNamesBySchema.has(r))return e.functionsNamesBySchema.get(r);let a=LH(e);e.functionsNamesBySchema.set(r,a);let o=t.getSchemaRef();o.startsWith(e.rootSchemaId)&&(o=o.replace(e.rootSchemaId,""));let c=`
    function ${a} (obj) {
      // ${o}
  `,u=r.nullable===!0;if(c+=`
    ${u?"":"if (obj === null) return JSON_STR_EMPTY_ARRAY"}
    if (!Array.isArray(obj)) {
      throw new TypeError(\`The value of '${o}' does not match schema definition.\`)
    }
    const arrayLength = obj.length
  `,!r.additionalItems&&Array.isArray(s)&&(c+=`
      if (arrayLength > ${s.length}) {
        throw new Error(\`Item at ${s.length} does not match schema definition.\`)
      }
    `),DH==="json-stringify"&&(c+=`if (arrayLength >= ${hb}) return JSON.stringify(obj)
`),c+=`
    const arrayEnd = arrayLength - 1
    let value
    let json = ''
  `,Array.isArray(s)){for(let l=0;l<s.length;l++){let d=s[l];c+=`value = obj[${l}]`;let f=Ks(e,n.getPropertyLocation(l),"value");c+=`
        if (${l} < arrayLength) {
          if (${$H(d.type,`[${l}]`)}) {
            ${f}
            if (${l} < arrayEnd) {
              json += JSON_STR_COMMA
            }
          } else {
            throw new Error(\`Item at ${l} does not match schema definition.\`)
          }
        }
        `}r.additionalItems&&(c+=`
        for (let i = ${s.length}; i < arrayLength; i++) {
          json += JSON.stringify(obj[i])
          if (i < arrayEnd) {
            json += JSON_STR_COMMA
          }
        }`)}else{let l=Ks(e,n,"obj[i]");c+=`
      for (let i = 0; i < arrayLength; i++) {
        ${l}
        if (i < arrayEnd) {
          json += JSON_STR_COMMA
        }
      }`}return c+=`
    return JSON_STR_BEGIN_ARRAY + json + JSON_STR_END_ARRAY
  }`,e.functions.push(c),a}function $H(e,t){let r;switch(e){case"null":r="value === null";break;case"string":r=`typeof value === 'string' ||
      value === null ||
      value instanceof Date ||
      value instanceof RegExp ||
      (
        typeof value === "object" &&
        typeof value.toString === "function" &&
        value.toString !== Object.prototype.toString
      )`;break;case"integer":r="Number.isInteger(value)";break;case"number":r="Number.isFinite(value)";break;case"boolean":r="typeof value === 'boolean'";break;case"object":r="value && typeof value === 'object' && value.constructor === Object";break;case"array":r="Array.isArray(value)";break;default:Array.isArray(e)&&(r=`(${e.map(s=>$H(s,t)).join(" || ")})`)}return r}function LH(e){return"anonymous"+e.functionsCounter++}function J4e(e,t,r){let s=t.schema.type.sort(c=>c==="null"?-1:1),a="";s.forEach((c,u)=>{t.schema={...t.schema,type:c};let l=MH(e,t,r),d=u===0?"if":"else if";switch(c){case"null":a+=`
          ${d} (${r} === null)
            ${l}
          `;break;case"string":{a+=`
          ${d}(
            typeof ${r} === "string" ||
            ${r} === null ||
            ${r} instanceof Date ||
            ${r} instanceof RegExp ||
            (
              typeof ${r} === "object" &&
              typeof ${r}.toString === "function" &&
              ${r}.toString !== Object.prototype.toString
            )
          )
            ${l}
        `;break}case"array":{a+=`
          ${d}(Array.isArray(${r}))
            ${l}
        `;break}case"integer":{a+=`
          ${d}(Number.isInteger(${r}) || ${r} === null)
            ${l}
        `;break}default:{a+=`
          ${d}(typeof ${r} === "${c}" || ${r} === null)
            ${l}
        `;break}}});let o=t.getSchemaRef();return o.startsWith(e.rootSchemaId)&&(o=o.replace(e.rootSchemaId,"")),a+=`
    else throw new TypeError(\`The value of '${o}' does not match schema definition.\`)
  `,a}function MH(e,t,r){let n=t.schema;switch(n.type){case"null":return"json += JSON_STR_NULL";case"string":return n.format==="date-time"?`json += serializer.asDateTime(${r})`:n.format==="date"?`json += serializer.asDate(${r})`:n.format==="time"?`json += serializer.asTime(${r})`:n.format==="unsafe"?`json += serializer.asUnsafeString(${r})`:`
        if (typeof ${r} !== 'string') {
          if (${r} === null) {
            json += JSON_STR_EMPTY_STRING
          } else if (${r} instanceof Date) {
            json += JSON_STR_QUOTE + ${r}.toISOString() + JSON_STR_QUOTE
          } else if (${r} instanceof RegExp) {
            json += serializer.asString(${r}.source)
          } else {
            json += serializer.asString(${r}.toString())
          }
        } else {
          json += serializer.asString(${r})
        }
        `;case"integer":return`json += serializer.asInteger(${r})`;case"number":return`json += serializer.asNumber(${r})`;case"boolean":return`json += serializer.asBoolean(${r})`;case"object":return`json += ${Y4e(e,t)}(${r})`;case"array":return`json += ${W4e(e,t)}(${r})`;case void 0:return`json += JSON.stringify(${r})`;default:throw new Error(`${n.type} unsupported`)}}function X4e(e,t){let r=e.schema,n=r.type,s=Array.isArray(n)&&n.includes("null"),a="";return s&&(a+=`
      if (${t} === null) {
        json += JSON_STR_NULL
      } else {
    `),a+=`json += '${JSON.stringify(r.const).replace(F4e,"\\'")}'`,s&&(a+=`
      }
    `),a}function Z4e(e,t,r){let n=t.schema,s=e.mergedSchemasIds.get(n);if(s){let d=mb(e,s);return Ks(e,d,r)}s=`__fjs_merged_${yh++}`,e.mergedSchemasIds.set(n,s);let{allOf:a,...o}=t.schema,c=[new nl(o,t.schemaId,t.jsonPointer)],u=t.getPropertyLocation("allOf");for(let d=0;d<a.length;d++)c.push(u.getPropertyLocation(d));let l=gb(e,s,c);return Ks(e,l,r)}function eRe(e,t,r){e.validatorSchemasIds.add(t.schemaId);let s=t.schema.anyOf?"anyOf":"oneOf",{[s]:a,...o}=t.schema,c=new nl(o,t.schemaId,t.jsonPointer),u=t.getPropertyLocation(s),l="";for(let f=0;f<a.length;f++){let p=u.getPropertyLocation(f),m=p.schema,h=e.mergedSchemasIds.get(m),g=null;h?g=mb(e,h):(h=`__fjs_merged_${yh++}`,e.mergedSchemasIds.set(m,h),g=gb(e,h,[c,p]));let A=Ks(e,g,r),y=p.getSchemaRef();l+=`
      ${f===0?"if":"else if"}(validator.validate("${y}", ${r}))
        ${A}
    `}let d=t.getSchemaRef();return d.startsWith(e.rootSchemaId)&&(d=d.replace(e.rootSchemaId,"")),l+=`
    else throw new TypeError(\`The value of '${d}' does not match schema definition.\`)
  `,l}function tRe(e,t,r){e.validatorSchemasIds.add(t.schemaId);let{if:n,then:s,else:a,...o}=t.schema,c=new nl(o,t.schemaId,t.jsonPointer),l=t.getPropertyLocation("if").getSchemaRef(),d=t.getPropertyLocation("then"),f=e.mergedSchemasIds.get(s),p=null;if(f?p=mb(e,f):(f=`__fjs_merged_${yh++}`,e.mergedSchemasIds.set(s,f),p=gb(e,f,[c,d])),!a)return`
      if (validator.validate("${l}", ${r})) {
        ${Ks(e,p,r)}
      } else {
        ${Ks(e,c,r)}
      }
    `;let m=t.getPropertyLocation("else"),h=e.mergedSchemasIds.get(a),g=null;return h?g=mb(e,h):(h=`__fjs_merged_${yh++}`,e.mergedSchemasIds.set(a,h),g=gb(e,h,[c,m])),`
    if (validator.validate("${l}", ${r})) {
      ${Ks(e,p,r)}
    } else {
      ${Ks(e,g,r)}
    }
  `}function Ks(e,t,r){let n=t.schema;if(typeof n=="boolean")return`json += JSON.stringify(${r})`;if(n.$ref&&(t=bh(e,t),n=t.schema),n.allOf)return Z4e(e,t,r);if(n.anyOf||n.oneOf)return eRe(e,t,r);if(n.if&&n.then)return tRe(e,t,r);if(n.type===void 0){let c=z4e(n);c&&(n.type=c)}let s="",a=n.type,o=n.nullable===!0;return o&&(s+=`
      if (${r} === null) {
        json += JSON_STR_NULL
      } else {
    `),n.const!==void 0?s+=X4e(t,r):Array.isArray(a)?s+=J4e(e,t,r):s+=MH(e,t,r),o&&(s+=`
      }
    `),s}sf.exports=GT;sf.exports.default=GT;sf.exports.build=GT;sf.exports.validLargeArrayMechanisms=PH;sf.exports.restore=function({code:e,validator:t,serializer:r}){return Function.apply(null,["validator","serializer",e]).apply(null,[t,r])}});var UH=C((Gdt,VT)=>{"use strict";var rRe=KT();function QH(e={readMode:!0}){if(e.readMode===!0&&typeof e.restoreFunction!="function")throw new Error("You must provide a function for the restoreFunction-option when readMode ON");if(e.readMode!==!0&&typeof e.storeFunction!="function")throw new Error("You must provide a function for the storeFunction-option when readMode OFF");if(e.readMode===!0)return function(){return function(n){return e.restoreFunction(n)}};let t=rRe();return function(n,s={}){s.mode="standalone";let a=t(n,s);return function(o){let c=a(o);return e.storeFunction(o,c),new Function(c)}}}VT.exports=QH;VT.exports.default=QH});var KT=C((Vdt,Eh)=>{"use strict";var nRe=FH();function YT(){return function(t,r){let n=Object.assign({},r,{schema:t});return sRe.bind(null,n)}}function sRe(e,{schema:t}){return e.schema&&t.$id&&e.schema[t.$id]&&(e.schema={...e.schema},delete e.schema[t.$id]),nRe(t,e)}Eh.exports=YT;Eh.exports.default=YT;Eh.exports.SerializerSelector=YT;Eh.exports.StandaloneSerializer=UH()});var af=C(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.regexpCode=Lt.getEsmExportName=Lt.getProperty=Lt.safeStringify=Lt.stringify=Lt.strConcat=Lt.addCodeArg=Lt.str=Lt._=Lt.nil=Lt._Code=Lt.Name=Lt.IDENTIFIER=Lt._CodeOrName=void 0;var xh=class{};Lt._CodeOrName=xh;Lt.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var sl=class extends xh{constructor(t){if(super(),!Lt.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};Lt.Name=sl;var fi=class extends xh{constructor(t){super(),this._items=typeof t=="string"?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let t=this._items[0];return t===""||t==='""'}get str(){var t;return(t=this._str)!==null&&t!==void 0?t:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var t;return(t=this._names)!==null&&t!==void 0?t:this._names=this._items.reduce((r,n)=>(n instanceof sl&&(r[n.str]=(r[n.str]||0)+1),r),{})}};Lt._Code=fi;Lt.nil=new fi("");function qH(e,...t){let r=[e[0]],n=0;for(;n<t.length;)JT(r,t[n]),r.push(e[++n]);return new fi(r)}Lt._=qH;var WT=new fi("+");function jH(e,...t){let r=[vh(e[0])],n=0;for(;n<t.length;)r.push(WT),JT(r,t[n]),r.push(WT,vh(e[++n]));return iRe(r),new fi(r)}Lt.str=jH;function JT(e,t){t instanceof fi?e.push(...t._items):t instanceof sl?e.push(t):e.push(cRe(t))}Lt.addCodeArg=JT;function iRe(e){let t=1;for(;t<e.length-1;){if(e[t]===WT){let r=aRe(e[t-1],e[t+1]);if(r!==void 0){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}function aRe(e,t){if(t==='""')return e;if(e==='""')return t;if(typeof e=="string")return t instanceof sl||e[e.length-1]!=='"'?void 0:typeof t!="string"?`${e.slice(0,-1)}${t}"`:t[0]==='"'?e.slice(0,-1)+t.slice(1):void 0;if(typeof t=="string"&&t[0]==='"'&&!(e instanceof sl))return`"${e}${t.slice(1)}`}function oRe(e,t){return t.emptyStr()?e:e.emptyStr()?t:jH`${e}${t}`}Lt.strConcat=oRe;function cRe(e){return typeof e=="number"||typeof e=="boolean"||e===null?e:vh(Array.isArray(e)?e.join(","):e)}function uRe(e){return new fi(vh(e))}Lt.stringify=uRe;function vh(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}Lt.safeStringify=vh;function lRe(e){return typeof e=="string"&&Lt.IDENTIFIER.test(e)?new fi(`.${e}`):qH`[${e}]`}Lt.getProperty=lRe;function dRe(e){if(typeof e=="string"&&Lt.IDENTIFIER.test(e))return new fi(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)}Lt.getEsmExportName=dRe;function fRe(e){return new fi(e.toString())}Lt.regexpCode=fRe});var Eb=C(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.ValueScope=Ss.ValueScopeName=Ss.Scope=Ss.varKinds=Ss.UsedValueState=void 0;var ws=af(),XT=class extends Error{constructor(t){super(`CodeGen: "code" for ${t} not defined`),this.value=t.value}},Ab;(function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"})(Ab||(Ss.UsedValueState=Ab={}));Ss.varKinds={const:new ws.Name("const"),let:new ws.Name("let"),var:new ws.Name("var")};var yb=class{constructor({prefixes:t,parent:r}={}){this._names={},this._prefixes=t,this._parent=r}toName(t){return t instanceof ws.Name?t:this.name(t)}name(t){return new ws.Name(this._newName(t))}_newName(t){let r=this._names[t]||this._nameGroup(t);return`${t}${r.index++}`}_nameGroup(t){var r,n;if(!((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0)&&n.has(t)||this._prefixes&&!this._prefixes.has(t))throw new Error(`CodeGen: prefix "${t}" is not allowed in this scope`);return this._names[t]={prefix:t,index:0}}};Ss.Scope=yb;var bb=class extends ws.Name{constructor(t,r){super(r),this.prefix=t}setValue(t,{property:r,itemIndex:n}){this.value=t,this.scopePath=(0,ws._)`.${new ws.Name(r)}[${n}]`}};Ss.ValueScopeName=bb;var pRe=(0,ws._)`\n`,ZT=class extends yb{constructor(t){super(t),this._values={},this._scope=t.scope,this.opts={...t,_n:t.lines?pRe:ws.nil}}get(){return this._scope}name(t){return new bb(t,this._newName(t))}value(t,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let s=this.toName(t),{prefix:a}=s,o=(n=r.key)!==null&&n!==void 0?n:r.ref,c=this._values[a];if(c){let d=c.get(o);if(d)return d}else c=this._values[a]=new Map;c.set(o,s);let u=this._scope[a]||(this._scope[a]=[]),l=u.length;return u[l]=r.ref,s.setValue(r,{property:a,itemIndex:l}),s}getValue(t,r){let n=this._values[t];if(n)return n.get(r)}scopeRefs(t,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return(0,ws._)`${t}${n.scopePath}`})}scopeCode(t=this._values,r,n){return this._reduceValues(t,s=>{if(s.value===void 0)throw new Error(`CodeGen: name "${s}" has no value`);return s.value.code},r,n)}_reduceValues(t,r,n={},s){let a=ws.nil;for(let o in t){let c=t[o];if(!c)continue;let u=n[o]=n[o]||new Map;c.forEach(l=>{if(u.has(l))return;u.set(l,Ab.Started);let d=r(l);if(d){let f=this.opts.es5?Ss.varKinds.var:Ss.varKinds.const;a=(0,ws._)`${a}${f} ${l} = ${d};${this.opts._n}`}else if(d=s?.(l))a=(0,ws._)`${a}${d}${this.opts._n}`;else throw new XT(l);u.set(l,Ab.Completed)})}return a}};Ss.ValueScope=ZT});var je=C(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.or=ft.and=ft.not=ft.CodeGen=ft.operators=ft.varKinds=ft.ValueScopeName=ft.ValueScope=ft.Scope=ft.Name=ft.regexpCode=ft.stringify=ft.getProperty=ft.nil=ft.strConcat=ft.str=ft._=void 0;var wt=af(),zi=Eb(),Ic=af();Object.defineProperty(ft,"_",{enumerable:!0,get:function(){return Ic._}});Object.defineProperty(ft,"str",{enumerable:!0,get:function(){return Ic.str}});Object.defineProperty(ft,"strConcat",{enumerable:!0,get:function(){return Ic.strConcat}});Object.defineProperty(ft,"nil",{enumerable:!0,get:function(){return Ic.nil}});Object.defineProperty(ft,"getProperty",{enumerable:!0,get:function(){return Ic.getProperty}});Object.defineProperty(ft,"stringify",{enumerable:!0,get:function(){return Ic.stringify}});Object.defineProperty(ft,"regexpCode",{enumerable:!0,get:function(){return Ic.regexpCode}});Object.defineProperty(ft,"Name",{enumerable:!0,get:function(){return Ic.Name}});var Ib=Eb();Object.defineProperty(ft,"Scope",{enumerable:!0,get:function(){return Ib.Scope}});Object.defineProperty(ft,"ValueScope",{enumerable:!0,get:function(){return Ib.ValueScope}});Object.defineProperty(ft,"ValueScopeName",{enumerable:!0,get:function(){return Ib.ValueScopeName}});Object.defineProperty(ft,"varKinds",{enumerable:!0,get:function(){return Ib.varKinds}});ft.operators={GT:new wt._Code(">"),GTE:new wt._Code(">="),LT:new wt._Code("<"),LTE:new wt._Code("<="),EQ:new wt._Code("==="),NEQ:new wt._Code("!=="),NOT:new wt._Code("!"),OR:new wt._Code("||"),AND:new wt._Code("&&"),ADD:new wt._Code("+")};var go=class{optimizeNodes(){return this}optimizeNames(t,r){return this}},e3=class extends go{constructor(t,r,n){super(),this.varKind=t,this.name=r,this.rhs=n}render({es5:t,_n:r}){let n=t?zi.varKinds.var:this.varKind,s=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${s};`+r}optimizeNames(t,r){if(t[this.name.str])return this.rhs&&(this.rhs=cf(this.rhs,t,r)),this}get names(){return this.rhs instanceof wt._CodeOrName?this.rhs.names:{}}},xb=class extends go{constructor(t,r,n){super(),this.lhs=t,this.rhs=r,this.sideEffects=n}render({_n:t}){return`${this.lhs} = ${this.rhs};`+t}optimizeNames(t,r){if(!(this.lhs instanceof wt.Name&&!t[this.lhs.str]&&!this.sideEffects))return this.rhs=cf(this.rhs,t,r),this}get names(){let t=this.lhs instanceof wt.Name?{}:{...this.lhs.names};return _b(t,this.rhs)}},t3=class extends xb{constructor(t,r,n,s){super(t,n,s),this.op=r}render({_n:t}){return`${this.lhs} ${this.op}= ${this.rhs};`+t}},r3=class extends go{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`${this.label}:`+t}},n3=class extends go{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`break${this.label?` ${this.label}`:""};`+t}},s3=class extends go{constructor(t){super(),this.error=t}render({_n:t}){return`throw ${this.error};`+t}get names(){return this.error.names}},i3=class extends go{constructor(t){super(),this.code=t}render({_n:t}){return`${this.code};`+t}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(t,r){return this.code=cf(this.code,t,r),this}get names(){return this.code instanceof wt._CodeOrName?this.code.names:{}}},_h=class extends go{constructor(t=[]){super(),this.nodes=t}render(t){return this.nodes.reduce((r,n)=>r+n.render(t),"")}optimizeNodes(){let{nodes:t}=this,r=t.length;for(;r--;){let n=t[r].optimizeNodes();Array.isArray(n)?t.splice(r,1,...n):n?t[r]=n:t.splice(r,1)}return t.length>0?this:void 0}optimizeNames(t,r){let{nodes:n}=this,s=n.length;for(;s--;){let a=n[s];a.optimizeNames(t,r)||(hRe(t,a.names),n.splice(s,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((t,r)=>ol(t,r.names),{})}},Ao=class extends _h{render(t){return"{"+t._n+super.render(t)+"}"+t._n}},a3=class extends _h{},of=class extends Ao{};of.kind="else";var il=class e extends Ao{constructor(t,r){super(r),this.condition=t}render(t){let r=`if(${this.condition})`+super.render(t);return this.else&&(r+="else "+this.else.render(t)),r}optimizeNodes(){super.optimizeNodes();let t=this.condition;if(t===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new of(n):n}if(r)return t===!1?r instanceof e?r:r.nodes:this.nodes.length?this:new e(HH(t),r instanceof e?[r]:r.nodes);if(!(t===!1||!this.nodes.length))return this}optimizeNames(t,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(t,r),!!(super.optimizeNames(t,r)||this.else))return this.condition=cf(this.condition,t,r),this}get names(){let t=super.names;return _b(t,this.condition),this.else&&ol(t,this.else.names),t}};il.kind="if";var al=class extends Ao{};al.kind="for";var o3=class extends al{constructor(t){super(),this.iteration=t}render(t){return`for(${this.iteration})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iteration=cf(this.iteration,t,r),this}get names(){return ol(super.names,this.iteration.names)}},c3=class extends al{constructor(t,r,n,s){super(),this.varKind=t,this.name=r,this.from=n,this.to=s}render(t){let r=t.es5?zi.varKinds.var:this.varKind,{name:n,from:s,to:a}=this;return`for(${r} ${n}=${s}; ${n}<${a}; ${n}++)`+super.render(t)}get names(){let t=_b(super.names,this.from);return _b(t,this.to)}},vb=class extends al{constructor(t,r,n,s){super(),this.loop=t,this.varKind=r,this.name=n,this.iterable=s}render(t){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iterable=cf(this.iterable,t,r),this}get names(){return ol(super.names,this.iterable.names)}},Ih=class extends Ao{constructor(t,r,n){super(),this.name=t,this.args=r,this.async=n}render(t){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(t)}};Ih.kind="func";var Ch=class extends _h{render(t){return"return "+super.render(t)}};Ch.kind="return";var u3=class extends Ao{render(t){let r="try"+super.render(t);return this.catch&&(r+=this.catch.render(t)),this.finally&&(r+=this.finally.render(t)),r}optimizeNodes(){var t,r;return super.optimizeNodes(),(t=this.catch)===null||t===void 0||t.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(t,r){var n,s;return super.optimizeNames(t,r),(n=this.catch)===null||n===void 0||n.optimizeNames(t,r),(s=this.finally)===null||s===void 0||s.optimizeNames(t,r),this}get names(){let t=super.names;return this.catch&&ol(t,this.catch.names),this.finally&&ol(t,this.finally.names),t}},wh=class extends Ao{constructor(t){super(),this.error=t}render(t){return`catch(${this.error})`+super.render(t)}};wh.kind="catch";var Sh=class extends Ao{render(t){return"finally"+super.render(t)}};Sh.kind="finally";var l3=class{constructor(t,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...r,_n:r.lines?`
`:""},this._extScope=t,this._scope=new zi.Scope({parent:t}),this._nodes=[new a3]}toString(){return this._root.render(this.opts)}name(t){return this._scope.name(t)}scopeName(t){return this._extScope.name(t)}scopeValue(t,r){let n=this._extScope.value(t,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(t,r){return this._extScope.getValue(t,r)}scopeRefs(t){return this._extScope.scopeRefs(t,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(t,r,n,s){let a=this._scope.toName(r);return n!==void 0&&s&&(this._constants[a.str]=n),this._leafNode(new e3(t,a,n)),a}const(t,r,n){return this._def(zi.varKinds.const,t,r,n)}let(t,r,n){return this._def(zi.varKinds.let,t,r,n)}var(t,r,n){return this._def(zi.varKinds.var,t,r,n)}assign(t,r,n){return this._leafNode(new xb(t,r,n))}add(t,r){return this._leafNode(new t3(t,ft.operators.ADD,r))}code(t){return typeof t=="function"?t():t!==wt.nil&&this._leafNode(new i3(t)),this}object(...t){let r=["{"];for(let[n,s]of t)r.length>1&&r.push(","),r.push(n),(n!==s||this.opts.es5)&&(r.push(":"),(0,wt.addCodeArg)(r,s));return r.push("}"),new wt._Code(r)}if(t,r,n){if(this._blockNode(new il(t)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(t){return this._elseNode(new il(t))}else(){return this._elseNode(new of)}endIf(){return this._endBlockNode(il,of)}_for(t,r){return this._blockNode(t),r&&this.code(r).endFor(),this}for(t,r){return this._for(new o3(t),r)}forRange(t,r,n,s,a=this.opts.es5?zi.varKinds.var:zi.varKinds.let){let o=this._scope.toName(t);return this._for(new c3(a,o,r,n),()=>s(o))}forOf(t,r,n,s=zi.varKinds.const){let a=this._scope.toName(t);if(this.opts.es5){let o=r instanceof wt.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,wt._)`${o}.length`,c=>{this.var(a,(0,wt._)`${o}[${c}]`),n(a)})}return this._for(new vb("of",s,a,r),()=>n(a))}forIn(t,r,n,s=this.opts.es5?zi.varKinds.var:zi.varKinds.const){if(this.opts.ownProperties)return this.forOf(t,(0,wt._)`Object.keys(${r})`,n);let a=this._scope.toName(t);return this._for(new vb("in",s,a,r),()=>n(a))}endFor(){return this._endBlockNode(al)}label(t){return this._leafNode(new r3(t))}break(t){return this._leafNode(new n3(t))}return(t){let r=new Ch;if(this._blockNode(r),this.code(t),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Ch)}try(t,r,n){if(!r&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let s=new u3;if(this._blockNode(s),this.code(t),r){let a=this.name("e");this._currNode=s.catch=new wh(a),r(a)}return n&&(this._currNode=s.finally=new Sh,this.code(n)),this._endBlockNode(wh,Sh)}throw(t){return this._leafNode(new s3(t))}block(t,r){return this._blockStarts.push(this._nodes.length),t&&this.code(t).endBlock(r),this}endBlock(t){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||t!==void 0&&n!==t)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${t} expected`);return this._nodes.length=r,this}func(t,r=wt.nil,n,s){return this._blockNode(new Ih(t,r,n)),s&&this.code(s).endFunc(),this}endFunc(){return this._endBlockNode(Ih)}optimize(t=1){for(;t-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(t){return this._currNode.nodes.push(t),this}_blockNode(t){this._currNode.nodes.push(t),this._nodes.push(t)}_endBlockNode(t,r){let n=this._currNode;if(n instanceof t||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${t.kind}/${r.kind}`:t.kind}"`)}_elseNode(t){let r=this._currNode;if(!(r instanceof il))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=t,this}get _root(){return this._nodes[0]}get _currNode(){let t=this._nodes;return t[t.length-1]}set _currNode(t){let r=this._nodes;r[r.length-1]=t}};ft.CodeGen=l3;function ol(e,t){for(let r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function _b(e,t){return t instanceof wt._CodeOrName?ol(e,t.names):e}function cf(e,t,r){if(e instanceof wt.Name)return n(e);if(!s(e))return e;return new wt._Code(e._items.reduce((a,o)=>(o instanceof wt.Name&&(o=n(o)),o instanceof wt._Code?a.push(...o._items):a.push(o),a),[]));function n(a){let o=r[a.str];return o===void 0||t[a.str]!==1?a:(delete t[a.str],o)}function s(a){return a instanceof wt._Code&&a._items.some(o=>o instanceof wt.Name&&t[o.str]===1&&r[o.str]!==void 0)}}function hRe(e,t){for(let r in t)e[r]=(e[r]||0)-(t[r]||0)}function HH(e){return typeof e=="boolean"||typeof e=="number"||e===null?!e:(0,wt._)`!${d3(e)}`}ft.not=HH;var mRe=zH(ft.operators.AND);function gRe(...e){return e.reduce(mRe)}ft.and=gRe;var ARe=zH(ft.operators.OR);function yRe(...e){return e.reduce(ARe)}ft.or=yRe;function zH(e){return(t,r)=>t===wt.nil?r:r===wt.nil?t:(0,wt._)`${d3(t)} ${e} ${d3(r)}`}function d3(e){return e instanceof wt.Name?e:(0,wt._)`(${e})`}});var ct=C(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.checkStrictMode=yt.getErrorPath=yt.Type=yt.useFunc=yt.setEvaluated=yt.evaluatedPropsToName=yt.mergeEvaluated=yt.eachItem=yt.unescapeJsonPointer=yt.escapeJsonPointer=yt.escapeFragment=yt.unescapeFragment=yt.schemaRefOrVal=yt.schemaHasRulesButRef=yt.schemaHasRules=yt.checkUnknownRules=yt.alwaysValidSchema=yt.toHash=void 0;var ur=je(),bRe=af();function ERe(e){let t={};for(let r of e)t[r]=!0;return t}yt.toHash=ERe;function xRe(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(KH(e,t),!YH(t,e.self.RULES.all))}yt.alwaysValidSchema=xRe;function KH(e,t=e.schema){let{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;let s=n.RULES.keywords;for(let a in t)s[a]||XH(e,`unknown keyword: "${a}"`)}yt.checkUnknownRules=KH;function YH(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(t[r])return!0;return!1}yt.schemaHasRules=YH;function vRe(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}yt.schemaHasRulesButRef=vRe;function _Re({topSchemaRef:e,schemaPath:t},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,ur._)`${r}`}return(0,ur._)`${e}${t}${(0,ur.getProperty)(n)}`}yt.schemaRefOrVal=_Re;function IRe(e){return WH(decodeURIComponent(e))}yt.unescapeFragment=IRe;function CRe(e){return encodeURIComponent(p3(e))}yt.escapeFragment=CRe;function p3(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}yt.escapeJsonPointer=p3;function WH(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}yt.unescapeJsonPointer=WH;function wRe(e,t){if(Array.isArray(e))for(let r of e)t(r);else t(e)}yt.eachItem=wRe;function GH({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(s,a,o,c)=>{let u=o===void 0?a:o instanceof ur.Name?(a instanceof ur.Name?e(s,a,o):t(s,a,o),o):a instanceof ur.Name?(t(s,o,a),a):r(a,o);return c===ur.Name&&!(u instanceof ur.Name)?n(s,u):u}}yt.mergeEvaluated={props:GH({mergeNames:(e,t,r)=>e.if((0,ur._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,ur._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,ur._)`${r} || {}`).code((0,ur._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,ur._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,ur._)`${r} || {}`),h3(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:JH}),items:GH({mergeNames:(e,t,r)=>e.if((0,ur._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,ur._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,ur._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,ur._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function JH(e,t){if(t===!0)return e.var("props",!0);let r=e.var("props",(0,ur._)`{}`);return t!==void 0&&h3(e,r,t),r}yt.evaluatedPropsToName=JH;function h3(e,t,r){Object.keys(r).forEach(n=>e.assign((0,ur._)`${t}${(0,ur.getProperty)(n)}`,!0))}yt.setEvaluated=h3;var VH={};function SRe(e,t){return e.scopeValue("func",{ref:t,code:VH[t.code]||(VH[t.code]=new bRe._Code(t.code))})}yt.useFunc=SRe;var f3;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(f3||(yt.Type=f3={}));function TRe(e,t,r){if(e instanceof ur.Name){let n=t===f3.Num;return r?n?(0,ur._)`"[" + ${e} + "]"`:(0,ur._)`"['" + ${e} + "']"`:n?(0,ur._)`"/" + ${e}`:(0,ur._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,ur.getProperty)(e).toString():"/"+p3(e)}yt.getErrorPath=TRe;function XH(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}yt.checkStrictMode=XH});var pi=C(m3=>{"use strict";Object.defineProperty(m3,"__esModule",{value:!0});var jn=je(),BRe={data:new jn.Name("data"),valCxt:new jn.Name("valCxt"),instancePath:new jn.Name("instancePath"),parentData:new jn.Name("parentData"),parentDataProperty:new jn.Name("parentDataProperty"),rootData:new jn.Name("rootData"),dynamicAnchors:new jn.Name("dynamicAnchors"),vErrors:new jn.Name("vErrors"),errors:new jn.Name("errors"),this:new jn.Name("this"),self:new jn.Name("self"),scope:new jn.Name("scope"),json:new jn.Name("json"),jsonPos:new jn.Name("jsonPos"),jsonLen:new jn.Name("jsonLen"),jsonPart:new jn.Name("jsonPart")};m3.default=BRe});var Th=C(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});Hn.extendErrors=Hn.resetErrorsCount=Hn.reportExtraError=Hn.reportError=Hn.keyword$DataError=Hn.keywordError=void 0;var Rt=je(),Cb=ct(),ls=pi();Hn.keywordError={message:({keyword:e})=>(0,Rt.str)`must pass "${e}" keyword validation`};Hn.keyword$DataError={message:({keyword:e,schemaType:t})=>t?(0,Rt.str)`"${e}" keyword must be ${t} ($data)`:(0,Rt.str)`"${e}" keyword is invalid ($data)`};function RRe(e,t=Hn.keywordError,r,n){let{it:s}=e,{gen:a,compositeRule:o,allErrors:c}=s,u=tz(e,t,r);n??(o||c)?ZH(a,u):ez(s,(0,Rt._)`[${u}]`)}Hn.reportError=RRe;function NRe(e,t=Hn.keywordError,r){let{it:n}=e,{gen:s,compositeRule:a,allErrors:o}=n,c=tz(e,t,r);ZH(s,c),a||o||ez(n,ls.default.vErrors)}Hn.reportExtraError=NRe;function kRe(e,t){e.assign(ls.default.errors,t),e.if((0,Rt._)`${ls.default.vErrors} !== null`,()=>e.if(t,()=>e.assign((0,Rt._)`${ls.default.vErrors}.length`,t),()=>e.assign(ls.default.vErrors,null)))}Hn.resetErrorsCount=kRe;function DRe({gen:e,keyword:t,schemaValue:r,data:n,errsCount:s,it:a}){if(s===void 0)throw new Error("ajv implementation error");let o=e.name("err");e.forRange("i",s,ls.default.errors,c=>{e.const(o,(0,Rt._)`${ls.default.vErrors}[${c}]`),e.if((0,Rt._)`${o}.instancePath === undefined`,()=>e.assign((0,Rt._)`${o}.instancePath`,(0,Rt.strConcat)(ls.default.instancePath,a.errorPath))),e.assign((0,Rt._)`${o}.schemaPath`,(0,Rt.str)`${a.errSchemaPath}/${t}`),a.opts.verbose&&(e.assign((0,Rt._)`${o}.schema`,r),e.assign((0,Rt._)`${o}.data`,n))})}Hn.extendErrors=DRe;function ZH(e,t){let r=e.const("err",t);e.if((0,Rt._)`${ls.default.vErrors} === null`,()=>e.assign(ls.default.vErrors,(0,Rt._)`[${r}]`),(0,Rt._)`${ls.default.vErrors}.push(${r})`),e.code((0,Rt._)`${ls.default.errors}++`)}function ez(e,t){let{gen:r,validateName:n,schemaEnv:s}=e;s.$async?r.throw((0,Rt._)`new ${e.ValidationError}(${t})`):(r.assign((0,Rt._)`${n}.errors`,t),r.return(!1))}var cl={keyword:new Rt.Name("keyword"),schemaPath:new Rt.Name("schemaPath"),params:new Rt.Name("params"),propertyName:new Rt.Name("propertyName"),message:new Rt.Name("message"),schema:new Rt.Name("schema"),parentSchema:new Rt.Name("parentSchema")};function tz(e,t,r){let{createErrors:n}=e.it;return n===!1?(0,Rt._)`{}`:PRe(e,t,r)}function PRe(e,t,r={}){let{gen:n,it:s}=e,a=[ORe(s,r),$Re(e,r)];return LRe(e,t,a),n.object(...a)}function ORe({errorPath:e},{instancePath:t}){let r=t?(0,Rt.str)`${e}${(0,Cb.getErrorPath)(t,Cb.Type.Str)}`:e;return[ls.default.instancePath,(0,Rt.strConcat)(ls.default.instancePath,r)]}function $Re({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:n}){let s=n?t:(0,Rt.str)`${t}/${e}`;return r&&(s=(0,Rt.str)`${s}${(0,Cb.getErrorPath)(r,Cb.Type.Str)}`),[cl.schemaPath,s]}function LRe(e,{params:t,message:r},n){let{keyword:s,data:a,schemaValue:o,it:c}=e,{opts:u,propertyName:l,topSchemaRef:d,schemaPath:f}=c;n.push([cl.keyword,s],[cl.params,typeof t=="function"?t(e):t||(0,Rt._)`{}`]),u.messages&&n.push([cl.message,typeof r=="function"?r(e):r]),u.verbose&&n.push([cl.schema,o],[cl.parentSchema,(0,Rt._)`${d}${f}`],[ls.default.data,a]),l&&n.push([cl.propertyName,l])}});var nz=C(uf=>{"use strict";Object.defineProperty(uf,"__esModule",{value:!0});uf.boolOrEmptySchema=uf.topBoolOrEmptySchema=void 0;var MRe=Th(),FRe=je(),QRe=pi(),URe={message:"boolean schema is false"};function qRe(e){let{gen:t,schema:r,validateName:n}=e;r===!1?rz(e,!1):typeof r=="object"&&r.$async===!0?t.return(QRe.default.data):(t.assign((0,FRe._)`${n}.errors`,null),t.return(!0))}uf.topBoolOrEmptySchema=qRe;function jRe(e,t){let{gen:r,schema:n}=e;n===!1?(r.var(t,!1),rz(e)):r.var(t,!0)}uf.boolOrEmptySchema=jRe;function rz(e,t){let{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,MRe.reportError)(s,URe,void 0,t)}});var g3=C(lf=>{"use strict";Object.defineProperty(lf,"__esModule",{value:!0});lf.getRules=lf.isJSONType=void 0;var HRe=["string","number","integer","boolean","null","object","array"],zRe=new Set(HRe);function GRe(e){return typeof e=="string"&&zRe.has(e)}lf.isJSONType=GRe;function VRe(){let e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}lf.getRules=VRe});var A3=C(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});Cc.shouldUseRule=Cc.shouldUseGroup=Cc.schemaHasRulesForType=void 0;function KRe({schema:e,self:t},r){let n=t.RULES.types[r];return n&&n!==!0&&sz(e,n)}Cc.schemaHasRulesForType=KRe;function sz(e,t){return t.rules.some(r=>iz(e,r))}Cc.shouldUseGroup=sz;function iz(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Cc.shouldUseRule=iz});var Bh=C(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});zn.reportTypeError=zn.checkDataTypes=zn.checkDataType=zn.coerceAndCheckDataType=zn.getJSONTypes=zn.getSchemaTypes=zn.DataType=void 0;var YRe=g3(),WRe=A3(),JRe=Th(),nt=je(),az=ct(),df;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(df||(zn.DataType=df={}));function XRe(e){let t=oz(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}zn.getSchemaTypes=XRe;function oz(e){let t=Array.isArray(e)?e:e?[e]:[];if(t.every(YRe.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}zn.getJSONTypes=oz;function ZRe(e,t){let{gen:r,data:n,opts:s}=e,a=eNe(t,s.coerceTypes),o=t.length>0&&!(a.length===0&&t.length===1&&(0,WRe.schemaHasRulesForType)(e,t[0]));if(o){let c=b3(t,n,s.strictNumbers,df.Wrong);r.if(c,()=>{a.length?tNe(e,t,a):E3(e)})}return o}zn.coerceAndCheckDataType=ZRe;var cz=new Set(["string","number","integer","boolean","null"]);function eNe(e,t){return t?e.filter(r=>cz.has(r)||t==="array"&&r==="array"):[]}function tNe(e,t,r){let{gen:n,data:s,opts:a}=e,o=n.let("dataType",(0,nt._)`typeof ${s}`),c=n.let("coerced",(0,nt._)`undefined`);a.coerceTypes==="array"&&n.if((0,nt._)`${o} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,nt._)`${s}[0]`).assign(o,(0,nt._)`typeof ${s}`).if(b3(t,s,a.strictNumbers),()=>n.assign(c,s))),n.if((0,nt._)`${c} !== undefined`);for(let l of r)(cz.has(l)||l==="array"&&a.coerceTypes==="array")&&u(l);n.else(),E3(e),n.endIf(),n.if((0,nt._)`${c} !== undefined`,()=>{n.assign(s,c),rNe(e,c)});function u(l){switch(l){case"string":n.elseIf((0,nt._)`${o} == "number" || ${o} == "boolean"`).assign(c,(0,nt._)`"" + ${s}`).elseIf((0,nt._)`${s} === null`).assign(c,(0,nt._)`""`);return;case"number":n.elseIf((0,nt._)`${o} == "boolean" || ${s} === null
              || (${o} == "string" && ${s} && ${s} == +${s})`).assign(c,(0,nt._)`+${s}`);return;case"integer":n.elseIf((0,nt._)`${o} === "boolean" || ${s} === null
              || (${o} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(c,(0,nt._)`+${s}`);return;case"boolean":n.elseIf((0,nt._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(c,!1).elseIf((0,nt._)`${s} === "true" || ${s} === 1`).assign(c,!0);return;case"null":n.elseIf((0,nt._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(c,null);return;case"array":n.elseIf((0,nt._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${s} === null`).assign(c,(0,nt._)`[${s}]`)}}}function rNe({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,nt._)`${t} !== undefined`,()=>e.assign((0,nt._)`${t}[${r}]`,n))}function y3(e,t,r,n=df.Correct){let s=n===df.Correct?nt.operators.EQ:nt.operators.NEQ,a;switch(e){case"null":return(0,nt._)`${t} ${s} null`;case"array":a=(0,nt._)`Array.isArray(${t})`;break;case"object":a=(0,nt._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":a=o((0,nt._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":a=o();break;default:return(0,nt._)`typeof ${t} ${s} ${e}`}return n===df.Correct?a:(0,nt.not)(a);function o(c=nt.nil){return(0,nt.and)((0,nt._)`typeof ${t} == "number"`,c,r?(0,nt._)`isFinite(${t})`:nt.nil)}}zn.checkDataType=y3;function b3(e,t,r,n){if(e.length===1)return y3(e[0],t,r,n);let s,a=(0,az.toHash)(e);if(a.array&&a.object){let o=(0,nt._)`typeof ${t} != "object"`;s=a.null?o:(0,nt._)`!${t} || ${o}`,delete a.null,delete a.array,delete a.object}else s=nt.nil;a.number&&delete a.integer;for(let o in a)s=(0,nt.and)(s,y3(o,t,r,n));return s}zn.checkDataTypes=b3;var nNe={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,nt._)`{type: ${e}}`:(0,nt._)`{type: ${t}}`};function E3(e){let t=sNe(e);(0,JRe.reportError)(t,nNe)}zn.reportTypeError=E3;function sNe(e){let{gen:t,data:r,schema:n}=e,s=(0,az.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:e}}});var lz=C(wb=>{"use strict";Object.defineProperty(wb,"__esModule",{value:!0});wb.assignDefaults=void 0;var ff=je(),iNe=ct();function aNe(e,t){let{properties:r,items:n}=e.schema;if(t==="object"&&r)for(let s in r)uz(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,a)=>uz(e,a,s.default))}wb.assignDefaults=aNe;function uz(e,t,r){let{gen:n,compositeRule:s,data:a,opts:o}=e;if(r===void 0)return;let c=(0,ff._)`${a}${(0,ff.getProperty)(t)}`;if(s){(0,iNe.checkStrictMode)(e,`default is ignored for: ${c}`);return}let u=(0,ff._)`${c} === undefined`;o.useDefaults==="empty"&&(u=(0,ff._)`${u} || ${c} === null || ${c} === ""`),n.if(u,(0,ff._)`${c} = ${(0,ff.stringify)(r)}`)}});var wn=C(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.validateUnion=Zt.validateArray=Zt.usePattern=Zt.callValidateCode=Zt.schemaProperties=Zt.allSchemaProperties=Zt.noPropertyInData=Zt.propertyInData=Zt.isOwnProperty=Zt.hasPropFunc=Zt.reportMissingProp=Zt.checkMissingProp=Zt.checkReportMissingProp=void 0;var xr=je(),x3=ct(),wc=pi(),oNe=ct();function cNe(e,t){let{gen:r,data:n,it:s}=e;r.if(_3(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,xr._)`${t}`},!0),e.error()})}Zt.checkReportMissingProp=cNe;function uNe({gen:e,data:t,it:{opts:r}},n,s){return(0,xr.or)(...n.map(a=>(0,xr.and)(_3(e,t,a,r.ownProperties),(0,xr._)`${s} = ${a}`)))}Zt.checkMissingProp=uNe;function lNe(e,t){e.setParams({missingProperty:t},!0),e.error()}Zt.reportMissingProp=lNe;function dz(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,xr._)`Object.prototype.hasOwnProperty`})}Zt.hasPropFunc=dz;function v3(e,t,r){return(0,xr._)`${dz(e)}.call(${t}, ${r})`}Zt.isOwnProperty=v3;function dNe(e,t,r,n){let s=(0,xr._)`${t}${(0,xr.getProperty)(r)} !== undefined`;return n?(0,xr._)`${s} && ${v3(e,t,r)}`:s}Zt.propertyInData=dNe;function _3(e,t,r,n){let s=(0,xr._)`${t}${(0,xr.getProperty)(r)} === undefined`;return n?(0,xr.or)(s,(0,xr.not)(v3(e,t,r))):s}Zt.noPropertyInData=_3;function fz(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Zt.allSchemaProperties=fz;function fNe(e,t){return fz(t).filter(r=>!(0,x3.alwaysValidSchema)(e,t[r]))}Zt.schemaProperties=fNe;function pNe({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:a},it:o},c,u,l){let d=l?(0,xr._)`${e}, ${t}, ${n}${s}`:t,f=[[wc.default.instancePath,(0,xr.strConcat)(wc.default.instancePath,a)],[wc.default.parentData,o.parentData],[wc.default.parentDataProperty,o.parentDataProperty],[wc.default.rootData,wc.default.rootData]];o.opts.dynamicRef&&f.push([wc.default.dynamicAnchors,wc.default.dynamicAnchors]);let p=(0,xr._)`${d}, ${r.object(...f)}`;return u!==xr.nil?(0,xr._)`${c}.call(${u}, ${p})`:(0,xr._)`${c}(${p})`}Zt.callValidateCode=pNe;var hNe=(0,xr._)`new RegExp`;function mNe({gen:e,it:{opts:t}},r){let n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,a=s(r,n);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,xr._)`${s.code==="new RegExp"?hNe:(0,oNe.useFunc)(e,s)}(${r}, ${n})`})}Zt.usePattern=mNe;function gNe(e){let{gen:t,data:r,keyword:n,it:s}=e,a=t.name("valid");if(s.allErrors){let c=t.let("valid",!0);return o(()=>t.assign(c,!1)),c}return t.var(a,!0),o(()=>t.break()),a;function o(c){let u=t.const("len",(0,xr._)`${r}.length`);t.forRange("i",0,u,l=>{e.subschema({keyword:n,dataProp:l,dataPropType:x3.Type.Num},a),t.if((0,xr.not)(a),c)})}}Zt.validateArray=gNe;function ANe(e){let{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(u=>(0,x3.alwaysValidSchema)(s,u))&&!s.opts.unevaluated)return;let o=t.let("valid",!1),c=t.name("_valid");t.block(()=>r.forEach((u,l)=>{let d=e.subschema({keyword:n,schemaProp:l,compositeRule:!0},c);t.assign(o,(0,xr._)`${o} || ${c}`),e.mergeValidEvaluated(d,c)||t.if((0,xr.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}Zt.validateUnion=ANe});var mz=C(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.validateKeywordUsage=wa.validSchemaType=wa.funcKeywordCode=wa.macroKeywordCode=void 0;var ds=je(),ul=pi(),yNe=wn(),bNe=Th();function ENe(e,t){let{gen:r,keyword:n,schema:s,parentSchema:a,it:o}=e,c=t.macro.call(o.self,s,a,o),u=hz(r,n,c);o.opts.validateSchema!==!1&&o.self.validateSchema(c,!0);let l=r.name("valid");e.subschema({schema:c,schemaPath:ds.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:u,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}wa.macroKeywordCode=ENe;function xNe(e,t){var r;let{gen:n,keyword:s,schema:a,parentSchema:o,$data:c,it:u}=e;_Ne(u,t);let l=!c&&t.compile?t.compile.call(u.self,a,o,u):t.validate,d=hz(n,s,l),f=n.let("valid");e.block$data(f,p),e.ok((r=t.valid)!==null&&r!==void 0?r:f);function p(){if(t.errors===!1)g(),t.modifying&&pz(e),A(()=>e.error());else{let y=t.async?m():h();t.modifying&&pz(e),A(()=>vNe(e,y))}}function m(){let y=n.let("ruleErrs",null);return n.try(()=>g((0,ds._)`await `),v=>n.assign(f,!1).if((0,ds._)`${v} instanceof ${u.ValidationError}`,()=>n.assign(y,(0,ds._)`${v}.errors`),()=>n.throw(v))),y}function h(){let y=(0,ds._)`${d}.errors`;return n.assign(y,null),g(ds.nil),y}function g(y=t.async?(0,ds._)`await `:ds.nil){let v=u.opts.passContext?ul.default.this:ul.default.self,b=!("compile"in t&&!c||t.schema===!1);n.assign(f,(0,ds._)`${y}${(0,yNe.callValidateCode)(e,d,v,b)}`,t.modifying)}function A(y){var v;n.if((0,ds.not)((v=t.valid)!==null&&v!==void 0?v:f),y)}}wa.funcKeywordCode=xNe;function pz(e){let{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,ds._)`${n.parentData}[${n.parentDataProperty}]`))}function vNe(e,t){let{gen:r}=e;r.if((0,ds._)`Array.isArray(${t})`,()=>{r.assign(ul.default.vErrors,(0,ds._)`${ul.default.vErrors} === null ? ${t} : ${ul.default.vErrors}.concat(${t})`).assign(ul.default.errors,(0,ds._)`${ul.default.vErrors}.length`),(0,bNe.extendErrors)(e)},()=>e.error())}function _Ne({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function hz(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,ds.stringify)(r)})}function INe(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}wa.validSchemaType=INe;function CNe({schema:e,opts:t,self:r,errSchemaPath:n},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error("ajv implementation error");let o=s.dependencies;if(o?.some(c=>!Object.prototype.hasOwnProperty.call(e,c)))throw new Error(`parent schema must have dependencies of ${a}: ${o.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[a])){let u=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(u);else throw new Error(u)}}wa.validateKeywordUsage=CNe});var Az=C(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.extendSubschemaMode=Sc.extendSubschemaData=Sc.getSubschema=void 0;var Sa=je(),gz=ct();function wNe(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:a,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){let c=e.schema[t];return r===void 0?{schema:c,schemaPath:(0,Sa._)`${e.schemaPath}${(0,Sa.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:c[r],schemaPath:(0,Sa._)`${e.schemaPath}${(0,Sa.getProperty)(t)}${(0,Sa.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,gz.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||a===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:o,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}Sc.getSubschema=wNe;function SNe(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:a,propertyName:o}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:c}=t;if(r!==void 0){let{errorPath:l,dataPathArr:d,opts:f}=t,p=c.let("data",(0,Sa._)`${t.data}${(0,Sa.getProperty)(r)}`,!0);u(p),e.errorPath=(0,Sa.str)`${l}${(0,gz.getErrorPath)(r,n,f.jsPropertySyntax)}`,e.parentDataProperty=(0,Sa._)`${r}`,e.dataPathArr=[...d,e.parentDataProperty]}if(s!==void 0){let l=s instanceof Sa.Name?s:c.let("data",s,!0);u(l),o!==void 0&&(e.propertyName=o)}a&&(e.dataTypes=a);function u(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}Sc.extendSubschemaData=SNe;function TNe(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:a}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),a!==void 0&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=r}Sc.extendSubschemaMode=TNe});var bz=C((cft,yz)=>{"use strict";var Tc=yz.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};Sb(t,n,s,e,"",e)};Tc.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Tc.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Tc.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Tc.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Sb(e,t,r,n,s,a,o,c,u,l){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,a,o,c,u,l);for(var d in n){var f=n[d];if(Array.isArray(f)){if(d in Tc.arrayKeywords)for(var p=0;p<f.length;p++)Sb(e,t,r,f[p],s+"/"+d+"/"+p,a,s,d,n,p)}else if(d in Tc.propsKeywords){if(f&&typeof f=="object")for(var m in f)Sb(e,t,r,f[m],s+"/"+d+"/"+BNe(m),a,s,d,n,m)}else(d in Tc.keywords||e.allKeys&&!(d in Tc.skipKeywords))&&Sb(e,t,r,f,s+"/"+d,a,s,d,n)}r(n,s,a,o,c,u,l)}}function BNe(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}});var Rh=C(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.getSchemaRefs=Ts.resolveUrl=Ts.normalizeId=Ts._getFullPath=Ts.getFullPath=Ts.inlineRef=void 0;var RNe=ct(),NNe=ai(),kNe=bz(),DNe=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function PNe(e,t=!0){return typeof e=="boolean"?!0:t===!0?!I3(e):t?Ez(e)<=t:!1}Ts.inlineRef=PNe;var ONe=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function I3(e){for(let t in e){if(ONe.has(t))return!0;let r=e[t];if(Array.isArray(r)&&r.some(I3)||typeof r=="object"&&I3(r))return!0}return!1}function Ez(e){let t=0;for(let r in e){if(r==="$ref")return 1/0;if(t++,!DNe.has(r)&&(typeof e[r]=="object"&&(0,RNe.eachItem)(e[r],n=>t+=Ez(n)),t===1/0))return 1/0}return t}function xz(e,t="",r){r!==!1&&(t=pf(t));let n=e.parse(t);return vz(e,n)}Ts.getFullPath=xz;function vz(e,t){return e.serialize(t).split("#")[0]+"#"}Ts._getFullPath=vz;var $Ne=/#\/?$/;function pf(e){return e?e.replace($Ne,""):""}Ts.normalizeId=pf;function LNe(e,t,r){return r=pf(r),e.resolve(t,r)}Ts.resolveUrl=LNe;var MNe=/^[a-z_][-a-z0-9._]*$/i;function FNe(e,t){if(typeof e=="boolean")return{};let{schemaId:r,uriResolver:n}=this.opts,s=pf(e[r]||t),a={"":s},o=xz(n,s,!1),c={},u=new Set;return kNe(e,{allKeys:!0},(f,p,m,h)=>{if(h===void 0)return;let g=o+p,A=a[h];typeof f[r]=="string"&&(A=y.call(this,f[r])),v.call(this,f.$anchor),v.call(this,f.$dynamicAnchor),a[p]=A;function y(b){let E=this.opts.uriResolver.resolve;if(b=pf(A?E(A,b):b),u.has(b))throw d(b);u.add(b);let I=this.refs[b];return typeof I=="string"&&(I=this.refs[I]),typeof I=="object"?l(f,I.schema,b):b!==pf(g)&&(b[0]==="#"?(l(f,c[b],b),c[b]=f):this.refs[b]=g),b}function v(b){if(typeof b=="string"){if(!MNe.test(b))throw new Error(`invalid anchor "${b}"`);y.call(this,`#${b}`)}}}),c;function l(f,p,m){if(p!==void 0&&!NNe(f,p))throw d(m)}function d(f){return new Error(`reference "${f}" resolves to more than one schema`)}}Ts.getSchemaRefs=FNe});var hf=C(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.getData=Bc.KeywordCxt=Bc.validateFunctionCode=void 0;var Sz=nz(),_z=Bh(),w3=A3(),Tb=Bh(),QNe=lz(),kh=mz(),C3=Az(),Fe=je(),Ye=pi(),UNe=Rh(),yo=ct(),Nh=Th();function qNe(e){if(Rz(e)&&(Nz(e),Bz(e))){zNe(e);return}Tz(e,()=>(0,Sz.topBoolOrEmptySchema)(e))}Bc.validateFunctionCode=qNe;function Tz({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},a){s.code.es5?e.func(t,(0,Fe._)`${Ye.default.data}, ${Ye.default.valCxt}`,n.$async,()=>{e.code((0,Fe._)`"use strict"; ${Iz(r,s)}`),HNe(e,s),e.code(a)}):e.func(t,(0,Fe._)`${Ye.default.data}, ${jNe(s)}`,n.$async,()=>e.code(Iz(r,s)).code(a))}function jNe(e){return(0,Fe._)`{${Ye.default.instancePath}="", ${Ye.default.parentData}, ${Ye.default.parentDataProperty}, ${Ye.default.rootData}=${Ye.default.data}${e.dynamicRef?(0,Fe._)`, ${Ye.default.dynamicAnchors}={}`:Fe.nil}}={}`}function HNe(e,t){e.if(Ye.default.valCxt,()=>{e.var(Ye.default.instancePath,(0,Fe._)`${Ye.default.valCxt}.${Ye.default.instancePath}`),e.var(Ye.default.parentData,(0,Fe._)`${Ye.default.valCxt}.${Ye.default.parentData}`),e.var(Ye.default.parentDataProperty,(0,Fe._)`${Ye.default.valCxt}.${Ye.default.parentDataProperty}`),e.var(Ye.default.rootData,(0,Fe._)`${Ye.default.valCxt}.${Ye.default.rootData}`),t.dynamicRef&&e.var(Ye.default.dynamicAnchors,(0,Fe._)`${Ye.default.valCxt}.${Ye.default.dynamicAnchors}`)},()=>{e.var(Ye.default.instancePath,(0,Fe._)`""`),e.var(Ye.default.parentData,(0,Fe._)`undefined`),e.var(Ye.default.parentDataProperty,(0,Fe._)`undefined`),e.var(Ye.default.rootData,Ye.default.data),t.dynamicRef&&e.var(Ye.default.dynamicAnchors,(0,Fe._)`{}`)})}function zNe(e){let{schema:t,opts:r,gen:n}=e;Tz(e,()=>{r.$comment&&t.$comment&&Dz(e),WNe(e),n.let(Ye.default.vErrors,null),n.let(Ye.default.errors,0),r.unevaluated&&GNe(e),kz(e),ZNe(e)})}function GNe(e){let{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,Fe._)`${r}.evaluated`),t.if((0,Fe._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,Fe._)`${e.evaluated}.props`,(0,Fe._)`undefined`)),t.if((0,Fe._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,Fe._)`${e.evaluated}.items`,(0,Fe._)`undefined`))}function Iz(e,t){let r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,Fe._)`/*# sourceURL=${r} */`:Fe.nil}function VNe(e,t){if(Rz(e)&&(Nz(e),Bz(e))){KNe(e,t);return}(0,Sz.boolOrEmptySchema)(e,t)}function Bz({schema:e,self:t}){if(typeof e=="boolean")return!e;for(let r in e)if(t.RULES.all[r])return!0;return!1}function Rz(e){return typeof e.schema!="boolean"}function KNe(e,t){let{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&Dz(e),JNe(e),XNe(e);let a=n.const("_errs",Ye.default.errors);kz(e,a),n.var(t,(0,Fe._)`${a} === ${Ye.default.errors}`)}function Nz(e){(0,yo.checkUnknownRules)(e),YNe(e)}function kz(e,t){if(e.opts.jtd)return Cz(e,[],!1,t);let r=(0,_z.getSchemaTypes)(e.schema),n=(0,_z.coerceAndCheckDataType)(e,r);Cz(e,r,!n,t)}function YNe(e){let{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,yo.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function WNe(e){let{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,yo.checkStrictMode)(e,"default is ignored in the schema root")}function JNe(e){let t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,UNe.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function XNe(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function Dz({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){let a=r.$comment;if(s.$comment===!0)e.code((0,Fe._)`${Ye.default.self}.logger.log(${a})`);else if(typeof s.$comment=="function"){let o=(0,Fe.str)`${n}/$comment`,c=e.scopeValue("root",{ref:t.root});e.code((0,Fe._)`${Ye.default.self}.opts.$comment(${a}, ${o}, ${c}.schema)`)}}function ZNe(e){let{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:a}=e;r.$async?t.if((0,Fe._)`${Ye.default.errors} === 0`,()=>t.return(Ye.default.data),()=>t.throw((0,Fe._)`new ${s}(${Ye.default.vErrors})`)):(t.assign((0,Fe._)`${n}.errors`,Ye.default.vErrors),a.unevaluated&&eke(e),t.return((0,Fe._)`${Ye.default.errors} === 0`))}function eke({gen:e,evaluated:t,props:r,items:n}){r instanceof Fe.Name&&e.assign((0,Fe._)`${t}.props`,r),n instanceof Fe.Name&&e.assign((0,Fe._)`${t}.items`,n)}function Cz(e,t,r,n){let{gen:s,schema:a,data:o,allErrors:c,opts:u,self:l}=e,{RULES:d}=l;if(a.$ref&&(u.ignoreKeywordsWithRef||!(0,yo.schemaHasRulesButRef)(a,d))){s.block(()=>Oz(e,"$ref",d.all.$ref.definition));return}u.jtd||tke(e,t),s.block(()=>{for(let p of d.rules)f(p);f(d.post)});function f(p){(0,w3.shouldUseGroup)(a,p)&&(p.type?(s.if((0,Tb.checkDataType)(p.type,o,u.strictNumbers)),wz(e,p),t.length===1&&t[0]===p.type&&r&&(s.else(),(0,Tb.reportTypeError)(e)),s.endIf()):wz(e,p),c||s.if((0,Fe._)`${Ye.default.errors} === ${n||0}`))}}function wz(e,t){let{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,QNe.assignDefaults)(e,t.type),r.block(()=>{for(let a of t.rules)(0,w3.shouldUseRule)(n,a)&&Oz(e,a.keyword,a.definition,t.type)})}function tke(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(rke(e,t),e.opts.allowUnionTypes||nke(e,t),ske(e,e.dataTypes))}function rke(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{Pz(e.dataTypes,r)||S3(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),ake(e,t)}}function nke(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&S3(e,"use allowUnionTypes to allow union type keyword")}function ske(e,t){let r=e.self.RULES.all;for(let n in r){let s=r[n];if(typeof s=="object"&&(0,w3.shouldUseRule)(e.schema,s)){let{type:a}=s.definition;a.length&&!a.some(o=>ike(t,o))&&S3(e,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function ike(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function Pz(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function ake(e,t){let r=[];for(let n of e.dataTypes)Pz(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function S3(e,t){let r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,yo.checkStrictMode)(e,t,e.opts.strictTypes)}var Bb=class{constructor(t,r,n){if((0,kh.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,yo.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",$z(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,kh.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",Ye.default.errors))}result(t,r,n){this.failResult((0,Fe.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,Fe.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);let{schemaCode:r}=this;this.fail((0,Fe._)`${r} !== undefined && (${(0,Fe.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Nh.reportExtraError:Nh.reportError)(this,this.def.error,r)}$dataError(){(0,Nh.reportError)(this,this.def.$dataError||Nh.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Nh.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=Fe.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=Fe.nil,r=Fe.nil){if(!this.$data)return;let{gen:n,schemaCode:s,schemaType:a,def:o}=this;n.if((0,Fe.or)((0,Fe._)`${s} === undefined`,r)),t!==Fe.nil&&n.assign(t,!0),(a.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==Fe.nil&&n.assign(t,!1)),n.else()}invalid$data(){let{gen:t,schemaCode:r,schemaType:n,def:s,it:a}=this;return(0,Fe.or)(o(),c());function o(){if(n.length){if(!(r instanceof Fe.Name))throw new Error("ajv implementation error");let u=Array.isArray(n)?n:[n];return(0,Fe._)`${(0,Tb.checkDataTypes)(u,r,a.opts.strictNumbers,Tb.DataType.Wrong)}`}return Fe.nil}function c(){if(s.validateSchema){let u=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,Fe._)`!${u}(${r})`}return Fe.nil}}subschema(t,r){let n=(0,C3.getSubschema)(this.it,t);(0,C3.extendSubschemaData)(n,this.it,t),(0,C3.extendSubschemaMode)(n,t);let s={...this.it,...n,items:void 0,props:void 0};return VNe(s,r),s}mergeEvaluated(t,r){let{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=yo.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=yo.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){let{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,Fe.Name)),!0}};Bc.KeywordCxt=Bb;function Oz(e,t,r,n){let s=new Bb(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,kh.funcKeywordCode)(s,r):"macro"in r?(0,kh.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,kh.funcKeywordCode)(s,r)}var oke=/^\/(?:[^~]|~0|~1)*$/,cke=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function $z(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,a;if(e==="")return Ye.default.rootData;if(e[0]==="/"){if(!oke.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,a=Ye.default.rootData}else{let l=cke.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);let d=+l[1];if(s=l[2],s==="#"){if(d>=t)throw new Error(u("property/index",d));return n[t-d]}if(d>t)throw new Error(u("data",d));if(a=r[t-d],!s)return a}let o=a,c=s.split("/");for(let l of c)l&&(a=(0,Fe._)`${a}${(0,Fe.getProperty)((0,yo.unescapeJsonPointer)(l))}`,o=(0,Fe._)`${o} && ${a}`);return o;function u(l,d){return`Cannot access ${l} ${d} levels up, current level is ${t}`}}Bc.getData=$z});var Dh=C(B3=>{"use strict";Object.defineProperty(B3,"__esModule",{value:!0});var T3=class extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}};B3.default=T3});var bo=C(k3=>{"use strict";Object.defineProperty(k3,"__esModule",{value:!0});var R3=Rh(),N3=class extends Error{constructor(t,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,R3.resolveUrl)(t,r,n),this.missingSchema=(0,R3.normalizeId)((0,R3.getFullPath)(t,this.missingRef))}};k3.default=N3});var dl=C(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.resolveSchema=hi.getCompilingSchema=hi.resolveRef=hi.compileSchema=hi.SchemaEnv=void 0;var Gi=je(),uke=Dh(),ll=pi(),Vi=Rh(),Lz=ct(),lke=hf(),mf=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Vi.normalizeId)(n?.[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n?.$async,this.refs={}}};hi.SchemaEnv=mf;function P3(e){let t=Mz.call(this,e);if(t)return t;let r=(0,Vi.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:a}=this.opts,o=new Gi.CodeGen(this.scope,{es5:n,lines:s,ownProperties:a}),c;e.$async&&(c=o.scopeValue("Error",{ref:uke.default,code:(0,Gi._)`require("ajv/dist/runtime/validation_error").default`}));let u=o.scopeName("validate");e.validateName=u;let l={gen:o,allErrors:this.opts.allErrors,data:ll.default.data,parentData:ll.default.parentData,parentDataProperty:ll.default.parentDataProperty,dataNames:[ll.default.data],dataPathArr:[Gi.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Gi.stringify)(e.schema)}:{ref:e.schema}),validateName:u,ValidationError:c,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Gi.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Gi._)`""`,opts:this.opts,self:this},d;try{this._compilations.add(e),(0,lke.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);let f=o.toString();d=`${o.scopeRefs(ll.default.scope)}return ${f}`,this.opts.code.process&&(d=this.opts.code.process(d,e));let m=new Function(`${ll.default.self}`,`${ll.default.scope}`,d)(this,this.scope.get());if(this.scope.value(u,{ref:m}),m.errors=null,m.schema=e.schema,m.schemaEnv=e,e.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:u,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){let{props:h,items:g}=l;m.evaluated={props:h instanceof Gi.Name?void 0:h,items:g instanceof Gi.Name?void 0:g,dynamicProps:h instanceof Gi.Name,dynamicItems:g instanceof Gi.Name},m.source&&(m.source.evaluated=(0,Gi.stringify)(m.evaluated))}return e.validate=m,e}catch(f){throw delete e.validate,delete e.validateName,d&&this.logger.error("Error compiling schema, function code:",d),f}finally{this._compilations.delete(e)}}hi.compileSchema=P3;function dke(e,t,r){var n;r=(0,Vi.resolveUrl)(this.opts.uriResolver,t,r);let s=e.refs[r];if(s)return s;let a=hke.call(this,e,r);if(a===void 0){let o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:c}=this.opts;o&&(a=new mf({schema:o,schemaId:c,root:e,baseId:t}))}if(a!==void 0)return e.refs[r]=fke.call(this,a)}hi.resolveRef=dke;function fke(e){return(0,Vi.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:P3.call(this,e)}function Mz(e){for(let t of this._compilations)if(pke(t,e))return t}hi.getCompilingSchema=Mz;function pke(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function hke(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Rb.call(this,e,t)}function Rb(e,t){let r=this.opts.uriResolver.parse(t),n=(0,Vi._getFullPath)(this.opts.uriResolver,r),s=(0,Vi.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return D3.call(this,r,e);let a=(0,Vi.normalizeId)(n),o=this.refs[a]||this.schemas[a];if(typeof o=="string"){let c=Rb.call(this,e,o);return typeof c?.schema!="object"?void 0:D3.call(this,r,c)}if(typeof o?.schema=="object"){if(o.validate||P3.call(this,o),a===(0,Vi.normalizeId)(t)){let{schema:c}=o,{schemaId:u}=this.opts,l=c[u];return l&&(s=(0,Vi.resolveUrl)(this.opts.uriResolver,s,l)),new mf({schema:c,schemaId:u,root:e,baseId:s})}return D3.call(this,r,o)}}hi.resolveSchema=Rb;var mke=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function D3(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(let c of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let u=r[(0,Lz.unescapeFragment)(c)];if(u===void 0)return;r=u;let l=typeof r=="object"&&r[this.opts.schemaId];!mke.has(c)&&l&&(t=(0,Vi.resolveUrl)(this.opts.uriResolver,t,l))}let a;if(typeof r!="boolean"&&r.$ref&&!(0,Lz.schemaHasRulesButRef)(r,this.RULES)){let c=(0,Vi.resolveUrl)(this.opts.uriResolver,t,r.$ref);a=Rb.call(this,n,c)}let{schemaId:o}=this.opts;if(a=a||new mf({schema:r,schemaId:o,root:n,baseId:t}),a.schema!==a.root.schema)return a}});var Fz=C((hft,gke)=>{gke.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var $3=C((mft,jz)=>{"use strict";var Ake=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),Uz=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function O3(e){let t="",r=0,n=0;for(n=0;n<e.length;n++)if(r=e[n].charCodeAt(0),r!==48){if(!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n];break}for(n+=1;n<e.length;n++){if(r=e[n].charCodeAt(0),!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n]}return t}var yke=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function Qz(e){return e.length=0,!0}function bke(e,t,r){if(e.length){let n=O3(e);if(n!=="")t.push(n);else return r.error=!0,!1;e.length=0}return!0}function Eke(e){let t=0,r={error:!1,address:"",zone:""},n=[],s=[],a=!1,o=!1,c=bke;for(let u=0;u<e.length;u++){let l=e[u];if(!(l==="["||l==="]"))if(l===":"){if(a===!0&&(o=!0),!c(s,n,r))break;if(++t>7){r.error=!0;break}u>0&&e[u-1]===":"&&(a=!0),n.push(":");continue}else if(l==="%"){if(!c(s,n,r))break;c=Qz}else{s.push(l);continue}}return s.length&&(c===Qz?r.zone=s.join(""):o?n.push(s.join("")):n.push(O3(s))),r.address=n.join(""),r}function qz(e){if(xke(e,":")<2)return{host:e,isIPV6:!1};let t=Eke(e);if(t.error)return{host:e,isIPV6:!1};{let r=t.address,n=t.address;return t.zone&&(r+="%"+t.zone,n+="%25"+t.zone),{host:r,isIPV6:!0,escapedHost:n}}}function xke(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}function vke(e){let t=e,r=[],n=-1,s=0;for(;s=t.length;){if(s===1){if(t===".")break;if(t==="/"){r.push("/");break}else{r.push(t);break}}else if(s===2){if(t[0]==="."){if(t[1]===".")break;if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&(t[1]==="."||t[1]==="/")){r.push("/");break}}else if(s===3&&t==="/.."){r.length!==0&&r.pop(),r.push("/");break}if(t[0]==="."){if(t[1]==="."){if(t[2]==="/"){t=t.slice(3);continue}}else if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&t[1]==="."){if(t[2]==="/"){t=t.slice(2);continue}else if(t[2]==="."&&t[3]==="/"){t=t.slice(3),r.length!==0&&r.pop();continue}}if((n=t.indexOf("/",1))===-1){r.push(t);break}else r.push(t.slice(0,n)),t=t.slice(n)}return r.join("")}function _ke(e,t){let r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function Ike(e){let t=[];if(e.userinfo!==void 0&&(t.push(e.userinfo),t.push("@")),e.host!==void 0){let r=unescape(e.host);if(!Uz(r)){let n=qz(r);n.isIPV6===!0?r=`[${n.escapedHost}]`:r=e.host}t.push(r)}return(typeof e.port=="number"||typeof e.port=="string")&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}jz.exports={nonSimpleDomain:yke,recomposeAuthority:Ike,normalizeComponentEncoding:_ke,removeDotSegments:vke,isIPv4:Uz,isUUID:Ake,normalizeIPv6:qz,stringArrayToHexStripped:O3}});var Kz=C((gft,Vz)=>{"use strict";var{isUUID:Cke}=$3(),wke=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,Ske=["http","https","ws","wss","urn","urn:uuid"];function Tke(e){return Ske.indexOf(e)!==-1}function L3(e){return e.secure===!0?!0:e.secure===!1?!1:e.scheme?e.scheme.length===3&&(e.scheme[0]==="w"||e.scheme[0]==="W")&&(e.scheme[1]==="s"||e.scheme[1]==="S")&&(e.scheme[2]==="s"||e.scheme[2]==="S"):!1}function Hz(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function zz(e){let t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function Bke(e){return e.secure=L3(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function Rke(e){if((e.port===(L3(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){let[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function Nke(e,t){if(!e.path)return e.error="URN can not be parsed",e;let r=e.path.match(wke);if(r){let n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];let s=`${n}:${t.nid||e.nid}`,a=M3(s);e.path=void 0,a&&(e=a.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function kke(e,t){if(e.nid===void 0)throw new Error("URN without nid cannot be serialized");let r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),s=`${r}:${t.nid||n}`,a=M3(s);a&&(e=a.serialize(e,t));let o=e,c=e.nss;return o.path=`${n||t.nid}:${c}`,t.skipEscape=!0,o}function Dke(e,t){let r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!Cke(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function Pke(e){let t=e;return t.nss=(e.uuid||"").toLowerCase(),t}var Gz={scheme:"http",domainHost:!0,parse:Hz,serialize:zz},Oke={scheme:"https",domainHost:Gz.domainHost,parse:Hz,serialize:zz},Nb={scheme:"ws",domainHost:!0,parse:Bke,serialize:Rke},$ke={scheme:"wss",domainHost:Nb.domainHost,parse:Nb.parse,serialize:Nb.serialize},Lke={scheme:"urn",parse:Nke,serialize:kke,skipNormalize:!0},Mke={scheme:"urn:uuid",parse:Dke,serialize:Pke,skipNormalize:!0},kb={http:Gz,https:Oke,ws:Nb,wss:$ke,urn:Lke,"urn:uuid":Mke};Object.setPrototypeOf(kb,null);function M3(e){return e&&(kb[e]||kb[e.toLowerCase()])||void 0}Vz.exports={wsIsSecure:L3,SCHEMES:kb,isValidSchemeName:Tke,getSchemeHandler:M3}});var Jz=C((Aft,Pb)=>{"use strict";var{normalizeIPv6:Fke,removeDotSegments:Ph,recomposeAuthority:Qke,normalizeComponentEncoding:Db,isIPv4:Uke,nonSimpleDomain:qke}=$3(),{SCHEMES:jke,getSchemeHandler:Yz}=Kz();function Hke(e,t){return typeof e=="string"?e=Ta(Eo(e,t),t):typeof e=="object"&&(e=Eo(Ta(e,t),t)),e}function zke(e,t,r){let n=r?Object.assign({scheme:"null"},r):{scheme:"null"},s=Wz(Eo(e,n),Eo(t,n),n,!0);return n.skipEscape=!0,Ta(s,n)}function Wz(e,t,r,n){let s={};return n||(e=Eo(Ta(e,r),r),t=Eo(Ta(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=Ph(t.path||""),s.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=Ph(t.path||""),s.query=t.query):(t.path?(t.path[0]==="/"?s.path=Ph(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?s.path="/"+t.path:e.path?s.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:s.path=t.path,s.path=Ph(s.path)),s.query=t.query):(s.path=e.path,t.query!==void 0?s.query=t.query:s.query=e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function Gke(e,t,r){return typeof e=="string"?(e=unescape(e),e=Ta(Db(Eo(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=Ta(Db(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=Ta(Db(Eo(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=Ta(Db(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function Ta(e,t){let r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),s=[],a=Yz(n.scheme||r.scheme);a&&a.serialize&&a.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&s.push(r.scheme,":");let o=Qke(r);if(o!==void 0&&(n.reference!=="suffix"&&s.push("//"),s.push(o),r.path&&r.path[0]!=="/"&&s.push("/")),r.path!==void 0){let c=r.path;!n.absolutePath&&(!a||!a.absolutePath)&&(c=Ph(c)),o===void 0&&c[0]==="/"&&c[1]==="/"&&(c="/%2F"+c.slice(2)),s.push(c)}return r.query!==void 0&&s.push("?",r.query),r.fragment!==void 0&&s.push("#",r.fragment),s.join("")}var Vke=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Eo(e,t){let r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},s=!1;r.reference==="suffix"&&(r.scheme?e=r.scheme+":"+e:e="//"+e);let a=e.match(Vke);if(a){if(n.scheme=a[1],n.userinfo=a[3],n.host=a[4],n.port=parseInt(a[5],10),n.path=a[6]||"",n.query=a[7],n.fragment=a[8],isNaN(n.port)&&(n.port=a[5]),n.host)if(Uke(n.host)===!1){let u=Fke(n.host);n.host=u.host.toLowerCase(),s=u.isIPV6}else s=!0;n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");let o=Yz(r.scheme||n.scheme);if(!r.unicodeSupport&&(!o||!o.unicodeSupport)&&n.host&&(r.domainHost||o&&o.domainHost)&&s===!1&&qke(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(c){n.error=n.error||"Host's domain name can not be converted to ASCII: "+c}(!o||o&&!o.skipNormalize)&&(e.indexOf("%")!==-1&&(n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),n.host!==void 0&&(n.host=unescape(n.host))),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),o&&o.parse&&o.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}var F3={SCHEMES:jke,normalize:Hke,resolve:zke,resolveComponent:Wz,equal:Gke,serialize:Ta,parse:Eo};Pb.exports=F3;Pb.exports.default=F3;Pb.exports.fastUri=F3});var Zz=C(Q3=>{"use strict";Object.defineProperty(Q3,"__esModule",{value:!0});var Xz=Jz();Xz.code='require("ajv/dist/runtime/uri").default';Q3.default=Xz});var j3=C(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});Sn.CodeGen=Sn.Name=Sn.nil=Sn.stringify=Sn.str=Sn._=Sn.KeywordCxt=void 0;var Kke=hf();Object.defineProperty(Sn,"KeywordCxt",{enumerable:!0,get:function(){return Kke.KeywordCxt}});var gf=je();Object.defineProperty(Sn,"_",{enumerable:!0,get:function(){return gf._}});Object.defineProperty(Sn,"str",{enumerable:!0,get:function(){return gf.str}});Object.defineProperty(Sn,"stringify",{enumerable:!0,get:function(){return gf.stringify}});Object.defineProperty(Sn,"nil",{enumerable:!0,get:function(){return gf.nil}});Object.defineProperty(Sn,"Name",{enumerable:!0,get:function(){return gf.Name}});Object.defineProperty(Sn,"CodeGen",{enumerable:!0,get:function(){return gf.CodeGen}});var Yke=Dh(),sG=bo(),Wke=g3(),Oh=dl(),Jke=je(),$h=Rh(),Ob=Bh(),q3=ct(),eG=Fz(),Xke=Zz(),iG=(e,t)=>new RegExp(e,t);iG.code="new RegExp";var Zke=["removeAdditional","useDefaults","coerceTypes"],e6e=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),t6e={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},r6e={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},tG=200;function n6e(e){var t,r,n,s,a,o,c,u,l,d,f,p,m,h,g,A,y,v,b,E,I,w,S,T,B;let N=e.strict,O=(t=e.code)===null||t===void 0?void 0:t.optimize,k=O===!0||O===void 0?1:O||0,P=(n=(r=e.code)===null||r===void 0?void 0:r.regExp)!==null&&n!==void 0?n:iG,D=(s=e.uriResolver)!==null&&s!==void 0?s:Xke.default;return{strictSchema:(o=(a=e.strictSchema)!==null&&a!==void 0?a:N)!==null&&o!==void 0?o:!0,strictNumbers:(u=(c=e.strictNumbers)!==null&&c!==void 0?c:N)!==null&&u!==void 0?u:!0,strictTypes:(d=(l=e.strictTypes)!==null&&l!==void 0?l:N)!==null&&d!==void 0?d:"log",strictTuples:(p=(f=e.strictTuples)!==null&&f!==void 0?f:N)!==null&&p!==void 0?p:"log",strictRequired:(h=(m=e.strictRequired)!==null&&m!==void 0?m:N)!==null&&h!==void 0?h:!1,code:e.code?{...e.code,optimize:k,regExp:P}:{optimize:k,regExp:P},loopRequired:(g=e.loopRequired)!==null&&g!==void 0?g:tG,loopEnum:(A=e.loopEnum)!==null&&A!==void 0?A:tG,meta:(y=e.meta)!==null&&y!==void 0?y:!0,messages:(v=e.messages)!==null&&v!==void 0?v:!0,inlineRefs:(b=e.inlineRefs)!==null&&b!==void 0?b:!0,schemaId:(E=e.schemaId)!==null&&E!==void 0?E:"$id",addUsedSchema:(I=e.addUsedSchema)!==null&&I!==void 0?I:!0,validateSchema:(w=e.validateSchema)!==null&&w!==void 0?w:!0,validateFormats:(S=e.validateFormats)!==null&&S!==void 0?S:!0,unicodeRegExp:(T=e.unicodeRegExp)!==null&&T!==void 0?T:!0,int32range:(B=e.int32range)!==null&&B!==void 0?B:!0,uriResolver:D}}var Lh=class{constructor(t={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,t=this.opts={...t,...n6e(t)};let{es5:r,lines:n}=this.opts.code;this.scope=new Jke.ValueScope({scope:{},prefixes:e6e,es5:r,lines:n}),this.logger=u6e(t.logger);let s=t.validateFormats;t.validateFormats=!1,this.RULES=(0,Wke.getRules)(),rG.call(this,t6e,t,"NOT SUPPORTED"),rG.call(this,r6e,t,"DEPRECATED","warn"),this._metaOpts=o6e.call(this),t.formats&&i6e.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),t.keywords&&a6e.call(this,t.keywords),typeof t.meta=="object"&&this.addMetaSchema(t.meta),s6e.call(this),t.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:t,meta:r,schemaId:n}=this.opts,s=eG;n==="id"&&(s={...eG},s.id=s.$id,delete s.$id),r&&t&&this.addMetaSchema(s,s[n],!1)}defaultMeta(){let{meta:t,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof t=="object"?t[r]||t:void 0}validate(t,r){let n;if(typeof t=="string"){if(n=this.getSchema(t),!n)throw new Error(`no schema with key or ref "${t}"`)}else n=this.compile(t);let s=n(r);return"$async"in n||(this.errors=n.errors),s}compile(t,r){let n=this._addSchema(t,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(t,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return s.call(this,t,r);async function s(d,f){await a.call(this,d.$schema);let p=this._addSchema(d,f);return p.validate||o.call(this,p)}async function a(d){d&&!this.getSchema(d)&&await s.call(this,{$ref:d},!0)}async function o(d){try{return this._compileSchemaEnv(d)}catch(f){if(!(f instanceof sG.default))throw f;return c.call(this,f),await u.call(this,f.missingSchema),o.call(this,d)}}function c({missingSchema:d,missingRef:f}){if(this.refs[d])throw new Error(`AnySchema ${d} is loaded but ${f} cannot be resolved`)}async function u(d){let f=await l.call(this,d);this.refs[d]||await a.call(this,f.$schema),this.refs[d]||this.addSchema(f,d,r)}async function l(d){let f=this._loading[d];if(f)return f;try{return await(this._loading[d]=n(d))}finally{delete this._loading[d]}}}addSchema(t,r,n,s=this.opts.validateSchema){if(Array.isArray(t)){for(let o of t)this.addSchema(o,void 0,n,s);return this}let a;if(typeof t=="object"){let{schemaId:o}=this.opts;if(a=t[o],a!==void 0&&typeof a!="string")throw new Error(`schema ${o} must be string`)}return r=(0,$h.normalizeId)(r||a),this._checkUnique(r),this.schemas[r]=this._addSchema(t,n,r,s,!0),this}addMetaSchema(t,r,n=this.opts.validateSchema){return this.addSchema(t,r,!0,n),this}validateSchema(t,r){if(typeof t=="boolean")return!0;let n;if(n=t.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let s=this.validate(n,t);if(!s&&r){let a="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(a);else throw new Error(a)}return s}getSchema(t){let r;for(;typeof(r=nG.call(this,t))=="string";)t=r;if(r===void 0){let{schemaId:n}=this.opts,s=new Oh.SchemaEnv({schema:{},schemaId:n});if(r=Oh.resolveSchema.call(this,s,t),!r)return;this.refs[t]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(t){if(t instanceof RegExp)return this._removeAllSchemas(this.schemas,t),this._removeAllSchemas(this.refs,t),this;switch(typeof t){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=nG.call(this,t);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[t],delete this.refs[t],this}case"object":{let r=t;this._cache.delete(r);let n=t[this.opts.schemaId];return n&&(n=(0,$h.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(t){for(let r of t)this.addKeyword(r);return this}addKeyword(t,r){let n;if(typeof t=="string")n=t,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof t=="object"&&r===void 0){if(r=t,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(d6e.call(this,n,r),!r)return(0,q3.eachItem)(n,a=>U3.call(this,a)),this;p6e.call(this,r);let s={...r,type:(0,Ob.getJSONTypes)(r.type),schemaType:(0,Ob.getJSONTypes)(r.schemaType)};return(0,q3.eachItem)(n,s.type.length===0?a=>U3.call(this,a,s):a=>s.type.forEach(o=>U3.call(this,a,s,o))),this}getKeyword(t){let r=this.RULES.all[t];return typeof r=="object"?r.definition:!!r}removeKeyword(t){let{RULES:r}=this;delete r.keywords[t],delete r.all[t];for(let n of r.rules){let s=n.rules.findIndex(a=>a.keyword===t);s>=0&&n.rules.splice(s,1)}return this}addFormat(t,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[t]=r,this}errorsText(t=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!t||t.length===0?"No errors":t.map(s=>`${n}${s.instancePath} ${s.message}`).reduce((s,a)=>s+r+a)}$dataMetaSchema(t,r){let n=this.RULES.all;t=JSON.parse(JSON.stringify(t));for(let s of r){let a=s.split("/").slice(1),o=t;for(let c of a)o=o[c];for(let c in n){let u=n[c];if(typeof u!="object")continue;let{$data:l}=u.definition,d=o[c];l&&d&&(o[c]=aG(d))}}return t}_removeAllSchemas(t,r){for(let n in t){let s=t[n];(!r||r.test(n))&&(typeof s=="string"?delete t[n]:s&&!s.meta&&(this._cache.delete(s.schema),delete t[n]))}}_addSchema(t,r,n,s=this.opts.validateSchema,a=this.opts.addUsedSchema){let o,{schemaId:c}=this.opts;if(typeof t=="object")o=t[c];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof t!="boolean")throw new Error("schema must be object or boolean")}let u=this._cache.get(t);if(u!==void 0)return u;n=(0,$h.normalizeId)(o||n);let l=$h.getSchemaRefs.call(this,t,n);return u=new Oh.SchemaEnv({schema:t,schemaId:c,meta:r,baseId:n,localRefs:l}),this._cache.set(u.schema,u),a&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=u),s&&this.validateSchema(t,!0),u}_checkUnique(t){if(this.schemas[t]||this.refs[t])throw new Error(`schema with key or id "${t}" already exists`)}_compileSchemaEnv(t){if(t.meta?this._compileMetaSchema(t):Oh.compileSchema.call(this,t),!t.validate)throw new Error("ajv implementation error");return t.validate}_compileMetaSchema(t){let r=this.opts;this.opts=this._metaOpts;try{Oh.compileSchema.call(this,t)}finally{this.opts=r}}};Lh.ValidationError=Yke.default;Lh.MissingRefError=sG.default;Sn.default=Lh;function rG(e,t,r,n="error"){for(let s in e){let a=s;a in t&&this.logger[n](`${r}: option ${s}. ${e[a]}`)}}function nG(e){return e=(0,$h.normalizeId)(e),this.schemas[e]||this.refs[e]}function s6e(){let e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(let t in e)this.addSchema(e[t],t)}function i6e(){for(let e in this.opts.formats){let t=this.opts.formats[e];t&&this.addFormat(e,t)}}function a6e(e){if(Array.isArray(e)){this.addVocabulary(e);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let t in e){let r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}function o6e(){let e={...this.opts};for(let t of Zke)delete e[t];return e}var c6e={log(){},warn(){},error(){}};function u6e(e){if(e===!1)return c6e;if(e===void 0)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}var l6e=/^[a-z_$][a-z0-9_$:-]*$/i;function d6e(e,t){let{RULES:r}=this;if((0,q3.eachItem)(e,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!l6e.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!t&&t.$data&&!("code"in t||"validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function U3(e,t,r){var n;let s=t?.post;if(r&&s)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:a}=this,o=s?a.post:a.rules.find(({type:u})=>u===r);if(o||(o={type:r,rules:[]},a.rules.push(o)),a.keywords[e]=!0,!t)return;let c={keyword:e,definition:{...t,type:(0,Ob.getJSONTypes)(t.type),schemaType:(0,Ob.getJSONTypes)(t.schemaType)}};t.before?f6e.call(this,o,c,t.before):o.rules.push(c),a.all[e]=c,(n=t.implements)===null||n===void 0||n.forEach(u=>this.addKeyword(u))}function f6e(e,t,r){let n=e.rules.findIndex(s=>s.keyword===r);n>=0?e.rules.splice(n,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function p6e(e){let{metaSchema:t}=e;t!==void 0&&(e.$data&&this.opts.$data&&(t=aG(t)),e.validateSchema=this.compile(t,!0))}var h6e={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function aG(e){return{anyOf:[e,h6e]}}});var oG=C(H3=>{"use strict";Object.defineProperty(H3,"__esModule",{value:!0});var m6e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};H3.default=m6e});var z3=C(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});fl.callRef=fl.getValidate=void 0;var g6e=bo(),cG=wn(),Bs=je(),Af=pi(),uG=dl(),$b=ct(),A6e={keyword:"$ref",schemaType:"string",code(e){let{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:a,validateName:o,opts:c,self:u}=n,{root:l}=a;if((r==="#"||r==="#/")&&s===l.baseId)return f();let d=uG.resolveRef.call(u,l,s,r);if(d===void 0)throw new g6e.default(n.opts.uriResolver,s,r);if(d instanceof uG.SchemaEnv)return p(d);return m(d);function f(){if(a===l)return Lb(e,o,a,a.$async);let h=t.scopeValue("root",{ref:l});return Lb(e,(0,Bs._)`${h}.validate`,l,l.$async)}function p(h){let g=lG(e,h);Lb(e,g,h,h.$async)}function m(h){let g=t.scopeValue("schema",c.code.source===!0?{ref:h,code:(0,Bs.stringify)(h)}:{ref:h}),A=t.name("valid"),y=e.subschema({schema:h,dataTypes:[],schemaPath:Bs.nil,topSchemaRef:g,errSchemaPath:r},A);e.mergeEvaluated(y),e.ok(A)}}};function lG(e,t){let{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Bs._)`${r.scopeValue("wrapper",{ref:t})}.validate`}fl.getValidate=lG;function Lb(e,t,r,n){let{gen:s,it:a}=e,{allErrors:o,schemaEnv:c,opts:u}=a,l=u.passContext?Af.default.this:Bs.nil;n?d():f();function d(){if(!c.$async)throw new Error("async schema referenced by sync schema");let h=s.let("valid");s.try(()=>{s.code((0,Bs._)`await ${(0,cG.callValidateCode)(e,t,l)}`),m(t),o||s.assign(h,!0)},g=>{s.if((0,Bs._)`!(${g} instanceof ${a.ValidationError})`,()=>s.throw(g)),p(g),o||s.assign(h,!1)}),e.ok(h)}function f(){e.result((0,cG.callValidateCode)(e,t,l),()=>m(t),()=>p(t))}function p(h){let g=(0,Bs._)`${h}.errors`;s.assign(Af.default.vErrors,(0,Bs._)`${Af.default.vErrors} === null ? ${g} : ${Af.default.vErrors}.concat(${g})`),s.assign(Af.default.errors,(0,Bs._)`${Af.default.vErrors}.length`)}function m(h){var g;if(!a.opts.unevaluated)return;let A=(g=r?.validate)===null||g===void 0?void 0:g.evaluated;if(a.props!==!0)if(A&&!A.dynamicProps)A.props!==void 0&&(a.props=$b.mergeEvaluated.props(s,A.props,a.props));else{let y=s.var("props",(0,Bs._)`${h}.evaluated.props`);a.props=$b.mergeEvaluated.props(s,y,a.props,Bs.Name)}if(a.items!==!0)if(A&&!A.dynamicItems)A.items!==void 0&&(a.items=$b.mergeEvaluated.items(s,A.items,a.items));else{let y=s.var("items",(0,Bs._)`${h}.evaluated.items`);a.items=$b.mergeEvaluated.items(s,y,a.items,Bs.Name)}}}fl.callRef=Lb;fl.default=A6e});var dG=C(G3=>{"use strict";Object.defineProperty(G3,"__esModule",{value:!0});var y6e=oG(),b6e=z3(),E6e=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",y6e.default,b6e.default];G3.default=E6e});var fG=C(V3=>{"use strict";Object.defineProperty(V3,"__esModule",{value:!0});var Mb=je(),Rc=Mb.operators,Fb={maximum:{okStr:"<=",ok:Rc.LTE,fail:Rc.GT},minimum:{okStr:">=",ok:Rc.GTE,fail:Rc.LT},exclusiveMaximum:{okStr:"<",ok:Rc.LT,fail:Rc.GTE},exclusiveMinimum:{okStr:">",ok:Rc.GT,fail:Rc.LTE}},x6e={message:({keyword:e,schemaCode:t})=>(0,Mb.str)`must be ${Fb[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Mb._)`{comparison: ${Fb[e].okStr}, limit: ${t}}`},v6e={keyword:Object.keys(Fb),type:"number",schemaType:"number",$data:!0,error:x6e,code(e){let{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Mb._)`${r} ${Fb[t].fail} ${n} || isNaN(${r})`)}};V3.default=v6e});var pG=C(K3=>{"use strict";Object.defineProperty(K3,"__esModule",{value:!0});var Mh=je(),_6e={message:({schemaCode:e})=>(0,Mh.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Mh._)`{multipleOf: ${e}}`},I6e={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:_6e,code(e){let{gen:t,data:r,schemaCode:n,it:s}=e,a=s.opts.multipleOfPrecision,o=t.let("res"),c=a?(0,Mh._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${a}`:(0,Mh._)`${o} !== parseInt(${o})`;e.fail$data((0,Mh._)`(${n} === 0 || (${o} = ${r}/${n}, ${c}))`)}};K3.default=I6e});var mG=C(Y3=>{"use strict";Object.defineProperty(Y3,"__esModule",{value:!0});function hG(e){let t=e.length,r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}Y3.default=hG;hG.code='require("ajv/dist/runtime/ucs2length").default'});var gG=C(W3=>{"use strict";Object.defineProperty(W3,"__esModule",{value:!0});var pl=je(),C6e=ct(),w6e=mG(),S6e={message({keyword:e,schemaCode:t}){let r=e==="maxLength"?"more":"fewer";return(0,pl.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,pl._)`{limit: ${e}}`},T6e={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:S6e,code(e){let{keyword:t,data:r,schemaCode:n,it:s}=e,a=t==="maxLength"?pl.operators.GT:pl.operators.LT,o=s.opts.unicode===!1?(0,pl._)`${r}.length`:(0,pl._)`${(0,C6e.useFunc)(e.gen,w6e.default)}(${r})`;e.fail$data((0,pl._)`${o} ${a} ${n}`)}};W3.default=T6e});var AG=C(J3=>{"use strict";Object.defineProperty(J3,"__esModule",{value:!0});var B6e=wn(),Qb=je(),R6e={message:({schemaCode:e})=>(0,Qb.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Qb._)`{pattern: ${e}}`},N6e={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:R6e,code(e){let{data:t,$data:r,schema:n,schemaCode:s,it:a}=e,o=a.opts.unicodeRegExp?"u":"",c=r?(0,Qb._)`(new RegExp(${s}, ${o}))`:(0,B6e.usePattern)(e,n);e.fail$data((0,Qb._)`!${c}.test(${t})`)}};J3.default=N6e});var yG=C(X3=>{"use strict";Object.defineProperty(X3,"__esModule",{value:!0});var Fh=je(),k6e={message({keyword:e,schemaCode:t}){let r=e==="maxProperties"?"more":"fewer";return(0,Fh.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Fh._)`{limit: ${e}}`},D6e={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:k6e,code(e){let{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?Fh.operators.GT:Fh.operators.LT;e.fail$data((0,Fh._)`Object.keys(${r}).length ${s} ${n}`)}};X3.default=D6e});var bG=C(Z3=>{"use strict";Object.defineProperty(Z3,"__esModule",{value:!0});var Qh=wn(),Uh=je(),P6e=ct(),O6e={message:({params:{missingProperty:e}})=>(0,Uh.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Uh._)`{missingProperty: ${e}}`},$6e={keyword:"required",type:"object",schemaType:"array",$data:!0,error:O6e,code(e){let{gen:t,schema:r,schemaCode:n,data:s,$data:a,it:o}=e,{opts:c}=o;if(!a&&r.length===0)return;let u=r.length>=c.loopRequired;if(o.allErrors?l():d(),c.strictRequired){let m=e.parentSchema.properties,{definedProperties:h}=e.it;for(let g of r)if(m?.[g]===void 0&&!h.has(g)){let A=o.schemaEnv.baseId+o.errSchemaPath,y=`required property "${g}" is not defined at "${A}" (strictRequired)`;(0,P6e.checkStrictMode)(o,y,o.opts.strictRequired)}}function l(){if(u||a)e.block$data(Uh.nil,f);else for(let m of r)(0,Qh.checkReportMissingProp)(e,m)}function d(){let m=t.let("missing");if(u||a){let h=t.let("valid",!0);e.block$data(h,()=>p(m,h)),e.ok(h)}else t.if((0,Qh.checkMissingProp)(e,r,m)),(0,Qh.reportMissingProp)(e,m),t.else()}function f(){t.forOf("prop",n,m=>{e.setParams({missingProperty:m}),t.if((0,Qh.noPropertyInData)(t,s,m,c.ownProperties),()=>e.error())})}function p(m,h){e.setParams({missingProperty:m}),t.forOf(m,n,()=>{t.assign(h,(0,Qh.propertyInData)(t,s,m,c.ownProperties)),t.if((0,Uh.not)(h),()=>{e.error(),t.break()})},Uh.nil)}}};Z3.default=$6e});var EG=C(eB=>{"use strict";Object.defineProperty(eB,"__esModule",{value:!0});var qh=je(),L6e={message({keyword:e,schemaCode:t}){let r=e==="maxItems"?"more":"fewer";return(0,qh.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,qh._)`{limit: ${e}}`},M6e={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:L6e,code(e){let{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?qh.operators.GT:qh.operators.LT;e.fail$data((0,qh._)`${r}.length ${s} ${n}`)}};eB.default=M6e});var Ub=C(tB=>{"use strict";Object.defineProperty(tB,"__esModule",{value:!0});var xG=ai();xG.code='require("ajv/dist/runtime/equal").default';tB.default=xG});var vG=C(nB=>{"use strict";Object.defineProperty(nB,"__esModule",{value:!0});var rB=Bh(),Tn=je(),F6e=ct(),Q6e=Ub(),U6e={message:({params:{i:e,j:t}})=>(0,Tn.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Tn._)`{i: ${e}, j: ${t}}`},q6e={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:U6e,code(e){let{gen:t,data:r,$data:n,schema:s,parentSchema:a,schemaCode:o,it:c}=e;if(!n&&!s)return;let u=t.let("valid"),l=a.items?(0,rB.getSchemaTypes)(a.items):[];e.block$data(u,d,(0,Tn._)`${o} === false`),e.ok(u);function d(){let h=t.let("i",(0,Tn._)`${r}.length`),g=t.let("j");e.setParams({i:h,j:g}),t.assign(u,!0),t.if((0,Tn._)`${h} > 1`,()=>(f()?p:m)(h,g))}function f(){return l.length>0&&!l.some(h=>h==="object"||h==="array")}function p(h,g){let A=t.name("item"),y=(0,rB.checkDataTypes)(l,A,c.opts.strictNumbers,rB.DataType.Wrong),v=t.const("indices",(0,Tn._)`{}`);t.for((0,Tn._)`;${h}--;`,()=>{t.let(A,(0,Tn._)`${r}[${h}]`),t.if(y,(0,Tn._)`continue`),l.length>1&&t.if((0,Tn._)`typeof ${A} == "string"`,(0,Tn._)`${A} += "_"`),t.if((0,Tn._)`typeof ${v}[${A}] == "number"`,()=>{t.assign(g,(0,Tn._)`${v}[${A}]`),e.error(),t.assign(u,!1).break()}).code((0,Tn._)`${v}[${A}] = ${h}`)})}function m(h,g){let A=(0,F6e.useFunc)(t,Q6e.default),y=t.name("outer");t.label(y).for((0,Tn._)`;${h}--;`,()=>t.for((0,Tn._)`${g} = ${h}; ${g}--;`,()=>t.if((0,Tn._)`${A}(${r}[${h}], ${r}[${g}])`,()=>{e.error(),t.assign(u,!1).break(y)})))}}};nB.default=q6e});var _G=C(iB=>{"use strict";Object.defineProperty(iB,"__esModule",{value:!0});var sB=je(),j6e=ct(),H6e=Ub(),z6e={message:"must be equal to constant",params:({schemaCode:e})=>(0,sB._)`{allowedValue: ${e}}`},G6e={keyword:"const",$data:!0,error:z6e,code(e){let{gen:t,data:r,$data:n,schemaCode:s,schema:a}=e;n||a&&typeof a=="object"?e.fail$data((0,sB._)`!${(0,j6e.useFunc)(t,H6e.default)}(${r}, ${s})`):e.fail((0,sB._)`${a} !== ${r}`)}};iB.default=G6e});var IG=C(aB=>{"use strict";Object.defineProperty(aB,"__esModule",{value:!0});var jh=je(),V6e=ct(),K6e=Ub(),Y6e={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,jh._)`{allowedValues: ${e}}`},W6e={keyword:"enum",schemaType:"array",$data:!0,error:Y6e,code(e){let{gen:t,data:r,$data:n,schema:s,schemaCode:a,it:o}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");let c=s.length>=o.opts.loopEnum,u,l=()=>u??(u=(0,V6e.useFunc)(t,K6e.default)),d;if(c||n)d=t.let("valid"),e.block$data(d,f);else{if(!Array.isArray(s))throw new Error("ajv implementation error");let m=t.const("vSchema",a);d=(0,jh.or)(...s.map((h,g)=>p(m,g)))}e.pass(d);function f(){t.assign(d,!1),t.forOf("v",a,m=>t.if((0,jh._)`${l()}(${r}, ${m})`,()=>t.assign(d,!0).break()))}function p(m,h){let g=s[h];return typeof g=="object"&&g!==null?(0,jh._)`${l()}(${r}, ${m}[${h}])`:(0,jh._)`${r} === ${g}`}}};aB.default=W6e});var CG=C(oB=>{"use strict";Object.defineProperty(oB,"__esModule",{value:!0});var J6e=fG(),X6e=pG(),Z6e=gG(),eDe=AG(),tDe=yG(),rDe=bG(),nDe=EG(),sDe=vG(),iDe=_G(),aDe=IG(),oDe=[J6e.default,X6e.default,Z6e.default,eDe.default,tDe.default,rDe.default,nDe.default,sDe.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},iDe.default,aDe.default];oB.default=oDe});var uB=C(Hh=>{"use strict";Object.defineProperty(Hh,"__esModule",{value:!0});Hh.validateAdditionalItems=void 0;var hl=je(),cB=ct(),cDe={message:({params:{len:e}})=>(0,hl.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,hl._)`{limit: ${e}}`},uDe={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:cDe,code(e){let{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,cB.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}wG(e,n)}};function wG(e,t){let{gen:r,schema:n,data:s,keyword:a,it:o}=e;o.items=!0;let c=r.const("len",(0,hl._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,hl._)`${c} <= ${t.length}`);else if(typeof n=="object"&&!(0,cB.alwaysValidSchema)(o,n)){let l=r.var("valid",(0,hl._)`${c} <= ${t.length}`);r.if((0,hl.not)(l),()=>u(l)),e.ok(l)}function u(l){r.forRange("i",t.length,c,d=>{e.subschema({keyword:a,dataProp:d,dataPropType:cB.Type.Num},l),o.allErrors||r.if((0,hl.not)(l),()=>r.break())})}}Hh.validateAdditionalItems=wG;Hh.default=uDe});var lB=C(zh=>{"use strict";Object.defineProperty(zh,"__esModule",{value:!0});zh.validateTuple=void 0;var SG=je(),qb=ct(),lDe=wn(),dDe={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){let{schema:t,it:r}=e;if(Array.isArray(t))return TG(e,"additionalItems",t);r.items=!0,!(0,qb.alwaysValidSchema)(r,t)&&e.ok((0,lDe.validateArray)(e))}};function TG(e,t,r=e.schema){let{gen:n,parentSchema:s,data:a,keyword:o,it:c}=e;d(s),c.opts.unevaluated&&r.length&&c.items!==!0&&(c.items=qb.mergeEvaluated.items(n,r.length,c.items));let u=n.name("valid"),l=n.const("len",(0,SG._)`${a}.length`);r.forEach((f,p)=>{(0,qb.alwaysValidSchema)(c,f)||(n.if((0,SG._)`${l} > ${p}`,()=>e.subschema({keyword:o,schemaProp:p,dataProp:p},u)),e.ok(u))});function d(f){let{opts:p,errSchemaPath:m}=c,h=r.length,g=h===f.minItems&&(h===f.maxItems||f[t]===!1);if(p.strictTuples&&!g){let A=`"${o}" is ${h}-tuple, but minItems or maxItems/${t} are not specified or different at path "${m}"`;(0,qb.checkStrictMode)(c,A,p.strictTuples)}}}zh.validateTuple=TG;zh.default=dDe});var BG=C(dB=>{"use strict";Object.defineProperty(dB,"__esModule",{value:!0});var fDe=lB(),pDe={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,fDe.validateTuple)(e,"items")};dB.default=pDe});var NG=C(fB=>{"use strict";Object.defineProperty(fB,"__esModule",{value:!0});var RG=je(),hDe=ct(),mDe=wn(),gDe=uB(),ADe={message:({params:{len:e}})=>(0,RG.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,RG._)`{limit: ${e}}`},yDe={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:ADe,code(e){let{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,hDe.alwaysValidSchema)(n,t)&&(s?(0,gDe.validateAdditionalItems)(e,s):e.ok((0,mDe.validateArray)(e)))}};fB.default=yDe});var kG=C(pB=>{"use strict";Object.defineProperty(pB,"__esModule",{value:!0});var mi=je(),jb=ct(),bDe={message:({params:{min:e,max:t}})=>t===void 0?(0,mi.str)`must contain at least ${e} valid item(s)`:(0,mi.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,mi._)`{minContains: ${e}}`:(0,mi._)`{minContains: ${e}, maxContains: ${t}}`},EDe={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:bDe,code(e){let{gen:t,schema:r,parentSchema:n,data:s,it:a}=e,o,c,{minContains:u,maxContains:l}=n;a.opts.next?(o=u===void 0?1:u,c=l):o=1;let d=t.const("len",(0,mi._)`${s}.length`);if(e.setParams({min:o,max:c}),c===void 0&&o===0){(0,jb.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(c!==void 0&&o>c){(0,jb.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,jb.alwaysValidSchema)(a,r)){let g=(0,mi._)`${d} >= ${o}`;c!==void 0&&(g=(0,mi._)`${g} && ${d} <= ${c}`),e.pass(g);return}a.items=!0;let f=t.name("valid");c===void 0&&o===1?m(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),c!==void 0&&t.if((0,mi._)`${s}.length > 0`,p)):(t.let(f,!1),p()),e.result(f,()=>e.reset());function p(){let g=t.name("_valid"),A=t.let("count",0);m(g,()=>t.if(g,()=>h(A)))}function m(g,A){t.forRange("i",0,d,y=>{e.subschema({keyword:"contains",dataProp:y,dataPropType:jb.Type.Num,compositeRule:!0},g),A()})}function h(g){t.code((0,mi._)`${g}++`),c===void 0?t.if((0,mi._)`${g} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,mi._)`${g} > ${c}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,mi._)`${g} >= ${o}`,()=>t.assign(f,!0)))}}};pB.default=EDe});var OG=C(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.validateSchemaDeps=Ba.validatePropertyDeps=Ba.error=void 0;var hB=je(),xDe=ct(),Gh=wn();Ba.error={message:({params:{property:e,depsCount:t,deps:r}})=>{let n=t===1?"property":"properties";return(0,hB.str)`must have ${n} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:n}})=>(0,hB._)`{property: ${e},
    missingProperty: ${n},
    depsCount: ${t},
    deps: ${r}}`};var vDe={keyword:"dependencies",type:"object",schemaType:"object",error:Ba.error,code(e){let[t,r]=_De(e);DG(e,t),PG(e,r)}};function _De({schema:e}){let t={},r={};for(let n in e){if(n==="__proto__")continue;let s=Array.isArray(e[n])?t:r;s[n]=e[n]}return[t,r]}function DG(e,t=e.schema){let{gen:r,data:n,it:s}=e;if(Object.keys(t).length===0)return;let a=r.let("missing");for(let o in t){let c=t[o];if(c.length===0)continue;let u=(0,Gh.propertyInData)(r,n,o,s.opts.ownProperties);e.setParams({property:o,depsCount:c.length,deps:c.join(", ")}),s.allErrors?r.if(u,()=>{for(let l of c)(0,Gh.checkReportMissingProp)(e,l)}):(r.if((0,hB._)`${u} && (${(0,Gh.checkMissingProp)(e,c,a)})`),(0,Gh.reportMissingProp)(e,a),r.else())}}Ba.validatePropertyDeps=DG;function PG(e,t=e.schema){let{gen:r,data:n,keyword:s,it:a}=e,o=r.name("valid");for(let c in t)(0,xDe.alwaysValidSchema)(a,t[c])||(r.if((0,Gh.propertyInData)(r,n,c,a.opts.ownProperties),()=>{let u=e.subschema({keyword:s,schemaProp:c},o);e.mergeValidEvaluated(u,o)},()=>r.var(o,!0)),e.ok(o))}Ba.validateSchemaDeps=PG;Ba.default=vDe});var LG=C(mB=>{"use strict";Object.defineProperty(mB,"__esModule",{value:!0});var $G=je(),IDe=ct(),CDe={message:"property name must be valid",params:({params:e})=>(0,$G._)`{propertyName: ${e.propertyName}}`},wDe={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:CDe,code(e){let{gen:t,schema:r,data:n,it:s}=e;if((0,IDe.alwaysValidSchema)(s,r))return;let a=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},a),t.if((0,$G.not)(a),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(a)}};mB.default=wDe});var AB=C(gB=>{"use strict";Object.defineProperty(gB,"__esModule",{value:!0});var Hb=wn(),Ki=je(),SDe=pi(),zb=ct(),TDe={message:"must NOT have additional properties",params:({params:e})=>(0,Ki._)`{additionalProperty: ${e.additionalProperty}}`},BDe={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:TDe,code(e){let{gen:t,schema:r,parentSchema:n,data:s,errsCount:a,it:o}=e;if(!a)throw new Error("ajv implementation error");let{allErrors:c,opts:u}=o;if(o.props=!0,u.removeAdditional!=="all"&&(0,zb.alwaysValidSchema)(o,r))return;let l=(0,Hb.allSchemaProperties)(n.properties),d=(0,Hb.allSchemaProperties)(n.patternProperties);f(),e.ok((0,Ki._)`${a} === ${SDe.default.errors}`);function f(){t.forIn("key",s,A=>{!l.length&&!d.length?h(A):t.if(p(A),()=>h(A))})}function p(A){let y;if(l.length>8){let v=(0,zb.schemaRefOrVal)(o,n.properties,"properties");y=(0,Hb.isOwnProperty)(t,v,A)}else l.length?y=(0,Ki.or)(...l.map(v=>(0,Ki._)`${A} === ${v}`)):y=Ki.nil;return d.length&&(y=(0,Ki.or)(y,...d.map(v=>(0,Ki._)`${(0,Hb.usePattern)(e,v)}.test(${A})`))),(0,Ki.not)(y)}function m(A){t.code((0,Ki._)`delete ${s}[${A}]`)}function h(A){if(u.removeAdditional==="all"||u.removeAdditional&&r===!1){m(A);return}if(r===!1){e.setParams({additionalProperty:A}),e.error(),c||t.break();return}if(typeof r=="object"&&!(0,zb.alwaysValidSchema)(o,r)){let y=t.name("valid");u.removeAdditional==="failing"?(g(A,y,!1),t.if((0,Ki.not)(y),()=>{e.reset(),m(A)})):(g(A,y),c||t.if((0,Ki.not)(y),()=>t.break()))}}function g(A,y,v){let b={keyword:"additionalProperties",dataProp:A,dataPropType:zb.Type.Str};v===!1&&Object.assign(b,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(b,y)}}};gB.default=BDe});var QG=C(bB=>{"use strict";Object.defineProperty(bB,"__esModule",{value:!0});var RDe=hf(),MG=wn(),yB=ct(),FG=AB(),NDe={keyword:"properties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&FG.default.code(new RDe.KeywordCxt(a,FG.default,"additionalProperties"));let o=(0,MG.allSchemaProperties)(r);for(let f of o)a.definedProperties.add(f);a.opts.unevaluated&&o.length&&a.props!==!0&&(a.props=yB.mergeEvaluated.props(t,(0,yB.toHash)(o),a.props));let c=o.filter(f=>!(0,yB.alwaysValidSchema)(a,r[f]));if(c.length===0)return;let u=t.name("valid");for(let f of c)l(f)?d(f):(t.if((0,MG.propertyInData)(t,s,f,a.opts.ownProperties)),d(f),a.allErrors||t.else().var(u,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(u);function l(f){return a.opts.useDefaults&&!a.compositeRule&&r[f].default!==void 0}function d(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},u)}}};bB.default=NDe});var HG=C(EB=>{"use strict";Object.defineProperty(EB,"__esModule",{value:!0});var UG=wn(),Gb=je(),qG=ct(),jG=ct(),kDe={keyword:"patternProperties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,data:n,parentSchema:s,it:a}=e,{opts:o}=a,c=(0,UG.allSchemaProperties)(r),u=c.filter(g=>(0,qG.alwaysValidSchema)(a,r[g]));if(c.length===0||u.length===c.length&&(!a.opts.unevaluated||a.props===!0))return;let l=o.strictSchema&&!o.allowMatchingProperties&&s.properties,d=t.name("valid");a.props!==!0&&!(a.props instanceof Gb.Name)&&(a.props=(0,jG.evaluatedPropsToName)(t,a.props));let{props:f}=a;p();function p(){for(let g of c)l&&m(g),a.allErrors?h(g):(t.var(d,!0),h(g),t.if(d))}function m(g){for(let A in l)new RegExp(g).test(A)&&(0,qG.checkStrictMode)(a,`property ${A} matches pattern ${g} (use allowMatchingProperties)`)}function h(g){t.forIn("key",n,A=>{t.if((0,Gb._)`${(0,UG.usePattern)(e,g)}.test(${A})`,()=>{let y=u.includes(g);y||e.subschema({keyword:"patternProperties",schemaProp:g,dataProp:A,dataPropType:jG.Type.Str},d),a.opts.unevaluated&&f!==!0?t.assign((0,Gb._)`${f}[${A}]`,!0):!y&&!a.allErrors&&t.if((0,Gb.not)(d),()=>t.break())})})}}};EB.default=kDe});var zG=C(xB=>{"use strict";Object.defineProperty(xB,"__esModule",{value:!0});var DDe=ct(),PDe={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){let{gen:t,schema:r,it:n}=e;if((0,DDe.alwaysValidSchema)(n,r)){e.fail();return}let s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};xB.default=PDe});var GG=C(vB=>{"use strict";Object.defineProperty(vB,"__esModule",{value:!0});var ODe=wn(),$De={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:ODe.validateUnion,error:{message:"must match a schema in anyOf"}};vB.default=$De});var VG=C(_B=>{"use strict";Object.defineProperty(_B,"__esModule",{value:!0});var Vb=je(),LDe=ct(),MDe={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Vb._)`{passingSchemas: ${e.passing}}`},FDe={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:MDe,code(e){let{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;let a=r,o=t.let("valid",!1),c=t.let("passing",null),u=t.name("_valid");e.setParams({passing:c}),t.block(l),e.result(o,()=>e.reset(),()=>e.error(!0));function l(){a.forEach((d,f)=>{let p;(0,LDe.alwaysValidSchema)(s,d)?t.var(u,!0):p=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},u),f>0&&t.if((0,Vb._)`${u} && ${o}`).assign(o,!1).assign(c,(0,Vb._)`[${c}, ${f}]`).else(),t.if(u,()=>{t.assign(o,!0),t.assign(c,f),p&&e.mergeEvaluated(p,Vb.Name)})})}}};_B.default=FDe});var KG=C(IB=>{"use strict";Object.defineProperty(IB,"__esModule",{value:!0});var QDe=ct(),UDe={keyword:"allOf",schemaType:"array",code(e){let{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");let s=t.name("valid");r.forEach((a,o)=>{if((0,QDe.alwaysValidSchema)(n,a))return;let c=e.subschema({keyword:"allOf",schemaProp:o},s);e.ok(s),e.mergeEvaluated(c)})}};IB.default=UDe});var JG=C(CB=>{"use strict";Object.defineProperty(CB,"__esModule",{value:!0});var Kb=je(),WG=ct(),qDe={message:({params:e})=>(0,Kb.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Kb._)`{failingKeyword: ${e.ifClause}}`},jDe={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:qDe,code(e){let{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,WG.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let s=YG(n,"then"),a=YG(n,"else");if(!s&&!a)return;let o=t.let("valid",!0),c=t.name("_valid");if(u(),e.reset(),s&&a){let d=t.let("ifClause");e.setParams({ifClause:d}),t.if(c,l("then",d),l("else",d))}else s?t.if(c,l("then")):t.if((0,Kb.not)(c),l("else"));e.pass(o,()=>e.error(!0));function u(){let d=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},c);e.mergeEvaluated(d)}function l(d,f){return()=>{let p=e.subschema({keyword:d},c);t.assign(o,c),e.mergeValidEvaluated(p,o),f?t.assign(f,(0,Kb._)`${d}`):e.setParams({ifClause:d})}}}};function YG(e,t){let r=e.schema[t];return r!==void 0&&!(0,WG.alwaysValidSchema)(e,r)}CB.default=jDe});var XG=C(wB=>{"use strict";Object.defineProperty(wB,"__esModule",{value:!0});var HDe=ct(),zDe={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,HDe.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};wB.default=zDe});var ZG=C(SB=>{"use strict";Object.defineProperty(SB,"__esModule",{value:!0});var GDe=uB(),VDe=BG(),KDe=lB(),YDe=NG(),WDe=kG(),JDe=OG(),XDe=LG(),ZDe=AB(),ePe=QG(),tPe=HG(),rPe=zG(),nPe=GG(),sPe=VG(),iPe=KG(),aPe=JG(),oPe=XG();function cPe(e=!1){let t=[rPe.default,nPe.default,sPe.default,iPe.default,aPe.default,oPe.default,XDe.default,ZDe.default,JDe.default,ePe.default,tPe.default];return e?t.push(VDe.default,YDe.default):t.push(GDe.default,KDe.default),t.push(WDe.default),t}SB.default=cPe});var eV=C(TB=>{"use strict";Object.defineProperty(TB,"__esModule",{value:!0});var Ur=je(),uPe={message:({schemaCode:e})=>(0,Ur.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Ur._)`{format: ${e}}`},lPe={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:uPe,code(e,t){let{gen:r,data:n,$data:s,schema:a,schemaCode:o,it:c}=e,{opts:u,errSchemaPath:l,schemaEnv:d,self:f}=c;if(!u.validateFormats)return;s?p():m();function p(){let h=r.scopeValue("formats",{ref:f.formats,code:u.code.formats}),g=r.const("fDef",(0,Ur._)`${h}[${o}]`),A=r.let("fType"),y=r.let("format");r.if((0,Ur._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>r.assign(A,(0,Ur._)`${g}.type || "string"`).assign(y,(0,Ur._)`${g}.validate`),()=>r.assign(A,(0,Ur._)`"string"`).assign(y,g)),e.fail$data((0,Ur.or)(v(),b()));function v(){return u.strictSchema===!1?Ur.nil:(0,Ur._)`${o} && !${y}`}function b(){let E=d.$async?(0,Ur._)`(${g}.async ? await ${y}(${n}) : ${y}(${n}))`:(0,Ur._)`${y}(${n})`,I=(0,Ur._)`(typeof ${y} == "function" ? ${E} : ${y}.test(${n}))`;return(0,Ur._)`${y} && ${y} !== true && ${A} === ${t} && !${I}`}}function m(){let h=f.formats[a];if(!h){v();return}if(h===!0)return;let[g,A,y]=b(h);g===t&&e.pass(E());function v(){if(u.strictSchema===!1){f.logger.warn(I());return}throw new Error(I());function I(){return`unknown format "${a}" ignored in schema at path "${l}"`}}function b(I){let w=I instanceof RegExp?(0,Ur.regexpCode)(I):u.code.formats?(0,Ur._)`${u.code.formats}${(0,Ur.getProperty)(a)}`:void 0,S=r.scopeValue("formats",{key:a,ref:I,code:w});return typeof I=="object"&&!(I instanceof RegExp)?[I.type||"string",I.validate,(0,Ur._)`${S}.validate`]:["string",I,S]}function E(){if(typeof h=="object"&&!(h instanceof RegExp)&&h.async){if(!d.$async)throw new Error("async format in sync schema");return(0,Ur._)`await ${y}(${n})`}return typeof A=="function"?(0,Ur._)`${y}(${n})`:(0,Ur._)`${y}.test(${n})`}}}};TB.default=lPe});var tV=C(BB=>{"use strict";Object.defineProperty(BB,"__esModule",{value:!0});var dPe=eV(),fPe=[dPe.default];BB.default=fPe});var rV=C(yf=>{"use strict";Object.defineProperty(yf,"__esModule",{value:!0});yf.contentVocabulary=yf.metadataVocabulary=void 0;yf.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];yf.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var sV=C(RB=>{"use strict";Object.defineProperty(RB,"__esModule",{value:!0});var pPe=dG(),hPe=CG(),mPe=ZG(),gPe=tV(),nV=rV(),APe=[pPe.default,hPe.default,(0,mPe.default)(),gPe.default,nV.metadataVocabulary,nV.contentVocabulary];RB.default=APe});var NB=C(Yb=>{"use strict";Object.defineProperty(Yb,"__esModule",{value:!0});Yb.DiscrError=void 0;var iV;(function(e){e.Tag="tag",e.Mapping="mapping"})(iV||(Yb.DiscrError=iV={}))});var oV=C(DB=>{"use strict";Object.defineProperty(DB,"__esModule",{value:!0});var bf=je(),kB=NB(),aV=dl(),yPe=bo(),bPe=ct(),EPe={message:({params:{discrError:e,tagName:t}})=>e===kB.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,bf._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},xPe={keyword:"discriminator",type:"object",schemaType:"object",error:EPe,code(e){let{gen:t,data:r,schema:n,parentSchema:s,it:a}=e,{oneOf:o}=s;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");let c=n.propertyName;if(typeof c!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");let u=t.let("valid",!1),l=t.const("tag",(0,bf._)`${r}${(0,bf.getProperty)(c)}`);t.if((0,bf._)`typeof ${l} == "string"`,()=>d(),()=>e.error(!1,{discrError:kB.DiscrError.Tag,tag:l,tagName:c})),e.ok(u);function d(){let m=p();t.if(!1);for(let h in m)t.elseIf((0,bf._)`${l} === ${h}`),t.assign(u,f(m[h]));t.else(),e.error(!1,{discrError:kB.DiscrError.Mapping,tag:l,tagName:c}),t.endIf()}function f(m){let h=t.name("valid"),g=e.subschema({keyword:"oneOf",schemaProp:m},h);return e.mergeEvaluated(g,bf.Name),h}function p(){var m;let h={},g=y(s),A=!0;for(let E=0;E<o.length;E++){let I=o[E];if(I?.$ref&&!(0,bPe.schemaHasRulesButRef)(I,a.self.RULES)){let S=I.$ref;if(I=aV.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,S),I instanceof aV.SchemaEnv&&(I=I.schema),I===void 0)throw new yPe.default(a.opts.uriResolver,a.baseId,S)}let w=(m=I?.properties)===null||m===void 0?void 0:m[c];if(typeof w!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${c}"`);A=A&&(g||y(I)),v(w,E)}if(!A)throw new Error(`discriminator: "${c}" must be required`);return h;function y({required:E}){return Array.isArray(E)&&E.includes(c)}function v(E,I){if(E.const)b(E.const,I);else if(E.enum)for(let w of E.enum)b(w,I);else throw new Error(`discriminator: "properties/${c}" must have "const" or "enum"`)}function b(E,I){if(typeof E!="string"||E in h)throw new Error(`discriminator: "${c}" values must be unique strings`);h[E]=I}}}};DB.default=xPe});var cV=C((ipt,vPe)=>{vPe.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var lV=C((vr,PB)=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.MissingRefError=vr.ValidationError=vr.CodeGen=vr.Name=vr.nil=vr.stringify=vr.str=vr._=vr.KeywordCxt=vr.Ajv=void 0;var _Pe=j3(),IPe=sV(),CPe=oV(),uV=cV(),wPe=["/properties"],Wb="http://json-schema.org/draft-07/schema",Ef=class extends _Pe.default{_addVocabularies(){super._addVocabularies(),IPe.default.forEach(t=>this.addVocabulary(t)),this.opts.discriminator&&this.addKeyword(CPe.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let t=this.opts.$data?this.$dataMetaSchema(uV,wPe):uV;this.addMetaSchema(t,Wb,!1),this.refs["http://json-schema.org/schema"]=Wb}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(Wb)?Wb:void 0)}};vr.Ajv=Ef;PB.exports=vr=Ef;PB.exports.Ajv=Ef;Object.defineProperty(vr,"__esModule",{value:!0});vr.default=Ef;var SPe=hf();Object.defineProperty(vr,"KeywordCxt",{enumerable:!0,get:function(){return SPe.KeywordCxt}});var xf=je();Object.defineProperty(vr,"_",{enumerable:!0,get:function(){return xf._}});Object.defineProperty(vr,"str",{enumerable:!0,get:function(){return xf.str}});Object.defineProperty(vr,"stringify",{enumerable:!0,get:function(){return xf.stringify}});Object.defineProperty(vr,"nil",{enumerable:!0,get:function(){return xf.nil}});Object.defineProperty(vr,"Name",{enumerable:!0,get:function(){return xf.Name}});Object.defineProperty(vr,"CodeGen",{enumerable:!0,get:function(){return xf.CodeGen}});var TPe=Dh();Object.defineProperty(vr,"ValidationError",{enumerable:!0,get:function(){return TPe.default}});var BPe=bo();Object.defineProperty(vr,"MissingRefError",{enumerable:!0,get:function(){return BPe.default}})});var xo=C(Vh=>{"use strict";Object.defineProperty(Vh,"__esModule",{value:!0});Vh.checkMetadata=void 0;var RPe=ct(),NPe={keyword:"metadata",schemaType:"object",code(e){dV(e);let{gen:t,schema:r,it:n}=e;if((0,RPe.alwaysValidSchema)(n,r))return;let s=t.name("valid");e.subschema({keyword:"metadata",jtdMetadata:!0},s),e.ok(s)}};function dV({it:e,keyword:t},r){if(e.jtdMetadata!==r)throw new Error(`JTD: "${t}" cannot be used in this schema location`)}Vh.checkMetadata=dV;Vh.default=NPe});var Jb=C(Yh=>{"use strict";Object.defineProperty(Yh,"__esModule",{value:!0});Yh.hasRef=void 0;var fV=dl(),Kh=je(),kPe=bo(),pV=pi(),hV=z3(),DPe=xo(),PPe={keyword:"ref",schemaType:"string",code(e){(0,DPe.checkMetadata)(e);let{gen:t,data:r,schema:n,parentSchema:s,it:a}=e,{schemaEnv:{root:o}}=a,c=t.name("valid");s.nullable?(t.var(c,(0,Kh._)`${r} === null`),t.if((0,Kh.not)(c),u)):(t.var(c,!1),u()),e.ok(c);function u(){var f;let p=(f=o.schema.definitions)===null||f===void 0?void 0:f[n];if(!p)throw new kPe.default(a.opts.uriResolver,"",n,`No definition ${n}`);OB(p)||!a.opts.inlineRefs?l(p):d(p)}function l(f){let p=fV.compileSchema.call(a.self,new fV.SchemaEnv({schema:f,root:o,schemaPath:`/definitions/${n}`})),m=(0,hV.getValidate)(e,p),h=t.const("_errs",pV.default.errors);(0,hV.callRef)(e,m,p,p.$async),t.assign(c,(0,Kh._)`${h} === ${pV.default.errors}`)}function d(f){let p=t.scopeValue("schema",a.opts.code.source===!0?{ref:f,code:(0,Kh.stringify)(f)}:{ref:f});e.subschema({schema:f,dataTypes:[],schemaPath:Kh.nil,topSchemaRef:p,errSchemaPath:`/definitions/${n}`},c)}}};function OB(e){for(let t in e){let r;if(t==="ref"||typeof(r=e[t])=="object"&&OB(r))return!0}return!1}Yh.hasRef=OB;Yh.default=PPe});var LB=C($B=>{"use strict";Object.defineProperty($B,"__esModule",{value:!0});var OPe=/t|\s/i,$Pe=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,LPe=/^(\d\d):(\d\d):(\d\d)(?:\.\d+)?(?:z|([+-]\d\d)(?::?(\d\d))?)$/i,MPe=[0,31,28,31,30,31,30,31,31,30,31,30,31];function gV(e,t){let r=e.split(OPe);return r.length===2&&mV(r[0])&&FPe(r[1])||t&&r.length===1&&mV(r[0])}$B.default=gV;function mV(e){let t=$Pe.exec(e);if(!t)return!1;let r=+t[1],n=+t[2],s=+t[3];return n>=1&&n<=12&&s>=1&&(s<=MPe[n]||n===2&&s===29&&(r%100===0?r%400===0:r%4===0))}function FPe(e){let t=LPe.exec(e);if(!t)return!1;let r=+t[1],n=+t[2],s=+t[3],a=+(t[4]||0),o=+(t[5]||0);return r<=23&&n<=59&&s<=59||r-a===23&&n-o===59&&s===60}gV.code='require("ajv/dist/runtime/timestamp").default'});var vf=C(Nc=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});Nc.typeErrorParams=Nc.typeErrorMessage=Nc.typeError=void 0;var QPe=je();function UPe(e){return{message:t=>AV(t,e),params:t=>yV(t,e)}}Nc.typeError=UPe;function AV({parentSchema:e},t){return e?.nullable?`must be ${t} or null`:`must be ${t}`}Nc.typeErrorMessage=AV;function yV({parentSchema:e},t){return(0,QPe._)`{type: ${t}, nullable: ${!!e?.nullable}}`}Nc.typeErrorParams=yV});var MB=C(_f=>{"use strict";Object.defineProperty(_f,"__esModule",{value:!0});_f.intRange=void 0;var Ys=je(),qPe=LB(),jPe=ct(),HPe=xo(),bV=vf();_f.intRange={int8:[-128,127,3],uint8:[0,255,3],int16:[-32768,32767,5],uint16:[0,65535,5],int32:[-2147483648,2147483647,10],uint32:[0,4294967295,10]};var zPe={message:e=>(0,bV.typeErrorMessage)(e,e.schema),params:e=>(0,bV.typeErrorParams)(e,e.schema)};function GPe(e){let{gen:t,data:r,it:n}=e,{timestamp:s,allowDate:a}=n.opts;if(s==="date")return(0,Ys._)`${r} instanceof Date `;let o=(0,jPe.useFunc)(t,qPe.default),c=a?(0,Ys._)`, true`:Ys.nil,u=(0,Ys._)`typeof ${r} == "string" && ${o}(${r}${c})`;return s==="string"?u:(0,Ys.or)((0,Ys._)`${r} instanceof Date`,u)}var VPe={keyword:"type",schemaType:"string",error:zPe,code(e){(0,HPe.checkMetadata)(e);let{data:t,schema:r,parentSchema:n,it:s}=e,a;switch(r){case"boolean":case"string":a=(0,Ys._)`typeof ${t} == ${r}`;break;case"timestamp":{a=GPe(e);break}case"float32":case"float64":a=(0,Ys._)`typeof ${t} == "number"`;break;default:{let o=r;if(a=(0,Ys._)`typeof ${t} == "number" && isFinite(${t}) && !(${t} % 1)`,!s.opts.int32range&&(o==="int32"||o==="uint32"))o==="uint32"&&(a=(0,Ys._)`${a} && ${t} >= 0`);else{let[c,u]=_f.intRange[o];a=(0,Ys._)`${a} && ${t} >= ${c} && ${t} <= ${u}`}}}e.pass(n.nullable?(0,Ys.or)((0,Ys._)`${t} === null`,a):a)}};_f.default=VPe});var Cf=C(If=>{"use strict";Object.defineProperty(If,"__esModule",{value:!0});If.checkNullableObject=If.checkNullable=void 0;var Xb=je();function EV({gen:e,data:t,parentSchema:r},n=Xb.nil){let s=e.name("valid");return r.nullable?(e.let(s,(0,Xb._)`${t} === null`),n=(0,Xb.not)(s)):e.let(s,!1),[s,n]}If.checkNullable=EV;function KPe(e,t){let[r,n]=EV(e,t);return[r,(0,Xb._)`${n} && typeof ${e.data} == "object" && !Array.isArray(${e.data})`]}If.checkNullableObject=KPe});var xV=C(FB=>{"use strict";Object.defineProperty(FB,"__esModule",{value:!0});var kc=je(),YPe=xo(),WPe=Cf(),JPe={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,kc._)`{allowedValues: ${e}}`},XPe={keyword:"enum",schemaType:"array",error:JPe,code(e){(0,YPe.checkMetadata)(e);let{gen:t,data:r,schema:n,schemaValue:s,parentSchema:a,it:o}=e;if(n.length===0)throw new Error("enum must have non-empty array");if(n.length!==new Set(n).size)throw new Error("enum items must be unique");let c,u=(0,kc._)`typeof ${r} == "string"`;if(n.length>=o.opts.loopEnum){let d;[c,d]=(0,WPe.checkNullable)(e,u),t.if(d,l)}else{if(!Array.isArray(n))throw new Error("ajv implementation error");c=(0,kc.and)(u,(0,kc.or)(...n.map(d=>(0,kc._)`${r} === ${d}`))),a.nullable&&(c=(0,kc.or)((0,kc._)`${r} === null`,c))}e.pass(c);function l(){t.forOf("v",s,d=>t.if((0,kc._)`${c} = ${r} === ${d}`,()=>t.break()))}}};FB.default=XPe});var _V=C(QB=>{"use strict";Object.defineProperty(QB,"__esModule",{value:!0});var ZPe=ct(),eOe=wn(),vV=je(),tOe=xo(),rOe=Cf(),nOe=vf(),sOe={keyword:"elements",schemaType:"object",error:(0,nOe.typeError)("array"),code(e){(0,tOe.checkMetadata)(e);let{gen:t,data:r,schema:n,it:s}=e;if((0,ZPe.alwaysValidSchema)(s,n))return;let[a]=(0,rOe.checkNullable)(e);t.if((0,vV.not)(a),()=>t.if((0,vV._)`Array.isArray(${r})`,()=>t.assign(a,(0,eOe.validateArray)(e)),()=>e.error())),e.ok(a)}};QB.default=sOe});var qB=C(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.validateProperties=Dc.error=void 0;var UB=wn(),IV=ct(),vo=je(),iOe=xo(),aOe=Cf(),CV=vf(),wf;(function(e){e.Additional="additional",e.Missing="missing"})(wf||(wf={}));Dc.error={message:e=>{let{params:t}=e;return t.propError?t.propError===wf.Additional?"must NOT have additional properties":`must have property '${t.missingProperty}'`:(0,CV.typeErrorMessage)(e,"object")},params:e=>{let{params:t}=e;return t.propError?t.propError===wf.Additional?(0,vo._)`{error: ${t.propError}, additionalProperty: ${t.additionalProperty}}`:(0,vo._)`{error: ${t.propError}, missingProperty: ${t.missingProperty}}`:(0,CV.typeErrorParams)(e,"object")}};var oOe={keyword:"properties",schemaType:"object",error:Dc.error,code:wV};function wV(e){(0,iOe.checkMetadata)(e);let{gen:t,data:r,parentSchema:n,it:s}=e,{additionalProperties:a,nullable:o}=n;if(s.jtdDiscriminator&&o)throw new Error("JTD: nullable inside discriminator mapping");if(m())throw new Error("JTD: properties and optionalProperties have common members");let[c,u]=h("properties"),[l,d]=h("optionalProperties");if(u.length===0&&d.length===0&&a)return;let[f,p]=s.jtdDiscriminator===void 0?(0,aOe.checkNullableObject)(e,r):[t.let("valid",!1),!0];t.if(p,()=>t.assign(f,!0).block(()=>{g(u,"properties",!0),g(d,"optionalProperties"),a||y()})),e.pass(f);function m(){let b=n.properties,E=n.optionalProperties;if(!(b&&E))return!1;for(let I in b)if(Object.prototype.hasOwnProperty.call(E,I))return!0;return!1}function h(b){let E=n[b],I=E?(0,UB.allSchemaProperties)(E):[];if(s.jtdDiscriminator&&I.some(S=>S===s.jtdDiscriminator))throw new Error(`JTD: discriminator tag used in ${b}`);let w=I.filter(S=>!(0,IV.alwaysValidSchema)(s,E[S]));return[I,w]}function g(b,E,I){let w=t.var("valid");for(let T of b)t.if((0,UB.propertyInData)(t,r,T,s.opts.ownProperties),()=>A(T,E,w),()=>S(T)),e.ok(w);function S(T){I?(t.assign(w,!1),e.error(!1,{propError:wf.Missing,missingProperty:T},{schemaPath:T})):t.assign(w,!0)}}function A(b,E,I){e.subschema({keyword:E,schemaProp:b,dataProp:b},I)}function y(){t.forIn("key",r,b=>{let E=v(b,c,"properties",s.jtdDiscriminator),I=v(b,l,"optionalProperties"),w=E===!0?I:I===!0?E:(0,vo.and)(E,I);t.if(w,()=>{s.opts.removeAdditional?t.code((0,vo._)`delete ${r}[${b}]`):(e.error(!1,{propError:wf.Additional,additionalProperty:b},{instancePath:b,parentSchema:!0}),s.opts.allErrors||t.break())})})}function v(b,E,I,w){let S;if(E.length>8){let T=(0,IV.schemaRefOrVal)(s,n[I],I);S=(0,vo.not)((0,UB.isOwnProperty)(t,T,b)),w!==void 0&&(S=(0,vo.and)(S,(0,vo._)`${b} !== ${w}`))}else if(E.length||w!==void 0){let T=w===void 0?E:[w].concat(E);S=(0,vo.and)(...T.map(B=>(0,vo._)`${b} !== ${B}`))}else S=!0;return S}}Dc.validateProperties=wV;Dc.default=oOe});var TV=C(jB=>{"use strict";Object.defineProperty(jB,"__esModule",{value:!0});var SV=qB(),cOe={keyword:"optionalProperties",schemaType:"object",error:SV.error,code(e){e.parentSchema.properties||(0,SV.validateProperties)(e)}};jB.default=cOe});var RV=C(HB=>{"use strict";Object.defineProperty(HB,"__esModule",{value:!0});var ml=je(),uOe=xo(),lOe=Cf(),BV=vf(),Zb=NB(),dOe={message:e=>{let{schema:t,params:r}=e;return r.discrError?r.discrError===Zb.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in mapping`:(0,BV.typeErrorMessage)(e,"object")},params:e=>{let{schema:t,params:r}=e;return r.discrError?(0,ml._)`{error: ${r.discrError}, tag: ${t}, tagValue: ${r.tag}}`:(0,BV.typeErrorParams)(e,"object")}},fOe={keyword:"discriminator",schemaType:"string",implements:["mapping"],error:dOe,code(e){(0,uOe.checkMetadata)(e);let{gen:t,data:r,schema:n,parentSchema:s}=e,[a,o]=(0,lOe.checkNullableObject)(e,r);t.if(o),c(),t.elseIf((0,ml.not)(a)),e.error(),t.endIf(),e.ok(a);function c(){let d=t.const("tag",(0,ml._)`${r}${(0,ml.getProperty)(n)}`);t.if((0,ml._)`${d} === undefined`),e.error(!1,{discrError:Zb.DiscrError.Tag,tag:d}),t.elseIf((0,ml._)`typeof ${d} == "string"`),u(d),t.else(),e.error(!1,{discrError:Zb.DiscrError.Tag,tag:d},{instancePath:n}),t.endIf()}function u(d){t.if(!1);for(let f in s.mapping)t.elseIf((0,ml._)`${d} === ${f}`),t.assign(a,l(f));t.else(),e.error(!1,{discrError:Zb.DiscrError.Mapping,tag:d},{instancePath:n,schemaPath:"mapping",parentSchema:!0}),t.endIf()}function l(d){let f=t.name("valid");return e.subschema({keyword:"mapping",schemaProp:d,jtdDiscriminator:n},f),f}}};HB.default=fOe});var kV=C(zB=>{"use strict";Object.defineProperty(zB,"__esModule",{value:!0});var NV=ct(),eE=je(),pOe=xo(),hOe=Cf(),mOe=vf(),gOe={keyword:"values",schemaType:"object",error:(0,mOe.typeError)("object"),code(e){(0,pOe.checkMetadata)(e);let{gen:t,data:r,schema:n,it:s}=e,[a,o]=(0,hOe.checkNullableObject)(e,r);(0,NV.alwaysValidSchema)(s,n)?t.if((0,eE.not)((0,eE.or)(o,a)),()=>e.error()):(t.if(o),t.assign(a,c()),t.elseIf((0,eE.not)(a)),e.error(),t.endIf()),e.ok(a);function c(){let u=t.name("valid");if(s.allErrors){let d=t.let("valid",!0);return l(()=>t.assign(d,!1)),d}return t.var(u,!0),l(()=>t.break()),u;function l(d){t.forIn("key",r,f=>{e.subschema({keyword:"values",dataProp:f,dataPropType:NV.Type.Str},u),t.if((0,eE.not)(u),d)})}}}};zB.default=gOe});var DV=C(GB=>{"use strict";Object.defineProperty(GB,"__esModule",{value:!0});var AOe=wn(),yOe={keyword:"union",schemaType:"array",trackErrors:!0,code:AOe.validateUnion,error:{message:"must match a schema in union"}};GB.default=yOe});var PV=C(VB=>{"use strict";Object.defineProperty(VB,"__esModule",{value:!0});var bOe=Jb(),EOe=MB(),xOe=xV(),vOe=_V(),_Oe=qB(),IOe=TV(),COe=RV(),wOe=kV(),SOe=DV(),TOe=xo(),BOe=["definitions",bOe.default,EOe.default,xOe.default,vOe.default,_Oe.default,IOe.default,COe.default,wOe.default,SOe.default,TOe.default,{keyword:"additionalProperties",schemaType:"boolean"},{keyword:"nullable",schemaType:"boolean"}];VB.default=BOe});var MV=C(KB=>{"use strict";Object.defineProperty(KB,"__esModule",{value:!0});var _o=e=>{let t={nullable:{type:"boolean"},metadata:{optionalProperties:{union:{elements:{ref:"schema"}}},additionalProperties:!0}};return e&&(t.definitions={values:{ref:"schema"}}),t},ROe=e=>({optionalProperties:_o(e)}),NOe=e=>({properties:{ref:{type:"string"}},optionalProperties:_o(e)}),kOe=e=>({properties:{type:{enum:["boolean","timestamp","string","float32","float64","int8","uint8","int16","uint16","int32","uint32"]}},optionalProperties:_o(e)}),DOe=e=>({properties:{enum:{elements:{type:"string"}}},optionalProperties:_o(e)}),POe=e=>({properties:{elements:{ref:"schema"}},optionalProperties:_o(e)}),$V=e=>({properties:{properties:{values:{ref:"schema"}}},optionalProperties:{optionalProperties:{values:{ref:"schema"}},additionalProperties:{type:"boolean"},..._o(e)}}),LV=e=>({properties:{optionalProperties:{values:{ref:"schema"}}},optionalProperties:{additionalProperties:{type:"boolean"},..._o(e)}}),OOe=e=>({properties:{discriminator:{type:"string"},mapping:{values:{metadata:{union:[$V(!1),LV(!1)]}}}},optionalProperties:_o(e)}),$Oe=e=>({properties:{values:{ref:"schema"}},optionalProperties:_o(e)}),OV=e=>({metadata:{union:[ROe,NOe,kOe,DOe,POe,$V,LV,OOe,$Oe].map(t=>t(e))}}),LOe={definitions:{schema:OV(!1)},...OV(!0)};KB.default=LOe});var YB=C(tE=>{"use strict";Object.defineProperty(tE,"__esModule",{value:!0});tE.jtdForms=void 0;tE.jtdForms=["elements","values","discriminator","properties","optionalProperties","enum","type","ref"]});var QV=C(JB=>{"use strict";Object.defineProperty(JB,"__esModule",{value:!0});var WB=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,MOe={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function FV(e){return WB.lastIndex=0,'"'+(WB.test(e)?e.replace(WB,t=>{let r=MOe[t];return typeof r=="string"?r:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}):e)+'"'}JB.default=FV;FV.code='require("ajv/dist/runtime/quote").default'});var GV=C(ZB=>{"use strict";Object.defineProperty(ZB,"__esModule",{value:!0});var FOe=YB(),qV=dl(),vt=je(),QOe=bo(),pr=pi(),UOe=wn(),qOe=Jb(),jOe=ct(),HOe=QV(),zOe={elements:VOe,values:KOe,discriminator:YOe,properties:UV,optionalProperties:UV,enum:Wh,type:WOe,ref:XOe};function jV(e,t){let r=qV.getCompilingSchema.call(this,e);if(r)return r;let{es5:n,lines:s}=this.opts.code,{ownProperties:a}=this.opts,o=new vt.CodeGen(this.scope,{es5:n,lines:s,ownProperties:a}),c=o.scopeName("serialize"),u={self:this,gen:o,schema:e.schema,schemaEnv:e,definitions:t,data:pr.default.data},l;try{this._compilations.add(e),e.serializeName=c,o.func(c,pr.default.data,!1,()=>{o.let(pr.default.json,(0,vt.str)``),Jh(u),o.return(pr.default.json)}),o.optimize(this.opts.code.optimize);let d=o.toString();l=`${o.scopeRefs(pr.default.scope)}return ${d}`;let p=new Function(`${pr.default.scope}`,l)(this.scope.get());this.scope.value(c,{ref:p}),e.serialize=p}catch(d){throw l&&this.logger.error("Error compiling serializer, function code:",l),delete e.serialize,delete e.serializeName,d}finally{this._compilations.delete(e)}return e}ZB.default=jV;function Jh(e){let t;for(let r of FOe.jtdForms)if(r in e.schema){t=r;break}GOe(e,t?zOe[t]:e5e)}function GOe(e,t){let{gen:r,schema:n,data:s}=e;if(!n.nullable)return t(e);r.if((0,vt._)`${s} === undefined || ${s} === null`,()=>r.add(pr.default.json,(0,vt._)`"null"`),()=>t(e))}function VOe(e){let{gen:t,schema:r,data:n}=e;t.add(pr.default.json,(0,vt.str)`[`);let s=t.let("first",!0);t.forOf("el",n,a=>{XB(e,s),Jh({...e,schema:r.elements,data:a})}),t.add(pr.default.json,(0,vt.str)`]`)}function KOe(e){let{gen:t,schema:r,data:n}=e;t.add(pr.default.json,(0,vt.str)`{`);let s=t.let("first",!0);t.forIn("key",n,a=>HV(e,a,r.values,s)),t.add(pr.default.json,(0,vt.str)`}`)}function HV(e,t,r,n){let{gen:s,data:a}=e;XB(e,n),Wh({...e,data:t}),s.add(pr.default.json,(0,vt.str)`:`);let o=s.const("value",(0,vt._)`${a}${(0,vt.getProperty)(t)}`);Jh({...e,schema:r,data:o})}function YOe(e){let{gen:t,schema:r,data:n}=e,{discriminator:s}=r;t.add(pr.default.json,(0,vt.str)`{${JSON.stringify(s)}:`);let a=t.const("tag",(0,vt._)`${n}${(0,vt.getProperty)(s)}`);Wh({...e,data:a}),t.if(!1);for(let o in r.mapping){t.elseIf((0,vt._)`${a} === ${o}`);let c=r.mapping[o];zV({...e,schema:c},s)}t.endIf(),t.add(pr.default.json,(0,vt.str)`}`)}function UV(e){let{gen:t}=e;t.add(pr.default.json,(0,vt.str)`{`),zV(e),t.add(pr.default.json,(0,vt.str)`}`)}function zV(e,t){let{gen:r,schema:n,data:s}=e,{properties:a,optionalProperties:o}=n,c=p(a),u=p(o),l=m(c.concat(u)),d=!t,f;for(let y of c)d?d=!1:r.add(pr.default.json,(0,vt.str)`,`),g(y,a[y],h(y));d&&(f=r.let("first",!0));for(let y of u){let v=h(y);r.if((0,vt.and)((0,vt._)`${v} !== undefined`,(0,UOe.isOwnProperty)(r,s,y)),()=>{XB(e,f),g(y,o[y],v)})}n.additionalProperties&&r.forIn("key",s,y=>r.if(A(y,l),()=>HV(e,y,{},f)));function p(y){return y?Object.keys(y):[]}function m(y){if(t&&y.push(t),new Set(y).size!==y.length)throw new Error("JTD: properties/optionalProperties/disciminator overlap");return y}function h(y){return r.const("value",(0,vt._)`${s}${(0,vt.getProperty)(y)}`)}function g(y,v,b){r.add(pr.default.json,(0,vt.str)`${JSON.stringify(y)}:`),Jh({...e,schema:v,data:b})}function A(y,v){return v.length?(0,vt.and)(...v.map(b=>(0,vt._)`${y} !== ${b}`)):!0}}function WOe(e){let{gen:t,schema:r,data:n}=e;switch(r.type){case"boolean":t.add(pr.default.json,(0,vt._)`${n} ? "true" : "false"`);break;case"string":Wh(e);break;case"timestamp":t.if((0,vt._)`${n} instanceof Date`,()=>t.add(pr.default.json,(0,vt._)`'"' + ${n}.toISOString() + '"'`),()=>Wh(e));break;default:JOe(e)}}function Wh({gen:e,data:t}){e.add(pr.default.json,(0,vt._)`${(0,jOe.useFunc)(e,HOe.default)}(${t})`)}function JOe({gen:e,data:t}){e.add(pr.default.json,(0,vt._)`"" + ${t}`)}function XOe(e){let{gen:t,self:r,data:n,definitions:s,schema:a,schemaEnv:o}=e,{ref:c}=a,u=s[c];if(!u)throw new QOe.default(r.opts.uriResolver,"",c,`No definition ${c}`);if(!(0,qOe.hasRef)(u))return Jh({...e,schema:u});let{root:l}=o,d=jV.call(r,new qV.SchemaEnv({schema:u,root:l}),s);t.add(pr.default.json,(0,vt._)`${ZOe(t,d)}(${n})`)}function ZOe(e,t){return t.serialize?e.scopeValue("serialize",{ref:t.serialize}):(0,vt._)`${e.scopeValue("wrapper",{ref:t})}.serialize`}function e5e({gen:e,data:t}){e.add(pr.default.json,(0,vt._)`JSON.stringify(${t})`)}function XB({gen:e},t){t?e.if(t,()=>e.assign(t,!1),()=>e.add(pr.default.json,(0,vt.str)`,`)):e.add(pr.default.json,(0,vt.str)`,`)}});var KV=C(Oc=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});Oc.parseJsonString=Oc.parseJsonNumber=Oc.parseJson=void 0;var t5e=/position\s(\d+)(?: \(line \d+ column \d+\))?$/;function Io(e,t){let r;Io.message=void 0;let n;t&&(e=e.slice(t));try{return Io.position=t+e.length,JSON.parse(e)}catch(s){if(n=t5e.exec(s.message),!n){Io.message="unexpected end";return}r=+n[1];let a=e[r];e=e.slice(0,r),Io.position=t+r;try{return JSON.parse(e)}catch{Io.message=`unexpected token ${a}`;return}}}Oc.parseJson=Io;Io.message=void 0;Io.position=0;Io.code='require("ajv/dist/runtime/parseJson").parseJson';function Co(e,t,r){let n="",s;if(Co.message=void 0,e[t]==="-"&&(n+="-",t++),e[t]==="0")n+="0",t++;else if(!a(r)){o();return}if(r)return Co.position=t,+n;if(e[t]==="."&&(n+=".",t++,!a())){o();return}if(s=e[t],(s==="e"||s==="E")&&(n+="e",t++,s=e[t],(s==="+"||s==="-")&&(n+=s,t++),!a())){o();return}return Co.position=t,+n;function a(c){let u=!1;for(;s=e[t],s>="0"&&s<="9"&&(c===void 0||c-- >0);)u=!0,n+=s,t++;return u}function o(){Co.position=t,Co.message=t<e.length?`unexpected token ${e[t]}`:"unexpected end"}}Oc.parseJsonNumber=Co;Co.message=void 0;Co.position=0;Co.code='require("ajv/dist/runtime/parseJson").parseJsonNumber';var VV={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",'"':'"',"/":"/","\\":"\\"},r5e=97,n5e=48;function Pc(e,t){let r="",n;for(Pc.message=void 0;n=e[t++],n!=='"';)if(n==="\\")if(n=e[t],n in VV)r+=VV[n],t++;else if(n==="u"){t++;let a=4,o=0;for(;a--;){if(o<<=4,n=e[t],n===void 0){s("unexpected end");return}if(n=n.toLowerCase(),n>="a"&&n<="f")o+=n.charCodeAt(0)-r5e+10;else if(n>="0"&&n<="9")o+=n.charCodeAt(0)-n5e;else{s(`unexpected token ${n}`);return}t++}r+=String.fromCharCode(o)}else{s(`unexpected token ${n}`);return}else if(n===void 0){s("unexpected end");return}else if(n.charCodeAt(0)>=32)r+=n;else{s(`unexpected token ${n}`);return}return Pc.position=t,r;function s(a){Pc.position=t,Pc.message=a}}Oc.parseJsonString=Pc;Pc.message=void 0;Pc.position=0;Pc.code='require("ajv/dist/runtime/parseJson").parseJsonString'});var iK=C(o4=>{"use strict";Object.defineProperty(o4,"__esModule",{value:!0});var s5e=YB(),XV=dl(),qe=je(),i5e=bo(),Et=pi(),a5e=wn(),o5e=Jb(),c5e=MB(),r4=KV(),ZV=ct(),u5e=LB(),l5e={elements:h5e,values:m5e,discriminator:A5e,properties:YV,optionalProperties:YV,enum:b5e,type:y5e,ref:E5e};function eK(e,t){let r=XV.getCompilingSchema.call(this,e);if(r)return r;let{es5:n,lines:s}=this.opts.code,{ownProperties:a}=this.opts,o=new qe.CodeGen(this.scope,{es5:n,lines:s,ownProperties:a}),c=o.scopeName("parse"),u={self:this,gen:o,schema:e.schema,schemaEnv:e,definitions:t,data:Et.default.data,parseName:c,char:o.name("c")},l;try{this._compilations.add(e),e.parseName=c,d5e(u),o.optimize(this.opts.code.optimize);let d=o.toString();l=`${o.scopeRefs(Et.default.scope)}return ${d}`;let p=new Function(`${Et.default.scope}`,l)(this.scope.get());this.scope.value(c,{ref:p}),e.parse=p}catch(d){throw l&&this.logger.error("Error compiling parser, function code:",l),delete e.parse,delete e.parseName,d}finally{this._compilations.delete(e)}return e}o4.default=eK;var t4=(0,qe._)`undefined`;function d5e(e){let{gen:t,parseName:r,char:n}=e;t.func(r,(0,qe._)`${Et.default.json}, ${Et.default.jsonPos}, ${Et.default.jsonPart}`,!1,()=>{t.let(Et.default.data),t.let(n),t.assign((0,qe._)`${r}.message`,t4),t.assign((0,qe._)`${r}.position`,t4),t.assign(Et.default.jsonPos,(0,qe._)`${Et.default.jsonPos} || 0`),t.const(Et.default.jsonLen,(0,qe._)`${Et.default.json}.length`),rE(e),a4(e),t.if(Et.default.jsonPart,()=>{t.assign((0,qe._)`${r}.position`,Et.default.jsonPos),t.return(Et.default.data)}),t.if((0,qe._)`${Et.default.jsonPos} === ${Et.default.jsonLen}`,()=>t.return(Et.default.data)),Sf(e)})}function rE(e){let t;for(let r of s5e.jtdForms)if(r in e.schema){t=r;break}t?p5e(e,l5e[t]):s4(e)}var f5e=JV(!0,JV(!1,Sf));function p5e(e,t){let{gen:r,schema:n,data:s}=e;if(!n.nullable)return t(e);Xh(e,"null",t,()=>r.assign(s,null))}function h5e(e){let{gen:t,schema:r,data:n}=e;Ra(e,"[");let s=t.let("i",0);t.assign(n,(0,qe._)`[]`),n4(e,"]",()=>{let a=t.let("el");rE({...e,schema:r.elements,data:a}),t.assign((0,qe._)`${n}[${s}++]`,a)})}function m5e(e){let{gen:t,schema:r,data:n}=e;Ra(e,"{"),t.assign(n,(0,qe._)`{}`),n4(e,"}",()=>g5e(e,r.values))}function n4(e,t,r){tK(e,t,r),Ra(e,t)}function tK(e,t,r){let{gen:n}=e;n.for((0,qe._)`;${Et.default.jsonPos}<${Et.default.jsonLen} && ${nE(1)}!==${t};`,()=>{r(),Xh(e,",",()=>n.break(),s)});function s(){Xh(e,t,()=>{},Sf)}}function g5e(e,t){let{gen:r}=e,n=r.let("key");gl({...e,data:n}),Ra(e,":"),nK(e,n,t)}function A5e(e){let{gen:t,data:r,schema:n}=e,{discriminator:s,mapping:a}=n;Ra(e,"{"),t.assign(r,(0,qe._)`{}`);let o=t.const("pos",Et.default.jsonPos),c=t.let("value"),u=t.let("tag");tK(e,"}",()=>{let l=t.let("key");gl({...e,data:l}),Ra(e,":"),t.if((0,qe._)`${l} === ${s}`,()=>{gl({...e,data:u}),t.assign((0,qe._)`${r}[${l}]`,u),t.break()},()=>s4({...e,data:c}))}),t.assign(Et.default.jsonPos,o),t.if((0,qe._)`${u} === undefined`),wo(e,(0,qe.str)`discriminator tag not found`);for(let l in a)t.elseIf((0,qe._)`${u} === ${l}`),rK({...e,schema:a[l]},s);t.else(),wo(e,(0,qe.str)`discriminator value not in schema`),t.endIf()}function YV(e){let{gen:t,data:r}=e;Ra(e,"{"),t.assign(r,(0,qe._)`{}`),rK(e)}function rK(e,t){let{gen:r,schema:n,data:s}=e,{properties:a,optionalProperties:o,additionalProperties:c}=n;if(n4(e,"}",()=>{let u=r.let("key");if(gl({...e,data:u}),Ra(e,":"),r.if(!1),WV(e,u,a),WV(e,u,o),t){r.elseIf((0,qe._)`${u} === ${t}`);let l=r.let("tag");gl({...e,data:l})}r.else(),c?s4({...e,data:(0,qe._)`${s}[${u}]`}):wo(e,(0,qe.str)`property ${u} not allowed`),r.endIf()}),a){let u=(0,a5e.hasPropFunc)(r),l=(0,qe.and)(...Object.keys(a).map(d=>(0,qe._)`${u}.call(${s}, ${d})`));r.if((0,qe.not)(l),()=>wo(e,(0,qe.str)`missing required properties`))}}function WV(e,t,r={}){let{gen:n}=e;for(let s in r)n.elseIf((0,qe._)`${t} === ${s}`),nK(e,t,r[s])}function nK(e,t,r){rE({...e,schema:r,data:(0,qe._)`${e.data}[${t}]`})}function y5e(e){let{gen:t,schema:r,data:n,self:s}=e;switch(r.type){case"boolean":f5e(e);break;case"string":gl(e);break;case"timestamp":{gl(e);let a=(0,ZV.useFunc)(t,u5e.default),{allowDate:o,parseDate:c}=s.opts,u=o?(0,qe._)`!${a}(${n}, true)`:(0,qe._)`!${a}(${n})`,l=c?(0,qe.or)(u,(0,qe._)`(${n} = new Date(${n}), false)`,(0,qe._)`isNaN(${n}.valueOf())`):u;t.if(l,()=>wo(e,(0,qe.str)`invalid timestamp`));break}case"float32":case"float64":e4(e);break;default:{let a=r.type;if(!s.opts.int32range&&(a==="int32"||a==="uint32"))e4(e,16),a==="uint32"&&t.if((0,qe._)`${n} < 0`,()=>wo(e,(0,qe.str)`integer out of range`));else{let[o,c,u]=c5e.intRange[a];e4(e,u),t.if((0,qe._)`${n} < ${o} || ${n} > ${c}`,()=>wo(e,(0,qe.str)`integer out of range`))}}}}function gl(e){Ra(e,'"'),i4(e,r4.parseJsonString)}function b5e(e){let{gen:t,data:r,schema:n}=e,s=n.enum;Ra(e,'"'),t.if(!1);for(let a of s){let o=JSON.stringify(a).slice(1);t.elseIf((0,qe._)`${nE(o.length)} === ${o}`),t.assign(r,(0,qe.str)`${a}`),t.add(Et.default.jsonPos,o.length)}t.else(),Sf(e),t.endIf()}function e4(e,t){let{gen:r}=e;a4(e),r.if((0,qe._)`"-0123456789".indexOf(${nE(1)}) < 0`,()=>Sf(e),()=>i4(e,r4.parseJsonNumber,t))}function JV(e,t){return r=>{let{gen:n,data:s}=r;Xh(r,`${e}`,()=>t(r),()=>n.assign(s,e))}}function E5e(e){let{gen:t,self:r,definitions:n,schema:s,schemaEnv:a}=e,{ref:o}=s,c=n[o];if(!c)throw new i5e.default(r.opts.uriResolver,"",o,`No definition ${o}`);if(!(0,o5e.hasRef)(c))return rE({...e,schema:c});let{root:u}=a,l=eK.call(r,new XV.SchemaEnv({schema:c,root:u}),n);sK(e,x5e(t,l),!0)}function x5e(e,t){return t.parse?e.scopeValue("parse",{ref:t.parse}):(0,qe._)`${e.scopeValue("wrapper",{ref:t})}.parse`}function s4(e){i4(e,r4.parseJson)}function i4(e,t,r){sK(e,(0,ZV.useFunc)(e.gen,t),r)}function sK(e,t,r){let{gen:n,data:s}=e;n.assign(s,(0,qe._)`${t}(${Et.default.json}, ${Et.default.jsonPos}${r?(0,qe._)`, ${r}`:qe.nil})`),n.assign(Et.default.jsonPos,(0,qe._)`${t}.position`),n.if((0,qe._)`${s} === undefined`,()=>wo(e,(0,qe._)`${t}.message`))}function Ra(e,t){Xh(e,t,Sf)}function Xh(e,t,r,n){let{gen:s}=e,a=t.length;a4(e),s.if((0,qe._)`${nE(a)} === ${t}`,()=>{s.add(Et.default.jsonPos,a),n?.(e)},()=>r(e))}function a4({gen:e,char:t}){e.code((0,qe._)`while((${t}=${Et.default.json}[${Et.default.jsonPos}],${t}===" "||${t}==="\\n"||${t}==="\\r"||${t}==="\\t"))${Et.default.jsonPos}++;`)}function nE(e){return e===1?(0,qe._)`${Et.default.json}[${Et.default.jsonPos}]`:(0,qe._)`${Et.default.json}.slice(${Et.default.jsonPos}, ${Et.default.jsonPos}+${e})`}function Sf(e){wo(e,(0,qe._)`"unexpected token " + ${Et.default.json}[${Et.default.jsonPos}]`)}function wo({gen:e,parseName:t},r){e.assign((0,qe._)`${t}.message`,r),e.assign((0,qe._)`${t}.position`,Et.default.jsonPos),e.return(t4)}});var l4=C((_r,u4)=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});_r.MissingRefError=_r.ValidationError=_r.CodeGen=_r.Name=_r.nil=_r.stringify=_r.str=_r._=_r.KeywordCxt=_r.Ajv=void 0;var v5e=j3(),_5e=PV(),I5e=MV(),C5e=GV(),w5e=iK(),c4="JTD-meta-schema",Tf=class extends v5e.default{constructor(t={}){super({...t,jtd:!0})}_addVocabularies(){super._addVocabularies(),this.addVocabulary(_5e.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema(),this.opts.meta&&this.addMetaSchema(I5e.default,c4,!1)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(c4)?c4:void 0)}compileSerializer(t){let r=this._addSchema(t);return r.serialize||this._compileSerializer(r)}compileParser(t){let r=this._addSchema(t);return r.parse||this._compileParser(r)}_compileSerializer(t){if(C5e.default.call(this,t,t.schema.definitions||{}),!t.serialize)throw new Error("ajv implementation error");return t.serialize}_compileParser(t){if(w5e.default.call(this,t,t.schema.definitions||{}),!t.parse)throw new Error("ajv implementation error");return t.parse}};_r.Ajv=Tf;u4.exports=_r=Tf;u4.exports.Ajv=Tf;Object.defineProperty(_r,"__esModule",{value:!0});_r.default=Tf;var S5e=hf();Object.defineProperty(_r,"KeywordCxt",{enumerable:!0,get:function(){return S5e.KeywordCxt}});var Bf=je();Object.defineProperty(_r,"_",{enumerable:!0,get:function(){return Bf._}});Object.defineProperty(_r,"str",{enumerable:!0,get:function(){return Bf.str}});Object.defineProperty(_r,"stringify",{enumerable:!0,get:function(){return Bf.stringify}});Object.defineProperty(_r,"nil",{enumerable:!0,get:function(){return Bf.nil}});Object.defineProperty(_r,"Name",{enumerable:!0,get:function(){return Bf.Name}});Object.defineProperty(_r,"CodeGen",{enumerable:!0,get:function(){return Bf.CodeGen}});var T5e=Dh();Object.defineProperty(_r,"ValidationError",{enumerable:!0,get:function(){return T5e.default}});var B5e=bo();Object.defineProperty(_r,"MissingRefError",{enumerable:!0,get:function(){return B5e.default}})});var d4=C((wpt,aK)=>{"use strict";var R5e=RS();aK.exports=Object.freeze({coerceTypes:"array",useDefaults:!0,removeAdditional:!0,uriResolver:R5e,addUsedSchema:!1,allErrors:!1})});var fK=C(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.formatNames=Na.fastFormats=Na.fullFormats=void 0;function Rf(e,t){return{validate:e,compare:t}}Na.fullFormats={date:Rf(uK,h4),time:Rf(lK,m4),"date-time":Rf(P5e,dK),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:L5e,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:H5e,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:M5e,int32:{type:"number",validate:U5e},int64:{type:"number",validate:q5e},float:{type:"number",validate:cK},double:{type:"number",validate:cK},password:!0,binary:!0};Na.fastFormats={...Na.fullFormats,date:Rf(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,h4),time:Rf(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,m4),"date-time":Rf(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,dK),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i};Na.formatNames=Object.keys(Na.fullFormats);function N5e(e){return e%4===0&&(e%100!==0||e%400===0)}var k5e=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,D5e=[0,31,28,31,30,31,30,31,31,30,31,30,31];function uK(e){let t=k5e.exec(e);if(!t)return!1;let r=+t[1],n=+t[2],s=+t[3];return n>=1&&n<=12&&s>=1&&s<=(n===2&&N5e(r)?29:D5e[n])}function h4(e,t){if(e&&t)return e>t?1:e<t?-1:0}var f4=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function lK(e,t){let r=f4.exec(e);if(!r)return!1;let n=+r[1],s=+r[2],a=+r[3],o=r[5];return(n<=23&&s<=59&&a<=59||n===23&&s===59&&a===60)&&(!t||o!=="")}function m4(e,t){if(!(e&&t))return;let r=f4.exec(e),n=f4.exec(t);if(r&&n)return e=r[1]+r[2]+r[3]+(r[4]||""),t=n[1]+n[2]+n[3]+(n[4]||""),e>t?1:e<t?-1:0}var p4=/t|\s/i;function P5e(e){let t=e.split(p4);return t.length===2&&uK(t[0])&&lK(t[1],!0)}function dK(e,t){if(!(e&&t))return;let[r,n]=e.split(p4),[s,a]=t.split(p4),o=h4(r,s);if(o!==void 0)return o||m4(n,a)}var O5e=/\/|:/,$5e=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function L5e(e){return O5e.test(e)&&$5e.test(e)}var oK=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function M5e(e){return oK.lastIndex=0,oK.test(e)}var F5e=-(2**31),Q5e=2**31-1;function U5e(e){return Number.isInteger(e)&&e<=Q5e&&e>=F5e}function q5e(e){return Number.isInteger(e)}function cK(){return!0}var j5e=/[^\\]\\Z/;function H5e(e){if(j5e.test(e))return!1;try{return new RegExp(e),!0}catch{return!1}}});var tm=C(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.regexpCode=Mt.getEsmExportName=Mt.getProperty=Mt.safeStringify=Mt.stringify=Mt.strConcat=Mt.addCodeArg=Mt.str=Mt._=Mt.nil=Mt._Code=Mt.Name=Mt.IDENTIFIER=Mt._CodeOrName=void 0;var Zh=class{};Mt._CodeOrName=Zh;Mt.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var Al=class extends Zh{constructor(t){if(super(),!Mt.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};Mt.Name=Al;var gi=class extends Zh{constructor(t){super(),this._items=typeof t=="string"?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let t=this._items[0];return t===""||t==='""'}get str(){var t;return(t=this._str)!==null&&t!==void 0?t:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var t;return(t=this._names)!==null&&t!==void 0?t:this._names=this._items.reduce((r,n)=>(n instanceof Al&&(r[n.str]=(r[n.str]||0)+1),r),{})}};Mt._Code=gi;Mt.nil=new gi("");function pK(e,...t){let r=[e[0]],n=0;for(;n<t.length;)A4(r,t[n]),r.push(e[++n]);return new gi(r)}Mt._=pK;var g4=new gi("+");function hK(e,...t){let r=[em(e[0])],n=0;for(;n<t.length;)r.push(g4),A4(r,t[n]),r.push(g4,em(e[++n]));return z5e(r),new gi(r)}Mt.str=hK;function A4(e,t){t instanceof gi?e.push(...t._items):t instanceof Al?e.push(t):e.push(K5e(t))}Mt.addCodeArg=A4;function z5e(e){let t=1;for(;t<e.length-1;){if(e[t]===g4){let r=G5e(e[t-1],e[t+1]);if(r!==void 0){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}function G5e(e,t){if(t==='""')return e;if(e==='""')return t;if(typeof e=="string")return t instanceof Al||e[e.length-1]!=='"'?void 0:typeof t!="string"?`${e.slice(0,-1)}${t}"`:t[0]==='"'?e.slice(0,-1)+t.slice(1):void 0;if(typeof t=="string"&&t[0]==='"'&&!(e instanceof Al))return`"${e}${t.slice(1)}`}function V5e(e,t){return t.emptyStr()?e:e.emptyStr()?t:hK`${e}${t}`}Mt.strConcat=V5e;function K5e(e){return typeof e=="number"||typeof e=="boolean"||e===null?e:em(Array.isArray(e)?e.join(","):e)}function Y5e(e){return new gi(em(e))}Mt.stringify=Y5e;function em(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}Mt.safeStringify=em;function W5e(e){return typeof e=="string"&&Mt.IDENTIFIER.test(e)?new gi(`.${e}`):pK`[${e}]`}Mt.getProperty=W5e;function J5e(e){if(typeof e=="string"&&Mt.IDENTIFIER.test(e))return new gi(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)}Mt.getEsmExportName=J5e;function X5e(e){return new gi(e.toString())}Mt.regexpCode=X5e});var E4=C(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.ValueScope=Ns.ValueScopeName=Ns.Scope=Ns.varKinds=Ns.UsedValueState=void 0;var Rs=tm(),y4=class extends Error{constructor(t){super(`CodeGen: "code" for ${t} not defined`),this.value=t.value}},sE;(function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"})(sE||(Ns.UsedValueState=sE={}));Ns.varKinds={const:new Rs.Name("const"),let:new Rs.Name("let"),var:new Rs.Name("var")};var iE=class{constructor({prefixes:t,parent:r}={}){this._names={},this._prefixes=t,this._parent=r}toName(t){return t instanceof Rs.Name?t:this.name(t)}name(t){return new Rs.Name(this._newName(t))}_newName(t){let r=this._names[t]||this._nameGroup(t);return`${t}${r.index++}`}_nameGroup(t){var r,n;if(!((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0)&&n.has(t)||this._prefixes&&!this._prefixes.has(t))throw new Error(`CodeGen: prefix "${t}" is not allowed in this scope`);return this._names[t]={prefix:t,index:0}}};Ns.Scope=iE;var aE=class extends Rs.Name{constructor(t,r){super(r),this.prefix=t}setValue(t,{property:r,itemIndex:n}){this.value=t,this.scopePath=(0,Rs._)`.${new Rs.Name(r)}[${n}]`}};Ns.ValueScopeName=aE;var Z5e=(0,Rs._)`\n`,b4=class extends iE{constructor(t){super(t),this._values={},this._scope=t.scope,this.opts={...t,_n:t.lines?Z5e:Rs.nil}}get(){return this._scope}name(t){return new aE(t,this._newName(t))}value(t,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let s=this.toName(t),{prefix:a}=s,o=(n=r.key)!==null&&n!==void 0?n:r.ref,c=this._values[a];if(c){let d=c.get(o);if(d)return d}else c=this._values[a]=new Map;c.set(o,s);let u=this._scope[a]||(this._scope[a]=[]),l=u.length;return u[l]=r.ref,s.setValue(r,{property:a,itemIndex:l}),s}getValue(t,r){let n=this._values[t];if(n)return n.get(r)}scopeRefs(t,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return(0,Rs._)`${t}${n.scopePath}`})}scopeCode(t=this._values,r,n){return this._reduceValues(t,s=>{if(s.value===void 0)throw new Error(`CodeGen: name "${s}" has no value`);return s.value.code},r,n)}_reduceValues(t,r,n={},s){let a=Rs.nil;for(let o in t){let c=t[o];if(!c)continue;let u=n[o]=n[o]||new Map;c.forEach(l=>{if(u.has(l))return;u.set(l,sE.Started);let d=r(l);if(d){let f=this.opts.es5?Ns.varKinds.var:Ns.varKinds.const;a=(0,Rs._)`${a}${f} ${l} = ${d};${this.opts._n}`}else if(d=s?.(l))a=(0,Rs._)`${a}${d}${this.opts._n}`;else throw new y4(l);u.set(l,sE.Completed)})}return a}};Ns.ValueScope=b4});var ut=C(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.or=pt.and=pt.not=pt.CodeGen=pt.operators=pt.varKinds=pt.ValueScopeName=pt.ValueScope=pt.Scope=pt.Name=pt.regexpCode=pt.stringify=pt.getProperty=pt.nil=pt.strConcat=pt.str=pt._=void 0;var St=tm(),Yi=E4(),$c=tm();Object.defineProperty(pt,"_",{enumerable:!0,get:function(){return $c._}});Object.defineProperty(pt,"str",{enumerable:!0,get:function(){return $c.str}});Object.defineProperty(pt,"strConcat",{enumerable:!0,get:function(){return $c.strConcat}});Object.defineProperty(pt,"nil",{enumerable:!0,get:function(){return $c.nil}});Object.defineProperty(pt,"getProperty",{enumerable:!0,get:function(){return $c.getProperty}});Object.defineProperty(pt,"stringify",{enumerable:!0,get:function(){return $c.stringify}});Object.defineProperty(pt,"regexpCode",{enumerable:!0,get:function(){return $c.regexpCode}});Object.defineProperty(pt,"Name",{enumerable:!0,get:function(){return $c.Name}});var lE=E4();Object.defineProperty(pt,"Scope",{enumerable:!0,get:function(){return lE.Scope}});Object.defineProperty(pt,"ValueScope",{enumerable:!0,get:function(){return lE.ValueScope}});Object.defineProperty(pt,"ValueScopeName",{enumerable:!0,get:function(){return lE.ValueScopeName}});Object.defineProperty(pt,"varKinds",{enumerable:!0,get:function(){return lE.varKinds}});pt.operators={GT:new St._Code(">"),GTE:new St._Code(">="),LT:new St._Code("<"),LTE:new St._Code("<="),EQ:new St._Code("==="),NEQ:new St._Code("!=="),NOT:new St._Code("!"),OR:new St._Code("||"),AND:new St._Code("&&"),ADD:new St._Code("+")};var So=class{optimizeNodes(){return this}optimizeNames(t,r){return this}},x4=class extends So{constructor(t,r,n){super(),this.varKind=t,this.name=r,this.rhs=n}render({es5:t,_n:r}){let n=t?Yi.varKinds.var:this.varKind,s=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${s};`+r}optimizeNames(t,r){if(t[this.name.str])return this.rhs&&(this.rhs=kf(this.rhs,t,r)),this}get names(){return this.rhs instanceof St._CodeOrName?this.rhs.names:{}}},oE=class extends So{constructor(t,r,n){super(),this.lhs=t,this.rhs=r,this.sideEffects=n}render({_n:t}){return`${this.lhs} = ${this.rhs};`+t}optimizeNames(t,r){if(!(this.lhs instanceof St.Name&&!t[this.lhs.str]&&!this.sideEffects))return this.rhs=kf(this.rhs,t,r),this}get names(){let t=this.lhs instanceof St.Name?{}:{...this.lhs.names};return uE(t,this.rhs)}},v4=class extends oE{constructor(t,r,n,s){super(t,n,s),this.op=r}render({_n:t}){return`${this.lhs} ${this.op}= ${this.rhs};`+t}},_4=class extends So{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`${this.label}:`+t}},I4=class extends So{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`break${this.label?` ${this.label}`:""};`+t}},C4=class extends So{constructor(t){super(),this.error=t}render({_n:t}){return`throw ${this.error};`+t}get names(){return this.error.names}},w4=class extends So{constructor(t){super(),this.code=t}render({_n:t}){return`${this.code};`+t}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(t,r){return this.code=kf(this.code,t,r),this}get names(){return this.code instanceof St._CodeOrName?this.code.names:{}}},rm=class extends So{constructor(t=[]){super(),this.nodes=t}render(t){return this.nodes.reduce((r,n)=>r+n.render(t),"")}optimizeNodes(){let{nodes:t}=this,r=t.length;for(;r--;){let n=t[r].optimizeNodes();Array.isArray(n)?t.splice(r,1,...n):n?t[r]=n:t.splice(r,1)}return t.length>0?this:void 0}optimizeNames(t,r){let{nodes:n}=this,s=n.length;for(;s--;){let a=n[s];a.optimizeNames(t,r)||(e$e(t,a.names),n.splice(s,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((t,r)=>El(t,r.names),{})}},To=class extends rm{render(t){return"{"+t._n+super.render(t)+"}"+t._n}},S4=class extends rm{},Nf=class extends To{};Nf.kind="else";var yl=class e extends To{constructor(t,r){super(r),this.condition=t}render(t){let r=`if(${this.condition})`+super.render(t);return this.else&&(r+="else "+this.else.render(t)),r}optimizeNodes(){super.optimizeNodes();let t=this.condition;if(t===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new Nf(n):n}if(r)return t===!1?r instanceof e?r:r.nodes:this.nodes.length?this:new e(mK(t),r instanceof e?[r]:r.nodes);if(!(t===!1||!this.nodes.length))return this}optimizeNames(t,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(t,r),!!(super.optimizeNames(t,r)||this.else))return this.condition=kf(this.condition,t,r),this}get names(){let t=super.names;return uE(t,this.condition),this.else&&El(t,this.else.names),t}};yl.kind="if";var bl=class extends To{};bl.kind="for";var T4=class extends bl{constructor(t){super(),this.iteration=t}render(t){return`for(${this.iteration})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iteration=kf(this.iteration,t,r),this}get names(){return El(super.names,this.iteration.names)}},B4=class extends bl{constructor(t,r,n,s){super(),this.varKind=t,this.name=r,this.from=n,this.to=s}render(t){let r=t.es5?Yi.varKinds.var:this.varKind,{name:n,from:s,to:a}=this;return`for(${r} ${n}=${s}; ${n}<${a}; ${n}++)`+super.render(t)}get names(){let t=uE(super.names,this.from);return uE(t,this.to)}},cE=class extends bl{constructor(t,r,n,s){super(),this.loop=t,this.varKind=r,this.name=n,this.iterable=s}render(t){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iterable=kf(this.iterable,t,r),this}get names(){return El(super.names,this.iterable.names)}},nm=class extends To{constructor(t,r,n){super(),this.name=t,this.args=r,this.async=n}render(t){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(t)}};nm.kind="func";var sm=class extends rm{render(t){return"return "+super.render(t)}};sm.kind="return";var R4=class extends To{render(t){let r="try"+super.render(t);return this.catch&&(r+=this.catch.render(t)),this.finally&&(r+=this.finally.render(t)),r}optimizeNodes(){var t,r;return super.optimizeNodes(),(t=this.catch)===null||t===void 0||t.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(t,r){var n,s;return super.optimizeNames(t,r),(n=this.catch)===null||n===void 0||n.optimizeNames(t,r),(s=this.finally)===null||s===void 0||s.optimizeNames(t,r),this}get names(){let t=super.names;return this.catch&&El(t,this.catch.names),this.finally&&El(t,this.finally.names),t}},im=class extends To{constructor(t){super(),this.error=t}render(t){return`catch(${this.error})`+super.render(t)}};im.kind="catch";var am=class extends To{render(t){return"finally"+super.render(t)}};am.kind="finally";var N4=class{constructor(t,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...r,_n:r.lines?`
`:""},this._extScope=t,this._scope=new Yi.Scope({parent:t}),this._nodes=[new S4]}toString(){return this._root.render(this.opts)}name(t){return this._scope.name(t)}scopeName(t){return this._extScope.name(t)}scopeValue(t,r){let n=this._extScope.value(t,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(t,r){return this._extScope.getValue(t,r)}scopeRefs(t){return this._extScope.scopeRefs(t,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(t,r,n,s){let a=this._scope.toName(r);return n!==void 0&&s&&(this._constants[a.str]=n),this._leafNode(new x4(t,a,n)),a}const(t,r,n){return this._def(Yi.varKinds.const,t,r,n)}let(t,r,n){return this._def(Yi.varKinds.let,t,r,n)}var(t,r,n){return this._def(Yi.varKinds.var,t,r,n)}assign(t,r,n){return this._leafNode(new oE(t,r,n))}add(t,r){return this._leafNode(new v4(t,pt.operators.ADD,r))}code(t){return typeof t=="function"?t():t!==St.nil&&this._leafNode(new w4(t)),this}object(...t){let r=["{"];for(let[n,s]of t)r.length>1&&r.push(","),r.push(n),(n!==s||this.opts.es5)&&(r.push(":"),(0,St.addCodeArg)(r,s));return r.push("}"),new St._Code(r)}if(t,r,n){if(this._blockNode(new yl(t)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(t){return this._elseNode(new yl(t))}else(){return this._elseNode(new Nf)}endIf(){return this._endBlockNode(yl,Nf)}_for(t,r){return this._blockNode(t),r&&this.code(r).endFor(),this}for(t,r){return this._for(new T4(t),r)}forRange(t,r,n,s,a=this.opts.es5?Yi.varKinds.var:Yi.varKinds.let){let o=this._scope.toName(t);return this._for(new B4(a,o,r,n),()=>s(o))}forOf(t,r,n,s=Yi.varKinds.const){let a=this._scope.toName(t);if(this.opts.es5){let o=r instanceof St.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,St._)`${o}.length`,c=>{this.var(a,(0,St._)`${o}[${c}]`),n(a)})}return this._for(new cE("of",s,a,r),()=>n(a))}forIn(t,r,n,s=this.opts.es5?Yi.varKinds.var:Yi.varKinds.const){if(this.opts.ownProperties)return this.forOf(t,(0,St._)`Object.keys(${r})`,n);let a=this._scope.toName(t);return this._for(new cE("in",s,a,r),()=>n(a))}endFor(){return this._endBlockNode(bl)}label(t){return this._leafNode(new _4(t))}break(t){return this._leafNode(new I4(t))}return(t){let r=new sm;if(this._blockNode(r),this.code(t),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(sm)}try(t,r,n){if(!r&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let s=new R4;if(this._blockNode(s),this.code(t),r){let a=this.name("e");this._currNode=s.catch=new im(a),r(a)}return n&&(this._currNode=s.finally=new am,this.code(n)),this._endBlockNode(im,am)}throw(t){return this._leafNode(new C4(t))}block(t,r){return this._blockStarts.push(this._nodes.length),t&&this.code(t).endBlock(r),this}endBlock(t){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||t!==void 0&&n!==t)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${t} expected`);return this._nodes.length=r,this}func(t,r=St.nil,n,s){return this._blockNode(new nm(t,r,n)),s&&this.code(s).endFunc(),this}endFunc(){return this._endBlockNode(nm)}optimize(t=1){for(;t-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(t){return this._currNode.nodes.push(t),this}_blockNode(t){this._currNode.nodes.push(t),this._nodes.push(t)}_endBlockNode(t,r){let n=this._currNode;if(n instanceof t||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${t.kind}/${r.kind}`:t.kind}"`)}_elseNode(t){let r=this._currNode;if(!(r instanceof yl))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=t,this}get _root(){return this._nodes[0]}get _currNode(){let t=this._nodes;return t[t.length-1]}set _currNode(t){let r=this._nodes;r[r.length-1]=t}};pt.CodeGen=N4;function El(e,t){for(let r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function uE(e,t){return t instanceof St._CodeOrName?El(e,t.names):e}function kf(e,t,r){if(e instanceof St.Name)return n(e);if(!s(e))return e;return new St._Code(e._items.reduce((a,o)=>(o instanceof St.Name&&(o=n(o)),o instanceof St._Code?a.push(...o._items):a.push(o),a),[]));function n(a){let o=r[a.str];return o===void 0||t[a.str]!==1?a:(delete t[a.str],o)}function s(a){return a instanceof St._Code&&a._items.some(o=>o instanceof St.Name&&t[o.str]===1&&r[o.str]!==void 0)}}function e$e(e,t){for(let r in t)e[r]=(e[r]||0)-(t[r]||0)}function mK(e){return typeof e=="boolean"||typeof e=="number"||e===null?!e:(0,St._)`!${k4(e)}`}pt.not=mK;var t$e=gK(pt.operators.AND);function r$e(...e){return e.reduce(t$e)}pt.and=r$e;var n$e=gK(pt.operators.OR);function s$e(...e){return e.reduce(n$e)}pt.or=s$e;function gK(e){return(t,r)=>t===St.nil?r:r===St.nil?t:(0,St._)`${k4(t)} ${e} ${k4(r)}`}function k4(e){return e instanceof St.Name?e:(0,St._)`(${e})`}});var Ft=C(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.checkStrictMode=bt.getErrorPath=bt.Type=bt.useFunc=bt.setEvaluated=bt.evaluatedPropsToName=bt.mergeEvaluated=bt.eachItem=bt.unescapeJsonPointer=bt.escapeJsonPointer=bt.escapeFragment=bt.unescapeFragment=bt.schemaRefOrVal=bt.schemaHasRulesButRef=bt.schemaHasRules=bt.checkUnknownRules=bt.alwaysValidSchema=bt.toHash=void 0;var lr=ut(),i$e=tm();function a$e(e){let t={};for(let r of e)t[r]=!0;return t}bt.toHash=a$e;function o$e(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(bK(e,t),!EK(t,e.self.RULES.all))}bt.alwaysValidSchema=o$e;function bK(e,t=e.schema){let{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;let s=n.RULES.keywords;for(let a in t)s[a]||_K(e,`unknown keyword: "${a}"`)}bt.checkUnknownRules=bK;function EK(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(t[r])return!0;return!1}bt.schemaHasRules=EK;function c$e(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}bt.schemaHasRulesButRef=c$e;function u$e({topSchemaRef:e,schemaPath:t},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,lr._)`${r}`}return(0,lr._)`${e}${t}${(0,lr.getProperty)(n)}`}bt.schemaRefOrVal=u$e;function l$e(e){return xK(decodeURIComponent(e))}bt.unescapeFragment=l$e;function d$e(e){return encodeURIComponent(P4(e))}bt.escapeFragment=d$e;function P4(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}bt.escapeJsonPointer=P4;function xK(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}bt.unescapeJsonPointer=xK;function f$e(e,t){if(Array.isArray(e))for(let r of e)t(r);else t(e)}bt.eachItem=f$e;function AK({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(s,a,o,c)=>{let u=o===void 0?a:o instanceof lr.Name?(a instanceof lr.Name?e(s,a,o):t(s,a,o),o):a instanceof lr.Name?(t(s,o,a),a):r(a,o);return c===lr.Name&&!(u instanceof lr.Name)?n(s,u):u}}bt.mergeEvaluated={props:AK({mergeNames:(e,t,r)=>e.if((0,lr._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,lr._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,lr._)`${r} || {}`).code((0,lr._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,lr._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,lr._)`${r} || {}`),O4(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:vK}),items:AK({mergeNames:(e,t,r)=>e.if((0,lr._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,lr._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,lr._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,lr._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function vK(e,t){if(t===!0)return e.var("props",!0);let r=e.var("props",(0,lr._)`{}`);return t!==void 0&&O4(e,r,t),r}bt.evaluatedPropsToName=vK;function O4(e,t,r){Object.keys(r).forEach(n=>e.assign((0,lr._)`${t}${(0,lr.getProperty)(n)}`,!0))}bt.setEvaluated=O4;var yK={};function p$e(e,t){return e.scopeValue("func",{ref:t,code:yK[t.code]||(yK[t.code]=new i$e._Code(t.code))})}bt.useFunc=p$e;var D4;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(D4||(bt.Type=D4={}));function h$e(e,t,r){if(e instanceof lr.Name){let n=t===D4.Num;return r?n?(0,lr._)`"[" + ${e} + "]"`:(0,lr._)`"['" + ${e} + "']"`:n?(0,lr._)`"/" + ${e}`:(0,lr._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,lr.getProperty)(e).toString():"/"+P4(e)}bt.getErrorPath=h$e;function _K(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}bt.checkStrictMode=_K});var Bo=C($4=>{"use strict";Object.defineProperty($4,"__esModule",{value:!0});var Gn=ut(),m$e={data:new Gn.Name("data"),valCxt:new Gn.Name("valCxt"),instancePath:new Gn.Name("instancePath"),parentData:new Gn.Name("parentData"),parentDataProperty:new Gn.Name("parentDataProperty"),rootData:new Gn.Name("rootData"),dynamicAnchors:new Gn.Name("dynamicAnchors"),vErrors:new Gn.Name("vErrors"),errors:new Gn.Name("errors"),this:new Gn.Name("this"),self:new Gn.Name("self"),scope:new Gn.Name("scope"),json:new Gn.Name("json"),jsonPos:new Gn.Name("jsonPos"),jsonLen:new Gn.Name("jsonLen"),jsonPart:new Gn.Name("jsonPart")};$4.default=m$e});var om=C(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.extendErrors=Vn.resetErrorsCount=Vn.reportExtraError=Vn.reportError=Vn.keyword$DataError=Vn.keywordError=void 0;var Nt=ut(),dE=Ft(),fs=Bo();Vn.keywordError={message:({keyword:e})=>(0,Nt.str)`must pass "${e}" keyword validation`};Vn.keyword$DataError={message:({keyword:e,schemaType:t})=>t?(0,Nt.str)`"${e}" keyword must be ${t} ($data)`:(0,Nt.str)`"${e}" keyword is invalid ($data)`};function g$e(e,t=Vn.keywordError,r,n){let{it:s}=e,{gen:a,compositeRule:o,allErrors:c}=s,u=wK(e,t,r);n??(o||c)?IK(a,u):CK(s,(0,Nt._)`[${u}]`)}Vn.reportError=g$e;function A$e(e,t=Vn.keywordError,r){let{it:n}=e,{gen:s,compositeRule:a,allErrors:o}=n,c=wK(e,t,r);IK(s,c),a||o||CK(n,fs.default.vErrors)}Vn.reportExtraError=A$e;function y$e(e,t){e.assign(fs.default.errors,t),e.if((0,Nt._)`${fs.default.vErrors} !== null`,()=>e.if(t,()=>e.assign((0,Nt._)`${fs.default.vErrors}.length`,t),()=>e.assign(fs.default.vErrors,null)))}Vn.resetErrorsCount=y$e;function b$e({gen:e,keyword:t,schemaValue:r,data:n,errsCount:s,it:a}){if(s===void 0)throw new Error("ajv implementation error");let o=e.name("err");e.forRange("i",s,fs.default.errors,c=>{e.const(o,(0,Nt._)`${fs.default.vErrors}[${c}]`),e.if((0,Nt._)`${o}.instancePath === undefined`,()=>e.assign((0,Nt._)`${o}.instancePath`,(0,Nt.strConcat)(fs.default.instancePath,a.errorPath))),e.assign((0,Nt._)`${o}.schemaPath`,(0,Nt.str)`${a.errSchemaPath}/${t}`),a.opts.verbose&&(e.assign((0,Nt._)`${o}.schema`,r),e.assign((0,Nt._)`${o}.data`,n))})}Vn.extendErrors=b$e;function IK(e,t){let r=e.const("err",t);e.if((0,Nt._)`${fs.default.vErrors} === null`,()=>e.assign(fs.default.vErrors,(0,Nt._)`[${r}]`),(0,Nt._)`${fs.default.vErrors}.push(${r})`),e.code((0,Nt._)`${fs.default.errors}++`)}function CK(e,t){let{gen:r,validateName:n,schemaEnv:s}=e;s.$async?r.throw((0,Nt._)`new ${e.ValidationError}(${t})`):(r.assign((0,Nt._)`${n}.errors`,t),r.return(!1))}var xl={keyword:new Nt.Name("keyword"),schemaPath:new Nt.Name("schemaPath"),params:new Nt.Name("params"),propertyName:new Nt.Name("propertyName"),message:new Nt.Name("message"),schema:new Nt.Name("schema"),parentSchema:new Nt.Name("parentSchema")};function wK(e,t,r){let{createErrors:n}=e.it;return n===!1?(0,Nt._)`{}`:E$e(e,t,r)}function E$e(e,t,r={}){let{gen:n,it:s}=e,a=[x$e(s,r),v$e(e,r)];return _$e(e,t,a),n.object(...a)}function x$e({errorPath:e},{instancePath:t}){let r=t?(0,Nt.str)`${e}${(0,dE.getErrorPath)(t,dE.Type.Str)}`:e;return[fs.default.instancePath,(0,Nt.strConcat)(fs.default.instancePath,r)]}function v$e({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:n}){let s=n?t:(0,Nt.str)`${t}/${e}`;return r&&(s=(0,Nt.str)`${s}${(0,dE.getErrorPath)(r,dE.Type.Str)}`),[xl.schemaPath,s]}function _$e(e,{params:t,message:r},n){let{keyword:s,data:a,schemaValue:o,it:c}=e,{opts:u,propertyName:l,topSchemaRef:d,schemaPath:f}=c;n.push([xl.keyword,s],[xl.params,typeof t=="function"?t(e):t||(0,Nt._)`{}`]),u.messages&&n.push([xl.message,typeof r=="function"?r(e):r]),u.verbose&&n.push([xl.schema,o],[xl.parentSchema,(0,Nt._)`${d}${f}`],[fs.default.data,a]),l&&n.push([xl.propertyName,l])}});var TK=C(Df=>{"use strict";Object.defineProperty(Df,"__esModule",{value:!0});Df.boolOrEmptySchema=Df.topBoolOrEmptySchema=void 0;var I$e=om(),C$e=ut(),w$e=Bo(),S$e={message:"boolean schema is false"};function T$e(e){let{gen:t,schema:r,validateName:n}=e;r===!1?SK(e,!1):typeof r=="object"&&r.$async===!0?t.return(w$e.default.data):(t.assign((0,C$e._)`${n}.errors`,null),t.return(!0))}Df.topBoolOrEmptySchema=T$e;function B$e(e,t){let{gen:r,schema:n}=e;n===!1?(r.var(t,!1),SK(e)):r.var(t,!0)}Df.boolOrEmptySchema=B$e;function SK(e,t){let{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,I$e.reportError)(s,S$e,void 0,t)}});var L4=C(Pf=>{"use strict";Object.defineProperty(Pf,"__esModule",{value:!0});Pf.getRules=Pf.isJSONType=void 0;var R$e=["string","number","integer","boolean","null","object","array"],N$e=new Set(R$e);function k$e(e){return typeof e=="string"&&N$e.has(e)}Pf.isJSONType=k$e;function D$e(){let e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Pf.getRules=D$e});var M4=C(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.shouldUseRule=Lc.shouldUseGroup=Lc.schemaHasRulesForType=void 0;function P$e({schema:e,self:t},r){let n=t.RULES.types[r];return n&&n!==!0&&BK(e,n)}Lc.schemaHasRulesForType=P$e;function BK(e,t){return t.rules.some(r=>RK(e,r))}Lc.shouldUseGroup=BK;function RK(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Lc.shouldUseRule=RK});var cm=C(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});Kn.reportTypeError=Kn.checkDataTypes=Kn.checkDataType=Kn.coerceAndCheckDataType=Kn.getJSONTypes=Kn.getSchemaTypes=Kn.DataType=void 0;var O$e=L4(),$$e=M4(),L$e=om(),st=ut(),NK=Ft(),Of;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(Of||(Kn.DataType=Of={}));function M$e(e){let t=kK(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}Kn.getSchemaTypes=M$e;function kK(e){let t=Array.isArray(e)?e:e?[e]:[];if(t.every(O$e.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}Kn.getJSONTypes=kK;function F$e(e,t){let{gen:r,data:n,opts:s}=e,a=Q$e(t,s.coerceTypes),o=t.length>0&&!(a.length===0&&t.length===1&&(0,$$e.schemaHasRulesForType)(e,t[0]));if(o){let c=Q4(t,n,s.strictNumbers,Of.Wrong);r.if(c,()=>{a.length?U$e(e,t,a):U4(e)})}return o}Kn.coerceAndCheckDataType=F$e;var DK=new Set(["string","number","integer","boolean","null"]);function Q$e(e,t){return t?e.filter(r=>DK.has(r)||t==="array"&&r==="array"):[]}function U$e(e,t,r){let{gen:n,data:s,opts:a}=e,o=n.let("dataType",(0,st._)`typeof ${s}`),c=n.let("coerced",(0,st._)`undefined`);a.coerceTypes==="array"&&n.if((0,st._)`${o} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,st._)`${s}[0]`).assign(o,(0,st._)`typeof ${s}`).if(Q4(t,s,a.strictNumbers),()=>n.assign(c,s))),n.if((0,st._)`${c} !== undefined`);for(let l of r)(DK.has(l)||l==="array"&&a.coerceTypes==="array")&&u(l);n.else(),U4(e),n.endIf(),n.if((0,st._)`${c} !== undefined`,()=>{n.assign(s,c),q$e(e,c)});function u(l){switch(l){case"string":n.elseIf((0,st._)`${o} == "number" || ${o} == "boolean"`).assign(c,(0,st._)`"" + ${s}`).elseIf((0,st._)`${s} === null`).assign(c,(0,st._)`""`);return;case"number":n.elseIf((0,st._)`${o} == "boolean" || ${s} === null
              || (${o} == "string" && ${s} && ${s} == +${s})`).assign(c,(0,st._)`+${s}`);return;case"integer":n.elseIf((0,st._)`${o} === "boolean" || ${s} === null
              || (${o} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(c,(0,st._)`+${s}`);return;case"boolean":n.elseIf((0,st._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(c,!1).elseIf((0,st._)`${s} === "true" || ${s} === 1`).assign(c,!0);return;case"null":n.elseIf((0,st._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(c,null);return;case"array":n.elseIf((0,st._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${s} === null`).assign(c,(0,st._)`[${s}]`)}}}function q$e({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,st._)`${t} !== undefined`,()=>e.assign((0,st._)`${t}[${r}]`,n))}function F4(e,t,r,n=Of.Correct){let s=n===Of.Correct?st.operators.EQ:st.operators.NEQ,a;switch(e){case"null":return(0,st._)`${t} ${s} null`;case"array":a=(0,st._)`Array.isArray(${t})`;break;case"object":a=(0,st._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":a=o((0,st._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":a=o();break;default:return(0,st._)`typeof ${t} ${s} ${e}`}return n===Of.Correct?a:(0,st.not)(a);function o(c=st.nil){return(0,st.and)((0,st._)`typeof ${t} == "number"`,c,r?(0,st._)`isFinite(${t})`:st.nil)}}Kn.checkDataType=F4;function Q4(e,t,r,n){if(e.length===1)return F4(e[0],t,r,n);let s,a=(0,NK.toHash)(e);if(a.array&&a.object){let o=(0,st._)`typeof ${t} != "object"`;s=a.null?o:(0,st._)`!${t} || ${o}`,delete a.null,delete a.array,delete a.object}else s=st.nil;a.number&&delete a.integer;for(let o in a)s=(0,st.and)(s,F4(o,t,r,n));return s}Kn.checkDataTypes=Q4;var j$e={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,st._)`{type: ${e}}`:(0,st._)`{type: ${t}}`};function U4(e){let t=H$e(e);(0,L$e.reportError)(t,j$e)}Kn.reportTypeError=U4;function H$e(e){let{gen:t,data:r,schema:n}=e,s=(0,NK.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:e}}});var OK=C(fE=>{"use strict";Object.defineProperty(fE,"__esModule",{value:!0});fE.assignDefaults=void 0;var $f=ut(),z$e=Ft();function G$e(e,t){let{properties:r,items:n}=e.schema;if(t==="object"&&r)for(let s in r)PK(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,a)=>PK(e,a,s.default))}fE.assignDefaults=G$e;function PK(e,t,r){let{gen:n,compositeRule:s,data:a,opts:o}=e;if(r===void 0)return;let c=(0,$f._)`${a}${(0,$f.getProperty)(t)}`;if(s){(0,z$e.checkStrictMode)(e,`default is ignored for: ${c}`);return}let u=(0,$f._)`${c} === undefined`;o.useDefaults==="empty"&&(u=(0,$f._)`${u} || ${c} === null || ${c} === ""`),n.if(u,(0,$f._)`${c} = ${(0,$f.stringify)(r)}`)}});var Ai=C(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.validateUnion=er.validateArray=er.usePattern=er.callValidateCode=er.schemaProperties=er.allSchemaProperties=er.noPropertyInData=er.propertyInData=er.isOwnProperty=er.hasPropFunc=er.reportMissingProp=er.checkMissingProp=er.checkReportMissingProp=void 0;var Ir=ut(),q4=Ft(),Mc=Bo(),V$e=Ft();function K$e(e,t){let{gen:r,data:n,it:s}=e;r.if(H4(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Ir._)`${t}`},!0),e.error()})}er.checkReportMissingProp=K$e;function Y$e({gen:e,data:t,it:{opts:r}},n,s){return(0,Ir.or)(...n.map(a=>(0,Ir.and)(H4(e,t,a,r.ownProperties),(0,Ir._)`${s} = ${a}`)))}er.checkMissingProp=Y$e;function W$e(e,t){e.setParams({missingProperty:t},!0),e.error()}er.reportMissingProp=W$e;function $K(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Ir._)`Object.prototype.hasOwnProperty`})}er.hasPropFunc=$K;function j4(e,t,r){return(0,Ir._)`${$K(e)}.call(${t}, ${r})`}er.isOwnProperty=j4;function J$e(e,t,r,n){let s=(0,Ir._)`${t}${(0,Ir.getProperty)(r)} !== undefined`;return n?(0,Ir._)`${s} && ${j4(e,t,r)}`:s}er.propertyInData=J$e;function H4(e,t,r,n){let s=(0,Ir._)`${t}${(0,Ir.getProperty)(r)} === undefined`;return n?(0,Ir.or)(s,(0,Ir.not)(j4(e,t,r))):s}er.noPropertyInData=H4;function LK(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}er.allSchemaProperties=LK;function X$e(e,t){return LK(t).filter(r=>!(0,q4.alwaysValidSchema)(e,t[r]))}er.schemaProperties=X$e;function Z$e({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:a},it:o},c,u,l){let d=l?(0,Ir._)`${e}, ${t}, ${n}${s}`:t,f=[[Mc.default.instancePath,(0,Ir.strConcat)(Mc.default.instancePath,a)],[Mc.default.parentData,o.parentData],[Mc.default.parentDataProperty,o.parentDataProperty],[Mc.default.rootData,Mc.default.rootData]];o.opts.dynamicRef&&f.push([Mc.default.dynamicAnchors,Mc.default.dynamicAnchors]);let p=(0,Ir._)`${d}, ${r.object(...f)}`;return u!==Ir.nil?(0,Ir._)`${c}.call(${u}, ${p})`:(0,Ir._)`${c}(${p})`}er.callValidateCode=Z$e;var e8e=(0,Ir._)`new RegExp`;function t8e({gen:e,it:{opts:t}},r){let n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,a=s(r,n);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,Ir._)`${s.code==="new RegExp"?e8e:(0,V$e.useFunc)(e,s)}(${r}, ${n})`})}er.usePattern=t8e;function r8e(e){let{gen:t,data:r,keyword:n,it:s}=e,a=t.name("valid");if(s.allErrors){let c=t.let("valid",!0);return o(()=>t.assign(c,!1)),c}return t.var(a,!0),o(()=>t.break()),a;function o(c){let u=t.const("len",(0,Ir._)`${r}.length`);t.forRange("i",0,u,l=>{e.subschema({keyword:n,dataProp:l,dataPropType:q4.Type.Num},a),t.if((0,Ir.not)(a),c)})}}er.validateArray=r8e;function n8e(e){let{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(u=>(0,q4.alwaysValidSchema)(s,u))&&!s.opts.unevaluated)return;let o=t.let("valid",!1),c=t.name("_valid");t.block(()=>r.forEach((u,l)=>{let d=e.subschema({keyword:n,schemaProp:l,compositeRule:!0},c);t.assign(o,(0,Ir._)`${o} || ${c}`),e.mergeValidEvaluated(d,c)||t.if((0,Ir.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}er.validateUnion=n8e});var QK=C(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.validateKeywordUsage=ka.validSchemaType=ka.funcKeywordCode=ka.macroKeywordCode=void 0;var ps=ut(),vl=Bo(),s8e=Ai(),i8e=om();function a8e(e,t){let{gen:r,keyword:n,schema:s,parentSchema:a,it:o}=e,c=t.macro.call(o.self,s,a,o),u=FK(r,n,c);o.opts.validateSchema!==!1&&o.self.validateSchema(c,!0);let l=r.name("valid");e.subschema({schema:c,schemaPath:ps.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:u,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}ka.macroKeywordCode=a8e;function o8e(e,t){var r;let{gen:n,keyword:s,schema:a,parentSchema:o,$data:c,it:u}=e;u8e(u,t);let l=!c&&t.compile?t.compile.call(u.self,a,o,u):t.validate,d=FK(n,s,l),f=n.let("valid");e.block$data(f,p),e.ok((r=t.valid)!==null&&r!==void 0?r:f);function p(){if(t.errors===!1)g(),t.modifying&&MK(e),A(()=>e.error());else{let y=t.async?m():h();t.modifying&&MK(e),A(()=>c8e(e,y))}}function m(){let y=n.let("ruleErrs",null);return n.try(()=>g((0,ps._)`await `),v=>n.assign(f,!1).if((0,ps._)`${v} instanceof ${u.ValidationError}`,()=>n.assign(y,(0,ps._)`${v}.errors`),()=>n.throw(v))),y}function h(){let y=(0,ps._)`${d}.errors`;return n.assign(y,null),g(ps.nil),y}function g(y=t.async?(0,ps._)`await `:ps.nil){let v=u.opts.passContext?vl.default.this:vl.default.self,b=!("compile"in t&&!c||t.schema===!1);n.assign(f,(0,ps._)`${y}${(0,s8e.callValidateCode)(e,d,v,b)}`,t.modifying)}function A(y){var v;n.if((0,ps.not)((v=t.valid)!==null&&v!==void 0?v:f),y)}}ka.funcKeywordCode=o8e;function MK(e){let{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,ps._)`${n.parentData}[${n.parentDataProperty}]`))}function c8e(e,t){let{gen:r}=e;r.if((0,ps._)`Array.isArray(${t})`,()=>{r.assign(vl.default.vErrors,(0,ps._)`${vl.default.vErrors} === null ? ${t} : ${vl.default.vErrors}.concat(${t})`).assign(vl.default.errors,(0,ps._)`${vl.default.vErrors}.length`),(0,i8e.extendErrors)(e)},()=>e.error())}function u8e({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function FK(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,ps.stringify)(r)})}function l8e(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}ka.validSchemaType=l8e;function d8e({schema:e,opts:t,self:r,errSchemaPath:n},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error("ajv implementation error");let o=s.dependencies;if(o?.some(c=>!Object.prototype.hasOwnProperty.call(e,c)))throw new Error(`parent schema must have dependencies of ${a}: ${o.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[a])){let u=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(u);else throw new Error(u)}}ka.validateKeywordUsage=d8e});var qK=C(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.extendSubschemaMode=Fc.extendSubschemaData=Fc.getSubschema=void 0;var Da=ut(),UK=Ft();function f8e(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:a,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){let c=e.schema[t];return r===void 0?{schema:c,schemaPath:(0,Da._)`${e.schemaPath}${(0,Da.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:c[r],schemaPath:(0,Da._)`${e.schemaPath}${(0,Da.getProperty)(t)}${(0,Da.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,UK.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||a===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:o,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}Fc.getSubschema=f8e;function p8e(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:a,propertyName:o}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:c}=t;if(r!==void 0){let{errorPath:l,dataPathArr:d,opts:f}=t,p=c.let("data",(0,Da._)`${t.data}${(0,Da.getProperty)(r)}`,!0);u(p),e.errorPath=(0,Da.str)`${l}${(0,UK.getErrorPath)(r,n,f.jsPropertySyntax)}`,e.parentDataProperty=(0,Da._)`${r}`,e.dataPathArr=[...d,e.parentDataProperty]}if(s!==void 0){let l=s instanceof Da.Name?s:c.let("data",s,!0);u(l),o!==void 0&&(e.propertyName=o)}a&&(e.dataTypes=a);function u(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}Fc.extendSubschemaData=p8e;function h8e(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:a}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),a!==void 0&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=r}Fc.extendSubschemaMode=h8e});var HK=C((qpt,jK)=>{"use strict";var Qc=jK.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};pE(t,n,s,e,"",e)};Qc.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Qc.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Qc.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Qc.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function pE(e,t,r,n,s,a,o,c,u,l){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,a,o,c,u,l);for(var d in n){var f=n[d];if(Array.isArray(f)){if(d in Qc.arrayKeywords)for(var p=0;p<f.length;p++)pE(e,t,r,f[p],s+"/"+d+"/"+p,a,s,d,n,p)}else if(d in Qc.propsKeywords){if(f&&typeof f=="object")for(var m in f)pE(e,t,r,f[m],s+"/"+d+"/"+m8e(m),a,s,d,n,m)}else(d in Qc.keywords||e.allKeys&&!(d in Qc.skipKeywords))&&pE(e,t,r,f,s+"/"+d,a,s,d,n)}r(n,s,a,o,c,u,l)}}function m8e(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}});var um=C(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.getSchemaRefs=ks.resolveUrl=ks.normalizeId=ks._getFullPath=ks.getFullPath=ks.inlineRef=void 0;var g8e=Ft(),A8e=ai(),y8e=HK(),b8e=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function E8e(e,t=!0){return typeof e=="boolean"?!0:t===!0?!z4(e):t?zK(e)<=t:!1}ks.inlineRef=E8e;var x8e=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function z4(e){for(let t in e){if(x8e.has(t))return!0;let r=e[t];if(Array.isArray(r)&&r.some(z4)||typeof r=="object"&&z4(r))return!0}return!1}function zK(e){let t=0;for(let r in e){if(r==="$ref")return 1/0;if(t++,!b8e.has(r)&&(typeof e[r]=="object"&&(0,g8e.eachItem)(e[r],n=>t+=zK(n)),t===1/0))return 1/0}return t}function GK(e,t="",r){r!==!1&&(t=Lf(t));let n=e.parse(t);return VK(e,n)}ks.getFullPath=GK;function VK(e,t){return e.serialize(t).split("#")[0]+"#"}ks._getFullPath=VK;var v8e=/#\/?$/;function Lf(e){return e?e.replace(v8e,""):""}ks.normalizeId=Lf;function _8e(e,t,r){return r=Lf(r),e.resolve(t,r)}ks.resolveUrl=_8e;var I8e=/^[a-z_][-a-z0-9._]*$/i;function C8e(e,t){if(typeof e=="boolean")return{};let{schemaId:r,uriResolver:n}=this.opts,s=Lf(e[r]||t),a={"":s},o=GK(n,s,!1),c={},u=new Set;return y8e(e,{allKeys:!0},(f,p,m,h)=>{if(h===void 0)return;let g=o+p,A=a[h];typeof f[r]=="string"&&(A=y.call(this,f[r])),v.call(this,f.$anchor),v.call(this,f.$dynamicAnchor),a[p]=A;function y(b){let E=this.opts.uriResolver.resolve;if(b=Lf(A?E(A,b):b),u.has(b))throw d(b);u.add(b);let I=this.refs[b];return typeof I=="string"&&(I=this.refs[I]),typeof I=="object"?l(f,I.schema,b):b!==Lf(g)&&(b[0]==="#"?(l(f,c[b],b),c[b]=f):this.refs[b]=g),b}function v(b){if(typeof b=="string"){if(!I8e.test(b))throw new Error(`invalid anchor "${b}"`);y.call(this,`#${b}`)}}}),c;function l(f,p,m){if(p!==void 0&&!A8e(f,p))throw d(m)}function d(f){return new Error(`reference "${f}" resolves to more than one schema`)}}ks.getSchemaRefs=C8e});var fm=C(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.getData=Uc.KeywordCxt=Uc.validateFunctionCode=void 0;var XK=TK(),KK=cm(),V4=M4(),hE=cm(),w8e=OK(),dm=QK(),G4=qK(),Qe=ut(),We=Bo(),S8e=um(),Ro=Ft(),lm=om();function T8e(e){if(tY(e)&&(rY(e),eY(e))){N8e(e);return}ZK(e,()=>(0,XK.topBoolOrEmptySchema)(e))}Uc.validateFunctionCode=T8e;function ZK({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},a){s.code.es5?e.func(t,(0,Qe._)`${We.default.data}, ${We.default.valCxt}`,n.$async,()=>{e.code((0,Qe._)`"use strict"; ${YK(r,s)}`),R8e(e,s),e.code(a)}):e.func(t,(0,Qe._)`${We.default.data}, ${B8e(s)}`,n.$async,()=>e.code(YK(r,s)).code(a))}function B8e(e){return(0,Qe._)`{${We.default.instancePath}="", ${We.default.parentData}, ${We.default.parentDataProperty}, ${We.default.rootData}=${We.default.data}${e.dynamicRef?(0,Qe._)`, ${We.default.dynamicAnchors}={}`:Qe.nil}}={}`}function R8e(e,t){e.if(We.default.valCxt,()=>{e.var(We.default.instancePath,(0,Qe._)`${We.default.valCxt}.${We.default.instancePath}`),e.var(We.default.parentData,(0,Qe._)`${We.default.valCxt}.${We.default.parentData}`),e.var(We.default.parentDataProperty,(0,Qe._)`${We.default.valCxt}.${We.default.parentDataProperty}`),e.var(We.default.rootData,(0,Qe._)`${We.default.valCxt}.${We.default.rootData}`),t.dynamicRef&&e.var(We.default.dynamicAnchors,(0,Qe._)`${We.default.valCxt}.${We.default.dynamicAnchors}`)},()=>{e.var(We.default.instancePath,(0,Qe._)`""`),e.var(We.default.parentData,(0,Qe._)`undefined`),e.var(We.default.parentDataProperty,(0,Qe._)`undefined`),e.var(We.default.rootData,We.default.data),t.dynamicRef&&e.var(We.default.dynamicAnchors,(0,Qe._)`{}`)})}function N8e(e){let{schema:t,opts:r,gen:n}=e;ZK(e,()=>{r.$comment&&t.$comment&&sY(e),$8e(e),n.let(We.default.vErrors,null),n.let(We.default.errors,0),r.unevaluated&&k8e(e),nY(e),F8e(e)})}function k8e(e){let{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,Qe._)`${r}.evaluated`),t.if((0,Qe._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,Qe._)`${e.evaluated}.props`,(0,Qe._)`undefined`)),t.if((0,Qe._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,Qe._)`${e.evaluated}.items`,(0,Qe._)`undefined`))}function YK(e,t){let r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,Qe._)`/*# sourceURL=${r} */`:Qe.nil}function D8e(e,t){if(tY(e)&&(rY(e),eY(e))){P8e(e,t);return}(0,XK.boolOrEmptySchema)(e,t)}function eY({schema:e,self:t}){if(typeof e=="boolean")return!e;for(let r in e)if(t.RULES.all[r])return!0;return!1}function tY(e){return typeof e.schema!="boolean"}function P8e(e,t){let{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&sY(e),L8e(e),M8e(e);let a=n.const("_errs",We.default.errors);nY(e,a),n.var(t,(0,Qe._)`${a} === ${We.default.errors}`)}function rY(e){(0,Ro.checkUnknownRules)(e),O8e(e)}function nY(e,t){if(e.opts.jtd)return WK(e,[],!1,t);let r=(0,KK.getSchemaTypes)(e.schema),n=(0,KK.coerceAndCheckDataType)(e,r);WK(e,r,!n,t)}function O8e(e){let{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Ro.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function $8e(e){let{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Ro.checkStrictMode)(e,"default is ignored in the schema root")}function L8e(e){let t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,S8e.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function M8e(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function sY({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){let a=r.$comment;if(s.$comment===!0)e.code((0,Qe._)`${We.default.self}.logger.log(${a})`);else if(typeof s.$comment=="function"){let o=(0,Qe.str)`${n}/$comment`,c=e.scopeValue("root",{ref:t.root});e.code((0,Qe._)`${We.default.self}.opts.$comment(${a}, ${o}, ${c}.schema)`)}}function F8e(e){let{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:a}=e;r.$async?t.if((0,Qe._)`${We.default.errors} === 0`,()=>t.return(We.default.data),()=>t.throw((0,Qe._)`new ${s}(${We.default.vErrors})`)):(t.assign((0,Qe._)`${n}.errors`,We.default.vErrors),a.unevaluated&&Q8e(e),t.return((0,Qe._)`${We.default.errors} === 0`))}function Q8e({gen:e,evaluated:t,props:r,items:n}){r instanceof Qe.Name&&e.assign((0,Qe._)`${t}.props`,r),n instanceof Qe.Name&&e.assign((0,Qe._)`${t}.items`,n)}function WK(e,t,r,n){let{gen:s,schema:a,data:o,allErrors:c,opts:u,self:l}=e,{RULES:d}=l;if(a.$ref&&(u.ignoreKeywordsWithRef||!(0,Ro.schemaHasRulesButRef)(a,d))){s.block(()=>aY(e,"$ref",d.all.$ref.definition));return}u.jtd||U8e(e,t),s.block(()=>{for(let p of d.rules)f(p);f(d.post)});function f(p){(0,V4.shouldUseGroup)(a,p)&&(p.type?(s.if((0,hE.checkDataType)(p.type,o,u.strictNumbers)),JK(e,p),t.length===1&&t[0]===p.type&&r&&(s.else(),(0,hE.reportTypeError)(e)),s.endIf()):JK(e,p),c||s.if((0,Qe._)`${We.default.errors} === ${n||0}`))}}function JK(e,t){let{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,w8e.assignDefaults)(e,t.type),r.block(()=>{for(let a of t.rules)(0,V4.shouldUseRule)(n,a)&&aY(e,a.keyword,a.definition,t.type)})}function U8e(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(q8e(e,t),e.opts.allowUnionTypes||j8e(e,t),H8e(e,e.dataTypes))}function q8e(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{iY(e.dataTypes,r)||K4(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),G8e(e,t)}}function j8e(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&K4(e,"use allowUnionTypes to allow union type keyword")}function H8e(e,t){let r=e.self.RULES.all;for(let n in r){let s=r[n];if(typeof s=="object"&&(0,V4.shouldUseRule)(e.schema,s)){let{type:a}=s.definition;a.length&&!a.some(o=>z8e(t,o))&&K4(e,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function z8e(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function iY(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function G8e(e,t){let r=[];for(let n of e.dataTypes)iY(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function K4(e,t){let r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Ro.checkStrictMode)(e,t,e.opts.strictTypes)}var mE=class{constructor(t,r,n){if((0,dm.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Ro.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",oY(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,dm.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",We.default.errors))}result(t,r,n){this.failResult((0,Qe.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,Qe.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);let{schemaCode:r}=this;this.fail((0,Qe._)`${r} !== undefined && (${(0,Qe.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?lm.reportExtraError:lm.reportError)(this,this.def.error,r)}$dataError(){(0,lm.reportError)(this,this.def.$dataError||lm.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,lm.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=Qe.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=Qe.nil,r=Qe.nil){if(!this.$data)return;let{gen:n,schemaCode:s,schemaType:a,def:o}=this;n.if((0,Qe.or)((0,Qe._)`${s} === undefined`,r)),t!==Qe.nil&&n.assign(t,!0),(a.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==Qe.nil&&n.assign(t,!1)),n.else()}invalid$data(){let{gen:t,schemaCode:r,schemaType:n,def:s,it:a}=this;return(0,Qe.or)(o(),c());function o(){if(n.length){if(!(r instanceof Qe.Name))throw new Error("ajv implementation error");let u=Array.isArray(n)?n:[n];return(0,Qe._)`${(0,hE.checkDataTypes)(u,r,a.opts.strictNumbers,hE.DataType.Wrong)}`}return Qe.nil}function c(){if(s.validateSchema){let u=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,Qe._)`!${u}(${r})`}return Qe.nil}}subschema(t,r){let n=(0,G4.getSubschema)(this.it,t);(0,G4.extendSubschemaData)(n,this.it,t),(0,G4.extendSubschemaMode)(n,t);let s={...this.it,...n,items:void 0,props:void 0};return D8e(s,r),s}mergeEvaluated(t,r){let{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Ro.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Ro.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){let{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,Qe.Name)),!0}};Uc.KeywordCxt=mE;function aY(e,t,r,n){let s=new mE(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,dm.funcKeywordCode)(s,r):"macro"in r?(0,dm.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,dm.funcKeywordCode)(s,r)}var V8e=/^\/(?:[^~]|~0|~1)*$/,K8e=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function oY(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,a;if(e==="")return We.default.rootData;if(e[0]==="/"){if(!V8e.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,a=We.default.rootData}else{let l=K8e.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);let d=+l[1];if(s=l[2],s==="#"){if(d>=t)throw new Error(u("property/index",d));return n[t-d]}if(d>t)throw new Error(u("data",d));if(a=r[t-d],!s)return a}let o=a,c=s.split("/");for(let l of c)l&&(a=(0,Qe._)`${a}${(0,Qe.getProperty)((0,Ro.unescapeJsonPointer)(l))}`,o=(0,Qe._)`${o} && ${a}`);return o;function u(l,d){return`Cannot access ${l} ${d} levels up, current level is ${t}`}}Uc.getData=oY});var gE=C(W4=>{"use strict";Object.defineProperty(W4,"__esModule",{value:!0});var Y4=class extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}};W4.default=Y4});var pm=C(Z4=>{"use strict";Object.defineProperty(Z4,"__esModule",{value:!0});var J4=um(),X4=class extends Error{constructor(t,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,J4.resolveUrl)(t,r,n),this.missingSchema=(0,J4.normalizeId)((0,J4.getFullPath)(t,this.missingRef))}};Z4.default=X4});var yE=C(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});yi.resolveSchema=yi.getCompilingSchema=yi.resolveRef=yi.compileSchema=yi.SchemaEnv=void 0;var Wi=ut(),Y8e=gE(),_l=Bo(),Ji=um(),cY=Ft(),W8e=fm(),Mf=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Ji.normalizeId)(n?.[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n?.$async,this.refs={}}};yi.SchemaEnv=Mf;function tR(e){let t=uY.call(this,e);if(t)return t;let r=(0,Ji.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:a}=this.opts,o=new Wi.CodeGen(this.scope,{es5:n,lines:s,ownProperties:a}),c;e.$async&&(c=o.scopeValue("Error",{ref:Y8e.default,code:(0,Wi._)`require("ajv/dist/runtime/validation_error").default`}));let u=o.scopeName("validate");e.validateName=u;let l={gen:o,allErrors:this.opts.allErrors,data:_l.default.data,parentData:_l.default.parentData,parentDataProperty:_l.default.parentDataProperty,dataNames:[_l.default.data],dataPathArr:[Wi.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Wi.stringify)(e.schema)}:{ref:e.schema}),validateName:u,ValidationError:c,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Wi.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Wi._)`""`,opts:this.opts,self:this},d;try{this._compilations.add(e),(0,W8e.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);let f=o.toString();d=`${o.scopeRefs(_l.default.scope)}return ${f}`,this.opts.code.process&&(d=this.opts.code.process(d,e));let m=new Function(`${_l.default.self}`,`${_l.default.scope}`,d)(this,this.scope.get());if(this.scope.value(u,{ref:m}),m.errors=null,m.schema=e.schema,m.schemaEnv=e,e.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:u,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){let{props:h,items:g}=l;m.evaluated={props:h instanceof Wi.Name?void 0:h,items:g instanceof Wi.Name?void 0:g,dynamicProps:h instanceof Wi.Name,dynamicItems:g instanceof Wi.Name},m.source&&(m.source.evaluated=(0,Wi.stringify)(m.evaluated))}return e.validate=m,e}catch(f){throw delete e.validate,delete e.validateName,d&&this.logger.error("Error compiling schema, function code:",d),f}finally{this._compilations.delete(e)}}yi.compileSchema=tR;function J8e(e,t,r){var n;r=(0,Ji.resolveUrl)(this.opts.uriResolver,t,r);let s=e.refs[r];if(s)return s;let a=eLe.call(this,e,r);if(a===void 0){let o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:c}=this.opts;o&&(a=new Mf({schema:o,schemaId:c,root:e,baseId:t}))}if(a!==void 0)return e.refs[r]=X8e.call(this,a)}yi.resolveRef=J8e;function X8e(e){return(0,Ji.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:tR.call(this,e)}function uY(e){for(let t of this._compilations)if(Z8e(t,e))return t}yi.getCompilingSchema=uY;function Z8e(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function eLe(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||AE.call(this,e,t)}function AE(e,t){let r=this.opts.uriResolver.parse(t),n=(0,Ji._getFullPath)(this.opts.uriResolver,r),s=(0,Ji.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return eR.call(this,r,e);let a=(0,Ji.normalizeId)(n),o=this.refs[a]||this.schemas[a];if(typeof o=="string"){let c=AE.call(this,e,o);return typeof c?.schema!="object"?void 0:eR.call(this,r,c)}if(typeof o?.schema=="object"){if(o.validate||tR.call(this,o),a===(0,Ji.normalizeId)(t)){let{schema:c}=o,{schemaId:u}=this.opts,l=c[u];return l&&(s=(0,Ji.resolveUrl)(this.opts.uriResolver,s,l)),new Mf({schema:c,schemaId:u,root:e,baseId:s})}return eR.call(this,r,o)}}yi.resolveSchema=AE;var tLe=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function eR(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(let c of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let u=r[(0,cY.unescapeFragment)(c)];if(u===void 0)return;r=u;let l=typeof r=="object"&&r[this.opts.schemaId];!tLe.has(c)&&l&&(t=(0,Ji.resolveUrl)(this.opts.uriResolver,t,l))}let a;if(typeof r!="boolean"&&r.$ref&&!(0,cY.schemaHasRulesButRef)(r,this.RULES)){let c=(0,Ji.resolveUrl)(this.opts.uriResolver,t,r.$ref);a=AE.call(this,n,c)}let{schemaId:o}=this.opts;if(a=a||new Mf({schema:r,schemaId:o,root:n,baseId:t}),a.schema!==a.root.schema)return a}});var lY=C((Kpt,rLe)=>{rLe.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var nR=C((Ypt,hY)=>{"use strict";var nLe=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),fY=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function rR(e){let t="",r=0,n=0;for(n=0;n<e.length;n++)if(r=e[n].charCodeAt(0),r!==48){if(!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n];break}for(n+=1;n<e.length;n++){if(r=e[n].charCodeAt(0),!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n]}return t}var sLe=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function dY(e){return e.length=0,!0}function iLe(e,t,r){if(e.length){let n=rR(e);if(n!=="")t.push(n);else return r.error=!0,!1;e.length=0}return!0}function aLe(e){let t=0,r={error:!1,address:"",zone:""},n=[],s=[],a=!1,o=!1,c=iLe;for(let u=0;u<e.length;u++){let l=e[u];if(!(l==="["||l==="]"))if(l===":"){if(a===!0&&(o=!0),!c(s,n,r))break;if(++t>7){r.error=!0;break}u>0&&e[u-1]===":"&&(a=!0),n.push(":");continue}else if(l==="%"){if(!c(s,n,r))break;c=dY}else{s.push(l);continue}}return s.length&&(c===dY?r.zone=s.join(""):o?n.push(s.join("")):n.push(rR(s))),r.address=n.join(""),r}function pY(e){if(oLe(e,":")<2)return{host:e,isIPV6:!1};let t=aLe(e);if(t.error)return{host:e,isIPV6:!1};{let r=t.address,n=t.address;return t.zone&&(r+="%"+t.zone,n+="%25"+t.zone),{host:r,isIPV6:!0,escapedHost:n}}}function oLe(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}function cLe(e){let t=e,r=[],n=-1,s=0;for(;s=t.length;){if(s===1){if(t===".")break;if(t==="/"){r.push("/");break}else{r.push(t);break}}else if(s===2){if(t[0]==="."){if(t[1]===".")break;if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&(t[1]==="."||t[1]==="/")){r.push("/");break}}else if(s===3&&t==="/.."){r.length!==0&&r.pop(),r.push("/");break}if(t[0]==="."){if(t[1]==="."){if(t[2]==="/"){t=t.slice(3);continue}}else if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&t[1]==="."){if(t[2]==="/"){t=t.slice(2);continue}else if(t[2]==="."&&t[3]==="/"){t=t.slice(3),r.length!==0&&r.pop();continue}}if((n=t.indexOf("/",1))===-1){r.push(t);break}else r.push(t.slice(0,n)),t=t.slice(n)}return r.join("")}function uLe(e,t){let r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function lLe(e){let t=[];if(e.userinfo!==void 0&&(t.push(e.userinfo),t.push("@")),e.host!==void 0){let r=unescape(e.host);if(!fY(r)){let n=pY(r);n.isIPV6===!0?r=`[${n.escapedHost}]`:r=e.host}t.push(r)}return(typeof e.port=="number"||typeof e.port=="string")&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}hY.exports={nonSimpleDomain:sLe,recomposeAuthority:lLe,normalizeComponentEncoding:uLe,removeDotSegments:cLe,isIPv4:fY,isUUID:nLe,normalizeIPv6:pY,stringArrayToHexStripped:rR}});var bY=C((Wpt,yY)=>{"use strict";var{isUUID:dLe}=nR(),fLe=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,pLe=["http","https","ws","wss","urn","urn:uuid"];function hLe(e){return pLe.indexOf(e)!==-1}function sR(e){return e.secure===!0?!0:e.secure===!1?!1:e.scheme?e.scheme.length===3&&(e.scheme[0]==="w"||e.scheme[0]==="W")&&(e.scheme[1]==="s"||e.scheme[1]==="S")&&(e.scheme[2]==="s"||e.scheme[2]==="S"):!1}function mY(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function gY(e){let t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function mLe(e){return e.secure=sR(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function gLe(e){if((e.port===(sR(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){let[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function ALe(e,t){if(!e.path)return e.error="URN can not be parsed",e;let r=e.path.match(fLe);if(r){let n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];let s=`${n}:${t.nid||e.nid}`,a=iR(s);e.path=void 0,a&&(e=a.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function yLe(e,t){if(e.nid===void 0)throw new Error("URN without nid cannot be serialized");let r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),s=`${r}:${t.nid||n}`,a=iR(s);a&&(e=a.serialize(e,t));let o=e,c=e.nss;return o.path=`${n||t.nid}:${c}`,t.skipEscape=!0,o}function bLe(e,t){let r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!dLe(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function ELe(e){let t=e;return t.nss=(e.uuid||"").toLowerCase(),t}var AY={scheme:"http",domainHost:!0,parse:mY,serialize:gY},xLe={scheme:"https",domainHost:AY.domainHost,parse:mY,serialize:gY},bE={scheme:"ws",domainHost:!0,parse:mLe,serialize:gLe},vLe={scheme:"wss",domainHost:bE.domainHost,parse:bE.parse,serialize:bE.serialize},_Le={scheme:"urn",parse:ALe,serialize:yLe,skipNormalize:!0},ILe={scheme:"urn:uuid",parse:bLe,serialize:ELe,skipNormalize:!0},EE={http:AY,https:xLe,ws:bE,wss:vLe,urn:_Le,"urn:uuid":ILe};Object.setPrototypeOf(EE,null);function iR(e){return e&&(EE[e]||EE[e.toLowerCase()])||void 0}yY.exports={wsIsSecure:sR,SCHEMES:EE,isValidSchemeName:hLe,getSchemeHandler:iR}});var vY=C((Jpt,vE)=>{"use strict";var{normalizeIPv6:CLe,removeDotSegments:hm,recomposeAuthority:wLe,normalizeComponentEncoding:xE,isIPv4:SLe,nonSimpleDomain:TLe}=nR(),{SCHEMES:BLe,getSchemeHandler:EY}=bY();function RLe(e,t){return typeof e=="string"?e=Pa(No(e,t),t):typeof e=="object"&&(e=No(Pa(e,t),t)),e}function NLe(e,t,r){let n=r?Object.assign({scheme:"null"},r):{scheme:"null"},s=xY(No(e,n),No(t,n),n,!0);return n.skipEscape=!0,Pa(s,n)}function xY(e,t,r,n){let s={};return n||(e=No(Pa(e,r),r),t=No(Pa(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=hm(t.path||""),s.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=hm(t.path||""),s.query=t.query):(t.path?(t.path[0]==="/"?s.path=hm(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?s.path="/"+t.path:e.path?s.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:s.path=t.path,s.path=hm(s.path)),s.query=t.query):(s.path=e.path,t.query!==void 0?s.query=t.query:s.query=e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function kLe(e,t,r){return typeof e=="string"?(e=unescape(e),e=Pa(xE(No(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=Pa(xE(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=Pa(xE(No(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=Pa(xE(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function Pa(e,t){let r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),s=[],a=EY(n.scheme||r.scheme);a&&a.serialize&&a.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&s.push(r.scheme,":");let o=wLe(r);if(o!==void 0&&(n.reference!=="suffix"&&s.push("//"),s.push(o),r.path&&r.path[0]!=="/"&&s.push("/")),r.path!==void 0){let c=r.path;!n.absolutePath&&(!a||!a.absolutePath)&&(c=hm(c)),o===void 0&&c[0]==="/"&&c[1]==="/"&&(c="/%2F"+c.slice(2)),s.push(c)}return r.query!==void 0&&s.push("?",r.query),r.fragment!==void 0&&s.push("#",r.fragment),s.join("")}var DLe=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function No(e,t){let r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},s=!1;r.reference==="suffix"&&(r.scheme?e=r.scheme+":"+e:e="//"+e);let a=e.match(DLe);if(a){if(n.scheme=a[1],n.userinfo=a[3],n.host=a[4],n.port=parseInt(a[5],10),n.path=a[6]||"",n.query=a[7],n.fragment=a[8],isNaN(n.port)&&(n.port=a[5]),n.host)if(SLe(n.host)===!1){let u=CLe(n.host);n.host=u.host.toLowerCase(),s=u.isIPV6}else s=!0;n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");let o=EY(r.scheme||n.scheme);if(!r.unicodeSupport&&(!o||!o.unicodeSupport)&&n.host&&(r.domainHost||o&&o.domainHost)&&s===!1&&TLe(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(c){n.error=n.error||"Host's domain name can not be converted to ASCII: "+c}(!o||o&&!o.skipNormalize)&&(e.indexOf("%")!==-1&&(n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),n.host!==void 0&&(n.host=unescape(n.host))),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),o&&o.parse&&o.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}var aR={SCHEMES:BLe,normalize:RLe,resolve:NLe,resolveComponent:xY,equal:kLe,serialize:Pa,parse:No};vE.exports=aR;vE.exports.default=aR;vE.exports.fastUri=aR});var IY=C(oR=>{"use strict";Object.defineProperty(oR,"__esModule",{value:!0});var _Y=vY();_Y.code='require("ajv/dist/runtime/uri").default';oR.default=_Y});var kY=C(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});Bn.CodeGen=Bn.Name=Bn.nil=Bn.stringify=Bn.str=Bn._=Bn.KeywordCxt=void 0;var PLe=fm();Object.defineProperty(Bn,"KeywordCxt",{enumerable:!0,get:function(){return PLe.KeywordCxt}});var Ff=ut();Object.defineProperty(Bn,"_",{enumerable:!0,get:function(){return Ff._}});Object.defineProperty(Bn,"str",{enumerable:!0,get:function(){return Ff.str}});Object.defineProperty(Bn,"stringify",{enumerable:!0,get:function(){return Ff.stringify}});Object.defineProperty(Bn,"nil",{enumerable:!0,get:function(){return Ff.nil}});Object.defineProperty(Bn,"Name",{enumerable:!0,get:function(){return Ff.Name}});Object.defineProperty(Bn,"CodeGen",{enumerable:!0,get:function(){return Ff.CodeGen}});var OLe=gE(),BY=pm(),$Le=L4(),mm=yE(),LLe=ut(),gm=um(),_E=cm(),uR=Ft(),CY=lY(),MLe=IY(),RY=(e,t)=>new RegExp(e,t);RY.code="new RegExp";var FLe=["removeAdditional","useDefaults","coerceTypes"],QLe=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),ULe={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},qLe={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},wY=200;function jLe(e){var t,r,n,s,a,o,c,u,l,d,f,p,m,h,g,A,y,v,b,E,I,w,S,T,B;let N=e.strict,O=(t=e.code)===null||t===void 0?void 0:t.optimize,k=O===!0||O===void 0?1:O||0,P=(n=(r=e.code)===null||r===void 0?void 0:r.regExp)!==null&&n!==void 0?n:RY,D=(s=e.uriResolver)!==null&&s!==void 0?s:MLe.default;return{strictSchema:(o=(a=e.strictSchema)!==null&&a!==void 0?a:N)!==null&&o!==void 0?o:!0,strictNumbers:(u=(c=e.strictNumbers)!==null&&c!==void 0?c:N)!==null&&u!==void 0?u:!0,strictTypes:(d=(l=e.strictTypes)!==null&&l!==void 0?l:N)!==null&&d!==void 0?d:"log",strictTuples:(p=(f=e.strictTuples)!==null&&f!==void 0?f:N)!==null&&p!==void 0?p:"log",strictRequired:(h=(m=e.strictRequired)!==null&&m!==void 0?m:N)!==null&&h!==void 0?h:!1,code:e.code?{...e.code,optimize:k,regExp:P}:{optimize:k,regExp:P},loopRequired:(g=e.loopRequired)!==null&&g!==void 0?g:wY,loopEnum:(A=e.loopEnum)!==null&&A!==void 0?A:wY,meta:(y=e.meta)!==null&&y!==void 0?y:!0,messages:(v=e.messages)!==null&&v!==void 0?v:!0,inlineRefs:(b=e.inlineRefs)!==null&&b!==void 0?b:!0,schemaId:(E=e.schemaId)!==null&&E!==void 0?E:"$id",addUsedSchema:(I=e.addUsedSchema)!==null&&I!==void 0?I:!0,validateSchema:(w=e.validateSchema)!==null&&w!==void 0?w:!0,validateFormats:(S=e.validateFormats)!==null&&S!==void 0?S:!0,unicodeRegExp:(T=e.unicodeRegExp)!==null&&T!==void 0?T:!0,int32range:(B=e.int32range)!==null&&B!==void 0?B:!0,uriResolver:D}}var Am=class{constructor(t={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,t=this.opts={...t,...jLe(t)};let{es5:r,lines:n}=this.opts.code;this.scope=new LLe.ValueScope({scope:{},prefixes:QLe,es5:r,lines:n}),this.logger=YLe(t.logger);let s=t.validateFormats;t.validateFormats=!1,this.RULES=(0,$Le.getRules)(),SY.call(this,ULe,t,"NOT SUPPORTED"),SY.call(this,qLe,t,"DEPRECATED","warn"),this._metaOpts=VLe.call(this),t.formats&&zLe.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),t.keywords&&GLe.call(this,t.keywords),typeof t.meta=="object"&&this.addMetaSchema(t.meta),HLe.call(this),t.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:t,meta:r,schemaId:n}=this.opts,s=CY;n==="id"&&(s={...CY},s.id=s.$id,delete s.$id),r&&t&&this.addMetaSchema(s,s[n],!1)}defaultMeta(){let{meta:t,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof t=="object"?t[r]||t:void 0}validate(t,r){let n;if(typeof t=="string"){if(n=this.getSchema(t),!n)throw new Error(`no schema with key or ref "${t}"`)}else n=this.compile(t);let s=n(r);return"$async"in n||(this.errors=n.errors),s}compile(t,r){let n=this._addSchema(t,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(t,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return s.call(this,t,r);async function s(d,f){await a.call(this,d.$schema);let p=this._addSchema(d,f);return p.validate||o.call(this,p)}async function a(d){d&&!this.getSchema(d)&&await s.call(this,{$ref:d},!0)}async function o(d){try{return this._compileSchemaEnv(d)}catch(f){if(!(f instanceof BY.default))throw f;return c.call(this,f),await u.call(this,f.missingSchema),o.call(this,d)}}function c({missingSchema:d,missingRef:f}){if(this.refs[d])throw new Error(`AnySchema ${d} is loaded but ${f} cannot be resolved`)}async function u(d){let f=await l.call(this,d);this.refs[d]||await a.call(this,f.$schema),this.refs[d]||this.addSchema(f,d,r)}async function l(d){let f=this._loading[d];if(f)return f;try{return await(this._loading[d]=n(d))}finally{delete this._loading[d]}}}addSchema(t,r,n,s=this.opts.validateSchema){if(Array.isArray(t)){for(let o of t)this.addSchema(o,void 0,n,s);return this}let a;if(typeof t=="object"){let{schemaId:o}=this.opts;if(a=t[o],a!==void 0&&typeof a!="string")throw new Error(`schema ${o} must be string`)}return r=(0,gm.normalizeId)(r||a),this._checkUnique(r),this.schemas[r]=this._addSchema(t,n,r,s,!0),this}addMetaSchema(t,r,n=this.opts.validateSchema){return this.addSchema(t,r,!0,n),this}validateSchema(t,r){if(typeof t=="boolean")return!0;let n;if(n=t.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let s=this.validate(n,t);if(!s&&r){let a="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(a);else throw new Error(a)}return s}getSchema(t){let r;for(;typeof(r=TY.call(this,t))=="string";)t=r;if(r===void 0){let{schemaId:n}=this.opts,s=new mm.SchemaEnv({schema:{},schemaId:n});if(r=mm.resolveSchema.call(this,s,t),!r)return;this.refs[t]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(t){if(t instanceof RegExp)return this._removeAllSchemas(this.schemas,t),this._removeAllSchemas(this.refs,t),this;switch(typeof t){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=TY.call(this,t);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[t],delete this.refs[t],this}case"object":{let r=t;this._cache.delete(r);let n=t[this.opts.schemaId];return n&&(n=(0,gm.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(t){for(let r of t)this.addKeyword(r);return this}addKeyword(t,r){let n;if(typeof t=="string")n=t,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof t=="object"&&r===void 0){if(r=t,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(JLe.call(this,n,r),!r)return(0,uR.eachItem)(n,a=>cR.call(this,a)),this;ZLe.call(this,r);let s={...r,type:(0,_E.getJSONTypes)(r.type),schemaType:(0,_E.getJSONTypes)(r.schemaType)};return(0,uR.eachItem)(n,s.type.length===0?a=>cR.call(this,a,s):a=>s.type.forEach(o=>cR.call(this,a,s,o))),this}getKeyword(t){let r=this.RULES.all[t];return typeof r=="object"?r.definition:!!r}removeKeyword(t){let{RULES:r}=this;delete r.keywords[t],delete r.all[t];for(let n of r.rules){let s=n.rules.findIndex(a=>a.keyword===t);s>=0&&n.rules.splice(s,1)}return this}addFormat(t,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[t]=r,this}errorsText(t=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!t||t.length===0?"No errors":t.map(s=>`${n}${s.instancePath} ${s.message}`).reduce((s,a)=>s+r+a)}$dataMetaSchema(t,r){let n=this.RULES.all;t=JSON.parse(JSON.stringify(t));for(let s of r){let a=s.split("/").slice(1),o=t;for(let c of a)o=o[c];for(let c in n){let u=n[c];if(typeof u!="object")continue;let{$data:l}=u.definition,d=o[c];l&&d&&(o[c]=NY(d))}}return t}_removeAllSchemas(t,r){for(let n in t){let s=t[n];(!r||r.test(n))&&(typeof s=="string"?delete t[n]:s&&!s.meta&&(this._cache.delete(s.schema),delete t[n]))}}_addSchema(t,r,n,s=this.opts.validateSchema,a=this.opts.addUsedSchema){let o,{schemaId:c}=this.opts;if(typeof t=="object")o=t[c];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof t!="boolean")throw new Error("schema must be object or boolean")}let u=this._cache.get(t);if(u!==void 0)return u;n=(0,gm.normalizeId)(o||n);let l=gm.getSchemaRefs.call(this,t,n);return u=new mm.SchemaEnv({schema:t,schemaId:c,meta:r,baseId:n,localRefs:l}),this._cache.set(u.schema,u),a&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=u),s&&this.validateSchema(t,!0),u}_checkUnique(t){if(this.schemas[t]||this.refs[t])throw new Error(`schema with key or id "${t}" already exists`)}_compileSchemaEnv(t){if(t.meta?this._compileMetaSchema(t):mm.compileSchema.call(this,t),!t.validate)throw new Error("ajv implementation error");return t.validate}_compileMetaSchema(t){let r=this.opts;this.opts=this._metaOpts;try{mm.compileSchema.call(this,t)}finally{this.opts=r}}};Am.ValidationError=OLe.default;Am.MissingRefError=BY.default;Bn.default=Am;function SY(e,t,r,n="error"){for(let s in e){let a=s;a in t&&this.logger[n](`${r}: option ${s}. ${e[a]}`)}}function TY(e){return e=(0,gm.normalizeId)(e),this.schemas[e]||this.refs[e]}function HLe(){let e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(let t in e)this.addSchema(e[t],t)}function zLe(){for(let e in this.opts.formats){let t=this.opts.formats[e];t&&this.addFormat(e,t)}}function GLe(e){if(Array.isArray(e)){this.addVocabulary(e);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let t in e){let r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}function VLe(){let e={...this.opts};for(let t of FLe)delete e[t];return e}var KLe={log(){},warn(){},error(){}};function YLe(e){if(e===!1)return KLe;if(e===void 0)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}var WLe=/^[a-z_$][a-z0-9_$:-]*$/i;function JLe(e,t){let{RULES:r}=this;if((0,uR.eachItem)(e,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!WLe.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!t&&t.$data&&!("code"in t||"validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function cR(e,t,r){var n;let s=t?.post;if(r&&s)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:a}=this,o=s?a.post:a.rules.find(({type:u})=>u===r);if(o||(o={type:r,rules:[]},a.rules.push(o)),a.keywords[e]=!0,!t)return;let c={keyword:e,definition:{...t,type:(0,_E.getJSONTypes)(t.type),schemaType:(0,_E.getJSONTypes)(t.schemaType)}};t.before?XLe.call(this,o,c,t.before):o.rules.push(c),a.all[e]=c,(n=t.implements)===null||n===void 0||n.forEach(u=>this.addKeyword(u))}function XLe(e,t,r){let n=e.rules.findIndex(s=>s.keyword===r);n>=0?e.rules.splice(n,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function ZLe(e){let{metaSchema:t}=e;t!==void 0&&(e.$data&&this.opts.$data&&(t=NY(t)),e.validateSchema=this.compile(t,!0))}var eMe={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function NY(e){return{anyOf:[e,eMe]}}});var DY=C(lR=>{"use strict";Object.defineProperty(lR,"__esModule",{value:!0});var tMe={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};lR.default=tMe});var LY=C(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});Il.callRef=Il.getValidate=void 0;var rMe=pm(),PY=Ai(),Ds=ut(),Qf=Bo(),OY=yE(),IE=Ft(),nMe={keyword:"$ref",schemaType:"string",code(e){let{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:a,validateName:o,opts:c,self:u}=n,{root:l}=a;if((r==="#"||r==="#/")&&s===l.baseId)return f();let d=OY.resolveRef.call(u,l,s,r);if(d===void 0)throw new rMe.default(n.opts.uriResolver,s,r);if(d instanceof OY.SchemaEnv)return p(d);return m(d);function f(){if(a===l)return CE(e,o,a,a.$async);let h=t.scopeValue("root",{ref:l});return CE(e,(0,Ds._)`${h}.validate`,l,l.$async)}function p(h){let g=$Y(e,h);CE(e,g,h,h.$async)}function m(h){let g=t.scopeValue("schema",c.code.source===!0?{ref:h,code:(0,Ds.stringify)(h)}:{ref:h}),A=t.name("valid"),y=e.subschema({schema:h,dataTypes:[],schemaPath:Ds.nil,topSchemaRef:g,errSchemaPath:r},A);e.mergeEvaluated(y),e.ok(A)}}};function $Y(e,t){let{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Ds._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Il.getValidate=$Y;function CE(e,t,r,n){let{gen:s,it:a}=e,{allErrors:o,schemaEnv:c,opts:u}=a,l=u.passContext?Qf.default.this:Ds.nil;n?d():f();function d(){if(!c.$async)throw new Error("async schema referenced by sync schema");let h=s.let("valid");s.try(()=>{s.code((0,Ds._)`await ${(0,PY.callValidateCode)(e,t,l)}`),m(t),o||s.assign(h,!0)},g=>{s.if((0,Ds._)`!(${g} instanceof ${a.ValidationError})`,()=>s.throw(g)),p(g),o||s.assign(h,!1)}),e.ok(h)}function f(){e.result((0,PY.callValidateCode)(e,t,l),()=>m(t),()=>p(t))}function p(h){let g=(0,Ds._)`${h}.errors`;s.assign(Qf.default.vErrors,(0,Ds._)`${Qf.default.vErrors} === null ? ${g} : ${Qf.default.vErrors}.concat(${g})`),s.assign(Qf.default.errors,(0,Ds._)`${Qf.default.vErrors}.length`)}function m(h){var g;if(!a.opts.unevaluated)return;let A=(g=r?.validate)===null||g===void 0?void 0:g.evaluated;if(a.props!==!0)if(A&&!A.dynamicProps)A.props!==void 0&&(a.props=IE.mergeEvaluated.props(s,A.props,a.props));else{let y=s.var("props",(0,Ds._)`${h}.evaluated.props`);a.props=IE.mergeEvaluated.props(s,y,a.props,Ds.Name)}if(a.items!==!0)if(A&&!A.dynamicItems)A.items!==void 0&&(a.items=IE.mergeEvaluated.items(s,A.items,a.items));else{let y=s.var("items",(0,Ds._)`${h}.evaluated.items`);a.items=IE.mergeEvaluated.items(s,y,a.items,Ds.Name)}}}Il.callRef=CE;Il.default=nMe});var MY=C(dR=>{"use strict";Object.defineProperty(dR,"__esModule",{value:!0});var sMe=DY(),iMe=LY(),aMe=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",sMe.default,iMe.default];dR.default=aMe});var FY=C(fR=>{"use strict";Object.defineProperty(fR,"__esModule",{value:!0});var wE=ut(),qc=wE.operators,SE={maximum:{okStr:"<=",ok:qc.LTE,fail:qc.GT},minimum:{okStr:">=",ok:qc.GTE,fail:qc.LT},exclusiveMaximum:{okStr:"<",ok:qc.LT,fail:qc.GTE},exclusiveMinimum:{okStr:">",ok:qc.GT,fail:qc.LTE}},oMe={message:({keyword:e,schemaCode:t})=>(0,wE.str)`must be ${SE[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,wE._)`{comparison: ${SE[e].okStr}, limit: ${t}}`},cMe={keyword:Object.keys(SE),type:"number",schemaType:"number",$data:!0,error:oMe,code(e){let{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,wE._)`${r} ${SE[t].fail} ${n} || isNaN(${r})`)}};fR.default=cMe});var QY=C(pR=>{"use strict";Object.defineProperty(pR,"__esModule",{value:!0});var ym=ut(),uMe={message:({schemaCode:e})=>(0,ym.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,ym._)`{multipleOf: ${e}}`},lMe={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:uMe,code(e){let{gen:t,data:r,schemaCode:n,it:s}=e,a=s.opts.multipleOfPrecision,o=t.let("res"),c=a?(0,ym._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${a}`:(0,ym._)`${o} !== parseInt(${o})`;e.fail$data((0,ym._)`(${n} === 0 || (${o} = ${r}/${n}, ${c}))`)}};pR.default=lMe});var qY=C(hR=>{"use strict";Object.defineProperty(hR,"__esModule",{value:!0});function UY(e){let t=e.length,r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}hR.default=UY;UY.code='require("ajv/dist/runtime/ucs2length").default'});var jY=C(mR=>{"use strict";Object.defineProperty(mR,"__esModule",{value:!0});var Cl=ut(),dMe=Ft(),fMe=qY(),pMe={message({keyword:e,schemaCode:t}){let r=e==="maxLength"?"more":"fewer";return(0,Cl.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Cl._)`{limit: ${e}}`},hMe={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:pMe,code(e){let{keyword:t,data:r,schemaCode:n,it:s}=e,a=t==="maxLength"?Cl.operators.GT:Cl.operators.LT,o=s.opts.unicode===!1?(0,Cl._)`${r}.length`:(0,Cl._)`${(0,dMe.useFunc)(e.gen,fMe.default)}(${r})`;e.fail$data((0,Cl._)`${o} ${a} ${n}`)}};mR.default=hMe});var HY=C(gR=>{"use strict";Object.defineProperty(gR,"__esModule",{value:!0});var mMe=Ai(),TE=ut(),gMe={message:({schemaCode:e})=>(0,TE.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,TE._)`{pattern: ${e}}`},AMe={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:gMe,code(e){let{data:t,$data:r,schema:n,schemaCode:s,it:a}=e,o=a.opts.unicodeRegExp?"u":"",c=r?(0,TE._)`(new RegExp(${s}, ${o}))`:(0,mMe.usePattern)(e,n);e.fail$data((0,TE._)`!${c}.test(${t})`)}};gR.default=AMe});var zY=C(AR=>{"use strict";Object.defineProperty(AR,"__esModule",{value:!0});var bm=ut(),yMe={message({keyword:e,schemaCode:t}){let r=e==="maxProperties"?"more":"fewer";return(0,bm.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,bm._)`{limit: ${e}}`},bMe={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:yMe,code(e){let{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?bm.operators.GT:bm.operators.LT;e.fail$data((0,bm._)`Object.keys(${r}).length ${s} ${n}`)}};AR.default=bMe});var GY=C(yR=>{"use strict";Object.defineProperty(yR,"__esModule",{value:!0});var Em=Ai(),xm=ut(),EMe=Ft(),xMe={message:({params:{missingProperty:e}})=>(0,xm.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,xm._)`{missingProperty: ${e}}`},vMe={keyword:"required",type:"object",schemaType:"array",$data:!0,error:xMe,code(e){let{gen:t,schema:r,schemaCode:n,data:s,$data:a,it:o}=e,{opts:c}=o;if(!a&&r.length===0)return;let u=r.length>=c.loopRequired;if(o.allErrors?l():d(),c.strictRequired){let m=e.parentSchema.properties,{definedProperties:h}=e.it;for(let g of r)if(m?.[g]===void 0&&!h.has(g)){let A=o.schemaEnv.baseId+o.errSchemaPath,y=`required property "${g}" is not defined at "${A}" (strictRequired)`;(0,EMe.checkStrictMode)(o,y,o.opts.strictRequired)}}function l(){if(u||a)e.block$data(xm.nil,f);else for(let m of r)(0,Em.checkReportMissingProp)(e,m)}function d(){let m=t.let("missing");if(u||a){let h=t.let("valid",!0);e.block$data(h,()=>p(m,h)),e.ok(h)}else t.if((0,Em.checkMissingProp)(e,r,m)),(0,Em.reportMissingProp)(e,m),t.else()}function f(){t.forOf("prop",n,m=>{e.setParams({missingProperty:m}),t.if((0,Em.noPropertyInData)(t,s,m,c.ownProperties),()=>e.error())})}function p(m,h){e.setParams({missingProperty:m}),t.forOf(m,n,()=>{t.assign(h,(0,Em.propertyInData)(t,s,m,c.ownProperties)),t.if((0,xm.not)(h),()=>{e.error(),t.break()})},xm.nil)}}};yR.default=vMe});var VY=C(bR=>{"use strict";Object.defineProperty(bR,"__esModule",{value:!0});var vm=ut(),_Me={message({keyword:e,schemaCode:t}){let r=e==="maxItems"?"more":"fewer";return(0,vm.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,vm._)`{limit: ${e}}`},IMe={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:_Me,code(e){let{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?vm.operators.GT:vm.operators.LT;e.fail$data((0,vm._)`${r}.length ${s} ${n}`)}};bR.default=IMe});var BE=C(ER=>{"use strict";Object.defineProperty(ER,"__esModule",{value:!0});var KY=ai();KY.code='require("ajv/dist/runtime/equal").default';ER.default=KY});var YY=C(vR=>{"use strict";Object.defineProperty(vR,"__esModule",{value:!0});var xR=cm(),Rn=ut(),CMe=Ft(),wMe=BE(),SMe={message:({params:{i:e,j:t}})=>(0,Rn.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Rn._)`{i: ${e}, j: ${t}}`},TMe={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:SMe,code(e){let{gen:t,data:r,$data:n,schema:s,parentSchema:a,schemaCode:o,it:c}=e;if(!n&&!s)return;let u=t.let("valid"),l=a.items?(0,xR.getSchemaTypes)(a.items):[];e.block$data(u,d,(0,Rn._)`${o} === false`),e.ok(u);function d(){let h=t.let("i",(0,Rn._)`${r}.length`),g=t.let("j");e.setParams({i:h,j:g}),t.assign(u,!0),t.if((0,Rn._)`${h} > 1`,()=>(f()?p:m)(h,g))}function f(){return l.length>0&&!l.some(h=>h==="object"||h==="array")}function p(h,g){let A=t.name("item"),y=(0,xR.checkDataTypes)(l,A,c.opts.strictNumbers,xR.DataType.Wrong),v=t.const("indices",(0,Rn._)`{}`);t.for((0,Rn._)`;${h}--;`,()=>{t.let(A,(0,Rn._)`${r}[${h}]`),t.if(y,(0,Rn._)`continue`),l.length>1&&t.if((0,Rn._)`typeof ${A} == "string"`,(0,Rn._)`${A} += "_"`),t.if((0,Rn._)`typeof ${v}[${A}] == "number"`,()=>{t.assign(g,(0,Rn._)`${v}[${A}]`),e.error(),t.assign(u,!1).break()}).code((0,Rn._)`${v}[${A}] = ${h}`)})}function m(h,g){let A=(0,CMe.useFunc)(t,wMe.default),y=t.name("outer");t.label(y).for((0,Rn._)`;${h}--;`,()=>t.for((0,Rn._)`${g} = ${h}; ${g}--;`,()=>t.if((0,Rn._)`${A}(${r}[${h}], ${r}[${g}])`,()=>{e.error(),t.assign(u,!1).break(y)})))}}};vR.default=TMe});var WY=C(IR=>{"use strict";Object.defineProperty(IR,"__esModule",{value:!0});var _R=ut(),BMe=Ft(),RMe=BE(),NMe={message:"must be equal to constant",params:({schemaCode:e})=>(0,_R._)`{allowedValue: ${e}}`},kMe={keyword:"const",$data:!0,error:NMe,code(e){let{gen:t,data:r,$data:n,schemaCode:s,schema:a}=e;n||a&&typeof a=="object"?e.fail$data((0,_R._)`!${(0,BMe.useFunc)(t,RMe.default)}(${r}, ${s})`):e.fail((0,_R._)`${a} !== ${r}`)}};IR.default=kMe});var JY=C(CR=>{"use strict";Object.defineProperty(CR,"__esModule",{value:!0});var _m=ut(),DMe=Ft(),PMe=BE(),OMe={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,_m._)`{allowedValues: ${e}}`},$Me={keyword:"enum",schemaType:"array",$data:!0,error:OMe,code(e){let{gen:t,data:r,$data:n,schema:s,schemaCode:a,it:o}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");let c=s.length>=o.opts.loopEnum,u,l=()=>u??(u=(0,DMe.useFunc)(t,PMe.default)),d;if(c||n)d=t.let("valid"),e.block$data(d,f);else{if(!Array.isArray(s))throw new Error("ajv implementation error");let m=t.const("vSchema",a);d=(0,_m.or)(...s.map((h,g)=>p(m,g)))}e.pass(d);function f(){t.assign(d,!1),t.forOf("v",a,m=>t.if((0,_m._)`${l()}(${r}, ${m})`,()=>t.assign(d,!0).break()))}function p(m,h){let g=s[h];return typeof g=="object"&&g!==null?(0,_m._)`${l()}(${r}, ${m}[${h}])`:(0,_m._)`${r} === ${g}`}}};CR.default=$Me});var XY=C(wR=>{"use strict";Object.defineProperty(wR,"__esModule",{value:!0});var LMe=FY(),MMe=QY(),FMe=jY(),QMe=HY(),UMe=zY(),qMe=GY(),jMe=VY(),HMe=YY(),zMe=WY(),GMe=JY(),VMe=[LMe.default,MMe.default,FMe.default,QMe.default,UMe.default,qMe.default,jMe.default,HMe.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},zMe.default,GMe.default];wR.default=VMe});var TR=C(Im=>{"use strict";Object.defineProperty(Im,"__esModule",{value:!0});Im.validateAdditionalItems=void 0;var wl=ut(),SR=Ft(),KMe={message:({params:{len:e}})=>(0,wl.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,wl._)`{limit: ${e}}`},YMe={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:KMe,code(e){let{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,SR.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}ZY(e,n)}};function ZY(e,t){let{gen:r,schema:n,data:s,keyword:a,it:o}=e;o.items=!0;let c=r.const("len",(0,wl._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,wl._)`${c} <= ${t.length}`);else if(typeof n=="object"&&!(0,SR.alwaysValidSchema)(o,n)){let l=r.var("valid",(0,wl._)`${c} <= ${t.length}`);r.if((0,wl.not)(l),()=>u(l)),e.ok(l)}function u(l){r.forRange("i",t.length,c,d=>{e.subschema({keyword:a,dataProp:d,dataPropType:SR.Type.Num},l),o.allErrors||r.if((0,wl.not)(l),()=>r.break())})}}Im.validateAdditionalItems=ZY;Im.default=YMe});var BR=C(Cm=>{"use strict";Object.defineProperty(Cm,"__esModule",{value:!0});Cm.validateTuple=void 0;var eW=ut(),RE=Ft(),WMe=Ai(),JMe={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){let{schema:t,it:r}=e;if(Array.isArray(t))return tW(e,"additionalItems",t);r.items=!0,!(0,RE.alwaysValidSchema)(r,t)&&e.ok((0,WMe.validateArray)(e))}};function tW(e,t,r=e.schema){let{gen:n,parentSchema:s,data:a,keyword:o,it:c}=e;d(s),c.opts.unevaluated&&r.length&&c.items!==!0&&(c.items=RE.mergeEvaluated.items(n,r.length,c.items));let u=n.name("valid"),l=n.const("len",(0,eW._)`${a}.length`);r.forEach((f,p)=>{(0,RE.alwaysValidSchema)(c,f)||(n.if((0,eW._)`${l} > ${p}`,()=>e.subschema({keyword:o,schemaProp:p,dataProp:p},u)),e.ok(u))});function d(f){let{opts:p,errSchemaPath:m}=c,h=r.length,g=h===f.minItems&&(h===f.maxItems||f[t]===!1);if(p.strictTuples&&!g){let A=`"${o}" is ${h}-tuple, but minItems or maxItems/${t} are not specified or different at path "${m}"`;(0,RE.checkStrictMode)(c,A,p.strictTuples)}}}Cm.validateTuple=tW;Cm.default=JMe});var rW=C(RR=>{"use strict";Object.defineProperty(RR,"__esModule",{value:!0});var XMe=BR(),ZMe={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,XMe.validateTuple)(e,"items")};RR.default=ZMe});var sW=C(NR=>{"use strict";Object.defineProperty(NR,"__esModule",{value:!0});var nW=ut(),eFe=Ft(),tFe=Ai(),rFe=TR(),nFe={message:({params:{len:e}})=>(0,nW.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,nW._)`{limit: ${e}}`},sFe={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:nFe,code(e){let{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,eFe.alwaysValidSchema)(n,t)&&(s?(0,rFe.validateAdditionalItems)(e,s):e.ok((0,tFe.validateArray)(e)))}};NR.default=sFe});var iW=C(kR=>{"use strict";Object.defineProperty(kR,"__esModule",{value:!0});var bi=ut(),NE=Ft(),iFe={message:({params:{min:e,max:t}})=>t===void 0?(0,bi.str)`must contain at least ${e} valid item(s)`:(0,bi.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,bi._)`{minContains: ${e}}`:(0,bi._)`{minContains: ${e}, maxContains: ${t}}`},aFe={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:iFe,code(e){let{gen:t,schema:r,parentSchema:n,data:s,it:a}=e,o,c,{minContains:u,maxContains:l}=n;a.opts.next?(o=u===void 0?1:u,c=l):o=1;let d=t.const("len",(0,bi._)`${s}.length`);if(e.setParams({min:o,max:c}),c===void 0&&o===0){(0,NE.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(c!==void 0&&o>c){(0,NE.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,NE.alwaysValidSchema)(a,r)){let g=(0,bi._)`${d} >= ${o}`;c!==void 0&&(g=(0,bi._)`${g} && ${d} <= ${c}`),e.pass(g);return}a.items=!0;let f=t.name("valid");c===void 0&&o===1?m(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),c!==void 0&&t.if((0,bi._)`${s}.length > 0`,p)):(t.let(f,!1),p()),e.result(f,()=>e.reset());function p(){let g=t.name("_valid"),A=t.let("count",0);m(g,()=>t.if(g,()=>h(A)))}function m(g,A){t.forRange("i",0,d,y=>{e.subschema({keyword:"contains",dataProp:y,dataPropType:NE.Type.Num,compositeRule:!0},g),A()})}function h(g){t.code((0,bi._)`${g}++`),c===void 0?t.if((0,bi._)`${g} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,bi._)`${g} > ${c}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,bi._)`${g} >= ${o}`,()=>t.assign(f,!0)))}}};kR.default=aFe});var cW=C(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.validateSchemaDeps=Oa.validatePropertyDeps=Oa.error=void 0;var DR=ut(),oFe=Ft(),wm=Ai();Oa.error={message:({params:{property:e,depsCount:t,deps:r}})=>{let n=t===1?"property":"properties";return(0,DR.str)`must have ${n} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:n}})=>(0,DR._)`{property: ${e},
    missingProperty: ${n},
    depsCount: ${t},
    deps: ${r}}`};var cFe={keyword:"dependencies",type:"object",schemaType:"object",error:Oa.error,code(e){let[t,r]=uFe(e);aW(e,t),oW(e,r)}};function uFe({schema:e}){let t={},r={};for(let n in e){if(n==="__proto__")continue;let s=Array.isArray(e[n])?t:r;s[n]=e[n]}return[t,r]}function aW(e,t=e.schema){let{gen:r,data:n,it:s}=e;if(Object.keys(t).length===0)return;let a=r.let("missing");for(let o in t){let c=t[o];if(c.length===0)continue;let u=(0,wm.propertyInData)(r,n,o,s.opts.ownProperties);e.setParams({property:o,depsCount:c.length,deps:c.join(", ")}),s.allErrors?r.if(u,()=>{for(let l of c)(0,wm.checkReportMissingProp)(e,l)}):(r.if((0,DR._)`${u} && (${(0,wm.checkMissingProp)(e,c,a)})`),(0,wm.reportMissingProp)(e,a),r.else())}}Oa.validatePropertyDeps=aW;function oW(e,t=e.schema){let{gen:r,data:n,keyword:s,it:a}=e,o=r.name("valid");for(let c in t)(0,oFe.alwaysValidSchema)(a,t[c])||(r.if((0,wm.propertyInData)(r,n,c,a.opts.ownProperties),()=>{let u=e.subschema({keyword:s,schemaProp:c},o);e.mergeValidEvaluated(u,o)},()=>r.var(o,!0)),e.ok(o))}Oa.validateSchemaDeps=oW;Oa.default=cFe});var lW=C(PR=>{"use strict";Object.defineProperty(PR,"__esModule",{value:!0});var uW=ut(),lFe=Ft(),dFe={message:"property name must be valid",params:({params:e})=>(0,uW._)`{propertyName: ${e.propertyName}}`},fFe={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:dFe,code(e){let{gen:t,schema:r,data:n,it:s}=e;if((0,lFe.alwaysValidSchema)(s,r))return;let a=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},a),t.if((0,uW.not)(a),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(a)}};PR.default=fFe});var $R=C(OR=>{"use strict";Object.defineProperty(OR,"__esModule",{value:!0});var kE=Ai(),Xi=ut(),pFe=Bo(),DE=Ft(),hFe={message:"must NOT have additional properties",params:({params:e})=>(0,Xi._)`{additionalProperty: ${e.additionalProperty}}`},mFe={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:hFe,code(e){let{gen:t,schema:r,parentSchema:n,data:s,errsCount:a,it:o}=e;if(!a)throw new Error("ajv implementation error");let{allErrors:c,opts:u}=o;if(o.props=!0,u.removeAdditional!=="all"&&(0,DE.alwaysValidSchema)(o,r))return;let l=(0,kE.allSchemaProperties)(n.properties),d=(0,kE.allSchemaProperties)(n.patternProperties);f(),e.ok((0,Xi._)`${a} === ${pFe.default.errors}`);function f(){t.forIn("key",s,A=>{!l.length&&!d.length?h(A):t.if(p(A),()=>h(A))})}function p(A){let y;if(l.length>8){let v=(0,DE.schemaRefOrVal)(o,n.properties,"properties");y=(0,kE.isOwnProperty)(t,v,A)}else l.length?y=(0,Xi.or)(...l.map(v=>(0,Xi._)`${A} === ${v}`)):y=Xi.nil;return d.length&&(y=(0,Xi.or)(y,...d.map(v=>(0,Xi._)`${(0,kE.usePattern)(e,v)}.test(${A})`))),(0,Xi.not)(y)}function m(A){t.code((0,Xi._)`delete ${s}[${A}]`)}function h(A){if(u.removeAdditional==="all"||u.removeAdditional&&r===!1){m(A);return}if(r===!1){e.setParams({additionalProperty:A}),e.error(),c||t.break();return}if(typeof r=="object"&&!(0,DE.alwaysValidSchema)(o,r)){let y=t.name("valid");u.removeAdditional==="failing"?(g(A,y,!1),t.if((0,Xi.not)(y),()=>{e.reset(),m(A)})):(g(A,y),c||t.if((0,Xi.not)(y),()=>t.break()))}}function g(A,y,v){let b={keyword:"additionalProperties",dataProp:A,dataPropType:DE.Type.Str};v===!1&&Object.assign(b,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(b,y)}}};OR.default=mFe});var pW=C(MR=>{"use strict";Object.defineProperty(MR,"__esModule",{value:!0});var gFe=fm(),dW=Ai(),LR=Ft(),fW=$R(),AFe={keyword:"properties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&fW.default.code(new gFe.KeywordCxt(a,fW.default,"additionalProperties"));let o=(0,dW.allSchemaProperties)(r);for(let f of o)a.definedProperties.add(f);a.opts.unevaluated&&o.length&&a.props!==!0&&(a.props=LR.mergeEvaluated.props(t,(0,LR.toHash)(o),a.props));let c=o.filter(f=>!(0,LR.alwaysValidSchema)(a,r[f]));if(c.length===0)return;let u=t.name("valid");for(let f of c)l(f)?d(f):(t.if((0,dW.propertyInData)(t,s,f,a.opts.ownProperties)),d(f),a.allErrors||t.else().var(u,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(u);function l(f){return a.opts.useDefaults&&!a.compositeRule&&r[f].default!==void 0}function d(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},u)}}};MR.default=AFe});var AW=C(FR=>{"use strict";Object.defineProperty(FR,"__esModule",{value:!0});var hW=Ai(),PE=ut(),mW=Ft(),gW=Ft(),yFe={keyword:"patternProperties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,data:n,parentSchema:s,it:a}=e,{opts:o}=a,c=(0,hW.allSchemaProperties)(r),u=c.filter(g=>(0,mW.alwaysValidSchema)(a,r[g]));if(c.length===0||u.length===c.length&&(!a.opts.unevaluated||a.props===!0))return;let l=o.strictSchema&&!o.allowMatchingProperties&&s.properties,d=t.name("valid");a.props!==!0&&!(a.props instanceof PE.Name)&&(a.props=(0,gW.evaluatedPropsToName)(t,a.props));let{props:f}=a;p();function p(){for(let g of c)l&&m(g),a.allErrors?h(g):(t.var(d,!0),h(g),t.if(d))}function m(g){for(let A in l)new RegExp(g).test(A)&&(0,mW.checkStrictMode)(a,`property ${A} matches pattern ${g} (use allowMatchingProperties)`)}function h(g){t.forIn("key",n,A=>{t.if((0,PE._)`${(0,hW.usePattern)(e,g)}.test(${A})`,()=>{let y=u.includes(g);y||e.subschema({keyword:"patternProperties",schemaProp:g,dataProp:A,dataPropType:gW.Type.Str},d),a.opts.unevaluated&&f!==!0?t.assign((0,PE._)`${f}[${A}]`,!0):!y&&!a.allErrors&&t.if((0,PE.not)(d),()=>t.break())})})}}};FR.default=yFe});var yW=C(QR=>{"use strict";Object.defineProperty(QR,"__esModule",{value:!0});var bFe=Ft(),EFe={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){let{gen:t,schema:r,it:n}=e;if((0,bFe.alwaysValidSchema)(n,r)){e.fail();return}let s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};QR.default=EFe});var bW=C(UR=>{"use strict";Object.defineProperty(UR,"__esModule",{value:!0});var xFe=Ai(),vFe={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:xFe.validateUnion,error:{message:"must match a schema in anyOf"}};UR.default=vFe});var EW=C(qR=>{"use strict";Object.defineProperty(qR,"__esModule",{value:!0});var OE=ut(),_Fe=Ft(),IFe={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,OE._)`{passingSchemas: ${e.passing}}`},CFe={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:IFe,code(e){let{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;let a=r,o=t.let("valid",!1),c=t.let("passing",null),u=t.name("_valid");e.setParams({passing:c}),t.block(l),e.result(o,()=>e.reset(),()=>e.error(!0));function l(){a.forEach((d,f)=>{let p;(0,_Fe.alwaysValidSchema)(s,d)?t.var(u,!0):p=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},u),f>0&&t.if((0,OE._)`${u} && ${o}`).assign(o,!1).assign(c,(0,OE._)`[${c}, ${f}]`).else(),t.if(u,()=>{t.assign(o,!0),t.assign(c,f),p&&e.mergeEvaluated(p,OE.Name)})})}}};qR.default=CFe});var xW=C(jR=>{"use strict";Object.defineProperty(jR,"__esModule",{value:!0});var wFe=Ft(),SFe={keyword:"allOf",schemaType:"array",code(e){let{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");let s=t.name("valid");r.forEach((a,o)=>{if((0,wFe.alwaysValidSchema)(n,a))return;let c=e.subschema({keyword:"allOf",schemaProp:o},s);e.ok(s),e.mergeEvaluated(c)})}};jR.default=SFe});var IW=C(HR=>{"use strict";Object.defineProperty(HR,"__esModule",{value:!0});var $E=ut(),_W=Ft(),TFe={message:({params:e})=>(0,$E.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,$E._)`{failingKeyword: ${e.ifClause}}`},BFe={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:TFe,code(e){let{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,_W.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let s=vW(n,"then"),a=vW(n,"else");if(!s&&!a)return;let o=t.let("valid",!0),c=t.name("_valid");if(u(),e.reset(),s&&a){let d=t.let("ifClause");e.setParams({ifClause:d}),t.if(c,l("then",d),l("else",d))}else s?t.if(c,l("then")):t.if((0,$E.not)(c),l("else"));e.pass(o,()=>e.error(!0));function u(){let d=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},c);e.mergeEvaluated(d)}function l(d,f){return()=>{let p=e.subschema({keyword:d},c);t.assign(o,c),e.mergeValidEvaluated(p,o),f?t.assign(f,(0,$E._)`${d}`):e.setParams({ifClause:d})}}}};function vW(e,t){let r=e.schema[t];return r!==void 0&&!(0,_W.alwaysValidSchema)(e,r)}HR.default=BFe});var CW=C(zR=>{"use strict";Object.defineProperty(zR,"__esModule",{value:!0});var RFe=Ft(),NFe={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,RFe.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};zR.default=NFe});var wW=C(GR=>{"use strict";Object.defineProperty(GR,"__esModule",{value:!0});var kFe=TR(),DFe=rW(),PFe=BR(),OFe=sW(),$Fe=iW(),LFe=cW(),MFe=lW(),FFe=$R(),QFe=pW(),UFe=AW(),qFe=yW(),jFe=bW(),HFe=EW(),zFe=xW(),GFe=IW(),VFe=CW();function KFe(e=!1){let t=[qFe.default,jFe.default,HFe.default,zFe.default,GFe.default,VFe.default,MFe.default,FFe.default,LFe.default,QFe.default,UFe.default];return e?t.push(DFe.default,OFe.default):t.push(kFe.default,PFe.default),t.push($Fe.default),t}GR.default=KFe});var SW=C(VR=>{"use strict";Object.defineProperty(VR,"__esModule",{value:!0});var qr=ut(),YFe={message:({schemaCode:e})=>(0,qr.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,qr._)`{format: ${e}}`},WFe={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:YFe,code(e,t){let{gen:r,data:n,$data:s,schema:a,schemaCode:o,it:c}=e,{opts:u,errSchemaPath:l,schemaEnv:d,self:f}=c;if(!u.validateFormats)return;s?p():m();function p(){let h=r.scopeValue("formats",{ref:f.formats,code:u.code.formats}),g=r.const("fDef",(0,qr._)`${h}[${o}]`),A=r.let("fType"),y=r.let("format");r.if((0,qr._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>r.assign(A,(0,qr._)`${g}.type || "string"`).assign(y,(0,qr._)`${g}.validate`),()=>r.assign(A,(0,qr._)`"string"`).assign(y,g)),e.fail$data((0,qr.or)(v(),b()));function v(){return u.strictSchema===!1?qr.nil:(0,qr._)`${o} && !${y}`}function b(){let E=d.$async?(0,qr._)`(${g}.async ? await ${y}(${n}) : ${y}(${n}))`:(0,qr._)`${y}(${n})`,I=(0,qr._)`(typeof ${y} == "function" ? ${E} : ${y}.test(${n}))`;return(0,qr._)`${y} && ${y} !== true && ${A} === ${t} && !${I}`}}function m(){let h=f.formats[a];if(!h){v();return}if(h===!0)return;let[g,A,y]=b(h);g===t&&e.pass(E());function v(){if(u.strictSchema===!1){f.logger.warn(I());return}throw new Error(I());function I(){return`unknown format "${a}" ignored in schema at path "${l}"`}}function b(I){let w=I instanceof RegExp?(0,qr.regexpCode)(I):u.code.formats?(0,qr._)`${u.code.formats}${(0,qr.getProperty)(a)}`:void 0,S=r.scopeValue("formats",{key:a,ref:I,code:w});return typeof I=="object"&&!(I instanceof RegExp)?[I.type||"string",I.validate,(0,qr._)`${S}.validate`]:["string",I,S]}function E(){if(typeof h=="object"&&!(h instanceof RegExp)&&h.async){if(!d.$async)throw new Error("async format in sync schema");return(0,qr._)`await ${y}(${n})`}return typeof A=="function"?(0,qr._)`${y}(${n})`:(0,qr._)`${y}.test(${n})`}}}};VR.default=WFe});var TW=C(KR=>{"use strict";Object.defineProperty(KR,"__esModule",{value:!0});var JFe=SW(),XFe=[JFe.default];KR.default=XFe});var BW=C(Uf=>{"use strict";Object.defineProperty(Uf,"__esModule",{value:!0});Uf.contentVocabulary=Uf.metadataVocabulary=void 0;Uf.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Uf.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var NW=C(YR=>{"use strict";Object.defineProperty(YR,"__esModule",{value:!0});var ZFe=MY(),e9e=XY(),t9e=wW(),r9e=TW(),RW=BW(),n9e=[ZFe.default,e9e.default,(0,t9e.default)(),r9e.default,RW.metadataVocabulary,RW.contentVocabulary];YR.default=n9e});var DW=C(LE=>{"use strict";Object.defineProperty(LE,"__esModule",{value:!0});LE.DiscrError=void 0;var kW;(function(e){e.Tag="tag",e.Mapping="mapping"})(kW||(LE.DiscrError=kW={}))});var OW=C(JR=>{"use strict";Object.defineProperty(JR,"__esModule",{value:!0});var qf=ut(),WR=DW(),PW=yE(),s9e=pm(),i9e=Ft(),a9e={message:({params:{discrError:e,tagName:t}})=>e===WR.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,qf._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},o9e={keyword:"discriminator",type:"object",schemaType:"object",error:a9e,code(e){let{gen:t,data:r,schema:n,parentSchema:s,it:a}=e,{oneOf:o}=s;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");let c=n.propertyName;if(typeof c!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");let u=t.let("valid",!1),l=t.const("tag",(0,qf._)`${r}${(0,qf.getProperty)(c)}`);t.if((0,qf._)`typeof ${l} == "string"`,()=>d(),()=>e.error(!1,{discrError:WR.DiscrError.Tag,tag:l,tagName:c})),e.ok(u);function d(){let m=p();t.if(!1);for(let h in m)t.elseIf((0,qf._)`${l} === ${h}`),t.assign(u,f(m[h]));t.else(),e.error(!1,{discrError:WR.DiscrError.Mapping,tag:l,tagName:c}),t.endIf()}function f(m){let h=t.name("valid"),g=e.subschema({keyword:"oneOf",schemaProp:m},h);return e.mergeEvaluated(g,qf.Name),h}function p(){var m;let h={},g=y(s),A=!0;for(let E=0;E<o.length;E++){let I=o[E];if(I?.$ref&&!(0,i9e.schemaHasRulesButRef)(I,a.self.RULES)){let S=I.$ref;if(I=PW.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,S),I instanceof PW.SchemaEnv&&(I=I.schema),I===void 0)throw new s9e.default(a.opts.uriResolver,a.baseId,S)}let w=(m=I?.properties)===null||m===void 0?void 0:m[c];if(typeof w!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${c}"`);A=A&&(g||y(I)),v(w,E)}if(!A)throw new Error(`discriminator: "${c}" must be required`);return h;function y({required:E}){return Array.isArray(E)&&E.includes(c)}function v(E,I){if(E.const)b(E.const,I);else if(E.enum)for(let w of E.enum)b(w,I);else throw new Error(`discriminator: "properties/${c}" must have "const" or "enum"`)}function b(E,I){if(typeof E!="string"||E in h)throw new Error(`discriminator: "${c}" values must be unique strings`);h[E]=I}}}};JR.default=o9e});var $W=C((F0t,c9e)=>{c9e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var MW=C((Cr,XR)=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.MissingRefError=Cr.ValidationError=Cr.CodeGen=Cr.Name=Cr.nil=Cr.stringify=Cr.str=Cr._=Cr.KeywordCxt=Cr.Ajv=void 0;var u9e=kY(),l9e=NW(),d9e=OW(),LW=$W(),f9e=["/properties"],ME="http://json-schema.org/draft-07/schema",jf=class extends u9e.default{_addVocabularies(){super._addVocabularies(),l9e.default.forEach(t=>this.addVocabulary(t)),this.opts.discriminator&&this.addKeyword(d9e.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let t=this.opts.$data?this.$dataMetaSchema(LW,f9e):LW;this.addMetaSchema(t,ME,!1),this.refs["http://json-schema.org/schema"]=ME}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(ME)?ME:void 0)}};Cr.Ajv=jf;XR.exports=Cr=jf;XR.exports.Ajv=jf;Object.defineProperty(Cr,"__esModule",{value:!0});Cr.default=jf;var p9e=fm();Object.defineProperty(Cr,"KeywordCxt",{enumerable:!0,get:function(){return p9e.KeywordCxt}});var Hf=ut();Object.defineProperty(Cr,"_",{enumerable:!0,get:function(){return Hf._}});Object.defineProperty(Cr,"str",{enumerable:!0,get:function(){return Hf.str}});Object.defineProperty(Cr,"stringify",{enumerable:!0,get:function(){return Hf.stringify}});Object.defineProperty(Cr,"nil",{enumerable:!0,get:function(){return Hf.nil}});Object.defineProperty(Cr,"Name",{enumerable:!0,get:function(){return Hf.Name}});Object.defineProperty(Cr,"CodeGen",{enumerable:!0,get:function(){return Hf.CodeGen}});var h9e=gE();Object.defineProperty(Cr,"ValidationError",{enumerable:!0,get:function(){return h9e.default}});var m9e=pm();Object.defineProperty(Cr,"MissingRefError",{enumerable:!0,get:function(){return m9e.default}})});var FW=C(zf=>{"use strict";Object.defineProperty(zf,"__esModule",{value:!0});zf.formatLimitDefinition=void 0;var g9e=MW(),Zi=ut(),jc=Zi.operators,FE={formatMaximum:{okStr:"<=",ok:jc.LTE,fail:jc.GT},formatMinimum:{okStr:">=",ok:jc.GTE,fail:jc.LT},formatExclusiveMaximum:{okStr:"<",ok:jc.LT,fail:jc.GTE},formatExclusiveMinimum:{okStr:">",ok:jc.GT,fail:jc.LTE}},A9e={message:({keyword:e,schemaCode:t})=>Zi.str`should be ${FE[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>Zi._`{comparison: ${FE[e].okStr}, limit: ${t}}`};zf.formatLimitDefinition={keyword:Object.keys(FE),type:"string",schemaType:"string",$data:!0,error:A9e,code(e){let{gen:t,data:r,schemaCode:n,keyword:s,it:a}=e,{opts:o,self:c}=a;if(!o.validateFormats)return;let u=new g9e.KeywordCxt(a,c.RULES.all.format.definition,"format");u.$data?l():d();function l(){let p=t.scopeValue("formats",{ref:c.formats,code:o.code.formats}),m=t.const("fmt",Zi._`${p}[${u.schemaCode}]`);e.fail$data(Zi.or(Zi._`typeof ${m} != "object"`,Zi._`${m} instanceof RegExp`,Zi._`typeof ${m}.compare != "function"`,f(m)))}function d(){let p=u.schema,m=c.formats[p];if(!m||m===!0)return;if(typeof m!="object"||m instanceof RegExp||typeof m.compare!="function")throw new Error(`"${s}": format "${p}" does not define "compare" function`);let h=t.scopeValue("formats",{key:p,ref:m,code:o.code.formats?Zi._`${o.code.formats}${Zi.getProperty(p)}`:void 0});e.fail$data(f(h))}function f(p){return Zi._`${p}.compare(${r}, ${n}) ${FE[s].fail} 0`}},dependencies:["format"]};var y9e=e=>(e.addKeyword(zf.formatLimitDefinition),e);zf.default=y9e});var jW=C((Sm,qW)=>{"use strict";Object.defineProperty(Sm,"__esModule",{value:!0});var Gf=fK(),b9e=FW(),ZR=ut(),QW=new ZR.Name("fullFormats"),E9e=new ZR.Name("fastFormats"),eN=(e,t={keywords:!0})=>{if(Array.isArray(t))return UW(e,t,Gf.fullFormats,QW),e;let[r,n]=t.mode==="fast"?[Gf.fastFormats,E9e]:[Gf.fullFormats,QW],s=t.formats||Gf.formatNames;return UW(e,s,r,n),t.keywords&&b9e.default(e),e};eN.get=(e,t="full")=>{let n=(t==="fast"?Gf.fastFormats:Gf.fullFormats)[e];if(!n)throw new Error(`Unknown format "${e}"`);return n};function UW(e,t,r,n){var s,a;(s=(a=e.opts.code).formats)!==null&&s!==void 0||(a.formats=ZR._`require("ajv-formats/dist/formats").${n}`);for(let o of t)e.addFormat(o,r[o])}qW.exports=Sm=eN;Object.defineProperty(Sm,"__esModule",{value:!0});Sm.default=eN});var GW=C((U0t,zW)=>{"use strict";var x9e=lV().default,v9e=l4(),HW=d4(),tN=class{constructor(t,r){r.mode==="JTD"?this.ajv=new v9e(Object.assign({},HW,r.customOptions)):this.ajv=new x9e(Object.assign({},HW,r.customOptions));let n=!0;if(r.plugins&&r.plugins.length>0)for(let a of r.plugins)Array.isArray(a)?(n=n&&a[0].name!=="formatsPlugin",a[0](this.ajv,a[1])):(n=n&&a.name!=="formatsPlugin",a(this.ajv));n&&jW()(this.ajv),r.onCreate?.(this.ajv);let s=Object.values(t);for(let a of s)this.ajv.addSchema(a)}buildValidatorFunction({schema:t}){if(t.$id){let r=this.ajv.getSchema(t.$id);if(r)return r}return this.ajv.compile(t)}};zW.exports=tN});var KW=C((q0t,VW)=>{"use strict";var _9e=l4(),I9e=d4(),rN=class{constructor(t,r){this.ajv=new _9e(Object.assign({},I9e,r))}buildSerializerFunction({schema:t}){return this.ajv.compileSerializer(t)}};VW.exports=rN});var JW=C((Bm,WW)=>{"use strict";Object.defineProperty(Bm,"__esModule",{value:!0});var Tm=Eb(),ea=af();function YW(e,t){if(!e.opts.code.source)throw new Error("moduleCode: ajv instance must have code.source option");let{_n:r}=e.scope.opts;return typeof t=="function"?s(t.source):t!==void 0?a(t,n):a(e.schemas,c=>c.meta?void 0:e.compile(c.schema));function n(c){let u=e.getSchema(c);if(!u)throw new Error(`moduleCode: no schema with id ${c}`);return u}function s(c){let u={},l=c?.validateName,d=o(u,c);return e.opts.code.esm?`"use strict";${r}export const validate = ${l};${r}export default ${l};${r}${d}`:`"use strict";${r}module.exports = ${l};${r}module.exports.default = ${l};${r}${d}`}function a(c,u){var l;let d={},f=(0,ea._)`"use strict";`;for(let p in c){let m=u(c[p]);if(m){let h=o(d,m.source),g=e.opts.code.esm?(0,ea._)`export const ${(0,ea.getEsmExportName)(p)}`:(0,ea._)`exports${(0,ea.getProperty)(p)}`;f=(0,ea._)`${f}${r}${g} = ${(l=m.source)===null||l===void 0?void 0:l.validateName};${r}${h}`}}return`${f}`}function o(c,u){if(!u)throw new Error('moduleCode: function does not have "source" property');if(p(u.validateName)===Tm.UsedValueState.Completed)return ea.nil;m(u.validateName,Tm.UsedValueState.Started);let l=e.scope.scopeCode(u.scopeValues,c,f),d=new ea._Code(`${l}${r}${u.validateCode}`);return u.evaluated?(0,ea._)`${d}${u.validateName}.evaluated = ${u.evaluated};${r}`:d;function f(h){var g;let A=(g=h.value)===null||g===void 0?void 0:g.ref;if(h.prefix==="validate"&&typeof A=="function")return o(c,A.source);if((h.prefix==="root"||h.prefix==="wrapper")&&typeof A=="object"){let{validate:y,validateName:v}=A;if(!v)throw new Error("ajv internal error");let b=e.opts.code.es5?Tm.varKinds.var:Tm.varKinds.const,E=(0,ea._)`${b} ${h} = {validate: ${v}};`;if(p(v)===Tm.UsedValueState.Started)return E;let I=o(c,y?.source);return(0,ea._)`${E}${r}${I}`}}function p(h){var g;return(g=c[h.prefix])===null||g===void 0?void 0:g.get(h)}function m(h,g){let{prefix:A}=h;(c[A]=c[A]||new Map).set(h,g)}}}WW.exports=Bm=YW;Object.defineProperty(Bm,"__esModule",{value:!0});Bm.default=YW});var eJ=C((j0t,ZW)=>{"use strict";var XW=nN(),C9e=JW().default;function w9e(e={readMode:!0}){if(e.readMode===!0&&!e.restoreFunction)throw new Error("You must provide a restoreFunction options when readMode ON");if(e.readMode!==!0&&!e.storeFunction)throw new Error("You must provide a storeFunction options when readMode OFF");if(e.readMode===!0)return function(){return function(n){return e.restoreFunction(n)}};let t=XW();return function(n,s={}){(!s.customOptions||!s.customOptions.code)&&(s.customOptions=Object.assign({},s.customOptions,{code:{source:!0}}));let a=t(n,s);return function(o){let c=a(o),u=C9e(a[XW.AjvReference].ajv,c);return e.storeFunction(o,u),c}}}ZW.exports=w9e});var nN=C((H0t,Vf)=>{"use strict";var rJ=Symbol.for("fastify.ajv-compiler.reference"),S9e=GW(),T9e=KW();function sN(e){let t=new Map,r=new Map;return e&&e.jtdSerializer===!0?function(s,a){let o=tJ({},a);if(r.has(o))return r.get(o);let c=new T9e(s,a),u=c.buildSerializerFunction.bind(c);return r.set(o,u),u}:function(s,a){let o=tJ(s,a.customOptions);if(t.has(o))return t.get(o);let c=new S9e(s,a),u=c.buildValidatorFunction.bind(c);return t.set(o,u),a.customOptions.code!==void 0&&(u[rJ]=c),u}}function tJ(e,t){let r=JSON.stringify(e),n=JSON.stringify(t);return`${r}${n}`}Vf.exports=sN;Vf.exports.default=sN;Vf.exports.AjvCompiler=sN;Vf.exports.AjvReference=rJ;Vf.exports.StandaloneValidator=eJ()});var iN=C((z0t,nJ)=>{"use strict";var{buildSchemas:B9e}=I0(),R9e=KT(),N9e=nN();function k9e(e,t){if(e)return new Kf(e,t);let r=Object.assign({buildValidator:null,buildSerializer:null},t?.compilersFactory);r.buildValidator||(r.buildValidator=N9e()),r.buildSerializer||(r.buildSerializer=R9e());let n={bucket:t&&t.bucket||B9e,compilersFactory:r,isCustomValidatorCompiler:typeof t?.compilersFactory?.buildValidator=="function",isCustomSerializerCompiler:typeof t?.compilersFactory?.buildValidator=="function"};return new Kf(void 0,n)}var Kf=class{constructor(t,r){this.opts=r||t?.opts,this.addedSchemas=!1,this.compilersFactory=this.opts.compilersFactory,t?(this.schemaBucket=this.opts.bucket(t.getSchemas()),this.validatorCompiler=t.getValidatorCompiler(),this.serializerCompiler=t.getSerializerCompiler(),this.isCustomValidatorCompiler=t.isCustomValidatorCompiler,this.isCustomSerializerCompiler=t.isCustomSerializerCompiler,this.parent=t):(this.schemaBucket=this.opts.bucket(),this.isCustomValidatorCompiler=this.opts.isCustomValidatorCompiler||!1,this.isCustomSerializerCompiler=this.opts.isCustomSerializerCompiler||!1)}add(t){return this.addedSchemas=!0,this.schemaBucket.add(t)}getSchema(t){return this.schemaBucket.getSchema(t)}getSchemas(){return this.schemaBucket.getSchemas()}setValidatorCompiler(t){this.compilersFactory=Object.assign({},this.compilersFactory,{buildValidator:()=>t}),this.validatorCompiler=t,this.isCustomValidatorCompiler=!0}setSerializerCompiler(t){this.compilersFactory=Object.assign({},this.compilersFactory,{buildSerializer:()=>t}),this.serializerCompiler=t,this.isCustomSerializerCompiler=!0}getValidatorCompiler(){return this.validatorCompiler||this.parent&&this.parent.getValidatorCompiler()}getSerializerCompiler(){return this.serializerCompiler||this.parent&&this.parent.getSerializerCompiler()}getSerializerBuilder(){return this.compilersFactory.buildSerializer||this.parent&&this.parent.getSerializerBuilder()}getValidatorBuilder(){return this.compilersFactory.buildValidator||this.parent&&this.parent.getValidatorBuilder()}setupValidator(t){this.validatorCompiler!==void 0&&!this.addedSchemas||(this.validatorCompiler=this.getValidatorBuilder()(this.schemaBucket.getSchemas(),t.ajv))}setupSerializer(t){this.serializerCompiler!==void 0&&!this.addedSchemas||(this.serializerCompiler=this.getSerializerBuilder()(this.schemaBucket.getSchemas(),t.serializerOpts))}};Kf.buildSchemaController=k9e;nJ.exports=Kf});var dN=C((G0t,lN)=>{"use strict";var aN=gT(),cN=require("node:assert"),uN=Symbol.for("registered-plugin"),{kTestInternals:D9e}=cn(),{exist:P9e,existReply:O9e,existRequest:$9e}=wT(),{FST_ERR_PLUGIN_VERSION_MISMATCH:L9e,FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE:M9e}=$n(),{FSTWRN002:F9e}=io();function Rm(e){return e[Symbol.for("plugin-meta")]}function sJ(e){let t=iJ(e);if(t)return t;let r=require.cache;if(r){let n=Object.keys(r);for(let s=0;s<n.length;s++){let a=n[s];if(r[a].exports===e)return a}}return e.name?e.name:null}function Q9e(e){return e.toString().split(`
`).slice(0,2).map(t=>t.trim()).join(" -- ")}function iJ(e){return e[Symbol.for("fastify.display-name")]}function aJ(e){return!!e[Symbol.for("skip-override")]}function oJ(e){let t=Rm(e);if(!t)return;let r=t.dependencies;r&&(cN(Array.isArray(r),"The dependencies should be an array of strings"),r.forEach(n=>{cN(this[uN].indexOf(n)>-1,`The dependency '${n}' of plugin '${t.name}' is not registered`)}))}function cJ(e){let t=Rm(e);if(!t)return;let{decorators:r,name:n}=t;r&&(r.fastify&&oN(this,"Fastify",r.fastify,n),r.reply&&oN(this,"Reply",r.reply,n),r.request&&oN(this,"Request",r.request,n))}var U9e={Fastify:P9e,Request:$9e,Reply:O9e};function oN(e,t,r,n){cN(Array.isArray(r),"The decorators should be an array of strings"),r.forEach(s=>{let a=typeof n=="string"?` required by '${n}'`:"";if(!U9e[t].call(e,s))throw new M9e(s,a,t)})}function q9e(e){let t=Rm(e);if(!t)return;let r=t.fastify,n=/-rc.+$/.test(this.version);if(!(n===!0&&aN.gt(this.version,aN.coerce(r))===!0)&&r&&aN.satisfies(this.version,r,{includePrerelease:n})===!1)throw new L9e(t.name,r,this.version)}function j9e(e){let t=Rm(e);if(!t)return;let r=t.name;if(r)return this[uN].push(r),r}function H9e(e,t){e.constructor.name==="AsyncFunction"&&e.length===3&&F9e(t||"anonymous")}function z9e(e){let t=j9e.call(this,e)||sJ(e);return H9e.call(this,e,t),q9e.call(this,e),cJ.call(this,e),oJ.call(this,e),aJ(e)}lN.exports={getPluginName:sJ,getFuncPreview:Q9e,kRegisteredPlugins:uN,getDisplayName:iJ,registerPlugin:z9e};lN.exports[D9e]={shouldSkipOverride:aJ,getMeta:Rm,checkDecorators:cJ,checkDependencies:oJ}});var QE=C((V0t,uJ)=>{"use strict";function G9e(e,t){let r=t||K9e();return e?Y9e(e,r):r}function V9e(e,t){return e.genReqId(t)}function K9e(){let t=0;return function(){return t=t+1&2147483647,`req-${t.toString(36)}`}}function Y9e(e,t){return function(r){return r.headers[e]||t(r)}}uJ.exports={getGenReqId:V9e,reqIdGenFactory:G9e}});var pJ=C((K0t,fJ)=>{"use strict";var lJ=12,W9e=0,fN=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,7,7,7,7,7,7,7,7,7,7,7,7,8,7,7,10,9,9,9,11,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,24,36,48,60,72,84,96,0,12,12,12,0,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,24,24,24,0,0,0,0,0,0,0,0,0,24,24,0,0,0,0,0,0,0,0,0,0,48,48,48,0,0,0,0,0,0,0,0,0,0,48,48,0,0,0,0,0,0,0,0,0,48,0,0,0,0,0,0,0,0,0,0,127,63,63,63,0,31,15,15,15,7,7,7];function J9e(e){var t=e.indexOf("%");if(t===-1)return e;for(var r=e.length,n="",s=0,a=0,o=t,c=lJ;t>-1&&t<r;){var u=dJ(e[t+1],4),l=dJ(e[t+2],0),d=u|l,f=fN[d];if(c=fN[256+c+f],a=a<<6|d&fN[364+f],c===lJ)n+=e.slice(s,o),n+=a<=65535?String.fromCharCode(a):String.fromCharCode(55232+(a>>10),56320+(a&1023)),a=0,s=t+3,t=o=e.indexOf("%",s);else{if(c===W9e)return null;if(t+=3,t<r&&e.charCodeAt(t)===37)continue;return null}}return n+e.slice(s)}var X9e={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};function dJ(e,t){var r=X9e[e];return r===void 0?255:r<<t}fJ.exports=J9e});var yJ=C((Y0t,AJ)=>{"use strict";var hJ=pJ(),mJ=/\+/g,gJ=function(){};gJ.prototype=Object.create(null);function Z9e(e){let t=new gJ;if(typeof e!="string")return t;let r=e.length,n="",s="",a=-1,o=-1,c=!1,u=!1,l=!1,d=!1,f=!1,p=0;for(let m=0;m<r+1;m++)if(p=m!==r?e.charCodeAt(m):38,p===38){if(f=o>a,f||(o=m),n=e.slice(a+1,o),f||n.length>0){l&&(n=n.replace(mJ," ")),c&&(n=hJ(n)||n),f&&(s=e.slice(o+1,m),d&&(s=s.replace(mJ," ")),u&&(s=hJ(s)||s));let h=t[n];h===void 0?t[n]=s:h.pop?h.push(s):t[n]=[h,s]}s="",a=m,o=m,c=!1,u=!1,l=!1,d=!1}else p===61?o<=a?o=m:u=!0:p===43?o>a?d=!0:l=!0:p===37&&(o>a?u=!0:c=!0);return t}AJ.exports=Z9e});var EJ=C((W0t,bJ)=>{var $a=Array.from({length:256},(e,t)=>"%"+((t<16?"0":"")+t.toString(16)).toUpperCase()),eQe=new Int8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0]);function tQe(e){let t=e.length;if(t===0)return"";let r="",n=0,s=0;e:for(;s<t;s++){let a=e.charCodeAt(s);for(;a<128;){if(eQe[a]!==1&&(n<s&&(r+=e.slice(n,s)),n=s+1,r+=$a[a]),++s===t)break e;a=e.charCodeAt(s)}if(n<s&&(r+=e.slice(n,s)),a<2048){n=s+1,r+=$a[192|a>>6]+$a[128|a&63];continue}if(a<55296||a>=57344){n=s+1,r+=$a[224|a>>12]+$a[128|a>>6&63]+$a[128|a&63];continue}if(++s,s>=t)throw new Error("URI malformed");let o=e.charCodeAt(s)&1023;n=s+1,a=65536+((a&1023)<<10|o),r+=$a[240|a>>18]+$a[128|a>>12&63]+$a[128|a>>6&63]+$a[128|a&63]}return n===0?e:n<t?r+e.slice(n):r}bJ.exports={encodeString:tQe}});var _J=C((J0t,vJ)=>{"use strict";var{encodeString:pN}=EJ();function xJ(e){let t=typeof e;return t==="string"?pN(e):t==="bigint"?e.toString():t==="boolean"?e?"true":"false":t==="number"&&Number.isFinite(e)?e<1e21?""+e:pN(""+e):""}function rQe(e){let t="";if(e===null||typeof e!="object")return t;let r="&",n=Object.keys(e),s=n.length,a=0;for(let o=0;o<s;o++){let c=n[o],u=e[c],l=pN(c)+"=";if(o&&(t+=r),Array.isArray(u)){a=u.length;for(let d=0;d<a;d++)d&&(t+=r),t+=l,t+=xJ(u[d])}else t+=l,t+=xJ(u)}return t}vJ.exports=rQe});var SJ=C((X0t,Nm)=>{"use strict";var IJ=yJ(),CJ=_J(),wJ={parse:IJ,stringify:CJ};Nm.exports=wJ;Nm.exports.default=wJ;Nm.exports.parse=IJ;Nm.exports.stringify=CJ});var BJ=C(TJ=>{"use strict";Object.defineProperty(TJ,"__esModule",{value:!0})});var RJ=C(km=>{"use strict";Object.defineProperty(km,"__esModule",{value:!0});km.types=void 0;var nQe;(function(e){e[e.ROOT=0]="ROOT",e[e.GROUP=1]="GROUP",e[e.POSITION=2]="POSITION",e[e.SET=3]="SET",e[e.RANGE=4]="RANGE",e[e.REPETITION=5]="REPETITION",e[e.REFERENCE=6]="REFERENCE",e[e.CHAR=7]="CHAR"})(nQe=km.types||(km.types={}))});var kJ=C(NJ=>{"use strict";Object.defineProperty(NJ,"__esModule",{value:!0})});var Do=C(ko=>{"use strict";var sQe=ko&&ko.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),hN=ko&&ko.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&sQe(t,e,r)};Object.defineProperty(ko,"__esModule",{value:!0});hN(BJ(),ko);hN(RJ(),ko);hN(kJ(),ko)});var UE=C(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});Yn.anyChar=Yn.notWhitespace=Yn.whitespace=Yn.notInts=Yn.ints=Yn.notWords=Yn.words=void 0;var jt=Do(),DJ=()=>[{type:jt.types.RANGE,from:48,to:57}],PJ=()=>[{type:jt.types.CHAR,value:95},{type:jt.types.RANGE,from:97,to:122},{type:jt.types.RANGE,from:65,to:90},{type:jt.types.RANGE,from:48,to:57}],OJ=()=>[{type:jt.types.CHAR,value:9},{type:jt.types.CHAR,value:10},{type:jt.types.CHAR,value:11},{type:jt.types.CHAR,value:12},{type:jt.types.CHAR,value:13},{type:jt.types.CHAR,value:32},{type:jt.types.CHAR,value:160},{type:jt.types.CHAR,value:5760},{type:jt.types.RANGE,from:8192,to:8202},{type:jt.types.CHAR,value:8232},{type:jt.types.CHAR,value:8233},{type:jt.types.CHAR,value:8239},{type:jt.types.CHAR,value:8287},{type:jt.types.CHAR,value:12288},{type:jt.types.CHAR,value:65279}],iQe=()=>[{type:jt.types.CHAR,value:10},{type:jt.types.CHAR,value:13},{type:jt.types.CHAR,value:8232},{type:jt.types.CHAR,value:8233}];Yn.words=()=>({type:jt.types.SET,set:PJ(),not:!1});Yn.notWords=()=>({type:jt.types.SET,set:PJ(),not:!0});Yn.ints=()=>({type:jt.types.SET,set:DJ(),not:!1});Yn.notInts=()=>({type:jt.types.SET,set:DJ(),not:!0});Yn.whitespace=()=>({type:jt.types.SET,set:OJ(),not:!1});Yn.notWhitespace=()=>({type:jt.types.SET,set:OJ(),not:!0});Yn.anyChar=()=>({type:jt.types.SET,set:iQe(),not:!0})});var LJ=C(Ei=>{"use strict";var aQe=Ei&&Ei.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),oQe=Ei&&Ei.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),cQe=Ei&&Ei.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&aQe(t,e,r);return oQe(t,e),t};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.tokenizeClass=Ei.strToChars=void 0;var $J=Do(),Yf=cQe(UE()),uQe="@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?";Ei.strToChars=e=>{let t=/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|c([@A-Z[\\\]^?])|([0tnvfr]))/g;return e.replace(t,(r,n,s,a,o,c,u)=>{if(s)return r;let l=n?8:a?parseInt(a,16):o?parseInt(o,16):c?uQe.indexOf(c):{0:0,t:9,n:10,v:11,f:12,r:13}[u],d=String.fromCharCode(l);return/[[\]{}^$.|?*+()]/.test(d)?`\\${d}`:d})};Ei.tokenizeClass=(e,t)=>{var r,n,s,a,o,c,u;let l=[],d,f,p=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(((?:\\)])|(((?:\\)?([^\]])))))|(\])|(?:\\)?([^])/g;for(;(d=p.exec(e))!==null;){let m=(u=(c=(o=(a=(s=(n=(r=d[1]&&Yf.words())!==null&&r!==void 0?r:d[2]&&Yf.ints())!==null&&n!==void 0?n:d[3]&&Yf.whitespace())!==null&&s!==void 0?s:d[4]&&Yf.notWords())!==null&&a!==void 0?a:d[5]&&Yf.notInts())!==null&&o!==void 0?o:d[6]&&Yf.notWhitespace())!==null&&c!==void 0?c:d[7]&&{type:$J.types.RANGE,from:(d[8]||d[9]).charCodeAt(0),to:(f=d[10]).charCodeAt(f.length-1)})!==null&&u!==void 0?u:(f=d[16])&&{type:$J.types.CHAR,value:f.charCodeAt(0)};if(m)l.push(m);else return[l,p.lastIndex]}throw new SyntaxError(`Invalid regular expression: /${t}/: Unterminated character class`)}});var mN=C(La=>{"use strict";var lQe=La&&La.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),dQe=La&&La.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),FJ=La&&La.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&lQe(t,e,r);return dQe(t,e),t};Object.defineProperty(La,"__esModule",{value:!0});La.tokenizer=void 0;var MJ=FJ(LJ()),Nn=Do(),Sl=FJ(UE());La.tokenizer=e=>{let t=0,r,n={type:Nn.types.ROOT,stack:[]},s=n,a=n.stack,o=[],c=[],u=0,l=f=>{throw new SyntaxError(`Invalid regular expression: /${e}/: Nothing to repeat at column ${f-1}`)},d=MJ.strToChars(e);for(;t<d.length;)switch(r=d[t++]){case"\\":if(t===d.length)throw new SyntaxError(`Invalid regular expression: /${e}/: \\ at end of pattern`);switch(r=d[t++]){case"b":a.push({type:Nn.types.POSITION,value:"b"});break;case"B":a.push({type:Nn.types.POSITION,value:"B"});break;case"w":a.push(Sl.words());break;case"W":a.push(Sl.notWords());break;case"d":a.push(Sl.ints());break;case"D":a.push(Sl.notInts());break;case"s":a.push(Sl.whitespace());break;case"S":a.push(Sl.notWhitespace());break;default:if(/\d/.test(r)){let f=r;for(;t<d.length&&/\d/.test(d[t]);)f+=d[t++];let p=parseInt(f,10),m={type:Nn.types.REFERENCE,value:p};a.push(m),c.push({reference:m,stack:a,index:a.length-1})}else a.push({type:Nn.types.CHAR,value:r.charCodeAt(0)})}break;case"^":a.push({type:Nn.types.POSITION,value:"^"});break;case"$":a.push({type:Nn.types.POSITION,value:"$"});break;case"[":{let f;d[t]==="^"?(f=!0,t++):f=!1;let p=MJ.tokenizeClass(d.slice(t),e);t+=p[1],a.push({type:Nn.types.SET,set:p[0],not:f});break}case".":a.push(Sl.anyChar());break;case"(":{let f={type:Nn.types.GROUP,stack:[],remember:!0};if(d[t]==="?"){if(r=d[t+1],t+=2,r==="=")f.followedBy=!0;else if(r==="!")f.notFollowedBy=!0;else if(r!==":")throw new SyntaxError(`Invalid regular expression: /${e}/: Invalid group, character '${r}' after '?' at column ${t-1}`);f.remember=!1}else u+=1;a.push(f),o.push(s),s=f,a=f.stack;break}case")":if(o.length===0)throw new SyntaxError(`Invalid regular expression: /${e}/: Unmatched ) at column ${t-1}`);s=o.pop(),a=s.options?s.options[s.options.length-1]:s.stack;break;case"|":{s.options||(s.options=[s.stack],delete s.stack);let f=[];s.options.push(f),a=f;break}case"{":{let f=/^(\d+)(,(\d+)?)?\}/.exec(d.slice(t)),p,m;f!==null?(a.length===0&&l(t),p=parseInt(f[1],10),m=f[2]?f[3]?parseInt(f[3],10):1/0:p,t+=f[0].length,a.push({type:Nn.types.REPETITION,min:p,max:m,value:a.pop()})):a.push({type:Nn.types.CHAR,value:123});break}case"?":a.length===0&&l(t),a.push({type:Nn.types.REPETITION,min:0,max:1,value:a.pop()});break;case"+":a.length===0&&l(t),a.push({type:Nn.types.REPETITION,min:1,max:1/0,value:a.pop()});break;case"*":a.length===0&&l(t),a.push({type:Nn.types.REPETITION,min:0,max:1/0,value:a.pop()});break;default:a.push({type:Nn.types.CHAR,value:r.charCodeAt(0)})}if(o.length!==0)throw new SyntaxError(`Invalid regular expression: /${e}/: Unterminated group`);return fQe(c,u),n};function fQe(e,t){for(let r of e.reverse())if(t<r.reference.value){r.reference.type=Nn.types.CHAR;let n=r.reference.value.toString();if(r.reference.value=parseInt(n,8),!/^[0-7]+$/.test(n)){let s=0;for(;n[s]!=="8"&&n[s]!=="9";)s+=1;if(s===0?(r.reference.value=n.charCodeAt(0),s+=1):r.reference.value=parseInt(n.slice(0,s),8),n.length>s){let a=r.stack.splice(r.index+1);for(let o of n.slice(s))r.stack.push({type:Nn.types.CHAR,value:o.charCodeAt(0)});r.stack.push(...a)}}}}});var UJ=C(Wn=>{"use strict";var pQe=Wn&&Wn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),hQe=Wn&&Wn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),mQe=Wn&&Wn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&pQe(t,e,r);return hQe(t,e),t};Object.defineProperty(Wn,"__esModule",{value:!0});Wn.NOTANYCHAR=Wn.WHITESPACE=Wn.WORDS=Wn.INTS=void 0;var qE=mQe(UE()),QJ=Do();function jE(e){let t={},r=0;for(let n of e)n.type===QJ.types.CHAR&&(t[n.value]=!0),n.type===QJ.types.RANGE&&(t[`${n.from}-${n.to}`]=!0),r+=1;return{lookup:()=>Object.assign({},t),len:r}}Wn.INTS=jE(qE.ints().set);Wn.WORDS=jE(qE.words().set);Wn.WHITESPACE=jE(qE.whitespace().set);Wn.NOTANYCHAR=jE(qE.anyChar().set)});var jJ=C(xi=>{"use strict";var gQe=xi&&xi.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),AQe=xi&&xi.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),yQe=xi&&xi.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&gQe(t,e,r);return AQe(t,e),t};Object.defineProperty(xi,"__esModule",{value:!0});xi.writeSetTokens=xi.setChar=void 0;var VE=Do(),HE=yQe(UJ());function GE(e){return e===94?"\\^":e===92?"\\\\":e===93?"\\]":e===45?"\\-":String.fromCharCode(e)}xi.setChar=GE;function zE(e,{lookup:t,len:r}){if(r!==e.length)return!1;let n=t();for(let s of e){if(s.type===VE.types.SET)return!1;let a=s.type===VE.types.CHAR?s.value:`${s.from}-${s.to}`;if(n[a])n[a]=!1;else return!1}return!0}function qJ(e,t=!1){if(zE(e.set,HE.INTS))return e.not?"\\D":"\\d";if(zE(e.set,HE.WORDS))return e.not?"\\W":"\\w";if(e.not&&zE(e.set,HE.NOTANYCHAR))return".";if(zE(e.set,HE.WHITESPACE))return e.not?"\\S":"\\s";let r="";for(let s=0;s<e.set.length;s++){let a=e.set[s];r+=bQe(a)}let n=`${e.not?"^":""}${r}`;return t?n:`[${n}]`}xi.writeSetTokens=qJ;function bQe(e){return e.type===VE.types.CHAR?GE(e.value):e.type===VE.types.RANGE?`${GE(e.from)}-${GE(e.to)}`:qJ(e,!0)}});var AN=C(Wf=>{"use strict";Object.defineProperty(Wf,"__esModule",{value:!0});Wf.reconstruct=void 0;var Hc=Do(),gN=jJ(),HJ=e=>e.map(Wf.reconstruct).join(""),zJ=e=>{if("options"in e)return e.options.map(HJ).join("|");if("stack"in e)return HJ(e.stack);throw new Error("options or stack must be Root or Group token")};Wf.reconstruct=e=>{switch(e.type){case Hc.types.ROOT:return zJ(e);case Hc.types.CHAR:{let t=String.fromCharCode(e.value);return(/[[\\{}$^.|?*+()]/.test(t)?"\\":"")+t}case Hc.types.POSITION:return e.value==="^"||e.value==="$"?e.value:`\\${e.value}`;case Hc.types.REFERENCE:return`\\${e.value}`;case Hc.types.SET:return gN.writeSetTokens(e);case Hc.types.GROUP:return`(${e.remember?"":e.followedBy?"?=":e.notFollowedBy?"?!":"?:"}${zJ(e)})`;case Hc.types.REPETITION:{let{min:t,max:r}=e,n;return t===0&&r===1?n="?":t===1&&r===1/0?n="+":t===0&&r===1/0?n="*":r===1/0?n=`{${t},}`:t===r?n=`{${t}}`:n=`{${t},${r}}`,`${Wf.reconstruct(e.value)}${n}`}case Hc.types.RANGE:return`${gN.setChar(e.from)}-${gN.setChar(e.to)}`;default:throw new Error(`Invalid token type ${e}`)}}});var KJ=C((vi,KE)=>{"use strict";var EQe=vi&&vi.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yN=vi&&vi.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&EQe(t,e,r)};Object.defineProperty(vi,"__esModule",{value:!0});vi.types=void 0;var GJ=Do();Object.defineProperty(vi,"types",{enumerable:!0,get:function(){return GJ.types}});yN(mN(),vi);yN(AN(),vi);var VJ=mN(),xQe=AN();yN(Do(),vi);vi.default=VJ.tokenizer;KE.exports=VJ.tokenizer;KE.exports.types=GJ.types;KE.exports.reconstruct=xQe.reconstruct});var WJ=C((uht,YE)=>{"use strict";var YJ=KJ(),vQe=YJ.types;function bN(e,t){t||(t={});let r=t.limit===void 0?25:t.limit;_Qe(e)?e=e.source:typeof e!="string"&&(e=String(e));try{e=YJ(e)}catch{return!1}let n=0;return function s(a,o){let c,u,l;if(a.type===vQe.REPETITION&&(o++,n++,o>1||n>r))return!1;if(a.options){for(c=0,l=a.options.length;c<l;c++)if(u=s({stack:a.options[c]},o),!u)return!1}let d=a.stack||a.value&&a.value.stack;if(!d)return!0;for(c=0;c<d.length;c++)if(u=s(d[c],o),!u)return!1;return!0}(e,0)}function _Qe(e){return{}.toString.call(e)==="[object RegExp]"}YE.exports=bN;YE.exports.default=bN;YE.exports.safeRegex=bN});var WE=C((lht,JJ)=>{"use strict";JJ.exports={name:"__fmw_internal_strategy_merged_tree_http_method__",storage:function(){let e={};return{get:t=>e[t]||null,set:(t,r)=>{e[t]=r}}},deriveConstraint:e=>e.method,mustMatchWhenDerived:!0}});var sX=C((dht,nX)=>{"use strict";var XJ=ai(),ZJ=WE(),eX=Symbol("treeData");function tX(e,t=""){let r="",n=Object.keys(e);for(let s=0;s<n.length;s++){let a=n[s],o=e[a],c=s===n.length-1,u=c?"\u2514\u2500\u2500 ":"\u251C\u2500\u2500 ",l=c?"    ":"\u2502   ",f=(o[eX]||"").split(`
`).join(`
`+t+l);r+=t+u+a+f+`
`,r+=tX(o,t+l)}return r}function IQe(e){let t=e.name||"";return t=t.replace("bound","").trim(),t=(t||"anonymous")+"()",t}function rX(e){return Array.isArray(e)?e.map(t=>rX(t)):typeof e=="symbol"?e.toString():typeof e=="function"?IQe(e):e}function CQe(e,t){if(!t.includeMeta)return{};let r=t.buildPrettyMeta(e),n={},s=t.includeMeta;Array.isArray(s)||(s=Reflect.ownKeys(r));for(let a of s){if(!Object.prototype.hasOwnProperty.call(r,a))continue;let o=a.toString(),c=r[a];if(c!=null){let u=JSON.stringify(rX(c));n[o]=u}}return n}function wQe(e){let t="";for(let[r,n]of Object.entries(e))t+=`
\u2022 (${r}) ${n}`;return t}function SQe(e){let t={...e.opts.constraints},r=t[ZJ.name];return delete t[ZJ.name],{...e,method:r,opts:{constraints:t}}}function TQe(e){let t=` (${e.method})`,r=e.opts.constraints||{};return Object.keys(r).length!==0&&(t+=" "+JSON.stringify(r)),t+=wQe(e.metaData),t}function BQe(e){return e.reduce((t,r)=>{for(let n of t)if(XJ(r.opts.constraints,n.opts.constraints)&&XJ(r.metaData,n.metaData))return n.method+=", "+r.method,t;return t.push(r),t},[])}function RQe(e,t,r){let n=e.routes;return r.method===void 0&&(n=n.map(SQe)),n=n.map(s=>(s.metaData=CQe(s,r),s)),r.method===void 0&&(n=BQe(n)),n.map(TQe).join(`
${t}`)}function JE(e,t,r,n){if((e.isLeafNode||n.commonPrefix!==!1)&&(r=r||"(empty root node)",t=t[r]={},e.isLeafNode&&(t[eX]=RQe(e,r,n)),r=""),e.staticChildren)for(let s of Object.values(e.staticChildren))JE(s,t,r+s.prefix,n);if(e.parametricChildren)for(let s of Object.values(e.parametricChildren)){let a=Array.from(s.nodePaths).join("|");JE(s,t,r+a,n)}e.wildcardChild&&JE(e.wildcardChild,t,"*",n)}function NQe(e,t){let r={};return JE(e,r,e.prefix,t),tX(r)}nX.exports={prettyPrintTree:NQe}});var aX=C((fht,iX)=>{"use strict";var kQe=WE(),EN=class{constructor(){this.unconstrainedHandler=null,this.constraints=[],this.handlers=[],this.constrainedHandlerStores=null}getMatchingHandler(t){return t===void 0?this.unconstrainedHandler:this._getHandlerMatchingConstraints(t)}addHandler(t,r){let n=r.params,s=r.opts.constraints||{},a={params:n,constraints:s,handler:r.handler,store:r.store||null,_createParamsObject:this._compileCreateParamsObject(n)},o=Object.keys(s);o.length===0&&(this.unconstrainedHandler=a);for(let u of o)this.constraints.includes(u)||(u==="version"?this.constraints.unshift(u):this.constraints.push(u));let c=o.includes(kQe.name);if(!c&&this.handlers.length>=31)throw new Error("find-my-way supports a maximum of 31 route handlers per node when there are constraints, limit reached");this.handlers.push(a),this.handlers.sort((u,l)=>Object.keys(u.constraints).length-Object.keys(l.constraints).length),c||this._compileGetHandlerMatchingConstraints(t,s)}_compileCreateParamsObject(t){let r=[];for(let n=0;n<t.length;n++)r.push(`'${t[n]}': paramsArray[${n}]`);return new Function("paramsArray",`return {${r.join(",")}}`)}_getHandlerMatchingConstraints(){return null}_buildConstraintStore(t,r){for(let n=0;n<this.handlers.length;n++){let a=this.handlers[n].constraints[r];if(a!==void 0){let o=t.get(a)||0;o|=1<<n,t.set(a,o)}}}_constrainedIndexBitmask(t){let r=0;for(let n=0;n<this.handlers.length;n++)this.handlers[n].constraints[t]!==void 0&&(r|=1<<n);return~r}_compileGetHandlerMatchingConstraints(t){this.constrainedHandlerStores={};for(let n of this.constraints){let s=t.newStoreForConstraint(n);this.constrainedHandlerStores[n]=s,this._buildConstraintStore(s,n)}let r=[];r.push(`
    let candidates = ${(1<<this.handlers.length)-1}
    let mask, matches
    `);for(let n of this.constraints){r.push(`
      mask = ${this._constrainedIndexBitmask(n)}
      value = derivedConstraints.${n}
      `);let a=t.strategies[n].mustMatchWhenDerived?"matches":"(matches | mask)";r.push(`
      if (value === undefined) {
        candidates &= mask
      } else {
        matches = this.constrainedHandlerStores.${n}.get(value) || 0
        candidates &= ${a}
      }
      if (candidates === 0) return null;
      `)}for(let n in t.strategies)t.strategies[n].mustMatchWhenDerived&&!this.constraints.includes(n)&&r.push(`if (derivedConstraints.${n} !== undefined) return null`);r.push("return this.handlers[Math.floor(Math.log2(candidates))]"),this._getHandlerMatchingConstraints=new Function("derivedConstraints",r.join(`
`))}};iX.exports=EN});var cX=C((pht,oX)=>{"use strict";var DQe=aX(),nx={STATIC:0,PARAMETRIC:1,WILDCARD:2},XE=class{constructor(){this.isLeafNode=!1,this.routes=null,this.handlerStorage=null}addRoute(t,r){this.routes===null&&(this.routes=[]),this.handlerStorage===null&&(this.handlerStorage=new DQe),this.isLeafNode=!0,this.routes.push(t),this.handlerStorage.addHandler(r,t)}},ZE=class extends XE{constructor(){super(),this.staticChildren={}}findStaticMatchingChild(t,r){let n=this.staticChildren[t.charAt(r)];return n===void 0||!n.matchPrefix(t,r)?null:n}getStaticChild(t,r=0){if(t.length===r)return this;let n=this.findStaticMatchingChild(t,r);return n?n.getStaticChild(t,r+n.prefix.length):null}createStaticChild(t){if(t.length===0)return this;let r=this.staticChildren[t.charAt(0)];if(r){let s=1;for(;s<r.prefix.length;s++)if(t.charCodeAt(s)!==r.prefix.charCodeAt(s)){r=r.split(this,s);break}return r.createStaticChild(t.slice(s))}let n=t.charAt(0);return this.staticChildren[n]=new ex(t),this.staticChildren[n]}},ex=class e extends ZE{constructor(t){super(),this.prefix=t,this.wildcardChild=null,this.parametricChildren=[],this.kind=nx.STATIC,this._compilePrefixMatch()}getParametricChild(t){let r=t&&t.source,n=this.parametricChildren.find(s=>(s.regex&&s.regex.source)===r);return n||null}createParametricChild(t,r,n){let s=this.getParametricChild(t);return s?(s.nodePaths.add(n),s):(s=new tx(t,r,n),this.parametricChildren.push(s),this.parametricChildren.sort((a,o)=>a.isRegex?o.isRegex?a.staticSuffix===null?1:o.staticSuffix===null?-1:o.staticSuffix.endsWith(a.staticSuffix)?1:a.staticSuffix.endsWith(o.staticSuffix)?-1:0:-1:1),s)}getWildcardChild(){return this.wildcardChild}createWildcardChild(){return this.wildcardChild=this.getWildcardChild()||new rx,this.wildcardChild}split(t,r){let n=this.prefix.slice(0,r),s=this.prefix.slice(r);this.prefix=s,this._compilePrefixMatch();let a=new e(n);return a.staticChildren[s.charAt(0)]=this,t.staticChildren[n.charAt(0)]=a,a}getNextNode(t,r,n,s){let a=this.findStaticMatchingChild(t,r),o=0;if(a===null){if(this.parametricChildren.length===0)return this.wildcardChild;a=this.parametricChildren[0],o=1}this.wildcardChild!==null&&n.push({paramsCount:s,brotherPathIndex:r,brotherNode:this.wildcardChild});for(let c=this.parametricChildren.length-1;c>=o;c--)n.push({paramsCount:s,brotherPathIndex:r,brotherNode:this.parametricChildren[c]});return a}_compilePrefixMatch(){if(this.prefix.length===1){this.matchPrefix=()=>!0;return}let t=[];for(let r=1;r<this.prefix.length;r++){let n=this.prefix.charCodeAt(r);t.push(`path.charCodeAt(i + ${r}) === ${n}`)}this.matchPrefix=new Function("path","i",`return ${t.join(" && ")}`)}},tx=class extends ZE{constructor(t,r,n){super(),this.isRegex=!!t,this.regex=t||null,this.staticSuffix=r||null,this.kind=nx.PARAMETRIC,this.nodePaths=new Set([n])}getNextNode(t,r){return this.findStaticMatchingChild(t,r)}},rx=class extends XE{constructor(){super(),this.kind=nx.WILDCARD}getNextNode(){return null}};oX.exports={StaticNode:ex,ParametricNode:tx,WildcardNode:rx,NODE_TYPES:nx}});var lX=C((hht,uX)=>{"use strict";var PQe=require("node:assert");function Dm(){if(!(this instanceof Dm))return new Dm;this.store={},this.maxMajor=0,this.maxMinors={},this.maxPatches={}}Dm.prototype.set=function(e,t){if(typeof e!="string")throw new TypeError("Version should be a string");let[r,n,s]=e.split(".");if(isNaN(r))throw new TypeError("Major version must be a numeric value");return r=Number(r),n=Number(n)||0,s=Number(s)||0,r>=this.maxMajor&&(this.maxMajor=r,this.store.x=t,this.store["*"]=t,this.store["x.x"]=t,this.store["x.x.x"]=t),n>=(this.maxMinors[r]||0)&&(this.maxMinors[r]=n,this.store[`${r}.x`]=t,this.store[`${r}.x.x`]=t),s>=(this.maxPatches[`${r}.${n}`]||0)&&(this.maxPatches[`${r}.${n}`]=s,this.store[`${r}.${n}.x`]=t),this.store[`${r}.${n}.${s}`]=t,this};Dm.prototype.get=function(e){return this.store[e]};uX.exports={name:"version",mustMatchWhenDerived:!0,storage:Dm,validate(e){PQe(typeof e=="string","Version should be a string")}}});var fX=C((mht,dX)=>{"use strict";var OQe=require("node:assert");function $Qe(){let e={},t=[];return{get:r=>{let n=e[r];if(n)return n;for(let s of t)if(s.host.test(r))return s.value},set:(r,n)=>{r instanceof RegExp?t.push({host:r,value:n}):e[r]=n}}}dX.exports={name:"host",mustMatchWhenDerived:!1,storage:$Qe,validate(e){OQe(typeof e=="string"||Object.prototype.toString.call(e)==="[object RegExp]","Host should be a string or a RegExp")}}});var hX=C((ght,pX)=>{"use strict";var LQe=lX(),MQe=fX(),xN=require("node:assert"),vN=class{constructor(t){if(this.strategies={version:LQe,host:MQe},this.strategiesInUse=new Set,this.asyncStrategiesInUse=new Set,t)for(let r of Object.values(t))this.addConstraintStrategy(r)}isStrategyUsed(t){return this.strategiesInUse.has(t)||this.asyncStrategiesInUse.has(t)}hasConstraintStrategy(t){let r=this.strategies[t];return r!==void 0?r.isCustom||this.isStrategyUsed(t):!1}addConstraintStrategy(t){if(xN(typeof t.name=="string"&&t.name!=="","strategy.name is required."),xN(t.storage&&typeof t.storage=="function","strategy.storage function is required."),xN(t.deriveConstraint&&typeof t.deriveConstraint=="function","strategy.deriveConstraint function is required."),this.strategies[t.name]&&this.strategies[t.name].isCustom)throw new Error(`There already exists a custom constraint with the name ${t.name}.`);if(this.isStrategyUsed(t.name))throw new Error(`There already exists a route with ${t.name} constraint.`);t.isCustom=!0,t.isAsync=t.deriveConstraint.length===3,this.strategies[t.name]=t,t.mustMatchWhenDerived&&this.noteUsage({[t.name]:t})}deriveConstraints(t,r,n){let s=this.deriveSyncConstraints(t,r);if(n===void 0)return s;this.deriveAsyncConstraints(s,t,r,n)}deriveSyncConstraints(t,r){}noteUsage(t){if(t){let r=this.strategiesInUse.size;for(let n in t)this.strategies[n].isAsync?this.asyncStrategiesInUse.add(n):this.strategiesInUse.add(n);r!==this.strategiesInUse.size&&this._buildDeriveConstraints()}}newStoreForConstraint(t){if(!this.strategies[t])throw new Error(`No strategy registered for constraint key ${t}`);return this.strategies[t].storage()}validateConstraints(t){for(let r in t){let n=t[r];if(typeof n>"u")throw new Error("Can't pass an undefined constraint value, must pass null or no key at all");let s=this.strategies[r];if(!s)throw new Error(`No strategy registered for constraint key ${r}`);s.validate&&s.validate(n)}}deriveAsyncConstraints(t,r,n,s){let a=this.asyncStrategiesInUse.size;if(a===0){s(null,t);return}t=t||{};for(let o of this.asyncStrategiesInUse)this.strategies[o].deriveConstraint(r,n,(u,l)=>{if(u!==null){s(u);return}t[o]=l,--a===0&&s(null,t)})}_buildDeriveConstraints(){if(this.strategiesInUse.size===0)return;let t=["return {"];for(let r of this.strategiesInUse){let n=this.strategies[r];n.isCustom?t.push(`  ${n.name}: this.strategies.${r}.deriveConstraint(req, ctx),`):r==="version"?t.push("   version: req.headers['accept-version'],"):t.push("   host: req.headers.host || req.headers[':authority'],")}t.push("}"),this.deriveSyncConstraints=new Function("req","ctx",t.join(`
`)).bind(this)}};pX.exports=vN});var gX=C((Aht,mX)=>{"use strict";var FQe=["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"];mX.exports=FQe});var bX=C((yht,yX)=>{"use strict";function AX(e,t){return e===50?t===53?"%":t===51?"#":t===52?"$":t===54?"&":t===66||t===98?"+":t===67||t===99?",":t===70||t===102?"/":null:e===51?t===65||t===97?":":t===66||t===98?";":t===68||t===100?"=":t===70||t===102?"?":null:e===52&&t===48?"@":null}function QQe(e,t){let r=!1,n=!1,s="";for(let o=1;o<e.length;o++){let c=e.charCodeAt(o);if(c===37){let u=e.charCodeAt(o+1),l=e.charCodeAt(o+2);AX(u,l)===null?r=!0:(n=!0,u===50&&l===53&&(r=!0,e=e.slice(0,o+1)+"25"+e.slice(o+1),o+=2),o+=2)}else if(c===63||c===35||c===59&&t){s=e.slice(o+1),e=e.slice(0,o);break}}return{path:r?decodeURI(e):e,querystring:s,shouldDecodeParam:n}}function UQe(e){let t=e.indexOf("%");if(t===-1)return e;let r="",n=t;for(let s=t;s<e.length;s++)if(e.charCodeAt(s)===37){let a=e.charCodeAt(s+1),o=e.charCodeAt(s+2),c=AX(a,o);r+=e.slice(n,s)+c,n=s+3}return e.slice(0,t)+r+e.slice(n)}yX.exports={safeDecodeURI:QQe,safeDecodeURIComponent:UQe}});var SN=C((bht,SX)=>{"use strict";var jr=require("node:assert"),qQe=SJ(),sx=WJ(),IN=ai(),{prettyPrintTree:jQe}=sX(),{StaticNode:EX,NODE_TYPES:xX}=cX(),HQe=hX(),Jf=gX(),_N=WE(),{safeDecodeURI:zQe,safeDecodeURIComponent:vX}=bX(),_X=/^https?:\/\/.*?\//,Tl=/(\/:[^/()]*?)\?(\/?)/;if(!sx(_X))throw new Error("the FULL_PATH_REGEXP is not safe, update this module");if(!sx(Tl))throw new Error("the OPTIONAL_PARAM_REGEXP is not safe, update this module");function Nr(e){if(!(this instanceof Nr))return new Nr(e);e=e||{},this._opts=e,e.defaultRoute?(jr(typeof e.defaultRoute=="function","The default route must be a function"),this.defaultRoute=e.defaultRoute):this.defaultRoute=null,e.onBadUrl?(jr(typeof e.onBadUrl=="function","The bad url handler must be a function"),this.onBadUrl=e.onBadUrl):this.onBadUrl=null,e.buildPrettyMeta?(jr(typeof e.buildPrettyMeta=="function","buildPrettyMeta must be a function"),this.buildPrettyMeta=e.buildPrettyMeta):this.buildPrettyMeta=GQe,e.querystringParser?(jr(typeof e.querystringParser=="function","querystringParser must be a function"),this.querystringParser=e.querystringParser):this.querystringParser=t=>t===""?{}:qQe.parse(t),this.caseSensitive=e.caseSensitive===void 0?!0:e.caseSensitive,this.ignoreTrailingSlash=e.ignoreTrailingSlash||!1,this.ignoreDuplicateSlashes=e.ignoreDuplicateSlashes||!1,this.maxParamLength=e.maxParamLength||100,this.allowUnsafeRegex=e.allowUnsafeRegex||!1,this.constrainer=new HQe(e.constraints),this.useSemicolonDelimiter=e.useSemicolonDelimiter||!1,this.routes=[],this.trees={}}Nr.prototype.on=function(t,r,n,s,a){typeof n=="function"&&(s!==void 0&&(a=s),s=n,n={}),jr(typeof r=="string","Path should be a string"),jr(r.length>0,"The path could not be empty"),jr(r[0]==="/"||r[0]==="*","The first character of a path should be `/` or `*`"),jr(typeof s=="function","Handler should be a function");let o=r.match(Tl);if(o){jr(r.length===o.index+o[0].length,"Optional Parameter needs to be the last parameter of the path");let l=r.replace(Tl,"$1$2"),d=r.replace(Tl,"$2")||"/";this.on(t,l,n,s,a),this.on(t,d,n,s,a);return}let c=r;this.ignoreDuplicateSlashes&&(r=CN(r)),this.ignoreTrailingSlash&&(r=wN(r));let u=Array.isArray(t)?t:[t];for(let l of u)jr(typeof l=="string","Method should be a string"),jr(Jf.includes(l),`Method '${l}' is not an http method.`),this._on(l,r,n,s,a,c)};Nr.prototype._on=function(t,r,n,s,a){let o={};n.constraints!==void 0&&(jr(typeof n.constraints=="object"&&n.constraints!==null,"Constraints should be an object"),Object.keys(n.constraints).length!==0&&(o=n.constraints)),this.constrainer.validateConstraints(o),this.constrainer.noteUsage(o),this.trees[t]===void 0&&(this.trees[t]=new EX("/"));let c=r;if(c==="*"&&this.trees[t].prefix.length!==0){let p=this.trees[t];this.trees[t]=new EX(""),this.trees[t].staticChildren["/"]=p}let u=this.trees[t],l=u.prefix.length,d=[];for(let p=0;p<=c.length;p++){if(c.charCodeAt(p)===58&&c.charCodeAt(p+1)===58){p++;continue}let m=c.charCodeAt(p)===58&&c.charCodeAt(p+1)!==58,h=c.charCodeAt(p)===42;if(m||h||p===c.length&&p!==l){let g=c.slice(l,p);this.caseSensitive||(g=g.toLowerCase()),g=g.split("::").join(":"),g=g.split("%").join("%25"),u=u.createStaticChild(g)}if(m){let g=!1,A=!0,y="",v=[],b=p+1;for(let E=b;;E++){let I=c.charCodeAt(E),w=I===40,S=I===45||I===46,T=I===47||E===c.length;if(w||S||T){let B=c.slice(b,E);if(d.push(B),g=g||w||S,w){let k=wX(c,E),P=c.slice(E,k+1);this.allowUnsafeRegex||jr(sx(new RegExp(P)),`The regex '${P}' is not safe!`),v.push(CX(P)),E=k+1,A=!0}else v.push(A?"(.*?)":`(${y}|(?:(?!${y}).)*)`),A=!1;let N=E;for(;E<c.length;E++){let k=c.charCodeAt(E);if(k===47)break;if(k===58)if(c.charCodeAt(E+1)===58)E++;else break}let O=c.slice(N,E);if(O&&(O=O.split("::").join(":"),O=O.split("%").join("%25"),v.push(y=IX(O))),b=E+1,T||c.charCodeAt(E)===47||E===c.length){let k=g?"()"+O:O,P=c.slice(p,E);c=c.slice(0,p+1)+k+c.slice(E),p+=k.length;let D=g?new RegExp("^"+v.join("")+"$"):null;u=u.createParametricChild(D,O||null,P),l=p+1;break}}}}else if(h&&(d.push("*"),u=u.createWildcardChild(),l=p+1,p!==c.length-1))throw new Error("Wildcard must be the last character in the route")}this.caseSensitive||(c=c.toLowerCase()),c==="*"&&(c="/*");for(let p of this.routes){let m=p.opts.constraints||{};if(p.method===t&&p.pattern===c&&IN(m,o))throw new Error(`Method '${t}' already declared for route '${c}' with constraints '${JSON.stringify(o)}'`)}let f={method:t,path:r,pattern:c,params:d,opts:n,handler:s,store:a};this.routes.push(f),u.addRoute(f,this.constrainer)};Nr.prototype.hasRoute=function(t,r,n){return this.findRoute(t,r,n)!==null};Nr.prototype.findRoute=function(t,r,n={}){if(this.trees[t]===void 0)return null;let s=r,a=this.trees[t],o=a.prefix.length,c=[];for(let u=0;u<=s.length;u++){if(s.charCodeAt(u)===58&&s.charCodeAt(u+1)===58){u++;continue}let l=s.charCodeAt(u)===58&&s.charCodeAt(u+1)!==58,d=s.charCodeAt(u)===42;if(l||d||u===s.length&&u!==o){let f=s.slice(o,u);if(this.caseSensitive||(f=f.toLowerCase()),f=f.split("::").join(":"),f=f.split("%").join("%25"),a=a.getStaticChild(f),a===null)return null}if(l){let f=!1,p=!0,m="",h=[],g=u+1;for(let A=g;;A++){let y=s.charCodeAt(A),v=y===40,b=y===45||y===46,E=y===47||A===s.length;if(v||b||E){let I=s.slice(g,A);if(c.push(I),f=f||v||b,v){let T=wX(s,A),B=s.slice(A,T+1);this.allowUnsafeRegex||jr(sx(new RegExp(B)),`The regex '${B}' is not safe!`),h.push(CX(B)),A=T+1,p=!1}else h.push(p?"(.*?)":`(${m}|(?:(?!${m}).)*)`),p=!1;let w=A;for(;A<s.length;A++){let T=s.charCodeAt(A);if(T===47)break;if(T===58)if(s.charCodeAt(A+1)===58)A++;else break}let S=s.slice(w,A);if(S&&(S=S.split("::").join(":"),S=S.split("%").join("%25"),h.push(m=IX(S))),g=A+1,E||s.charCodeAt(A)===47||A===s.length){let T=f?"()"+S:S,B=s.slice(u,A);s=s.slice(0,u+1)+T+s.slice(A),u+=T.length;let N=f?new RegExp("^"+h.join("")+"$"):null;if(a=a.getParametricChild(N,S||null,B),a===null)return null;o=u+1;break}}}}else if(d&&(c.push("*"),a=a.getWildcardChild(),o=u+1,u!==s.length-1))throw new Error("Wildcard must be the last character in the route")}this.caseSensitive||(s=s.toLowerCase());for(let u of this.routes){let l=u.opts.constraints||{};if(u.method===t&&u.pattern===s&&IN(l,n))return{handler:u.handler,store:u.store,params:u.params}}return null};Nr.prototype.hasConstraintStrategy=function(e){return this.constrainer.hasConstraintStrategy(e)};Nr.prototype.addConstraintStrategy=function(e){this.constrainer.addConstraintStrategy(e),this._rebuild(this.routes)};Nr.prototype.reset=function(){this.trees={},this.routes=[]};Nr.prototype.off=function(t,r,n){jr(typeof r=="string","Path should be a string"),jr(r.length>0,"The path could not be empty"),jr(r[0]==="/"||r[0]==="*","The first character of a path should be `/` or `*`"),jr(typeof n>"u"||typeof n=="object"&&!Array.isArray(n)&&n!==null,"Constraints should be an object or undefined.");let s=r.match(Tl);if(s){jr(r.length===s.index+s[0].length,"Optional Parameter needs to be the last parameter of the path");let o=r.replace(Tl,"$1$2"),c=r.replace(Tl,"$2");this.off(t,o,n),this.off(t,c,n);return}this.ignoreDuplicateSlashes&&(r=CN(r)),this.ignoreTrailingSlash&&(r=wN(r));let a=Array.isArray(t)?t:[t];for(let o of a)this._off(o,r,n)};Nr.prototype._off=function(t,r,n){jr(typeof t=="string","Method should be a string"),jr(Jf.includes(t),`Method '${t}' is not an http method.`);function s(u){return t!==u.method||r!==u.path}function a(u){return s(u)||!IN(n,u.opts.constraints||{})}let o=n?a:s,c=this.routes.filter(o);this._rebuild(c)};Nr.prototype.lookup=function(t,r,n,s){if(typeof n=="function"&&(s=n,n=void 0),s===void 0){let a=this.constrainer.deriveConstraints(t,n),o=this.find(t.method,t.url,a);return this.callHandler(o,t,r,n)}this.constrainer.deriveConstraints(t,n,(a,o)=>{if(a!==null){s(a);return}try{let c=this.find(t.method,t.url,o),u=this.callHandler(c,t,r,n);s(null,u)}catch(c){s(c)}})};Nr.prototype.callHandler=function(t,r,n,s){return t===null?this._defaultRoute(r,n,s):s===void 0?t.handler(r,n,t.params,t.store,t.searchParams):t.handler.call(s,r,n,t.params,t.store,t.searchParams)};Nr.prototype.find=function(t,r,n){let s=this.trees[t];if(s===void 0)return null;r.charCodeAt(0)!==47&&(r=r.replace(_X,"/")),this.ignoreDuplicateSlashes&&(r=CN(r));let a,o,c;try{a=zQe(r,this.useSemicolonDelimiter),r=a.path,o=a.querystring,c=a.shouldDecodeParam}catch{return this._onBadUrl(r)}this.ignoreTrailingSlash&&(r=wN(r));let u=r;this.caseSensitive===!1&&(r=r.toLowerCase());let l=this.maxParamLength,d=s.prefix.length,f=[],p=r.length,m=[];for(;;){if(d===p&&s.isLeafNode){let y=s.handlerStorage.getMatchingHandler(n);if(y!==null)return{handler:y.handler,store:y.store,params:y._createParamsObject(f),searchParams:this.querystringParser(o)}}let h=s.getNextNode(r,d,m,f.length);if(h===null){if(m.length===0)return null;let y=m.pop();d=y.brotherPathIndex,f.splice(y.paramsCount),h=y.brotherNode}if(s=h,s.kind===xX.STATIC){d+=s.prefix.length;continue}if(s.kind===xX.WILDCARD){let y=u.slice(d);c&&(y=vX(y)),f.push(y),d=p;continue}let g=u.indexOf("/",d);g===-1&&(g=p);let A=u.slice(d,g);if(c&&(A=vX(A)),s.isRegex){let y=s.regex.exec(A);if(y===null)continue;for(let v=1;v<y.length;v++){let b=y[v];if(b.length>l)return null;f.push(b)}}else{if(A.length>l)return null;f.push(A)}d=g}};Nr.prototype._rebuild=function(e){this.reset();for(let t of e){let{method:r,path:n,opts:s,handler:a,store:o}=t;this._on(r,n,s,a,o)}};Nr.prototype._defaultRoute=function(e,t,r){if(this.defaultRoute!==null)return r===void 0?this.defaultRoute(e,t):this.defaultRoute.call(r,e,t);t.statusCode=404,t.end()};Nr.prototype._onBadUrl=function(e){if(this.onBadUrl===null)return null;let t=this.onBadUrl;return{handler:(r,n,s)=>t(e,r,n),params:{},store:null}};Nr.prototype.prettyPrint=function(e={}){let t=e.method;e.buildPrettyMeta=this.buildPrettyMeta.bind(this);let r=null;if(t===void 0){let{version:n,host:s,...a}=this.constrainer.strategies;a[_N.name]=_N;let o=new Nr({...this._opts,constraints:a}),c=this.routes.map(u=>{let l={...u.opts.constraints,[_N.name]:u.method};return{...u,method:"MERGED",opts:{constraints:l}}});o._rebuild(c),r=o.trees.MERGED}else r=this.trees[t];return r==null?"(empty tree)":jQe(r,e)};for(let e in Jf){if(!Jf.hasOwnProperty(e))continue;let t=Jf[e],r=t.toLowerCase();Nr.prototype[r]=function(n,s,a){return this.on(t,n,s,a)}}Nr.prototype.all=function(e,t,r){this.on(Jf,e,t,r)};SX.exports=Nr;function IX(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function CN(e){return e.replace(/\/\/+/g,"/")}function wN(e){return e.length>1&&e.charCodeAt(e.length-1)===47?e.slice(0,-1):e}function CX(e){return e.charCodeAt(1)===94&&(e=e.slice(0,1)+e.slice(2)),e.charCodeAt(e.length-2)===36&&(e=e.slice(0,e.length-2)+e.slice(e.length-1)),e}function wX(e,t){let r=1;for(;t<e.length;){if(t++,e[t]==="\\"){t++;continue}if(e[t]===")"?r--:e[t]==="("&&r++,!r)return t}throw new TypeError('Invalid regexp expression in "'+e+'"')}function GQe(e){return e?e.store?Object.assign({},e.store):{}:{}}});var BX=C((Eht,TX)=>{"use strict";function TN(e,t,r,n){if(r===void 0)return t.header("content-length","0"),n(null,null);if(typeof r.resume=="function")return r.on("error",a=>{t.log.error({err:a},"Error on Stream found for HEAD route")}),r.resume(),n(null,null);let s=""+Buffer.byteLength(r);t.header("content-length",s),n(null,null)}function VQe(e){return e==null?TN:Array.isArray(e)?[...e,TN]:[e,TN]}TX.exports={parseHeadOnSendHandlers:VQe}});var GX=C((xht,zX)=>{"use strict";var KQe=SN(),YQe=tb(),RX=jI(),{onRequestAbortHookRunner:WQe,lifecycleHooks:NX,preParsingHookRunner:JQe,onTimeoutHookRunner:XQe,onRequestHookRunner:ZQe}=uc(),{supportedMethods:eUe}=xT(),{normalizeSchema:tUe}=I0(),{parseHeadOnSendHandlers:rUe}=BX(),{FSTDEP007:nUe,FSTDEP008:sUe,FSTDEP014:kX}=io(),{compileSchemasForValidation:iUe,compileSchemasForSerialization:aUe}=MI(),{FST_ERR_SCH_VALIDATION_BUILD:oUe,FST_ERR_SCH_SERIALIZATION_BUILD:cUe,FST_ERR_DEFAULT_ROUTE_INVALID_TYPE:uUe,FST_ERR_DUPLICATED_ROUTE:lUe,FST_ERR_INVALID_URL:dUe,FST_ERR_HOOK_INVALID_HANDLER:DX,FST_ERR_ROUTE_OPTIONS_NOT_OBJ:fUe,FST_ERR_ROUTE_DUPLICATED_HANDLER:pUe,FST_ERR_ROUTE_HANDLER_NOT_FN:PX,FST_ERR_ROUTE_MISSING_HANDLER:hUe,FST_ERR_ROUTE_METHOD_NOT_SUPPORTED:mUe,FST_ERR_ROUTE_METHOD_INVALID:gUe,FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED:AUe,FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT:yUe,FST_ERR_HOOK_INVALID_ASYNC_HANDLER:BN}=$n(),{kRoutePrefix:bUe,kLogLevel:EUe,kLogSerializers:OX,kHooks:$X,kSchemaController:xUe,kOptions:LX,kReplySerializerDefault:RN,kReplyIsError:vUe,kRequestPayloadStream:_Ue,kDisableRequestLogging:IUe,kSchemaErrorFormatter:CUe,kErrorHandler:MX,kHasBeenDecorated:FX,kRequestAcceptVersion:NN,kRouteByFastify:kN,kRouteContext:QX}=cn(),{buildErrorHandler:wUe}=rh(),{createChildLogger:SUe}=_0(),{getGenReqId:TUe}=QE();function BUe(e){let t=KQe(e.config),r,n,s,a,o,c,u,l,d,f,p,m,h,g=!1;return{setup(T,B){r=B.avvio,n=B.fourOhFour,s=B.logger,a=B.hasLogger,o=B.setupResponseListeners,c=B.throwIfAlreadyStarted,m=B.validateHTTPVersion,p=T.exposeHeadRoutes,u=T.disableRequestLogging,l=T.ignoreTrailingSlash,d=T.ignoreDuplicateSlashes,f=Object.prototype.hasOwnProperty.call(T,"return503OnClosing")?T.return503OnClosing:!0,h=B.keepAliveConnections},routing:t.lookup.bind(t),route:w,hasRoute:E,prepareRoute:b,getDefaultRoute:function(){return kX(),t.defaultRoute},setDefaultRoute:function(T){if(kX(),typeof T!="function")throw new uUe;t.defaultRoute=T},routeHandler:S,closeRoutes:()=>{g=!0},printRoutes:t.prettyPrint.bind(t),addConstraintStrategy:A,hasConstraintStrategy:y,isAsyncConstraint:v,findRoute:I};function A(T){return c("Cannot add constraint strategy!"),t.addConstraintStrategy(T)}function y(T){return t.hasConstraintStrategy(T)}function v(){return t.constrainer.asyncStrategiesInUse.size>0}function b({method:T,url:B,options:N,handler:O,isFastify:k}){if(typeof B!="string")throw new dUe(typeof B);if(!O&&typeof N=="function")O=N,N={};else if(O&&typeof O=="function"){if(Object.prototype.toString.call(N)!=="[object Object]")throw new fUe(T,B);if(N.handler)throw typeof N.handler=="function"?new pUe(T,B):new PX(T,B)}return N=Object.assign({},N,{method:T,url:B,path:B,handler:O||N&&N.handler}),w.call(this,{options:N,isFastify:k})}function E({options:T}){return I(T)!==null}function I(T){let B=t.find(T.method,T.url||"",T.constraints);return B?{handler:B.handler,params:B.params,searchParams:B.searchParams}:null}function w({options:T,isFastify:B}){let N={...T},{exposeHeadRoute:O}=N,P=O!=null?O:p,D=N.method==="GET"||Array.isArray(N.method)&&N.method.includes("GET"),j=N.method==="HEAD"||Array.isArray(N.method)&&N.method.includes("HEAD"),H=P&&D?{...T}:null;c("Cannot add route!");let V=N.url||N.path||"";if(Array.isArray(N.method))for(var X=0;X<N.method.length;++X)N.method[X]=UX(N.method[X]),qX(N.method[X],V,N.schema);else N.method=UX(N.method),qX(N.method,V,N.schema);if(!N.handler)throw new hUe(N.method,V);if(N.errorHandler!==void 0&&typeof N.errorHandler!="function")throw new PX(N.method,V);HX(N.bodyLimit);let U=this[bUe];if(V==="/"&&U.length>0&&N.method!=="HEAD")switch(N.prefixTrailingSlash){case"slash":re.call(this,{path:V,isFastify:B});break;case"no-slash":re.call(this,{path:"",isFastify:B});break;case"both":default:re.call(this,{path:"",isFastify:B}),l!==!0&&(d!==!0||!U.endsWith("/"))&&re.call(this,{path:V,prefixing:!0,isFastify:B})}else V[0]==="/"&&U.endsWith("/")?re.call(this,{path:V.slice(1),isFastify:B}):re.call(this,{path:V,isFastify:B});return this;function re({path:se,prefixing:te=!1,isFastify:ae=!1}){let xe=U+se;if(N.url=xe,N.path=xe,N.routePath=se,N.prefix=U,N.logLevel=N.logLevel||this[EUe],(this[OX]||N.logSerializers)&&(N.logSerializers=Object.assign(Object.create(this[OX]),N.logSerializers)),N.attachValidation==null&&(N.attachValidation=!1),te===!1)for(let M of this[$X].onRoute)M.call(this,N);for(let M of NX)if(N&&M in N){if(Array.isArray(N[M]))for(let q of N[M]){if(typeof q!="function")throw new DX(M,Object.prototype.toString.call(q));if(M==="onSend"||M==="preSerialization"||M==="onError"||M==="preParsing"){if(q.constructor.name==="AsyncFunction"&&q.length===4)throw new BN}else if(M==="onRequestAbort"){if(q.constructor.name==="AsyncFunction"&&q.length!==1)throw new BN}else if(q.constructor.name==="AsyncFunction"&&q.length===3)throw new BN}else if(N[M]!==void 0&&typeof N[M]!="function")throw new DX(M,Object.prototype.toString.call(N[M]))}let _e=N.constraints||{},Ce={...N.config,url:xe,method:N.method},ve=new YQe({schema:N.schema,handler:N.handler.bind(this),config:Ce,errorHandler:N.errorHandler,childLoggerFactory:N.childLoggerFactory,bodyLimit:N.bodyLimit,logLevel:N.logLevel,logSerializers:N.logSerializers,attachValidation:N.attachValidation,schemaErrorFormatter:N.schemaErrorFormatter,replySerializer:this[RN],validatorCompiler:N.validatorCompiler,serializerCompiler:N.serializerCompiler,exposeHeadRoute:P,prefixTrailingSlash:N.prefixTrailingSlash||"both",server:this,isFastify:ae});N.version&&(sUe(),_e.version=N.version);let Ae=t.findRoute("HEAD",N.url,_e),$=Ae!==null;j&&$&&!ve[kN]&&Ae.store[kN]&&t.off("HEAD",N.url,_e);try{t.on(N.method,N.url,{constraints:_e},S,ve)}catch(M){if(!ve[kN])throw M.message.includes(`Method '${N.method}' already declared for route '${N.url}'`)?new lUe(N.method,N.url):M}if(this.after((M,q)=>{ve.errorHandler=N.errorHandler?wUe(this[MX],N.errorHandler):this[MX],ve._parserOptions.limit=N.bodyLimit||null,ve.logLevel=N.logLevel,ve.logSerializers=N.logSerializers,ve.attachValidation=N.attachValidation,ve[RN]=this[RN],ve.schemaErrorFormatter=N.schemaErrorFormatter||this[CUe]||ve.schemaErrorFormatter,r.once("preReady",()=>{for(let L of NX){let Q=this[$X][L].concat(N[L]||[]).map(G=>G.bind(this));ve[L]=Q.length?Q:null}for(;!ve.Request[FX]&&ve.Request.parent;)ve.Request=ve.Request.parent;for(;!ve.Reply[FX]&&ve.Reply.parent;)ve.Reply=ve.Reply.parent;if(n.setContext(this,ve),N.schema){ve.schema=tUe(ve.schema,this.initialConfig);let L=this[xUe];!N.validatorCompiler&&(N.schema.body||N.schema.headers||N.schema.querystring||N.schema.params)&&L.setupValidator(this[LX]);try{let Q=typeof N?.validatorCompiler=="function"||L.isCustomValidatorCompiler;iUe(ve,N.validatorCompiler||L.validatorCompiler,Q)}catch(Q){throw new oUe(N.method,xe,Q.message)}N.schema.response&&!N.serializerCompiler&&L.setupSerializer(this[LX]);try{aUe(ve,N.serializerCompiler||L.serializerCompiler)}catch(Q){throw new cUe(N.method,xe,Q.message)}}}),q(M)}),P&&D&&!j&&!$){let M=rUe(H.onSend);b.call(this,{method:"HEAD",url:se,options:{...H,onSend:M},isFastify:!0})}else $&&O&&nUe()}}function S(T,B,N,O,k){let P=TUe(O.server,T),D={level:O.logLevel};O.logSerializers&&(D.serializers=O.logSerializers);let j=SUe(O,s,T,P,D);if(j[IUe]=u,!m(T.httpVersion)){j.info({res:{statusCode:505}},"request aborted - invalid HTTP version");let U='{"error":"HTTP Version Not Supported","message":"HTTP Version Not Supported","statusCode":505}',re={"Content-Type":"application/json","Content-Length":U.length};B.writeHead(505,re),B.end(U);return}if(g===!0&&(T.httpVersionMajor!==2&&B.setHeader("Connection","close"),f)){let U={"Content-Type":"application/json","Content-Length":"80"};B.writeHead(503,U),B.end('{"error":"Service Unavailable","message":"Service Unavailable","statusCode":503}'),j.info({res:{statusCode:503}},"request aborted - refusing to accept new requests as server is closing");return}String.prototype.toLowerCase.call(T.headers.connection||"")==="keep-alive"&&h.has(T.socket)===!1&&(h.add(T.socket),T.socket.on("close",kUe.bind({keepAliveConnections:h,socket:T.socket}))),T.headers[NN]!==void 0&&(T.headers["accept-version"]=T.headers[NN],T.headers[NN]=void 0);let V=new O.Request(P,N,T,k,j,O),X=new O.Reply(B,V,j);u===!1&&j.info({req:V},"incoming request"),(a===!0||O.onResponse!==null)&&o(X),O.onRequest!==null?ZQe(O.onRequest,V,X,jX):jX(null,V,X),O.onRequestAbort!==null&&T.on("close",()=>{T.aborted&&WQe(O.onRequestAbort,V,RUe.bind(null,X))}),O.onTimeout!==null&&(V.raw.socket._meta||V.raw.socket.on("timeout",NUe),V.raw.socket._meta={context:O,request:V,reply:X})}}function RUe(e,t){t&&e.log.error({err:t},"onRequestAborted hook failed")}function NUe(){let{context:e,request:t,reply:r}=this._meta;XQe(e.onTimeout,t,r,DUe)}function UX(e){if(typeof e!="string")throw new gUe;if(e=e.toUpperCase(),eUe.indexOf(e)===-1)throw new mUe(e);return e}function qX(e,t,r){if((e==="GET"||e==="HEAD")&&r&&r.body)throw new AUe(e,t)}function HX(e){if(e!==void 0&&(!Number.isInteger(e)||e<=0))throw new yUe(e)}function jX(e,t,r){if(r.sent!==!0){if(e!=null){r[vUe]=!0,r.send(e);return}t[_Ue]=t.raw,t[QX].preParsing!==null?JQe(t[QX].preParsing,t,r,RX):RX(null,t,r)}}function kUe(){this.keepAliveConnections.delete(this.socket)}function DUe(){}zX.exports={buildRouting:BUe,validateBodyLimitOption:HX}});var ZX=C((vht,XX)=>{"use strict";var PUe=SN(),VX=L1(),KX=eb(),OUe=tb(),{kRoutePrefix:$Ue,kCanSetNotFoundHandler:Pm,kFourOhFourLevelInstance:Om,kFourOhFourContext:Ma,kHooks:LUe,kErrorHandler:YX}=cn(),{lifecycleHooks:MUe}=uc(),{buildErrorHandler:FUe}=rh(),{FST_ERR_NOT_FOUND:QUe}=$n(),{createChildLogger:WX}=_0(),{getGenReqId:JX}=QE();function UUe(e){let{logger:t}=e,r=PUe({onBadUrl:o(),defaultRoute:d}),n=null;return{router:r,setNotFoundHandler:u,setContext:c,arrange404:s};function s(f){f[Om]=f,f[Pm]=!0,r.onBadUrl=r.onBadUrl.bind(f),r.defaultRoute=r.defaultRoute.bind(f)}function a(f,p){let{url:m,method:h}=f.raw,g=`Route ${h}:${m} not found`;f.log.info(g),p.code(404).send({message:g,error:"Not Found",statusCode:404})}function o(){return function(p,m,h){let g=this[Om][Ma],A=JX(g.server,m),y=WX(g,t,m,A),v=new KX(A,null,m,null,y,g),b=new VX(h,v,y);n(v,b)}}function c(f,p){let m=Object.assign({},f[Ma]);m.onSend=p.onSend,p[Ma]=m}function u(f,p,m,h){this[Pm]===void 0&&(this[Pm]=!0),this[Ma]===void 0&&(this[Ma]=null);let g=this,A=this[$Ue]||"/";if(this[Pm]===!1)throw new Error(`Not found handler already set for Fastify instance with prefix: '${A}'`);typeof f=="object"&&(f.preHandler&&(Array.isArray(f.preHandler)?f.preHandler=f.preHandler.map(y=>y.bind(g)):f.preHandler=f.preHandler.bind(g)),f.preValidation&&(Array.isArray(f.preValidation)?f.preValidation=f.preValidation.map(y=>y.bind(g)):f.preValidation=f.preValidation.bind(g))),typeof f=="function"&&(p=f,f=void 0),f=f||{},p?(this[Om][Pm]=!1,p=p.bind(this),n=p):(p=a,n=a),this.after((y,v)=>{l.call(this,A,f,p,m,h),v(y)})}function l(f,p,m,h,g){let A=new OUe({schema:p.schema,handler:m,config:p.config||{},server:this});if(h.once("preReady",()=>{let y=this[Ma];for(let v of MUe){let b=this[LUe][v].concat(p[v]||[]).map(E=>E.bind(this));y[v]=b.length?b:null}y.errorHandler=p.errorHandler?FUe(this[YX],p.errorHandler):this[YX]}),this[Ma]!==null&&f==="/"){Object.assign(this[Ma],A);return}this[Om][Ma]=A,r.all(f+(f.endsWith("/")?"*":"/*"),g,A),r.all(f,g,A)}function d(f,p){let m=this[Om][Ma],h=JX(m.server,f),g=WX(m,t,f,h);g.info({req:f},"incoming request");let A=new KX(h,null,f,null,g,m),y=new VX(p,A,g);A.log.warn("the default handler for 404 did not catch this, this is likely a fastify bug, please report it"),A.log.warn(r.prettyPrint()),y.code(404).send(new QUe)}}XX.exports=UUe});var tZ=C((_ht,ix)=>{"use strict";ix.exports=Qt;ix.exports.default=Qt;var eZ={type:"object",additionalProperties:!1,properties:{connectionTimeout:{type:"integer",default:0},keepAliveTimeout:{type:"integer",default:72e3},forceCloseConnections:{oneOf:[{type:"string",pattern:"idle"},{type:"boolean"}]},maxRequestsPerSocket:{type:"integer",default:0,nullable:!0},requestTimeout:{type:"integer",default:0},bodyLimit:{type:"integer",default:1048576},caseSensitive:{type:"boolean",default:!0},allowUnsafeRegex:{type:"boolean",default:!1},http2:{type:"boolean"},https:{if:{not:{oneOf:[{type:"boolean"},{type:"null"},{type:"object",additionalProperties:!1,required:["allowHTTP1"],properties:{allowHTTP1:{type:"boolean"}}}]}},then:{setDefaultValue:!0}},ignoreTrailingSlash:{type:"boolean",default:!1},ignoreDuplicateSlashes:{type:"boolean",default:!1},disableRequestLogging:{type:"boolean",default:!1},jsonShorthand:{type:"boolean",default:!0},maxParamLength:{type:"integer",default:100},onProtoPoisoning:{type:"string",default:"error"},onConstructorPoisoning:{type:"string",default:"error"},pluginTimeout:{type:"integer",default:1e4},requestIdHeader:{anyOf:[{enum:[!1]},{type:"string"}],default:"request-id"},requestIdLogLabel:{type:"string",default:"reqId"},http2SessionTimeout:{type:"integer",default:72e3},exposeHeadRoutes:{type:"boolean",default:!0},useSemicolonDelimiter:{type:"boolean",default:!0},versioning:{type:"object",additionalProperties:!0,required:["storage","deriveVersion"],properties:{storage:{},deriveVersion:{}}},constraints:{type:"object",additionalProperties:{type:"object",required:["name","storage","validate","deriveConstraint"],additionalProperties:!0,properties:{name:{type:"string"},storage:{},validate:{},deriveConstraint:{}}}}}},qUe=Object.prototype.hasOwnProperty,jUe=new RegExp("idle","u");function Qt(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:s=e}={}){let a=null,o=0;if(o===0)if(e&&typeof e=="object"&&!Array.isArray(e)){e.connectionTimeout===void 0&&(e.connectionTimeout=0),e.keepAliveTimeout===void 0&&(e.keepAliveTimeout=72e3),e.maxRequestsPerSocket===void 0&&(e.maxRequestsPerSocket=0),e.requestTimeout===void 0&&(e.requestTimeout=0),e.bodyLimit===void 0&&(e.bodyLimit=1048576),e.caseSensitive===void 0&&(e.caseSensitive=!0),e.allowUnsafeRegex===void 0&&(e.allowUnsafeRegex=!1),e.ignoreTrailingSlash===void 0&&(e.ignoreTrailingSlash=!1),e.ignoreDuplicateSlashes===void 0&&(e.ignoreDuplicateSlashes=!1),e.disableRequestLogging===void 0&&(e.disableRequestLogging=!1),e.jsonShorthand===void 0&&(e.jsonShorthand=!0),e.maxParamLength===void 0&&(e.maxParamLength=100),e.onProtoPoisoning===void 0&&(e.onProtoPoisoning="error"),e.onConstructorPoisoning===void 0&&(e.onConstructorPoisoning="error"),e.pluginTimeout===void 0&&(e.pluginTimeout=1e4),e.requestIdHeader===void 0&&(e.requestIdHeader="request-id"),e.requestIdLogLabel===void 0&&(e.requestIdLogLabel="reqId"),e.http2SessionTimeout===void 0&&(e.http2SessionTimeout=72e3),e.exposeHeadRoutes===void 0&&(e.exposeHeadRoutes=!0),e.useSemicolonDelimiter===void 0&&(e.useSemicolonDelimiter=!0);let h=o;for(let g in e)qUe.call(eZ.properties,g)||delete e[g];if(h===o){let g=e.connectionTimeout,A=o;if(!(typeof g=="number"&&!(g%1)&&!isNaN(g)&&isFinite(g))){let y=typeof g,v;if(v===void 0)if(y==="boolean"||g===null||y==="string"&&g&&g==+g&&!(g%1))v=+g;else return Qt.errors=[{instancePath:t+"/connectionTimeout",schemaPath:"#/properties/connectionTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;v!==void 0&&(g=v,e!==void 0&&(e.connectionTimeout=v))}var c=A===o;if(c){let y=e.keepAliveTimeout,v=o;if(!(typeof y=="number"&&!(y%1)&&!isNaN(y)&&isFinite(y))){let E=typeof y,I;if(I===void 0)if(E==="boolean"||y===null||E==="string"&&y&&y==+y&&!(y%1))I=+y;else return Qt.errors=[{instancePath:t+"/keepAliveTimeout",schemaPath:"#/properties/keepAliveTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;I!==void 0&&(y=I,e!==void 0&&(e.keepAliveTimeout=I))}var c=v===o;if(c){if(e.forceCloseConnections!==void 0){let E=e.forceCloseConnections,I=o,w=o,S=!1,T=null,B=o;if(typeof E!="string"){let k=typeof E,P;if(P===void 0)if(k=="number"||k=="boolean")P=""+E;else if(E===null)P="";else{let D={instancePath:t+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};a===null?a=[D]:a.push(D),o++}P!==void 0&&(E=P,e!==void 0&&(e.forceCloseConnections=P))}if(o===B&&typeof E=="string"&&!jUe.test(E)){let k={instancePath:t+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf/0/pattern",keyword:"pattern",params:{pattern:"idle"},message:'must match pattern "idle"'};a===null?a=[k]:a.push(k),o++}var u=B===o;u&&(S=!0,T=0);let N=o;if(typeof E!="boolean"){let k;if(k===void 0)if(E==="false"||E===0||E===null)k=!1;else if(E==="true"||E===1)k=!0;else{let P={instancePath:t+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf/1/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};a===null?a=[P]:a.push(P),o++}k!==void 0&&(E=k,e!==void 0&&(e.forceCloseConnections=k))}var u=N===o;if(u&&S?(S=!1,T=[T,1]):u&&(S=!0,T=1),S)o=w,a!==null&&(w?a.length=w:a=null);else{let k={instancePath:t+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf",keyword:"oneOf",params:{passingSchemas:T},message:"must match exactly one schema in oneOf"};return a===null?a=[k]:a.push(k),o++,Qt.errors=a,!1}var c=I===o}else var c=!0;if(c){let E=e.maxRequestsPerSocket,I=o;if(!(typeof E=="number"&&!(E%1)&&!isNaN(E)&&isFinite(E))&&E!==null){let S=typeof E,T;if(T===void 0)if(S==="boolean"||E===null||S==="string"&&E&&E==+E&&!(E%1))T=+E;else if(E===""||E===0||E===!1)T=null;else return Qt.errors=[{instancePath:t+"/maxRequestsPerSocket",schemaPath:"#/properties/maxRequestsPerSocket/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;T!==void 0&&(E=T,e!==void 0&&(e.maxRequestsPerSocket=T))}var c=I===o;if(c){let S=e.requestTimeout,T=o;if(!(typeof S=="number"&&!(S%1)&&!isNaN(S)&&isFinite(S))){let N=typeof S,O;if(O===void 0)if(N==="boolean"||S===null||N==="string"&&S&&S==+S&&!(S%1))O=+S;else return Qt.errors=[{instancePath:t+"/requestTimeout",schemaPath:"#/properties/requestTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;O!==void 0&&(S=O,e!==void 0&&(e.requestTimeout=O))}var c=T===o;if(c){let N=e.bodyLimit,O=o;if(!(typeof N=="number"&&!(N%1)&&!isNaN(N)&&isFinite(N))){let P=typeof N,D;if(D===void 0)if(P==="boolean"||N===null||P==="string"&&N&&N==+N&&!(N%1))D=+N;else return Qt.errors=[{instancePath:t+"/bodyLimit",schemaPath:"#/properties/bodyLimit/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;D!==void 0&&(N=D,e!==void 0&&(e.bodyLimit=D))}var c=O===o;if(c){let P=e.caseSensitive,D=o;if(typeof P!="boolean"){let H;if(H===void 0)if(P==="false"||P===0||P===null)H=!1;else if(P==="true"||P===1)H=!0;else return Qt.errors=[{instancePath:t+"/caseSensitive",schemaPath:"#/properties/caseSensitive/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;H!==void 0&&(P=H,e!==void 0&&(e.caseSensitive=H))}var c=D===o;if(c){let H=e.allowUnsafeRegex,V=o;if(typeof H!="boolean"){let U;if(U===void 0)if(H==="false"||H===0||H===null)U=!1;else if(H==="true"||H===1)U=!0;else return Qt.errors=[{instancePath:t+"/allowUnsafeRegex",schemaPath:"#/properties/allowUnsafeRegex/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;U!==void 0&&(H=U,e!==void 0&&(e.allowUnsafeRegex=U))}var c=V===o;if(c){if(e.http2!==void 0){let U=e.http2,re=o;if(typeof U!="boolean"){let te;if(te===void 0)if(U==="false"||U===0||U===null)te=!1;else if(U==="true"||U===1)te=!0;else return Qt.errors=[{instancePath:t+"/http2",schemaPath:"#/properties/http2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;te!==void 0&&(U=te,e!==void 0&&(e.http2=te))}var c=re===o}else var c=!0;if(c){if(e.https!==void 0){let U=e.https,re=o,se=o,te=!0,ae=o,xe=o,_e=o,Ce=o,ve=!1,Ae=null,$=o;if(typeof U!="boolean"){let L;if(L===void 0)if(U==="false"||U===0||U===null)L=!1;else if(U==="true"||U===1)L=!0;else{let Q={};a===null?a=[Q]:a.push(Q),o++}L!==void 0&&(U=L,e!==void 0&&(e.https=L))}var l=$===o;l&&(ve=!0,Ae=0);let M=o;if(U!==null){let L;if(L===void 0)if(U===""||U===0||U===!1)L=null;else{let Q={};a===null?a=[Q]:a.push(Q),o++}L!==void 0&&(U=L,e!==void 0&&(e.https=L))}var l=M===o;if(l&&ve)ve=!1,Ae=[Ae,1];else{l&&(ve=!0,Ae=1);let L=o;if(o===L)if(U&&typeof U=="object"&&!Array.isArray(U)){let G;if(U.allowHTTP1===void 0&&(G="allowHTTP1")){let J={};a===null?a=[J]:a.push(J),o++}else{let J=o;for(let K in U)K!=="allowHTTP1"&&delete U[K];if(J===o&&U.allowHTTP1!==void 0){let K=U.allowHTTP1;if(typeof K!="boolean"){let W;if(W===void 0)if(K==="false"||K===0||K===null)W=!1;else if(K==="true"||K===1)W=!0;else{let Z={};a===null?a=[Z]:a.push(Z),o++}W!==void 0&&(K=W,U!==void 0&&(U.allowHTTP1=W))}}}}else{let G={};a===null?a=[G]:a.push(G),o++}var l=L===o;l&&ve?(ve=!1,Ae=[Ae,2]):l&&(ve=!0,Ae=2)}if(ve)o=Ce,a!==null&&(Ce?a.length=Ce:a=null);else{let L={};a===null?a=[L]:a.push(L),o++}var d=_e===o;if(d){let L={};a===null?a=[L]:a.push(L),o++}else o=xe,a!==null&&(xe?a.length=xe:a=null);var f=ae===o;if(o=se,a!==null&&(se?a.length=se:a=null),f){let L=o;e.https=!0;var f=L===o;te=f}if(!te){let L={instancePath:t+"/https",schemaPath:"#/properties/https/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};return a===null?a=[L]:a.push(L),o++,Qt.errors=a,!1}var c=re===o}else var c=!0;if(c){let U=e.ignoreTrailingSlash,re=o;if(typeof U!="boolean"){let te;if(te===void 0)if(U==="false"||U===0||U===null)te=!1;else if(U==="true"||U===1)te=!0;else return Qt.errors=[{instancePath:t+"/ignoreTrailingSlash",schemaPath:"#/properties/ignoreTrailingSlash/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;te!==void 0&&(U=te,e!==void 0&&(e.ignoreTrailingSlash=te))}var c=re===o;if(c){let te=e.ignoreDuplicateSlashes,ae=o;if(typeof te!="boolean"){let _e;if(_e===void 0)if(te==="false"||te===0||te===null)_e=!1;else if(te==="true"||te===1)_e=!0;else return Qt.errors=[{instancePath:t+"/ignoreDuplicateSlashes",schemaPath:"#/properties/ignoreDuplicateSlashes/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;_e!==void 0&&(te=_e,e!==void 0&&(e.ignoreDuplicateSlashes=_e))}var c=ae===o;if(c){let _e=e.disableRequestLogging,Ce=o;if(typeof _e!="boolean"){let Ae;if(Ae===void 0)if(_e==="false"||_e===0||_e===null)Ae=!1;else if(_e==="true"||_e===1)Ae=!0;else return Qt.errors=[{instancePath:t+"/disableRequestLogging",schemaPath:"#/properties/disableRequestLogging/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Ae!==void 0&&(_e=Ae,e!==void 0&&(e.disableRequestLogging=Ae))}var c=Ce===o;if(c){let Ae=e.jsonShorthand,$=o;if(typeof Ae!="boolean"){let q;if(q===void 0)if(Ae==="false"||Ae===0||Ae===null)q=!1;else if(Ae==="true"||Ae===1)q=!0;else return Qt.errors=[{instancePath:t+"/jsonShorthand",schemaPath:"#/properties/jsonShorthand/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;q!==void 0&&(Ae=q,e!==void 0&&(e.jsonShorthand=q))}var c=$===o;if(c){let q=e.maxParamLength,L=o;if(!(typeof q=="number"&&!(q%1)&&!isNaN(q)&&isFinite(q))){let G=typeof q,J;if(J===void 0)if(G==="boolean"||q===null||G==="string"&&q&&q==+q&&!(q%1))J=+q;else return Qt.errors=[{instancePath:t+"/maxParamLength",schemaPath:"#/properties/maxParamLength/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;J!==void 0&&(q=J,e!==void 0&&(e.maxParamLength=J))}var c=L===o;if(c){let G=e.onProtoPoisoning,J=o;if(typeof G!="string"){let W=typeof G,Z;if(Z===void 0)if(W=="number"||W=="boolean")Z=""+G;else if(G===null)Z="";else return Qt.errors=[{instancePath:t+"/onProtoPoisoning",schemaPath:"#/properties/onProtoPoisoning/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Z!==void 0&&(G=Z,e!==void 0&&(e.onProtoPoisoning=Z))}var c=J===o;if(c){let W=e.onConstructorPoisoning,Z=o;if(typeof W!="string"){let oe=typeof W,he;if(he===void 0)if(oe=="number"||oe=="boolean")he=""+W;else if(W===null)he="";else return Qt.errors=[{instancePath:t+"/onConstructorPoisoning",schemaPath:"#/properties/onConstructorPoisoning/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;he!==void 0&&(W=he,e!==void 0&&(e.onConstructorPoisoning=he))}var c=Z===o;if(c){let oe=e.pluginTimeout,he=o;if(!(typeof oe=="number"&&!(oe%1)&&!isNaN(oe)&&isFinite(oe))){let Be=typeof oe,we;if(we===void 0)if(Be==="boolean"||oe===null||Be==="string"&&oe&&oe==+oe&&!(oe%1))we=+oe;else return Qt.errors=[{instancePath:t+"/pluginTimeout",schemaPath:"#/properties/pluginTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;we!==void 0&&(oe=we,e!==void 0&&(e.pluginTimeout=we))}var c=he===o;if(c){let Be=e.requestIdHeader,we=o,Ue=o,De=!1,He=o;if(Be!==!1){let Ge={instancePath:t+"/requestIdHeader",schemaPath:"#/properties/requestIdHeader/anyOf/0/enum",keyword:"enum",params:{allowedValues:eZ.properties.requestIdHeader.anyOf[0].enum},message:"must be equal to one of the allowed values"};a===null?a=[Ge]:a.push(Ge),o++}var p=He===o;if(De=De||p,!De){let Ge=o;if(typeof Be!="string"){let Gs=typeof Be,lt;if(lt===void 0)if(Gs=="number"||Gs=="boolean")lt=""+Be;else if(Be===null)lt="";else{let Rr={instancePath:t+"/requestIdHeader",schemaPath:"#/properties/requestIdHeader/anyOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};a===null?a=[Rr]:a.push(Rr),o++}lt!==void 0&&(Be=lt,e!==void 0&&(e.requestIdHeader=lt))}var p=Ge===o;De=De||p}if(De)o=Ue,a!==null&&(Ue?a.length=Ue:a=null);else{let Ge={instancePath:t+"/requestIdHeader",schemaPath:"#/properties/requestIdHeader/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return a===null?a=[Ge]:a.push(Ge),o++,Qt.errors=a,!1}var c=we===o;if(c){let Ge=e.requestIdLogLabel,en=o;if(typeof Ge!="string"){let lt=typeof Ge,Rr;if(Rr===void 0)if(lt=="number"||lt=="boolean")Rr=""+Ge;else if(Ge===null)Rr="";else return Qt.errors=[{instancePath:t+"/requestIdLogLabel",schemaPath:"#/properties/requestIdLogLabel/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Rr!==void 0&&(Ge=Rr,e!==void 0&&(e.requestIdLogLabel=Rr))}var c=en===o;if(c){let lt=e.http2SessionTimeout,Rr=o;if(!(typeof lt=="number"&&!(lt%1)&&!isNaN(lt)&&isFinite(lt))){let qt=typeof lt,It;if(It===void 0)if(qt==="boolean"||lt===null||qt==="string"&&lt&&lt==+lt&&!(lt%1))It=+lt;else return Qt.errors=[{instancePath:t+"/http2SessionTimeout",schemaPath:"#/properties/http2SessionTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;It!==void 0&&(lt=It,e!==void 0&&(e.http2SessionTimeout=It))}var c=Rr===o;if(c){let qt=e.exposeHeadRoutes,It=o;if(typeof qt!="boolean"){let tn;if(tn===void 0)if(qt==="false"||qt===0||qt===null)tn=!1;else if(qt==="true"||qt===1)tn=!0;else return Qt.errors=[{instancePath:t+"/exposeHeadRoutes",schemaPath:"#/properties/exposeHeadRoutes/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;tn!==void 0&&(qt=tn,e!==void 0&&(e.exposeHeadRoutes=tn))}var c=It===o;if(c){let tn=e.useSemicolonDelimiter,p0=o;if(typeof tn!="boolean"){let wr;if(wr===void 0)if(tn==="false"||tn===0||tn===null)wr=!1;else if(tn==="true"||tn===1)wr=!0;else return Qt.errors=[{instancePath:t+"/useSemicolonDelimiter",schemaPath:"#/properties/useSemicolonDelimiter/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;wr!==void 0&&(tn=wr,e!==void 0&&(e.useSemicolonDelimiter=wr))}var c=p0===o;if(c){if(e.versioning!==void 0){let wr=e.versioning,$i=o;if(o===$i)if(wr&&typeof wr=="object"&&!Array.isArray(wr)){let ri;if(wr.storage===void 0&&(ri="storage")||wr.deriveVersion===void 0&&(ri="deriveVersion"))return Qt.errors=[{instancePath:t+"/versioning",schemaPath:"#/properties/versioning/required",keyword:"required",params:{missingProperty:ri},message:"must have required property '"+ri+"'"}],!1}else return Qt.errors=[{instancePath:t+"/versioning",schemaPath:"#/properties/versioning/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=$i===o}else var c=!0;if(c)if(e.constraints!==void 0){let wr=e.constraints,$i=o;if(o===$i)if(wr&&typeof wr=="object"&&!Array.isArray(wr))for(let ri in wr){let Vs=wr[ri],ly=o;if(o===ly)if(Vs&&typeof Vs=="object"&&!Array.isArray(Vs)){let so;if(Vs.name===void 0&&(so="name")||Vs.storage===void 0&&(so="storage")||Vs.validate===void 0&&(so="validate")||Vs.deriveConstraint===void 0&&(so="deriveConstraint"))return Qt.errors=[{instancePath:t+"/constraints/"+ri.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/constraints/additionalProperties/required",keyword:"required",params:{missingProperty:so},message:"must have required property '"+so+"'"}],!1;if(Vs.name!==void 0){let Mu=Vs.name;if(typeof Mu!="string"){let h0=typeof Mu,Gr;if(Gr===void 0)if(h0=="number"||h0=="boolean")Gr=""+Mu;else if(Mu===null)Gr="";else return Qt.errors=[{instancePath:t+"/constraints/"+ri.replace(/~/g,"~0").replace(/\//g,"~1")+"/name",schemaPath:"#/properties/constraints/additionalProperties/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Gr!==void 0&&(Mu=Gr,Vs!==void 0&&(Vs.name=Gr))}}}else return Qt.errors=[{instancePath:t+"/constraints/"+ri.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/constraints/additionalProperties/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var m=ly===o;if(!m)break}else return Qt.errors=[{instancePath:t+"/constraints",schemaPath:"#/properties/constraints/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=$i===o}else var c=!0}}}}}}}}}}}}}}}}}}}}}}}}}else return Qt.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Qt.errors=a,o===0}ix.exports.defaultInitOptions={connectionTimeout:0,keepAliveTimeout:72e3,maxRequestsPerSocket:0,requestTimeout:0,bodyLimit:1048576,caseSensitive:!0,allowUnsafeRegex:!1,disableRequestLogging:!1,jsonShorthand:!0,ignoreTrailingSlash:!1,ignoreDuplicateSlashes:!1,maxParamLength:100,onProtoPoisoning:"error",onConstructorPoisoning:"error",pluginTimeout:1e4,requestIdHeader:"request-id",requestIdLogLabel:"reqId",http2SessionTimeout:72e3,exposeHeadRoutes:!0,useSemicolonDelimiter:!0}});var rZ=C((Iht,ox)=>{"use strict";var ax=tZ(),HUe=Hy()({circles:!0,proto:!1}),{FST_ERR_INIT_OPTS_INVALID:zUe}=$n();function GUe(e){let t=HUe(e);if(!ax(t)){let r=new zUe(JSON.stringify(ax.errors.map(n=>n.message)));throw r.errors=ax.errors,r}return DN(t)}function DN(e){let t=Object.getOwnPropertyNames(e);for(let r of t){let n=e[r];ArrayBuffer.isView(n)&&!(n instanceof DataView)||(e[r]=n&&typeof n=="object"?DN(n):n)}return Object.freeze(e)}ox.exports=GUe;ox.exports.defaultInitOptions=ax.defaultInitOptions;ox.exports.utils={deepFreezeObject:DN}});var dZ=C((Cht,lZ)=>{"use strict";var{kAvvioBoot:VUe,kChildren:nZ,kRoutePrefix:sZ,kLogLevel:iZ,kLogSerializers:PN,kHooks:ON,kSchemaController:Xf,kContentTypeParser:aZ,kReply:oZ,kRequest:cZ,kFourOhFour:KUe,kPluginNameChain:uZ}=cn(),YUe=L1(),WUe=eb(),JUe=iN(),XUe=OT(),{buildHooks:ZUe}=uc(),$m=dN();lZ.exports=function(t,r,n){let s=$m.registerPlugin.call(t,r),a=$m.getPluginName(r)||$m.getFuncPreview(r);if(s)return t[uZ].push(a),t;let o=Object.create(t);t[nZ].push(o),o.ready=t[VUe].bind(o),o[nZ]=[],o[oZ]=YUe.buildReply(o[oZ]),o[cZ]=WUe.buildRequest(o[cZ]),o[aZ]=XUe.helpers.buildContentTypeParser(o[aZ]),o[ON]=ZUe(o[ON]),o[sZ]=e7e(o[sZ],n.prefix),o[iZ]=n.logLevel||o[iZ],o[Xf]=JUe.buildSchemaController(t[Xf]),o.getSchema=o[Xf].getSchema.bind(o[Xf]),o.getSchemas=o[Xf].getSchemas.bind(o[Xf]),o[$m.kRegisteredPlugins]=Object.create(o[$m.kRegisteredPlugins]),o[uZ]=[a],(o[PN]||n.logSerializers)&&(o[PN]=Object.assign(Object.create(o[PN]),n.logSerializers)),n.prefix&&o[KUe].arrange404(o);for(let c of o[ON].onRegister)c.call(this,o,n);return o};function e7e(e,t){return t?(e.endsWith("/")&&t[0]==="/"?t=t.slice(1):t[0]!=="/"&&(t="/"+t),e+t):e}});var pZ=C((wht,fZ)=>{"use strict";fZ.exports=function(){return{[Symbol.iterator]:function*(){},add(){},delete(){},has(){return!0}}}});var gZ=C($N=>{"use strict";$N.parse=o7e;$N.serialize=c7e;var t7e=Object.prototype.toString,r7e=Object.prototype.hasOwnProperty,n7e=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,s7e=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,i7e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a7e=/^[\u0020-\u003A\u003D-\u007E]*$/;function o7e(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");var r={},n=e.length;if(n<2)return r;var s=t&&t.decode||u7e,a=0,o=0,c=0;do{if(o=e.indexOf("=",a),o===-1)break;if(c=e.indexOf(";",a),c===-1)c=n;else if(o>c){a=e.lastIndexOf(";",o-1)+1;continue}var u=hZ(e,a,o),l=mZ(e,o,u),d=e.slice(u,l);if(!r7e.call(r,d)){var f=hZ(e,o+1,c),p=mZ(e,c,f);e.charCodeAt(f)===34&&e.charCodeAt(p-1)===34&&(f++,p--);var m=e.slice(f,p);r[d]=d7e(m,s)}a=c+1}while(a<n);return r}function hZ(e,t,r){do{var n=e.charCodeAt(t);if(n!==32&&n!==9)return t}while(++t<r);return r}function mZ(e,t,r){for(;t>r;){var n=e.charCodeAt(--t);if(n!==32&&n!==9)return t+1}return r}function c7e(e,t,r){var n=r&&r.encode||encodeURIComponent;if(typeof n!="function")throw new TypeError("option encode is invalid");if(!n7e.test(e))throw new TypeError("argument name is invalid");var s=n(t);if(!s7e.test(s))throw new TypeError("argument val is invalid");var a=e+"="+s;if(!r)return a;if(r.maxAge!=null){var o=Math.floor(r.maxAge);if(!isFinite(o))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+o}if(r.domain){if(!i7e.test(r.domain))throw new TypeError("option domain is invalid");a+="; Domain="+r.domain}if(r.path){if(!a7e.test(r.path))throw new TypeError("option path is invalid");a+="; Path="+r.path}if(r.expires){var c=r.expires;if(!l7e(c)||isNaN(c.valueOf()))throw new TypeError("option expires is invalid");a+="; Expires="+c.toUTCString()}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.partitioned&&(a+="; Partitioned"),r.priority){var u=typeof r.priority=="string"?r.priority.toLowerCase():r.priority;switch(u){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(r.sameSite){var l=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(l){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}function u7e(e){return e.indexOf("%")!==-1?decodeURIComponent(e):e}function l7e(e){return t7e.call(e)==="[object Date]"}function d7e(e,t){try{return t(e)}catch{return e}}});var bZ=C((Tht,yZ)=>{"use strict";var{URL:AZ}=require("node:url"),LN="http://localhost";yZ.exports=function(t,r){(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]")&&t.startsWith("//")&&(t=LN+t);let n=typeof t=="object"?Object.assign(new AZ(LN),t):new AZ(t,LN);if(typeof r=="string"){r=new URLSearchParams(r);for(let s of r.keys()){n.searchParams.delete(s);for(let a of r.getAll(s))n.searchParams.append(s,a)}}else{let s=Object.assign({},t.query,r);for(let a in s){let o=s[a];if(Array.isArray(o)){n.searchParams.delete(a);for(let c of o)n.searchParams.append(a,c)}else n.searchParams.set(a,o)}}return n}});var EZ=C((Bht,MN)=>{"use strict";var{randomUUID:f7e}=require("node:crypto"),{Readable:p7e}=require("node:stream"),Zf;function h7e(e){return e&&typeof e=="object"&&typeof e.append=="function"&&typeof e.delete=="function"&&typeof e.get=="function"&&typeof e.getAll=="function"&&typeof e.has=="function"&&typeof e.set=="function"&&e[Symbol.toStringTag]==="FormData"}function m7e(e){Zf=Zf??new TextEncoder;let t=`----formdata-${f7e()}`,r=`--${t}\r
Content-Disposition: form-data`;let n=u=>u.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),s=u=>u.replace(/\r?\n|\r/g,`\r
`),a=new Uint8Array([13,10]);async function*o(){for(let[u,l]of e)if(typeof l=="string")yield Zf.encode(`${r}; name="${n(s(u))}"\r
\r
`),yield Zf.encode(`${s(l)}\r
`);else{let d=`${r}; name="${n(s(u))}"`;l.name&&(d+=`; filename="${n(l.name)}"`),d+=`\r
Content-Type: ${l.type||"application/octet-stream"}\r
\r
`,yield Zf.encode(d),l.stream?yield*l.stream():yield l,yield a}yield Zf.encode(`--${t}--`)}return{stream:p7e.from(o()),contentType:`multipart/form-data; boundary=${t}`}}MN.exports.isFormDataLike=h7e;MN.exports.formDataToStream=m7e});var _Z=C((Rht,cx)=>{"use strict";var{Readable:xZ,addAbortSignal:g7e}=require("node:stream"),QN=require("node:util"),A7e=gZ(),y7e=require("node:assert"),{createDeprecation:b7e}=kI(),E7e=bZ(),{isFormDataLike:x7e,formDataToStream:v7e}=EZ(),{EventEmitter:_7e}=require("node:events"),I7e=b7e({name:"FastifyDeprecationLightMyRequest",code:"FST_LIGHTMYREQUEST_DEP01",message:'You are accessing "request.connection", use "request.socket" instead.'});function C7e(e){return e.port?e.host:e.hostname+(e.protocol==="https:"?":443":":80")}var FN=class extends _7e{constructor(t){super(),this.remoteAddress=t}};function vZ(e){return new t(this);function t(r){Fa.call(r,{...e,Request:void 0}),Object.assign(this,r);for(let n of Object.keys(Fa.prototype))this.constructor.prototype[n]=Fa.prototype[n];return QN.inherits(this.constructor,e.Request),this}}function Fa(e){xZ.call(this,{autoDestroy:!1});let t=E7e(e.url||e.path,e.query);this.url=t.pathname+t.search,this.aborted=!1,this.httpVersionMajor=1,this.httpVersionMinor=1,this.httpVersion="1.1",this.method=e.method?e.method.toUpperCase():"GET",this.headers={},this.rawHeaders=[];let r=e.headers||{};for(let o in r){let c=o.toLowerCase();if((c==="user-agent"||c==="content-type")&&r[o]===void 0){this.headers[c]=void 0;continue}let u=r[o];y7e(u!==void 0,'invalid value "undefined" for header '+o),this.headers[c]=""+u}if("user-agent"in this.headers||(this.headers["user-agent"]="lightMyRequest"),this.headers.host=this.headers.host||e.authority||C7e(t),e.cookies){let{cookies:o}=e,c=Object.keys(o).map(u=>A7e.serialize(u,o[u]));this.headers.cookie&&c.unshift(this.headers.cookie),this.headers.cookie=c.join("; ")}this.socket=new FN(e.remoteAddress||"127.0.0.1"),Object.defineProperty(this,"connection",{get(){return I7e(),this.socket},configurable:!0});let n=e.payload||e.body||null,s=n&&typeof n.resume=="function";if(x7e(n)){let o=v7e(n);n=o.stream,s=!0,this.headers["content-type"]=o.contentType}n&&typeof n!="string"&&!s&&!Buffer.isBuffer(n)&&(n=JSON.stringify(n),"content-type"in this.headers||(this.headers["content-type"]="application/json")),n&&!s&&!Object.prototype.hasOwnProperty.call(this.headers,"content-length")&&(this.headers["content-length"]=(Buffer.isBuffer(n)?n.length:Buffer.byteLength(n)).toString());for(let o of Object.keys(this.headers))this.rawHeaders.push(o,this.headers[o]);this._lightMyRequest={payload:n,isDone:!1,simulate:e.simulate||{}};let a=e.signal;return a&&g7e(a,this),this}QN.inherits(Fa,xZ);QN.inherits(vZ,Fa);Fa.prototype.prepare=function(e){let t=this._lightMyRequest.payload;if(!t||typeof t.resume!="function")return e();let r=[];t.on("data",n=>r.push(Buffer.from(n))),t.on("end",()=>{let n=Buffer.concat(r);return this.headers["content-length"]=this.headers["content-length"]||""+n.length,this._lightMyRequest.payload=n,e()}),t.resume()};Fa.prototype._read=function(e){setImmediate(()=>{if(this._lightMyRequest.isDone){this._lightMyRequest.simulate.end!==!1&&this.push(null);return}this._lightMyRequest.isDone=!0,this._lightMyRequest.payload&&(this._lightMyRequest.simulate.split?(this.push(this._lightMyRequest.payload.slice(0,1)),this.push(this._lightMyRequest.payload.slice(1))):this.push(this._lightMyRequest.payload)),this._lightMyRequest.simulate.error&&this.emit("error",new Error("Simulated")),this._lightMyRequest.simulate.close&&this.emit("close"),this._lightMyRequest.simulate.end!==!1&&this.push(null)})};Fa.prototype.destroy=function(e){this.destroyed||this._lightMyRequest.isDone||(this.destroyed=!0,e&&(this._error=!0,process.nextTick(()=>this.emit("error",e))),process.nextTick(()=>this.emit("close")))};cx.exports=Fa;cx.exports.Request=Fa;cx.exports.CustomRequest=vZ});var CZ=C((Nht,Lm)=>{"use strict";var ux={decodeValues:!0,map:!1,silent:!1};function UN(e){return typeof e!="string"||e in{}}function qN(){return Object.create(null)}function jN(e){return typeof e=="string"&&!!e.trim()}function HN(e,t){var r=e.split(";").filter(jN),n=r.shift(),s=w7e(n),a=s.name,o=s.value;if(t=t?Object.assign({},ux,t):ux,UN(a))return null;try{o=t.decodeValues?decodeURIComponent(o):o}catch(u){console.error("set-cookie-parser: failed to decode cookie value. Set options.decodeValues=false to disable decoding.",u)}var c=qN();return c.name=a,c.value=o,r.forEach(function(u){var l=u.split("="),d=l.shift().trimLeft().toLowerCase();if(!UN(d)){var f=l.join("=");if(d==="expires")c.expires=new Date(f);else if(d==="max-age"){var p=parseInt(f,10);Number.isNaN(p)||(c.maxAge=p)}else d==="secure"?c.secure=!0:d==="httponly"?c.httpOnly=!0:d==="samesite"?c.sameSite=f:d==="partitioned"?c.partitioned=!0:d&&(c[d]=f)}}),c}function w7e(e){var t="",r="",n=e.split("=");return n.length>1?(t=n.shift(),r=n.join("=")):r=e,{name:t,value:r}}function IZ(e,t){if(t=t?Object.assign({},ux,t):ux,!e)return t.map?qN():[];if(e.headers)if(typeof e.headers.getSetCookie=="function")e=e.headers.getSetCookie();else if(e.headers["set-cookie"])e=e.headers["set-cookie"];else{var r=e.headers[Object.keys(e.headers).find(function(s){return s.toLowerCase()==="set-cookie"})];!r&&e.headers.cookie&&!t.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),e=r}if(Array.isArray(e)||(e=[e]),t.map){var n=qN();return e.filter(jN).reduce(function(s,a){var o=HN(a,t);return o&&!UN(o.name)&&(s[o.name]=o),s},n)}else return e.filter(jN).map(function(s){return HN(s,t)}).filter(Boolean)}function S7e(e){if(Array.isArray(e))return e;if(typeof e!="string")return[];var t=[],r=0,n,s,a,o,c;function u(){for(;r<e.length&&/\s/.test(e.charAt(r));)r+=1;return r<e.length}function l(){return s=e.charAt(r),s!=="="&&s!==";"&&s!==","}for(;r<e.length;){for(n=r,c=!1;u();)if(s=e.charAt(r),s===","){for(a=r,r+=1,u(),o=r;r<e.length&&l();)r+=1;r<e.length&&e.charAt(r)==="="?(c=!0,r=o,t.push(e.substring(n,a)),n=r):r=a+1}else r+=1;(!c||r>=e.length)&&t.push(e.substring(n,e.length))}return t}Lm.exports=IZ;Lm.exports.parse=IZ;Lm.exports.parseString=HN;Lm.exports.splitCookiesString=S7e});var TZ=C((kht,SZ)=>{"use strict";var Mm=require("node:http"),{Writable:T7e,Readable:B7e}=require("node:stream"),R7e=require("node:util"),N7e=CZ();function zc(e,t,r){Mm.ServerResponse.call(this,e),this._lightMyRequest={headers:null,trailers:{},payloadChunks:[]},this.setHeader("foo","bar"),this.removeHeader("foo"),this.assignSocket(D7e()),this._promiseCallback=typeof r=="function";let n=!1,s=o=>{if(n=!0,this._promiseCallback)return process.nextTick(()=>t(o));process.nextTick(()=>t(null,o))},a=o=>{if(!n){if(n=!0,this._promiseCallback)return process.nextTick(()=>r(o));process.nextTick(()=>t(o,null))}};this.once("finish",()=>{let o=k7e(this);o.raw.req=e,s(o)}),this.connection.once("error",a),this.once("error",a),this.once("close",a)}R7e.inherits(zc,Mm.ServerResponse);zc.prototype.setTimeout=function(e,t){return this.timeoutHandle=setTimeout(()=>{this.emit("timeout")},e),this.on("timeout",t),this};zc.prototype.writeHead=function(){let e=Mm.ServerResponse.prototype.writeHead.apply(this,arguments);return wZ(this),e};zc.prototype.write=function(e,t,r){return this.timeoutHandle&&clearTimeout(this.timeoutHandle),Mm.ServerResponse.prototype.write.call(this,e,t,r),this._lightMyRequest.payloadChunks.push(Buffer.from(e,t)),!0};zc.prototype.end=function(e,t,r){e&&this.write(e,t),Mm.ServerResponse.prototype.end.call(this,r),this.emit("finish"),this.destroy()};zc.prototype.destroy=function(e){this.destroyed||(this.destroyed=!0,e&&process.nextTick(()=>this.emit("error",e)),process.nextTick(()=>this.emit("close")))};zc.prototype.addTrailers=function(e){for(let t in e)this._lightMyRequest.trailers[t.toLowerCase().trim()]=e[t].toString().trim()};function k7e(e){e._lightMyRequest.headers===null&&wZ(e),P7e(e);let t={raw:{res:e},headers:e._lightMyRequest.headers,statusCode:e.statusCode,statusMessage:e.statusMessage,trailers:{},get cookies(){return N7e.parse(this)}},r=Buffer.concat(e._lightMyRequest.payloadChunks);return t.rawPayload=r,t.payload=r.toString(),t.body=t.payload,t.trailers=e._lightMyRequest.trailers,t.json=function(){return JSON.parse(t.payload)},t.stream=function(){return B7e.from(e._lightMyRequest.payloadChunks)},t}function D7e(){return new T7e({write(e,t,r){setImmediate(r)}})}function P7e(e){let t=e._lightMyRequest.headers;for(let r of Object.keys(t)){let n=t[r];Array.isArray(n)?t[r]=n.map(s=>""+s):t[r]=""+n}}function wZ(e){e._lightMyRequest.headers=Object.assign({},e.getHeaders()),["Date","Connection","Transfer-Encoding"].forEach(t=>{let r=new RegExp("\\r\\n"+t+": ([^\\r]*)\\r\\n"),n=e._header.match(r);n&&(e._lightMyRequest.headers[t.toLowerCase()]=n[1])})}SZ.exports=zc});var BZ=C((Dht,zN)=>{"use strict";zN.exports=Vr;zN.exports.default=Vr;var O7e={type:"object",properties:{url:{oneOf:[{type:"string"},{type:"object",properties:{protocol:{type:"string"},hostname:{type:"string"},pathname:{type:"string"}},additionalProperties:!0,required:["pathname"]}]},path:{oneOf:[{type:"string"},{type:"object",properties:{protocol:{type:"string"},hostname:{type:"string"},pathname:{type:"string"}},additionalProperties:!0,required:["pathname"]}]},cookies:{type:"object",additionalProperties:!0},headers:{type:"object",additionalProperties:!0},query:{anyOf:[{type:"object",additionalProperties:!0},{type:"string"}]},simulate:{type:"object",properties:{end:{type:"boolean"},split:{type:"boolean"},error:{type:"boolean"},close:{type:"boolean"}}},authority:{type:"string"},remoteAddress:{type:"string"},method:{type:"string",enum:["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE","acl","bind","checkout","connect","copy","delete","get","head","link","lock","m-search","merge","mkactivity","mkcalendar","mkcol","move","notify","options","patch","post","propfind","proppatch","purge","put","rebind","report","search","source","subscribe","trace","unbind","unlink","unlock","unsubscribe"]},validate:{type:"boolean"}},additionalProperties:!0,oneOf:[{required:["url"]},{required:["path"]}]};function Vr(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:s=e}={}){let a=null,o=0,c=o,u=!1,l=null,d=o;if(e&&typeof e=="object"&&!Array.isArray(e)){let E;if(e.url===void 0&&(E="url")){let I={instancePath:t,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:E},message:"must have required property '"+E+"'"};a===null?a=[I]:a.push(I),o++}}var p=d===o;p&&(u=!0,l=0);let f=o;if(e&&typeof e=="object"&&!Array.isArray(e)){let E;if(e.path===void 0&&(E="path")){let I={instancePath:t,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:E},message:"must have required property '"+E+"'"};a===null?a=[I]:a.push(I),o++}}var p=f===o;if(p&&u?(u=!1,l=[l,1]):p&&(u=!0,l=1),u)o=c,a!==null&&(c?a.length=c:a=null);else{let E={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:l},message:"must match exactly one schema in oneOf"};return a===null?a=[E]:a.push(E),o++,Vr.errors=a,!1}if(o===0)if(e&&typeof e=="object"&&!Array.isArray(e)){if(e.url!==void 0){let E=e.url,I=o,w=o,S=!1,T=null,B=o;if(typeof E!="string"){let O=typeof E,k;if(k===void 0)if(O=="number"||O=="boolean")k=""+E;else if(E===null)k="";else{let P={instancePath:t+"/url",schemaPath:"#/properties/url/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};a===null?a=[P]:a.push(P),o++}k!==void 0&&(E=k,e!==void 0&&(e.url=k))}var h=B===o;h&&(S=!0,T=0);let N=o;if(o===N)if(E&&typeof E=="object"&&!Array.isArray(E)){let O;if(E.pathname===void 0&&(O="pathname")){let k={instancePath:t+"/url",schemaPath:"#/properties/url/oneOf/1/required",keyword:"required",params:{missingProperty:O},message:"must have required property '"+O+"'"};a===null?a=[k]:a.push(k),o++}else{if(E.protocol!==void 0){let k=E.protocol,P=o;if(typeof k!="string"){let D=typeof k,j;if(j===void 0)if(D=="number"||D=="boolean")j=""+k;else if(k===null)j="";else{let H={instancePath:t+"/url/protocol",schemaPath:"#/properties/url/oneOf/1/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};a===null?a=[H]:a.push(H),o++}j!==void 0&&(k=j,E!==void 0&&(E.protocol=j))}var m=P===o}else var m=!0;if(m){if(E.hostname!==void 0){let k=E.hostname,P=o;if(typeof k!="string"){let j=typeof k,H;if(H===void 0)if(j=="number"||j=="boolean")H=""+k;else if(k===null)H="";else{let V={instancePath:t+"/url/hostname",schemaPath:"#/properties/url/oneOf/1/properties/hostname/type",keyword:"type",params:{type:"string"},message:"must be string"};a===null?a=[V]:a.push(V),o++}H!==void 0&&(k=H,E!==void 0&&(E.hostname=H))}var m=P===o}else var m=!0;if(m)if(E.pathname!==void 0){let k=E.pathname,P=o;if(typeof k!="string"){let j=typeof k,H;if(H===void 0)if(j=="number"||j=="boolean")H=""+k;else if(k===null)H="";else{let V={instancePath:t+"/url/pathname",schemaPath:"#/properties/url/oneOf/1/properties/pathname/type",keyword:"type",params:{type:"string"},message:"must be string"};a===null?a=[V]:a.push(V),o++}H!==void 0&&(k=H,E!==void 0&&(E.pathname=H))}var m=P===o}else var m=!0}}}else{let O={instancePath:t+"/url",schemaPath:"#/properties/url/oneOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};a===null?a=[O]:a.push(O),o++}var h=N===o;if(h&&S?(S=!1,T=[T,1]):h&&(S=!0,T=1),S)o=w,a!==null&&(w?a.length=w:a=null);else{let O={instancePath:t+"/url",schemaPath:"#/properties/url/oneOf",keyword:"oneOf",params:{passingSchemas:T},message:"must match exactly one schema in oneOf"};return a===null?a=[O]:a.push(O),o++,Vr.errors=a,!1}var g=I===o}else var g=!0;if(g){if(e.path!==void 0){let E=e.path,I=o,w=o,S=!1,T=null,B=o;if(typeof E!="string"){let k=typeof E,P;if(P===void 0)if(k=="number"||k=="boolean")P=""+E;else if(E===null)P="";else{let D={instancePath:t+"/path",schemaPath:"#/properties/path/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};a===null?a=[D]:a.push(D),o++}P!==void 0&&(E=P,e!==void 0&&(e.path=P))}var y=B===o;y&&(S=!0,T=0);let N=o;if(o===N)if(E&&typeof E=="object"&&!Array.isArray(E)){let k;if(E.pathname===void 0&&(k="pathname")){let P={instancePath:t+"/path",schemaPath:"#/properties/path/oneOf/1/required",keyword:"required",params:{missingProperty:k},message:"must have required property '"+k+"'"};a===null?a=[P]:a.push(P),o++}else{if(E.protocol!==void 0){let P=E.protocol,D=o;if(typeof P!="string"){let j=typeof P,H;if(H===void 0)if(j=="number"||j=="boolean")H=""+P;else if(P===null)H="";else{let V={instancePath:t+"/path/protocol",schemaPath:"#/properties/path/oneOf/1/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};a===null?a=[V]:a.push(V),o++}H!==void 0&&(P=H,E!==void 0&&(E.protocol=H))}var A=D===o}else var A=!0;if(A){if(E.hostname!==void 0){let P=E.hostname,D=o;if(typeof P!="string"){let H=typeof P,V;if(V===void 0)if(H=="number"||H=="boolean")V=""+P;else if(P===null)V="";else{let X={instancePath:t+"/path/hostname",schemaPath:"#/properties/path/oneOf/1/properties/hostname/type",keyword:"type",params:{type:"string"},message:"must be string"};a===null?a=[X]:a.push(X),o++}V!==void 0&&(P=V,E!==void 0&&(E.hostname=V))}var A=D===o}else var A=!0;if(A)if(E.pathname!==void 0){let P=E.pathname,D=o;if(typeof P!="string"){let H=typeof P,V;if(V===void 0)if(H=="number"||H=="boolean")V=""+P;else if(P===null)V="";else{let X={instancePath:t+"/path/pathname",schemaPath:"#/properties/path/oneOf/1/properties/pathname/type",keyword:"type",params:{type:"string"},message:"must be string"};a===null?a=[X]:a.push(X),o++}V!==void 0&&(P=V,E!==void 0&&(E.pathname=V))}var A=D===o}else var A=!0}}}else{let k={instancePath:t+"/path",schemaPath:"#/properties/path/oneOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};a===null?a=[k]:a.push(k),o++}var y=N===o;if(y&&S?(S=!1,T=[T,1]):y&&(S=!0,T=1),S)o=w,a!==null&&(w?a.length=w:a=null);else{let k={instancePath:t+"/path",schemaPath:"#/properties/path/oneOf",keyword:"oneOf",params:{passingSchemas:T},message:"must match exactly one schema in oneOf"};return a===null?a=[k]:a.push(k),o++,Vr.errors=a,!1}var g=I===o}else var g=!0;if(g){if(e.cookies!==void 0){let E=e.cookies,I=o;if(o===I&&!(E&&typeof E=="object"&&!Array.isArray(E)))return Vr.errors=[{instancePath:t+"/cookies",schemaPath:"#/properties/cookies/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var g=I===o}else var g=!0;if(g){if(e.headers!==void 0){let E=e.headers,I=o;if(o===I&&!(E&&typeof E=="object"&&!Array.isArray(E)))return Vr.errors=[{instancePath:t+"/headers",schemaPath:"#/properties/headers/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var g=I===o}else var g=!0;if(g){if(e.query!==void 0){let E=e.query,I=o,w=o,S=!1,T=o;if(o===T&&!(E&&typeof E=="object"&&!Array.isArray(E))){let N={instancePath:t+"/query",schemaPath:"#/properties/query/anyOf/0/type",keyword:"type",params:{type:"object"},message:"must be object"};a===null?a=[N]:a.push(N),o++}var v=T===o;if(S=S||v,!S){let N=o;if(typeof E!="string"){let k=typeof E,P;if(P===void 0)if(k=="number"||k=="boolean")P=""+E;else if(E===null)P="";else{let D={instancePath:t+"/query",schemaPath:"#/properties/query/anyOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};a===null?a=[D]:a.push(D),o++}P!==void 0&&(E=P,e!==void 0&&(e.query=P))}var v=N===o;S=S||v}if(S)o=w,a!==null&&(w?a.length=w:a=null);else{let N={instancePath:t+"/query",schemaPath:"#/properties/query/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return a===null?a=[N]:a.push(N),o++,Vr.errors=a,!1}var g=I===o}else var g=!0;if(g){if(e.simulate!==void 0){let E=e.simulate,I=o;if(o===I)if(E&&typeof E=="object"&&!Array.isArray(E)){if(E.end!==void 0){let S=E.end,T=o;if(typeof S!="boolean"){let B;if(B===void 0)if(S==="false"||S===0||S===null)B=!1;else if(S==="true"||S===1)B=!0;else return Vr.errors=[{instancePath:t+"/simulate/end",schemaPath:"#/properties/simulate/properties/end/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;B!==void 0&&(S=B,E!==void 0&&(E.end=B))}var b=T===o}else var b=!0;if(b){if(E.split!==void 0){let S=E.split,T=o;if(typeof S!="boolean"){let N;if(N===void 0)if(S==="false"||S===0||S===null)N=!1;else if(S==="true"||S===1)N=!0;else return Vr.errors=[{instancePath:t+"/simulate/split",schemaPath:"#/properties/simulate/properties/split/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;N!==void 0&&(S=N,E!==void 0&&(E.split=N))}var b=T===o}else var b=!0;if(b){if(E.error!==void 0){let S=E.error,T=o;if(typeof S!="boolean"){let N;if(N===void 0)if(S==="false"||S===0||S===null)N=!1;else if(S==="true"||S===1)N=!0;else return Vr.errors=[{instancePath:t+"/simulate/error",schemaPath:"#/properties/simulate/properties/error/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;N!==void 0&&(S=N,E!==void 0&&(E.error=N))}var b=T===o}else var b=!0;if(b)if(E.close!==void 0){let S=E.close,T=o;if(typeof S!="boolean"){let N;if(N===void 0)if(S==="false"||S===0||S===null)N=!1;else if(S==="true"||S===1)N=!0;else return Vr.errors=[{instancePath:t+"/simulate/close",schemaPath:"#/properties/simulate/properties/close/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;N!==void 0&&(S=N,E!==void 0&&(E.close=N))}var b=T===o}else var b=!0}}}else return Vr.errors=[{instancePath:t+"/simulate",schemaPath:"#/properties/simulate/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var g=I===o}else var g=!0;if(g){if(e.authority!==void 0){let E=e.authority,I=o;if(typeof E!="string"){let S=typeof E,T;if(T===void 0)if(S=="number"||S=="boolean")T=""+E;else if(E===null)T="";else return Vr.errors=[{instancePath:t+"/authority",schemaPath:"#/properties/authority/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;T!==void 0&&(E=T,e!==void 0&&(e.authority=T))}var g=I===o}else var g=!0;if(g){if(e.remoteAddress!==void 0){let E=e.remoteAddress,I=o;if(typeof E!="string"){let S=typeof E,T;if(T===void 0)if(S=="number"||S=="boolean")T=""+E;else if(E===null)T="";else return Vr.errors=[{instancePath:t+"/remoteAddress",schemaPath:"#/properties/remoteAddress/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;T!==void 0&&(E=T,e!==void 0&&(e.remoteAddress=T))}var g=I===o}else var g=!0;if(g){if(e.method!==void 0){let E=e.method,I=o;if(typeof E!="string"){let S=typeof E,T;if(T===void 0)if(S=="number"||S=="boolean")T=""+E;else if(E===null)T="";else return Vr.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;T!==void 0&&(E=T,e!==void 0&&(e.method=T))}if(!(E==="ACL"||E==="BIND"||E==="CHECKOUT"||E==="CONNECT"||E==="COPY"||E==="DELETE"||E==="GET"||E==="HEAD"||E==="LINK"||E==="LOCK"||E==="M-SEARCH"||E==="MERGE"||E==="MKACTIVITY"||E==="MKCALENDAR"||E==="MKCOL"||E==="MOVE"||E==="NOTIFY"||E==="OPTIONS"||E==="PATCH"||E==="POST"||E==="PROPFIND"||E==="PROPPATCH"||E==="PURGE"||E==="PUT"||E==="REBIND"||E==="REPORT"||E==="SEARCH"||E==="SOURCE"||E==="SUBSCRIBE"||E==="TRACE"||E==="UNBIND"||E==="UNLINK"||E==="UNLOCK"||E==="UNSUBSCRIBE"||E==="acl"||E==="bind"||E==="checkout"||E==="connect"||E==="copy"||E==="delete"||E==="get"||E==="head"||E==="link"||E==="lock"||E==="m-search"||E==="merge"||E==="mkactivity"||E==="mkcalendar"||E==="mkcol"||E==="move"||E==="notify"||E==="options"||E==="patch"||E==="post"||E==="propfind"||E==="proppatch"||E==="purge"||E==="put"||E==="rebind"||E==="report"||E==="search"||E==="source"||E==="subscribe"||E==="trace"||E==="unbind"||E==="unlink"||E==="unlock"||E==="unsubscribe"))return Vr.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/enum",keyword:"enum",params:{allowedValues:O7e.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var g=I===o}else var g=!0;if(g)if(e.validate!==void 0){let E=e.validate,I=o;if(typeof E!="boolean"){let S;if(S===void 0)if(E==="false"||E===0||E===null)S=!1;else if(E==="true"||E===1)S=!0;else return Vr.errors=[{instancePath:t+"/validate",schemaPath:"#/properties/validate/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;S!==void 0&&(E=S,e!==void 0&&(e.validate=S))}var g=I===o}else var g=!0}}}}}}}}}else return Vr.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Vr.errors=a,o===0}});var kZ=C((Pht,Qm)=>{"use strict";var $7e=require("node:assert"),GN=_Z(),lx=TZ(),fx="The dispatch function has already been invoked",RZ=BZ();function VN(e,t,r){return r===void 0?new Fm(e,t):dx(e,t,r)}function NZ(e,t,r,n){return r.once("error",function(s){this.destroyed&&n.destroy(s)}),r.once("close",function(){this.destroyed&&!this._error&&n.destroy()}),r.prepare(()=>e.call(t,r,n))}function dx(e,t,r){if(t=typeof t=="string"?{url:t}:t,t.validate!==!1&&($7e(typeof e=="function","dispatchFunc should be a function"),!RZ(t)))throw new Error(RZ.errors.map(o=>o.message));let n=t.server||{},s=t.Request?GN.CustomRequest:GN;if(e.request&&e.request.app===e&&(Object.setPrototypeOf(Object.getPrototypeOf(e.request),s.prototype),Object.setPrototypeOf(Object.getPrototypeOf(e.response),lx.prototype)),typeof r=="function"){let a=new s(t),o=new lx(a,r);return NZ(e,n,a,o)}else return new Promise((a,o)=>{let c=new s(t),u=new lx(c,a,o);NZ(e,n,c,u)})}function Fm(e,t){typeof t=="string"?this.option={url:t}:this.option=Object.assign({},t),this.dispatch=e,this._hasInvoked=!1,this._promise=null,this.option.autoStart!==!1&&process.nextTick(()=>{this._hasInvoked||this.end()})}var L7e=["delete","get","head","options","patch","post","put","trace"];L7e.forEach(e=>{Fm.prototype[e]=function(t){if(this._hasInvoked===!0||this._promise)throw new Error(fx);return this.option.url=t,this.option.method=e.toUpperCase(),this}});var M7e=["body","cookies","headers","payload","query"];M7e.forEach(e=>{Fm.prototype[e]=function(t){if(this._hasInvoked===!0||this._promise)throw new Error(fx);return this.option[e]=t,this}});Fm.prototype.end=function(e){if(this._hasInvoked===!0||this._promise)throw new Error(fx);if(this._hasInvoked=!0,typeof e=="function")dx(this.dispatch,this.option,e);else return this._promise=dx(this.dispatch,this.option),this._promise};Object.getOwnPropertyNames(Promise.prototype).forEach(e=>{e!=="constructor"&&(Fm.prototype[e]=function(...t){if(!this._promise){if(this._hasInvoked===!0)throw new Error(fx);this._hasInvoked=!0,this._promise=dx(this.dispatch,this.option)}return this._promise[e](...t)})});function F7e(e){return e instanceof GN||e instanceof lx||e&&e.constructor&&e.constructor.name==="_CustomLMRRequest"}Qm.exports=VN;Qm.exports.default=VN;Qm.exports.inject=VN;Qm.exports.isInjection=F7e});var VZ=C((Oht,gx)=>{"use strict";var Q7e="4.26.0",U7e=uL(),KN=require("node:http"),Um,{kAvvioBoot:qm,kChildren:YN,kServerBindings:DZ,kBodyLimit:q7e,kRoutePrefix:PZ,kLogLevel:j7e,kLogSerializers:H7e,kHooks:WN,kSchemaController:Gc,kRequestAcceptVersion:z7e,kReplySerializerDefault:OZ,kContentTypeParser:G7e,kReply:V7e,kRequest:K7e,kFourOhFour:Y7e,kState:Hr,kOptions:JN,kPluginNameChain:jm,kSchemaErrorFormatter:XN,kErrorHandler:px,kKeepAliveConnections:ZN,kChildLoggerFactory:ek,kGenReqId:tk}=cn(),{createServer:W7e,compileValidateHTTPVersion:J7e}=kL(),Hm=L1(),hx=eb(),X7e=tb(),{supportedMethods:Z7e}=xT(),ep=wT(),Bl=OT(),$Z=iN(),{Hooks:eqe,hookRunnerApplication:LZ,supportedHooks:rk}=uc(),{createLogger:tqe,createChildLogger:MZ,defaultChildLoggerFactory:rqe}=_0(),FZ=dN(),{getGenReqId:QZ,reqIdGenFactory:UZ}=QE(),{buildRouting:nqe,validateBodyLimitOption:sqe}=GX(),iqe=ZX(),GZ=rZ(),aqe=dZ(),{FSTDEP009:oqe}=io(),cqe=pZ(),{appendStackTrace:uqe,AVVIO_ERRORS_MAP:qZ,...Rl}=$n(),{defaultInitOptions:Ps}=GZ,{FST_ERR_ASYNC_CONSTRAINT:lqe,FST_ERR_BAD_URL:dqe,FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE:fqe,FST_ERR_OPTIONS_NOT_OBJ:pqe,FST_ERR_QSP_NOT_FN:hqe,FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN:mqe,FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ:gqe,FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR:Aqe,FST_ERR_VERSION_CONSTRAINT_NOT_STR:yqe,FST_ERR_INSTANCE_ALREADY_LISTENING:bqe,FST_ERR_REOPENED_CLOSE_SERVER:Eqe,FST_ERR_ROUTE_REWRITE_NOT_STR:xqe,FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN:jZ}=Rl,{buildErrorHandler:HZ}=rh();function vqe(e){let t={};return["errorHandler","logLevel","logSerializers"].concat(rk).forEach(n=>{t[n]=e.store[n]}),Object.assign({},t)}function mx(e){if(e=e||{},typeof e!="object")throw new pqe;if(e.querystringParser&&typeof e.querystringParser!="function")throw new hqe(typeof e.querystringParser);if(e.schemaController&&e.schemaController.bucket&&typeof e.schemaController.bucket!="function")throw new mqe(typeof e.schemaController.bucket);sqe(e.bodyLimit);let t=e.requestIdHeader===!1?!1:(e.requestIdHeader||Ps.requestIdHeader).toLowerCase(),r=UZ(t,e.genReqId),n=e.requestIdLogLabel||"reqId",s=e.bodyLimit||Ps.bodyLimit,a=e.disableRequestLogging||!1,o=Object.assign({customOptions:{},plugins:[]},e.ajv),c=e.frameworkErrors;if(!o.customOptions||Object.prototype.toString.call(o.customOptions)!=="[object Object]")throw new gqe(typeof o.customOptions);if(!o.plugins||!Array.isArray(o.plugins))throw new Aqe(typeof o.plugins);let{logger:u,hasLogger:l}=tqe(e);e.connectionTimeout=e.connectionTimeout||Ps.connectionTimeout,e.keepAliveTimeout=e.keepAliveTimeout||Ps.keepAliveTimeout,e.maxRequestsPerSocket=e.maxRequestsPerSocket||Ps.maxRequestsPerSocket,e.requestTimeout=e.requestTimeout||Ps.requestTimeout,e.logger=u,e.requestIdHeader=t,e.requestIdLogLabel=n,e.disableRequestLogging=a,e.ajv=o,e.clientErrorHandler=e.clientErrorHandler||V;let d=GZ(e);e.exposeHeadRoutes=d.exposeHeadRoutes;let f=e.constraints;e.versioning&&(oqe(),f={...f,version:{name:"version",mustMatchWhenDerived:!0,storage:e.versioning.storage,deriveConstraint:e.versioning.deriveVersion,validate(L){if(typeof L!="string")throw new yqe}}});let p=nqe({config:{defaultRoute:X,onBadUrl:U,constraints:f,ignoreTrailingSlash:e.ignoreTrailingSlash||Ps.ignoreTrailingSlash,ignoreDuplicateSlashes:e.ignoreDuplicateSlashes||Ps.ignoreDuplicateSlashes,maxParamLength:e.maxParamLength||Ps.maxParamLength,caseSensitive:e.caseSensitive,allowUnsafeRegex:e.allowUnsafeRegex||Ps.allowUnsafeRegex,buildPrettyMeta:vqe,querystringParser:e.querystringParser,useSemicolonDelimiter:e.useSemicolonDelimiter??Ps.useSemicolonDelimiter}}),m=iqe(e),h=M(p,e);e.http2SessionTimeout=d.http2SessionTimeout;let{server:g,listen:A}=W7e(e,h),y=typeof g.closeAllConnections=="function",v=typeof g.closeIdleConnections=="function",b=e.forceCloseConnections;if(b==="idle"&&!v)throw new fqe;typeof b!="boolean"&&(b=v?"idle":!1);let E=!y&&b===!0?new Set:cqe(),I=Hm.setupResponseListeners,w=$Z.buildSchemaController(null,e.schemaController),S={[Hr]:{listening:!1,closing:!1,started:!1,ready:!1,booting:!1,readyPromise:null},[ZN]:E,[JN]:e,[YN]:[],[DZ]:[],[q7e]:s,[PZ]:"",[j7e]:"",[H7e]:null,[WN]:new eqe,[Gc]:w,[XN]:null,[px]:HZ(),[ek]:rqe,[OZ]:null,[G7e]:new Bl(s,e.onProtoPoisoning||Ps.onProtoPoisoning,e.onConstructorPoisoning||Ps.onConstructorPoisoning),[V7e]:Hm.buildReply(Hm),[K7e]:hx.buildRequest(hx,e.trustProxy),[Y7e]:m,[FZ.kRegisteredPlugins]:[],[jm]:["fastify"],[qm]:null,[tk]:r,routing:h,getDefaultRoute:p.getDefaultRoute.bind(p),setDefaultRoute:p.setDefaultRoute.bind(p),delete:function(Q,G,J){return p.prepareRoute.call(this,{method:"DELETE",url:Q,options:G,handler:J})},get:function(Q,G,J){return p.prepareRoute.call(this,{method:"GET",url:Q,options:G,handler:J})},head:function(Q,G,J){return p.prepareRoute.call(this,{method:"HEAD",url:Q,options:G,handler:J})},patch:function(Q,G,J){return p.prepareRoute.call(this,{method:"PATCH",url:Q,options:G,handler:J})},post:function(Q,G,J){return p.prepareRoute.call(this,{method:"POST",url:Q,options:G,handler:J})},put:function(Q,G,J){return p.prepareRoute.call(this,{method:"PUT",url:Q,options:G,handler:J})},options:function(Q,G,J){return p.prepareRoute.call(this,{method:"OPTIONS",url:Q,options:G,handler:J})},all:function(Q,G,J){return p.prepareRoute.call(this,{method:Z7e,url:Q,options:G,handler:J})},route:function(Q){return p.route.call(this,{options:Q})},hasRoute:function(Q){return p.hasRoute.call(this,{options:Q})},findRoute:function(Q){return p.findRoute(Q)},log:u,withTypeProvider:D,addHook:j,addSchema:H,getSchema:w.getSchema.bind(w),getSchemas:w.getSchemas.bind(w),setValidatorCompiler:te,setSerializerCompiler:xe,setSchemaController:_e,setReplySerializer:Ce,setSchemaErrorFormatter:ae,setGenReqId:q,addContentTypeParser:Bl.helpers.addContentTypeParser,hasContentTypeParser:Bl.helpers.hasContentTypeParser,getDefaultJsonParser:Bl.defaultParsers.getDefaultJsonParser,defaultTextParser:Bl.defaultParsers.defaultTextParser,removeContentTypeParser:Bl.helpers.removeContentTypeParser,removeAllContentTypeParsers:Bl.helpers.removeAllContentTypeParsers,register:null,after:null,ready:null,onClose:null,close:null,printPlugins:null,hasPlugin:function(L){return this[FZ.kRegisteredPlugins].includes(L)||this[jm].includes(L)},listen:A,server:g,addresses:function(){let L=this[DZ].map(Q=>Q.address());return L.push(this.server.address()),L.filter(Q=>Q)},decorate:ep.add,hasDecorator:ep.exist,decorateReply:ep.decorateReply,decorateRequest:ep.decorateRequest,hasRequestDecorator:ep.existRequest,hasReplyDecorator:ep.existReply,inject:k,printRoutes:$,setNotFoundHandler:se,setErrorHandler:ve,setChildLoggerFactory:Ae,initialConfig:d,addConstraintStrategy:p.addConstraintStrategy.bind(p),hasConstraintStrategy:p.hasConstraintStrategy.bind(p)};Object.defineProperties(S,{listeningOrigin:{get(){let L=this.addresses().slice(-1).pop();if(typeof L=="string")return L;let Q=L.family==="IPv6"?`[${L.address}]`:L.address;return`${this[JN].https?"https":"http"}://${Q}:${L.port}`}},pluginName:{configurable:!0,get(){return this[jm].length>1?this[jm].join(" -> "):this[jm][0]}},prefix:{configurable:!0,get(){return this[PZ]}},validatorCompiler:{configurable:!0,get(){return this[Gc].getValidatorCompiler()}},serializerCompiler:{configurable:!0,get(){return this[Gc].getSerializerCompiler()}},childLoggerFactory:{configurable:!0,get(){return this[ek]}},version:{configurable:!0,get(){return Q7e}},errorHandler:{configurable:!0,get(){return this[px].func}},genReqId:{configurable:!0,get(){return this[tk]}}}),e.schemaErrorFormatter&&(zZ(e.schemaErrorFormatter),S[XN]=e.schemaErrorFormatter.bind(S));let T=Number(e.pluginTimeout),B=U7e(S,{autostart:!1,timeout:isNaN(T)===!1?T:Ps.pluginTimeout,expose:{use:"register"}});B.override=aqe,B.on("start",()=>S[Hr].started=!0),S[qm]=S.ready,S.ready=P,S.printPlugins=B.prettyPrint.bind(B),B.once("preReady",()=>{S.onClose((L,Q)=>{S[Hr].closing=!0,p.closeRoutes(),LZ("preClose",S[qm],S,function(){if(S[Hr].listening){if(b==="idle")L.server.closeIdleConnections();else if(y&&b)L.server.closeAllConnections();else if(b===!0)for(let G of S[ZN])G.destroy(),S[ZN].delete(G)}!e.serverFactory||S[Hr].listening?L.server.close(function(G){G&&G.code!=="ERR_SERVER_NOT_RUNNING"?Q(null):Q()}):process.nextTick(Q,null)})})});let N=new X7e({server:S,config:{}});S.setNotFoundHandler(),m.arrange404(S),p.setup(e,{avvio:B,fourOhFour:m,logger:u,hasLogger:l,setupResponseListeners:I,throwIfAlreadyStarted:O,validateHTTPVersion:J7e(e),keepAliveConnections:E}),g.on("clientError",e.clientErrorHandler.bind(S));try{let Q=require("node:diagnostics_channel").channel("fastify.initialization");Q.hasSubscribers&&Q.publish({fastify:S})}catch{}return"asyncDispose"in Symbol&&(S[Symbol.asyncDispose]=function(){return S.close()}),S;function O(L){if(S[Hr].started)throw new bqe(L)}function k(L,Q){if(Um===void 0&&(Um=kZ()),S[Hr].started){if(S[Hr].closing){let G=new Eqe;if(Q){Q(G);return}else return Promise.reject(G)}return Um(h,L,Q)}if(Q)this.ready(G=>{G?Q(G,null):Um(h,L,Q)});else return Um((G,J)=>{this.ready(function(K){if(K){J.emit("error",K);return}h(G,J)})},L)}function P(L){if(this[Hr].readyPromise!==null){if(L!=null){this[Hr].readyPromise.then(()=>L(null,S),L);return}return this[Hr].readyPromise}let Q,G;if(process.nextTick(J),this[Hr].readyPromise=new Promise(function(W,Z){Q=W,G=Z}),L)this[Hr].readyPromise.then(()=>L(null,S),L);else return this[Hr].readyPromise;function J(){S[qm]((W,Z)=>{W||S[Hr].started||S[Hr].ready||S[Hr].booting?K(W):(S[Hr].booting=!0,LZ("onReady",S[qm],S,K)),Z()})}function K(W){if(W=W!=null&&qZ[W.code]!=null?uqe(W,new qZ[W.code](W.message)):W,W)return G(W);Q(S),S[Hr].booting=!1,S[Hr].ready=!0,S[Hr].promise=null}}function D(){return this}function j(L,Q){if(O('Cannot call "addHook"!'),Q==null)throw new Rl.FST_ERR_HOOK_INVALID_HANDLER(L,Q);if(L==="onSend"||L==="preSerialization"||L==="onError"||L==="preParsing"){if(Q.constructor.name==="AsyncFunction"&&Q.length===4)throw new Rl.FST_ERR_HOOK_INVALID_ASYNC_HANDLER}else if(L==="onReady"||L==="onListen"){if(Q.constructor.name==="AsyncFunction"&&Q.length!==0)throw new Rl.FST_ERR_HOOK_INVALID_ASYNC_HANDLER}else if(L==="onRequestAbort"){if(Q.constructor.name==="AsyncFunction"&&Q.length!==1)throw new Rl.FST_ERR_HOOK_INVALID_ASYNC_HANDLER}else if(Q.constructor.name==="AsyncFunction"&&Q.length===3)throw new Rl.FST_ERR_HOOK_INVALID_ASYNC_HANDLER;return L==="onClose"?this.onClose(Q):L==="onReady"||L==="onListen"||L==="onRoute"?this[WN].add(L,Q):this.after((J,K)=>{G.call(this,L,Q),K(J)}),this;function G(J,K){this[WN].add(J,K),this[YN].forEach(W=>G.call(W,J,K))}}function H(L){return O('Cannot call "addSchema"!'),this[Gc].add(L),this[YN].forEach(Q=>Q.addSchema(L)),this}function V(L,Q){if(L.code==="ECONNRESET"||Q.destroyed)return;let G,J,K,W;L.code==="ERR_HTTP_REQUEST_TIMEOUT"?(J="408",K=KN.STATUS_CODES[J],G=`{"error":"${K}","message":"Client Timeout","statusCode":408}`,W="timeout"):L.code==="HPE_HEADER_OVERFLOW"?(J="431",K=KN.STATUS_CODES[J],G=`{"error":"${K}","message":"Exceeded maximum allowed HTTP header size","statusCode":431}`,W="header_overflow"):(J="400",K=KN.STATUS_CODES[J],G=`{"error":"${K}","message":"Client Error","statusCode":400}`,W="error"),this.log.trace({err:L},`client ${W}`),Q.writable&&Q.write(`HTTP/1.1 ${J} ${K}\r
Content-Length: ${G.length}\r
Content-Type: application/json\r
\r
${G}`),Q.destroy(L)}function X(L,Q){L.headers["accept-version"]!==void 0&&(L.headers[z7e]=L.headers["accept-version"],L.headers["accept-version"]=void 0),m.router.lookup(L,Q)}function U(L,Q,G){if(c){let K=QZ(N.server,Q),W=MZ(N,u,Q,K),Z=new hx(K,null,Q,null,W,N),ee=new Hm(G,Z,W);return a===!1&&W.info({req:Z},"incoming request"),c(new dqe(L),Z,ee)}let J=`{"error":"Bad Request","code":"FST_ERR_BAD_URL","message":"'${L}' is not a valid url component","statusCode":400}`;G.writeHead(400,{"Content-Type":"application/json","Content-Length":J.length}),G.end(J)}function re(L,Q,G){if(L!==!1)return function(K){if(K){if(c){let Z=QZ(N.server,Q),ee=MZ(N,u,Q,Z),oe=new hx(Z,null,Q,null,ee,N),he=new Hm(G,oe,ee);return a===!1&&ee.info({req:oe},"incoming request"),c(new lqe,oe,he)}let W='{"error":"Internal Server Error","message":"Unexpected error from async constraint","statusCode":500}';G.writeHead(500,{"Content-Type":"application/json","Content-Length":W.length}),G.end(W)}}}function se(L,Q){return O('Cannot call "setNotFoundHandler"!'),m.setNotFoundHandler.call(this,L,Q,B,p.routeHandler),this}function te(L){return O('Cannot call "setValidatorCompiler"!'),this[Gc].setValidatorCompiler(L),this}function ae(L){return O('Cannot call "setSchemaErrorFormatter"!'),zZ(L),this[XN]=L.bind(this),this}function xe(L){return O('Cannot call "setSerializerCompiler"!'),this[Gc].setSerializerCompiler(L),this}function _e(L){O('Cannot call "setSchemaController"!');let Q=this[Gc],G=$Z.buildSchemaController(Q,Object.assign({},Q.opts,L));return this[Gc]=G,this.getSchema=G.getSchema.bind(G),this.getSchemas=G.getSchemas.bind(G),this}function Ce(L){return O('Cannot call "setReplySerializer"!'),this[OZ]=L,this}function ve(L){return O('Cannot call "setErrorHandler"!'),this[px]=HZ(this[px],L.bind(this)),this}function Ae(L){return O('Cannot call "setChildLoggerFactory"!'),this[ek]=L,this}function $(L={}){return L.includeMeta=L.includeHooks?L.includeMeta?rk.concat(L.includeMeta):rk:L.includeMeta,p.printRoutes(L)}function M(L,{rewriteUrl:Q,logger:G}){let J;return function(W,Z){if(J===void 0&&(J=L.isAsyncConstraint()),Q){W.originalUrl=W.url;let ee=Q.call(S,W);if(typeof ee=="string")W.url=ee;else{let oe=new xqe(W.url,typeof ee);W.destroy(oe)}}L.routing(W,Z,re(J,W,Z))}}function q(L){return O('Cannot call "setGenReqId"!'),this[tk]=UZ(this[JN].requestIdHeader,L),this}}mx.errorCodes=Rl;function zZ(e){if(typeof e!="function")throw new jZ(typeof e);if(e.constructor.name==="AsyncFunction")throw new jZ("AsyncFunction")}gx.exports=mx;gx.exports.fastify=mx;gx.exports.default=mx});var oee=C((Uht,aee)=>{var iee=require("stream").Stream,nje=require("util");aee.exports=ta;function ta(){this.source=null,this.dataSize=0,this.maxDataSize=1024*1024,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}nje.inherits(ta,iee);ta.create=function(e,t){var r=new this;t=t||{};for(var n in t)r[n]=t[n];r.source=e;var s=e.emit;return e.emit=function(){return r._handleEmit(arguments),s.apply(e,arguments)},e.on("error",function(){}),r.pauseStream&&e.pause(),r};Object.defineProperty(ta.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}});ta.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)};ta.prototype.resume=function(){this._released||this.release(),this.source.resume()};ta.prototype.pause=function(){this.source.pause()};ta.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(e){this.emit.apply(this,e)}.bind(this)),this._bufferedEvents=[]};ta.prototype.pipe=function(){var e=iee.prototype.pipe.apply(this,arguments);return this.resume(),e};ta.prototype._handleEmit=function(e){if(this._released){this.emit.apply(this,e);return}e[0]==="data"&&(this.dataSize+=e[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(e)};ta.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(e))}}});var dee=C((qht,lee)=>{var sje=require("util"),uee=require("stream").Stream,cee=oee();lee.exports=kr;function kr(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2*1024*1024,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}sje.inherits(kr,uee);kr.create=function(e){var t=new this;e=e||{};for(var r in e)t[r]=e[r];return t};kr.isStreamLike=function(e){return typeof e!="function"&&typeof e!="string"&&typeof e!="boolean"&&typeof e!="number"&&!Buffer.isBuffer(e)};kr.prototype.append=function(e){var t=kr.isStreamLike(e);if(t){if(!(e instanceof cee)){var r=cee.create(e,{maxDataSize:1/0,pauseStream:this.pauseStreams});e.on("data",this._checkDataSize.bind(this)),e=r}this._handleErrors(e),this.pauseStreams&&e.pause()}return this._streams.push(e),this};kr.prototype.pipe=function(e,t){return uee.prototype.pipe.call(this,e,t),this.resume(),e};kr.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}};kr.prototype._realGetNext=function(){var e=this._streams.shift();if(typeof e>"u"){this.end();return}if(typeof e!="function"){this._pipeNext(e);return}var t=e;t(function(r){var n=kr.isStreamLike(r);n&&(r.on("data",this._checkDataSize.bind(this)),this._handleErrors(r)),this._pipeNext(r)}.bind(this))};kr.prototype._pipeNext=function(e){this._currentStream=e;var t=kr.isStreamLike(e);if(t){e.on("end",this._getNext.bind(this)),e.pipe(this,{end:!1});return}var r=e;this.write(r),this._getNext()};kr.prototype._handleErrors=function(e){var t=this;e.on("error",function(r){t._emitError(r)})};kr.prototype.write=function(e){this.emit("data",e)};kr.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&typeof this._currentStream.pause=="function"&&this._currentStream.pause(),this.emit("pause"))};kr.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&typeof this._currentStream.resume=="function"&&this._currentStream.resume(),this.emit("resume")};kr.prototype.end=function(){this._reset(),this.emit("end")};kr.prototype.destroy=function(){this._reset(),this.emit("close")};kr.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null};kr.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(e))}};kr.prototype._updateDataSize=function(){this.dataSize=0;var e=this;this._streams.forEach(function(t){t.dataSize&&(e.dataSize+=t.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)};kr.prototype._emitError=function(e){this._reset(),this.emit("error",e)}});var fee=C((jht,ije)=>{ije.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var hee=C((Hht,pee)=>{pee.exports=fee()});var Aee=C(Os=>{"use strict";var xx=hee(),aje=require("path").extname,mee=/^\s*([^;\s]*)(?:;|\s|$)/,oje=/^text\//i;Os.charset=gee;Os.charsets={lookup:gee};Os.contentType=cje;Os.extension=uje;Os.extensions=Object.create(null);Os.lookup=lje;Os.types=Object.create(null);dje(Os.extensions,Os.types);function gee(e){if(!e||typeof e!="string")return!1;var t=mee.exec(e),r=t&&xx[t[1].toLowerCase()];return r&&r.charset?r.charset:t&&oje.test(t[1])?"UTF-8":!1}function cje(e){if(!e||typeof e!="string")return!1;var t=e.indexOf("/")===-1?Os.lookup(e):e;if(!t)return!1;if(t.indexOf("charset")===-1){var r=Os.charset(t);r&&(t+="; charset="+r.toLowerCase())}return t}function uje(e){if(!e||typeof e!="string")return!1;var t=mee.exec(e),r=t&&Os.extensions[t[1].toLowerCase()];return!r||!r.length?!1:r[0]}function lje(e){if(!e||typeof e!="string")return!1;var t=aje("x."+e).toLowerCase().substr(1);return t&&Os.types[t]||!1}function dje(e,t){var r=["nginx","apache",void 0,"iana"];Object.keys(xx).forEach(function(s){var a=xx[s],o=a.extensions;if(!(!o||!o.length)){e[s]=o;for(var c=0;c<o.length;c++){var u=o[c];if(t[u]){var l=r.indexOf(xx[t[u]].source),d=r.indexOf(a.source);if(t[u]!=="application/octet-stream"&&(l>d||l===d&&t[u].substr(0,12)==="application/"))continue}t[u]=s}}})}});var bee=C((Ght,yee)=>{yee.exports=fje;function fje(e){var t=typeof setImmediate=="function"?setImmediate:typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick:null;t?t(e):setTimeout(e,0)}});var ak=C((Vht,xee)=>{var Eee=bee();xee.exports=pje;function pje(e){var t=!1;return Eee(function(){t=!0}),function(n,s){t?e(n,s):Eee(function(){e(n,s)})}}});var ok=C((Kht,vee)=>{vee.exports=hje;function hje(e){Object.keys(e.jobs).forEach(mje.bind(e)),e.jobs={}}function mje(e){typeof this.jobs[e]=="function"&&this.jobs[e]()}});var ck=C((Yht,Iee)=>{var _ee=ak(),gje=ok();Iee.exports=Aje;function Aje(e,t,r,n){var s=r.keyedList?r.keyedList[r.index]:r.index;r.jobs[s]=yje(t,s,e[s],function(a,o){s in r.jobs&&(delete r.jobs[s],a?gje(r):r.results[s]=o,n(a,r.results))})}function yje(e,t,r,n){var s;return e.length==2?s=e(r,_ee(n)):s=e(r,t,_ee(n)),s}});var uk=C((Wht,Cee)=>{Cee.exports=bje;function bje(e,t){var r=!Array.isArray(e),n={index:0,keyedList:r||t?Object.keys(e):null,jobs:{},results:r?{}:[],size:r?Object.keys(e).length:e.length};return t&&n.keyedList.sort(r?t:function(s,a){return t(e[s],e[a])}),n}});var lk=C((Jht,wee)=>{var Eje=ok(),xje=ak();wee.exports=vje;function vje(e){Object.keys(this.jobs).length&&(this.index=this.size,Eje(this),xje(e)(null,this.results))}});var Tee=C((Xht,See)=>{var _je=ck(),Ije=uk(),Cje=lk();See.exports=wje;function wje(e,t,r){for(var n=Ije(e);n.index<(n.keyedList||e).length;)_je(e,t,n,function(s,a){if(s){r(s,a);return}if(Object.keys(n.jobs).length===0){r(null,n.results);return}}),n.index++;return Cje.bind(n,r)}});var dk=C((Zht,vx)=>{var Bee=ck(),Sje=uk(),Tje=lk();vx.exports=Bje;vx.exports.ascending=Ree;vx.exports.descending=Rje;function Bje(e,t,r,n){var s=Sje(e,r);return Bee(e,t,s,function a(o,c){if(o){n(o,c);return}if(s.index++,s.index<(s.keyedList||e).length){Bee(e,t,s,a);return}n(null,s.results)}),Tje.bind(s,n)}function Ree(e,t){return e<t?-1:e>t?1:0}function Rje(e,t){return-1*Ree(e,t)}});var kee=C((emt,Nee)=>{var Nje=dk();Nee.exports=kje;function kje(e,t,r){return Nje(e,t,null,r)}});var Pee=C((tmt,Dee)=>{Dee.exports={parallel:Tee(),serial:kee(),serialOrdered:dk()}});var fk=C((rmt,Oee)=>{"use strict";Oee.exports=Object});var Lee=C((nmt,$ee)=>{"use strict";$ee.exports=Error});var Fee=C((smt,Mee)=>{"use strict";Mee.exports=EvalError});var Uee=C((imt,Qee)=>{"use strict";Qee.exports=RangeError});var jee=C((amt,qee)=>{"use strict";qee.exports=ReferenceError});var zee=C((omt,Hee)=>{"use strict";Hee.exports=SyntaxError});var Vc=C((cmt,Gee)=>{"use strict";Gee.exports=TypeError});var Kee=C((umt,Vee)=>{"use strict";Vee.exports=URIError});var Wee=C((lmt,Yee)=>{"use strict";Yee.exports=Math.abs});var Xee=C((dmt,Jee)=>{"use strict";Jee.exports=Math.floor});var ete=C((fmt,Zee)=>{"use strict";Zee.exports=Math.max});var rte=C((pmt,tte)=>{"use strict";tte.exports=Math.min});var ste=C((hmt,nte)=>{"use strict";nte.exports=Math.pow});var ate=C((mmt,ite)=>{"use strict";ite.exports=Math.round});var cte=C((gmt,ote)=>{"use strict";ote.exports=Number.isNaN||function(t){return t!==t}});var lte=C((Amt,ute)=>{"use strict";var Dje=cte();ute.exports=function(t){return Dje(t)||t===0?t:t<0?-1:1}});var fte=C((ymt,dte)=>{"use strict";dte.exports=Object.getOwnPropertyDescriptor});var pk=C((bmt,pte)=>{"use strict";var _x=fte();if(_x)try{_x([],"length")}catch{_x=null}pte.exports=_x});var mte=C((Emt,hte)=>{"use strict";var Ix=Object.defineProperty||!1;if(Ix)try{Ix({},"a",{value:1})}catch{Ix=!1}hte.exports=Ix});var hk=C((xmt,gte)=>{"use strict";gte.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;t[r]=s;for(var a in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(t,r);if(c.value!==s||c.enumerable!==!0)return!1}return!0}});var bte=C((vmt,yte)=>{"use strict";var Ate=typeof Symbol<"u"&&Symbol,Pje=hk();yte.exports=function(){return typeof Ate!="function"||typeof Symbol!="function"||typeof Ate("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Pje()}});var mk=C((_mt,Ete)=>{"use strict";Ete.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var gk=C((Imt,xte)=>{"use strict";var Oje=fk();xte.exports=Oje.getPrototypeOf||null});var Ite=C((Cmt,_te)=>{"use strict";var $je="Function.prototype.bind called on incompatible ",Lje=Object.prototype.toString,Mje=Math.max,Fje="[object Function]",vte=function(t,r){for(var n=[],s=0;s<t.length;s+=1)n[s]=t[s];for(var a=0;a<r.length;a+=1)n[a+t.length]=r[a];return n},Qje=function(t,r){for(var n=[],s=r||0,a=0;s<t.length;s+=1,a+=1)n[a]=t[s];return n},Uje=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r};_te.exports=function(t){var r=this;if(typeof r!="function"||Lje.apply(r)!==Fje)throw new TypeError($je+r);for(var n=Qje(arguments,1),s,a=function(){if(this instanceof s){var d=r.apply(this,vte(n,arguments));return Object(d)===d?d:this}return r.apply(t,vte(n,arguments))},o=Mje(0,r.length-n.length),c=[],u=0;u<o;u++)c[u]="$"+u;if(s=Function("binder","return function ("+Uje(c,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var l=function(){};l.prototype=r.prototype,s.prototype=new l,l.prototype=null}return s}});var Km=C((wmt,Cte)=>{"use strict";var qje=Ite();Cte.exports=Function.prototype.bind||qje});var Cx=C((Smt,wte)=>{"use strict";wte.exports=Function.prototype.call});var Ak=C((Tmt,Ste)=>{"use strict";Ste.exports=Function.prototype.apply});var Bte=C((Bmt,Tte)=>{"use strict";Tte.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var Nte=C((Rmt,Rte)=>{"use strict";var jje=Km(),Hje=Ak(),zje=Cx(),Gje=Bte();Rte.exports=Gje||jje.call(zje,Hje)});var yk=C((Nmt,kte)=>{"use strict";var Vje=Km(),Kje=Vc(),Yje=Cx(),Wje=Nte();kte.exports=function(t){if(t.length<1||typeof t[0]!="function")throw new Kje("a function is required");return Wje(Vje,Yje,t)}});var Mte=C((kmt,Lte)=>{"use strict";var Jje=yk(),Dte=pk(),Ote;try{Ote=[].__proto__===Array.prototype}catch(e){if(!e||typeof e!="object"||!("code"in e)||e.code!=="ERR_PROTO_ACCESS")throw e}var bk=!!Ote&&Dte&&Dte(Object.prototype,"__proto__"),$te=Object,Pte=$te.getPrototypeOf;Lte.exports=bk&&typeof bk.get=="function"?Jje([bk.get]):typeof Pte=="function"?function(t){return Pte(t==null?t:$te(t))}:!1});var jte=C((Dmt,qte)=>{"use strict";var Fte=mk(),Qte=gk(),Ute=Mte();qte.exports=Fte?function(t){return Fte(t)}:Qte?function(t){if(!t||typeof t!="object"&&typeof t!="function")throw new TypeError("getProto: not an object");return Qte(t)}:Ute?function(t){return Ute(t)}:null});var wx=C((Pmt,Hte)=>{"use strict";var Xje=Function.prototype.call,Zje=Object.prototype.hasOwnProperty,eHe=Km();Hte.exports=eHe.call(Xje,Zje)});var Xm=C((Omt,Wte)=>{"use strict";var xt,tHe=fk(),rHe=Lee(),nHe=Fee(),sHe=Uee(),iHe=jee(),ap=zee(),ip=Vc(),aHe=Kee(),oHe=Wee(),cHe=Xee(),uHe=ete(),lHe=rte(),dHe=ste(),fHe=ate(),pHe=lte(),Kte=Function,Ek=function(e){try{return Kte('"use strict"; return ('+e+").constructor;")()}catch{}},Ym=pk(),hHe=mte(),xk=function(){throw new ip},mHe=Ym?function(){try{return arguments.callee,xk}catch{try{return Ym(arguments,"callee").get}catch{return xk}}}():xk,np=bte()(),ln=jte(),gHe=gk(),AHe=mk(),Yte=Ak(),Wm=Cx(),sp={},yHe=typeof Uint8Array>"u"||!ln?xt:ln(Uint8Array),Nl={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?xt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?xt:ArrayBuffer,"%ArrayIteratorPrototype%":np&&ln?ln([][Symbol.iterator]()):xt,"%AsyncFromSyncIteratorPrototype%":xt,"%AsyncFunction%":sp,"%AsyncGenerator%":sp,"%AsyncGeneratorFunction%":sp,"%AsyncIteratorPrototype%":sp,"%Atomics%":typeof Atomics>"u"?xt:Atomics,"%BigInt%":typeof BigInt>"u"?xt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?xt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?xt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?xt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":rHe,"%eval%":eval,"%EvalError%":nHe,"%Float16Array%":typeof Float16Array>"u"?xt:Float16Array,"%Float32Array%":typeof Float32Array>"u"?xt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?xt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?xt:FinalizationRegistry,"%Function%":Kte,"%GeneratorFunction%":sp,"%Int8Array%":typeof Int8Array>"u"?xt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?xt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?xt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":np&&ln?ln(ln([][Symbol.iterator]())):xt,"%JSON%":typeof JSON=="object"?JSON:xt,"%Map%":typeof Map>"u"?xt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!np||!ln?xt:ln(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":tHe,"%Object.getOwnPropertyDescriptor%":Ym,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?xt:Promise,"%Proxy%":typeof Proxy>"u"?xt:Proxy,"%RangeError%":sHe,"%ReferenceError%":iHe,"%Reflect%":typeof Reflect>"u"?xt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?xt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!np||!ln?xt:ln(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?xt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":np&&ln?ln(""[Symbol.iterator]()):xt,"%Symbol%":np?Symbol:xt,"%SyntaxError%":ap,"%ThrowTypeError%":mHe,"%TypedArray%":yHe,"%TypeError%":ip,"%Uint8Array%":typeof Uint8Array>"u"?xt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?xt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?xt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?xt:Uint32Array,"%URIError%":aHe,"%WeakMap%":typeof WeakMap>"u"?xt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?xt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?xt:WeakSet,"%Function.prototype.call%":Wm,"%Function.prototype.apply%":Yte,"%Object.defineProperty%":hHe,"%Object.getPrototypeOf%":gHe,"%Math.abs%":oHe,"%Math.floor%":cHe,"%Math.max%":uHe,"%Math.min%":lHe,"%Math.pow%":dHe,"%Math.round%":fHe,"%Math.sign%":pHe,"%Reflect.getPrototypeOf%":AHe};if(ln)try{null.error}catch(e){zte=ln(ln(e)),Nl["%Error.prototype%"]=zte}var zte,bHe=function e(t){var r;if(t==="%AsyncFunction%")r=Ek("async function () {}");else if(t==="%GeneratorFunction%")r=Ek("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=Ek("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var s=e("%AsyncGenerator%");s&&ln&&(r=ln(s.prototype))}return Nl[t]=r,r},Gte={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Jm=Km(),Sx=wx(),EHe=Jm.call(Wm,Array.prototype.concat),xHe=Jm.call(Yte,Array.prototype.splice),Vte=Jm.call(Wm,String.prototype.replace),Tx=Jm.call(Wm,String.prototype.slice),vHe=Jm.call(Wm,RegExp.prototype.exec),_He=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,IHe=/\\(\\)?/g,CHe=function(t){var r=Tx(t,0,1),n=Tx(t,-1);if(r==="%"&&n!=="%")throw new ap("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new ap("invalid intrinsic syntax, expected opening `%`");var s=[];return Vte(t,_He,function(a,o,c,u){s[s.length]=c?Vte(u,IHe,"$1"):o||a}),s},wHe=function(t,r){var n=t,s;if(Sx(Gte,n)&&(s=Gte[n],n="%"+s[0]+"%"),Sx(Nl,n)){var a=Nl[n];if(a===sp&&(a=bHe(n)),typeof a>"u"&&!r)throw new ip("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:s,name:n,value:a}}throw new ap("intrinsic "+t+" does not exist!")};Wte.exports=function(t,r){if(typeof t!="string"||t.length===0)throw new ip("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new ip('"allowMissing" argument must be a boolean');if(vHe(/^%?[^%]*%?$/,t)===null)throw new ap("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=CHe(t),s=n.length>0?n[0]:"",a=wHe("%"+s+"%",r),o=a.name,c=a.value,u=!1,l=a.alias;l&&(s=l[0],xHe(n,EHe([0,1],l)));for(var d=1,f=!0;d<n.length;d+=1){var p=n[d],m=Tx(p,0,1),h=Tx(p,-1);if((m==='"'||m==="'"||m==="`"||h==='"'||h==="'"||h==="`")&&m!==h)throw new ap("property names with quotes must have matching quotes");if((p==="constructor"||!f)&&(u=!0),s+="."+p,o="%"+s+"%",Sx(Nl,o))c=Nl[o];else if(c!=null){if(!(p in c)){if(!r)throw new ip("base intrinsic for "+t+" exists, but the property is not available.");return}if(Ym&&d+1>=n.length){var g=Ym(c,p);f=!!g,f&&"get"in g&&!("originalValue"in g.get)?c=g.get:c=c[p]}else f=Sx(c,p),c=c[p];f&&!u&&(Nl[o]=c)}}return c}});var Xte=C(($mt,Jte)=>{"use strict";var SHe=hk();Jte.exports=function(){return SHe()&&!!Symbol.toStringTag}});var tre=C((Lmt,ere)=>{"use strict";var THe=Xm(),Zte=THe("%Object.defineProperty%",!0),BHe=Xte()(),RHe=wx(),NHe=Vc(),Bx=BHe?Symbol.toStringTag:null;ere.exports=function(t,r){var n=arguments.length>2&&!!arguments[2]&&arguments[2].force,s=arguments.length>2&&!!arguments[2]&&arguments[2].nonConfigurable;if(typeof n<"u"&&typeof n!="boolean"||typeof s<"u"&&typeof s!="boolean")throw new NHe("if provided, the `overrideIfSet` and `nonConfigurable` options must be booleans");Bx&&(n||!RHe(t,Bx))&&(Zte?Zte(t,Bx,{configurable:!s,enumerable:!1,value:r,writable:!1}):t[Bx]=r)}});var nre=C((Mmt,rre)=>{"use strict";rre.exports=function(e,t){return Object.keys(t).forEach(function(r){e[r]=e[r]||t[r]}),e}});var ire=C((Fmt,sre)=>{"use strict";var Ck=dee(),kHe=require("util"),vk=require("path"),DHe=require("http"),PHe=require("https"),OHe=require("url").parse,$He=require("fs"),LHe=require("stream").Stream,MHe=require("crypto"),_k=Aee(),FHe=Pee(),QHe=tre(),Kc=wx(),Ik=nre();function kt(e){if(!(this instanceof kt))return new kt(e);this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],Ck.call(this),e=e||{};for(var t in e)this[t]=e[t]}kHe.inherits(kt,Ck);kt.LINE_BREAK=`\r
`;kt.DEFAULT_CONTENT_TYPE="application/octet-stream";kt.prototype.append=function(e,t,r){r=r||{},typeof r=="string"&&(r={filename:r});var n=Ck.prototype.append.bind(this);if((typeof t=="number"||t==null)&&(t=String(t)),Array.isArray(t)){this._error(new Error("Arrays are not supported."));return}var s=this._multiPartHeader(e,t,r),a=this._multiPartFooter();n(s),n(t),n(a),this._trackLength(s,t,r)};kt.prototype._trackLength=function(e,t,r){var n=0;r.knownLength!=null?n+=Number(r.knownLength):Buffer.isBuffer(t)?n=t.length:typeof t=="string"&&(n=Buffer.byteLength(t)),this._valueLength+=n,this._overheadLength+=Buffer.byteLength(e)+kt.LINE_BREAK.length,!(!t||!t.path&&!(t.readable&&Kc(t,"httpVersion"))&&!(t instanceof LHe))&&(r.knownLength||this._valuesToMeasure.push(t))};kt.prototype._lengthRetriever=function(e,t){Kc(e,"fd")?e.end!=null&&e.end!=1/0&&e.start!=null?t(null,e.end+1-(e.start?e.start:0)):$He.stat(e.path,function(r,n){if(r){t(r);return}var s=n.size-(e.start?e.start:0);t(null,s)}):Kc(e,"httpVersion")?t(null,Number(e.headers["content-length"])):Kc(e,"httpModule")?(e.on("response",function(r){e.pause(),t(null,Number(r.headers["content-length"]))}),e.resume()):t("Unknown stream")};kt.prototype._multiPartHeader=function(e,t,r){if(typeof r.header=="string")return r.header;var n=this._getContentDisposition(t,r),s=this._getContentType(t,r),a="",o={"Content-Disposition":["form-data",'name="'+e+'"'].concat(n||[]),"Content-Type":[].concat(s||[])};typeof r.header=="object"&&Ik(o,r.header);var c;for(var u in o)if(Kc(o,u)){if(c=o[u],c==null)continue;Array.isArray(c)||(c=[c]),c.length&&(a+=u+": "+c.join("; ")+kt.LINE_BREAK)}return"--"+this.getBoundary()+kt.LINE_BREAK+a+kt.LINE_BREAK};kt.prototype._getContentDisposition=function(e,t){var r;if(typeof t.filepath=="string"?r=vk.normalize(t.filepath).replace(/\\/g,"/"):t.filename||e&&(e.name||e.path)?r=vk.basename(t.filename||e&&(e.name||e.path)):e&&e.readable&&Kc(e,"httpVersion")&&(r=vk.basename(e.client._httpMessage.path||"")),r)return'filename="'+r+'"'};kt.prototype._getContentType=function(e,t){var r=t.contentType;return!r&&e&&e.name&&(r=_k.lookup(e.name)),!r&&e&&e.path&&(r=_k.lookup(e.path)),!r&&e&&e.readable&&Kc(e,"httpVersion")&&(r=e.headers["content-type"]),!r&&(t.filepath||t.filename)&&(r=_k.lookup(t.filepath||t.filename)),!r&&e&&typeof e=="object"&&(r=kt.DEFAULT_CONTENT_TYPE),r};kt.prototype._multiPartFooter=function(){return function(e){var t=kt.LINE_BREAK,r=this._streams.length===0;r&&(t+=this._lastBoundary()),e(t)}.bind(this)};kt.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+kt.LINE_BREAK};kt.prototype.getHeaders=function(e){var t,r={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(t in e)Kc(e,t)&&(r[t.toLowerCase()]=e[t]);return r};kt.prototype.setBoundary=function(e){if(typeof e!="string")throw new TypeError("FormData boundary must be a string");this._boundary=e};kt.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary};kt.prototype.getBuffer=function(){for(var e=new Buffer.alloc(0),t=this.getBoundary(),r=0,n=this._streams.length;r<n;r++)typeof this._streams[r]!="function"&&(Buffer.isBuffer(this._streams[r])?e=Buffer.concat([e,this._streams[r]]):e=Buffer.concat([e,Buffer.from(this._streams[r])]),(typeof this._streams[r]!="string"||this._streams[r].substring(2,t.length+2)!==t)&&(e=Buffer.concat([e,Buffer.from(kt.LINE_BREAK)])));return Buffer.concat([e,Buffer.from(this._lastBoundary())])};kt.prototype._generateBoundary=function(){this._boundary="--------------------------"+MHe.randomBytes(12).toString("hex")};kt.prototype.getLengthSync=function(){var e=this._overheadLength+this._valueLength;return this._streams.length&&(e+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),e};kt.prototype.hasKnownLength=function(){var e=!0;return this._valuesToMeasure.length&&(e=!1),e};kt.prototype.getLength=function(e){var t=this._overheadLength+this._valueLength;if(this._streams.length&&(t+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(e.bind(this,null,t));return}FHe.parallel(this._valuesToMeasure,this._lengthRetriever,function(r,n){if(r){e(r);return}n.forEach(function(s){t+=s}),e(null,t)})};kt.prototype.submit=function(e,t){var r,n,s={method:"post"};return typeof e=="string"?(e=OHe(e),n=Ik({port:e.port,path:e.pathname,host:e.hostname,protocol:e.protocol},s)):(n=Ik(e,s),n.port||(n.port=n.protocol==="https:"?443:80)),n.headers=this.getHeaders(e.headers),n.protocol==="https:"?r=PHe.request(n):r=DHe.request(n),this.getLength(function(a,o){if(a&&a!=="Unknown stream"){this._error(a);return}if(o&&r.setHeader("Content-Length",o),this.pipe(r),t){var c,u=function(l,d){return r.removeListener("error",u),r.removeListener("response",c),t.call(this,l,d)};c=u.bind(this,null),r.on("error",u),r.on("response",c)}}.bind(this)),r};kt.prototype._error=function(e){this.error||(this.error=e,this.pause(),this.emit("error",e))};kt.prototype.toString=function(){return"[object FormData]"};QHe(kt.prototype,"FormData");sre.exports=kt});var xre=C(Ere=>{"use strict";var rze=require("url").parse,nze={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},sze=String.prototype.endsWith||function(e){return e.length<=this.length&&this.indexOf(e,this.length-e.length)!==-1};function ize(e){var t=typeof e=="string"?rze(e):e||{},r=t.protocol,n=t.host,s=t.port;if(typeof n!="string"||!n||typeof r!="string"||(r=r.split(":",1)[0],n=n.replace(/:\d*$/,""),s=parseInt(s)||nze[r]||0,!aze(n,s)))return"";var a=lp("npm_config_"+r+"_proxy")||lp(r+"_proxy")||lp("npm_config_proxy")||lp("all_proxy");return a&&a.indexOf("://")===-1&&(a=r+"://"+a),a}function aze(e,t){var r=(lp("npm_config_no_proxy")||lp("no_proxy")).toLowerCase();return r?r==="*"?!1:r.split(/[,\s]/).every(function(n){if(!n)return!0;var s=n.match(/^(.+):(\d+)$/),a=s?s[1]:n,o=s?parseInt(s[2]):0;return o&&o!==t?!0:/^[.*]/.test(a)?(a.charAt(0)==="*"&&(a=a.slice(1)),!sze.call(e,a)):e!==a}):!0}function lp(e){return process.env[e.toLowerCase()]||process.env[e.toUpperCase()]||""}Ere.getProxyForUrl=ize});var _re=C((Qgt,vre)=>{var dp=1e3,fp=dp*60,pp=fp*60,Pl=pp*24,oze=Pl*7,cze=Pl*365.25;vre.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return uze(e);if(r==="number"&&isFinite(e))return t.long?dze(e):lze(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function uze(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*cze;case"weeks":case"week":case"w":return r*oze;case"days":case"day":case"d":return r*Pl;case"hours":case"hour":case"hrs":case"hr":case"h":return r*pp;case"minutes":case"minute":case"mins":case"min":case"m":return r*fp;case"seconds":case"second":case"secs":case"sec":case"s":return r*dp;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function lze(e){var t=Math.abs(e);return t>=Pl?Math.round(e/Pl)+"d":t>=pp?Math.round(e/pp)+"h":t>=fp?Math.round(e/fp)+"m":t>=dp?Math.round(e/dp)+"s":e+"ms"}function dze(e){var t=Math.abs(e);return t>=Pl?Dx(e,t,Pl,"day"):t>=pp?Dx(e,t,pp,"hour"):t>=fp?Dx(e,t,fp,"minute"):t>=dp?Dx(e,t,dp,"second"):e+" ms"}function Dx(e,t,r,n){var s=t>=r*1.5;return Math.round(e/r)+" "+n+(s?"s":"")}});var Ok=C((Ugt,Ire)=>{function fze(e){r.debug=r,r.default=r,r.coerce=u,r.disable=o,r.enable=s,r.enabled=c,r.humanize=_re(),r.destroy=l,Object.keys(e).forEach(d=>{r[d]=e[d]}),r.names=[],r.skips=[],r.formatters={};function t(d){let f=0;for(let p=0;p<d.length;p++)f=(f<<5)-f+d.charCodeAt(p),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=t;function r(d){let f,p=null,m,h;function g(...A){if(!g.enabled)return;let y=g,v=Number(new Date),b=v-(f||v);y.diff=b,y.prev=f,y.curr=v,f=v,A[0]=r.coerce(A[0]),typeof A[0]!="string"&&A.unshift("%O");let E=0;A[0]=A[0].replace(/%([a-zA-Z%])/g,(w,S)=>{if(w==="%%")return"%";E++;let T=r.formatters[S];if(typeof T=="function"){let B=A[E];w=T.call(y,B),A.splice(E,1),E--}return w}),r.formatArgs.call(y,A),(y.log||r.log).apply(y,A)}return g.namespace=d,g.useColors=r.useColors(),g.color=r.selectColor(d),g.extend=n,g.destroy=r.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(m!==r.namespaces&&(m=r.namespaces,h=r.enabled(d)),h),set:A=>{p=A}}),typeof r.init=="function"&&r.init(g),g}function n(d,f){let p=r(this.namespace+(typeof f>"u"?":":f)+d);return p.log=this.log,p}function s(d){r.save(d),r.namespaces=d,r.names=[],r.skips=[];let f=(typeof d=="string"?d:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let p of f)p[0]==="-"?r.skips.push(p.slice(1)):r.names.push(p)}function a(d,f){let p=0,m=0,h=-1,g=0;for(;p<d.length;)if(m<f.length&&(f[m]===d[p]||f[m]==="*"))f[m]==="*"?(h=m,g=p,m++):(p++,m++);else if(h!==-1)m=h+1,g++,p=g;else return!1;for(;m<f.length&&f[m]==="*";)m++;return m===f.length}function o(){let d=[...r.names,...r.skips.map(f=>"-"+f)].join(",");return r.enable(""),d}function c(d){for(let f of r.skips)if(a(d,f))return!1;for(let f of r.names)if(a(d,f))return!0;return!1}function u(d){return d instanceof Error?d.stack||d.message:d}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Ire.exports=fze});var Cre=C(($s,Px)=>{$s.formatArgs=hze;$s.save=mze;$s.load=gze;$s.useColors=pze;$s.storage=Aze();$s.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();$s.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function pze(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function hze(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Px.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(r++,s==="%c"&&(n=r))}),e.splice(n,0,t)}$s.log=console.debug||console.log||(()=>{});function mze(e){try{e?$s.storage.setItem("debug",e):$s.storage.removeItem("debug")}catch{}}function gze(){let e;try{e=$s.storage.getItem("debug")||$s.storage.getItem("DEBUG")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function Aze(){try{return localStorage}catch{}}Px.exports=Ok()($s);var{formatters:yze}=Px.exports;yze.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var Sre=C((qgt,wre)=>{"use strict";wre.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),s=t.indexOf("--");return n!==-1&&(s===-1||n<s)}});var Rre=C((jgt,Bre)=>{"use strict";var bze=require("os"),Tre=require("tty"),Ii=Sre(),{env:dn}=process,Jc;Ii("no-color")||Ii("no-colors")||Ii("color=false")||Ii("color=never")?Jc=0:(Ii("color")||Ii("colors")||Ii("color=true")||Ii("color=always"))&&(Jc=1);"FORCE_COLOR"in dn&&(dn.FORCE_COLOR==="true"?Jc=1:dn.FORCE_COLOR==="false"?Jc=0:Jc=dn.FORCE_COLOR.length===0?1:Math.min(parseInt(dn.FORCE_COLOR,10),3));function $k(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function Lk(e,t){if(Jc===0)return 0;if(Ii("color=16m")||Ii("color=full")||Ii("color=truecolor"))return 3;if(Ii("color=256"))return 2;if(e&&!t&&Jc===void 0)return 0;let r=Jc||0;if(dn.TERM==="dumb")return r;if(process.platform==="win32"){let n=bze.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in dn)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in dn)||dn.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in dn)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(dn.TEAMCITY_VERSION)?1:0;if(dn.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in dn){let n=parseInt((dn.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(dn.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(dn.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(dn.TERM)||"COLORTERM"in dn?1:r}function Eze(e){let t=Lk(e,e&&e.isTTY);return $k(t)}Bre.exports={supportsColor:Eze,stdout:$k(Lk(!0,Tre.isatty(1))),stderr:$k(Lk(!0,Tre.isatty(2)))}});var kre=C((fn,$x)=>{var xze=require("tty"),Ox=require("util");fn.init=Tze;fn.log=Cze;fn.formatArgs=_ze;fn.save=wze;fn.load=Sze;fn.useColors=vze;fn.destroy=Ox.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");fn.colors=[6,2,3,4,5,1];try{let e=Rre();e&&(e.stderr||e).level>=2&&(fn.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}fn.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(s,a)=>a.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function vze(){return"colors"in fn.inspectOpts?!!fn.inspectOpts.colors:xze.isatty(process.stderr.fd)}function _ze(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,s="\x1B[3"+(n<8?n:"8;5;"+n),a=`  ${s};1m${t} \x1B[0m`;e[0]=a+e[0].split(`
`).join(`
`+a),e.push(s+"m+"+$x.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=Ize()+t+" "+e[0]}function Ize(){return fn.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Cze(...e){return process.stderr.write(Ox.formatWithOptions(fn.inspectOpts,...e)+`
`)}function wze(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function Sze(){return process.env.DEBUG}function Tze(e){e.inspectOpts={};let t=Object.keys(fn.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=fn.inspectOpts[t[r]]}$x.exports=Ok()(fn);var{formatters:Nre}=$x.exports;Nre.o=function(e){return this.inspectOpts.colors=this.useColors,Ox.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};Nre.O=function(e){return this.inspectOpts.colors=this.useColors,Ox.inspect(e,this.inspectOpts)}});var Dre=C((Hgt,Mk)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Mk.exports=Cre():Mk.exports=kre()});var Ore=C((zgt,Pre)=>{var rg;Pre.exports=function(){if(!rg){try{rg=Dre()("follow-redirects")}catch{}typeof rg!="function"&&(rg=function(){})}rg.apply(null,arguments)}});var Qre=C((Ggt,Wk)=>{var sg=require("url"),ng=sg.URL,Bze=require("http"),Rze=require("https"),jk=require("stream").Writable,Hk=require("assert"),$re=Ore();(function(){var t=typeof process<"u",r=typeof window<"u"&&typeof document<"u",n=$l(Error.captureStackTrace);!t&&(r||!n)&&console.warn("The follow-redirects package should be excluded from browser builds.")})();var zk=!1;try{Hk(new ng(""))}catch(e){zk=e.code==="ERR_INVALID_URL"}var Nze=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],Gk=["abort","aborted","connect","error","socket","timeout"],Vk=Object.create(null);Gk.forEach(function(e){Vk[e]=function(t,r,n){this._redirectable.emit(e,t,r,n)}});var Qk=ig("ERR_INVALID_URL","Invalid URL",TypeError),Uk=ig("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),kze=ig("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",Uk),Dze=ig("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),Pze=ig("ERR_STREAM_WRITE_AFTER_END","write after end"),Oze=jk.prototype.destroy||Mre;function Ls(e,t){jk.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var r=this;this._onNativeResponse=function(n){try{r._processResponse(n)}catch(s){r.emit("error",s instanceof Uk?s:new Uk({cause:s}))}},this._performRequest()}Ls.prototype=Object.create(jk.prototype);Ls.prototype.abort=function(){Yk(this._currentRequest),this._currentRequest.abort(),this.emit("abort")};Ls.prototype.destroy=function(e){return Yk(this._currentRequest,e),Oze.call(this,e),this};Ls.prototype.write=function(e,t,r){if(this._ending)throw new Pze;if(!Ol(e)&&!Mze(e))throw new TypeError("data should be a string, Buffer or Uint8Array");if($l(t)&&(r=t,t=null),e.length===0){r&&r();return}this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,r)):(this.emit("error",new Dze),this.abort())};Ls.prototype.end=function(e,t,r){if($l(e)?(r=e,e=t=null):$l(t)&&(r=t,t=null),!e)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var n=this,s=this._currentRequest;this.write(e,t,function(){n._ended=!0,s.end(null,null,r)}),this._ending=!0}};Ls.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)};Ls.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)};Ls.prototype.setTimeout=function(e,t){var r=this;function n(o){o.setTimeout(e),o.removeListener("timeout",o.destroy),o.addListener("timeout",o.destroy)}function s(o){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),a()},e),n(o)}function a(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",a),r.removeListener("error",a),r.removeListener("response",a),r.removeListener("close",a),t&&r.removeListener("timeout",t),r.socket||r._currentRequest.removeListener("socket",s)}return t&&this.on("timeout",t),this.socket?s(this.socket):this._currentRequest.once("socket",s),this.on("socket",n),this.on("abort",a),this.on("error",a),this.on("response",a),this.on("close",a),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(e){Ls.prototype[e]=function(t,r){return this._currentRequest[e](t,r)}});["aborted","connection","socket"].forEach(function(e){Object.defineProperty(Ls.prototype,e,{get:function(){return this._currentRequest[e]}})});Ls.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}};Ls.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(!t)throw new TypeError("Unsupported protocol "+e);if(this._options.agents){var r=e.slice(0,-1);this._options.agent=this._options.agents[r]}var n=this._currentRequest=t.request(this._options,this._onNativeResponse);n._redirectable=this;for(var s of Gk)n.on(s,Vk[s]);if(this._currentUrl=/^\//.test(this._options.path)?sg.format(this._options):this._options.path,this._isRedirect){var a=0,o=this,c=this._requestBodyBuffers;(function u(l){if(n===o._currentRequest)if(l)o.emit("error",l);else if(a<c.length){var d=c[a++];n.finished||n.write(d.data,d.encoding,u)}else o._ended&&n.end()})()}};Ls.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var r=e.headers.location;if(!r||this._options.followRedirects===!1||t<300||t>=400){e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[];return}if(Yk(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects)throw new kze;var n,s=this._options.beforeRedirect;s&&(n=Object.assign({Host:e.req.getHeader("host")},this._options.headers));var a=this._options.method;((t===301||t===302)&&this._options.method==="POST"||t===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],Fk(/^content-/i,this._options.headers));var o=Fk(/^host$/i,this._options.headers),c=Kk(this._currentUrl),u=o||c.host,l=/^\w+:/.test(r)?this._currentUrl:sg.format(Object.assign(c,{host:u})),d=$ze(r,l);if($re("redirecting to",d.href),this._isRedirect=!0,qk(d,this._options),(d.protocol!==c.protocol&&d.protocol!=="https:"||d.host!==u&&!Lze(d.host,u))&&Fk(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),$l(s)){var f={headers:e.headers,statusCode:t},p={url:l,method:a,headers:n};s(this._options,f,p),this._sanitizeOptions(this._options)}this._performRequest()};function Lre(e){var t={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(e).forEach(function(n){var s=n+":",a=r[s]=e[n],o=t[n]=Object.create(a);function c(l,d,f){return Fze(l)?l=qk(l):Ol(l)?l=qk(Kk(l)):(f=d,d=Fre(l),l={protocol:s}),$l(d)&&(f=d,d=null),d=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},l,d),d.nativeProtocols=r,!Ol(d.host)&&!Ol(d.hostname)&&(d.hostname="::1"),Hk.equal(d.protocol,s,"protocol mismatch"),$re("options",d),new Ls(d,f)}function u(l,d,f){var p=o.request(l,d,f);return p.end(),p}Object.defineProperties(o,{request:{value:c,configurable:!0,enumerable:!0,writable:!0},get:{value:u,configurable:!0,enumerable:!0,writable:!0}})}),t}function Mre(){}function Kk(e){var t;if(zk)t=new ng(e);else if(t=Fre(sg.parse(e)),!Ol(t.protocol))throw new Qk({input:e});return t}function $ze(e,t){return zk?new ng(e,t):Kk(sg.resolve(t,e))}function Fre(e){if(/^\[/.test(e.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(e.hostname))throw new Qk({input:e.href||e});if(/^\[/.test(e.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(e.host))throw new Qk({input:e.href||e});return e}function qk(e,t){var r=t||{};for(var n of Nze)r[n]=e[n];return r.hostname.startsWith("[")&&(r.hostname=r.hostname.slice(1,-1)),r.port!==""&&(r.port=Number(r.port)),r.path=r.search?r.pathname+r.search:r.pathname,r}function Fk(e,t){var r;for(var n in t)e.test(n)&&(r=t[n],delete t[n]);return r===null||typeof r>"u"?void 0:String(r).trim()}function ig(e,t,r){function n(s){$l(Error.captureStackTrace)&&Error.captureStackTrace(this,this.constructor),Object.assign(this,s||{}),this.code=e,this.message=this.cause?t+": "+this.cause.message:t}return n.prototype=new(r||Error),Object.defineProperties(n.prototype,{constructor:{value:n,enumerable:!1},name:{value:"Error ["+e+"]",enumerable:!1}}),n}function Yk(e,t){for(var r of Gk)e.removeListener(r,Vk[r]);e.on("error",Mre),e.destroy(t)}function Lze(e,t){Hk(Ol(e)&&Ol(t));var r=e.length-t.length-1;return r>0&&e[r]==="."&&e.endsWith(t)}function Ol(e){return typeof e=="string"||e instanceof String}function $l(e){return typeof e=="function"}function Mze(e){return typeof e=="object"&&"length"in e}function Fze(e){return ng&&e instanceof ng}Wk.exports=Lre({http:Bze,https:Rze});Wk.exports.wrap=Lre});var cv=C(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});qa.AttributeAction=qa.IgnoreCaseMode=qa.SelectorType=void 0;var aVe;(function(e){e.Attribute="attribute",e.Pseudo="pseudo",e.PseudoElement="pseudo-element",e.Tag="tag",e.Universal="universal",e.Adjacent="adjacent",e.Child="child",e.Descendant="descendant",e.Parent="parent",e.Sibling="sibling",e.ColumnCombinator="column-combinator"})(aVe=qa.SelectorType||(qa.SelectorType={}));qa.IgnoreCaseMode={Unknown:null,QuirksMode:"quirks",IgnoreCase:!0,CaseSensitive:!1};var oVe;(function(e){e.Any="any",e.Element="element",e.End="end",e.Equals="equals",e.Exists="exists",e.Hyphen="hyphen",e.Not="not",e.Start="start"})(oVe=qa.AttributeAction||(qa.AttributeAction={}))});var hse=C(vp=>{"use strict";Object.defineProperty(vp,"__esModule",{value:!0});vp.parse=vp.isTraversal=void 0;var Ht=cv(),lse=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,cVe=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,uVe=new Map([[126,Ht.AttributeAction.Element],[94,Ht.AttributeAction.Start],[36,Ht.AttributeAction.End],[42,Ht.AttributeAction.Any],[33,Ht.AttributeAction.Not],[124,Ht.AttributeAction.Hyphen]]),lVe=new Set(["has","not","matches","is","where","host","host-context"]);function fse(e){switch(e.type){case Ht.SelectorType.Adjacent:case Ht.SelectorType.Child:case Ht.SelectorType.Descendant:case Ht.SelectorType.Parent:case Ht.SelectorType.Sibling:case Ht.SelectorType.ColumnCombinator:return!0;default:return!1}}vp.isTraversal=fse;var dVe=new Set(["contains","icontains"]);function fVe(e,t,r){var n=parseInt(t,16)-65536;return n!==n||r?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,n&1023|56320)}function Eg(e){return e.replace(cVe,fVe)}function w6(e){return e===39||e===34}function dse(e){return e===32||e===9||e===10||e===12||e===13}function pVe(e){var t=[],r=pse(t,"".concat(e),0);if(r<e.length)throw new Error("Unmatched selector: ".concat(e.slice(r)));return t}vp.parse=pVe;function pse(e,t,r){var n=[];function s(P){var D=t.slice(r+P).match(lse);if(!D)throw new Error("Expected name, found ".concat(t.slice(r)));var j=D[0];return r+=P+j.length,Eg(j)}function a(P){for(r+=P;r<t.length&&dse(t.charCodeAt(r));)r++}function o(){r+=1;for(var P=r,D=1;D>0&&r<t.length;r++)t.charCodeAt(r)===40&&!c(r)?D++:t.charCodeAt(r)===41&&!c(r)&&D--;if(D)throw new Error("Parenthesis not matched");return Eg(t.slice(P,r-1))}function c(P){for(var D=0;t.charCodeAt(--P)===92;)D++;return(D&1)===1}function u(){if(n.length>0&&fse(n[n.length-1]))throw new Error("Did not expect successive traversals.")}function l(P){if(n.length>0&&n[n.length-1].type===Ht.SelectorType.Descendant){n[n.length-1].type=P;return}u(),n.push({type:P})}function d(P,D){n.push({type:Ht.SelectorType.Attribute,name:P,action:D,value:s(1),namespace:null,ignoreCase:"quirks"})}function f(){if(n.length&&n[n.length-1].type===Ht.SelectorType.Descendant&&n.pop(),n.length===0)throw new Error("Empty sub-selector");e.push(n)}if(a(0),t.length===r)return r;e:for(;r<t.length;){var p=t.charCodeAt(r);switch(p){case 32:case 9:case 10:case 12:case 13:{(n.length===0||n[0].type!==Ht.SelectorType.Descendant)&&(u(),n.push({type:Ht.SelectorType.Descendant})),a(1);break}case 62:{l(Ht.SelectorType.Child),a(1);break}case 60:{l(Ht.SelectorType.Parent),a(1);break}case 126:{l(Ht.SelectorType.Sibling),a(1);break}case 43:{l(Ht.SelectorType.Adjacent),a(1);break}case 46:{d("class",Ht.AttributeAction.Element);break}case 35:{d("id",Ht.AttributeAction.Equals);break}case 91:{a(1);var m=void 0,h=null;t.charCodeAt(r)===124?m=s(1):t.startsWith("*|",r)?(h="*",m=s(2)):(m=s(0),t.charCodeAt(r)===124&&t.charCodeAt(r+1)!==61&&(h=m,m=s(1))),a(0);var g=Ht.AttributeAction.Exists,A=uVe.get(t.charCodeAt(r));if(A){if(g=A,t.charCodeAt(r+1)!==61)throw new Error("Expected `=`");a(2)}else t.charCodeAt(r)===61&&(g=Ht.AttributeAction.Equals,a(1));var y="",v=null;if(g!=="exists"){if(w6(t.charCodeAt(r))){for(var b=t.charCodeAt(r),E=r+1;E<t.length&&(t.charCodeAt(E)!==b||c(E));)E+=1;if(t.charCodeAt(E)!==b)throw new Error("Attribute value didn't end");y=Eg(t.slice(r+1,E)),r=E+1}else{for(var I=r;r<t.length&&(!dse(t.charCodeAt(r))&&t.charCodeAt(r)!==93||c(r));)r+=1;y=Eg(t.slice(I,r))}a(0);var w=t.charCodeAt(r)|32;w===115?(v=!1,a(1)):w===105&&(v=!0,a(1))}if(t.charCodeAt(r)!==93)throw new Error("Attribute selector didn't terminate");r+=1;var S={type:Ht.SelectorType.Attribute,name:m,action:g,value:y,namespace:h,ignoreCase:v};n.push(S);break}case 58:{if(t.charCodeAt(r+1)===58){n.push({type:Ht.SelectorType.PseudoElement,name:s(2).toLowerCase(),data:t.charCodeAt(r)===40?o():null});continue}var T=s(1).toLowerCase(),B=null;if(t.charCodeAt(r)===40)if(lVe.has(T)){if(w6(t.charCodeAt(r+1)))throw new Error("Pseudo-selector ".concat(T," cannot be quoted"));if(B=[],r=pse(B,t,r+1),t.charCodeAt(r)!==41)throw new Error("Missing closing parenthesis in :".concat(T," (").concat(t,")"));r+=1}else{if(B=o(),dVe.has(T)){var N=B.charCodeAt(0);N===B.charCodeAt(B.length-1)&&w6(N)&&(B=B.slice(1,-1))}B=Eg(B)}n.push({type:Ht.SelectorType.Pseudo,name:T,data:B});break}case 44:{f(),n=[],a(1);break}default:{if(t.startsWith("/*",r)){var O=t.indexOf("*/",r+2);if(O<0)throw new Error("Comment was not terminated");r=O+2,n.length===0&&a(0);break}var h=null,k=void 0;if(p===42)r+=1,k="*";else if(p===124){if(k="",t.charCodeAt(r+1)===124){l(Ht.SelectorType.ColumnCombinator),a(2);break}}else if(lse.test(t.slice(r)))k=s(0);else break e;t.charCodeAt(r)===124&&t.charCodeAt(r+1)!==124&&(h=k,t.charCodeAt(r+1)===42?(k="*",r+=2):k=s(1)),n.push(k==="*"?{type:Ht.SelectorType.Universal,namespace:h}:{type:Ht.SelectorType.Tag,name:k,namespace:h})}}}return f(),r}});var xse=C(Ip=>{"use strict";var uv=Ip&&Ip.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))};Object.defineProperty(Ip,"__esModule",{value:!0});Ip.stringify=void 0;var Dr=cv(),Ase=["\\",'"'],yse=uv(uv([],Ase,!0),["(",")"],!1),hVe=new Set(Ase.map(function(e){return e.charCodeAt(0)})),mse=new Set(yse.map(function(e){return e.charCodeAt(0)})),_p=new Set(uv(uv([],yse,!0),["~","^","$","*","+","!","|",":","[","]"," ","."],!1).map(function(e){return e.charCodeAt(0)}));function bse(e){return e.map(function(t){return t.map(mVe).join("")}).join(", ")}Ip.stringify=bse;function mVe(e,t,r){switch(e.type){case Dr.SelectorType.Child:return t===0?"> ":" > ";case Dr.SelectorType.Parent:return t===0?"< ":" < ";case Dr.SelectorType.Sibling:return t===0?"~ ":" ~ ";case Dr.SelectorType.Adjacent:return t===0?"+ ":" + ";case Dr.SelectorType.Descendant:return" ";case Dr.SelectorType.ColumnCombinator:return t===0?"|| ":" || ";case Dr.SelectorType.Universal:return e.namespace==="*"&&t+1<r.length&&"name"in r[t+1]?"":"".concat(Ese(e.namespace),"*");case Dr.SelectorType.Tag:return gse(e);case Dr.SelectorType.PseudoElement:return"::".concat(Fo(e.name,_p)).concat(e.data===null?"":"(".concat(Fo(e.data,mse),")"));case Dr.SelectorType.Pseudo:return":".concat(Fo(e.name,_p)).concat(e.data===null?"":"(".concat(typeof e.data=="string"?Fo(e.data,mse):bse(e.data),")"));case Dr.SelectorType.Attribute:{if(e.name==="id"&&e.action===Dr.AttributeAction.Equals&&e.ignoreCase==="quirks"&&!e.namespace)return"#".concat(Fo(e.value,_p));if(e.name==="class"&&e.action===Dr.AttributeAction.Element&&e.ignoreCase==="quirks"&&!e.namespace)return".".concat(Fo(e.value,_p));var n=gse(e);return e.action===Dr.AttributeAction.Exists?"[".concat(n,"]"):"[".concat(n).concat(gVe(e.action),'="').concat(Fo(e.value,hVe),'"').concat(e.ignoreCase===null?"":e.ignoreCase?" i":" s","]")}}}function gVe(e){switch(e){case Dr.AttributeAction.Equals:return"";case Dr.AttributeAction.Element:return"~";case Dr.AttributeAction.Start:return"^";case Dr.AttributeAction.End:return"$";case Dr.AttributeAction.Any:return"*";case Dr.AttributeAction.Not:return"!";case Dr.AttributeAction.Hyphen:return"|";case Dr.AttributeAction.Exists:throw new Error("Shouldn't be here")}}function gse(e){return"".concat(Ese(e.namespace)).concat(Fo(e.name,_p))}function Ese(e){return e!==null?"".concat(e==="*"?"*":Fo(e,_p),"|"):""}function Fo(e,t){for(var r=0,n="",s=0;s<e.length;s++)t.has(e.charCodeAt(s))&&(n+="".concat(e.slice(r,s),"\\").concat(e.charAt(s)),r=s+1);return n.length>0?n+e.slice(r):e}});var Cp=C(Xs=>{"use strict";var AVe=Xs&&Xs.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yVe=Xs&&Xs.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&AVe(t,e,r)};Object.defineProperty(Xs,"__esModule",{value:!0});Xs.stringify=Xs.parse=Xs.isTraversal=void 0;yVe(cv(),Xs);var vse=hse();Object.defineProperty(Xs,"isTraversal",{enumerable:!0,get:function(){return vse.isTraversal}});Object.defineProperty(Xs,"parse",{enumerable:!0,get:function(){return vse.parse}});var bVe=xse();Object.defineProperty(Xs,"stringify",{enumerable:!0,get:function(){return bVe.stringify}})});var iu=C((Nbt,_se)=>{_se.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}});var _t=C((jv,oae)=>{(function(e,t){typeof jv=="object"?oae.exports=jv=t():typeof define=="function"&&define.amd?define([],t):e.CryptoJS=t()})(jv,function(){var e=e||function(t,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof require=="function")try{n=require("crypto")}catch{}var s=function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function y(){}return function(v){var b;return y.prototype=v,b=new y,y.prototype=null,b}}(),o={},c=o.lib={},u=c.Base=function(){return{extend:function(y){var v=a(this);return y&&v.mixIn(y),(!v.hasOwnProperty("init")||this.init===v.init)&&(v.init=function(){v.$super.init.apply(this,arguments)}),v.init.prototype=v,v.$super=this,v},create:function(){var y=this.extend();return y.init.apply(y,arguments),y},init:function(){},mixIn:function(y){for(var v in y)y.hasOwnProperty(v)&&(this[v]=y[v]);y.hasOwnProperty("toString")&&(this.toString=y.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),l=c.WordArray=u.extend({init:function(y,v){y=this.words=y||[],v!=r?this.sigBytes=v:this.sigBytes=y.length*4},toString:function(y){return(y||f).stringify(this)},concat:function(y){var v=this.words,b=y.words,E=this.sigBytes,I=y.sigBytes;if(this.clamp(),E%4)for(var w=0;w<I;w++){var S=b[w>>>2]>>>24-w%4*8&255;v[E+w>>>2]|=S<<24-(E+w)%4*8}else for(var T=0;T<I;T+=4)v[E+T>>>2]=b[T>>>2];return this.sigBytes+=I,this},clamp:function(){var y=this.words,v=this.sigBytes;y[v>>>2]&=4294967295<<32-v%4*8,y.length=t.ceil(v/4)},clone:function(){var y=u.clone.call(this);return y.words=this.words.slice(0),y},random:function(y){for(var v=[],b=0;b<y;b+=4)v.push(s());return new l.init(v,y)}}),d=o.enc={},f=d.Hex={stringify:function(y){for(var v=y.words,b=y.sigBytes,E=[],I=0;I<b;I++){var w=v[I>>>2]>>>24-I%4*8&255;E.push((w>>>4).toString(16)),E.push((w&15).toString(16))}return E.join("")},parse:function(y){for(var v=y.length,b=[],E=0;E<v;E+=2)b[E>>>3]|=parseInt(y.substr(E,2),16)<<24-E%8*4;return new l.init(b,v/2)}},p=d.Latin1={stringify:function(y){for(var v=y.words,b=y.sigBytes,E=[],I=0;I<b;I++){var w=v[I>>>2]>>>24-I%4*8&255;E.push(String.fromCharCode(w))}return E.join("")},parse:function(y){for(var v=y.length,b=[],E=0;E<v;E++)b[E>>>2]|=(y.charCodeAt(E)&255)<<24-E%4*8;return new l.init(b,v)}},m=d.Utf8={stringify:function(y){try{return decodeURIComponent(escape(p.stringify(y)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(y){return p.parse(unescape(encodeURIComponent(y)))}},h=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(y){typeof y=="string"&&(y=m.parse(y)),this._data.concat(y),this._nDataBytes+=y.sigBytes},_process:function(y){var v,b=this._data,E=b.words,I=b.sigBytes,w=this.blockSize,S=w*4,T=I/S;y?T=t.ceil(T):T=t.max((T|0)-this._minBufferSize,0);var B=T*w,N=t.min(B*4,I);if(B){for(var O=0;O<B;O+=w)this._doProcessBlock(E,O);v=E.splice(0,B),b.sigBytes-=N}return new l.init(v,N)},clone:function(){var y=u.clone.call(this);return y._data=this._data.clone(),y},_minBufferSize:0}),g=c.Hasher=h.extend({cfg:u.extend(),init:function(y){this.cfg=this.cfg.extend(y),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(y){return this._append(y),this._process(),this},finalize:function(y){y&&this._append(y);var v=this._doFinalize();return v},blockSize:512/32,_createHelper:function(y){return function(v,b){return new y.init(b).finalize(v)}},_createHmacHelper:function(y){return function(v,b){return new A.HMAC.init(y,b).finalize(v)}}}),A=o.algo={};return o}(Math);return e})});var Fg=C((Hv,cae)=>{(function(e,t){typeof Hv=="object"?cae.exports=Hv=t(_t()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Hv,function(e){return function(t){var r=e,n=r.lib,s=n.Base,a=n.WordArray,o=r.x64={},c=o.Word=s.extend({init:function(l,d){this.high=l,this.low=d}}),u=o.WordArray=s.extend({init:function(l,d){l=this.words=l||[],d!=t?this.sigBytes=d:this.sigBytes=l.length*8},toX32:function(){for(var l=this.words,d=l.length,f=[],p=0;p<d;p++){var m=l[p];f.push(m.high),f.push(m.low)}return a.create(f,this.sigBytes)},clone:function(){for(var l=s.clone.call(this),d=l.words=this.words.slice(0),f=d.length,p=0;p<f;p++)d[p]=d[p].clone();return l}})}(),e})});var lae=C((zv,uae)=>{(function(e,t){typeof zv=="object"?uae.exports=zv=t(_t()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(zv,function(e){return function(){if(typeof ArrayBuffer=="function"){var t=e,r=t.lib,n=r.WordArray,s=n.init,a=n.init=function(o){if(o instanceof ArrayBuffer&&(o=new Uint8Array(o)),(o instanceof Int8Array||typeof Uint8ClampedArray<"u"&&o instanceof Uint8ClampedArray||o instanceof Int16Array||o instanceof Uint16Array||o instanceof Int32Array||o instanceof Uint32Array||o instanceof Float32Array||o instanceof Float64Array)&&(o=new Uint8Array(o.buffer,o.byteOffset,o.byteLength)),o instanceof Uint8Array){for(var c=o.byteLength,u=[],l=0;l<c;l++)u[l>>>2]|=o[l]<<24-l%4*8;s.call(this,u,c)}else s.apply(this,arguments)};a.prototype=n}}(),e.lib.WordArray})});var fae=C((Gv,dae)=>{(function(e,t){typeof Gv=="object"?dae.exports=Gv=t(_t()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Gv,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.enc,a=s.Utf16=s.Utf16BE={stringify:function(c){for(var u=c.words,l=c.sigBytes,d=[],f=0;f<l;f+=2){var p=u[f>>>2]>>>16-f%4*8&65535;d.push(String.fromCharCode(p))}return d.join("")},parse:function(c){for(var u=c.length,l=[],d=0;d<u;d++)l[d>>>1]|=c.charCodeAt(d)<<16-d%2*16;return n.create(l,u*2)}};s.Utf16LE={stringify:function(c){for(var u=c.words,l=c.sigBytes,d=[],f=0;f<l;f+=2){var p=o(u[f>>>2]>>>16-f%4*8&65535);d.push(String.fromCharCode(p))}return d.join("")},parse:function(c){for(var u=c.length,l=[],d=0;d<u;d++)l[d>>>1]|=o(c.charCodeAt(d)<<16-d%2*16);return n.create(l,u*2)}};function o(c){return c<<8&4278255360|c>>>8&16711935}}(),e.enc.Utf16})});var fu=C((Vv,pae)=>{(function(e,t){typeof Vv=="object"?pae.exports=Vv=t(_t()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Vv,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.enc,a=s.Base64={stringify:function(c){var u=c.words,l=c.sigBytes,d=this._map;c.clamp();for(var f=[],p=0;p<l;p+=3)for(var m=u[p>>>2]>>>24-p%4*8&255,h=u[p+1>>>2]>>>24-(p+1)%4*8&255,g=u[p+2>>>2]>>>24-(p+2)%4*8&255,A=m<<16|h<<8|g,y=0;y<4&&p+y*.75<l;y++)f.push(d.charAt(A>>>6*(3-y)&63));var v=d.charAt(64);if(v)for(;f.length%4;)f.push(v);return f.join("")},parse:function(c){var u=c.length,l=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var f=0;f<l.length;f++)d[l.charCodeAt(f)]=f}var p=l.charAt(64);if(p){var m=c.indexOf(p);m!==-1&&(u=m)}return o(c,u,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function o(c,u,l){for(var d=[],f=0,p=0;p<u;p++)if(p%4){var m=l[c.charCodeAt(p-1)]<<p%4*2,h=l[c.charCodeAt(p)]>>>6-p%4*2,g=m|h;d[f>>>2]|=g<<24-f%4*8,f++}return n.create(d,f)}}(),e.enc.Base64})});var mae=C((Kv,hae)=>{(function(e,t){typeof Kv=="object"?hae.exports=Kv=t(_t()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Kv,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.enc,a=s.Base64url={stringify:function(c,u){u===void 0&&(u=!0);var l=c.words,d=c.sigBytes,f=u?this._safe_map:this._map;c.clamp();for(var p=[],m=0;m<d;m+=3)for(var h=l[m>>>2]>>>24-m%4*8&255,g=l[m+1>>>2]>>>24-(m+1)%4*8&255,A=l[m+2>>>2]>>>24-(m+2)%4*8&255,y=h<<16|g<<8|A,v=0;v<4&&m+v*.75<d;v++)p.push(f.charAt(y>>>6*(3-v)&63));var b=f.charAt(64);if(b)for(;p.length%4;)p.push(b);return p.join("")},parse:function(c,u){u===void 0&&(u=!0);var l=c.length,d=u?this._safe_map:this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var p=0;p<d.length;p++)f[d.charCodeAt(p)]=p}var m=d.charAt(64);if(m){var h=c.indexOf(m);h!==-1&&(l=h)}return o(c,l,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function o(c,u,l){for(var d=[],f=0,p=0;p<u;p++)if(p%4){var m=l[c.charCodeAt(p-1)]<<p%4*2,h=l[c.charCodeAt(p)]>>>6-p%4*2,g=m|h;d[f>>>2]|=g<<24-f%4*8,f++}return n.create(d,f)}}(),e.enc.Base64url})});var pu=C((Yv,gae)=>{(function(e,t){typeof Yv=="object"?gae.exports=Yv=t(_t()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Yv,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,a=n.Hasher,o=r.algo,c=[];(function(){for(var m=0;m<64;m++)c[m]=t.abs(t.sin(m+1))*4294967296|0})();var u=o.MD5=a.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,h){for(var g=0;g<16;g++){var A=h+g,y=m[A];m[A]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360}var v=this._hash.words,b=m[h+0],E=m[h+1],I=m[h+2],w=m[h+3],S=m[h+4],T=m[h+5],B=m[h+6],N=m[h+7],O=m[h+8],k=m[h+9],P=m[h+10],D=m[h+11],j=m[h+12],H=m[h+13],V=m[h+14],X=m[h+15],U=v[0],re=v[1],se=v[2],te=v[3];U=l(U,re,se,te,b,7,c[0]),te=l(te,U,re,se,E,12,c[1]),se=l(se,te,U,re,I,17,c[2]),re=l(re,se,te,U,w,22,c[3]),U=l(U,re,se,te,S,7,c[4]),te=l(te,U,re,se,T,12,c[5]),se=l(se,te,U,re,B,17,c[6]),re=l(re,se,te,U,N,22,c[7]),U=l(U,re,se,te,O,7,c[8]),te=l(te,U,re,se,k,12,c[9]),se=l(se,te,U,re,P,17,c[10]),re=l(re,se,te,U,D,22,c[11]),U=l(U,re,se,te,j,7,c[12]),te=l(te,U,re,se,H,12,c[13]),se=l(se,te,U,re,V,17,c[14]),re=l(re,se,te,U,X,22,c[15]),U=d(U,re,se,te,E,5,c[16]),te=d(te,U,re,se,B,9,c[17]),se=d(se,te,U,re,D,14,c[18]),re=d(re,se,te,U,b,20,c[19]),U=d(U,re,se,te,T,5,c[20]),te=d(te,U,re,se,P,9,c[21]),se=d(se,te,U,re,X,14,c[22]),re=d(re,se,te,U,S,20,c[23]),U=d(U,re,se,te,k,5,c[24]),te=d(te,U,re,se,V,9,c[25]),se=d(se,te,U,re,w,14,c[26]),re=d(re,se,te,U,O,20,c[27]),U=d(U,re,se,te,H,5,c[28]),te=d(te,U,re,se,I,9,c[29]),se=d(se,te,U,re,N,14,c[30]),re=d(re,se,te,U,j,20,c[31]),U=f(U,re,se,te,T,4,c[32]),te=f(te,U,re,se,O,11,c[33]),se=f(se,te,U,re,D,16,c[34]),re=f(re,se,te,U,V,23,c[35]),U=f(U,re,se,te,E,4,c[36]),te=f(te,U,re,se,S,11,c[37]),se=f(se,te,U,re,N,16,c[38]),re=f(re,se,te,U,P,23,c[39]),U=f(U,re,se,te,H,4,c[40]),te=f(te,U,re,se,b,11,c[41]),se=f(se,te,U,re,w,16,c[42]),re=f(re,se,te,U,B,23,c[43]),U=f(U,re,se,te,k,4,c[44]),te=f(te,U,re,se,j,11,c[45]),se=f(se,te,U,re,X,16,c[46]),re=f(re,se,te,U,I,23,c[47]),U=p(U,re,se,te,b,6,c[48]),te=p(te,U,re,se,N,10,c[49]),se=p(se,te,U,re,V,15,c[50]),re=p(re,se,te,U,T,21,c[51]),U=p(U,re,se,te,j,6,c[52]),te=p(te,U,re,se,w,10,c[53]),se=p(se,te,U,re,P,15,c[54]),re=p(re,se,te,U,E,21,c[55]),U=p(U,re,se,te,O,6,c[56]),te=p(te,U,re,se,X,10,c[57]),se=p(se,te,U,re,B,15,c[58]),re=p(re,se,te,U,H,21,c[59]),U=p(U,re,se,te,S,6,c[60]),te=p(te,U,re,se,D,10,c[61]),se=p(se,te,U,re,I,15,c[62]),re=p(re,se,te,U,k,21,c[63]),v[0]=v[0]+U|0,v[1]=v[1]+re|0,v[2]=v[2]+se|0,v[3]=v[3]+te|0},_doFinalize:function(){var m=this._data,h=m.words,g=this._nDataBytes*8,A=m.sigBytes*8;h[A>>>5]|=128<<24-A%32;var y=t.floor(g/4294967296),v=g;h[(A+64>>>9<<4)+15]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,h[(A+64>>>9<<4)+14]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,m.sigBytes=(h.length+1)*4,this._process();for(var b=this._hash,E=b.words,I=0;I<4;I++){var w=E[I];E[I]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}return b},clone:function(){var m=a.clone.call(this);return m._hash=this._hash.clone(),m}});function l(m,h,g,A,y,v,b){var E=m+(h&g|~h&A)+y+b;return(E<<v|E>>>32-v)+h}function d(m,h,g,A,y,v,b){var E=m+(h&A|g&~A)+y+b;return(E<<v|E>>>32-v)+h}function f(m,h,g,A,y,v,b){var E=m+(h^g^A)+y+b;return(E<<v|E>>>32-v)+h}function p(m,h,g,A,y,v,b){var E=m+(g^(h|~A))+y+b;return(E<<v|E>>>32-v)+h}r.MD5=a._createHelper(u),r.HmacMD5=a._createHmacHelper(u)}(Math),e.MD5})});var pD=C((Wv,Aae)=>{(function(e,t){typeof Wv=="object"?Aae.exports=Wv=t(_t()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Wv,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=r.Hasher,a=t.algo,o=[],c=a.SHA1=s.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,l){for(var d=this._hash.words,f=d[0],p=d[1],m=d[2],h=d[3],g=d[4],A=0;A<80;A++){if(A<16)o[A]=u[l+A]|0;else{var y=o[A-3]^o[A-8]^o[A-14]^o[A-16];o[A]=y<<1|y>>>31}var v=(f<<5|f>>>27)+g+o[A];A<20?v+=(p&m|~p&h)+1518500249:A<40?v+=(p^m^h)+1859775393:A<60?v+=(p&m|p&h|m&h)-1894007588:v+=(p^m^h)-899497514,g=h,h=m,m=p<<30|p>>>2,p=f,f=v}d[0]=d[0]+f|0,d[1]=d[1]+p|0,d[2]=d[2]+m|0,d[3]=d[3]+h|0,d[4]=d[4]+g|0},_doFinalize:function(){var u=this._data,l=u.words,d=this._nDataBytes*8,f=u.sigBytes*8;return l[f>>>5]|=128<<24-f%32,l[(f+64>>>9<<4)+14]=Math.floor(d/4294967296),l[(f+64>>>9<<4)+15]=d,u.sigBytes=l.length*4,this._process(),this._hash},clone:function(){var u=s.clone.call(this);return u._hash=this._hash.clone(),u}});t.SHA1=s._createHelper(c),t.HmacSHA1=s._createHmacHelper(c)}(),e.SHA1})});var Xv=C((Jv,yae)=>{(function(e,t){typeof Jv=="object"?yae.exports=Jv=t(_t()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Jv,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,a=n.Hasher,o=r.algo,c=[],u=[];(function(){function f(g){for(var A=t.sqrt(g),y=2;y<=A;y++)if(!(g%y))return!1;return!0}function p(g){return(g-(g|0))*4294967296|0}for(var m=2,h=0;h<64;)f(m)&&(h<8&&(c[h]=p(t.pow(m,1/2))),u[h]=p(t.pow(m,1/3)),h++),m++})();var l=[],d=o.SHA256=a.extend({_doReset:function(){this._hash=new s.init(c.slice(0))},_doProcessBlock:function(f,p){for(var m=this._hash.words,h=m[0],g=m[1],A=m[2],y=m[3],v=m[4],b=m[5],E=m[6],I=m[7],w=0;w<64;w++){if(w<16)l[w]=f[p+w]|0;else{var S=l[w-15],T=(S<<25|S>>>7)^(S<<14|S>>>18)^S>>>3,B=l[w-2],N=(B<<15|B>>>17)^(B<<13|B>>>19)^B>>>10;l[w]=T+l[w-7]+N+l[w-16]}var O=v&b^~v&E,k=h&g^h&A^g&A,P=(h<<30|h>>>2)^(h<<19|h>>>13)^(h<<10|h>>>22),D=(v<<26|v>>>6)^(v<<21|v>>>11)^(v<<7|v>>>25),j=I+D+O+u[w]+l[w],H=P+k;I=E,E=b,b=v,v=y+j|0,y=A,A=g,g=h,h=j+H|0}m[0]=m[0]+h|0,m[1]=m[1]+g|0,m[2]=m[2]+A|0,m[3]=m[3]+y|0,m[4]=m[4]+v|0,m[5]=m[5]+b|0,m[6]=m[6]+E|0,m[7]=m[7]+I|0},_doFinalize:function(){var f=this._data,p=f.words,m=this._nDataBytes*8,h=f.sigBytes*8;return p[h>>>5]|=128<<24-h%32,p[(h+64>>>9<<4)+14]=t.floor(m/4294967296),p[(h+64>>>9<<4)+15]=m,f.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var f=a.clone.call(this);return f._hash=this._hash.clone(),f}});r.SHA256=a._createHelper(d),r.HmacSHA256=a._createHmacHelper(d)}(Math),e.SHA256})});var Eae=C((Zv,bae)=>{(function(e,t,r){typeof Zv=="object"?bae.exports=Zv=t(_t(),Xv()):typeof define=="function"&&define.amd?define(["./core","./sha256"],t):t(e.CryptoJS)})(Zv,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.algo,a=s.SHA256,o=s.SHA224=a.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var c=a._doFinalize.call(this);return c.sigBytes-=4,c}});t.SHA224=a._createHelper(o),t.HmacSHA224=a._createHmacHelper(o)}(),e.SHA224})});var hD=C((e_,xae)=>{(function(e,t,r){typeof e_=="object"?xae.exports=e_=t(_t(),Fg()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(e_,function(e){return function(){var t=e,r=t.lib,n=r.Hasher,s=t.x64,a=s.Word,o=s.WordArray,c=t.algo;function u(){return a.create.apply(a,arguments)}var l=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],d=[];(function(){for(var p=0;p<80;p++)d[p]=u()})();var f=c.SHA512=n.extend({_doReset:function(){this._hash=new o.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(p,m){for(var h=this._hash.words,g=h[0],A=h[1],y=h[2],v=h[3],b=h[4],E=h[5],I=h[6],w=h[7],S=g.high,T=g.low,B=A.high,N=A.low,O=y.high,k=y.low,P=v.high,D=v.low,j=b.high,H=b.low,V=E.high,X=E.low,U=I.high,re=I.low,se=w.high,te=w.low,ae=S,xe=T,_e=B,Ce=N,ve=O,Ae=k,$=P,M=D,q=j,L=H,Q=V,G=X,J=U,K=re,W=se,Z=te,ee=0;ee<80;ee++){var oe,he,ge=d[ee];if(ee<16)he=ge.high=p[m+ee*2]|0,oe=ge.low=p[m+ee*2+1]|0;else{var Be=d[ee-15],we=Be.high,Ue=Be.low,De=(we>>>1|Ue<<31)^(we>>>8|Ue<<24)^we>>>7,He=(Ue>>>1|we<<31)^(Ue>>>8|we<<24)^(Ue>>>7|we<<25),mt=d[ee-2],Ge=mt.high,en=mt.low,Gs=(Ge>>>19|en<<13)^(Ge<<3|en>>>29)^Ge>>>6,lt=(en>>>19|Ge<<13)^(en<<3|Ge>>>29)^(en>>>6|Ge<<26),Rr=d[ee-7],vn=Rr.high,qt=Rr.low,It=d[ee-16],$u=It.high,tn=It.low;oe=He+qt,he=De+vn+(oe>>>0<He>>>0?1:0),oe=oe+lt,he=he+Gs+(oe>>>0<lt>>>0?1:0),oe=oe+tn,he=he+$u+(oe>>>0<tn>>>0?1:0),ge.high=he,ge.low=oe}var p0=q&Q^~q&J,Lu=L&G^~L&K,wr=ae&_e^ae&ve^_e&ve,$i=xe&Ce^xe&Ae^Ce&Ae,bI=(ae>>>28|xe<<4)^(ae<<30|xe>>>2)^(ae<<25|xe>>>7),ri=(xe>>>28|ae<<4)^(xe<<30|ae>>>2)^(xe<<25|ae>>>7),Vs=(q>>>14|L<<18)^(q>>>18|L<<14)^(q<<23|L>>>9),ly=(L>>>14|q<<18)^(L>>>18|q<<14)^(L<<23|q>>>9),so=l[ee],Mu=so.high,h0=so.low,Gr=Z+ly,oc=W+Vs+(Gr>>>0<Z>>>0?1:0),Gr=Gr+Lu,oc=oc+p0+(Gr>>>0<Lu>>>0?1:0),Gr=Gr+h0,oc=oc+Mu+(Gr>>>0<h0>>>0?1:0),Gr=Gr+oe,oc=oc+he+(Gr>>>0<oe>>>0?1:0),I8=ri+$i,lhe=bI+wr+(I8>>>0<ri>>>0?1:0);W=J,Z=K,J=Q,K=G,Q=q,G=L,L=M+Gr|0,q=$+oc+(L>>>0<M>>>0?1:0)|0,$=ve,M=Ae,ve=_e,Ae=Ce,_e=ae,Ce=xe,xe=Gr+I8|0,ae=oc+lhe+(xe>>>0<Gr>>>0?1:0)|0}T=g.low=T+xe,g.high=S+ae+(T>>>0<xe>>>0?1:0),N=A.low=N+Ce,A.high=B+_e+(N>>>0<Ce>>>0?1:0),k=y.low=k+Ae,y.high=O+ve+(k>>>0<Ae>>>0?1:0),D=v.low=D+M,v.high=P+$+(D>>>0<M>>>0?1:0),H=b.low=H+L,b.high=j+q+(H>>>0<L>>>0?1:0),X=E.low=X+G,E.high=V+Q+(X>>>0<G>>>0?1:0),re=I.low=re+K,I.high=U+J+(re>>>0<K>>>0?1:0),te=w.low=te+Z,w.high=se+W+(te>>>0<Z>>>0?1:0)},_doFinalize:function(){var p=this._data,m=p.words,h=this._nDataBytes*8,g=p.sigBytes*8;m[g>>>5]|=128<<24-g%32,m[(g+128>>>10<<5)+30]=Math.floor(h/4294967296),m[(g+128>>>10<<5)+31]=h,p.sigBytes=m.length*4,this._process();var A=this._hash.toX32();return A},clone:function(){var p=n.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});t.SHA512=n._createHelper(f),t.HmacSHA512=n._createHmacHelper(f)}(),e.SHA512})});var _ae=C((t_,vae)=>{(function(e,t,r){typeof t_=="object"?vae.exports=t_=t(_t(),Fg(),hD()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],t):t(e.CryptoJS)})(t_,function(e){return function(){var t=e,r=t.x64,n=r.Word,s=r.WordArray,a=t.algo,o=a.SHA512,c=a.SHA384=o.extend({_doReset:function(){this._hash=new s.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var u=o._doFinalize.call(this);return u.sigBytes-=16,u}});t.SHA384=o._createHelper(c),t.HmacSHA384=o._createHmacHelper(c)}(),e.SHA384})});var Cae=C((r_,Iae)=>{(function(e,t,r){typeof r_=="object"?Iae.exports=r_=t(_t(),Fg()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(r_,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,a=n.Hasher,o=r.x64,c=o.Word,u=r.algo,l=[],d=[],f=[];(function(){for(var h=1,g=0,A=0;A<24;A++){l[h+5*g]=(A+1)*(A+2)/2%64;var y=g%5,v=(2*h+3*g)%5;h=y,g=v}for(var h=0;h<5;h++)for(var g=0;g<5;g++)d[h+5*g]=g+(2*h+3*g)%5*5;for(var b=1,E=0;E<24;E++){for(var I=0,w=0,S=0;S<7;S++){if(b&1){var T=(1<<S)-1;T<32?w^=1<<T:I^=1<<T-32}b&128?b=b<<1^113:b<<=1}f[E]=c.create(I,w)}})();var p=[];(function(){for(var h=0;h<25;h++)p[h]=c.create()})();var m=u.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var h=this._state=[],g=0;g<25;g++)h[g]=new c.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(h,g){for(var A=this._state,y=this.blockSize/2,v=0;v<y;v++){var b=h[g+2*v],E=h[g+2*v+1];b=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360;var I=A[v];I.high^=E,I.low^=b}for(var w=0;w<24;w++){for(var S=0;S<5;S++){for(var T=0,B=0,N=0;N<5;N++){var I=A[S+5*N];T^=I.high,B^=I.low}var O=p[S];O.high=T,O.low=B}for(var S=0;S<5;S++)for(var k=p[(S+4)%5],P=p[(S+1)%5],D=P.high,j=P.low,T=k.high^(D<<1|j>>>31),B=k.low^(j<<1|D>>>31),N=0;N<5;N++){var I=A[S+5*N];I.high^=T,I.low^=B}for(var H=1;H<25;H++){var T,B,I=A[H],V=I.high,X=I.low,U=l[H];U<32?(T=V<<U|X>>>32-U,B=X<<U|V>>>32-U):(T=X<<U-32|V>>>64-U,B=V<<U-32|X>>>64-U);var re=p[d[H]];re.high=T,re.low=B}var se=p[0],te=A[0];se.high=te.high,se.low=te.low;for(var S=0;S<5;S++)for(var N=0;N<5;N++){var H=S+5*N,I=A[H],ae=p[H],xe=p[(S+1)%5+5*N],_e=p[(S+2)%5+5*N];I.high=ae.high^~xe.high&_e.high,I.low=ae.low^~xe.low&_e.low}var I=A[0],Ce=f[w];I.high^=Ce.high,I.low^=Ce.low}},_doFinalize:function(){var h=this._data,g=h.words,A=this._nDataBytes*8,y=h.sigBytes*8,v=this.blockSize*32;g[y>>>5]|=1<<24-y%32,g[(t.ceil((y+1)/v)*v>>>5)-1]|=128,h.sigBytes=g.length*4,this._process();for(var b=this._state,E=this.cfg.outputLength/8,I=E/8,w=[],S=0;S<I;S++){var T=b[S],B=T.high,N=T.low;B=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,N=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,w.push(N),w.push(B)}return new s.init(w,E)},clone:function(){for(var h=a.clone.call(this),g=h._state=this._state.slice(0),A=0;A<25;A++)g[A]=g[A].clone();return h}});r.SHA3=a._createHelper(m),r.HmacSHA3=a._createHmacHelper(m)}(Math),e.SHA3})});var Sae=C((n_,wae)=>{(function(e,t){typeof n_=="object"?wae.exports=n_=t(_t()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(n_,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,a=n.Hasher,o=r.algo,c=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),f=s.create([0,1518500249,1859775393,2400959708,2840853838]),p=s.create([1352829926,1548603684,1836072691,2053994217,0]),m=o.RIPEMD160=a.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(E,I){for(var w=0;w<16;w++){var S=I+w,T=E[S];E[S]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}var B=this._hash.words,N=f.words,O=p.words,k=c.words,P=u.words,D=l.words,j=d.words,H,V,X,U,re,se,te,ae,xe,_e;se=H=B[0],te=V=B[1],ae=X=B[2],xe=U=B[3],_e=re=B[4];for(var Ce,w=0;w<80;w+=1)Ce=H+E[I+k[w]]|0,w<16?Ce+=h(V,X,U)+N[0]:w<32?Ce+=g(V,X,U)+N[1]:w<48?Ce+=A(V,X,U)+N[2]:w<64?Ce+=y(V,X,U)+N[3]:Ce+=v(V,X,U)+N[4],Ce=Ce|0,Ce=b(Ce,D[w]),Ce=Ce+re|0,H=re,re=U,U=b(X,10),X=V,V=Ce,Ce=se+E[I+P[w]]|0,w<16?Ce+=v(te,ae,xe)+O[0]:w<32?Ce+=y(te,ae,xe)+O[1]:w<48?Ce+=A(te,ae,xe)+O[2]:w<64?Ce+=g(te,ae,xe)+O[3]:Ce+=h(te,ae,xe)+O[4],Ce=Ce|0,Ce=b(Ce,j[w]),Ce=Ce+_e|0,se=_e,_e=xe,xe=b(ae,10),ae=te,te=Ce;Ce=B[1]+X+xe|0,B[1]=B[2]+U+_e|0,B[2]=B[3]+re+se|0,B[3]=B[4]+H+te|0,B[4]=B[0]+V+ae|0,B[0]=Ce},_doFinalize:function(){var E=this._data,I=E.words,w=this._nDataBytes*8,S=E.sigBytes*8;I[S>>>5]|=128<<24-S%32,I[(S+64>>>9<<4)+14]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,E.sigBytes=(I.length+1)*4,this._process();for(var T=this._hash,B=T.words,N=0;N<5;N++){var O=B[N];B[N]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360}return T},clone:function(){var E=a.clone.call(this);return E._hash=this._hash.clone(),E}});function h(E,I,w){return E^I^w}function g(E,I,w){return E&I|~E&w}function A(E,I,w){return(E|~I)^w}function y(E,I,w){return E&w|I&~w}function v(E,I,w){return E^(I|~w)}function b(E,I){return E<<I|E>>>32-I}r.RIPEMD160=a._createHelper(m),r.HmacRIPEMD160=a._createHmacHelper(m)}(Math),e.RIPEMD160})});var i_=C((s_,Tae)=>{(function(e,t){typeof s_=="object"?Tae.exports=s_=t(_t()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(s_,function(e){(function(){var t=e,r=t.lib,n=r.Base,s=t.enc,a=s.Utf8,o=t.algo,c=o.HMAC=n.extend({init:function(u,l){u=this._hasher=new u.init,typeof l=="string"&&(l=a.parse(l));var d=u.blockSize,f=d*4;l.sigBytes>f&&(l=u.finalize(l)),l.clamp();for(var p=this._oKey=l.clone(),m=this._iKey=l.clone(),h=p.words,g=m.words,A=0;A<d;A++)h[A]^=1549556828,g[A]^=909522486;p.sigBytes=m.sigBytes=f,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var l=this._hasher,d=l.finalize(u);l.reset();var f=l.finalize(this._oKey.clone().concat(d));return f}})})()})});var Rae=C((a_,Bae)=>{(function(e,t,r){typeof a_=="object"?Bae.exports=a_=t(_t(),Xv(),i_()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],t):t(e.CryptoJS)})(a_,function(e){return function(){var t=e,r=t.lib,n=r.Base,s=r.WordArray,a=t.algo,o=a.SHA256,c=a.HMAC,u=a.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:o,iterations:25e4}),init:function(l){this.cfg=this.cfg.extend(l)},compute:function(l,d){for(var f=this.cfg,p=c.create(f.hasher,l),m=s.create(),h=s.create([1]),g=m.words,A=h.words,y=f.keySize,v=f.iterations;g.length<y;){var b=p.update(d).finalize(h);p.reset();for(var E=b.words,I=E.length,w=b,S=1;S<v;S++){w=p.finalize(w),p.reset();for(var T=w.words,B=0;B<I;B++)E[B]^=T[B]}m.concat(b),A[0]++}return m.sigBytes=y*4,m}});t.PBKDF2=function(l,d,f){return u.create(f).compute(l,d)}}(),e.PBKDF2})});var jo=C((o_,Nae)=>{(function(e,t,r){typeof o_=="object"?Nae.exports=o_=t(_t(),pD(),i_()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],t):t(e.CryptoJS)})(o_,function(e){return function(){var t=e,r=t.lib,n=r.Base,s=r.WordArray,a=t.algo,o=a.MD5,c=a.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:o,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,l){for(var d,f=this.cfg,p=f.hasher.create(),m=s.create(),h=m.words,g=f.keySize,A=f.iterations;h.length<g;){d&&p.update(d),d=p.update(u).finalize(l),p.reset();for(var y=1;y<A;y++)d=p.finalize(d),p.reset();m.concat(d)}return m.sigBytes=g*4,m}});t.EvpKDF=function(u,l,d){return c.create(d).compute(u,l)}}(),e.EvpKDF})});var sn=C((c_,kae)=>{(function(e,t,r){typeof c_=="object"?kae.exports=c_=t(_t(),jo()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],t):t(e.CryptoJS)})(c_,function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,s=n.Base,a=n.WordArray,o=n.BufferedBlockAlgorithm,c=r.enc,u=c.Utf8,l=c.Base64,d=r.algo,f=d.EvpKDF,p=n.Cipher=o.extend({cfg:s.extend(),createEncryptor:function(O,k){return this.create(this._ENC_XFORM_MODE,O,k)},createDecryptor:function(O,k){return this.create(this._DEC_XFORM_MODE,O,k)},init:function(O,k,P){this.cfg=this.cfg.extend(P),this._xformMode=O,this._key=k,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(O){return this._append(O),this._process()},finalize:function(O){O&&this._append(O);var k=this._doFinalize();return k},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function O(k){return typeof k=="string"?N:S}return function(k){return{encrypt:function(P,D,j){return O(D).encrypt(k,P,D,j)},decrypt:function(P,D,j){return O(D).decrypt(k,P,D,j)}}}}()}),m=n.StreamCipher=p.extend({_doFinalize:function(){var O=this._process(!0);return O},blockSize:1}),h=r.mode={},g=n.BlockCipherMode=s.extend({createEncryptor:function(O,k){return this.Encryptor.create(O,k)},createDecryptor:function(O,k){return this.Decryptor.create(O,k)},init:function(O,k){this._cipher=O,this._iv=k}}),A=h.CBC=function(){var O=g.extend();O.Encryptor=O.extend({processBlock:function(P,D){var j=this._cipher,H=j.blockSize;k.call(this,P,D,H),j.encryptBlock(P,D),this._prevBlock=P.slice(D,D+H)}}),O.Decryptor=O.extend({processBlock:function(P,D){var j=this._cipher,H=j.blockSize,V=P.slice(D,D+H);j.decryptBlock(P,D),k.call(this,P,D,H),this._prevBlock=V}});function k(P,D,j){var H,V=this._iv;V?(H=V,this._iv=t):H=this._prevBlock;for(var X=0;X<j;X++)P[D+X]^=H[X]}return O}(),y=r.pad={},v=y.Pkcs7={pad:function(O,k){for(var P=k*4,D=P-O.sigBytes%P,j=D<<24|D<<16|D<<8|D,H=[],V=0;V<D;V+=4)H.push(j);var X=a.create(H,D);O.concat(X)},unpad:function(O){var k=O.words[O.sigBytes-1>>>2]&255;O.sigBytes-=k}},b=n.BlockCipher=p.extend({cfg:p.cfg.extend({mode:A,padding:v}),reset:function(){var O;p.reset.call(this);var k=this.cfg,P=k.iv,D=k.mode;this._xformMode==this._ENC_XFORM_MODE?O=D.createEncryptor:(O=D.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==O?this._mode.init(this,P&&P.words):(this._mode=O.call(D,this,P&&P.words),this._mode.__creator=O)},_doProcessBlock:function(O,k){this._mode.processBlock(O,k)},_doFinalize:function(){var O,k=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(k.pad(this._data,this.blockSize),O=this._process(!0)):(O=this._process(!0),k.unpad(O)),O},blockSize:128/32}),E=n.CipherParams=s.extend({init:function(O){this.mixIn(O)},toString:function(O){return(O||this.formatter).stringify(this)}}),I=r.format={},w=I.OpenSSL={stringify:function(O){var k,P=O.ciphertext,D=O.salt;return D?k=a.create([1398893684,1701076831]).concat(D).concat(P):k=P,k.toString(l)},parse:function(O){var k,P=l.parse(O),D=P.words;return D[0]==1398893684&&D[1]==1701076831&&(k=a.create(D.slice(2,4)),D.splice(0,4),P.sigBytes-=16),E.create({ciphertext:P,salt:k})}},S=n.SerializableCipher=s.extend({cfg:s.extend({format:w}),encrypt:function(O,k,P,D){D=this.cfg.extend(D);var j=O.createEncryptor(P,D),H=j.finalize(k),V=j.cfg;return E.create({ciphertext:H,key:P,iv:V.iv,algorithm:O,mode:V.mode,padding:V.padding,blockSize:O.blockSize,formatter:D.format})},decrypt:function(O,k,P,D){D=this.cfg.extend(D),k=this._parse(k,D.format);var j=O.createDecryptor(P,D).finalize(k.ciphertext);return j},_parse:function(O,k){return typeof O=="string"?k.parse(O,this):O}}),T=r.kdf={},B=T.OpenSSL={execute:function(O,k,P,D,j){if(D||(D=a.random(64/8)),j)var H=f.create({keySize:k+P,hasher:j}).compute(O,D);else var H=f.create({keySize:k+P}).compute(O,D);var V=a.create(H.words.slice(k),P*4);return H.sigBytes=k*4,E.create({key:H,iv:V,salt:D})}},N=n.PasswordBasedCipher=S.extend({cfg:S.cfg.extend({kdf:B}),encrypt:function(O,k,P,D){D=this.cfg.extend(D);var j=D.kdf.execute(P,O.keySize,O.ivSize,D.salt,D.hasher);D.iv=j.iv;var H=S.encrypt.call(this,O,k,j.key,D);return H.mixIn(j),H},decrypt:function(O,k,P,D){D=this.cfg.extend(D),k=this._parse(k,D.format);var j=D.kdf.execute(P,O.keySize,O.ivSize,k.salt,D.hasher);D.iv=j.iv;var H=S.decrypt.call(this,O,k,j.key,D);return H}})}()})});var Pae=C((u_,Dae)=>{(function(e,t,r){typeof u_=="object"?Dae.exports=u_=t(_t(),sn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(u_,function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:function(n,s){var a=this._cipher,o=a.blockSize;r.call(this,n,s,o,a),this._prevBlock=n.slice(s,s+o)}}),t.Decryptor=t.extend({processBlock:function(n,s){var a=this._cipher,o=a.blockSize,c=n.slice(s,s+o);r.call(this,n,s,o,a),this._prevBlock=c}});function r(n,s,a,o){var c,u=this._iv;u?(c=u.slice(0),this._iv=void 0):c=this._prevBlock,o.encryptBlock(c,0);for(var l=0;l<a;l++)n[s+l]^=c[l]}return t}(),e.mode.CFB})});var $ae=C((l_,Oae)=>{(function(e,t,r){typeof l_=="object"?Oae.exports=l_=t(_t(),sn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(l_,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(n,s){var a=this._cipher,o=a.blockSize,c=this._iv,u=this._counter;c&&(u=this._counter=c.slice(0),this._iv=void 0);var l=u.slice(0);a.encryptBlock(l,0),u[o-1]=u[o-1]+1|0;for(var d=0;d<o;d++)n[s+d]^=l[d]}});return t.Decryptor=r,t}(),e.mode.CTR})});var Mae=C((d_,Lae)=>{(function(e,t,r){typeof d_=="object"?Lae.exports=d_=t(_t(),sn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(d_,function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(a){if((a>>24&255)===255){var o=a>>16&255,c=a>>8&255,u=a&255;o===255?(o=0,c===255?(c=0,u===255?u=0:++u):++c):++o,a=0,a+=o<<16,a+=c<<8,a+=u}else a+=1<<24;return a}function n(a){return(a[0]=r(a[0]))===0&&(a[1]=r(a[1])),a}var s=t.Encryptor=t.extend({processBlock:function(a,o){var c=this._cipher,u=c.blockSize,l=this._iv,d=this._counter;l&&(d=this._counter=l.slice(0),this._iv=void 0),n(d);var f=d.slice(0);c.encryptBlock(f,0);for(var p=0;p<u;p++)a[o+p]^=f[p]}});return t.Decryptor=s,t}(),e.mode.CTRGladman})});var Qae=C((f_,Fae)=>{(function(e,t,r){typeof f_=="object"?Fae.exports=f_=t(_t(),sn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(f_,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(n,s){var a=this._cipher,o=a.blockSize,c=this._iv,u=this._keystream;c&&(u=this._keystream=c.slice(0),this._iv=void 0),a.encryptBlock(u,0);for(var l=0;l<o;l++)n[s+l]^=u[l]}});return t.Decryptor=r,t}(),e.mode.OFB})});var qae=C((p_,Uae)=>{(function(e,t,r){typeof p_=="object"?Uae.exports=p_=t(_t(),sn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(p_,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(r,n){this._cipher.encryptBlock(r,n)}}),t.Decryptor=t.extend({processBlock:function(r,n){this._cipher.decryptBlock(r,n)}}),t}(),e.mode.ECB})});var Hae=C((h_,jae)=>{(function(e,t,r){typeof h_=="object"?jae.exports=h_=t(_t(),sn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(h_,function(e){return e.pad.AnsiX923={pad:function(t,r){var n=t.sigBytes,s=r*4,a=s-n%s,o=n+a-1;t.clamp(),t.words[o>>>2]|=a<<24-o%4*8,t.sigBytes+=a},unpad:function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r}},e.pad.Ansix923})});var Gae=C((m_,zae)=>{(function(e,t,r){typeof m_=="object"?zae.exports=m_=t(_t(),sn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(m_,function(e){return e.pad.Iso10126={pad:function(t,r){var n=r*4,s=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(s-1)).concat(e.lib.WordArray.create([s<<24],1))},unpad:function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r}},e.pad.Iso10126})});var Kae=C((g_,Vae)=>{(function(e,t,r){typeof g_=="object"?Vae.exports=g_=t(_t(),sn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(g_,function(e){return e.pad.Iso97971={pad:function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971})});var Wae=C((A_,Yae)=>{(function(e,t,r){typeof A_=="object"?Yae.exports=A_=t(_t(),sn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(A_,function(e){return e.pad.ZeroPadding={pad:function(t,r){var n=r*4;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){for(var r=t.words,n=t.sigBytes-1,n=t.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}}},e.pad.ZeroPadding})});var Xae=C((y_,Jae)=>{(function(e,t,r){typeof y_=="object"?Jae.exports=y_=t(_t(),sn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(y_,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})});var eoe=C((b_,Zae)=>{(function(e,t,r){typeof b_=="object"?Zae.exports=b_=t(_t(),sn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(b_,function(e){return function(t){var r=e,n=r.lib,s=n.CipherParams,a=r.enc,o=a.Hex,c=r.format,u=c.Hex={stringify:function(l){return l.ciphertext.toString(o)},parse:function(l){var d=o.parse(l);return s.create({ciphertext:d})}}}(),e.format.Hex})});var roe=C((E_,toe)=>{(function(e,t,r){typeof E_=="object"?toe.exports=E_=t(_t(),fu(),pu(),jo(),sn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(E_,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,s=t.algo,a=[],o=[],c=[],u=[],l=[],d=[],f=[],p=[],m=[],h=[];(function(){for(var y=[],v=0;v<256;v++)v<128?y[v]=v<<1:y[v]=v<<1^283;for(var b=0,E=0,v=0;v<256;v++){var I=E^E<<1^E<<2^E<<3^E<<4;I=I>>>8^I&255^99,a[b]=I,o[I]=b;var w=y[b],S=y[w],T=y[S],B=y[I]*257^I*16843008;c[b]=B<<24|B>>>8,u[b]=B<<16|B>>>16,l[b]=B<<8|B>>>24,d[b]=B;var B=T*16843009^S*65537^w*257^b*16843008;f[I]=B<<24|B>>>8,p[I]=B<<16|B>>>16,m[I]=B<<8|B>>>24,h[I]=B,b?(b=w^y[y[y[T^w]]],E^=y[y[E]]):b=E=1}})();var g=[0,1,2,4,8,16,32,64,128,27,54],A=s.AES=n.extend({_doReset:function(){var y;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var v=this._keyPriorReset=this._key,b=v.words,E=v.sigBytes/4,I=this._nRounds=E+6,w=(I+1)*4,S=this._keySchedule=[],T=0;T<w;T++)T<E?S[T]=b[T]:(y=S[T-1],T%E?E>6&&T%E==4&&(y=a[y>>>24]<<24|a[y>>>16&255]<<16|a[y>>>8&255]<<8|a[y&255]):(y=y<<8|y>>>24,y=a[y>>>24]<<24|a[y>>>16&255]<<16|a[y>>>8&255]<<8|a[y&255],y^=g[T/E|0]<<24),S[T]=S[T-E]^y);for(var B=this._invKeySchedule=[],N=0;N<w;N++){var T=w-N;if(N%4)var y=S[T];else var y=S[T-4];N<4||T<=4?B[N]=y:B[N]=f[a[y>>>24]]^p[a[y>>>16&255]]^m[a[y>>>8&255]]^h[a[y&255]]}}},encryptBlock:function(y,v){this._doCryptBlock(y,v,this._keySchedule,c,u,l,d,a)},decryptBlock:function(y,v){var b=y[v+1];y[v+1]=y[v+3],y[v+3]=b,this._doCryptBlock(y,v,this._invKeySchedule,f,p,m,h,o);var b=y[v+1];y[v+1]=y[v+3],y[v+3]=b},_doCryptBlock:function(y,v,b,E,I,w,S,T){for(var B=this._nRounds,N=y[v]^b[0],O=y[v+1]^b[1],k=y[v+2]^b[2],P=y[v+3]^b[3],D=4,j=1;j<B;j++){var H=E[N>>>24]^I[O>>>16&255]^w[k>>>8&255]^S[P&255]^b[D++],V=E[O>>>24]^I[k>>>16&255]^w[P>>>8&255]^S[N&255]^b[D++],X=E[k>>>24]^I[P>>>16&255]^w[N>>>8&255]^S[O&255]^b[D++],U=E[P>>>24]^I[N>>>16&255]^w[O>>>8&255]^S[k&255]^b[D++];N=H,O=V,k=X,P=U}var H=(T[N>>>24]<<24|T[O>>>16&255]<<16|T[k>>>8&255]<<8|T[P&255])^b[D++],V=(T[O>>>24]<<24|T[k>>>16&255]<<16|T[P>>>8&255]<<8|T[N&255])^b[D++],X=(T[k>>>24]<<24|T[P>>>16&255]<<16|T[N>>>8&255]<<8|T[O&255])^b[D++],U=(T[P>>>24]<<24|T[N>>>16&255]<<16|T[O>>>8&255]<<8|T[k&255])^b[D++];y[v]=H,y[v+1]=V,y[v+2]=X,y[v+3]=U},keySize:256/32});t.AES=n._createHelper(A)}(),e.AES})});var soe=C((x_,noe)=>{(function(e,t,r){typeof x_=="object"?noe.exports=x_=t(_t(),fu(),pu(),jo(),sn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(x_,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=r.BlockCipher,a=t.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=a.DES=s.extend({_doReset:function(){for(var g=this._key,A=g.words,y=[],v=0;v<56;v++){var b=o[v]-1;y[v]=A[b>>>5]>>>31-b%32&1}for(var E=this._subKeys=[],I=0;I<16;I++){for(var w=E[I]=[],S=u[I],v=0;v<24;v++)w[v/6|0]|=y[(c[v]-1+S)%28]<<31-v%6,w[4+(v/6|0)]|=y[28+(c[v+24]-1+S)%28]<<31-v%6;w[0]=w[0]<<1|w[0]>>>31;for(var v=1;v<7;v++)w[v]=w[v]>>>(v-1)*4+3;w[7]=w[7]<<5|w[7]>>>27}for(var T=this._invSubKeys=[],v=0;v<16;v++)T[v]=E[15-v]},encryptBlock:function(g,A){this._doCryptBlock(g,A,this._subKeys)},decryptBlock:function(g,A){this._doCryptBlock(g,A,this._invSubKeys)},_doCryptBlock:function(g,A,y){this._lBlock=g[A],this._rBlock=g[A+1],p.call(this,4,252645135),p.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),p.call(this,1,1431655765);for(var v=0;v<16;v++){for(var b=y[v],E=this._lBlock,I=this._rBlock,w=0,S=0;S<8;S++)w|=l[S][((I^b[S])&d[S])>>>0];this._lBlock=I,this._rBlock=E^w}var T=this._lBlock;this._lBlock=this._rBlock,this._rBlock=T,p.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),g[A]=this._lBlock,g[A+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(g,A){var y=(this._lBlock>>>g^this._rBlock)&A;this._rBlock^=y,this._lBlock^=y<<g}function m(g,A){var y=(this._rBlock>>>g^this._lBlock)&A;this._lBlock^=y,this._rBlock^=y<<g}t.DES=s._createHelper(f);var h=a.TripleDES=s.extend({_doReset:function(){var g=this._key,A=g.words;if(A.length!==2&&A.length!==4&&A.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var y=A.slice(0,2),v=A.length<4?A.slice(0,2):A.slice(2,4),b=A.length<6?A.slice(0,2):A.slice(4,6);this._des1=f.createEncryptor(n.create(y)),this._des2=f.createEncryptor(n.create(v)),this._des3=f.createEncryptor(n.create(b))},encryptBlock:function(g,A){this._des1.encryptBlock(g,A),this._des2.decryptBlock(g,A),this._des3.encryptBlock(g,A)},decryptBlock:function(g,A){this._des3.decryptBlock(g,A),this._des2.encryptBlock(g,A),this._des1.decryptBlock(g,A)},keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=s._createHelper(h)}(),e.TripleDES})});var aoe=C((v_,ioe)=>{(function(e,t,r){typeof v_=="object"?ioe.exports=v_=t(_t(),fu(),pu(),jo(),sn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(v_,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,s=t.algo,a=s.RC4=n.extend({_doReset:function(){for(var u=this._key,l=u.words,d=u.sigBytes,f=this._S=[],p=0;p<256;p++)f[p]=p;for(var p=0,m=0;p<256;p++){var h=p%d,g=l[h>>>2]>>>24-h%4*8&255;m=(m+f[p]+g)%256;var A=f[p];f[p]=f[m],f[m]=A}this._i=this._j=0},_doProcessBlock:function(u,l){u[l]^=o.call(this)},keySize:256/32,ivSize:0});function o(){for(var u=this._S,l=this._i,d=this._j,f=0,p=0;p<4;p++){l=(l+1)%256,d=(d+u[l])%256;var m=u[l];u[l]=u[d],u[d]=m,f|=u[(u[l]+u[d])%256]<<24-p*8}return this._i=l,this._j=d,f}t.RC4=n._createHelper(a);var c=s.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)o.call(this)}});t.RC4Drop=n._createHelper(c)}(),e.RC4})});var coe=C((__,ooe)=>{(function(e,t,r){typeof __=="object"?ooe.exports=__=t(_t(),fu(),pu(),jo(),sn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(__,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,s=t.algo,a=[],o=[],c=[],u=s.Rabbit=n.extend({_doReset:function(){for(var d=this._key.words,f=this.cfg.iv,p=0;p<4;p++)d[p]=(d[p]<<8|d[p]>>>24)&16711935|(d[p]<<24|d[p]>>>8)&4278255360;var m=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],h=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var p=0;p<4;p++)l.call(this);for(var p=0;p<8;p++)h[p]^=m[p+4&7];if(f){var g=f.words,A=g[0],y=g[1],v=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,b=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,E=v>>>16|b&4294901760,I=b<<16|v&65535;h[0]^=v,h[1]^=E,h[2]^=b,h[3]^=I,h[4]^=v,h[5]^=E,h[6]^=b,h[7]^=I;for(var p=0;p<4;p++)l.call(this)}},_doProcessBlock:function(d,f){var p=this._X;l.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,d[f+m]^=a[m]},blockSize:128/32,ivSize:64/32});function l(){for(var d=this._X,f=this._C,p=0;p<8;p++)o[p]=f[p];f[0]=f[0]+1295307597+this._b|0,f[1]=f[1]+3545052371+(f[0]>>>0<o[0]>>>0?1:0)|0,f[2]=f[2]+886263092+(f[1]>>>0<o[1]>>>0?1:0)|0,f[3]=f[3]+1295307597+(f[2]>>>0<o[2]>>>0?1:0)|0,f[4]=f[4]+3545052371+(f[3]>>>0<o[3]>>>0?1:0)|0,f[5]=f[5]+886263092+(f[4]>>>0<o[4]>>>0?1:0)|0,f[6]=f[6]+1295307597+(f[5]>>>0<o[5]>>>0?1:0)|0,f[7]=f[7]+3545052371+(f[6]>>>0<o[6]>>>0?1:0)|0,this._b=f[7]>>>0<o[7]>>>0?1:0;for(var p=0;p<8;p++){var m=d[p]+f[p],h=m&65535,g=m>>>16,A=((h*h>>>17)+h*g>>>15)+g*g,y=((m&4294901760)*m|0)+((m&65535)*m|0);c[p]=A^y}d[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,d[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,d[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,d[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,d[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,d[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,d[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,d[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}t.Rabbit=n._createHelper(u)}(),e.Rabbit})});var loe=C((I_,uoe)=>{(function(e,t,r){typeof I_=="object"?uoe.exports=I_=t(_t(),fu(),pu(),jo(),sn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(I_,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,s=t.algo,a=[],o=[],c=[],u=s.RabbitLegacy=n.extend({_doReset:function(){var d=this._key.words,f=this.cfg.iv,p=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],m=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var h=0;h<4;h++)l.call(this);for(var h=0;h<8;h++)m[h]^=p[h+4&7];if(f){var g=f.words,A=g[0],y=g[1],v=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,b=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,E=v>>>16|b&4294901760,I=b<<16|v&65535;m[0]^=v,m[1]^=E,m[2]^=b,m[3]^=I,m[4]^=v,m[5]^=E,m[6]^=b,m[7]^=I;for(var h=0;h<4;h++)l.call(this)}},_doProcessBlock:function(d,f){var p=this._X;l.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,d[f+m]^=a[m]},blockSize:128/32,ivSize:64/32});function l(){for(var d=this._X,f=this._C,p=0;p<8;p++)o[p]=f[p];f[0]=f[0]+1295307597+this._b|0,f[1]=f[1]+3545052371+(f[0]>>>0<o[0]>>>0?1:0)|0,f[2]=f[2]+886263092+(f[1]>>>0<o[1]>>>0?1:0)|0,f[3]=f[3]+1295307597+(f[2]>>>0<o[2]>>>0?1:0)|0,f[4]=f[4]+3545052371+(f[3]>>>0<o[3]>>>0?1:0)|0,f[5]=f[5]+886263092+(f[4]>>>0<o[4]>>>0?1:0)|0,f[6]=f[6]+1295307597+(f[5]>>>0<o[5]>>>0?1:0)|0,f[7]=f[7]+3545052371+(f[6]>>>0<o[6]>>>0?1:0)|0,this._b=f[7]>>>0<o[7]>>>0?1:0;for(var p=0;p<8;p++){var m=d[p]+f[p],h=m&65535,g=m>>>16,A=((h*h>>>17)+h*g>>>15)+g*g,y=((m&4294901760)*m|0)+((m&65535)*m|0);c[p]=A^y}d[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,d[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,d[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,d[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,d[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,d[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,d[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,d[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}t.RabbitLegacy=n._createHelper(u)}(),e.RabbitLegacy})});var foe=C((C_,doe)=>{(function(e,t,r){typeof C_=="object"?doe.exports=C_=t(_t(),fu(),pu(),jo(),sn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(C_,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,s=t.algo;let a=16,o=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],c=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function l(h,g){let A=g>>24&255,y=g>>16&255,v=g>>8&255,b=g&255,E=h.sbox[0][A]+h.sbox[1][y];return E=E^h.sbox[2][v],E=E+h.sbox[3][b],E}function d(h,g,A){let y=g,v=A,b;for(let E=0;E<a;++E)y=y^h.pbox[E],v=l(h,y)^v,b=y,y=v,v=b;return b=y,y=v,v=b,v=v^h.pbox[a],y=y^h.pbox[a+1],{left:y,right:v}}function f(h,g,A){let y=g,v=A,b;for(let E=a+1;E>1;--E)y=y^h.pbox[E],v=l(h,y)^v,b=y,y=v,v=b;return b=y,y=v,v=b,v=v^h.pbox[1],y=y^h.pbox[0],{left:y,right:v}}function p(h,g,A){for(let I=0;I<4;I++){h.sbox[I]=[];for(let w=0;w<256;w++)h.sbox[I][w]=c[I][w]}let y=0;for(let I=0;I<a+2;I++)h.pbox[I]=o[I]^g[y],y++,y>=A&&(y=0);let v=0,b=0,E=0;for(let I=0;I<a+2;I+=2)E=d(h,v,b),v=E.left,b=E.right,h.pbox[I]=v,h.pbox[I+1]=b;for(let I=0;I<4;I++)for(let w=0;w<256;w+=2)E=d(h,v,b),v=E.left,b=E.right,h.sbox[I][w]=v,h.sbox[I][w+1]=b;return!0}var m=s.Blowfish=n.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var h=this._keyPriorReset=this._key,g=h.words,A=h.sigBytes/4;p(u,g,A)}},encryptBlock:function(h,g){var A=d(u,h[g],h[g+1]);h[g]=A.left,h[g+1]=A.right},decryptBlock:function(h,g){var A=f(u,h[g],h[g+1]);h[g]=A.left,h[g+1]=A.right},blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=n._createHelper(m)}(),e.Blowfish})});var js=C((w_,poe)=>{(function(e,t,r){typeof w_=="object"?poe.exports=w_=t(_t(),Fg(),lae(),fae(),fu(),mae(),pu(),pD(),Xv(),Eae(),hD(),_ae(),Cae(),Sae(),i_(),Rae(),jo(),sn(),Pae(),$ae(),Mae(),Qae(),qae(),Hae(),Gae(),Kae(),Wae(),Xae(),eoe(),roe(),soe(),aoe(),coe(),loe(),foe()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],t):e.CryptoJS=t(e.CryptoJS)})(w_,function(e){return e})});var ID=C((Cvt,Noe)=>{Noe.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var gu=C(Wl=>{var CD,MJe=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Wl.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Wl.getSymbolTotalCodewords=function(t){return MJe[t]};Wl.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};Wl.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');CD=t};Wl.isKanjiModeEnabled=function(){return typeof CD<"u"};Wl.toSJIS=function(t){return CD(t)}});var k_=C(Ni=>{Ni.L={bit:1};Ni.M={bit:0};Ni.Q={bit:3};Ni.H={bit:2};function FJe(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return Ni.L;case"m":case"medium":return Ni.M;case"q":case"quartile":return Ni.Q;case"h":case"high":return Ni.H;default:throw new Error("Unknown EC Level: "+e)}}Ni.isValid=function(t){return t&&typeof t.bit<"u"&&t.bit>=0&&t.bit<4};Ni.from=function(t,r){if(Ni.isValid(t))return t;try{return FJe(t)}catch{return r}}});var Poe=C((Tvt,Doe)=>{function koe(){this.buffer=[],this.length=0}koe.prototype={get:function(e){let t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){let t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};Doe.exports=koe});var $oe=C((Bvt,Ooe)=>{function Hg(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Hg.prototype.set=function(e,t,r,n){let s=e*this.size+t;this.data[s]=r,n&&(this.reservedBit[s]=!0)};Hg.prototype.get=function(e,t){return this.data[e*this.size+t]};Hg.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};Hg.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};Ooe.exports=Hg});var Loe=C(D_=>{var QJe=gu().getSymbolSize;D_.getRowColCoords=function(t){if(t===1)return[];let r=Math.floor(t/7)+2,n=QJe(t),s=n===145?26:Math.ceil((n-13)/(2*r-2))*2,a=[n-7];for(let o=1;o<r-1;o++)a[o]=a[o-1]-s;return a.push(6),a.reverse()};D_.getPositions=function(t){let r=[],n=D_.getRowColCoords(t),s=n.length;for(let a=0;a<s;a++)for(let o=0;o<s;o++)a===0&&o===0||a===0&&o===s-1||a===s-1&&o===0||r.push([n[a],n[o]]);return r}});var Qoe=C(Foe=>{var UJe=gu().getSymbolSize,Moe=7;Foe.getPositions=function(t){let r=UJe(t);return[[0,0],[r-Moe,0],[0,r-Moe]]}});var Uoe=C(mr=>{mr.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var Jl={N1:3,N2:3,N3:40,N4:10};mr.isValid=function(t){return t!=null&&t!==""&&!isNaN(t)&&t>=0&&t<=7};mr.from=function(t){return mr.isValid(t)?parseInt(t,10):void 0};mr.getPenaltyN1=function(t){let r=t.size,n=0,s=0,a=0,o=null,c=null;for(let u=0;u<r;u++){s=a=0,o=c=null;for(let l=0;l<r;l++){let d=t.get(u,l);d===o?s++:(s>=5&&(n+=Jl.N1+(s-5)),o=d,s=1),d=t.get(l,u),d===c?a++:(a>=5&&(n+=Jl.N1+(a-5)),c=d,a=1)}s>=5&&(n+=Jl.N1+(s-5)),a>=5&&(n+=Jl.N1+(a-5))}return n};mr.getPenaltyN2=function(t){let r=t.size,n=0;for(let s=0;s<r-1;s++)for(let a=0;a<r-1;a++){let o=t.get(s,a)+t.get(s,a+1)+t.get(s+1,a)+t.get(s+1,a+1);(o===4||o===0)&&n++}return n*Jl.N2};mr.getPenaltyN3=function(t){let r=t.size,n=0,s=0,a=0;for(let o=0;o<r;o++){s=a=0;for(let c=0;c<r;c++)s=s<<1&2047|t.get(o,c),c>=10&&(s===1488||s===93)&&n++,a=a<<1&2047|t.get(c,o),c>=10&&(a===1488||a===93)&&n++}return n*Jl.N3};mr.getPenaltyN4=function(t){let r=0,n=t.data.length;for(let a=0;a<n;a++)r+=t.data[a];return Math.abs(Math.ceil(r*100/n/5)-10)*Jl.N4};function qJe(e,t,r){switch(e){case mr.Patterns.PATTERN000:return(t+r)%2===0;case mr.Patterns.PATTERN001:return t%2===0;case mr.Patterns.PATTERN010:return r%3===0;case mr.Patterns.PATTERN011:return(t+r)%3===0;case mr.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2===0;case mr.Patterns.PATTERN101:return t*r%2+t*r%3===0;case mr.Patterns.PATTERN110:return(t*r%2+t*r%3)%2===0;case mr.Patterns.PATTERN111:return(t*r%3+(t+r)%2)%2===0;default:throw new Error("bad maskPattern:"+e)}}mr.applyMask=function(t,r){let n=r.size;for(let s=0;s<n;s++)for(let a=0;a<n;a++)r.isReserved(a,s)||r.xor(a,s,qJe(t,a,s))};mr.getBestMask=function(t,r){let n=Object.keys(mr.Patterns).length,s=0,a=1/0;for(let o=0;o<n;o++){r(o),mr.applyMask(o,t);let c=mr.getPenaltyN1(t)+mr.getPenaltyN2(t)+mr.getPenaltyN3(t)+mr.getPenaltyN4(t);mr.applyMask(o,t),c<a&&(a=c,s=o)}return s}});var SD=C(wD=>{var Au=k_(),P_=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],O_=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];wD.getBlocksCount=function(t,r){switch(r){case Au.L:return P_[(t-1)*4+0];case Au.M:return P_[(t-1)*4+1];case Au.Q:return P_[(t-1)*4+2];case Au.H:return P_[(t-1)*4+3];default:return}};wD.getTotalCodewordsCount=function(t,r){switch(r){case Au.L:return O_[(t-1)*4+0];case Au.M:return O_[(t-1)*4+1];case Au.Q:return O_[(t-1)*4+2];case Au.H:return O_[(t-1)*4+3];default:return}}});var qoe=C(L_=>{var zg=new Uint8Array(512),$_=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)zg[r]=t,$_[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)zg[r]=zg[r-255]})();L_.log=function(t){if(t<1)throw new Error("log("+t+")");return $_[t]};L_.exp=function(t){return zg[t]};L_.mul=function(t,r){return t===0||r===0?0:zg[$_[t]+$_[r]]}});var joe=C(Gg=>{var TD=qoe();Gg.mul=function(t,r){let n=new Uint8Array(t.length+r.length-1);for(let s=0;s<t.length;s++)for(let a=0;a<r.length;a++)n[s+a]^=TD.mul(t[s],r[a]);return n};Gg.mod=function(t,r){let n=new Uint8Array(t);for(;n.length-r.length>=0;){let s=n[0];for(let o=0;o<r.length;o++)n[o]^=TD.mul(r[o],s);let a=0;for(;a<n.length&&n[a]===0;)a++;n=n.slice(a)}return n};Gg.generateECPolynomial=function(t){let r=new Uint8Array([1]);for(let n=0;n<t;n++)r=Gg.mul(r,new Uint8Array([1,TD.exp(n)]));return r}});var Goe=C(($vt,zoe)=>{var Hoe=joe();function BD(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}BD.prototype.initialize=function(t){this.degree=t,this.genPoly=Hoe.generateECPolynomial(this.degree)};BD.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");let r=new Uint8Array(t.length+this.degree);r.set(t);let n=Hoe.mod(r,this.genPoly),s=this.degree-n.length;if(s>0){let a=new Uint8Array(this.degree);return a.set(n,s),a}return n};zoe.exports=BD});var RD=C(Voe=>{Voe.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}});var ND=C(zo=>{var Koe="[0-9]+",jJe="[A-Z $%*+\\-./:]+",Vg="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Vg=Vg.replace(/u/g,"\\u");var HJe="(?:(?![A-Z0-9 $%*+\\-./:]|"+Vg+`)(?:.|[\r
]))+`;zo.KANJI=new RegExp(Vg,"g");zo.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");zo.BYTE=new RegExp(HJe,"g");zo.NUMERIC=new RegExp(Koe,"g");zo.ALPHANUMERIC=new RegExp(jJe,"g");var zJe=new RegExp("^"+Vg+"$"),GJe=new RegExp("^"+Koe+"$"),VJe=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");zo.testKanji=function(t){return zJe.test(t)};zo.testNumeric=function(t){return GJe.test(t)};zo.testAlphanumeric=function(t){return VJe.test(t)}});var yu=C(Jr=>{var KJe=RD(),kD=ND();Jr.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};Jr.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};Jr.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};Jr.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};Jr.MIXED={bit:-1};Jr.getCharCountIndicator=function(t,r){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!KJe.isValid(r))throw new Error("Invalid version: "+r);return r>=1&&r<10?t.ccBits[0]:r<27?t.ccBits[1]:t.ccBits[2]};Jr.getBestModeForData=function(t){return kD.testNumeric(t)?Jr.NUMERIC:kD.testAlphanumeric(t)?Jr.ALPHANUMERIC:kD.testKanji(t)?Jr.KANJI:Jr.BYTE};Jr.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")};Jr.isValid=function(t){return t&&t.bit&&t.ccBits};function YJe(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return Jr.NUMERIC;case"alphanumeric":return Jr.ALPHANUMERIC;case"kanji":return Jr.KANJI;case"byte":return Jr.BYTE;default:throw new Error("Unknown mode: "+e)}}Jr.from=function(t,r){if(Jr.isValid(t))return t;try{return YJe(t)}catch{return r}}});var Zoe=C(Xl=>{var M_=gu(),WJe=SD(),Yoe=k_(),bu=yu(),DD=RD(),Joe=7973,Woe=M_.getBCHDigit(Joe);function JJe(e,t,r){for(let n=1;n<=40;n++)if(t<=Xl.getCapacity(n,r,e))return n}function Xoe(e,t){return bu.getCharCountIndicator(e,t)+4}function XJe(e,t){let r=0;return e.forEach(function(n){let s=Xoe(n.mode,t);r+=s+n.getBitsLength()}),r}function ZJe(e,t){for(let r=1;r<=40;r++)if(XJe(e,r)<=Xl.getCapacity(r,t,bu.MIXED))return r}Xl.from=function(t,r){return DD.isValid(t)?parseInt(t,10):r};Xl.getCapacity=function(t,r,n){if(!DD.isValid(t))throw new Error("Invalid QR Code version");typeof n>"u"&&(n=bu.BYTE);let s=M_.getSymbolTotalCodewords(t),a=WJe.getTotalCodewordsCount(t,r),o=(s-a)*8;if(n===bu.MIXED)return o;let c=o-Xoe(n,t);switch(n){case bu.NUMERIC:return Math.floor(c/10*3);case bu.ALPHANUMERIC:return Math.floor(c/11*2);case bu.KANJI:return Math.floor(c/13);case bu.BYTE:default:return Math.floor(c/8)}};Xl.getBestVersionForData=function(t,r){let n,s=Yoe.from(r,Yoe.M);if(Array.isArray(t)){if(t.length>1)return ZJe(t,s);if(t.length===0)return 1;n=t[0]}else n=t;return JJe(n.mode,n.getLength(),s)};Xl.getEncodedBits=function(t){if(!DD.isValid(t)||t<7)throw new Error("Invalid QR Code version");let r=t<<12;for(;M_.getBCHDigit(r)-Woe>=0;)r^=Joe<<M_.getBCHDigit(r)-Woe;return t<<12|r}});var nce=C(rce=>{var PD=gu(),tce=1335,eXe=21522,ece=PD.getBCHDigit(tce);rce.getEncodedBits=function(t,r){let n=t.bit<<3|r,s=n<<10;for(;PD.getBCHDigit(s)-ece>=0;)s^=tce<<PD.getBCHDigit(s)-ece;return(n<<10|s)^eXe}});var ice=C((qvt,sce)=>{var tXe=yu();function $p(e){this.mode=tXe.NUMERIC,this.data=e.toString()}$p.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};$p.prototype.getLength=function(){return this.data.length};$p.prototype.getBitsLength=function(){return $p.getBitsLength(this.data.length)};$p.prototype.write=function(t){let r,n,s;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),s=parseInt(n,10),t.put(s,10);let a=this.data.length-r;a>0&&(n=this.data.substr(r),s=parseInt(n,10),t.put(s,a*3+1))};sce.exports=$p});var oce=C((jvt,ace)=>{var rXe=yu(),OD=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Lp(e){this.mode=rXe.ALPHANUMERIC,this.data=e}Lp.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Lp.prototype.getLength=function(){return this.data.length};Lp.prototype.getBitsLength=function(){return Lp.getBitsLength(this.data.length)};Lp.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let n=OD.indexOf(this.data[r])*45;n+=OD.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(OD.indexOf(this.data[r]),6)};ace.exports=Lp});var uce=C((Hvt,cce)=>{var nXe=yu();function Mp(e){this.mode=nXe.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}Mp.getBitsLength=function(t){return t*8};Mp.prototype.getLength=function(){return this.data.length};Mp.prototype.getBitsLength=function(){return Mp.getBitsLength(this.data.length)};Mp.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};cce.exports=Mp});var dce=C((zvt,lce)=>{var sXe=yu(),iXe=gu();function Fp(e){this.mode=sXe.KANJI,this.data=e}Fp.getBitsLength=function(t){return t*13};Fp.prototype.getLength=function(){return this.data.length};Fp.prototype.getBitsLength=function(){return Fp.getBitsLength(this.data.length)};Fp.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=iXe.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};lce.exports=Fp});var fce=C((Gvt,$D)=>{"use strict";var Kg={single_source_shortest_paths:function(e,t,r){var n={},s={};s[t]=0;var a=Kg.PriorityQueue.make();a.push(t,0);for(var o,c,u,l,d,f,p,m,h;!a.empty();){o=a.pop(),c=o.value,l=o.cost,d=e[c]||{};for(u in d)d.hasOwnProperty(u)&&(f=d[u],p=l+f,m=s[u],h=typeof s[u]>"u",(h||m>p)&&(s[u]=p,a.push(u,p),n[u]=c))}if(typeof r<"u"&&typeof s[r]>"u"){var g=["Could not find a path from ",t," to ",r,"."].join("");throw new Error(g)}return n},extract_shortest_path_from_predecessor_list:function(e,t){for(var r=[],n=t,s;n;)r.push(n),s=e[n],n=e[n];return r.reverse(),r},find_path:function(e,t,r){var n=Kg.single_source_shortest_paths(e,t,r);return Kg.extract_shortest_path_from_predecessor_list(n,r)},PriorityQueue:{make:function(e){var t=Kg.PriorityQueue,r={},n;e=e||{};for(n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return r.queue=[],r.sorter=e.sorter||t.default_sorter,r},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var r={value:e,cost:t};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof $D<"u"&&($D.exports=Kg)});var Ece=C(Qp=>{var Gt=yu(),mce=ice(),gce=oce(),Ace=uce(),yce=dce(),Yg=ND(),F_=gu(),aXe=fce();function pce(e){return unescape(encodeURIComponent(e)).length}function Wg(e,t,r){let n=[],s;for(;(s=e.exec(r))!==null;)n.push({data:s[0],index:s.index,mode:t,length:s[0].length});return n}function bce(e){let t=Wg(Yg.NUMERIC,Gt.NUMERIC,e),r=Wg(Yg.ALPHANUMERIC,Gt.ALPHANUMERIC,e),n,s;return F_.isKanjiModeEnabled()?(n=Wg(Yg.BYTE,Gt.BYTE,e),s=Wg(Yg.KANJI,Gt.KANJI,e)):(n=Wg(Yg.BYTE_KANJI,Gt.BYTE,e),s=[]),t.concat(r,n,s).sort(function(o,c){return o.index-c.index}).map(function(o){return{data:o.data,mode:o.mode,length:o.length}})}function LD(e,t){switch(t){case Gt.NUMERIC:return mce.getBitsLength(e);case Gt.ALPHANUMERIC:return gce.getBitsLength(e);case Gt.KANJI:return yce.getBitsLength(e);case Gt.BYTE:return Ace.getBitsLength(e)}}function oXe(e){return e.reduce(function(t,r){let n=t.length-1>=0?t[t.length-1]:null;return n&&n.mode===r.mode?(t[t.length-1].data+=r.data,t):(t.push(r),t)},[])}function cXe(e){let t=[];for(let r=0;r<e.length;r++){let n=e[r];switch(n.mode){case Gt.NUMERIC:t.push([n,{data:n.data,mode:Gt.ALPHANUMERIC,length:n.length},{data:n.data,mode:Gt.BYTE,length:n.length}]);break;case Gt.ALPHANUMERIC:t.push([n,{data:n.data,mode:Gt.BYTE,length:n.length}]);break;case Gt.KANJI:t.push([n,{data:n.data,mode:Gt.BYTE,length:pce(n.data)}]);break;case Gt.BYTE:t.push([{data:n.data,mode:Gt.BYTE,length:pce(n.data)}])}}return t}function uXe(e,t){let r={},n={start:{}},s=["start"];for(let a=0;a<e.length;a++){let o=e[a],c=[];for(let u=0;u<o.length;u++){let l=o[u],d=""+a+u;c.push(d),r[d]={node:l,lastCount:0},n[d]={};for(let f=0;f<s.length;f++){let p=s[f];r[p]&&r[p].node.mode===l.mode?(n[p][d]=LD(r[p].lastCount+l.length,l.mode)-LD(r[p].lastCount,l.mode),r[p].lastCount+=l.length):(r[p]&&(r[p].lastCount=l.length),n[p][d]=LD(l.length,l.mode)+4+Gt.getCharCountIndicator(l.mode,t))}}s=c}for(let a=0;a<s.length;a++)n[s[a]].end=0;return{map:n,table:r}}function hce(e,t){let r,n=Gt.getBestModeForData(e);if(r=Gt.from(t,n),r!==Gt.BYTE&&r.bit<n.bit)throw new Error('"'+e+'" cannot be encoded with mode '+Gt.toString(r)+`.
 Suggested mode is: `+Gt.toString(n));switch(r===Gt.KANJI&&!F_.isKanjiModeEnabled()&&(r=Gt.BYTE),r){case Gt.NUMERIC:return new mce(e);case Gt.ALPHANUMERIC:return new gce(e);case Gt.KANJI:return new yce(e);case Gt.BYTE:return new Ace(e)}}Qp.fromArray=function(t){return t.reduce(function(r,n){return typeof n=="string"?r.push(hce(n,null)):n.data&&r.push(hce(n.data,n.mode)),r},[])};Qp.fromString=function(t,r){let n=bce(t,F_.isKanjiModeEnabled()),s=cXe(n),a=uXe(s,r),o=aXe.find_path(a.map,"start","end"),c=[];for(let u=1;u<o.length-1;u++)c.push(a.table[o[u]].node);return Qp.fromArray(oXe(c))};Qp.rawSplit=function(t){return Qp.fromArray(bce(t,F_.isKanjiModeEnabled()))}});var jD=C(xce=>{var U_=gu(),MD=k_(),lXe=Poe(),dXe=$oe(),fXe=Loe(),pXe=Qoe(),UD=Uoe(),qD=SD(),hXe=Goe(),Q_=Zoe(),mXe=nce(),gXe=yu(),FD=Ece();function AXe(e,t){let r=e.size,n=pXe.getPositions(t);for(let s=0;s<n.length;s++){let a=n[s][0],o=n[s][1];for(let c=-1;c<=7;c++)if(!(a+c<=-1||r<=a+c))for(let u=-1;u<=7;u++)o+u<=-1||r<=o+u||(c>=0&&c<=6&&(u===0||u===6)||u>=0&&u<=6&&(c===0||c===6)||c>=2&&c<=4&&u>=2&&u<=4?e.set(a+c,o+u,!0,!0):e.set(a+c,o+u,!1,!0))}}function yXe(e){let t=e.size;for(let r=8;r<t-8;r++){let n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function bXe(e,t){let r=fXe.getPositions(t);for(let n=0;n<r.length;n++){let s=r[n][0],a=r[n][1];for(let o=-2;o<=2;o++)for(let c=-2;c<=2;c++)o===-2||o===2||c===-2||c===2||o===0&&c===0?e.set(s+o,a+c,!0,!0):e.set(s+o,a+c,!1,!0)}}function EXe(e,t){let r=e.size,n=Q_.getEncodedBits(t),s,a,o;for(let c=0;c<18;c++)s=Math.floor(c/3),a=c%3+r-8-3,o=(n>>c&1)===1,e.set(s,a,o,!0),e.set(a,s,o,!0)}function QD(e,t,r){let n=e.size,s=mXe.getEncodedBits(t,r),a,o;for(a=0;a<15;a++)o=(s>>a&1)===1,a<6?e.set(a,8,o,!0):a<8?e.set(a+1,8,o,!0):e.set(n-15+a,8,o,!0),a<8?e.set(8,n-a-1,o,!0):a<9?e.set(8,15-a-1+1,o,!0):e.set(8,15-a-1,o,!0);e.set(n-8,8,1,!0)}function xXe(e,t){let r=e.size,n=-1,s=r-1,a=7,o=0;for(let c=r-1;c>0;c-=2)for(c===6&&c--;;){for(let u=0;u<2;u++)if(!e.isReserved(s,c-u)){let l=!1;o<t.length&&(l=(t[o]>>>a&1)===1),e.set(s,c-u,l),a--,a===-1&&(o++,a=7)}if(s+=n,s<0||r<=s){s-=n,n=-n;break}}}function vXe(e,t,r){let n=new lXe;r.forEach(function(u){n.put(u.mode.bit,4),n.put(u.getLength(),gXe.getCharCountIndicator(u.mode,e)),u.write(n)});let s=U_.getSymbolTotalCodewords(e),a=qD.getTotalCodewordsCount(e,t),o=(s-a)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);let c=(o-n.getLengthInBits())/8;for(let u=0;u<c;u++)n.put(u%2?17:236,8);return _Xe(n,e,t)}function _Xe(e,t,r){let n=U_.getSymbolTotalCodewords(t),s=qD.getTotalCodewordsCount(t,r),a=n-s,o=qD.getBlocksCount(t,r),c=n%o,u=o-c,l=Math.floor(n/o),d=Math.floor(a/o),f=d+1,p=l-d,m=new hXe(p),h=0,g=new Array(o),A=new Array(o),y=0,v=new Uint8Array(e.buffer);for(let S=0;S<o;S++){let T=S<u?d:f;g[S]=v.slice(h,h+T),A[S]=m.encode(g[S]),h+=T,y=Math.max(y,T)}let b=new Uint8Array(n),E=0,I,w;for(I=0;I<y;I++)for(w=0;w<o;w++)I<g[w].length&&(b[E++]=g[w][I]);for(I=0;I<p;I++)for(w=0;w<o;w++)b[E++]=A[w][I];return b}function IXe(e,t,r,n){let s;if(Array.isArray(e))s=FD.fromArray(e);else if(typeof e=="string"){let l=t;if(!l){let d=FD.rawSplit(e);l=Q_.getBestVersionForData(d,r)}s=FD.fromString(e,l||40)}else throw new Error("Invalid data");let a=Q_.getBestVersionForData(s,r);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=a;else if(t<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);let o=vXe(t,r,s),c=U_.getSymbolSize(t),u=new dXe(c);return AXe(u,t),yXe(u),bXe(u,t),QD(u,r,0),t>=7&&EXe(u,t),xXe(u,o),isNaN(n)&&(n=UD.getBestMask(u,QD.bind(null,u,r))),UD.applyMask(n,u),QD(u,r,n),{modules:u,version:t,errorCorrectionLevel:r,maskPattern:n,segments:s}}xce.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let n=MD.M,s,a;return typeof r<"u"&&(n=MD.from(r.errorCorrectionLevel,MD.M),s=Q_.from(r.version),a=UD.from(r.maskPattern),r.toSJISFunc&&U_.setToSJISFunction(r.toSJISFunc)),IXe(t,s,n,a)}});var HD=C((Yvt,_ce)=>{"use strict";var CXe=require("util"),vce=require("stream"),ua=_ce.exports=function(){vce.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};CXe.inherits(ua,vce);ua.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t}),process.nextTick(function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))};ua.prototype.write=function(e,t){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;let r;return Buffer.isBuffer(e)?r=e:r=Buffer.from(e,t||this._encoding),this._buffers.push(r),this._buffered+=r.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused};ua.prototype.end=function(e,t){e&&this.write(e,t),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))};ua.prototype.destroySoon=ua.prototype.end;ua.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()};ua.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))};ua.prototype._processReadAllowingLess=function(e){this._reads.shift();let t=this._buffers[0];t.length>e.length?(this._buffered-=e.length,this._buffers[0]=t.slice(e.length),e.func.call(this,t.slice(0,e.length))):(this._buffered-=t.length,this._buffers.shift(),e.func.call(this,t))};ua.prototype._processRead=function(e){this._reads.shift();let t=0,r=0,n=Buffer.alloc(e.length);for(;t<e.length;){let s=this._buffers[r++],a=Math.min(s.length,e.length-t);s.copy(n,t,0,a),t+=a,a!==s.length&&(this._buffers[--r]=s.slice(a))}r>0&&this._buffers.splice(0,r),this._buffered-=e.length,e.func.call(this,n)};ua.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let e=this._reads[0];if(e.allowLess)this._processReadAllowingLess(e);else if(this._buffered>=e.length)this._processRead(e);else break}this._buffers&&!this.writable&&this._end()}catch(e){this.emit("error",e)}}});var GD=C(zD=>{"use strict";var Eu=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];zD.getImagePasses=function(e,t){let r=[],n=e%8,s=t%8,a=(e-n)/8,o=(t-s)/8;for(let c=0;c<Eu.length;c++){let u=Eu[c],l=a*u.x.length,d=o*u.y.length;for(let f=0;f<u.x.length&&u.x[f]<n;f++)l++;for(let f=0;f<u.y.length&&u.y[f]<s;f++)d++;l>0&&d>0&&r.push({width:l,height:d,index:c})}return r};zD.getInterlaceIterator=function(e){return function(t,r,n){let s=t%Eu[n].x.length,a=(t-s)/Eu[n].x.length*8+Eu[n].x[s],o=r%Eu[n].y.length,c=(r-o)/Eu[n].y.length*8+Eu[n].y[o];return a*4+c*e*4}}});var VD=C((Jvt,Ice)=>{"use strict";Ice.exports=function(t,r,n){let s=t+r-n,a=Math.abs(s-t),o=Math.abs(s-r),c=Math.abs(s-n);return a<=o&&a<=c?t:o<=c?r:n}});var KD=C((Xvt,wce)=>{"use strict";var wXe=GD(),SXe=VD();function Cce(e,t,r){let n=e*t;return r!==8&&(n=Math.ceil(n/(8/r))),n}var Up=wce.exports=function(e,t){let r=e.width,n=e.height,s=e.interlace,a=e.bpp,o=e.depth;if(this.read=t.read,this.write=t.write,this.complete=t.complete,this._imageIndex=0,this._images=[],s){let c=wXe.getImagePasses(r,n);for(let u=0;u<c.length;u++)this._images.push({byteWidth:Cce(c[u].width,a,o),height:c[u].height,lineIndex:0})}else this._images.push({byteWidth:Cce(r,a,o),height:n,lineIndex:0});o===8?this._xComparison=a:o===16?this._xComparison=a*2:this._xComparison=1};Up.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))};Up.prototype._unFilterType1=function(e,t,r){let n=this._xComparison,s=n-1;for(let a=0;a<r;a++){let o=e[1+a],c=a>s?t[a-n]:0;t[a]=o+c}};Up.prototype._unFilterType2=function(e,t,r){let n=this._lastLine;for(let s=0;s<r;s++){let a=e[1+s],o=n?n[s]:0;t[s]=a+o}};Up.prototype._unFilterType3=function(e,t,r){let n=this._xComparison,s=n-1,a=this._lastLine;for(let o=0;o<r;o++){let c=e[1+o],u=a?a[o]:0,l=o>s?t[o-n]:0,d=Math.floor((l+u)/2);t[o]=c+d}};Up.prototype._unFilterType4=function(e,t,r){let n=this._xComparison,s=n-1,a=this._lastLine;for(let o=0;o<r;o++){let c=e[1+o],u=a?a[o]:0,l=o>s?t[o-n]:0,d=o>s&&a?a[o-n]:0,f=SXe(l,u,d);t[o]=c+f}};Up.prototype._reverseFilterLine=function(e){let t=e[0],r,n=this._images[this._imageIndex],s=n.byteWidth;if(t===0)r=e.slice(1,s+1);else switch(r=Buffer.alloc(s),t){case 1:this._unFilterType1(e,r,s);break;case 2:this._unFilterType2(e,r,s);break;case 3:this._unFilterType3(e,r,s);break;case 4:this._unFilterType4(e,r,s);break;default:throw new Error("Unrecognised filter type - "+t)}this.write(r),n.lineIndex++,n.lineIndex>=n.height?(this._lastLine=null,this._imageIndex++,n=this._images[this._imageIndex]):this._lastLine=r,n?this.read(n.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}});var Bce=C((Zvt,Tce)=>{"use strict";var TXe=require("util"),Sce=HD(),BXe=KD(),RXe=Tce.exports=function(e){Sce.call(this);let t=[],r=this;this._filter=new BXe(e,{read:this.read.bind(this),write:function(n){t.push(n)},complete:function(){r.emit("complete",Buffer.concat(t))}}),this._filter.start()};TXe.inherits(RXe,Sce)});var qp=C((e_t,Rce)=>{"use strict";Rce.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}});var JD=C((t_t,Nce)=>{"use strict";var YD=[];(function(){for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;YD[e]=t}})();var WD=Nce.exports=function(){this._crc=-1};WD.prototype.write=function(e){for(let t=0;t<e.length;t++)this._crc=YD[(this._crc^e[t])&255]^this._crc>>>8;return!0};WD.prototype.crc32=function(){return this._crc^-1};WD.crc32=function(e){let t=-1;for(let r=0;r<e.length;r++)t=YD[(t^e[r])&255]^t>>>8;return t^-1}});var XD=C((r_t,kce)=>{"use strict";var an=qp(),NXe=JD(),An=kce.exports=function(e,t){this._options=e,e.checkCRC=e.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[an.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[an.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[an.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[an.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[an.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[an.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=t.read,this.error=t.error,this.metadata=t.metadata,this.gamma=t.gamma,this.transColor=t.transColor,this.palette=t.palette,this.parsed=t.parsed,this.inflateData=t.inflateData,this.finished=t.finished,this.simpleTransparency=t.simpleTransparency,this.headersFinished=t.headersFinished||function(){}};An.prototype.start=function(){this.read(an.PNG_SIGNATURE.length,this._parseSignature.bind(this))};An.prototype._parseSignature=function(e){let t=an.PNG_SIGNATURE;for(let r=0;r<t.length;r++)if(e[r]!==t[r]){this.error(new Error("Invalid file signature"));return}this.read(8,this._parseChunkBegin.bind(this))};An.prototype._parseChunkBegin=function(e){let t=e.readUInt32BE(0),r=e.readUInt32BE(4),n="";for(let a=4;a<8;a++)n+=String.fromCharCode(e[a]);let s=!!(e[4]&32);if(!this._hasIHDR&&r!==an.TYPE_IHDR){this.error(new Error("Expected IHDR on beggining"));return}if(this._crc=new NXe,this._crc.write(Buffer.from(n)),this._chunks[r])return this._chunks[r](t);if(!s){this.error(new Error("Unsupported critical chunk type "+n));return}this.read(t+4,this._skipChunk.bind(this))};An.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))};An.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))};An.prototype._parseChunkEnd=function(e){let t=e.readInt32BE(0),r=this._crc.crc32();if(this._options.checkCRC&&r!==t){this.error(new Error("Crc error - "+t+" - "+r));return}this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))};An.prototype._handleIHDR=function(e){this.read(e,this._parseIHDR.bind(this))};An.prototype._parseIHDR=function(e){this._crc.write(e);let t=e.readUInt32BE(0),r=e.readUInt32BE(4),n=e[8],s=e[9],a=e[10],o=e[11],c=e[12];if(n!==8&&n!==4&&n!==2&&n!==1&&n!==16){this.error(new Error("Unsupported bit depth "+n));return}if(!(s in an.COLORTYPE_TO_BPP_MAP)){this.error(new Error("Unsupported color type"));return}if(a!==0){this.error(new Error("Unsupported compression method"));return}if(o!==0){this.error(new Error("Unsupported filter method"));return}if(c!==0&&c!==1){this.error(new Error("Unsupported interlace method"));return}this._colorType=s;let u=an.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:t,height:r,depth:n,interlace:!!c,palette:!!(s&an.COLORTYPE_PALETTE),color:!!(s&an.COLORTYPE_COLOR),alpha:!!(s&an.COLORTYPE_ALPHA),bpp:u,colorType:s}),this._handleChunkEnd()};An.prototype._handlePLTE=function(e){this.read(e,this._parsePLTE.bind(this))};An.prototype._parsePLTE=function(e){this._crc.write(e);let t=Math.floor(e.length/3);for(let r=0;r<t;r++)this._palette.push([e[r*3],e[r*3+1],e[r*3+2],255]);this.palette(this._palette),this._handleChunkEnd()};An.prototype._handleTRNS=function(e){this.simpleTransparency(),this.read(e,this._parseTRNS.bind(this))};An.prototype._parseTRNS=function(e){if(this._crc.write(e),this._colorType===an.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0){this.error(new Error("Transparency chunk must be after palette"));return}if(e.length>this._palette.length){this.error(new Error("More transparent colors than palette size"));return}for(let t=0;t<e.length;t++)this._palette[t][3]=e[t];this.palette(this._palette)}this._colorType===an.COLORTYPE_GRAYSCALE&&this.transColor([e.readUInt16BE(0)]),this._colorType===an.COLORTYPE_COLOR&&this.transColor([e.readUInt16BE(0),e.readUInt16BE(2),e.readUInt16BE(4)]),this._handleChunkEnd()};An.prototype._handleGAMA=function(e){this.read(e,this._parseGAMA.bind(this))};An.prototype._parseGAMA=function(e){this._crc.write(e),this.gamma(e.readUInt32BE(0)/an.GAMMA_DIVISION),this._handleChunkEnd()};An.prototype._handleIDAT=function(e){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-e,this._parseIDAT.bind(this,e))};An.prototype._parseIDAT=function(e,t){if(this._crc.write(t),this._colorType===an.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(t);let r=e-t.length;r>0?this._handleIDAT(r):this._handleChunkEnd()};An.prototype._handleIEND=function(e){this.read(e,this._parseIEND.bind(this))};An.prototype._parseIEND=function(e){this._crc.write(e),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}});var ZD=C(Pce=>{"use strict";var Dce=GD(),kXe=[function(){},function(e,t,r,n){if(n===t.length)throw new Error("Ran out of data");let s=t[n];e[r]=s,e[r+1]=s,e[r+2]=s,e[r+3]=255},function(e,t,r,n){if(n+1>=t.length)throw new Error("Ran out of data");let s=t[n];e[r]=s,e[r+1]=s,e[r+2]=s,e[r+3]=t[n+1]},function(e,t,r,n){if(n+2>=t.length)throw new Error("Ran out of data");e[r]=t[n],e[r+1]=t[n+1],e[r+2]=t[n+2],e[r+3]=255},function(e,t,r,n){if(n+3>=t.length)throw new Error("Ran out of data");e[r]=t[n],e[r+1]=t[n+1],e[r+2]=t[n+2],e[r+3]=t[n+3]}],DXe=[function(){},function(e,t,r,n){let s=t[0];e[r]=s,e[r+1]=s,e[r+2]=s,e[r+3]=n},function(e,t,r){let n=t[0];e[r]=n,e[r+1]=n,e[r+2]=n,e[r+3]=t[1]},function(e,t,r,n){e[r]=t[0],e[r+1]=t[1],e[r+2]=t[2],e[r+3]=n},function(e,t,r){e[r]=t[0],e[r+1]=t[1],e[r+2]=t[2],e[r+3]=t[3]}];function PXe(e,t){let r=[],n=0;function s(){if(n===e.length)throw new Error("Ran out of data");let a=e[n];n++;let o,c,u,l,d,f,p,m;switch(t){default:throw new Error("unrecognised depth");case 16:p=e[n],n++,r.push((a<<8)+p);break;case 4:p=a&15,m=a>>4,r.push(m,p);break;case 2:d=a&3,f=a>>2&3,p=a>>4&3,m=a>>6&3,r.push(m,p,f,d);break;case 1:o=a&1,c=a>>1&1,u=a>>2&1,l=a>>3&1,d=a>>4&1,f=a>>5&1,p=a>>6&1,m=a>>7&1,r.push(m,p,f,d,l,u,c,o);break}}return{get:function(a){for(;r.length<a;)s();let o=r.slice(0,a);return r=r.slice(a),o},resetAfterLine:function(){r.length=0},end:function(){if(n!==e.length)throw new Error("extra data found")}}}function OXe(e,t,r,n,s,a){let o=e.width,c=e.height,u=e.index;for(let l=0;l<c;l++)for(let d=0;d<o;d++){let f=r(d,l,u);kXe[n](t,s,f,a),a+=n}return a}function $Xe(e,t,r,n,s,a){let o=e.width,c=e.height,u=e.index;for(let l=0;l<c;l++){for(let d=0;d<o;d++){let f=s.get(n),p=r(d,l,u);DXe[n](t,f,p,a)}s.resetAfterLine()}}Pce.dataToBitMap=function(e,t){let r=t.width,n=t.height,s=t.depth,a=t.bpp,o=t.interlace,c;s!==8&&(c=PXe(e,s));let u;s<=8?u=Buffer.alloc(r*n*4):u=new Uint16Array(r*n*4);let l=Math.pow(2,s)-1,d=0,f,p;if(o)f=Dce.getImagePasses(r,n),p=Dce.getInterlaceIterator(r,n);else{let m=0;p=function(){let h=m;return m+=4,h},f=[{width:r,height:n}]}for(let m=0;m<f.length;m++)s===8?d=OXe(f[m],u,p,a,e,d):$Xe(f[m],u,p,a,c,l);if(s===8){if(d!==e.length)throw new Error("extra data found")}else c.end();return u}});var eP=C((s_t,Oce)=>{"use strict";function LXe(e,t,r,n,s){let a=0;for(let o=0;o<n;o++)for(let c=0;c<r;c++){let u=s[e[a]];if(!u)throw new Error("index "+e[a]+" not in palette");for(let l=0;l<4;l++)t[a+l]=u[l];a+=4}}function MXe(e,t,r,n,s){let a=0;for(let o=0;o<n;o++)for(let c=0;c<r;c++){let u=!1;if(s.length===1?s[0]===e[a]&&(u=!0):s[0]===e[a]&&s[1]===e[a+1]&&s[2]===e[a+2]&&(u=!0),u)for(let l=0;l<4;l++)t[a+l]=0;a+=4}}function FXe(e,t,r,n,s){let a=255,o=Math.pow(2,s)-1,c=0;for(let u=0;u<n;u++)for(let l=0;l<r;l++){for(let d=0;d<4;d++)t[c+d]=Math.floor(e[c+d]*a/o+.5);c+=4}}Oce.exports=function(e,t){let r=t.depth,n=t.width,s=t.height,a=t.colorType,o=t.transColor,c=t.palette,u=e;return a===3?LXe(e,u,n,s,c):(o&&MXe(e,u,n,s,o),r!==8&&(r===16&&(u=Buffer.alloc(n*s*4)),FXe(e,u,n,s,r))),u}});var Mce=C((i_t,Lce)=>{"use strict";var QXe=require("util"),tP=require("zlib"),$ce=HD(),UXe=Bce(),qXe=XD(),jXe=ZD(),HXe=eP(),Va=Lce.exports=function(e){$ce.call(this),this._parser=new qXe(e,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=e,this.writable=!0,this._parser.start()};QXe.inherits(Va,$ce);Va.prototype._handleError=function(e){this.emit("error",e),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0};Va.prototype._inflateData=function(e){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=tP.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let r=((this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1)*this._bitmapInfo.height,n=Math.max(r,tP.Z_MIN_CHUNK);this._inflate=tP.createInflate({chunkSize:n});let s=r,a=this.emit.bind(this,"error");this._inflate.on("error",function(c){s&&a(c)}),this._filter.on("complete",this._complete.bind(this));let o=this._filter.write.bind(this._filter);this._inflate.on("data",function(c){s&&(c.length>s&&(c=c.slice(0,s)),s-=c.length,o(c))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(e)};Va.prototype._handleMetaData=function(e){this._metaData=e,this._bitmapInfo=Object.create(e),this._filter=new UXe(this._bitmapInfo)};Va.prototype._handleTransColor=function(e){this._bitmapInfo.transColor=e};Va.prototype._handlePalette=function(e){this._bitmapInfo.palette=e};Va.prototype._simpleTransparency=function(){this._metaData.alpha=!0};Va.prototype._headersFinished=function(){this.emit("metadata",this._metaData)};Va.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))};Va.prototype._complete=function(e){if(this.errord)return;let t;try{let r=jXe.dataToBitMap(e,this._bitmapInfo);t=HXe(r,this._bitmapInfo),r=null}catch(r){this._handleError(r);return}this.emit("parsed",t)}});var Qce=C((a_t,Fce)=>{"use strict";var ki=qp();Fce.exports=function(e,t,r,n){let s=[ki.COLORTYPE_COLOR_ALPHA,ki.COLORTYPE_ALPHA].indexOf(n.colorType)!==-1;if(n.colorType===n.inputColorType){let h=function(){let g=new ArrayBuffer(2);return new DataView(g).setInt16(0,256,!0),new Int16Array(g)[0]!==256}();if(n.bitDepth===8||n.bitDepth===16&&h)return e}let a=n.bitDepth!==16?e:new Uint16Array(e.buffer),o=255,c=ki.COLORTYPE_TO_BPP_MAP[n.inputColorType];c===4&&!n.inputHasAlpha&&(c=3);let u=ki.COLORTYPE_TO_BPP_MAP[n.colorType];n.bitDepth===16&&(o=65535,u*=2);let l=Buffer.alloc(t*r*u),d=0,f=0,p=n.bgColor||{};p.red===void 0&&(p.red=o),p.green===void 0&&(p.green=o),p.blue===void 0&&(p.blue=o);function m(){let h,g,A,y=o;switch(n.inputColorType){case ki.COLORTYPE_COLOR_ALPHA:y=a[d+3],h=a[d],g=a[d+1],A=a[d+2];break;case ki.COLORTYPE_COLOR:h=a[d],g=a[d+1],A=a[d+2];break;case ki.COLORTYPE_ALPHA:y=a[d+1],h=a[d],g=h,A=h;break;case ki.COLORTYPE_GRAYSCALE:h=a[d],g=h,A=h;break;default:throw new Error("input color type:"+n.inputColorType+" is not supported at present")}return n.inputHasAlpha&&(s||(y/=o,h=Math.min(Math.max(Math.round((1-y)*p.red+y*h),0),o),g=Math.min(Math.max(Math.round((1-y)*p.green+y*g),0),o),A=Math.min(Math.max(Math.round((1-y)*p.blue+y*A),0),o))),{red:h,green:g,blue:A,alpha:y}}for(let h=0;h<r;h++)for(let g=0;g<t;g++){let A=m(a,d);switch(n.colorType){case ki.COLORTYPE_COLOR_ALPHA:case ki.COLORTYPE_COLOR:n.bitDepth===8?(l[f]=A.red,l[f+1]=A.green,l[f+2]=A.blue,s&&(l[f+3]=A.alpha)):(l.writeUInt16BE(A.red,f),l.writeUInt16BE(A.green,f+2),l.writeUInt16BE(A.blue,f+4),s&&l.writeUInt16BE(A.alpha,f+6));break;case ki.COLORTYPE_ALPHA:case ki.COLORTYPE_GRAYSCALE:{let y=(A.red+A.green+A.blue)/3;n.bitDepth===8?(l[f]=y,s&&(l[f+1]=A.alpha)):(l.writeUInt16BE(y,f),s&&l.writeUInt16BE(A.alpha,f+2));break}default:throw new Error("unrecognised color Type "+n.colorType)}d+=c,f+=u}return l}});var jce=C((o_t,qce)=>{"use strict";var Uce=VD();function zXe(e,t,r,n,s){for(let a=0;a<r;a++)n[s+a]=e[t+a]}function GXe(e,t,r){let n=0,s=t+r;for(let a=t;a<s;a++)n+=Math.abs(e[a]);return n}function VXe(e,t,r,n,s,a){for(let o=0;o<r;o++){let c=o>=a?e[t+o-a]:0,u=e[t+o]-c;n[s+o]=u}}function KXe(e,t,r,n){let s=0;for(let a=0;a<r;a++){let o=a>=n?e[t+a-n]:0,c=e[t+a]-o;s+=Math.abs(c)}return s}function YXe(e,t,r,n,s){for(let a=0;a<r;a++){let o=t>0?e[t+a-r]:0,c=e[t+a]-o;n[s+a]=c}}function WXe(e,t,r){let n=0,s=t+r;for(let a=t;a<s;a++){let o=t>0?e[a-r]:0,c=e[a]-o;n+=Math.abs(c)}return n}function JXe(e,t,r,n,s,a){for(let o=0;o<r;o++){let c=o>=a?e[t+o-a]:0,u=t>0?e[t+o-r]:0,l=e[t+o]-(c+u>>1);n[s+o]=l}}function XXe(e,t,r,n){let s=0;for(let a=0;a<r;a++){let o=a>=n?e[t+a-n]:0,c=t>0?e[t+a-r]:0,u=e[t+a]-(o+c>>1);s+=Math.abs(u)}return s}function ZXe(e,t,r,n,s,a){for(let o=0;o<r;o++){let c=o>=a?e[t+o-a]:0,u=t>0?e[t+o-r]:0,l=t>0&&o>=a?e[t+o-(r+a)]:0,d=e[t+o]-Uce(c,u,l);n[s+o]=d}}function eZe(e,t,r,n){let s=0;for(let a=0;a<r;a++){let o=a>=n?e[t+a-n]:0,c=t>0?e[t+a-r]:0,u=t>0&&a>=n?e[t+a-(r+n)]:0,l=e[t+a]-Uce(o,c,u);s+=Math.abs(l)}return s}var tZe={0:zXe,1:VXe,2:YXe,3:JXe,4:ZXe},rZe={0:GXe,1:KXe,2:WXe,3:XXe,4:eZe};qce.exports=function(e,t,r,n,s){let a;if(!("filterType"in n)||n.filterType===-1)a=[0,1,2,3,4];else if(typeof n.filterType=="number")a=[n.filterType];else throw new Error("unrecognised filter types");n.bitDepth===16&&(s*=2);let o=t*s,c=0,u=0,l=Buffer.alloc((o+1)*r),d=a[0];for(let f=0;f<r;f++){if(a.length>1){let p=1/0;for(let m=0;m<a.length;m++){let h=rZe[a[m]](e,u,o,s);h<p&&(d=a[m],p=h)}}l[c]=d,c++,tZe[d](e,u,o,l,c,s),c+=o,u+=o}return l}});var rP=C((c_t,Hce)=>{"use strict";var es=qp(),nZe=JD(),sZe=Qce(),iZe=jce(),aZe=require("zlib"),xu=Hce.exports=function(e){if(this._options=e,e.deflateChunkSize=e.deflateChunkSize||32*1024,e.deflateLevel=e.deflateLevel!=null?e.deflateLevel:9,e.deflateStrategy=e.deflateStrategy!=null?e.deflateStrategy:3,e.inputHasAlpha=e.inputHasAlpha!=null?e.inputHasAlpha:!0,e.deflateFactory=e.deflateFactory||aZe.createDeflate,e.bitDepth=e.bitDepth||8,e.colorType=typeof e.colorType=="number"?e.colorType:es.COLORTYPE_COLOR_ALPHA,e.inputColorType=typeof e.inputColorType=="number"?e.inputColorType:es.COLORTYPE_COLOR_ALPHA,[es.COLORTYPE_GRAYSCALE,es.COLORTYPE_COLOR,es.COLORTYPE_COLOR_ALPHA,es.COLORTYPE_ALPHA].indexOf(e.colorType)===-1)throw new Error("option color type:"+e.colorType+" is not supported at present");if([es.COLORTYPE_GRAYSCALE,es.COLORTYPE_COLOR,es.COLORTYPE_COLOR_ALPHA,es.COLORTYPE_ALPHA].indexOf(e.inputColorType)===-1)throw new Error("option input color type:"+e.inputColorType+" is not supported at present");if(e.bitDepth!==8&&e.bitDepth!==16)throw new Error("option bit depth:"+e.bitDepth+" is not supported at present")};xu.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}};xu.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())};xu.prototype.filterData=function(e,t,r){let n=sZe(e,t,r,this._options),s=es.COLORTYPE_TO_BPP_MAP[this._options.colorType];return iZe(n,t,r,this._options,s)};xu.prototype._packChunk=function(e,t){let r=t?t.length:0,n=Buffer.alloc(r+12);return n.writeUInt32BE(r,0),n.writeUInt32BE(e,4),t&&t.copy(n,8),n.writeInt32BE(nZe.crc32(n.slice(4,n.length-4)),n.length-4),n};xu.prototype.packGAMA=function(e){let t=Buffer.alloc(4);return t.writeUInt32BE(Math.floor(e*es.GAMMA_DIVISION),0),this._packChunk(es.TYPE_gAMA,t)};xu.prototype.packIHDR=function(e,t){let r=Buffer.alloc(13);return r.writeUInt32BE(e,0),r.writeUInt32BE(t,4),r[8]=this._options.bitDepth,r[9]=this._options.colorType,r[10]=0,r[11]=0,r[12]=0,this._packChunk(es.TYPE_IHDR,r)};xu.prototype.packIDAT=function(e){return this._packChunk(es.TYPE_IDAT,e)};xu.prototype.packIEND=function(){return this._packChunk(es.TYPE_IEND,null)}});var Kce=C((u_t,Vce)=>{"use strict";var oZe=require("util"),zce=require("stream"),cZe=qp(),uZe=rP(),Gce=Vce.exports=function(e){zce.call(this);let t=e||{};this._packer=new uZe(t),this._deflate=this._packer.createDeflate(),this.readable=!0};oZe.inherits(Gce,zce);Gce.prototype.pack=function(e,t,r,n){this.emit("data",Buffer.from(cZe.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(t,r)),n&&this.emit("data",this._packer.packGAMA(n));let s=this._packer.filterData(e,t,r);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(a){this.emit("data",this._packer.packIDAT(a))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(s)}});var eue=C((Jg,Zce)=>{"use strict";var Yce=require("assert").ok,jp=require("zlib"),lZe=require("util"),Wce=require("buffer").kMaxLength;function Zl(e){if(!(this instanceof Zl))return new Zl(e);e&&e.chunkSize<jp.Z_MIN_CHUNK&&(e.chunkSize=jp.Z_MIN_CHUNK),jp.Inflate.call(this,e),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,e&&e.maxLength!=null&&(this._maxLength=e.maxLength)}function dZe(e){return new Zl(e)}function Jce(e,t){t&&process.nextTick(t),e._handle&&(e._handle.close(),e._handle=null)}Zl.prototype._processChunk=function(e,t,r){if(typeof r=="function")return jp.Inflate._processChunk.call(this,e,t,r);let n=this,s=e&&e.length,a=this._chunkSize-this._offset,o=this._maxLength,c=0,u=[],l=0,d;this.on("error",function(h){d=h});function f(h,g){if(n._hadError)return;let A=a-g;if(Yce(A>=0,"have should not go down"),A>0){let y=n._buffer.slice(n._offset,n._offset+A);if(n._offset+=A,y.length>o&&(y=y.slice(0,o)),u.push(y),l+=y.length,o-=y.length,o===0)return!1}return(g===0||n._offset>=n._chunkSize)&&(a=n._chunkSize,n._offset=0,n._buffer=Buffer.allocUnsafe(n._chunkSize)),g===0?(c+=s-h,s=h,!0):!1}Yce(this._handle,"zlib binding closed");let p;do p=this._handle.writeSync(t,e,c,s,this._buffer,this._offset,a),p=p||this._writeState;while(!this._hadError&&f(p[0],p[1]));if(this._hadError)throw d;if(l>=Wce)throw Jce(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+Wce.toString(16)+" bytes");let m=Buffer.concat(u,l);return Jce(this),m};lZe.inherits(Zl,jp.Inflate);function fZe(e,t){if(typeof t=="string"&&(t=Buffer.from(t)),!(t instanceof Buffer))throw new TypeError("Not a string or buffer");let r=e._finishFlushFlag;return r==null&&(r=jp.Z_FINISH),e._processChunk(t,r)}function Xce(e,t){return fZe(new Zl(t),e)}Zce.exports=Jg=Xce;Jg.Inflate=Zl;Jg.createInflate=dZe;Jg.inflateSync=Xce});var nP=C((l_t,rue)=>{"use strict";var tue=rue.exports=function(e){this._buffer=e,this._reads=[]};tue.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t})};tue.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let e=this._reads[0];if(this._buffer.length&&(this._buffer.length>=e.length||e.allowLess)){this._reads.shift();let t=this._buffer;this._buffer=t.slice(e.length),e.func.call(this,t.slice(0,e.length))}else break}if(this._reads.length>0)return new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)return new Error("unrecognised content at end of stream")}});var sue=C(nue=>{"use strict";var pZe=nP(),hZe=KD();nue.process=function(e,t){let r=[],n=new pZe(e);return new hZe(t,{read:n.read.bind(n),write:function(a){r.push(a)},complete:function(){}}).start(),n.process(),Buffer.concat(r)}});var cue=C((f_t,oue)=>{"use strict";var iue=!0,aue=require("zlib"),mZe=eue();aue.deflateSync||(iue=!1);var gZe=nP(),AZe=sue(),yZe=XD(),bZe=ZD(),EZe=eP();oue.exports=function(e,t){if(!iue)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let r;function n(E){r=E}let s;function a(E){s=E}function o(E){s.transColor=E}function c(E){s.palette=E}function u(){s.alpha=!0}let l;function d(E){l=E}let f=[];function p(E){f.push(E)}let m=new gZe(e);if(new yZe(t,{read:m.read.bind(m),error:n,metadata:a,gamma:d,palette:c,transColor:o,inflateData:p,simpleTransparency:u}).start(),m.process(),r)throw r;let g=Buffer.concat(f);f.length=0;let A;if(s.interlace)A=aue.inflateSync(g);else{let I=((s.width*s.bpp*s.depth+7>>3)+1)*s.height;A=mZe(g,{chunkSize:I,maxLength:I})}if(g=null,!A||!A.length)throw new Error("bad png - invalid inflate data response");let y=AZe.process(A,s);g=null;let v=bZe.dataToBitMap(y,s);y=null;let b=EZe(v,s);return s.data=b,s.gamma=l||0,s}});var fue=C((p_t,due)=>{"use strict";var uue=!0,lue=require("zlib");lue.deflateSync||(uue=!1);var xZe=qp(),vZe=rP();due.exports=function(e,t){if(!uue)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let r=t||{},n=new vZe(r),s=[];s.push(Buffer.from(xZe.PNG_SIGNATURE)),s.push(n.packIHDR(e.width,e.height)),e.gamma&&s.push(n.packGAMA(e.gamma));let a=n.filterData(e.data,e.width,e.height),o=lue.deflateSync(a,n.getDeflateOptions());if(a=null,!o||!o.length)throw new Error("bad png - invalid compressed data response");return s.push(n.packIDAT(o)),s.push(n.packIEND()),Buffer.concat(s)}});var pue=C(sP=>{"use strict";var _Ze=cue(),IZe=fue();sP.read=function(e,t){return _Ze(e,t||{})};sP.write=function(e,t){return IZe(e,t)}});var gue=C(mue=>{"use strict";var CZe=require("util"),hue=require("stream"),wZe=Mce(),SZe=Kce(),TZe=pue(),gs=mue.PNG=function(e){hue.call(this),e=e||{},this.width=e.width|0,this.height=e.height|0,this.data=this.width>0&&this.height>0?Buffer.alloc(4*this.width*this.height):null,e.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new wZe(e),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(t){this.data=t,this.emit("parsed",t)}.bind(this)),this._packer=new SZe(e),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};CZe.inherits(gs,hue);gs.sync=TZe;gs.prototype.pack=function(){return!this.data||!this.data.length?(this.emit("error","No data provided"),this):(process.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this)};gs.prototype.parse=function(e,t){if(t){let r,n;r=function(s){this.removeListener("error",n),this.data=s,t(null,this)}.bind(this),n=function(s){this.removeListener("parsed",r),t(s,null)}.bind(this),this.once("parsed",r),this.once("error",n)}return this.end(e),this};gs.prototype.write=function(e){return this._parser.write(e),!0};gs.prototype.end=function(e){this._parser.end(e)};gs.prototype._metadata=function(e){this.width=e.width,this.height=e.height,this.emit("metadata",e)};gs.prototype._gamma=function(e){this.gamma=e};gs.prototype._handleClose=function(){!this._parser.writable&&!this._packer.readable&&this.emit("close")};gs.bitblt=function(e,t,r,n,s,a,o,c){if(r|=0,n|=0,s|=0,a|=0,o|=0,c|=0,r>e.width||n>e.height||r+s>e.width||n+a>e.height)throw new Error("bitblt reading outside image");if(o>t.width||c>t.height||o+s>t.width||c+a>t.height)throw new Error("bitblt writing outside image");for(let u=0;u<a;u++)e.data.copy(t.data,(c+u)*t.width+o<<2,(n+u)*e.width+r<<2,(n+u)*e.width+r+s<<2)};gs.prototype.bitblt=function(e,t,r,n,s,a,o){return gs.bitblt(this,e,t,r,n,s,a,o),this};gs.adjustGamma=function(e){if(e.gamma){for(let t=0;t<e.height;t++)for(let r=0;r<e.width;r++){let n=e.width*t+r<<2;for(let s=0;s<3;s++){let a=e.data[n+s]/255;a=Math.pow(a,1/2.2/e.gamma),e.data[n+s]=Math.round(a*255)}}e.gamma=0}};gs.prototype.adjustGamma=function(){gs.adjustGamma(this)}});var Xg=C(ed=>{function Aue(e){if(typeof e=="number"&&(e=e.toString()),typeof e!="string")throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||t.length===5||t.length>8)throw new Error("Invalid hex color: "+e);(t.length===3||t.length===4)&&(t=Array.prototype.concat.apply([],t.map(function(n){return[n,n]}))),t.length===6&&t.push("F","F");let r=parseInt(t.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+t.slice(0,6).join("")}}ed.getOptions=function(t){t||(t={}),t.color||(t.color={});let r=typeof t.margin>"u"||t.margin===null||t.margin<0?4:t.margin,n=t.width&&t.width>=21?t.width:void 0,s=t.scale||4;return{width:n,scale:n?4:s,margin:r,color:{dark:Aue(t.color.dark||"#000000ff"),light:Aue(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}};ed.getScale=function(t,r){return r.width&&r.width>=t+r.margin*2?r.width/(t+r.margin*2):r.scale};ed.getImageWidth=function(t,r){let n=ed.getScale(t,r);return Math.floor((t+r.margin*2)*n)};ed.qrToImageData=function(t,r,n){let s=r.modules.size,a=r.modules.data,o=ed.getScale(s,n),c=Math.floor((s+n.margin*2)*o),u=n.margin*o,l=[n.color.light,n.color.dark];for(let d=0;d<c;d++)for(let f=0;f<c;f++){let p=(d*c+f)*4,m=n.color.light;if(d>=u&&f>=u&&d<c-u&&f<c-u){let h=Math.floor((d-u)/o),g=Math.floor((f-u)/o);m=l[a[h*s+g]?1:0]}t[p++]=m.r,t[p++]=m.g,t[p++]=m.b,t[p]=m.a}}});var yue=C(Ka=>{var BZe=require("fs"),RZe=gue().PNG,iP=Xg();Ka.render=function(t,r){let n=iP.getOptions(r),s=n.rendererOpts,a=iP.getImageWidth(t.modules.size,n);s.width=a,s.height=a;let o=new RZe(s);return iP.qrToImageData(o.data,t,n),o};Ka.renderToDataURL=function(t,r,n){typeof n>"u"&&(n=r,r=void 0),Ka.renderToBuffer(t,r,function(s,a){s&&n(s);let o="data:image/png;base64,";o+=a.toString("base64"),n(null,o)})};Ka.renderToBuffer=function(t,r,n){typeof n>"u"&&(n=r,r=void 0);let s=Ka.render(t,r),a=[];s.on("error",n),s.on("data",function(o){a.push(o)}),s.on("end",function(){n(null,Buffer.concat(a))}),s.pack()};Ka.renderToFile=function(t,r,n,s){typeof s>"u"&&(s=n,n=void 0);let a=!1,o=(...u)=>{a||(a=!0,s.apply(null,u))},c=BZe.createWriteStream(t);c.on("error",o),c.on("close",o),Ka.renderToFileStream(c,r,n)};Ka.renderToFileStream=function(t,r,n){Ka.render(r,n).pack().pipe(t)}});var bue=C(q_=>{var NZe=Xg(),kZe={WW:" ",WB:"\u2584",BB:"\u2588",BW:"\u2580"},DZe={BB:" ",BW:"\u2584",WW:"\u2588",WB:"\u2580"};function PZe(e,t,r){return e&&t?r.BB:e&&!t?r.BW:!e&&t?r.WB:r.WW}q_.render=function(e,t,r){let n=NZe.getOptions(t),s=kZe;(n.color.dark.hex==="#ffffff"||n.color.light.hex==="#000000")&&(s=DZe);let a=e.modules.size,o=e.modules.data,c="",u=Array(a+n.margin*2+1).join(s.WW);u=Array(n.margin/2+1).join(u+`
`);let l=Array(n.margin+1).join(s.WW);c+=u;for(let d=0;d<a;d+=2){c+=l;for(let f=0;f<a;f++){let p=o[d*a+f],m=o[(d+1)*a+f];c+=PZe(p,m,s)}c+=l+`
`}return c+=u.slice(0,-1),typeof r=="function"&&r(null,c),c};q_.renderToFile=function(t,r,n,s){typeof s>"u"&&(s=n,n=void 0);let a=require("fs"),o=q_.render(r,n);a.writeFile(t,o,s)}});var xue=C(Eue=>{Eue.render=function(e,t,r){let n=e.modules.size,s=e.modules.data,a="\x1B[40m  \x1B[0m",o="\x1B[47m  \x1B[0m",c="",u=Array(n+3).join(o),l=Array(2).join(o);c+=u+`
`;for(let d=0;d<n;++d){c+=o;for(let f=0;f<n;f++)c+=s[d*n+f]?a:o;c+=l+`
`}return c+=u+`
`,typeof r=="function"&&r(null,c),c}});var Cue=C(Iue=>{var OZe="\x1B[47m",$Ze="\x1B[40m",aP="\x1B[37m",oP="\x1B[30m",td="\x1B[0m",LZe=OZe+oP,MZe=$Ze+aP,FZe=function(e,t,r){return{"00":td+" "+e,"01":td+t+"\u2584"+e,"02":td+r+"\u2584"+e,10:td+t+"\u2580"+e,11:" ",12:"\u2584",20:td+r+"\u2580"+e,21:"\u2580",22:"\u2588"}},vue=function(e,t,r,n){let s=t+1;if(r>=s||n>=s||n<-1||r<-1)return"0";if(r>=t||n>=t||n<0||r<0)return"1";let a=n*t+r;return e[a]?"2":"1"},_ue=function(e,t,r,n){return vue(e,t,r,n)+vue(e,t,r,n+1)};Iue.render=function(e,t,r){let n=e.modules.size,s=e.modules.data,a=!!(t&&t.inverse),o=t&&t.inverse?MZe:LZe,l=FZe(o,a?oP:aP,a?aP:oP),d=td+`
`+o,f=o;for(let p=-1;p<n+1;p+=2){for(let m=-1;m<n;m++)f+=l[_ue(s,n,m,p)];f+=l[_ue(s,n,n,p)]+d}return f+=td,typeof r=="function"&&r(null,f),f}});var Sue=C(wue=>{var QZe=xue(),UZe=Cue();wue.render=function(e,t,r){return t&&t.small?UZe.render(e,t,r):QZe.render(e,t,r)}});var uP=C(Bue=>{var qZe=Xg();function Tue(e,t){let r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function cP(e,t,r){let n=e+t;return typeof r<"u"&&(n+=" "+r),n}function jZe(e,t,r){let n="",s=0,a=!1,o=0;for(let c=0;c<e.length;c++){let u=Math.floor(c%t),l=Math.floor(c/t);!u&&!a&&(a=!0),e[c]?(o++,c>0&&u>0&&e[c-1]||(n+=a?cP("M",u+r,.5+l+r):cP("m",s,0),s=0,a=!1),u+1<t&&e[c+1]||(n+=cP("h",o),o=0)):s++}return n}Bue.render=function(t,r,n){let s=qZe.getOptions(r),a=t.modules.size,o=t.modules.data,c=a+s.margin*2,u=s.color.light.a?"<path "+Tue(s.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",l="<path "+Tue(s.color.dark,"stroke")+' d="'+jZe(o,a,s.margin)+'"/>',d='viewBox="0 0 '+c+" "+c+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+d+' shape-rendering="crispEdges">'+u+l+`</svg>
`;return typeof n=="function"&&n(null,p),p}});var Rue=C(j_=>{var HZe=uP();j_.render=HZe.render;j_.renderToFile=function(t,r,n,s){typeof s>"u"&&(s=n,n=void 0);let a=require("fs"),c='<?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'+j_.render(r,n);a.writeFile(t,c,s)}});var Nue=C(H_=>{var lP=Xg();function zZe(e,t,r){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=r,t.width=r,t.style.height=r+"px",t.style.width=r+"px"}function GZe(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}H_.render=function(t,r,n){let s=n,a=r;typeof s>"u"&&(!r||!r.getContext)&&(s=r,r=void 0),r||(a=GZe()),s=lP.getOptions(s);let o=lP.getImageWidth(t.modules.size,s),c=a.getContext("2d"),u=c.createImageData(o,o);return lP.qrToImageData(u.data,t,s),zZe(c,a,o),c.putImageData(u,0,0),a};H_.renderToDataURL=function(t,r,n){let s=n;typeof s>"u"&&(!r||!r.getContext)&&(s=r,r=void 0),s||(s={});let a=H_.render(t,r,s),o=s.type||"image/png",c=s.rendererOpts||{};return a.toDataURL(o,c.quality)}});var Due=C(Zg=>{var VZe=ID(),dP=jD(),kue=Nue(),KZe=uP();function fP(e,t,r,n,s){let a=[].slice.call(arguments,1),o=a.length,c=typeof a[o-1]=="function";if(!c&&!VZe())throw new Error("Callback required as last argument");if(c){if(o<2)throw new Error("Too few arguments provided");o===2?(s=r,r=t,t=n=void 0):o===3&&(t.getContext&&typeof s>"u"?(s=n,n=void 0):(s=n,n=r,r=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=t,t=n=void 0):o===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(u,l){try{let d=dP.create(r,n);u(e(d,t,n))}catch(d){l(d)}})}try{let u=dP.create(r,n);s(null,e(u,t,n))}catch(u){s(u)}}Zg.create=dP.create;Zg.toCanvas=fP.bind(null,kue.render);Zg.toDataURL=fP.bind(null,kue.renderToDataURL);Zg.toString=fP.bind(null,function(e,t,r){return KZe.render(e,r)})});var Lue=C(vu=>{var Pue=ID(),pP=jD(),YZe=yue(),Oue=bue(),WZe=Sue(),$ue=Rue();function eA(e,t,r){if(typeof e>"u")throw new Error("String required as first argument");if(typeof r>"u"&&(r=t,t={}),typeof r!="function")if(Pue())t=r||{},r=null;else throw new Error("Callback required as last argument");return{opts:t,cb:r}}function JZe(e){return e.slice((e.lastIndexOf(".")-1>>>0)+2).toLowerCase()}function z_(e){switch(e){case"svg":return $ue;case"txt":case"utf8":return Oue;case"png":case"image/png":default:return YZe}}function XZe(e){switch(e){case"svg":return $ue;case"terminal":return WZe;case"utf8":default:return Oue}}function tA(e,t,r){if(!r.cb)return new Promise(function(n,s){try{let a=pP.create(t,r.opts);return e(a,r.opts,function(o,c){return o?s(o):n(c)})}catch(a){s(a)}});try{let n=pP.create(t,r.opts);return e(n,r.opts,r.cb)}catch(n){r.cb(n)}}vu.create=pP.create;vu.toCanvas=Due().toCanvas;vu.toString=function(t,r,n){let s=eA(t,r,n),a=s.opts?s.opts.type:void 0,o=XZe(a);return tA(o.render,t,s)};vu.toDataURL=function(t,r,n){let s=eA(t,r,n),a=z_(s.opts.type);return tA(a.renderToDataURL,t,s)};vu.toBuffer=function(t,r,n){let s=eA(t,r,n),a=z_(s.opts.type);return tA(a.renderToBuffer,t,s)};vu.toFile=function(t,r,n,s){if(typeof t!="string"||!(typeof r=="string"||typeof r=="object"))throw new Error("Invalid argument");if(arguments.length<3&&!Pue())throw new Error("Too few arguments provided");let a=eA(r,n,s),o=a.opts.type||JZe(t),u=z_(o).renderToFile.bind(null,t);return tA(u,r,a)};vu.toFileStream=function(t,r,n){if(arguments.length<2)throw new Error("Too few arguments provided");let s=eA(r,n,t.emit.bind(t,"error")),o=z_("png").renderToFileStream.bind(null,t);tA(o,r,s)}});var Hp=C((S_t,Mue)=>{Mue.exports=Lue()});var Zue=C((M_t,Xue)=>{Xue.exports=require("util").inspect});var uA=C((F_t,ble)=>{var RP=typeof Map=="function"&&Map.prototype,xP=Object.getOwnPropertyDescriptor&&RP?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,X_=RP&&xP&&typeof xP.get=="function"?xP.get:null,ele=RP&&Map.prototype.forEach,NP=typeof Set=="function"&&Set.prototype,vP=Object.getOwnPropertyDescriptor&&NP?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Z_=NP&&vP&&typeof vP.get=="function"?vP.get:null,tle=NP&&Set.prototype.forEach,oet=typeof WeakMap=="function"&&WeakMap.prototype,aA=oet?WeakMap.prototype.has:null,cet=typeof WeakSet=="function"&&WeakSet.prototype,oA=cet?WeakSet.prototype.has:null,uet=typeof WeakRef=="function"&&WeakRef.prototype,rle=uet?WeakRef.prototype.deref:null,det=Boolean.prototype.valueOf,fet=Object.prototype.toString,pet=Function.prototype.toString,het=String.prototype.match,kP=String.prototype.slice,Iu=String.prototype.replace,met=String.prototype.toUpperCase,nle=String.prototype.toLowerCase,fle=RegExp.prototype.test,sle=Array.prototype.concat,Ja=Array.prototype.join,get=Array.prototype.slice,ile=Math.floor,CP=typeof BigInt=="function"?BigInt.prototype.valueOf:null,_P=Object.getOwnPropertySymbols,wP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,zp=typeof Symbol=="function"&&typeof Symbol.iterator=="object",cA=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===zp||!0)?Symbol.toStringTag:null,ple=Object.prototype.propertyIsEnumerable,ale=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function ole(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||fle.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var n=e<0?-ile(-e):ile(e);if(n!==e){var s=String(n),a=kP.call(t,s.length+1);return Iu.call(s,r,"$&_")+"."+Iu.call(Iu.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Iu.call(t,r,"$&_")}var SP=Zue(),cle=SP.custom,ule=gle(cle)?cle:null,hle={__proto__:null,double:'"',single:"'"},Aet={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};ble.exports=function e(t,r,n,s){var a=r||{};if(Yo(a,"quoteStyle")&&!Yo(hle,a.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Yo(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Yo(a,"customInspect")?a.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Yo(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Yo(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var c=a.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return yle(t,a);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var u=String(t);return c?ole(t,u):u}if(typeof t=="bigint"){var l=String(t)+"n";return c?ole(t,l):l}var d=typeof a.depth>"u"?5:a.depth;if(typeof n>"u"&&(n=0),n>=d&&d>0&&typeof t=="object")return TP(t)?"[Array]":"[Object]";var f=$et(a,n);if(typeof s>"u")s=[];else if(Ale(s,t)>=0)return"[Circular]";function p(P,D,j){if(D&&(s=get.call(s),s.push(D)),j){var H={depth:a.depth};return Yo(a,"quoteStyle")&&(H.quoteStyle=a.quoteStyle),e(P,H,n+1,s)}return e(P,a,n+1,s)}if(typeof t=="function"&&!lle(t)){var m=wet(t),h=J_(t,p);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(h.length>0?" { "+Ja.call(h,", ")+" }":"")}if(gle(t)){var g=zp?Iu.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):wP.call(t);return typeof t=="object"&&!zp?iA(g):g}if(Det(t)){for(var A="<"+nle.call(String(t.nodeName)),y=t.attributes||[],v=0;v<y.length;v++)A+=" "+y[v].name+"="+mle(yet(y[v].value),"double",a);return A+=">",t.childNodes&&t.childNodes.length&&(A+="..."),A+="</"+nle.call(String(t.nodeName))+">",A}if(TP(t)){if(t.length===0)return"[]";var b=J_(t,p);return f&&!Oet(b)?"["+BP(b,f)+"]":"[ "+Ja.call(b,", ")+" ]"}if(Eet(t)){var E=J_(t,p);return!("cause"in Error.prototype)&&"cause"in t&&!ple.call(t,"cause")?"{ ["+String(t)+"] "+Ja.call(sle.call("[cause]: "+p(t.cause),E),", ")+" }":E.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+Ja.call(E,", ")+" }"}if(typeof t=="object"&&o){if(ule&&typeof t[ule]=="function"&&SP)return SP(t,{depth:d-n});if(o!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(Tet(t)){var I=[];return ele&&ele.call(t,function(P,D){I.push(p(D,t,!0)+" => "+p(P,t))}),dle("Map",X_.call(t),I,f)}if(Net(t)){var w=[];return tle&&tle.call(t,function(P){w.push(p(P,t))}),dle("Set",Z_.call(t),w,f)}if(Bet(t))return IP("WeakMap");if(ket(t))return IP("WeakSet");if(Ret(t))return IP("WeakRef");if(vet(t))return iA(p(Number(t)));if(Iet(t))return iA(p(CP.call(t)));if(_et(t))return iA(det.call(t));if(xet(t))return iA(p(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(typeof globalThis<"u"&&t===globalThis||typeof global<"u"&&t===global)return"{ [object globalThis] }";if(!bet(t)&&!lle(t)){var S=J_(t,p),T=ale?ale(t)===Object.prototype:t instanceof Object||t.constructor===Object,B=t instanceof Object?"":"null prototype",N=!T&&cA&&Object(t)===t&&cA in t?kP.call(Cu(t),8,-1):B?"Object":"",O=T||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",k=O+(N||B?"["+Ja.call(sle.call([],N||[],B||[]),": ")+"] ":"");return S.length===0?k+"{}":f?k+"{"+BP(S,f)+"}":k+"{ "+Ja.call(S,", ")+" }"}return String(t)};function mle(e,t,r){var n=r.quoteStyle||t,s=hle[n];return s+e+s}function yet(e){return Iu.call(String(e),/"/g,"&quot;")}function nd(e){return!cA||!(typeof e=="object"&&(cA in e||typeof e[cA]<"u"))}function TP(e){return Cu(e)==="[object Array]"&&nd(e)}function bet(e){return Cu(e)==="[object Date]"&&nd(e)}function lle(e){return Cu(e)==="[object RegExp]"&&nd(e)}function Eet(e){return Cu(e)==="[object Error]"&&nd(e)}function xet(e){return Cu(e)==="[object String]"&&nd(e)}function vet(e){return Cu(e)==="[object Number]"&&nd(e)}function _et(e){return Cu(e)==="[object Boolean]"&&nd(e)}function gle(e){if(zp)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!wP)return!1;try{return wP.call(e),!0}catch{}return!1}function Iet(e){if(!e||typeof e!="object"||!CP)return!1;try{return CP.call(e),!0}catch{}return!1}var Cet=Object.prototype.hasOwnProperty||function(e){return e in this};function Yo(e,t){return Cet.call(e,t)}function Cu(e){return fet.call(e)}function wet(e){if(e.name)return e.name;var t=het.call(pet.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function Ale(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function Tet(e){if(!X_||!e||typeof e!="object")return!1;try{X_.call(e);try{Z_.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function Bet(e){if(!aA||!e||typeof e!="object")return!1;try{aA.call(e,aA);try{oA.call(e,oA)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function Ret(e){if(!rle||!e||typeof e!="object")return!1;try{return rle.call(e),!0}catch{}return!1}function Net(e){if(!Z_||!e||typeof e!="object")return!1;try{Z_.call(e);try{X_.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function ket(e){if(!oA||!e||typeof e!="object")return!1;try{oA.call(e,oA);try{aA.call(e,aA)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function Det(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function yle(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return yle(kP.call(e,0,t.maxStringLength),t)+n}var s=Aet[t.quoteStyle||"single"];s.lastIndex=0;var a=Iu.call(Iu.call(e,s,"\\$1"),/[\x00-\x1f]/g,Pet);return mle(a,"single",t)}function Pet(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+met.call(t.toString(16))}function iA(e){return"Object("+e+")"}function IP(e){return e+" { ? }"}function dle(e,t,r,n){var s=n?BP(r,n):Ja.call(r,", ");return e+" ("+t+") {"+s+"}"}function Oet(e){for(var t=0;t<e.length;t++)if(Ale(e[t],`
`)>=0)return!1;return!0}function $et(e,t){var r;if(e.indent==="	")r="	";else if(typeof e.indent=="number"&&e.indent>0)r=Ja.call(Array(e.indent+1)," ");else return null;return{base:r,prev:Ja.call(Array(t+1),r)}}function BP(e,t){if(e.length===0)return"";var r=`
`+t.prev+t.base;return r+Ja.call(e,","+r)+`
`+t.prev}function J_(e,t){var r=TP(e),n=[];if(r){n.length=e.length;for(var s=0;s<e.length;s++)n[s]=Yo(e,s)?t(e[s],e):""}var a=typeof _P=="function"?_P(e):[],o;if(zp){o={};for(var c=0;c<a.length;c++)o["$"+a[c]]=a[c]}for(var u in e)Yo(e,u)&&(r&&String(Number(u))===u&&u<e.length||zp&&o["$"+u]instanceof Symbol||(fle.call(/[^\w$]/,u)?n.push(t(u,e)+": "+t(e[u],e)):n.push(u+": "+t(e[u],e))));if(typeof _P=="function")for(var l=0;l<a.length;l++)ple.call(e,a[l])&&n.push("["+t(a[l])+"]: "+t(e[a[l]],e));return n}});var xle=C((Q_t,Ele)=>{"use strict";var Let=uA(),Met=Vc(),e2=function(e,t,r){for(var n=e,s;(s=n.next)!=null;n=s)if(s.key===t)return n.next=s.next,r||(s.next=e.next,e.next=s),s},Fet=function(e,t){if(e){var r=e2(e,t);return r&&r.value}},Qet=function(e,t,r){var n=e2(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}},Uet=function(e,t){return e?!!e2(e,t):!1},qet=function(e,t){if(e)return e2(e,t,!0)};Ele.exports=function(){var t,r={assert:function(n){if(!r.has(n))throw new Met("Side channel does not contain "+Let(n))},delete:function(n){var s=t&&t.next,a=qet(t,n);return a&&s&&s===a&&(t=void 0),!!a},get:function(n){return Fet(t,n)},has:function(n){return Uet(t,n)},set:function(n,s){t||(t={next:void 0}),Qet(t,n,s)}};return r}});var DP=C((U_t,Ile)=>{"use strict";var vle=Xm(),_le=yk(),jet=_le([vle("%String.prototype.indexOf%")]);Ile.exports=function(t,r){var n=vle(t,!!r);return typeof n=="function"&&jet(t,".prototype.")>-1?_le([n]):n}});var PP=C((q_t,wle)=>{"use strict";var Het=Xm(),lA=DP(),zet=uA(),Get=Vc(),Cle=Het("%Map%",!0),Vet=lA("Map.prototype.get",!0),Ket=lA("Map.prototype.set",!0),Yet=lA("Map.prototype.has",!0),Wet=lA("Map.prototype.delete",!0),Jet=lA("Map.prototype.size",!0);wle.exports=!!Cle&&function(){var t,r={assert:function(n){if(!r.has(n))throw new Get("Side channel does not contain "+zet(n))},delete:function(n){if(t){var s=Wet(t,n);return Jet(t)===0&&(t=void 0),s}return!1},get:function(n){if(t)return Vet(t,n)},has:function(n){return t?Yet(t,n):!1},set:function(n,s){t||(t=new Cle),Ket(t,n,s)}};return r}});var Tle=C((j_t,Sle)=>{"use strict";var Xet=Xm(),r2=DP(),Zet=uA(),t2=PP(),ett=Vc(),Gp=Xet("%WeakMap%",!0),ttt=r2("WeakMap.prototype.get",!0),rtt=r2("WeakMap.prototype.set",!0),ntt=r2("WeakMap.prototype.has",!0),stt=r2("WeakMap.prototype.delete",!0);Sle.exports=Gp?function(){var t,r,n={assert:function(s){if(!n.has(s))throw new ett("Side channel does not contain "+Zet(s))},delete:function(s){if(Gp&&s&&(typeof s=="object"||typeof s=="function")){if(t)return stt(t,s)}else if(t2&&r)return r.delete(s);return!1},get:function(s){return Gp&&s&&(typeof s=="object"||typeof s=="function")&&t?ttt(t,s):r&&r.get(s)},has:function(s){return Gp&&s&&(typeof s=="object"||typeof s=="function")&&t?ntt(t,s):!!r&&r.has(s)},set:function(s,a){Gp&&s&&(typeof s=="object"||typeof s=="function")?(t||(t=new Gp),rtt(t,s,a)):t2&&(r||(r=t2()),r.set(s,a))}};return n}:t2});var Rle=C((H_t,Ble)=>{"use strict";var itt=Vc(),att=uA(),ott=xle(),ctt=PP(),utt=Tle(),ltt=utt||ctt||ott;Ble.exports=function(){var t,r={assert:function(n){if(!r.has(n))throw new itt("Side channel does not contain "+att(n))},delete:function(n){return!!t&&t.delete(n)},get:function(n){return t&&t.get(n)},has:function(n){return!!t&&t.has(n)},set:function(n,s){t||(t=ltt()),t.set(n,s)}};return r}});var n2=C((z_t,Nle)=>{"use strict";var dtt=String.prototype.replace,ftt=/%20/g,OP={RFC1738:"RFC1738",RFC3986:"RFC3986"};Nle.exports={default:OP.RFC3986,formatters:{RFC1738:function(e){return dtt.call(e,ftt,"+")},RFC3986:function(e){return String(e)}},RFC1738:OP.RFC1738,RFC3986:OP.RFC3986}});var MP=C((G_t,Dle)=>{"use strict";var ptt=n2(),$P=Object.prototype.hasOwnProperty,sd=Array.isArray,Xa=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),htt=function(t){for(;t.length>1;){var r=t.pop(),n=r.obj[r.prop];if(sd(n)){for(var s=[],a=0;a<n.length;++a)typeof n[a]<"u"&&s.push(n[a]);r.obj[r.prop]=s}}},kle=function(t,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},s=0;s<t.length;++s)typeof t[s]<"u"&&(n[s]=t[s]);return n},mtt=function e(t,r,n){if(!r)return t;if(typeof r!="object"&&typeof r!="function"){if(sd(t))t.push(r);else if(t&&typeof t=="object")(n&&(n.plainObjects||n.allowPrototypes)||!$P.call(Object.prototype,r))&&(t[r]=!0);else return[t,r];return t}if(!t||typeof t!="object")return[t].concat(r);var s=t;return sd(t)&&!sd(r)&&(s=kle(t,n)),sd(t)&&sd(r)?(r.forEach(function(a,o){if($P.call(t,o)){var c=t[o];c&&typeof c=="object"&&a&&typeof a=="object"?t[o]=e(c,a,n):t.push(a)}else t[o]=a}),t):Object.keys(r).reduce(function(a,o){var c=r[o];return $P.call(a,o)?a[o]=e(a[o],c,n):a[o]=c,a},s)},gtt=function(t,r){return Object.keys(r).reduce(function(n,s){return n[s]=r[s],n},t)},Att=function(e,t,r){var n=e.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},LP=1024,ytt=function(t,r,n,s,a){if(t.length===0)return t;var o=t;if(typeof t=="symbol"?o=Symbol.prototype.toString.call(t):typeof t!="string"&&(o=String(t)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(m){return"%26%23"+parseInt(m.slice(2),16)+"%3B"});for(var c="",u=0;u<o.length;u+=LP){for(var l=o.length>=LP?o.slice(u,u+LP):o,d=[],f=0;f<l.length;++f){var p=l.charCodeAt(f);if(p===45||p===46||p===95||p===126||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||a===ptt.RFC1738&&(p===40||p===41)){d[d.length]=l.charAt(f);continue}if(p<128){d[d.length]=Xa[p];continue}if(p<2048){d[d.length]=Xa[192|p>>6]+Xa[128|p&63];continue}if(p<55296||p>=57344){d[d.length]=Xa[224|p>>12]+Xa[128|p>>6&63]+Xa[128|p&63];continue}f+=1,p=65536+((p&1023)<<10|l.charCodeAt(f)&1023),d[d.length]=Xa[240|p>>18]+Xa[128|p>>12&63]+Xa[128|p>>6&63]+Xa[128|p&63]}c+=d.join("")}return c},btt=function(t){for(var r=[{obj:{o:t},prop:"o"}],n=[],s=0;s<r.length;++s)for(var a=r[s],o=a.obj[a.prop],c=Object.keys(o),u=0;u<c.length;++u){var l=c[u],d=o[l];typeof d=="object"&&d!==null&&n.indexOf(d)===-1&&(r.push({obj:o,prop:l}),n.push(d))}return htt(r),t},Ett=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},xtt=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},vtt=function(t,r){return[].concat(t,r)},_tt=function(t,r){if(sd(t)){for(var n=[],s=0;s<t.length;s+=1)n.push(r(t[s]));return n}return r(t)};Dle.exports={arrayToObject:kle,assign:gtt,combine:vtt,compact:btt,decode:Att,encode:ytt,isBuffer:xtt,isRegExp:Ett,maybeMap:_tt,merge:mtt}});var Fle=C((V_t,Mle)=>{"use strict";var Ole=Rle(),s2=MP(),dA=n2(),Itt=Object.prototype.hasOwnProperty,$le={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,r){return t+"["+r+"]"},repeat:function(t){return t}},Za=Array.isArray,Ctt=Array.prototype.push,Lle=function(e,t){Ctt.apply(e,Za(t)?t:[t])},wtt=Date.prototype.toISOString,Ple=dA.default,on={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:s2.encode,encodeValuesOnly:!1,filter:void 0,format:Ple,formatter:dA.formatters[Ple],indices:!1,serializeDate:function(t){return wtt.call(t)},skipNulls:!1,strictNullHandling:!1},Stt=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},FP={},Ttt=function e(t,r,n,s,a,o,c,u,l,d,f,p,m,h,g,A,y,v){for(var b=t,E=v,I=0,w=!1;(E=E.get(FP))!==void 0&&!w;){var S=E.get(t);if(I+=1,typeof S<"u"){if(S===I)throw new RangeError("Cyclic object value");w=!0}typeof E.get(FP)>"u"&&(I=0)}if(typeof d=="function"?b=d(r,b):b instanceof Date?b=m(b):n==="comma"&&Za(b)&&(b=s2.maybeMap(b,function(re){return re instanceof Date?m(re):re})),b===null){if(o)return l&&!A?l(r,on.encoder,y,"key",h):r;b=""}if(Stt(b)||s2.isBuffer(b)){if(l){var T=A?r:l(r,on.encoder,y,"key",h);return[g(T)+"="+g(l(b,on.encoder,y,"value",h))]}return[g(r)+"="+g(String(b))]}var B=[];if(typeof b>"u")return B;var N;if(n==="comma"&&Za(b))A&&l&&(b=s2.maybeMap(b,l)),N=[{value:b.length>0?b.join(",")||null:void 0}];else if(Za(d))N=d;else{var O=Object.keys(b);N=f?O.sort(f):O}var k=u?String(r).replace(/\./g,"%2E"):String(r),P=s&&Za(b)&&b.length===1?k+"[]":k;if(a&&Za(b)&&b.length===0)return P+"[]";for(var D=0;D<N.length;++D){var j=N[D],H=typeof j=="object"&&j&&typeof j.value<"u"?j.value:b[j];if(!(c&&H===null)){var V=p&&u?String(j).replace(/\./g,"%2E"):String(j),X=Za(b)?typeof n=="function"?n(P,V):P:P+(p?"."+V:"["+V+"]");v.set(t,I);var U=Ole();U.set(FP,v),Lle(B,e(H,X,n,s,a,o,c,u,n==="comma"&&A&&Za(b)?null:l,d,f,p,m,h,g,A,y,U))}}return B},Btt=function(t){if(!t)return on;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=t.charset||on.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=dA.default;if(typeof t.format<"u"){if(!Itt.call(dA.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var s=dA.formatters[n],a=on.filter;(typeof t.filter=="function"||Za(t.filter))&&(a=t.filter);var o;if(t.arrayFormat in $le?o=t.arrayFormat:"indices"in t?o=t.indices?"indices":"repeat":o=on.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var c=typeof t.allowDots>"u"?t.encodeDotInKeys===!0?!0:on.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:on.addQueryPrefix,allowDots:c,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:on.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:on.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?on.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:on.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:on.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:on.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:on.encodeValuesOnly,filter:a,format:n,formatter:s,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:on.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:on.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:on.strictNullHandling}};Mle.exports=function(e,t){var r=e,n=Btt(t),s,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):Za(n.filter)&&(a=n.filter,s=a);var o=[];if(typeof r!="object"||r===null)return"";var c=$le[n.arrayFormat],u=c==="comma"&&n.commaRoundTrip;s||(s=Object.keys(r)),n.sort&&s.sort(n.sort);for(var l=Ole(),d=0;d<s.length;++d){var f=s[d],p=r[f];n.skipNulls&&p===null||Lle(o,Ttt(p,f,c,u,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var m=o.join(n.delimiter),h=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),m.length>0?h+m:""}});var jle=C((K_t,qle)=>{"use strict";var ad=MP(),QP=Object.prototype.hasOwnProperty,Qle=Array.isArray,Pr={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:ad.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},Rtt=function(e){return e.replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})},Ule=function(e,t,r){if(e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1)return e.split(",");if(t.throwOnLimitExceeded&&r>=t.arrayLimit)throw new RangeError("Array limit exceeded. Only "+t.arrayLimit+" element"+(t.arrayLimit===1?"":"s")+" allowed in an array.");return e},Ntt="utf8=%26%2310003%3B",ktt="utf8=%E2%9C%93",Dtt=function(t,r){var n={__proto__:null},s=r.ignoreQueryPrefix?t.replace(/^\?/,""):t;s=s.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var a=r.parameterLimit===1/0?void 0:r.parameterLimit,o=s.split(r.delimiter,r.throwOnLimitExceeded?a+1:a);if(r.throwOnLimitExceeded&&o.length>a)throw new RangeError("Parameter limit exceeded. Only "+a+" parameter"+(a===1?"":"s")+" allowed.");var c=-1,u,l=r.charset;if(r.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===ktt?l="utf-8":o[u]===Ntt&&(l="iso-8859-1"),c=u,u=o.length);for(u=0;u<o.length;++u)if(u!==c){var d=o[u],f=d.indexOf("]="),p=f===-1?d.indexOf("="):f+1,m,h;p===-1?(m=r.decoder(d,Pr.decoder,l,"key"),h=r.strictNullHandling?null:""):(m=r.decoder(d.slice(0,p),Pr.decoder,l,"key"),h=ad.maybeMap(Ule(d.slice(p+1),r,Qle(n[m])?n[m].length:0),function(A){return r.decoder(A,Pr.decoder,l,"value")})),h&&r.interpretNumericEntities&&l==="iso-8859-1"&&(h=Rtt(String(h))),d.indexOf("[]=")>-1&&(h=Qle(h)?[h]:h);var g=QP.call(n,m);g&&r.duplicates==="combine"?n[m]=ad.combine(n[m],h):(!g||r.duplicates==="last")&&(n[m]=h)}return n},Ptt=function(e,t,r,n){var s=0;if(e.length>0&&e[e.length-1]==="[]"){var a=e.slice(0,-1).join("");s=Array.isArray(t)&&t[a]?t[a].length:0}for(var o=n?t:Ule(t,r,s),c=e.length-1;c>=0;--c){var u,l=e[c];if(l==="[]"&&r.parseArrays)u=r.allowEmptyArrays&&(o===""||r.strictNullHandling&&o===null)?[]:ad.combine([],o);else{u=r.plainObjects?{__proto__:null}:{};var d=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,f=r.decodeDotInKeys?d.replace(/%2E/g,"."):d,p=parseInt(f,10);!r.parseArrays&&f===""?u={0:o}:!isNaN(p)&&l!==f&&String(p)===f&&p>=0&&r.parseArrays&&p<=r.arrayLimit?(u=[],u[p]=o):f!=="__proto__"&&(u[f]=o)}o=u}return o},Ott=function(t,r,n,s){if(t){var a=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/,c=/(\[[^[\]]*])/g,u=n.depth>0&&o.exec(a),l=u?a.slice(0,u.index):a,d=[];if(l){if(!n.plainObjects&&QP.call(Object.prototype,l)&&!n.allowPrototypes)return;d.push(l)}for(var f=0;n.depth>0&&(u=c.exec(a))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&QP.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(u[1])}if(u){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");d.push("["+a.slice(u.index)+"]")}return Ptt(d,r,n,s)}},$tt=function(t){if(!t)return Pr;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.decodeDotInKeys<"u"&&typeof t.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(t.decoder!==null&&typeof t.decoder<"u"&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof t.throwOnLimitExceeded<"u"&&typeof t.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof t.charset>"u"?Pr.charset:t.charset,n=typeof t.duplicates>"u"?Pr.duplicates:t.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var s=typeof t.allowDots>"u"?t.decodeDotInKeys===!0?!0:Pr.allowDots:!!t.allowDots;return{allowDots:s,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:Pr.allowEmptyArrays,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:Pr.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:Pr.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:Pr.arrayLimit,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Pr.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:Pr.comma,decodeDotInKeys:typeof t.decodeDotInKeys=="boolean"?t.decodeDotInKeys:Pr.decodeDotInKeys,decoder:typeof t.decoder=="function"?t.decoder:Pr.decoder,delimiter:typeof t.delimiter=="string"||ad.isRegExp(t.delimiter)?t.delimiter:Pr.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:Pr.depth,duplicates:n,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:Pr.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:Pr.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:Pr.plainObjects,strictDepth:typeof t.strictDepth=="boolean"?!!t.strictDepth:Pr.strictDepth,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Pr.strictNullHandling,throwOnLimitExceeded:typeof t.throwOnLimitExceeded=="boolean"?t.throwOnLimitExceeded:!1}};qle.exports=function(e,t){var r=$tt(t);if(e===""||e===null||typeof e>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof e=="string"?Dtt(e,r):e,s=r.plainObjects?{__proto__:null}:{},a=Object.keys(n),o=0;o<a.length;++o){var c=a[o],u=Ott(c,n[c],r,typeof e=="string");s=ad.merge(s,u,r)}return r.allowSparse===!0?s:ad.compact(s)}});var UP=C((Y_t,Hle)=>{"use strict";var Ltt=Fle(),Mtt=jle(),Ftt=n2();Hle.exports={formats:Ftt,parse:Mtt,stringify:Ltt}});var qP=C((zle,i2)=>{(function(e){"use strict";var t,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,n=Math.ceil,s=Math.floor,a="[BigNumber Error] ",o=a+"Number primitive has more than 15 significant digits: ",c=1e14,u=14,l=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],f=1e7,p=1e9;function m(I){var w,S,T,B=ae.prototype={constructor:ae,toString:null,valueOf:null},N=new ae(1),O=20,k=4,P=-7,D=21,j=-1e7,H=1e7,V=!1,X=1,U=0,re={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},se="0123456789abcdefghijklmnopqrstuvwxyz",te=!0;function ae($,M){var q,L,Q,G,J,K,W,Z,ee=this;if(!(ee instanceof ae))return new ae($,M);if(M==null){if($&&$._isBigNumber===!0){ee.s=$.s,!$.c||$.e>H?ee.c=ee.e=null:$.e<j?ee.c=[ee.e=0]:(ee.e=$.e,ee.c=$.c.slice());return}if((K=typeof $=="number")&&$*0==0){if(ee.s=1/$<0?($=-$,-1):1,$===~~$){for(G=0,J=$;J>=10;J/=10,G++);G>H?ee.c=ee.e=null:(ee.e=G,ee.c=[$]);return}Z=String($)}else{if(!r.test(Z=String($)))return T(ee,Z,K);ee.s=Z.charCodeAt(0)==45?(Z=Z.slice(1),-1):1}(G=Z.indexOf("."))>-1&&(Z=Z.replace(".","")),(J=Z.search(/e/i))>0?(G<0&&(G=J),G+=+Z.slice(J+1),Z=Z.substring(0,J)):G<0&&(G=Z.length)}else{if(y(M,2,se.length,"Base"),M==10&&te)return ee=new ae($),ve(ee,O+ee.e+1,k);if(Z=String($),K=typeof $=="number"){if($*0!=0)return T(ee,Z,K,M);if(ee.s=1/$<0?(Z=Z.slice(1),-1):1,ae.DEBUG&&Z.replace(/^0\.0*|\./,"").length>15)throw Error(o+$)}else ee.s=Z.charCodeAt(0)===45?(Z=Z.slice(1),-1):1;for(q=se.slice(0,M),G=J=0,W=Z.length;J<W;J++)if(q.indexOf(L=Z.charAt(J))<0){if(L=="."){if(J>G){G=W;continue}}else if(!Q&&(Z==Z.toUpperCase()&&(Z=Z.toLowerCase())||Z==Z.toLowerCase()&&(Z=Z.toUpperCase()))){Q=!0,J=-1,G=0;continue}return T(ee,String($),K,M)}K=!1,Z=S(Z,M,10,ee.s),(G=Z.indexOf("."))>-1?Z=Z.replace(".",""):G=Z.length}for(J=0;Z.charCodeAt(J)===48;J++);for(W=Z.length;Z.charCodeAt(--W)===48;);if(Z=Z.slice(J,++W)){if(W-=J,K&&ae.DEBUG&&W>15&&($>l||$!==s($)))throw Error(o+ee.s*$);if((G=G-J-1)>H)ee.c=ee.e=null;else if(G<j)ee.c=[ee.e=0];else{if(ee.e=G,ee.c=[],J=(G+1)%u,G<0&&(J+=u),J<W){for(J&&ee.c.push(+Z.slice(0,J)),W-=u;J<W;)ee.c.push(+Z.slice(J,J+=u));J=u-(Z=Z.slice(J)).length}else J-=W;for(;J--;Z+="0");ee.c.push(+Z)}}else ee.c=[ee.e=0]}ae.clone=m,ae.ROUND_UP=0,ae.ROUND_DOWN=1,ae.ROUND_CEIL=2,ae.ROUND_FLOOR=3,ae.ROUND_HALF_UP=4,ae.ROUND_HALF_DOWN=5,ae.ROUND_HALF_EVEN=6,ae.ROUND_HALF_CEIL=7,ae.ROUND_HALF_FLOOR=8,ae.EUCLID=9,ae.config=ae.set=function($){var M,q;if($!=null)if(typeof $=="object"){if($.hasOwnProperty(M="DECIMAL_PLACES")&&(q=$[M],y(q,0,p,M),O=q),$.hasOwnProperty(M="ROUNDING_MODE")&&(q=$[M],y(q,0,8,M),k=q),$.hasOwnProperty(M="EXPONENTIAL_AT")&&(q=$[M],q&&q.pop?(y(q[0],-p,0,M),y(q[1],0,p,M),P=q[0],D=q[1]):(y(q,-p,p,M),P=-(D=q<0?-q:q))),$.hasOwnProperty(M="RANGE"))if(q=$[M],q&&q.pop)y(q[0],-p,-1,M),y(q[1],1,p,M),j=q[0],H=q[1];else if(y(q,-p,p,M),q)j=-(H=q<0?-q:q);else throw Error(a+M+" cannot be zero: "+q);if($.hasOwnProperty(M="CRYPTO"))if(q=$[M],q===!!q)if(q)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))V=q;else throw V=!q,Error(a+"crypto unavailable");else V=q;else throw Error(a+M+" not true or false: "+q);if($.hasOwnProperty(M="MODULO_MODE")&&(q=$[M],y(q,0,9,M),X=q),$.hasOwnProperty(M="POW_PRECISION")&&(q=$[M],y(q,0,p,M),U=q),$.hasOwnProperty(M="FORMAT"))if(q=$[M],typeof q=="object")re=q;else throw Error(a+M+" not an object: "+q);if($.hasOwnProperty(M="ALPHABET"))if(q=$[M],typeof q=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(q))te=q.slice(0,10)=="0123456789",se=q;else throw Error(a+M+" invalid: "+q)}else throw Error(a+"Object expected: "+$);return{DECIMAL_PLACES:O,ROUNDING_MODE:k,EXPONENTIAL_AT:[P,D],RANGE:[j,H],CRYPTO:V,MODULO_MODE:X,POW_PRECISION:U,FORMAT:re,ALPHABET:se}},ae.isBigNumber=function($){if(!$||$._isBigNumber!==!0)return!1;if(!ae.DEBUG)return!0;var M,q,L=$.c,Q=$.e,G=$.s;e:if({}.toString.call(L)=="[object Array]"){if((G===1||G===-1)&&Q>=-p&&Q<=p&&Q===s(Q)){if(L[0]===0){if(Q===0&&L.length===1)return!0;break e}if(M=(Q+1)%u,M<1&&(M+=u),String(L[0]).length==M){for(M=0;M<L.length;M++)if(q=L[M],q<0||q>=c||q!==s(q))break e;if(q!==0)return!0}}}else if(L===null&&Q===null&&(G===null||G===1||G===-1))return!0;throw Error(a+"Invalid BigNumber: "+$)},ae.maximum=ae.max=function(){return _e(arguments,-1)},ae.minimum=ae.min=function(){return _e(arguments,1)},ae.random=function(){var $=9007199254740992,M=Math.random()*$&2097151?function(){return s(Math.random()*$)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(q){var L,Q,G,J,K,W=0,Z=[],ee=new ae(N);if(q==null?q=O:y(q,0,p),J=n(q/u),V)if(crypto.getRandomValues){for(L=crypto.getRandomValues(new Uint32Array(J*=2));W<J;)K=L[W]*131072+(L[W+1]>>>11),K>=9e15?(Q=crypto.getRandomValues(new Uint32Array(2)),L[W]=Q[0],L[W+1]=Q[1]):(Z.push(K%1e14),W+=2);W=J/2}else if(crypto.randomBytes){for(L=crypto.randomBytes(J*=7);W<J;)K=(L[W]&31)*281474976710656+L[W+1]*1099511627776+L[W+2]*4294967296+L[W+3]*16777216+(L[W+4]<<16)+(L[W+5]<<8)+L[W+6],K>=9e15?crypto.randomBytes(7).copy(L,W):(Z.push(K%1e14),W+=7);W=J/7}else throw V=!1,Error(a+"crypto unavailable");if(!V)for(;W<J;)K=M(),K<9e15&&(Z[W++]=K%1e14);for(J=Z[--W],q%=u,J&&q&&(K=d[u-q],Z[W]=s(J/K)*K);Z[W]===0;Z.pop(),W--);if(W<0)Z=[G=0];else{for(G=-1;Z[0]===0;Z.splice(0,1),G-=u);for(W=1,K=Z[0];K>=10;K/=10,W++);W<u&&(G-=u-W)}return ee.e=G,ee.c=Z,ee}}(),ae.sum=function(){for(var $=1,M=arguments,q=new ae(M[0]);$<M.length;)q=q.plus(M[$++]);return q},S=function(){var $="0123456789";function M(q,L,Q,G){for(var J,K=[0],W,Z=0,ee=q.length;Z<ee;){for(W=K.length;W--;K[W]*=L);for(K[0]+=G.indexOf(q.charAt(Z++)),J=0;J<K.length;J++)K[J]>Q-1&&(K[J+1]==null&&(K[J+1]=0),K[J+1]+=K[J]/Q|0,K[J]%=Q)}return K.reverse()}return function(q,L,Q,G,J){var K,W,Z,ee,oe,he,ge,Be,we=q.indexOf("."),Ue=O,De=k;for(we>=0&&(ee=U,U=0,q=q.replace(".",""),Be=new ae(L),he=Be.pow(q.length-we),U=ee,Be.c=M(E(g(he.c),he.e,"0"),10,Q,$),Be.e=Be.c.length),ge=M(q,L,Q,J?(K=se,$):(K=$,se)),Z=ee=ge.length;ge[--ee]==0;ge.pop());if(!ge[0])return K.charAt(0);if(we<0?--Z:(he.c=ge,he.e=Z,he.s=G,he=w(he,Be,Ue,De,Q),ge=he.c,oe=he.r,Z=he.e),W=Z+Ue+1,we=ge[W],ee=Q/2,oe=oe||W<0||ge[W+1]!=null,oe=De<4?(we!=null||oe)&&(De==0||De==(he.s<0?3:2)):we>ee||we==ee&&(De==4||oe||De==6&&ge[W-1]&1||De==(he.s<0?8:7)),W<1||!ge[0])q=oe?E(K.charAt(1),-Ue,K.charAt(0)):K.charAt(0);else{if(ge.length=W,oe)for(--Q;++ge[--W]>Q;)ge[W]=0,W||(++Z,ge=[1].concat(ge));for(ee=ge.length;!ge[--ee];);for(we=0,q="";we<=ee;q+=K.charAt(ge[we++]));q=E(q,Z,K.charAt(0))}return q}}(),w=function(){function $(L,Q,G){var J,K,W,Z,ee=0,oe=L.length,he=Q%f,ge=Q/f|0;for(L=L.slice();oe--;)W=L[oe]%f,Z=L[oe]/f|0,J=ge*W+Z*he,K=he*W+J%f*f+ee,ee=(K/G|0)+(J/f|0)+ge*Z,L[oe]=K%G;return ee&&(L=[ee].concat(L)),L}function M(L,Q,G,J){var K,W;if(G!=J)W=G>J?1:-1;else for(K=W=0;K<G;K++)if(L[K]!=Q[K]){W=L[K]>Q[K]?1:-1;break}return W}function q(L,Q,G,J){for(var K=0;G--;)L[G]-=K,K=L[G]<Q[G]?1:0,L[G]=K*J+L[G]-Q[G];for(;!L[0]&&L.length>1;L.splice(0,1));}return function(L,Q,G,J,K){var W,Z,ee,oe,he,ge,Be,we,Ue,De,He,mt,Ge,en,Gs,lt,Rr,vn=L.s==Q.s?1:-1,qt=L.c,It=Q.c;if(!qt||!qt[0]||!It||!It[0])return new ae(!L.s||!Q.s||(qt?It&&qt[0]==It[0]:!It)?NaN:qt&&qt[0]==0||!It?vn*0:vn/0);for(we=new ae(vn),Ue=we.c=[],Z=L.e-Q.e,vn=G+Z+1,K||(K=c,Z=h(L.e/u)-h(Q.e/u),vn=vn/u|0),ee=0;It[ee]==(qt[ee]||0);ee++);if(It[ee]>(qt[ee]||0)&&Z--,vn<0)Ue.push(1),oe=!0;else{for(en=qt.length,lt=It.length,ee=0,vn+=2,he=s(K/(It[0]+1)),he>1&&(It=$(It,he,K),qt=$(qt,he,K),lt=It.length,en=qt.length),Ge=lt,De=qt.slice(0,lt),He=De.length;He<lt;De[He++]=0);Rr=It.slice(),Rr=[0].concat(Rr),Gs=It[0],It[1]>=K/2&&Gs++;do{if(he=0,W=M(It,De,lt,He),W<0){if(mt=De[0],lt!=He&&(mt=mt*K+(De[1]||0)),he=s(mt/Gs),he>1)for(he>=K&&(he=K-1),ge=$(It,he,K),Be=ge.length,He=De.length;M(ge,De,Be,He)==1;)he--,q(ge,lt<Be?Rr:It,Be,K),Be=ge.length,W=1;else he==0&&(W=he=1),ge=It.slice(),Be=ge.length;if(Be<He&&(ge=[0].concat(ge)),q(De,ge,He,K),He=De.length,W==-1)for(;M(It,De,lt,He)<1;)he++,q(De,lt<He?Rr:It,He,K),He=De.length}else W===0&&(he++,De=[0]);Ue[ee++]=he,De[0]?De[He++]=qt[Ge]||0:(De=[qt[Ge]],He=1)}while((Ge++<en||De[0]!=null)&&vn--);oe=De[0]!=null,Ue[0]||Ue.splice(0,1)}if(K==c){for(ee=1,vn=Ue[0];vn>=10;vn/=10,ee++);ve(we,G+(we.e=ee+Z*u-1)+1,J,oe)}else we.e=Z,we.r=+oe;return we}}();function xe($,M,q,L){var Q,G,J,K,W;if(q==null?q=k:y(q,0,8),!$.c)return $.toString();if(Q=$.c[0],J=$.e,M==null)W=g($.c),W=L==1||L==2&&(J<=P||J>=D)?b(W,J):E(W,J,"0");else if($=ve(new ae($),M,q),G=$.e,W=g($.c),K=W.length,L==1||L==2&&(M<=G||G<=P)){for(;K<M;W+="0",K++);W=b(W,G)}else if(M-=J+(L===2&&G>J),W=E(W,G,"0"),G+1>K){if(--M>0)for(W+=".";M--;W+="0");}else if(M+=G-K,M>0)for(G+1==K&&(W+=".");M--;W+="0");return $.s<0&&Q?"-"+W:W}function _e($,M){for(var q,L,Q=1,G=new ae($[0]);Q<$.length;Q++)L=new ae($[Q]),(!L.s||(q=A(G,L))===M||q===0&&G.s===M)&&(G=L);return G}function Ce($,M,q){for(var L=1,Q=M.length;!M[--Q];M.pop());for(Q=M[0];Q>=10;Q/=10,L++);return(q=L+q*u-1)>H?$.c=$.e=null:q<j?$.c=[$.e=0]:($.e=q,$.c=M),$}T=function(){var $=/^(-?)0([xbo])(?=\w[\w.]*$)/i,M=/^([^.]+)\.$/,q=/^\.([^.]+)$/,L=/^-?(Infinity|NaN)$/,Q=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(G,J,K,W){var Z,ee=K?J:J.replace(Q,"");if(L.test(ee))G.s=isNaN(ee)?null:ee<0?-1:1;else{if(!K&&(ee=ee.replace($,function(oe,he,ge){return Z=(ge=ge.toLowerCase())=="x"?16:ge=="b"?2:8,!W||W==Z?he:oe}),W&&(Z=W,ee=ee.replace(M,"$1").replace(q,"0.$1")),J!=ee))return new ae(ee,Z);if(ae.DEBUG)throw Error(a+"Not a"+(W?" base "+W:"")+" number: "+J);G.s=null}G.c=G.e=null}}();function ve($,M,q,L){var Q,G,J,K,W,Z,ee,oe=$.c,he=d;if(oe){e:{for(Q=1,K=oe[0];K>=10;K/=10,Q++);if(G=M-Q,G<0)G+=u,J=M,W=oe[Z=0],ee=s(W/he[Q-J-1]%10);else if(Z=n((G+1)/u),Z>=oe.length)if(L){for(;oe.length<=Z;oe.push(0));W=ee=0,Q=1,G%=u,J=G-u+1}else break e;else{for(W=K=oe[Z],Q=1;K>=10;K/=10,Q++);G%=u,J=G-u+Q,ee=J<0?0:s(W/he[Q-J-1]%10)}if(L=L||M<0||oe[Z+1]!=null||(J<0?W:W%he[Q-J-1]),L=q<4?(ee||L)&&(q==0||q==($.s<0?3:2)):ee>5||ee==5&&(q==4||L||q==6&&(G>0?J>0?W/he[Q-J]:0:oe[Z-1])%10&1||q==($.s<0?8:7)),M<1||!oe[0])return oe.length=0,L?(M-=$.e+1,oe[0]=he[(u-M%u)%u],$.e=-M||0):oe[0]=$.e=0,$;if(G==0?(oe.length=Z,K=1,Z--):(oe.length=Z+1,K=he[u-G],oe[Z]=J>0?s(W/he[Q-J]%he[J])*K:0),L)for(;;)if(Z==0){for(G=1,J=oe[0];J>=10;J/=10,G++);for(J=oe[0]+=K,K=1;J>=10;J/=10,K++);G!=K&&($.e++,oe[0]==c&&(oe[0]=1));break}else{if(oe[Z]+=K,oe[Z]!=c)break;oe[Z--]=0,K=1}for(G=oe.length;oe[--G]===0;oe.pop());}$.e>H?$.c=$.e=null:$.e<j&&($.c=[$.e=0])}return $}function Ae($){var M,q=$.e;return q===null?$.toString():(M=g($.c),M=q<=P||q>=D?b(M,q):E(M,q,"0"),$.s<0?"-"+M:M)}return B.absoluteValue=B.abs=function(){var $=new ae(this);return $.s<0&&($.s=1),$},B.comparedTo=function($,M){return A(this,new ae($,M))},B.decimalPlaces=B.dp=function($,M){var q,L,Q,G=this;if($!=null)return y($,0,p),M==null?M=k:y(M,0,8),ve(new ae(G),$+G.e+1,M);if(!(q=G.c))return null;if(L=((Q=q.length-1)-h(this.e/u))*u,Q=q[Q])for(;Q%10==0;Q/=10,L--);return L<0&&(L=0),L},B.dividedBy=B.div=function($,M){return w(this,new ae($,M),O,k)},B.dividedToIntegerBy=B.idiv=function($,M){return w(this,new ae($,M),0,1)},B.exponentiatedBy=B.pow=function($,M){var q,L,Q,G,J,K,W,Z,ee,oe=this;if($=new ae($),$.c&&!$.isInteger())throw Error(a+"Exponent not an integer: "+Ae($));if(M!=null&&(M=new ae(M)),K=$.e>14,!oe.c||!oe.c[0]||oe.c[0]==1&&!oe.e&&oe.c.length==1||!$.c||!$.c[0])return ee=new ae(Math.pow(+Ae(oe),K?$.s*(2-v($)):+Ae($))),M?ee.mod(M):ee;if(W=$.s<0,M){if(M.c?!M.c[0]:!M.s)return new ae(NaN);L=!W&&oe.isInteger()&&M.isInteger(),L&&(oe=oe.mod(M))}else{if($.e>9&&(oe.e>0||oe.e<-1||(oe.e==0?oe.c[0]>1||K&&oe.c[1]>=24e7:oe.c[0]<8e13||K&&oe.c[0]<=9999975e7)))return G=oe.s<0&&v($)?-0:0,oe.e>-1&&(G=1/G),new ae(W?1/G:G);U&&(G=n(U/u+2))}for(K?(q=new ae(.5),W&&($.s=1),Z=v($)):(Q=Math.abs(+Ae($)),Z=Q%2),ee=new ae(N);;){if(Z){if(ee=ee.times(oe),!ee.c)break;G?ee.c.length>G&&(ee.c.length=G):L&&(ee=ee.mod(M))}if(Q){if(Q=s(Q/2),Q===0)break;Z=Q%2}else if($=$.times(q),ve($,$.e+1,1),$.e>14)Z=v($);else{if(Q=+Ae($),Q===0)break;Z=Q%2}oe=oe.times(oe),G?oe.c&&oe.c.length>G&&(oe.c.length=G):L&&(oe=oe.mod(M))}return L?ee:(W&&(ee=N.div(ee)),M?ee.mod(M):G?ve(ee,U,k,J):ee)},B.integerValue=function($){var M=new ae(this);return $==null?$=k:y($,0,8),ve(M,M.e+1,$)},B.isEqualTo=B.eq=function($,M){return A(this,new ae($,M))===0},B.isFinite=function(){return!!this.c},B.isGreaterThan=B.gt=function($,M){return A(this,new ae($,M))>0},B.isGreaterThanOrEqualTo=B.gte=function($,M){return(M=A(this,new ae($,M)))===1||M===0},B.isInteger=function(){return!!this.c&&h(this.e/u)>this.c.length-2},B.isLessThan=B.lt=function($,M){return A(this,new ae($,M))<0},B.isLessThanOrEqualTo=B.lte=function($,M){return(M=A(this,new ae($,M)))===-1||M===0},B.isNaN=function(){return!this.s},B.isNegative=function(){return this.s<0},B.isPositive=function(){return this.s>0},B.isZero=function(){return!!this.c&&this.c[0]==0},B.minus=function($,M){var q,L,Q,G,J=this,K=J.s;if($=new ae($,M),M=$.s,!K||!M)return new ae(NaN);if(K!=M)return $.s=-M,J.plus($);var W=J.e/u,Z=$.e/u,ee=J.c,oe=$.c;if(!W||!Z){if(!ee||!oe)return ee?($.s=-M,$):new ae(oe?J:NaN);if(!ee[0]||!oe[0])return oe[0]?($.s=-M,$):new ae(ee[0]?J:k==3?-0:0)}if(W=h(W),Z=h(Z),ee=ee.slice(),K=W-Z){for((G=K<0)?(K=-K,Q=ee):(Z=W,Q=oe),Q.reverse(),M=K;M--;Q.push(0));Q.reverse()}else for(L=(G=(K=ee.length)<(M=oe.length))?K:M,K=M=0;M<L;M++)if(ee[M]!=oe[M]){G=ee[M]<oe[M];break}if(G&&(Q=ee,ee=oe,oe=Q,$.s=-$.s),M=(L=oe.length)-(q=ee.length),M>0)for(;M--;ee[q++]=0);for(M=c-1;L>K;){if(ee[--L]<oe[L]){for(q=L;q&&!ee[--q];ee[q]=M);--ee[q],ee[L]+=c}ee[L]-=oe[L]}for(;ee[0]==0;ee.splice(0,1),--Z);return ee[0]?Ce($,ee,Z):($.s=k==3?-1:1,$.c=[$.e=0],$)},B.modulo=B.mod=function($,M){var q,L,Q=this;return $=new ae($,M),!Q.c||!$.s||$.c&&!$.c[0]?new ae(NaN):!$.c||Q.c&&!Q.c[0]?new ae(Q):(X==9?(L=$.s,$.s=1,q=w(Q,$,0,3),$.s=L,q.s*=L):q=w(Q,$,0,X),$=Q.minus(q.times($)),!$.c[0]&&X==1&&($.s=Q.s),$)},B.multipliedBy=B.times=function($,M){var q,L,Q,G,J,K,W,Z,ee,oe,he,ge,Be,we,Ue,De=this,He=De.c,mt=($=new ae($,M)).c;if(!He||!mt||!He[0]||!mt[0])return!De.s||!$.s||He&&!He[0]&&!mt||mt&&!mt[0]&&!He?$.c=$.e=$.s=null:($.s*=De.s,!He||!mt?$.c=$.e=null:($.c=[0],$.e=0)),$;for(L=h(De.e/u)+h($.e/u),$.s*=De.s,W=He.length,oe=mt.length,W<oe&&(Be=He,He=mt,mt=Be,Q=W,W=oe,oe=Q),Q=W+oe,Be=[];Q--;Be.push(0));for(we=c,Ue=f,Q=oe;--Q>=0;){for(q=0,he=mt[Q]%Ue,ge=mt[Q]/Ue|0,J=W,G=Q+J;G>Q;)Z=He[--J]%Ue,ee=He[J]/Ue|0,K=ge*Z+ee*he,Z=he*Z+K%Ue*Ue+Be[G]+q,q=(Z/we|0)+(K/Ue|0)+ge*ee,Be[G--]=Z%we;Be[G]=q}return q?++L:Be.splice(0,1),Ce($,Be,L)},B.negated=function(){var $=new ae(this);return $.s=-$.s||null,$},B.plus=function($,M){var q,L=this,Q=L.s;if($=new ae($,M),M=$.s,!Q||!M)return new ae(NaN);if(Q!=M)return $.s=-M,L.minus($);var G=L.e/u,J=$.e/u,K=L.c,W=$.c;if(!G||!J){if(!K||!W)return new ae(Q/0);if(!K[0]||!W[0])return W[0]?$:new ae(K[0]?L:Q*0)}if(G=h(G),J=h(J),K=K.slice(),Q=G-J){for(Q>0?(J=G,q=W):(Q=-Q,q=K),q.reverse();Q--;q.push(0));q.reverse()}for(Q=K.length,M=W.length,Q-M<0&&(q=W,W=K,K=q,M=Q),Q=0;M;)Q=(K[--M]=K[M]+W[M]+Q)/c|0,K[M]=c===K[M]?0:K[M]%c;return Q&&(K=[Q].concat(K),++J),Ce($,K,J)},B.precision=B.sd=function($,M){var q,L,Q,G=this;if($!=null&&$!==!!$)return y($,1,p),M==null?M=k:y(M,0,8),ve(new ae(G),$,M);if(!(q=G.c))return null;if(Q=q.length-1,L=Q*u+1,Q=q[Q]){for(;Q%10==0;Q/=10,L--);for(Q=q[0];Q>=10;Q/=10,L++);}return $&&G.e+1>L&&(L=G.e+1),L},B.shiftedBy=function($){return y($,-l,l),this.times("1e"+$)},B.squareRoot=B.sqrt=function(){var $,M,q,L,Q,G=this,J=G.c,K=G.s,W=G.e,Z=O+4,ee=new ae("0.5");if(K!==1||!J||!J[0])return new ae(!K||K<0&&(!J||J[0])?NaN:J?G:1/0);if(K=Math.sqrt(+Ae(G)),K==0||K==1/0?(M=g(J),(M.length+W)%2==0&&(M+="0"),K=Math.sqrt(+M),W=h((W+1)/2)-(W<0||W%2),K==1/0?M="5e"+W:(M=K.toExponential(),M=M.slice(0,M.indexOf("e")+1)+W),q=new ae(M)):q=new ae(K+""),q.c[0]){for(W=q.e,K=W+Z,K<3&&(K=0);;)if(Q=q,q=ee.times(Q.plus(w(G,Q,Z,1))),g(Q.c).slice(0,K)===(M=g(q.c)).slice(0,K))if(q.e<W&&--K,M=M.slice(K-3,K+1),M=="9999"||!L&&M=="4999"){if(!L&&(ve(Q,Q.e+O+2,0),Q.times(Q).eq(G))){q=Q;break}Z+=4,K+=4,L=1}else{(!+M||!+M.slice(1)&&M.charAt(0)=="5")&&(ve(q,q.e+O+2,1),$=!q.times(q).eq(G));break}}return ve(q,q.e+O+1,k,$)},B.toExponential=function($,M){return $!=null&&(y($,0,p),$++),xe(this,$,M,1)},B.toFixed=function($,M){return $!=null&&(y($,0,p),$=$+this.e+1),xe(this,$,M)},B.toFormat=function($,M,q){var L,Q=this;if(q==null)$!=null&&M&&typeof M=="object"?(q=M,M=null):$&&typeof $=="object"?(q=$,$=M=null):q=re;else if(typeof q!="object")throw Error(a+"Argument not an object: "+q);if(L=Q.toFixed($,M),Q.c){var G,J=L.split("."),K=+q.groupSize,W=+q.secondaryGroupSize,Z=q.groupSeparator||"",ee=J[0],oe=J[1],he=Q.s<0,ge=he?ee.slice(1):ee,Be=ge.length;if(W&&(G=K,K=W,W=G,Be-=G),K>0&&Be>0){for(G=Be%K||K,ee=ge.substr(0,G);G<Be;G+=K)ee+=Z+ge.substr(G,K);W>0&&(ee+=Z+ge.slice(G)),he&&(ee="-"+ee)}L=oe?ee+(q.decimalSeparator||"")+((W=+q.fractionGroupSize)?oe.replace(new RegExp("\\d{"+W+"}\\B","g"),"$&"+(q.fractionGroupSeparator||"")):oe):ee}return(q.prefix||"")+L+(q.suffix||"")},B.toFraction=function($){var M,q,L,Q,G,J,K,W,Z,ee,oe,he,ge=this,Be=ge.c;if($!=null&&(K=new ae($),!K.isInteger()&&(K.c||K.s!==1)||K.lt(N)))throw Error(a+"Argument "+(K.isInteger()?"out of range: ":"not an integer: ")+Ae(K));if(!Be)return new ae(ge);for(M=new ae(N),Z=q=new ae(N),L=W=new ae(N),he=g(Be),G=M.e=he.length-ge.e-1,M.c[0]=d[(J=G%u)<0?u+J:J],$=!$||K.comparedTo(M)>0?G>0?M:Z:K,J=H,H=1/0,K=new ae(he),W.c[0]=0;ee=w(K,M,0,1),Q=q.plus(ee.times(L)),Q.comparedTo($)!=1;)q=L,L=Q,Z=W.plus(ee.times(Q=Z)),W=Q,M=K.minus(ee.times(Q=M)),K=Q;return Q=w($.minus(q),L,0,1),W=W.plus(Q.times(Z)),q=q.plus(Q.times(L)),W.s=Z.s=ge.s,G=G*2,oe=w(Z,L,G,k).minus(ge).abs().comparedTo(w(W,q,G,k).minus(ge).abs())<1?[Z,L]:[W,q],H=J,oe},B.toNumber=function(){return+Ae(this)},B.toPrecision=function($,M){return $!=null&&y($,1,p),xe(this,$,M,2)},B.toString=function($){var M,q=this,L=q.s,Q=q.e;return Q===null?L?(M="Infinity",L<0&&(M="-"+M)):M="NaN":($==null?M=Q<=P||Q>=D?b(g(q.c),Q):E(g(q.c),Q,"0"):$===10&&te?(q=ve(new ae(q),O+Q+1,k),M=E(g(q.c),q.e,"0")):(y($,2,se.length,"Base"),M=S(E(g(q.c),Q,"0"),10,$,L,!0)),L<0&&q.c[0]&&(M="-"+M)),M},B.valueOf=B.toJSON=function(){return Ae(this)},B._isBigNumber=!0,I!=null&&ae.set(I),ae}function h(I){var w=I|0;return I>0||I===w?w:w-1}function g(I){for(var w,S,T=1,B=I.length,N=I[0]+"";T<B;){for(w=I[T++]+"",S=u-w.length;S--;w="0"+w);N+=w}for(B=N.length;N.charCodeAt(--B)===48;);return N.slice(0,B+1||1)}function A(I,w){var S,T,B=I.c,N=w.c,O=I.s,k=w.s,P=I.e,D=w.e;if(!O||!k)return null;if(S=B&&!B[0],T=N&&!N[0],S||T)return S?T?0:-k:O;if(O!=k)return O;if(S=O<0,T=P==D,!B||!N)return T?0:!B^S?1:-1;if(!T)return P>D^S?1:-1;for(k=(P=B.length)<(D=N.length)?P:D,O=0;O<k;O++)if(B[O]!=N[O])return B[O]>N[O]^S?1:-1;return P==D?0:P>D^S?1:-1}function y(I,w,S,T){if(I<w||I>S||I!==s(I))throw Error(a+(T||"Argument")+(typeof I=="number"?I<w||I>S?" out of range: ":" not an integer: ":" not a primitive number: ")+String(I))}function v(I){var w=I.c.length-1;return h(I.e/u)==w&&I.c[w]%2!=0}function b(I,w){return(I.length>1?I.charAt(0)+"."+I.slice(1):I)+(w<0?"e":"e+")+w}function E(I,w,S){var T,B;if(w<0){for(B=S+".";++w;B+=S);I=B+I}else if(T=I.length,++w>T){for(B=S,w-=T;--w;B+=S);I+=B}else w<T&&(I=I.slice(0,w)+"."+I.slice(w));return I}t=m(),t.default=t.BigNumber=t,typeof define=="function"&&define.amd?define(function(){return t}):typeof i2<"u"&&i2.exports?i2.exports=t:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=t)})(zle)});var Yle=C((W_t,Kle)=>{var Gle=qP(),Vle=Kle.exports;(function(){"use strict";function e(l){return l<10?"0"+l:l}var t=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,s,a={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},o;function c(l){return r.lastIndex=0,r.test(l)?'"'+l.replace(r,function(d){var f=a[d];return typeof f=="string"?f:"\\u"+("0000"+d.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+l+'"'}function u(l,d){var f,p,m,h,g=n,A,y=d[l],v=y!=null&&(y instanceof Gle||Gle.isBigNumber(y));switch(y&&typeof y=="object"&&typeof y.toJSON=="function"&&(y=y.toJSON(l)),typeof o=="function"&&(y=o.call(d,l,y)),typeof y){case"string":return v?y:c(y);case"number":return isFinite(y)?String(y):"null";case"boolean":case"null":case"bigint":return String(y);case"object":if(!y)return"null";if(n+=s,A=[],Object.prototype.toString.apply(y)==="[object Array]"){for(h=y.length,f=0;f<h;f+=1)A[f]=u(f,y)||"null";return m=A.length===0?"[]":n?`[
`+n+A.join(`,
`+n)+`
`+g+"]":"["+A.join(",")+"]",n=g,m}if(o&&typeof o=="object")for(h=o.length,f=0;f<h;f+=1)typeof o[f]=="string"&&(p=o[f],m=u(p,y),m&&A.push(c(p)+(n?": ":":")+m));else Object.keys(y).forEach(function(b){var E=u(b,y);E&&A.push(c(b)+(n?": ":":")+E)});return m=A.length===0?"{}":n?`{
`+n+A.join(`,
`+n)+`
`+g+"}":"{"+A.join(",")+"}",n=g,m}}typeof Vle.stringify!="function"&&(Vle.stringify=function(l,d,f){var p;if(n="",s="",typeof f=="number")for(p=0;p<f;p+=1)s+=" ";else typeof f=="string"&&(s=f);if(o=d,d&&typeof d!="function"&&(typeof d!="object"||typeof d.length!="number"))throw new Error("JSON.stringify");return u("",{"":l})})})()});var Jle=C((J_t,Wle)=>{var a2=null,Qtt=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,Utt=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/,qtt=function(e){"use strict";var t={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(e!=null){if(e.strict===!0&&(t.strict=!0),e.storeAsString===!0&&(t.storeAsString=!0),t.alwaysParseAsBig=e.alwaysParseAsBig===!0?e.alwaysParseAsBig:!1,t.useNativeBigInt=e.useNativeBigInt===!0?e.useNativeBigInt:!1,typeof e.constructorAction<"u")if(e.constructorAction==="error"||e.constructorAction==="ignore"||e.constructorAction==="preserve")t.constructorAction=e.constructorAction;else throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${e.constructorAction}`);if(typeof e.protoAction<"u")if(e.protoAction==="error"||e.protoAction==="ignore"||e.protoAction==="preserve")t.protoAction=e.protoAction;else throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${e.protoAction}`)}var r,n,s={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},a,o=function(g){throw{name:"SyntaxError",message:g,at:r,text:a}},c=function(g){return g&&g!==n&&o("Expected '"+g+"' instead of '"+n+"'"),n=a.charAt(r),r+=1,n},u=function(){var g,A="";for(n==="-"&&(A="-",c("-"));n>="0"&&n<="9";)A+=n,c();if(n===".")for(A+=".";c()&&n>="0"&&n<="9";)A+=n;if(n==="e"||n==="E")for(A+=n,c(),(n==="-"||n==="+")&&(A+=n,c());n>="0"&&n<="9";)A+=n,c();if(g=+A,!isFinite(g))o("Bad number");else return a2==null&&(a2=qP()),A.length>15?t.storeAsString?A:t.useNativeBigInt?BigInt(A):new a2(A):t.alwaysParseAsBig?t.useNativeBigInt?BigInt(g):new a2(g):g},l=function(){var g,A,y="",v;if(n==='"')for(var b=r;c();){if(n==='"')return r-1>b&&(y+=a.substring(b,r-1)),c(),y;if(n==="\\"){if(r-1>b&&(y+=a.substring(b,r-1)),c(),n==="u"){for(v=0,A=0;A<4&&(g=parseInt(c(),16),!!isFinite(g));A+=1)v=v*16+g;y+=String.fromCharCode(v)}else if(typeof s[n]=="string")y+=s[n];else break;b=r}}o("Bad string")},d=function(){for(;n&&n<=" ";)c()},f=function(){switch(n){case"t":return c("t"),c("r"),c("u"),c("e"),!0;case"f":return c("f"),c("a"),c("l"),c("s"),c("e"),!1;case"n":return c("n"),c("u"),c("l"),c("l"),null}o("Unexpected '"+n+"'")},p,m=function(){var g=[];if(n==="["){if(c("["),d(),n==="]")return c("]"),g;for(;n;){if(g.push(p()),d(),n==="]")return c("]"),g;c(","),d()}}o("Bad array")},h=function(){var g,A=Object.create(null);if(n==="{"){if(c("{"),d(),n==="}")return c("}"),A;for(;n;){if(g=l(),d(),c(":"),t.strict===!0&&Object.hasOwnProperty.call(A,g)&&o('Duplicate key "'+g+'"'),Qtt.test(g)===!0?t.protoAction==="error"?o("Object contains forbidden prototype property"):t.protoAction==="ignore"?p():A[g]=p():Utt.test(g)===!0?t.constructorAction==="error"?o("Object contains forbidden constructor property"):t.constructorAction==="ignore"?p():A[g]=p():A[g]=p(),d(),n==="}")return c("}"),A;c(","),d()}}o("Bad object")};return p=function(){switch(d(),n){case"{":return h();case"[":return m();case'"':return l();case"-":return u();default:return n>="0"&&n<="9"?u():f()}},function(g,A){var y;return a=g+"",r=0,n=" ",y=p(),d(),n&&o("Syntax error"),typeof A=="function"?function v(b,E){var I,w,S=b[E];return S&&typeof S=="object"&&Object.keys(S).forEach(function(T){w=v(S,T),w!==void 0?S[T]=w:delete S[T]}),A.call(b,E,S)}({"":y},""):y}};Wle.exports=qtt});var ede=C((X_t,o2)=>{var Xle=Yle().stringify,Zle=Jle();o2.exports=function(e){return{parse:Zle(e),stringify:Xle}};o2.exports.parse=Zle();o2.exports.stringify=Xle});var Jo,Tde=bs(()=>{Jo=class{static env;static originalEnvVars=new Map;static accessedEnvVars=new Map;static VOD_ALLOWED_PLATFORMS=["qiyi","bilibili1","imgo","youku","qq","migu","sohu","leshi","xigua","maiduidui"];static ALLOWED_PLATFORMS=["qiyi","bilibili1","imgo","youku","qq","migu","renren","hanjutv","bahamut","dandan","sohu","leshi","xigua","maiduidui","animeko","custom"];static ALLOWED_SOURCES=["360","vod","tmdb","douban","tencent","youku","iqiyi","imgo","bilibili","migu","renren","hanjutv","bahamut","dandan","sohu","leshi","xigua","maiduidui","animeko","custom"];static MERGE_ALLOWED_SOURCES=["tencent","youku","iqiyi","imgo","bilibili","migu","renren","hanjutv","bahamut","dandan","sohu","leshi","xigua","maiduidui","animeko"];static DEFAULT_AI_MATCH_PROMPT=`\u4F60\u662F\u4E00\u4E2A\u4E13\u4E1A\u7684\u5F71\u89C6\u5339\u914D\u4E13\u5BB6\uFF0C\u4F60\u7684\u7684\u4EFB\u52A1\u662F\u6839\u636E\u7528\u6237\u63D0\u4F9B\u7684 JSON \u6570\u636E\uFF0C\u4ECE\u5019\u9009\u52A8\u6F2B\u5217\u8868\u4E2D\u5339\u914D\u6700\u7B26\u5408\u6761\u4EF6\u7684\u52A8\u6F2B\u53CA\u96C6\u6570\u3002

\u8F93\u5165\u5B57\u6BB5\u8BF4\u660E\uFF1A
- title: \u67E5\u8BE2\u6807\u9898
- season: \u5B63\u6570\uFF08\u53EF\u4E3A null\uFF09
- episode: \u96C6\u6570\uFF08\u53EF\u4E3A null\uFF09
- year: \u5E74\u4EFD\uFF08\u53EF\u4E3A null\uFF09
- dynamicPlatformOrder: \u5E73\u53F0\u504F\u597D\u5217\u8868\uFF08\u53EF\u4E3A null\uFF09
- preferAnimeId: \u504F\u597D\u52A8\u6F2B ID\uFF08\u53EF\u4E3A null\uFF09
- animes: \u5019\u9009\u52A8\u6F2B\u5217\u8868
  - animeId: \u52A8\u6F2Bid
    animeTitle: \u52A8\u6F2B\u6807\u9898\uFF0C(\u5E74\u4EFD)\u524D\u9762\u624D\u662F\u771F\u5B9E\u7684\u6807\u9898
    type: \u7C7B\u578B
    startDate: \u53D1\u5E03\u65E5\u671F\uFF0C\u6709\u5E74\u4EFD
    episodeCount: \u603B\u96C6\u6570
    source: \u5F39\u5E55\u6765\u6E90

\u5339\u914D\u89C4\u5219 (\u6309\u4F18\u5148\u7EA7\u6392\u5E8F):
1. \u5982\u679CpreferAnimeId\u975E\u7A7A\uFF0C\u4E14animes\u5B58\u5728\u8BE5animeId\uFF0C\u5219\u8FD4\u56DE\u8BE5id\u5BF9\u5E94\u7684anime\u548Cepisode
2. \u6807\u9898\u76F8\u4F3C\u5EA6: \u4F18\u5148\u5339\u914D\u6807\u9898\u76F8\u4F3C\u5EA6\u6700\u9AD8\u7684\u6761\u76EE
3. \u5B63\u5EA6\u4E25\u683C\u5339\u914D: \u5982\u679C\u6307\u5B9A\u4E86\u5B63\u5EA6,\u5FC5\u987B\u4E25\u683C\u5339\u914D
4. \u7C7B\u578B\u5339\u914D: episode\u4E3A\u7A7A\u5219\u4F18\u5148\u5339\u914D\u7535\u5F71\uFF0C\u975E\u7A7A\u5219\u5339\u914D\u7535\u89C6\u5267\u7B49
5. \u5E74\u4EFD\u63A5\u8FD1: \u4F18\u5148\u9009\u62E9\u5E74\u4EFD\u63A5\u8FD1\u7684
6. \u5E73\u53F0\u5339\u914D\uFF1A\u5982\u679C\u6709\u591A\u4E2A\u9AD8\u5EA6\u76F8\u4F3C\u7684\u7ED3\u679C\u4E14dynamicPlatformOrder\u975E\u7A7A\uFF0C\u5219\u4ECE\u524D\u5F80\u540E\u9009\u62E9\u76F8\u5BF9\u5E94\u7684\u5E73\u53F0
7. \u96C6\u6570\u5B8C\u6574: \u5982\u679C\u6709\u591A\u4E2A\u9AD8\u5EA6\u76F8\u4F3C\u7684\u7ED3\u679C,\u9009\u62E9\u96C6\u6570\u6700\u5B8C\u6574\u7684

\u8BF7\u5206\u6790\u54EA\u4E2A\u52A8\u6F2B\u6700\u7B26\u5408\u67E5\u8BE2\u6761\u4EF6\uFF0C\u5982\u679C\u6307\u5B9A\u4E86\u5B63\u6570\u548C\u96C6\u6570\uFF0C\u8BF7\u4E5F\u8FD4\u56DE\u5BF9\u5E94\u7684\u96C6\u4FE1\u606F\u3002
\u8BF7\u4E25\u683C\u6309\u7167\u4EE5\u4E0B JSON \u683C\u5F0F\u8FD4\u56DE\u7ED3\u679C\uFF0C\u4E0D\u8981\u5305\u542B\u4EFB\u4F55\u5176\u4ED6\u5185\u5BB9\uFF1A
{
  "animeIndex": \u5339\u914D\u7684\u52A8\u6F2B\u5728\u5217\u8868\u4E2D\u7684\u7D22\u5F15(\u4ECE0\u5F00\u59CB) \u6216 null
}

\u5982\u679C\u6CA1\u6709\u627E\u5230\u5408\u9002\u7684\u5339\u914D\uFF0C\u8FD4\u56DE\uFF1A
{
  "animeIndex": null
}`;static get(t,r,n="string",s=!1){let a;typeof this.env<"u"&&this.env[t]?(a=this.env[t],this.originalEnvVars.set(t,a)):typeof process<"u"&&process.env?.[t]?(a=process.env[t],this.originalEnvVars.set(t,a)):(a=r,this.originalEnvVars.set(t,""));let o;switch(n){case"number":if(o=Number(a),isNaN(o))throw new Error(`Environment variable ${t} must be a valid number`);break;case"boolean":o=a===!0||a==="true"||a===1||a==="1";break;case"string":default:o=String(a);break}let c=s?this.encryptStr(o):o;return this.accessedEnvVars.set(t,c),o}static set(t,r){typeof process<"u"&&(process.env[t]=String(r)),this.accessedEnvVars.set(t,r)}static encryptStr(t){return"*".repeat(t.length)}static resolveVodServers(){let r=this.get("VOD_SERVERS","\u91D1\u8749@https://zy.jinchancaiji.com,789@https://www.caiji.cyou,\u542C\u98CE@https://gctf.tfdh.top","string");return!r||r.trim()===""?[]:r.split(",").map(n=>n.trim()).filter(n=>n.length>0).map((n,s)=>{if(n.includes("@")){let[a,o]=n.split("@").map(c=>c.trim());return{name:a||`vod-${s+1}`,url:o}}return{name:`vod-${s+1}`,url:n}}).filter(n=>n.url&&n.url.length>0)}static resolveSourceOrder(){let r=this.get("SOURCE_ORDER","360,vod,renren,hanjutv","string").split(",").map(n=>n.trim()).filter(n=>this.ALLOWED_SOURCES.includes(n));return this.accessedEnvVars.set("SOURCE_ORDER",r),r.length>0?r:["360","vod","renren","hanjutv"]}static resolvePlatformOrder(){let r=this.get("PLATFORM_ORDER","","string").split(",").map(n=>n.trim()).filter(n=>n?n.includes("&")?n.split("&").map(a=>a.trim()).every(a=>this.ALLOWED_PLATFORMS.includes(a)):this.ALLOWED_PLATFORMS.includes(n):!1);return this.accessedEnvVars.set("PLATFORM_ORDER",r),r.length>0?[...r,null]:[null]}static resolveMergeSourcePairs(){let t=this.get("MERGE_SOURCE_PAIRS","","string");return t?t.split(/[,;]/).map(r=>{if(!r)return null;let n=r.split("&").map(c=>c.trim()).filter(c=>c);if(n.length<1)return null;let s=n[0],a=n.slice(1);if(!this.MERGE_ALLOWED_SOURCES.includes(s))return null;let o=a.filter(c=>c!==s&&this.MERGE_ALLOWED_SOURCES.includes(c));return{primary:s,secondaries:o}}).filter(Boolean):[]}static resolveEpisodeTitleFilter(){let t="(\u7279\u522B|\u60CA\u559C|\u7EB3\u51C9)?\u4F01\u5212(?!(\u4E66|\u6848|\u90E8))|\u5408\u4F19\u4EBA\u624B\u8BB0|\u8D85\u524D(\u8425\u4E1A|vlog)?|\u901F\u89C8|vlog|(?<!(Chain|Chemical|Nuclear|\u8FDE\u9501|\u5316\u5B66|\u6838|\u751F\u5316|\u751F\u7406|\u5E94\u6FC0))reaction|(?<!(\u5355))\u7EAF\u4EAB|\u52A0\u66F4(\u7248|\u7BC7)?|\u62A2\u5148(\u770B|\u7248|\u96C6|\u7BC7)?|(?<!(\u88AB|\u4E89|\u8C01))\u62A2[\u5148\u9C9C](?!(\u4E00\u6B65|\u624B|\u653B|\u4E86|\u544A|\u8A00|\u673A|\u8BDD))|\u62A2\u9C9C|\u9884\u544A(?!(\u51FD|\u4FE1|\u4E66|\u72AF))|(?<!(\u6B7B\u4EA1|\u6050\u6016|\u7075\u5F02|\u602A\u8C08))\u82B1\u7D6E(\u72EC\u5BB6)?|(?<!(\u4E00|\u76F4))\u76F4\u62CD|(\u5236\u4F5C|\u62CD\u6444|\u5E55\u540E|\u82B1\u7D6E|\u672A\u64AD|\u72EC\u5BB6|\u6F14\u5458|\u5BFC\u6F14|\u4E3B\u521B|\u6740\u9752|\u63A2\u73ED|\u6536\u5B98|\u5F00\u64AD|\u5148\u5BFC|\u5F69\u86CB|NG|\u56DE\u987E|\u9AD8\u5149|\u4E2A\u4EBA|\u4E3B\u521B)\u7279\u8F91|(?<!(\u884C\u52A8|\u8BA1\u5212|\u6E38\u620F|\u4EFB\u52A1|\u5371\u673A|\u795E\u79D8|\u9EC4\u91D1))\u5F69\u86CB|(?<!(\u5ACC\u7591\u4EBA|\u8BC1\u4EBA|\u5BB6\u5C5E|\u5F8B\u5E08|\u8B66\u65B9|\u51F6\u624B|\u6B7B\u8005))\u4E13\u8BBF|(?<!(\u8BC1\u4EBA))\u91C7\u8BBF(?!(\u5438\u8840\u9B3C|\u9B3C))|(\u6B63\u5F0F|\u89D2\u8272|\u5148\u5BFC|\u6982\u5FF5|\u9996\u66DD|\u5B9A\u6863|\u5267\u60C5|\u52A8\u753B|\u5BA3\u4F20|\u4E3B\u9898\u66F2|\u5370\u8C61)[\\s\\.]*[Pp\uFF30\uFF50][Vv\uFF36\uFF56]|(?<!(\u9E26|\u96EA|\u7EB8|\u76F8|\u7167|\u56FE|\u540D|\u5927))\u7247\u82B1|(?<!(\u9000\u5C45|\u56DE\u5F52|\u8D70\u5411|\u8F6C\u6218|\u9690\u8EAB|\u85CF\u8EAB))\u5E55\u540E(?!(\u4E3B\u8C0B|\u4E3B\u4F7F|\u9ED1\u624B|\u771F\u51F6|\u73A9\u5BB6|\u8001\u677F|\u91D1\u4E3B|\u82F1\u96C4|\u529F\u81E3|\u63A8\u624B|\u5927\u4F6C|\u64CD\u7EB5|\u4EA4\u6613|\u7B56\u5212|\u535A\u5F08|BOSS|\u771F\u76F8))(\u6545\u4E8B|\u82B1\u7D6E|\u72EC\u5BB6)?|\u884D\u751F(?!(\u54C1|\u7269|\u517D))|\u756A\u5916(?!(\u5730|\u4EBA))|\u76F4\u64AD(\u966A\u770B|\u56DE\u987E)?|\u76F4\u64AD(?!(.*(\u4E8B\u4EF6|\u6740\u4EBA|\u81EA\u6740|\u8C0B\u6740|\u72AF\u7F6A|\u73B0\u573A|\u6E38\u620F|\u6311\u6218)))|\u672A\u64AD(\u7247\u6BB5)?|\u4F1A\u5458(\u4E13\u4EAB|\u52A0\u957F|\u5C0A\u4EAB|\u4E13\u5C5E|\u7248)?|(?<!(\u63D0\u53D6|\u5438\u6536|\u751F\u547D|\u9B54\u6CD5|\u4FEE\u62A4|\u7F8E\u767D))\u7CBE\u534E|\u770B\u70B9|\u901F\u770B|\u89E3\u8BFB(?!.*(\u5BC6\u6587|\u5BC6\u7801|\u5BC6\u7535|\u7535\u62A5|\u6863\u6848|\u4E66\u4FE1|\u9057\u4E66|\u7891\u6587|\u4EE3\u7801|\u4FE1\u53F7|\u6697\u53F7|\u8BAF\u606F|\u8C1C\u9898|\u4EBA\u5FC3|\u5507\u8BED|\u771F\u76F8|\u8C1C\u56E2|\u68A6\u5883))|(?<!(\u6848\u60C5|\u4EBA\u751F|\u6B7B\u524D|\u5386\u53F2|\u4E16\u7EAA))\u56DE\u987E|\u5F71\u8BC4|\u89E3\u8BF4|\u5410\u69FD|(?<!(\u5E74\u7EC8|\u5B63\u5EA6|\u5E93\u5B58|\u8D44\u4EA7|\u7269\u8D44|\u8D22\u52A1|\u6536\u83B7|\u6218\u5229))\u76D8\u70B9|\u62CD\u6444\u82B1\u7D6E|\u5236\u4F5C\u82B1\u7D6E|\u5E55\u540E\u82B1\u7D6E|\u672A\u64AD\u82B1\u7D6E|\u72EC\u5BB6\u82B1\u7D6E|\u82B1\u7D6E\u7279\u8F91|\u5148\u5BFC\u9884\u544A|\u7EC8\u6781\u9884\u544A|\u6B63\u5F0F\u9884\u544A|\u5B98\u65B9\u9884\u544A|\u5F69\u86CB\u7247\u6BB5|\u5220\u51CF\u7247\u6BB5|\u672A\u64AD\u7247\u6BB5|\u756A\u5916\u5F69\u86CB|\u7CBE\u5F69\u7247\u6BB5|\u7CBE\u5F69\u770B\u70B9|\u7CBE\u5F69\u96C6\u9526|\u770B\u70B9\u89E3\u6790|\u770B\u70B9\u9884\u544A|NG\u955C\u5934|NG\u82B1\u7D6E|\u756A\u5916\u7BC7|\u756A\u5916\u7279\u8F91|\u5236\u4F5C\u7279\u8F91|\u62CD\u6444\u7279\u8F91|\u5E55\u540E\u7279\u8F91|\u5BFC\u6F14\u7279\u8F91|\u6F14\u5458\u7279\u8F91|\u7247\u5C3E\u66F2|(?<!(\u751F\u547D|\u751F\u6D3B|\u60C5\u611F|\u7231\u60C5|\u4E00\u6BB5|\u5C0F|\u610F\u5916))\u63D2\u66F2|\u9AD8\u5149\u56DE\u987E|\u80CC\u666F\u97F3\u4E50|OST|\u97F3\u4E50MV|\u6B4C\u66F2MV|\u524D\u5B63\u56DE\u987E|\u5267\u60C5\u56DE\u987E|\u5F80\u671F\u56DE\u987E|\u5185\u5BB9\u603B\u7ED3|\u5267\u60C5\u76D8\u70B9|\u7CBE\u9009\u5408\u96C6|\u526A\u8F91\u5408\u96C6|\u6DF7\u526A\u89C6\u9891|\u72EC\u5BB6\u4E13\u8BBF|\u6F14\u5458\u8BBF\u8C08|\u5BFC\u6F14\u8BBF\u8C08|\u4E3B\u521B\u8BBF\u8C08|\u5A92\u4F53\u91C7\u8BBF|\u53D1\u5E03\u4F1A\u91C7\u8BBF|\u966A\u770B(\u8BB0)?|\u8BD5\u770B\u7248|\u77ED\u5267|\u7CBE\u7F16|(?<!(Love|Disney|One|C|Note|S\\d+|\\+|&|\\s))Plus|\u72EC\u5BB6\u7248|(?<!(\u5BFC\u6F14|\u52A0\u957F|\u5468\u5E74))\u7279\u522B\u7248(?!(\u56FE|\u753B))|\u77ED\u7247|(?<!(\u65B0\u95FB|\u7D27\u6025|\u4E34\u65F6|\u53EC\u5F00|\u7834\u574F|\u5927\u95F9|\u6F84\u6E05|\u9053\u6B49|\u65B0\u54C1|\u4EA7\u54C1|\u4E8B\u6545))\u53D1\u5E03\u4F1A|\u89E3\u5FE7\u5C40|\u8D70\u5FC3\u5C40|\u706B\u9505\u5C40|\u5DC5\u5CF0\u65F6\u523B|\u575E\u91CC\u90FD\u77E5\u9053|\u798F\u6301\u76EE\u6807\u575E\u6C11|\u798F\u5229(?!(\u9662|\u4F1A|\u4E3B\u4E49|\u8BFE))\u7BC7|(\u798F\u5229|\u52A0\u66F4|\u756A\u5916|\u5F69\u86CB|\u884D\u751F|\u7279\u522B|\u6536\u5B98|\u6E38\u620F|\u6574\u86CA|\u65E5\u5E38)\u7BC7|\u72EC\u5BB6(?!(\u8BB0\u5FC6|\u8BD5\u7231|\u62A5\u9053|\u79D8\u65B9|\u5360\u6709|\u5BA0\u7231|\u6069\u5BA0))|.{2,}(?<!(\u5E02|\u5206|\u8B66|\u603B|\u7701|\u536B|\u836F|\u653F|\u76D1|\u7ED3|\u5927|\u5F00|\u7834|\u5E03|\u50F5|\u56F0|\u9A97|\u8D4C|\u80DC|\u8D25|\u5B9A|\u4E71|\u5371|\u8FF7|\u8C1C|\u5165|\u6405|\u8BBE|\u4E2D|\u6B8B|\u5E73|\u548C|\u7EC8|\u53D8|\u5BF9|\u5B89|\u505A|\u4E66|\u753B|\u5BDF|\u52A1|\u6848|\u901A|\u4FE1|\u80B2|\u5546|\u8C61|\u6E90|\u4E1A|\u51B0))\u5C40(?!(\u957F|\u5EA7|\u52BF|\u9762|\u90E8|\u5185|\u5916|\u4E2D|\u9650|\u4FC3|\u6C14))|(?<!(\u91CD\u75C7|\u9694\u79BB|\u5B9E\u9A8C|\u5FC3\u7406|\u5BA1\u8BAF|\u5355\u5411|\u672F\u540E))\u89C2\u5BDF\u5BA4|\u4E0A\u73ED\u90A3\u70B9\u4E8B\u513F|\u5468top|\u8D5B\u6BB5|VLOG|(?<!(\u5927\u6848|\u8981\u6848|\u5211\u4FA6|\u4FA6\u67E5|\u7834\u6848|\u6863\u6848|\u98CE\u4E91|\u5386\u53F2|\u6218\u4E89|\u63A2\u6848|\u81EA\u7136|\u4EBA\u6587|\u79D1\u5B66|\u533B\u5B66|\u5730\u7406|\u5B87\u5B99|\u8D5B\u4E8B|\u4E16\u754C\u676F|\u5965\u8FD0))\u5168\u7EAA\u5F55|\u5F00\u64AD|\u5148\u5BFC|\u603B\u5BA3|\u5C55\u6F14|\u96C6\u9526|\u65C5\u884C\u65E5\u8BB0|\u7CBE\u5F69\u5206\u4EAB|\u5267\u60C5\u63ED\u79D8(?!(\u8005|\u4EBA))",n=this.get("EPISODE_TITLE_FILTER","","string",!1).trim()||t;this.accessedEnvVars.set("EPISODE_TITLE_FILTER",n);try{return new RegExp(`^(.*?)(?:${n})(.*?)$`,"i")}catch{return console.warn("Invalid EPISODE_TITLE_FILTER format, using default."),new RegExp(`^(.*?)(?:${t})(.*?)$`,"i")}}static resolveAnimeTitleFilter(){let t=this.get("ANIME_TITLE_FILTER","","string",!1).trim();if(!t)return this.accessedEnvVars.set("ANIME_TITLE_FILTER",""),null;this.accessedEnvVars.set("ANIME_TITLE_FILTER",t);try{return new RegExp(`^(.*?)(?:${t})(.*?)$`,"i")}catch{return console.warn("Invalid ANIME_TITLE_FILTER format, returning null."),null}}static getOriginalEnvVars(){return this.originalEnvVars}static resolveTitleMappingTable(){let t=this.get("TITLE_MAPPING_TABLE","","string").trim(),r=new Map;if(!t)return r;let n=t.split(";");for(let s of n)if(s.includes("->")){let[a,o]=s.split("->").map(c=>c.trim());a&&o&&r.set(a,o)}return r}static getAccessedEnvVars(){return this.accessedEnvVars}static load(t={}){this.env=t;let r={TOKEN:{category:"api",type:"text",description:"API\u8BBF\u95EE\u4EE4\u724C"},ADMIN_TOKEN:{category:"api",type:"text",description:"\u7CFB\u7EDF\u7BA1\u7406\u8BBF\u95EE\u4EE4\u724C"},RATE_LIMIT_MAX_REQUESTS:{category:"api",type:"number",description:"\u9650\u6D41\u914D\u7F6E\uFF1A1\u5206\u949F\u5185\u6700\u5927\u8BF7\u6C42\u6B21\u6570\uFF0C0\u8868\u793A\u4E0D\u9650\u6D41\uFF0C\u9ED8\u8BA43",min:0,max:50},SOURCE_ORDER:{category:"source",type:"multi-select",options:this.ALLOWED_SOURCES,description:"\u6E90\u6392\u5E8F\u914D\u7F6E\uFF0C\u9ED8\u8BA4360,vod,renren,hanjutv"},OTHER_SERVER:{category:"source",type:"text",description:"\u7B2C\u4E09\u65B9\u5F39\u5E55\u670D\u52A1\u5668\uFF0C\u9ED8\u8BA4https://api.danmu.icu"},CUSTOM_SOURCE_API_URL:{category:"source",type:"text",description:"\u81EA\u5B9A\u4E49\u5F39\u5E55\u6E90API\u5730\u5740\uFF0C\u9ED8\u8BA4\u4E3A\u7A7A\uFF0C\u914D\u7F6E\u540E\u8FD8\u9700\u5728SOURCE_ORDER\u6DFB\u52A0custom\u6E90"},VOD_SERVERS:{category:"source",type:"text",description:"VOD\u7AD9\u70B9\u914D\u7F6E\uFF0C\u683C\u5F0F\uFF1A\u540D\u79F0@URL,\u540D\u79F0@URL\uFF0C\u9ED8\u8BA4\u91D1\u8749@https://zy.jinchancaiji.com,789@https://www.caiji.cyou,\u542C\u98CE@https://gctf.tfdh.top"},VOD_RETURN_MODE:{category:"source",type:"select",options:["all","fastest"],description:"VOD\u8FD4\u56DE\u6A21\u5F0F\uFF1Aall\uFF08\u6240\u6709\u7AD9\u70B9\uFF09\u6216 fastest\uFF08\u6700\u5FEB\u7684\u7AD9\u70B9\uFF09\uFF0C\u9ED8\u8BA4fastest"},VOD_REQUEST_TIMEOUT:{category:"source",type:"number",description:"VOD\u8BF7\u6C42\u8D85\u65F6\u65F6\u95F4\uFF0C\u9ED8\u8BA410000",min:5e3,max:3e4},BILIBILI_COOKIE:{category:"source",type:"text",description:"B\u7AD9Cookie"},YOUKU_CONCURRENCY:{category:"source",type:"number",description:"\u4F18\u9177\u5E76\u53D1\u914D\u7F6E\uFF0C\u9ED8\u8BA48",min:1,max:16},MERGE_SOURCE_PAIRS:{category:"source",type:"multi-select",options:this.MERGE_ALLOWED_SOURCES,description:`\u6E90\u5408\u5E76\u914D\u7F6E\uFF0C\u914D\u7F6E\u540E\u5C06\u5BF9\u5E94\u6E90\u5408\u5E76\u540C\u65F6\u4E00\u8D77\u83B7\u53D6\u5F39\u5E55\u8FD4\u56DE\uFF0C\u5141\u8BB8\u591A\u7EC4\uFF0C\u5141\u8BB8\u591A\u6E90\uFF0C\u5141\u8BB8\u586B\u5355\u6E90\u8868\u793A\u4FDD\u7559\u539F\u7ED3\u679C\uFF0C\u4E00\u7EC4\u4E2D\u7B2C\u4E00\u4E2A\u4E3A\u4E3B\u6E90\u5176\u4F59\u4E3A\u526F\u6E90\uFF0C\u526F\u6E90\u5F80\u4E3B\u6E90\u5408\u5E76\uFF0C\u4E3B\u6E90\u5982\u679C\u6CA1\u6709\u7ED3\u679C\u4F1A\u8F6E\u66FF\u4E0B\u4E00\u4E2A\u4F5C\u4E3A\u4E3B\u6E90\u3002
\u683C\u5F0F\uFF1A\u6E901&\u6E902&\u6E903 \uFF0C\u591A\u7EC4\u7528\u9017\u53F7\u5206\u9694\u3002
\u793A\u4F8B\uFF1Adandan&animeko&bahamut,bilibili&animeko,dandan`},PLATFORM_ORDER:{category:"match",type:"multi-select",options:this.ALLOWED_PLATFORMS,description:`\u5E73\u53F0\u6392\u5E8F\u914D\u7F6E\uFF0C\u53EF\u4EE5\u914D\u7F6E\u81EA\u52A8\u5339\u914D\u65F6\u7684\u4F18\u9009\u5E73\u53F0\u3002
\u5F53\u914D\u7F6E\u5408\u5E76\u5E73\u53F0\u7684\u65F6\u5019\uFF0C\u53EF\u4EE5\u6307\u5B9A\u671F\u671B\u7684\u5408\u5E76\u6E90\uFF0C
\u793A\u4F8B\uFF1A\u4E00\u4E2A\u7ED3\u679C\u8FD4\u56DE\u4E86"dandan&bilibili1&animeko"\u548C"youku"\u65F6\uFF0C
\u5F53\u914D\u7F6E"youku"\u65F6\u8FD4\u56DE"youku" 
\u5F53\u914D\u7F6E"dandan&animeko"\u65F6\u8FD4\u56DE"dandan&bilibili1&animeko"`},ANIME_TITLE_FILTER:{category:"match",type:"text",description:"\u5267\u540D\u8FC7\u6EE4\u89C4\u5219"},EPISODE_TITLE_FILTER:{category:"match",type:"text",description:"\u5267\u96C6\u6807\u9898\u8FC7\u6EE4\u89C4\u5219"},ENABLE_ANIME_EPISODE_FILTER:{category:"match",type:"boolean",description:"\u63A7\u5236\u624B\u52A8\u641C\u7D22\u7684\u65F6\u5019\u662F\u5426\u6839\u636EANIME_TITLE_FILTER\u8FDB\u884C\u5267\u540D\u8FC7\u6EE4\u4EE5\u53CA\u6839\u636EEPISODE_TITLE_FILTER\u8FDB\u884C\u96C6\u6807\u9898\u8FC7\u6EE4"},STRICT_TITLE_MATCH:{category:"match",type:"boolean",description:"\u4E25\u683C\u6807\u9898\u5339\u914D\u6A21\u5F0F"},TITLE_TO_CHINESE:{category:"match",type:"boolean",description:"\u5916\u8BED\u6807\u9898\u8F6C\u6362\u4E2D\u6587\u5F00\u5173"},ANIME_TITLE_SIMPLIFIED:{category:"match",type:"boolean",description:"\u641C\u7D22\u7684\u5267\u540D\u6807\u9898\u81EA\u52A8\u7E41\u8F6C\u7B80"},TITLE_MAPPING_TABLE:{category:"match",type:"map",description:'\u5267\u540D\u6620\u5C04\u8868\uFF0C\u7528\u4E8E\u81EA\u52A8\u5339\u914D\u65F6\u66FF\u6362\u6807\u9898\u8FDB\u884C\u641C\u7D22\uFF0C\u683C\u5F0F\uFF1A\u539F\u59CB\u6807\u9898->\u6620\u5C04\u6807\u9898;\u539F\u59CB\u6807\u9898->\u6620\u5C04\u6807\u9898;... \uFF0C\u4F8B\u5982\uFF1A"\u5510\u671D\u8BE1\u4E8B\u5F55->\u5510\u671D\u8BE1\u4E8B\u5F55\u4E4B\u897F\u884C;\u56FD\u8272\u82B3\u534E->\u9526\u7EE3\u82B3\u534E"'},AI_BASE_URL:{category:"match",type:"text",description:"AI\u670D\u52A1\u57FA\u7840URL\uFF0C\u4E0D\u586B\u9ED8\u8BA4\u4E3Ahttps://api.openai.com/v1"},AI_MODEL:{category:"match",type:"text",description:"AI\u6A21\u578B\u540D\u79F0\uFF0C\u4E0D\u586B\u9ED8\u8BA4\u4E3Agpt-4o"},AI_API_KEY:{category:"match",type:"text",description:"AI\u670D\u52A1API\u5BC6\u94A5\uFF0C\u9ED8\u8BA4\u4E3A\u7A7A\uFF0C\u9700\u624B\u52A8\u586B\u5199"},AI_MATCH_PROMPT:{category:"match",type:"text",description:"AI\u81EA\u52A8\u5339\u914D\u63D0\u793A\u8BCD\u6A21\u677F\uFF0C\u4E0D\u586B\u63D0\u4F9B\u9ED8\u8BA4\u63D0\u793A\u8BCD\uFF0C\u9ED8\u8BA4\u63D0\u793A\u8BCD\u8BF7\u67E5\u770BREADME"},BLOCKED_WORDS:{category:"danmu",type:"text",description:"\u5C4F\u853D\u8BCD\u5217\u8868"},GROUP_MINUTE:{category:"danmu",type:"number",description:"\u5206\u949F\u5185\u5408\u5E76\u53BB\u91CD\uFF080\u8868\u793A\u4E0D\u53BB\u91CD\uFF09\uFF0C\u9ED8\u8BA41",min:0,max:30},DANMU_LIMIT:{category:"danmu",type:"number",description:"\u5F39\u5E55\u6570\u91CF\u9650\u5236\uFF0C\u5355\u4F4D\u4E3Ak\uFF0C\u5373\u5343\uFF1A\u9ED8\u8BA4 0\uFF0C\u8868\u793A\u4E0D\u9650\u5236\u5F39\u5E55\u6570",min:0,max:100},DANMU_SIMPLIFIED_TRADITIONAL:{category:"danmu",type:"select",options:["default","simplified","traditional"],description:"\u5F39\u5E55\u7B80\u7E41\u4F53\u8F6C\u6362\u8BBE\u7F6E\uFF1Adefault\uFF08\u9ED8\u8BA4\u4E0D\u8F6C\u6362\uFF09\u3001simplified\uFF08\u7E41\u8F6C\u7B80\uFF09\u3001traditional\uFF08\u7B80\u8F6C\u7E41\uFF09"},CONVERT_TOP_BOTTOM_TO_SCROLL:{category:"danmu",type:"boolean",description:"\u9876\u90E8/\u5E95\u90E8\u5F39\u5E55\u8F6C\u6362\u4E3A\u6D6E\u52A8\u5F39\u5E55"},CONVERT_COLOR:{category:"danmu",type:"select",options:["default","white","color"],description:"\u5F39\u5E55\u8F6C\u6362\u989C\u8272\u914D\u7F6E"},DANMU_OUTPUT_FORMAT:{category:"danmu",type:"select",options:["json","xml"],description:"\u5F39\u5E55\u8F93\u51FA\u683C\u5F0F\uFF0C\u9ED8\u8BA4json"},DANMU_PUSH_URL:{category:"danmu",type:"text",description:"\u5F39\u5E55\u63A8\u9001\u5730\u5740\uFF0C\u793A\u4F8B http://127.0.0.1:9978/action?do=refresh&type=danmaku&path= "},SEARCH_CACHE_MINUTES:{category:"cache",type:"number",description:"\u641C\u7D22\u7ED3\u679C\u7F13\u5B58\u65F6\u95F4(\u5206\u949F)\uFF0C\u9ED8\u8BA41",min:1,max:120},COMMENT_CACHE_MINUTES:{category:"cache",type:"number",description:"\u5F39\u5E55\u7F13\u5B58\u65F6\u95F4(\u5206\u949F)\uFF0C\u9ED8\u8BA41",min:1,max:120},REMEMBER_LAST_SELECT:{category:"cache",type:"boolean",description:"\u8BB0\u4F4F\u624B\u52A8\u9009\u62E9\u7ED3\u679C"},MAX_LAST_SELECT_MAP:{category:"cache",type:"number",description:"\u8BB0\u4F4F\u4E0A\u6B21\u9009\u62E9\u6620\u5C04\u7F13\u5B58\u5927\u5C0F\u9650\u5236",min:10,max:1e3},UPSTASH_REDIS_REST_URL:{category:"cache",type:"text",description:"Upstash Redis\u8BF7\u6C42\u94FE\u63A5"},UPSTASH_REDIS_REST_TOKEN:{category:"cache",type:"text",description:"Upstash Redis\u8BBF\u95EE\u4EE4\u724C"},PROXY_URL:{category:"system",type:"text",description:"\u4EE3\u7406/\u53CD\u4EE3\u5730\u5740"},TMDB_API_KEY:{category:"system",type:"text",description:"TMDB API\u5BC6\u94A5"},LOG_LEVEL:{category:"system",type:"select",options:["debug","info","warn","error"],description:"\u65E5\u5FD7\u7EA7\u522B\u914D\u7F6E"},DEPLOY_PLATFROM_ACCOUNT:{category:"system",type:"text",description:"\u90E8\u7F72\u5E73\u53F0\u8D26\u53F7ID"},DEPLOY_PLATFROM_PROJECT:{category:"system",type:"text",description:"\u90E8\u7F72\u5E73\u53F0\u9879\u76EE\u540D\u79F0"},DEPLOY_PLATFROM_TOKEN:{category:"system",type:"text",description:"\u90E8\u7F72\u5E73\u53F0\u8BBF\u95EE\u4EE4\u724C"},NODE_TLS_REJECT_UNAUTHORIZED:{category:"system",type:"number",description:"\u5728\u5EFA\u7ACB HTTPS \u8FDE\u63A5\u65F6\u662F\u5426\u9A8C\u8BC1\u670D\u52A1\u5668\u7684 SSL/TLS \u8BC1\u4E66\uFF0C0\u8868\u793A\u5FFD\u7565\uFF0C\u9ED8\u8BA4\u4E3A1",min:0,max:1}};return{vodAllowedPlatforms:this.VOD_ALLOWED_PLATFORMS,allowedPlatforms:this.ALLOWED_PLATFORMS,token:this.get("TOKEN","87654321","string",!0),adminToken:this.get("ADMIN_TOKEN","","string",!0),sourceOrderArr:this.resolveSourceOrder(),otherServer:this.get("OTHER_SERVER","https://api.danmu.icu","string"),customSourceApiUrl:this.get("CUSTOM_SOURCE_API_URL","","string",!0),vodServers:this.resolveVodServers(),vodReturnMode:this.get("VOD_RETURN_MODE","fastest","string").toLowerCase(),vodRequestTimeout:this.get("VOD_REQUEST_TIMEOUT","10000","string"),bilibliCookie:this.get("BILIBILI_COOKIE","","string",!0),youkuConcurrency:Math.min(this.get("YOUKU_CONCURRENCY",8,"number"),16),mergeSourcePairs:this.resolveMergeSourcePairs(),platformOrderArr:this.resolvePlatformOrder(),animeTitleFilter:this.resolveAnimeTitleFilter(),episodeTitleFilter:this.resolveEpisodeTitleFilter(),blockedWords:this.get("BLOCKED_WORDS","","string"),groupMinute:Math.min(this.get("GROUP_MINUTE",1,"number"),30),danmuLimit:this.get("DANMU_LIMIT",0,"number"),proxyUrl:this.get("PROXY_URL","","string",!0),danmuSimplifiedTraditional:this.get("DANMU_SIMPLIFIED_TRADITIONAL","default","string"),danmuPushUrl:this.get("DANMU_PUSH_URL","","string"),tmdbApiKey:this.get("TMDB_API_KEY","","string",!0),redisUrl:this.get("UPSTASH_REDIS_REST_URL","","string",!0),redisToken:this.get("UPSTASH_REDIS_REST_TOKEN","","string",!0),rateLimitMaxRequests:this.get("RATE_LIMIT_MAX_REQUESTS",3,"number"),enableAnimeEpisodeFilter:this.get("ENABLE_ANIME_EPISODE_FILTER",!1,"boolean"),logLevel:this.get("LOG_LEVEL","info","string"),searchCacheMinutes:this.get("SEARCH_CACHE_MINUTES",1,"number"),commentCacheMinutes:this.get("COMMENT_CACHE_MINUTES",1,"number"),convertTopBottomToScroll:this.get("CONVERT_TOP_BOTTOM_TO_SCROLL",!1,"boolean"),convertColor:this.get("CONVERT_COLOR","default","string"),danmuOutputFormat:this.get("DANMU_OUTPUT_FORMAT","json","string"),strictTitleMatch:this.get("STRICT_TITLE_MATCH",!1,"boolean"),titleToChinese:this.get("TITLE_TO_CHINESE",!1,"boolean"),animeTitleSimplified:this.get("ANIME_TITLE_SIMPLIFIED",!1,"boolean"),titleMappingTable:this.resolveTitleMappingTable(),aiBaseUrl:this.get("AI_BASE_URL","https://api.openai.com/v1","string"),aiModel:this.get("AI_MODEL","gpt-4o","string"),aiApiKey:this.get("AI_API_KEY","","string",!0),aiMatchPrompt:this.get("AI_MATCH_PROMPT",this.DEFAULT_AI_MATCH_PROMPT,"string"),rememberLastSelect:this.get("REMEMBER_LAST_SELECT",!0,"boolean"),MAX_LAST_SELECT_MAP:this.get("MAX_LAST_SELECT_MAP",100,"number"),deployPlatformAccount:this.get("DEPLOY_PLATFROM_ACCOUNT","","string",!0),deployPlatformProject:this.get("DEPLOY_PLATFROM_PROJECT","","string",!0),deployPlatformToken:this.get("DEPLOY_PLATFROM_TOKEN","","string",!0),NODE_TLS_REJECT_UNAUTHORIZED:this.get("NODE_TLS_REJECT_UNAUTHORIZED",1,"number"),envVarConfig:r}}}});var cd,R,ht=bs(()=>{Tde();cd={env:{},envs:{},originalEnvVars:{},accessedEnvVars:{},VERSION:"1.15.0",MAX_LOGS:1e3,MAX_ANIMES:100,MAX_RECORDS:100,animes:[],episodeIds:[],episodeNum:10001,logBuffer:[],requestHistory:new Map,localCacheValid:!1,localCacheInitialized:!1,redisValid:!1,aiValid:!1,redisCacheInitialized:!1,lastSelectMap:new Map,reqRecords:[],todayReqNum:0,lastHashes:{animes:null,episodeIds:null,episodeNum:null,lastSelectMap:null,reqRecords:null,todayReqNum:null},searchCache:new Map,commentCache:new Map,deployPlatform:"",currentToken:"",init(e={}){return this.env=e,this.envs=Jo.load(this.env),this.originalEnvVars=Object.fromEntries(Jo.getOriginalEnvVars()),this.accessedEnvVars=Object.fromEntries(Jo.getAccessedEnvVars()),this.getConfig()},reInit(){return this.envs=Jo.load(this.env),this.originalEnvVars=Object.fromEntries(Jo.getOriginalEnvVars()),this.accessedEnvVars=Object.fromEntries(Jo.getAccessedEnvVars()),this.getConfig()},makeProxyUrl(e){let t=this.envs.proxyUrl||"";if(!t||!e)return e;let r=t.split(",").map(u=>u.trim()).filter(u=>u),n=null,s=null,a=null,o;try{o=new URL(e)}catch{return e}let c=o.hostname;for(let u of r)if(u.startsWith("bahamut@")&&c.includes("gamer.com.tw")){s=u.substring(8);break}else if(u.startsWith("tmdb@")&&c.includes("tmdb")){s=u.substring(5);break}else if(u.startsWith("bilibili@")&&c.includes("bilibili")){s=u.substring(9);break}else u.startsWith("@")&&!a?a=u.substring(1):!u.includes("@")&&!n&&(n=u);if(s)try{let u=new URL(s);return o.protocol=u.protocol,o.host=u.host,o.port=u.port,u.pathname!=="/"&&(o.pathname=u.pathname.replace(/\/$/,"")+o.pathname),o.toString()}catch{return e}return a?`${a.replace(/\/$/,"")}/${e}`:n?`http://127.0.0.1:5321/proxy?url=${encodeURIComponent(e)}`:e},getConfig(){let e=this;return new Proxy({},{get(t,r){return r in e.envs?e.envs[r]:r==="version"?e.VERSION:r==="maxLogs"?e.MAX_LOGS:r==="maxAnimes"?e.MAX_ANIMES:r==="maxRecords"?e.MAX_RECORDS:r==="maxLastSelectMap"?e.MAX_LAST_SELECT_MAP:r==="makeProxyUrl"?e.makeProxyUrl.bind(e):e[r]},set(t,r,n){return r in e.envs?e.envs[r]=n:e[r]=n,!0}})}},R=new Proxy({},{get(e,t){return cd.getConfig()[t]},set(e,t,r){return cd.getConfig()[t]=r,!0},has(e,t){return t in cd.getConfig()},ownKeys(e){return Reflect.ownKeys(cd.getConfig())},getOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(cd.getConfig(),t)}})});function x(e,...t){let r={error:0,warn:1,info:2},n=r[R.logLevel]!==void 0?r[R.logLevel]:1;if((r[e]||0)>n)return;let s=t.map(l=>{if(typeof l=="object"){let d=JSON.stringify(l);return Bde(d)}else return typeof l=="string"?Bde(l):l}),a=s.map(l=>typeof l=="object"?JSON.stringify(l):l).join(" "),o=new Date,u=new Date(o.getTime()+8*60*60*1e3).toISOString().replace("Z","+08:00");R.logBuffer.push({timestamp:u,level:e,message:a}),R.logBuffer.length>R.MAX_LOGS&&R.logBuffer.shift(),console[e](...s)}function Bde(e){let t=e;if(R.originalEnvVars&&R.accessedEnvVars)for(let[r,n]of Object.entries(R.originalEnvVars)){let s=R.accessedEnvVars[r];if(n&&typeof n=="string"&&n.length>0&&s&&typeof s=="string"&&s.match(/^\*+$/)&&s.length===n.length){let a="*".repeat(n.length),o=new RegExp(n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g");t=t.replace(o,a)}}return t}function Rde(e){try{let t=JSON.parse(e);return JSON.stringify(t,null,2).replace(/\n/g,`
    `)}catch{return e}}var et=bs(()=>{ht()});function AO(e,t){e&&(e.aborted?t.abort():e.addEventListener("abort",()=>{t.abort()},{once:!0}))}async function pe(e,t={}){let r=parseInt(t.retries||"0",10)||0,n;for(let s=0;s<=r;s++){s>0?(x("info",`[\u8BF7\u6C42\u6A21\u62DF] \u7B2C ${s} \u6B21\u91CD\u8BD5: ${e}`),await new Promise(u=>setTimeout(u,Math.min(1e3*Math.pow(2,s-1),5e3)))):x("info",`[\u8BF7\u6C42\u6A21\u62DF] HTTP GET: ${e}`);let a=parseInt(R.vodRequestTimeout||"5000",10)||5e3,o=new AbortController,c=setTimeout(()=>o.abort(),a);AO(t.signal,o);try{let u=await fetch(e,{method:"GET",headers:{...t.headers},signal:o.signal});if(clearTimeout(c),!u.ok)throw new Error(`HTTP error! status: ${u.status}`);let l;if(t.base64Data){x("info","base64\u6A21\u5F0F");let m=await u.arrayBuffer(),h=new Uint8Array(m),g="",A=32768;for(let y=0;y<h.length;y+=A){let v=h.subarray(y,y+A);g+=String.fromCharCode.apply(null,v)}l=btoa(g)}else if(t.zlibMode){x("info","zlib\u6A21\u5F0F");let m=await u.arrayBuffer(),h=new DecompressionStream("deflate"),g=new Response(new Blob([m]).stream().pipeThrough(h)),A;try{A=await g.text()}catch(y){throw x("error","[\u8BF7\u6C42\u6A21\u62DF] \u89E3\u538B\u7F29\u5931\u8D25",y),y}l=A}else l=await u.text();let d;try{d=JSON.parse(l)}catch{d=l}let f={},p=[];for(let[m,h]of u.headers.entries())m.toLowerCase()==="set-cookie"?p.push(h):f[m]=h;return p.length>0&&(f["set-cookie"]=p.join(";")),s>0&&x("info","[\u8BF7\u6C42\u6A21\u62DF] \u91CD\u8BD5\u6210\u529F"),{data:d,status:u.status,headers:f}}catch(u){if(clearTimeout(c),n=u,t.signal?.aborted)throw u;if(u.name==="AbortError"?(x("error","[\u8BF7\u6C42\u6A21\u62DF] \u8BF7\u6C42\u8D85\u65F6:",u.message),x("error","\u8BE6\u7EC6\u8BCA\u65AD:"),x("error","- URL:",e),x("error","- \u8D85\u65F6\u65F6\u95F4:",`${a}ms`),x("error",`- \u5F53\u524D\u5C1D\u8BD5: ${s+1}/${r+1}`)):(x("error","[\u8BF7\u6C42\u6A21\u62DF] \u8BF7\u6C42\u5931\u8D25:",u.message),x("error","\u8BE6\u7EC6\u8BCA\u65AD:"),x("error","- URL:",e),x("error","- \u9519\u8BEF\u7C7B\u578B:",u.name),x("error","- \u6D88\u606F:",u.message),x("error",`- \u5F53\u524D\u5C1D\u8BD5: ${s+1}/${r+1}`),u.cause&&(x("error","- \u7801:",u.cause.code),x("error","- \u539F\u56E0:",u.cause.message))),s<r){x("info","[\u8BF7\u6C42\u6A21\u62DF] \u51C6\u5907\u91CD\u8BD5...");continue}}}throw x("error",`[\u8BF7\u6C42\u6A21\u62DF] \u6240\u6709\u91CD\u8BD5\u5747\u5931\u8D25 (${r+1} \u6B21\u5C1D\u8BD5)`),n}async function sr(e,t,r={}){let n=parseInt(r.retries||"0",10)||0,s;for(let a=0;a<=n;a++){a>0?(x("info",`[\u8BF7\u6C42\u6A21\u62DF] \u7B2C ${a} \u6B21\u91CD\u8BD5: ${e}`),await new Promise(m=>setTimeout(m,Math.min(1e3*Math.pow(2,a-1),5e3)))):x("info",`[\u8BF7\u6C42\u6A21\u62DF] HTTP POST: ${e}`);let o=parseInt(r.timeout||R.vodRequestTimeout||"5000",10)||5e3,c=new AbortController,u=setTimeout(()=>c.abort(),o);AO(r.signal,c);let{headers:l={},params:d,allow_redirects:f=!0}=r,p={method:"POST",headers:{...l},body:t,signal:c.signal};f||(p.redirect="manual");try{let m=await fetch(e,p);clearTimeout(u);let h=await m.text();if(!m.ok)throw x("error","[\u8BF7\u6C42\u6A21\u62DF] response data: ",h),new Error(`HTTP error! status: ${m.status}`);let g;try{g=JSON.parse(h)}catch{g=h}return a>0&&x("info","[\u8BF7\u6C42\u6A21\u62DF] \u91CD\u8BD5\u6210\u529F"),{data:g,status:m.status,headers:Object.fromEntries(m.headers.entries())}}catch(m){if(clearTimeout(u),s=m,r.signal?.aborted)throw m;if(m.name==="AbortError"?(x("error","[\u8BF7\u6C42\u6A21\u62DF] \u8BF7\u6C42\u8D85\u65F6:",m.message),x("error","\u8BE6\u7EC6\u8BCA\u65AD:"),x("error","- URL:",e),x("error","- \u8D85\u65F6\u65F6\u95F4:",`${o}ms`),x("error",`- \u5F53\u524D\u5C1D\u8BD5: ${a+1}/${n+1}`)):(x("error","[\u8BF7\u6C42\u6A21\u62DF] \u8BF7\u6C42\u5931\u8D25:",m.message),x("error","\u8BE6\u7EC6\u8BCA\u65AD:"),x("error","- URL:",e),x("error","- \u9519\u8BEF\u7C7B\u578B:",m.name),x("error","- \u6D88\u606F:",m.message),x("error",`- \u5F53\u524D\u5C1D\u8BD5: ${a+1}/${n+1}`),m.cause&&(x("error","- \u7801:",m.cause.code),x("error","- \u539F\u56E0:",m.cause.message))),a<n){x("info","[\u8BF7\u6C42\u6A21\u62DF] \u51C6\u5907\u91CD\u8BD5...");continue}}}throw x("error",`[\u8BF7\u6C42\u6A21\u62DF] \u6240\u6709\u91CD\u8BD5\u5747\u5931\u8D25 (${n+1} \u6B21\u5C1D\u8BD5)`),s}async function yO(e,t,r,n={}){x("info",`[\u8BF7\u6C42\u6A21\u62DF] HTTP ${e}: ${t}`);let{headers:s={},params:a,allow_redirects:o=!0}=n,c={method:e,headers:{...s}};r!=null&&(c.body=r),n.signal&&(c.signal=n.signal);try{let u=await fetch(t,c),l=await u.text();if(!u.ok)throw x("error","[\u8BF7\u6C42\u6A21\u62DF] response data: ",l),new Error(`HTTP error! status: ${u.status}`);let d;try{d=JSON.parse(l)}catch{d=l}return{data:d,status:u.status,headers:Object.fromEntries(u.headers.entries())}}catch(u){throw x("error","[\u8BF7\u6C42\u6A21\u62DF] \u8BF7\u6C42\u5931\u8D25:",u.message),x("error","\u8BE6\u7EC6\u8BCA\u65AD:"),x("error","- URL:",t),x("error","- \u9519\u8BEF\u7C7B\u578B:",u.name),x("error","- \u6D88\u606F:",u.message),u.cause&&(x("error","- \u7801:",u.cause?.code),x("error","- \u539F\u56E0:",u.cause?.message)),u}}async function f2(e,t,r={}){return yO("PATCH",e,t,r)}async function Nde(e,t,r={}){return yO("PUT",e,t,r)}async function p2(e,t={}){return yO("DELETE",e,void 0,t)}async function kde(e){try{let n=(await pe(e,{headers:{"User-Agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15"}})).data.match(/<title[^>]*>(.*?)<\/title>/i);return n&&n[1]?n[1].replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").trim():e}catch(t){return x("error",`\u83B7\u53D6\u6807\u9898\u5931\u8D25: ${t.message}`),e}}function Ee(e,t=200){return new Response(JSON.stringify(e),{status:t,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}})}function Dde(e,t=200){if(typeof e!="string"||!e.trim().startsWith("<?xml"))throw new Error("Expected data to be an XML string starting with <?xml");return new Response(e,{status:t,headers:{"Content-Type":"application/xml","Access-Control-Allow-Origin":"*"}})}function bn(e,t=!0){let r=t?encodeURIComponent:s=>s,n="";for(let s in e)e.hasOwnProperty(s)&&(n.length>0&&(n+="&"),n+=r(s)+"="+r(e[s]));return n}function bO(e={}){let t={};for(let[s,a]of Object.entries(e))typeof a=="boolean"?t[s]=a?"true":"false":a==null?t[s]="":t[s]=String(a);let r=[];for(let s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.push(s);r.sort();let n=[];for(let s of r){let a=encodeURIComponent(s),o=encodeURIComponent(t[s]);n.push(`${a}=${o}`)}return n.join("&")}function Pde(e,t){let r=e,n="",s=e.indexOf("#"),a="";s!==-1&&(r=e.substring(0,s),a=e.substring(s));let o=r.indexOf("?");o!==-1&&(n=r.substring(o+1),r=r.substring(0,o));let c={};if(n){let l=n.split("&");for(let d of l)if(d){let[f,p=""]=d.split("=").map(decodeURIComponent);c[f]=p}}for(let l in t)Object.prototype.hasOwnProperty.call(t,l)&&(c[l]=t[l]);let u=[];for(let l in c)Object.prototype.hasOwnProperty.call(c,l)&&u.push(`${encodeURIComponent(l)}=${encodeURIComponent(c[l])}`);return r+(u.length?"?"+u.join("&"):"")+a}function Ode(e){let t=e.indexOf("//")+2;t===1&&(t=0);let r=e.indexOf("/",t);if(r===-1)return"/";let n=e.indexOf("?",r),s=e.indexOf("#",r),a=n!==-1?n:s!==-1?s:e.length;return e.substring(r,a)||"/"}async function EO(e,t={},r){let{headers:n={},sniffLimit:s}=t,a=parseInt(s||"32768",10)||32768,o=parseInt(R.vodRequestTimeout||"5000",10)||5e3,c=new AbortController,u=setTimeout(()=>c.abort(),o);AO(t.signal,c);try{x("info",`[\u6D41\u5F0F\u8BF7\u6C42] HTTP GET: ${e}`);let l=await fetch(e,{method:"GET",headers:n,signal:c.signal});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);let d=l.body.getReader?l.body.getReader():null;if(!d){x("warn","[\u6D41\u5F0F\u8BF7\u6C42] \u73AF\u5883\u4E0D\u652F\u6301\u6D41\u5F0F\u8BFB\u53D6,\u56DE\u9000\u5230\u666E\u901A\u8BF7\u6C42");let b=await l.text();if(clearTimeout(u),r&&!r(b.slice(0,a)))return x("info","[\u6D41\u5F0F\u8BF7\u6C42] \u68C0\u6D4B\u5230\u65E0\u6548\u6570\u636E(\u56DE\u9000\u6A21\u5F0F),\u4E22\u5F03\u7ED3\u679C"),null;try{return JSON.parse(b)}catch{return b}}let f=0,p=[],m=!1,h="",g=!1;for(;;){let{done:b,value:E}=await d.read();if(b)break;if(f+=E.length,!g&&r){let I=new TextDecoder("utf-8").decode(E,{stream:!0});if(h+=I,!r(h)){x("info",`[\u6D41\u5F0F\u8BF7\u6C42] \u55C5\u63A2\u5230\u65E0\u6548\u7279\u5F81(\u5DF2\u8BFB${f}\u5B57\u8282),\u7ACB\u5373\u7194\u65AD`),c.abort(),m=!0;break}f>a&&(g=!0,h=null)}p.push(E)}if(clearTimeout(u),m)return null;let A=new Uint8Array(f),y=0;for(let b of p)A.set(b,y),y+=b.length;let v=new TextDecoder("utf-8").decode(A);try{return JSON.parse(v)}catch{return v}}catch(l){return clearTimeout(u),l.name==="AbortError"||x("error",`[\u6D41\u5F0F\u8BF7\u6C42] \u5931\u8D25: ${l.message}`),null}}var Pt=bs(()=>{ht();et()});function En(e){let t=0;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);t=(t<<5)-t+n,t=t>>>0}return t.toString(16)}function IO(e,t){return e==="lastSelectMap"&&t instanceof Map?JSON.stringify(Object.fromEntries(t)):JSON.stringify(t)}function da(e){function t(b){let E="";for(let I=0;I<b.length;I++){let w=b.charCodeAt(I);w<128?E+=String.fromCharCode(w):w<2048?(E+=String.fromCharCode(192|w>>6),E+=String.fromCharCode(128|w&63)):(E+=String.fromCharCode(224|w>>12),E+=String.fromCharCode(128|w>>6&63),E+=String.fromCharCode(128|w&63))}return E}e=t(e);function r(b,E){return b<<E|b>>>32-E}function n(b,E){let I=b&1073741824,w=E&1073741824,S=b&2147483648,T=E&2147483648,B=(b&1073741823)+(E&1073741823);return I&w?B^2147483648^S^T:I|w?B&1073741824?B^3221225472^S^T:B^1073741824^S^T:B^S^T}function s(b,E,I){return b&E|~b&I}function a(b,E,I){return b&I|E&~I}function o(b,E,I){return b^E^I}function c(b,E,I){return E^(b|~I)}function u(b,E,I,w,S,T,B){return b=n(b,n(n(s(E,I,w),S),B)),n(r(b,T),E)}function l(b,E,I,w,S,T,B){return b=n(b,n(n(a(E,I,w),S),B)),n(r(b,T),E)}function d(b,E,I,w,S,T,B){return b=n(b,n(n(o(E,I,w),S),B)),n(r(b,T),E)}function f(b,E,I,w,S,T,B){return b=n(b,n(n(c(E,I,w),S),B)),n(r(b,T),E)}function p(b){let E=b.length,I=((E+8>>>6)+1)*16,w=new Array(I).fill(0);for(let S=0;S<E;S++)w[S>>2]|=b.charCodeAt(S)<<S%4*8;return w[E>>2]|=128<<E%4*8,w[I-2]=E*8,w}function m(b){let E="";for(let I=0;I<=3;I++){let S="0"+(b>>>I*8&255).toString(16);E+=S.substr(S.length-2,2)}return E}let h=p(e),g=1732584193,A=4023233417,y=2562383102,v=271733878;for(let b=0;b<h.length;b+=16){let E=g,I=A,w=y,S=v;g=u(g,A,y,v,h[b+0],7,3614090360),v=u(v,g,A,y,h[b+1],12,3905402710),y=u(y,v,g,A,h[b+2],17,606105819),A=u(A,y,v,g,h[b+3],22,3250441966),g=u(g,A,y,v,h[b+4],7,4118548399),v=u(v,g,A,y,h[b+5],12,1200080426),y=u(y,v,g,A,h[b+6],17,2821735955),A=u(A,y,v,g,h[b+7],22,4249261313),g=u(g,A,y,v,h[b+8],7,1770035416),v=u(v,g,A,y,h[b+9],12,2336552879),y=u(y,v,g,A,h[b+10],17,4294925233),A=u(A,y,v,g,h[b+11],22,2304563134),g=u(g,A,y,v,h[b+12],7,1804603682),v=u(v,g,A,y,h[b+13],12,4254626195),y=u(y,v,g,A,h[b+14],17,2792965006),A=u(A,y,v,g,h[b+15],22,1236535329),g=l(g,A,y,v,h[b+1],5,4129170786),v=l(v,g,A,y,h[b+6],9,3225465664),y=l(y,v,g,A,h[b+11],14,643717713),A=l(A,y,v,g,h[b+0],20,3921069994),g=l(g,A,y,v,h[b+5],5,3593408605),v=l(v,g,A,y,h[b+10],9,38016083),y=l(y,v,g,A,h[b+15],14,3634488961),A=l(A,y,v,g,h[b+4],20,3889429448),g=l(g,A,y,v,h[b+9],5,568446438),v=l(v,g,A,y,h[b+14],9,3275163606),y=l(y,v,g,A,h[b+3],14,4107603335),A=l(A,y,v,g,h[b+8],20,1163531501),g=l(g,A,y,v,h[b+13],5,2850285829),v=l(v,g,A,y,h[b+2],9,4243563512),y=l(y,v,g,A,h[b+7],14,1735328473),A=l(A,y,v,g,h[b+12],20,2368359562),g=d(g,A,y,v,h[b+5],4,4294588738),v=d(v,g,A,y,h[b+8],11,2272392833),y=d(y,v,g,A,h[b+11],16,1839030562),A=d(A,y,v,g,h[b+14],23,4259657740),g=d(g,A,y,v,h[b+1],4,2763975236),v=d(v,g,A,y,h[b+4],11,1272893353),y=d(y,v,g,A,h[b+7],16,4139469664),A=d(A,y,v,g,h[b+10],23,3200236656),g=d(g,A,y,v,h[b+13],4,681279174),v=d(v,g,A,y,h[b+0],11,3936430074),y=d(y,v,g,A,h[b+3],16,3572445317),A=d(A,y,v,g,h[b+6],23,76029189),g=d(g,A,y,v,h[b+9],4,3654602809),v=d(v,g,A,y,h[b+12],11,3873151461),y=d(y,v,g,A,h[b+15],16,530742520),A=d(A,y,v,g,h[b+2],23,3299628645),g=f(g,A,y,v,h[b+0],6,4096336452),v=f(v,g,A,y,h[b+7],10,1126891415),y=f(y,v,g,A,h[b+14],15,2878612391),A=f(A,y,v,g,h[b+5],21,4237533241),g=f(g,A,y,v,h[b+12],6,1700485571),v=f(v,g,A,y,h[b+3],10,2399980690),y=f(y,v,g,A,h[b+10],15,4293915773),A=f(A,y,v,g,h[b+1],21,2240044497),g=f(g,A,y,v,h[b+8],6,1873313359),v=f(v,g,A,y,h[b+15],10,4264355552),y=f(y,v,g,A,h[b+6],15,2734768916),A=f(A,y,v,g,h[b+13],21,1309151649),g=f(g,A,y,v,h[b+4],6,4149444226),v=f(v,g,A,y,h[b+11],10,3174756917),y=f(y,v,g,A,h[b+2],15,718787259),A=f(A,y,v,g,h[b+9],21,3951481745),g=n(g,E),A=n(A,I),y=n(y,w),v=n(v,S)}return(m(g)+m(A)+m(y)+m(v)).toLowerCase()}function Ude(e){let t=jde(e),r=[],n=0;for(;n<t.length&&t[n++]===10;){let[a,o]=$de(t,n);n=o;let c=0,u={};for(;c<a.length;){let l=a[c++],d=l>>3,f=l&7;if(f===0){let[p,m]=_O(a,c);switch(c=m,d){case 1:u.id=p;break;case 2:u.progress=p;break;case 3:u.mode=p;break;case 4:u.fontsize=p;break;case 5:u.color=p;break;case 8:u.ctime=p;break;case 9:u.weight=p;break;case 11:u.pool=p;break;case 13:u.attr=p;break;case 15:u.like_num=p;break;case 17:u.dm_type_v2=p;break}}else if(f===2){let[p,m]=$de(a,c);switch(c=m,d){case 6:u.midHash=Xo(p);break;case 7:u.content=Xo(p);break;case 10:u.action=Xo(p);break;case 12:u.idStr=Xo(p);break;case 14:u.animation=Xo(p);break;case 16:u.color_v2=Xo(p);break}}else{let[p,m]=_O(a,c);c=m}}r.push(u)}return r}function _O(e,t){let r=0n,n=0n,s=t;for(;;){let a=e[s++];if(r|=BigInt(a&127)<<n,!(a&128))break;n+=7n}return[Number(r),s]}function $de(e,t){let[r,n]=_O(e,t),s=n,a=s+r;return[e.slice(s,a),a]}function Tr(e){let t=5381;for(let r=0;r<e.length;r++)t=t*33^e.charCodeAt(r);return t=(t>>>0)%9999999,t<1e4?t+1e4:t}function Lde(e,t){let r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function hrt(e){return Uint8Array.from([e[1],e[2],e[3],e[0]])}function mrt(e){return Uint8Array.from(e.map(t=>qde[t]))}function grt(e){let s=new Array(44);for(let a=0;a<4;a++)s[a]=e.slice(4*a,4*a+4);for(let a=4;a<4*11;a++){let o=s[a-1];a%4===0&&(o=Lde(mrt(hrt(o)),Uint8Array.from([prt[a/4],0,0,0]))),s[a]=Lde(s[a-4],o)}return s}function Art(e,t){let s=new Uint8Array(e);s=xO(s,t.slice(10*4,11*4));for(let a=9;a>=1;a--)s=Fde(s),s=Mde(s),s=xO(s,t.slice(a*4,(a+1)*4)),s=yrt(s);return s=Fde(s),s=Mde(s),s=xO(s,t.slice(0,4)),s}function xO(e,t){let r=new Uint8Array(16);for(let n=0;n<4;n++)for(let s=0;s<4;s++)r[s+4*n]=e[s+4*n]^t[n][s];return r}function Mde(e){let t=new Array(256);for(let r=0;r<256;r++)t[qde[r]]=r;return Uint8Array.from(e.map(r=>t[r]))}function Fde(e){let t=new Uint8Array(16);for(let r=0;r<4;r++)for(let n=0;n<4;n++)t[r+4*n]=e[r+4*((n-r+4)%4)];return t}function yrt(e){function t(n,s){let a=0;for(let o=0;o<8;o++){s&1&&(a^=n);let c=n&128;n=n<<1&255,c&&(n^=27),s>>=1}return a}let r=new Uint8Array(16);for(let n=0;n<4;n++){let s=e.slice(4*n,4*n+4);r[4*n+0]=t(s[0],14)^t(s[1],11)^t(s[2],13)^t(s[3],9),r[4*n+1]=t(s[0],9)^t(s[1],14)^t(s[2],11)^t(s[3],13),r[4*n+2]=t(s[0],13)^t(s[1],9)^t(s[2],14)^t(s[3],11),r[4*n+3]=t(s[0],11)^t(s[1],13)^t(s[2],9)^t(s[3],14)}return r}function brt(e,t){let r=grt(t),n=16,s=new Uint8Array(e.length);for(let a=0;a<e.length;a+=n){let o=e.slice(a,a+n),c=Art(o,r);s.set(c,a)}return s}function Ert(e){let t=e[e.length-1];return e.slice(0,e.length-t)}function jde(e){let t=typeof atob=="function"?atob(e):xrt(e),r=t.length,n=new Uint8Array(r);for(let s=0;s<r;s++)n[s]=t.charCodeAt(s);return n}function xrt(e){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="",n=0,s=0;for(let a=0;a<e.length;a++){let o=e.charAt(a);if(o==="=")break;let c=t.indexOf(o);n=n<<6|c,s+=6,s>=8&&(s-=8,r+=String.fromCharCode(n>>s&255))}return r}function Xo(e){let t="",r=0;for(;r<e.length;){let n=e[r++];if(n<128)t+=String.fromCharCode(n);else if(n>=192&&n<224){let s=e[r++];t+=String.fromCharCode((n&31)<<6|s&63)}else if(n>=224&&n<240){let s=e[r++],a=e[r++];t+=String.fromCharCode((n&15)<<12|(s&63)<<6|a&63)}else if(n>=240){let s=e[r++],a=e[r++],o=e[r++],u=((n&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;t+=String.fromCharCode(55296+(u>>10),56320+(u&1023))}}return t}function h2(e){let t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(n<128)t.push(n);else if(n<2048)t.push(192|n>>6),t.push(128|n&63);else if(n<55296||n>=57344)t.push(224|n>>12),t.push(128|n>>6&63),t.push(128|n&63);else{r++;let s=e.charCodeAt(r),a=65536+((n&1023)<<10|s&1023);t.push(240|a>>18),t.push(128|a>>12&63),t.push(128|a>>6&63),t.push(128|a&63)}}return new Uint8Array(t)}function vrt(e,t){try{let r=jde(e),n=h2(t),s=brt(r,n),a=Ert(s);return Xo(a)}catch(r){return x("error",r),null}}function mA(e){let t=typeof e=="string"?e.trim():JSON.stringify(e??"");try{return JSON.parse(t)}catch{}let n=vrt(t,"3b744389882a4067");if(n!=null)try{return JSON.parse(n)}catch{return n}return t}function _rt(e){let t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n<128?t.push(n):n<2048?(t.push(192|n>>6),t.push(128|n&63)):n<65536&&(t.push(224|n>>12),t.push(128|n>>6&63),t.push(128|n&63))}return t}function Irt(e){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="",n;for(n=0;n+2<e.length;n+=3)r+=t[e[n]>>2],r+=t[(e[n]&3)<<4|e[n+1]>>4],r+=t[(e[n+1]&15)<<2|e[n+2]>>6],r+=t[e[n+2]&63];return n<e.length&&(r+=t[e[n]>>2],n+1<e.length?(r+=t[(e[n]&3)<<4|e[n+1]>>4],r+=t[(e[n+1]&15)<<2],r+="="):(r+=t[(e[n]&3)<<4],r+="==")),r}function vO(e){function t(l,d){return d>>>l|d<<32-l}let r=Math.pow(2,32),n=[],s=e.length*8;for(let l=0;l<e.length;l++)n[l>>2]|=e.charCodeAt(l)<<(3-l)%4*8;n[e.length>>2]|=128<<(3-e.length%4)*8,n[(e.length+8>>6)*16+15]=s;let a=new Array(64),o=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];for(let l=0;l<n.length;l+=16){let d=o[0],f=o[1],p=o[2],m=o[3],h=o[4],g=o[5],A=o[6],y=o[7];for(let v=0;v<64;v++){if(v<16)a[v]=n[l+v]|0;else{let B=t(7,a[v-15])^t(18,a[v-15])^a[v-15]>>>3,N=t(17,a[v-2])^t(19,a[v-2])^a[v-2]>>>10;a[v]=a[v-16]+B+a[v-7]+N|0}let b=t(6,h)^t(11,h)^t(25,h),E=h&g^~h&A,I=y+b+E+c[v]+a[v]|0,w=t(2,d)^t(13,d)^t(22,d),S=d&f^d&p^f&p,T=w+S|0;y=A,A=g,g=h,h=m+I|0,m=p,p=f,f=d,d=I+T|0}o[0]=o[0]+d|0,o[1]=o[1]+f|0,o[2]=o[2]+p|0,o[3]=o[3]+m|0,o[4]=o[4]+h|0,o[5]=o[5]+g|0,o[6]=o[6]+A|0,o[7]=o[7]+y|0}let u=[];for(let l of o)u.push(l>>24&255),u.push(l>>16&255),u.push(l>>8&255),u.push(l&255);return u}function Hde(e,t){let n=_rt(e);n.length>64&&(n=vO(e)),n.length<64&&(n=n.concat(Array(64-n.length).fill(0)));let s=n.map(u=>u^92),a=n.map(u=>u^54),o=vO(String.fromCharCode(...a)+t),c=vO(String.fromCharCode(...s)+String.fromCharCode(...o));return Irt(c)}function m2(e,t,r,n){let s=e+"t"+t;return r&&Object.keys(r).sort().forEach(o=>{s+=o+r[o]}),s+=n,da(s)}function Qde(e){if(e<=65535)return String.fromCharCode(e);e-=65536;let t=(e>>10)+55296,r=(e&1023)+56320;return String.fromCharCode(t,r)}function zde(e){return e.replace(/&#(\d+);/g,(t,r)=>Qde(parseInt(r,10))).replace(/&#x([0-9a-fA-F]+);/g,(t,r)=>Qde(parseInt(r,16)))}var qde,prt,rs=bs(()=>{et();qde=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],prt=[0,1,2,4,8,16,32,64,128,27,54]});var Vde={};Pn(Vde,{getRedisCaches:()=>SO,getRedisKey:()=>Crt,judgeRedisValid:()=>TO,pingRedis:()=>Gde,runPipeline:()=>wO,setRedisKey:()=>CO,setRedisKeyWithExpiry:()=>wrt,updateRedisCaches:()=>g2});async function Gde(){let e=`${R.redisUrl}/ping`;x("info","[redis] \u5F00\u59CB\u53D1\u9001 PING \u8BF7\u6C42:",e);try{return await(await fetch(e,{method:"GET",headers:{Authorization:`Bearer ${R.redisToken}`}})).json()}catch(t){x("error","[redis] \u8BF7\u6C42\u5931\u8D25:",t.message),x("error","- \u9519\u8BEF\u7C7B\u578B:",t.name),t.cause&&(x("error","- \u7801:",t.cause.code),x("error","- \u539F\u56E0:",t.cause.message))}}async function Crt(e){let t=`${R.redisUrl}/get/${e}`;x("info","[redis] \u5F00\u59CB\u53D1\u9001 GET \u8BF7\u6C42:",t);try{return await(await fetch(t,{method:"GET",headers:{Authorization:`Bearer ${R.redisToken}`}})).json()}catch(r){x("error","[redis] \u8BF7\u6C42\u5931\u8D25:",r.message),x("error","- \u9519\u8BEF\u7C7B\u578B:",r.name),r.cause&&(x("error","- \u7801:",r.cause.code),x("error","- \u539F\u56E0:",r.cause.message))}}async function CO(e,t){let r=IO(e,t),n=En(r);if(R.lastHashes[e]===n)return x("info",`[redis] \u952E ${e} \u65E0\u53D8\u5316\uFF0C\u8DF3\u8FC7 SET \u8BF7\u6C42`),{result:"OK"};let s=`${R.redisUrl}/set/${e}`;x("info","[redis] \u5F00\u59CB\u53D1\u9001 SET \u8BF7\u6C42:",s);try{let o=await(await fetch(s,{method:"POST",headers:{Authorization:`Bearer ${R.redisToken}`,"Content-Type":"application/json"},body:r})).json();return R.lastHashes[e]=n,x("info",`[redis] \u952E ${e} \u66F4\u65B0\u6210\u529F`),o}catch(a){x("error","[redis] SET \u8BF7\u6C42\u5931\u8D25:",a.message),x("error","- \u9519\u8BEF\u7C7B\u578B:",a.name),a.cause&&(x("error","- \u7801:",a.cause.code),x("error","- \u539F\u56E0:",a.cause.message))}}async function wrt(e,t,r){let n=IO(e,t),s=En(n);if(R.lastHashes[e]===s)return x("info",`[redis] \u952E ${e} \u65E0\u53D8\u5316\uFF0C\u8DF3\u8FC7 SETEX \u8BF7\u6C42`),{result:"OK"};let a=`${R.redisUrl}/set/${e}?EX=${r}`;x("info","[redis] \u5F00\u59CB\u53D1\u9001 SETEX \u8BF7\u6C42:",a);try{let c=await(await fetch(a,{method:"POST",headers:{Authorization:`Bearer ${R.redisToken}`,"Content-Type":"application/json"},body:n})).json();return R.lastHashes[e]=s,x("info",`[redis] \u952E ${e} \u66F4\u65B0\u6210\u529F\uFF08\u5E26\u8FC7\u671F\u65F6\u95F4 ${r}s\uFF09`),c}catch(o){x("error","[redis] SETEX \u8BF7\u6C42\u5931\u8D25:",o.message),x("error","- \u9519\u8BEF\u7C7B\u578B:",o.name),o.cause&&(x("error","- \u7801:",o.cause.code),x("error","- \u539F\u56E0:",o.cause.message))}}async function wO(e){let t=`${R.redisUrl}/pipeline`;x("info","[redis] \u5F00\u59CB\u53D1\u9001 PIPELINE \u8BF7\u6C42:",t);try{return await(await fetch(t,{method:"POST",headers:{Authorization:`Bearer ${R.redisToken}`,"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}catch(r){x("error","[redis] Pipeline \u8BF7\u6C42\u5931\u8D25:",r.message),x("error","- \u9519\u8BEF\u7C7B\u578B:",r.name),r.cause&&(x("error","- \u7801:",r.cause.code),x("error","- \u539F\u56E0:",r.cause.message))}}async function SO(){if(!R.redisCacheInitialized)try{x("info","getRedisCaches start.");let t=["animes","episodeIds","episodeNum","reqRecords","lastSelectMap","todayReqNum"].map(s=>["GET",s]),r=await wO(t);R.animes=r[0].result?JSON.parse(r[0].result):R.animes,R.episodeIds=r[1].result?JSON.parse(r[1].result):R.episodeIds,R.episodeNum=r[2].result?JSON.parse(r[2].result):R.episodeNum,R.reqRecords=r[3].result?JSON.parse(r[3].result):R.reqRecords;let n=r[4].result?JSON.parse(r[4].result):null;n&&typeof n=="object"&&(R.lastSelectMap=new Map(Object.entries(n)),x("info",`Restored lastSelectMap from Redis with ${R.lastSelectMap.size} entries`)),R.todayReqNum=r[5].result?parseInt(r[5].result,10):R.todayReqNum,R.lastHashes.animes=En(JSON.stringify(R.animes)),R.lastHashes.episodeIds=En(JSON.stringify(R.episodeIds)),R.lastHashes.episodeNum=En(JSON.stringify(R.episodeNum)),R.lastHashes.reqRecords=En(JSON.stringify(R.reqRecords)),R.lastHashes.lastSelectMap=En(JSON.stringify(Object.fromEntries(R.lastSelectMap))),R.lastHashes.todayReqNum=En(JSON.stringify(R.todayReqNum)),R.redisCacheInitialized=!0,x("info","getRedisCaches completed successfully.")}catch(e){x("error",`getRedisCaches failed: ${e.message}`,e.stack),R.redisCacheInitialized=!0}}async function g2(){try{x("info","updateCaches start.");let e=[],t=[],r=[{key:"animes",value:R.animes},{key:"episodeIds",value:R.episodeIds},{key:"episodeNum",value:R.episodeNum},{key:"reqRecords",value:R.reqRecords},{key:"lastSelectMap",value:R.lastSelectMap},{key:"todayReqNum",value:R.todayReqNum}];for(let{key:n,value:s}of r){let a=JSON.stringify(n==="lastSelectMap"?Object.fromEntries(s):s),o=En(a);o!==R.lastHashes[n]&&(e.push(["SET",n,a]),t.push({key:n,hash:o}))}if(e.length>0){x("info",`Updating ${e.length} changed keys: ${t.map(o=>o.key).join(", ")}`);let n=await wO(e),s=0,a=0;Array.isArray(n)&&n.forEach((o,c)=>{o&&o.result==="OK"?s++:(a++,x("warn",`Failed to update Redis key: ${t[c]?.key}, result: ${JSON.stringify(o)}`))}),a===0?(t.forEach(({key:o,hash:c})=>{R.lastHashes[o]=c}),x("info",`Redis update completed successfully: ${s} keys updated`)):x("warn",`Redis update partially failed: ${s} succeeded, ${a} failed`)}else x("info","No changes detected, skipping Redis update.")}catch(e){x("error",`updateRedisCaches failed: ${e.message}`,e.stack),x("error",`Error details - Name: ${e.name}, Cause: ${e.cause?e.cause.message:"N/A"}`)}}async function TO(e){if(!R.redisValid&&R.redisUrl&&R.redisToken&&e!=="/favicon.ico"&&e!=="/robots.txt"){let t=await Gde();t&&t.result&&t.result==="PONG"&&(R.redisValid=!0)}}var A2=bs(()=>{ht();et();rs()});function Or(e){let t;if(typeof e=="string")t=e;else if(Array.isArray(e))t=JSON.stringify(e);else if(typeof e=="object")t=JSON.stringify(e);else{x("error","Unsupported data type");return}x("info",t.slice(0,200))}function wu(e){let t=e.match(/\((\d{4})\)/);return t?parseInt(t[1]):null}function Kde(e){if(/^\d+$/.test(e))return Number(e);let t={\u96F6:0,\u4E00:1,\u4E8C:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6,\u4E03:7,\u516B:8,\u4E5D:9,\u58F9:1,\u8CB3:2,\u53C3:3,\u8086:4,\u4F0D:5,\u9678:6,\u67D2:7,\u634C:8,\u7396:9},r={\u5341:10,\u767E:100,\u5343:1e3,\u62FE:10,\u4F70:100,\u4EDF:1e3},n=0,s=0,a=1;for(let o=0;o<e.length;o++){let c=e[o];if(t[c]!==void 0)s=t[c];else if(r[c]!==void 0){let u=r[c];s===0&&(s=1),u>=a?n=s*u:n+=s*u,a=u,s=0}}return s>0&&(n+=s),n}function Yde(e){if(!e||typeof e!="string")return{cleanFileName:"",preferredPlatform:""};let t=e.indexOf("@");if(t===-1)return{cleanFileName:e.trim(),preferredPlatform:""};let r=e.substring(0,t).trim(),n=e.substring(t+1).trim(),s=n.match(/^(\w+)\s+(S\d+E\d+)$/);if(s){let a=s[1],o=s[2];return{cleanFileName:`${r} ${o}`,preferredPlatform:BO(a)}}else{let a=r.match(/^(.+?)\s+(S\d+E\d+)$/);if(a){let o=a[1],c=a[2];return{cleanFileName:`${o} ${c}`,preferredPlatform:BO(n)}}else return{cleanFileName:r,preferredPlatform:BO(n)}}}function BO(e){if(!e||typeof e!="string")return"";let t=e.trim();return R.allowedPlatforms.includes(t)?t:""}function Wde(e){if(!e)return[...R.platformOrderArr];if(!R.allowedPlatforms.includes(e))return x("warn",`Invalid platform: ${e}, using default order`),[...R.platformOrderArr];let t=[e];for(let r of R.platformOrderArr)r!==e&&r!==null&&t.push(r);return t.push(null),t}function kn(e){return e?String(e).trim().replace(/\s+/g,""):""}function Su(e,t){if(!e||!t)return!1;let r=kn(e),n=kn(t);if(r===n)return!0;let s=[" ","(","\uFF08",":","\uFF1A","-","\u2014","\xB7","\u7B2C","S","s"];for(let a of s)if(r.startsWith(n+a))return!0;return!1}function Wt(e,t){if(R.strictTitleMatch)return Su(e,t);let r=kn(e).toLowerCase(),n=kn(t).toLowerCase();if(r.includes(n))return!0;let s=new Set(n),a=new Set(r);return[...s].reduce((c,u)=>c+(a.has(u)?1:0),0)/s.size>=.8}function $e(e,t){let r=e?.constructor?.name;if(t==="array"){if(!Array.isArray(e))throw new TypeError(`${e} \u5FC5\u987B\u662F\u4E00\u4E2A\u6570\u7EC4\uFF0C\u4F46\u4F20\u5165\u7684\u662F ${r}`)}else if(t==="boolean"){if(typeof e!="boolean"&&typeof e!="number")throw new TypeError(`${e} \u5FC5\u987B\u662F boolean \u6216 number\uFF0C\u4F46\u4F20\u5165\u7684\u662F ${r}`)}else if(typeof e!==t)throw new TypeError(`${e} \u5FC5\u987B\u662F ${t}\uFF0C\u4F46\u4F20\u5165\u7684\u662F ${r}`)}var RO,NO,Zr=bs(()=>{ht();et();RO=e=>{let t=e.match(/(.*?)/);return t?t[1]:null},NO=e=>e.split("(")[0].trim()});var Tu,y2,b2,E2,x2,kO,DO,v2,Ve,Kp,zr=bs(()=>{Zr();Tu=class e{constructor({animeId:t=111,bangumiId:r="",animeTitle:n="",type:s="",typeDescription:a="",imageUrl:o="",startDate:c="",episodeCount:u=1,rating:l=0,isFavorited:d=!0,source:f="",links:p=[]}={}){$e(t,"number"),$e(r,"string"),$e(n,"string"),$e(s,"string","type"),$e(a,"string"),$e(o,"string"),$e(c,"string"),$e(u,"number"),$e(l,"number"),$e(d,"boolean"),$e(f,"string"),$e(p,"array"),this.links=p.map(m=>y2.fromJson(m)),Object.assign(this,{animeId:t,bangumiId:r,animeTitle:n,type:s,typeDescription:a,imageUrl:o,startDate:c,episodeCount:u,rating:l,isFavorited:d,source:f})}static fromJson(t){if(typeof t!="object"||t===null)throw new TypeError("fromJson \u53C2\u6570\u5FC5\u987B\u662F\u5BF9\u8C61");let r=(t.links||[]).map(n=>y2.fromJson(n));return new e({...t,links:r})}toJson(){return{...this,links:this.links.map(t=>t.toJson())}}},y2=class e{constructor({name:t="",url:r="",title:n="",id:s=10001}={}){$e(t,"string"),$e(r,"string"),$e(n,"string"),$e(s,"number"),Object.assign(this,{name:t,url:r,title:n,id:s})}static fromJson(t){if(typeof t!="object"||t===null)throw new TypeError("fromJson \u53C2\u6570\u5FC5\u987B\u662F\u5BF9\u8C61");return new e(t)}toJson(){return{...this}}},b2=class e{constructor({episodeId:t=10001,animeId:r=111,animeTitle:n="",episodeTitle:s="",type:a="",typeDescription:o="",shift:c=1,imageUrl:u=""}={}){$e(t,"number"),$e(r,"number"),$e(n,"string"),$e(s,"string"),$e(a,"string","type"),$e(o,"string"),$e(c,"number"),$e(u,"string"),Object.assign(this,{episodeId:t,animeId:r,animeTitle:n,episodeTitle:s,type:a,typeDescription:o,shift:c,imageUrl:u})}static fromJson(t){if(typeof t!="object"||t===null)throw new TypeError("fromJson \u53C2\u6570\u5FC5\u987B\u662F\u5BF9\u8C61");return new e(t)}toJson(){return{...this}}},E2=class{constructor({episodeId:t="",episodeTitle:r=""}={}){this.episodeId=t,this.episodeTitle=r}};E2.prototype.toJson=function(){return{episodeId:this.episodeId,episodeTitle:this.episodeTitle}};x2=class e{constructor({animeId:t=111,animeTitle:r="",type:n="",typeDescription:s="",episodes:a=[]}={}){$e(t,"number"),$e(r,"string"),$e(n,"string"),$e(s,"string"),$e(a,"array"),Object.assign(this,{animeId:t,animeTitle:r,type:n,typeDescription:s,episodes:a.map(o=>new E2(o))})}static fromJson(t){if(typeof t!="object"||t===null)throw new TypeError("fromJson \u53C2\u6570\u5FC5\u987B\u662F\u5BF9\u8C61");return new e(t)}toJson(){return{...this,episodes:this.episodes.map(t=>t.toJson())}}},kO=class e{constructor({id:t="",airDate:r="",name:n="",episodeCount:s=0}={}){$e(t,"string"),$e(r,"string"),$e(n,"string"),$e(s,"number"),Object.assign(this,{id:t,airDate:r,name:n,episodeCount:s})}static fromJson(t){if(typeof t!="object"||t===null)throw new TypeError("fromJson \u53C2\u6570\u5FC5\u987B\u662F\u5BF9\u8C61");return new e(t)}toJson(){return{...this}}},DO=class e{constructor({seasonId:t="",episodeId:r=10001,episodeTitle:n="",episodeNumber:s="",airDate:a=""}={}){$e(t,"string"),$e(r,"number"),$e(n,"string"),$e(s,"string"),$e(a,"string"),Object.assign(this,{seasonId:t,episodeId:r,episodeTitle:n,episodeNumber:s,airDate:a})}static fromJson(t){if(typeof t!="object"||t===null)throw new TypeError("fromJson \u53C2\u6570\u5FC5\u987B\u662F\u5BF9\u8C61");return new e(t)}toJson(){return{...this}}},v2=class e{constructor({animeId:t=111,bangumiId:r="",animeTitle:n="",imageUrl:s="",isOnAir:a=!0,airDay:o=1,isFavorited:c=!0,rating:u=0,type:l="",typeDescription:d="",seasons:f=[],episodes:p=[]}={}){$e(t,"number"),$e(r,"string"),$e(n,"string"),$e(s,"string"),$e(a,"boolean"),$e(o,"number"),$e(c,"boolean"),$e(u,"number"),$e(l,"string"),$e(d,"string"),$e(f,"array"),$e(p,"array");let m=f.map(h=>kO.fromJson(h));Object.assign(this,{animeId:t,bangumiId:r,animeTitle:n,imageUrl:s,isOnAir:a,airDay:o,isFavorited:c,rating:u,type:l,typeDescription:d,seasons:m,episodes:p})}static fromJson(t){if(typeof t!="object"||t===null)throw new TypeError("fromJson \u53C2\u6570\u5FC5\u987B\u662F\u5BF9\u8C61");let r=t.episodes.map(n=>DO.fromJson(n));return new e({...t,episodes:r})}toJson(){return{...this,seasons:this.seasons.map(t=>t.toJson()),episodes:this.episodes.map(t=>t.toJson())}}},Ve=class e{constructor({type:t="",segmentList:r=[]}={}){$e(t,"string"),$e(r,"array"),this.segmentList=r.map(n=>Kp.fromJson(n)),Object.assign(this,{type:t})}static fromJson(t){if(typeof t!="object"||t===null)throw new TypeError("fromJson \u53C2\u6570\u5FC5\u987B\u662F\u5BF9\u8C61");let r=(t.segmentList||[]).map(n=>Kp.fromJson(n));return new e({...t,segmentList:r})}toJson(){return{...this,segmentList:this.segmentList.map(t=>t.toJson())}}},Kp=class e{constructor({type:t,segment_start:r,segment_end:n,url:s,data:a,_m_h5_tk:o,_m_h5_tk_enc:c}={}){$e(t,"string","type"),$e(r,"number","segment_start"),$e(n,"number","segment_end"),$e(s,"string","url"),a!==void 0&&$e(a,"string","data"),o!==void 0&&$e(o,"string","_m_h5_tk"),c!==void 0&&$e(c,"string","_m_h5_tk_enc"),Object.assign(this,{type:t,segment_start:r,segment_end:n,url:s,data:a,_m_h5_tk:o,_m_h5_tk_enc:c})}static fromJson(t){if(typeof t!="object"||t===null)throw new TypeError("fromJson \u53C2\u6570\u5FC5\u987B\u662F\u5BF9\u8C61");return new e(t)}toJson(){return{...this}}}});var tfe={};Pn(tfe,{addAnime:()=>tt,addEpisode:()=>Zde,cleanupExpiredIPs:()=>_2,findAnimeIdByCommentId:()=>MO,findTitleById:()=>$O,findUrlById:()=>bA,getCommentCache:()=>Zo,getDirname:()=>I2,getLocalCaches:()=>UO,getPreferAnimeId:()=>QO,getSearchCache:()=>PO,isCommentCacheValid:()=>Xde,isSearchCacheValid:()=>Jde,judgeLocalCacheValid:()=>qO,readCacheFromFile:()=>ud,removeEarliestAnime:()=>it,removeEpisodeByUrl:()=>efe,setCommentCache:()=>yA,setPreferByAnimeId:()=>FO,setSearchCache:()=>OO,storeAnimeIdsToMap:()=>LO,updateLocalCaches:()=>w2,writeCacheToFile:()=>C2});function Jde(e){if(!R.searchCache.has(e))return!1;let t=R.searchCache.get(e),n=(Date.now()-t.timestamp)/(1e3*60);return n>R.searchCacheMinutes?(R.searchCache.delete(e),x("info",`Search cache for "${e}" expired after ${n.toFixed(2)} minutes`),!1):!0}function PO(e){return Jde(e)?(x("info",`Using search cache for "${e}"`),R.searchCache.get(e).results):null}function OO(e,t){R.searchCache.set(e,{results:t,timestamp:Date.now()}),x("info",`Cached search results for "${e}" (${t.length} animes)`)}function Xde(e){if(!R.commentCache.has(e))return!1;let t=R.commentCache.get(e),n=(Date.now()-t.timestamp)/(1e3*60);return n>R.commentCacheMinutes?(R.commentCache.delete(e),x("info",`Comment cache for "${e}" expired after ${n.toFixed(2)} minutes`),!1):!0}function Zo(e){return Xde(e)?(x("info",`Using comment cache for "${e}"`),R.commentCache.get(e).comments):null}function yA(e,t){R.commentCache.set(e,{comments:t,timestamp:Date.now()}),x("info",`Cached comments for "${e}" (${t.length} comments)`)}function Zde(e,t){let r=R.episodeIds.find(s=>s.url===e&&s.title===t);if(r)return x("info",`Episode with URL ${e} and title ${t} already exists in episodeIds, returning existing episode.`),r;R.episodeNum++;let n={id:R.episodeNum,url:e,title:t};return R.episodeIds.push(n),x("info",`Added to episodeIds: ${JSON.stringify(n)}`),n}function efe(e){let t=R.episodeIds.length;R.episodeIds=R.episodeIds.filter(n=>n.url!==e);let r=t-R.episodeIds.length;return r>0?(x("info",`Removed ${r} episode(s) from episodeIds with URL: ${e}`),!0):(x("error",`No episode found in episodeIds with URL: ${e}`),!1)}function bA(e){let t=R.episodeIds.find(r=>r.id===e);return t?(x("info",`Found URL for ID ${e}: ${t.url}`),t.url):(x("error",`No URL found for ID: ${e}`),null)}function $O(e){let t=R.episodeIds.find(r=>r.id===e);return t?(x("info",`Found TITLE for ID ${e}: ${t.title}`),t.title):(x("error",`No TITLE found for ID: ${e}`),null)}function tt(e){e=Tu.fromJson(e);try{if(!e.links||!Array.isArray(e.links))return x("error",`Invalid or missing links in anime: ${JSON.stringify(e)}`),!1;let t=[];e.links.forEach(s=>{if(s.url){let a=Zde(s.url,s.title);a&&t.push(a)}else x("error",`Invalid link in anime, missing url: ${JSON.stringify(s)}`)});let r=Tu.fromJson({...e,links:t}),n=R.animes.findIndex(s=>s.animeId===e.animeId);return n!==-1&&(R.animes.splice(n,1),x("info",`Removed old anime at index: ${n}`)),R.animes.push(r),x("info",`Added anime to latest position: ${e.animeId}`),R.animes.length>R.MAX_ANIMES&&(it()||x("error","Failed to remove earliest anime, but continuing")),x("info",`animes: ${JSON.stringify(R.animes,(s,a)=>s==="links"?a.length:a)}`),!0}catch(t){return x("error",`addAnime failed: ${t.message}`),!1}}function it(){if(R.animes.length===0)return x("error","No animes to remove."),!1;let e=R.animes.shift();return x("info",`Removed earliest anime: ${JSON.stringify(e)}`),e.links&&Array.isArray(e.links)&&e.links.forEach(t=>{t.url&&efe(t.url)}),!0}function LO(e,t){let r=new Set;for(let o of e)r.add(o.animeId);let n=R.lastSelectMap.get(t),s=n?.prefer,a=n?.source;if(R.lastSelectMap.has(t)&&R.lastSelectMap.delete(t),R.lastSelectMap.set(t,{animeIds:[...r],...s!==void 0&&{prefer:s,source:a}}),R.lastSelectMap.size>R.MAX_LAST_SELECT_MAP){let o=R.lastSelectMap.keys().next().value;R.lastSelectMap.delete(o),x("info",`Removed earliest entry from lastSelectMap: ${o}`)}}function MO(e){for(let t of R.animes)for(let r of t.links)if(r.id===e)return[t.animeId,t.source];return[null,null]}function FO(e,t){for(let[r,n]of R.lastSelectMap.entries())if(n.animeIds&&n.animeIds.includes(e))return n.prefer=e,n.source=t,R.lastSelectMap.set(r,n),r;return null}function QO(e){let t=R.lastSelectMap.get(e);return!t||!t.prefer?[null,null]:[t.prefer,t.source]}function _2(e){let r=0;for(let[n,s]of R.requestHistory.entries()){let a=s.filter(o=>e-o<=6e4);a.length===0?(R.requestHistory.delete(n),r++,x("info",`[Rate Limit] Cleaned up expired IP record: ${n}`)):a.length<s.length&&R.requestHistory.set(n,a)}r>0&&x("info",`[Rate Limit] Cleanup completed: removed ${r} expired IP records`)}function I2(){return typeof __dirname<"u"?__dirname:AA.join(process.cwd(),"danmu_api","utils")}function ud(e){let t=AA.join(I2(),"..","..",".cache",`${e}`);if(gA.existsSync(t)){let r=gA.readFileSync(t,"utf8");return JSON.parse(r)}return null}function C2(e,t){let r=AA.join(I2(),"..","..",".cache",`${e}`);gA.writeFileSync(r,JSON.stringify(t),"utf8")}async function UO(){if(!R.localCacheInitialized)try{x("info","getLocalCaches start."),R.animes=JSON.parse(ud("animes"))||R.animes,R.episodeIds=JSON.parse(ud("episodeIds"))||R.episodeIds,R.episodeNum=JSON.parse(ud("episodeNum"))||R.episodeNum,R.reqRecords=JSON.parse(ud("reqRecords"))||R.reqRecords,R.todayReqNum=JSON.parse(ud("todayReqNum"))||R.todayReqNum;let e=ud("lastSelectMap");e&&(R.lastSelectMap=new Map(Object.entries(JSON.parse(e))),x("info",`Restored lastSelectMap from local cache with ${R.lastSelectMap.size} entries`)),R.lastHashes.animes=En(JSON.stringify(R.animes)),R.lastHashes.episodeIds=En(JSON.stringify(R.episodeIds)),R.lastHashes.episodeNum=En(JSON.stringify(R.episodeNum)),R.lastHashes.reqRecords=En(JSON.stringify(R.reqRecords)),R.lastHashes.todayReqNum=En(JSON.stringify(R.todayReqNum)),R.lastHashes.lastSelectMap=En(JSON.stringify(Object.fromEntries(R.lastSelectMap))),R.localCacheInitialized=!0,x("info","getLocalCaches completed successfully.")}catch(e){x("error",`getLocalCaches failed: ${e.message}`,e.stack),R.localCacheInitialized=!0}}async function w2(){try{x("info","updateLocalCaches start.");let e=[],t=[{key:"animes",value:R.animes},{key:"episodeIds",value:R.episodeIds},{key:"episodeNum",value:R.episodeNum},{key:"reqRecords",value:R.reqRecords},{key:"lastSelectMap",value:R.lastSelectMap},{key:"todayReqNum",value:R.todayReqNum}];for(let{key:r,value:n}of t){let s=JSON.stringify(r==="lastSelectMap"?Object.fromEntries(n):n),a=En(s);a!==R.lastHashes[r]&&(C2(r,s),e.push({key:r,hash:a}))}e.length>0?(x("info",`Updated local caches for keys: ${e.map(r=>r.key).join(", ")}`),e.forEach(({key:r,hash:n})=>{R.lastHashes[r]=n})):x("info","No changes detected, skipping local cache update.")}catch(e){x("error",`updateLocalCaches failed: ${e.message}`,e.stack),x("error",`Error details - Name: ${e.name}, Cause: ${e.cause?e.cause.message:"N/A"}`)}}async function qO(e,t){if(t==="node")try{if(gA=await import("fs"),AA=await import("path"),!R.localCacheValid&&e!=="/favicon.ico"&&e!=="/robots.txt"){let r=AA.join(I2(),"..","..",".cache");gA.existsSync(r)?R.localCacheValid=!0:R.localCacheValid=!1}}catch(r){console.warn("Node.js modules not available:",r.message),R.localCacheValid=!1}}var gA,AA,Br=bs(()=>{ht();et();zr();rs()});var fa,WA=bs(()=>{ht();et();fa=class{constructor(){}updateLocalEnv(t,r){return typeof R.env<"u"?R.env[t]=r:typeof process<"u"&&(process.env[t]=r),R.reInit(),x("info",`[server] \u2713 Environment variable updated successfully: ${t}`),!0}delLocalEnv(t){return typeof R.env<"u"&&R.env[t]?delete R.env[t]:typeof process<"u"&&process.env?.[t]&&delete process.env[t],R.reInit(),x("info",`[server] \u2713 Environment variable deleted successfully: ${t}`),!0}getAllEnv(){let t=R.originalEnvVars,r=R.envVarConfig,n={};for(let[s,a]of Object.entries(t)){let o=r[s]||{category:"system",type:"text",description:"\u672A\u5206\u7C7B\u914D\u7F6E\u9879"};n[s]={value:a,category:o.category,type:o.type,description:o.description,options:o.options}}return n}getEnv(t){return this.getAllEnv()[t]}async setEnv(t,r){throw new Error("Method 'setEnv' must be implemented")}async addEnv(t,r){throw new Error("Method 'addEnv' must be implemented")}async delEnv(t){throw new Error("Method 'delEnv' must be implemented")}async checkParams(t,r,n){throw new Error("Method 'checkParams' must be implemented")}async deploy(t,r,n){throw new Error("Method 'deploy' must be implemented")}}});var Xfe={};Pn(Xfe,{CloudflareHandler:()=>i5});var i5,Zfe=bs(()=>{WA();ht();et();Pt();i5=class extends fa{API_URL="https://api.cloudflare.com";async _getAllEnvs(t,r,n){let s=`${this.API_URL}/client/v4/accounts/${t}/workers/scripts/${r}/settings`,a={headers:{Authorization:`Bearer ${n}`}},o=await pe(s,a);return o&&o?.data&&o?.data?.result&&o?.data?.result?.bindings?o?.data?.result?.bindings:null}_setEnv(t,r,n){let s=t.findIndex(a=>a.name===r);return n==null?s!==-1&&t.splice(s,1):s!==-1?t[s].text=n:t.push({name:r,text:n,type:"plain_text"}),t}async setEnv(t,r){try{let n=await this._getAllEnvs(R.deployPlatformAccount,R.deployPlatformProject,R.deployPlatformToken);if(n===null){x("error","[server] \u2717 Failed to set environment variable: envs is null");return}let s=`${this.API_URL}/client/v4/accounts/${R.deployPlatformAccount}/workers/scripts/${R.deployPlatformProject}/settings`,a={headers:{Authorization:`Bearer ${R.deployPlatformToken}`}},o=new FormData,c={bindings:this._setEnv(n,t,r==null?null:r.toString())};return o.append("settings",new Blob([JSON.stringify(c)],{type:"application/json"}),"settings.json"),await f2(s,o,a),this.updateLocalEnv(t,r)}catch(n){x("error","[server] \u2717 Failed to set environment variable:",n.message)}}async addEnv(t,r){return await this.setEnv(t,r)}async delEnv(t){return await this.setEnv(t,null),this.delLocalEnv(t)}async checkParams(t,r,n){try{return await this._getAllEnvs(t,r,n),!0}catch(s){return x("error","checkParams failed! accountId, projectId or token is not valid:",s.message),!1}}async deploy(){return x("log","After modifying the environment variables on the cloudflare platform, it will be automatically deployed."),!0}}});var epe={};Pn(epe,{VercelHandler:()=>a5});var a5,tpe=bs(()=>{WA();ht();et();Pt();a5=class extends fa{API_URL="https://api.vercel.com";async _getAllEnvs(t,r){let n=`${this.API_URL}/v10/projects/${t}/env`,s={headers:{Authorization:`Bearer ${r}`}};return(await pe(n,s)).data.envs}async _getEevId(t){try{let n=(await this._getAllEnvs(R.deployPlatformProject,R.deployPlatformToken)).find(s=>s.key===t);return n||null}catch(r){x("error","[server] \u2717 Failed to _getEevId:",r.message)}}async setEnv(t,r){let n=await this._getEevId(t);if(!n){x("error","[server] Error setEnv: \u6CA1\u6709\u627E\u5230\u5BF9\u5E94\u7684\u73AF\u5883\u53D8\u91CF\uFF01");return}try{let s=`${this.API_URL}/v9/projects/${R.deployPlatformProject}/env/${n.id}`,a={headers:{Authorization:`Bearer ${R.deployPlatformToken}`,"Content-Type":"application/json"}},o={key:t,value:r.toString(),target:n.target,type:n.type};return await f2(s,JSON.stringify(o),a),this.updateLocalEnv(t,r)}catch(s){x("error","[server] \u2717 Failed to set environment variable:",s.message)}}async addEnv(t,r){try{let n=`${this.API_URL}/v10/projects/${R.deployPlatformProject}/env`,s={headers:{Authorization:`Bearer ${R.deployPlatformToken}`,"Content-Type":"application/json"}},a={key:t,value:r.toString(),target:["production","preview","development"],type:"encrypted"};return await sr(n,JSON.stringify(a),s),this.updateLocalEnv(t,r)}catch(n){x("error","[server] \u2717 Failed to add environment variable:",n.message)}}async delEnv(t){let r=await this._getEevId(t);if(!r){x("error","[server] Error setEnv: \u6CA1\u6709\u627E\u5230\u5BF9\u5E94\u7684\u73AF\u5883\u53D8\u91CF\uFF01");return}try{let n=`${this.API_URL}/v9/projects/${R.deployPlatformProject}/env/${r.id}`,s={headers:{Authorization:`Bearer ${R.deployPlatformToken}`,"Content-Type":"application/json"}};return await p2(n,s),this.delLocalEnv(t)}catch(n){x("error","[server] \u2717 Failed to add environment variable:",n.message)}}async checkParams(t,r,n){try{return await this._getAllEnvs(r,n),!0}catch(s){return x("error","checkParams failed! projectId or token is not valid:",s.message),!1}}async deploy(){try{let t=`${this.API_URL}/v6/deployments?projectId=${R.deployPlatformProject}&limit=1`,r={headers:{Authorization:`Bearer ${R.deployPlatformToken}`}},n=await pe(t,r),s;if(n?.data&&n?.data?.deployments&&n?.data?.deployments.length>0)s=n.data.deployments[0].uid;else return x("error","[server] \u2717 Failed to deploy:",JSON.stringify(n?.data)),!1;let a=`${this.API_URL}/v13/deployments`,o={headers:{Authorization:`Bearer ${R.deployPlatformToken}`,"Content-Type":"application/json"}},c={name:R.deployPlatformProject,deploymentId:s,target:"production"},u=await sr(a,JSON.stringify(c),o);return u?.data?.id?!0:(x("error","[server] \u2717 Failed to deploy:",JSON.stringify(u?.data)),!1)}catch(t){return x("error","[server] \u2717 Failed to deploy:",t.message),!1}}}});var rpe={};Pn(rpe,{NetlifyHandler:()=>o5});var o5,npe=bs(()=>{WA();ht();et();Pt();o5=class extends fa{API_URL="https://api.netlify.com";async _getAllEnvs(t,r,n){let s=`${this.API_URL}/api/v1/accounts/${t}/env?site_id=${r}`,a={headers:{Authorization:`Bearer ${n}`}};return await pe(s,a)}async setEnv(t,r){try{let n=`${this.API_URL}/api/v1/accounts/${R.deployPlatformAccount}/env/${t}?site_id=${R.deployPlatformProject}`,s={headers:{Authorization:`Bearer ${R.deployPlatformToken}`,"Content-Type":"application/json"}},a={key:t,values:[{context:"all",value:r.toString()}]};return await Nde(n,JSON.stringify(a),s),this.updateLocalEnv(t,r)}catch(n){x("error","[server] \u2717 Failed to set environment variable:",n.message)}}async addEnv(t,r){try{let n=`${this.API_URL}/api/v1/accounts/${R.deployPlatformAccount}/env?site_id=${R.deployPlatformProject}`,s={headers:{Authorization:`Bearer ${R.deployPlatformToken}`,"Content-Type":"application/json"}};return await sr(n,JSON.stringify([{key:t,values:[{context:"all",value:r}]}]),s),this.updateLocalEnv(t,r)}catch(n){x("error","[server] \u2717 Failed to add environment variable:",n.message)}}async delEnv(t){try{let r=`${this.API_URL}/api/v1/accounts/${R.deployPlatformAccount}/env/${t}?site_id=${R.deployPlatformProject}`,n={headers:{Authorization:`Bearer ${R.deployPlatformToken}`,"Content-Type":"application/json"}};return await p2(r,n),this.delLocalEnv(t)}catch(r){x("error","[server] \u2717 Failed to add environment variable:",r.message)}}async checkParams(t,r,n){try{return await this._getAllEnvs(t,r,n),!0}catch(s){return x("error","checkParams failed! accountId, projectId or token is not valid:",s.message),!1}}async deploy(){try{let t=`${this.API_URL}/api/v1/sites/${R.deployPlatformProject}/builds`,r={headers:{Authorization:`Bearer ${R.deployPlatformToken}`,"Content-Type":"application/json"}},s=await sr(t,JSON.stringify({}),r);return s?.data?.id?!0:(x("error","[server] \u2717 Failed to deploy:",JSON.stringify(s?.data)),!1)}catch(t){return x("error","[server] \u2717 Failed to deploy:",t.message),!1}}}});var spe={};Pn(spe,{EdgeoneHandler:()=>c5});var c5,ipe=bs(()=>{WA();ht();et();Pt();c5=class extends fa{API_URL="https://pages-api.cloud.tencent.com/v1";async _httpPost(t,r){let n=`${this.API_URL}`,s={headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}};return await sr(n,JSON.stringify(r),s)}async _getAllEnvs(t,r){let n={Action:"ModifyPagesProjectEnvs",ProjectId:t},s=await this._httpPost(r,n);if(s?.data?.Code!==0)return null;let a=s?.data.Data?.Response?.EnvVars??[];return Object.fromEntries(a.map(({Key:o,Value:c})=>[o,c]))}async setEnv(t,r){try{let n={Action:"ModifyPagesProjectEnvs",ProjectId:R.deployPlatformProject,EnvVars:[{Key:t,Value:r.toString()}]};return await this._httpPost(R.deployPlatformToken,n),this.updateLocalEnv(t,r)}catch(n){x("error","[server] \u2717 Failed to set environment variable:",n.message)}}async addEnv(t,r){return await this.setEnv(t,r)}async delEnv(t){try{let r={Action:"DeletePagesProjectEnvs",ProjectId:R.deployPlatformProject,EnvVars:[t]};return await this._httpPost(R.deployPlatformToken,r),this.delLocalEnv(t)}catch(r){x("error","[server] \u2717 Failed to del environment variable:",r.message)}}async checkParams(t,r,n){try{return await this._getAllEnvs(r,n),!0}catch(s){return x("error","checkParams failed! accountId, projectId or token is not valid:",s.message),!1}}async deploy(){try{let t={Action:"CreatePagesDeployment",ProjectId:R.deployPlatformProject,RepoBranch:"main",ViaMeta:"Github",Provider:"Github"},r=await this._httpPost(R.deployPlatformToken,t);return r?.data?.Code!==0?(x("error","[server] \u2717 Failed to deploy:",JSON.stringify(r?.data)),!1):!0}catch(t){return x("error","[server] \u2717 Failed to deploy:",t.message),!1}}}});var C$=C((_$,I$)=>{(function(e,t){typeof _$=="object"&&typeof I$<"u"?I$.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).dayjs=t()})(_$,function(){"use strict";var e=1e3,t=6e4,r=36e5,n="millisecond",s="second",a="minute",o="hour",c="day",u="week",l="month",d="quarter",f="year",p="date",m="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,A={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(k){var P=["th","st","nd","rd"],D=k%100;return"["+k+(P[(D-20)%10]||P[D]||P[0])+"]"}},y=function(k,P,D){var j=String(k);return!j||j.length>=P?k:""+Array(P+1-j.length).join(D)+k},v={s:y,z:function(k){var P=-k.utcOffset(),D=Math.abs(P),j=Math.floor(D/60),H=D%60;return(P<=0?"+":"-")+y(j,2,"0")+":"+y(H,2,"0")},m:function k(P,D){if(P.date()<D.date())return-k(D,P);var j=12*(D.year()-P.year())+(D.month()-P.month()),H=P.clone().add(j,l),V=D-H<0,X=P.clone().add(j+(V?-1:1),l);return+(-(j+(D-H)/(V?H-X:X-H))||0)},a:function(k){return k<0?Math.ceil(k)||0:Math.floor(k)},p:function(k){return{M:l,y:f,w:u,d:c,D:p,h:o,m:a,s,ms:n,Q:d}[k]||String(k||"").toLowerCase().replace(/s$/,"")},u:function(k){return k===void 0}},b="en",E={};E[b]=A;var I="$isDayjsObject",w=function(k){return k instanceof N||!(!k||!k[I])},S=function k(P,D,j){var H;if(!P)return b;if(typeof P=="string"){var V=P.toLowerCase();E[V]&&(H=V),D&&(E[V]=D,H=V);var X=P.split("-");if(!H&&X.length>1)return k(X[0])}else{var U=P.name;E[U]=P,H=U}return!j&&H&&(b=H),H||!j&&b},T=function(k,P){if(w(k))return k.clone();var D=typeof P=="object"?P:{};return D.date=k,D.args=arguments,new N(D)},B=v;B.l=S,B.i=w,B.w=function(k,P){return T(k,{locale:P.$L,utc:P.$u,x:P.$x,$offset:P.$offset})};var N=function(){function k(D){this.$L=S(D.locale,null,!0),this.parse(D),this.$x=this.$x||D.x||{},this[I]=!0}var P=k.prototype;return P.parse=function(D){this.$d=function(j){var H=j.date,V=j.utc;if(H===null)return new Date(NaN);if(B.u(H))return new Date;if(H instanceof Date)return new Date(H);if(typeof H=="string"&&!/Z$/i.test(H)){var X=H.match(h);if(X){var U=X[2]-1||0,re=(X[7]||"0").substring(0,3);return V?new Date(Date.UTC(X[1],U,X[3]||1,X[4]||0,X[5]||0,X[6]||0,re)):new Date(X[1],U,X[3]||1,X[4]||0,X[5]||0,X[6]||0,re)}}return new Date(H)}(D),this.init()},P.init=function(){var D=this.$d;this.$y=D.getFullYear(),this.$M=D.getMonth(),this.$D=D.getDate(),this.$W=D.getDay(),this.$H=D.getHours(),this.$m=D.getMinutes(),this.$s=D.getSeconds(),this.$ms=D.getMilliseconds()},P.$utils=function(){return B},P.isValid=function(){return this.$d.toString()!==m},P.isSame=function(D,j){var H=T(D);return this.startOf(j)<=H&&H<=this.endOf(j)},P.isAfter=function(D,j){return T(D)<this.startOf(j)},P.isBefore=function(D,j){return this.endOf(j)<T(D)},P.$g=function(D,j,H){return B.u(D)?this[j]:this.set(H,D)},P.unix=function(){return Math.floor(this.valueOf()/1e3)},P.valueOf=function(){return this.$d.getTime()},P.startOf=function(D,j){var H=this,V=!!B.u(j)||j,X=B.p(D),U=function(ve,Ae){var $=B.w(H.$u?Date.UTC(H.$y,Ae,ve):new Date(H.$y,Ae,ve),H);return V?$:$.endOf(c)},re=function(ve,Ae){return B.w(H.toDate()[ve].apply(H.toDate("s"),(V?[0,0,0,0]:[23,59,59,999]).slice(Ae)),H)},se=this.$W,te=this.$M,ae=this.$D,xe="set"+(this.$u?"UTC":"");switch(X){case f:return V?U(1,0):U(31,11);case l:return V?U(1,te):U(0,te+1);case u:var _e=this.$locale().weekStart||0,Ce=(se<_e?se+7:se)-_e;return U(V?ae-Ce:ae+(6-Ce),te);case c:case p:return re(xe+"Hours",0);case o:return re(xe+"Minutes",1);case a:return re(xe+"Seconds",2);case s:return re(xe+"Milliseconds",3);default:return this.clone()}},P.endOf=function(D){return this.startOf(D,!1)},P.$set=function(D,j){var H,V=B.p(D),X="set"+(this.$u?"UTC":""),U=(H={},H[c]=X+"Date",H[p]=X+"Date",H[l]=X+"Month",H[f]=X+"FullYear",H[o]=X+"Hours",H[a]=X+"Minutes",H[s]=X+"Seconds",H[n]=X+"Milliseconds",H)[V],re=V===c?this.$D+(j-this.$W):j;if(V===l||V===f){var se=this.clone().set(p,1);se.$d[U](re),se.init(),this.$d=se.set(p,Math.min(this.$D,se.daysInMonth())).$d}else U&&this.$d[U](re);return this.init(),this},P.set=function(D,j){return this.clone().$set(D,j)},P.get=function(D){return this[B.p(D)]()},P.add=function(D,j){var H,V=this;D=Number(D);var X=B.p(j),U=function(te){var ae=T(V);return B.w(ae.date(ae.date()+Math.round(te*D)),V)};if(X===l)return this.set(l,this.$M+D);if(X===f)return this.set(f,this.$y+D);if(X===c)return U(1);if(X===u)return U(7);var re=(H={},H[a]=t,H[o]=r,H[s]=e,H)[X]||1,se=this.$d.getTime()+D*re;return B.w(se,this)},P.subtract=function(D,j){return this.add(-1*D,j)},P.format=function(D){var j=this,H=this.$locale();if(!this.isValid())return H.invalidDate||m;var V=D||"YYYY-MM-DDTHH:mm:ssZ",X=B.z(this),U=this.$H,re=this.$m,se=this.$M,te=H.weekdays,ae=H.months,xe=H.meridiem,_e=function(Ae,$,M,q){return Ae&&(Ae[$]||Ae(j,V))||M[$].slice(0,q)},Ce=function(Ae){return B.s(U%12||12,Ae,"0")},ve=xe||function(Ae,$,M){var q=Ae<12?"AM":"PM";return M?q.toLowerCase():q};return V.replace(g,function(Ae,$){return $||function(M){switch(M){case"YY":return String(j.$y).slice(-2);case"YYYY":return B.s(j.$y,4,"0");case"M":return se+1;case"MM":return B.s(se+1,2,"0");case"MMM":return _e(H.monthsShort,se,ae,3);case"MMMM":return _e(ae,se);case"D":return j.$D;case"DD":return B.s(j.$D,2,"0");case"d":return String(j.$W);case"dd":return _e(H.weekdaysMin,j.$W,te,2);case"ddd":return _e(H.weekdaysShort,j.$W,te,3);case"dddd":return te[j.$W];case"H":return String(U);case"HH":return B.s(U,2,"0");case"h":return Ce(1);case"hh":return Ce(2);case"a":return ve(U,re,!0);case"A":return ve(U,re,!1);case"m":return String(re);case"mm":return B.s(re,2,"0");case"s":return String(j.$s);case"ss":return B.s(j.$s,2,"0");case"SSS":return B.s(j.$ms,3,"0");case"Z":return X}return null}(Ae)||X.replace(":","")})},P.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},P.diff=function(D,j,H){var V,X=this,U=B.p(j),re=T(D),se=(re.utcOffset()-this.utcOffset())*t,te=this-re,ae=function(){return B.m(X,re)};switch(U){case f:V=ae()/12;break;case l:V=ae();break;case d:V=ae()/3;break;case u:V=(te-se)/6048e5;break;case c:V=(te-se)/864e5;break;case o:V=te/r;break;case a:V=te/t;break;case s:V=te/e;break;default:V=te}return H?V:B.a(V)},P.daysInMonth=function(){return this.endOf(l).$D},P.$locale=function(){return E[this.$L]},P.locale=function(D,j){if(!D)return this.$L;var H=this.clone(),V=S(D,j,!0);return V&&(H.$L=V),H},P.clone=function(){return B.w(this.$d,this)},P.toDate=function(){return new Date(this.valueOf())},P.toJSON=function(){return this.isValid()?this.toISOString():null},P.toISOString=function(){return this.$d.toISOString()},P.toString=function(){return this.$d.toUTCString()},k}(),O=N.prototype;return T.prototype=O,[["$ms",n],["$s",s],["$m",a],["$H",o],["$W",c],["$M",l],["$y",f],["$D",p]].forEach(function(k){O[k[1]]=function(P){return this.$g(P,k[0],k[1])}}),T.extend=function(k,P){return k.$i||(k(P,N,T),k.$i=!0),T},T.locale=S,T.isDayjs=w,T.unix=function(k){return T(1e3*k)},T.en=E[b],T.Ls=E,T.p={},T})});var P0e=C(Id=>{"use strict";Object.defineProperty(Id,"__esModule",{value:!0});Id.removeTrailingChar=Id.merge=void 0;var _ot=(...e)=>{let t={};return e.forEach(function(r){var n;for(n in r)n in t&&t[n]===null?t[n]=r[n]:n in t&&Array.isArray(t[n])?t[n]=t[n].concat(r[n]):n in t&&typeof t[n]=="object"?t[n]=(0,Id.merge)(t[n],r[n]):t[n]=r[n]}),t};Id.merge=_ot;var Iot=(e,t)=>e.length>1&&e.endsWith(t)?e.substring(0,e.length-1):e;Id.removeTrailingChar=Iot});var c0=C(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.DataError=Ou.DatabaseError=Ou.NestedError=void 0;var ay=class extends Error{inner;id;constructor(t,r,n){super(t),this.inner=n,this.id=r,this.name=this.constructor.name}toString(){let t=this.name+": "+this.message;return this.inner?t+`:
`+this.inner:t}};Ou.NestedError=ay;var W$=class extends ay{};Ou.DatabaseError=W$;var J$=class extends ay{};Ou.DataError=J$});var r8=C(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});ys.getArrayIndicies=ys.validateArrayIndex=ys.validateArrayIndicies=ys.isInt=ys.ArrayInfo=ys.arrayRegex=void 0;var oI=c0(),Cot=()=>/^([\.0-9a-zA-Z_$\-][0-9a-zA-Z_\-$\.]*)\[((?!(\]|\[)).*|)\]$/gm;ys.arrayRegex=Cot;var X$={},Z$=class e{property;index=0;append=!1;indicies=[];constructor(t,r){this.property=t;let n=r[0]??0;if(this.append=n===""||r[r.length-1]==="",this.indicies=r,e8(n))this.index=parseInt(n);else if(!this.append)throw new oI.DataError("Only numerical values accepted for array index",200)}static processArray(t){if(typeof t>"u")return null;if(X$[t])return X$[t];let n=(0,ys.arrayRegex)().exec(t.trim());if(n!=null){let s=n[1],a="["+n[2].toString()+"]",o=t8(a);return O0e(o),X$[t]=new e(s,o)}return null}getIndex(t,r){if(this.append)return-1;let n=this.index;if(n==-1){let s=r?t:t[this.property];return s.length===0?0:s.length-1}return n}getData(t){if(this.append)throw new oI.DataError("Can't get data when appending",100);let{index:r,dataForProperty:n}=this.getArrayDataAndIndexFromProperty(t);return n[r]}setData(t,r){if(this.append){let n=t[this.property];this.indicies.forEach(s=>{s!==""&&(s=+s,s===-1&&(s=n.length-1),n=n[+s])}),n.push(r)}else{let{index:n,dataForProperty:s}=this.getArrayDataAndIndexFromProperty(t);n===-1?s.push(r):s[n]=r}}delete(t){if(this.append)throw new oI.DataError("Can't delete an appended data",10);let{index:r,dataForProperty:n}=this.getArrayDataAndIndexFromProperty(t);n.splice(r,1)}isValid(t){let{index:r,dataForProperty:n}=this.getArrayDataAndIndexFromProperty(t);return n.hasOwnProperty(r)}getArrayDataAndIndexFromProperty(t){let r=0,n=t instanceof Array?t:t[this.property]??t;if(this.indicies.length>0){r=+this.indicies[this.indicies.length-1];for(let s=0;s<this.indicies.length-1;s++){let a=+this.indicies[s];a===-1&&(a=n.length-1),n=n[a]}r===-1&&(r=n.length-1)}return{index:r,dataForProperty:n}}isMultiDimensional(){return this.indicies.length>1}};ys.ArrayInfo=Z$;function e8(e){return!isNaN(e)&&Number(e)==e&&!isNaN(parseInt(e,10))}ys.isInt=e8;function O0e(e){let t=e.filter(r=>r==="");if(t.length>1)throw Error("Only one append index is supported for nested arrays");if(t.length===1&&e[e.length-1]!=="")throw Error("Append index must be at the end of the nested array")}ys.validateArrayIndicies=O0e;function $0e(e){if(e.length!==0&&!e8(e))throw new oI.DataError("Only numerical values accepted for array index",200)}ys.validateArrayIndex=$0e;function t8(e){if(e.length===0)return[];if(e.charAt(0)!=="[")throw new Error("Invalid array syntax detected");let t=e.substring(1,e.indexOf("]"));$0e(t);let r=t.length+2;return[t,...t8(e.substring(r))]}ys.getArrayIndicies=t8});var F0e=C(cI=>{"use strict";Object.defineProperty(cI,"__esModule",{value:!0});cI.DBParentData=void 0;var L0e=r8(),M0e=c0(),n8=class{parent;data;db;dataPath;constructor(t,r,n,s){this.parent=s,this.data=t,this.db=r,this.dataPath=n}checkArray(t=!1){let r=L0e.ArrayInfo.processArray(this.parent);if(r&&(!r.append||t)&&!r.isValid(this.data))throw new M0e.DataError("DataPath: /"+this.dataPath+". Can't find index "+r.index+" in array "+r.property,10);return r}getData(){if(this.parent===void 0)return this.data;let t=this.checkArray();return t?t.getData(this.data):this.data[this.parent]}setData(t){if(this.parent===void 0){this.db.resetData(t);return}let r=L0e.ArrayInfo.processArray(this.parent);if(r){if(!this.data.hasOwnProperty(r.property))this.data[r.property]=[];else if(!Array.isArray(this.data[r.property]))throw new M0e.DataError("DataPath: /"+this.dataPath+". "+r.property+" is not an array.",11);r.setData(this.data,t)}else this.data[this.parent]=t}delete(){if(this.parent===void 0){this.db.resetData({});return}let t=this.checkArray(!0);t?t.delete(this.data):delete this.data[this.parent]}};cI.DBParentData=n8});var U0e=C((NNt,Q0e)=>{Q0e.exports=function(){"use strict";function e(){this.readers=0,this.queue=[]}function t(a,o,c){var u;typeof a!="function"?(s.hasOwnProperty(a)||(s[a]=new e),u=s[a]):(c=o,o=a,u=n),c||(c={});var l=null;c.hasOwnProperty("scope")&&(l=c.scope);var d=function(){var m=!1;return function(){m||(m=!0,u.readers--,u.queue.length&&u.queue[0]())}}();if(u.readers<0||u.queue.length){var f=!1;if(u.queue.push(function(){!f&&u.readers>=0&&(f=!0,u.queue.shift(),u.readers++,o.call(l,d),u.queue.length&&u.queue[0]())}),c.hasOwnProperty("timeout")){var p=null;c.hasOwnProperty("timeoutCallback")&&(p=c.timeoutCallback),setTimeout(function(){f||(f=!0,u.queue.shift(),p&&p.call(c.scope))},c.timeout)}}else u.readers++,o.call(c.scope,d)}function r(a,o,c){var u;typeof a!="function"?(s.hasOwnProperty(a)||(s[a]=new e),u=s[a]):(c=o,o=a,u=n),c||(c={});var l=null;c.hasOwnProperty("scope")&&(l=c.scope);var d=function(){var m=!1;return function(){m||(m=!0,u.readers=0,u.queue.length&&u.queue[0]())}}();if(u.readers||u.queue.length){var f=!1;if(u.queue.push(function(){f||u.readers||(f=!0,u.queue.shift(),u.readers=-1,o.call(c.scope,d))}),c.hasOwnProperty("timeout")){var p=null;c.hasOwnProperty("timeoutCallback")&&(p=c.timeoutCallback),setTimeout(function(){f||(f=!0,u.queue.shift(),p&&p.call(l))},c.timeout)}}else u.readers=-1,o.call(c.scope,d)}var n=new e,s={};this.readLock=t,this.writeLock=r,this.async={readLock:function(a,o,c){typeof a!="function"?t(a,function(u){o.call(this,null,u)},c):(o=a,c=o,t(function(u){o.call(this,null,u)},c))},writeLock:function(a,o,c){typeof a!="function"?r(a,function(u){o.call(this,null,u)},c):(o=a,c=o,r(function(u){o.call(this,null,u)},c))}}}});var q0e=C(uI=>{"use strict";Object.defineProperty(uI,"__esModule",{value:!0});uI.TimeoutError=void 0;var wot=c0(),s8=class extends wot.NestedError{};uI.TimeoutError=s8});var z0e=C(u0=>{"use strict";Object.defineProperty(u0,"__esModule",{value:!0});u0.writeLockAsync=u0.readLockAsync=void 0;var Sot=U0e(),j0e=q0e(),H0e=new Sot,Tot=(e,t=null)=>{let r={};return t!=null&&(r={timeout:t}),new Promise((n,s)=>{H0e.readLock(async a=>{try{let o=await e();n(o)}catch(o){s(o)}finally{a()}},{...r,timeoutCallback(){s(new j0e.TimeoutError("Timeout",100))}})})};u0.readLockAsync=Tot;var Bot=(e,t=null)=>{let r={};return t!=null&&(r={timeout:t}),new Promise((n,s)=>{H0e.writeLock(async a=>{try{let o=await e();n(o)}catch(o){s(o)}finally{a()}},{...r,timeoutCallback(){s(new j0e.TimeoutError("Timeout",100))}})})};u0.writeLockAsync=Bot});var a8=C(lI=>{"use strict";Object.defineProperty(lI,"__esModule",{value:!0});lI.JsonAdapter=void 0;var i8=class{adapter;humanReadable;dateRegex=new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}","m");constructor(t,r=!1){this.adapter=t,this.humanReadable=r}replacer(t,r){return r}reviver(t,r){return typeof r=="string"&&this.dateRegex.exec(r)!=null?new Date(r):r}async readAsync(){let t=await this.adapter.readAsync();return t==null?(await this.writeAsync({}),{}):JSON.parse(t,this.reviver.bind(this))}writeAsync(t){let r="";return this.humanReadable?r=JSON.stringify(t,this.replacer.bind(this),4):r=JSON.stringify(t,this.replacer.bind(this)),this.adapter.writeAsync(r)}};lI.JsonAdapter=i8});var c8=C(fI=>{"use strict";Object.defineProperty(fI,"__esModule",{value:!0});fI.FileAdapter=void 0;var dI=require("fs/promises"),Rot=require("path"),o8=class{filename;fsync;constructor(t,r){this.filename=t,this.fsync=r}async readAsync(){try{return await(0,dI.readFile)(this.filename,{encoding:"utf-8"})}catch(t){if(t.code==="ENOENT")return null;throw t}}async writeAsync(t){let r=null;try{r=await(0,dI.open)(this.filename,"w")}catch(n){if(n.code!=="ENOENT")throw n;let s=Rot.dirname(this.filename);await(0,dI.mkdir)(s,{recursive:!0}),r=await(0,dI.open)(this.filename,"w")}try{await r.writeFile(t,{encoding:"utf-8"}),this.fsync&&await r.sync()}finally{await r.close()}}};fI.FileAdapter=o8});var G0e=C(l0=>{"use strict";Object.defineProperty(l0,"__esModule",{value:!0});l0.ConfigWithAdapter=l0.Config=void 0;var Not=require("path"),kot=a8(),Dot=c8(),u8=class{adapter;filename;saveOnPush;separator;constructor(t,r=!0,n=!1,s="/",a=!1){this.filename=t,Not.extname(t)===""&&(this.filename+=".json"),this.saveOnPush=r,this.separator=s,this.adapter=new kot.JsonAdapter(new Dot.FileAdapter(this.filename,a),n)}};l0.Config=u8;var l8=class{adapter;saveOnPush;separator;constructor(t,r=!0,n="/"){this.adapter=t,this.saveOnPush=r,this.separator=n}};l0.ConfigWithAdapter=l8});var W0e=C(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.JsonDB=ss.FileAdapter=ss.JsonAdapter=ss.DataError=ss.DatabaseError=ss.ConfigWithAdapter=ss.Config=void 0;var V0e=P0e(),ns=c0(),Pot=F0e(),Oot=r8(),d8=z0e(),K0e=G0e();Object.defineProperty(ss,"Config",{enumerable:!0,get:function(){return K0e.Config}});Object.defineProperty(ss,"ConfigWithAdapter",{enumerable:!0,get:function(){return K0e.ConfigWithAdapter}});var Y0e=c0();Object.defineProperty(ss,"DatabaseError",{enumerable:!0,get:function(){return Y0e.DatabaseError}});Object.defineProperty(ss,"DataError",{enumerable:!0,get:function(){return Y0e.DataError}});var $ot=a8();Object.defineProperty(ss,"JsonAdapter",{enumerable:!0,get:function(){return $ot.JsonAdapter}});var Lot=c8();Object.defineProperty(ss,"FileAdapter",{enumerable:!0,get:function(){return Lot.FileAdapter}});var f8=class{loaded=!1;data={};config;constructor(t){this.config=t}processDataPath(t){if(t===void 0||!t.trim())throw new ns.DataError("The Data Path can't be empty",6);if(t==this.config.separator)return[];t=(0,V0e.removeTrailingChar)(t,this.config.separator);let r=t.split(this.config.separator);return r.shift(),r}async retrieveData(t,r=!1){await this.load();let n=this,s=(a,o)=>{let c=t[o];function u(d=!1){if(a.hasOwnProperty(c))a=a[c];else if(r)d?a[c]=[]:a[c]={},a=a[c];else throw new ns.DataError(`Can't find dataPath: ${n.config.separator}${t.join(n.config.separator)}. Stopped at ${c}`,5)}let l=Oot.ArrayInfo.processArray(c);if(l){if(c=l.property,u(!0),!Array.isArray(a))throw new ns.DataError(`DataPath: ${n.config.separator}${t.join(n.config.separator)}. ${c} is not an array.`,11);let d=l.getIndex(a,!0);if(!l.append&&a.hasOwnProperty(d))a=l.getData(a);else if(r)l.append?(a.push({}),a=a[a.length-1]):(a[d]={},a=a[d]);else throw new ns.DataError(`DataPath: ${n.config.separator}${t.join(n.config.separator)}. . Can't find index ${l.index} in array ${c}`,10)}else u();return t.length==++o?a:s(a,o)};return t.length===0?this.data:s(this.data,0)}async getParentData(t,r){let n=this.processDataPath(t),s=n.pop();return new Pot.DBParentData(await this.retrieveData(n,r),this,t,s)}getData(t){return(0,d8.readLockAsync)(async()=>{let r=this.processDataPath(t);return this.retrieveData(r,!1)})}getObject(t){return this.getData(t)}async getObjectDefault(t,r){try{return await this.getData(t)}catch(n){if(!(n instanceof ns.DataError)||n.id!=5)throw n;return r}}async exists(t){try{return await this.getData(t),!0}catch(r){if(r instanceof ns.DataError)return!1;throw r}}async count(t){let r=await this.getData(t);if(!Array.isArray(r))throw new ns.DataError(`DataPath: ${t} is not an array.`,11);let n=this.processDataPath(t);return(await this.retrieveData(n,!1)).length}async getIndex(t,r,n="id"){return(await this.getArrayData(t)).map(function(a){return a[n]}).indexOf(r)}async getIndexValue(t,r){return(await this.getArrayData(t)).indexOf(r)}async getArrayData(t){let r=await this.getData(t);if(!Array.isArray(r))throw new ns.DataError(`DataPath: ${t} is not an array.`,11);let n=this.processDataPath(t);return this.retrieveData(n,!1)}async filter(t,r){let n=await this.getData(t);if(Array.isArray(n))return n.filter(r);if(n instanceof Object){let a=Object.entries(n).filter(o=>r(o[1],o[0]));return!a||a.length<1?void 0:a.map(o=>o[1])}throw new ns.DataError("The entry at the path ("+t+") needs to be either an Object or an Array",12)}async find(t,r){let n=await this.getData(t);if(Array.isArray(n))return n.find(r);if(n instanceof Object){let a=Object.entries(n).find(o=>r(o[1],o[0]));return!a||a.length<2?void 0:a[1]}throw new ns.DataError("The entry at the path ("+t+") needs to be either an Object or an Array",12)}async push(t,r,n=!0){return(0,d8.writeLockAsync)(async()=>{let s=await this.getParentData(t,!0),a=r;if(!n){if(Array.isArray(r)){let o=s.getData();if(o===void 0)o=[];else if(!Array.isArray(o))throw new ns.DataError("Can't merge another type of data with an Array",3);a=o.concat(r)}else if(r===Object(r)){if(Array.isArray(s.getData()))throw new ns.DataError("Can't merge an Array with an Object",4);a=(0,V0e.merge)(s.getData(),r)}}s.setData(a),this.config.saveOnPush&&await this.save()})}async delete(t){await(0,d8.writeLockAsync)(async()=>{(await this.getParentData(t,!0)).delete(),this.config.saveOnPush&&await this.save()})}resetData(t){this.data=t}async reload(){this.loaded=!1,await this.load()}async load(){if(!this.loaded)try{this.data=await this.config.adapter.readAsync(),this.loaded=!0}catch(t){throw new ns.DatabaseError("Can't Load Database",1,t)}}async save(t){if(t=t||!1,!t&&!this.loaded)throw new ns.DatabaseError("DataBase not loaded. Can't write",7);try{await this.config.adapter.writeAsync(this.data)}catch(r){throw new ns.DatabaseError("Can't save the database",2,r)}}async fromPath(t,r="id"){let[,...n]=t.split("/"),s=n.reduce((o,c,u)=>{if(u%2===0)o[`${c}`]="";else{let d=Object.keys(o);o[`${d[d.length-1]}`]=`${c}`}return o},{}),a=[];for await(let o of Object.keys(s)){a.push(`/${o}`);let c=s[o];try{let u=await this.getIndex(a.join(""),c,r);a.push(`[${u}]`)}catch(u){throw new ns.DataError(`DataPath: ${a.join("")}/${c} not found.`,13,u)}}return a.join("")}};ss.JsonDB=f8});var Zot={};Pn(Zot,{start:()=>Jot,stop:()=>Xot});module.exports=ghe(Zot);var che=Pe(VZ(),1);function zm(e,t){return function(){return e.apply(t,arguments)}}var{toString:_qe}=Object.prototype,{getPrototypeOf:ik}=Object,yx=(e=>t=>{let r=_qe.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Qa=e=>(e=e.toLowerCase(),t=>yx(t)===e),bx=e=>t=>typeof t===e,{isArray:tp}=Array,Gm=bx("undefined");function Iqe(e){return e!==null&&!Gm(e)&&e.constructor!==null&&!Gm(e.constructor)&&_i(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}var WZ=Qa("ArrayBuffer");function Cqe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&WZ(e.buffer),t}var wqe=bx("string"),_i=bx("function"),JZ=bx("number"),Ex=e=>e!==null&&typeof e=="object",Sqe=e=>e===!0||e===!1,Ax=e=>{if(yx(e)!=="object")return!1;let t=ik(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Tqe=Qa("Date"),Bqe=Qa("File"),Rqe=Qa("Blob"),Nqe=Qa("FileList"),kqe=e=>Ex(e)&&_i(e.pipe),Dqe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||_i(e.append)&&((t=yx(e))==="formdata"||t==="object"&&_i(e.toString)&&e.toString()==="[object FormData]"))},Pqe=Qa("URLSearchParams"),Oqe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Vm(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),tp(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{let a=r?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length,c;for(n=0;n<o;n++)c=a[n],t.call(null,e[c],c,e)}}function XZ(e,t){t=t.toLowerCase();let r=Object.keys(e),n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}var ZZ=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,eee=e=>!Gm(e)&&e!==ZZ;function sk(){let{caseless:e}=eee(this)&&this||{},t={},r=(n,s)=>{let a=e&&XZ(t,s)||s;Ax(t[a])&&Ax(n)?t[a]=sk(t[a],n):Ax(n)?t[a]=sk({},n):tp(n)?t[a]=n.slice():t[a]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&Vm(arguments[n],r);return t}var $qe=(e,t,r,{allOwnKeys:n}={})=>(Vm(t,(s,a)=>{r&&_i(s)?e[a]=zm(s,r):e[a]=s},{allOwnKeys:n}),e),Lqe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Mqe=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Fqe=(e,t,r,n)=>{let s,a,o,c={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)o=s[a],(!n||n(o,e,t))&&!c[o]&&(t[o]=e[o],c[o]=!0);e=r!==!1&&ik(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Qqe=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;let n=e.indexOf(t,r);return n!==-1&&n===r},Uqe=e=>{if(!e)return null;if(tp(e))return e;let t=e.length;if(!JZ(t))return null;let r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},qqe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ik(Uint8Array)),jqe=(e,t)=>{let n=(e&&e[Symbol.iterator]).call(e),s;for(;(s=n.next())&&!s.done;){let a=s.value;t.call(e,a[0],a[1])}},Hqe=(e,t)=>{let r,n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},zqe=Qa("HTMLFormElement"),Gqe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),KZ=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Vqe=Qa("RegExp"),tee=(e,t)=>{let r=Object.getOwnPropertyDescriptors(e),n={};Vm(r,(s,a)=>{let o;(o=t(s,a,e))!==!1&&(n[a]=o||s)}),Object.defineProperties(e,n)},Kqe=e=>{tee(e,(t,r)=>{if(_i(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;let n=e[r];if(_i(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Yqe=(e,t)=>{let r={},n=s=>{s.forEach(a=>{r[a]=!0})};return tp(e)?n(e):n(String(e).split(t)),r},Wqe=()=>{},Jqe=(e,t)=>(e=+e,Number.isFinite(e)?e:t),nk="abcdefghijklmnopqrstuvwxyz",YZ="0123456789",ree={DIGIT:YZ,ALPHA:nk,ALPHA_DIGIT:nk+nk.toUpperCase()+YZ},Xqe=(e=16,t=ree.ALPHA_DIGIT)=>{let r="",{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r};function Zqe(e){return!!(e&&_i(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}var eje=e=>{let t=new Array(10),r=(n,s)=>{if(Ex(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[s]=n;let a=tp(n)?[]:{};return Vm(n,(o,c)=>{let u=r(o,s+1);!Gm(u)&&(a[c]=u)}),t[s]=void 0,a}}return n};return r(e,0)},tje=Qa("AsyncFunction"),rje=e=>e&&(Ex(e)||_i(e))&&_i(e.then)&&_i(e.catch),ne={isArray:tp,isArrayBuffer:WZ,isBuffer:Iqe,isFormData:Dqe,isArrayBufferView:Cqe,isString:wqe,isNumber:JZ,isBoolean:Sqe,isObject:Ex,isPlainObject:Ax,isUndefined:Gm,isDate:Tqe,isFile:Bqe,isBlob:Rqe,isRegExp:Vqe,isFunction:_i,isStream:kqe,isURLSearchParams:Pqe,isTypedArray:qqe,isFileList:Nqe,forEach:Vm,merge:sk,extend:$qe,trim:Oqe,stripBOM:Lqe,inherits:Mqe,toFlatObject:Fqe,kindOf:yx,kindOfTest:Qa,endsWith:Qqe,toArray:Uqe,forEachEntry:jqe,matchAll:Hqe,isHTMLForm:zqe,hasOwnProperty:KZ,hasOwnProp:KZ,reduceDescriptors:tee,freezeMethods:Kqe,toObjectSet:Yqe,toCamelCase:Gqe,noop:Wqe,toFiniteNumber:Jqe,findKey:XZ,global:ZZ,isContextDefined:eee,ALPHABET:ree,generateString:Xqe,isSpecCompliantForm:Zqe,toJSONObject:eje,isAsyncFn:tje,isThenable:rje};function rp(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s)}ne.inherits(rp,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ne.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var nee=rp.prototype,see={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{see[e]={value:e}});Object.defineProperties(rp,see);Object.defineProperty(nee,"isAxiosError",{value:!0});rp.from=(e,t,r,n,s,a)=>{let o=Object.create(nee);return ne.toFlatObject(e,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError"),rp.call(o,e.message,t,r,n,s),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var Ne=rp;var are=Pe(ire(),1),Rx=are.default;function wk(e){return ne.isPlainObject(e)||ne.isArray(e)}function cre(e){return ne.endsWith(e,"[]")?e.slice(0,-2):e}function ore(e,t,r){return e?e.concat(t).map(function(s,a){return s=cre(s),!r&&a?"["+s+"]":s}).join(r?".":""):t}function UHe(e){return ne.isArray(e)&&!e.some(wk)}var qHe=ne.toFlatObject(ne,{},null,function(t){return/^is[A-Z]/.test(t)});function jHe(e,t,r){if(!ne.isObject(e))throw new TypeError("target must be an object");t=t||new(Rx||FormData),r=ne.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,A){return!ne.isUndefined(A[g])});let n=r.metaTokens,s=r.visitor||d,a=r.dots,o=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&ne.isSpecCompliantForm(t);if(!ne.isFunction(s))throw new TypeError("visitor must be a function");function l(h){if(h===null)return"";if(ne.isDate(h))return h.toISOString();if(!u&&ne.isBlob(h))throw new Ne("Blob is not supported. Use a Buffer instead.");return ne.isArrayBuffer(h)||ne.isTypedArray(h)?u&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function d(h,g,A){let y=h;if(h&&!A&&typeof h=="object"){if(ne.endsWith(g,"{}"))g=n?g:g.slice(0,-2),h=JSON.stringify(h);else if(ne.isArray(h)&&UHe(h)||(ne.isFileList(h)||ne.endsWith(g,"[]"))&&(y=ne.toArray(h)))return g=cre(g),y.forEach(function(b,E){!(ne.isUndefined(b)||b===null)&&t.append(o===!0?ore([g],E,a):o===null?g:g+"[]",l(b))}),!1}return wk(h)?!0:(t.append(ore(A,g,a),l(h)),!1)}let f=[],p=Object.assign(qHe,{defaultVisitor:d,convertValue:l,isVisitable:wk});function m(h,g){if(!ne.isUndefined(h)){if(f.indexOf(h)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(h),ne.forEach(h,function(y,v){(!(ne.isUndefined(y)||y===null)&&s.call(t,y,ne.isString(v)?v.trim():v,g,p))===!0&&m(y,g?g.concat(v):[v])}),f.pop()}}if(!ne.isObject(e))throw new TypeError("data must be an object");return m(e),t}var Yc=jHe;function ure(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function lre(e,t){this._pairs=[],e&&Yc(e,this,t)}var dre=lre.prototype;dre.append=function(t,r){this._pairs.push([t,r])};dre.toString=function(t){let r=t?function(n){return t.call(this,n,ure)}:ure;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};var fre=lre;function HHe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function kl(e,t,r){if(!t)return e;let n=r&&r.encode||HHe,s=r&&r.serialize,a;if(s?a=s(t,r):a=ne.isURLSearchParams(t)?t.toString():new fre(t,r).toString(n),a){let o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}var Sk=class{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ne.forEach(this.handlers,function(n){n!==null&&t(n)})}},Tk=Sk;var op={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var pre=Pe(require("url"),1),hre=pre.default.URLSearchParams;var mre={isNode:!0,classes:{URLSearchParams:hre,FormData:Rx,Blob:typeof Blob<"u"&&Blob||null},protocols:["http","https","file","data"]};var Bk={};Pn(Bk,{hasBrowserEnv:()=>gre,hasStandardBrowserEnv:()=>zHe,hasStandardBrowserWebWorkerEnv:()=>GHe});var gre=typeof window<"u"&&typeof document<"u",zHe=(e=>gre&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),GHe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function";var rn={...Bk,...mre};function Rk(e,t){return Yc(e,new rn.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,a){return rn.isNode&&ne.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function VHe(e){return ne.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function KHe(e){let t={},r=Object.keys(e),n,s=r.length,a;for(n=0;n<s;n++)a=r[n],t[a]=e[a];return t}function YHe(e){function t(r,n,s,a){let o=r[a++];if(o==="__proto__")return!0;let c=Number.isFinite(+o),u=a>=r.length;return o=!o&&ne.isArray(s)?s.length:o,u?(ne.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!c):((!s[o]||!ne.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],a)&&ne.isArray(s[o])&&(s[o]=KHe(s[o])),!c)}if(ne.isFormData(e)&&ne.isFunction(e.entries)){let r={};return ne.forEachEntry(e,(n,s)=>{t(VHe(n),s,r,0)}),r}return null}var Nx=YHe;function WHe(e,t,r){if(ne.isString(e))try{return(t||JSON.parse)(e),ne.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var Nk={transitional:op,adapter:["xhr","http"],transformRequest:[function(t,r){let n=r.getContentType()||"",s=n.indexOf("application/json")>-1,a=ne.isObject(t);if(a&&ne.isHTMLForm(t)&&(t=new FormData(t)),ne.isFormData(t))return s?JSON.stringify(Nx(t)):t;if(ne.isArrayBuffer(t)||ne.isBuffer(t)||ne.isStream(t)||ne.isFile(t)||ne.isBlob(t))return t;if(ne.isArrayBufferView(t))return t.buffer;if(ne.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Rk(t,this.formSerializer).toString();if((c=ne.isFileList(t))||n.indexOf("multipart/form-data")>-1){let u=this.env&&this.env.FormData;return Yc(c?{"files[]":t}:t,u&&new u,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),WHe(t)):t}],transformResponse:[function(t){let r=this.transitional||Nk.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(t&&ne.isString(t)&&(n&&!this.responseType||s)){let o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(c){if(o)throw c.name==="SyntaxError"?Ne.from(c,Ne.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rn.classes.FormData,Blob:rn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ne.forEach(["delete","get","head","post","put","patch"],e=>{Nk.headers[e]={}});var cp=Nk;var JHe=ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Are=e=>{let t={},r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&JHe[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t};var yre=Symbol("internals");function Zm(e){return e&&String(e).trim().toLowerCase()}function kx(e){return e===!1||e==null?e:ne.isArray(e)?e.map(kx):String(e)}function XHe(e){let t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}var ZHe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function kk(e,t,r,n,s){if(ne.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!ne.isString(t)){if(ne.isString(n))return t.indexOf(n)!==-1;if(ne.isRegExp(n))return n.test(t)}}function eze(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function tze(e,t){let r=ne.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,a,o){return this[n].call(this,t,s,a,o)},configurable:!0})})}var up=class{constructor(t){t&&this.set(t)}set(t,r,n){let s=this;function a(c,u,l){let d=Zm(u);if(!d)throw new Error("header name must be a non-empty string");let f=ne.findKey(s,d);(!f||s[f]===void 0||l===!0||l===void 0&&s[f]!==!1)&&(s[f||u]=kx(c))}let o=(c,u)=>ne.forEach(c,(l,d)=>a(l,d,u));return ne.isPlainObject(t)||t instanceof this.constructor?o(t,r):ne.isString(t)&&(t=t.trim())&&!ZHe(t)?o(Are(t),r):t!=null&&a(r,t,n),this}get(t,r){if(t=Zm(t),t){let n=ne.findKey(this,t);if(n){let s=this[n];if(!r)return s;if(r===!0)return XHe(s);if(ne.isFunction(r))return r.call(this,s,n);if(ne.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Zm(t),t){let n=ne.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||kk(this,this[n],n,r)))}return!1}delete(t,r){let n=this,s=!1;function a(o){if(o=Zm(o),o){let c=ne.findKey(n,o);c&&(!r||kk(n,n[c],c,r))&&(delete n[c],s=!0)}}return ne.isArray(t)?t.forEach(a):a(t),s}clear(t){let r=Object.keys(this),n=r.length,s=!1;for(;n--;){let a=r[n];(!t||kk(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){let r=this,n={};return ne.forEach(this,(s,a)=>{let o=ne.findKey(n,a);if(o){r[o]=kx(s),delete r[a];return}let c=t?eze(a):String(a).trim();c!==a&&delete r[a],r[c]=kx(s),n[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){let r=Object.create(null);return ne.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&ne.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){let n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){let n=(this[yre]=this[yre]={accessors:{}}).accessors,s=this.prototype;function a(o){let c=Zm(o);n[c]||(tze(s,o),n[c]=!0)}return ne.isArray(t)?t.forEach(a):a(t),this}};up.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ne.reduceDescriptors(up.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});ne.freezeMethods(up);var nn=up;function eg(e,t){let r=this||cp,n=t||r,s=nn.from(n.headers),a=n.data;return ne.forEach(e,function(c){a=c.call(r,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function tg(e){return!!(e&&e.__CANCEL__)}function bre(e,t,r){Ne.call(this,e??"canceled",Ne.ERR_CANCELED,t,r),this.name="CanceledError"}ne.inherits(bre,Ne,{__CANCEL__:!0});var ra=bre;function Wc(e,t,r){let n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Ne("Request failed with status code "+r.status,[Ne.ERR_BAD_REQUEST,Ne.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Dk(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Pk(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Dl(e,t){return e&&!Dk(t)?Pk(e,t):t}var ene=Pe(xre(),1),tne=Pe(require("http"),1),rne=Pe(require("https"),1),nne=Pe(require("util"),1),sne=Pe(Qre(),1),Po=Pe(require("zlib"),1);var Ll="1.6.7";function ag(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}var Qze=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;function Jk(e,t,r){let n=r&&r.Blob||rn.classes.Blob,s=ag(e);if(t===void 0&&n&&(t=!0),s==="data"){e=s.length?e.slice(s.length+1):e;let a=Qze.exec(e);if(!a)throw new Ne("Invalid URL",Ne.ERR_INVALID_URL);let o=a[1],c=a[2],u=a[3],l=Buffer.from(decodeURIComponent(u),c?"base64":"utf8");if(t){if(!n)throw new Ne("Blob is not supported",Ne.ERR_NOT_SUPPORT);return new n([l],{type:o})}return l}throw new Ne("Unsupported protocol "+s,Ne.ERR_NOT_SUPPORT)}var Ml=Pe(require("stream"),1);var qre=Pe(require("stream"),1);function Uze(e,t){let r=0,n=1e3/t,s=null;return function(o,c){let u=Date.now();if(o||u-r>n)return s&&(clearTimeout(s),s=null),r=u,e.apply(null,c);s||(s=setTimeout(()=>(s=null,r=Date.now(),e.apply(null,c)),n-(u-r)))}}var Ure=Uze;function qze(e,t){e=e||10;let r=new Array(e),n=new Array(e),s=0,a=0,o;return t=t!==void 0?t:1e3,function(u){let l=Date.now(),d=n[a];o||(o=l),r[s]=u,n[s]=l;let f=a,p=0;for(;f!==s;)p+=r[f++],f=f%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),l-o<t)return;let m=d&&l-d;return m?Math.round(p*1e3/m):void 0}}var Lx=qze;var Mx=Symbol("internals"),Xk=class extends qre.default.Transform{constructor(t){t=ne.toFlatObject(t,{maxRate:0,chunkSize:64*1024,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(c,u)=>!ne.isUndefined(u[c])),super({readableHighWaterMark:t.chunkSize});let r=this,n=this[Mx]={length:t.length,timeWindow:t.timeWindow,ticksRate:t.ticksRate,chunkSize:t.chunkSize,maxRate:t.maxRate,minChunkSize:t.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null},s=Lx(n.ticksRate*t.samplesCount,n.timeWindow);this.on("newListener",c=>{c==="progress"&&(n.isCaptured||(n.isCaptured=!0))});let a=0;n.updateProgress=Ure(function(){let u=n.length,l=n.bytesSeen,d=l-a;if(!d||r.destroyed)return;let f=s(d);a=l,process.nextTick(()=>{r.emit("progress",{loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:f||void 0,estimated:f&&u&&l<=u?(u-l)/f:void 0})})},n.ticksRate);let o=()=>{n.updateProgress(!0)};this.once("end",o),this.once("error",o)}_read(t){let r=this[Mx];return r.onReadCallback&&r.onReadCallback(),super._read(t)}_transform(t,r,n){let s=this,a=this[Mx],o=a.maxRate,c=this.readableHighWaterMark,u=a.timeWindow,l=1e3/u,d=o/l,f=a.minChunkSize!==!1?Math.max(a.minChunkSize,d*.01):0;function p(h,g){let A=Buffer.byteLength(h);a.bytesSeen+=A,a.bytes+=A,a.isCaptured&&a.updateProgress(),s.push(h)?process.nextTick(g):a.onReadCallback=()=>{a.onReadCallback=null,process.nextTick(g)}}let m=(h,g)=>{let A=Buffer.byteLength(h),y=null,v=c,b,E=0;if(o){let I=Date.now();(!a.ts||(E=I-a.ts)>=u)&&(a.ts=I,b=d-a.bytes,a.bytes=b<0?-b:0,E=0),b=d-a.bytes}if(o){if(b<=0)return setTimeout(()=>{g(null,h)},u-E);b<v&&(v=b)}v&&A>v&&A-v>f&&(y=h.subarray(v),h=h.subarray(0,v)),p(h,y?()=>{process.nextTick(g,null,y)}:g)};m(t,function h(g,A){if(g)return n(g);A?m(A,h):n(null)})}setLength(t){return this[Mx].length=+t,this}},Zk=Xk;var ine=Pe(require("events"),1);var Hre=require("util"),zre=require("stream");var{asyncIterator:jre}=Symbol,jze=async function*(e){e.stream?yield*e.stream():e.arrayBuffer?yield await e.arrayBuffer():e[jre]?yield*e[jre]():yield e},Fx=jze;var Hze=ne.ALPHABET.ALPHA_DIGIT+"-_",og=new Hre.TextEncoder,Xc=`\r
`,zze=og.encode(Xc),Gze=2,e6=class{constructor(t,r){let{escapeName:n}=this.constructor,s=ne.isString(r),a=`Content-Disposition: form-data; name="${n(t)}"${!s&&r.name?`; filename="${n(r.name)}"`:""}${Xc}`;s?r=og.encode(String(r).replace(/\r?\n|\r\n?/g,Xc)):a+=`Content-Type: ${r.type||"application/octet-stream"}${Xc}`,this.headers=og.encode(a+Xc),this.contentLength=s?r.byteLength:r.size,this.size=this.headers.byteLength+this.contentLength+Gze,this.name=t,this.value=r}async*encode(){yield this.headers;let{value:t}=this;ne.isTypedArray(t)?yield t:yield*Fx(t),yield zze}static escapeName(t){return String(t).replace(/[\r\n"]/g,r=>({"\r":"%0D","\n":"%0A",'"':"%22"})[r])}},Vze=(e,t,r)=>{let{tag:n="form-data-boundary",size:s=25,boundary:a=n+"-"+ne.generateString(s,Hze)}=r||{};if(!ne.isFormData(e))throw TypeError("FormData instance required");if(a.length<1||a.length>70)throw Error("boundary must be 10-70 characters long");let o=og.encode("--"+a+Xc),c=og.encode("--"+a+"--"+Xc+Xc),u=c.byteLength,l=Array.from(e.entries()).map(([f,p])=>{let m=new e6(f,p);return u+=m.size,m});u+=o.byteLength*l.length,u=ne.toFiniteNumber(u);let d={"Content-Type":`multipart/form-data; boundary=${a}`};return Number.isFinite(u)&&(d["Content-Length"]=u),t&&t(d),zre.Readable.from(async function*(){for(let f of l)yield o,yield*f.encode();yield c}())},Gre=Vze;var Vre=Pe(require("stream"),1),t6=class extends Vre.default.Transform{__transform(t,r,n){this.push(t),n()}_transform(t,r,n){if(t.length!==0&&(this._transform=this.__transform,t[0]!==120)){let s=Buffer.alloc(2);s[0]=120,s[1]=156,this.push(s,r)}this.__transform(t,r,n)}},Kre=t6;var Kze=(e,t)=>ne.isAsyncFn(e)?function(...r){let n=r.pop();e.apply(this,r).then(s=>{try{t?n(null,...t(s)):n(null,s)}catch(a){n(a)}},n)}:e,Yre=Kze;var Wre={flush:Po.default.constants.Z_SYNC_FLUSH,finishFlush:Po.default.constants.Z_SYNC_FLUSH},Yze={flush:Po.default.constants.BROTLI_OPERATION_FLUSH,finishFlush:Po.default.constants.BROTLI_OPERATION_FLUSH},Jre=ne.isFunction(Po.default.createBrotliDecompress),{http:Wze,https:Jze}=sne.default,Xze=/https:?/,Xre=rn.protocols.map(e=>e+":");function Zze(e,t){e.beforeRedirects.proxy&&e.beforeRedirects.proxy(e),e.beforeRedirects.config&&e.beforeRedirects.config(e,t)}function ane(e,t,r){let n=t;if(!n&&n!==!1){let s=(0,ene.getProxyForUrl)(r);s&&(n=new URL(s))}if(n){if(n.username&&(n.auth=(n.username||"")+":"+(n.password||"")),n.auth){(n.auth.username||n.auth.password)&&(n.auth=(n.auth.username||"")+":"+(n.auth.password||""));let a=Buffer.from(n.auth,"utf8").toString("base64");e.headers["Proxy-Authorization"]="Basic "+a}e.headers.host=e.hostname+(e.port?":"+e.port:"");let s=n.hostname||n.host;e.hostname=s,e.host=s,e.port=n.port,e.path=r,n.protocol&&(e.protocol=n.protocol.includes(":")?n.protocol:`${n.protocol}:`)}e.beforeRedirects.proxy=function(a){ane(a,t,a.href)}}var eGe=typeof process<"u"&&ne.kindOf(process)==="process",tGe=e=>new Promise((t,r)=>{let n,s,a=(u,l)=>{s||(s=!0,n&&n(u,l))},o=u=>{a(u),t(u)},c=u=>{a(u,!0),r(u)};e(o,c,u=>n=u).catch(c)}),rGe=({address:e,family:t})=>{if(!ne.isString(e))throw TypeError("address must be a string");return{address:e,family:t||(e.indexOf(".")<0?6:4)}},Zre=(e,t)=>rGe(ne.isObject(e)?e:{address:e,family:t}),one=eGe&&function(t){return tGe(async function(n,s,a){let{data:o,lookup:c,family:u}=t,{responseType:l,responseEncoding:d}=t,f=t.method.toUpperCase(),p,m=!1,h;if(c){let V=Yre(c,X=>ne.isArray(X)?X:[X]);c=(X,U,re)=>{V(X,U,(se,te,ae)=>{if(se)return re(se);let xe=ne.isArray(te)?te.map(_e=>Zre(_e)):[Zre(te,ae)];U.all?re(se,xe):re(se,xe[0].address,xe[0].family)})}}let g=new ine.default,A=()=>{t.cancelToken&&t.cancelToken.unsubscribe(y),t.signal&&t.signal.removeEventListener("abort",y),g.removeAllListeners()};a((V,X)=>{p=!0,X&&(m=!0,A())});function y(V){g.emit("abort",!V||V.type?new ra(null,t,h):V)}g.once("abort",s),(t.cancelToken||t.signal)&&(t.cancelToken&&t.cancelToken.subscribe(y),t.signal&&(t.signal.aborted?y():t.signal.addEventListener("abort",y)));let v=Dl(t.baseURL,t.url),b=new URL(v,"http://localhost"),E=b.protocol||Xre[0];if(E==="data:"){let V;if(f!=="GET")return Wc(n,s,{status:405,statusText:"method not allowed",headers:{},config:t});try{V=Jk(t.url,l==="blob",{Blob:t.env&&t.env.Blob})}catch(X){throw Ne.from(X,Ne.ERR_BAD_REQUEST,t)}return l==="text"?(V=V.toString(d),(!d||d==="utf8")&&(V=ne.stripBOM(V))):l==="stream"&&(V=Ml.default.Readable.from(V)),Wc(n,s,{data:V,status:200,statusText:"OK",headers:new nn,config:t})}if(Xre.indexOf(E)===-1)return s(new Ne("Unsupported protocol "+E,Ne.ERR_BAD_REQUEST,t));let I=nn.from(t.headers).normalize();I.set("User-Agent","axios/"+Ll,!1);let w=t.onDownloadProgress,S=t.onUploadProgress,T=t.maxRate,B,N;if(ne.isSpecCompliantForm(o)){let V=I.getContentType(/boundary=([-_\w\d]{10,70})/i);o=Gre(o,X=>{I.set(X)},{tag:`axios-${Ll}-boundary`,boundary:V&&V[1]||void 0})}else if(ne.isFormData(o)&&ne.isFunction(o.getHeaders)){if(I.set(o.getHeaders()),!I.hasContentLength())try{let V=await nne.default.promisify(o.getLength).call(o);Number.isFinite(V)&&V>=0&&I.setContentLength(V)}catch{}}else if(ne.isBlob(o))o.size&&I.setContentType(o.type||"application/octet-stream"),I.setContentLength(o.size||0),o=Ml.default.Readable.from(Fx(o));else if(o&&!ne.isStream(o)){if(!Buffer.isBuffer(o))if(ne.isArrayBuffer(o))o=Buffer.from(new Uint8Array(o));else if(ne.isString(o))o=Buffer.from(o,"utf-8");else return s(new Ne("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",Ne.ERR_BAD_REQUEST,t));if(I.setContentLength(o.length,!1),t.maxBodyLength>-1&&o.length>t.maxBodyLength)return s(new Ne("Request body larger than maxBodyLength limit",Ne.ERR_BAD_REQUEST,t))}let O=ne.toFiniteNumber(I.getContentLength());ne.isArray(T)?(B=T[0],N=T[1]):B=N=T,o&&(S||B)&&(ne.isStream(o)||(o=Ml.default.Readable.from(o,{objectMode:!1})),o=Ml.default.pipeline([o,new Zk({length:O,maxRate:ne.toFiniteNumber(B)})],ne.noop),S&&o.on("progress",V=>{S(Object.assign(V,{upload:!0}))}));let k;if(t.auth){let V=t.auth.username||"",X=t.auth.password||"";k=V+":"+X}if(!k&&b.username){let V=b.username,X=b.password;k=V+":"+X}k&&I.delete("authorization");let P;try{P=kl(b.pathname+b.search,t.params,t.paramsSerializer).replace(/^\?/,"")}catch(V){let X=new Error(V.message);return X.config=t,X.url=t.url,X.exists=!0,s(X)}I.set("Accept-Encoding","gzip, compress, deflate"+(Jre?", br":""),!1);let D={path:P,method:f,headers:I.toJSON(),agents:{http:t.httpAgent,https:t.httpsAgent},auth:k,protocol:E,family:u,beforeRedirect:Zze,beforeRedirects:{}};!ne.isUndefined(c)&&(D.lookup=c),t.socketPath?D.socketPath=t.socketPath:(D.hostname=b.hostname,D.port=b.port,ane(D,t.proxy,E+"//"+b.hostname+(b.port?":"+b.port:"")+D.path));let j,H=Xze.test(D.protocol);if(D.agent=H?t.httpsAgent:t.httpAgent,t.transport?j=t.transport:t.maxRedirects===0?j=H?rne.default:tne.default:(t.maxRedirects&&(D.maxRedirects=t.maxRedirects),t.beforeRedirect&&(D.beforeRedirects.config=t.beforeRedirect),j=H?Jze:Wze),t.maxBodyLength>-1?D.maxBodyLength=t.maxBodyLength:D.maxBodyLength=1/0,t.insecureHTTPParser&&(D.insecureHTTPParser=t.insecureHTTPParser),h=j.request(D,function(X){if(h.destroyed)return;let U=[X],re=+X.headers["content-length"];if(w){let _e=new Zk({length:ne.toFiniteNumber(re),maxRate:ne.toFiniteNumber(N)});w&&_e.on("progress",Ce=>{w(Object.assign(Ce,{download:!0}))}),U.push(_e)}let se=X,te=X.req||h;if(t.decompress!==!1&&X.headers["content-encoding"])switch((f==="HEAD"||X.statusCode===204)&&delete X.headers["content-encoding"],(X.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":U.push(Po.default.createUnzip(Wre)),delete X.headers["content-encoding"];break;case"deflate":U.push(new Kre),U.push(Po.default.createUnzip(Wre)),delete X.headers["content-encoding"];break;case"br":Jre&&(U.push(Po.default.createBrotliDecompress(Yze)),delete X.headers["content-encoding"])}se=U.length>1?Ml.default.pipeline(U,ne.noop):U[0];let ae=Ml.default.finished(se,()=>{ae(),A()}),xe={status:X.statusCode,statusText:X.statusMessage,headers:new nn(X.headers),config:t,request:te};if(l==="stream")xe.data=se,Wc(n,s,xe);else{let _e=[],Ce=0;se.on("data",function(Ae){_e.push(Ae),Ce+=Ae.length,t.maxContentLength>-1&&Ce>t.maxContentLength&&(m=!0,se.destroy(),s(new Ne("maxContentLength size of "+t.maxContentLength+" exceeded",Ne.ERR_BAD_RESPONSE,t,te)))}),se.on("aborted",function(){if(m)return;let Ae=new Ne("maxContentLength size of "+t.maxContentLength+" exceeded",Ne.ERR_BAD_RESPONSE,t,te);se.destroy(Ae),s(Ae)}),se.on("error",function(Ae){h.destroyed||s(Ne.from(Ae,null,t,te))}),se.on("end",function(){try{let Ae=_e.length===1?_e[0]:Buffer.concat(_e);l!=="arraybuffer"&&(Ae=Ae.toString(d),(!d||d==="utf8")&&(Ae=ne.stripBOM(Ae))),xe.data=Ae}catch(Ae){return s(Ne.from(Ae,null,t,xe.request,xe))}Wc(n,s,xe)})}g.once("abort",_e=>{se.destroyed||(se.emit("error",_e),se.destroy())})}),g.once("abort",V=>{s(V),h.destroy(V)}),h.on("error",function(X){s(Ne.from(X,null,t,h))}),h.on("socket",function(X){X.setKeepAlive(!0,1e3*60)}),t.timeout){let V=parseInt(t.timeout,10);if(Number.isNaN(V)){s(new Ne("error trying to parse `config.timeout` to int",Ne.ERR_BAD_OPTION_VALUE,t,h));return}h.setTimeout(V,function(){if(p)return;let U=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",re=t.transitional||op;t.timeoutErrorMessage&&(U=t.timeoutErrorMessage),s(new Ne(U,re.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,t,h)),y()})}if(ne.isStream(o)){let V=!1,X=!1;o.on("end",()=>{V=!0}),o.once("error",U=>{X=!0,h.destroy(U)}),o.on("close",()=>{!V&&!X&&y(new ra("Request stream has been aborted",t,h))}),o.pipe(h)}else h.end(o)})};var cne=rn.hasStandardBrowserEnv?{write(e,t,r,n,s,a){let o=[e+"="+encodeURIComponent(t)];ne.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),ne.isString(n)&&o.push("path="+n),ne.isString(s)&&o.push("domain="+s),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){let t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};var une=rn.hasStandardBrowserEnv?function(){let t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function s(a){let o=a;return t&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=s(window.location.href),function(o){let c=ne.isString(o)?s(o):o;return c.protocol===n.protocol&&c.host===n.host}}():function(){return function(){return!0}}();function lne(e,t){let r=0,n=Lx(50,250);return s=>{let a=s.loaded,o=s.lengthComputable?s.total:void 0,c=a-r,u=n(c),l=a<=o;r=a;let d={loaded:a,total:o,progress:o?a/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&l?(o-a)/u:void 0,event:s};d[t?"download":"upload"]=!0,e(d)}}var nGe=typeof XMLHttpRequest<"u",dne=nGe&&function(e){return new Promise(function(r,n){let s=e.data,a=nn.from(e.headers).normalize(),{responseType:o,withXSRFToken:c}=e,u;function l(){e.cancelToken&&e.cancelToken.unsubscribe(u),e.signal&&e.signal.removeEventListener("abort",u)}let d;if(ne.isFormData(s)){if(rn.hasStandardBrowserEnv||rn.hasStandardBrowserWebWorkerEnv)a.setContentType(!1);else if((d=a.getContentType())!==!1){let[g,...A]=d?d.split(";").map(y=>y.trim()).filter(Boolean):[];a.setContentType([g||"multipart/form-data",...A].join("; "))}}let f=new XMLHttpRequest;if(e.auth){let g=e.auth.username||"",A=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(g+":"+A))}let p=Dl(e.baseURL,e.url);f.open(e.method.toUpperCase(),kl(p,e.params,e.paramsSerializer),!0),f.timeout=e.timeout;function m(){if(!f)return;let g=nn.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),y={data:!o||o==="text"||o==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:g,config:e,request:f};Wc(function(b){r(b),l()},function(b){n(b),l()},y),f=null}if("onloadend"in f?f.onloadend=m:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(m)},f.onabort=function(){f&&(n(new Ne("Request aborted",Ne.ECONNABORTED,e,f)),f=null)},f.onerror=function(){n(new Ne("Network Error",Ne.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let A=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",y=e.transitional||op;e.timeoutErrorMessage&&(A=e.timeoutErrorMessage),n(new Ne(A,y.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,e,f)),f=null},rn.hasStandardBrowserEnv&&(c&&ne.isFunction(c)&&(c=c(e)),c||c!==!1&&une(p))){let g=e.xsrfHeaderName&&e.xsrfCookieName&&cne.read(e.xsrfCookieName);g&&a.set(e.xsrfHeaderName,g)}s===void 0&&a.setContentType(null),"setRequestHeader"in f&&ne.forEach(a.toJSON(),function(A,y){f.setRequestHeader(y,A)}),ne.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),o&&o!=="json"&&(f.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&f.addEventListener("progress",lne(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",lne(e.onUploadProgress)),(e.cancelToken||e.signal)&&(u=g=>{f&&(n(!g||g.type?new ra(null,e,f):g),f.abort(),f=null)},e.cancelToken&&e.cancelToken.subscribe(u),e.signal&&(e.signal.aborted?u():e.signal.addEventListener("abort",u)));let h=ag(p);if(h&&rn.protocols.indexOf(h)===-1){n(new Ne("Unsupported protocol "+h+":",Ne.ERR_BAD_REQUEST,e));return}f.send(s||null)})};var r6={http:one,xhr:dne};ne.forEach(r6,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});var fne=e=>`- ${e}`,sGe=e=>ne.isFunction(e)||e===null||e===!1,Qx={getAdapter:e=>{e=ne.isArray(e)?e:[e];let{length:t}=e,r,n,s={};for(let a=0;a<t;a++){r=e[a];let o;if(n=r,!sGe(r)&&(n=r6[(o=String(r)).toLowerCase()],n===void 0))throw new Ne(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+a]=n}if(!n){let a=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build")),o=t?a.length>1?`since :
`+a.map(fne).join(`
`):" "+fne(a[0]):"as no adapter specified";throw new Ne("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:r6};function n6(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ra(null,e)}function Ux(e){return n6(e),e.headers=nn.from(e.headers),e.data=eg.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Qx.getAdapter(e.adapter||cp.adapter)(e).then(function(n){return n6(e),n.data=eg.call(e,e.transformResponse,n),n.headers=nn.from(n.headers),n},function(n){return tg(n)||(n6(e),n&&n.response&&(n.response.data=eg.call(e,e.transformResponse,n.response),n.response.headers=nn.from(n.response.headers))),Promise.reject(n)})}var pne=e=>e instanceof nn?e.toJSON():e;function Oo(e,t){t=t||{};let r={};function n(l,d,f){return ne.isPlainObject(l)&&ne.isPlainObject(d)?ne.merge.call({caseless:f},l,d):ne.isPlainObject(d)?ne.merge({},d):ne.isArray(d)?d.slice():d}function s(l,d,f){if(ne.isUndefined(d)){if(!ne.isUndefined(l))return n(void 0,l,f)}else return n(l,d,f)}function a(l,d){if(!ne.isUndefined(d))return n(void 0,d)}function o(l,d){if(ne.isUndefined(d)){if(!ne.isUndefined(l))return n(void 0,l)}else return n(void 0,d)}function c(l,d,f){if(f in t)return n(l,d);if(f in e)return n(void 0,l)}let u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(l,d)=>s(pne(l),pne(d),!0)};return ne.forEach(Object.keys(Object.assign({},e,t)),function(d){let f=u[d]||s,p=f(e[d],t[d],d);ne.isUndefined(p)&&f!==c||(r[d]=p)}),r}var s6={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{s6[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var hne={};s6.transitional=function(t,r,n){function s(a,o){return"[Axios v"+Ll+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,c)=>{if(t===!1)throw new Ne(s(o," has been removed"+(r?" in "+r:"")),Ne.ERR_DEPRECATED);return r&&!hne[o]&&(hne[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,c):!0}};function iGe(e,t,r){if(typeof e!="object")throw new Ne("options must be an object",Ne.ERR_BAD_OPTION_VALUE);let n=Object.keys(e),s=n.length;for(;s-- >0;){let a=n[s],o=t[a];if(o){let c=e[a],u=c===void 0||o(c,a,e);if(u!==!0)throw new Ne("option "+a+" must be "+u,Ne.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ne("Unknown option "+a,Ne.ERR_BAD_OPTION)}}var qx={assertOptions:iGe,validators:s6};var Zc=qx.validators,hp=class{constructor(t){this.defaults=t,this.interceptors={request:new Tk,response:new Tk}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;let a=s.stack?s.stack.replace(/^.+\n/,""):"";n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Oo(this.defaults,r);let{transitional:n,paramsSerializer:s,headers:a}=r;n!==void 0&&qx.assertOptions(n,{silentJSONParsing:Zc.transitional(Zc.boolean),forcedJSONParsing:Zc.transitional(Zc.boolean),clarifyTimeoutError:Zc.transitional(Zc.boolean)},!1),s!=null&&(ne.isFunction(s)?r.paramsSerializer={serialize:s}:qx.assertOptions(s,{encode:Zc.function,serialize:Zc.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&ne.merge(a.common,a[r.method]);a&&ne.forEach(["delete","get","head","post","put","patch","common"],h=>{delete a[h]}),r.headers=nn.concat(o,a);let c=[],u=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(u=u&&g.synchronous,c.unshift(g.fulfilled,g.rejected))});let l=[];this.interceptors.response.forEach(function(g){l.push(g.fulfilled,g.rejected)});let d,f=0,p;if(!u){let h=[Ux.bind(this),void 0];for(h.unshift.apply(h,c),h.push.apply(h,l),p=h.length,d=Promise.resolve(r);f<p;)d=d.then(h[f++],h[f++]);return d}p=c.length;let m=r;for(f=0;f<p;){let h=c[f++],g=c[f++];try{m=h(m)}catch(A){g.call(this,A);break}}try{d=Ux.call(this,m)}catch(h){return Promise.reject(h)}for(f=0,p=l.length;f<p;)d=d.then(l[f++],l[f++]);return d}getUri(t){t=Oo(this.defaults,t);let r=Dl(t.baseURL,t.url);return kl(r,t.params,t.paramsSerializer)}};ne.forEach(["delete","get","head","options"],function(t){hp.prototype[t]=function(r,n){return this.request(Oo(n||{},{method:t,url:r,data:(n||{}).data}))}});ne.forEach(["post","put","patch"],function(t){function r(n){return function(a,o,c){return this.request(Oo(c||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}hp.prototype[t]=r(),hp.prototype[t+"Form"]=r(!0)});var cg=hp;var i6=class e{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});let n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a,o=new Promise(c=>{n.subscribe(c),a=c}).then(s);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,c){n.reason||(n.reason=new ra(a,o,c),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;let r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new e(function(s){t=s}),cancel:t}}},mne=i6;function a6(e){return function(r){return e.apply(null,r)}}function o6(e){return ne.isObject(e)&&e.isAxiosError===!0}var c6={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(c6).forEach(([e,t])=>{c6[t]=e});var gne=c6;function Ane(e){let t=new cg(e),r=zm(cg.prototype.request,t);return ne.extend(r,cg.prototype,t,{allOwnKeys:!0}),ne.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return Ane(Oo(e,s))},r}var Kr=Ane(cp);Kr.Axios=cg;Kr.CanceledError=ra;Kr.CancelToken=mne;Kr.isCancel=tg;Kr.VERSION=Ll;Kr.toFormData=Yc;Kr.AxiosError=Ne;Kr.Cancel=Kr.CanceledError;Kr.all=function(t){return Promise.all(t)};Kr.spread=a6;Kr.isAxiosError=o6;Kr.mergeConfig=Oo;Kr.AxiosHeaders=nn;Kr.formToJSON=e=>Nx(ne.isHTMLForm(e)?new FormData(e):e);Kr.getAdapter=Qx.getAdapter;Kr.HttpStatusCode=gne;Kr.default=Kr;var Ie=Kr;var{Axios:Vyt,AxiosError:Kyt,CanceledError:Yyt,isCancel:Wyt,CancelToken:Jyt,VERSION:Xyt,all:Zyt,Cancel:e1t,isAxiosError:t1t,spread:r1t,toFormData:n1t,AxiosHeaders:s1t,HttpStatusCode:i1t,formToJSON:a1t,getAdapter:o1t,mergeConfig:c1t}=Ie;var yne=Pe(require("https"),1),bne=Pe(require("http"),1),aGe=Ie.create({httpsAgent:new yne.default.Agent({keepAlive:!1,rejectUnauthorized:!1}),httpAgent:new bne.default.Agent({keepAlive:!1}),proxy:!1}),Oe=aGe;var oGe={xml:!1,decodeEntities:!0},ug=oGe,Ene={_useHtmlParser2:!0,xmlMode:!0};function lg(e){return e?.xml?typeof e.xml=="boolean"?Ene:{...Ene,...e.xml}:e??void 0}var su={};Pn(su,{contains:()=>x6,html:()=>Xne,merge:()=>XGe,parseHTML:()=>WGe,root:()=>JGe,text:()=>nu,xml:()=>Zne});var ru={};Pn(ru,{DocumentPosition:()=>wi,append:()=>kGe,appendChild:()=>NGe,compareDocumentPosition:()=>Kne,existsOne:()=>Gne,filter:()=>bp,find:()=>tv,findAll:()=>$Ge,findOne:()=>rv,findOneChild:()=>OGe,getAttributeValue:()=>SGe,getChildren:()=>yp,getElementById:()=>QGe,getElements:()=>FGe,getElementsByClassName:()=>UGe,getElementsByTagName:()=>jl,getElementsByTagType:()=>qGe,getFeed:()=>E6,getInnerHTML:()=>wGe,getName:()=>BGe,getOuterHTML:()=>Hne,getParent:()=>zne,getSiblings:()=>y6,getText:()=>Xx,hasAttrib:()=>TGe,hasChildren:()=>tr,innerText:()=>Ag,isCDATA:()=>mp,isComment:()=>ql,isDocument:()=>na,isTag:()=>Le,isText:()=>Ms,nextElementSibling:()=>Zx,prepend:()=>PGe,prependChild:()=>DGe,prevElementSibling:()=>ev,removeElement:()=>Mo,removeSubsets:()=>jGe,replaceElement:()=>RGe,testElement:()=>MGe,textContent:()=>Lo,uniqueSort:()=>eu});var Dt;(function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"})(Dt||(Dt={}));function xne(e){return e.type===Dt.Tag||e.type===Dt.Script||e.type===Dt.Style}var vne=Dt.Root,_ne=Dt.Text,Ine=Dt.Directive,Cne=Dt.Comment,wne=Dt.Script,Sne=Dt.Style,Tne=Dt.Tag,Bne=Dt.CDATA,Rne=Dt.Doctype;var jx=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(t){this.parent=t}get previousSibling(){return this.prev}set previousSibling(t){this.prev=t}get nextSibling(){return this.next}set nextSibling(t){this.next=t}cloneNode(t=!1){return hg(this,t)}},dg=class extends jx{constructor(t){super(),this.data=t}get nodeValue(){return this.data}set nodeValue(t){this.data=t}},Ua=class extends dg{constructor(){super(...arguments),this.type=Dt.Text}get nodeType(){return 3}},Fl=class extends dg{constructor(){super(...arguments),this.type=Dt.Comment}get nodeType(){return 8}},Ql=class extends dg{constructor(t,r){super(r),this.name=t,this.type=Dt.Directive}get nodeType(){return 1}},fg=class extends jx{constructor(t){super(),this.children=t}get firstChild(){var t;return(t=this.children[0])!==null&&t!==void 0?t:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(t){this.children=t}},pg=class extends fg{constructor(){super(...arguments),this.type=Dt.CDATA}get nodeType(){return 4}},Ws=class extends fg{constructor(){super(...arguments),this.type=Dt.Root}get nodeType(){return 9}},Ul=class extends fg{constructor(t,r,n=[],s=t==="script"?Dt.Script:t==="style"?Dt.Style:Dt.Tag){super(n),this.name=t,this.attribs=r,this.type=s}get nodeType(){return 1}get tagName(){return this.name}set tagName(t){this.name=t}get attributes(){return Object.keys(this.attribs).map(t=>{var r,n;return{name:t,value:this.attribs[t],namespace:(r=this["x-attribsNamespace"])===null||r===void 0?void 0:r[t],prefix:(n=this["x-attribsPrefix"])===null||n===void 0?void 0:n[t]}})}};function Le(e){return xne(e)}function mp(e){return e.type===Dt.CDATA}function Ms(e){return e.type===Dt.Text}function ql(e){return e.type===Dt.Comment}function Hx(e){return e.type===Dt.Directive}function na(e){return e.type===Dt.Root}function tr(e){return Object.prototype.hasOwnProperty.call(e,"children")}function hg(e,t=!1){let r;if(Ms(e))r=new Ua(e.data);else if(ql(e))r=new Fl(e.data);else if(Le(e)){let n=t?u6(e.children):[],s=new Ul(e.name,{...e.attribs},n);n.forEach(a=>a.parent=s),e.namespace!=null&&(s.namespace=e.namespace),e["x-attribsNamespace"]&&(s["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(s["x-attribsPrefix"]={...e["x-attribsPrefix"]}),r=s}else if(mp(e)){let n=t?u6(e.children):[],s=new pg(n);n.forEach(a=>a.parent=s),r=s}else if(na(e)){let n=t?u6(e.children):[],s=new Ws(n);n.forEach(a=>a.parent=s),e["x-mode"]&&(s["x-mode"]=e["x-mode"]),r=s}else if(Hx(e)){let n=new Ql(e.name,e.data);e["x-name"]!=null&&(n["x-name"]=e["x-name"],n["x-publicId"]=e["x-publicId"],n["x-systemId"]=e["x-systemId"]),r=n}else throw new Error(`Not implemented yet: ${e.type}`);return r.startIndex=e.startIndex,r.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(r.sourceCodeLocation=e.sourceCodeLocation),r}function u6(e){let t=e.map(r=>hg(r,!0));for(let r=1;r<t.length;r++)t[r].prev=t[r-1],t[r-1].next=t[r];return t}var kne={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},gp=class{constructor(t,r,n){this.dom=[],this.root=new Ws(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof r=="function"&&(n=r,r=kne),typeof t=="object"&&(r=t,t=void 0),this.callback=t??null,this.options=r??kne,this.elementCB=n??null}onparserinit(t){this.parser=t}onreset(){this.dom=[],this.root=new Ws(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(t){this.handleCallback(t)}onclosetag(){this.lastNode=null;let t=this.tagStack.pop();this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(t)}onopentag(t,r){let n=this.options.xmlMode?Dt.Tag:void 0,s=new Ul(t,r,void 0,n);this.addNode(s),this.tagStack.push(s)}ontext(t){let{lastNode:r}=this;if(r&&r.type===Dt.Text)r.data+=t,this.options.withEndIndices&&(r.endIndex=this.parser.endIndex);else{let n=new Ua(t);this.addNode(n),this.lastNode=n}}oncomment(t){if(this.lastNode&&this.lastNode.type===Dt.Comment){this.lastNode.data+=t;return}let r=new Fl(t);this.addNode(r),this.lastNode=r}oncommentend(){this.lastNode=null}oncdatastart(){let t=new Ua(""),r=new pg([t]);this.addNode(r),t.parent=r,this.lastNode=t}oncdataend(){this.lastNode=null}onprocessinginstruction(t,r){let n=new Ql(t,r);this.addNode(n)}handleCallback(t){if(typeof this.callback=="function")this.callback(t,this.dom);else if(t)throw t}addNode(t){let r=this.tagStack[this.tagStack.length-1],n=r.children[r.children.length-1];this.options.withStartIndices&&(t.startIndex=this.parser.startIndex),this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),r.children.push(t),n&&(t.prev=n,n.next=t),t.parent=r,this.lastNode=null}};var zx=new Uint16Array('\u1D41<\xD5\u0131\u028A\u049D\u057B\u05D0\u0675\u06DE\u07A2\u07D6\u080F\u0A4A\u0A91\u0DA1\u0E6D\u0F09\u0F26\u10CA\u1228\u12E1\u1415\u149D\u14C3\u14DF\u1525\0\0\0\0\0\0\u156B\u16CD\u198D\u1C12\u1DDD\u1F7E\u2060\u21B0\u228D\u23C0\u23FB\u2442\u2824\u2912\u2D08\u2E48\u2FCE\u3016\u32BA\u3639\u37AC\u38FE\u3A28\u3A71\u3AE0\u3B2E\u0800EMabcfglmnoprstu\\bfms\x7F\x84\x8B\x90\x95\x98\xA6\xB3\xB9\xC8\xCFlig\u803B\xC6\u40C6P\u803B&\u4026cute\u803B\xC1\u40C1reve;\u4102\u0100iyx}rc\u803B\xC2\u40C2;\u4410r;\uC000\u{1D504}rave\u803B\xC0\u40C0pha;\u4391acr;\u4100d;\u6A53\u0100gp\x9D\xA1on;\u4104f;\uC000\u{1D538}plyFunction;\u6061ing\u803B\xC5\u40C5\u0100cs\xBE\xC3r;\uC000\u{1D49C}ign;\u6254ilde\u803B\xC3\u40C3ml\u803B\xC4\u40C4\u0400aceforsu\xE5\xFB\xFE\u0117\u011C\u0122\u0127\u012A\u0100cr\xEA\xF2kslash;\u6216\u0176\xF6\xF8;\u6AE7ed;\u6306y;\u4411\u0180crt\u0105\u010B\u0114ause;\u6235noullis;\u612Ca;\u4392r;\uC000\u{1D505}pf;\uC000\u{1D539}eve;\u42D8c\xF2\u0113mpeq;\u624E\u0700HOacdefhilorsu\u014D\u0151\u0156\u0180\u019E\u01A2\u01B5\u01B7\u01BA\u01DC\u0215\u0273\u0278\u027Ecy;\u4427PY\u803B\xA9\u40A9\u0180cpy\u015D\u0162\u017Aute;\u4106\u0100;i\u0167\u0168\u62D2talDifferentialD;\u6145leys;\u612D\u0200aeio\u0189\u018E\u0194\u0198ron;\u410Cdil\u803B\xC7\u40C7rc;\u4108nint;\u6230ot;\u410A\u0100dn\u01A7\u01ADilla;\u40B8terDot;\u40B7\xF2\u017Fi;\u43A7rcle\u0200DMPT\u01C7\u01CB\u01D1\u01D6ot;\u6299inus;\u6296lus;\u6295imes;\u6297o\u0100cs\u01E2\u01F8kwiseContourIntegral;\u6232eCurly\u0100DQ\u0203\u020FoubleQuote;\u601Duote;\u6019\u0200lnpu\u021E\u0228\u0247\u0255on\u0100;e\u0225\u0226\u6237;\u6A74\u0180git\u022F\u0236\u023Aruent;\u6261nt;\u622FourIntegral;\u622E\u0100fr\u024C\u024E;\u6102oduct;\u6210nterClockwiseContourIntegral;\u6233oss;\u6A2Fcr;\uC000\u{1D49E}p\u0100;C\u0284\u0285\u62D3ap;\u624D\u0580DJSZacefios\u02A0\u02AC\u02B0\u02B4\u02B8\u02CB\u02D7\u02E1\u02E6\u0333\u048D\u0100;o\u0179\u02A5trahd;\u6911cy;\u4402cy;\u4405cy;\u440F\u0180grs\u02BF\u02C4\u02C7ger;\u6021r;\u61A1hv;\u6AE4\u0100ay\u02D0\u02D5ron;\u410E;\u4414l\u0100;t\u02DD\u02DE\u6207a;\u4394r;\uC000\u{1D507}\u0100af\u02EB\u0327\u0100cm\u02F0\u0322ritical\u0200ADGT\u0300\u0306\u0316\u031Ccute;\u40B4o\u0174\u030B\u030D;\u42D9bleAcute;\u42DDrave;\u4060ilde;\u42DCond;\u62C4ferentialD;\u6146\u0470\u033D\0\0\0\u0342\u0354\0\u0405f;\uC000\u{1D53B}\u0180;DE\u0348\u0349\u034D\u40A8ot;\u60DCqual;\u6250ble\u0300CDLRUV\u0363\u0372\u0382\u03CF\u03E2\u03F8ontourIntegra\xEC\u0239o\u0274\u0379\0\0\u037B\xBB\u0349nArrow;\u61D3\u0100eo\u0387\u03A4ft\u0180ART\u0390\u0396\u03A1rrow;\u61D0ightArrow;\u61D4e\xE5\u02CAng\u0100LR\u03AB\u03C4eft\u0100AR\u03B3\u03B9rrow;\u67F8ightArrow;\u67FAightArrow;\u67F9ight\u0100AT\u03D8\u03DErrow;\u61D2ee;\u62A8p\u0241\u03E9\0\0\u03EFrrow;\u61D1ownArrow;\u61D5erticalBar;\u6225n\u0300ABLRTa\u0412\u042A\u0430\u045E\u047F\u037Crrow\u0180;BU\u041D\u041E\u0422\u6193ar;\u6913pArrow;\u61F5reve;\u4311eft\u02D2\u043A\0\u0446\0\u0450ightVector;\u6950eeVector;\u695Eector\u0100;B\u0459\u045A\u61BDar;\u6956ight\u01D4\u0467\0\u0471eeVector;\u695Fector\u0100;B\u047A\u047B\u61C1ar;\u6957ee\u0100;A\u0486\u0487\u62A4rrow;\u61A7\u0100ct\u0492\u0497r;\uC000\u{1D49F}rok;\u4110\u0800NTacdfglmopqstux\u04BD\u04C0\u04C4\u04CB\u04DE\u04E2\u04E7\u04EE\u04F5\u0521\u052F\u0536\u0552\u055D\u0560\u0565G;\u414AH\u803B\xD0\u40D0cute\u803B\xC9\u40C9\u0180aiy\u04D2\u04D7\u04DCron;\u411Arc\u803B\xCA\u40CA;\u442Dot;\u4116r;\uC000\u{1D508}rave\u803B\xC8\u40C8ement;\u6208\u0100ap\u04FA\u04FEcr;\u4112ty\u0253\u0506\0\0\u0512mallSquare;\u65FBerySmallSquare;\u65AB\u0100gp\u0526\u052Aon;\u4118f;\uC000\u{1D53C}silon;\u4395u\u0100ai\u053C\u0549l\u0100;T\u0542\u0543\u6A75ilde;\u6242librium;\u61CC\u0100ci\u0557\u055Ar;\u6130m;\u6A73a;\u4397ml\u803B\xCB\u40CB\u0100ip\u056A\u056Fsts;\u6203onentialE;\u6147\u0280cfios\u0585\u0588\u058D\u05B2\u05CCy;\u4424r;\uC000\u{1D509}lled\u0253\u0597\0\0\u05A3mallSquare;\u65FCerySmallSquare;\u65AA\u0370\u05BA\0\u05BF\0\0\u05C4f;\uC000\u{1D53D}All;\u6200riertrf;\u6131c\xF2\u05CB\u0600JTabcdfgorst\u05E8\u05EC\u05EF\u05FA\u0600\u0612\u0616\u061B\u061D\u0623\u066C\u0672cy;\u4403\u803B>\u403Emma\u0100;d\u05F7\u05F8\u4393;\u43DCreve;\u411E\u0180eiy\u0607\u060C\u0610dil;\u4122rc;\u411C;\u4413ot;\u4120r;\uC000\u{1D50A};\u62D9pf;\uC000\u{1D53E}eater\u0300EFGLST\u0635\u0644\u064E\u0656\u065B\u0666qual\u0100;L\u063E\u063F\u6265ess;\u62DBullEqual;\u6267reater;\u6AA2ess;\u6277lantEqual;\u6A7Eilde;\u6273cr;\uC000\u{1D4A2};\u626B\u0400Aacfiosu\u0685\u068B\u0696\u069B\u069E\u06AA\u06BE\u06CARDcy;\u442A\u0100ct\u0690\u0694ek;\u42C7;\u405Eirc;\u4124r;\u610ClbertSpace;\u610B\u01F0\u06AF\0\u06B2f;\u610DizontalLine;\u6500\u0100ct\u06C3\u06C5\xF2\u06A9rok;\u4126mp\u0144\u06D0\u06D8ownHum\xF0\u012Fqual;\u624F\u0700EJOacdfgmnostu\u06FA\u06FE\u0703\u0707\u070E\u071A\u071E\u0721\u0728\u0744\u0778\u078B\u078F\u0795cy;\u4415lig;\u4132cy;\u4401cute\u803B\xCD\u40CD\u0100iy\u0713\u0718rc\u803B\xCE\u40CE;\u4418ot;\u4130r;\u6111rave\u803B\xCC\u40CC\u0180;ap\u0720\u072F\u073F\u0100cg\u0734\u0737r;\u412AinaryI;\u6148lie\xF3\u03DD\u01F4\u0749\0\u0762\u0100;e\u074D\u074E\u622C\u0100gr\u0753\u0758ral;\u622Bsection;\u62C2isible\u0100CT\u076C\u0772omma;\u6063imes;\u6062\u0180gpt\u077F\u0783\u0788on;\u412Ef;\uC000\u{1D540}a;\u4399cr;\u6110ilde;\u4128\u01EB\u079A\0\u079Ecy;\u4406l\u803B\xCF\u40CF\u0280cfosu\u07AC\u07B7\u07BC\u07C2\u07D0\u0100iy\u07B1\u07B5rc;\u4134;\u4419r;\uC000\u{1D50D}pf;\uC000\u{1D541}\u01E3\u07C7\0\u07CCr;\uC000\u{1D4A5}rcy;\u4408kcy;\u4404\u0380HJacfos\u07E4\u07E8\u07EC\u07F1\u07FD\u0802\u0808cy;\u4425cy;\u440Cppa;\u439A\u0100ey\u07F6\u07FBdil;\u4136;\u441Ar;\uC000\u{1D50E}pf;\uC000\u{1D542}cr;\uC000\u{1D4A6}\u0580JTaceflmost\u0825\u0829\u082C\u0850\u0863\u09B3\u09B8\u09C7\u09CD\u0A37\u0A47cy;\u4409\u803B<\u403C\u0280cmnpr\u0837\u083C\u0841\u0844\u084Dute;\u4139bda;\u439Bg;\u67EAlacetrf;\u6112r;\u619E\u0180aey\u0857\u085C\u0861ron;\u413Ddil;\u413B;\u441B\u0100fs\u0868\u0970t\u0500ACDFRTUVar\u087E\u08A9\u08B1\u08E0\u08E6\u08FC\u092F\u095B\u0390\u096A\u0100nr\u0883\u088FgleBracket;\u67E8row\u0180;BR\u0899\u089A\u089E\u6190ar;\u61E4ightArrow;\u61C6eiling;\u6308o\u01F5\u08B7\0\u08C3bleBracket;\u67E6n\u01D4\u08C8\0\u08D2eeVector;\u6961ector\u0100;B\u08DB\u08DC\u61C3ar;\u6959loor;\u630Aight\u0100AV\u08EF\u08F5rrow;\u6194ector;\u694E\u0100er\u0901\u0917e\u0180;AV\u0909\u090A\u0910\u62A3rrow;\u61A4ector;\u695Aiangle\u0180;BE\u0924\u0925\u0929\u62B2ar;\u69CFqual;\u62B4p\u0180DTV\u0937\u0942\u094CownVector;\u6951eeVector;\u6960ector\u0100;B\u0956\u0957\u61BFar;\u6958ector\u0100;B\u0965\u0966\u61BCar;\u6952ight\xE1\u039Cs\u0300EFGLST\u097E\u098B\u0995\u099D\u09A2\u09ADqualGreater;\u62DAullEqual;\u6266reater;\u6276ess;\u6AA1lantEqual;\u6A7Dilde;\u6272r;\uC000\u{1D50F}\u0100;e\u09BD\u09BE\u62D8ftarrow;\u61DAidot;\u413F\u0180npw\u09D4\u0A16\u0A1Bg\u0200LRlr\u09DE\u09F7\u0A02\u0A10eft\u0100AR\u09E6\u09ECrrow;\u67F5ightArrow;\u67F7ightArrow;\u67F6eft\u0100ar\u03B3\u0A0Aight\xE1\u03BFight\xE1\u03CAf;\uC000\u{1D543}er\u0100LR\u0A22\u0A2CeftArrow;\u6199ightArrow;\u6198\u0180cht\u0A3E\u0A40\u0A42\xF2\u084C;\u61B0rok;\u4141;\u626A\u0400acefiosu\u0A5A\u0A5D\u0A60\u0A77\u0A7C\u0A85\u0A8B\u0A8Ep;\u6905y;\u441C\u0100dl\u0A65\u0A6FiumSpace;\u605Flintrf;\u6133r;\uC000\u{1D510}nusPlus;\u6213pf;\uC000\u{1D544}c\xF2\u0A76;\u439C\u0480Jacefostu\u0AA3\u0AA7\u0AAD\u0AC0\u0B14\u0B19\u0D91\u0D97\u0D9Ecy;\u440Acute;\u4143\u0180aey\u0AB4\u0AB9\u0ABEron;\u4147dil;\u4145;\u441D\u0180gsw\u0AC7\u0AF0\u0B0Eative\u0180MTV\u0AD3\u0ADF\u0AE8ediumSpace;\u600Bhi\u0100cn\u0AE6\u0AD8\xEB\u0AD9eryThi\xEE\u0AD9ted\u0100GL\u0AF8\u0B06reaterGreate\xF2\u0673essLes\xF3\u0A48Line;\u400Ar;\uC000\u{1D511}\u0200Bnpt\u0B22\u0B28\u0B37\u0B3Areak;\u6060BreakingSpace;\u40A0f;\u6115\u0680;CDEGHLNPRSTV\u0B55\u0B56\u0B6A\u0B7C\u0BA1\u0BEB\u0C04\u0C5E\u0C84\u0CA6\u0CD8\u0D61\u0D85\u6AEC\u0100ou\u0B5B\u0B64ngruent;\u6262pCap;\u626DoubleVerticalBar;\u6226\u0180lqx\u0B83\u0B8A\u0B9Bement;\u6209ual\u0100;T\u0B92\u0B93\u6260ilde;\uC000\u2242\u0338ists;\u6204reater\u0380;EFGLST\u0BB6\u0BB7\u0BBD\u0BC9\u0BD3\u0BD8\u0BE5\u626Fqual;\u6271ullEqual;\uC000\u2267\u0338reater;\uC000\u226B\u0338ess;\u6279lantEqual;\uC000\u2A7E\u0338ilde;\u6275ump\u0144\u0BF2\u0BFDownHump;\uC000\u224E\u0338qual;\uC000\u224F\u0338e\u0100fs\u0C0A\u0C27tTriangle\u0180;BE\u0C1A\u0C1B\u0C21\u62EAar;\uC000\u29CF\u0338qual;\u62ECs\u0300;EGLST\u0C35\u0C36\u0C3C\u0C44\u0C4B\u0C58\u626Equal;\u6270reater;\u6278ess;\uC000\u226A\u0338lantEqual;\uC000\u2A7D\u0338ilde;\u6274ested\u0100GL\u0C68\u0C79reaterGreater;\uC000\u2AA2\u0338essLess;\uC000\u2AA1\u0338recedes\u0180;ES\u0C92\u0C93\u0C9B\u6280qual;\uC000\u2AAF\u0338lantEqual;\u62E0\u0100ei\u0CAB\u0CB9verseElement;\u620CghtTriangle\u0180;BE\u0CCB\u0CCC\u0CD2\u62EBar;\uC000\u29D0\u0338qual;\u62ED\u0100qu\u0CDD\u0D0CuareSu\u0100bp\u0CE8\u0CF9set\u0100;E\u0CF0\u0CF3\uC000\u228F\u0338qual;\u62E2erset\u0100;E\u0D03\u0D06\uC000\u2290\u0338qual;\u62E3\u0180bcp\u0D13\u0D24\u0D4Eset\u0100;E\u0D1B\u0D1E\uC000\u2282\u20D2qual;\u6288ceeds\u0200;EST\u0D32\u0D33\u0D3B\u0D46\u6281qual;\uC000\u2AB0\u0338lantEqual;\u62E1ilde;\uC000\u227F\u0338erset\u0100;E\u0D58\u0D5B\uC000\u2283\u20D2qual;\u6289ilde\u0200;EFT\u0D6E\u0D6F\u0D75\u0D7F\u6241qual;\u6244ullEqual;\u6247ilde;\u6249erticalBar;\u6224cr;\uC000\u{1D4A9}ilde\u803B\xD1\u40D1;\u439D\u0700Eacdfgmoprstuv\u0DBD\u0DC2\u0DC9\u0DD5\u0DDB\u0DE0\u0DE7\u0DFC\u0E02\u0E20\u0E22\u0E32\u0E3F\u0E44lig;\u4152cute\u803B\xD3\u40D3\u0100iy\u0DCE\u0DD3rc\u803B\xD4\u40D4;\u441Eblac;\u4150r;\uC000\u{1D512}rave\u803B\xD2\u40D2\u0180aei\u0DEE\u0DF2\u0DF6cr;\u414Cga;\u43A9cron;\u439Fpf;\uC000\u{1D546}enCurly\u0100DQ\u0E0E\u0E1AoubleQuote;\u601Cuote;\u6018;\u6A54\u0100cl\u0E27\u0E2Cr;\uC000\u{1D4AA}ash\u803B\xD8\u40D8i\u016C\u0E37\u0E3Cde\u803B\xD5\u40D5es;\u6A37ml\u803B\xD6\u40D6er\u0100BP\u0E4B\u0E60\u0100ar\u0E50\u0E53r;\u603Eac\u0100ek\u0E5A\u0E5C;\u63DEet;\u63B4arenthesis;\u63DC\u0480acfhilors\u0E7F\u0E87\u0E8A\u0E8F\u0E92\u0E94\u0E9D\u0EB0\u0EFCrtialD;\u6202y;\u441Fr;\uC000\u{1D513}i;\u43A6;\u43A0usMinus;\u40B1\u0100ip\u0EA2\u0EADncareplan\xE5\u069Df;\u6119\u0200;eio\u0EB9\u0EBA\u0EE0\u0EE4\u6ABBcedes\u0200;EST\u0EC8\u0EC9\u0ECF\u0EDA\u627Aqual;\u6AAFlantEqual;\u627Cilde;\u627Eme;\u6033\u0100dp\u0EE9\u0EEEuct;\u620Fortion\u0100;a\u0225\u0EF9l;\u621D\u0100ci\u0F01\u0F06r;\uC000\u{1D4AB};\u43A8\u0200Ufos\u0F11\u0F16\u0F1B\u0F1FOT\u803B"\u4022r;\uC000\u{1D514}pf;\u611Acr;\uC000\u{1D4AC}\u0600BEacefhiorsu\u0F3E\u0F43\u0F47\u0F60\u0F73\u0FA7\u0FAA\u0FAD\u1096\u10A9\u10B4\u10BEarr;\u6910G\u803B\xAE\u40AE\u0180cnr\u0F4E\u0F53\u0F56ute;\u4154g;\u67EBr\u0100;t\u0F5C\u0F5D\u61A0l;\u6916\u0180aey\u0F67\u0F6C\u0F71ron;\u4158dil;\u4156;\u4420\u0100;v\u0F78\u0F79\u611Cerse\u0100EU\u0F82\u0F99\u0100lq\u0F87\u0F8Eement;\u620Builibrium;\u61CBpEquilibrium;\u696Fr\xBB\u0F79o;\u43A1ght\u0400ACDFTUVa\u0FC1\u0FEB\u0FF3\u1022\u1028\u105B\u1087\u03D8\u0100nr\u0FC6\u0FD2gleBracket;\u67E9row\u0180;BL\u0FDC\u0FDD\u0FE1\u6192ar;\u61E5eftArrow;\u61C4eiling;\u6309o\u01F5\u0FF9\0\u1005bleBracket;\u67E7n\u01D4\u100A\0\u1014eeVector;\u695Dector\u0100;B\u101D\u101E\u61C2ar;\u6955loor;\u630B\u0100er\u102D\u1043e\u0180;AV\u1035\u1036\u103C\u62A2rrow;\u61A6ector;\u695Biangle\u0180;BE\u1050\u1051\u1055\u62B3ar;\u69D0qual;\u62B5p\u0180DTV\u1063\u106E\u1078ownVector;\u694FeeVector;\u695Cector\u0100;B\u1082\u1083\u61BEar;\u6954ector\u0100;B\u1091\u1092\u61C0ar;\u6953\u0100pu\u109B\u109Ef;\u611DndImplies;\u6970ightarrow;\u61DB\u0100ch\u10B9\u10BCr;\u611B;\u61B1leDelayed;\u69F4\u0680HOacfhimoqstu\u10E4\u10F1\u10F7\u10FD\u1119\u111E\u1151\u1156\u1161\u1167\u11B5\u11BB\u11BF\u0100Cc\u10E9\u10EEHcy;\u4429y;\u4428FTcy;\u442Ccute;\u415A\u0280;aeiy\u1108\u1109\u110E\u1113\u1117\u6ABCron;\u4160dil;\u415Erc;\u415C;\u4421r;\uC000\u{1D516}ort\u0200DLRU\u112A\u1134\u113E\u1149ownArrow\xBB\u041EeftArrow\xBB\u089AightArrow\xBB\u0FDDpArrow;\u6191gma;\u43A3allCircle;\u6218pf;\uC000\u{1D54A}\u0272\u116D\0\0\u1170t;\u621Aare\u0200;ISU\u117B\u117C\u1189\u11AF\u65A1ntersection;\u6293u\u0100bp\u118F\u119Eset\u0100;E\u1197\u1198\u628Fqual;\u6291erset\u0100;E\u11A8\u11A9\u6290qual;\u6292nion;\u6294cr;\uC000\u{1D4AE}ar;\u62C6\u0200bcmp\u11C8\u11DB\u1209\u120B\u0100;s\u11CD\u11CE\u62D0et\u0100;E\u11CD\u11D5qual;\u6286\u0100ch\u11E0\u1205eeds\u0200;EST\u11ED\u11EE\u11F4\u11FF\u627Bqual;\u6AB0lantEqual;\u627Dilde;\u627FTh\xE1\u0F8C;\u6211\u0180;es\u1212\u1213\u1223\u62D1rset\u0100;E\u121C\u121D\u6283qual;\u6287et\xBB\u1213\u0580HRSacfhiors\u123E\u1244\u1249\u1255\u125E\u1271\u1276\u129F\u12C2\u12C8\u12D1ORN\u803B\xDE\u40DEADE;\u6122\u0100Hc\u124E\u1252cy;\u440By;\u4426\u0100bu\u125A\u125C;\u4009;\u43A4\u0180aey\u1265\u126A\u126Fron;\u4164dil;\u4162;\u4422r;\uC000\u{1D517}\u0100ei\u127B\u1289\u01F2\u1280\0\u1287efore;\u6234a;\u4398\u0100cn\u128E\u1298kSpace;\uC000\u205F\u200ASpace;\u6009lde\u0200;EFT\u12AB\u12AC\u12B2\u12BC\u623Cqual;\u6243ullEqual;\u6245ilde;\u6248pf;\uC000\u{1D54B}ipleDot;\u60DB\u0100ct\u12D6\u12DBr;\uC000\u{1D4AF}rok;\u4166\u0AE1\u12F7\u130E\u131A\u1326\0\u132C\u1331\0\0\0\0\0\u1338\u133D\u1377\u1385\0\u13FF\u1404\u140A\u1410\u0100cr\u12FB\u1301ute\u803B\xDA\u40DAr\u0100;o\u1307\u1308\u619Fcir;\u6949r\u01E3\u1313\0\u1316y;\u440Eve;\u416C\u0100iy\u131E\u1323rc\u803B\xDB\u40DB;\u4423blac;\u4170r;\uC000\u{1D518}rave\u803B\xD9\u40D9acr;\u416A\u0100di\u1341\u1369er\u0100BP\u1348\u135D\u0100ar\u134D\u1350r;\u405Fac\u0100ek\u1357\u1359;\u63DFet;\u63B5arenthesis;\u63DDon\u0100;P\u1370\u1371\u62C3lus;\u628E\u0100gp\u137B\u137Fon;\u4172f;\uC000\u{1D54C}\u0400ADETadps\u1395\u13AE\u13B8\u13C4\u03E8\u13D2\u13D7\u13F3rrow\u0180;BD\u1150\u13A0\u13A4ar;\u6912ownArrow;\u61C5ownArrow;\u6195quilibrium;\u696Eee\u0100;A\u13CB\u13CC\u62A5rrow;\u61A5own\xE1\u03F3er\u0100LR\u13DE\u13E8eftArrow;\u6196ightArrow;\u6197i\u0100;l\u13F9\u13FA\u43D2on;\u43A5ing;\u416Ecr;\uC000\u{1D4B0}ilde;\u4168ml\u803B\xDC\u40DC\u0480Dbcdefosv\u1427\u142C\u1430\u1433\u143E\u1485\u148A\u1490\u1496ash;\u62ABar;\u6AEBy;\u4412ash\u0100;l\u143B\u143C\u62A9;\u6AE6\u0100er\u1443\u1445;\u62C1\u0180bty\u144C\u1450\u147Aar;\u6016\u0100;i\u144F\u1455cal\u0200BLST\u1461\u1465\u146A\u1474ar;\u6223ine;\u407Ceparator;\u6758ilde;\u6240ThinSpace;\u600Ar;\uC000\u{1D519}pf;\uC000\u{1D54D}cr;\uC000\u{1D4B1}dash;\u62AA\u0280cefos\u14A7\u14AC\u14B1\u14B6\u14BCirc;\u4174dge;\u62C0r;\uC000\u{1D51A}pf;\uC000\u{1D54E}cr;\uC000\u{1D4B2}\u0200fios\u14CB\u14D0\u14D2\u14D8r;\uC000\u{1D51B};\u439Epf;\uC000\u{1D54F}cr;\uC000\u{1D4B3}\u0480AIUacfosu\u14F1\u14F5\u14F9\u14FD\u1504\u150F\u1514\u151A\u1520cy;\u442Fcy;\u4407cy;\u442Ecute\u803B\xDD\u40DD\u0100iy\u1509\u150Drc;\u4176;\u442Br;\uC000\u{1D51C}pf;\uC000\u{1D550}cr;\uC000\u{1D4B4}ml;\u4178\u0400Hacdefos\u1535\u1539\u153F\u154B\u154F\u155D\u1560\u1564cy;\u4416cute;\u4179\u0100ay\u1544\u1549ron;\u417D;\u4417ot;\u417B\u01F2\u1554\0\u155BoWidt\xE8\u0AD9a;\u4396r;\u6128pf;\u6124cr;\uC000\u{1D4B5}\u0BE1\u1583\u158A\u1590\0\u15B0\u15B6\u15BF\0\0\0\0\u15C6\u15DB\u15EB\u165F\u166D\0\u1695\u169B\u16B2\u16B9\0\u16BEcute\u803B\xE1\u40E1reve;\u4103\u0300;Ediuy\u159C\u159D\u15A1\u15A3\u15A8\u15AD\u623E;\uC000\u223E\u0333;\u623Frc\u803B\xE2\u40E2te\u80BB\xB4\u0306;\u4430lig\u803B\xE6\u40E6\u0100;r\xB2\u15BA;\uC000\u{1D51E}rave\u803B\xE0\u40E0\u0100ep\u15CA\u15D6\u0100fp\u15CF\u15D4sym;\u6135\xE8\u15D3ha;\u43B1\u0100ap\u15DFc\u0100cl\u15E4\u15E7r;\u4101g;\u6A3F\u0264\u15F0\0\0\u160A\u0280;adsv\u15FA\u15FB\u15FF\u1601\u1607\u6227nd;\u6A55;\u6A5Clope;\u6A58;\u6A5A\u0380;elmrsz\u1618\u1619\u161B\u161E\u163F\u164F\u1659\u6220;\u69A4e\xBB\u1619sd\u0100;a\u1625\u1626\u6221\u0461\u1630\u1632\u1634\u1636\u1638\u163A\u163C\u163E;\u69A8;\u69A9;\u69AA;\u69AB;\u69AC;\u69AD;\u69AE;\u69AFt\u0100;v\u1645\u1646\u621Fb\u0100;d\u164C\u164D\u62BE;\u699D\u0100pt\u1654\u1657h;\u6222\xBB\xB9arr;\u637C\u0100gp\u1663\u1667on;\u4105f;\uC000\u{1D552}\u0380;Eaeiop\u12C1\u167B\u167D\u1682\u1684\u1687\u168A;\u6A70cir;\u6A6F;\u624Ad;\u624Bs;\u4027rox\u0100;e\u12C1\u1692\xF1\u1683ing\u803B\xE5\u40E5\u0180cty\u16A1\u16A6\u16A8r;\uC000\u{1D4B6};\u402Amp\u0100;e\u12C1\u16AF\xF1\u0288ilde\u803B\xE3\u40E3ml\u803B\xE4\u40E4\u0100ci\u16C2\u16C8onin\xF4\u0272nt;\u6A11\u0800Nabcdefiklnoprsu\u16ED\u16F1\u1730\u173C\u1743\u1748\u1778\u177D\u17E0\u17E6\u1839\u1850\u170D\u193D\u1948\u1970ot;\u6AED\u0100cr\u16F6\u171Ek\u0200ceps\u1700\u1705\u170D\u1713ong;\u624Cpsilon;\u43F6rime;\u6035im\u0100;e\u171A\u171B\u623Dq;\u62CD\u0176\u1722\u1726ee;\u62BDed\u0100;g\u172C\u172D\u6305e\xBB\u172Drk\u0100;t\u135C\u1737brk;\u63B6\u0100oy\u1701\u1741;\u4431quo;\u601E\u0280cmprt\u1753\u175B\u1761\u1764\u1768aus\u0100;e\u010A\u0109ptyv;\u69B0s\xE9\u170Cno\xF5\u0113\u0180ahw\u176F\u1771\u1773;\u43B2;\u6136een;\u626Cr;\uC000\u{1D51F}g\u0380costuvw\u178D\u179D\u17B3\u17C1\u17D5\u17DB\u17DE\u0180aiu\u1794\u1796\u179A\xF0\u0760rc;\u65EFp\xBB\u1371\u0180dpt\u17A4\u17A8\u17ADot;\u6A00lus;\u6A01imes;\u6A02\u0271\u17B9\0\0\u17BEcup;\u6A06ar;\u6605riangle\u0100du\u17CD\u17D2own;\u65BDp;\u65B3plus;\u6A04e\xE5\u1444\xE5\u14ADarow;\u690D\u0180ako\u17ED\u1826\u1835\u0100cn\u17F2\u1823k\u0180lst\u17FA\u05AB\u1802ozenge;\u69EBriangle\u0200;dlr\u1812\u1813\u1818\u181D\u65B4own;\u65BEeft;\u65C2ight;\u65B8k;\u6423\u01B1\u182B\0\u1833\u01B2\u182F\0\u1831;\u6592;\u65914;\u6593ck;\u6588\u0100eo\u183E\u184D\u0100;q\u1843\u1846\uC000=\u20E5uiv;\uC000\u2261\u20E5t;\u6310\u0200ptwx\u1859\u185E\u1867\u186Cf;\uC000\u{1D553}\u0100;t\u13CB\u1863om\xBB\u13CCtie;\u62C8\u0600DHUVbdhmptuv\u1885\u1896\u18AA\u18BB\u18D7\u18DB\u18EC\u18FF\u1905\u190A\u1910\u1921\u0200LRlr\u188E\u1890\u1892\u1894;\u6557;\u6554;\u6556;\u6553\u0280;DUdu\u18A1\u18A2\u18A4\u18A6\u18A8\u6550;\u6566;\u6569;\u6564;\u6567\u0200LRlr\u18B3\u18B5\u18B7\u18B9;\u655D;\u655A;\u655C;\u6559\u0380;HLRhlr\u18CA\u18CB\u18CD\u18CF\u18D1\u18D3\u18D5\u6551;\u656C;\u6563;\u6560;\u656B;\u6562;\u655Fox;\u69C9\u0200LRlr\u18E4\u18E6\u18E8\u18EA;\u6555;\u6552;\u6510;\u650C\u0280;DUdu\u06BD\u18F7\u18F9\u18FB\u18FD;\u6565;\u6568;\u652C;\u6534inus;\u629Flus;\u629Eimes;\u62A0\u0200LRlr\u1919\u191B\u191D\u191F;\u655B;\u6558;\u6518;\u6514\u0380;HLRhlr\u1930\u1931\u1933\u1935\u1937\u1939\u193B\u6502;\u656A;\u6561;\u655E;\u653C;\u6524;\u651C\u0100ev\u0123\u1942bar\u803B\xA6\u40A6\u0200ceio\u1951\u1956\u195A\u1960r;\uC000\u{1D4B7}mi;\u604Fm\u0100;e\u171A\u171Cl\u0180;bh\u1968\u1969\u196B\u405C;\u69C5sub;\u67C8\u016C\u1974\u197El\u0100;e\u1979\u197A\u6022t\xBB\u197Ap\u0180;Ee\u012F\u1985\u1987;\u6AAE\u0100;q\u06DC\u06DB\u0CE1\u19A7\0\u19E8\u1A11\u1A15\u1A32\0\u1A37\u1A50\0\0\u1AB4\0\0\u1AC1\0\0\u1B21\u1B2E\u1B4D\u1B52\0\u1BFD\0\u1C0C\u0180cpr\u19AD\u19B2\u19DDute;\u4107\u0300;abcds\u19BF\u19C0\u19C4\u19CA\u19D5\u19D9\u6229nd;\u6A44rcup;\u6A49\u0100au\u19CF\u19D2p;\u6A4Bp;\u6A47ot;\u6A40;\uC000\u2229\uFE00\u0100eo\u19E2\u19E5t;\u6041\xEE\u0693\u0200aeiu\u19F0\u19FB\u1A01\u1A05\u01F0\u19F5\0\u19F8s;\u6A4Don;\u410Ddil\u803B\xE7\u40E7rc;\u4109ps\u0100;s\u1A0C\u1A0D\u6A4Cm;\u6A50ot;\u410B\u0180dmn\u1A1B\u1A20\u1A26il\u80BB\xB8\u01ADptyv;\u69B2t\u8100\xA2;e\u1A2D\u1A2E\u40A2r\xE4\u01B2r;\uC000\u{1D520}\u0180cei\u1A3D\u1A40\u1A4Dy;\u4447ck\u0100;m\u1A47\u1A48\u6713ark\xBB\u1A48;\u43C7r\u0380;Ecefms\u1A5F\u1A60\u1A62\u1A6B\u1AA4\u1AAA\u1AAE\u65CB;\u69C3\u0180;el\u1A69\u1A6A\u1A6D\u42C6q;\u6257e\u0261\u1A74\0\0\u1A88rrow\u0100lr\u1A7C\u1A81eft;\u61BAight;\u61BB\u0280RSacd\u1A92\u1A94\u1A96\u1A9A\u1A9F\xBB\u0F47;\u64C8st;\u629Birc;\u629Aash;\u629Dnint;\u6A10id;\u6AEFcir;\u69C2ubs\u0100;u\u1ABB\u1ABC\u6663it\xBB\u1ABC\u02EC\u1AC7\u1AD4\u1AFA\0\u1B0Aon\u0100;e\u1ACD\u1ACE\u403A\u0100;q\xC7\xC6\u026D\u1AD9\0\0\u1AE2a\u0100;t\u1ADE\u1ADF\u402C;\u4040\u0180;fl\u1AE8\u1AE9\u1AEB\u6201\xEE\u1160e\u0100mx\u1AF1\u1AF6ent\xBB\u1AE9e\xF3\u024D\u01E7\u1AFE\0\u1B07\u0100;d\u12BB\u1B02ot;\u6A6Dn\xF4\u0246\u0180fry\u1B10\u1B14\u1B17;\uC000\u{1D554}o\xE4\u0254\u8100\xA9;s\u0155\u1B1Dr;\u6117\u0100ao\u1B25\u1B29rr;\u61B5ss;\u6717\u0100cu\u1B32\u1B37r;\uC000\u{1D4B8}\u0100bp\u1B3C\u1B44\u0100;e\u1B41\u1B42\u6ACF;\u6AD1\u0100;e\u1B49\u1B4A\u6AD0;\u6AD2dot;\u62EF\u0380delprvw\u1B60\u1B6C\u1B77\u1B82\u1BAC\u1BD4\u1BF9arr\u0100lr\u1B68\u1B6A;\u6938;\u6935\u0270\u1B72\0\0\u1B75r;\u62DEc;\u62DFarr\u0100;p\u1B7F\u1B80\u61B6;\u693D\u0300;bcdos\u1B8F\u1B90\u1B96\u1BA1\u1BA5\u1BA8\u622Arcap;\u6A48\u0100au\u1B9B\u1B9Ep;\u6A46p;\u6A4Aot;\u628Dr;\u6A45;\uC000\u222A\uFE00\u0200alrv\u1BB5\u1BBF\u1BDE\u1BE3rr\u0100;m\u1BBC\u1BBD\u61B7;\u693Cy\u0180evw\u1BC7\u1BD4\u1BD8q\u0270\u1BCE\0\0\u1BD2re\xE3\u1B73u\xE3\u1B75ee;\u62CEedge;\u62CFen\u803B\xA4\u40A4earrow\u0100lr\u1BEE\u1BF3eft\xBB\u1B80ight\xBB\u1BBDe\xE4\u1BDD\u0100ci\u1C01\u1C07onin\xF4\u01F7nt;\u6231lcty;\u632D\u0980AHabcdefhijlorstuwz\u1C38\u1C3B\u1C3F\u1C5D\u1C69\u1C75\u1C8A\u1C9E\u1CAC\u1CB7\u1CFB\u1CFF\u1D0D\u1D7B\u1D91\u1DAB\u1DBB\u1DC6\u1DCDr\xF2\u0381ar;\u6965\u0200glrs\u1C48\u1C4D\u1C52\u1C54ger;\u6020eth;\u6138\xF2\u1133h\u0100;v\u1C5A\u1C5B\u6010\xBB\u090A\u016B\u1C61\u1C67arow;\u690Fa\xE3\u0315\u0100ay\u1C6E\u1C73ron;\u410F;\u4434\u0180;ao\u0332\u1C7C\u1C84\u0100gr\u02BF\u1C81r;\u61CAtseq;\u6A77\u0180glm\u1C91\u1C94\u1C98\u803B\xB0\u40B0ta;\u43B4ptyv;\u69B1\u0100ir\u1CA3\u1CA8sht;\u697F;\uC000\u{1D521}ar\u0100lr\u1CB3\u1CB5\xBB\u08DC\xBB\u101E\u0280aegsv\u1CC2\u0378\u1CD6\u1CDC\u1CE0m\u0180;os\u0326\u1CCA\u1CD4nd\u0100;s\u0326\u1CD1uit;\u6666amma;\u43DDin;\u62F2\u0180;io\u1CE7\u1CE8\u1CF8\u40F7de\u8100\xF7;o\u1CE7\u1CF0ntimes;\u62C7n\xF8\u1CF7cy;\u4452c\u026F\u1D06\0\0\u1D0Arn;\u631Eop;\u630D\u0280lptuw\u1D18\u1D1D\u1D22\u1D49\u1D55lar;\u4024f;\uC000\u{1D555}\u0280;emps\u030B\u1D2D\u1D37\u1D3D\u1D42q\u0100;d\u0352\u1D33ot;\u6251inus;\u6238lus;\u6214quare;\u62A1blebarwedg\xE5\xFAn\u0180adh\u112E\u1D5D\u1D67ownarrow\xF3\u1C83arpoon\u0100lr\u1D72\u1D76ef\xF4\u1CB4igh\xF4\u1CB6\u0162\u1D7F\u1D85karo\xF7\u0F42\u026F\u1D8A\0\0\u1D8Ern;\u631Fop;\u630C\u0180cot\u1D98\u1DA3\u1DA6\u0100ry\u1D9D\u1DA1;\uC000\u{1D4B9};\u4455l;\u69F6rok;\u4111\u0100dr\u1DB0\u1DB4ot;\u62F1i\u0100;f\u1DBA\u1816\u65BF\u0100ah\u1DC0\u1DC3r\xF2\u0429a\xF2\u0FA6angle;\u69A6\u0100ci\u1DD2\u1DD5y;\u445Fgrarr;\u67FF\u0900Dacdefglmnopqrstux\u1E01\u1E09\u1E19\u1E38\u0578\u1E3C\u1E49\u1E61\u1E7E\u1EA5\u1EAF\u1EBD\u1EE1\u1F2A\u1F37\u1F44\u1F4E\u1F5A\u0100Do\u1E06\u1D34o\xF4\u1C89\u0100cs\u1E0E\u1E14ute\u803B\xE9\u40E9ter;\u6A6E\u0200aioy\u1E22\u1E27\u1E31\u1E36ron;\u411Br\u0100;c\u1E2D\u1E2E\u6256\u803B\xEA\u40EAlon;\u6255;\u444Dot;\u4117\u0100Dr\u1E41\u1E45ot;\u6252;\uC000\u{1D522}\u0180;rs\u1E50\u1E51\u1E57\u6A9Aave\u803B\xE8\u40E8\u0100;d\u1E5C\u1E5D\u6A96ot;\u6A98\u0200;ils\u1E6A\u1E6B\u1E72\u1E74\u6A99nters;\u63E7;\u6113\u0100;d\u1E79\u1E7A\u6A95ot;\u6A97\u0180aps\u1E85\u1E89\u1E97cr;\u4113ty\u0180;sv\u1E92\u1E93\u1E95\u6205et\xBB\u1E93p\u01001;\u1E9D\u1EA4\u0133\u1EA1\u1EA3;\u6004;\u6005\u6003\u0100gs\u1EAA\u1EAC;\u414Bp;\u6002\u0100gp\u1EB4\u1EB8on;\u4119f;\uC000\u{1D556}\u0180als\u1EC4\u1ECE\u1ED2r\u0100;s\u1ECA\u1ECB\u62D5l;\u69E3us;\u6A71i\u0180;lv\u1EDA\u1EDB\u1EDF\u43B5on\xBB\u1EDB;\u43F5\u0200csuv\u1EEA\u1EF3\u1F0B\u1F23\u0100io\u1EEF\u1E31rc\xBB\u1E2E\u0269\u1EF9\0\0\u1EFB\xED\u0548ant\u0100gl\u1F02\u1F06tr\xBB\u1E5Dess\xBB\u1E7A\u0180aei\u1F12\u1F16\u1F1Als;\u403Dst;\u625Fv\u0100;D\u0235\u1F20D;\u6A78parsl;\u69E5\u0100Da\u1F2F\u1F33ot;\u6253rr;\u6971\u0180cdi\u1F3E\u1F41\u1EF8r;\u612Fo\xF4\u0352\u0100ah\u1F49\u1F4B;\u43B7\u803B\xF0\u40F0\u0100mr\u1F53\u1F57l\u803B\xEB\u40EBo;\u60AC\u0180cip\u1F61\u1F64\u1F67l;\u4021s\xF4\u056E\u0100eo\u1F6C\u1F74ctatio\xEE\u0559nential\xE5\u0579\u09E1\u1F92\0\u1F9E\0\u1FA1\u1FA7\0\0\u1FC6\u1FCC\0\u1FD3\0\u1FE6\u1FEA\u2000\0\u2008\u205Allingdotse\xF1\u1E44y;\u4444male;\u6640\u0180ilr\u1FAD\u1FB3\u1FC1lig;\u8000\uFB03\u0269\u1FB9\0\0\u1FBDg;\u8000\uFB00ig;\u8000\uFB04;\uC000\u{1D523}lig;\u8000\uFB01lig;\uC000fj\u0180alt\u1FD9\u1FDC\u1FE1t;\u666Dig;\u8000\uFB02ns;\u65B1of;\u4192\u01F0\u1FEE\0\u1FF3f;\uC000\u{1D557}\u0100ak\u05BF\u1FF7\u0100;v\u1FFC\u1FFD\u62D4;\u6AD9artint;\u6A0D\u0100ao\u200C\u2055\u0100cs\u2011\u2052\u03B1\u201A\u2030\u2038\u2045\u2048\0\u2050\u03B2\u2022\u2025\u2027\u202A\u202C\0\u202E\u803B\xBD\u40BD;\u6153\u803B\xBC\u40BC;\u6155;\u6159;\u615B\u01B3\u2034\0\u2036;\u6154;\u6156\u02B4\u203E\u2041\0\0\u2043\u803B\xBE\u40BE;\u6157;\u615C5;\u6158\u01B6\u204C\0\u204E;\u615A;\u615D8;\u615El;\u6044wn;\u6322cr;\uC000\u{1D4BB}\u0880Eabcdefgijlnorstv\u2082\u2089\u209F\u20A5\u20B0\u20B4\u20F0\u20F5\u20FA\u20FF\u2103\u2112\u2138\u0317\u213E\u2152\u219E\u0100;l\u064D\u2087;\u6A8C\u0180cmp\u2090\u2095\u209Dute;\u41F5ma\u0100;d\u209C\u1CDA\u43B3;\u6A86reve;\u411F\u0100iy\u20AA\u20AErc;\u411D;\u4433ot;\u4121\u0200;lqs\u063E\u0642\u20BD\u20C9\u0180;qs\u063E\u064C\u20C4lan\xF4\u0665\u0200;cdl\u0665\u20D2\u20D5\u20E5c;\u6AA9ot\u0100;o\u20DC\u20DD\u6A80\u0100;l\u20E2\u20E3\u6A82;\u6A84\u0100;e\u20EA\u20ED\uC000\u22DB\uFE00s;\u6A94r;\uC000\u{1D524}\u0100;g\u0673\u061Bmel;\u6137cy;\u4453\u0200;Eaj\u065A\u210C\u210E\u2110;\u6A92;\u6AA5;\u6AA4\u0200Eaes\u211B\u211D\u2129\u2134;\u6269p\u0100;p\u2123\u2124\u6A8Arox\xBB\u2124\u0100;q\u212E\u212F\u6A88\u0100;q\u212E\u211Bim;\u62E7pf;\uC000\u{1D558}\u0100ci\u2143\u2146r;\u610Am\u0180;el\u066B\u214E\u2150;\u6A8E;\u6A90\u8300>;cdlqr\u05EE\u2160\u216A\u216E\u2173\u2179\u0100ci\u2165\u2167;\u6AA7r;\u6A7Aot;\u62D7Par;\u6995uest;\u6A7C\u0280adels\u2184\u216A\u2190\u0656\u219B\u01F0\u2189\0\u218Epro\xF8\u209Er;\u6978q\u0100lq\u063F\u2196les\xF3\u2088i\xED\u066B\u0100en\u21A3\u21ADrtneqq;\uC000\u2269\uFE00\xC5\u21AA\u0500Aabcefkosy\u21C4\u21C7\u21F1\u21F5\u21FA\u2218\u221D\u222F\u2268\u227Dr\xF2\u03A0\u0200ilmr\u21D0\u21D4\u21D7\u21DBrs\xF0\u1484f\xBB\u2024il\xF4\u06A9\u0100dr\u21E0\u21E4cy;\u444A\u0180;cw\u08F4\u21EB\u21EFir;\u6948;\u61ADar;\u610Firc;\u4125\u0180alr\u2201\u220E\u2213rts\u0100;u\u2209\u220A\u6665it\xBB\u220Alip;\u6026con;\u62B9r;\uC000\u{1D525}s\u0100ew\u2223\u2229arow;\u6925arow;\u6926\u0280amopr\u223A\u223E\u2243\u225E\u2263rr;\u61FFtht;\u623Bk\u0100lr\u2249\u2253eftarrow;\u61A9ightarrow;\u61AAf;\uC000\u{1D559}bar;\u6015\u0180clt\u226F\u2274\u2278r;\uC000\u{1D4BD}as\xE8\u21F4rok;\u4127\u0100bp\u2282\u2287ull;\u6043hen\xBB\u1C5B\u0AE1\u22A3\0\u22AA\0\u22B8\u22C5\u22CE\0\u22D5\u22F3\0\0\u22F8\u2322\u2367\u2362\u237F\0\u2386\u23AA\u23B4cute\u803B\xED\u40ED\u0180;iy\u0771\u22B0\u22B5rc\u803B\xEE\u40EE;\u4438\u0100cx\u22BC\u22BFy;\u4435cl\u803B\xA1\u40A1\u0100fr\u039F\u22C9;\uC000\u{1D526}rave\u803B\xEC\u40EC\u0200;ino\u073E\u22DD\u22E9\u22EE\u0100in\u22E2\u22E6nt;\u6A0Ct;\u622Dfin;\u69DCta;\u6129lig;\u4133\u0180aop\u22FE\u231A\u231D\u0180cgt\u2305\u2308\u2317r;\u412B\u0180elp\u071F\u230F\u2313in\xE5\u078Ear\xF4\u0720h;\u4131f;\u62B7ed;\u41B5\u0280;cfot\u04F4\u232C\u2331\u233D\u2341are;\u6105in\u0100;t\u2338\u2339\u621Eie;\u69DDdo\xF4\u2319\u0280;celp\u0757\u234C\u2350\u235B\u2361al;\u62BA\u0100gr\u2355\u2359er\xF3\u1563\xE3\u234Darhk;\u6A17rod;\u6A3C\u0200cgpt\u236F\u2372\u2376\u237By;\u4451on;\u412Ff;\uC000\u{1D55A}a;\u43B9uest\u803B\xBF\u40BF\u0100ci\u238A\u238Fr;\uC000\u{1D4BE}n\u0280;Edsv\u04F4\u239B\u239D\u23A1\u04F3;\u62F9ot;\u62F5\u0100;v\u23A6\u23A7\u62F4;\u62F3\u0100;i\u0777\u23AElde;\u4129\u01EB\u23B8\0\u23BCcy;\u4456l\u803B\xEF\u40EF\u0300cfmosu\u23CC\u23D7\u23DC\u23E1\u23E7\u23F5\u0100iy\u23D1\u23D5rc;\u4135;\u4439r;\uC000\u{1D527}ath;\u4237pf;\uC000\u{1D55B}\u01E3\u23EC\0\u23F1r;\uC000\u{1D4BF}rcy;\u4458kcy;\u4454\u0400acfghjos\u240B\u2416\u2422\u2427\u242D\u2431\u2435\u243Bppa\u0100;v\u2413\u2414\u43BA;\u43F0\u0100ey\u241B\u2420dil;\u4137;\u443Ar;\uC000\u{1D528}reen;\u4138cy;\u4445cy;\u445Cpf;\uC000\u{1D55C}cr;\uC000\u{1D4C0}\u0B80ABEHabcdefghjlmnoprstuv\u2470\u2481\u2486\u248D\u2491\u250E\u253D\u255A\u2580\u264E\u265E\u2665\u2679\u267D\u269A\u26B2\u26D8\u275D\u2768\u278B\u27C0\u2801\u2812\u0180art\u2477\u247A\u247Cr\xF2\u09C6\xF2\u0395ail;\u691Barr;\u690E\u0100;g\u0994\u248B;\u6A8Bar;\u6962\u0963\u24A5\0\u24AA\0\u24B1\0\0\0\0\0\u24B5\u24BA\0\u24C6\u24C8\u24CD\0\u24F9ute;\u413Amptyv;\u69B4ra\xEE\u084Cbda;\u43BBg\u0180;dl\u088E\u24C1\u24C3;\u6991\xE5\u088E;\u6A85uo\u803B\xAB\u40ABr\u0400;bfhlpst\u0899\u24DE\u24E6\u24E9\u24EB\u24EE\u24F1\u24F5\u0100;f\u089D\u24E3s;\u691Fs;\u691D\xEB\u2252p;\u61ABl;\u6939im;\u6973l;\u61A2\u0180;ae\u24FF\u2500\u2504\u6AABil;\u6919\u0100;s\u2509\u250A\u6AAD;\uC000\u2AAD\uFE00\u0180abr\u2515\u2519\u251Drr;\u690Crk;\u6772\u0100ak\u2522\u252Cc\u0100ek\u2528\u252A;\u407B;\u405B\u0100es\u2531\u2533;\u698Bl\u0100du\u2539\u253B;\u698F;\u698D\u0200aeuy\u2546\u254B\u2556\u2558ron;\u413E\u0100di\u2550\u2554il;\u413C\xEC\u08B0\xE2\u2529;\u443B\u0200cqrs\u2563\u2566\u256D\u257Da;\u6936uo\u0100;r\u0E19\u1746\u0100du\u2572\u2577har;\u6967shar;\u694Bh;\u61B2\u0280;fgqs\u258B\u258C\u0989\u25F3\u25FF\u6264t\u0280ahlrt\u2598\u25A4\u25B7\u25C2\u25E8rrow\u0100;t\u0899\u25A1a\xE9\u24F6arpoon\u0100du\u25AF\u25B4own\xBB\u045Ap\xBB\u0966eftarrows;\u61C7ight\u0180ahs\u25CD\u25D6\u25DErrow\u0100;s\u08F4\u08A7arpoon\xF3\u0F98quigarro\xF7\u21F0hreetimes;\u62CB\u0180;qs\u258B\u0993\u25FAlan\xF4\u09AC\u0280;cdgs\u09AC\u260A\u260D\u261D\u2628c;\u6AA8ot\u0100;o\u2614\u2615\u6A7F\u0100;r\u261A\u261B\u6A81;\u6A83\u0100;e\u2622\u2625\uC000\u22DA\uFE00s;\u6A93\u0280adegs\u2633\u2639\u263D\u2649\u264Bppro\xF8\u24C6ot;\u62D6q\u0100gq\u2643\u2645\xF4\u0989gt\xF2\u248C\xF4\u099Bi\xED\u09B2\u0180ilr\u2655\u08E1\u265Asht;\u697C;\uC000\u{1D529}\u0100;E\u099C\u2663;\u6A91\u0161\u2669\u2676r\u0100du\u25B2\u266E\u0100;l\u0965\u2673;\u696Alk;\u6584cy;\u4459\u0280;acht\u0A48\u2688\u268B\u2691\u2696r\xF2\u25C1orne\xF2\u1D08ard;\u696Bri;\u65FA\u0100io\u269F\u26A4dot;\u4140ust\u0100;a\u26AC\u26AD\u63B0che\xBB\u26AD\u0200Eaes\u26BB\u26BD\u26C9\u26D4;\u6268p\u0100;p\u26C3\u26C4\u6A89rox\xBB\u26C4\u0100;q\u26CE\u26CF\u6A87\u0100;q\u26CE\u26BBim;\u62E6\u0400abnoptwz\u26E9\u26F4\u26F7\u271A\u272F\u2741\u2747\u2750\u0100nr\u26EE\u26F1g;\u67ECr;\u61FDr\xEB\u08C1g\u0180lmr\u26FF\u270D\u2714eft\u0100ar\u09E6\u2707ight\xE1\u09F2apsto;\u67FCight\xE1\u09FDparrow\u0100lr\u2725\u2729ef\xF4\u24EDight;\u61AC\u0180afl\u2736\u2739\u273Dr;\u6985;\uC000\u{1D55D}us;\u6A2Dimes;\u6A34\u0161\u274B\u274Fst;\u6217\xE1\u134E\u0180;ef\u2757\u2758\u1800\u65CAnge\xBB\u2758ar\u0100;l\u2764\u2765\u4028t;\u6993\u0280achmt\u2773\u2776\u277C\u2785\u2787r\xF2\u08A8orne\xF2\u1D8Car\u0100;d\u0F98\u2783;\u696D;\u600Eri;\u62BF\u0300achiqt\u2798\u279D\u0A40\u27A2\u27AE\u27BBquo;\u6039r;\uC000\u{1D4C1}m\u0180;eg\u09B2\u27AA\u27AC;\u6A8D;\u6A8F\u0100bu\u252A\u27B3o\u0100;r\u0E1F\u27B9;\u601Arok;\u4142\u8400<;cdhilqr\u082B\u27D2\u2639\u27DC\u27E0\u27E5\u27EA\u27F0\u0100ci\u27D7\u27D9;\u6AA6r;\u6A79re\xE5\u25F2mes;\u62C9arr;\u6976uest;\u6A7B\u0100Pi\u27F5\u27F9ar;\u6996\u0180;ef\u2800\u092D\u181B\u65C3r\u0100du\u2807\u280Dshar;\u694Ahar;\u6966\u0100en\u2817\u2821rtneqq;\uC000\u2268\uFE00\xC5\u281E\u0700Dacdefhilnopsu\u2840\u2845\u2882\u288E\u2893\u28A0\u28A5\u28A8\u28DA\u28E2\u28E4\u0A83\u28F3\u2902Dot;\u623A\u0200clpr\u284E\u2852\u2863\u287Dr\u803B\xAF\u40AF\u0100et\u2857\u2859;\u6642\u0100;e\u285E\u285F\u6720se\xBB\u285F\u0100;s\u103B\u2868to\u0200;dlu\u103B\u2873\u2877\u287Bow\xEE\u048Cef\xF4\u090F\xF0\u13D1ker;\u65AE\u0100oy\u2887\u288Cmma;\u6A29;\u443Cash;\u6014asuredangle\xBB\u1626r;\uC000\u{1D52A}o;\u6127\u0180cdn\u28AF\u28B4\u28C9ro\u803B\xB5\u40B5\u0200;acd\u1464\u28BD\u28C0\u28C4s\xF4\u16A7ir;\u6AF0ot\u80BB\xB7\u01B5us\u0180;bd\u28D2\u1903\u28D3\u6212\u0100;u\u1D3C\u28D8;\u6A2A\u0163\u28DE\u28E1p;\u6ADB\xF2\u2212\xF0\u0A81\u0100dp\u28E9\u28EEels;\u62A7f;\uC000\u{1D55E}\u0100ct\u28F8\u28FDr;\uC000\u{1D4C2}pos\xBB\u159D\u0180;lm\u2909\u290A\u290D\u43BCtimap;\u62B8\u0C00GLRVabcdefghijlmoprstuvw\u2942\u2953\u297E\u2989\u2998\u29DA\u29E9\u2A15\u2A1A\u2A58\u2A5D\u2A83\u2A95\u2AA4\u2AA8\u2B04\u2B07\u2B44\u2B7F\u2BAE\u2C34\u2C67\u2C7C\u2CE9\u0100gt\u2947\u294B;\uC000\u22D9\u0338\u0100;v\u2950\u0BCF\uC000\u226B\u20D2\u0180elt\u295A\u2972\u2976ft\u0100ar\u2961\u2967rrow;\u61CDightarrow;\u61CE;\uC000\u22D8\u0338\u0100;v\u297B\u0C47\uC000\u226A\u20D2ightarrow;\u61CF\u0100Dd\u298E\u2993ash;\u62AFash;\u62AE\u0280bcnpt\u29A3\u29A7\u29AC\u29B1\u29CCla\xBB\u02DEute;\u4144g;\uC000\u2220\u20D2\u0280;Eiop\u0D84\u29BC\u29C0\u29C5\u29C8;\uC000\u2A70\u0338d;\uC000\u224B\u0338s;\u4149ro\xF8\u0D84ur\u0100;a\u29D3\u29D4\u666El\u0100;s\u29D3\u0B38\u01F3\u29DF\0\u29E3p\u80BB\xA0\u0B37mp\u0100;e\u0BF9\u0C00\u0280aeouy\u29F4\u29FE\u2A03\u2A10\u2A13\u01F0\u29F9\0\u29FB;\u6A43on;\u4148dil;\u4146ng\u0100;d\u0D7E\u2A0Aot;\uC000\u2A6D\u0338p;\u6A42;\u443Dash;\u6013\u0380;Aadqsx\u0B92\u2A29\u2A2D\u2A3B\u2A41\u2A45\u2A50rr;\u61D7r\u0100hr\u2A33\u2A36k;\u6924\u0100;o\u13F2\u13F0ot;\uC000\u2250\u0338ui\xF6\u0B63\u0100ei\u2A4A\u2A4Ear;\u6928\xED\u0B98ist\u0100;s\u0BA0\u0B9Fr;\uC000\u{1D52B}\u0200Eest\u0BC5\u2A66\u2A79\u2A7C\u0180;qs\u0BBC\u2A6D\u0BE1\u0180;qs\u0BBC\u0BC5\u2A74lan\xF4\u0BE2i\xED\u0BEA\u0100;r\u0BB6\u2A81\xBB\u0BB7\u0180Aap\u2A8A\u2A8D\u2A91r\xF2\u2971rr;\u61AEar;\u6AF2\u0180;sv\u0F8D\u2A9C\u0F8C\u0100;d\u2AA1\u2AA2\u62FC;\u62FAcy;\u445A\u0380AEadest\u2AB7\u2ABA\u2ABE\u2AC2\u2AC5\u2AF6\u2AF9r\xF2\u2966;\uC000\u2266\u0338rr;\u619Ar;\u6025\u0200;fqs\u0C3B\u2ACE\u2AE3\u2AEFt\u0100ar\u2AD4\u2AD9rro\xF7\u2AC1ightarro\xF7\u2A90\u0180;qs\u0C3B\u2ABA\u2AEAlan\xF4\u0C55\u0100;s\u0C55\u2AF4\xBB\u0C36i\xED\u0C5D\u0100;r\u0C35\u2AFEi\u0100;e\u0C1A\u0C25i\xE4\u0D90\u0100pt\u2B0C\u2B11f;\uC000\u{1D55F}\u8180\xAC;in\u2B19\u2B1A\u2B36\u40ACn\u0200;Edv\u0B89\u2B24\u2B28\u2B2E;\uC000\u22F9\u0338ot;\uC000\u22F5\u0338\u01E1\u0B89\u2B33\u2B35;\u62F7;\u62F6i\u0100;v\u0CB8\u2B3C\u01E1\u0CB8\u2B41\u2B43;\u62FE;\u62FD\u0180aor\u2B4B\u2B63\u2B69r\u0200;ast\u0B7B\u2B55\u2B5A\u2B5Flle\xEC\u0B7Bl;\uC000\u2AFD\u20E5;\uC000\u2202\u0338lint;\u6A14\u0180;ce\u0C92\u2B70\u2B73u\xE5\u0CA5\u0100;c\u0C98\u2B78\u0100;e\u0C92\u2B7D\xF1\u0C98\u0200Aait\u2B88\u2B8B\u2B9D\u2BA7r\xF2\u2988rr\u0180;cw\u2B94\u2B95\u2B99\u619B;\uC000\u2933\u0338;\uC000\u219D\u0338ghtarrow\xBB\u2B95ri\u0100;e\u0CCB\u0CD6\u0380chimpqu\u2BBD\u2BCD\u2BD9\u2B04\u0B78\u2BE4\u2BEF\u0200;cer\u0D32\u2BC6\u0D37\u2BC9u\xE5\u0D45;\uC000\u{1D4C3}ort\u026D\u2B05\0\0\u2BD6ar\xE1\u2B56m\u0100;e\u0D6E\u2BDF\u0100;q\u0D74\u0D73su\u0100bp\u2BEB\u2BED\xE5\u0CF8\xE5\u0D0B\u0180bcp\u2BF6\u2C11\u2C19\u0200;Ees\u2BFF\u2C00\u0D22\u2C04\u6284;\uC000\u2AC5\u0338et\u0100;e\u0D1B\u2C0Bq\u0100;q\u0D23\u2C00c\u0100;e\u0D32\u2C17\xF1\u0D38\u0200;Ees\u2C22\u2C23\u0D5F\u2C27\u6285;\uC000\u2AC6\u0338et\u0100;e\u0D58\u2C2Eq\u0100;q\u0D60\u2C23\u0200gilr\u2C3D\u2C3F\u2C45\u2C47\xEC\u0BD7lde\u803B\xF1\u40F1\xE7\u0C43iangle\u0100lr\u2C52\u2C5Ceft\u0100;e\u0C1A\u2C5A\xF1\u0C26ight\u0100;e\u0CCB\u2C65\xF1\u0CD7\u0100;m\u2C6C\u2C6D\u43BD\u0180;es\u2C74\u2C75\u2C79\u4023ro;\u6116p;\u6007\u0480DHadgilrs\u2C8F\u2C94\u2C99\u2C9E\u2CA3\u2CB0\u2CB6\u2CD3\u2CE3ash;\u62ADarr;\u6904p;\uC000\u224D\u20D2ash;\u62AC\u0100et\u2CA8\u2CAC;\uC000\u2265\u20D2;\uC000>\u20D2nfin;\u69DE\u0180Aet\u2CBD\u2CC1\u2CC5rr;\u6902;\uC000\u2264\u20D2\u0100;r\u2CCA\u2CCD\uC000<\u20D2ie;\uC000\u22B4\u20D2\u0100At\u2CD8\u2CDCrr;\u6903rie;\uC000\u22B5\u20D2im;\uC000\u223C\u20D2\u0180Aan\u2CF0\u2CF4\u2D02rr;\u61D6r\u0100hr\u2CFA\u2CFDk;\u6923\u0100;o\u13E7\u13E5ear;\u6927\u1253\u1A95\0\0\0\0\0\0\0\0\0\0\0\0\0\u2D2D\0\u2D38\u2D48\u2D60\u2D65\u2D72\u2D84\u1B07\0\0\u2D8D\u2DAB\0\u2DC8\u2DCE\0\u2DDC\u2E19\u2E2B\u2E3E\u2E43\u0100cs\u2D31\u1A97ute\u803B\xF3\u40F3\u0100iy\u2D3C\u2D45r\u0100;c\u1A9E\u2D42\u803B\xF4\u40F4;\u443E\u0280abios\u1AA0\u2D52\u2D57\u01C8\u2D5Alac;\u4151v;\u6A38old;\u69BClig;\u4153\u0100cr\u2D69\u2D6Dir;\u69BF;\uC000\u{1D52C}\u036F\u2D79\0\0\u2D7C\0\u2D82n;\u42DBave\u803B\xF2\u40F2;\u69C1\u0100bm\u2D88\u0DF4ar;\u69B5\u0200acit\u2D95\u2D98\u2DA5\u2DA8r\xF2\u1A80\u0100ir\u2D9D\u2DA0r;\u69BEoss;\u69BBn\xE5\u0E52;\u69C0\u0180aei\u2DB1\u2DB5\u2DB9cr;\u414Dga;\u43C9\u0180cdn\u2DC0\u2DC5\u01CDron;\u43BF;\u69B6pf;\uC000\u{1D560}\u0180ael\u2DD4\u2DD7\u01D2r;\u69B7rp;\u69B9\u0380;adiosv\u2DEA\u2DEB\u2DEE\u2E08\u2E0D\u2E10\u2E16\u6228r\xF2\u1A86\u0200;efm\u2DF7\u2DF8\u2E02\u2E05\u6A5Dr\u0100;o\u2DFE\u2DFF\u6134f\xBB\u2DFF\u803B\xAA\u40AA\u803B\xBA\u40BAgof;\u62B6r;\u6A56lope;\u6A57;\u6A5B\u0180clo\u2E1F\u2E21\u2E27\xF2\u2E01ash\u803B\xF8\u40F8l;\u6298i\u016C\u2E2F\u2E34de\u803B\xF5\u40F5es\u0100;a\u01DB\u2E3As;\u6A36ml\u803B\xF6\u40F6bar;\u633D\u0AE1\u2E5E\0\u2E7D\0\u2E80\u2E9D\0\u2EA2\u2EB9\0\0\u2ECB\u0E9C\0\u2F13\0\0\u2F2B\u2FBC\0\u2FC8r\u0200;ast\u0403\u2E67\u2E72\u0E85\u8100\xB6;l\u2E6D\u2E6E\u40B6le\xEC\u0403\u0269\u2E78\0\0\u2E7Bm;\u6AF3;\u6AFDy;\u443Fr\u0280cimpt\u2E8B\u2E8F\u2E93\u1865\u2E97nt;\u4025od;\u402Eil;\u6030enk;\u6031r;\uC000\u{1D52D}\u0180imo\u2EA8\u2EB0\u2EB4\u0100;v\u2EAD\u2EAE\u43C6;\u43D5ma\xF4\u0A76ne;\u660E\u0180;tv\u2EBF\u2EC0\u2EC8\u43C0chfork\xBB\u1FFD;\u43D6\u0100au\u2ECF\u2EDFn\u0100ck\u2ED5\u2EDDk\u0100;h\u21F4\u2EDB;\u610E\xF6\u21F4s\u0480;abcdemst\u2EF3\u2EF4\u1908\u2EF9\u2EFD\u2F04\u2F06\u2F0A\u2F0E\u402Bcir;\u6A23ir;\u6A22\u0100ou\u1D40\u2F02;\u6A25;\u6A72n\u80BB\xB1\u0E9Dim;\u6A26wo;\u6A27\u0180ipu\u2F19\u2F20\u2F25ntint;\u6A15f;\uC000\u{1D561}nd\u803B\xA3\u40A3\u0500;Eaceinosu\u0EC8\u2F3F\u2F41\u2F44\u2F47\u2F81\u2F89\u2F92\u2F7E\u2FB6;\u6AB3p;\u6AB7u\xE5\u0ED9\u0100;c\u0ECE\u2F4C\u0300;acens\u0EC8\u2F59\u2F5F\u2F66\u2F68\u2F7Eppro\xF8\u2F43urlye\xF1\u0ED9\xF1\u0ECE\u0180aes\u2F6F\u2F76\u2F7Approx;\u6AB9qq;\u6AB5im;\u62E8i\xED\u0EDFme\u0100;s\u2F88\u0EAE\u6032\u0180Eas\u2F78\u2F90\u2F7A\xF0\u2F75\u0180dfp\u0EEC\u2F99\u2FAF\u0180als\u2FA0\u2FA5\u2FAAlar;\u632Eine;\u6312urf;\u6313\u0100;t\u0EFB\u2FB4\xEF\u0EFBrel;\u62B0\u0100ci\u2FC0\u2FC5r;\uC000\u{1D4C5};\u43C8ncsp;\u6008\u0300fiopsu\u2FDA\u22E2\u2FDF\u2FE5\u2FEB\u2FF1r;\uC000\u{1D52E}pf;\uC000\u{1D562}rime;\u6057cr;\uC000\u{1D4C6}\u0180aeo\u2FF8\u3009\u3013t\u0100ei\u2FFE\u3005rnion\xF3\u06B0nt;\u6A16st\u0100;e\u3010\u3011\u403F\xF1\u1F19\xF4\u0F14\u0A80ABHabcdefhilmnoprstux\u3040\u3051\u3055\u3059\u30E0\u310E\u312B\u3147\u3162\u3172\u318E\u3206\u3215\u3224\u3229\u3258\u326E\u3272\u3290\u32B0\u32B7\u0180art\u3047\u304A\u304Cr\xF2\u10B3\xF2\u03DDail;\u691Car\xF2\u1C65ar;\u6964\u0380cdenqrt\u3068\u3075\u3078\u307F\u308F\u3094\u30CC\u0100eu\u306D\u3071;\uC000\u223D\u0331te;\u4155i\xE3\u116Emptyv;\u69B3g\u0200;del\u0FD1\u3089\u308B\u308D;\u6992;\u69A5\xE5\u0FD1uo\u803B\xBB\u40BBr\u0580;abcfhlpstw\u0FDC\u30AC\u30AF\u30B7\u30B9\u30BC\u30BE\u30C0\u30C3\u30C7\u30CAp;\u6975\u0100;f\u0FE0\u30B4s;\u6920;\u6933s;\u691E\xEB\u225D\xF0\u272El;\u6945im;\u6974l;\u61A3;\u619D\u0100ai\u30D1\u30D5il;\u691Ao\u0100;n\u30DB\u30DC\u6236al\xF3\u0F1E\u0180abr\u30E7\u30EA\u30EEr\xF2\u17E5rk;\u6773\u0100ak\u30F3\u30FDc\u0100ek\u30F9\u30FB;\u407D;\u405D\u0100es\u3102\u3104;\u698Cl\u0100du\u310A\u310C;\u698E;\u6990\u0200aeuy\u3117\u311C\u3127\u3129ron;\u4159\u0100di\u3121\u3125il;\u4157\xEC\u0FF2\xE2\u30FA;\u4440\u0200clqs\u3134\u3137\u313D\u3144a;\u6937dhar;\u6969uo\u0100;r\u020E\u020Dh;\u61B3\u0180acg\u314E\u315F\u0F44l\u0200;ips\u0F78\u3158\u315B\u109Cn\xE5\u10BBar\xF4\u0FA9t;\u65AD\u0180ilr\u3169\u1023\u316Esht;\u697D;\uC000\u{1D52F}\u0100ao\u3177\u3186r\u0100du\u317D\u317F\xBB\u047B\u0100;l\u1091\u3184;\u696C\u0100;v\u318B\u318C\u43C1;\u43F1\u0180gns\u3195\u31F9\u31FCht\u0300ahlrst\u31A4\u31B0\u31C2\u31D8\u31E4\u31EErrow\u0100;t\u0FDC\u31ADa\xE9\u30C8arpoon\u0100du\u31BB\u31BFow\xEE\u317Ep\xBB\u1092eft\u0100ah\u31CA\u31D0rrow\xF3\u0FEAarpoon\xF3\u0551ightarrows;\u61C9quigarro\xF7\u30CBhreetimes;\u62CCg;\u42DAingdotse\xF1\u1F32\u0180ahm\u320D\u3210\u3213r\xF2\u0FEAa\xF2\u0551;\u600Foust\u0100;a\u321E\u321F\u63B1che\xBB\u321Fmid;\u6AEE\u0200abpt\u3232\u323D\u3240\u3252\u0100nr\u3237\u323Ag;\u67EDr;\u61FEr\xEB\u1003\u0180afl\u3247\u324A\u324Er;\u6986;\uC000\u{1D563}us;\u6A2Eimes;\u6A35\u0100ap\u325D\u3267r\u0100;g\u3263\u3264\u4029t;\u6994olint;\u6A12ar\xF2\u31E3\u0200achq\u327B\u3280\u10BC\u3285quo;\u603Ar;\uC000\u{1D4C7}\u0100bu\u30FB\u328Ao\u0100;r\u0214\u0213\u0180hir\u3297\u329B\u32A0re\xE5\u31F8mes;\u62CAi\u0200;efl\u32AA\u1059\u1821\u32AB\u65B9tri;\u69CEluhar;\u6968;\u611E\u0D61\u32D5\u32DB\u32DF\u332C\u3338\u3371\0\u337A\u33A4\0\0\u33EC\u33F0\0\u3428\u3448\u345A\u34AD\u34B1\u34CA\u34F1\0\u3616\0\0\u3633cute;\u415Bqu\xEF\u27BA\u0500;Eaceinpsy\u11ED\u32F3\u32F5\u32FF\u3302\u330B\u330F\u331F\u3326\u3329;\u6AB4\u01F0\u32FA\0\u32FC;\u6AB8on;\u4161u\xE5\u11FE\u0100;d\u11F3\u3307il;\u415Frc;\u415D\u0180Eas\u3316\u3318\u331B;\u6AB6p;\u6ABAim;\u62E9olint;\u6A13i\xED\u1204;\u4441ot\u0180;be\u3334\u1D47\u3335\u62C5;\u6A66\u0380Aacmstx\u3346\u334A\u3357\u335B\u335E\u3363\u336Drr;\u61D8r\u0100hr\u3350\u3352\xEB\u2228\u0100;o\u0A36\u0A34t\u803B\xA7\u40A7i;\u403Bwar;\u6929m\u0100in\u3369\xF0nu\xF3\xF1t;\u6736r\u0100;o\u3376\u2055\uC000\u{1D530}\u0200acoy\u3382\u3386\u3391\u33A0rp;\u666F\u0100hy\u338B\u338Fcy;\u4449;\u4448rt\u026D\u3399\0\0\u339Ci\xE4\u1464ara\xEC\u2E6F\u803B\xAD\u40AD\u0100gm\u33A8\u33B4ma\u0180;fv\u33B1\u33B2\u33B2\u43C3;\u43C2\u0400;deglnpr\u12AB\u33C5\u33C9\u33CE\u33D6\u33DE\u33E1\u33E6ot;\u6A6A\u0100;q\u12B1\u12B0\u0100;E\u33D3\u33D4\u6A9E;\u6AA0\u0100;E\u33DB\u33DC\u6A9D;\u6A9Fe;\u6246lus;\u6A24arr;\u6972ar\xF2\u113D\u0200aeit\u33F8\u3408\u340F\u3417\u0100ls\u33FD\u3404lsetm\xE9\u336Ahp;\u6A33parsl;\u69E4\u0100dl\u1463\u3414e;\u6323\u0100;e\u341C\u341D\u6AAA\u0100;s\u3422\u3423\u6AAC;\uC000\u2AAC\uFE00\u0180flp\u342E\u3433\u3442tcy;\u444C\u0100;b\u3438\u3439\u402F\u0100;a\u343E\u343F\u69C4r;\u633Ff;\uC000\u{1D564}a\u0100dr\u344D\u0402es\u0100;u\u3454\u3455\u6660it\xBB\u3455\u0180csu\u3460\u3479\u349F\u0100au\u3465\u346Fp\u0100;s\u1188\u346B;\uC000\u2293\uFE00p\u0100;s\u11B4\u3475;\uC000\u2294\uFE00u\u0100bp\u347F\u348F\u0180;es\u1197\u119C\u3486et\u0100;e\u1197\u348D\xF1\u119D\u0180;es\u11A8\u11AD\u3496et\u0100;e\u11A8\u349D\xF1\u11AE\u0180;af\u117B\u34A6\u05B0r\u0165\u34AB\u05B1\xBB\u117Car\xF2\u1148\u0200cemt\u34B9\u34BE\u34C2\u34C5r;\uC000\u{1D4C8}tm\xEE\xF1i\xEC\u3415ar\xE6\u11BE\u0100ar\u34CE\u34D5r\u0100;f\u34D4\u17BF\u6606\u0100an\u34DA\u34EDight\u0100ep\u34E3\u34EApsilo\xEE\u1EE0h\xE9\u2EAFs\xBB\u2852\u0280bcmnp\u34FB\u355E\u1209\u358B\u358E\u0480;Edemnprs\u350E\u350F\u3511\u3515\u351E\u3523\u352C\u3531\u3536\u6282;\u6AC5ot;\u6ABD\u0100;d\u11DA\u351Aot;\u6AC3ult;\u6AC1\u0100Ee\u3528\u352A;\u6ACB;\u628Alus;\u6ABFarr;\u6979\u0180eiu\u353D\u3552\u3555t\u0180;en\u350E\u3545\u354Bq\u0100;q\u11DA\u350Feq\u0100;q\u352B\u3528m;\u6AC7\u0100bp\u355A\u355C;\u6AD5;\u6AD3c\u0300;acens\u11ED\u356C\u3572\u3579\u357B\u3326ppro\xF8\u32FAurlye\xF1\u11FE\xF1\u11F3\u0180aes\u3582\u3588\u331Bppro\xF8\u331Aq\xF1\u3317g;\u666A\u0680123;Edehlmnps\u35A9\u35AC\u35AF\u121C\u35B2\u35B4\u35C0\u35C9\u35D5\u35DA\u35DF\u35E8\u35ED\u803B\xB9\u40B9\u803B\xB2\u40B2\u803B\xB3\u40B3;\u6AC6\u0100os\u35B9\u35BCt;\u6ABEub;\u6AD8\u0100;d\u1222\u35C5ot;\u6AC4s\u0100ou\u35CF\u35D2l;\u67C9b;\u6AD7arr;\u697Bult;\u6AC2\u0100Ee\u35E4\u35E6;\u6ACC;\u628Blus;\u6AC0\u0180eiu\u35F4\u3609\u360Ct\u0180;en\u121C\u35FC\u3602q\u0100;q\u1222\u35B2eq\u0100;q\u35E7\u35E4m;\u6AC8\u0100bp\u3611\u3613;\u6AD4;\u6AD6\u0180Aan\u361C\u3620\u362Drr;\u61D9r\u0100hr\u3626\u3628\xEB\u222E\u0100;o\u0A2B\u0A29war;\u692Alig\u803B\xDF\u40DF\u0BE1\u3651\u365D\u3660\u12CE\u3673\u3679\0\u367E\u36C2\0\0\0\0\0\u36DB\u3703\0\u3709\u376C\0\0\0\u3787\u0272\u3656\0\0\u365Bget;\u6316;\u43C4r\xEB\u0E5F\u0180aey\u3666\u366B\u3670ron;\u4165dil;\u4163;\u4442lrec;\u6315r;\uC000\u{1D531}\u0200eiko\u3686\u369D\u36B5\u36BC\u01F2\u368B\0\u3691e\u01004f\u1284\u1281a\u0180;sv\u3698\u3699\u369B\u43B8ym;\u43D1\u0100cn\u36A2\u36B2k\u0100as\u36A8\u36AEppro\xF8\u12C1im\xBB\u12ACs\xF0\u129E\u0100as\u36BA\u36AE\xF0\u12C1rn\u803B\xFE\u40FE\u01EC\u031F\u36C6\u22E7es\u8180\xD7;bd\u36CF\u36D0\u36D8\u40D7\u0100;a\u190F\u36D5r;\u6A31;\u6A30\u0180eps\u36E1\u36E3\u3700\xE1\u2A4D\u0200;bcf\u0486\u36EC\u36F0\u36F4ot;\u6336ir;\u6AF1\u0100;o\u36F9\u36FC\uC000\u{1D565}rk;\u6ADA\xE1\u3362rime;\u6034\u0180aip\u370F\u3712\u3764d\xE5\u1248\u0380adempst\u3721\u374D\u3740\u3751\u3757\u375C\u375Fngle\u0280;dlqr\u3730\u3731\u3736\u3740\u3742\u65B5own\xBB\u1DBBeft\u0100;e\u2800\u373E\xF1\u092E;\u625Cight\u0100;e\u32AA\u374B\xF1\u105Aot;\u65ECinus;\u6A3Alus;\u6A39b;\u69CDime;\u6A3Bezium;\u63E2\u0180cht\u3772\u377D\u3781\u0100ry\u3777\u377B;\uC000\u{1D4C9};\u4446cy;\u445Brok;\u4167\u0100io\u378B\u378Ex\xF4\u1777head\u0100lr\u3797\u37A0eftarro\xF7\u084Fightarrow\xBB\u0F5D\u0900AHabcdfghlmoprstuw\u37D0\u37D3\u37D7\u37E4\u37F0\u37FC\u380E\u381C\u3823\u3834\u3851\u385D\u386B\u38A9\u38CC\u38D2\u38EA\u38F6r\xF2\u03EDar;\u6963\u0100cr\u37DC\u37E2ute\u803B\xFA\u40FA\xF2\u1150r\u01E3\u37EA\0\u37EDy;\u445Eve;\u416D\u0100iy\u37F5\u37FArc\u803B\xFB\u40FB;\u4443\u0180abh\u3803\u3806\u380Br\xF2\u13ADlac;\u4171a\xF2\u13C3\u0100ir\u3813\u3818sht;\u697E;\uC000\u{1D532}rave\u803B\xF9\u40F9\u0161\u3827\u3831r\u0100lr\u382C\u382E\xBB\u0957\xBB\u1083lk;\u6580\u0100ct\u3839\u384D\u026F\u383F\0\0\u384Arn\u0100;e\u3845\u3846\u631Cr\xBB\u3846op;\u630Fri;\u65F8\u0100al\u3856\u385Acr;\u416B\u80BB\xA8\u0349\u0100gp\u3862\u3866on;\u4173f;\uC000\u{1D566}\u0300adhlsu\u114B\u3878\u387D\u1372\u3891\u38A0own\xE1\u13B3arpoon\u0100lr\u3888\u388Cef\xF4\u382Digh\xF4\u382Fi\u0180;hl\u3899\u389A\u389C\u43C5\xBB\u13FAon\xBB\u389Aparrows;\u61C8\u0180cit\u38B0\u38C4\u38C8\u026F\u38B6\0\0\u38C1rn\u0100;e\u38BC\u38BD\u631Dr\xBB\u38BDop;\u630Eng;\u416Fri;\u65F9cr;\uC000\u{1D4CA}\u0180dir\u38D9\u38DD\u38E2ot;\u62F0lde;\u4169i\u0100;f\u3730\u38E8\xBB\u1813\u0100am\u38EF\u38F2r\xF2\u38A8l\u803B\xFC\u40FCangle;\u69A7\u0780ABDacdeflnoprsz\u391C\u391F\u3929\u392D\u39B5\u39B8\u39BD\u39DF\u39E4\u39E8\u39F3\u39F9\u39FD\u3A01\u3A20r\xF2\u03F7ar\u0100;v\u3926\u3927\u6AE8;\u6AE9as\xE8\u03E1\u0100nr\u3932\u3937grt;\u699C\u0380eknprst\u34E3\u3946\u394B\u3952\u395D\u3964\u3996app\xE1\u2415othin\xE7\u1E96\u0180hir\u34EB\u2EC8\u3959op\xF4\u2FB5\u0100;h\u13B7\u3962\xEF\u318D\u0100iu\u3969\u396Dgm\xE1\u33B3\u0100bp\u3972\u3984setneq\u0100;q\u397D\u3980\uC000\u228A\uFE00;\uC000\u2ACB\uFE00setneq\u0100;q\u398F\u3992\uC000\u228B\uFE00;\uC000\u2ACC\uFE00\u0100hr\u399B\u399Fet\xE1\u369Ciangle\u0100lr\u39AA\u39AFeft\xBB\u0925ight\xBB\u1051y;\u4432ash\xBB\u1036\u0180elr\u39C4\u39D2\u39D7\u0180;be\u2DEA\u39CB\u39CFar;\u62BBq;\u625Alip;\u62EE\u0100bt\u39DC\u1468a\xF2\u1469r;\uC000\u{1D533}tr\xE9\u39AEsu\u0100bp\u39EF\u39F1\xBB\u0D1C\xBB\u0D59pf;\uC000\u{1D567}ro\xF0\u0EFBtr\xE9\u39B4\u0100cu\u3A06\u3A0Br;\uC000\u{1D4CB}\u0100bp\u3A10\u3A18n\u0100Ee\u3980\u3A16\xBB\u397En\u0100Ee\u3992\u3A1E\xBB\u3990igzag;\u699A\u0380cefoprs\u3A36\u3A3B\u3A56\u3A5B\u3A54\u3A61\u3A6Airc;\u4175\u0100di\u3A40\u3A51\u0100bg\u3A45\u3A49ar;\u6A5Fe\u0100;q\u15FA\u3A4F;\u6259erp;\u6118r;\uC000\u{1D534}pf;\uC000\u{1D568}\u0100;e\u1479\u3A66at\xE8\u1479cr;\uC000\u{1D4CC}\u0AE3\u178E\u3A87\0\u3A8B\0\u3A90\u3A9B\0\0\u3A9D\u3AA8\u3AAB\u3AAF\0\0\u3AC3\u3ACE\0\u3AD8\u17DC\u17DFtr\xE9\u17D1r;\uC000\u{1D535}\u0100Aa\u3A94\u3A97r\xF2\u03C3r\xF2\u09F6;\u43BE\u0100Aa\u3AA1\u3AA4r\xF2\u03B8r\xF2\u09EBa\xF0\u2713is;\u62FB\u0180dpt\u17A4\u3AB5\u3ABE\u0100fl\u3ABA\u17A9;\uC000\u{1D569}im\xE5\u17B2\u0100Aa\u3AC7\u3ACAr\xF2\u03CEr\xF2\u0A01\u0100cq\u3AD2\u17B8r;\uC000\u{1D4CD}\u0100pt\u17D6\u3ADCr\xE9\u17D4\u0400acefiosu\u3AF0\u3AFD\u3B08\u3B0C\u3B11\u3B15\u3B1B\u3B21c\u0100uy\u3AF6\u3AFBte\u803B\xFD\u40FD;\u444F\u0100iy\u3B02\u3B06rc;\u4177;\u444Bn\u803B\xA5\u40A5r;\uC000\u{1D536}cy;\u4457pf;\uC000\u{1D56A}cr;\uC000\u{1D4CE}\u0100cm\u3B26\u3B29y;\u444El\u803B\xFF\u40FF\u0500acdefhiosw\u3B42\u3B48\u3B54\u3B58\u3B64\u3B69\u3B6D\u3B74\u3B7A\u3B80cute;\u417A\u0100ay\u3B4D\u3B52ron;\u417E;\u4437ot;\u417C\u0100et\u3B5D\u3B61tr\xE6\u155Fa;\u43B6r;\uC000\u{1D537}cy;\u4436grarr;\u61DDpf;\uC000\u{1D56B}cr;\uC000\u{1D4CF}\u0100jn\u3B85\u3B87;\u600Dj;\u600C'.split("").map(e=>e.charCodeAt(0)));var Gx=new Uint16Array("\u0200aglq	\x1B\u026D\0\0p;\u4026os;\u4027t;\u403Et;\u403Cuot;\u4022".split("").map(e=>e.charCodeAt(0)));var l6,cGe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Ap=(l6=String.fromCodePoint)!==null&&l6!==void 0?l6:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function mg(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=cGe.get(e))!==null&&t!==void 0?t:e}var hn;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(hn||(hn={}));var uGe=32,Ci;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Ci||(Ci={}));function d6(e){return e>=hn.ZERO&&e<=hn.NINE}function lGe(e){return e>=hn.UPPER_A&&e<=hn.UPPER_F||e>=hn.LOWER_A&&e<=hn.LOWER_F}function dGe(e){return e>=hn.UPPER_A&&e<=hn.UPPER_Z||e>=hn.LOWER_A&&e<=hn.LOWER_Z||d6(e)}function fGe(e){return e===hn.EQUALS||dGe(e)}var pn;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(pn||(pn={}));var $o;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})($o||($o={}));var Vx=class{constructor(t,r,n){this.decodeTree=t,this.emitCodePoint=r,this.errors=n,this.state=pn.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=$o.Strict}startEntity(t){this.decodeMode=t,this.state=pn.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,r){switch(this.state){case pn.EntityStart:return t.charCodeAt(r)===hn.NUM?(this.state=pn.NumericStart,this.consumed+=1,this.stateNumericStart(t,r+1)):(this.state=pn.NamedEntity,this.stateNamedEntity(t,r));case pn.NumericStart:return this.stateNumericStart(t,r);case pn.NumericDecimal:return this.stateNumericDecimal(t,r);case pn.NumericHex:return this.stateNumericHex(t,r);case pn.NamedEntity:return this.stateNamedEntity(t,r)}}stateNumericStart(t,r){return r>=t.length?-1:(t.charCodeAt(r)|uGe)===hn.LOWER_X?(this.state=pn.NumericHex,this.consumed+=1,this.stateNumericHex(t,r+1)):(this.state=pn.NumericDecimal,this.stateNumericDecimal(t,r))}addToNumericResult(t,r,n,s){if(r!==n){let a=n-r;this.result=this.result*Math.pow(s,a)+parseInt(t.substr(r,a),s),this.consumed+=a}}stateNumericHex(t,r){let n=r;for(;r<t.length;){let s=t.charCodeAt(r);if(d6(s)||lGe(s))r+=1;else return this.addToNumericResult(t,n,r,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(t,n,r,16),-1}stateNumericDecimal(t,r){let n=r;for(;r<t.length;){let s=t.charCodeAt(r);if(d6(s))r+=1;else return this.addToNumericResult(t,n,r,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(t,n,r,10),-1}emitNumericEntity(t,r){var n;if(this.consumed<=r)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===hn.SEMI)this.consumed+=1;else if(this.decodeMode===$o.Strict)return 0;return this.emitCodePoint(mg(this.result),this.consumed),this.errors&&(t!==hn.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,r){let{decodeTree:n}=this,s=n[this.treeIndex],a=(s&Ci.VALUE_LENGTH)>>14;for(;r<t.length;r++,this.excess++){let o=t.charCodeAt(r);if(this.treeIndex=f6(n,s,this.treeIndex+Math.max(1,a),o),this.treeIndex<0)return this.result===0||this.decodeMode===$o.Attribute&&(a===0||fGe(o))?0:this.emitNotTerminatedNamedEntity();if(s=n[this.treeIndex],a=(s&Ci.VALUE_LENGTH)>>14,a!==0){if(o===hn.SEMI)return this.emitNamedEntityData(this.treeIndex,a,this.consumed+this.excess);this.decodeMode!==$o.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;let{result:r,decodeTree:n}=this,s=(n[r]&Ci.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,s,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,r,n){let{decodeTree:s}=this;return this.emitCodePoint(r===1?s[t]&~Ci.VALUE_LENGTH:s[t+1],n),r===3&&this.emitCodePoint(s[t+2],n),n}end(){var t;switch(this.state){case pn.NamedEntity:return this.result!==0&&(this.decodeMode!==$o.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case pn.NumericDecimal:return this.emitNumericEntity(0,2);case pn.NumericHex:return this.emitNumericEntity(0,3);case pn.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case pn.EntityStart:return 0}}};function Dne(e){let t="",r=new Vx(e,n=>t+=Ap(n));return function(s,a){let o=0,c=0;for(;(c=s.indexOf("&",c))>=0;){t+=s.slice(o,c),r.startEntity(a);let l=r.write(s,c+1);if(l<0){o=c+r.end();break}o=c+l,c=l===0?o+1:o}let u=t+s.slice(o);return t="",u}}function f6(e,t,r,n){let s=(t&Ci.BRANCH_LENGTH)>>7,a=t&Ci.JUMP_TABLE;if(s===0)return a!==0&&n===a?r:-1;if(a){let u=n-a;return u<0||u>=s?-1:e[r+u]-1}let o=r,c=o+s-1;for(;o<=c;){let u=o+c>>>1,l=e[u];if(l<n)o=u+1;else if(l>n)c=u-1;else return e[u+s]}return-1}var w1t=Dne(zx),S1t=Dne(Gx);function Kx(e){for(let t=1;t<e.length;t++)e[t][0]+=e[t-1][0]+1;return e}var pGe=new Map(Kx([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(Kx([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(Kx([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(Kx([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]));var p6=/["&'<>$\x80-\uFFFF]/g,Pne=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),One=String.prototype.codePointAt!=null?(e,t)=>e.codePointAt(t):(e,t)=>(e.charCodeAt(t)&64512)===55296?(e.charCodeAt(t)-55296)*1024+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t);function gg(e){let t="",r=0,n;for(;(n=p6.exec(e))!==null;){let s=n.index,a=e.charCodeAt(s),o=Pne.get(a);o!==void 0?(t+=e.substring(r,s)+o,r=s+1):(t+=`${e.substring(r,s)}&#x${One(e,s).toString(16)};`,r=p6.lastIndex+=+((a&64512)===55296))}return t+e.substr(r)}function h6(e,t){return function(n){let s,a=0,o="";for(;s=e.exec(n);)a!==s.index&&(o+=n.substring(a,s.index)),o+=t.get(s[0].charCodeAt(0)),a=s.index+1;return o+n.substring(a)}}var $ne=h6(/[&<>'"]/g,Pne),Yx=h6(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),Wx=h6(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]));var Lne;(function(e){e[e.XML=0]="XML",e[e.HTML=1]="HTML"})(Lne||(Lne={}));var Mne;(function(e){e[e.UTF8=0]="UTF8",e[e.ASCII=1]="ASCII",e[e.Extensive=2]="Extensive",e[e.Attribute=3]="Attribute",e[e.Text=4]="Text"})(Mne||(Mne={}));var Une=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),qne=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e]));var mGe=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function gGe(e){return e.replace(/"/g,"&quot;")}function AGe(e,t){var r;if(!e)return;let n=((r=t.encodeEntities)!==null&&r!==void 0?r:t.decodeEntities)===!1?gGe:t.xmlMode||t.encodeEntities!=="utf8"?gg:Yx;return Object.keys(e).map(s=>{var a,o;let c=(a=e[s])!==null&&a!==void 0?a:"";return t.xmlMode==="foreign"&&(s=(o=qne.get(s))!==null&&o!==void 0?o:s),!t.emptyAttrs&&!t.xmlMode&&c===""?s:`${s}="${n(c)}"`}).join(" ")}var jne=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function A6(e,t={}){let r="length"in e?e:[e],n="";for(let s=0;s<r.length;s++)n+=yGe(r[s],t);return n}var Jx=A6;function yGe(e,t){switch(e.type){case vne:return A6(e.children,t);case Rne:case Ine:return vGe(e);case Cne:return CGe(e);case Bne:return IGe(e);case wne:case Sne:case Tne:return xGe(e,t);case _ne:return _Ge(e,t)}}var bGe=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),EGe=new Set(["svg","math"]);function xGe(e,t){var r;t.xmlMode==="foreign"&&(e.name=(r=Une.get(e.name))!==null&&r!==void 0?r:e.name,e.parent&&bGe.has(e.parent.name)&&(t={...t,xmlMode:!1})),!t.xmlMode&&EGe.has(e.name)&&(t={...t,xmlMode:"foreign"});let n=`<${e.name}`,s=AGe(e.attribs,t);return s&&(n+=` ${s}`),e.children.length===0&&(t.xmlMode?t.selfClosingTags!==!1:t.selfClosingTags&&jne.has(e.name))?(t.xmlMode||(n+=" "),n+="/>"):(n+=">",e.children.length>0&&(n+=A6(e.children,t)),(t.xmlMode||!jne.has(e.name))&&(n+=`</${e.name}>`)),n}function vGe(e){return`<${e.data}>`}function _Ge(e,t){var r;let n=e.data||"";return((r=t.encodeEntities)!==null&&r!==void 0?r:t.decodeEntities)!==!1&&!(!t.xmlMode&&e.parent&&mGe.has(e.parent.name))&&(n=t.xmlMode||t.encodeEntities!=="utf8"?gg(n):Wx(n)),n}function IGe(e){return`<![CDATA[${e.children[0].data}]]>`}function CGe(e){return`<!--${e.data}-->`}function Hne(e,t){return Jx(e,t)}function wGe(e,t){return tr(e)?e.children.map(r=>Hne(r,t)).join(""):""}function Xx(e){return Array.isArray(e)?e.map(Xx).join(""):Le(e)?e.name==="br"?`
`:Xx(e.children):mp(e)?Xx(e.children):Ms(e)?e.data:""}function Lo(e){return Array.isArray(e)?e.map(Lo).join(""):tr(e)&&!ql(e)?Lo(e.children):Ms(e)?e.data:""}function Ag(e){return Array.isArray(e)?e.map(Ag).join(""):tr(e)&&(e.type===Dt.Tag||mp(e))?Ag(e.children):Ms(e)?e.data:""}function yp(e){return tr(e)?e.children:[]}function zne(e){return e.parent||null}function y6(e){let t=zne(e);if(t!=null)return yp(t);let r=[e],{prev:n,next:s}=e;for(;n!=null;)r.unshift(n),{prev:n}=n;for(;s!=null;)r.push(s),{next:s}=s;return r}function SGe(e,t){var r;return(r=e.attribs)===null||r===void 0?void 0:r[t]}function TGe(e,t){return e.attribs!=null&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&e.attribs[t]!=null}function BGe(e){return e.name}function Zx(e){let{next:t}=e;for(;t!==null&&!Le(t);)({next:t}=t);return t}function ev(e){let{prev:t}=e;for(;t!==null&&!Le(t);)({prev:t}=t);return t}function Mo(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){let t=e.parent.children,r=t.lastIndexOf(e);r>=0&&t.splice(r,1)}e.next=null,e.prev=null,e.parent=null}function RGe(e,t){let r=t.prev=e.prev;r&&(r.next=t);let n=t.next=e.next;n&&(n.prev=t);let s=t.parent=e.parent;if(s){let a=s.children;a[a.lastIndexOf(e)]=t,e.parent=null}}function NGe(e,t){if(Mo(t),t.next=null,t.parent=e,e.children.push(t)>1){let r=e.children[e.children.length-2];r.next=t,t.prev=r}else t.prev=null}function kGe(e,t){Mo(t);let{parent:r}=e,n=e.next;if(t.next=n,t.prev=e,e.next=t,t.parent=r,n){if(n.prev=t,r){let s=r.children;s.splice(s.lastIndexOf(n),0,t)}}else r&&r.children.push(t)}function DGe(e,t){if(Mo(t),t.parent=e,t.prev=null,e.children.unshift(t)!==1){let r=e.children[1];r.prev=t,t.next=r}else t.next=null}function PGe(e,t){Mo(t);let{parent:r}=e;if(r){let n=r.children;n.splice(n.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=r,t.prev=e.prev,t.next=e,e.prev=t}function bp(e,t,r=!0,n=1/0){return tv(e,Array.isArray(t)?t:[t],r,n)}function tv(e,t,r,n){let s=[],a=[Array.isArray(t)?t:[t]],o=[0];for(;;){if(o[0]>=a[0].length){if(o.length===1)return s;a.shift(),o.shift();continue}let c=a[0][o[0]++];if(e(c)&&(s.push(c),--n<=0))return s;r&&tr(c)&&c.children.length>0&&(o.unshift(0),a.unshift(c.children))}}function OGe(e,t){return t.find(e)}function rv(e,t,r=!0){let n=Array.isArray(t)?t:[t];for(let s=0;s<n.length;s++){let a=n[s];if(Le(a)&&e(a))return a;if(r&&tr(a)&&a.children.length>0){let o=rv(e,a.children,!0);if(o)return o}}return null}function Gne(e,t){return(Array.isArray(t)?t:[t]).some(r=>Le(r)&&e(r)||tr(r)&&Gne(e,r.children))}function $Ge(e,t){let r=[],n=[Array.isArray(t)?t:[t]],s=[0];for(;;){if(s[0]>=n[0].length){if(n.length===1)return r;n.shift(),s.shift();continue}let a=n[0][s[0]++];Le(a)&&e(a)&&r.push(a),tr(a)&&a.children.length>0&&(s.unshift(0),n.unshift(a.children))}}var nv={tag_name(e){return typeof e=="function"?t=>Le(t)&&e(t.name):e==="*"?Le:t=>Le(t)&&t.name===e},tag_type(e){return typeof e=="function"?t=>e(t.type):t=>t.type===e},tag_contains(e){return typeof e=="function"?t=>Ms(t)&&e(t.data):t=>Ms(t)&&t.data===e}};function b6(e,t){return typeof t=="function"?r=>Le(r)&&t(r.attribs[e]):r=>Le(r)&&r.attribs[e]===t}function LGe(e,t){return r=>e(r)||t(r)}function Vne(e){let t=Object.keys(e).map(r=>{let n=e[r];return Object.prototype.hasOwnProperty.call(nv,r)?nv[r](n):b6(r,n)});return t.length===0?null:t.reduce(LGe)}function MGe(e,t){let r=Vne(e);return r?r(t):!0}function FGe(e,t,r,n=1/0){let s=Vne(e);return s?bp(s,t,r,n):[]}function QGe(e,t,r=!0){return Array.isArray(t)||(t=[t]),rv(b6("id",e),t,r)}function jl(e,t,r=!0,n=1/0){return bp(nv.tag_name(e),t,r,n)}function UGe(e,t,r=!0,n=1/0){return bp(b6("class",e),t,r,n)}function qGe(e,t,r=!0,n=1/0){return bp(nv.tag_type(e),t,r,n)}function jGe(e){let t=e.length;for(;--t>=0;){let r=e[t];if(t>0&&e.lastIndexOf(r,t-1)>=0){e.splice(t,1);continue}for(let n=r.parent;n;n=n.parent)if(e.includes(n)){e.splice(t,1);break}}return e}var wi;(function(e){e[e.DISCONNECTED=1]="DISCONNECTED",e[e.PRECEDING=2]="PRECEDING",e[e.FOLLOWING=4]="FOLLOWING",e[e.CONTAINS=8]="CONTAINS",e[e.CONTAINED_BY=16]="CONTAINED_BY"})(wi||(wi={}));function Kne(e,t){let r=[],n=[];if(e===t)return 0;let s=tr(e)?e:e.parent;for(;s;)r.unshift(s),s=s.parent;for(s=tr(t)?t:t.parent;s;)n.unshift(s),s=s.parent;let a=Math.min(r.length,n.length),o=0;for(;o<a&&r[o]===n[o];)o++;if(o===0)return wi.DISCONNECTED;let c=r[o-1],u=c.children,l=r[o],d=n[o];return u.indexOf(l)>u.indexOf(d)?c===t?wi.FOLLOWING|wi.CONTAINED_BY:wi.FOLLOWING:c===e?wi.PRECEDING|wi.CONTAINS:wi.PRECEDING}function eu(e){return e=e.filter((t,r,n)=>!n.includes(t,r+1)),e.sort((t,r)=>{let n=Kne(t,r);return n&wi.PRECEDING?-1:n&wi.FOLLOWING?1:0}),e}function E6(e){let t=sv(KGe,e);return t?t.name==="feed"?HGe(t):zGe(t):null}function HGe(e){var t;let r=e.children,n={type:"atom",items:jl("entry",r).map(o=>{var c;let{children:u}=o,l={media:Yne(u)};Fs(l,"id","id",u),Fs(l,"title","title",u);let d=(c=sv("link",u))===null||c===void 0?void 0:c.attribs.href;d&&(l.link=d);let f=tu("summary",u)||tu("content",u);f&&(l.description=f);let p=tu("updated",u);return p&&(l.pubDate=new Date(p)),l})};Fs(n,"id","id",r),Fs(n,"title","title",r);let s=(t=sv("link",r))===null||t===void 0?void 0:t.attribs.href;s&&(n.link=s),Fs(n,"description","subtitle",r);let a=tu("updated",r);return a&&(n.updated=new Date(a)),Fs(n,"author","email",r,!0),n}function zGe(e){var t,r;let n=(r=(t=sv("channel",e.children))===null||t===void 0?void 0:t.children)!==null&&r!==void 0?r:[],s={type:e.name.substr(0,3),id:"",items:jl("item",e.children).map(o=>{let{children:c}=o,u={media:Yne(c)};Fs(u,"id","guid",c),Fs(u,"title","title",c),Fs(u,"link","link",c),Fs(u,"description","description",c);let l=tu("pubDate",c)||tu("dc:date",c);return l&&(u.pubDate=new Date(l)),u})};Fs(s,"title","title",n),Fs(s,"link","link",n),Fs(s,"description","description",n);let a=tu("lastBuildDate",n);return a&&(s.updated=new Date(a)),Fs(s,"author","managingEditor",n,!0),s}var GGe=["url","type","lang"],VGe=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function Yne(e){return jl("media:content",e).map(t=>{let{attribs:r}=t,n={medium:r.medium,isDefault:!!r.isDefault};for(let s of GGe)r[s]&&(n[s]=r[s]);for(let s of VGe)r[s]&&(n[s]=parseInt(r[s],10));return r.expression&&(n.expression=r.expression),n})}function sv(e,t){return jl(e,t,!0,1)[0]}function tu(e,t,r=!1){return Lo(jl(e,t,r,1)).trim()}function Fs(e,t,r,n,s=!1){let a=tu(r,n,s);a&&(e[t]=a)}function KGe(e){return e==="rss"||e==="feed"||e==="rdf:RDF"}function Jne(e,t,r){return e?e(t??e._root.children,null,void 0,r).toString():""}function YGe(e,t){return!t&&typeof e=="object"&&e!=null&&!("length"in e)&&!("type"in e)}function Xne(e,t){let r=YGe(e)?(t=e,void 0):e,n={...ug,...this===null||this===void 0?void 0:this._options,...lg(t??{})};return Jne(this,r,n)}function Zne(e){let t={...this._options,xmlMode:!0};return Jne(this,e,t)}function nu(e){let t=e||(this?this.root():[]),r="";for(let n=0;n<t.length;n++)r+=Lo(t[n]);return r}function WGe(e,t,r=typeof t=="boolean"?t:!1){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(r=t);let n=this.load(e,ug,!1);return r||n("script").remove(),n.root()[0].children.slice()}function JGe(){return this(this._root)}function x6(e,t){if(t===e)return!1;let r=t;for(;r&&r!==r.parent;)if(r=r.parent,r===e)return!0;return!1}function XGe(e,t){if(!Wne(e)||!Wne(t))return;let r=e.length,n=+t.length;for(let s=0;s<n;s++)e[r++]=t[s];return e.length=r,e}function Wne(e){if(Array.isArray(e))return!0;if(typeof e!="object"||!Object.prototype.hasOwnProperty.call(e,"length")||typeof e.length!="number"||e.length<0)return!1;for(let t=0;t<e.length;t++)if(!(t in e))return!1;return!0}var C6={};Pn(C6,{addClass:()=>ose,attr:()=>eVe,data:()=>rVe,hasClass:()=>iVe,prop:()=>tVe,removeAttr:()=>sVe,removeClass:()=>cse,toggleClass:()=>use,val:()=>nVe});function Js(e){return e.cheerio!=null}function ese(e){return e.replace(/[_.-](\w|$)/g,(t,r)=>r.toUpperCase())}function tse(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()}function dr(e,t){let r=e.length;for(let n=0;n<r;n++)t(e[n],n);return e}function iv(e){let t="length"in e?Array.prototype.map.call(e,n=>hg(n,!0)):[hg(e,!0)],r=new Ws(t);return t.forEach(n=>{n.parent=r}),t}var Hl;(function(e){e[e.LowerA=97]="LowerA",e[e.LowerZ=122]="LowerZ",e[e.UpperA=65]="UpperA",e[e.UpperZ=90]="UpperZ",e[e.Exclamation=33]="Exclamation"})(Hl||(Hl={}));function yg(e){let t=e.indexOf("<");if(t<0||t>e.length-3)return!1;let r=e.charCodeAt(t+1);return(r>=Hl.LowerA&&r<=Hl.LowerZ||r>=Hl.UpperA&&r<=Hl.UpperZ||r===Hl.Exclamation)&&e.includes(">",t+2)}var Ep=Object.prototype.hasOwnProperty,bg=/\s+/,v6="data-",rse={null:null,true:!0,false:!1},I6=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,ZGe=/^{[^]*}$|^\[[^]*]$/;function av(e,t,r){var n;if(!(!e||!Le(e))){if((n=e.attribs)!==null&&n!==void 0||(e.attribs={}),!t)return e.attribs;if(Ep.call(e.attribs,t))return!r&&I6.test(t)?t:e.attribs[t];if(e.name==="option"&&t==="value")return nu(e.children);if(e.name==="input"&&(e.attribs.type==="radio"||e.attribs.type==="checkbox")&&t==="value")return"on"}}function xp(e,t,r){r===null?ase(e,t):e.attribs[t]=`${r}`}function eVe(e,t){if(typeof e=="object"||t!==void 0){if(typeof t=="function"){if(typeof e!="string")throw new Error("Bad combination of arguments.");return dr(this,(r,n)=>{Le(r)&&xp(r,e,t.call(r,n,r.attribs[e]))})}return dr(this,r=>{Le(r)&&(typeof e=="object"?Object.keys(e).forEach(n=>{let s=e[n];xp(r,n,s)}):xp(r,e,t))})}return arguments.length>1?this:av(this[0],e,this.options.xmlMode)}function nse(e,t,r){return t in e?e[t]:!r&&I6.test(t)?av(e,t,!1)!==void 0:av(e,t,r)}function _6(e,t,r,n){t in e?e[t]=r:xp(e,t,!n&&I6.test(t)?r?"":null:`${r}`)}function tVe(e,t){var r;if(typeof e=="string"&&t===void 0){let n=this[0];if(!n||!Le(n))return;switch(e){case"style":{let s=this.css(),a=Object.keys(s);return a.forEach((o,c)=>{s[c]=o}),s.length=a.length,s}case"tagName":case"nodeName":return n.name.toUpperCase();case"href":case"src":{let s=(r=n.attribs)===null||r===void 0?void 0:r[e];return typeof URL<"u"&&(e==="href"&&(n.tagName==="a"||n.name==="link")||e==="src"&&(n.tagName==="img"||n.tagName==="iframe"||n.tagName==="audio"||n.tagName==="video"||n.tagName==="source"))&&s!==void 0&&this.options.baseURI?new URL(s,this.options.baseURI).href:s}case"innerText":return Ag(n);case"textContent":return Lo(n);case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return nse(n,e,this.options.xmlMode)}}if(typeof e=="object"||t!==void 0){if(typeof t=="function"){if(typeof e=="object")throw new Error("Bad combination of arguments.");return dr(this,(n,s)=>{Le(n)&&_6(n,e,t.call(n,s,nse(n,e,this.options.xmlMode)),this.options.xmlMode)})}return dr(this,n=>{Le(n)&&(typeof e=="object"?Object.keys(e).forEach(s=>{let a=e[s];_6(n,s,a,this.options.xmlMode)}):_6(n,e,t,this.options.xmlMode))})}}function sse(e,t,r){var n;let s=e;(n=s.data)!==null&&n!==void 0||(s.data={}),typeof t=="object"?Object.assign(s.data,t):typeof t=="string"&&r!==void 0&&(s.data[t]=r)}function ise(e,t){let r,n,s;t==null?(r=Object.keys(e.attribs).filter(a=>a.startsWith(v6)),n=r.map(a=>ese(a.slice(v6.length)))):(r=[v6+tse(t)],n=[t]);for(let a=0;a<r.length;++a){let o=r[a],c=n[a];if(Ep.call(e.attribs,o)&&!Ep.call(e.data,c)){if(s=e.attribs[o],Ep.call(rse,s))s=rse[s];else if(s===String(Number(s)))s=Number(s);else if(ZGe.test(s))try{s=JSON.parse(s)}catch{}e.data[c]=s}}return t==null?e.data:s}function rVe(e,t){var r;let n=this[0];if(!n||!Le(n))return;let s=n;return(r=s.data)!==null&&r!==void 0||(s.data={}),e?typeof e=="object"||t!==void 0?(dr(this,a=>{Le(a)&&(typeof e=="object"?sse(a,e):sse(a,e,t))}),this):Ep.call(s.data,e)?s.data[e]:ise(s,e):ise(s)}function nVe(e){let t=arguments.length===0,r=this[0];if(!r||!Le(r))return t?void 0:this;switch(r.name){case"textarea":return this.text(e);case"select":{let n=this.find("option:selected");if(!t){if(this.attr("multiple")==null&&typeof e=="object")return this;this.find("option").removeAttr("selected");let s=typeof e!="object"?[e]:e;for(let a=0;a<s.length;a++)this.find(`option[value="${s[a]}"]`).attr("selected","");return this}return this.attr("multiple")?n.toArray().map(s=>nu(s.children)):n.attr("value")}case"input":case"option":return t?this.attr("value"):this.attr("value",e)}}function ase(e,t){!e.attribs||!Ep.call(e.attribs,t)||delete e.attribs[t]}function ov(e){return e?e.trim().split(bg):[]}function sVe(e){let t=ov(e);for(let r=0;r<t.length;r++)dr(this,n=>{Le(n)&&ase(n,t[r])});return this}function iVe(e){return this.toArray().some(t=>{let r=Le(t)&&t.attribs.class,n=-1;if(r&&e.length)for(;(n=r.indexOf(e,n+1))>-1;){let s=n+e.length;if((n===0||bg.test(r[n-1]))&&(s===r.length||bg.test(r[s])))return!0}return!1})}function ose(e){if(typeof e=="function")return dr(this,(n,s)=>{if(Le(n)){let a=n.attribs.class||"";ose.call([n],e.call(n,s,a))}});if(!e||typeof e!="string")return this;let t=e.split(bg),r=this.length;for(let n=0;n<r;n++){let s=this[n];if(!Le(s))continue;let a=av(s,"class",!1);if(!a)xp(s,"class",t.join(" ").trim());else{let o=` ${a} `;for(let c=0;c<t.length;c++){let u=`${t[c]} `;o.includes(` ${u}`)||(o+=u)}xp(s,"class",o.trim())}}return this}function cse(e){if(typeof e=="function")return dr(this,(s,a)=>{Le(s)&&cse.call([s],e.call(s,a,s.attribs.class||""))});let t=ov(e),r=t.length,n=arguments.length===0;return dr(this,s=>{if(Le(s))if(n)s.attribs.class="";else{let a=ov(s.attribs.class),o=!1;for(let c=0;c<r;c++){let u=a.indexOf(t[c]);u>=0&&(a.splice(u,1),o=!0,c--)}o&&(s.attribs.class=a.join(" "))}})}function use(e,t){if(typeof e=="function")return dr(this,(o,c)=>{Le(o)&&use.call([o],e.call(o,c,o.attribs.class||"",t),t)});if(!e||typeof e!="string")return this;let r=e.split(bg),n=r.length,s=typeof t=="boolean"?t?1:-1:0,a=this.length;for(let o=0;o<a;o++){let c=this[o];if(!Le(c))continue;let u=ov(c.attribs.class);for(let l=0;l<n;l++){let d=u.indexOf(r[l]);s>=0&&d<0?u.push(r[l]):s<=0&&d>=0&&u.splice(d,1)}c.attribs.class=u.join(" ")}return this}var K6={};Pn(K6,{add:()=>pKe,addBack:()=>hKe,children:()=>JVe,closest:()=>jVe,contents:()=>XVe,each:()=>ZVe,end:()=>fKe,eq:()=>oKe,filter:()=>tKe,filterArray:()=>V6,find:()=>FVe,first:()=>iKe,get:()=>cKe,has:()=>sKe,index:()=>lKe,is:()=>rKe,last:()=>aKe,map:()=>eKe,next:()=>HVe,nextAll:()=>zVe,nextUntil:()=>GVe,not:()=>nKe,parent:()=>QVe,parents:()=>UVe,parentsUntil:()=>qVe,prev:()=>VVe,prevAll:()=>KVe,prevUntil:()=>YVe,siblings:()=>WVe,slice:()=>dKe,toArray:()=>uKe});var Us=Pe(Cp(),1);var L6=Pe(iu(),1);var sa=Pe(Cp(),1),Qo=Pe(iu(),1);var hs=Pe(Cp(),1),Ise=new Map([[hs.SelectorType.Universal,50],[hs.SelectorType.Tag,30],[hs.SelectorType.Attribute,1],[hs.SelectorType.Pseudo,0]]);function xg(e){return!Ise.has(e.type)}var EVe=new Map([[hs.AttributeAction.Exists,10],[hs.AttributeAction.Equals,8],[hs.AttributeAction.Not,7],[hs.AttributeAction.Start,6],[hs.AttributeAction.End,6],[hs.AttributeAction.Any,5]]);function S6(e){let t=e.map(Cse);for(let r=1;r<e.length;r++){let n=t[r];if(!(n<0))for(let s=r-1;s>=0&&n<t[s];s--){let a=e[s+1];e[s+1]=e[s],e[s]=a,t[s+1]=t[s],t[s]=n}}}function Cse(e){var t,r;let n=(t=Ise.get(e.type))!==null&&t!==void 0?t:-1;return e.type===hs.SelectorType.Attribute?(n=(r=EVe.get(e.action))!==null&&r!==void 0?r:4,e.action===hs.AttributeAction.Equals&&e.name==="id"&&(n=9),e.ignoreCase&&(n>>=1)):e.type===hs.SelectorType.Pseudo&&(e.data?e.name==="has"||e.name==="contains"?n=0:Array.isArray(e.data)?(n=Math.min(...e.data.map(s=>Math.min(...s.map(Cse)))),n<0&&(n=0)):n=2:n=3),n}var vg=Pe(iu(),1),xVe=/[-[\]{}()*+?.,\\^$|#\s]/g;function wse(e){return e.replace(xVe,"\\$&")}var vVe=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function zl(e,t){return typeof e.ignoreCase=="boolean"?e.ignoreCase:e.ignoreCase==="quirks"?!!t.quirksMode:!t.xmlMode&&vVe.has(e.name)}var Sse={equals(e,t,r){let{adapter:n}=r,{name:s}=t,{value:a}=t;return zl(t,r)?(a=a.toLowerCase(),o=>{let c=n.getAttributeValue(o,s);return c!=null&&c.length===a.length&&c.toLowerCase()===a&&e(o)}):o=>n.getAttributeValue(o,s)===a&&e(o)},hyphen(e,t,r){let{adapter:n}=r,{name:s}=t,{value:a}=t,o=a.length;return zl(t,r)?(a=a.toLowerCase(),function(u){let l=n.getAttributeValue(u,s);return l!=null&&(l.length===o||l.charAt(o)==="-")&&l.substr(0,o).toLowerCase()===a&&e(u)}):function(u){let l=n.getAttributeValue(u,s);return l!=null&&(l.length===o||l.charAt(o)==="-")&&l.substr(0,o)===a&&e(u)}},element(e,t,r){let{adapter:n}=r,{name:s,value:a}=t;if(/\s/.test(a))return vg.default.falseFunc;let o=new RegExp(`(?:^|\\s)${wse(a)}(?:$|\\s)`,zl(t,r)?"i":"");return function(u){let l=n.getAttributeValue(u,s);return l!=null&&l.length>=a.length&&o.test(l)&&e(u)}},exists(e,{name:t},{adapter:r}){return n=>r.hasAttrib(n,t)&&e(n)},start(e,t,r){let{adapter:n}=r,{name:s}=t,{value:a}=t,o=a.length;return o===0?vg.default.falseFunc:zl(t,r)?(a=a.toLowerCase(),c=>{let u=n.getAttributeValue(c,s);return u!=null&&u.length>=o&&u.substr(0,o).toLowerCase()===a&&e(c)}):c=>{var u;return!!(!((u=n.getAttributeValue(c,s))===null||u===void 0)&&u.startsWith(a))&&e(c)}},end(e,t,r){let{adapter:n}=r,{name:s}=t,{value:a}=t,o=-a.length;return o===0?vg.default.falseFunc:zl(t,r)?(a=a.toLowerCase(),c=>{var u;return((u=n.getAttributeValue(c,s))===null||u===void 0?void 0:u.substr(o).toLowerCase())===a&&e(c)}):c=>{var u;return!!(!((u=n.getAttributeValue(c,s))===null||u===void 0)&&u.endsWith(a))&&e(c)}},any(e,t,r){let{adapter:n}=r,{name:s,value:a}=t;if(a==="")return vg.default.falseFunc;if(zl(t,r)){let o=new RegExp(wse(a),"i");return function(u){let l=n.getAttributeValue(u,s);return l!=null&&l.length>=a.length&&o.test(l)&&e(u)}}return o=>{var c;return!!(!((c=n.getAttributeValue(o,s))===null||c===void 0)&&c.includes(a))&&e(o)}},not(e,t,r){let{adapter:n}=r,{name:s}=t,{value:a}=t;return a===""?o=>!!n.getAttributeValue(o,s)&&e(o):zl(t,r)?(a=a.toLowerCase(),o=>{let c=n.getAttributeValue(o,s);return(c==null||c.length!==a.length||c.toLowerCase()!==a)&&e(o)}):o=>n.getAttributeValue(o,s)!==a&&e(o)}};var Nse=Pe(Cp(),1);var _Ve=new Set([9,10,12,13,32]),Tse=48,IVe=57;function Bse(e){if(e=e.trim().toLowerCase(),e==="even")return[2,0];if(e==="odd")return[2,1];let t=0,r=0,n=a(),s=o();if(t<e.length&&e.charAt(t)==="n"&&(t++,r=n*(s??1),c(),t<e.length?(n=a(),c(),s=o()):n=s=0),s===null||t<e.length)throw new Error(`n-th rule couldn't be parsed ('${e}')`);return[r,n*s];function a(){return e.charAt(t)==="-"?(t++,-1):(e.charAt(t)==="+"&&t++,1)}function o(){let u=t,l=0;for(;t<e.length&&e.charCodeAt(t)>=Tse&&e.charCodeAt(t)<=IVe;)l=l*10+(e.charCodeAt(t)-Tse),t++;return t===u?null:l}function c(){for(;t<e.length&&_Ve.has(e.charCodeAt(t));)t++}}var T6=Pe(iu(),1);function Rse(e){let t=e[0],r=e[1]-1;if(r<0&&t<=0)return T6.default.falseFunc;if(t===-1)return a=>a<=r;if(t===0)return a=>a===r;if(t===1)return r<0?T6.default.trueFunc:a=>a>=r;let n=Math.abs(t),s=(r%n+n)%n;return t>1?a=>a>=r&&a%n===s:a=>a<=r&&a%n===s}function wp(e){return Rse(Bse(e))}var Qs=Pe(iu(),1);function lv(e,t){return r=>{let n=t.getParent(r);return n!=null&&t.isTag(n)&&e(r)}}var Sp={contains(e,t,{adapter:r}){return function(s){return e(s)&&r.getText(s).includes(t)}},icontains(e,t,{adapter:r}){let n=t.toLowerCase();return function(a){return e(a)&&r.getText(a).toLowerCase().includes(n)}},"nth-child"(e,t,{adapter:r,equals:n}){let s=wp(t);return s===Qs.default.falseFunc?Qs.default.falseFunc:s===Qs.default.trueFunc?lv(e,r):function(o){let c=r.getSiblings(o),u=0;for(let l=0;l<c.length&&!n(o,c[l]);l++)r.isTag(c[l])&&u++;return s(u)&&e(o)}},"nth-last-child"(e,t,{adapter:r,equals:n}){let s=wp(t);return s===Qs.default.falseFunc?Qs.default.falseFunc:s===Qs.default.trueFunc?lv(e,r):function(o){let c=r.getSiblings(o),u=0;for(let l=c.length-1;l>=0&&!n(o,c[l]);l--)r.isTag(c[l])&&u++;return s(u)&&e(o)}},"nth-of-type"(e,t,{adapter:r,equals:n}){let s=wp(t);return s===Qs.default.falseFunc?Qs.default.falseFunc:s===Qs.default.trueFunc?lv(e,r):function(o){let c=r.getSiblings(o),u=0;for(let l=0;l<c.length;l++){let d=c[l];if(n(o,d))break;r.isTag(d)&&r.getName(d)===r.getName(o)&&u++}return s(u)&&e(o)}},"nth-last-of-type"(e,t,{adapter:r,equals:n}){let s=wp(t);return s===Qs.default.falseFunc?Qs.default.falseFunc:s===Qs.default.trueFunc?lv(e,r):function(o){let c=r.getSiblings(o),u=0;for(let l=c.length-1;l>=0;l--){let d=c[l];if(n(o,d))break;r.isTag(d)&&r.getName(d)===r.getName(o)&&u++}return s(u)&&e(o)}},root(e,t,{adapter:r}){return n=>{let s=r.getParent(n);return(s==null||!r.isTag(s))&&e(n)}},scope(e,t,r,n){let{equals:s}=r;return!n||n.length===0?Sp.root(e,t,r):n.length===1?a=>s(n[0],a)&&e(a):a=>n.includes(a)&&e(a)},hover:B6("isHovered"),visited:B6("isVisited"),active:B6("isActive")};function B6(e){return function(r,n,{adapter:s}){let a=s[e];return typeof a!="function"?Qs.default.falseFunc:function(c){return a(c)&&r(c)}}}var _g={empty(e,{adapter:t}){return!t.getChildren(e).some(r=>t.isTag(r)||t.getText(r)!=="")},"first-child"(e,{adapter:t,equals:r}){if(t.prevElementSibling)return t.prevElementSibling(e)==null;let n=t.getSiblings(e).find(s=>t.isTag(s));return n!=null&&r(e,n)},"last-child"(e,{adapter:t,equals:r}){let n=t.getSiblings(e);for(let s=n.length-1;s>=0;s--){if(r(e,n[s]))return!0;if(t.isTag(n[s]))break}return!1},"first-of-type"(e,{adapter:t,equals:r}){let n=t.getSiblings(e),s=t.getName(e);for(let a=0;a<n.length;a++){let o=n[a];if(r(e,o))return!0;if(t.isTag(o)&&t.getName(o)===s)break}return!1},"last-of-type"(e,{adapter:t,equals:r}){let n=t.getSiblings(e),s=t.getName(e);for(let a=n.length-1;a>=0;a--){let o=n[a];if(r(e,o))return!0;if(t.isTag(o)&&t.getName(o)===s)break}return!1},"only-of-type"(e,{adapter:t,equals:r}){let n=t.getName(e);return t.getSiblings(e).every(s=>r(e,s)||!t.isTag(s)||t.getName(s)!==n)},"only-child"(e,{adapter:t,equals:r}){return t.getSiblings(e).every(n=>r(e,n)||!t.isTag(n))}};function R6(e,t,r,n){if(r===null){if(e.length>n)throw new Error(`Pseudo-class :${t} requires an argument`)}else if(e.length===n)throw new Error(`Pseudo-class :${t} doesn't have any arguments`)}var dv={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"};var Si=Pe(iu(),1);var D6={};function P6(e,t){return e===Si.default.falseFunc?Si.default.falseFunc:r=>t.isTag(r)&&e(r)}function O6(e,t){let r=t.getSiblings(e);if(r.length<=1)return[];let n=r.indexOf(e);return n<0||n===r.length-1?[]:r.slice(n+1).filter(t.isTag)}function k6(e){return{xmlMode:!!e.xmlMode,lowerCaseAttributeNames:!!e.lowerCaseAttributeNames,lowerCaseTags:!!e.lowerCaseTags,quirksMode:!!e.quirksMode,cacheResults:!!e.cacheResults,pseudos:e.pseudos,adapter:e.adapter,equals:e.equals}}var N6=(e,t,r,n,s)=>{let a=s(t,k6(r),n);return a===Si.default.trueFunc?e:a===Si.default.falseFunc?Si.default.falseFunc:o=>a(o)&&e(o)},fv={is:N6,matches:N6,where:N6,not(e,t,r,n,s){let a=s(t,k6(r),n);return a===Si.default.falseFunc?e:a===Si.default.trueFunc?Si.default.falseFunc:o=>!a(o)&&e(o)},has(e,t,r,n,s){let{adapter:a}=r,o=k6(r);o.relativeSelector=!0;let c=t.some(d=>d.some(xg))?[D6]:void 0,u=s(t,o,c);if(u===Si.default.falseFunc)return Si.default.falseFunc;let l=P6(u,a);if(c&&u!==Si.default.trueFunc){let{shouldTestNextSiblings:d=!1}=u;return f=>{if(!e(f))return!1;c[0]=f;let p=a.getChildren(f),m=d?[...p,...O6(f,a)]:p;return a.existsOne(l,m)}}return d=>e(d)&&a.existsOne(l,a.getChildren(d))}};function kse(e,t,r,n,s){var a;let{name:o,data:c}=t;if(Array.isArray(c)){if(!(o in fv))throw new Error(`Unknown pseudo-class :${o}(${c})`);return fv[o](e,c,r,n,s)}let u=(a=r.pseudos)===null||a===void 0?void 0:a[o],l=typeof u=="string"?u:dv[o];if(typeof l=="string"){if(c!=null)throw new Error(`Pseudo ${o} doesn't have any arguments`);let d=(0,Nse.parse)(l);return fv.is(e,d,r,n,s)}if(typeof u=="function")return R6(u,o,c,1),d=>u(d,c)&&e(d);if(o in Sp)return Sp[o](e,c,r,n);if(o in _g){let d=_g[o];return R6(d,o,c,2),f=>d(f,r,c)&&e(f)}throw new Error(`Unknown pseudo-class :${o}`)}var Ti=Pe(Cp(),1);function $6(e,t){let r=t.getParent(e);return r&&t.isTag(r)?r:null}function Dse(e,t,r,n,s){let{adapter:a,equals:o}=r;switch(t.type){case Ti.SelectorType.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case Ti.SelectorType.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case Ti.SelectorType.Attribute:{if(t.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!r.xmlMode||r.lowerCaseAttributeNames)&&(t.name=t.name.toLowerCase()),Sse[t.action](e,t,r)}case Ti.SelectorType.Pseudo:return kse(e,t,r,n,s);case Ti.SelectorType.Tag:{if(t.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");let{name:c}=t;return(!r.xmlMode||r.lowerCaseTags)&&(c=c.toLowerCase()),function(l){return a.getName(l)===c&&e(l)}}case Ti.SelectorType.Descendant:{if(r.cacheResults===!1||typeof WeakSet>"u")return function(l){let d=l;for(;d=$6(d,a);)if(e(d))return!0;return!1};let c=new WeakSet;return function(l){let d=l;for(;d=$6(d,a);)if(!c.has(d)){if(a.isTag(d)&&e(d))return!0;c.add(d)}return!1}}case"_flexibleDescendant":return function(u){let l=u;do if(e(l))return!0;while(l=$6(l,a));return!1};case Ti.SelectorType.Parent:return function(u){return a.getChildren(u).some(l=>a.isTag(l)&&e(l))};case Ti.SelectorType.Child:return function(u){let l=a.getParent(u);return l!=null&&a.isTag(l)&&e(l)};case Ti.SelectorType.Sibling:return function(u){let l=a.getSiblings(u);for(let d=0;d<l.length;d++){let f=l[d];if(o(u,f))break;if(a.isTag(f)&&e(f))return!0}return!1};case Ti.SelectorType.Adjacent:return a.prevElementSibling?function(u){let l=a.prevElementSibling(u);return l!=null&&e(l)}:function(u){let l=a.getSiblings(u),d;for(let f=0;f<l.length;f++){let p=l[f];if(o(u,p))break;a.isTag(p)&&(d=p)}return!!d&&e(d)};case Ti.SelectorType.Universal:{if(t.namespace!=null&&t.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return e}}}function Pse(e,t,r){let n=pv(e,t,r);return P6(n,t.adapter)}function pv(e,t,r){let n=typeof e=="string"?(0,sa.parse)(e):e;return hv(n,t,r)}function Ose(e){return e.type===sa.SelectorType.Pseudo&&(e.name==="scope"||Array.isArray(e.data)&&e.data.some(t=>t.some(Ose)))}var CVe={type:sa.SelectorType.Descendant},wVe={type:"_flexibleDescendant"},SVe={type:sa.SelectorType.Pseudo,name:"scope",data:null};function TVe(e,{adapter:t},r){let n=!!r?.every(s=>{let a=t.isTag(s)&&t.getParent(s);return s===D6||a&&t.isTag(a)});for(let s of e){if(!(s.length>0&&xg(s[0])&&s[0].type!==sa.SelectorType.Descendant))if(n&&!s.some(Ose))s.unshift(CVe);else continue;s.unshift(SVe)}}function hv(e,t,r){var n;e.forEach(S6),r=(n=t.context)!==null&&n!==void 0?n:r;let s=Array.isArray(r),a=r&&(Array.isArray(r)?r:[r]);if(t.relativeSelector!==!1)TVe(e,t,a);else if(e.some(u=>u.length>0&&xg(u[0])))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let o=!1,c=e.map(u=>{if(u.length>=2){let[l,d]=u;l.type!==sa.SelectorType.Pseudo||l.name!=="scope"||(s&&d.type===sa.SelectorType.Descendant?u[1]=wVe:(d.type===sa.SelectorType.Adjacent||d.type===sa.SelectorType.Sibling)&&(o=!0))}return BVe(u,t,a)}).reduce(RVe,Qo.default.falseFunc);return c.shouldTestNextSiblings=o,c}function BVe(e,t,r){var n;return e.reduce((s,a)=>s===Qo.default.falseFunc?Qo.default.falseFunc:Dse(s,a,t,r,hv),(n=t.rootFunc)!==null&&n!==void 0?n:Qo.default.trueFunc)}function RVe(e,t){return t===Qo.default.falseFunc||e===Qo.default.trueFunc?e:e===Qo.default.falseFunc||t===Qo.default.trueFunc?t:function(n){return e(n)||t(n)}}var $se=(e,t)=>e===t,NVe={adapter:ru,equals:$se};function Lse(e){var t,r,n,s;let a=e??NVe;return(t=a.adapter)!==null&&t!==void 0||(a.adapter=ru),(r=a.equals)!==null&&r!==void 0||(a.equals=(s=(n=a.adapter)===null||n===void 0?void 0:n.equals)!==null&&s!==void 0?s:$se),a}function M6(e){return function(r,n,s){let a=Lse(n);return e(r,a,s)}}var aEt=M6(Pse),oEt=M6(pv),mv=M6(hv);function Mse(e){return function(r,n,s){let a=Lse(s);typeof r!="function"&&(r=pv(r,a,n));let o=gv(n,a.adapter,r.shouldTestNextSiblings);return e(r,o,a)}}function gv(e,t,r=!1){return r&&(e=kVe(e,t)),Array.isArray(e)?t.removeSubsets(e):t.getChildren(e)}function kVe(e,t){let r=Array.isArray(e)?e.slice(0):[e],n=r.length;for(let s=0;s<n;s++){let a=O6(r[s],t);r.push(...a)}return r}var cEt=Mse((e,t,r)=>e===L6.default.falseFunc||!t||t.length===0?[]:r.adapter.findAll(e,t)),uEt=Mse((e,t,r)=>e===L6.default.falseFunc||!t||t.length===0?null:r.adapter.findOne(e,t));var yv=Pe(iu(),1);var DVe=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function Tp(e){return e.type!=="pseudo"?!1:DVe.has(e.name)?!0:e.name==="not"&&Array.isArray(e.data)?e.data.some(t=>t.some(Tp)):!1}function Fse(e,t,r){let n=t!=null?parseInt(t,10):NaN;switch(e){case"first":return 1;case"nth":case"eq":return isFinite(n)?n>=0?n+1:1/0:0;case"lt":return isFinite(n)?n>=0?Math.min(n,r):1/0:0;case"gt":return isFinite(n)?1/0:0;case"odd":return 2*r;case"even":return 2*r-1;case"last":case"not":return 1/0}}function Qse(e){for(;e.parent;)e=e.parent;return e}function Av(e){let t=[],r=[];for(let n of e)n.some(Tp)?t.push(n):r.push(n);return[r,t]}var PVe={type:Us.SelectorType.Universal,namespace:null},OVe={type:Us.SelectorType.Pseudo,name:"scope",data:null};function U6(e,t,r={}){return q6([e],t,r)}function q6(e,t,r={}){if(typeof t=="function")return e.some(t);let[n,s]=Av((0,Us.parse)(t));return n.length>0&&e.some(mv(n,r))||s.some(a=>qse(a,e,r).length>0)}function $Ve(e,t,r,n){let s=typeof r=="string"?parseInt(r,10):NaN;switch(e){case"first":case"lt":return t;case"last":return t.length>0?[t[t.length-1]]:t;case"nth":case"eq":return isFinite(s)&&Math.abs(s)<t.length?[s<0?t[t.length+s]:t[s]]:[];case"gt":return isFinite(s)?t.slice(s+1):[];case"even":return t.filter((a,o)=>o%2===0);case"odd":return t.filter((a,o)=>o%2===1);case"not":{let a=new Set(Use(r,t,n));return t.filter(o=>!a.has(o))}}}function j6(e,t,r={}){return Use((0,Us.parse)(e),t,r)}function Use(e,t,r){if(t.length===0)return[];let[n,s]=Av(e),a;if(n.length){let o=Q6(t,n,r);if(s.length===0)return o;o.length&&(a=new Set(o))}for(let o=0;o<s.length&&a?.size!==t.length;o++){let c=s[o];if((a?t.filter(d=>Le(d)&&!a.has(d)):t).length===0)break;let l=qse(c,t,r);if(l.length)if(a)l.forEach(d=>a.add(d));else{if(o===s.length-1)return l;a=new Set(l)}}return typeof a<"u"?a.size===t.length?t:t.filter(o=>a.has(o)):[]}function qse(e,t,r){var n;if(e.some(Us.isTraversal)){let s=(n=r.root)!==null&&n!==void 0?n:Qse(t[0]),a={...r,context:t,relativeSelector:!1};return e.push(OVe),bv(s,e,a,!0,t.length)}return bv(t,e,r,!1,t.length)}function jse(e,t,r={},n=1/0){if(typeof e=="function")return Hse(t,e);let[s,a]=Av((0,Us.parse)(e)),o=a.map(c=>bv(t,c,r,!0,n));return s.length&&o.push(F6(t,s,r,n)),o.length===0?[]:o.length===1?o[0]:eu(o.reduce((c,u)=>[...c,...u]))}function bv(e,t,r,n,s){let a=t.findIndex(Tp),o=t.slice(0,a),c=t[a],u=t.length-1===a?s:1/0,l=Fse(c.name,c.data,u);if(l===0)return[];let f=(o.length===0&&!Array.isArray(e)?yp(e).filter(Le):o.length===0?(Array.isArray(e)?e:[e]).filter(Le):n||o.some(Us.isTraversal)?F6(e,[o],r,l):Q6(e,[o],r)).slice(0,l),p=$Ve(c.name,f,c.data,r);if(p.length===0||t.length===a+1)return p;let m=t.slice(a+1),h=m.some(Us.isTraversal);if(h){if((0,Us.isTraversal)(m[0])){let{type:g}=m[0];(g===Us.SelectorType.Sibling||g===Us.SelectorType.Adjacent)&&(p=gv(p,ru,!0)),m.unshift(PVe)}r={...r,relativeSelector:!1,rootFunc:g=>p.includes(g)}}else r.rootFunc&&r.rootFunc!==yv.trueFunc&&(r={...r,rootFunc:yv.trueFunc});return m.some(Tp)?bv(p,m,r,!1,s):h?F6(p,[m],r,s):Q6(p,[m],r)}function F6(e,t,r,n){let s=mv(t,r,e);return Hse(e,s,n)}function Hse(e,t,r=1/0){let n=gv(e,ru,t.shouldTestNextSiblings);return tv(s=>Le(s)&&t(s),n,!0,r)}function Q6(e,t,r){let n=(Array.isArray(e)?e:[e]).filter(Le);if(n.length===0)return n;let s=mv(t,r);return s===yv.trueFunc?n:n.filter(s)}var MVe=/^\s*[~+]/;function FVe(e){var t;if(!e)return this._make([]);let r=this.toArray();if(typeof e!="string"){let a=Js(e)?e.toArray():[e];return this._make(a.filter(o=>r.some(c=>x6(c,o))))}let n=MVe.test(e)?r:this.children().toArray(),s={context:r,root:(t=this._root)===null||t===void 0?void 0:t[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(jse(e,n,s))}function H6(e){return function(t,...r){return function(n){var s;let a=e(t,this);return n&&(a=V6(a,n,this.options.xmlMode,(s=this._root)===null||s===void 0?void 0:s[0])),this._make(this.length>1&&a.length>1?r.reduce((o,c)=>c(o),a):a)}}}var Ig=H6((e,t)=>{let r=[];for(let n=0;n<t.length;n++){let s=e(t[n]);r.push(s)}return new Array().concat(...r)}),z6=H6((e,t)=>{let r=[];for(let n=0;n<t.length;n++){let s=e(t[n]);s!==null&&r.push(s)}return r});function G6(e,...t){let r=null,n=H6((s,a)=>{let o=[];return dr(a,c=>{for(let u;(u=s(c))&&!r?.(u,o.length);c=u)o.push(u)}),o})(e,...t);return function(s,a){r=typeof s=="string"?c=>U6(c,s,this.options):s?Cg(s):null;let o=n.call(this,a);return r=null,o}}function Bp(e){return Array.from(new Set(e))}var QVe=z6(({parent:e})=>e&&!na(e)?e:null,Bp),UVe=Ig(e=>{let t=[];for(;e.parent&&!na(e.parent);)t.push(e.parent),e=e.parent;return t},eu,e=>e.reverse()),qVe=G6(({parent:e})=>e&&!na(e)?e:null,eu,e=>e.reverse());function jVe(e){var t;let r=[];if(!e)return this._make(r);let n={xmlMode:this.options.xmlMode,root:(t=this._root)===null||t===void 0?void 0:t[0]},s=typeof e=="string"?a=>U6(a,e,n):Cg(e);return dr(this,a=>{for(;a&&Le(a);){if(s(a,0)){r.includes(a)||r.push(a);break}a=a.parent}}),this._make(r)}var HVe=z6(e=>Zx(e)),zVe=Ig(e=>{let t=[];for(;e.next;)e=e.next,Le(e)&&t.push(e);return t},Bp),GVe=G6(e=>Zx(e),Bp),VVe=z6(e=>ev(e)),KVe=Ig(e=>{let t=[];for(;e.prev;)e=e.prev,Le(e)&&t.push(e);return t},Bp),YVe=G6(e=>ev(e),Bp),WVe=Ig(e=>y6(e).filter(t=>Le(t)&&t!==e),eu),JVe=Ig(e=>yp(e).filter(Le),Bp);function XVe(){let e=this.toArray().reduce((t,r)=>tr(r)?t.concat(r.children):t,[]);return this._make(e)}function ZVe(e){let t=0,r=this.length;for(;t<r&&e.call(this[t],t,this[t])!==!1;)++t;return this}function eKe(e){let t=[];for(let r=0;r<this.length;r++){let n=this[r],s=e.call(n,r,n);s!=null&&(t=t.concat(s))}return this._make(t)}function Cg(e){return typeof e=="function"?(t,r)=>e.call(t,r,t):Js(e)?t=>Array.prototype.includes.call(e,t):function(t){return e===t}}function tKe(e){var t;return this._make(V6(this.toArray(),e,this.options.xmlMode,(t=this._root)===null||t===void 0?void 0:t[0]))}function V6(e,t,r,n){return typeof t=="string"?j6(t,e,{xmlMode:r,root:n}):e.filter(Cg(t))}function rKe(e){let t=this.toArray();return typeof e=="string"?q6(t.filter(Le),e,this.options):e?t.some(Cg(e)):!1}function nKe(e){let t=this.toArray();if(typeof e=="string"){let r=new Set(j6(e,t,this.options));t=t.filter(n=>!r.has(n))}else{let r=Cg(e);t=t.filter((n,s)=>!r(n,s))}return this._make(t)}function sKe(e){return this.filter(typeof e=="string"?`:has(${e})`:(t,r)=>this._make(r).find(e).length>0)}function iKe(){return this.length>1?this._make(this[0]):this}function aKe(){return this.length>0?this._make(this[this.length-1]):this}function oKe(e){var t;return e=+e,e===0&&this.length<=1?this:(e<0&&(e=this.length+e),this._make((t=this[e])!==null&&t!==void 0?t:[]))}function cKe(e){return e==null?this.toArray():this[e<0?this.length+e:e]}function uKe(){return Array.prototype.slice.call(this)}function lKe(e){let t,r;return e==null?(t=this.parent().children(),r=this[0]):typeof e=="string"?(t=this._make(e),r=this[0]):(t=this,r=Js(e)?e[0]:e),Array.prototype.indexOf.call(t,r)}function dKe(e,t){return this._make(Array.prototype.slice.call(this,e,t))}function fKe(){var e;return(e=this.prevObject)!==null&&e!==void 0?e:this._make([])}function pKe(e,t){let r=this._make(e,t),n=eu([...this.get(),...r.get()]);return this._make(n)}function hKe(e){return this.prevObject?this.add(e?this.prevObject.filter(e):this.prevObject):this}var Y6={};Pn(Y6,{_makeDomArray:()=>mKe,after:()=>IKe,append:()=>yKe,appendTo:()=>gKe,before:()=>wKe,clone:()=>PKe,empty:()=>RKe,html:()=>NKe,insertAfter:()=>CKe,insertBefore:()=>SKe,prepend:()=>bKe,prependTo:()=>AKe,remove:()=>TKe,replaceWith:()=>BKe,text:()=>DKe,toString:()=>kKe,unwrap:()=>vKe,wrap:()=>EKe,wrapAll:()=>_Ke,wrapInner:()=>xKe});function zse(e){return function(r,n,s,a){if(typeof Buffer<"u"&&Buffer.isBuffer(r)&&(r=r.toString()),typeof r=="string")return e(r,n,s,a);let o=r;if(!Array.isArray(o)&&na(o))return o;let c=new Ws([]);return au(o,c),c}}function au(e,t){let r=Array.isArray(e)?e:[e];t?t.children=r:t=null;for(let n=0;n<r.length;n++){let s=r[n];s.parent&&s.parent.children!==r&&Mo(s),t?(s.prev=r[n-1]||null,s.next=r[n+1]||null):s.prev=s.next=null,s.parent=t}return t}function mKe(e,t){return e==null?[]:Js(e)?t?iv(e.get()):e.get():Array.isArray(e)?e.reduce((r,n)=>r.concat(this._makeDomArray(n,t)),[]):typeof e=="string"?this._parse(e,this.options,!1,null).children:t?iv([e]):[e]}function Gse(e){return function(...t){let r=this.length-1;return dr(this,(n,s)=>{if(!tr(n))return;let a=typeof t[0]=="function"?t[0].call(n,s,this._render(n.children)):t,o=this._makeDomArray(a,s<r);e(o,n.children,n)})}}function ou(e,t,r,n,s){var a,o;let c=[t,r,...n],u=t===0?null:e[t-1],l=t+r>=e.length?null:e[t+r];for(let d=0;d<n.length;++d){let f=n[d],p=f.parent;if(p){let h=p.children.indexOf(f);h>-1&&(p.children.splice(h,1),s===p&&t>h&&c[0]--)}f.parent=s,f.prev&&(f.prev.next=(a=f.next)!==null&&a!==void 0?a:null),f.next&&(f.next.prev=(o=f.prev)!==null&&o!==void 0?o:null),f.prev=d===0?u:n[d-1],f.next=d===n.length-1?l:n[d+1]}return u&&(u.next=n[0]),l&&(l.prev=n[n.length-1]),e.splice(...c)}function gKe(e){return(Js(e)?e:this._make(e)).append(this),this}function AKe(e){return(Js(e)?e:this._make(e)).prepend(this),this}var yKe=Gse((e,t,r)=>{ou(t,t.length,0,e,r)}),bKe=Gse((e,t,r)=>{ou(t,0,0,e,r)});function Vse(e){return function(t){let r=this.length-1,n=this.parents().last();for(let s=0;s<this.length;s++){let a=this[s],o=typeof t=="function"?t.call(a,s,a):typeof t=="string"&&!yg(t)?n.find(t).clone():t,[c]=this._makeDomArray(o,s<r);if(!c||!tr(c))continue;let u=c,l=0;for(;l<u.children.length;){let d=u.children[l];Le(d)?(u=d,l=0):l++}e(a,u,[c])}return this}}var EKe=Vse((e,t,r)=>{let{parent:n}=e;if(!n)return;let s=n.children,a=s.indexOf(e);au([e],t),ou(s,a,0,r,n)}),xKe=Vse((e,t,r)=>{tr(e)&&(au(e.children,t),au(r,e))});function vKe(e){return this.parent(e).not("body").each((t,r)=>{this._make(r).replaceWith(r.children)}),this}function _Ke(e){let t=this[0];if(t){let r=this._make(typeof e=="function"?e.call(t,0,t):e).insertBefore(t),n;for(let a=0;a<r.length;a++)r[a].type==="tag"&&(n=r[a]);let s=0;for(;n&&s<n.children.length;){let a=n.children[s];a.type==="tag"?(n=a,s=0):s++}n&&this._make(n).append(this)}return this}function IKe(...e){let t=this.length-1;return dr(this,(r,n)=>{let{parent:s}=r;if(!tr(r)||!s)return;let a=s.children,o=a.indexOf(r);if(o<0)return;let c=typeof e[0]=="function"?e[0].call(r,n,this._render(r.children)):e,u=this._makeDomArray(c,n<t);ou(a,o+1,0,u,s)})}function CKe(e){typeof e=="string"&&(e=this._make(e)),this.remove();let t=[];return this._makeDomArray(e).forEach(r=>{let n=this.clone().toArray(),{parent:s}=r;if(!s)return;let a=s.children,o=a.indexOf(r);o<0||(ou(a,o+1,0,n,s),t.push(...n))}),this._make(t)}function wKe(...e){let t=this.length-1;return dr(this,(r,n)=>{let{parent:s}=r;if(!tr(r)||!s)return;let a=s.children,o=a.indexOf(r);if(o<0)return;let c=typeof e[0]=="function"?e[0].call(r,n,this._render(r.children)):e,u=this._makeDomArray(c,n<t);ou(a,o,0,u,s)})}function SKe(e){let t=this._make(e);this.remove();let r=[];return dr(t,n=>{let s=this.clone().toArray(),{parent:a}=n;if(!a)return;let o=a.children,c=o.indexOf(n);c<0||(ou(o,c,0,s,a),r.push(...s))}),this._make(r)}function TKe(e){let t=e?this.filter(e):this;return dr(t,r=>{Mo(r),r.prev=r.next=r.parent=null}),this}function BKe(e){return dr(this,(t,r)=>{let{parent:n}=t;if(!n)return;let s=n.children,a=typeof e=="function"?e.call(t,r,t):e,o=this._makeDomArray(a);au(o,null);let c=s.indexOf(t);ou(s,c,1,o,n),o.includes(t)||(t.parent=t.prev=t.next=null)})}function RKe(){return dr(this,e=>{tr(e)&&(e.children.forEach(t=>{t.next=t.prev=t.parent=null}),e.children.length=0)})}function NKe(e){if(e===void 0){let t=this[0];return!t||!tr(t)?null:this._render(t.children)}return dr(this,t=>{if(!tr(t))return;t.children.forEach(n=>{n.next=n.prev=n.parent=null});let r=Js(e)?e.toArray():this._parse(`${e}`,this.options,!1,t).children;au(r,t)})}function kKe(){return this._render(this)}function DKe(e){return e===void 0?nu(this):typeof e=="function"?dr(this,(t,r)=>this._make(t).text(e.call(t,r,nu([t])))):dr(this,t=>{if(!tr(t))return;t.children.forEach(n=>{n.next=n.prev=n.parent=null});let r=new Ua(`${e}`);au(r,t)})}function PKe(){return this._make(iv(this.get()))}var W6={};Pn(W6,{css:()=>OKe});function OKe(e,t){if(e!=null&&t!=null||typeof e=="object"&&!Array.isArray(e))return dr(this,(r,n)=>{Le(r)&&Kse(r,e,t,n)});if(this.length!==0)return Yse(this[0],e)}function Kse(e,t,r,n){if(typeof t=="string"){let s=Yse(e),a=typeof r=="function"?r.call(e,n,s[t]):r;a===""?delete s[t]:a!=null&&(s[t]=a),e.attribs.style=$Ke(s)}else typeof t=="object"&&Object.keys(t).forEach((s,a)=>{Kse(e,s,t[s],a)})}function Yse(e,t){if(!e||!Le(e))return;let r=LKe(e.attribs.style);if(typeof t=="string")return r[t];if(Array.isArray(t)){let n={};return t.forEach(s=>{r[s]!=null&&(n[s]=r[s])}),n}return r}function $Ke(e){return Object.keys(e).reduce((t,r)=>`${t}${t?" ":""}${r}: ${e[r]};`,"")}function LKe(e){if(e=(e||"").trim(),!e)return{};let t={},r;for(let n of e.split(";")){let s=n.indexOf(":");if(s<1||s===n.length-1){let a=n.trimEnd();a.length>0&&r!==void 0&&(t[r]+=`;${a}`)}else r=n.slice(0,s).trim(),t[r]=n.slice(s+1).trim()}return t}var J6={};Pn(J6,{serialize:()=>FKe,serializeArray:()=>QKe});var Wse="input,select,textarea,keygen",MKe=/%20/g,Jse=/\r?\n/g;function FKe(){return this.serializeArray().map(r=>`${encodeURIComponent(r.name)}=${encodeURIComponent(r.value)}`).join("&").replace(MKe,"+")}function QKe(){return this.map((e,t)=>{let r=this._make(t);return Le(t)&&t.name==="form"?r.find(Wse).toArray():r.filter(Wse).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map((e,t)=>{var r;let n=this._make(t),s=n.attr("name"),a=(r=n.val())!==null&&r!==void 0?r:"";return Array.isArray(a)?a.map(o=>({name:s,value:o.replace(Jse,`\r
`)})):{name:s,value:a.replace(Jse,`\r
`)}}).toArray()}var cu=class{constructor(t,r,n){if(this.length=0,this.options=n,this._root=r,t){for(let s=0;s<t.length;s++)this[s]=t[s];this.length=t.length}}};cu.prototype.cheerio="[cheerio object]";cu.prototype.splice=Array.prototype.splice;cu.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator];Object.assign(cu.prototype,C6,K6,Y6,W6,J6);function Xse(e,t){return function r(n,s,a=!0){if(n==null)throw new Error("cheerio.load() expects a string");let o={...ug,...lg(s)},c=e(n,o,a,null);class u extends cu{_make(f,p){let m=l(f,p);return m.prevObject=this,m}_parse(f,p,m,h){return e(f,p,m,h)}_render(f){return t(f,this.options)}}function l(d,f,p=c,m){if(d&&Js(d))return d;let h={...o,...lg(m)},g=typeof p=="string"?[e(p,h,!1,null)]:"length"in p?p:[p],A=Js(g)?g:new u(g,null,h);if(A._root=A,!d)return new u(void 0,A,h);let y=typeof d=="string"&&yg(d)?e(d,h,!1,null).children:UKe(d)?[d]:Array.isArray(d)?d:void 0,v=new u(y,A,h);if(y)return v;if(typeof d!="string")throw new Error("Unexpected type of selector");let b=d,E=f?typeof f=="string"?yg(f)?new u([e(f,h,!1,null)],A,h):(b=`${f} ${b}`,A):Js(f)?f:new u(Array.isArray(f)?f:[f],A,h):A;return E?E.find(b):v}return Object.assign(l,su,{load:r,_root:c,_options:o,fn:u.prototype,prototype:u.prototype}),l}}function UKe(e){return!!e.name||e.type==="root"||e.type==="text"||e.type==="comment"}var qKe=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),hr="\uFFFD",F;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(F||(F={}));var ms={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function Ev(e){return e>=55296&&e<=57343}function Zse(e){return e>=56320&&e<=57343}function eie(e,t){return(e-55296)*1024+9216+t}function xv(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function vv(e){return e>=64976&&e<=65007||qKe.has(e)}var ce;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ce||(ce={}));var HKe=65536,_v=class{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=HKe,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,r){let{line:n,col:s,offset:a}=this,o=s+r,c=a+r;return{code:t,startLine:n,endLine:n,startCol:o,endCol:o,startOffset:c,endOffset:c}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){let r=this.html.charCodeAt(this.pos+1);if(Zse(r))return this.pos++,this._addGap(),eie(t,r)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,F.EOF;return this._err(ce.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,r){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=r}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,r){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(r)return this.html.startsWith(t,this.pos);for(let n=0;n<t.length;n++)if((this.html.charCodeAt(this.pos+n)|32)!==t.charCodeAt(n))return!1;return!0}peek(t){let r=this.pos+t;if(r>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,F.EOF;let n=this.html.charCodeAt(r);return n===F.CARRIAGE_RETURN?F.LINE_FEED:n}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,F.EOF;let t=this.html.charCodeAt(this.pos);return t===F.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,F.LINE_FEED):t===F.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,Ev(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===F.LINE_FEED||t===F.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){xv(t)?this._err(ce.controlCharacterInInputStream):vv(t)&&this._err(ce.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}};var Tt;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Tt||(Tt={}));function Iv(e,t){for(let r=e.attrs.length-1;r>=0;r--)if(e.attrs[r].name===t)return e.attrs[r].value;return null}var Cv=new Uint16Array('\u1D41<\xD5\u0131\u028A\u049D\u057B\u05D0\u0675\u06DE\u07A2\u07D6\u080F\u0A4A\u0A91\u0DA1\u0E6D\u0F09\u0F26\u10CA\u1228\u12E1\u1415\u149D\u14C3\u14DF\u1525\0\0\0\0\0\0\u156B\u16CD\u198D\u1C12\u1DDD\u1F7E\u2060\u21B0\u228D\u23C0\u23FB\u2442\u2824\u2912\u2D08\u2E48\u2FCE\u3016\u32BA\u3639\u37AC\u38FE\u3A28\u3A71\u3AE0\u3B2E\u0800EMabcfglmnoprstu\\bfms\x7F\x84\x8B\x90\x95\x98\xA6\xB3\xB9\xC8\xCFlig\u803B\xC6\u40C6P\u803B&\u4026cute\u803B\xC1\u40C1reve;\u4102\u0100iyx}rc\u803B\xC2\u40C2;\u4410r;\uC000\u{1D504}rave\u803B\xC0\u40C0pha;\u4391acr;\u4100d;\u6A53\u0100gp\x9D\xA1on;\u4104f;\uC000\u{1D538}plyFunction;\u6061ing\u803B\xC5\u40C5\u0100cs\xBE\xC3r;\uC000\u{1D49C}ign;\u6254ilde\u803B\xC3\u40C3ml\u803B\xC4\u40C4\u0400aceforsu\xE5\xFB\xFE\u0117\u011C\u0122\u0127\u012A\u0100cr\xEA\xF2kslash;\u6216\u0176\xF6\xF8;\u6AE7ed;\u6306y;\u4411\u0180crt\u0105\u010B\u0114ause;\u6235noullis;\u612Ca;\u4392r;\uC000\u{1D505}pf;\uC000\u{1D539}eve;\u42D8c\xF2\u0113mpeq;\u624E\u0700HOacdefhilorsu\u014D\u0151\u0156\u0180\u019E\u01A2\u01B5\u01B7\u01BA\u01DC\u0215\u0273\u0278\u027Ecy;\u4427PY\u803B\xA9\u40A9\u0180cpy\u015D\u0162\u017Aute;\u4106\u0100;i\u0167\u0168\u62D2talDifferentialD;\u6145leys;\u612D\u0200aeio\u0189\u018E\u0194\u0198ron;\u410Cdil\u803B\xC7\u40C7rc;\u4108nint;\u6230ot;\u410A\u0100dn\u01A7\u01ADilla;\u40B8terDot;\u40B7\xF2\u017Fi;\u43A7rcle\u0200DMPT\u01C7\u01CB\u01D1\u01D6ot;\u6299inus;\u6296lus;\u6295imes;\u6297o\u0100cs\u01E2\u01F8kwiseContourIntegral;\u6232eCurly\u0100DQ\u0203\u020FoubleQuote;\u601Duote;\u6019\u0200lnpu\u021E\u0228\u0247\u0255on\u0100;e\u0225\u0226\u6237;\u6A74\u0180git\u022F\u0236\u023Aruent;\u6261nt;\u622FourIntegral;\u622E\u0100fr\u024C\u024E;\u6102oduct;\u6210nterClockwiseContourIntegral;\u6233oss;\u6A2Fcr;\uC000\u{1D49E}p\u0100;C\u0284\u0285\u62D3ap;\u624D\u0580DJSZacefios\u02A0\u02AC\u02B0\u02B4\u02B8\u02CB\u02D7\u02E1\u02E6\u0333\u048D\u0100;o\u0179\u02A5trahd;\u6911cy;\u4402cy;\u4405cy;\u440F\u0180grs\u02BF\u02C4\u02C7ger;\u6021r;\u61A1hv;\u6AE4\u0100ay\u02D0\u02D5ron;\u410E;\u4414l\u0100;t\u02DD\u02DE\u6207a;\u4394r;\uC000\u{1D507}\u0100af\u02EB\u0327\u0100cm\u02F0\u0322ritical\u0200ADGT\u0300\u0306\u0316\u031Ccute;\u40B4o\u0174\u030B\u030D;\u42D9bleAcute;\u42DDrave;\u4060ilde;\u42DCond;\u62C4ferentialD;\u6146\u0470\u033D\0\0\0\u0342\u0354\0\u0405f;\uC000\u{1D53B}\u0180;DE\u0348\u0349\u034D\u40A8ot;\u60DCqual;\u6250ble\u0300CDLRUV\u0363\u0372\u0382\u03CF\u03E2\u03F8ontourIntegra\xEC\u0239o\u0274\u0379\0\0\u037B\xBB\u0349nArrow;\u61D3\u0100eo\u0387\u03A4ft\u0180ART\u0390\u0396\u03A1rrow;\u61D0ightArrow;\u61D4e\xE5\u02CAng\u0100LR\u03AB\u03C4eft\u0100AR\u03B3\u03B9rrow;\u67F8ightArrow;\u67FAightArrow;\u67F9ight\u0100AT\u03D8\u03DErrow;\u61D2ee;\u62A8p\u0241\u03E9\0\0\u03EFrrow;\u61D1ownArrow;\u61D5erticalBar;\u6225n\u0300ABLRTa\u0412\u042A\u0430\u045E\u047F\u037Crrow\u0180;BU\u041D\u041E\u0422\u6193ar;\u6913pArrow;\u61F5reve;\u4311eft\u02D2\u043A\0\u0446\0\u0450ightVector;\u6950eeVector;\u695Eector\u0100;B\u0459\u045A\u61BDar;\u6956ight\u01D4\u0467\0\u0471eeVector;\u695Fector\u0100;B\u047A\u047B\u61C1ar;\u6957ee\u0100;A\u0486\u0487\u62A4rrow;\u61A7\u0100ct\u0492\u0497r;\uC000\u{1D49F}rok;\u4110\u0800NTacdfglmopqstux\u04BD\u04C0\u04C4\u04CB\u04DE\u04E2\u04E7\u04EE\u04F5\u0521\u052F\u0536\u0552\u055D\u0560\u0565G;\u414AH\u803B\xD0\u40D0cute\u803B\xC9\u40C9\u0180aiy\u04D2\u04D7\u04DCron;\u411Arc\u803B\xCA\u40CA;\u442Dot;\u4116r;\uC000\u{1D508}rave\u803B\xC8\u40C8ement;\u6208\u0100ap\u04FA\u04FEcr;\u4112ty\u0253\u0506\0\0\u0512mallSquare;\u65FBerySmallSquare;\u65AB\u0100gp\u0526\u052Aon;\u4118f;\uC000\u{1D53C}silon;\u4395u\u0100ai\u053C\u0549l\u0100;T\u0542\u0543\u6A75ilde;\u6242librium;\u61CC\u0100ci\u0557\u055Ar;\u6130m;\u6A73a;\u4397ml\u803B\xCB\u40CB\u0100ip\u056A\u056Fsts;\u6203onentialE;\u6147\u0280cfios\u0585\u0588\u058D\u05B2\u05CCy;\u4424r;\uC000\u{1D509}lled\u0253\u0597\0\0\u05A3mallSquare;\u65FCerySmallSquare;\u65AA\u0370\u05BA\0\u05BF\0\0\u05C4f;\uC000\u{1D53D}All;\u6200riertrf;\u6131c\xF2\u05CB\u0600JTabcdfgorst\u05E8\u05EC\u05EF\u05FA\u0600\u0612\u0616\u061B\u061D\u0623\u066C\u0672cy;\u4403\u803B>\u403Emma\u0100;d\u05F7\u05F8\u4393;\u43DCreve;\u411E\u0180eiy\u0607\u060C\u0610dil;\u4122rc;\u411C;\u4413ot;\u4120r;\uC000\u{1D50A};\u62D9pf;\uC000\u{1D53E}eater\u0300EFGLST\u0635\u0644\u064E\u0656\u065B\u0666qual\u0100;L\u063E\u063F\u6265ess;\u62DBullEqual;\u6267reater;\u6AA2ess;\u6277lantEqual;\u6A7Eilde;\u6273cr;\uC000\u{1D4A2};\u626B\u0400Aacfiosu\u0685\u068B\u0696\u069B\u069E\u06AA\u06BE\u06CARDcy;\u442A\u0100ct\u0690\u0694ek;\u42C7;\u405Eirc;\u4124r;\u610ClbertSpace;\u610B\u01F0\u06AF\0\u06B2f;\u610DizontalLine;\u6500\u0100ct\u06C3\u06C5\xF2\u06A9rok;\u4126mp\u0144\u06D0\u06D8ownHum\xF0\u012Fqual;\u624F\u0700EJOacdfgmnostu\u06FA\u06FE\u0703\u0707\u070E\u071A\u071E\u0721\u0728\u0744\u0778\u078B\u078F\u0795cy;\u4415lig;\u4132cy;\u4401cute\u803B\xCD\u40CD\u0100iy\u0713\u0718rc\u803B\xCE\u40CE;\u4418ot;\u4130r;\u6111rave\u803B\xCC\u40CC\u0180;ap\u0720\u072F\u073F\u0100cg\u0734\u0737r;\u412AinaryI;\u6148lie\xF3\u03DD\u01F4\u0749\0\u0762\u0100;e\u074D\u074E\u622C\u0100gr\u0753\u0758ral;\u622Bsection;\u62C2isible\u0100CT\u076C\u0772omma;\u6063imes;\u6062\u0180gpt\u077F\u0783\u0788on;\u412Ef;\uC000\u{1D540}a;\u4399cr;\u6110ilde;\u4128\u01EB\u079A\0\u079Ecy;\u4406l\u803B\xCF\u40CF\u0280cfosu\u07AC\u07B7\u07BC\u07C2\u07D0\u0100iy\u07B1\u07B5rc;\u4134;\u4419r;\uC000\u{1D50D}pf;\uC000\u{1D541}\u01E3\u07C7\0\u07CCr;\uC000\u{1D4A5}rcy;\u4408kcy;\u4404\u0380HJacfos\u07E4\u07E8\u07EC\u07F1\u07FD\u0802\u0808cy;\u4425cy;\u440Cppa;\u439A\u0100ey\u07F6\u07FBdil;\u4136;\u441Ar;\uC000\u{1D50E}pf;\uC000\u{1D542}cr;\uC000\u{1D4A6}\u0580JTaceflmost\u0825\u0829\u082C\u0850\u0863\u09B3\u09B8\u09C7\u09CD\u0A37\u0A47cy;\u4409\u803B<\u403C\u0280cmnpr\u0837\u083C\u0841\u0844\u084Dute;\u4139bda;\u439Bg;\u67EAlacetrf;\u6112r;\u619E\u0180aey\u0857\u085C\u0861ron;\u413Ddil;\u413B;\u441B\u0100fs\u0868\u0970t\u0500ACDFRTUVar\u087E\u08A9\u08B1\u08E0\u08E6\u08FC\u092F\u095B\u0390\u096A\u0100nr\u0883\u088FgleBracket;\u67E8row\u0180;BR\u0899\u089A\u089E\u6190ar;\u61E4ightArrow;\u61C6eiling;\u6308o\u01F5\u08B7\0\u08C3bleBracket;\u67E6n\u01D4\u08C8\0\u08D2eeVector;\u6961ector\u0100;B\u08DB\u08DC\u61C3ar;\u6959loor;\u630Aight\u0100AV\u08EF\u08F5rrow;\u6194ector;\u694E\u0100er\u0901\u0917e\u0180;AV\u0909\u090A\u0910\u62A3rrow;\u61A4ector;\u695Aiangle\u0180;BE\u0924\u0925\u0929\u62B2ar;\u69CFqual;\u62B4p\u0180DTV\u0937\u0942\u094CownVector;\u6951eeVector;\u6960ector\u0100;B\u0956\u0957\u61BFar;\u6958ector\u0100;B\u0965\u0966\u61BCar;\u6952ight\xE1\u039Cs\u0300EFGLST\u097E\u098B\u0995\u099D\u09A2\u09ADqualGreater;\u62DAullEqual;\u6266reater;\u6276ess;\u6AA1lantEqual;\u6A7Dilde;\u6272r;\uC000\u{1D50F}\u0100;e\u09BD\u09BE\u62D8ftarrow;\u61DAidot;\u413F\u0180npw\u09D4\u0A16\u0A1Bg\u0200LRlr\u09DE\u09F7\u0A02\u0A10eft\u0100AR\u09E6\u09ECrrow;\u67F5ightArrow;\u67F7ightArrow;\u67F6eft\u0100ar\u03B3\u0A0Aight\xE1\u03BFight\xE1\u03CAf;\uC000\u{1D543}er\u0100LR\u0A22\u0A2CeftArrow;\u6199ightArrow;\u6198\u0180cht\u0A3E\u0A40\u0A42\xF2\u084C;\u61B0rok;\u4141;\u626A\u0400acefiosu\u0A5A\u0A5D\u0A60\u0A77\u0A7C\u0A85\u0A8B\u0A8Ep;\u6905y;\u441C\u0100dl\u0A65\u0A6FiumSpace;\u605Flintrf;\u6133r;\uC000\u{1D510}nusPlus;\u6213pf;\uC000\u{1D544}c\xF2\u0A76;\u439C\u0480Jacefostu\u0AA3\u0AA7\u0AAD\u0AC0\u0B14\u0B19\u0D91\u0D97\u0D9Ecy;\u440Acute;\u4143\u0180aey\u0AB4\u0AB9\u0ABEron;\u4147dil;\u4145;\u441D\u0180gsw\u0AC7\u0AF0\u0B0Eative\u0180MTV\u0AD3\u0ADF\u0AE8ediumSpace;\u600Bhi\u0100cn\u0AE6\u0AD8\xEB\u0AD9eryThi\xEE\u0AD9ted\u0100GL\u0AF8\u0B06reaterGreate\xF2\u0673essLes\xF3\u0A48Line;\u400Ar;\uC000\u{1D511}\u0200Bnpt\u0B22\u0B28\u0B37\u0B3Areak;\u6060BreakingSpace;\u40A0f;\u6115\u0680;CDEGHLNPRSTV\u0B55\u0B56\u0B6A\u0B7C\u0BA1\u0BEB\u0C04\u0C5E\u0C84\u0CA6\u0CD8\u0D61\u0D85\u6AEC\u0100ou\u0B5B\u0B64ngruent;\u6262pCap;\u626DoubleVerticalBar;\u6226\u0180lqx\u0B83\u0B8A\u0B9Bement;\u6209ual\u0100;T\u0B92\u0B93\u6260ilde;\uC000\u2242\u0338ists;\u6204reater\u0380;EFGLST\u0BB6\u0BB7\u0BBD\u0BC9\u0BD3\u0BD8\u0BE5\u626Fqual;\u6271ullEqual;\uC000\u2267\u0338reater;\uC000\u226B\u0338ess;\u6279lantEqual;\uC000\u2A7E\u0338ilde;\u6275ump\u0144\u0BF2\u0BFDownHump;\uC000\u224E\u0338qual;\uC000\u224F\u0338e\u0100fs\u0C0A\u0C27tTriangle\u0180;BE\u0C1A\u0C1B\u0C21\u62EAar;\uC000\u29CF\u0338qual;\u62ECs\u0300;EGLST\u0C35\u0C36\u0C3C\u0C44\u0C4B\u0C58\u626Equal;\u6270reater;\u6278ess;\uC000\u226A\u0338lantEqual;\uC000\u2A7D\u0338ilde;\u6274ested\u0100GL\u0C68\u0C79reaterGreater;\uC000\u2AA2\u0338essLess;\uC000\u2AA1\u0338recedes\u0180;ES\u0C92\u0C93\u0C9B\u6280qual;\uC000\u2AAF\u0338lantEqual;\u62E0\u0100ei\u0CAB\u0CB9verseElement;\u620CghtTriangle\u0180;BE\u0CCB\u0CCC\u0CD2\u62EBar;\uC000\u29D0\u0338qual;\u62ED\u0100qu\u0CDD\u0D0CuareSu\u0100bp\u0CE8\u0CF9set\u0100;E\u0CF0\u0CF3\uC000\u228F\u0338qual;\u62E2erset\u0100;E\u0D03\u0D06\uC000\u2290\u0338qual;\u62E3\u0180bcp\u0D13\u0D24\u0D4Eset\u0100;E\u0D1B\u0D1E\uC000\u2282\u20D2qual;\u6288ceeds\u0200;EST\u0D32\u0D33\u0D3B\u0D46\u6281qual;\uC000\u2AB0\u0338lantEqual;\u62E1ilde;\uC000\u227F\u0338erset\u0100;E\u0D58\u0D5B\uC000\u2283\u20D2qual;\u6289ilde\u0200;EFT\u0D6E\u0D6F\u0D75\u0D7F\u6241qual;\u6244ullEqual;\u6247ilde;\u6249erticalBar;\u6224cr;\uC000\u{1D4A9}ilde\u803B\xD1\u40D1;\u439D\u0700Eacdfgmoprstuv\u0DBD\u0DC2\u0DC9\u0DD5\u0DDB\u0DE0\u0DE7\u0DFC\u0E02\u0E20\u0E22\u0E32\u0E3F\u0E44lig;\u4152cute\u803B\xD3\u40D3\u0100iy\u0DCE\u0DD3rc\u803B\xD4\u40D4;\u441Eblac;\u4150r;\uC000\u{1D512}rave\u803B\xD2\u40D2\u0180aei\u0DEE\u0DF2\u0DF6cr;\u414Cga;\u43A9cron;\u439Fpf;\uC000\u{1D546}enCurly\u0100DQ\u0E0E\u0E1AoubleQuote;\u601Cuote;\u6018;\u6A54\u0100cl\u0E27\u0E2Cr;\uC000\u{1D4AA}ash\u803B\xD8\u40D8i\u016C\u0E37\u0E3Cde\u803B\xD5\u40D5es;\u6A37ml\u803B\xD6\u40D6er\u0100BP\u0E4B\u0E60\u0100ar\u0E50\u0E53r;\u603Eac\u0100ek\u0E5A\u0E5C;\u63DEet;\u63B4arenthesis;\u63DC\u0480acfhilors\u0E7F\u0E87\u0E8A\u0E8F\u0E92\u0E94\u0E9D\u0EB0\u0EFCrtialD;\u6202y;\u441Fr;\uC000\u{1D513}i;\u43A6;\u43A0usMinus;\u40B1\u0100ip\u0EA2\u0EADncareplan\xE5\u069Df;\u6119\u0200;eio\u0EB9\u0EBA\u0EE0\u0EE4\u6ABBcedes\u0200;EST\u0EC8\u0EC9\u0ECF\u0EDA\u627Aqual;\u6AAFlantEqual;\u627Cilde;\u627Eme;\u6033\u0100dp\u0EE9\u0EEEuct;\u620Fortion\u0100;a\u0225\u0EF9l;\u621D\u0100ci\u0F01\u0F06r;\uC000\u{1D4AB};\u43A8\u0200Ufos\u0F11\u0F16\u0F1B\u0F1FOT\u803B"\u4022r;\uC000\u{1D514}pf;\u611Acr;\uC000\u{1D4AC}\u0600BEacefhiorsu\u0F3E\u0F43\u0F47\u0F60\u0F73\u0FA7\u0FAA\u0FAD\u1096\u10A9\u10B4\u10BEarr;\u6910G\u803B\xAE\u40AE\u0180cnr\u0F4E\u0F53\u0F56ute;\u4154g;\u67EBr\u0100;t\u0F5C\u0F5D\u61A0l;\u6916\u0180aey\u0F67\u0F6C\u0F71ron;\u4158dil;\u4156;\u4420\u0100;v\u0F78\u0F79\u611Cerse\u0100EU\u0F82\u0F99\u0100lq\u0F87\u0F8Eement;\u620Builibrium;\u61CBpEquilibrium;\u696Fr\xBB\u0F79o;\u43A1ght\u0400ACDFTUVa\u0FC1\u0FEB\u0FF3\u1022\u1028\u105B\u1087\u03D8\u0100nr\u0FC6\u0FD2gleBracket;\u67E9row\u0180;BL\u0FDC\u0FDD\u0FE1\u6192ar;\u61E5eftArrow;\u61C4eiling;\u6309o\u01F5\u0FF9\0\u1005bleBracket;\u67E7n\u01D4\u100A\0\u1014eeVector;\u695Dector\u0100;B\u101D\u101E\u61C2ar;\u6955loor;\u630B\u0100er\u102D\u1043e\u0180;AV\u1035\u1036\u103C\u62A2rrow;\u61A6ector;\u695Biangle\u0180;BE\u1050\u1051\u1055\u62B3ar;\u69D0qual;\u62B5p\u0180DTV\u1063\u106E\u1078ownVector;\u694FeeVector;\u695Cector\u0100;B\u1082\u1083\u61BEar;\u6954ector\u0100;B\u1091\u1092\u61C0ar;\u6953\u0100pu\u109B\u109Ef;\u611DndImplies;\u6970ightarrow;\u61DB\u0100ch\u10B9\u10BCr;\u611B;\u61B1leDelayed;\u69F4\u0680HOacfhimoqstu\u10E4\u10F1\u10F7\u10FD\u1119\u111E\u1151\u1156\u1161\u1167\u11B5\u11BB\u11BF\u0100Cc\u10E9\u10EEHcy;\u4429y;\u4428FTcy;\u442Ccute;\u415A\u0280;aeiy\u1108\u1109\u110E\u1113\u1117\u6ABCron;\u4160dil;\u415Erc;\u415C;\u4421r;\uC000\u{1D516}ort\u0200DLRU\u112A\u1134\u113E\u1149ownArrow\xBB\u041EeftArrow\xBB\u089AightArrow\xBB\u0FDDpArrow;\u6191gma;\u43A3allCircle;\u6218pf;\uC000\u{1D54A}\u0272\u116D\0\0\u1170t;\u621Aare\u0200;ISU\u117B\u117C\u1189\u11AF\u65A1ntersection;\u6293u\u0100bp\u118F\u119Eset\u0100;E\u1197\u1198\u628Fqual;\u6291erset\u0100;E\u11A8\u11A9\u6290qual;\u6292nion;\u6294cr;\uC000\u{1D4AE}ar;\u62C6\u0200bcmp\u11C8\u11DB\u1209\u120B\u0100;s\u11CD\u11CE\u62D0et\u0100;E\u11CD\u11D5qual;\u6286\u0100ch\u11E0\u1205eeds\u0200;EST\u11ED\u11EE\u11F4\u11FF\u627Bqual;\u6AB0lantEqual;\u627Dilde;\u627FTh\xE1\u0F8C;\u6211\u0180;es\u1212\u1213\u1223\u62D1rset\u0100;E\u121C\u121D\u6283qual;\u6287et\xBB\u1213\u0580HRSacfhiors\u123E\u1244\u1249\u1255\u125E\u1271\u1276\u129F\u12C2\u12C8\u12D1ORN\u803B\xDE\u40DEADE;\u6122\u0100Hc\u124E\u1252cy;\u440By;\u4426\u0100bu\u125A\u125C;\u4009;\u43A4\u0180aey\u1265\u126A\u126Fron;\u4164dil;\u4162;\u4422r;\uC000\u{1D517}\u0100ei\u127B\u1289\u01F2\u1280\0\u1287efore;\u6234a;\u4398\u0100cn\u128E\u1298kSpace;\uC000\u205F\u200ASpace;\u6009lde\u0200;EFT\u12AB\u12AC\u12B2\u12BC\u623Cqual;\u6243ullEqual;\u6245ilde;\u6248pf;\uC000\u{1D54B}ipleDot;\u60DB\u0100ct\u12D6\u12DBr;\uC000\u{1D4AF}rok;\u4166\u0AE1\u12F7\u130E\u131A\u1326\0\u132C\u1331\0\0\0\0\0\u1338\u133D\u1377\u1385\0\u13FF\u1404\u140A\u1410\u0100cr\u12FB\u1301ute\u803B\xDA\u40DAr\u0100;o\u1307\u1308\u619Fcir;\u6949r\u01E3\u1313\0\u1316y;\u440Eve;\u416C\u0100iy\u131E\u1323rc\u803B\xDB\u40DB;\u4423blac;\u4170r;\uC000\u{1D518}rave\u803B\xD9\u40D9acr;\u416A\u0100di\u1341\u1369er\u0100BP\u1348\u135D\u0100ar\u134D\u1350r;\u405Fac\u0100ek\u1357\u1359;\u63DFet;\u63B5arenthesis;\u63DDon\u0100;P\u1370\u1371\u62C3lus;\u628E\u0100gp\u137B\u137Fon;\u4172f;\uC000\u{1D54C}\u0400ADETadps\u1395\u13AE\u13B8\u13C4\u03E8\u13D2\u13D7\u13F3rrow\u0180;BD\u1150\u13A0\u13A4ar;\u6912ownArrow;\u61C5ownArrow;\u6195quilibrium;\u696Eee\u0100;A\u13CB\u13CC\u62A5rrow;\u61A5own\xE1\u03F3er\u0100LR\u13DE\u13E8eftArrow;\u6196ightArrow;\u6197i\u0100;l\u13F9\u13FA\u43D2on;\u43A5ing;\u416Ecr;\uC000\u{1D4B0}ilde;\u4168ml\u803B\xDC\u40DC\u0480Dbcdefosv\u1427\u142C\u1430\u1433\u143E\u1485\u148A\u1490\u1496ash;\u62ABar;\u6AEBy;\u4412ash\u0100;l\u143B\u143C\u62A9;\u6AE6\u0100er\u1443\u1445;\u62C1\u0180bty\u144C\u1450\u147Aar;\u6016\u0100;i\u144F\u1455cal\u0200BLST\u1461\u1465\u146A\u1474ar;\u6223ine;\u407Ceparator;\u6758ilde;\u6240ThinSpace;\u600Ar;\uC000\u{1D519}pf;\uC000\u{1D54D}cr;\uC000\u{1D4B1}dash;\u62AA\u0280cefos\u14A7\u14AC\u14B1\u14B6\u14BCirc;\u4174dge;\u62C0r;\uC000\u{1D51A}pf;\uC000\u{1D54E}cr;\uC000\u{1D4B2}\u0200fios\u14CB\u14D0\u14D2\u14D8r;\uC000\u{1D51B};\u439Epf;\uC000\u{1D54F}cr;\uC000\u{1D4B3}\u0480AIUacfosu\u14F1\u14F5\u14F9\u14FD\u1504\u150F\u1514\u151A\u1520cy;\u442Fcy;\u4407cy;\u442Ecute\u803B\xDD\u40DD\u0100iy\u1509\u150Drc;\u4176;\u442Br;\uC000\u{1D51C}pf;\uC000\u{1D550}cr;\uC000\u{1D4B4}ml;\u4178\u0400Hacdefos\u1535\u1539\u153F\u154B\u154F\u155D\u1560\u1564cy;\u4416cute;\u4179\u0100ay\u1544\u1549ron;\u417D;\u4417ot;\u417B\u01F2\u1554\0\u155BoWidt\xE8\u0AD9a;\u4396r;\u6128pf;\u6124cr;\uC000\u{1D4B5}\u0BE1\u1583\u158A\u1590\0\u15B0\u15B6\u15BF\0\0\0\0\u15C6\u15DB\u15EB\u165F\u166D\0\u1695\u169B\u16B2\u16B9\0\u16BEcute\u803B\xE1\u40E1reve;\u4103\u0300;Ediuy\u159C\u159D\u15A1\u15A3\u15A8\u15AD\u623E;\uC000\u223E\u0333;\u623Frc\u803B\xE2\u40E2te\u80BB\xB4\u0306;\u4430lig\u803B\xE6\u40E6\u0100;r\xB2\u15BA;\uC000\u{1D51E}rave\u803B\xE0\u40E0\u0100ep\u15CA\u15D6\u0100fp\u15CF\u15D4sym;\u6135\xE8\u15D3ha;\u43B1\u0100ap\u15DFc\u0100cl\u15E4\u15E7r;\u4101g;\u6A3F\u0264\u15F0\0\0\u160A\u0280;adsv\u15FA\u15FB\u15FF\u1601\u1607\u6227nd;\u6A55;\u6A5Clope;\u6A58;\u6A5A\u0380;elmrsz\u1618\u1619\u161B\u161E\u163F\u164F\u1659\u6220;\u69A4e\xBB\u1619sd\u0100;a\u1625\u1626\u6221\u0461\u1630\u1632\u1634\u1636\u1638\u163A\u163C\u163E;\u69A8;\u69A9;\u69AA;\u69AB;\u69AC;\u69AD;\u69AE;\u69AFt\u0100;v\u1645\u1646\u621Fb\u0100;d\u164C\u164D\u62BE;\u699D\u0100pt\u1654\u1657h;\u6222\xBB\xB9arr;\u637C\u0100gp\u1663\u1667on;\u4105f;\uC000\u{1D552}\u0380;Eaeiop\u12C1\u167B\u167D\u1682\u1684\u1687\u168A;\u6A70cir;\u6A6F;\u624Ad;\u624Bs;\u4027rox\u0100;e\u12C1\u1692\xF1\u1683ing\u803B\xE5\u40E5\u0180cty\u16A1\u16A6\u16A8r;\uC000\u{1D4B6};\u402Amp\u0100;e\u12C1\u16AF\xF1\u0288ilde\u803B\xE3\u40E3ml\u803B\xE4\u40E4\u0100ci\u16C2\u16C8onin\xF4\u0272nt;\u6A11\u0800Nabcdefiklnoprsu\u16ED\u16F1\u1730\u173C\u1743\u1748\u1778\u177D\u17E0\u17E6\u1839\u1850\u170D\u193D\u1948\u1970ot;\u6AED\u0100cr\u16F6\u171Ek\u0200ceps\u1700\u1705\u170D\u1713ong;\u624Cpsilon;\u43F6rime;\u6035im\u0100;e\u171A\u171B\u623Dq;\u62CD\u0176\u1722\u1726ee;\u62BDed\u0100;g\u172C\u172D\u6305e\xBB\u172Drk\u0100;t\u135C\u1737brk;\u63B6\u0100oy\u1701\u1741;\u4431quo;\u601E\u0280cmprt\u1753\u175B\u1761\u1764\u1768aus\u0100;e\u010A\u0109ptyv;\u69B0s\xE9\u170Cno\xF5\u0113\u0180ahw\u176F\u1771\u1773;\u43B2;\u6136een;\u626Cr;\uC000\u{1D51F}g\u0380costuvw\u178D\u179D\u17B3\u17C1\u17D5\u17DB\u17DE\u0180aiu\u1794\u1796\u179A\xF0\u0760rc;\u65EFp\xBB\u1371\u0180dpt\u17A4\u17A8\u17ADot;\u6A00lus;\u6A01imes;\u6A02\u0271\u17B9\0\0\u17BEcup;\u6A06ar;\u6605riangle\u0100du\u17CD\u17D2own;\u65BDp;\u65B3plus;\u6A04e\xE5\u1444\xE5\u14ADarow;\u690D\u0180ako\u17ED\u1826\u1835\u0100cn\u17F2\u1823k\u0180lst\u17FA\u05AB\u1802ozenge;\u69EBriangle\u0200;dlr\u1812\u1813\u1818\u181D\u65B4own;\u65BEeft;\u65C2ight;\u65B8k;\u6423\u01B1\u182B\0\u1833\u01B2\u182F\0\u1831;\u6592;\u65914;\u6593ck;\u6588\u0100eo\u183E\u184D\u0100;q\u1843\u1846\uC000=\u20E5uiv;\uC000\u2261\u20E5t;\u6310\u0200ptwx\u1859\u185E\u1867\u186Cf;\uC000\u{1D553}\u0100;t\u13CB\u1863om\xBB\u13CCtie;\u62C8\u0600DHUVbdhmptuv\u1885\u1896\u18AA\u18BB\u18D7\u18DB\u18EC\u18FF\u1905\u190A\u1910\u1921\u0200LRlr\u188E\u1890\u1892\u1894;\u6557;\u6554;\u6556;\u6553\u0280;DUdu\u18A1\u18A2\u18A4\u18A6\u18A8\u6550;\u6566;\u6569;\u6564;\u6567\u0200LRlr\u18B3\u18B5\u18B7\u18B9;\u655D;\u655A;\u655C;\u6559\u0380;HLRhlr\u18CA\u18CB\u18CD\u18CF\u18D1\u18D3\u18D5\u6551;\u656C;\u6563;\u6560;\u656B;\u6562;\u655Fox;\u69C9\u0200LRlr\u18E4\u18E6\u18E8\u18EA;\u6555;\u6552;\u6510;\u650C\u0280;DUdu\u06BD\u18F7\u18F9\u18FB\u18FD;\u6565;\u6568;\u652C;\u6534inus;\u629Flus;\u629Eimes;\u62A0\u0200LRlr\u1919\u191B\u191D\u191F;\u655B;\u6558;\u6518;\u6514\u0380;HLRhlr\u1930\u1931\u1933\u1935\u1937\u1939\u193B\u6502;\u656A;\u6561;\u655E;\u653C;\u6524;\u651C\u0100ev\u0123\u1942bar\u803B\xA6\u40A6\u0200ceio\u1951\u1956\u195A\u1960r;\uC000\u{1D4B7}mi;\u604Fm\u0100;e\u171A\u171Cl\u0180;bh\u1968\u1969\u196B\u405C;\u69C5sub;\u67C8\u016C\u1974\u197El\u0100;e\u1979\u197A\u6022t\xBB\u197Ap\u0180;Ee\u012F\u1985\u1987;\u6AAE\u0100;q\u06DC\u06DB\u0CE1\u19A7\0\u19E8\u1A11\u1A15\u1A32\0\u1A37\u1A50\0\0\u1AB4\0\0\u1AC1\0\0\u1B21\u1B2E\u1B4D\u1B52\0\u1BFD\0\u1C0C\u0180cpr\u19AD\u19B2\u19DDute;\u4107\u0300;abcds\u19BF\u19C0\u19C4\u19CA\u19D5\u19D9\u6229nd;\u6A44rcup;\u6A49\u0100au\u19CF\u19D2p;\u6A4Bp;\u6A47ot;\u6A40;\uC000\u2229\uFE00\u0100eo\u19E2\u19E5t;\u6041\xEE\u0693\u0200aeiu\u19F0\u19FB\u1A01\u1A05\u01F0\u19F5\0\u19F8s;\u6A4Don;\u410Ddil\u803B\xE7\u40E7rc;\u4109ps\u0100;s\u1A0C\u1A0D\u6A4Cm;\u6A50ot;\u410B\u0180dmn\u1A1B\u1A20\u1A26il\u80BB\xB8\u01ADptyv;\u69B2t\u8100\xA2;e\u1A2D\u1A2E\u40A2r\xE4\u01B2r;\uC000\u{1D520}\u0180cei\u1A3D\u1A40\u1A4Dy;\u4447ck\u0100;m\u1A47\u1A48\u6713ark\xBB\u1A48;\u43C7r\u0380;Ecefms\u1A5F\u1A60\u1A62\u1A6B\u1AA4\u1AAA\u1AAE\u65CB;\u69C3\u0180;el\u1A69\u1A6A\u1A6D\u42C6q;\u6257e\u0261\u1A74\0\0\u1A88rrow\u0100lr\u1A7C\u1A81eft;\u61BAight;\u61BB\u0280RSacd\u1A92\u1A94\u1A96\u1A9A\u1A9F\xBB\u0F47;\u64C8st;\u629Birc;\u629Aash;\u629Dnint;\u6A10id;\u6AEFcir;\u69C2ubs\u0100;u\u1ABB\u1ABC\u6663it\xBB\u1ABC\u02EC\u1AC7\u1AD4\u1AFA\0\u1B0Aon\u0100;e\u1ACD\u1ACE\u403A\u0100;q\xC7\xC6\u026D\u1AD9\0\0\u1AE2a\u0100;t\u1ADE\u1ADF\u402C;\u4040\u0180;fl\u1AE8\u1AE9\u1AEB\u6201\xEE\u1160e\u0100mx\u1AF1\u1AF6ent\xBB\u1AE9e\xF3\u024D\u01E7\u1AFE\0\u1B07\u0100;d\u12BB\u1B02ot;\u6A6Dn\xF4\u0246\u0180fry\u1B10\u1B14\u1B17;\uC000\u{1D554}o\xE4\u0254\u8100\xA9;s\u0155\u1B1Dr;\u6117\u0100ao\u1B25\u1B29rr;\u61B5ss;\u6717\u0100cu\u1B32\u1B37r;\uC000\u{1D4B8}\u0100bp\u1B3C\u1B44\u0100;e\u1B41\u1B42\u6ACF;\u6AD1\u0100;e\u1B49\u1B4A\u6AD0;\u6AD2dot;\u62EF\u0380delprvw\u1B60\u1B6C\u1B77\u1B82\u1BAC\u1BD4\u1BF9arr\u0100lr\u1B68\u1B6A;\u6938;\u6935\u0270\u1B72\0\0\u1B75r;\u62DEc;\u62DFarr\u0100;p\u1B7F\u1B80\u61B6;\u693D\u0300;bcdos\u1B8F\u1B90\u1B96\u1BA1\u1BA5\u1BA8\u622Arcap;\u6A48\u0100au\u1B9B\u1B9Ep;\u6A46p;\u6A4Aot;\u628Dr;\u6A45;\uC000\u222A\uFE00\u0200alrv\u1BB5\u1BBF\u1BDE\u1BE3rr\u0100;m\u1BBC\u1BBD\u61B7;\u693Cy\u0180evw\u1BC7\u1BD4\u1BD8q\u0270\u1BCE\0\0\u1BD2re\xE3\u1B73u\xE3\u1B75ee;\u62CEedge;\u62CFen\u803B\xA4\u40A4earrow\u0100lr\u1BEE\u1BF3eft\xBB\u1B80ight\xBB\u1BBDe\xE4\u1BDD\u0100ci\u1C01\u1C07onin\xF4\u01F7nt;\u6231lcty;\u632D\u0980AHabcdefhijlorstuwz\u1C38\u1C3B\u1C3F\u1C5D\u1C69\u1C75\u1C8A\u1C9E\u1CAC\u1CB7\u1CFB\u1CFF\u1D0D\u1D7B\u1D91\u1DAB\u1DBB\u1DC6\u1DCDr\xF2\u0381ar;\u6965\u0200glrs\u1C48\u1C4D\u1C52\u1C54ger;\u6020eth;\u6138\xF2\u1133h\u0100;v\u1C5A\u1C5B\u6010\xBB\u090A\u016B\u1C61\u1C67arow;\u690Fa\xE3\u0315\u0100ay\u1C6E\u1C73ron;\u410F;\u4434\u0180;ao\u0332\u1C7C\u1C84\u0100gr\u02BF\u1C81r;\u61CAtseq;\u6A77\u0180glm\u1C91\u1C94\u1C98\u803B\xB0\u40B0ta;\u43B4ptyv;\u69B1\u0100ir\u1CA3\u1CA8sht;\u697F;\uC000\u{1D521}ar\u0100lr\u1CB3\u1CB5\xBB\u08DC\xBB\u101E\u0280aegsv\u1CC2\u0378\u1CD6\u1CDC\u1CE0m\u0180;os\u0326\u1CCA\u1CD4nd\u0100;s\u0326\u1CD1uit;\u6666amma;\u43DDin;\u62F2\u0180;io\u1CE7\u1CE8\u1CF8\u40F7de\u8100\xF7;o\u1CE7\u1CF0ntimes;\u62C7n\xF8\u1CF7cy;\u4452c\u026F\u1D06\0\0\u1D0Arn;\u631Eop;\u630D\u0280lptuw\u1D18\u1D1D\u1D22\u1D49\u1D55lar;\u4024f;\uC000\u{1D555}\u0280;emps\u030B\u1D2D\u1D37\u1D3D\u1D42q\u0100;d\u0352\u1D33ot;\u6251inus;\u6238lus;\u6214quare;\u62A1blebarwedg\xE5\xFAn\u0180adh\u112E\u1D5D\u1D67ownarrow\xF3\u1C83arpoon\u0100lr\u1D72\u1D76ef\xF4\u1CB4igh\xF4\u1CB6\u0162\u1D7F\u1D85karo\xF7\u0F42\u026F\u1D8A\0\0\u1D8Ern;\u631Fop;\u630C\u0180cot\u1D98\u1DA3\u1DA6\u0100ry\u1D9D\u1DA1;\uC000\u{1D4B9};\u4455l;\u69F6rok;\u4111\u0100dr\u1DB0\u1DB4ot;\u62F1i\u0100;f\u1DBA\u1816\u65BF\u0100ah\u1DC0\u1DC3r\xF2\u0429a\xF2\u0FA6angle;\u69A6\u0100ci\u1DD2\u1DD5y;\u445Fgrarr;\u67FF\u0900Dacdefglmnopqrstux\u1E01\u1E09\u1E19\u1E38\u0578\u1E3C\u1E49\u1E61\u1E7E\u1EA5\u1EAF\u1EBD\u1EE1\u1F2A\u1F37\u1F44\u1F4E\u1F5A\u0100Do\u1E06\u1D34o\xF4\u1C89\u0100cs\u1E0E\u1E14ute\u803B\xE9\u40E9ter;\u6A6E\u0200aioy\u1E22\u1E27\u1E31\u1E36ron;\u411Br\u0100;c\u1E2D\u1E2E\u6256\u803B\xEA\u40EAlon;\u6255;\u444Dot;\u4117\u0100Dr\u1E41\u1E45ot;\u6252;\uC000\u{1D522}\u0180;rs\u1E50\u1E51\u1E57\u6A9Aave\u803B\xE8\u40E8\u0100;d\u1E5C\u1E5D\u6A96ot;\u6A98\u0200;ils\u1E6A\u1E6B\u1E72\u1E74\u6A99nters;\u63E7;\u6113\u0100;d\u1E79\u1E7A\u6A95ot;\u6A97\u0180aps\u1E85\u1E89\u1E97cr;\u4113ty\u0180;sv\u1E92\u1E93\u1E95\u6205et\xBB\u1E93p\u01001;\u1E9D\u1EA4\u0133\u1EA1\u1EA3;\u6004;\u6005\u6003\u0100gs\u1EAA\u1EAC;\u414Bp;\u6002\u0100gp\u1EB4\u1EB8on;\u4119f;\uC000\u{1D556}\u0180als\u1EC4\u1ECE\u1ED2r\u0100;s\u1ECA\u1ECB\u62D5l;\u69E3us;\u6A71i\u0180;lv\u1EDA\u1EDB\u1EDF\u43B5on\xBB\u1EDB;\u43F5\u0200csuv\u1EEA\u1EF3\u1F0B\u1F23\u0100io\u1EEF\u1E31rc\xBB\u1E2E\u0269\u1EF9\0\0\u1EFB\xED\u0548ant\u0100gl\u1F02\u1F06tr\xBB\u1E5Dess\xBB\u1E7A\u0180aei\u1F12\u1F16\u1F1Als;\u403Dst;\u625Fv\u0100;D\u0235\u1F20D;\u6A78parsl;\u69E5\u0100Da\u1F2F\u1F33ot;\u6253rr;\u6971\u0180cdi\u1F3E\u1F41\u1EF8r;\u612Fo\xF4\u0352\u0100ah\u1F49\u1F4B;\u43B7\u803B\xF0\u40F0\u0100mr\u1F53\u1F57l\u803B\xEB\u40EBo;\u60AC\u0180cip\u1F61\u1F64\u1F67l;\u4021s\xF4\u056E\u0100eo\u1F6C\u1F74ctatio\xEE\u0559nential\xE5\u0579\u09E1\u1F92\0\u1F9E\0\u1FA1\u1FA7\0\0\u1FC6\u1FCC\0\u1FD3\0\u1FE6\u1FEA\u2000\0\u2008\u205Allingdotse\xF1\u1E44y;\u4444male;\u6640\u0180ilr\u1FAD\u1FB3\u1FC1lig;\u8000\uFB03\u0269\u1FB9\0\0\u1FBDg;\u8000\uFB00ig;\u8000\uFB04;\uC000\u{1D523}lig;\u8000\uFB01lig;\uC000fj\u0180alt\u1FD9\u1FDC\u1FE1t;\u666Dig;\u8000\uFB02ns;\u65B1of;\u4192\u01F0\u1FEE\0\u1FF3f;\uC000\u{1D557}\u0100ak\u05BF\u1FF7\u0100;v\u1FFC\u1FFD\u62D4;\u6AD9artint;\u6A0D\u0100ao\u200C\u2055\u0100cs\u2011\u2052\u03B1\u201A\u2030\u2038\u2045\u2048\0\u2050\u03B2\u2022\u2025\u2027\u202A\u202C\0\u202E\u803B\xBD\u40BD;\u6153\u803B\xBC\u40BC;\u6155;\u6159;\u615B\u01B3\u2034\0\u2036;\u6154;\u6156\u02B4\u203E\u2041\0\0\u2043\u803B\xBE\u40BE;\u6157;\u615C5;\u6158\u01B6\u204C\0\u204E;\u615A;\u615D8;\u615El;\u6044wn;\u6322cr;\uC000\u{1D4BB}\u0880Eabcdefgijlnorstv\u2082\u2089\u209F\u20A5\u20B0\u20B4\u20F0\u20F5\u20FA\u20FF\u2103\u2112\u2138\u0317\u213E\u2152\u219E\u0100;l\u064D\u2087;\u6A8C\u0180cmp\u2090\u2095\u209Dute;\u41F5ma\u0100;d\u209C\u1CDA\u43B3;\u6A86reve;\u411F\u0100iy\u20AA\u20AErc;\u411D;\u4433ot;\u4121\u0200;lqs\u063E\u0642\u20BD\u20C9\u0180;qs\u063E\u064C\u20C4lan\xF4\u0665\u0200;cdl\u0665\u20D2\u20D5\u20E5c;\u6AA9ot\u0100;o\u20DC\u20DD\u6A80\u0100;l\u20E2\u20E3\u6A82;\u6A84\u0100;e\u20EA\u20ED\uC000\u22DB\uFE00s;\u6A94r;\uC000\u{1D524}\u0100;g\u0673\u061Bmel;\u6137cy;\u4453\u0200;Eaj\u065A\u210C\u210E\u2110;\u6A92;\u6AA5;\u6AA4\u0200Eaes\u211B\u211D\u2129\u2134;\u6269p\u0100;p\u2123\u2124\u6A8Arox\xBB\u2124\u0100;q\u212E\u212F\u6A88\u0100;q\u212E\u211Bim;\u62E7pf;\uC000\u{1D558}\u0100ci\u2143\u2146r;\u610Am\u0180;el\u066B\u214E\u2150;\u6A8E;\u6A90\u8300>;cdlqr\u05EE\u2160\u216A\u216E\u2173\u2179\u0100ci\u2165\u2167;\u6AA7r;\u6A7Aot;\u62D7Par;\u6995uest;\u6A7C\u0280adels\u2184\u216A\u2190\u0656\u219B\u01F0\u2189\0\u218Epro\xF8\u209Er;\u6978q\u0100lq\u063F\u2196les\xF3\u2088i\xED\u066B\u0100en\u21A3\u21ADrtneqq;\uC000\u2269\uFE00\xC5\u21AA\u0500Aabcefkosy\u21C4\u21C7\u21F1\u21F5\u21FA\u2218\u221D\u222F\u2268\u227Dr\xF2\u03A0\u0200ilmr\u21D0\u21D4\u21D7\u21DBrs\xF0\u1484f\xBB\u2024il\xF4\u06A9\u0100dr\u21E0\u21E4cy;\u444A\u0180;cw\u08F4\u21EB\u21EFir;\u6948;\u61ADar;\u610Firc;\u4125\u0180alr\u2201\u220E\u2213rts\u0100;u\u2209\u220A\u6665it\xBB\u220Alip;\u6026con;\u62B9r;\uC000\u{1D525}s\u0100ew\u2223\u2229arow;\u6925arow;\u6926\u0280amopr\u223A\u223E\u2243\u225E\u2263rr;\u61FFtht;\u623Bk\u0100lr\u2249\u2253eftarrow;\u61A9ightarrow;\u61AAf;\uC000\u{1D559}bar;\u6015\u0180clt\u226F\u2274\u2278r;\uC000\u{1D4BD}as\xE8\u21F4rok;\u4127\u0100bp\u2282\u2287ull;\u6043hen\xBB\u1C5B\u0AE1\u22A3\0\u22AA\0\u22B8\u22C5\u22CE\0\u22D5\u22F3\0\0\u22F8\u2322\u2367\u2362\u237F\0\u2386\u23AA\u23B4cute\u803B\xED\u40ED\u0180;iy\u0771\u22B0\u22B5rc\u803B\xEE\u40EE;\u4438\u0100cx\u22BC\u22BFy;\u4435cl\u803B\xA1\u40A1\u0100fr\u039F\u22C9;\uC000\u{1D526}rave\u803B\xEC\u40EC\u0200;ino\u073E\u22DD\u22E9\u22EE\u0100in\u22E2\u22E6nt;\u6A0Ct;\u622Dfin;\u69DCta;\u6129lig;\u4133\u0180aop\u22FE\u231A\u231D\u0180cgt\u2305\u2308\u2317r;\u412B\u0180elp\u071F\u230F\u2313in\xE5\u078Ear\xF4\u0720h;\u4131f;\u62B7ed;\u41B5\u0280;cfot\u04F4\u232C\u2331\u233D\u2341are;\u6105in\u0100;t\u2338\u2339\u621Eie;\u69DDdo\xF4\u2319\u0280;celp\u0757\u234C\u2350\u235B\u2361al;\u62BA\u0100gr\u2355\u2359er\xF3\u1563\xE3\u234Darhk;\u6A17rod;\u6A3C\u0200cgpt\u236F\u2372\u2376\u237By;\u4451on;\u412Ff;\uC000\u{1D55A}a;\u43B9uest\u803B\xBF\u40BF\u0100ci\u238A\u238Fr;\uC000\u{1D4BE}n\u0280;Edsv\u04F4\u239B\u239D\u23A1\u04F3;\u62F9ot;\u62F5\u0100;v\u23A6\u23A7\u62F4;\u62F3\u0100;i\u0777\u23AElde;\u4129\u01EB\u23B8\0\u23BCcy;\u4456l\u803B\xEF\u40EF\u0300cfmosu\u23CC\u23D7\u23DC\u23E1\u23E7\u23F5\u0100iy\u23D1\u23D5rc;\u4135;\u4439r;\uC000\u{1D527}ath;\u4237pf;\uC000\u{1D55B}\u01E3\u23EC\0\u23F1r;\uC000\u{1D4BF}rcy;\u4458kcy;\u4454\u0400acfghjos\u240B\u2416\u2422\u2427\u242D\u2431\u2435\u243Bppa\u0100;v\u2413\u2414\u43BA;\u43F0\u0100ey\u241B\u2420dil;\u4137;\u443Ar;\uC000\u{1D528}reen;\u4138cy;\u4445cy;\u445Cpf;\uC000\u{1D55C}cr;\uC000\u{1D4C0}\u0B80ABEHabcdefghjlmnoprstuv\u2470\u2481\u2486\u248D\u2491\u250E\u253D\u255A\u2580\u264E\u265E\u2665\u2679\u267D\u269A\u26B2\u26D8\u275D\u2768\u278B\u27C0\u2801\u2812\u0180art\u2477\u247A\u247Cr\xF2\u09C6\xF2\u0395ail;\u691Barr;\u690E\u0100;g\u0994\u248B;\u6A8Bar;\u6962\u0963\u24A5\0\u24AA\0\u24B1\0\0\0\0\0\u24B5\u24BA\0\u24C6\u24C8\u24CD\0\u24F9ute;\u413Amptyv;\u69B4ra\xEE\u084Cbda;\u43BBg\u0180;dl\u088E\u24C1\u24C3;\u6991\xE5\u088E;\u6A85uo\u803B\xAB\u40ABr\u0400;bfhlpst\u0899\u24DE\u24E6\u24E9\u24EB\u24EE\u24F1\u24F5\u0100;f\u089D\u24E3s;\u691Fs;\u691D\xEB\u2252p;\u61ABl;\u6939im;\u6973l;\u61A2\u0180;ae\u24FF\u2500\u2504\u6AABil;\u6919\u0100;s\u2509\u250A\u6AAD;\uC000\u2AAD\uFE00\u0180abr\u2515\u2519\u251Drr;\u690Crk;\u6772\u0100ak\u2522\u252Cc\u0100ek\u2528\u252A;\u407B;\u405B\u0100es\u2531\u2533;\u698Bl\u0100du\u2539\u253B;\u698F;\u698D\u0200aeuy\u2546\u254B\u2556\u2558ron;\u413E\u0100di\u2550\u2554il;\u413C\xEC\u08B0\xE2\u2529;\u443B\u0200cqrs\u2563\u2566\u256D\u257Da;\u6936uo\u0100;r\u0E19\u1746\u0100du\u2572\u2577har;\u6967shar;\u694Bh;\u61B2\u0280;fgqs\u258B\u258C\u0989\u25F3\u25FF\u6264t\u0280ahlrt\u2598\u25A4\u25B7\u25C2\u25E8rrow\u0100;t\u0899\u25A1a\xE9\u24F6arpoon\u0100du\u25AF\u25B4own\xBB\u045Ap\xBB\u0966eftarrows;\u61C7ight\u0180ahs\u25CD\u25D6\u25DErrow\u0100;s\u08F4\u08A7arpoon\xF3\u0F98quigarro\xF7\u21F0hreetimes;\u62CB\u0180;qs\u258B\u0993\u25FAlan\xF4\u09AC\u0280;cdgs\u09AC\u260A\u260D\u261D\u2628c;\u6AA8ot\u0100;o\u2614\u2615\u6A7F\u0100;r\u261A\u261B\u6A81;\u6A83\u0100;e\u2622\u2625\uC000\u22DA\uFE00s;\u6A93\u0280adegs\u2633\u2639\u263D\u2649\u264Bppro\xF8\u24C6ot;\u62D6q\u0100gq\u2643\u2645\xF4\u0989gt\xF2\u248C\xF4\u099Bi\xED\u09B2\u0180ilr\u2655\u08E1\u265Asht;\u697C;\uC000\u{1D529}\u0100;E\u099C\u2663;\u6A91\u0161\u2669\u2676r\u0100du\u25B2\u266E\u0100;l\u0965\u2673;\u696Alk;\u6584cy;\u4459\u0280;acht\u0A48\u2688\u268B\u2691\u2696r\xF2\u25C1orne\xF2\u1D08ard;\u696Bri;\u65FA\u0100io\u269F\u26A4dot;\u4140ust\u0100;a\u26AC\u26AD\u63B0che\xBB\u26AD\u0200Eaes\u26BB\u26BD\u26C9\u26D4;\u6268p\u0100;p\u26C3\u26C4\u6A89rox\xBB\u26C4\u0100;q\u26CE\u26CF\u6A87\u0100;q\u26CE\u26BBim;\u62E6\u0400abnoptwz\u26E9\u26F4\u26F7\u271A\u272F\u2741\u2747\u2750\u0100nr\u26EE\u26F1g;\u67ECr;\u61FDr\xEB\u08C1g\u0180lmr\u26FF\u270D\u2714eft\u0100ar\u09E6\u2707ight\xE1\u09F2apsto;\u67FCight\xE1\u09FDparrow\u0100lr\u2725\u2729ef\xF4\u24EDight;\u61AC\u0180afl\u2736\u2739\u273Dr;\u6985;\uC000\u{1D55D}us;\u6A2Dimes;\u6A34\u0161\u274B\u274Fst;\u6217\xE1\u134E\u0180;ef\u2757\u2758\u1800\u65CAnge\xBB\u2758ar\u0100;l\u2764\u2765\u4028t;\u6993\u0280achmt\u2773\u2776\u277C\u2785\u2787r\xF2\u08A8orne\xF2\u1D8Car\u0100;d\u0F98\u2783;\u696D;\u600Eri;\u62BF\u0300achiqt\u2798\u279D\u0A40\u27A2\u27AE\u27BBquo;\u6039r;\uC000\u{1D4C1}m\u0180;eg\u09B2\u27AA\u27AC;\u6A8D;\u6A8F\u0100bu\u252A\u27B3o\u0100;r\u0E1F\u27B9;\u601Arok;\u4142\u8400<;cdhilqr\u082B\u27D2\u2639\u27DC\u27E0\u27E5\u27EA\u27F0\u0100ci\u27D7\u27D9;\u6AA6r;\u6A79re\xE5\u25F2mes;\u62C9arr;\u6976uest;\u6A7B\u0100Pi\u27F5\u27F9ar;\u6996\u0180;ef\u2800\u092D\u181B\u65C3r\u0100du\u2807\u280Dshar;\u694Ahar;\u6966\u0100en\u2817\u2821rtneqq;\uC000\u2268\uFE00\xC5\u281E\u0700Dacdefhilnopsu\u2840\u2845\u2882\u288E\u2893\u28A0\u28A5\u28A8\u28DA\u28E2\u28E4\u0A83\u28F3\u2902Dot;\u623A\u0200clpr\u284E\u2852\u2863\u287Dr\u803B\xAF\u40AF\u0100et\u2857\u2859;\u6642\u0100;e\u285E\u285F\u6720se\xBB\u285F\u0100;s\u103B\u2868to\u0200;dlu\u103B\u2873\u2877\u287Bow\xEE\u048Cef\xF4\u090F\xF0\u13D1ker;\u65AE\u0100oy\u2887\u288Cmma;\u6A29;\u443Cash;\u6014asuredangle\xBB\u1626r;\uC000\u{1D52A}o;\u6127\u0180cdn\u28AF\u28B4\u28C9ro\u803B\xB5\u40B5\u0200;acd\u1464\u28BD\u28C0\u28C4s\xF4\u16A7ir;\u6AF0ot\u80BB\xB7\u01B5us\u0180;bd\u28D2\u1903\u28D3\u6212\u0100;u\u1D3C\u28D8;\u6A2A\u0163\u28DE\u28E1p;\u6ADB\xF2\u2212\xF0\u0A81\u0100dp\u28E9\u28EEels;\u62A7f;\uC000\u{1D55E}\u0100ct\u28F8\u28FDr;\uC000\u{1D4C2}pos\xBB\u159D\u0180;lm\u2909\u290A\u290D\u43BCtimap;\u62B8\u0C00GLRVabcdefghijlmoprstuvw\u2942\u2953\u297E\u2989\u2998\u29DA\u29E9\u2A15\u2A1A\u2A58\u2A5D\u2A83\u2A95\u2AA4\u2AA8\u2B04\u2B07\u2B44\u2B7F\u2BAE\u2C34\u2C67\u2C7C\u2CE9\u0100gt\u2947\u294B;\uC000\u22D9\u0338\u0100;v\u2950\u0BCF\uC000\u226B\u20D2\u0180elt\u295A\u2972\u2976ft\u0100ar\u2961\u2967rrow;\u61CDightarrow;\u61CE;\uC000\u22D8\u0338\u0100;v\u297B\u0C47\uC000\u226A\u20D2ightarrow;\u61CF\u0100Dd\u298E\u2993ash;\u62AFash;\u62AE\u0280bcnpt\u29A3\u29A7\u29AC\u29B1\u29CCla\xBB\u02DEute;\u4144g;\uC000\u2220\u20D2\u0280;Eiop\u0D84\u29BC\u29C0\u29C5\u29C8;\uC000\u2A70\u0338d;\uC000\u224B\u0338s;\u4149ro\xF8\u0D84ur\u0100;a\u29D3\u29D4\u666El\u0100;s\u29D3\u0B38\u01F3\u29DF\0\u29E3p\u80BB\xA0\u0B37mp\u0100;e\u0BF9\u0C00\u0280aeouy\u29F4\u29FE\u2A03\u2A10\u2A13\u01F0\u29F9\0\u29FB;\u6A43on;\u4148dil;\u4146ng\u0100;d\u0D7E\u2A0Aot;\uC000\u2A6D\u0338p;\u6A42;\u443Dash;\u6013\u0380;Aadqsx\u0B92\u2A29\u2A2D\u2A3B\u2A41\u2A45\u2A50rr;\u61D7r\u0100hr\u2A33\u2A36k;\u6924\u0100;o\u13F2\u13F0ot;\uC000\u2250\u0338ui\xF6\u0B63\u0100ei\u2A4A\u2A4Ear;\u6928\xED\u0B98ist\u0100;s\u0BA0\u0B9Fr;\uC000\u{1D52B}\u0200Eest\u0BC5\u2A66\u2A79\u2A7C\u0180;qs\u0BBC\u2A6D\u0BE1\u0180;qs\u0BBC\u0BC5\u2A74lan\xF4\u0BE2i\xED\u0BEA\u0100;r\u0BB6\u2A81\xBB\u0BB7\u0180Aap\u2A8A\u2A8D\u2A91r\xF2\u2971rr;\u61AEar;\u6AF2\u0180;sv\u0F8D\u2A9C\u0F8C\u0100;d\u2AA1\u2AA2\u62FC;\u62FAcy;\u445A\u0380AEadest\u2AB7\u2ABA\u2ABE\u2AC2\u2AC5\u2AF6\u2AF9r\xF2\u2966;\uC000\u2266\u0338rr;\u619Ar;\u6025\u0200;fqs\u0C3B\u2ACE\u2AE3\u2AEFt\u0100ar\u2AD4\u2AD9rro\xF7\u2AC1ightarro\xF7\u2A90\u0180;qs\u0C3B\u2ABA\u2AEAlan\xF4\u0C55\u0100;s\u0C55\u2AF4\xBB\u0C36i\xED\u0C5D\u0100;r\u0C35\u2AFEi\u0100;e\u0C1A\u0C25i\xE4\u0D90\u0100pt\u2B0C\u2B11f;\uC000\u{1D55F}\u8180\xAC;in\u2B19\u2B1A\u2B36\u40ACn\u0200;Edv\u0B89\u2B24\u2B28\u2B2E;\uC000\u22F9\u0338ot;\uC000\u22F5\u0338\u01E1\u0B89\u2B33\u2B35;\u62F7;\u62F6i\u0100;v\u0CB8\u2B3C\u01E1\u0CB8\u2B41\u2B43;\u62FE;\u62FD\u0180aor\u2B4B\u2B63\u2B69r\u0200;ast\u0B7B\u2B55\u2B5A\u2B5Flle\xEC\u0B7Bl;\uC000\u2AFD\u20E5;\uC000\u2202\u0338lint;\u6A14\u0180;ce\u0C92\u2B70\u2B73u\xE5\u0CA5\u0100;c\u0C98\u2B78\u0100;e\u0C92\u2B7D\xF1\u0C98\u0200Aait\u2B88\u2B8B\u2B9D\u2BA7r\xF2\u2988rr\u0180;cw\u2B94\u2B95\u2B99\u619B;\uC000\u2933\u0338;\uC000\u219D\u0338ghtarrow\xBB\u2B95ri\u0100;e\u0CCB\u0CD6\u0380chimpqu\u2BBD\u2BCD\u2BD9\u2B04\u0B78\u2BE4\u2BEF\u0200;cer\u0D32\u2BC6\u0D37\u2BC9u\xE5\u0D45;\uC000\u{1D4C3}ort\u026D\u2B05\0\0\u2BD6ar\xE1\u2B56m\u0100;e\u0D6E\u2BDF\u0100;q\u0D74\u0D73su\u0100bp\u2BEB\u2BED\xE5\u0CF8\xE5\u0D0B\u0180bcp\u2BF6\u2C11\u2C19\u0200;Ees\u2BFF\u2C00\u0D22\u2C04\u6284;\uC000\u2AC5\u0338et\u0100;e\u0D1B\u2C0Bq\u0100;q\u0D23\u2C00c\u0100;e\u0D32\u2C17\xF1\u0D38\u0200;Ees\u2C22\u2C23\u0D5F\u2C27\u6285;\uC000\u2AC6\u0338et\u0100;e\u0D58\u2C2Eq\u0100;q\u0D60\u2C23\u0200gilr\u2C3D\u2C3F\u2C45\u2C47\xEC\u0BD7lde\u803B\xF1\u40F1\xE7\u0C43iangle\u0100lr\u2C52\u2C5Ceft\u0100;e\u0C1A\u2C5A\xF1\u0C26ight\u0100;e\u0CCB\u2C65\xF1\u0CD7\u0100;m\u2C6C\u2C6D\u43BD\u0180;es\u2C74\u2C75\u2C79\u4023ro;\u6116p;\u6007\u0480DHadgilrs\u2C8F\u2C94\u2C99\u2C9E\u2CA3\u2CB0\u2CB6\u2CD3\u2CE3ash;\u62ADarr;\u6904p;\uC000\u224D\u20D2ash;\u62AC\u0100et\u2CA8\u2CAC;\uC000\u2265\u20D2;\uC000>\u20D2nfin;\u69DE\u0180Aet\u2CBD\u2CC1\u2CC5rr;\u6902;\uC000\u2264\u20D2\u0100;r\u2CCA\u2CCD\uC000<\u20D2ie;\uC000\u22B4\u20D2\u0100At\u2CD8\u2CDCrr;\u6903rie;\uC000\u22B5\u20D2im;\uC000\u223C\u20D2\u0180Aan\u2CF0\u2CF4\u2D02rr;\u61D6r\u0100hr\u2CFA\u2CFDk;\u6923\u0100;o\u13E7\u13E5ear;\u6927\u1253\u1A95\0\0\0\0\0\0\0\0\0\0\0\0\0\u2D2D\0\u2D38\u2D48\u2D60\u2D65\u2D72\u2D84\u1B07\0\0\u2D8D\u2DAB\0\u2DC8\u2DCE\0\u2DDC\u2E19\u2E2B\u2E3E\u2E43\u0100cs\u2D31\u1A97ute\u803B\xF3\u40F3\u0100iy\u2D3C\u2D45r\u0100;c\u1A9E\u2D42\u803B\xF4\u40F4;\u443E\u0280abios\u1AA0\u2D52\u2D57\u01C8\u2D5Alac;\u4151v;\u6A38old;\u69BClig;\u4153\u0100cr\u2D69\u2D6Dir;\u69BF;\uC000\u{1D52C}\u036F\u2D79\0\0\u2D7C\0\u2D82n;\u42DBave\u803B\xF2\u40F2;\u69C1\u0100bm\u2D88\u0DF4ar;\u69B5\u0200acit\u2D95\u2D98\u2DA5\u2DA8r\xF2\u1A80\u0100ir\u2D9D\u2DA0r;\u69BEoss;\u69BBn\xE5\u0E52;\u69C0\u0180aei\u2DB1\u2DB5\u2DB9cr;\u414Dga;\u43C9\u0180cdn\u2DC0\u2DC5\u01CDron;\u43BF;\u69B6pf;\uC000\u{1D560}\u0180ael\u2DD4\u2DD7\u01D2r;\u69B7rp;\u69B9\u0380;adiosv\u2DEA\u2DEB\u2DEE\u2E08\u2E0D\u2E10\u2E16\u6228r\xF2\u1A86\u0200;efm\u2DF7\u2DF8\u2E02\u2E05\u6A5Dr\u0100;o\u2DFE\u2DFF\u6134f\xBB\u2DFF\u803B\xAA\u40AA\u803B\xBA\u40BAgof;\u62B6r;\u6A56lope;\u6A57;\u6A5B\u0180clo\u2E1F\u2E21\u2E27\xF2\u2E01ash\u803B\xF8\u40F8l;\u6298i\u016C\u2E2F\u2E34de\u803B\xF5\u40F5es\u0100;a\u01DB\u2E3As;\u6A36ml\u803B\xF6\u40F6bar;\u633D\u0AE1\u2E5E\0\u2E7D\0\u2E80\u2E9D\0\u2EA2\u2EB9\0\0\u2ECB\u0E9C\0\u2F13\0\0\u2F2B\u2FBC\0\u2FC8r\u0200;ast\u0403\u2E67\u2E72\u0E85\u8100\xB6;l\u2E6D\u2E6E\u40B6le\xEC\u0403\u0269\u2E78\0\0\u2E7Bm;\u6AF3;\u6AFDy;\u443Fr\u0280cimpt\u2E8B\u2E8F\u2E93\u1865\u2E97nt;\u4025od;\u402Eil;\u6030enk;\u6031r;\uC000\u{1D52D}\u0180imo\u2EA8\u2EB0\u2EB4\u0100;v\u2EAD\u2EAE\u43C6;\u43D5ma\xF4\u0A76ne;\u660E\u0180;tv\u2EBF\u2EC0\u2EC8\u43C0chfork\xBB\u1FFD;\u43D6\u0100au\u2ECF\u2EDFn\u0100ck\u2ED5\u2EDDk\u0100;h\u21F4\u2EDB;\u610E\xF6\u21F4s\u0480;abcdemst\u2EF3\u2EF4\u1908\u2EF9\u2EFD\u2F04\u2F06\u2F0A\u2F0E\u402Bcir;\u6A23ir;\u6A22\u0100ou\u1D40\u2F02;\u6A25;\u6A72n\u80BB\xB1\u0E9Dim;\u6A26wo;\u6A27\u0180ipu\u2F19\u2F20\u2F25ntint;\u6A15f;\uC000\u{1D561}nd\u803B\xA3\u40A3\u0500;Eaceinosu\u0EC8\u2F3F\u2F41\u2F44\u2F47\u2F81\u2F89\u2F92\u2F7E\u2FB6;\u6AB3p;\u6AB7u\xE5\u0ED9\u0100;c\u0ECE\u2F4C\u0300;acens\u0EC8\u2F59\u2F5F\u2F66\u2F68\u2F7Eppro\xF8\u2F43urlye\xF1\u0ED9\xF1\u0ECE\u0180aes\u2F6F\u2F76\u2F7Approx;\u6AB9qq;\u6AB5im;\u62E8i\xED\u0EDFme\u0100;s\u2F88\u0EAE\u6032\u0180Eas\u2F78\u2F90\u2F7A\xF0\u2F75\u0180dfp\u0EEC\u2F99\u2FAF\u0180als\u2FA0\u2FA5\u2FAAlar;\u632Eine;\u6312urf;\u6313\u0100;t\u0EFB\u2FB4\xEF\u0EFBrel;\u62B0\u0100ci\u2FC0\u2FC5r;\uC000\u{1D4C5};\u43C8ncsp;\u6008\u0300fiopsu\u2FDA\u22E2\u2FDF\u2FE5\u2FEB\u2FF1r;\uC000\u{1D52E}pf;\uC000\u{1D562}rime;\u6057cr;\uC000\u{1D4C6}\u0180aeo\u2FF8\u3009\u3013t\u0100ei\u2FFE\u3005rnion\xF3\u06B0nt;\u6A16st\u0100;e\u3010\u3011\u403F\xF1\u1F19\xF4\u0F14\u0A80ABHabcdefhilmnoprstux\u3040\u3051\u3055\u3059\u30E0\u310E\u312B\u3147\u3162\u3172\u318E\u3206\u3215\u3224\u3229\u3258\u326E\u3272\u3290\u32B0\u32B7\u0180art\u3047\u304A\u304Cr\xF2\u10B3\xF2\u03DDail;\u691Car\xF2\u1C65ar;\u6964\u0380cdenqrt\u3068\u3075\u3078\u307F\u308F\u3094\u30CC\u0100eu\u306D\u3071;\uC000\u223D\u0331te;\u4155i\xE3\u116Emptyv;\u69B3g\u0200;del\u0FD1\u3089\u308B\u308D;\u6992;\u69A5\xE5\u0FD1uo\u803B\xBB\u40BBr\u0580;abcfhlpstw\u0FDC\u30AC\u30AF\u30B7\u30B9\u30BC\u30BE\u30C0\u30C3\u30C7\u30CAp;\u6975\u0100;f\u0FE0\u30B4s;\u6920;\u6933s;\u691E\xEB\u225D\xF0\u272El;\u6945im;\u6974l;\u61A3;\u619D\u0100ai\u30D1\u30D5il;\u691Ao\u0100;n\u30DB\u30DC\u6236al\xF3\u0F1E\u0180abr\u30E7\u30EA\u30EEr\xF2\u17E5rk;\u6773\u0100ak\u30F3\u30FDc\u0100ek\u30F9\u30FB;\u407D;\u405D\u0100es\u3102\u3104;\u698Cl\u0100du\u310A\u310C;\u698E;\u6990\u0200aeuy\u3117\u311C\u3127\u3129ron;\u4159\u0100di\u3121\u3125il;\u4157\xEC\u0FF2\xE2\u30FA;\u4440\u0200clqs\u3134\u3137\u313D\u3144a;\u6937dhar;\u6969uo\u0100;r\u020E\u020Dh;\u61B3\u0180acg\u314E\u315F\u0F44l\u0200;ips\u0F78\u3158\u315B\u109Cn\xE5\u10BBar\xF4\u0FA9t;\u65AD\u0180ilr\u3169\u1023\u316Esht;\u697D;\uC000\u{1D52F}\u0100ao\u3177\u3186r\u0100du\u317D\u317F\xBB\u047B\u0100;l\u1091\u3184;\u696C\u0100;v\u318B\u318C\u43C1;\u43F1\u0180gns\u3195\u31F9\u31FCht\u0300ahlrst\u31A4\u31B0\u31C2\u31D8\u31E4\u31EErrow\u0100;t\u0FDC\u31ADa\xE9\u30C8arpoon\u0100du\u31BB\u31BFow\xEE\u317Ep\xBB\u1092eft\u0100ah\u31CA\u31D0rrow\xF3\u0FEAarpoon\xF3\u0551ightarrows;\u61C9quigarro\xF7\u30CBhreetimes;\u62CCg;\u42DAingdotse\xF1\u1F32\u0180ahm\u320D\u3210\u3213r\xF2\u0FEAa\xF2\u0551;\u600Foust\u0100;a\u321E\u321F\u63B1che\xBB\u321Fmid;\u6AEE\u0200abpt\u3232\u323D\u3240\u3252\u0100nr\u3237\u323Ag;\u67EDr;\u61FEr\xEB\u1003\u0180afl\u3247\u324A\u324Er;\u6986;\uC000\u{1D563}us;\u6A2Eimes;\u6A35\u0100ap\u325D\u3267r\u0100;g\u3263\u3264\u4029t;\u6994olint;\u6A12ar\xF2\u31E3\u0200achq\u327B\u3280\u10BC\u3285quo;\u603Ar;\uC000\u{1D4C7}\u0100bu\u30FB\u328Ao\u0100;r\u0214\u0213\u0180hir\u3297\u329B\u32A0re\xE5\u31F8mes;\u62CAi\u0200;efl\u32AA\u1059\u1821\u32AB\u65B9tri;\u69CEluhar;\u6968;\u611E\u0D61\u32D5\u32DB\u32DF\u332C\u3338\u3371\0\u337A\u33A4\0\0\u33EC\u33F0\0\u3428\u3448\u345A\u34AD\u34B1\u34CA\u34F1\0\u3616\0\0\u3633cute;\u415Bqu\xEF\u27BA\u0500;Eaceinpsy\u11ED\u32F3\u32F5\u32FF\u3302\u330B\u330F\u331F\u3326\u3329;\u6AB4\u01F0\u32FA\0\u32FC;\u6AB8on;\u4161u\xE5\u11FE\u0100;d\u11F3\u3307il;\u415Frc;\u415D\u0180Eas\u3316\u3318\u331B;\u6AB6p;\u6ABAim;\u62E9olint;\u6A13i\xED\u1204;\u4441ot\u0180;be\u3334\u1D47\u3335\u62C5;\u6A66\u0380Aacmstx\u3346\u334A\u3357\u335B\u335E\u3363\u336Drr;\u61D8r\u0100hr\u3350\u3352\xEB\u2228\u0100;o\u0A36\u0A34t\u803B\xA7\u40A7i;\u403Bwar;\u6929m\u0100in\u3369\xF0nu\xF3\xF1t;\u6736r\u0100;o\u3376\u2055\uC000\u{1D530}\u0200acoy\u3382\u3386\u3391\u33A0rp;\u666F\u0100hy\u338B\u338Fcy;\u4449;\u4448rt\u026D\u3399\0\0\u339Ci\xE4\u1464ara\xEC\u2E6F\u803B\xAD\u40AD\u0100gm\u33A8\u33B4ma\u0180;fv\u33B1\u33B2\u33B2\u43C3;\u43C2\u0400;deglnpr\u12AB\u33C5\u33C9\u33CE\u33D6\u33DE\u33E1\u33E6ot;\u6A6A\u0100;q\u12B1\u12B0\u0100;E\u33D3\u33D4\u6A9E;\u6AA0\u0100;E\u33DB\u33DC\u6A9D;\u6A9Fe;\u6246lus;\u6A24arr;\u6972ar\xF2\u113D\u0200aeit\u33F8\u3408\u340F\u3417\u0100ls\u33FD\u3404lsetm\xE9\u336Ahp;\u6A33parsl;\u69E4\u0100dl\u1463\u3414e;\u6323\u0100;e\u341C\u341D\u6AAA\u0100;s\u3422\u3423\u6AAC;\uC000\u2AAC\uFE00\u0180flp\u342E\u3433\u3442tcy;\u444C\u0100;b\u3438\u3439\u402F\u0100;a\u343E\u343F\u69C4r;\u633Ff;\uC000\u{1D564}a\u0100dr\u344D\u0402es\u0100;u\u3454\u3455\u6660it\xBB\u3455\u0180csu\u3460\u3479\u349F\u0100au\u3465\u346Fp\u0100;s\u1188\u346B;\uC000\u2293\uFE00p\u0100;s\u11B4\u3475;\uC000\u2294\uFE00u\u0100bp\u347F\u348F\u0180;es\u1197\u119C\u3486et\u0100;e\u1197\u348D\xF1\u119D\u0180;es\u11A8\u11AD\u3496et\u0100;e\u11A8\u349D\xF1\u11AE\u0180;af\u117B\u34A6\u05B0r\u0165\u34AB\u05B1\xBB\u117Car\xF2\u1148\u0200cemt\u34B9\u34BE\u34C2\u34C5r;\uC000\u{1D4C8}tm\xEE\xF1i\xEC\u3415ar\xE6\u11BE\u0100ar\u34CE\u34D5r\u0100;f\u34D4\u17BF\u6606\u0100an\u34DA\u34EDight\u0100ep\u34E3\u34EApsilo\xEE\u1EE0h\xE9\u2EAFs\xBB\u2852\u0280bcmnp\u34FB\u355E\u1209\u358B\u358E\u0480;Edemnprs\u350E\u350F\u3511\u3515\u351E\u3523\u352C\u3531\u3536\u6282;\u6AC5ot;\u6ABD\u0100;d\u11DA\u351Aot;\u6AC3ult;\u6AC1\u0100Ee\u3528\u352A;\u6ACB;\u628Alus;\u6ABFarr;\u6979\u0180eiu\u353D\u3552\u3555t\u0180;en\u350E\u3545\u354Bq\u0100;q\u11DA\u350Feq\u0100;q\u352B\u3528m;\u6AC7\u0100bp\u355A\u355C;\u6AD5;\u6AD3c\u0300;acens\u11ED\u356C\u3572\u3579\u357B\u3326ppro\xF8\u32FAurlye\xF1\u11FE\xF1\u11F3\u0180aes\u3582\u3588\u331Bppro\xF8\u331Aq\xF1\u3317g;\u666A\u0680123;Edehlmnps\u35A9\u35AC\u35AF\u121C\u35B2\u35B4\u35C0\u35C9\u35D5\u35DA\u35DF\u35E8\u35ED\u803B\xB9\u40B9\u803B\xB2\u40B2\u803B\xB3\u40B3;\u6AC6\u0100os\u35B9\u35BCt;\u6ABEub;\u6AD8\u0100;d\u1222\u35C5ot;\u6AC4s\u0100ou\u35CF\u35D2l;\u67C9b;\u6AD7arr;\u697Bult;\u6AC2\u0100Ee\u35E4\u35E6;\u6ACC;\u628Blus;\u6AC0\u0180eiu\u35F4\u3609\u360Ct\u0180;en\u121C\u35FC\u3602q\u0100;q\u1222\u35B2eq\u0100;q\u35E7\u35E4m;\u6AC8\u0100bp\u3611\u3613;\u6AD4;\u6AD6\u0180Aan\u361C\u3620\u362Drr;\u61D9r\u0100hr\u3626\u3628\xEB\u222E\u0100;o\u0A2B\u0A29war;\u692Alig\u803B\xDF\u40DF\u0BE1\u3651\u365D\u3660\u12CE\u3673\u3679\0\u367E\u36C2\0\0\0\0\0\u36DB\u3703\0\u3709\u376C\0\0\0\u3787\u0272\u3656\0\0\u365Bget;\u6316;\u43C4r\xEB\u0E5F\u0180aey\u3666\u366B\u3670ron;\u4165dil;\u4163;\u4442lrec;\u6315r;\uC000\u{1D531}\u0200eiko\u3686\u369D\u36B5\u36BC\u01F2\u368B\0\u3691e\u01004f\u1284\u1281a\u0180;sv\u3698\u3699\u369B\u43B8ym;\u43D1\u0100cn\u36A2\u36B2k\u0100as\u36A8\u36AEppro\xF8\u12C1im\xBB\u12ACs\xF0\u129E\u0100as\u36BA\u36AE\xF0\u12C1rn\u803B\xFE\u40FE\u01EC\u031F\u36C6\u22E7es\u8180\xD7;bd\u36CF\u36D0\u36D8\u40D7\u0100;a\u190F\u36D5r;\u6A31;\u6A30\u0180eps\u36E1\u36E3\u3700\xE1\u2A4D\u0200;bcf\u0486\u36EC\u36F0\u36F4ot;\u6336ir;\u6AF1\u0100;o\u36F9\u36FC\uC000\u{1D565}rk;\u6ADA\xE1\u3362rime;\u6034\u0180aip\u370F\u3712\u3764d\xE5\u1248\u0380adempst\u3721\u374D\u3740\u3751\u3757\u375C\u375Fngle\u0280;dlqr\u3730\u3731\u3736\u3740\u3742\u65B5own\xBB\u1DBBeft\u0100;e\u2800\u373E\xF1\u092E;\u625Cight\u0100;e\u32AA\u374B\xF1\u105Aot;\u65ECinus;\u6A3Alus;\u6A39b;\u69CDime;\u6A3Bezium;\u63E2\u0180cht\u3772\u377D\u3781\u0100ry\u3777\u377B;\uC000\u{1D4C9};\u4446cy;\u445Brok;\u4167\u0100io\u378B\u378Ex\xF4\u1777head\u0100lr\u3797\u37A0eftarro\xF7\u084Fightarrow\xBB\u0F5D\u0900AHabcdfghlmoprstuw\u37D0\u37D3\u37D7\u37E4\u37F0\u37FC\u380E\u381C\u3823\u3834\u3851\u385D\u386B\u38A9\u38CC\u38D2\u38EA\u38F6r\xF2\u03EDar;\u6963\u0100cr\u37DC\u37E2ute\u803B\xFA\u40FA\xF2\u1150r\u01E3\u37EA\0\u37EDy;\u445Eve;\u416D\u0100iy\u37F5\u37FArc\u803B\xFB\u40FB;\u4443\u0180abh\u3803\u3806\u380Br\xF2\u13ADlac;\u4171a\xF2\u13C3\u0100ir\u3813\u3818sht;\u697E;\uC000\u{1D532}rave\u803B\xF9\u40F9\u0161\u3827\u3831r\u0100lr\u382C\u382E\xBB\u0957\xBB\u1083lk;\u6580\u0100ct\u3839\u384D\u026F\u383F\0\0\u384Arn\u0100;e\u3845\u3846\u631Cr\xBB\u3846op;\u630Fri;\u65F8\u0100al\u3856\u385Acr;\u416B\u80BB\xA8\u0349\u0100gp\u3862\u3866on;\u4173f;\uC000\u{1D566}\u0300adhlsu\u114B\u3878\u387D\u1372\u3891\u38A0own\xE1\u13B3arpoon\u0100lr\u3888\u388Cef\xF4\u382Digh\xF4\u382Fi\u0180;hl\u3899\u389A\u389C\u43C5\xBB\u13FAon\xBB\u389Aparrows;\u61C8\u0180cit\u38B0\u38C4\u38C8\u026F\u38B6\0\0\u38C1rn\u0100;e\u38BC\u38BD\u631Dr\xBB\u38BDop;\u630Eng;\u416Fri;\u65F9cr;\uC000\u{1D4CA}\u0180dir\u38D9\u38DD\u38E2ot;\u62F0lde;\u4169i\u0100;f\u3730\u38E8\xBB\u1813\u0100am\u38EF\u38F2r\xF2\u38A8l\u803B\xFC\u40FCangle;\u69A7\u0780ABDacdeflnoprsz\u391C\u391F\u3929\u392D\u39B5\u39B8\u39BD\u39DF\u39E4\u39E8\u39F3\u39F9\u39FD\u3A01\u3A20r\xF2\u03F7ar\u0100;v\u3926\u3927\u6AE8;\u6AE9as\xE8\u03E1\u0100nr\u3932\u3937grt;\u699C\u0380eknprst\u34E3\u3946\u394B\u3952\u395D\u3964\u3996app\xE1\u2415othin\xE7\u1E96\u0180hir\u34EB\u2EC8\u3959op\xF4\u2FB5\u0100;h\u13B7\u3962\xEF\u318D\u0100iu\u3969\u396Dgm\xE1\u33B3\u0100bp\u3972\u3984setneq\u0100;q\u397D\u3980\uC000\u228A\uFE00;\uC000\u2ACB\uFE00setneq\u0100;q\u398F\u3992\uC000\u228B\uFE00;\uC000\u2ACC\uFE00\u0100hr\u399B\u399Fet\xE1\u369Ciangle\u0100lr\u39AA\u39AFeft\xBB\u0925ight\xBB\u1051y;\u4432ash\xBB\u1036\u0180elr\u39C4\u39D2\u39D7\u0180;be\u2DEA\u39CB\u39CFar;\u62BBq;\u625Alip;\u62EE\u0100bt\u39DC\u1468a\xF2\u1469r;\uC000\u{1D533}tr\xE9\u39AEsu\u0100bp\u39EF\u39F1\xBB\u0D1C\xBB\u0D59pf;\uC000\u{1D567}ro\xF0\u0EFBtr\xE9\u39B4\u0100cu\u3A06\u3A0Br;\uC000\u{1D4CB}\u0100bp\u3A10\u3A18n\u0100Ee\u3980\u3A16\xBB\u397En\u0100Ee\u3992\u3A1E\xBB\u3990igzag;\u699A\u0380cefoprs\u3A36\u3A3B\u3A56\u3A5B\u3A54\u3A61\u3A6Airc;\u4175\u0100di\u3A40\u3A51\u0100bg\u3A45\u3A49ar;\u6A5Fe\u0100;q\u15FA\u3A4F;\u6259erp;\u6118r;\uC000\u{1D534}pf;\uC000\u{1D568}\u0100;e\u1479\u3A66at\xE8\u1479cr;\uC000\u{1D4CC}\u0AE3\u178E\u3A87\0\u3A8B\0\u3A90\u3A9B\0\0\u3A9D\u3AA8\u3AAB\u3AAF\0\0\u3AC3\u3ACE\0\u3AD8\u17DC\u17DFtr\xE9\u17D1r;\uC000\u{1D535}\u0100Aa\u3A94\u3A97r\xF2\u03C3r\xF2\u09F6;\u43BE\u0100Aa\u3AA1\u3AA4r\xF2\u03B8r\xF2\u09EBa\xF0\u2713is;\u62FB\u0180dpt\u17A4\u3AB5\u3ABE\u0100fl\u3ABA\u17A9;\uC000\u{1D569}im\xE5\u17B2\u0100Aa\u3AC7\u3ACAr\xF2\u03CEr\xF2\u0A01\u0100cq\u3AD2\u17B8r;\uC000\u{1D4CD}\u0100pt\u17D6\u3ADCr\xE9\u17D4\u0400acefiosu\u3AF0\u3AFD\u3B08\u3B0C\u3B11\u3B15\u3B1B\u3B21c\u0100uy\u3AF6\u3AFBte\u803B\xFD\u40FD;\u444F\u0100iy\u3B02\u3B06rc;\u4177;\u444Bn\u803B\xA5\u40A5r;\uC000\u{1D536}cy;\u4457pf;\uC000\u{1D56A}cr;\uC000\u{1D4CE}\u0100cm\u3B26\u3B29y;\u444El\u803B\xFF\u40FF\u0500acdefhiosw\u3B42\u3B48\u3B54\u3B58\u3B64\u3B69\u3B6D\u3B74\u3B7A\u3B80cute;\u417A\u0100ay\u3B4D\u3B52ron;\u417E;\u4437ot;\u417C\u0100et\u3B5D\u3B61tr\xE6\u155Fa;\u43B6r;\uC000\u{1D537}cy;\u4436grarr;\u61DDpf;\uC000\u{1D56B}cr;\uC000\u{1D4CF}\u0100jn\u3B85\u3B87;\u600Dj;\u600C'.split("").map(e=>e.charCodeAt(0)));var X6,GKe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),tie=(X6=String.fromCodePoint)!==null&&X6!==void 0?X6:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function Z6(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=GKe.get(e))!==null&&t!==void 0?t:e}var gn;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(gn||(gn={}));var KKe=32,uu;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(uu||(uu={}));function eD(e){return e>=gn.ZERO&&e<=gn.NINE}function YKe(e){return e>=gn.UPPER_A&&e<=gn.UPPER_F||e>=gn.LOWER_A&&e<=gn.LOWER_F}function WKe(e){return e>=gn.UPPER_A&&e<=gn.UPPER_Z||e>=gn.LOWER_A&&e<=gn.LOWER_Z||eD(e)}function JKe(e){return e===gn.EQUALS||WKe(e)}var mn;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(mn||(mn={}));var ja;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(ja||(ja={}));var wv=class{constructor(t,r,n){this.decodeTree=t,this.emitCodePoint=r,this.errors=n,this.state=mn.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=ja.Strict}startEntity(t){this.decodeMode=t,this.state=mn.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,r){switch(this.state){case mn.EntityStart:return t.charCodeAt(r)===gn.NUM?(this.state=mn.NumericStart,this.consumed+=1,this.stateNumericStart(t,r+1)):(this.state=mn.NamedEntity,this.stateNamedEntity(t,r));case mn.NumericStart:return this.stateNumericStart(t,r);case mn.NumericDecimal:return this.stateNumericDecimal(t,r);case mn.NumericHex:return this.stateNumericHex(t,r);case mn.NamedEntity:return this.stateNamedEntity(t,r)}}stateNumericStart(t,r){return r>=t.length?-1:(t.charCodeAt(r)|KKe)===gn.LOWER_X?(this.state=mn.NumericHex,this.consumed+=1,this.stateNumericHex(t,r+1)):(this.state=mn.NumericDecimal,this.stateNumericDecimal(t,r))}addToNumericResult(t,r,n,s){if(r!==n){let a=n-r;this.result=this.result*Math.pow(s,a)+Number.parseInt(t.substr(r,a),s),this.consumed+=a}}stateNumericHex(t,r){let n=r;for(;r<t.length;){let s=t.charCodeAt(r);if(eD(s)||YKe(s))r+=1;else return this.addToNumericResult(t,n,r,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(t,n,r,16),-1}stateNumericDecimal(t,r){let n=r;for(;r<t.length;){let s=t.charCodeAt(r);if(eD(s))r+=1;else return this.addToNumericResult(t,n,r,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(t,n,r,10),-1}emitNumericEntity(t,r){var n;if(this.consumed<=r)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===gn.SEMI)this.consumed+=1;else if(this.decodeMode===ja.Strict)return 0;return this.emitCodePoint(Z6(this.result),this.consumed),this.errors&&(t!==gn.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,r){let{decodeTree:n}=this,s=n[this.treeIndex],a=(s&uu.VALUE_LENGTH)>>14;for(;r<t.length;r++,this.excess++){let o=t.charCodeAt(r);if(this.treeIndex=XKe(n,s,this.treeIndex+Math.max(1,a),o),this.treeIndex<0)return this.result===0||this.decodeMode===ja.Attribute&&(a===0||JKe(o))?0:this.emitNotTerminatedNamedEntity();if(s=n[this.treeIndex],a=(s&uu.VALUE_LENGTH)>>14,a!==0){if(o===gn.SEMI)return this.emitNamedEntityData(this.treeIndex,a,this.consumed+this.excess);this.decodeMode!==ja.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;let{result:r,decodeTree:n}=this,s=(n[r]&uu.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,s,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,r,n){let{decodeTree:s}=this;return this.emitCodePoint(r===1?s[t]&~uu.VALUE_LENGTH:s[t+1],n),r===3&&this.emitCodePoint(s[t+2],n),n}end(){var t;switch(this.state){case mn.NamedEntity:return this.result!==0&&(this.decodeMode!==ja.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case mn.NumericDecimal:return this.emitNumericEntity(0,2);case mn.NumericHex:return this.emitNumericEntity(0,3);case mn.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case mn.EntityStart:return 0}}};function XKe(e,t,r,n){let s=(t&uu.BRANCH_LENGTH)>>7,a=t&uu.JUMP_TABLE;if(s===0)return a!==0&&n===a?r:-1;if(a){let u=n-a;return u<0||u>=s?-1:e[r+u]-1}let o=r,c=o+s-1;for(;o<=c;){let u=o+c>>>1,l=e[u];if(l<n)o=u+1;else if(l>n)c=u-1;else return e[u+s]}return-1}var Sv={};Pn(Sv,{ATTRS:()=>Ha,DOCUMENT_MODE:()=>Jn,NS:()=>le,NUMBERED_HEADERS:()=>Rp,SPECIAL_ELEMENTS:()=>tD,TAG_ID:()=>_,TAG_NAMES:()=>ie,getTagID:()=>lu,hasUnescapedText:()=>rD});var le;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(le||(le={}));var Ha;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Ha||(Ha={}));var Jn;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Jn||(Jn={}));var ie;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(ie||(ie={}));var _;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(_||(_={}));var ZKe=new Map([[ie.A,_.A],[ie.ADDRESS,_.ADDRESS],[ie.ANNOTATION_XML,_.ANNOTATION_XML],[ie.APPLET,_.APPLET],[ie.AREA,_.AREA],[ie.ARTICLE,_.ARTICLE],[ie.ASIDE,_.ASIDE],[ie.B,_.B],[ie.BASE,_.BASE],[ie.BASEFONT,_.BASEFONT],[ie.BGSOUND,_.BGSOUND],[ie.BIG,_.BIG],[ie.BLOCKQUOTE,_.BLOCKQUOTE],[ie.BODY,_.BODY],[ie.BR,_.BR],[ie.BUTTON,_.BUTTON],[ie.CAPTION,_.CAPTION],[ie.CENTER,_.CENTER],[ie.CODE,_.CODE],[ie.COL,_.COL],[ie.COLGROUP,_.COLGROUP],[ie.DD,_.DD],[ie.DESC,_.DESC],[ie.DETAILS,_.DETAILS],[ie.DIALOG,_.DIALOG],[ie.DIR,_.DIR],[ie.DIV,_.DIV],[ie.DL,_.DL],[ie.DT,_.DT],[ie.EM,_.EM],[ie.EMBED,_.EMBED],[ie.FIELDSET,_.FIELDSET],[ie.FIGCAPTION,_.FIGCAPTION],[ie.FIGURE,_.FIGURE],[ie.FONT,_.FONT],[ie.FOOTER,_.FOOTER],[ie.FOREIGN_OBJECT,_.FOREIGN_OBJECT],[ie.FORM,_.FORM],[ie.FRAME,_.FRAME],[ie.FRAMESET,_.FRAMESET],[ie.H1,_.H1],[ie.H2,_.H2],[ie.H3,_.H3],[ie.H4,_.H4],[ie.H5,_.H5],[ie.H6,_.H6],[ie.HEAD,_.HEAD],[ie.HEADER,_.HEADER],[ie.HGROUP,_.HGROUP],[ie.HR,_.HR],[ie.HTML,_.HTML],[ie.I,_.I],[ie.IMG,_.IMG],[ie.IMAGE,_.IMAGE],[ie.INPUT,_.INPUT],[ie.IFRAME,_.IFRAME],[ie.KEYGEN,_.KEYGEN],[ie.LABEL,_.LABEL],[ie.LI,_.LI],[ie.LINK,_.LINK],[ie.LISTING,_.LISTING],[ie.MAIN,_.MAIN],[ie.MALIGNMARK,_.MALIGNMARK],[ie.MARQUEE,_.MARQUEE],[ie.MATH,_.MATH],[ie.MENU,_.MENU],[ie.META,_.META],[ie.MGLYPH,_.MGLYPH],[ie.MI,_.MI],[ie.MO,_.MO],[ie.MN,_.MN],[ie.MS,_.MS],[ie.MTEXT,_.MTEXT],[ie.NAV,_.NAV],[ie.NOBR,_.NOBR],[ie.NOFRAMES,_.NOFRAMES],[ie.NOEMBED,_.NOEMBED],[ie.NOSCRIPT,_.NOSCRIPT],[ie.OBJECT,_.OBJECT],[ie.OL,_.OL],[ie.OPTGROUP,_.OPTGROUP],[ie.OPTION,_.OPTION],[ie.P,_.P],[ie.PARAM,_.PARAM],[ie.PLAINTEXT,_.PLAINTEXT],[ie.PRE,_.PRE],[ie.RB,_.RB],[ie.RP,_.RP],[ie.RT,_.RT],[ie.RTC,_.RTC],[ie.RUBY,_.RUBY],[ie.S,_.S],[ie.SCRIPT,_.SCRIPT],[ie.SEARCH,_.SEARCH],[ie.SECTION,_.SECTION],[ie.SELECT,_.SELECT],[ie.SOURCE,_.SOURCE],[ie.SMALL,_.SMALL],[ie.SPAN,_.SPAN],[ie.STRIKE,_.STRIKE],[ie.STRONG,_.STRONG],[ie.STYLE,_.STYLE],[ie.SUB,_.SUB],[ie.SUMMARY,_.SUMMARY],[ie.SUP,_.SUP],[ie.TABLE,_.TABLE],[ie.TBODY,_.TBODY],[ie.TEMPLATE,_.TEMPLATE],[ie.TEXTAREA,_.TEXTAREA],[ie.TFOOT,_.TFOOT],[ie.TD,_.TD],[ie.TH,_.TH],[ie.THEAD,_.THEAD],[ie.TITLE,_.TITLE],[ie.TR,_.TR],[ie.TRACK,_.TRACK],[ie.TT,_.TT],[ie.U,_.U],[ie.UL,_.UL],[ie.SVG,_.SVG],[ie.VAR,_.VAR],[ie.WBR,_.WBR],[ie.XMP,_.XMP]]);function lu(e){var t;return(t=ZKe.get(e))!==null&&t!==void 0?t:_.UNKNOWN}var me=_,tD={[le.HTML]:new Set([me.ADDRESS,me.APPLET,me.AREA,me.ARTICLE,me.ASIDE,me.BASE,me.BASEFONT,me.BGSOUND,me.BLOCKQUOTE,me.BODY,me.BR,me.BUTTON,me.CAPTION,me.CENTER,me.COL,me.COLGROUP,me.DD,me.DETAILS,me.DIR,me.DIV,me.DL,me.DT,me.EMBED,me.FIELDSET,me.FIGCAPTION,me.FIGURE,me.FOOTER,me.FORM,me.FRAME,me.FRAMESET,me.H1,me.H2,me.H3,me.H4,me.H5,me.H6,me.HEAD,me.HEADER,me.HGROUP,me.HR,me.HTML,me.IFRAME,me.IMG,me.INPUT,me.LI,me.LINK,me.LISTING,me.MAIN,me.MARQUEE,me.MENU,me.META,me.NAV,me.NOEMBED,me.NOFRAMES,me.NOSCRIPT,me.OBJECT,me.OL,me.P,me.PARAM,me.PLAINTEXT,me.PRE,me.SCRIPT,me.SECTION,me.SELECT,me.SOURCE,me.STYLE,me.SUMMARY,me.TABLE,me.TBODY,me.TD,me.TEMPLATE,me.TEXTAREA,me.TFOOT,me.TH,me.THEAD,me.TITLE,me.TR,me.TRACK,me.UL,me.WBR,me.XMP]),[le.MATHML]:new Set([me.MI,me.MO,me.MN,me.MS,me.MTEXT,me.ANNOTATION_XML]),[le.SVG]:new Set([me.TITLE,me.FOREIGN_OBJECT,me.DESC]),[le.XLINK]:new Set,[le.XML]:new Set,[le.XMLNS]:new Set},Rp=new Set([me.H1,me.H2,me.H3,me.H4,me.H5,me.H6]),eYe=new Set([ie.STYLE,ie.SCRIPT,ie.XMP,ie.IFRAME,ie.NOEMBED,ie.NOFRAMES,ie.PLAINTEXT]);function rD(e,t){return eYe.has(e)||t&&e===ie.NOSCRIPT}var z;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(z||(z={}));var Xn={DATA:z.DATA,RCDATA:z.RCDATA,RAWTEXT:z.RAWTEXT,SCRIPT_DATA:z.SCRIPT_DATA,PLAINTEXT:z.PLAINTEXT,CDATA_SECTION:z.CDATA_SECTION};function tYe(e){return e>=F.DIGIT_0&&e<=F.DIGIT_9}function wg(e){return e>=F.LATIN_CAPITAL_A&&e<=F.LATIN_CAPITAL_Z}function rYe(e){return e>=F.LATIN_SMALL_A&&e<=F.LATIN_SMALL_Z}function du(e){return rYe(e)||wg(e)}function rie(e){return du(e)||tYe(e)}function Tv(e){return e+32}function sie(e){return e===F.SPACE||e===F.LINE_FEED||e===F.TABULATION||e===F.FORM_FEED}function nie(e){return sie(e)||e===F.SOLIDUS||e===F.GREATER_THAN_SIGN}function nYe(e){return e===F.NULL?ce.nullCharacterReference:e>1114111?ce.characterReferenceOutsideUnicodeRange:Ev(e)?ce.surrogateCharacterReference:vv(e)?ce.noncharacterCharacterReference:xv(e)||e===F.CARRIAGE_RETURN?ce.controlCharacterReference:null}var Sg=class{constructor(t,r){this.options=t,this.handler=r,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=z.DATA,this.returnState=z.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new _v(r),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new wv(Cv,(n,s)=>{this.preprocessor.pos=this.entityStartPos+s-1,this._flushCodePointConsumedAsCharacterReference(n)},r.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(ce.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:n=>{this._err(ce.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+n)},validateNumericCharacterReference:n=>{let s=nYe(n);s&&this._err(s,1)}}:void 0)}_err(t,r=0){var n,s;(s=(n=this.handler).onParseError)===null||s===void 0||s.call(n,this.preprocessor.getError(t,r))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;let t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,r,n){this.active=!0,this.preprocessor.write(t,r),this._runParsingLoop(),this.paused||n?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let r=0;r<t;r++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,r){return this.preprocessor.startsWith(t,r)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Tt.START_TAG,tagName:"",tagID:_.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Tt.END_TAG,tagName:"",tagID:_.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Tt.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Tt.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,r){this.currentCharacterToken={type:t,chars:r,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,r;let n=this.currentToken;if(Iv(n,this.currentAttr.name)===null){if(n.attrs.push(this.currentAttr),n.location&&this.currentLocation){let s=(t=(r=n.location).attrs)!==null&&t!==void 0?t:r.attrs=Object.create(null);s[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ce.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){let t=this.currentToken;this.prepareToken(t),t.tagID=lu(t.tagName),t.type===Tt.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(ce.endTagWithAttributes),t.selfClosing&&this._err(ce.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Tt.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Tt.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Tt.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){let t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Tt.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,r){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=r;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,r)}_emitCodePoint(t){let r=sie(t)?Tt.WHITESPACE_CHARACTER:t===F.NULL?Tt.NULL_CHARACTER:Tt.CHARACTER;this._appendCharToCurrentCharacterToken(r,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Tt.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=z.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?ja.Attribute:ja.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===z.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===z.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===z.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case z.DATA:{this._stateData(t);break}case z.RCDATA:{this._stateRcdata(t);break}case z.RAWTEXT:{this._stateRawtext(t);break}case z.SCRIPT_DATA:{this._stateScriptData(t);break}case z.PLAINTEXT:{this._statePlaintext(t);break}case z.TAG_OPEN:{this._stateTagOpen(t);break}case z.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case z.TAG_NAME:{this._stateTagName(t);break}case z.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case z.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case z.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case z.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case z.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case z.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case z.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case z.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case z.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case z.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case z.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case z.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case z.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case z.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case z.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case z.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case z.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case z.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case z.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case z.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case z.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case z.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case z.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case z.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case z.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case z.BOGUS_COMMENT:{this._stateBogusComment(t);break}case z.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case z.COMMENT_START:{this._stateCommentStart(t);break}case z.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case z.COMMENT:{this._stateComment(t);break}case z.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case z.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case z.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case z.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case z.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case z.COMMENT_END:{this._stateCommentEnd(t);break}case z.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case z.DOCTYPE:{this._stateDoctype(t);break}case z.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case z.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case z.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case z.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case z.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case z.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case z.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case z.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case z.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case z.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case z.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case z.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case z.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case z.CDATA_SECTION:{this._stateCdataSection(t);break}case z.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case z.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case z.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case z.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case F.LESS_THAN_SIGN:{this.state=z.TAG_OPEN;break}case F.AMPERSAND:{this._startCharacterReference();break}case F.NULL:{this._err(ce.unexpectedNullCharacter),this._emitCodePoint(t);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case F.AMPERSAND:{this._startCharacterReference();break}case F.LESS_THAN_SIGN:{this.state=z.RCDATA_LESS_THAN_SIGN;break}case F.NULL:{this._err(ce.unexpectedNullCharacter),this._emitChars(hr);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case F.LESS_THAN_SIGN:{this.state=z.RAWTEXT_LESS_THAN_SIGN;break}case F.NULL:{this._err(ce.unexpectedNullCharacter),this._emitChars(hr);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case F.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_LESS_THAN_SIGN;break}case F.NULL:{this._err(ce.unexpectedNullCharacter),this._emitChars(hr);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case F.NULL:{this._err(ce.unexpectedNullCharacter),this._emitChars(hr);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(du(t))this._createStartTagToken(),this.state=z.TAG_NAME,this._stateTagName(t);else switch(t){case F.EXCLAMATION_MARK:{this.state=z.MARKUP_DECLARATION_OPEN;break}case F.SOLIDUS:{this.state=z.END_TAG_OPEN;break}case F.QUESTION_MARK:{this._err(ce.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=z.BOGUS_COMMENT,this._stateBogusComment(t);break}case F.EOF:{this._err(ce.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ce.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=z.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(du(t))this._createEndTagToken(),this.state=z.TAG_NAME,this._stateTagName(t);else switch(t){case F.GREATER_THAN_SIGN:{this._err(ce.missingEndTagName),this.state=z.DATA;break}case F.EOF:{this._err(ce.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ce.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=z.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){let r=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=z.BEFORE_ATTRIBUTE_NAME;break}case F.SOLIDUS:{this.state=z.SELF_CLOSING_START_TAG;break}case F.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentTagToken();break}case F.NULL:{this._err(ce.unexpectedNullCharacter),r.tagName+=hr;break}case F.EOF:{this._err(ce.eofInTag),this._emitEOFToken();break}default:r.tagName+=String.fromCodePoint(wg(t)?Tv(t):t)}}_stateRcdataLessThanSign(t){t===F.SOLIDUS?this.state=z.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=z.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){du(t)?(this.state=z.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=z.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();let r=this.currentToken;switch(r.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=z.BEFORE_ATTRIBUTE_NAME,!1;case F.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=z.SELF_CLOSING_START_TAG,!1;case F.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=z.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=z.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===F.SOLIDUS?this.state=z.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=z.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){du(t)?(this.state=z.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=z.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=z.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case F.SOLIDUS:{this.state=z.SCRIPT_DATA_END_TAG_OPEN;break}case F.EXCLAMATION_MARK:{this.state=z.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=z.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){du(t)?(this.state=z.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===F.HYPHEN_MINUS?(this.state=z.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===F.HYPHEN_MINUS?(this.state=z.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case F.HYPHEN_MINUS:{this.state=z.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case F.NULL:{this._err(ce.unexpectedNullCharacter),this._emitChars(hr);break}case F.EOF:{this._err(ce.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case F.HYPHEN_MINUS:{this.state=z.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case F.NULL:{this._err(ce.unexpectedNullCharacter),this.state=z.SCRIPT_DATA_ESCAPED,this._emitChars(hr);break}case F.EOF:{this._err(ce.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=z.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case F.HYPHEN_MINUS:{this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case F.GREATER_THAN_SIGN:{this.state=z.SCRIPT_DATA,this._emitChars(">");break}case F.NULL:{this._err(ce.unexpectedNullCharacter),this.state=z.SCRIPT_DATA_ESCAPED,this._emitChars(hr);break}case F.EOF:{this._err(ce.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=z.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===F.SOLIDUS?this.state=z.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:du(t)?(this._emitChars("<"),this.state=z.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){du(t)?(this.state=z.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(ms.SCRIPT,!1)&&nie(this.preprocessor.peek(ms.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<ms.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case F.HYPHEN_MINUS:{this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case F.NULL:{this._err(ce.unexpectedNullCharacter),this._emitChars(hr);break}case F.EOF:{this._err(ce.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case F.HYPHEN_MINUS:{this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case F.NULL:{this._err(ce.unexpectedNullCharacter),this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(hr);break}case F.EOF:{this._err(ce.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case F.HYPHEN_MINUS:{this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case F.GREATER_THAN_SIGN:{this.state=z.SCRIPT_DATA,this._emitChars(">");break}case F.NULL:{this._err(ce.unexpectedNullCharacter),this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(hr);break}case F.EOF:{this._err(ce.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===F.SOLIDUS?(this.state=z.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(ms.SCRIPT,!1)&&nie(this.preprocessor.peek(ms.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<ms.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=z.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.SOLIDUS:case F.GREATER_THAN_SIGN:case F.EOF:{this.state=z.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case F.EQUALS_SIGN:{this._err(ce.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=z.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=z.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:case F.SOLIDUS:case F.GREATER_THAN_SIGN:case F.EOF:{this._leaveAttrName(),this.state=z.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case F.EQUALS_SIGN:{this._leaveAttrName(),this.state=z.BEFORE_ATTRIBUTE_VALUE;break}case F.QUOTATION_MARK:case F.APOSTROPHE:case F.LESS_THAN_SIGN:{this._err(ce.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case F.NULL:{this._err(ce.unexpectedNullCharacter),this.currentAttr.name+=hr;break}default:this.currentAttr.name+=String.fromCodePoint(wg(t)?Tv(t):t)}}_stateAfterAttributeName(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.SOLIDUS:{this.state=z.SELF_CLOSING_START_TAG;break}case F.EQUALS_SIGN:{this.state=z.BEFORE_ATTRIBUTE_VALUE;break}case F.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentTagToken();break}case F.EOF:{this._err(ce.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=z.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.QUOTATION_MARK:{this.state=z.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case F.APOSTROPHE:{this.state=z.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(ce.missingAttributeValue),this.state=z.DATA,this.emitCurrentTagToken();break}default:this.state=z.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case F.QUOTATION_MARK:{this.state=z.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case F.AMPERSAND:{this._startCharacterReference();break}case F.NULL:{this._err(ce.unexpectedNullCharacter),this.currentAttr.value+=hr;break}case F.EOF:{this._err(ce.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case F.APOSTROPHE:{this.state=z.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case F.AMPERSAND:{this._startCharacterReference();break}case F.NULL:{this._err(ce.unexpectedNullCharacter),this.currentAttr.value+=hr;break}case F.EOF:{this._err(ce.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this._leaveAttrValue(),this.state=z.BEFORE_ATTRIBUTE_NAME;break}case F.AMPERSAND:{this._startCharacterReference();break}case F.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=z.DATA,this.emitCurrentTagToken();break}case F.NULL:{this._err(ce.unexpectedNullCharacter),this.currentAttr.value+=hr;break}case F.QUOTATION_MARK:case F.APOSTROPHE:case F.LESS_THAN_SIGN:case F.EQUALS_SIGN:case F.GRAVE_ACCENT:{this._err(ce.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case F.EOF:{this._err(ce.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this._leaveAttrValue(),this.state=z.BEFORE_ATTRIBUTE_NAME;break}case F.SOLIDUS:{this._leaveAttrValue(),this.state=z.SELF_CLOSING_START_TAG;break}case F.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=z.DATA,this.emitCurrentTagToken();break}case F.EOF:{this._err(ce.eofInTag),this._emitEOFToken();break}default:this._err(ce.missingWhitespaceBetweenAttributes),this.state=z.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case F.GREATER_THAN_SIGN:{let r=this.currentToken;r.selfClosing=!0,this.state=z.DATA,this.emitCurrentTagToken();break}case F.EOF:{this._err(ce.eofInTag),this._emitEOFToken();break}default:this._err(ce.unexpectedSolidusInTag),this.state=z.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){let r=this.currentToken;switch(t){case F.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentComment(r);break}case F.EOF:{this.emitCurrentComment(r),this._emitEOFToken();break}case F.NULL:{this._err(ce.unexpectedNullCharacter),r.data+=hr;break}default:r.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(ms.DASH_DASH,!0)?(this._createCommentToken(ms.DASH_DASH.length+1),this.state=z.COMMENT_START):this._consumeSequenceIfMatch(ms.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(ms.DOCTYPE.length+1),this.state=z.DOCTYPE):this._consumeSequenceIfMatch(ms.CDATA_START,!0)?this.inForeignNode?this.state=z.CDATA_SECTION:(this._err(ce.cdataInHtmlContent),this._createCommentToken(ms.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=z.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ce.incorrectlyOpenedComment),this._createCommentToken(2),this.state=z.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case F.HYPHEN_MINUS:{this.state=z.COMMENT_START_DASH;break}case F.GREATER_THAN_SIGN:{this._err(ce.abruptClosingOfEmptyComment),this.state=z.DATA;let r=this.currentToken;this.emitCurrentComment(r);break}default:this.state=z.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){let r=this.currentToken;switch(t){case F.HYPHEN_MINUS:{this.state=z.COMMENT_END;break}case F.GREATER_THAN_SIGN:{this._err(ce.abruptClosingOfEmptyComment),this.state=z.DATA,this.emitCurrentComment(r);break}case F.EOF:{this._err(ce.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=z.COMMENT,this._stateComment(t)}}_stateComment(t){let r=this.currentToken;switch(t){case F.HYPHEN_MINUS:{this.state=z.COMMENT_END_DASH;break}case F.LESS_THAN_SIGN:{r.data+="<",this.state=z.COMMENT_LESS_THAN_SIGN;break}case F.NULL:{this._err(ce.unexpectedNullCharacter),r.data+=hr;break}case F.EOF:{this._err(ce.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){let r=this.currentToken;switch(t){case F.EXCLAMATION_MARK:{r.data+="!",this.state=z.COMMENT_LESS_THAN_SIGN_BANG;break}case F.LESS_THAN_SIGN:{r.data+="<";break}default:this.state=z.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===F.HYPHEN_MINUS?this.state=z.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=z.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===F.HYPHEN_MINUS?this.state=z.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=z.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==F.GREATER_THAN_SIGN&&t!==F.EOF&&this._err(ce.nestedComment),this.state=z.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){let r=this.currentToken;switch(t){case F.HYPHEN_MINUS:{this.state=z.COMMENT_END;break}case F.EOF:{this._err(ce.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=z.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){let r=this.currentToken;switch(t){case F.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentComment(r);break}case F.EXCLAMATION_MARK:{this.state=z.COMMENT_END_BANG;break}case F.HYPHEN_MINUS:{r.data+="-";break}case F.EOF:{this._err(ce.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--",this.state=z.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){let r=this.currentToken;switch(t){case F.HYPHEN_MINUS:{r.data+="--!",this.state=z.COMMENT_END_DASH;break}case F.GREATER_THAN_SIGN:{this._err(ce.incorrectlyClosedComment),this.state=z.DATA,this.emitCurrentComment(r);break}case F.EOF:{this._err(ce.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--!",this.state=z.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=z.BEFORE_DOCTYPE_NAME;break}case F.GREATER_THAN_SIGN:{this.state=z.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case F.EOF:{this._err(ce.eofInDoctype),this._createDoctypeToken(null);let r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ce.missingWhitespaceBeforeDoctypeName),this.state=z.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(wg(t))this._createDoctypeToken(String.fromCharCode(Tv(t))),this.state=z.DOCTYPE_NAME;else switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.NULL:{this._err(ce.unexpectedNullCharacter),this._createDoctypeToken(hr),this.state=z.DOCTYPE_NAME;break}case F.GREATER_THAN_SIGN:{this._err(ce.missingDoctypeName),this._createDoctypeToken(null);let r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=z.DATA;break}case F.EOF:{this._err(ce.eofInDoctype),this._createDoctypeToken(null);let r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=z.DOCTYPE_NAME}}_stateDoctypeName(t){let r=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=z.AFTER_DOCTYPE_NAME;break}case F.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentDoctype(r);break}case F.NULL:{this._err(ce.unexpectedNullCharacter),r.name+=hr;break}case F.EOF:{this._err(ce.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.name+=String.fromCodePoint(wg(t)?Tv(t):t)}}_stateAfterDoctypeName(t){let r=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentDoctype(r);break}case F.EOF:{this._err(ce.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(ms.PUBLIC,!1)?this.state=z.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(ms.SYSTEM,!1)?this.state=z.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ce.invalidCharacterSequenceAfterDoctypeName),r.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){let r=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=z.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case F.QUOTATION_MARK:{this._err(ce.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=z.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{this._err(ce.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=z.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(ce.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=z.DATA,this.emitCurrentDoctype(r);break}case F.EOF:{this._err(ce.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ce.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){let r=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.QUOTATION_MARK:{r.publicId="",this.state=z.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{r.publicId="",this.state=z.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(ce.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=z.DATA,this.emitCurrentDoctype(r);break}case F.EOF:{this._err(ce.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ce.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){let r=this.currentToken;switch(t){case F.QUOTATION_MARK:{this.state=z.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case F.NULL:{this._err(ce.unexpectedNullCharacter),r.publicId+=hr;break}case F.GREATER_THAN_SIGN:{this._err(ce.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=z.DATA;break}case F.EOF:{this._err(ce.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){let r=this.currentToken;switch(t){case F.APOSTROPHE:{this.state=z.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case F.NULL:{this._err(ce.unexpectedNullCharacter),r.publicId+=hr;break}case F.GREATER_THAN_SIGN:{this._err(ce.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=z.DATA;break}case F.EOF:{this._err(ce.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){let r=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=z.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case F.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentDoctype(r);break}case F.QUOTATION_MARK:{this._err(ce.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{this._err(ce.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case F.EOF:{this._err(ce.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ce.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){let r=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=z.DATA;break}case F.QUOTATION_MARK:{r.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{r.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case F.EOF:{this._err(ce.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ce.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){let r=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=z.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case F.QUOTATION_MARK:{this._err(ce.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{this._err(ce.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(ce.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=z.DATA,this.emitCurrentDoctype(r);break}case F.EOF:{this._err(ce.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ce.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){let r=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.QUOTATION_MARK:{r.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{r.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(ce.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=z.DATA,this.emitCurrentDoctype(r);break}case F.EOF:{this._err(ce.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ce.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){let r=this.currentToken;switch(t){case F.QUOTATION_MARK:{this.state=z.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case F.NULL:{this._err(ce.unexpectedNullCharacter),r.systemId+=hr;break}case F.GREATER_THAN_SIGN:{this._err(ce.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=z.DATA;break}case F.EOF:{this._err(ce.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){let r=this.currentToken;switch(t){case F.APOSTROPHE:{this.state=z.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case F.NULL:{this._err(ce.unexpectedNullCharacter),r.systemId+=hr;break}case F.GREATER_THAN_SIGN:{this._err(ce.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=z.DATA;break}case F.EOF:{this._err(ce.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){let r=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=z.DATA;break}case F.EOF:{this._err(ce.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ce.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){let r=this.currentToken;switch(t){case F.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=z.DATA;break}case F.NULL:{this._err(ce.unexpectedNullCharacter);break}case F.EOF:{this.emitCurrentDoctype(r),this._emitEOFToken();break}default:}}_stateCdataSection(t){switch(t){case F.RIGHT_SQUARE_BRACKET:{this.state=z.CDATA_SECTION_BRACKET;break}case F.EOF:{this._err(ce.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===F.RIGHT_SQUARE_BRACKET?this.state=z.CDATA_SECTION_END:(this._emitChars("]"),this.state=z.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case F.GREATER_THAN_SIGN:{this.state=z.DATA;break}case F.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=z.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(F.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&rie(this.preprocessor.peek(1))?z.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){rie(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===F.SEMICOLON&&this._err(ce.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}};var cie=new Set([_.DD,_.DT,_.LI,_.OPTGROUP,_.OPTION,_.P,_.RB,_.RP,_.RT,_.RTC]),iie=new Set([...cie,_.CAPTION,_.COLGROUP,_.TBODY,_.TD,_.TFOOT,_.TH,_.THEAD,_.TR]),Bv=new Set([_.APPLET,_.CAPTION,_.HTML,_.MARQUEE,_.OBJECT,_.TABLE,_.TD,_.TEMPLATE,_.TH]),sYe=new Set([...Bv,_.OL,_.UL]),iYe=new Set([...Bv,_.BUTTON]),aie=new Set([_.ANNOTATION_XML,_.MI,_.MN,_.MO,_.MS,_.MTEXT]),oie=new Set([_.DESC,_.FOREIGN_OBJECT,_.TITLE]),aYe=new Set([_.TR,_.TEMPLATE,_.HTML]),oYe=new Set([_.TBODY,_.TFOOT,_.THEAD,_.TEMPLATE,_.HTML]),cYe=new Set([_.TABLE,_.TEMPLATE,_.HTML]),uYe=new Set([_.TD,_.TH]),Rv=class{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,r,n){this.treeAdapter=r,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=_.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===_.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===le.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,r){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=r,this.currentTagId=r,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,r,!0)}pop(){let t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,r){let n=this._indexOf(t);this.items[n]=r,n===this.stackTop&&(this.current=r)}insertAfter(t,r,n){let s=this._indexOf(t)+1;this.items.splice(s,0,r),this.tagIDs.splice(s,0,n),this.stackTop++,s===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,s===this.stackTop)}popUntilTagNamePopped(t){let r=this.stackTop+1;do r=this.tagIDs.lastIndexOf(t,r-1);while(r>0&&this.treeAdapter.getNamespaceURI(this.items[r])!==le.HTML);this.shortenToLength(Math.max(r,0))}shortenToLength(t){for(;this.stackTop>=t;){let r=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,this.stackTop<t)}}popUntilElementPopped(t){let r=this._indexOf(t);this.shortenToLength(Math.max(r,0))}popUntilPopped(t,r){let n=this._indexOfTagNames(t,r);this.shortenToLength(Math.max(n,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(Rp,le.HTML)}popUntilTableCellPopped(){this.popUntilPopped(uYe,le.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,r){for(let n=this.stackTop;n>=0;n--)if(t.has(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===r)return n;return-1}clearBackTo(t,r){let n=this._indexOfTagNames(t,r);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(cYe,le.HTML)}clearBackToTableBodyContext(){this.clearBackTo(oYe,le.HTML)}clearBackToTableRowContext(){this.clearBackTo(aYe,le.HTML)}remove(t){let r=this._indexOf(t);r>=0&&(r===this.stackTop?this.pop():(this.items.splice(r,1),this.tagIDs.splice(r,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===_.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){let r=this._indexOf(t)-1;return r>=0?this.items[r]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===_.HTML}hasInDynamicScope(t,r){for(let n=this.stackTop;n>=0;n--){let s=this.tagIDs[n];switch(this.treeAdapter.getNamespaceURI(this.items[n])){case le.HTML:{if(s===t)return!0;if(r.has(s))return!1;break}case le.SVG:{if(oie.has(s))return!1;break}case le.MATHML:{if(aie.has(s))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Bv)}hasInListItemScope(t){return this.hasInDynamicScope(t,sYe)}hasInButtonScope(t){return this.hasInDynamicScope(t,iYe)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){let r=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case le.HTML:{if(Rp.has(r))return!0;if(Bv.has(r))return!1;break}case le.SVG:{if(oie.has(r))return!1;break}case le.MATHML:{if(aie.has(r))return!1;break}}}return!0}hasInTableScope(t){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===le.HTML)switch(this.tagIDs[r]){case t:return!0;case _.TABLE:case _.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===le.HTML)switch(this.tagIDs[t]){case _.TBODY:case _.THEAD:case _.TFOOT:return!0;case _.TABLE:case _.HTML:return!1}return!0}hasInSelectScope(t){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===le.HTML)switch(this.tagIDs[r]){case t:return!0;case _.OPTION:case _.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&cie.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&iie.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&iie.has(this.currentTagId);)this.pop()}};var ia;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(ia||(ia={}));var uie={type:ia.Marker},Nv=class{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,r){let n=[],s=r.length,a=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let c=0;c<this.entries.length;c++){let u=this.entries[c];if(u.type===ia.Marker)break;let{element:l}=u;if(this.treeAdapter.getTagName(l)===a&&this.treeAdapter.getNamespaceURI(l)===o){let d=this.treeAdapter.getAttrList(l);d.length===s&&n.push({idx:c,attrs:d})}}return n}_ensureNoahArkCondition(t){if(this.entries.length<3)return;let r=this.treeAdapter.getAttrList(t),n=this._getNoahArkConditionCandidates(t,r);if(n.length<3)return;let s=new Map(r.map(o=>[o.name,o.value])),a=0;for(let o=0;o<n.length;o++){let c=n[o];c.attrs.every(u=>s.get(u.name)===u.value)&&(a+=1,a>=3&&this.entries.splice(c.idx,1))}}insertMarker(){this.entries.unshift(uie)}pushElement(t,r){this._ensureNoahArkCondition(t),this.entries.unshift({type:ia.Element,element:t,token:r})}insertElementAfterBookmark(t,r){let n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:ia.Element,element:t,token:r})}removeEntry(t){let r=this.entries.indexOf(t);r!==-1&&this.entries.splice(r,1)}clearToLastMarker(){let t=this.entries.indexOf(uie);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){let r=this.entries.find(n=>n.type===ia.Marker||this.treeAdapter.getTagName(n.element)===t);return r&&r.type===ia.Element?r:null}getElementEntry(t){return this.entries.find(r=>r.type===ia.Element&&r.element===t)}};var Bi={createDocument(){return{nodeName:"#document",mode:Jn.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,r){return{nodeName:e,tagName:e,attrs:r,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,r){let n=e.childNodes.indexOf(r);e.childNodes.splice(n,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,r,n){let s=e.childNodes.find(a=>a.nodeName==="#documentType");if(s)s.name=t,s.publicId=r,s.systemId=n;else{let a={nodeName:"#documentType",name:t,publicId:r,systemId:n,parentNode:null};Bi.appendChild(e,a)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){let t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){let r=e.childNodes[e.childNodes.length-1];if(Bi.isTextNode(r)){r.value+=t;return}}Bi.appendChild(e,Bi.createTextNode(t))},insertTextBefore(e,t,r){let n=e.childNodes[e.childNodes.indexOf(r)-1];n&&Bi.isTextNode(n)?n.value+=t:Bi.insertBefore(e,Bi.createTextNode(t),r)},adoptAttributes(e,t){let r=new Set(e.attrs.map(n=>n.name));for(let n=0;n<t.length;n++)r.has(t[n].name)||e.attrs.push(t[n])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}};var die="html",lYe="about:legacy-compat",dYe="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",fie=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],fYe=[...fie,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],pYe=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),pie=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],hYe=[...pie,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function lie(e,t){return t.some(r=>e.startsWith(r))}function hie(e){return e.name===die&&e.publicId===null&&(e.systemId===null||e.systemId===lYe)}function mie(e){if(e.name!==die)return Jn.QUIRKS;let{systemId:t}=e;if(t&&t.toLowerCase()===dYe)return Jn.QUIRKS;let{publicId:r}=e;if(r!==null){if(r=r.toLowerCase(),pYe.has(r))return Jn.QUIRKS;let n=t===null?fYe:fie;if(lie(r,n))return Jn.QUIRKS;if(n=t===null?pie:hYe,lie(r,n))return Jn.LIMITED_QUIRKS}return Jn.NO_QUIRKS}var gie={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},gYe="definitionurl",AYe="definitionURL",yYe=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),bYe=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:le.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:le.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:le.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:le.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:le.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:le.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:le.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:le.XML}],["xml:space",{prefix:"xml",name:"space",namespace:le.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:le.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:le.XMLNS}]]),EYe=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),xYe=new Set([_.B,_.BIG,_.BLOCKQUOTE,_.BODY,_.BR,_.CENTER,_.CODE,_.DD,_.DIV,_.DL,_.DT,_.EM,_.EMBED,_.H1,_.H2,_.H3,_.H4,_.H5,_.H6,_.HEAD,_.HR,_.I,_.IMG,_.LI,_.LISTING,_.MENU,_.META,_.NOBR,_.OL,_.P,_.PRE,_.RUBY,_.S,_.SMALL,_.SPAN,_.STRONG,_.STRIKE,_.SUB,_.SUP,_.TABLE,_.TT,_.U,_.UL,_.VAR]);function Aie(e){let t=e.tagID;return t===_.FONT&&e.attrs.some(({name:n})=>n===Ha.COLOR||n===Ha.SIZE||n===Ha.FACE)||xYe.has(t)}function nD(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===gYe){e.attrs[t].name=AYe;break}}function sD(e){for(let t=0;t<e.attrs.length;t++){let r=yYe.get(e.attrs[t].name);r!=null&&(e.attrs[t].name=r)}}function kv(e){for(let t=0;t<e.attrs.length;t++){let r=bYe.get(e.attrs[t].name);r&&(e.attrs[t].prefix=r.prefix,e.attrs[t].name=r.name,e.attrs[t].namespace=r.namespace)}}function yie(e){let t=EYe.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=lu(e.tagName))}function vYe(e,t){return t===le.MATHML&&(e===_.MI||e===_.MO||e===_.MN||e===_.MS||e===_.MTEXT)}function _Ye(e,t,r){if(t===le.MATHML&&e===_.ANNOTATION_XML){for(let n=0;n<r.length;n++)if(r[n].name===Ha.ENCODING){let s=r[n].value.toLowerCase();return s===gie.TEXT_HTML||s===gie.APPLICATION_XML}}return t===le.SVG&&(e===_.FOREIGN_OBJECT||e===_.DESC||e===_.TITLE)}function bie(e,t,r,n){return(!n||n===le.HTML)&&_Ye(e,t,r)||(!n||n===le.MATHML)&&vYe(e,t)}var IYe="hidden",CYe=8,wYe=3,Y;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(Y||(Y={}));var SYe={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Iie=new Set([_.TABLE,_.TBODY,_.TFOOT,_.THEAD,_.TR]),xie={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Bi,onParseError:null},Np=class{constructor(t,r,n=null,s=null){this.fragmentContext=n,this.scriptHandler=s,this.currentToken=null,this.stopped=!1,this.insertionMode=Y.INITIAL,this.originalInsertionMode=Y.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...xie,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=r??this.treeAdapter.createDocument(),this.tokenizer=new Sg(this.options,this),this.activeFormattingElements=new Nv(this.treeAdapter),this.fragmentContextID=n?lu(this.treeAdapter.getTagName(n)):_.UNKNOWN,this._setContextModes(n??this.document,this.fragmentContextID),this.openElements=new Rv(this.document,this.treeAdapter,this)}static parse(t,r){let n=new this(r);return n.tokenizer.write(t,!0),n.document}static getFragmentParser(t,r){let n={...xie,...r};t??(t=n.treeAdapter.createElement(ie.TEMPLATE,le.HTML,[]));let s=n.treeAdapter.createElement("documentmock",le.HTML,[]),a=new this(n,s,t);return a.fragmentContextID===_.TEMPLATE&&a.tmplInsertionModeStack.unshift(Y.IN_TEMPLATE),a._initTokenizerForFragmentParsing(),a._insertFakeRootElement(),a._resetInsertionMode(),a._findFormInFragmentContext(),a}getFragment(){let t=this.treeAdapter.getFirstChild(this.document),r=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,r),r}_err(t,r,n){var s;if(!this.onParseError)return;let a=(s=t.location)!==null&&s!==void 0?s:SYe,o={code:r,startLine:a.startLine,startCol:a.startCol,startOffset:a.startOffset,endLine:n?a.startLine:a.endLine,endCol:n?a.startCol:a.endCol,endOffset:n?a.startOffset:a.endOffset};this.onParseError(o)}onItemPush(t,r,n){var s,a;(a=(s=this.treeAdapter).onItemPush)===null||a===void 0||a.call(s,t),n&&this.openElements.stackTop>0&&this._setContextModes(t,r)}onItemPop(t,r){var n,s;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(s=(n=this.treeAdapter).onItemPop)===null||s===void 0||s.call(n,t,this.openElements.current),r){let a,o;this.openElements.stackTop===0&&this.fragmentContext?(a=this.fragmentContext,o=this.fragmentContextID):{current:a,currentTagId:o}=this.openElements,this._setContextModes(a,o)}}_setContextModes(t,r){let n=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===le.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&t!==void 0&&r!==void 0&&!this._isIntegrationPoint(r,t)}_switchToTextParsing(t,r){this._insertElement(t,le.HTML),this.tokenizer.state=r,this.originalInsertionMode=this.insertionMode,this.insertionMode=Y.TEXT}switchToPlaintextParsing(){this.insertionMode=Y.TEXT,this.originalInsertionMode=Y.IN_BODY,this.tokenizer.state=Xn.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===ie.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==le.HTML))switch(this.fragmentContextID){case _.TITLE:case _.TEXTAREA:{this.tokenizer.state=Xn.RCDATA;break}case _.STYLE:case _.XMP:case _.IFRAME:case _.NOEMBED:case _.NOFRAMES:case _.NOSCRIPT:{this.tokenizer.state=Xn.RAWTEXT;break}case _.SCRIPT:{this.tokenizer.state=Xn.SCRIPT_DATA;break}case _.PLAINTEXT:{this.tokenizer.state=Xn.PLAINTEXT;break}default:}}_setDocumentType(t){let r=t.name||"",n=t.publicId||"",s=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,r,n,s),t.location){let o=this.treeAdapter.getChildNodes(this.document).find(c=>this.treeAdapter.isDocumentTypeNode(c));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,r){if(this.options.sourceCodeLocationInfo){let n=r&&{...r,startTag:r};this.treeAdapter.setNodeSourceCodeLocation(t,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{let n=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(n??this.document,t)}}_appendElement(t,r){let n=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(n,t.location)}_insertElement(t,r){let n=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID)}_insertFakeElement(t,r){let n=this.treeAdapter.createElement(t,le.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,r)}_insertTemplate(t){let r=this.treeAdapter.createElement(t.tagName,le.HTML,t.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(r,n),this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){let t=this.treeAdapter.createElement(ie.HTML,le.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,_.HTML)}_appendCommentNode(t,r){let n=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(r,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,t.location)}_insertCharacters(t){let r,n;if(this._shouldFosterParentOnInsertion()?({parent:r,beforeElement:n}=this._findFosterParentingLocation(),n?this.treeAdapter.insertTextBefore(r,t.chars,n):this.treeAdapter.insertText(r,t.chars)):(r=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(r,t.chars)),!t.location)return;let s=this.treeAdapter.getChildNodes(r),a=n?s.lastIndexOf(n):s.length,o=s[a-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){let{endLine:u,endCol:l,endOffset:d}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:u,endCol:l,endOffset:d})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,r){for(let n=this.treeAdapter.getFirstChild(t);n;n=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(r,n)}_setEndLocation(t,r){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&r.location){let n=r.location,s=this.treeAdapter.getTagName(t),a=r.type===Tt.END_TAG&&s===r.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,a)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let r,n;return this.openElements.stackTop===0&&this.fragmentContext?(r=this.fragmentContext,n=this.fragmentContextID):{current:r,currentTagId:n}=this.openElements,t.tagID===_.SVG&&this.treeAdapter.getTagName(r)===ie.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(r)===le.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===_.MGLYPH||t.tagID===_.MALIGNMARK)&&n!==void 0&&!this._isIntegrationPoint(n,r,le.HTML)}_processToken(t){switch(t.type){case Tt.CHARACTER:{this.onCharacter(t);break}case Tt.NULL_CHARACTER:{this.onNullCharacter(t);break}case Tt.COMMENT:{this.onComment(t);break}case Tt.DOCTYPE:{this.onDoctype(t);break}case Tt.START_TAG:{this._processStartTag(t);break}case Tt.END_TAG:{this.onEndTag(t);break}case Tt.EOF:{this.onEof(t);break}case Tt.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,r,n){let s=this.treeAdapter.getNamespaceURI(r),a=this.treeAdapter.getAttrList(r);return bie(t,s,a,n)}_reconstructActiveFormattingElements(){let t=this.activeFormattingElements.entries.length;if(t){let r=this.activeFormattingElements.entries.findIndex(s=>s.type===ia.Marker||this.openElements.contains(s.element)),n=r===-1?t-1:r-1;for(let s=n;s>=0;s--){let a=this.activeFormattingElements.entries[s];this._insertElement(a.token,this.treeAdapter.getNamespaceURI(a.element)),a.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Y.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(_.P),this.openElements.popUntilTagNamePopped(_.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case _.TR:{this.insertionMode=Y.IN_ROW;return}case _.TBODY:case _.THEAD:case _.TFOOT:{this.insertionMode=Y.IN_TABLE_BODY;return}case _.CAPTION:{this.insertionMode=Y.IN_CAPTION;return}case _.COLGROUP:{this.insertionMode=Y.IN_COLUMN_GROUP;return}case _.TABLE:{this.insertionMode=Y.IN_TABLE;return}case _.BODY:{this.insertionMode=Y.IN_BODY;return}case _.FRAMESET:{this.insertionMode=Y.IN_FRAMESET;return}case _.SELECT:{this._resetInsertionModeForSelect(t);return}case _.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case _.HTML:{this.insertionMode=this.headElement?Y.AFTER_HEAD:Y.BEFORE_HEAD;return}case _.TD:case _.TH:{if(t>0){this.insertionMode=Y.IN_CELL;return}break}case _.HEAD:{if(t>0){this.insertionMode=Y.IN_HEAD;return}break}}this.insertionMode=Y.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let r=t-1;r>0;r--){let n=this.openElements.tagIDs[r];if(n===_.TEMPLATE)break;if(n===_.TABLE){this.insertionMode=Y.IN_SELECT_IN_TABLE;return}}this.insertionMode=Y.IN_SELECT}_isElementCausesFosterParenting(t){return Iie.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){let r=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case _.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(r)===le.HTML)return{parent:this.treeAdapter.getTemplateContent(r),beforeElement:null};break}case _.TABLE:{let n=this.treeAdapter.getParentNode(r);return n?{parent:n,beforeElement:r}:{parent:this.openElements.items[t-1],beforeElement:null}}default:}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){let r=this._findFosterParentingLocation();r.beforeElement?this.treeAdapter.insertBefore(r.parent,t,r.beforeElement):this.treeAdapter.appendChild(r.parent,t)}_isSpecialElement(t,r){let n=this.treeAdapter.getNamespaceURI(t);return tD[n].has(r)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){nJe(this,t);return}switch(this.insertionMode){case Y.INITIAL:{Tg(this,t);break}case Y.BEFORE_HTML:{Rg(this,t);break}case Y.BEFORE_HEAD:{Ng(this,t);break}case Y.IN_HEAD:{kg(this,t);break}case Y.IN_HEAD_NO_SCRIPT:{Dg(this,t);break}case Y.AFTER_HEAD:{Pg(this,t);break}case Y.IN_BODY:case Y.IN_CAPTION:case Y.IN_CELL:case Y.IN_TEMPLATE:{wie(this,t);break}case Y.TEXT:case Y.IN_SELECT:case Y.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case Y.IN_TABLE:case Y.IN_TABLE_BODY:case Y.IN_ROW:{iD(this,t);break}case Y.IN_TABLE_TEXT:{kie(this,t);break}case Y.IN_COLUMN_GROUP:{Pv(this,t);break}case Y.AFTER_BODY:{Ov(this,t);break}case Y.AFTER_AFTER_BODY:{Dv(this,t);break}default:}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){rJe(this,t);return}switch(this.insertionMode){case Y.INITIAL:{Tg(this,t);break}case Y.BEFORE_HTML:{Rg(this,t);break}case Y.BEFORE_HEAD:{Ng(this,t);break}case Y.IN_HEAD:{kg(this,t);break}case Y.IN_HEAD_NO_SCRIPT:{Dg(this,t);break}case Y.AFTER_HEAD:{Pg(this,t);break}case Y.TEXT:{this._insertCharacters(t);break}case Y.IN_TABLE:case Y.IN_TABLE_BODY:case Y.IN_ROW:{iD(this,t);break}case Y.IN_COLUMN_GROUP:{Pv(this,t);break}case Y.AFTER_BODY:{Ov(this,t);break}case Y.AFTER_AFTER_BODY:{Dv(this,t);break}default:}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){aD(this,t);return}switch(this.insertionMode){case Y.INITIAL:case Y.BEFORE_HTML:case Y.BEFORE_HEAD:case Y.IN_HEAD:case Y.IN_HEAD_NO_SCRIPT:case Y.AFTER_HEAD:case Y.IN_BODY:case Y.IN_TABLE:case Y.IN_CAPTION:case Y.IN_COLUMN_GROUP:case Y.IN_TABLE_BODY:case Y.IN_ROW:case Y.IN_CELL:case Y.IN_SELECT:case Y.IN_SELECT_IN_TABLE:case Y.IN_TEMPLATE:case Y.IN_FRAMESET:case Y.AFTER_FRAMESET:{aD(this,t);break}case Y.IN_TABLE_TEXT:{Bg(this,t);break}case Y.AFTER_BODY:{PYe(this,t);break}case Y.AFTER_AFTER_BODY:case Y.AFTER_AFTER_FRAMESET:{OYe(this,t);break}default:}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case Y.INITIAL:{$Ye(this,t);break}case Y.BEFORE_HEAD:case Y.IN_HEAD:case Y.IN_HEAD_NO_SCRIPT:case Y.AFTER_HEAD:{this._err(t,ce.misplacedDoctype);break}case Y.IN_TABLE_TEXT:{Bg(this,t);break}default:}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,ce.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?sJe(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case Y.INITIAL:{Tg(this,t);break}case Y.BEFORE_HTML:{LYe(this,t);break}case Y.BEFORE_HEAD:{FYe(this,t);break}case Y.IN_HEAD:{aa(this,t);break}case Y.IN_HEAD_NO_SCRIPT:{qYe(this,t);break}case Y.AFTER_HEAD:{HYe(this,t);break}case Y.IN_BODY:{Zn(this,t);break}case Y.IN_TABLE:{kp(this,t);break}case Y.IN_TABLE_TEXT:{Bg(this,t);break}case Y.IN_CAPTION:{QWe(this,t);break}case Y.IN_COLUMN_GROUP:{lD(this,t);break}case Y.IN_TABLE_BODY:{Mv(this,t);break}case Y.IN_ROW:{Fv(this,t);break}case Y.IN_CELL:{jWe(this,t);break}case Y.IN_SELECT:{Oie(this,t);break}case Y.IN_SELECT_IN_TABLE:{zWe(this,t);break}case Y.IN_TEMPLATE:{VWe(this,t);break}case Y.AFTER_BODY:{YWe(this,t);break}case Y.IN_FRAMESET:{WWe(this,t);break}case Y.AFTER_FRAMESET:{XWe(this,t);break}case Y.AFTER_AFTER_BODY:{eJe(this,t);break}case Y.AFTER_AFTER_FRAMESET:{tJe(this,t);break}default:}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?iJe(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case Y.INITIAL:{Tg(this,t);break}case Y.BEFORE_HTML:{MYe(this,t);break}case Y.BEFORE_HEAD:{QYe(this,t);break}case Y.IN_HEAD:{UYe(this,t);break}case Y.IN_HEAD_NO_SCRIPT:{jYe(this,t);break}case Y.AFTER_HEAD:{zYe(this,t);break}case Y.IN_BODY:{Lv(this,t);break}case Y.TEXT:{RWe(this,t);break}case Y.IN_TABLE:{Og(this,t);break}case Y.IN_TABLE_TEXT:{Bg(this,t);break}case Y.IN_CAPTION:{UWe(this,t);break}case Y.IN_COLUMN_GROUP:{qWe(this,t);break}case Y.IN_TABLE_BODY:{oD(this,t);break}case Y.IN_ROW:{Pie(this,t);break}case Y.IN_CELL:{HWe(this,t);break}case Y.IN_SELECT:{$ie(this,t);break}case Y.IN_SELECT_IN_TABLE:{GWe(this,t);break}case Y.IN_TEMPLATE:{KWe(this,t);break}case Y.AFTER_BODY:{Mie(this,t);break}case Y.IN_FRAMESET:{JWe(this,t);break}case Y.AFTER_FRAMESET:{ZWe(this,t);break}case Y.AFTER_AFTER_BODY:{Dv(this,t);break}default:}}onEof(t){switch(this.insertionMode){case Y.INITIAL:{Tg(this,t);break}case Y.BEFORE_HTML:{Rg(this,t);break}case Y.BEFORE_HEAD:{Ng(this,t);break}case Y.IN_HEAD:{kg(this,t);break}case Y.IN_HEAD_NO_SCRIPT:{Dg(this,t);break}case Y.AFTER_HEAD:{Pg(this,t);break}case Y.IN_BODY:case Y.IN_TABLE:case Y.IN_CAPTION:case Y.IN_COLUMN_GROUP:case Y.IN_TABLE_BODY:case Y.IN_ROW:case Y.IN_CELL:case Y.IN_SELECT:case Y.IN_SELECT_IN_TABLE:{Rie(this,t);break}case Y.TEXT:{NWe(this,t);break}case Y.IN_TABLE_TEXT:{Bg(this,t);break}case Y.IN_TEMPLATE:{Lie(this,t);break}case Y.AFTER_BODY:case Y.IN_FRAMESET:case Y.AFTER_FRAMESET:case Y.AFTER_AFTER_BODY:case Y.AFTER_AFTER_FRAMESET:{uD(this,t);break}default:}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===F.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case Y.IN_HEAD:case Y.IN_HEAD_NO_SCRIPT:case Y.AFTER_HEAD:case Y.TEXT:case Y.IN_COLUMN_GROUP:case Y.IN_SELECT:case Y.IN_SELECT_IN_TABLE:case Y.IN_FRAMESET:case Y.AFTER_FRAMESET:{this._insertCharacters(t);break}case Y.IN_BODY:case Y.IN_CAPTION:case Y.IN_CELL:case Y.IN_TEMPLATE:case Y.AFTER_BODY:case Y.AFTER_AFTER_BODY:case Y.AFTER_AFTER_FRAMESET:{Cie(this,t);break}case Y.IN_TABLE:case Y.IN_TABLE_BODY:case Y.IN_ROW:{iD(this,t);break}case Y.IN_TABLE_TEXT:{Nie(this,t);break}default:}}};function TYe(e,t){let r=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return r?e.openElements.contains(r.element)?e.openElements.hasInScope(t.tagID)||(r=null):(e.activeFormattingElements.removeEntry(r),r=null):Bie(e,t),r}function BYe(e,t){let r=null,n=e.openElements.stackTop;for(;n>=0;n--){let s=e.openElements.items[n];if(s===t.element)break;e._isSpecialElement(s,e.openElements.tagIDs[n])&&(r=s)}return r||(e.openElements.shortenToLength(Math.max(n,0)),e.activeFormattingElements.removeEntry(t)),r}function RYe(e,t,r){let n=t,s=e.openElements.getCommonAncestor(t);for(let a=0,o=s;o!==r;a++,o=s){s=e.openElements.getCommonAncestor(o);let c=e.activeFormattingElements.getElementEntry(o),u=c&&a>=wYe;!c||u?(u&&e.activeFormattingElements.removeEntry(c),e.openElements.remove(o)):(o=NYe(e,c),n===t&&(e.activeFormattingElements.bookmark=c),e.treeAdapter.detachNode(n),e.treeAdapter.appendChild(o,n),n=o)}return n}function NYe(e,t){let r=e.treeAdapter.getNamespaceURI(t.element),n=e.treeAdapter.createElement(t.token.tagName,r,t.token.attrs);return e.openElements.replace(t.element,n),t.element=n,n}function kYe(e,t,r){let n=e.treeAdapter.getTagName(t),s=lu(n);if(e._isElementCausesFosterParenting(s))e._fosterParentElement(r);else{let a=e.treeAdapter.getNamespaceURI(t);s===_.TEMPLATE&&a===le.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,r)}}function DYe(e,t,r){let n=e.treeAdapter.getNamespaceURI(r.element),{token:s}=r,a=e.treeAdapter.createElement(s.tagName,n,s.attrs);e._adoptNodes(t,a),e.treeAdapter.appendChild(t,a),e.activeFormattingElements.insertElementAfterBookmark(a,s),e.activeFormattingElements.removeEntry(r),e.openElements.remove(r.element),e.openElements.insertAfter(t,a,s.tagID)}function cD(e,t){for(let r=0;r<CYe;r++){let n=TYe(e,t);if(!n)break;let s=BYe(e,n);if(!s)break;e.activeFormattingElements.bookmark=n;let a=RYe(e,s,n.element),o=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(a),o&&kYe(e,o,a),DYe(e,s,n)}}function aD(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function PYe(e,t){e._appendCommentNode(t,e.openElements.items[0])}function OYe(e,t){e._appendCommentNode(t,e.document)}function uD(e,t){if(e.stopped=!0,t.location){let r=e.fragmentContext?0:2;for(let n=e.openElements.stackTop;n>=r;n--)e._setEndLocation(e.openElements.items[n],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){let n=e.openElements.items[0],s=e.treeAdapter.getNodeSourceCodeLocation(n);if(s&&!s.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){let a=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(a);o&&!o.endTag&&e._setEndLocation(a,t)}}}}function $Ye(e,t){e._setDocumentType(t);let r=t.forceQuirks?Jn.QUIRKS:mie(t);hie(t)||e._err(t,ce.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,r),e.insertionMode=Y.BEFORE_HTML}function Tg(e,t){e._err(t,ce.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Jn.QUIRKS),e.insertionMode=Y.BEFORE_HTML,e._processToken(t)}function LYe(e,t){t.tagID===_.HTML?(e._insertElement(t,le.HTML),e.insertionMode=Y.BEFORE_HEAD):Rg(e,t)}function MYe(e,t){let r=t.tagID;(r===_.HTML||r===_.HEAD||r===_.BODY||r===_.BR)&&Rg(e,t)}function Rg(e,t){e._insertFakeRootElement(),e.insertionMode=Y.BEFORE_HEAD,e._processToken(t)}function FYe(e,t){switch(t.tagID){case _.HTML:{Zn(e,t);break}case _.HEAD:{e._insertElement(t,le.HTML),e.headElement=e.openElements.current,e.insertionMode=Y.IN_HEAD;break}default:Ng(e,t)}}function QYe(e,t){let r=t.tagID;r===_.HEAD||r===_.BODY||r===_.HTML||r===_.BR?Ng(e,t):e._err(t,ce.endTagWithoutMatchingOpenElement)}function Ng(e,t){e._insertFakeElement(ie.HEAD,_.HEAD),e.headElement=e.openElements.current,e.insertionMode=Y.IN_HEAD,e._processToken(t)}function aa(e,t){switch(t.tagID){case _.HTML:{Zn(e,t);break}case _.BASE:case _.BASEFONT:case _.BGSOUND:case _.LINK:case _.META:{e._appendElement(t,le.HTML),t.ackSelfClosing=!0;break}case _.TITLE:{e._switchToTextParsing(t,Xn.RCDATA);break}case _.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Xn.RAWTEXT):(e._insertElement(t,le.HTML),e.insertionMode=Y.IN_HEAD_NO_SCRIPT);break}case _.NOFRAMES:case _.STYLE:{e._switchToTextParsing(t,Xn.RAWTEXT);break}case _.SCRIPT:{e._switchToTextParsing(t,Xn.SCRIPT_DATA);break}case _.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=Y.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(Y.IN_TEMPLATE);break}case _.HEAD:{e._err(t,ce.misplacedStartTagForHeadElement);break}default:kg(e,t)}}function UYe(e,t){switch(t.tagID){case _.HEAD:{e.openElements.pop(),e.insertionMode=Y.AFTER_HEAD;break}case _.BODY:case _.BR:case _.HTML:{kg(e,t);break}case _.TEMPLATE:{Gl(e,t);break}default:e._err(t,ce.endTagWithoutMatchingOpenElement)}}function Gl(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==_.TEMPLATE&&e._err(t,ce.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(_.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,ce.endTagWithoutMatchingOpenElement)}function kg(e,t){e.openElements.pop(),e.insertionMode=Y.AFTER_HEAD,e._processToken(t)}function qYe(e,t){switch(t.tagID){case _.HTML:{Zn(e,t);break}case _.BASEFONT:case _.BGSOUND:case _.HEAD:case _.LINK:case _.META:case _.NOFRAMES:case _.STYLE:{aa(e,t);break}case _.NOSCRIPT:{e._err(t,ce.nestedNoscriptInHead);break}default:Dg(e,t)}}function jYe(e,t){switch(t.tagID){case _.NOSCRIPT:{e.openElements.pop(),e.insertionMode=Y.IN_HEAD;break}case _.BR:{Dg(e,t);break}default:e._err(t,ce.endTagWithoutMatchingOpenElement)}}function Dg(e,t){let r=t.type===Tt.EOF?ce.openElementsLeftAfterEof:ce.disallowedContentInNoscriptInHead;e._err(t,r),e.openElements.pop(),e.insertionMode=Y.IN_HEAD,e._processToken(t)}function HYe(e,t){switch(t.tagID){case _.HTML:{Zn(e,t);break}case _.BODY:{e._insertElement(t,le.HTML),e.framesetOk=!1,e.insertionMode=Y.IN_BODY;break}case _.FRAMESET:{e._insertElement(t,le.HTML),e.insertionMode=Y.IN_FRAMESET;break}case _.BASE:case _.BASEFONT:case _.BGSOUND:case _.LINK:case _.META:case _.NOFRAMES:case _.SCRIPT:case _.STYLE:case _.TEMPLATE:case _.TITLE:{e._err(t,ce.abandonedHeadElementChild),e.openElements.push(e.headElement,_.HEAD),aa(e,t),e.openElements.remove(e.headElement);break}case _.HEAD:{e._err(t,ce.misplacedStartTagForHeadElement);break}default:Pg(e,t)}}function zYe(e,t){switch(t.tagID){case _.BODY:case _.HTML:case _.BR:{Pg(e,t);break}case _.TEMPLATE:{Gl(e,t);break}default:e._err(t,ce.endTagWithoutMatchingOpenElement)}}function Pg(e,t){e._insertFakeElement(ie.BODY,_.BODY),e.insertionMode=Y.IN_BODY,$v(e,t)}function $v(e,t){switch(t.type){case Tt.CHARACTER:{wie(e,t);break}case Tt.WHITESPACE_CHARACTER:{Cie(e,t);break}case Tt.COMMENT:{aD(e,t);break}case Tt.START_TAG:{Zn(e,t);break}case Tt.END_TAG:{Lv(e,t);break}case Tt.EOF:{Rie(e,t);break}default:}}function Cie(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function wie(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function GYe(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function VYe(e,t){let r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(r,t.attrs))}function KYe(e,t){let r=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&r&&(e.treeAdapter.detachNode(r),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,le.HTML),e.insertionMode=Y.IN_FRAMESET)}function YYe(e,t){e.openElements.hasInButtonScope(_.P)&&e._closePElement(),e._insertElement(t,le.HTML)}function WYe(e,t){e.openElements.hasInButtonScope(_.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&Rp.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,le.HTML)}function JYe(e,t){e.openElements.hasInButtonScope(_.P)&&e._closePElement(),e._insertElement(t,le.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function XYe(e,t){let r=e.openElements.tmplCount>0;(!e.formElement||r)&&(e.openElements.hasInButtonScope(_.P)&&e._closePElement(),e._insertElement(t,le.HTML),r||(e.formElement=e.openElements.current))}function ZYe(e,t){e.framesetOk=!1;let r=t.tagID;for(let n=e.openElements.stackTop;n>=0;n--){let s=e.openElements.tagIDs[n];if(r===_.LI&&s===_.LI||(r===_.DD||r===_.DT)&&(s===_.DD||s===_.DT)){e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.popUntilTagNamePopped(s);break}if(s!==_.ADDRESS&&s!==_.DIV&&s!==_.P&&e._isSpecialElement(e.openElements.items[n],s))break}e.openElements.hasInButtonScope(_.P)&&e._closePElement(),e._insertElement(t,le.HTML)}function eWe(e,t){e.openElements.hasInButtonScope(_.P)&&e._closePElement(),e._insertElement(t,le.HTML),e.tokenizer.state=Xn.PLAINTEXT}function tWe(e,t){e.openElements.hasInScope(_.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(_.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,le.HTML),e.framesetOk=!1}function rWe(e,t){let r=e.activeFormattingElements.getElementEntryInScopeWithTagName(ie.A);r&&(cD(e,t),e.openElements.remove(r.element),e.activeFormattingElements.removeEntry(r)),e._reconstructActiveFormattingElements(),e._insertElement(t,le.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function nWe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,le.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function sWe(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(_.NOBR)&&(cD(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,le.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function iWe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,le.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function aWe(e,t){e.treeAdapter.getDocumentMode(e.document)!==Jn.QUIRKS&&e.openElements.hasInButtonScope(_.P)&&e._closePElement(),e._insertElement(t,le.HTML),e.framesetOk=!1,e.insertionMode=Y.IN_TABLE}function Sie(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,le.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Tie(e){let t=Iv(e,Ha.TYPE);return t!=null&&t.toLowerCase()===IYe}function oWe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,le.HTML),Tie(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function cWe(e,t){e._appendElement(t,le.HTML),t.ackSelfClosing=!0}function uWe(e,t){e.openElements.hasInButtonScope(_.P)&&e._closePElement(),e._appendElement(t,le.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function lWe(e,t){t.tagName=ie.IMG,t.tagID=_.IMG,Sie(e,t)}function dWe(e,t){e._insertElement(t,le.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Xn.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=Y.TEXT}function fWe(e,t){e.openElements.hasInButtonScope(_.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Xn.RAWTEXT)}function pWe(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Xn.RAWTEXT)}function vie(e,t){e._switchToTextParsing(t,Xn.RAWTEXT)}function hWe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,le.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===Y.IN_TABLE||e.insertionMode===Y.IN_CAPTION||e.insertionMode===Y.IN_TABLE_BODY||e.insertionMode===Y.IN_ROW||e.insertionMode===Y.IN_CELL?Y.IN_SELECT_IN_TABLE:Y.IN_SELECT}function mWe(e,t){e.openElements.currentTagId===_.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,le.HTML)}function gWe(e,t){e.openElements.hasInScope(_.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,le.HTML)}function AWe(e,t){e.openElements.hasInScope(_.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(_.RTC),e._insertElement(t,le.HTML)}function yWe(e,t){e._reconstructActiveFormattingElements(),nD(t),kv(t),t.selfClosing?e._appendElement(t,le.MATHML):e._insertElement(t,le.MATHML),t.ackSelfClosing=!0}function bWe(e,t){e._reconstructActiveFormattingElements(),sD(t),kv(t),t.selfClosing?e._appendElement(t,le.SVG):e._insertElement(t,le.SVG),t.ackSelfClosing=!0}function _ie(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,le.HTML)}function Zn(e,t){switch(t.tagID){case _.I:case _.S:case _.B:case _.U:case _.EM:case _.TT:case _.BIG:case _.CODE:case _.FONT:case _.SMALL:case _.STRIKE:case _.STRONG:{nWe(e,t);break}case _.A:{rWe(e,t);break}case _.H1:case _.H2:case _.H3:case _.H4:case _.H5:case _.H6:{WYe(e,t);break}case _.P:case _.DL:case _.OL:case _.UL:case _.DIV:case _.DIR:case _.NAV:case _.MAIN:case _.MENU:case _.ASIDE:case _.CENTER:case _.FIGURE:case _.FOOTER:case _.HEADER:case _.HGROUP:case _.DIALOG:case _.DETAILS:case _.ADDRESS:case _.ARTICLE:case _.SEARCH:case _.SECTION:case _.SUMMARY:case _.FIELDSET:case _.BLOCKQUOTE:case _.FIGCAPTION:{YYe(e,t);break}case _.LI:case _.DD:case _.DT:{ZYe(e,t);break}case _.BR:case _.IMG:case _.WBR:case _.AREA:case _.EMBED:case _.KEYGEN:{Sie(e,t);break}case _.HR:{uWe(e,t);break}case _.RB:case _.RTC:{gWe(e,t);break}case _.RT:case _.RP:{AWe(e,t);break}case _.PRE:case _.LISTING:{JYe(e,t);break}case _.XMP:{fWe(e,t);break}case _.SVG:{bWe(e,t);break}case _.HTML:{GYe(e,t);break}case _.BASE:case _.LINK:case _.META:case _.STYLE:case _.TITLE:case _.SCRIPT:case _.BGSOUND:case _.BASEFONT:case _.TEMPLATE:{aa(e,t);break}case _.BODY:{VYe(e,t);break}case _.FORM:{XYe(e,t);break}case _.NOBR:{sWe(e,t);break}case _.MATH:{yWe(e,t);break}case _.TABLE:{aWe(e,t);break}case _.INPUT:{oWe(e,t);break}case _.PARAM:case _.TRACK:case _.SOURCE:{cWe(e,t);break}case _.IMAGE:{lWe(e,t);break}case _.BUTTON:{tWe(e,t);break}case _.APPLET:case _.OBJECT:case _.MARQUEE:{iWe(e,t);break}case _.IFRAME:{pWe(e,t);break}case _.SELECT:{hWe(e,t);break}case _.OPTION:case _.OPTGROUP:{mWe(e,t);break}case _.NOEMBED:case _.NOFRAMES:{vie(e,t);break}case _.FRAMESET:{KYe(e,t);break}case _.TEXTAREA:{dWe(e,t);break}case _.NOSCRIPT:{e.options.scriptingEnabled?vie(e,t):_ie(e,t);break}case _.PLAINTEXT:{eWe(e,t);break}case _.COL:case _.TH:case _.TD:case _.TR:case _.HEAD:case _.FRAME:case _.TBODY:case _.TFOOT:case _.THEAD:case _.CAPTION:case _.COLGROUP:break;default:_ie(e,t)}}function EWe(e,t){if(e.openElements.hasInScope(_.BODY)&&(e.insertionMode=Y.AFTER_BODY,e.options.sourceCodeLocationInfo)){let r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e._setEndLocation(r,t)}}function xWe(e,t){e.openElements.hasInScope(_.BODY)&&(e.insertionMode=Y.AFTER_BODY,Mie(e,t))}function vWe(e,t){let r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r))}function _We(e){let t=e.openElements.tmplCount>0,{formElement:r}=e;t||(e.formElement=null),(r||t)&&e.openElements.hasInScope(_.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(_.FORM):r&&e.openElements.remove(r))}function IWe(e){e.openElements.hasInButtonScope(_.P)||e._insertFakeElement(ie.P,_.P),e._closePElement()}function CWe(e){e.openElements.hasInListItemScope(_.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(_.LI),e.openElements.popUntilTagNamePopped(_.LI))}function wWe(e,t){let r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.popUntilTagNamePopped(r))}function SWe(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function TWe(e,t){let r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker())}function BWe(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(ie.BR,_.BR),e.openElements.pop(),e.framesetOk=!1}function Bie(e,t){let r=t.tagName,n=t.tagID;for(let s=e.openElements.stackTop;s>0;s--){let a=e.openElements.items[s],o=e.openElements.tagIDs[s];if(n===o&&(n!==_.UNKNOWN||e.treeAdapter.getTagName(a)===r)){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.stackTop>=s&&e.openElements.shortenToLength(s);break}if(e._isSpecialElement(a,o))break}}function Lv(e,t){switch(t.tagID){case _.A:case _.B:case _.I:case _.S:case _.U:case _.EM:case _.TT:case _.BIG:case _.CODE:case _.FONT:case _.NOBR:case _.SMALL:case _.STRIKE:case _.STRONG:{cD(e,t);break}case _.P:{IWe(e);break}case _.DL:case _.UL:case _.OL:case _.DIR:case _.DIV:case _.NAV:case _.PRE:case _.MAIN:case _.MENU:case _.ASIDE:case _.BUTTON:case _.CENTER:case _.FIGURE:case _.FOOTER:case _.HEADER:case _.HGROUP:case _.DIALOG:case _.ADDRESS:case _.ARTICLE:case _.DETAILS:case _.SEARCH:case _.SECTION:case _.SUMMARY:case _.LISTING:case _.FIELDSET:case _.BLOCKQUOTE:case _.FIGCAPTION:{vWe(e,t);break}case _.LI:{CWe(e);break}case _.DD:case _.DT:{wWe(e,t);break}case _.H1:case _.H2:case _.H3:case _.H4:case _.H5:case _.H6:{SWe(e);break}case _.BR:{BWe(e);break}case _.BODY:{EWe(e,t);break}case _.HTML:{xWe(e,t);break}case _.FORM:{_We(e);break}case _.APPLET:case _.OBJECT:case _.MARQUEE:{TWe(e,t);break}case _.TEMPLATE:{Gl(e,t);break}default:Bie(e,t)}}function Rie(e,t){e.tmplInsertionModeStack.length>0?Lie(e,t):uD(e,t)}function RWe(e,t){var r;t.tagID===_.SCRIPT&&((r=e.scriptHandler)===null||r===void 0||r.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function NWe(e,t){e._err(t,ce.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function iD(e,t){if(e.openElements.currentTagId!==void 0&&Iie.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=Y.IN_TABLE_TEXT,t.type){case Tt.CHARACTER:{kie(e,t);break}case Tt.WHITESPACE_CHARACTER:{Nie(e,t);break}}else $g(e,t)}function kWe(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,le.HTML),e.insertionMode=Y.IN_CAPTION}function DWe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,le.HTML),e.insertionMode=Y.IN_COLUMN_GROUP}function PWe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(ie.COLGROUP,_.COLGROUP),e.insertionMode=Y.IN_COLUMN_GROUP,lD(e,t)}function OWe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,le.HTML),e.insertionMode=Y.IN_TABLE_BODY}function $We(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(ie.TBODY,_.TBODY),e.insertionMode=Y.IN_TABLE_BODY,Mv(e,t)}function LWe(e,t){e.openElements.hasInTableScope(_.TABLE)&&(e.openElements.popUntilTagNamePopped(_.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function MWe(e,t){Tie(t)?e._appendElement(t,le.HTML):$g(e,t),t.ackSelfClosing=!0}function FWe(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,le.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function kp(e,t){switch(t.tagID){case _.TD:case _.TH:case _.TR:{$We(e,t);break}case _.STYLE:case _.SCRIPT:case _.TEMPLATE:{aa(e,t);break}case _.COL:{PWe(e,t);break}case _.FORM:{FWe(e,t);break}case _.TABLE:{LWe(e,t);break}case _.TBODY:case _.TFOOT:case _.THEAD:{OWe(e,t);break}case _.INPUT:{MWe(e,t);break}case _.CAPTION:{kWe(e,t);break}case _.COLGROUP:{DWe(e,t);break}default:$g(e,t)}}function Og(e,t){switch(t.tagID){case _.TABLE:{e.openElements.hasInTableScope(_.TABLE)&&(e.openElements.popUntilTagNamePopped(_.TABLE),e._resetInsertionMode());break}case _.TEMPLATE:{Gl(e,t);break}case _.BODY:case _.CAPTION:case _.COL:case _.COLGROUP:case _.HTML:case _.TBODY:case _.TD:case _.TFOOT:case _.TH:case _.THEAD:case _.TR:break;default:$g(e,t)}}function $g(e,t){let r=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,$v(e,t),e.fosterParentingEnabled=r}function Nie(e,t){e.pendingCharacterTokens.push(t)}function kie(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Bg(e,t){let r=0;if(e.hasNonWhitespacePendingCharacterToken)for(;r<e.pendingCharacterTokens.length;r++)$g(e,e.pendingCharacterTokens[r]);else for(;r<e.pendingCharacterTokens.length;r++)e._insertCharacters(e.pendingCharacterTokens[r]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}var Die=new Set([_.CAPTION,_.COL,_.COLGROUP,_.TBODY,_.TD,_.TFOOT,_.TH,_.THEAD,_.TR]);function QWe(e,t){let r=t.tagID;Die.has(r)?e.openElements.hasInTableScope(_.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(_.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Y.IN_TABLE,kp(e,t)):Zn(e,t)}function UWe(e,t){let r=t.tagID;switch(r){case _.CAPTION:case _.TABLE:{e.openElements.hasInTableScope(_.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(_.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Y.IN_TABLE,r===_.TABLE&&Og(e,t));break}case _.BODY:case _.COL:case _.COLGROUP:case _.HTML:case _.TBODY:case _.TD:case _.TFOOT:case _.TH:case _.THEAD:case _.TR:break;default:Lv(e,t)}}function lD(e,t){switch(t.tagID){case _.HTML:{Zn(e,t);break}case _.COL:{e._appendElement(t,le.HTML),t.ackSelfClosing=!0;break}case _.TEMPLATE:{aa(e,t);break}default:Pv(e,t)}}function qWe(e,t){switch(t.tagID){case _.COLGROUP:{e.openElements.currentTagId===_.COLGROUP&&(e.openElements.pop(),e.insertionMode=Y.IN_TABLE);break}case _.TEMPLATE:{Gl(e,t);break}case _.COL:break;default:Pv(e,t)}}function Pv(e,t){e.openElements.currentTagId===_.COLGROUP&&(e.openElements.pop(),e.insertionMode=Y.IN_TABLE,e._processToken(t))}function Mv(e,t){switch(t.tagID){case _.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,le.HTML),e.insertionMode=Y.IN_ROW;break}case _.TH:case _.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(ie.TR,_.TR),e.insertionMode=Y.IN_ROW,Fv(e,t);break}case _.CAPTION:case _.COL:case _.COLGROUP:case _.TBODY:case _.TFOOT:case _.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE,kp(e,t));break}default:kp(e,t)}}function oD(e,t){let r=t.tagID;switch(t.tagID){case _.TBODY:case _.TFOOT:case _.THEAD:{e.openElements.hasInTableScope(r)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE);break}case _.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE,Og(e,t));break}case _.BODY:case _.CAPTION:case _.COL:case _.COLGROUP:case _.HTML:case _.TD:case _.TH:case _.TR:break;default:Og(e,t)}}function Fv(e,t){switch(t.tagID){case _.TH:case _.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,le.HTML),e.insertionMode=Y.IN_CELL,e.activeFormattingElements.insertMarker();break}case _.CAPTION:case _.COL:case _.COLGROUP:case _.TBODY:case _.TFOOT:case _.THEAD:case _.TR:{e.openElements.hasInTableScope(_.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE_BODY,Mv(e,t));break}default:kp(e,t)}}function Pie(e,t){switch(t.tagID){case _.TR:{e.openElements.hasInTableScope(_.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE_BODY);break}case _.TABLE:{e.openElements.hasInTableScope(_.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE_BODY,oD(e,t));break}case _.TBODY:case _.TFOOT:case _.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(_.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE_BODY,oD(e,t));break}case _.BODY:case _.CAPTION:case _.COL:case _.COLGROUP:case _.HTML:case _.TD:case _.TH:break;default:Og(e,t)}}function jWe(e,t){let r=t.tagID;Die.has(r)?(e.openElements.hasInTableScope(_.TD)||e.openElements.hasInTableScope(_.TH))&&(e._closeTableCell(),Fv(e,t)):Zn(e,t)}function HWe(e,t){let r=t.tagID;switch(r){case _.TD:case _.TH:{e.openElements.hasInTableScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Y.IN_ROW);break}case _.TABLE:case _.TBODY:case _.TFOOT:case _.THEAD:case _.TR:{e.openElements.hasInTableScope(r)&&(e._closeTableCell(),Pie(e,t));break}case _.BODY:case _.CAPTION:case _.COL:case _.COLGROUP:case _.HTML:break;default:Lv(e,t)}}function Oie(e,t){switch(t.tagID){case _.HTML:{Zn(e,t);break}case _.OPTION:{e.openElements.currentTagId===_.OPTION&&e.openElements.pop(),e._insertElement(t,le.HTML);break}case _.OPTGROUP:{e.openElements.currentTagId===_.OPTION&&e.openElements.pop(),e.openElements.currentTagId===_.OPTGROUP&&e.openElements.pop(),e._insertElement(t,le.HTML);break}case _.HR:{e.openElements.currentTagId===_.OPTION&&e.openElements.pop(),e.openElements.currentTagId===_.OPTGROUP&&e.openElements.pop(),e._appendElement(t,le.HTML),t.ackSelfClosing=!0;break}case _.INPUT:case _.KEYGEN:case _.TEXTAREA:case _.SELECT:{e.openElements.hasInSelectScope(_.SELECT)&&(e.openElements.popUntilTagNamePopped(_.SELECT),e._resetInsertionMode(),t.tagID!==_.SELECT&&e._processStartTag(t));break}case _.SCRIPT:case _.TEMPLATE:{aa(e,t);break}default:}}function $ie(e,t){switch(t.tagID){case _.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===_.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===_.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===_.OPTGROUP&&e.openElements.pop();break}case _.OPTION:{e.openElements.currentTagId===_.OPTION&&e.openElements.pop();break}case _.SELECT:{e.openElements.hasInSelectScope(_.SELECT)&&(e.openElements.popUntilTagNamePopped(_.SELECT),e._resetInsertionMode());break}case _.TEMPLATE:{Gl(e,t);break}default:}}function zWe(e,t){let r=t.tagID;r===_.CAPTION||r===_.TABLE||r===_.TBODY||r===_.TFOOT||r===_.THEAD||r===_.TR||r===_.TD||r===_.TH?(e.openElements.popUntilTagNamePopped(_.SELECT),e._resetInsertionMode(),e._processStartTag(t)):Oie(e,t)}function GWe(e,t){let r=t.tagID;r===_.CAPTION||r===_.TABLE||r===_.TBODY||r===_.TFOOT||r===_.THEAD||r===_.TR||r===_.TD||r===_.TH?e.openElements.hasInTableScope(r)&&(e.openElements.popUntilTagNamePopped(_.SELECT),e._resetInsertionMode(),e.onEndTag(t)):$ie(e,t)}function VWe(e,t){switch(t.tagID){case _.BASE:case _.BASEFONT:case _.BGSOUND:case _.LINK:case _.META:case _.NOFRAMES:case _.SCRIPT:case _.STYLE:case _.TEMPLATE:case _.TITLE:{aa(e,t);break}case _.CAPTION:case _.COLGROUP:case _.TBODY:case _.TFOOT:case _.THEAD:{e.tmplInsertionModeStack[0]=Y.IN_TABLE,e.insertionMode=Y.IN_TABLE,kp(e,t);break}case _.COL:{e.tmplInsertionModeStack[0]=Y.IN_COLUMN_GROUP,e.insertionMode=Y.IN_COLUMN_GROUP,lD(e,t);break}case _.TR:{e.tmplInsertionModeStack[0]=Y.IN_TABLE_BODY,e.insertionMode=Y.IN_TABLE_BODY,Mv(e,t);break}case _.TD:case _.TH:{e.tmplInsertionModeStack[0]=Y.IN_ROW,e.insertionMode=Y.IN_ROW,Fv(e,t);break}default:e.tmplInsertionModeStack[0]=Y.IN_BODY,e.insertionMode=Y.IN_BODY,Zn(e,t)}}function KWe(e,t){t.tagID===_.TEMPLATE&&Gl(e,t)}function Lie(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(_.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):uD(e,t)}function YWe(e,t){t.tagID===_.HTML?Zn(e,t):Ov(e,t)}function Mie(e,t){var r;if(t.tagID===_.HTML){if(e.fragmentContext||(e.insertionMode=Y.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===_.HTML){e._setEndLocation(e.openElements.items[0],t);let n=e.openElements.items[1];n&&!(!((r=e.treeAdapter.getNodeSourceCodeLocation(n))===null||r===void 0)&&r.endTag)&&e._setEndLocation(n,t)}}else Ov(e,t)}function Ov(e,t){e.insertionMode=Y.IN_BODY,$v(e,t)}function WWe(e,t){switch(t.tagID){case _.HTML:{Zn(e,t);break}case _.FRAMESET:{e._insertElement(t,le.HTML);break}case _.FRAME:{e._appendElement(t,le.HTML),t.ackSelfClosing=!0;break}case _.NOFRAMES:{aa(e,t);break}default:}}function JWe(e,t){t.tagID===_.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==_.FRAMESET&&(e.insertionMode=Y.AFTER_FRAMESET))}function XWe(e,t){switch(t.tagID){case _.HTML:{Zn(e,t);break}case _.NOFRAMES:{aa(e,t);break}default:}}function ZWe(e,t){t.tagID===_.HTML&&(e.insertionMode=Y.AFTER_AFTER_FRAMESET)}function eJe(e,t){t.tagID===_.HTML?Zn(e,t):Dv(e,t)}function Dv(e,t){e.insertionMode=Y.IN_BODY,$v(e,t)}function tJe(e,t){switch(t.tagID){case _.HTML:{Zn(e,t);break}case _.NOFRAMES:{aa(e,t);break}default:}}function rJe(e,t){t.chars=hr,e._insertCharacters(t)}function nJe(e,t){e._insertCharacters(t),e.framesetOk=!1}function Fie(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==le.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function sJe(e,t){if(Aie(t))Fie(e),e._startTagOutsideForeignContent(t);else{let r=e._getAdjustedCurrentElement(),n=e.treeAdapter.getNamespaceURI(r);n===le.MATHML?nD(t):n===le.SVG&&(yie(t),sD(t)),kv(t),t.selfClosing?e._appendElement(t,n):e._insertElement(t,n),t.ackSelfClosing=!0}}function iJe(e,t){if(t.tagID===_.P||t.tagID===_.BR){Fie(e),e._endTagOutsideForeignContent(t);return}for(let r=e.openElements.stackTop;r>0;r--){let n=e.openElements.items[r];if(e.treeAdapter.getNamespaceURI(n)===le.HTML){e._endTagOutsideForeignContent(t);break}let s=e.treeAdapter.getTagName(n);if(s.toLowerCase()===t.tagName){t.tagName=s,e.openElements.shortenToLength(r);break}}}var xxt=String.prototype.codePointAt==null?(e,t)=>(e.charCodeAt(t)&64512)===55296?(e.charCodeAt(t)-55296)*1024+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t):(e,t)=>e.codePointAt(t);function Qie(e,t){return function(n){let s,a=0,o="";for(;s=e.exec(n);)a!==s.index&&(o+=n.substring(a,s.index)),o+=t.get(s[0].charCodeAt(0)),a=s.index+1;return o+n.substring(a)}}var Uie=Qie(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),qie=Qie(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]));var aJe=new Set([ie.AREA,ie.BASE,ie.BASEFONT,ie.BGSOUND,ie.BR,ie.COL,ie.EMBED,ie.FRAME,ie.HR,ie.IMG,ie.INPUT,ie.KEYGEN,ie.LINK,ie.META,ie.PARAM,ie.SOURCE,ie.TRACK,ie.WBR]);function oJe(e,t){return t.treeAdapter.isElementNode(e)&&t.treeAdapter.getNamespaceURI(e)===le.HTML&&aJe.has(t.treeAdapter.getTagName(e))}var cJe={treeAdapter:Bi,scriptingEnabled:!0};function dD(e,t){let r={...cJe,...t};return jie(e,r)}function uJe(e,t){let r="",n=t.treeAdapter.isElementNode(e)&&t.treeAdapter.getTagName(e)===ie.TEMPLATE&&t.treeAdapter.getNamespaceURI(e)===le.HTML?t.treeAdapter.getTemplateContent(e):e,s=t.treeAdapter.getChildNodes(n);if(s)for(let a of s)r+=jie(a,t);return r}function jie(e,t){return t.treeAdapter.isElementNode(e)?lJe(e,t):t.treeAdapter.isTextNode(e)?fJe(e,t):t.treeAdapter.isCommentNode(e)?pJe(e,t):t.treeAdapter.isDocumentTypeNode(e)?hJe(e,t):""}function lJe(e,t){let r=t.treeAdapter.getTagName(e);return`<${r}${dJe(e,t)}>${oJe(e,t)?"":`${uJe(e,t)}</${r}>`}`}function dJe(e,{treeAdapter:t}){let r="";for(let n of t.getAttrList(e)){if(r+=" ",n.namespace)switch(n.namespace){case le.XML:{r+=`xml:${n.name}`;break}case le.XMLNS:{n.name!=="xmlns"&&(r+="xmlns:"),r+=n.name;break}case le.XLINK:{r+=`xlink:${n.name}`;break}default:r+=`${n.prefix}:${n.name}`}else r+=n.name;r+=`="${Uie(n.value)}"`}return r}function fJe(e,t){let{treeAdapter:r}=t,n=r.getTextNodeContent(e),s=r.getParentNode(e),a=s&&r.isElementNode(s)&&r.getTagName(s);return a&&r.getNamespaceURI(s)===le.HTML&&rD(a,t.scriptingEnabled)?n:qie(n)}function pJe(e,{treeAdapter:t}){return`<!--${t.getCommentNodeContent(e)}-->`}function hJe(e,{treeAdapter:t}){return`<!DOCTYPE ${t.getDocumentTypeNodeName(e)}>`}function Hie(e,t){return Np.parse(e,t)}function zie(e,t,r){typeof e=="string"&&(r=t,t=e,e=null);let n=Np.getFragmentParser(e,r);return n.tokenizer.write(t,!0),n.getFragment()}function Gie(e){let t=e.includes('"')?"'":'"';return t+e+t}function mJe(e,t,r){let n="!DOCTYPE ";return e&&(n+=e),t?n+=` PUBLIC ${Gie(t)}`:r&&(n+=" SYSTEM"),r&&(n+=` ${Gie(r)}`),n}var Uo={isCommentNode:ql,isElementNode:Le,isTextNode:Ms,createDocument(){let e=new Ws([]);return e["x-mode"]=Sv.DOCUMENT_MODE.NO_QUIRKS,e},createDocumentFragment(){return new Ws([])},createElement(e,t,r){let n=Object.create(null),s=Object.create(null),a=Object.create(null);for(let c=0;c<r.length;c++){let u=r[c].name;n[u]=r[c].value,s[u]=r[c].namespace,a[u]=r[c].prefix}let o=new Ul(e,n,[]);return o.namespace=t,o["x-attribsNamespace"]=s,o["x-attribsPrefix"]=a,o},createCommentNode(e){return new Fl(e)},createTextNode(e){return new Ua(e)},appendChild(e,t){let r=e.children[e.children.length-1];r&&(r.next=t,t.prev=r),e.children.push(t),t.parent=e},insertBefore(e,t,r){let n=e.children.indexOf(r),{prev:s}=r;s&&(s.next=t,t.prev=s),r.prev=t,t.next=r,e.children.splice(n,0,t),t.parent=e},setTemplateContent(e,t){Uo.appendChild(e,t)},getTemplateContent(e){return e.children[0]},setDocumentType(e,t,r,n){let s=mJe(t,r,n),a=e.children.find(o=>Hx(o)&&o.name==="!doctype");a?a.data=s??null:(a=new Ql("!doctype",s),Uo.appendChild(e,a)),a["x-name"]=t,a["x-publicId"]=r,a["x-systemId"]=n},setDocumentMode(e,t){e["x-mode"]=t},getDocumentMode(e){return e["x-mode"]},detachNode(e){if(e.parent){let t=e.parent.children.indexOf(e),{prev:r,next:n}=e;e.prev=null,e.next=null,r&&(r.next=n),n&&(n.prev=r),e.parent.children.splice(t,1),e.parent=null}},insertText(e,t){let r=e.children[e.children.length-1];r&&Ms(r)?r.data+=t:Uo.appendChild(e,Uo.createTextNode(t))},insertTextBefore(e,t,r){let n=e.children[e.children.indexOf(r)-1];n&&Ms(n)?n.data+=t:Uo.insertBefore(e,Uo.createTextNode(t),r)},adoptAttributes(e,t){for(let r=0;r<t.length;r++){let n=t[r].name;e.attribs[n]===void 0&&(e.attribs[n]=t[r].value,e["x-attribsNamespace"][n]=t[r].namespace,e["x-attribsPrefix"][n]=t[r].prefix)}},getFirstChild(e){return e.children[0]},getChildNodes(e){return e.children},getParentNode(e){return e.parent},getAttrList(e){return e.attributes},getTagName(e){return e.name},getNamespaceURI(e){return e.namespace},getTextNodeContent(e){return e.data},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){var t;return(t=e["x-name"])!==null&&t!==void 0?t:""},getDocumentTypeNodePublicId(e){var t;return(t=e["x-publicId"])!==null&&t!==void 0?t:""},getDocumentTypeNodeSystemId(e){var t;return(t=e["x-systemId"])!==null&&t!==void 0?t:""},isDocumentTypeNode(e){return Hx(e)&&e.name==="!doctype"},setNodeSourceCodeLocation(e,t){t&&(e.startIndex=t.startOffset,e.endIndex=t.endOffset),e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){t.endOffset!=null&&(e.endIndex=t.endOffset),e.sourceCodeLocation={...e.sourceCodeLocation,...t}}};function Vie(e,t,r,n){let s={scriptingEnabled:typeof t.scriptingEnabled=="boolean"?t.scriptingEnabled:!0,treeAdapter:Uo,sourceCodeLocationInfo:t.sourceCodeLocationInfo};return r?Hie(e,s):zie(n,e,s)}var gJe={treeAdapter:Uo};function Kie(e){let t="length"in e?e:[e];for(let n=0;n<t.length;n+=1){let s=t[n];na(s)&&Array.prototype.splice.call(t,n,1,...s.children)}let r="";for(let n=0;n<t.length;n+=1){let s=t[n];r+=dD(s,gJe)}return r}var Re;(function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"})(Re||(Re={}));var fe;(function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.SpecialStartSequence=23]="SpecialStartSequence",e[e.InSpecialTag=24]="InSpecialTag",e[e.BeforeEntity=25]="BeforeEntity",e[e.BeforeNumericEntity=26]="BeforeNumericEntity",e[e.InNamedEntity=27]="InNamedEntity",e[e.InNumericEntity=28]="InNumericEntity",e[e.InHexEntity=29]="InHexEntity"})(fe||(fe={}));function qo(e){return e===Re.Space||e===Re.NewLine||e===Re.Tab||e===Re.FormFeed||e===Re.CarriageReturn}function Qv(e){return e===Re.Slash||e===Re.Gt||qo(e)}function Yie(e){return e>=Re.Zero&&e<=Re.Nine}function AJe(e){return e>=Re.LowerA&&e<=Re.LowerZ||e>=Re.UpperA&&e<=Re.UpperZ}function yJe(e){return e>=Re.UpperA&&e<=Re.UpperF||e>=Re.LowerA&&e<=Re.LowerF}var oa;(function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"})(oa||(oa={}));var qs={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},Dp=class{constructor({xmlMode:t=!1,decodeEntities:r=!0},n){this.cbs=n,this.state=fe.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=fe.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=t,this.decodeEntities=r,this.entityTrie=t?Gx:zx}reset(){this.state=fe.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=fe.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(t){this.offset+=this.buffer.length,this.buffer=t,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}getIndex(){return this.index}getSectionStart(){return this.sectionStart}stateText(t){t===Re.Lt||!this.decodeEntities&&this.fastForwardTo(Re.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=fe.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&t===Re.Amp&&(this.state=fe.BeforeEntity)}stateSpecialStartSequence(t){let r=this.sequenceIndex===this.currentSequence.length;if(!(r?Qv(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!r){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=fe.InTagName,this.stateInTagName(t)}stateInSpecialTag(t){if(this.sequenceIndex===this.currentSequence.length){if(t===Re.Gt||qo(t)){let r=this.index-this.currentSequence.length;if(this.sectionStart<r){let n=this.index;this.index=r,this.cbs.ontext(this.sectionStart,r),this.index=n}this.isSpecial=!1,this.sectionStart=r+2,this.stateInClosingTagName(t);return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===qs.TitleEnd?this.decodeEntities&&t===Re.Amp&&(this.state=fe.BeforeEntity):this.fastForwardTo(Re.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===Re.Lt)}stateCDATASequence(t){t===qs.Cdata[this.sequenceIndex]?++this.sequenceIndex===qs.Cdata.length&&(this.state=fe.InCommentLike,this.currentSequence=qs.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=fe.InDeclaration,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===t)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===qs.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=fe.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(t){return this.xmlMode?!Qv(t):AJe(t)}startSpecial(t,r){this.isSpecial=!0,this.currentSequence=t,this.sequenceIndex=r,this.state=fe.SpecialStartSequence}stateBeforeTagName(t){if(t===Re.ExclamationMark)this.state=fe.BeforeDeclaration,this.sectionStart=this.index+1;else if(t===Re.Questionmark)this.state=fe.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(t)){let r=t|32;this.sectionStart=this.index,!this.xmlMode&&r===qs.TitleEnd[2]?this.startSpecial(qs.TitleEnd,3):this.state=!this.xmlMode&&r===qs.ScriptEnd[2]?fe.BeforeSpecialS:fe.InTagName}else t===Re.Slash?this.state=fe.BeforeClosingTagName:(this.state=fe.Text,this.stateText(t))}stateInTagName(t){Qv(t)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=fe.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateBeforeClosingTagName(t){qo(t)||(t===Re.Gt?this.state=fe.Text:(this.state=this.isTagStartChar(t)?fe.InClosingTagName:fe.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(t){(t===Re.Gt||qo(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=fe.AfterClosingTagName,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){(t===Re.Gt||this.fastForwardTo(Re.Gt))&&(this.state=fe.Text,this.baseState=fe.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(t){t===Re.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=fe.InSpecialTag,this.sequenceIndex=0):this.state=fe.Text,this.baseState=this.state,this.sectionStart=this.index+1):t===Re.Slash?this.state=fe.InSelfClosingTag:qo(t)||(this.state=fe.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===Re.Gt?(this.cbs.onselfclosingtag(this.index),this.state=fe.Text,this.baseState=fe.Text,this.sectionStart=this.index+1,this.isSpecial=!1):qo(t)||(this.state=fe.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateInAttributeName(t){(t===Re.Eq||Qv(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=fe.AfterAttributeName,this.stateAfterAttributeName(t))}stateAfterAttributeName(t){t===Re.Eq?this.state=fe.BeforeAttributeValue:t===Re.Slash||t===Re.Gt?(this.cbs.onattribend(oa.NoValue,this.index),this.state=fe.BeforeAttributeName,this.stateBeforeAttributeName(t)):qo(t)||(this.cbs.onattribend(oa.NoValue,this.index),this.state=fe.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(t){t===Re.DoubleQuote?(this.state=fe.InAttributeValueDq,this.sectionStart=this.index+1):t===Re.SingleQuote?(this.state=fe.InAttributeValueSq,this.sectionStart=this.index+1):qo(t)||(this.sectionStart=this.index,this.state=fe.InAttributeValueNq,this.stateInAttributeValueNoQuotes(t))}handleInAttributeValue(t,r){t===r||!this.decodeEntities&&this.fastForwardTo(r)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(r===Re.DoubleQuote?oa.Double:oa.Single,this.index),this.state=fe.BeforeAttributeName):this.decodeEntities&&t===Re.Amp&&(this.baseState=this.state,this.state=fe.BeforeEntity)}stateInAttributeValueDoubleQuotes(t){this.handleInAttributeValue(t,Re.DoubleQuote)}stateInAttributeValueSingleQuotes(t){this.handleInAttributeValue(t,Re.SingleQuote)}stateInAttributeValueNoQuotes(t){qo(t)||t===Re.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(oa.Unquoted,this.index),this.state=fe.BeforeAttributeName,this.stateBeforeAttributeName(t)):this.decodeEntities&&t===Re.Amp&&(this.baseState=this.state,this.state=fe.BeforeEntity)}stateBeforeDeclaration(t){t===Re.OpeningSquareBracket?(this.state=fe.CDATASequence,this.sequenceIndex=0):this.state=t===Re.Dash?fe.BeforeComment:fe.InDeclaration}stateInDeclaration(t){(t===Re.Gt||this.fastForwardTo(Re.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=fe.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===Re.Gt||this.fastForwardTo(Re.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=fe.Text,this.sectionStart=this.index+1)}stateBeforeComment(t){t===Re.Dash?(this.state=fe.InCommentLike,this.currentSequence=qs.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=fe.InDeclaration}stateInSpecialComment(t){(t===Re.Gt||this.fastForwardTo(Re.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=fe.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){let r=t|32;r===qs.ScriptEnd[3]?this.startSpecial(qs.ScriptEnd,4):r===qs.StyleEnd[3]?this.startSpecial(qs.StyleEnd,4):(this.state=fe.InTagName,this.stateInTagName(t))}stateBeforeEntity(t){this.entityExcess=1,this.entityResult=0,t===Re.Number?this.state=fe.BeforeNumericEntity:t===Re.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=fe.InNamedEntity,this.stateInNamedEntity(t))}stateInNamedEntity(t){if(this.entityExcess+=1,this.trieIndex=f6(this.entityTrie,this.trieCurrent,this.trieIndex+1,t),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];let r=this.trieCurrent&Ci.VALUE_LENGTH;if(r){let n=(r>>14)-1;if(!this.allowLegacyEntity()&&t!==Re.Semi)this.trieIndex+=n;else{let s=this.index-this.entityExcess+1;s>this.sectionStart&&this.emitPartial(this.sectionStart,s),this.entityResult=this.trieIndex,this.trieIndex+=n,this.entityExcess=0,this.sectionStart=this.index+1,n===0&&this.emitNamedEntity()}}}emitNamedEntity(){if(this.state=this.baseState,this.entityResult===0)return;switch((this.entityTrie[this.entityResult]&Ci.VALUE_LENGTH)>>14){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~Ci.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}stateBeforeNumericEntity(t){(t|32)===Re.LowerX?(this.entityExcess++,this.state=fe.InHexEntity):(this.state=fe.InNumericEntity,this.stateInNumericEntity(t))}emitNumericEntity(t){let r=this.index-this.entityExcess-1;r+2+ +(this.state===fe.InHexEntity)!==this.index&&(r>this.sectionStart&&this.emitPartial(this.sectionStart,r),this.sectionStart=this.index+Number(t),this.emitCodePoint(mg(this.entityResult))),this.state=this.baseState}stateInNumericEntity(t){t===Re.Semi?this.emitNumericEntity(!0):Yie(t)?(this.entityResult=this.entityResult*10+(t-Re.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)}stateInHexEntity(t){t===Re.Semi?this.emitNumericEntity(!0):Yie(t)?(this.entityResult=this.entityResult*16+(t-Re.Zero),this.entityExcess++):yJe(t)?(this.entityResult=this.entityResult*16+((t|32)-Re.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)}allowLegacyEntity(){return!this.xmlMode&&(this.baseState===fe.Text||this.baseState===fe.InSpecialTag)}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===fe.Text||this.state===fe.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===fe.InAttributeValueDq||this.state===fe.InAttributeValueSq||this.state===fe.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){let t=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case fe.Text:{this.stateText(t);break}case fe.SpecialStartSequence:{this.stateSpecialStartSequence(t);break}case fe.InSpecialTag:{this.stateInSpecialTag(t);break}case fe.CDATASequence:{this.stateCDATASequence(t);break}case fe.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(t);break}case fe.InAttributeName:{this.stateInAttributeName(t);break}case fe.InCommentLike:{this.stateInCommentLike(t);break}case fe.InSpecialComment:{this.stateInSpecialComment(t);break}case fe.BeforeAttributeName:{this.stateBeforeAttributeName(t);break}case fe.InTagName:{this.stateInTagName(t);break}case fe.InClosingTagName:{this.stateInClosingTagName(t);break}case fe.BeforeTagName:{this.stateBeforeTagName(t);break}case fe.AfterAttributeName:{this.stateAfterAttributeName(t);break}case fe.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(t);break}case fe.BeforeAttributeValue:{this.stateBeforeAttributeValue(t);break}case fe.BeforeClosingTagName:{this.stateBeforeClosingTagName(t);break}case fe.AfterClosingTagName:{this.stateAfterClosingTagName(t);break}case fe.BeforeSpecialS:{this.stateBeforeSpecialS(t);break}case fe.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(t);break}case fe.InSelfClosingTag:{this.stateInSelfClosingTag(t);break}case fe.InDeclaration:{this.stateInDeclaration(t);break}case fe.BeforeDeclaration:{this.stateBeforeDeclaration(t);break}case fe.BeforeComment:{this.stateBeforeComment(t);break}case fe.InProcessingInstruction:{this.stateInProcessingInstruction(t);break}case fe.InNamedEntity:{this.stateInNamedEntity(t);break}case fe.BeforeEntity:{this.stateBeforeEntity(t);break}case fe.InHexEntity:{this.stateInHexEntity(t);break}case fe.InNumericEntity:{this.stateInNumericEntity(t);break}default:this.stateBeforeNumericEntity(t)}this.index++}this.cleanup()}finish(){this.state===fe.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){let t=this.buffer.length+this.offset;this.state===fe.InCommentLike?this.currentSequence===qs.CdataEnd?this.cbs.oncdata(this.sectionStart,t,0):this.cbs.oncomment(this.sectionStart,t,0):this.state===fe.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===fe.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===fe.InTagName||this.state===fe.BeforeAttributeName||this.state===fe.BeforeAttributeValue||this.state===fe.AfterAttributeName||this.state===fe.InAttributeName||this.state===fe.InAttributeValueSq||this.state===fe.InAttributeValueDq||this.state===fe.InAttributeValueNq||this.state===fe.InClosingTagName||this.cbs.ontext(this.sectionStart,t)}emitPartial(t,r){this.baseState!==fe.Text&&this.baseState!==fe.InSpecialTag?this.cbs.onattribdata(t,r):this.cbs.ontext(t,r)}emitCodePoint(t){this.baseState!==fe.Text&&this.baseState!==fe.InSpecialTag?this.cbs.onattribentity(t):this.cbs.ontextentity(t)}};var Pp=new Set(["input","option","optgroup","select","button","datalist","textarea"]),rr=new Set(["p"]),Wie=new Set(["thead","tbody"]),Jie=new Set(["dd","dt"]),Xie=new Set(["rt","rp"]),bJe=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",rr],["h1",rr],["h2",rr],["h3",rr],["h4",rr],["h5",rr],["h6",rr],["select",Pp],["input",Pp],["output",Pp],["button",Pp],["datalist",Pp],["textarea",Pp],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",Jie],["dt",Jie],["address",rr],["article",rr],["aside",rr],["blockquote",rr],["details",rr],["div",rr],["dl",rr],["fieldset",rr],["figcaption",rr],["figure",rr],["footer",rr],["form",rr],["header",rr],["hr",rr],["main",rr],["nav",rr],["ol",rr],["pre",rr],["section",rr],["table",rr],["ul",rr],["rt",Xie],["rp",Xie],["tbody",Wie],["tfoot",Wie]]),EJe=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),Zie=new Set(["math","svg"]),eae=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),xJe=/\s|\//,Lg=class{constructor(t,r={}){var n,s,a,o,c;this.options=r,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=t??{},this.lowerCaseTagNames=(n=r.lowerCaseTags)!==null&&n!==void 0?n:!r.xmlMode,this.lowerCaseAttributeNames=(s=r.lowerCaseAttributeNames)!==null&&s!==void 0?s:!r.xmlMode,this.tokenizer=new((a=r.Tokenizer)!==null&&a!==void 0?a:Dp)(this.options,this),(c=(o=this.cbs).onparserinit)===null||c===void 0||c.call(o,this)}ontext(t,r){var n,s;let a=this.getSlice(t,r);this.endIndex=r-1,(s=(n=this.cbs).ontext)===null||s===void 0||s.call(n,a),this.startIndex=r}ontextentity(t){var r,n;let s=this.tokenizer.getSectionStart();this.endIndex=s-1,(n=(r=this.cbs).ontext)===null||n===void 0||n.call(r,Ap(t)),this.startIndex=s}isVoidElement(t){return!this.options.xmlMode&&EJe.has(t)}onopentagname(t,r){this.endIndex=r;let n=this.getSlice(t,r);this.lowerCaseTagNames&&(n=n.toLowerCase()),this.emitOpenTag(n)}emitOpenTag(t){var r,n,s,a;this.openTagStart=this.startIndex,this.tagname=t;let o=!this.options.xmlMode&&bJe.get(t);if(o)for(;this.stack.length>0&&o.has(this.stack[this.stack.length-1]);){let c=this.stack.pop();(n=(r=this.cbs).onclosetag)===null||n===void 0||n.call(r,c,!0)}this.isVoidElement(t)||(this.stack.push(t),Zie.has(t)?this.foreignContext.push(!0):eae.has(t)&&this.foreignContext.push(!1)),(a=(s=this.cbs).onopentagname)===null||a===void 0||a.call(s,t),this.cbs.onopentag&&(this.attribs={})}endOpenTag(t){var r,n;this.startIndex=this.openTagStart,this.attribs&&((n=(r=this.cbs).onopentag)===null||n===void 0||n.call(r,this.tagname,this.attribs,t),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(t){this.endIndex=t,this.endOpenTag(!1),this.startIndex=t+1}onclosetag(t,r){var n,s,a,o,c,u;this.endIndex=r;let l=this.getSlice(t,r);if(this.lowerCaseTagNames&&(l=l.toLowerCase()),(Zie.has(l)||eae.has(l))&&this.foreignContext.pop(),this.isVoidElement(l))!this.options.xmlMode&&l==="br"&&((s=(n=this.cbs).onopentagname)===null||s===void 0||s.call(n,"br"),(o=(a=this.cbs).onopentag)===null||o===void 0||o.call(a,"br",{},!0),(u=(c=this.cbs).onclosetag)===null||u===void 0||u.call(c,"br",!1));else{let d=this.stack.lastIndexOf(l);if(d!==-1)if(this.cbs.onclosetag){let f=this.stack.length-d;for(;f--;)this.cbs.onclosetag(this.stack.pop(),f!==0)}else this.stack.length=d;else!this.options.xmlMode&&l==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=r+1}onselfclosingtag(t){this.endIndex=t,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=t+1):this.onopentagend(t)}closeCurrentTag(t){var r,n;let s=this.tagname;this.endOpenTag(t),this.stack[this.stack.length-1]===s&&((n=(r=this.cbs).onclosetag)===null||n===void 0||n.call(r,s,!t),this.stack.pop())}onattribname(t,r){this.startIndex=t;let n=this.getSlice(t,r);this.attribname=this.lowerCaseAttributeNames?n.toLowerCase():n}onattribdata(t,r){this.attribvalue+=this.getSlice(t,r)}onattribentity(t){this.attribvalue+=Ap(t)}onattribend(t,r){var n,s;this.endIndex=r,(s=(n=this.cbs).onattribute)===null||s===void 0||s.call(n,this.attribname,this.attribvalue,t===oa.Double?'"':t===oa.Single?"'":t===oa.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(t){let r=t.search(xJe),n=r<0?t:t.substr(0,r);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n}ondeclaration(t,r){this.endIndex=r;let n=this.getSlice(t,r);if(this.cbs.onprocessinginstruction){let s=this.getInstructionName(n);this.cbs.onprocessinginstruction(`!${s}`,`!${n}`)}this.startIndex=r+1}onprocessinginstruction(t,r){this.endIndex=r;let n=this.getSlice(t,r);if(this.cbs.onprocessinginstruction){let s=this.getInstructionName(n);this.cbs.onprocessinginstruction(`?${s}`,`?${n}`)}this.startIndex=r+1}oncomment(t,r,n){var s,a,o,c;this.endIndex=r,(a=(s=this.cbs).oncomment)===null||a===void 0||a.call(s,this.getSlice(t,r-n)),(c=(o=this.cbs).oncommentend)===null||c===void 0||c.call(o),this.startIndex=r+1}oncdata(t,r,n){var s,a,o,c,u,l,d,f,p,m;this.endIndex=r;let h=this.getSlice(t,r-n);this.options.xmlMode||this.options.recognizeCDATA?((a=(s=this.cbs).oncdatastart)===null||a===void 0||a.call(s),(c=(o=this.cbs).ontext)===null||c===void 0||c.call(o,h),(l=(u=this.cbs).oncdataend)===null||l===void 0||l.call(u)):((f=(d=this.cbs).oncomment)===null||f===void 0||f.call(d,`[CDATA[${h}]]`),(m=(p=this.cbs).oncommentend)===null||m===void 0||m.call(p)),this.startIndex=r+1}onend(){var t,r;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let n=this.stack.length;n>0;this.cbs.onclosetag(this.stack[--n],!0));}(r=(t=this.cbs).onend)===null||r===void 0||r.call(t)}reset(){var t,r,n,s;(r=(t=this.cbs).onreset)===null||r===void 0||r.call(t),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(s=(n=this.cbs).onparserinit)===null||s===void 0||s.call(n,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(t){this.reset(),this.end(t)}getSlice(t,r){for(;t-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let n=this.buffers[0].slice(t-this.bufferOffset,r-this.bufferOffset);for(;r-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),n+=this.buffers[0].slice(0,r-this.bufferOffset);return n}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(t){var r,n;if(this.ended){(n=(r=this.cbs).onerror)===null||n===void 0||n.call(r,new Error(".write() after done!"));return}this.buffers.push(t),this.tokenizer.running&&(this.tokenizer.write(t),this.writeIndex++)}end(t){var r,n;if(this.ended){(n=(r=this.cbs).onerror)===null||n===void 0||n.call(r,new Error(".end() after done!"));return}t&&this.write(t),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(t){this.write(t)}done(t){this.end(t)}};function tae(e,t){let r=new gp(void 0,t);return new Lg(r,t).end(e),r.root}var vJe=zse((e,t,r,n)=>t.xmlMode||t._useHtmlParser2?tae(e,t):Vie(e,t,r,n)),Je=Xse(vJe,(e,t)=>t.xmlMode||t._useHtmlParser2?Jx(e,t):Kie(e)),avt=Je([]),{contains:ovt}=su,{merge:cvt}=su,{parseHTML:uvt}=su,{root:lvt}=su;var Mg="abacdefghjklmnopqrstuvwxyzABCDEFGHJKLMNOPQRSTUVWXYZ0123456789";function nae(e,t){return Math.floor(Math.random()*(t-e+1))+e}function sae(e,t,r){var n="";let s=t===void 0?!0:t;for(var a=0;a<e;a++){let o=r?nae(Mg.length-10,Mg.length-1):nae(0,s?Mg.length-1:Mg.length-11);n+=Mg[o]}return n}var fD="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.54 Safari/537.36";var Uv="Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1";function iae(e,t){return e.trim()==t.trim()?t:t.trim().replaceAll(e,"").replace(/<|>||/g,"").replace(/\$|#/g," ").trim()}function aae(e){let t=e/1048576;return t>1024?`${(t/1024).toFixed(2)}GB`:`${parseInt(t).toFixed(0)}MB`}function _Je(e,t){if(!e||!t)return{length:0,sequence:"",offset:0};for(var r="",n=e.length,s=t.length,a=new Array(n),o=0,c=0,u=0;u<n;u++){for(var l=new Array(s),d=0;d<s;d++)l[d]=0;a[u]=l}var f=null;for(u=0;u<n;u++)for(d=0;d<s;d++)e[u]!==t[d]?a[u][d]=0:(u===0||d===0?a[u][d]=1:a[u][d]=1+a[u-1][d-1],a[u][d]>o&&(o=a[u][d],f=u-a[u][d]+1,c===f?r+=e[u]:(c=f,r="",r+=e.substr(c,u+1-c))));return{length:o,sequence:r,offset:f}}function qv(e,t){let r=[],n=0;for(let a=0;a<t.length;a++){let o=_Je(e.name,t[a].name);r.push({target:t[a],lcs:o}),o.length>r[n].lcs.length&&(n=a)}let s=r[n];return{allLCS:r,bestMatch:s,bestMatchIndex:n}}function Op(e){return new Promise(t=>setTimeout(t,e))}var za=e=>e.map(t=>t.split(";")[0]+";");var mD=Pe(js(),1),Vl=require("path"),Yr=Pe(require("fs"),1),moe=require("stream");async function IJe(e,t){let r=await Oe.get(e,{responseType:"stream",headers:Object.assign({Range:"bytes=0-0"},t)}).catch(n=>(console.error(n),n.response||{status:500,data:{}}));if(r&&r.status===206){let n=r.headers["accept-ranges"]==="bytes",s=r.headers["content-range"],a=parseInt(r.headers["content-length"]),o=n||!!s||a===1,c=s?parseInt(s.split("/")[1]):a;return delete r.headers["content-range"],delete r.headers["content-length"],c&&(r.headers["content-length"]=c.toString()),[o,r.headers]}else return[!1,null]}var Qg={},hoe="",Kl=(process.env.NODE_PATH||".")+"/vod_cache",CJe=1024*1024*100;async function goe(e){try{if(Yr.default.existsSync(e)){let t=await Yr.default.promises.readdir(e);await Promise.all(t.map(async r=>{let n=`${e}/${r}`;(await Yr.default.promises.stat(n)).isDirectory()?await goe(n):await Yr.default.promises.unlink(n)})),await Yr.default.promises.rmdir(e)}}catch(t){console.error("Error deleting folder:",t)}}goe(Kl);function wJe(e){try{Yr.default.readdir(Kl,(t,r)=>{if(r)for(let n of r){if(n===e)continue;let s=(0,Vl.join)(Kl,n);Yr.default.stat(s,(a,o)=>{o&&o.isDirectory()&&Yr.default.readdir(s,(c,u)=>{if(u)for(let l of u)l.endsWith(".p")||Yr.default.rm((0,Vl.join)(s,l),{recursive:!0},()=>{})})})}})}catch(t){console.error(t)}}async function SJe(e,t,r,n,s,a){if(n=n||mD.default.enc.Hex.stringify(mD.default.MD5(r)).toString(),hoe!==n&&(wJe(n),hoe=n),!Qg[n]){let[E,I]=await IJe(r,s);if(!E||!I["content-length"]){t.redirect(r);return}Qg[n]=I}let o=!0;await Yr.default.promises.access((0,Vl.join)(Kl,n)).catch(E=>o=!1),o||await Yr.default.promises.mkdir((0,Vl.join)(Kl,n),{recursive:!0});let c=parseInt(Qg[n]["content-length"]),u=0,l=c-1,d={};if(e.headers.range){let E=e.headers.range.trim().split(/=|-/);E.length>2&&E[2]&&(l=parseInt(E[2])),u=parseInt(E[1]),Object.assign(d,Qg[n]),d["content-length"]=(l-u+1).toString(),d["content-range"]=`bytes ${u}-${l}/${c}`,t.code(206)}else Object.assign(d,Qg[n]),t.code(200);a=a||{chunkSize:1024*512,poolSize:10,timeout:1e3*10};let f=a.chunkSize,p=a.poolSize,m=a.timeout,h=Math.ceil(c/f),g=Math.floor(u/f),A=g,y=!1,v={};for(let E=0;E<p&&E<h;E++)new Promise(I=>{(async function w(S){if(y||g>=h){I();return}if(S===void 0&&(g-A)*f>=CJe){setTimeout(w,5);return}let T=S||g++,B=`${e.id}-${T}`;try{let N=(0,Vl.join)(Kl,n,`${e.id}-${T}.p`),O=!0;if(await Yr.default.promises.access(N).catch(k=>O=!1),!O){let k=T*f,P=Math.min(c-1,(T+1)*f-1),D=await Oe.get(r,{responseType:"stream",timeout:m,headers:Object.assign({Range:`bytes=${k}-${P}`},s)}),j=(0,Vl.join)(Kl,n,`${e.id}-${T}.dl`),H=Yr.default.createWriteStream(j),V=setTimeout(()=>{H.destroy(new Error(`${B} read timeout`))},m),X=new Promise(re=>{H.on("finish",async()=>{y?await Yr.default.promises.rm(j).catch(se=>console.error(se)):(await Yr.default.promises.rename(j,N).catch(se=>console.error(se)),v[B]=N),re(!0)}),H.on("error",async se=>{console.error(se),await Yr.default.promises.rm(j).catch(te=>console.error(te)),re(!1)})});D.data.pipe(H);let U=await X;if(clearTimeout(V),!U){setTimeout(()=>{w(T)},15);return}}setTimeout(w,5)}catch(N){console.error(N),setTimeout(()=>{w(T)},15)}})()});t.headers(d);let b=new moe.PassThrough;return new Promise(E=>{let I=!0;(async function w(){try{if(A>=h||y){b.end(),E();return}if(!I){setTimeout(w,5);return}let S=`${e.id}-${A}`;if(!v[S]){setTimeout(w,5);return}let T=A*f,B=Math.min(c-1,(A+1)*f-1),N=Math.max(u,T)-T,O=v[S];delete v[S];let k=await Yr.default.promises.open(O,"r"),P=Buffer.alloc(B-T-N+1);await k.read(P,0,B-T-N+1,N),await k.close().catch(D=>console.error(D)),await Yr.default.promises.rm(O).catch(D=>console.error(D)),I=b.write(P),I||b.once("drain",()=>{I=!0}),A++,setTimeout(w,5)}catch{setTimeout(w,5)}})()}),b.on("close",async()=>{Object.keys(v).forEach(E=>{E.startsWith(e.id)&&(Yr.default.rm(v[E],{recursive:!0},()=>{}),delete v[E])}),y=!0}),b}var S_=SJe;var xD=Pe(js(),1);var TJe=["\u9884\u544A"],BJe=e=>{if(!e)return!1;let t=String(e);return TJe.some(r=>t.includes(r))};function Aoe(e){let t=/(E|EP)0?([1-9]\d*).*/.exec(e);if(t)return Number(t[2]);let r=/.*?([1-9]\d*).*/.exec(e);return r?Number(r[1]):null}function yoe(e){return e.replace(/\.[^.]+$/,"").replace(/^(S\d+)?E?P?\d+\.?/i,"")}function boe(e){return e==null?"":String(e)}function RJe(e,t){let r=boe(e),n=boe(t);return r===n?0:r.localeCompare(n,void 0,{numeric:!0,sensitivity:"base"})}function Ri(e,t){let r={};return t.length===0||(t=t.filter(n=>!BJe(n?.vod_name)),t.length===0)||(t.sort((n,s)=>{let a=RJe(n.vod_group,s.vod_group);if(a!==0)return a;let o=Aoe(n.vod_name),c=Aoe(s.vod_name);if(o!==null&&c!==null&&o!==c)return o-c;let u=yoe(n.vod_name),l=yoe(s.vod_name);return u!==l?u.localeCompare(l):o!==null&&c!==null?o-c:n.vod_name.localeCompare(s.vod_name)}),t=t.map(n=>{let s=aae(n.vod_size);return{vod_id:n.vod_id,vod_name:iae("",` ${n.vod_name.replace(/.[^.]+$/,"")}  [${s}]`)}}),r.from=e,r.url=t.map(n=>n.vod_name+"$"+n.vod_id).join("#")),r}async function Wr(e,t,r={}){let n=(Array.isArray(e)?e:[e]).filter(Boolean).map(c=>String(c).trim()).filter(c=>c.length>0);if(n.length===0)return"";let s=Number(r?.timeoutMs)>0?Number(r.timeoutMs):5e3,a=Array.isArray(r?.methods)&&r.methods.length>0?r.methods:["HEAD","GET"],o={"User-Agent":Uv,...t&&typeof t=="object"?t:{}};return await new Promise(c=>{let u=!1,l=p=>{u||(u=!0,c(p))},d=setTimeout(()=>l(n[0]),s*a.length+200),f=async p=>{for(let m of a)try{let h=await Ie.request({url:p,method:m,headers:o,proxy:!1,timeout:s,maxRedirects:5,validateStatus:()=>!0});if(h?.status>=200&&h.status<400){clearTimeout(d),l(p);return}}catch{}};n.forEach(p=>{f(p)})})}var Ug=e=>getPanEnabled("quark")&&e.includes("https://pan.quark.cn"),qg=e=>getPanEnabled("uc")&&e.includes("https://drive.uc.cn"),jg=e=>getPanEnabled("tianyi")&&/cloud\.189\.cn/.test(e),gD=e=>getPanEnabled("yidong")&&/caiyun\.139\.com|yun\.139\.com/.test(e),AD=e=>getPanEnabled("123")&&/(?:www\.)?(?:123684\.com|123865\.com|123912\.com|123pan\.com|123pan\.cn|123592\.com)/.test(e),yD=e=>getPanEnabled("115")&&/115.com|anxia.com|115cdn.com/.test(e),bD=e=>getPanEnabled("baidu")&&/pan\.baidu\.com/.test(e);var ke=N_;(function(e,t){let r=N_,n=e();for(;;)try{if(-parseInt(r(600))/1*(-parseInt(r(580))/2)+-parseInt(r(759))/3*(parseInt(r(726))/4)+-parseInt(r(796))/5+parseInt(r(532))/6+parseInt(r(561))/7*(parseInt(r(546))/8)+-parseInt(r(783))/9*(-parseInt(r(601))/10)+parseInt(r(644))/11*(-parseInt(r(619))/12)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(R_,5*-89935+483725+1*216851);var NJe=[ke(499),ke(551),ke(718),ke(590),ke(640),ke(517),ke(587),ke(637),ke(703),ke(792),ke(725),ke(525),ke(577),ke(711),ke(645),ke(733)],kJe=e=>{let t=ke,r={nPSbQ:function(s,a){return s(a)}};if(!e)return!1;let n=r[t(674)](String,e)[t(744)+"e"]();return NJe[t(666)](s=>n[t(569)](s))};function _oe(e){let t=ke,r=/https:\/\/pan\.quark\.cn\/s\/([^\\|#/]+)/,n=r[t(693)](e);return n?{shareId:n[-611*-2+-1*-9382+1*-10603],folderId:"0"}:null}var Ga=ke(649)+ke(607),_D={"User-Agent":ke(521)+ke(579)+ke(668)+ke(746)+ke(589)+ke(771)+ke(626)+ke(709)+ke(609)+ke(608)+ke(751)+ke(695)+ke(578)+ke(697)+ke(747)+ke(737)+ke(549)+ke(763)+ke(779)+"ch",Referer:ke(773)+ke(788)},vD=null,T_=null,Eoe=ke(659)+ke(519)+ke(790)+ke(631),Ho="",hu={},xoe=ke(536),Yl=null;async function Ioe(e){let t=ke;vD=e[t(547)].db;let r=e[t(547)][t(781)][t(722)];Ho=r[t(503)],T_=xD.default[t(664)][t(810)][t(706)](xD.default[t(682)](r[t(503)]))[t(691)]();let n=await vD[t(812)+t(628)](t(782),{});n[T_]&&(Ho=n[T_])}async function ca(e,t,r,n,s){let a=ke,o={GiAyb:function(l,d){return l===d},hDtJT:function(l,d){return l(d)},LMuQE:a(654),cLIAn:a(683)+a(785)+a(775),SktIJ:function(l,d){return l||d},kFkIR:a(542),qsNGS:function(l,d){return l==d},FBcHA:a(583),iZisu:function(l,d){return l||d},xZfwa:a(757),aaDPl:a(638),fdqoB:function(l,d){return l!=d},YsvAa:function(l,d){return l>d},yArAe:function(l,d,f,p,m,h){return l(d,f,p,m,h)},wZobt:function(l,d){return l-d}};r=o[a(598)](r,{}),Object[a(671)](r,_D),Object[a(671)](r,{Cookie:o[a(598)](Ho,"")}),n=o[a(598)](n,o[a(528)]);let c=o[a(522)](n,o[a(811)])?await Oe[a(583)](Eoe+"/"+e,{headers:r})[a(756)](l=>{let d=a;return console[d(655)](l),o[d(512)](l?.[d(669)]?.[d(513)],-149*26+-429*11+8994)&&o[d(769)](messageToDart,{action:o[d(677)],opt:{message:o[d(807)],duration:5}}),l[d(669)]||{status:500,data:{}}}):await Oe[a(542)](Eoe+"/"+e,t,{headers:r})[a(756)](l=>{let d=a;return console[d(655)](l),o[d(512)](l?.[d(669)]?.[d(513)],401)&&o[d(769)](messageToDart,{action:o[d(677)],opt:{message:o[d(807)],duration:5}}),l[d(669)]||{status:500,data:{}}}),u=o[a(766)](s,254+251*-1);if(c[a(604)][o[a(662)]]){let l=c[a(604)][o[a(662)]][a(809)](o[a(554)])[a(531)](/__puus=([^;]+)/);l&&o[a(646)](Ho[a(531)](/__puus=([^;]+)/)[-5653+-4228*-2+-467*6],l[2381*1+117*19+-4603])&&(Ho=Ho[a(789)](/__puus=[^;]+/,a(553)+l[75*97+1504+399*-22]),await vD[a(642)](a(705)+T_,Ho))}return o[a(512)](c[a(513)],373*19+9990+-4162*4)&&o[a(732)](u,2825+4041*-1+1216)?(await o[a(769)](Op,2155+8566*-1+7411),await o[a(805)](ca,e,t,r,n,o[a(681)](u,17*-111+5887*1+-3999))):c[a(708)]||{}}async function voe(){let e=ke,t={USHFv:function(n,s,a,o,c){return n(s,a,o,c)},rJnpB:e(583),ZbOBe:function(n,s){return n>s},KIPTM:function(n,s,a){return n(s,a)}},r=await t[e(584)](ca,e(594)+Ga+e(555)+Yl+(e(556)+e(755)+e(523)+e(652)+e(736)+e(500)),{},{},t[e(670)]);if(r[e(708)]&&r[e(708)][e(694)]&&t[e(543)](r[e(708)][e(694)][e(596)],-148*2+1*-9202+-1*-9498)){let n=await t[e(527)](ca,e(566)+"e?"+Ga,{action_type:2,filelist:r[e(708)][e(694)][e(684)](s=>s[e(776)]),exclude_fids:[]});console[e(634)](n)}}async function DJe(e){let t=ke,r={sPCoA:function(s){return s()},nePjc:function(s,a,o,c,u){return s(a,o,c,u)},UrqbA:t(583),etpkO:function(s,a){return s===a},OWqcV:function(s,a,o){return s(a,o)}};if(Yl){e&&await r[t(627)](voe);return}let n=await r[t(730)](ca,t(594)+Ga+(t(555)+t(548)+t(660)+t(560)+t(520)+t(576)+t(765)),{},{},r[t(615)]);if(n[t(708)]&&n[t(708)][t(694)]){for(let s of n[t(708)][t(694)])if(r[t(592)](s[t(802)],xoe)){Yl=s[t(776)],await r[t(627)](voe);break}}if(!Yl){let s=await r[t(635)](ca,t(778)+Ga,{pdir_fid:"0",file_name:xoe,dir_path:"",dir_init_lock:!1});console[t(634)](s),s[t(708)]&&s[t(708)][t(776)]&&(Yl=s[t(708)][t(776)])}}async function Coe(e){let t=ke,r={lxCuH:function(n,s,a){return n(s,a)}};if(!hu[e[t(728)]]){delete hu[e[t(728)]];let n=await r[t(780)](ca,t(801)+t(704)+"n?"+Ga,{pwd_id:e[t(728)],passcode:e[t(544)]||""});n[t(708)]&&n[t(708)][t(656)]&&(hu[e[t(728)]]=n[t(708)])}}var PJe=[ke(758),ke(573),ke(749),ke(636),ke(539)];async function OJe(e){let t=ke,r={LjDxV:function(u,l){return u||l},PGiEO:function(u,l){return u||l},IUsQi:function(u,l,d,f,p){return u(l,d,f,p)},mFyvb:function(u,l){return u(l)},IwTqu:t(583),oTruA:function(u,l){return u===l},FexFP:function(u,l){return u===l},AHdyA:t(688),PVYhY:function(u,l){return u===l},zoaFI:t(735),sOABT:function(u,l){return u===l},CEzGG:t(545),NbrlO:function(u,l){return u(l)},WUEdT:function(u,l){return u===l},mtJLA:t(676),UqqEl:function(u,l,d){return u(l,d)},gzOZU:function(u,l){return u&&l},FbzoI:t(526),yyIGV:function(u,l){return u<l},dGCGh:function(u,l){return u*l},MRkbU:function(u,l){return u<l},qGkhy:function(u,l){return u/l},mEyeP:function(u,l){return u+l},ZvGZK:function(u,l,d,f,p){return u(l,d,f,p)},efVna:t(777),RLkyO:function(u,l){return u(l)},IjMOp:function(u,l,d,f,p){return u(l,d,f,p)},acBBF:function(u,l){return u>l}},n=r[t(582)](typeof e,r[t(797)])?r[t(623)](_oe,e):e;if(!n)return[];if(await r[t(724)](Coe,n),!hu[n[t(728)]])return[];let s=[],a=[],o=(u,l)=>u?u+"/"+l:l,c=async function(u,l,d,f){let p=t,m=r[p(591)](f,""),h=-7316+-206*-36;d=r[p(552)](d,-8833+-39*1+8873);let g=await r[p(557)](ca,p(801)+p(741)+p(795)+Ga+p(786)+u+p(585)+r[p(647)](encodeURIComponent,hu[u][p(656)])+p(555)+l+(p(739)+p(641))+d+p(595)+h+(p(740)+p(639)+p(678)+p(599)),{},{},r[p(624)]);if(!g[p(708)])return[];let A=g[p(708)][p(694)];if(!A)return[];let y=[];for(let v of A){let b=r[p(620)](v[p(688)],!0)||r[p(620)](v[p(688)],1)||r[p(571)](v[p(760)],r[p(516)])||r[p(712)](v[p(760)],r[p(762)]),E=r[p(620)](v[p(545)],!0)||r[p(565)](v[p(545)],83*-47+-1*-505+3397)||r[p(620)](v[p(760)],r[p(658)]),I=r[p(623)](kJe,v[p(802)]),w=r[p(582)](v[p(570)+"ry"],r[p(586)])||I;if(b)y[p(642)]({fid:v[p(776)],path:r[p(692)](o,m,v[p(802)])});else if(r[p(534)](E,w)){if(r[p(582)](typeof v[p(675)],r[p(679)])&&r[p(665)](v[p(675)],r[p(504)](r[p(504)](489*3+-6995+-39*-168,-11*-461+446+-4493),4*-1339+-6659*1+12020)))continue;v[p(656)]=hu[n[p(728)]][p(656)],v[p(702)]=m,s[p(642)](v)}else E&&PJe[p(666)](S=>String(v[p(802)]||"")[p(569)](S))&&a[p(642)](v)}if(r[p(511)](d,Math[p(761)](r[p(715)](g[p(524)][p(753)],h)))){let v=await r[p(557)](c,u,l,r[p(680)](d,1),m);for(let b of v)A[p(642)](b)}for(let v of y){let b=await r[p(804)](c,u,v[p(776)],1,v[p(806)]);for(let E of b)A[p(642)](E)}return A};return await r[t(567)](c,n[t(728)],n[t(612)],-9731*-1+-427+-9303,""),r[t(540)](a[t(596)],-9011*1+-5099+-415*-34)&&s[t(617)](u=>{let l=t;var d=r[l(692)](qv,u,a);d[l(538)]&&(u[l(793)]=d[l(538)][l(667)])}),s}var mu={};async function woe(e,t,r,n,s){let a=ke,o={NaJCQ:function(u,l){return u(l)},jTcpU:function(u,l){return u(l)},LRCbU:function(u,l,d){return u(l,d)},bbRxr:a(622),scVFG:function(u,l,d,f,p){return u(l,d,f,p)},uaDlr:a(583),bdBrH:function(u,l){return u>l},EeruE:function(u,l){return u(l)}};if(await o[a(738)](DJe,s),s){let u=Object[a(653)](mu);for(let l of u)delete mu[l]}if(!Yl||!t&&(await o[a(717)](Coe,{shareId:e}),!hu[e]))return null;let c=await o[a(593)](ca,a(801)+a(791)+"?"+Ga,{fid_list:[r],fid_token_list:[n],to_pdir_fid:Yl,pwd_id:e,stoken:t||hu[e][a(656)],pdir_fid:"0",scene:o[a(689)]});if(c[a(708)]&&c[a(708)][a(698)]){let u=0;for(;;){let l=await o[a(685)](ca,a(618)+Ga+a(610)+c[a(708)][a(698)]+(a(533)+a(772))+u,{},{},o[a(750)]);if(l[a(708)]&&l[a(708)][a(686)]&&l[a(708)][a(686)][a(581)+a(572)]&&o[a(643)](l[a(708)][a(686)][a(581)+a(572)][a(596)],-6295+-3397*-2+-499*1))return l[a(708)][a(686)][a(581)+a(572)][-28*-346+9115+-18803];if(u++,o[a(643)](u,-3*-338+-59*-5+-1304))break;await o[a(687)](Op,3218+1*-2218)}}return!1}function R_(){let e=["Drffk","size=200&_","catch","set-cookie",".srt","39660iSorHv","type","ceil","zoaFI"," Channel/p","flag",":desc","iZisu","SzrZG","site","hDtJT","video_info","Kit/537.36","ex=","https://pa","NFeeC","\u8FDB\u884C\u914D\u7F6E","fid","string","file?","ckk_other_","lxCuH","config","/quark","43515ZtFgrY","THiDP","\uFF0C\u8BF7\u524D\u5F80\u3010\u914D\u7F6E\u3011\u7AD9\u6E90","&pwd_id=","TCYyY","n.quark.cn","replace","cn/1/cloud","epage/save",".m4v","subtitle","body","il?","620465vaZsYy","efVna","ktcWW","fileId","r,2k,4k","share/shar","file_name","fmp4","ZvGZK","yArAe","path","cLIAn","SBOeP","join","Hex","FBcHA","getObjectD","UpUTm",".mp4","desc","GXfEV","filter","cookie","dGCGh","ay?","key",",high,supe","indexOf","GyKBD","zIuKF","MRkbU","GiAyb","status","file/v2/pl","token","AHdyA",".flv","down","ive.quark.","_type:asc,","Mozilla/5.","qsNGS","sort=file_","metadata",".m2ts","number","KIPTM","kFkIR","mEkBg","prefix","match","1619778wwYval","&retry_ind","gzOZU","uTZUb","CatVodOpen","bfuXt","bestMatch",".ttml","acBBF","extra","post","ZbOBe","sharePwd","file","8gADhxK","server","0&_page=1&","ari/537.36","low",".mkv","PGiEO","__puus=","aaDPl","&pdir_fid=","&_page=1&_","IUsQi","rYHGM","high","_sort=file","810677lhvFll","url","rnFfT","/src/subt/","sOABT","file/delet","IjMOp","poolSize","endsWith","obj_catego","FexFP","p_fids",".ass","GGyBd","what","updated_at",".3gp","896.160 El","0 (Windows","546082FCFMGQ","save_as_to","WUEdT","get","USHFv","&stoken=","mtJLA",".mov","normal,low",") AppleWeb",".avi","LjDxV","etpkO","LRCbU","file/sort?","&_size=","length","tGlyJ","SktIJ",":asc","1kOIFxw","650ZMAnHz","find","chunkSize","headers","file/downl","qJLTV","r=pc","ud-drive/2"," quark-clo","&task_id=","yhzQL","folderId","normal","video_list","UrqbA","WBEsq","forEach","task?","233664NCtjzj","oTruA","/.mp4","link","NbrlO","IwTqu","Pans"," (KHTML, l","sPCoA","efault","vJrJE","/trans/","drive/","bJmjQ","/proxy/qua","log","OWqcV",".stl",".mpeg",";;;","e_type:asc",".wmv","page=","push","bdBrH","308KEKoyR",".rmvb","fdqoB","mFyvb","super","pr=ucpro&f","accessable","iJQWp","type:asc,u","keys","toast","error","stoken","HUVAy","CEzGG","https://dr","_size=200&","VBCSS","xZfwa","trans","enc","yyIGV","some","target"," NT 10.0; ","response","rJnpB","assign","resolution","share_fid_","nPSbQ","size","video","LMuQE",",file_name","FbzoI","mEyeP","wZobt","MD5","\u5938\u514Btoken\u5DF2\u8FC7\u671F","map","scVFG","save_as","EeruE","dir","bbRxr","CxtsR","toString","UqqEl","exec","list","me/100.0.4","Zcgun","ectron/18.","task_id","split","tfRLj","redirect","vod_group",".mpg","epage/toke","/quark/","stringify","covAO","data","ike Gecko)","oad?",".rm","PVYhY","download_u","YKPju","qGkhy","tuven","jTcpU",".webm","DHIYh","/src/redir","params","quark","/src/down/","RLkyO",".ts","16llVvpT","address","shareId","ect/","nePjc","SaCxW","YsvAa",".iso","mEHIL","folder","pdated_at:","491100 Saf","NaJCQ","&force=0&_","&_sort=fil","epage/deta","startsWith","kiMFu","toLowerCas","/.bin","Win64; x64","3.5.4-b478","JNFPA",".scc","uaDlr",".5.20 Chro","HvtkQ","_total"];return R_=function(){return e},R_()}async function Soe(e,t,r,n){let s=ke,a={DHIYh:function(c,u,l,d,f,p){return c(u,l,d,f,p)},JNFPA:function(c,u,l){return c(u,l)},WBEsq:s(588)+s(507)+s(800),covAO:s(803)};if(!mu[r]){let c=await a[s(719)](woe,e,t,r,n,!0);if(!c)return null;mu[r]=c}let o=await a[s(748)](ca,s(514)+s(505)+Ga,{fid:mu[r],resolutions:a[s(616)],supports:a[s(707)]});return o[s(708)]&&o[s(708)][s(614)]?o[s(708)][s(614)]:null}function N_(e,t){let r=R_();return N_=function(n,s){return n=n-(-724*1+-1*-579+28*23),r[n]},N_(e,t)}async function $Je(e,t,r,n,s){let a=ke,o={mEkBg:function(u,l,d,f,p,m){return u(l,d,f,p,m)},VBCSS:function(u,l,d){return u(l,d)}};if(!mu[r]){let u=await o[a(529)](woe,e,t,r,n,s);if(!u)return null;mu[r]=u}let c=await o[a(661)](ca,a(605)+a(710)+Ga,{fids:[mu[r]]});return c[a(708)]?c[a(708)][1*3283+4*2287+-12431*1]:null}async function Toe(e){let t=ke,r={yhzQL:function(n,s){return n(s)},qJLTV:t(773)+t(788),SBOeP:function(n,s){return n(s)},ktcWW:function(n,s){return n(s)},HUVAy:function(n,s,a){return n(s,a)},bJmjQ:function(n,s){return n(s)},Drffk:t(722)};if(r[t(611)](Ug,r[t(606)])){let n=r[t(808)](_oe,e);if(n){let s=await r[t(798)](OJe,n);return s=s[t(684)](a=>{let o=t;return{vod_id:[n[o(728)],a[o(656)],a[o(776)],a[o(673)+o(515)],a[o(793)]?a[o(793)][o(776)]:"",a[o(793)]?a[o(793)][o(673)+o(515)]:""][o(809)]("*"),vod_name:a[o(802)],vod_size:a[o(675)],vod_group:a[o(702)]}}),r[t(657)](Ri,r[t(632)](getPanName,r[t(754)]),s)}else return{}}}var B_={},ED={};async function Boe(e,t){let r=ke,n={Zcgun:function(u,l){return u(l)},HvtkQ:function(u,l){return u==l},YKPju:r(722),zIuKF:function(u,l){return u==l},iJQWp:r(663),TCYyY:function(u,l,d,f,p){return u(l,d,f,p)},mEHIL:function(u,l,d,f,p,m){return u(l,d,f,p,m)},GXfEV:function(u,l){return u(l)},SzrZG:r(518),GyKBD:r(701),tGlyJ:function(u,l,d,f,p,m,h){return u(l,d,f,p,m,h)},kiMFu:function(u,l){return u*l}};await n[r(696)](Ioe,e);let s=e[r(721)][r(768)],a=e[r(721)][r(575)],o=e[r(721)][r(728)],c=e[r(721)][r(799)];if(n[r(752)](s,n[r(714)])){let u="",l=c[r(699)]("*"),d=e[r(721)][r(764)];if(n[r(510)](a,n[r(651)])){!B_[l[-1*5338+1440+3899]]&&(B_[l[-4418+1*6515+-2096]]=(await n[r(787)](Soe,o,n[r(696)](decodeURIComponent,l[-8436+2521*-1+10957]),l[-1148*1+1*2748+-1599],l[-10344+-10346*-1]))[r(502)](g=>g[r(650)])),u=B_[l[-3447*1+4*-1731+10372]][r(502)](g=>g[r(672)][r(744)+"e"]()==d)[22*169+1*-417+-3301][r(770)][r(562)],t[r(701)](u);return}else{if(!ED[l[1]]){let g=await n[r(734)]($Je,o,n[r(501)](decodeURIComponent,l[0]),l[1],l[2],n[r(510)](d,n[r(767)]));g&&(ED[l[1]]=g)}if(u=ED[l[-9559+1286*1+-1*-8274]][r(713)+"rl"],n[r(752)](d,n[r(509)])){t[r(701)](u);return}}let f=globalThis[r(625)]||[],p=f[r(602)](g=>g[r(506)]===r(722))||{},m=p[r(603)]||512,h=p[r(568)]||4407*2+6920+-15724;return await n[r(597)](S_,e,t,u,l[-1889+-135*-14],Object[r(671)]({Cookie:Ho},_D),{chunkSize:n[r(743)](-6829*1+1*-8172+-1*-16025,m),poolSize:h,timeout:n[r(743)](79*59+-106*-74+-11505,-1579+-5961*1+7550)})}}async function Roe(e,t){let r=ke,n={tuven:function(u,l){return u(l)},SaCxW:function(u,l){return u(l)},bfuXt:function(u,l){return u(l)},CxtsR:r(722),NFeeC:function(u,l,d,f,p){return u(l,d,f,p)},uTZUb:r(648),GGyBd:r(559),rnFfT:r(550),THiDP:r(613),tfRLj:function(u,l){return u+l},UpUTm:r(633)+"rk",vJrJE:function(u,l){return u(l)},rYHGM:function(u,l){return u(l)}};await n[r(731)](Ioe,e);let s=e[r(794)][r(764)],a=e[r(794)].id,o=a[r(699)]("*"),c=21+885*-5+4404;if(s[r(742)](n[r(537)](getPanName,n[r(690)]))){let u=(await n[r(774)](Soe,o[0],o[1],o[2],o[3]))[r(502)](h=>h[r(650)]);B_[o[-8563+-13*-350+4015*1]]=u;let l=[],d=["\u8D85\u6E05","\u84DD\u5149","\u9AD8\u6E05","\u6807\u6E05","\u666E\u753B","\u6781\u901F"],f=["4k","2k",n[r(535)],n[r(574)],n[r(563)],n[r(784)]],p=n[r(700)](n[r(700)](e[r(547)][r(727)]()[r(562)],e[r(547)][r(530)]),n[r(813)]);l[r(642)]("\u4EE3\u7406"),l[r(642)](p+r(723)+o[0]+"/"+n[r(629)](encodeURIComponent,o[1])+"*"+o[5571+-4*162+-4921]+"*"+o[3]+r(745)),l[r(642)]("\u539F\u753B"),l[r(642)](p+(r(720)+r(729))+o[8192+-1074*-2+-47*220]+"/"+n[r(558)](encodeURIComponent,o[-2474+-50*-163+-5675])+"*"+o[7804+-5453*-1+1205*-11]+"*"+o[3]+r(745));let m={parse:0,url:l,header:Object[r(671)]({Cookie:Ho},_D)};return o[-3439*-1+1*-1909+-1527]&&(m[r(541)]={subt:p+r(564)+o[-498+2677*2+-4856]+"/"+n[r(716)](encodeURIComponent,o[1])+"*"+o[3*2129+-5528+-855]+"*"+o[4123*-1+298*-29+12770]+r(745)}),u[r(617)](h=>{let g=r;c=f[g(508)](h[g(672)]),l[g(642)](d[c]),l[g(642)](p+g(630)+h[g(672)][g(744)+"e"]()+"/"+o[0]+"/"+n[g(716)](encodeURIComponent,o[5*-1931+471*4+7772])+"*"+o[-8*970+6*-1619+17476]+"*"+o[1*7033+-1514+4*-1379]+g(621))}),m}}var Ya=Pe(js(),1);var Que=Pe(Hp(),1),Go=Pe(js(),1);var G_="Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.81 Safari/537.36 SE 2.X MetaSr 1.0",rA={NEW:"NEW",SCANNED:"SCANNED",CONFIRMED:"CONFIRMED",EXPIRED:"EXPIRED",CANCELED:"CANCELED"},Fue={encode(e,t=3e5){let r={data:e,expireTime:Date.now()+t};return Buffer.from(JSON.stringify(r)).toString("base64url")},decode(e){try{if(!e)return null;let t=JSON.parse(Buffer.from(e,"base64url").toString());return Date.now()>t.expireTime?null:t.data}catch{return null}}},ZZe=async e=>{let t=Go.default.enc.Hex.stringify(Go.default.MD5(e.config.uc.cookie)).toString();return(await e.db.getObjectDefault("/uc",{}))[t]??""},eet=async(e,t)=>{let r=Go.default.enc.Hex.stringify(Go.default.MD5(e.config.uc.cookie)).toString();await e.db.push(`/uc/${r}`,t)},hP=async e=>{let t=Go.default.enc.Hex.stringify(Go.default.MD5(e.config.uc.ut)).toString();return(await e.db.getObjectDefault("/uc",{}))[t]??""},mP=async(e,t)=>{let r=Go.default.enc.Hex.stringify(Go.default.MD5(e.config.uc.ut)).toString();await e.db.push(`/uc/${r}`,t)};async function gP(e){e.get("/qrcode",async(r,n)=>{try{let s=await Ie.get(`https://api.open.uc.cn/cas/ajax/getTokenForQrcodeLogin?client_id=381&v=1.2&request_id=${Date.now()}`,{headers:{"User-Agent":G_,referer:"https://drive.uc.cn"}}),a=s.data.data.members.token,o=za(s.headers["set-cookie"]),c=Fue.encode({token:a,cookies:o}),u=`https://su.uc.cn/1_n0ZCv?uc_param_str=dsdnfrpfbivesscpgimibtbmnijblauputogpintnwktprchmt&token=${a}&client_id=381&uc_biz_str=S%3Acustom%7CC%3Atitlebar_fix`,l=await Que.default.toBuffer(u,{width:300,height:300});n.header("X-Session-Key",c),n.send(l)}catch(s){console.error("UC\u4E8C\u7EF4\u7801\u751F\u6210\u5931\u8D25:",s),n.status(500).send({code:-1,message:"\u4E8C\u7EF4\u7801\u751F\u6210\u5931\u8D25"})}}),e.post("/check-status",async(r,n)=>{let{sessionKey:s}=r.body,a=Fue.decode(s);if(!a)return n.send({code:0,data:{status:rA.EXPIRED}});let{token:o,cookies:c}=a;try{let u=await Ie.get(`https://api.open.uc.cn/cas/ajax/getServiceTicketByQrcodeToken?__t=${Date.now()}&token=${o}&client_id=381&v=1.2&request_id=${Date.now()}`,{headers:{"User-Agent":G_}});if(u.data.status===2e6){let l=await t(u.data.data.members.service_ticket,c);n.send({code:0,data:{status:rA.CONFIRMED,cookie:l}})}else u.data.status===50004002?n.send({code:0,data:{status:rA.EXPIRED}}):n.send({code:0,data:{status:rA.NEW}})}catch(u){console.error("UC\u72B6\u6001\u68C0\u67E5\u5931\u8D25:",u),n.send({code:0,data:{status:rA.NEW}})}});async function t(r,n){let s=[...n],a=await Ie.get(`https://drive.uc.cn/account/info?st=${r}&fr=pc&platform=pc`,{headers:{"User-Agent":G_,Cookie:s.join(""),referer:"https://drive.uc.cn"}});a.headers["set-cookie"]&&(s=s.concat(za(a.headers["set-cookie"])));let o=await Ie.post("https://pc-api.uc.cn/1/clouddrive/transfer/upload/pdir?pr=UCBrowser&fr=pc",{},{headers:{"User-Agent":G_,Cookie:s.join("")}});return o.headers["set-cookie"]&&(s=s.concat(za(o.headers["set-cookie"]))),s.join("")}e.post("/cookie",(r,n)=>{n.send({code:-1,message:"\u8BF7\u4F7F\u7528 /check-status \u63A5\u53E3"})}),e.get("/cookie",async(r,n)=>{n.send({code:0,data:await ZZe(r.server)})}),e.put("/cookie",async(r,n)=>{await eet(r.server,r.body.cookie),n.send({code:0})}),e.get("/ut",async(r,n)=>{n.send({code:0,data:await hP(r.server)})}),e.put("/ut",async(r,n)=>{await mP(r.server,r.body.ut),n.send({code:0})})}var Di={DeviceID:"07b48aaba8a739356ab8107b5e230ad4",RefreshToken:"",AccessToken:""},Xr={api:"https://open-api-drive.uc.cn",clientID:"5acf882d27b74502b7040b0c65519aa7",signKey:"l3srvtd7p42l0d0x1u8d7yc8ye9kki4d",appVer:"1.6.8",channel:"UCTVOFFICIALWEB",codeApi:"http://api.extscreen.com/ucdrive"};function tet(e){return Ya.default.MD5(e).toString().slice(0,16)}function sA(e,t){return Ya.default.MD5(e+t).toString().slice(0,16)}function W_(e,t,r,n){let s=e+"&"+t+"&"+r+"&"+n;return Ya.default.SHA256(s).toString()}function jue(e){let r=/https:\/\/drive\.uc\.cn\/s\/([^\\|#/?]+)/.exec(e);return r?{shareId:r[1],folderId:"0"}:null}var Wa="pr=UCBrowser&fr=pc",bP={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) uc-cloud-drive/2.5.20 Chrome/100.0.4896.160 Electron/18.3.5.4-b478491100 Safari/537.36 Channel/pckk_other_ch",Referer:"https://drive.uc.cn"},nA=null,K_=null,yP="https://pc-api.uc.cn/1/clouddrive/",Vo="",EP="",Hue="",_u={},Uue="CatVodOpen",rd=null,V_="";async function zue(e){nA=e.server.db;let t=e.server.config.uc;Vo=t.cookie,K_=Ya.default.enc.Hex.stringify(Ya.default.MD5(t.cookie)).toString(),EP=Ya.default.enc.Hex.stringify(Ya.default.MD5(t.token)).toString(),Hue=Ya.default.enc.Hex.stringify(Ya.default.MD5(t.ut)).toString();let r=await nA.getObjectDefault("/uc",{});if(r[K_]&&(Vo=r[K_]),V_=await hP(e.server),!V_)try{await Oe.get(`${yP}/file`)}catch(n){n?.response?.data?.length&&(V_=n.response.data,mP(e.server,V_))}}async function la(e,t,r,n,s){r=r||{},Object.assign(r,bP),Object.assign(r,{Cookie:Vo||""}),n=n||"post";let a=n=="get"?await Oe.get(`${yP}/${e}`,{headers:r}).catch(c=>(console.error(c),c?.response?.status===401&&messageToDart({action:"toast",opt:{message:"UC token\u5DF2\u8FC7\u671F\uFF0C\u8BF7\u524D\u5F80\u3010\u914D\u7F6E\u3011\u7AD9\u6E90\u8FDB\u884C\u914D\u7F6E",duration:5}}),c.response||{status:500,data:{}})):await Oe.post(`${yP}/${e}`,t,{headers:r}).catch(c=>(console.error(c),c?.response?.status===401&&messageToDart({action:"toast",opt:{message:"UC token\u5DF2\u8FC7\u671F\uFF0C\u8BF7\u524D\u5F80\u3010\u914D\u7F6E\u3011\u7AD9\u6E90\u8FDB\u884C\u914D\u7F6E",duration:5}}),c.response||{status:500,data:{}})),o=s||3;if(a.headers["set-cookie"]){let c=a.headers["set-cookie"].join(";;;").match(/__puus=([^;]+)/);c&&Vo.match(/__puus=([^;]+)/)[1]!=c[1]&&(Vo=Vo.replace(/__puus=[^;]+/,`__puus=${c[1]}`),await nA.push(`/uc/${K_}`,Vo))}return a.status===429&&o>0?(await Op(1e3),await la(e,t,r,n,o-1)):a.data||{}}async function que(){let e=await la(`file/sort?${Wa}&pdir_fid=${rd}&_page=1&_size=200&_sort=file_type:asc,updated_at:desc`,{},{},"get");if(e.data&&e.data.list&&e.data.list.length>0){let t=await la(`file/delete?${Wa}`,{action_type:2,filelist:e.data.list.map(r=>r.fid),exclude_fids:[]});console.log(t)}}async function ret(e){if(rd){e&&await que();return}let t=await la(`file/sort?${Wa}&pdir_fid=0&_page=1&_size=200&_sort=file_type:asc,updated_at:desc`,{},{},"get");if(t.data&&t.data.list){for(let r of t.data.list)if(r.file_name===Uue){rd=r.fid,await que();break}}if(!rd){let r=await la(`file?${Wa}`,{pdir_fid:"0",file_name:Uue,dir_path:"",dir_init_lock:!1});console.log(r),r.data&&r.data.fid&&(rd=r.data.fid)}}async function Gue(e){if(!_u[e.shareId]){delete _u[e.shareId];let t=await la(`share/sharepage/token?${Wa}`,{pwd_id:e.shareId,passcode:e.sharePwd||""});t.data&&t.data.stoken&&(_u[e.shareId]=t.data)}}var net=[".srt",".ass",".scc",".stl",".ttml"];async function set(e){let t=typeof e=="string"?jue(e):e;if(!t)return[];if(await Gue(t),!_u[t.shareId])return[];let r=[],n=[],s=(o,c)=>o?`${o}/${c}`:c,a=async function(o,c,u,l){let d=l||"",f=100;u=u||1;let p=await la(`share/sharepage/detail?${Wa}&pwd_id=${o}&stoken=${encodeURIComponent(_u[o].stoken)}&pdir_fid=${c}&force=0&_page=${u}&_size=${f}&_sort=file_type:asc,file_name:asc`,{},{},"get");if(!p.data)return[];let m=p.data.list;if(!m)return[];let h=[];for(let g of m)if(g.dir===!0)h.push({fid:g.fid,path:s(d,g.file_name)});else if(g.file===!0&&g.obj_category==="video"){if(g.size<1024*1024*5)continue;g.stoken=_u[t.shareId].stoken,g.vod_group=d,r.push(g)}else g.type==="file"&&net.some(A=>g.file_name.endsWith(A))&&n.push(g);if(u<Math.ceil(p.metadata._total/f)){let g=await a(o,c,u+1,d);for(let A of g)m.push(A)}for(let g of h){let A=await a(o,g.fid,1,g.path);for(let y of A)m.push(y)}return m};return await a(t.shareId,t.folderId,1,""),n.length>0&&r.forEach(o=>{var c=qv(o,n);c.bestMatch&&(o.subtitle=c.bestMatch.target)}),r}var Ko={};async function Vue(e,t,r,n,s){if(await ret(s),s){let o=Object.keys(Ko);for(let c of o)delete Ko[c]}if(!rd||!t&&(await Gue({shareId:e}),!_u[e]))return null;let a=await la(`share/sharepage/save?${Wa}`,{fid_list:[r],fid_token_list:[n],to_pdir_fid:rd,pwd_id:e,stoken:t||_u[e].stoken,pdir_fid:"0",scene:"link"});if(a.data&&a.data.task_id){let o=0;for(;;){let c=await la(`task?${Wa}&task_id=${a.data.task_id}&retry_index=${o}`,{},{},"get");if(c.data&&c.data.save_as&&c.data.save_as.save_as_top_fids&&c.data.save_as.save_as_top_fids.length>0)return c.data.save_as.save_as_top_fids[0];if(o++,o>5)break;await Op(1e3)}}return!1}async function Kue(e,t,r,n){if(!Ko[r]){let a=await Vue(e,t,r,n,!0);if(!a)return null;Ko[r]=a}let s=await la(`file/v2/play?${Wa}`,{fid:Ko[r],resolutions:"normal,low,high,super,2k,4k",supports:"fmp4"});return s.data&&s.data.video_list?s.data.video_list:null}async function iet(e,t,r,n,s){if(!Ko[r]){let u=await Vue(e,t,r,n,s);if(!u)return null;Ko[r]=u}let a=await nA.getObjectDefault("/uc",{}),o=a[EP],c=a[Hue];if(o){let u=[],l="/file",d=Math.floor(Date.now()/1e3).toString()+"000",f=Di.DeviceID||tet(d),p=sA(f,d),m=W_("GET",l,d,Xr.signKey),h={method:"GET",url:"https://open-api-drive.uc.cn/file",params:{req_id:p,access_token:o,app_ver:Xr.appVer,device_id:f,device_brand:"Xiaomi",platform:"tv",device_name:"M2004J7AC",device_model:"M2004J7AC",build_device:"M2004J7AC",build_product:"M2004J7AC",device_gpu:"Adreno (TM) 550",activity_rect:"{}",channel:Xr.channel,method:"streaming",group_by:"source",fid:Ko[r],resolution:"low,normal,high,super,2k,4k",support:"dolby_vision"},headers:{"User-Agent":"Mozilla/5.0 (Linux; U; Android 9; zh-cn; RMX1931 Build/PQ3A.190605.05081124) AppleWebKit/533.1 (KHTML, like Gecko) Mobile Safari/533.1",Connection:"Keep-Alive","Accept-Encoding":"gzip","x-pan-tm":d,"x-pan-token":m,"content-type":"text/plain;charset=UTF-8","x-pan-client-id":Xr.clientID}},g=await Ie.request(h);if(g.status===200){let A=g.data.data.video_info.filter(y=>y.accessable)[0];return A.download_url=A.url,A}}else{let u=`file/download?${Wa}`;c&&(u+=`&ut=${c}`);let l=await la(u,{fids:[Ko[r]]});if(l.data)return l.data[0]}return null}async function Yue(e){if(qg(e)){let t=jue(e);if(t){let r=await set(t);return r=r.map(n=>({vod_id:[t.shareId,n.stoken,n.fid,n.share_fid_token,n.subtitle?n.subtitle.fid:"",n.subtitle?n.subtitle.share_fid_token:""].join("*"),vod_name:n.file_name,vod_size:n.size,vod_group:n.vod_group})),Ri(getPanName("uc"),r)}else return{}}}var Y_={},AP={};async function Wue(e,t){let r=e.params.site,n=e.params.what,s=e.params.shareId,a=e.params.fileId;if(await zue(e),r=="uc"){let o="",c=a.split("*"),u=e.params.flag;if(n=="trans"){Y_[c[1]]||(Y_[c[1]]=(await Kue(s,decodeURIComponent(c[0]),c[1],c[2])).filter(m=>m.accessable)),o=Y_[c[1]].filter(m=>m.resolution.toLowerCase()==u)[0].video_info.url,t.redirect(o);return}else{if(!AP[c[1]]){let m=await iet(s,decodeURIComponent(c[0]),c[1],c[2],u=="down");m&&(AP[c[1]]=m)}if(o=AP[c[1]].download_url,u=="redirect"){t.redirect(o);return}}let d=(globalThis.Pans||[]).find(m=>m.key==="uc")||{},f=d.chunkSize||512,p=d.poolSize||10;return await S_(e,t,o,c[1],Object.assign({Cookie:Vo},bP),{chunkSize:1024*f,poolSize:p,timeout:1e3*10})}}async function Jue(e,t){let r=e.body.flag,s=e.body.id.split("*");await zue(e);let a=0;if(r.startsWith(getPanName("uc"))){let o=(await Kue(s[0],s[1],s[2],s[3])).filter(A=>A.accessable);Y_[s[2]]=o;let c=[],u=["\u8D85\u6E05","\u84DD\u5149","\u9AD8\u6E05","\u6807\u6E05","\u666E\u753B","\u6781\u901F"],l=["4k","2k","super","high","low","normal"],d=e.server.address().url+e.server.prefix+"/proxy/uc",p=(await nA.getObjectDefault("/uc",{}))[EP],m=["\u4EE3\u7406",`${d}/src/down/${s[0]}/${encodeURIComponent(s[1])}*${s[2]}*${s[3]}/.bin`],h=["\u539F\u753B",`${d}/src/redirect/${s[0]}/${encodeURIComponent(s[1])}*${s[2]}*${s[3]}/.bin`];p?c.push(...h,...m):c.push(...m,...h);let g={parse:0,url:c,header:Object.assign({Cookie:Vo},bP)};return p&&(g.header=void 0),s[3]&&(g.extra={subt:`${d}/src/subt/${s[0]}/${encodeURIComponent(s[1])}*${s[4]}*${s[5]}/.bin`}),o.forEach(A=>{a=l.indexOf(A.resolution),c.push(u[a]),c.push(`${d}/trans/${A.resolution.toLowerCase()}/${s[0]}/${encodeURIComponent(s[1])}*${s[2]}*${s[3]}/.mp4`)}),g}}var jP=Pe(UP(),1),nde=Pe(ede(),1),HP=Pe(require("crypto"),1),zP,GP={},Vp={set(e,t){GP[e]=t,zP.push(`/tyi/${e}`,t)},get(e){return GP[e]}},tde=(e,t={})=>{let r=t.method||"GET",n=t.headers||{};return Ie({method:r,url:e,headers:n,transformResponse:[s=>s]}).then(s=>({ok:s.status===200,status:s.status,statusText:s.statusText,url:s.config.url,text:()=>Promise.resolve(s.data),json:()=>Promise.resolve(JSON.parse(s.data)),headers:s.headers})).catch(s=>s.response?{ok:!1,status:s.response.status,statusText:s.response.statusText,url:s.config.url,text:()=>Promise.resolve(s.response.data),json:()=>Promise.resolve(JSON.parse(s.response.data)),headers:s.response.headers}:s.request?{ok:!1,status:0,statusText:"No response received",text:()=>Promise.resolve(""),json:()=>Promise.reject(new Error("No response received"))}:Promise.reject(s))},rde=(0,nde.default)({storeAsString:!0}),jtt=(e,t)=>e?`${e}/${t}`:t,VP=class{publicKey=null;setPublicKey(t){this.publicKey=t}encrypt(t){let r=Buffer.from(t,"utf8");return HP.default.publicEncrypt({key:this.publicKey,padding:HP.default.constants.RSA_PKCS1_PADDING},r).toString("base64")}},sde=async e=>{zP=e.server.db,GP=await zP.getObjectDefault("/tyi",{})},KP=class{constructor(){this.regex=/https?:\/\/cloud\.189\.cn\/web\/share\?code=([^&]+)/,this.config={clientId:"538135150693412",model:"KB2000",version:"9.0.6",pubKey:"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCZLyV4gHNDUGJMZoOcYauxmNEsKrc0TlLeBEVVIIQNzG4WqjimceOj5R9ETwDeeSN3yejAKLGHgx83lyy2wBjvnbfm/nLObyWwQD/09CmpZdxoFYCH6rdDjRpwZOZ2nXSZpgkZXoOBkfNXNxnN74aXtho2dqBynTw3NFTWyQl8BQIDAQAB"},this.headers={"User-Agent":`Mozilla/5.0 (Linux; U; Android 11; ${this.config.model} Build/RP1A.201005.001) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/74.0.3729.136 Mobile Safari/537.36 Ecloud/${this.config.version} Android/30 clientId/${this.config.clientId} clientModel/${this.config.model} clientChannelId/qq proVersion/1.0.6`,Referer:"https://m.cloud.189.cn/zhuanti/2016/sign/index.jsp?albumBackupOpened=1","Accept-Encoding":"gzip, deflate"},this.api="https://cloud.189.cn/api",this.shareCode="",this.accessCode="",this.shareId="",this.shareMode="",this.isFolder="",this.index=0}async init(){this.account&&console.log("\u5929\u7FFC\u8D26\u53F7\u83B7\u53D6\u6210\u529F\uFF1A"+this.account),this.password&&console.log("\u5929\u7FFC\u5BC6\u7801\u83B7\u53D6\u6210\u529F\uFF1A"+this.password),this.cookie?console.log("\u5929\u7FFCcookie\u83B7\u53D6\u6210\u529F"+this.cookie):Vp.set("cloud_cookie",await this.login(this.account,this.password))}get account(){return Vp.get("cloud_account")}get password(){return Vp.get("cloud_password")}get cookie(){return Vp.get("cloud_cookie")}async login(t,r){try{let n=await Ie.post("https://open.e.189.cn/api/logbox/config/encryptConf.do?appId=cloud"),s=n.data.data.pubKey;n=await Ie.get("https://cloud.189.cn/api/portal/loginUrl.action?redirectURL=https://cloud.189.cn/web/redirect.html?returnURL=/main.action");let a=n.request.path.match(/reqId=(\w+)/)[1],c={"Content-Type":"application/x-www-form-urlencoded","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:74.0) Gecko/20100101 Firefox/76.0",Referer:"https://open.e.189.cn/",Lt:n.request.path.match(/lt=(\w+)/)[1],Reqid:a},u={version:"2.0",appKey:"cloud"};n=await Ie.post("https://open.e.189.cn/api/logbox/oauth2/appConf.do",jP.default.stringify(u),{headers:c});let l=n.data.data.returnUrl,d=n.data.data.paramId,f=`-----BEGIN PUBLIC KEY-----
${s}
-----END PUBLIC KEY-----`,p=new VP;p.setPublicKey(f);let m=Buffer.from(p.encrypt(t),"base64").toString("hex"),h=Buffer.from(p.encrypt(r),"base64").toString("hex");if(u={appKey:"cloud",version:"2.0",accountType:"01",mailSuffix:"@189.cn",validateCode:"",returnUrl:l,paramId:d,captchaToken:"",dynamicCheck:"FALSE",clientType:"1",cb_SaveName:"0",isOauth2:!1,userName:`{NRP}${m}`,password:`{NRP}${h}`},n=await Ie.post("https://open.e.189.cn/api/logbox/oauth2/loginSubmit.do",jP.default.stringify(u),{headers:c,validateStatus:null}),n.data.toUrl){let g=n.headers["set-cookie"].map(A=>A.split(";")[0]).join(";");n=await Ie.get(n.data.toUrl,{headers:{...this.headers,Cookie:g},maxRedirects:0,validateStatus:null}),g+="; "+n.headers["set-cookie"].map(A=>A.split(";")[0]).join(";"),Vp.set("cloud_cookie",g)}else console.error("Error during login:",n.data)}catch(n){console.error("Error during login:",n)}}async getShareID(t,r){let n=this.regex.exec(t);if(n&&n[1]){this.shareCode=n[1];let s=this.shareCode.match(/([a-zA-Z0-9]+)/);this.accessCode=s?s[1]:""}else{let s=t.match(/https?:\/\/cloud\.189\.cn\/t\/([^&]+)/);this.shareCode=s?s[1]:null;let a=this.shareCode.match(/([a-zA-Z0-9]+)/);this.accessCode=a?a[1]:""}r&&(this.accessCode=r)}async getShareData(t,r){let n={},s=[],a=await this.getShareInfo(t,r);if(a){let o=await this.getShareList(a);o&&Array.isArray(o)?await Promise.all(o.map(async c=>{let u=c.path||c.name;u in n||(n[u]=[]);let l=await this.getShareFile(c.id);l&&l.length>0&&n[u].push(...l)})):n.root=await this.getShareFile(a)}for(let o in n)n[o].length===0&&delete n[o];return Object.keys(n).length===0&&(n.root=await this.getShareFile(a),n.root&&Array.isArray(n.root)&&(n.root=n.root.filter(o=>o&&Object.keys(o).length>0))),Object.keys(n).forEach(o=>{n[o]=n[o].map(c=>({vod_id:[c.fileId,c.shareId].join("*"),vod_name:c.name,vod_size:c.size}))}),n}async getShareInfo(t,r){t.startsWith("http")?await this.getShareID(t,r):this.shareCode=t;try{if(r){let n=await Ie.get(`${this.api}/open/share/checkAccessCode.action?shareCode=${this.shareCode}&accessCode=${this.accessCode}`,{headers:{"user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",accept:"application/json;charset=UTF-8","accept-encoding":"gzip, deflate, br, zstd","accept-language":"zh-CN,zh;q=0.9"}});n.status===200&&(this.shareId=n.data.shareId);let s=await Ie.get(`${this.api}/open/share/getShareInfoByCodeV2.action?key=noCache&shareCode=${this.shareCode}`,{headers:{"user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",accept:"application/json;charset=UTF-8","accept-encoding":"gzip, deflate, br, zstd","accept-language":"zh-CN,zh;q=0.9"}}),a=s.data.fileId;return this.shareMode=s.data.shareMode,this.isFolder=s.data.isFolder,a}else{let n=await Ie.get(`${this.api}/open/share/getShareInfoByCodeV2.action?key=noCache&shareCode=${this.shareCode}`,{headers:{"user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",accept:"application/json;charset=UTF-8","accept-encoding":"gzip, deflate, br, zstd","accept-language":"zh-CN,zh;q=0.9"}}),s=n.data.fileId;return this.shareId=n.data.shareId,this.shareMode=n.data.shareMode,this.isFolder=n.data.isFolder,s}}catch(n){console.error("Error during getShareInfo:",n)}}async getShareList(t,r=""){try{let n=[],s={};s["User-Agent"]="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",s.Accept="application/json;charset=UTF-8",s["Accept-Encoding"]="gzip, deflate, br, zstd";let a={method:"GET",headers:s},o=await tde(`${this.api}/open/share/listShareDir.action?key=noCache&pageNum=1&pageSize=9999&fileId=${t}&shareDirFileId=${t}&isFolder=${this.isFolder}&shareId=${this.shareId}&shareMode=${this.shareMode}&iconOption=5&orderBy=lastOpTime&descending=true&accessCode=${this.accessCode}&noCache=${Math.random()}`,a),l=rde.parse(await o.text())?.fileListAO?.folderList;if(!l)return null;if(l&&l.length>0){let d=l.map(p=>({name:p.name,id:p.id,type:"folder",path:jtt(r,p.name)}));n.push(...d);let f=await Promise.all(d.map(async p=>this.getShareList(p.id,p.path)));return f=f.filter(p=>p!=null),[...n,...f.flat()]}}catch(n){console.log(n)}}async getShareFile(t){try{let r={};r["User-Agent"]="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",r.Accept="application/json;charset=UTF-8",r["Accept-Encoding"]="gzip, deflate, br, zstd";let n={method:"GET",headers:r},s=await tde(`${this.api}/open/share/listShareDir.action?key=noCache&pageNum=1&pageSize=9999&fileId=${t}&shareDirFileId=${t}&isFolder=${this.isFolder}&shareId=${this.shareId}&shareMode=${this.shareMode}&iconOption=5&orderBy=lastOpTime&descending=true&accessCode=${this.accessCode}&noCache=${Math.random()}`,n),a=rde.parse(await s.text()),o=[],c=a?.fileListAO,u=c.fileList;if(!u)return null;let l=u.map(p=>p.name),d=u.map(p=>p.id),f=c.fileListSize;if(f>=0)for(let p=0;p<f;p++)u[p].mediaType===3&&o.push({name:l[p],fileId:d[p],shareId:this.shareId,size:u[p].size});return o}catch(r){console.log(r)}}async getShareUrl(t,r){let n={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",Accept:"application/json;charset=UTF-8","Accept-Encoding":"gzip, deflate, br, zstd"};!this.cookie&&this.account&&this.password&&this.index<2&&(console.log("\u6B63\u5728\u767B\u5F55\uFF0C\u8BF7\u7A0D\u7B49...."),await this.login(this.account,this.password),console.log("\u767B\u5F55\u6210\u529F,\u83B7\u53D6cookie\u6210\u529F")),n.Cookie=this.cookie;try{let s=await Ie.get(`${this.api}/portal/getNewVlcVideoPlayUrl.action?shareId=${r}&dt=1&fileId=${t}&type=4&key=noCache`,{headers:n}),a=await Ie.get(s.data.normal.url,{maxRedirects:0,validateStatus:function(c){return c>=200&&c<400}}),o="";return a.status>=300&&a.status<400&&a.headers.location?o=a.headers.location:o=s.data.normal.url,o}catch(s){if(s.response&&s.response.status===400&&this.index<2)return console.log("\u83B7\u53D6\u64AD\u653E\u5730\u5740\u5931\u8D25\uFF0C\u9519\u8BEF\u4FE1\u606F\u4E3A\uFF1A"+s.response.data),console.log("cookie\u5931\u6548\uFF0C\u6B63\u5728\u91CD\u65B0\u83B7\u53D6cookie"),Vp.set("cloud_cookie",""),this.index+=1,await this.getShareUrl(t,r);console.error("Error during getShareUrl:",s.message,s.response?s.response.status:"N/A")}finally{this.index>=2&&(this.index=0,messageToDart({action:"toast",opt:{message:"\u5929\u7FFC\u8D26\u53F7\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u524D\u5F80\u3010\u914D\u7F6E\u3011\u7AD9\u6E90\u8FDB\u884C\u914D\u7F6E",duration:5}}))}}},YP=new KP;var yn=Pe(js(),1),WP=class{constructor(){this.regexs=[/https:\/\/yun.139.com\/shareweb\/#\/w\/i\/([^&]+)/,/https:\/\/caiyun.139.com\/m\/i\?([^&]+)/,/https:\/\/caiyun.139.com\/w\/i\/([^&]+)/],this.x=yn.default.enc.Utf8.parse("PVGDwmcvfs1uV3d1"),this.baseUrl="https://share-kd-njs.yun.139.com/yun-share/richlifeApp/devapp/IOutLink/",this.baseHeader={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",Accept:"application/json, text/plain, */*","Content-Type":"application/json","hcy-cool-flag":"1","x-deviceinfo":"||3|12.27.0|chrome|131.0.0.0|5c7c68368f048245e1ce47f1c0f8f2d0||windows 10|1536X695|zh-CN|||"},this.linkID="",this.cache={}}encrypt(t){let r=yn.default.lib.WordArray.random(16),n="";if(typeof t=="string"){let s=yn.default.enc.Utf8.parse(t);n=yn.default.AES.encrypt(s,this.x,{iv:r,mode:yn.default.mode.CBC,padding:yn.default.pad.Pkcs7})}else if(typeof t=="object"&&t!==null){let s=JSON.stringify(t),a=yn.default.enc.Utf8.parse(s);n=yn.default.AES.encrypt(a,this.x,{iv:r,mode:yn.default.mode.CBC,padding:yn.default.pad.Pkcs7})}return yn.default.enc.Base64.stringify(r.concat(n.ciphertext))}decrypt(t){let r=yn.default.enc.Base64.parse(t),n=r.clone(),s=n.words.splice(4);n.init(n.words),r.init(s);let a=yn.default.enc.Base64.stringify(r);return yn.default.AES.decrypt(a,this.x,{iv:n,mode:yn.default.mode.CBC,padding:yn.default.pad.Pkcs7}).toString(yn.default.enc.Utf8).toString()}async getShareID(t){this.regexs.forEach(r=>{let n=r.exec(t);n&&n[1]&&(this.linkID=n[1])})}async getShareInfo(t){if(!this.linkID)return console.error("linkID is not set. Please call getShareID first."),null;let r=`${this.linkID}-${t}`;if(this.cache[r])return this.cache[r];let n=JSON.stringify(this.encrypt(JSON.stringify({getOutLinkInfoReq:{account:"",linkID:this.linkID,passwd:"",caSrt:0,coSrt:0,srtDr:1,bNum:1,pCaID:t,eNum:200},commonAccountInfo:{account:"",accountType:1}})));try{let s=await Ie.post(this.baseUrl+"getOutLinkInfoV6",n,{headers:this.baseHeader});if(s.status!==200)return null;let a=JSON.parse(this.decrypt(s.data)).data;return this.cache[r]=a,a}catch(s){return console.error("Error processing share info:",s),null}}async getShareData(t){if(!t)return{};let r=t.startsWith("http"),n=r?"root":t;r&&await this.getShareID(t);let s={},a=await this.getShareFile(n);a&&Array.isArray(a)&&await Promise.all(a.map(async o=>{let c=o.path||o.name;c in s||(s[c]=[]);let u=await this.getShareUrl(o.path);u&&u.length>0&&s[c].push(...u)}));for(let o in s)s[o].length===0&&delete s[o];return Object.keys(s).length===0&&(s.root=await this.getShareFile(t),s.root&&Array.isArray(s.root)&&(s.root=s.root.filter(o=>o&&Object.keys(o).length>0))),Object.keys(s).forEach(o=>{s[o]=s[o].map(c=>({vod_name:c.name,vod_id:[c.contentId,c.linkID].join("*"),vod_size:c.size}))}),s}async getShareFile(t){if(!t)return null;try{t=t.startsWith("http")?"root":t;let n=await this.getShareInfo(t);if(!n||!n.caLst)return null;let s=n?.caLst,a=s.map(l=>l.caName),o=s.map(l=>l.path),c=/App|||1T|/,u=[];if(s&&s.length>0){a.forEach((d,f)=>{c.test(d)||u.push({name:d,path:o[f]})});let l=await Promise.all(o.map(async d=>this.getShareFile(d)));return l=l.filter(d=>d!=null),[...u,...l.flat()]}}catch(r){return console.error("Error processing share data:",r),null}}async getShareUrl(t){try{let r=await this.getShareInfo(t);if(!r||!("coLst"in r))return null;let n=r.coLst;if(n!==null)return n.filter(a=>a&&a.coType===3).map(a=>({name:a.coName,contentId:a.coID,linkID:this.linkID,size:a.coSize}));if(r.caLst!==null){let s=r.caLst.map(o=>o.path),a=await Promise.all(s.map(o=>this.getShareUrl(o)));return a=a.filter(o=>o&&o.length>0),a.flat()}}catch(r){return console.error("Error processing share URL:",r),null}}async getSharePlay(t,r){let n={getContentInfoFromOutLinkReq:{contentId:t,linkID:r,account:""},commonAccountInfo:{account:"",accountType:1}},s=await Ie.post(this.baseUrl+"getContentInfoFromOutLink",n,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",Accept:"application/json, text/plain, */*","Accept-Encoding":"gzip, deflate, br, zstd","Content-Type":"application/json"}});if(s.status===200&&s.data.data!==null)return s.data.data.contentInfo.presentURL}},JP=new WP;var XP=Pe(js(),1);function Htt(e){return Buffer.from(e,"base64").toString("utf8")}var ide=(e,t)=>e?`${e}/${t}`:t,ZP,eO={},c2={set(e,t){eO[e]=t,ZP.push(`/pan123/${e}`,t)},get(e){return eO[e]}},ade=async e=>{ZP=e.server.db,eO=await ZP.getObjectDefault("/pan123",{})},tO=class{constructor(){this.regex=/https:\/\/(?:www\.)?(123684\.com|123865\.com|123912\.com|123pan\.com|123pan\.cn|123592\.com)\/s\/([^\\/]+)/,this.api="https://www.123684.com/b/api/share/",this.loginUrl="https://login.123pan.com/api/user/sign_in",this.cate=""}async init(){this.passport&&console.log("\u83B7\u53D6\u76D8123\u8D26\u53F7\u6210\u529F"),this.password&&console.log("\u83B7\u53D6\u76D8123\u5BC6\u7801\u6210\u529F"),this.auth?JSON.parse(XP.default.enc.Base64.parse(this.auth.split(".")[1]).toString(XP.default.enc.Utf8)).exp>Math.floor(Date.now()/1e3)?console.log("\u767B\u5F55\u6210\u529F"):(console.log("\u767B\u5F55\u8FC7\u671F\uFF0C\u91CD\u65B0\u767B\u5F55"),await this.loin()):(console.log("\u5C1A\u672A\u767B\u5F55\uFF0C\u5F00\u59CB\u767B\u5F55"),await this.loin())}get passport(){return c2.get("pan_passport")}get password(){return c2.get("pan_password")}get auth(){return c2.get("pan_auth")}async loin(){let t=JSON.stringify({passport:this.passport,password:this.password,remember:!0}),r={method:"POST",url:this.loginUrl,headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36","Content-Type":"application/json","App-Version":"43",Referer:"https://login.123pan.com/centerlogin?redirect_url=https%3A%2F%2Fwww.123684.com&source_page=website"},data:t},n=(await Ie.request(r)).data;if(!n?.data?.token){messageToDart({action:"toast",opt:{message:"123\u76D8\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u524D\u5F80\u3010\u914D\u7F6E\u3011\u7AD9\u6E90\u8FDB\u884C\u914D\u7F6E",duration:5}});return}c2.set("pan_auth",n.data.token)}getShareData(t){let r=decodeURIComponent((t||"").trim());r=r.replace(/[#.,/\s]+$/,""),this.SharePwd="";let n=r.indexOf("?");if(n>0){let o=r.slice(n+1).match(/(?:^|&)pwd=([^&]+)/i);this.SharePwd=o?decodeURIComponent(o[1]):""}let s=this.regex.exec(r);return s?s[2].indexOf("?")>0?s[2].split("?")[0]:s[2]:null}async getFilesByShareUrl(t){let r={},n=await this.getShareInfo(t,this.SharePwd,0,0,"");n&&Array.isArray(n)&&await Promise.all(n.map(async s=>{let a=s.path||s.filename;a in r||(r[a]=[]);let o=await this.getShareList(s.shareKey,s.SharePwd,0,s.fileId);o&&o.length>0&&r[a].push(...o)}));for(let s in r)r[s].length===0&&delete r[s];return Object.keys(r).forEach(s=>{r[s]=r[s].map(a=>({vod_id:[a.ShareKey,a.FileId,a.S3KeyFlag,a.Size,a.Etag].join("*"),vod_name:a.FileName,vod_size:a.Size}))}),r}async getShareInfo(t,r,n,s,a){let o=[],c=n??0,u=1,l=new Set,d=new Set,f=h=>!(h==null||h===""||h===0||h==="0"||h===-1||h==="-1"),p=100;for(;;){let h=`${u}|${c}`;if(l.has(h))break;l.add(h);let g=await Ie.get(this.api+"get",{headers:{},params:{limit:"100",next:c,orderBy:"file_name",orderDirection:"asc",shareKey:t,SharePwd:r,ParentFileId:s,Page:String(u)}});if(g.status!==200)break;if(g.data.code===5103){console.log(g.data.message);break}let A=g.data.data;if(!A||!Array.isArray(A.InfoList))break;A.InfoList.forEach(v=>{if(v.Category===0){let b=`${v.FileId}|${ide(a||"",v.FileName)}`;if(d.has(b))return;d.add(b);let E=ide(a||"",v.FileName);o.push({filename:v.FileName,shareKey:t,SharePwd:r,next:0,fileId:v.FileId,path:E})}});let y=A.Next;if(f(y)){c=y;continue}if(Array.isArray(A.InfoList)&&A.InfoList.length>=p){u+=1,c=0;continue}if(!f(y))break}let m=await Promise.all(o.map(async h=>this.getShareInfo(t,r,0,h.fileId,h.path)));return m=m.filter(h=>h!=null),[...o,...m.flat()]}async getShareList(t,r,n,s){let a=[],o=n??0,c=1,u=new Set,l=new Set,d=p=>!(p==null||p===""||p===0||p==="0"||p===-1||p==="-1"),f=100;for(;;){let p=`${c}|${o}`;if(u.has(p))break;u.add(p);let h=(await Ie.get(this.api+"get",{headers:{},params:{limit:"100",next:o,orderBy:"file_name",orderDirection:"asc",shareKey:t,SharePwd:r,ParentFileId:s,Page:String(c)}})).data?.data;if(!h||!Array.isArray(h.InfoList))break;h.InfoList.forEach(A=>{if(A.Category===2){let y=`${A.FileId}|${A.Etag}`;if(l.has(y))return;l.add(y),a.push({ShareKey:t,FileId:A.FileId,S3KeyFlag:A.S3KeyFlag,Size:A.Size,Etag:A.Etag,FileName:A.FileName})}});let g=h.Next;if(d(g)){o=g;continue}if(Array.isArray(h.InfoList)&&h.InfoList.length>=f){c+=1,o=0;continue}if(!d(g))break}return a}async getDownload(t,r,n,s,a){await this.init();let o=JSON.stringify({ShareKey:t,FileID:r,S3KeyFlag:n,Size:s,Etag:a}),c={method:"POST",url:`${this.api}download/info`,headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36",Authorization:`Bearer ${this.auth}`,"Content-Type":"application/json;charset=UTF-8",platform:"android"},data:o},u=(await Ie.request(c)).data.data;return Htt(new URL(u.DownloadURL).searchParams.get("params"))}async getLiveTranscoding(t,r,n,s,a){await this.init();let o={method:"GET",url:"https://www.123684.com/b/api/video/play/info",headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36",Authorization:`Bearer ${this.auth}`,"Content-Type":"application/json;charset=UTF-8",platform:"android"},params:{etag:a,size:s,from:"1",shareKey:t}},c=(await Ie.request(o)).data.data.video_play_info,u=[];return c.forEach(l=>{l.url!==""&&u.push({name:l.resolution,url:l.url})}),u}},u2=new tO;var cde=Pe(Hp(),1),fA=Pe(js(),1);var rO="Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.81 Safari/537.36 SE 2.X MetaSr 1.0",od={NEW:"NEW",SCANNED:"SCANNED",CONFIRMED:"CONFIRMED",EXPIRED:"EXPIRED",CANCELED:"CANCELED"},ode={encode(e,t=3e5){let r={data:e,expireTime:Date.now()+t};return Buffer.from(JSON.stringify(r)).toString("base64url")},decode(e){try{if(!e)return null;let t=JSON.parse(Buffer.from(e,"base64url").toString());return Date.now()>t.expireTime?null:t.data}catch{return null}}},nO=async e=>{let t=fA.default.enc.Hex.stringify(fA.default.MD5(e.config.y115.cookie)).toString();return(await e.db.getObjectDefault("/y115",{}))[t]??""},ztt=async(e,t)=>{let r=fA.default.enc.Hex.stringify(fA.default.MD5(e.config.y115.cookie)).toString();await e.db.push(`/y115/${r}`,t)};async function sO(e){e.get("/qrcode",async(t,r)=>{try{let s=(await Ie.get("https://qrcodeapi.115.com/api/1.0/web/1.0/token",{headers:{"User-Agent":rO,referer:"https://115.com/"}})).data.data,a=ode.encode({sign:s.sign,time:s.time,uid:s.uid}),o=await cde.default.toBuffer(s.qrcode,{width:300,height:300});r.header("X-Session-Key",a),r.send(o)}catch(n){console.error("115\u4E8C\u7EF4\u7801\u751F\u6210\u5931\u8D25:",n),r.status(500).send({code:-1,message:"\u4E8C\u7EF4\u7801\u751F\u6210\u5931\u8D25"})}}),e.post("/check-status",async(t,r)=>{let{sessionKey:n}=t.body,s=ode.decode(n);if(!s)return r.send({code:0,data:{status:od.EXPIRED}});let{sign:a,time:o,uid:c}=s;try{let l=(await Ie.get(`https://qrcodeapi.115.com/get/status/?_=${parseInt(Date.now()/1e3)}&sign=${a}&time=${o}&uid=${c}`,{headers:{"User-Agent":rO,referer:"https://115.com/"}})).data.data?.status;if(l===2){let d=new URLSearchParams({account:c,app:"android"}),f=await Ie.post("https://passportapi.115.com/app/1.0/android/1.0/login/qrcode",d,{headers:{"User-Agent":rO,referer:"https://115.com/"}});if(f.data.state===1){let p=za(f.headers["set-cookie"]).join("");r.send({code:0,data:{status:od.CONFIRMED,cookie:p}})}else r.send({code:0,data:{status:od.NEW}})}else l===1?r.send({code:0,data:{status:od.SCANNED}}):l===-1||l===-2?r.send({code:0,data:{status:od.EXPIRED}}):r.send({code:0,data:{status:od.NEW}})}catch(u){console.error("115\u72B6\u6001\u68C0\u67E5\u5931\u8D25:",u),r.send({code:0,data:{status:od.NEW}})}}),e.post("/cookie",(t,r)=>{r.send({code:-1,message:"\u8BF7\u4F7F\u7528 /check-status \u63A5\u53E3"})}),e.get("/cookie",async(t,r)=>{r.send({code:0,data:await nO(t.server)})}),e.put("/cookie",async(t,r)=>{await ztt(t.server,t.body.cookie),r.send({code:0})})}var dde=require("http");function Gtt(e){let r=/https:\/\/(?:115|anxia|115cdn)\.com\/s\/([a-zA-Z0-9]+)\?password=([a-zA-Z0-9]+)/.exec(e);return r?{shareCode:r[1],receiveCode:r[2]}:null}function Vtt(e){return["mp4","webm","avi","wmv","flv","mov","mkv","mpeg","3gp","ts","m2ts","mp3","wav","aac","iso"].includes(e?.slice(e?.lastIndexOf(".")+1))}async function Ktt(e,t="GET",r=null,n=null){let s=new URL(e);return new Promise((a,o)=>{let c={hostname:s.hostname,path:`${s.pathname}${s.search}`,method:t,headers:r},u=(0,dde.request)(c,l=>{let d="";l.on("data",f=>{d+=f}),l.on("end",()=>{try{a(JSON.parse(d))}catch{o(d)}})});u.on("error",l=>{o(l)}),n&&u.write(n),u.end()})}var ude=new Uint8Array([240,229,105,174,191,220,191,138,26,69,232,190,125,166,115,184,222,143,231,196,69,218,134,196,155,100,139,20,106,180,241,170,56,1,53,158,38,105,44,134,0,107,79,165,54,52,98,166,42,150,104,24,242,74,253,189,107,151,143,77,143,137,19,183,108,142,147,237,14,13,72,62,215,47,136,216,254,254,126,134,80,149,79,209,235,131,38,52,219,102,123,156,126,157,122,129,50,234,182,51,222,58,169,89,52,102,59,170,186,129,96,72,185,213,129,156,248,108,132,119,255,84,120,38,95,190,232,30,54,159,52,128,92,69,44,155,118,213,27,143,204,195,184,245]),fde=0x8686980c0f5a24c4b9d43020cd2c22703ff3f450756529058b1cf88f09b8602136477198a6e2683149659bd122c33592fdb5ad47944ad1ea4d36c6b172aad6338c3bb6ac6227502d010993ac967d1aef00f0c8e038de2e4d3bc2ec368af2e9f10a6f1eda4f7262f136420c07c331b871bf139f74f3010e3c4fe57df3afb71683n,pde=0x10001n;function hde(e,t){t==null&&(t=Math.ceil(e.toString(16).length/2));let r=new Uint8Array(t);for(let n=t-1;n>=0;n--)r[n]=Number(e&0xffn),e>>=8n;return r}function mde(e){let t=0n;for(let r of e)t=t<<8n|BigInt(r);return t}function*iO(e,t,r=1){for(let n=e+r;n<t;n+=r)yield[e,n,r],e=n;e!==t&&(yield[e,t,t-e])}function lde(e,t){let r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function Ytt(e,t){let r=new Uint8Array(t),n=t*(t-1),s=0;for(let a=0;a<t;a++){let o=e[a]+ude[s]&255;r[a]=ude[n]^o,n-=t,s+=t}return r}function Wtt(e){let t=e.length,r=new Uint8Array(128);return r.fill(2,1,127-t),r.set(e,128-t),mde(r)}function l2(e,t){let r=new Uint8Array(e.length),n=e.length&3;n&&r.set(lde(e.subarray(0,n),t.subarray(0,n)));for(let[s,a]of iO(n,e.length,t.length))r.set(lde(e.subarray(s,a),t),s);return r}function gde(e,t,r){if(r===1n)return 0n;let n=1n;for(e%=r;t;)t&1n&&(n=n*e%r),t=t>>1n,e=e*e%r;return n}function Jtt(e){(typeof e=="string"||e instanceof String)&&(e=new TextEncoder().encode(e));let t=new Uint8Array(16+e.length);t.set(l2(l2(e,new Uint8Array([141,165,165,141])).reverse(),new Uint8Array([120,6,173,76,51,134,93,24,76,1,63,70])),16);let r=new Uint8Array(Math.ceil(t.length/117)*128),n=0;for(let[s,a]of iO(0,t.length,117))r.set(hde(gde(Wtt(t.subarray(s,a)),pde,fde),128),n,n+=128);return Buffer.from(r).toString("base64")}function Xtt(e){let t=new Uint8Array(Buffer.from(e,"base64")),r=[];for(let[a,o]of iO(0,t.length,128)){let c=gde(mde(t.subarray(a,o)),pde,fde),u=hde(c);r.push(...u.subarray(u.indexOf(0)+1))}r=new Uint8Array(r);let n=Ytt(r.subarray(0,16),12),s=l2(r.subarray(16),n).reverse();return new TextDecoder("utf-8").decode(l2(s,new Uint8Array([141,165,165,141])))}async function Ztt({shareCode:e,receiveCode:t,dirID:r=""}){let n=[],s=(o,c)=>o?`${o}/${c}`:c,a=async(o,c)=>{let u=c||"",l=await Ie.get("https://webapi.115.com/share/snap",{params:{share_code:e,receive_code:t,cid:o,limit:"9999",offset:"0"}});if(!l.data.data)return[];let d=l.data.data.list.filter(p=>p.fc===1),f=l.data.data.list.filter(p=>p.fc===0);for(let p of d)Vtt(p.n)&&n.push({...p,shareCode:e,receiveCode:t,vod_group:u});for(let p of f)await a(p.cid,s(u,p.n))};return await a(r,""),n}async function Ade(e){let t=Gtt(e);if(t){let r=await Ztt(t);return r=r.map(n=>({vod_id:[t.shareCode,t.receiveCode,n.fid].join("*"),vod_name:n.n,vod_size:n.s,vod_group:n.vod_group})),Ri(getPanName("115"),r)}else return{}}async function yde(e){let t=e.body.id,r=await nO(e.server),[n,s,a]=t.split("*"),o=`data=${encodeURIComponent(Jtt(`{"share_code":"${n}","receive_code":"${s}","file_id":"${a}"}`))}`,c=await Ktt("http://pro.api.115.com/app/share/downurl","POST",{"Content-Type":"application/x-www-form-urlencoded","Content-Length":Buffer.byteLength(o),Cookie:r},o);return c?.error?.includes?.("\u767B\u5F55")&&messageToDart({action:"toast",opt:{message:"115\u76D8\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u524D\u5F80\u3010\u914D\u7F6E\u3011\u7AD9\u6E90\u8FDB\u884C\u914D\u7F6E",duration:5}}),{parse:0,url:["\u539F\u753B",JSON.parse(Xtt(c.data)).url.url]}}var Ede=Pe(UP(),1),aO=Pe(js(),1);var trt=async e=>globalThis.getPanName?await globalThis.getPanName(e):e,bde=e=>{if(!e)return"";let t=e.replaceAll("\\","/").split("/").filter(Boolean);return t.length<=1?"":(t.pop(),t.join("/"))},oO,cO={},pA={set(e,t){cO[e]=t,oO.push(`/baidu/${e}`,t)},get(e){return cO[e]}},xde=async e=>{oO=e.server.db,cO=await oO.getObjectDefault("/baidu",{})};var uO=class{constructor(){this.regex=/https:\/\/pan\.baidu\.com\/s\/(.*)\?.*?pwd=([^&]+)/,this.type=["M3U8_AUTO_4K","M3U8_AUTO_2K","M3U8_AUTO_1080","M3U8_AUTO_720","M3U8_AUTO_480"],this.headers={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36",Connection:"keep-alive",Accept:"application/json, text/plain, */*","Accept-Encoding":"gzip, deflate, br","Accept-Language":"zh,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,zh-CN;q=0.6"},this.api="https://pan.baidu.com",this.link="",this.pwd="",this.surl="",this.shorturl="",this.shareid="",this.app_id=250528,this.view_mode=1,this.channel="chunlei"}get cookie(){return pA.get("baidu_cookie")||""}async getSurl(t){this.link=t;let r=this.regex.exec(t);r&&r[1]&&(this.surl=r[1],this.shorturl=this.surl.split("").slice(1).join(""),this.pwd=r[2]||"")}async getSign(){let t={...this.headers,cookie:this.cookie},r=await Oe.get(`${this.api}/share/tplconfig?surl=${this.surl}&fields=Espace_info,card_info,sign,timestamp&view_mode=${this.view_mode}&channel=${this.channel}&web=1&app_id=${this.app_id}`,{headers:t});if(!r.data||!r.data.data||!r.data.data.sign)throw new Error(`\u83B7\u53D6sign\u5931\u8D25: ${JSON.stringify(r.data)}`);return r.data.data.sign}async getRandsk(){let t=Ede.default.stringify({pwd:this.pwd,vcode:"",vcode_str:""}),r=(await Oe.post(`${this.api}/share/verify?surl=${this.shorturl}&pwd=${this.pwd}`,t,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36",Referer:this.link}})).data.randsk,n="BDCLND="+r;if(this.cookie.includes("BDCLND")){let s=this.cookie.split(";").map(a=>(/BDCLND/.test(a)&&(a=n),a)).join(";");return s!==this.cookie&&pA.set("baidu_cookie",s),r}else{let s=this.cookie+n;return pA.set("baidu_cookie",s),r}}async getShareList(){await this.getRandsk(),this.headers.cookie=this.cookie;let t=(await Oe.get(`${this.api}/share/list?web=5&app_id=${this.app_id}&desc=1&showempty=0&page=1&num=20&order=time&shorturl=${this.shorturl}&root=1&view_mode=${this.view_mode}&channel=${this.channel}&web=1&clienttype=0`,{headers:this.headers})).data;if(t.errno===0&&t.list.length>0){let r={},n=[],s=[];this.uk=t.uk,this.shareid=t.share_id,pA.set(`baidu_share_${this.surl}`,{surl:this.surl,pwd:this.pwd,link:this.link,uk:this.uk,shareid:this.shareid}),t.list.map(o=>{if((o.category==="6"||o.category===6)&&n.push(o.path),o.category==="1"||o.category===1){let c=o.server_filename||o.path.split("/").pop(),u=bde(o.path);s.push({vod_name:c,vod_group:u,vod_id:[o.path.replaceAll("#","\0"),this.uk,this.shareid,o.fs_id||o.fsid,this.surl].join("*"),vod_size:o.size})}}),!(t.title in r)&&t.title!==void 0&&(r[t.title]=[]),s.length>=0&&t.title!==void 0&&(r[t.title]=[...s]);let a=await Promise.all(n.map(async o=>this.getSharepath(o)));if(a=a.filter(o=>o!=null).flat(),a.length>=0){let o=a.map(c=>(c.vod_name&&c.vod_name.includes("/")&&(c.vod_name=c.vod_name.split("/").pop()),c));r[t.title].push(...o)}return r}}async getSharepath(t){await this.getRandsk(),this.headers.cookie=this.cookie;let r=(await Oe.get(`${this.api}/share/list?is_from_web=true&uk=${this.uk}&shareid=${this.shareid}&order=name&desc=0&showempty=0&view_mode=${this.view_mode}&web=1&page=1&num=100&dir=${encodeURIComponent(t)}&channel=${this.channel}&web=1&app_id=${this.app_id}`,{headers:this.headers})).data;if(r.errno===0&&r.list.length>0){let n=[],s=[];r.list.map(c=>{if((c.category==="6"||c.category===6)&&n.push(c.path),c.category==="1"||c.category===1){let u=c.server_filename||c.path.split("/").pop(),l=bde(c.path);s.push({vod_name:u,vod_group:l,vod_id:[c.path.replaceAll("#","\0"),this.uk,this.shareid,c.fs_id||c.fsid,this.surl].join("*"),vod_size:c.size})}});let a=await Promise.all(n.map(async c=>this.getSharepath(c)));a=a.filter(c=>c!=null);let o=a.map(c=>(c.vod_name&&c.vod_name.includes("/")&&(c.vod_name=c.vod_name.split("/").pop()),c));return[...s,...o.flat()]}}sha1(t){return aO.default.SHA1(t).toString(aO.default.enc.Hex)}async getUid(){this.headers.cookie=this.cookie;let t=(await Oe.get("https://mbd.baidu.com/userx/v1/info/get?appname=baiduboxapp&fields=%20%20%20%20%20%20%20%20%5B%22bg_image%22,%22member%22,%22uid%22,%22avatar%22,%20%22avatar_member%22%5D&client&clientfrom&lang=zh-cn&tpl&ttt",{headers:this.headers})).data;if(t&&t.data&&t.data.fields&&t.data.fields.uid)return t.data.fields.uid;throw new Error("\u83B7\u53D6\u7528\u6237UID\u5931\u8D25: "+JSON.stringify(t))}async getShareUrl(t,r,n,s){t=t.replaceAll("\0","#");let a=await this.getSign(),o=[],c=Math.floor(new Date/1e3);return this.type.map(u=>{o.push({name:u.replace("M3U8_AUTO_",""),url:`${this.api}/share/streaming?channel=${this.channel}&uk=${r}&fid=${s}&sign=${a}&timestamp=${c}&shareid=${n}&type=${u}&vip=0&jsToken&isplayer=1&check_blue=1&adToken`})}),o}async getAppShareUrl(t,r,n,s){t=t.replaceAll("\0","#");let a=await this.getRandsk(),o=await this.getUid(),c=Object.assign({},this.headers,{"User-Agent":"netdisk;P2SP;2.2.91.136;android-android;"}),u="73CED981D0F186D12BC18CAE1684FFD5|VSRCQTF6W",l=String(new Date().getTime()),d=this.sha1(this.sha1(this.cookie.match(/BDUSS=(.+?);/)[1])+o+"ebrcUYiuxaZv2XGu7KIYKxUrqfnOfpDF"+l+u+"11.30.2ae5821440fab5e1a61a025f014bd8972"),f=this.api+"/share/list?shareid="+n+"&uk="+r+"&fid="+s+"&sekey="+a+"&origin=dlna&devuid="+u+"&clienttype=1&channel=android_12_zhao_bd-netdisk_1024266h&version=11.30.2&time="+l+"&rand="+d,p=(await Oe.get(f,{headers:c})).data;if(p.errno===0&&p.list.length>0)return p.list[0].dlink}},ts=new uO;async function vde(e,t){await xde(t),await ts.getSurl(e);let r=await ts.getShareList();if(!r)return null;let n=await trt("baidu"),s=[],a=[];return Object.keys(r).forEach(o=>{let c=Ri(n,r[o]);c&&c.from&&c.url&&(s.push(c.from),a.push(c.url))}),s.length===0?null:{from:s.join("$$$"),url:a.join("$$$")}}var lO={};async function _de(e,t){let r=e.body.id.split("*");await xde(e);let n=r[4],s=pA.get(`baidu_share_${n}`);s&&(ts.surl=s.surl,ts.pwd=s.pwd,ts.link=s.link,ts.uk=s.uk,ts.shareid=s.shareid,ts.shorturl=ts.surl?ts.surl.split("").slice(1).join(""):"",ts.pwd&&(await ts.getRandsk(),ts.headers.cookie=ts.cookie));let a=e.server.address().url+e.server.prefix+"/proxy/baidu",o=`${r[0]}*${r[1]}*${r[2]}*${r[3]}`,c=encodeURIComponent(o),u=n;try{let d=await ts.getAppShareUrl(r[0],r[1],r[2],r[3]);if(d)return lO[n]={type:"app",url:d,fileId:o,headers:{"User-Agent":"netdisk;P2SP;2.2.91.136;android-android;",Referer:"https://pan.baidu.com/"}},{parse:0,url:["\u539F\u753B",`${a}/src/redirect/${u}/${c}/.bin`],header:{}}}catch(d){console.log("App\u7248API\u5931\u8D25\uFF0C\u964D\u7EA7\u5230Web\u7248API:",d.message)}let l=await ts.getShareUrl(r[0],r[1],r[2],r[3]);if(l&&l.length>0){lO[n]={type:"web",urls:l,fileId:o,headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36",Referer:"https://pan.baidu.com/"}};let d=[];return l.forEach(f=>{d.push(f.name,`${a}/src/${f.name}/${u}/${c}/.bin`)}),{parse:0,url:d,header:{}}}throw new Error("\u83B7\u53D6\u64AD\u653E\u94FE\u63A5\u5931\u8D25")}async function Ide(e,t){let r=e.params.site,n=e.params.what,s=e.params.shareId,a=e.params.fileId,o=e.params.flag;if(r!=="baidu")return t.status(400).send({error:"Invalid site"});let c=lO[s];if(!c)return t.status(404).send({error:"Play URL not found in cache"});let u,l=c.headers;if(c.type==="app")u=c.url;else if(c.type==="web"){let d=c.urls.find(f=>f.name===o);if(!d)return t.status(404).send({error:"Quality not found"});u=d.url}else return t.status(500).send({error:"Invalid cache type"});return t.redirect(u)}var gr=Uv,nrt=e=>e==null||e==="root"?"":String(e),dO=e=>{if(!e)return[];if(Array.isArray(e))return e;let t=[];return Object.keys(e).forEach(r=>{let n=e[r];if(!Array.isArray(n))return;let s=nrt(r);n.forEach(a=>{t.push({...a,vod_group:a?.vod_group??s})})}),t};async function nr(e,t){return{}}async function Vt(e,t){e=Array.isArray(e)?e:[e];let r=e.map(o=>{let c=Wo().find(u=>u.validator(o))?.key;return{key:c,url:o,order:globalThis.Pans.findIndex(u=>u.key===c)}}).filter(o=>o.key);r.sort((o,c)=>o.order-c.order),e=r.map(o=>o.url);let n=[],s=[];for(let o of e)if(Ug(o)){let c=await Toe(o);c&&c.from&&c.url&&(n.push(c.from),s.push(c.url))}else if(qg(o)){let c=await Yue(o);c&&c.from&&c.url&&(n.push(c.from),s.push(c.url))}else if(jg(o)){let c=await YP.getShareData(o);if(c){let u=await getPanName("tianyi"),l=dO(c),d=Ri(u,l);d&&d.from&&d.url&&(n.push(d.from),s.push(d.url))}}else if(gD(o)){let c=await JP.getShareData(o),u=await getPanName("yidong"),l=dO(c),d=Ri(u,l);d&&d.from&&d.url&&(n.push(d.from),s.push(d.url))}else if(AD(o)){let c=await u2.getShareData(o),u=await u2.getFilesByShareUrl(c),l=await getPanName("123"),d=dO(u),f=Ri(l,d);f&&f.from&&f.url&&(n.push(f.from),s.push(f.url))}else if(yD(o)){let c=await Ade(o);c&&c.from&&c.url&&(n.push(c.from),s.push(c.url))}else if(bD(o)){let c=await vde(o,t);c&&c.from&&c.url&&(n.push(c.from),s.push(c.url))}let a={};return n.forEach((o,c)=>{a[o]?n[c]=`${o}-${++a[o]}`:a[o]=1}),{froms:n.join("$$$"),urls:s.join("$$$")}}async function Kt(e,t){let r=e.params.site;if(r=="quark")return await Boe(e,t);if(r=="uc")return await Wue(e,t);if(r=="baidu")return await Ide(e,t)}async function Yt(e,t){let r=e.body.flag;if(r.startsWith(await getPanName("quark")))return await Roe(e,t);if(r.startsWith(await getPanName("uc")))return await Jue(e,t);if(r.startsWith(await getPanName("tianyi"))){let n=e.body.id.split("*");return await sde(e),{parse:0,url:["\u539F\u753B",await YP.getShareUrl(n[0],n[1])]}}else if(r.startsWith(await getPanName("yidong"))){let n=e.body.id.split("*");return{parse:0,url:["\u539F\u753B",await JP.getSharePlay(n[0],n[1])]}}else if(r.startsWith(await getPanName("123"))){await ade(e);let n=e.body.id.split("*");return{parse:0,url:["\u539F\u753B",await u2.getDownload(...n)]}}else{if(r.startsWith(await getPanName("115")))return await yde(e,t);if(r.startsWith(await getPanName("baidu")))return await _de(e,t)}}async function wde(e,t){try{let r=e.server.prefix,n={},s=await e.server.inject().post(`${r}/init`);n.init=s.json(),hA(s.json()),s=await e.server.inject().post(`${r}/home`),n.home=s.json(),hA(s.json());let a=!1;if(n.home.class&&n.home.class.length>0){let o=n.home.class[0].type_id,c={};if(n.home.filters){let u=n.home.filters[o];if(u)for(let l of u){let d=l.init;if(d){for(let f of l.value)if(f.v==d){c[l.key]=d;break}}}}if(s=await e.server.inject().post(`${r}/category`).payload({id:o,page:1,filter:!0,filters:c}),n.category=s.json(),hA(s.json()),n.category.list.length>0){a=!0;let u=n.category.list[0].vod_id;await Cde(e,u,n)}}if(s=await e.server.inject().post(`${r}/search`).payload({wd:"\u4ED9\u9006",page:1}),n.search=s.json(),!a&&n.search.list.length>0){let o=n.search.list[0].vod_id;await Cde(e,o,n)}return hA(s.json()),n}catch(r){return console.error(r),t.code(500),{err:r.message,tip:"check debug console output"}}}async function Cde(e,t,r){let n=e.server.prefix,s=await e.server.inject().post(`${n}/detail`).payload({id:t});if(r.detail=s.json(),hA(s.json()),r.detail.list&&r.detail.list.length>0){r.play=[];for(let a of r.detail.list){let o=a.vod_play_from.split("$$$"),c=a.vod_play_url.split("$$$");for(let u=0;u<o.length;u++){let l=o[u],d=c[u].split("#");for(let f=0;f<d.length&&f<2;f++)s=await e.server.inject().post(`${n}/play`).payload({flag:l,id:d[f].split("$")[1]}),r.play.push(s.json())}}}}function hA(e){e.statusCode&&e.statusCode==500&&console.error(e)}var Wo=()=>[{key:"yidong",name:getPanName("yidong"),validator:gD,pic:"https://yun.139.com/w/static/img/LOGO.png"},{key:"tianyi",name:getPanName("tianyi"),validator:jg,pic:"https://is1-ssl.mzstatic.com/image/thumb/Purple211/v4/a8/fa/f0/a8faf032-0fa4-d9c5-ac70-920d9c84dff1/AppIcon-0-0-1x_U007emarketing-0-7-0-0-sRGB-85-220.png/350x350.png"},{key:"115",name:getPanName("115"),validator:yD,pic:"https://img.pcsoft.com.cn/soft/202104/093230-608b5e2ed5912.jpg"},{key:"quark",name:getPanName("quark"),validator:Ug,pic:"https://ts1.cn.mm.bing.net/th/id/R-C.a0d60e6a72806738e6f0b711a979bdf5?rik=lp5C9t5sYlkrLw&riu=http%3a%2f%2fpic.2265.com%2fupload%2f2020-10%2f202010151719492792.png&ehk=Pv6rq3JxJvKe2y1QsdzssyZ4Ez4cwiKWmIvK0aMgxi0%3d&risl=&pid=ImgRaw&r=0"},{key:"uc",name:getPanName("uc"),validator:qg,pic:"https://ts1.cn.mm.bing.net/th/id/R-C.421c96e47df7c9719403654ee4f7c281?rik=yiiEoGCTgDDc3w&riu=http%3a%2f%2fpic.9663.com%2fupload%2f2023-5%2f20235111411256277.png&ehk=R81N%2flXMrl%2bxpRlST8DtHXDfab6rzaMb83gihuD71Fk%3d&risl=&pid=ImgRaw&r=0"},{key:"123",name:getPanName("123"),validator:AD,pic:"https://statics.123957.com/static/favicon.ico"},{key:"baidu",name:getPanName("baidu"),validator:bD,pic:"https://nd-static.bdstatic.com/m-static/disk-home/img/logo.png"}];var srt=["https://tv.yydsys.cc","https://tv.yydsys.top","https://tv.214521.xyz"],fO=async e=>(await e.db.getObjectDefault("/duoduo",{}))?.urls||e.config.duoduo?.urls||srt,irt=async(e,t)=>{await e.db.push("/duoduo/urls",t)},art=async e=>{await e.db.delete("/duoduo/urls")};async function pO(e){e.get("/urls",async(t,r)=>{r.send({code:0,data:await fO(t.server)})}),e.put("/urls",async(t,r)=>{await irt(t.server,t.body),r.send({code:0})}),e.delete("/urls",async(t,r)=>{await art(t.server),r.send({code:0})})}var hO,d2=e=>{if(!hO){let t=Date.now();hO=new Promise(async r=>{let n=await fO(e),s=await Wr(n,{"User-Agent":gr});console.log("\u591A\u591A\u57DF\u540D",s,`${Date.now()-t}ms`),r(s)})}return hO};function ort(e){if(typeof e!="string"||e.length===0)return e;let r=e.indexOf('"<!DOCTYPE html');if(r<0)return e;let n=-1,s=!1;for(let o=r+1;o<e.length;o++){let c=e[o];if(s){s=!1;continue}if(c==="\\"){s=!0;continue}if(c==='"'){n=o;break}}if(n<0)return e;let a=e.slice(r,n+1);try{let o=JSON.parse(a);return typeof o=="string"&&o.length>0?o:e}catch{return e}}async function mO(e){let t=await Oe.get(e,{headers:{"User-Agent":gr}});return ort(t.data)}function gO(e){return String(e||"").replace(/\/$/,"")}function crt(e,t){let r=t;return e("#page a").each((n,s)=>{let a=e(s).attr("href"),o=a&&a.match(/\/page\/(\d+)\.html/i);if(!o)return;let c=parseInt(o[1],10);Number.isNaN(c)||(r=Math.max(r,c))}),r}async function urt(e,t){return{class:[{type_id:"1",type_name:"\u7535\u5F71"},{type_id:"2",type_name:"\u5267\u96C6"},{type_id:"4",type_name:"\u52A8\u6F2B"},{type_id:"5",type_name:"\u77ED\u5267"},{type_id:"3",type_name:"\u7EFC\u827A"},{type_id:"20",type_name:"\u7EAA\u5F55"}],filters:{}}}async function lrt(e,t){let r=await d2(e.server),n=e.body.id,s=e.body.page,a=parseInt(s,10);(!a||a<1)&&(a=1);let c=`${gO(r)}/index.php/vod/show/id/${n}/page/${a}.html`,u=await mO(c),l=Je(u),d=l("#main .module-item").map((p,m)=>{let h=l(m).find(".module-item-pic a").attr("href"),g=l(m).find(".module-item-pic img").attr("alt"),A=l(m).find(".module-item-pic img").attr("data-src")||l(m).find(".module-item-pic img").attr("src"),y=l(m).find(".module-item-text").text().trim();return{vod_id:h,vod_name:g,vod_pic:A,vod_remarks:y}}).get().filter(p=>p.vod_id&&p.vod_name),f=crt(l,a);return{page:a,pagecount:f,limit:72,total:72*f,list:d}}async function drt(e,t){let r=await d2(e.server),n=gO(r),s=Array.isArray(e.body.id)?e.body.id:[e.body.id],a=[];for(let o of s)try{let c=await mO(`${n}${o}`),u=Je(c),l={vod_id:o,vod_name:u(".page-title").first().text().trim(),vod_pic:u(".mobile-play .lazyload").first().attr("data-src")||u(".mobile-play img").first().attr("data-src")||u(".mobile-play img").first().attr("src")};u(".video-info-itemtitle").each((p,m)=>{let h=u(m).text(),g=u(m).next().find("a").map((A,y)=>u(y).text().trim()).get().filter(Boolean).join(", ");h.includes("\u5267\u60C5")?l.vod_content=u(m).next().find("p").text().trim():h.includes("\u5BFC\u6F14")?l.vod_director=g.trim():h.includes("\u4E3B\u6F14")&&(l.vod_actor=g.trim())});let d=u(".module-row-info p").map((p,m)=>u(m).text().trim()).get().filter(Boolean),f=await Vt(d,e);f&&(l.vod_play_from=f.froms,l.vod_play_url=f.urls),a.push(l)}catch(c){console.error("duoduo detail fetch failed",o,c)}return{list:a}}async function frt(e,t){let r=await d2(e.server),n=gO(r),s=e.body.page,a=e.body.wd,o=parseInt(s,10);(!o||o<1)&&(o=1);let c=encodeURIComponent(a||""),u=[`${n}/index.php/vod/search/page/${o}/wd/${c}.html`,`${n}/index.php/vod/search/wd/${c}.html`,`${n}/index.php/vod/search.html?wd=${c}&page=${o}`];for(let l of u)try{let d=await mO(l),f=Je(d),p=f(".module-search-item").map((m,h)=>{let g=f(h).find(".video-serial"),A=f(h).find(".module-item-pic > img");return{vod_id:g.attr("href"),vod_name:g.attr("title"),vod_pic:A.attr("data-src")||A.attr("src"),vod_remarks:g.text()}}).get().filter(m=>m.vod_id&&m.vod_name);if(p.length>0)return{page:o,pagecount:p.length<10?o:o+1,list:p}}catch{}return{page:o,pagecount:o,list:[]}}var Sde={meta:{key:"duoduo",name:"\u591A\u591A",type:3},api:async e=>{e.post("/init",nr),e.post("/home",urt),e.post("/category",lrt),e.post("/detail",drt),e.post("/play",Yt),e.post("/search",frt),e.get("/test",wde),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",Kt)},check:d2};var ty=Pe(js(),1),kpe=Pe(Hp(),1);var wpe=Pe(require("http"),1);var ZA=Pe(require("fs"),1),A5=Pe(require("path"),1);ht();Pt();et();A2();Br();ht();et();Pt();function rfe(){return"\u9515\u7691\u853C\u788D\u7231\u55F3\u5AD2\u7477\u66A7\u972D\u8C19\u94F5\u9E4C\u80AE\u8884\u5965\u5AAA\u9A9C\u9CCC\u575D\u7F62\u94AF\u6446\u8D25\u5457\u9881\u529E\u7ECA\u94A3\u5E2E\u7ED1\u9551\u8C24\u5265\u9971\u5B9D\u62A5\u9C8D\u9E28\u9F85\u8F88\u8D1D\u94A1\u72C8\u5907\u60EB\u9E4E\u8D32\u951B\u7EF7\u7B14\u6BD5\u6BD9\u5E01\u95ED\u835C\u54D4\u6ED7\u94CB\u7B5A\u8DF8\u8FB9\u7F16\u8D2C\u53D8\u8FA9\u8FAB\u82C4\u7F0F\u7B3E\u6807\u9AA0\u98D1\u98D9\u9556\u9573\u9CD4\u9CD6\u522B\u762A\u6FD2\u6EE8\u5BBE\u6448\u50A7\u7F24\u69DF\u6BA1\u8191\u9554\u9ACC\u9B13\u997C\u7980\u62E8\u94B5\u94C2\u9A73\u997D\u94B9\u9E41\u8865\u94B8\u8D22\u53C2\u8695\u6B8B\u60ED\u60E8\u707F\u9A96\u9EEA\u82CD\u8231\u4ED3\u6CA7\u5395\u4FA7\u518C\u6D4B\u607B\u5C42\u8BE7\u9538\u4FAA\u9497\u6400\u63BA\u8749\u998B\u8C17\u7F20\u94F2\u4EA7\u9610\u98A4\u5181\u8C04\u8C36\u8487\u5FCF\u5A75\u9AA3\u89C7\u7985\u9561\u573A\u5C1D\u957F\u507F\u80A0\u5382\u7545\u4F25\u82CC\u6005\u960A\u9CB3\u949E\u8F66\u5F7B\u7817\u5C18\u9648\u886C\u4F27\u8C0C\u6987\u789C\u9F80\u6491\u79F0\u60E9\u8BDA\u9A8B\u67A8\u67FD\u94D6\u94DB\u75F4\u8FDF\u9A70\u803B\u9F7F\u70BD\u996C\u9E31\u51B2\u51B2\u866B\u5BA0\u94F3\u7574\u8E0C\u7B79\u7EF8\u4FE6\u5E31\u96E0\u6A71\u53A8\u9504\u96CF\u7840\u50A8\u89E6\u5904\u520D\u7ECC\u8E70\u4F20\u948F\u75AE\u95EF\u521B\u6006\u9524\u7F0D\u7EAF\u9E51\u7EF0\u8F8D\u9F8A\u8F9E\u8BCD\u8D50\u9E5A\u806A\u8471\u56F1\u4ECE\u4E1B\u82C1\u9AA2\u679E\u51D1\u8F8F\u8E7F\u7A9C\u64BA\u9519\u9509\u9E7E\u8FBE\u54D2\u9791\u5E26\u8D37\u9A80\u7ED0\u62C5\u5355\u90F8\u63B8\u80C6\u60EE\u8BDE\u5F39\u6B9A\u8D55\u7605\u7BAA\u5F53\u6321\u515A\u8361\u6863\u8C20\u7800\u88C6\u6363\u5C9B\u7977\u5BFC\u76D7\u7118\u706F\u9093\u956B\u654C\u6DA4\u9012\u7F14\u7C74\u8BCB\u8C1B\u7EE8\u89CC\u955D\u98A0\u70B9\u57AB\u7535\u5DC5\u94BF\u766B\u9493\u8C03\u94EB\u9CB7\u8C0D\u53E0\u9CBD\u9489\u9876\u952D\u8BA2\u94E4\u4E22\u94E5\u4E1C\u52A8\u680B\u51BB\u5CBD\u9E2B\u7AA6\u728A\u72EC\u8BFB\u8D4C\u9540\u6E0E\u691F\u724D\u7B03\u9EE9\u953B\u65AD\u7F0E\u7C16\u5151\u961F\u5BF9\u603C\u9566\u5428\u987F\u949D\u7096\u8DB8\u593A\u5815\u94CE\u9E45\u989D\u8BB9\u6076\u997F\u8C14\u57A9\u960F\u8F6D\u9507\u9537\u9E57\u989A\u989B\u9CC4\u8BF6\u513F\u5C14\u9975\u8D30\u8FE9\u94D2\u9E38\u9C95\u53D1\u7F5A\u9600\u73D0\u77FE\u9492\u70E6\u8D29\u996D\u8BBF\u7EBA\u94AB\u9C82\u98DE\u8BFD\u5E9F\u8D39\u7EEF\u9544\u9CB1\u7EB7\u575F\u594B\u6124\u7CAA\u507E\u4E30\u67AB\u950B\u98CE\u75AF\u51AF\u7F1D\u8BBD\u51E4\u6CA3\u80A4\u8F90\u629A\u8F85\u8D4B\u590D\u8D1F\u8BA3\u5987\u7F1A\u51EB\u9A78\u7EC2\u7ECB\u8D59\u9EB8\u9C8B\u9CC6\u9486\u8BE5\u9499\u76D6\u8D45\u6746\u8D76\u79C6\u8D63\u5C34\u64C0\u7EC0\u5188\u521A\u94A2\u7EB2\u5C97\u6206\u9550\u777E\u8BF0\u7F1F\u9506\u6401\u9E3D\u9601\u94EC\u4E2A\u7EA5\u9549\u988D\u7ED9\u4E98\u8D53\u7EE0\u9CA0\u9F9A\u5BAB\u5DE9\u8D21\u94A9\u6C9F\u82DF\u6784\u8D2D\u591F\u8BDF\u7F11\u89CF\u86CA\u987E\u8BC2\u6BC2\u94B4\u9522\u9E2A\u9E44\u9E58\u5250\u6302\u9E39\u63B4\u5173\u89C2\u9986\u60EF\u8D2F\u8BD6\u63BC\u9E73\u9CCF\u5E7F\u72B7\u89C4\u5F52\u9F9F\u95FA\u8F68\u8BE1\u8D35\u523D\u5326\u523F\u59AB\u6867\u9C91\u9CDC\u8F8A\u6EDA\u886E\u7EF2\u9CA7\u9505\u56FD\u8FC7\u57DA\u5459\u5E3C\u6901\u8748\u94EA\u9A87\u97E9\u6C49\u961A\u7ED7\u9889\u53F7\u704F\u98A2\u9602\u9E64\u8D3A\u8BC3\u9616\u86CE\u6A2A\u8F70\u9E3F\u7EA2\u9EC9\u8BA7\u836D\u95F3\u9C8E\u58F6\u62A4\u6CAA\u6237\u6D52\u9E55\u54D7\u534E\u753B\u5212\u8BDD\u9A85\u6866\u94E7\u6000\u574F\u6B22\u73AF\u8FD8\u7F13\u6362\u5524\u75EA\u7115\u6DA3\u5942\u7F33\u953E\u9CA9\u9EC4\u8C0E\u9CC7\u6325\u8F89\u6BC1\u8D3F\u79FD\u4F1A\u70E9\u6C47\u8BB3\u8BF2\u7ED8\u8BD9\u835F\u54D5\u6D4D\u7F0B\u73F2\u6656\u8364\u6D51\u8BE8\u9984\u960D\u83B7\u8D27\u7978\u94AC\u956C\u51FB\u673A\u79EF\u9965\u8FF9\u8BA5\u9E21\u7EE9\u7F09\u6781\u8F91\u7EA7\u6324\u51E0\u84DF\u5242\u6D4E\u8BA1\u8BB0\u9645\u7EE7\u7EAA\u8BA6\u8BD8\u8360\u53FD\u54DC\u9AA5\u7391\u89CA\u9F51\u77F6\u7F81\u867F\u8DFB\u9701\u9C9A\u9CAB\u5939\u835A\u988A\u8D3E\u94BE\u4EF7\u9A7E\u90CF\u6D43\u94D7\u9553\u86F2\u6B7C\u76D1\u575A\u7B3A\u95F4\u8270\u7F04\u8327\u68C0\u78B1\u7877\u62E3\u6361\u7B80\u4FED\u51CF\u8350\u69DB\u9274\u8DF5\u8D31\u89C1\u952E\u8230\u5251\u996F\u6E10\u6E85\u6DA7\u8C0F\u7F23\u620B\u622C\u7751\u9E63\u7B15\u9CA3\u97AF\u5C06\u6D46\u848B\u6868\u5956\u8BB2\u9171\u7EDB\u7F30\u80F6\u6D47\u9A84\u5A07\u6405\u94F0\u77EB\u4FA5\u811A\u997A\u7F34\u7EDE\u8F7F\u8F83\u6322\u5CE4\u9E6A\u9C9B\u9636\u8282\u6D01\u7ED3\u8BEB\u5C4A\u7596\u988C\u9C92\u7D27\u9526\u4EC5\u8C28\u8FDB\u664B\u70EC\u5C3D\u52B2\u8346\u830E\u537A\u8369\u9991\u7F19\u8D46\u89D0\u9CB8\u60CA\u7ECF\u9888\u9759\u955C\u5F84\u75C9\u7ADE\u51C0\u522D\u6CFE\u8FF3\u5F2A\u80EB\u9753\u7EA0\u53A9\u65E7\u9604\u9E20\u9E6B\u9A79\u4E3E\u636E\u952F\u60E7\u5267\u8BB5\u5C66\u6989\u98D3\u949C\u9514\u7AAD\u9F83\u9E43\u7EE2\u9529\u954C\u96BD\u89C9\u51B3\u7EDD\u8C32\u73CF\u94A7\u519B\u9A8F\u76B2\u5F00\u51EF\u5240\u57B2\u5FFE\u607A\u94E0\u9534\u9F9B\u95F6\u94AA\u94D0\u9897\u58F3\u8BFE\u9A92\u7F02\u8F72\u94B6\u951E\u9894\u57A6\u6073\u9F88\u94FF\u62A0\u5E93\u88E4\u55BE\u5757\u4FA9\u90D0\u54D9\u810D\u5BBD\u72EF\u9ACB\u77FF\u65F7\u51B5\u8BD3\u8BF3\u909D\u5739\u7EA9\u8D36\u4E8F\u5CBF\u7AA5\u9988\u6E83\u532E\u8489\u6126\u8069\u7BD1\u9603\u951F\u9CB2\u6269\u9614\u86F4\u8721\u814A\u83B1\u6765\u8D56\u5D03\u5F95\u6D9E\u6FD1\u8D49\u7750\u94FC\u765E\u7C41\u84DD\u680F\u62E6\u7BEE\u9611\u5170\u6F9C\u8C30\u63FD\u89C8\u61D2\u7F06\u70C2\u6EE5\u5C9A\u6984\u6593\u9567\u8934\u7405\u9606\u9512\u635E\u52B3\u6D9D\u5520\u5D02\u94D1\u94F9\u75E8\u4E50\u9CD3\u956D\u5792\u7C7B\u6CEA\u8BD4\u7F27\u7BF1\u72F8\u79BB\u9CA4\u793C\u4E3D\u5389\u52B1\u783E\u5386\u6CA5\u96B6\u4FEA\u90E6\u575C\u82C8\u8385\u84E0\u5456\u9026\u9A8A\u7F21\u67A5\u680E\u8F79\u783A\u9502\u9E42\u75A0\u7C9D\u8DDE\u96F3\u9CA1\u9CE2\u4FE9\u8054\u83B2\u8FDE\u9570\u601C\u6D9F\u5E18\u655B\u8138\u94FE\u604B\u70BC\u7EC3\u8539\u5941\u6F4B\u740F\u6B93\u88E2\u88E3\u9CA2\u7CAE\u51C9\u4E24\u8F86\u8C05\u9B49\u7597\u8FBD\u9563\u7F2D\u948C\u9E69\u730E\u4E34\u90BB\u9CDE\u51DB\u8D41\u853A\u5EEA\u6AA9\u8F9A\u8E8F\u9F84\u94C3\u7075\u5CAD\u9886\u7EEB\u68C2\u86CF\u9CAE\u998F\u5218\u6D4F\u9A9D\u7EFA\u954F\u9E68\u9F99\u804B\u5499\u7B3C\u5784\u62E2\u9647\u830F\u6CF7\u73D1\u680A\u80E7\u783B\u697C\u5A04\u6402\u7BD3\u507B\u848C\u55BD\u5D5D\u9542\u7618\u8027\u877C\u9AC5\u82A6\u5362\u9885\u5E90\u7089\u63B3\u5364\u864F\u9C81\u8D42\u7984\u5F55\u9646\u5786\u64B8\u565C\u95FE\u6CF8\u6E0C\u680C\u6A79\u8F73\u8F82\u8F98\u6C07\u80EA\u9E2C\u9E6D\u823B\u9C88\u5CE6\u631B\u5B6A\u6EE6\u4E71\u8114\u5A08\u683E\u9E3E\u92AE\u62A1\u8F6E\u4F26\u4ED1\u6CA6\u7EB6\u8BBA\u56F5\u841D\u7F57\u903B\u9523\u7BA9\u9AA1\u9A86\u7EDC\u8366\u7321\u6CFA\u6924\u8136\u9559\u9A74\u5415\u94DD\u4FA3\u5C61\u7F15\u8651\u6EE4\u7EFF\u6988\u891B\u950A\u5452\u5988\u739B\u7801\u8682\u9A6C\u9A82\u5417\u551B\u5B37\u6769\u4E70\u9EA6\u5356\u8FC8\u8109\u52A2\u7792\u9992\u86EE\u6EE1\u8C29\u7F26\u9558\u98A1\u9CD7\u732B\u951A\u94C6\u8D38\u4E48\u6CA1\u9541\u95E8\u95F7\u4EEC\u626A\u7116\u61D1\u9494\u9530\u68A6\u772F\u8C1C\u5F25\u89C5\u5E42\u8288\u8C27\u7315\u7962\u7EF5\u7F05\u6E11\u817C\u9EFE\u5E99\u7F08\u7F2A\u706D\u60AF\u95FD\u95F5\u7F17\u9E23\u94ED\u8C2C\u8C1F\u84E6\u998D\u6B81\u9546\u8C0B\u4EA9\u94BC\u5450\u94A0\u7EB3\u96BE\u6320\u8111\u607C\u95F9\u94D9\u8BB7\u9981\u5185\u62DF\u817B\u94CC\u9CB5\u64B5\u8F87\u9CB6\u917F\u9E1F\u8311\u8885\u8042\u556E\u954A\u954D\u9667\u8616\u55EB\u989F\u8E51\u67E0\u72DE\u5B81\u62E7\u6CDE\u82CE\u549B\u804D\u94AE\u7EBD\u8113\u6D53\u519C\u4FAC\u54DD\u9A7D\u9495\u8BFA\u50A9\u759F\u6B27\u9E25\u6BB4\u5455\u6CA4\u8BB4\u6004\u74EF\u76D8\u8E52\u5E9E\u629B\u75B1\u8D54\u8F94\u55B7\u9E4F\u7EB0\u7F74\u94CD\u9A97\u8C1D\u9A88\u98D8\u7F25\u9891\u8D2B\u5AD4\u82F9\u51ED\u8BC4\u6CFC\u9887\u948B\u6251\u94FA\u6734\u8C31\u9564\u9568\u6816\u8110\u9F50\u9A91\u5C82\u542F\u6C14\u5F03\u8BAB\u8572\u9A90\u7EEE\u6864\u789B\u9880\u9883\u9CCD\u7275\u948E\u94C5\u8FC1\u7B7E\u8C26\u94B1\u94B3\u6F5C\u6D45\u8C34\u5811\u4F65\u8368\u60AD\u9A9E\u7F31\u6920\u94A4\u67AA\u545B\u5899\u8537\u5F3A\u62A2\u5AF1\u6A2F\u6217\u709D\u9516\u9535\u956A\u7F9F\u8DC4\u9539\u6865\u4E54\u4FA8\u7FD8\u7A8D\u8BEE\u8C2F\u835E\u7F32\u7857\u8DF7\u7A83\u60EC\u9532\u7BA7\u94A6\u4EB2\u5BDD\u9513\u8F7B\u6C22\u503E\u9877\u8BF7\u5E86\u63FF\u9CAD\u743C\u7A77\u8315\u86F1\u5DEF\u8D47\u866E\u9CC5\u8D8B\u533A\u8EAF\u9A71\u9F8B\u8BCE\u5C96\u9612\u89D1\u9E32\u98A7\u6743\u529D\u8BE0\u7EFB\u8F81\u94E8\u5374\u9E4A\u786E\u9615\u9619\u60AB\u8BA9\u9976\u6270\u7ED5\u835B\u5A06\u6861\u70ED\u97E7\u8BA4\u7EAB\u996A\u8F6B\u8363\u7ED2\u5D58\u877E\u7F1B\u94F7\u98A6\u8F6F\u9510\u86AC\u95F0\u6DA6\u6D12\u8428\u98D2\u9CC3\u8D5B\u4F1E\u6BF5\u7CC1\u4E27\u9A9A\u626B\u7F2B\u6DA9\u556C\u94EF\u7A51\u6740\u5239\u7EB1\u94E9\u9CA8\u7B5B\u6652\u917E\u5220\u95EA\u9655\u8D61\u7F2E\u8BAA\u59D7\u9A9F\u9490\u9CDD\u5892\u4F24\u8D4F\u57A7\u6B87\u89DE\u70E7\u7ECD\u8D4A\u6444\u6151\u8BBE\u538D\u6EE0\u7572\u7EC5\u5BA1\u5A76\u80BE\u6E17\u8BDC\u8C02\u6E16\u58F0\u7EF3\u80DC\u5E08\u72EE\u6E7F\u8BD7\u65F6\u8680\u5B9E\u8BC6\u9A76\u52BF\u9002\u91CA\u9970\u89C6\u8BD5\u8C25\u57D8\u83B3\u5F11\u8F7C\u8D33\u94C8\u9CA5\u5BFF\u517D\u7EF6\u67A2\u8F93\u4E66\u8D4E\u5C5E\u672F\u6811\u7AD6\u6570\u6445\u7EBE\u5E05\u95E9\u53CC\u8C01\u7A0E\u987A\u8BF4\u7855\u70C1\u94C4\u4E1D\u9972\u53AE\u9A77\u7F0C\u9536\u9E36\u8038\u6002\u9882\u8BBC\u8BF5\u64DE\u85AE\u998A\u98D5\u953C\u82CF\u8BC9\u8083\u8C21\u7A23\u867D\u968F\u7EE5\u5C81\u8C07\u5B59\u635F\u7B0B\u836A\u72F2\u7F29\u7410\u9501\u5522\u7743\u736D\u631E\u95FC\u94CA\u9CCE\u53F0\u6001\u949B\u9C90\u644A\u8D2A\u762B\u6EE9\u575B\u8C2D\u8C08\u53F9\u6619\u94BD\u952C\u9878\u6C64\u70EB\u50A5\u9967\u94F4\u9557\u6D9B\u7EE6\u8BA8\u97EC\u94FD\u817E\u8A8A\u9511\u9898\u4F53\u5C49\u7F07\u9E48\u9617\u6761\u7C9C\u9F86\u9CA6\u8D34\u94C1\u5385\u542C\u70C3\u94DC\u7EDF\u6078\u5934\u94AD\u79C3\u56FE\u948D\u56E2\u629F\u9893\u8715\u9968\u8131\u9E35\u9A6E\u9A7C\u692D\u7BA8\u9F0D\u889C\u5A32\u817D\u5F2F\u6E7E\u987D\u4E07\u7EA8\u7EFE\u7F51\u8F8B\u97E6\u8FDD\u56F4\u4E3A\u6F4D\u7EF4\u82C7\u4F1F\u4F2A\u7EAC\u8C13\u536B\u8BFF\u5E0F\u95F1\u6CA9\u6DA0\u73AE\u97EA\u709C\u9C94\u6E29\u95FB\u7EB9\u7A33\u95EE\u960C\u74EE\u631D\u8717\u6DA1\u7A9D\u5367\u83B4\u9F8C\u545C\u94A8\u4E4C\u8BEC\u65E0\u829C\u5434\u575E\u96FE\u52A1\u8BEF\u90AC\u5E91\u6003\u59A9\u9A9B\u9E49\u9E5C\u9521\u727A\u88AD\u4E60\u94E3\u620F\u7EC6\u9969\u960B\u73BA\u89CB\u867E\u8F96\u5CE1\u4FA0\u72ED\u53A6\u5413\u7856\u9C9C\u7EA4\u8D24\u8854\u95F2\u663E\u9669\u73B0\u732E\u53BF\u9985\u7FA1\u5BAA\u7EBF\u82CB\u83B6\u85D3\u5C98\u7303\u5A34\u9E47\u75EB\u869D\u7C7C\u8DF9\u53A2\u9576\u4E61\u8BE6\u54CD\u9879\u8297\u9977\u9AA7\u7F03\u98E8\u8427\u56A3\u9500\u6653\u5578\u54D3\u6F47\u9A81\u7EE1\u67AD\u7BAB\u534F\u631F\u643A\u80C1\u8C10\u5199\u6CFB\u8C22\u4EB5\u64B7\u7EC1\u7F2C\u950C\u8845\u5174\u9649\u8365\u51F6\u6C79\u9508\u7EE3\u9990\u9E3A\u865A\u5618\u987B\u8BB8\u53D9\u7EEA\u7EED\u8BE9\u987C\u8F69\u60AC\u9009\u7663\u7EDA\u8C16\u94C9\u955F\u5B66\u8C11\u6CF6\u9CD5\u52CB\u8BE2\u5BFB\u9A6F\u8BAD\u8BAF\u900A\u57D9\u6D54\u9C9F\u538B\u9E26\u9E2D\u54D1\u4E9A\u8BB6\u57AD\u5A05\u6860\u6C29\u9609\u70DF\u76D0\u4E25\u5CA9\u989C\u960E\u8273\u538C\u781A\u5F66\u8C1A\u9A8C\u53A3\u8D5D\u4FE8\u5156\u8C33\u6079\u95EB\u917D\u9B47\u990D\u9F39\u9E2F\u6768\u626C\u75A1\u9633\u75D2\u517B\u6837\u7080\u7476\u6447\u5C27\u9065\u7A91\u8C23\u836F\u8F7A\u9E5E\u9CD0\u7237\u9875\u4E1A\u53F6\u9765\u8C12\u90BA\u6654\u70E8\u533B\u94F1\u9890\u9057\u4EEA\u8681\u827A\u4EBF\u5FC6\u4E49\u8BE3\u8BAE\u8C0A\u8BD1\u5F02\u7ECE\u8BD2\u5453\u5CC4\u9974\u603F\u9A7F\u7F22\u8F76\u8D3B\u9487\u9552\u9571\u7617\u8223\u836B\u9634\u94F6\u996E\u9690\u94DF\u763E\u6A31\u5A74\u9E70\u5E94\u7F28\u83B9\u8424\u8425\u8367\u8747\u8D62\u9896\u8314\u83BA\u8426\u84E5\u6484\u5624\u6EE2\u6F46\u748E\u9E66\u763F\u988F\u7F42\u54DF\u62E5\u4F63\u75C8\u8E0A\u548F\u955B\u4F18\u5FE7\u90AE\u94C0\u72B9\u8BF1\u83B8\u94D5\u9C7F\u8206\u9C7C\u6E14\u5A31\u4E0E\u5C7F\u8BED\u72F1\u8A89\u9884\u9A6D\u4F1B\u4FE3\u8C00\u8C15\u84E3\u5D5B\u996B\u9608\u59AA\u7EA1\u89CE\u6B24\u94B0\u9E46\u9E6C\u9F89\u9E33\u6E0A\u8F95\u56ED\u5458\u5706\u7F18\u8FDC\u6A7C\u9E22\u9F0B\u7EA6\u8DC3\u94A5\u7CA4\u60A6\u9605\u94BA\u90E7\u5300\u9668\u8FD0\u8574\u915D\u6655\u97F5\u90D3\u82B8\u607D\u6120\u7EAD\u97EB\u6B92\u6C32\u6742\u707E\u8F7D\u6512\u6682\u8D5E\u74D2\u8DB1\u933E\u8D43\u810F\u9A75\u51FF\u67A3\u8D23\u62E9\u5219\u6CFD\u8D5C\u5567\u5E3B\u7BA6\u8D3C\u8C2E\u8D60\u7EFC\u7F2F\u8F67\u94E1\u95F8\u6805\u8BC8\u658B\u503A\u6BE1\u76CF\u65A9\u8F97\u5D2D\u6808\u6218\u7EFD\u8C35\u5F20\u6DA8\u5E10\u8D26\u80C0\u8D75\u8BCF\u948A\u86F0\u8F99\u9517\u8FD9\u8C2A\u8F84\u9E67\u8D1E\u9488\u4FA6\u8BCA\u9547\u9635\u6D48\u7F1C\u6862\u8F78\u8D48\u796F\u9E29\u6323\u7741\u72F0\u4E89\u5E27\u75C7\u90D1\u8BC1\u8BE4\u5CE5\u94B2\u94EE\u7B5D\u7EC7\u804C\u6267\u7EB8\u631A\u63B7\u5E1C\u8D28\u6EDE\u9A98\u6809\u6800\u8F75\u8F7E\u8D3D\u9E37\u86F3\u7D77\u8E2C\u8E2F\u89EF\u949F\u7EC8\u79CD\u80BF\u4F17\u953A\u8BCC\u8F74\u76B1\u663C\u9AA4\u7EA3\u7EC9\u732A\u8BF8\u8BDB\u70DB\u77A9\u5631\u8D2E\u94F8\u9A7B\u4F2B\u69E0\u94E2\u4E13\u7816\u8F6C\u8D5A\u556D\u9994\u989E\u6869\u5E84\u88C5\u5986\u58EE\u72B6\u9525\u8D58\u5760\u7F00\u9A93\u7F12\u8C06\u51C6\u7740\u6D4A\u8BFC\u956F\u5179\u8D44\u6E0D\u8C18\u7F01\u8F8E\u8D40\u7726\u9531\u9F87\u9CBB\u8E2A\u603B\u7EB5\u506C\u90B9\u8BF9\u9A7A\u9CB0\u8BC5\u7EC4\u955E\u94BB\u7F35\u8E9C\u9CDF\u7FF1\u5E76\u535C\u6C89\u4E11\u6DC0\u8FED\u6597\u8303\u5E72\u768B\u7845\u67DC\u540E\u4F19\u79F8\u6770\u8BC0\u5938\u91CC\u91CC\u51CC\u4E48\u9709\u637B\u51C4\u6266\u5723\u5C38\u62AC\u6D82\u6D3C\u5582\u6C61\u9528\u54B8\u874E\u5F5D\u6D8C\u6E38\u5401\u5FA1\u613F\u5CB3\u4E91\u7076\u624E\u672D\u7B51\u4E8E\u5FD7\u6CE8\u51CB\u8BA0\u8C2B\u90C4\u52D0\u51FC\u5742\u5785\u57B4\u57EF\u57DD\u82D8\u836C\u836E\u839C\u83BC\u83F0\u85C1\u63F8\u5412\u5423\u5494\u549D\u54B4\u5658\u567C\u56AF\u5E5E\u5C99\u5D74\u5F77\u5FBC\u72B8\u72CD\u9980\u9987\u9993\u9995\u6123\u61B7\u61D4\u4E2C\u6E86\u6EDF\u6EB7\u6F24\u6F74\u6FB9\u752F\u7E9F\u7ED4\u7EF1\u73C9\u67A7\u684A\u6849\u69D4\u6A65\u8F71\u8F77\u8D4D\u80B7\u80E8\u98DA\u7173\u7145\u7198\u610D\u6DFC\u781C\u78D9\u770D\u949A\u94B7\u94D8\u94DE\u9503\u950D\u950E\u950F\u9518\u951D\u952A\u952B\u953F\u9545\u954E\u9562\u9565\u9569\u9572\u7A06\u9E4B\u9E5B\u9E71\u75AC\u75B4\u75D6\u766F\u88E5\u8941\u8022\u98A5\u87A8\u9EB4\u9C85\u9C86\u9C87\u9C9E\u9CB4\u9CBA\u9CBC\u9CCA\u9CCB\u9CD8\u9CD9\u9792\u97B4\u9F44\u4E2C\u4E3A\u4EB8\u4F17\u4F2A\u4F59\u51A2\u51C0\u51CC\u51FC\u522C\u52CB\u52D0\u52DA\u5364\u53C6\u53C7\u542F\u5494\u54A4\u54B4\u54CC\u54D7\u551D\u5521\u5523\u553F\u556E\u5570\u5574\u5475\u567C\u56AF\u5785\u57A7\u57AF\u57B1\u57D9\u57DD\u5846\u5899\u58F8\u59AB\u59DC\u5A34\u5A73\u5C43\u5CBD\u5CC3\u5CE3\u5D04\u5D5A\u5D5B\u5D74\u5EBC\u5F5F\u5FA1\u610D\u616D\u61B7\u624E\u6266\u631C\u6326\u637B\u63F8\u65F8\u663D\u672D\u684A\u68BC\u68BE\u68C2\u69DA\u6A90\u6C61\u6C93\u6CA8\u6CA9\u6CB5\u6D49\u6D50\u6D55\u6D8C\u6DA2\u6E7F\u6E87\u6EEA\u6F24\u7145\u7173\u7198\u7266\u729F\u72CD\u72DD\u732C\u7399\u739A\u73B1\u73C9\u73CF\u73F0\u740E\u7487\u7572\u75B4\u7606\u7618\u766F\u772C\u7740\u7841\u7845\u7859\u785A\u7877\u78B9\u78D9\u794E\u79FE\u7B5C\u7B7E\u7B93\u7CC7\u7E9F\u7EAE\u7EB4\u7EBB\u7EBC\u7ED6\u7EE4\u7EE6\u7EEC\u7EF1\u7EF9\u7F0A\u7F10\u7F1E\u7F30\u7FD9\u7FDA\u80B7\u810F\u814C\u8158\u816D\u81DC\u8273\u8279\u8359\u839C\u83BC\u841A\u85C1\u866C\u8780\u87CF\u8885\u8886\u88AF\u88C8\u88E5\u8941\u8955\u89C3\u89CD\u8A5F\u8BB1\u8BBB\u8BC7\u8BD0\u8BEA\u8C1E\u8C25\u8C37\u8C6E\u8D20\u8D4D\u8D51\u8D52\u8D57\u8D5F\u8D6A\u8DD6\u8DF6\u8E0A\u8F6A\u8F80\u8F8C\u8F92\u90C1\u90C4\u9166\u9245\u9274\u948E\u9491\u9496\u9498\u94B5\u94BB\u94CF\u94DA\u94E6\u94FB\u9508\u950F\u951C\u9520\u9528\u9533\u953D\u9543\u9548\u9555\u955A\u9560\u9562\u956E\u9574\u95EC\u95F2\u95FF\u9607\u9613\u9618\u961B\u9655\u97B4\u97E8\u988B\u988E\u9892\u9895\u9899\u98A3\u98CF\u98D0\u98D4\u98D6\u98D7\u9964\u9965\u9966\u9973\u9978\u9979\u997B\u997E\u9982\u9983\u9989\u998C\u998E\u9A72\u9A83\u9A89\u9A8D\u9A8E\u9A94\u9A95\u9A99\u9AA6\u9C7D\u9C7E\u9C80\u9C84\u9C89\u9C8A\u9C8C\u9C8F\u9C93\u9C96\u9C97\u9C98\u9C99\u9C9D\u9CAA\u9CAC\u9CAF\u9CB9\u9CBE\u9CBF\u9CC0\u9CC1\u9CC2\u9CC8\u9CC9\u9CD1\u9CD2\u9CDB\u9CE0\u9CE1\u9CE3\u9E24\u9E27\u9E2E\u9E30\u9E34\u9E3B\u9E3C\u9E40\u9E47\u9E4D\u9E50\u9E52\u9E53\u9E54\u9E56\u9E5D\u9E5F\u9E60\u9E61\u9E62\u9E65\u9E6F\u9E72\u9E74\u9EE1\u9F0C\u9F17\u9F81\u9F82\u5FD7\u5236\u54A8\u53EA\u7CFB\u677E\u5C1D\u9762\u5E72\u62FC\u6076\u8D5E\u53D1\u50F5\u81F4\u5978\u83B7\u7EC3\u56DE\u7CFB\u8FF9\u53EA\u8F9F\u677F\u4F60"}function jO(){return"\u9312\u769A\u85F9\u7919\u611B\u566F\u5B21\u74A6\u66D6\u9744\u8AF3\u92A8\u9D6A\u9AAF\u8956\u5967\u5ABC\u9A41\u9C32\u58E9\u7F77\u9200\u64FA\u6557\u5504\u9812\u8FA6\u7D46\u9211\u5E6B\u7D81\u938A\u8B17\u525D\u98FD\u5BF6\u5831\u9B91\u9D07\u9F59\u8F29\u8C9D\u92C7\u72FD\u5099\u618A\u9D6F\u8CC1\u931B\u7E43\u7B46\u7562\u6583\u5E63\u9589\u84FD\u55F6\u6F77\u924D\u7BF3\u8E55\u908A\u7DE8\u8CB6\u8B8A\u8FAF\u8FAE\u8290\u7DF6\u7C69\u6A19\u9A43\u98AE\u98C6\u93E2\u9463\u9C3E\u9C49\u5225\u765F\u7015\u6FF1\u8CD3\u64EF\u5110\u7E7D\u6AB3\u6BAF\u81CF\u944C\u9AD5\u9B22\u9905\u7A1F\u64A5\u7F3D\u9251\u99C1\u9911\u9238\u9D53\u88DC\u923D\u8CA1\u53C3\u8836\u6B98\u615A\u6158\u71E6\u9A42\u9EF2\u84BC\u8259\u5009\u6EC4\u5EC1\u5074\u518A\u6E2C\u60FB\u5C64\u8A6B\u9364\u5115\u91F5\u6519\u647B\u87EC\u995E\u8B92\u7E8F\u93DF\u7522\u95E1\u986B\u56C5\u8AC2\u8B96\u8546\u61FA\u5B0B\u9A4F\u8998\u79AA\u9414\u5834\u5617\u9577\u511F\u8178\u5EE0\u66A2\u5000\u8407\u60B5\u95B6\u9BE7\u9214\u8ECA\u5FB9\u7868\u5875\u9673\u896F\u5096\u8AF6\u6AEC\u78E3\u9F54\u6490\u7A31\u61F2\u8AA0\u9A01\u68D6\u6A89\u92EE\u943A\u7661\u9072\u99B3\u6065\u9F52\u71BE\u98ED\u9D1F\u6C96\u885D\u87F2\u5BF5\u9283\u7587\u8E8A\u7C4C\u7DA2\u5114\u5E6C\u8B8E\u6AE5\u5EDA\u92E4\u96DB\u790E\u5132\u89F8\u8655\u82BB\u7D40\u8E95\u50B3\u91E7\u7621\u95D6\u5275\u6134\u9318\u7D9E\u7D14\u9D89\u7DBD\u8F1F\u9F6A\u8FAD\u8A5E\u8CDC\u9DBF\u8070\u8525\u56EA\u5F9E\u53E2\u84EF\u9A44\u6A05\u6E4A\u8F33\u8EA5\u7AC4\u651B\u932F\u92BC\u9E7A\u9054\u5660\u97C3\u5E36\u8CB8\u99D8\u7D3F\u64D4\u55AE\u9132\u64A3\u81BD\u619A\u8A95\u5F48\u6BAB\u8CE7\u7649\u7C1E\u7576\u64CB\u9EE8\u8569\u6A94\u8B9C\u78AD\u8960\u6417\u5CF6\u79B1\u5C0E\u76DC\u71FE\u71C8\u9127\u9419\u6575\u6ECC\u905E\u7DE0\u7CF4\u8A46\u8AE6\u7D88\u89BF\u93D1\u985B\u9EDE\u588A\u96FB\u5DD4\u923F\u7672\u91E3\u8ABF\u929A\u9BDB\u8ADC\u758A\u9C08\u91D8\u9802\u9320\u8A02\u92CC\u4E1F\u92A9\u6771\u52D5\u68DF\u51CD\u5D20\u9D87\u7AC7\u72A2\u7368\u8B80\u8CED\u934D\u7006\u6ADD\u7258\u7BE4\u9EF7\u935B\u65B7\u7DDE\u7C6A\u514C\u968A\u5C0D\u61DF\u9413\u5678\u9813\u920D\u71C9\u8E89\u596A\u58AE\u9438\u9D5D\u984D\u8A1B\u60E1\u9913\u8AE4\u580A\u95BC\u8EDB\u92E8\u9354\u9D9A\u984E\u9853\u9C77\u8A92\u5152\u723E\u990C\u8CB3\u9087\u927A\u9D2F\u9B9E\u767C\u7F70\u95A5\u743A\u792C\u91E9\u7169\u8CA9\u98EF\u8A2A\u7D21\u9201\u9B74\u98DB\u8AB9\u5EE2\u8CBB\u7DCB\u9428\u9BE1\u7D1B\u58B3\u596E\u61A4\u7CDE\u50E8\u8C50\u6953\u92D2\u98A8\u760B\u99AE\u7E2B\u8AF7\u9CF3\u7043\u819A\u8F3B\u64AB\u8F14\u8CE6\u5FA9\u8CA0\u8A03\u5A66\u7E1B\u9CE7\u99D9\u7D31\u7D3C\u8CFB\u9EA9\u9B92\u9C12\u91D3\u8A72\u9223\u84CB\u8CC5\u687F\u8D95\u7A08\u8D1B\u5C37\u641F\u7D3A\u5CA1\u525B\u92FC\u7DB1\u5D17\u6207\u93AC\u776A\u8AA5\u7E1E\u92EF\u64F1\u9D3F\u95A3\u927B\u500B\u7D07\u9398\u6F41\u7D66\u4E99\u8CE1\u7D86\u9BC1\u9F94\u5BAE\u978F\u8CA2\u9264\u6E9D\u830D\u69CB\u8CFC\u5920\u8A6C\u7DF1\u89AF\u8831\u9867\u8A41\u8F42\u9237\u932E\u9D23\u9D60\u9DBB\u526E\u639B\u9D30\u6451\u95DC\u89C0\u9928\u6163\u8CAB\u8A7F\u645C\u9E1B\u9C25\u5EE3\u7377\u898F\u6B78\u9F9C\u95A8\u8ECC\u8A6D\u8CB4\u528A\u532D\u528C\u5AAF\u6A9C\u9BAD\u9C56\u8F25\u6EFE\u889E\u7DC4\u9BC0\u934B\u570B\u904E\u581D\u54BC\u5E57\u69E8\u87C8\u927F\u99ED\u97D3\u6F22\u95DE\u7D4E\u9821\u865F\u705D\u9865\u95A1\u9DB4\u8CC0\u8A36\u95D4\u8823\u6A6B\u8F5F\u9D3B\u7D05\u9ECC\u8A0C\u8452\u958E\u9C5F\u58FA\u8B77\u6EEC\u6236\u6EF8\u9D98\u5629\u83EF\u756B\u5283\u8A71\u9A4A\u6A3A\u93F5\u61F7\u58DE\u6B61\u74B0\u9084\u7DE9\u63DB\u559A\u7613\u7165\u6E19\u5950\u7E6F\u9370\u9BC7\u9EC3\u8B0A\u9C09\u63EE\u8F1D\u6BC0\u8CC4\u7A62\u6703\u71F4\u532F\u8AF1\u8AA8\u7E6A\u8A7C\u8588\u5666\u6FAE\u7E62\u743F\u6689\u8477\u6E3E\u8AE2\u991B\u95BD\u7372\u8CA8\u798D\u9225\u944A\u64CA\u6A5F\u7A4D\u9951\u8DE1\u8B4F\u96DE\u7E3E\u7DDD\u6975\u8F2F\u7D1A\u64E0\u5E7E\u858A\u5291\u6FDF\u8A08\u8A18\u969B\u7E7C\u7D00\u8A10\u8A70\u85BA\u5630\u568C\u9A65\u74A3\u89AC\u9F4F\u78EF\u7F88\u8806\u8E8B\u973D\u9C6D\u9BFD\u593E\u83A2\u9830\u8CC8\u9240\u50F9\u99D5\u90DF\u6D79\u92CF\u93B5\u87EF\u6BB2\u76E3\u5805\u7B8B\u9593\u8271\u7DD8\u7E6D\u6AA2\u583F\u9E7C\u63C0\u64BF\u7C21\u5109\u6E1B\u85A6\u6ABB\u9452\u8E10\u8CE4\u898B\u9375\u8266\u528D\u991E\u6F38\u6FFA\u6F97\u8AEB\u7E11\u6214\u6229\u77BC\u9DBC\u7B67\u9C39\u97C9\u5C07\u6F3F\u8523\u69F3\u734E\u8B1B\u91AC\u7D73\u97C1\u81A0\u6F86\u9A55\u5B0C\u652A\u9278\u77EF\u50E5\u8173\u9903\u7E73\u7D5E\u8F4E\u8F03\u649F\u5DA0\u9DE6\u9BAB\u968E\u7BC0\u6F54\u7D50\u8AA1\u5C46\u7664\u981C\u9B9A\u7DCA\u9326\u50C5\u8B39\u9032\u6649\u71FC\u76E1\u52C1\u834A\u8396\u5DF9\u85CE\u9949\u7E09\u8D10\u89B2\u9BE8\u9A5A\u7D93\u9838\u975C\u93E1\u5F91\u75D9\u7AF6\u51C8\u5244\u6D87\u9015\u5F33\u811B\u975A\u7CFE\u5EC4\u820A\u9B2E\u9CE9\u9DF2\u99D2\u8209\u64DA\u92F8\u61FC\u5287\u8A4E\u5C68\u6AF8\u98B6\u9245\u92E6\u7AB6\u9F5F\u9D51\u7D79\u9308\u942B\u96CB\u89BA\u6C7A\u7D55\u8B4E\u73A8\u921E\u8ECD\u99FF\u76B8\u958B\u51F1\u5274\u584F\u613E\u6137\u93A7\u9347\u9F95\u958C\u9227\u92AC\u9846\u6BBC\u8AB2\u9A0D\u7DD9\u8EFB\u9233\u9301\u9837\u58BE\u61C7\u9F66\u93D7\u6473\u5EAB\u8932\u56B3\u584A\u5108\u9136\u5672\u81BE\u5BEC\u736A\u9AD6\u7926\u66E0\u6CC1\u8A86\u8A91\u913A\u58D9\u7E8A\u8CBA\u8667\u5DCB\u7ABA\u994B\u6F70\u5331\u8562\u6192\u8075\u7C23\u95AB\u9315\u9BE4\u64F4\u95CA\u8810\u881F\u81D8\u840A\u4F86\u8CF4\u5D0D\u5FA0\u6DF6\u7028\u8CDA\u775E\u9338\u7669\u7C5F\u85CD\u6B04\u6514\u7C43\u95CC\u862D\u703E\u8B95\u652C\u89BD\u61F6\u7E9C\u721B\u6FEB\u5D50\u6B16\u6595\u946D\u8964\u746F\u95AC\u92C3\u6488\u52DE\u6F87\u562E\u5D97\u92A0\u9412\u7646\u6A02\u9C33\u9433\u58D8\u985E\u6DDA\u8A84\u7E32\u7C6C\u8C8D\u96E2\u9BC9\u79AE\u9E97\u53B2\u52F5\u792B\u6B77\u701D\u96B8\u5137\u9148\u58E2\u85F6\u849E\u863A\u56A6\u9090\u9A6A\u7E2D\u6AEA\u6ADF\u8F62\u792A\u92F0\u9E1D\u7658\u7CF2\u8E92\u9742\u9C7A\u9C67\u5006\u806F\u84EE\u9023\u942E\u6190\u6F23\u7C3E\u6582\u81C9\u93C8\u6200\u7149\u7DF4\u861E\u5969\u7032\u7489\u6BAE\u8933\u895D\u9C31\u7CE7\u6DBC\u5169\u8F1B\u8AD2\u9B4E\u7642\u907C\u9410\u7E5A\u91D5\u9DEF\u7375\u81E8\u9130\u9C57\u51DC\u8CC3\u85FA\u5EE9\u6A81\u8F54\u8EAA\u9F61\u9234\u9748\u5DBA\u9818\u7DBE\u6B1E\u87F6\u9BEA\u993E\u5289\u700F\u9A2E\u7DB9\u93A6\u9DDA\u9F8D\u807E\u56A8\u7C60\u58DF\u650F\u96B4\u8622\u7027\u74CF\u6AF3\u6727\u7931\u6A13\u5A41\u645F\u7C0D\u50C2\u851E\u560D\u5D81\u93E4\u763A\u802C\u87BB\u9ACF\u8606\u76E7\u9871\u5EEC\u7210\u64C4\u9E75\u865C\u9B6F\u8CC2\u797F\u9304\u9678\u58DA\u64FC\u5695\u95AD\u7018\u6DE5\u6AE8\u6AD3\u8F64\u8F05\u8F46\u6C0C\u81DA\u9E15\u9DFA\u826B\u9C78\u5DD2\u6523\u5B7F\u7064\u4E82\u81E0\u5B4C\u6B12\u9E1E\u947E\u6384\u8F2A\u502B\u4F96\u6DEA\u7DB8\u8AD6\u5707\u863F\u7F85\u908F\u947C\u7C6E\u9A3E\u99F1\u7D61\u7296\u7380\u6FFC\u6B0F\u8161\u93CD\u9A62\u5442\u92C1\u4FB6\u5C62\u7E37\u616E\u6FFE\u7DA0\u6ADA\u8938\u92DD\u5638\u5ABD\u746A\u78BC\u879E\u99AC\u7F75\u55CE\u561C\u5B24\u69AA\u8CB7\u9EA5\u8CE3\u9081\u8108\u52F1\u779E\u9945\u883B\u6EFF\u8B3E\u7E35\u93DD\u9859\u9C3B\u8C93\u9328\u925A\u8CBF\u9EBC\u6C92\u9382\u9580\u60B6\u5011\u636B\u71DC\u61E3\u9346\u9333\u5922\u7787\u8B0E\u5F4C\u8993\u51AA\u7F8B\u8B10\u737C\u79B0\u7DBF\u7DEC\u6FA0\u9766\u9EFD\u5EDF\u7DF2\u7E46\u6EC5\u61AB\u95A9\u9594\u7DE1\u9CF4\u9298\u8B2C\u8B28\u9A40\u9943\u6B7F\u93CC\u8B00\u755D\u926C\u5436\u9209\u7D0D\u96E3\u6493\u8166\u60F1\u9B27\u9403\u8A25\u9912\u5167\u64EC\u81A9\u922E\u9BE2\u6506\u8F26\u9BF0\u91C0\u9CE5\u8526\u88CA\u8076\u5699\u9477\u93B3\u9689\u8617\u56C1\u9862\u8EA1\u6AB8\u7370\u5BE7\u64F0\u6FD8\u82E7\u5680\u8079\u9215\u7D10\u81BF\u6FC3\u8FB2\u5102\u5665\u99D1\u91F9\u8AFE\u513A\u7627\u6B50\u9DD7\u6BC6\u5614\u6F1A\u8B33\u616A\u750C\u76E4\u8E63\u9F90\u62CB\u76B0\u8CE0\u8F61\u5674\u9D6C\u7D15\u7F86\u9239\u9A19\u8ADE\u99E2\u98C4\u7E39\u983B\u8CA7\u5B2A\u860B\u6191\u8A55\u6F51\u9817\u91D9\u64B2\u92EA\u6A38\u8B5C\u93F7\u9420\u68F2\u81CD\u9F4A\u9A0E\u8C48\u555F\u6C23\u68C4\u8A16\u8604\u9A0F\u7DBA\u69BF\u78E7\u980E\u980F\u9C2D\u727D\u91EC\u925B\u9077\u7C3D\u8B19\u9322\u9257\u6F5B\u6DFA\u8B74\u5879\u50C9\u8541\u6173\u9A2B\u7E7E\u69E7\u9210\u69CD\u55C6\u58BB\u8594\u5F37\u6436\u5B19\u6AA3\u6227\u7197\u9306\u93D8\u93F9\u7FA5\u8E4C\u936C\u6A4B\u55AC\u50D1\u7FF9\u7AC5\u8A9A\u8B59\u854E\u7E70\u78FD\u8E7A\u7ACA\u611C\u9365\u7BCB\u6B3D\u89AA\u5BE2\u92DF\u8F15\u6C2B\u50BE\u9803\u8ACB\u6176\u64B3\u9BD6\u74CA\u7AAE\u7162\u86FA\u5DF0\u8CD5\u87E3\u9C0D\u8DA8\u5340\u8EC0\u9A45\u9F72\u8A58\u5D87\u95C3\u89B7\u9D1D\u9874\u6B0A\u52F8\u8A6E\u7DA3\u8F07\u9293\u537B\u9D72\u78BA\u95CB\u95D5\u6128\u8B93\u9952\u64FE\u7E5E\u8558\u5B08\u6A48\u71B1\u97CC\u8A8D\u7D09\u98EA\u8ED4\u69AE\u7D68\u5DB8\u8811\u7E1F\u92A3\u9870\u8EDF\u92B3\u8706\u958F\u6F64\u7051\u85A9\u98AF\u9C13\u8CFD\u5098\u6BFF\u7CDD\u55AA\u9A37\u6383\u7E45\u6F80\u55C7\u92AB\u7A61\u6BBA\u524E\u7D17\u93A9\u9BCA\u7BE9\u66EC\u91C3\u522A\u9583\u965C\u8D0D\u7E55\u8A15\u59CD\u9A38\u91E4\u9C54\u5891\u50B7\u8CDE\u5770\u6BA4\u89F4\u71D2\u7D39\u8CD2\u651D\u61FE\u8A2D\u5399\u7044\u756C\u7D33\u5BE9\u5B38\u814E\u6EF2\u8A75\u8AD7\u700B\u8072\u7E69\u52DD\u5E2B\u7345\u6FD5\u8A69\u6642\u8755\u5BE6\u8B58\u99DB\u52E2\u9069\u91CB\u98FE\u8996\u8A66\u8B1A\u5852\u8494\u5F12\u8EFE\u8CB0\u9230\u9C23\u58FD\u7378\u7DAC\u6A1E\u8F38\u66F8\u8D16\u5C6C\u8853\u6A39\u8C4E\u6578\u6504\u7D13\u5E25\u9582\u96D9\u8AB0\u7A05\u9806\u8AAA\u78A9\u720D\u9460\u7D72\u98FC\u5EDD\u99DF\u7DE6\u9376\u9DE5\u8073\u616B\u980C\u8A1F\u8AA6\u64FB\u85EA\u993F\u98BC\u93AA\u8607\u8A34\u8085\u8B16\u7A4C\u96D6\u96A8\u7D8F\u6B72\u8AB6\u5B6B\u640D\u7B4D\u84C0\u733B\u7E2E\u7463\u9396\u55E9\u8127\u737A\u64BB\u95E5\u9248\u9C28\u81FA\u614B\u9226\u9B90\u6524\u8CAA\u7671\u7058\u58C7\u8B5A\u8AC7\u5606\u66C7\u926D\u931F\u9807\u6E6F\u71D9\u513B\u9933\u940B\u93DC\u6FE4\u7D73\u8A0E\u97DC\u92F1\u9A30\u8B04\u92BB\u984C\u9AD4\u5C5C\u7DF9\u9D5C\u95D0\u689D\u7CF6\u9F60\u9C37\u8CBC\u9435\u5EF3\u807D\u70F4\u9285\u7D71\u615F\u982D\u9204\u79BF\u5716\u91F7\u5718\u6476\u9839\u86FB\u98E9\u812B\u9D15\u99B1\u99DD\u6A62\u7C5C\u9F09\u896A\u5AA7\u8183\u5F4E\u7063\u9811\u842C\u7D08\u7DB0\u7DB2\u8F1E\u97CB\u9055\u570D\u70BA\u6FF0\u7DAD\u8466\u5049\u507D\u7DEF\u8B02\u885B\u8AC9\u5E43\u95C8\u6E88\u6F7F\u744B\u97D9\u7152\u9BAA\u6EAB\u805E\u7D0B\u7A69\u554F\u95BF\u7515\u64BE\u8778\u6E26\u7AA9\u81E5\u8435\u9F77\u55DA\u93A2\u70CF\u8AA3\u7121\u856A\u5433\u5862\u9727\u52D9\u8AA4\u9114\u5EE1\u61AE\u5AF5\u9A16\u9D61\u9DA9\u932B\u72A7\u8972\u7FD2\u9291\u6232\u7D30\u993C\u9B29\u74BD\u89A1\u8766\u8F44\u5CFD\u4FE0\u72F9\u5EC8\u5687\u7864\u9BAE\u7E96\u8CE2\u929C\u9591\u986F\u96AA\u73FE\u737B\u7E23\u9921\u7FA8\u61B2\u7DDA\u83A7\u859F\u861A\u5CF4\u736B\u5AFB\u9DF4\u7647\u8814\u79C8\u8E9A\u5EC2\u9472\u9109\u8A73\u97FF\u9805\u858C\u9909\u9A64\u7DD7\u9957\u856D\u56C2\u92B7\u66C9\u562F\u5635\u701F\u9A4D\u7D83\u689F\u7C2B\u5354\u633E\u651C\u8105\u8AE7\u5BEB\u7009\u8B1D\u893B\u64F7\u7D32\u7E88\u92C5\u91C1\u8208\u9658\u6ECE\u5147\u6D36\u92B9\u7E61\u9948\u9D42\u865B\u5653\u9808\u8A31\u6558\u7DD2\u7E8C\u8A61\u980A\u8ED2\u61F8\u9078\u766C\u7D62\u8AFC\u9249\u93C7\u5B78\u8B14\u6FA9\u9C48\u52DB\u8A62\u5C0B\u99B4\u8A13\u8A0A\u905C\u5864\u6F6F\u9C58\u58D3\u9D09\u9D28\u555E\u4E9E\u8A1D\u57E1\u5A6D\u690F\u6C2C\u95B9\u7159\u9E7D\u56B4\u5DD6\u984F\u95BB\u8277\u53AD\u786F\u5F65\u8AFA\u9A57\u53B4\u8D17\u513C\u5157\u8B9E\u61E8\u9586\u91C5\u9B58\u995C\u9F34\u9D26\u694A\u63DA\u760D\u967D\u7662\u990A\u6A23\u716C\u7464\u6416\u582F\u9059\u7AAF\u8B20\u85E5\u8EFA\u9DC2\u9C29\u723A\u9801\u696D\u8449\u9768\u8B01\u9134\u66C4\u71C1\u91AB\u92A5\u9824\u907A\u5100\u87FB\u85DD\u5104\u61B6\u7FA9\u8A63\u8B70\u8ABC\u8B6F\u7570\u7E79\u8A52\u56C8\u5DA7\u98F4\u61CC\u9A5B\u7E0A\u8EFC\u8CBD\u91D4\u93B0\u943F\u761E\u8264\u852D\u9670\u9280\u98F2\u96B1\u92A6\u766E\u6AFB\u5B30\u9DF9\u61C9\u7E93\u7469\u87A2\u71DF\u7192\u8805\u8D0F\u7A4E\u584B\u9DAF\u7E08\u93A3\u6516\u56B6\u7005\u7020\u74D4\u9E1A\u766D\u9826\u7F4C\u55B2\u64C1\u50AD\u7670\u8E34\u8A60\u93DE\u512A\u6182\u90F5\u923E\u7336\u8A98\u8555\u92AA\u9B77\u8F3F\u9B5A\u6F01\u5A1B\u8207\u5DBC\u8A9E\u7344\u8B7D\u9810\u99AD\u50B4\u4FC1\u8ADB\u8AED\u8577\u5D33\u98EB\u95BE\u5AD7\u7D06\u89A6\u6B5F\u923A\u9D52\u9DF8\u9F6C\u9D1B\u6DF5\u8F45\u5712\u54E1\u5713\u7DE3\u9060\u6ADE\u9CF6\u9EFF\u7D04\u8E8D\u9470\u7CB5\u6085\u95B1\u925E\u9116\u52FB\u9695\u904B\u860A\u919E\u6688\u97FB\u9106\u8553\u60F2\u614D\u7D1C\u97DE\u6B9E\u6C33\u96DC\u707D\u8F09\u6522\u66AB\u8D0A\u74DA\u8DB2\u93E8\u8D13\u81DF\u99D4\u947F\u68D7\u8CAC\u64C7\u5247\u6FA4\u8CFE\u5616\u5E58\u7C00\u8CCA\u8B56\u8D08\u7D9C\u7E52\u8ECB\u9358\u9598\u67F5\u8A50\u9F4B\u50B5\u6C08\u76DE\u65AC\u8F3E\u5D84\u68E7\u6230\u7DBB\u8B6B\u5F35\u6F32\u5E33\u8CEC\u8139\u8D99\u8A54\u91D7\u87C4\u8F4D\u937A\u9019\u8B2B\u8F12\u9DD3\u8C9E\u91DD\u5075\u8A3A\u93AE\u9663\u6E5E\u7E1D\u6968\u8EEB\u8CD1\u798E\u9D06\u6399\u775C\u7319\u722D\u5E40\u7665\u912D\u8B49\u8ACD\u5D22\u9266\u931A\u7B8F\u7E54\u8077\u57F7\u7D19\u646F\u64F2\u5E5F\u8CEA\u6EEF\u9A2D\u6ADB\u6894\u8EF9\u8F0A\u8D04\u9DD9\u8784\u7E36\u8E93\u8E91\u89F6\u9418\u7D42\u7A2E\u816B\u773E\u937E\u8B05\u8EF8\u76BA\u665D\u9A5F\u7D02\u7E10\u8C6C\u8AF8\u8A85\u71ED\u77DA\u56D1\u8CAF\u9444\u99D0\u4F47\u6AE7\u9296\u5C08\u78DA\u8F49\u8CFA\u56C0\u994C\u9873\u6A01\u838A\u88DD\u599D\u58EF\u72C0\u9310\u8D05\u589C\u7DB4\u9A05\u7E0B\u8AC4\u6E96\u8457\u6FC1\u8AD1\u9432\u8332\u8CC7\u6F2C\u8AEE\u7DC7\u8F1C\u8CB2\u7725\u9319\u9F5C\u9BD4\u8E64\u7E3D\u7E31\u50AF\u9112\u8ACF\u9A36\u9BEB\u8A5B\u7D44\u93C3\u9246\u7E98\u8EA6\u9C52\u7FFA\u4E26\u8514\u6C88\u919C\u6FB1\u53E0\u9B25\u7BC4\u5E79\u81EF\u77FD\u6AC3\u5F8C\u5925\u7A2D\u5091\u8A23\u8A87\u88E1\u88CF\u6DE9\u9EBD\u9EF4\u649A\u6DD2\u6261\u8056\u5C4D\u64E1\u5857\u7AAA\u9935\u6C59\u9341\u9E79\u880D\u5F5C\u6E67\u904A\u7C72\u79A6\u9858\u5DBD\u96F2\u7AC8\u7D2E\u5284\u7BC9\u65BC\u8A8C\u8A3B\u96D5\u8A01\u8B7E\u90E4\u731B\u6C39\u962A\u58DF\u5816\u57B5\u588A\u6ABE\u8552\u8464\u84E7\u8493\u83C7\u69C1\u6463\u54A4\u551A\u54E2\u565D\u5645\u6485\u5288\u8B14\u8946\u5DB4\u810A\u4EFF\u50E5\u7341\u9E85\u9918\u9937\u994A\u9962\u695E\u6035\u61CD\u723F\u6F35\u7069\u6DF7\u6FEB\u7026\u6DE1\u5BE7\u7CF8\u7D5D\u7DD4\u7449\u6898\u68EC\u6848\u6A70\u6AEB\u8EF2\u8EE4\u8CEB\u8181\u8156\u98C8\u7CCA\u7146\u6E9C\u6E63\u6E3A\u78B8\u6EFE\u7798\u9208\u9255\u92E3\u92B1\u92E5\u92F6\u9426\u9427\u9369\u9340\u9343\u9307\u9384\u9387\u93BF\u941D\u9465\u9479\u9454\u7A6D\u9D93\u9DA5\u9E0C\u7667\u5C59\u7602\u81D2\u8947\u7E48\u802E\u986C\u87CE\u9EAF\u9B81\u9B83\u9B8E\u9BD7\u9BDD\u9BF4\u9C5D\u9BFF\u9C20\u9C35\u9C45\u97BD\u97DD\u9F47\u4E2C\u7232\u56B2\u8846\u50DE\u9918\u51A2\u6DE8\u51CC\u51FC\u5257\u52F3\u52D0\u52E9\u6EF7\u9749\u9746\u5553\u5494\u5412\u54B4\u54CC\u8B41\u55CA\u5562\u5523\u553F\u9F67\u56C9\u563D\u5475\u567C\u56AF\u58E0\u57A7\u58B6\u58CB\u58CE\u57DD\u58EA\u7246\u58FC\u5B00\u59DC\u5AFA\u5AFF\u5C53\u5D2C\u5DA8\u5DA2\u5DAE\u5D94\u5D5B\u5D74\u5ECE\u5F60\u5FA1\u610D\u6196\u61B7\u624E\u6266\u6397\u648F\u637B\u63F8\u6698\u66E8\u672D\u684A\u6AAE\u68F6\u6AFA\u6A9F\u6A90\u6C61\u6C93\u6E22\u6F59\u6CB5\u6EAE\u6EFB\u6FDC\u6D8C\u6EB3\u6EBC\u6F0A\u6FA6\u6F24\u7145\u7173\u7198\u729B\u729F\u72CD\u736E\u875F\u74B5\u7452\u7472\u73C9\u73CF\u74AB\u74A1\u7487\u7572\u75FE\u762E\u763B\u766F\u77D3\u7740\u785C\u7845\u78D1\u7904\u7906\u78B9\u78D9\u7995\u7A60\u7C39\u7C64\u7C59\u9931\u7CF9\u7D18\u7D1D\u7D35\u7D16\u7D70\u7D8C\u7D5B\u7DD3\u979D\u7DAF\u7E15\u7DDA\u7E17\u7E6E\u7FFD\u7FEC\u80B7\u9AD2\u9183\u8195\u9F76\u81E2\u8C54\u8279\u8598\u839C\u84F4\u8600\u85C1\u866F\u87BF\u8828\u5ACB\u8918\u894F\u890C\u8949\u8941\u8974\u898E\u89A5\u8B8B\u8A12\u8A29\u8A57\u8A56\u8B78\u8ADD\u8AE1\u8C37\u8C76\u8C9F\u9F4E\u8D14\u8CD9\u8CF5\u8D07\u8D6C\u8DD6\u8E82\u8E0A\u8ED1\u8F08\u8F2C\u8F40\u9B31\u90C4\u91B1\u9245\u9451\u91FA\u9212\u935A\u9203\u9262\u947D\u9276\u928D\u929B\u92D9\u93FD\u9417\u9321\u9329\u6774\u9348\u9360\u93A1\u939B\u9394\u93F0\u93D0\u9481\u9436\u945E\u9588\u9592\u95D3\u95CD\u95E0\u95D2\u95E4\u965D\u97B4\u97CD\u9832\u71B2\u982E\u9834\u9852\u7E87\u98BA\u98AD\u98B8\u98BB\u98C0\u98E3\u98E2\u98E5\u98FF\u9904\u990E\u990F\u9916\u9915\u991C\u9936\u9941\u993A\u99B9\u99F0\u9A6B\u9A02\u99F8\u9A0C\u9A4C\u9A24\u9A66\u9B5B\u9B62\u9B68\u9B7A\u9B8B\u9B93\u9B8A\u9B8D\u9BB3\u9BA6\u9C02\u9B9C\u9C60\u9BBA\u9BB6\u9BD2\u9BD5\u9C3A\u9C0F\u9C68\u9BF7\u9C2E\u9C03\u9C01\u9C42\u9C1F\u9C1C\u9C3C\u9C6F\u9C64\u9C63\u9CF2\u9DAC\u9D1E\u9D12\u9DFD\u9D34\u9D43\u9D50\u9DF3\u9D7E\u9D6E\u9D8A\u9D77\u9DEB\u9DA1\u9DCA\u9DB2\u9DB9\u9DBA\u9DC1\u9DD6\u9E07\u9E0F\u9E18\u9EF6\u9F02\u9780\u9F55\u9F57\u5FD7\u5236\u8AEE\u53EA\u7CFB\u9B06\u5690\u9762\u4E7E\u62FC\u5641\u8B9A\u9AEE\u6BAD\u7DFB\u59E6\u7A6B\u934A\u8FF4\u4FC2\u8E5F\u96BB\u95E2\u95C6\u59B3"}var Srt=new Map([["\u5403","\u5403"],["\u6CE8","\u6CE8"]]);function ec(e){let t="";for(let r=0;r<e.length;r++){let n=e.charAt(r);if(Srt.has(n)){t+=n;continue}let s=rfe().indexOf(n);s!==-1?t+=jO().charAt(s):t+=n}return t}function Jt(e){let t="";for(let r=0;r<e.length;r++)jO().indexOf(e.charAt(r))!=-1?t+=rfe().charAt(jO().indexOf(e.charAt(r))):t+=e.charAt(r);return t}function Bu(e){return!/[\u4e00-\u9fff]/.test(e)}function Trt(e,t){let r=1;if(e.length>0&&e[0].p){let o=e[0].p.match(/\[([^\]]*)\]$/);o&&o[1]&&(r=o[1].split(/[&]/).length)}if(r>1&&x("info",`[Smart Deduplication] Detected multi-source merged danmaku (${r} sources). Applying smart count adjustment.`),t===0&&r===1)return e.map(a=>({...a,t:a.t!==void 0?a.t:parseFloat(a.p.split(",")[0])}));let n=e.reduce((a,o)=>{let c=o.t!==void 0?o.t:parseFloat(o.p.split(",")[0]),u=t===0?c.toFixed(2):Math.floor(c/(t*60));return a[u]||(a[u]=[]),a[u].push({...o,t:c}),a},{});return Object.keys(n).map(a=>{let c=n[a].reduce((u,l)=>{let d=l.m.split(" X")[0].trim();return u[d]||(u[d]={count:0,earliestT:l.t,cid:l.cid,p:l.p}),u[d].count+=1,u[d].earliestT=Math.min(u[d].earliestT,l.t),u},{});return Object.keys(c).map(u=>{let l=c[u],d=Math.round(l.count/r);return d<1&&(d=1),{cid:l.cid,p:l.p,m:d>1?`${u} x ${d}`:u,t:l.earliestT}})}).flat().sort((a,o)=>a.t-o.t)}function Brt(e,t){if(t===0)return e;let r=t*1e3,n=e.length;if(n<=r)return e;let s=n/r,a=[];for(let o=0;o<r;o++){let c=Math.floor(o*s);a.push(e[c])}return a}function EA(e,t){let r=[],n=1,s=[];if(typeof e=="string")s=[...e.matchAll(/<d p="([^"]+)">([^<]+)<\/d>/g)].map(d=>({p:d[1],m:d[2]}));else if(e&&Array.isArray(e.danmuku)){let d={right:1,top:4,bottom:5},f=p=>p?parseInt(p.replace("#",""),16):16777215;s=e.danmuku.map(p=>({timepoint:p[0],ct:d[p[1]]!==void 0?d[p[1]]:1,color:f(p[2]),content:p[4]}))}else Array.isArray(e)&&(s=e);if(!s.length)return[];for(let d of s){let f,p,m,h,g;if("progress"in d&&"mode"in d&&"content"in d)m=(d.progress/1e3).toFixed(2),h=d.mode||1,g=d.color||16777215,p=d.content;else if("timepoint"in d)m=parseFloat(d.timepoint).toFixed(2),h=d.ct||0,g=d.color||16777215,p=d.content;else{if(!("p"in d))continue;let A=d.p.split(",");m=parseFloat(A[0]).toFixed(2),h=A[1]||0,A.length===4?g=A[2]||16777215:A.length>=8?g=A[3]||16777215:g=A[3]||A[2]||16777215,p=d.m}f=[m,h,g,`[${t}]`].join(","),r.push({p:f,m:p,cid:n++})}let a=R.blockedWords.split(/(?<=\/),(?=\/)/).map(d=>{let f=d.trim();if(f.startsWith("/")&&f.endsWith("/"))try{return new RegExp(f.slice(1,-1))}catch(p){return x("error",`\u65E0\u6548\u7684\u6B63\u5219\u8868\u8FBE\u5F0F: ${f}`,p),null}return null}).filter(d=>d!==null);x("info",`\u539F\u59CB\u5C4F\u853D\u8BCD\u5B57\u7B26\u4E32: ${R.blockedWords}`),x("info",`\u5C4F\u853D\u8BCD\u5217\u8868: ${(d=>Array.isArray(d)?d.map(f=>f.toString()).join(`
`):String(d))(a)}`);let c=r.filter(d=>!a.some(f=>f.test(d.m)));x("info",`\u53BB\u91CD\u5206\u949F\u6570: ${R.groupMinute}`);let u=Trt(c,R.groupMinute),l=Brt(u,R.danmuLimit);if(R.convertTopBottomToScroll||R.convertColor==="white"||R.convertColor==="color"){let d=0,f=0;l=l.map(p=>{let m=p.p.split(",");if(m.length<3)return p;let h=parseInt(m[1],10),g=parseInt(m[2],10),A=!1;R.convertTopBottomToScroll&&(h===4||h===5)&&(d++,h=1,A=!0),R.convertColor==="white"&&g!==16777215&&(f++,g=16777215,A=!0);let y=[16777215,16777215,16777215,16777215,16777215,16777215,16777215,16777215,16744319,16752762,16774799,9498256,8388564,8900346,14204888,16758465],v=y[Math.floor(Math.random()*y.length)];if(R.convertColor==="color"&&g===16777215&&g!==v&&(f++,g=v,A=!0),A){let b=[m[0],h,g,...m.slice(3)].join(",");return{...p,p:b}}return p}),d>0&&x("info",`[danmu convert] \u8F6C\u6362\u4E86 ${d} \u6761\u9876\u90E8/\u5E95\u90E8\u5F39\u5E55\u4E3A\u6D6E\u52A8\u5F39\u5E55`),f>0&&x("info",`[danmu convert] \u8F6C\u6362\u4E86 ${f} \u6761\u5F39\u5E55\u989C\u8272`)}return R.danmuSimplifiedTraditional==="traditional"&&(l=l.map(d=>({...d,m:ec(d.m)})),x("info",`[danmu convert] \u8F6C\u6362\u4E86 ${l.length} \u6761\u5F39\u5E55\u4E3A\u7E41\u4F53\u5B57`)),x("info",`danmus_original: ${r.length}`),x("info",`danmus_filter: ${c.length}`),x("info",`danmus_group: ${u.length}`),x("info",`danmus_limit: ${l.length}`),x("info","Top 5 danmus:",JSON.stringify(l.slice(0,5),null,2)),l}function HO(e){return typeof e.r!="number"||e.r<0||e.r>255||typeof e.g!="number"||e.g<0||e.g>255||typeof e.b!="number"||e.b<0||e.b>255?-1:e.r*256*256+e.g*256+e.b}function S2(e){return typeof e!="string"||e.length!==6||!/^[0-9A-Fa-f]{6}$/.test(e)?16777215:parseInt(e,16)}function Rrt(e){let t=`<?xml version="1.0" ?>
`;t+=`<i>
`;let r=e.comments||[];if(Array.isArray(r))for(let n of r){let s=krt(n);t+='    <d p="'+Drt(s)+'">'+Prt(n.m)+`</d>
`}return t+="</i>",t}function Nrt(){let t=(Date.now()%1e8).toString().padStart(8,"0"),r=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return t+r}function krt(e){let t=e.p.split(","),n=(parseFloat(t[0])||0).toFixed(1),s=t[1]||"1",a="25",o=t[2]||"16777215",c="1751533608",u="0",l="0",d=Nrt();return`${n},${s},${a},${o},${c},${u},${l},${d}`}function Drt(e){return e?String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):""}function Prt(e){return e?String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}function eo(e,t){let r=t||R.danmuOutputFormat;if(r=r.toLowerCase(),x("info",`[Format] Using format: ${r}`),r==="xml")try{let n=Rrt(e);return Dde(n)}catch(n){return x("error",`Failed to convert to XML: ${n.message}`),Ee(e)}return Ee(e)}Pt();var tc=class{constructor({apiKey:t,baseURL:r="https://api.openai.com/v1",model:n="gpt-4o",systemPrompt:s=""}){this.apiKey=t,this.baseURL=r.replace(/\/$/,""),this.model=n,this.systemPrompt=s}async chat(t,r={}){let n={model:r.model||this.model,messages:t,temperature:r.temperature??0,max_tokens:r.maxTokens??8192,stream:!1},s=await sr(`${this.baseURL}/chat/completions`,JSON.stringify(n),{headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},timeout:6e4}),a=s.data;if(a?.error){let o=a.error.message;throw new Error(`AI API error ${s.status}: ${o}`)}return a.choices[0].message.content}async ask(t,r={}){let n=[];return this.systemPrompt&&n.push({role:"system",content:this.systemPrompt}),n.push({role:"user",content:t}),this.chat(n,r)}session(t={}){let r=[],n=this.chat.bind(this),s=this.systemPrompt;return s&&r.push({role:"system",content:s}),{async send(a){r.push({role:"user",content:a});let o=await n(r,t);return r.push({role:"assistant",content:o}),o},clear(){r.length=0,s&&r.push({role:"system",content:s})},getHistory(){return[...r]}}}async verify(){try{return{ok:!0,reply:await this.ask("hi",{maxTokens:1})}}catch(t){return{ok:!1,error:t.message}}}};ht();Pt();et();A2();Br();Zr();ht();et();Pt();var T2=new Map;async function xA(e,t={}){let n=`https://api.tmdb.org/3/${e}`,s=R.makeProxyUrl(n);try{let a=await pe(s,{method:"GET",headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"},signal:t.signal});return a.status!=200?null:a}catch(a){if(a.name==="AbortError")throw a;return x("error","[TMDB] Api error:",{message:a.message,name:a.name,stack:a.stack}),null}}async function B2(e,t="multi",r={}){let{page:n=1,maxPages:s=3,signal:a=null}=r;if(r.page!==void 0){let c=`search/${t}?api_key=${R.tmdbApiKey}&query=${encodeURIComponent(e)}&language=zh-CN&page=${n}`;return await xA(c,{signal:a})}let o=[];for(let c=1;c<=s;c++){if(a&&a.aborted)throw new DOMException("Aborted","AbortError");let u=`search/${t}?api_key=${R.tmdbApiKey}&query=${encodeURIComponent(e)}&language=zh-CN&page=${c}`,l=await xA(u,{signal:a});if(!l||!l.data)break;let d=typeof l.data=="string"?JSON.parse(l.data):l.data;if(!d.results||d.results.length===0||(o.push(...d.results),d.results.length<20))break}return x("info",`[TMDB] \u5171\u83B7\u53D6\u5230 ${o.length} \u6761\u641C\u7D22\u7ED3\u679C\uFF08\u6700\u591A${s}\u9875\uFF09`),{data:{results:o},status:200}}async function Ort(e,t,r={}){let n=`${e}/${t}?api_key=${R.tmdbApiKey}&language=ja-JP`;return await xA(n,r)}async function nfe(e,t,r={}){let n=`${e}/${t}/external_ids?api_key=${R.tmdbApiKey}`;return await xA(n,r)}async function $rt(e,t,r={}){let n=`${e}/${t}/alternative_titles?api_key=${R.tmdbApiKey}`;return await xA(n,r)}function Lrt(e,t){if(!e||!e.data)return null;let r=e.data.results||e.data.titles||[];if(!Array.isArray(r)||r.length===0)return null;let n=["CN","TW","HK","SG"];for(let a of n){let o=r.find(c=>{let u=c.iso_3166_1||c.iso_639_1,l=c.title||c.name||"";return u===a&&l&&!Bu(l)});if(o){let c=o.title||o.name;return x("info",`[TMDB] \u4ECE\u522B\u540D\u4E2D\u627E\u5230\u4E2D\u6587\u6807\u9898 (${a}): ${c}`),c}}let s=r.find(a=>{let o=a.title||a.name||"";return o&&!Bu(o)});if(s){let a=s.title||s.name;return x("info",`[TMDB] \u4ECE\u522B\u540D\u4E2D\u627E\u5230\u4E2D\u6587\u6807\u9898 (\u5176\u4ED6\u5730\u533A): ${a}`),a}return null}async function Mrt(e,t){let r=e.name||e.title||"";if(!Bu(r))return r;x("info",`[TMDB] \u68C0\u6D4B\u5230\u975E\u4E2D\u6587\u6807\u9898 "${r}", \u5C1D\u8BD5\u83B7\u53D6\u4E2D\u6587\u522B\u540D`);let n=e.media_type||(e.name?"tv":"movie");try{if(t&&t.aborted)throw new DOMException("Aborted","AbortError");let s=await $rt(n,e.id,{signal:t});if(t&&t.aborted)throw new DOMException("Aborted","AbortError");let a=Lrt(s,n);return a?(x("info",`[TMDB] \u5C06\u4F7F\u7528\u4E2D\u6587\u522B\u540D\u8FDB\u884C\u76F8\u4F3C\u5339\u914D: ${a}`),a):(x("info",`[TMDB] \u672A\u627E\u5230\u4E2D\u6587\u522B\u540D\uFF0C\u4F7F\u7528\u539F\u6807\u9898: ${r}`),r)}catch(s){if(s.name==="AbortError")throw s;return x("error",`[TMDB] \u83B7\u53D6\u522B\u540D\u5931\u8D25: ${s.message}`),r}}async function R2(e,t=null,r="Unknown"){if(!R.tmdbApiKey)return x("info","[TMDB] \u672A\u914D\u7F6EAPI\u5BC6\u94A5\uFF0C\u8DF3\u8FC7TMDB\u641C\u7D22"),null;let n=Urt(e);n!==e&&x("info",`[TMDB] \u4F18\u5316\u641C\u7D22\u5173\u952E\u8BCD: "${e}" -> "${n}"`);let s=T2.get(n);if(s)x("info",`[TMDB] \u52A0\u5165\u6B63\u5728\u8FDB\u884C\u7684\u641C\u7D22: ${n} (${r})`);else{let o=new AbortController;s={controller:o,refCount:0,promise:(async()=>{try{let u=o.signal,l=B=>{let N=B.genre_ids||[],O=B.genres||[],k=N.length>0?N:O.map(j=>j.id),P=B.original_language||"";return k.includes(16)?{isValid:!0,reason:"\u660E\u786E\u52A8\u753B\u7C7B\u578B(genre_id: 16)"}:P==="ja"?{isValid:!0,reason:"\u539F\u59CB\u8BED\u8A00\u4E3A\u65E5\u8BED(ja),\u53EF\u80FD\u662F\u65E5\u5267/\u65E5\u5F71/\u65E5\u7EFC\u827A"}:{isValid:!1,reason:`\u975E\u52A8\u753B\u4E14\u975E\u65E5\u8BED\u5185\u5BB9(language: ${P}, genres: ${k.join(",")})`}},d=B=>{if(!B||B.length===0)return{hasValid:!1,validCount:0,totalCount:0,details:"\u641C\u7D22\u7ED3\u679C\u4E3A\u7A7A"};let N=0,O=[];for(let k of B){let P=l(k);if(P.isValid){N++;let D=k.name||k.title||"\u672A\u77E5";O.push(`${D}(${P.reason})`)}}return{hasValid:N>0,validCount:N,totalCount:B.length,details:N>0?`\u627E\u5230${N}\u4E2A\u7B26\u5408\u6761\u4EF6\u7684\u5185\u5BB9: ${O.slice(0,3).join(", ")}${N>3?"...":""}`:`\u6240\u6709${B.length}\u4E2A\u7ED3\u679C\u5747\u4E0D\u7B26\u5408\u6761\u4EF6(\u975E\u52A8\u753B\u4E14\u975E\u65E5\u8BED)`}},f=(B,N)=>{let O=U=>U.toLowerCase().replace(/\s+/g,"").replace(/[:""'']/g,"").trim(),k=O(B),P=O(N);if(k===P)return 1;let D=k.length<P.length?k:P,j=k.length>=P.length?k:P;if(j.includes(D)&&D.length>0)return .6+D.length/j.length*.3;let H=B.length>N.length?B:N,V=B.length>N.length?N:B;if(H.length===0)return 1;let X=(U,re)=>{U=U.toLowerCase(),re=re.toLowerCase();let se=[];for(let te=0;te<=U.length;te++){let ae=te;for(let xe=0;xe<=re.length;xe++)if(te===0)se[xe]=xe;else if(xe>0){let _e=se[xe-1];U.charAt(te-1)!==re.charAt(xe-1)&&(_e=Math.min(Math.min(_e,ae),se[xe])+1),se[xe-1]=ae,ae=_e}te>0&&(se[re.length]=ae)}return se[re.length]};return(H.length-X(H,V))/H.length};if(x("info",`[TMDB] \u6B63\u5728\u641C\u7D22 (Shared Task): ${n}`),u.aborted)throw new DOMException("Aborted","AbortError");let p=await B2(n,"multi",{signal:u});if(!p||!p.data)return x("info","[TMDB] TMDB\u641C\u7D22\u7ED3\u679C\u4E3A\u7A7A"),null;let m=typeof p.data=="string"?JSON.parse(p.data):p.data;if(!m.results||m.results.length===0)return x("info","[TMDB] TMDB\u672A\u627E\u5230\u4EFB\u4F55\u7ED3\u679C"),null;let h=d(m.results);if(!h.hasValid)return x("info",`[TMDB] \u7C7B\u578B\u5224\u65AD\u672A\u901A\u8FC7,\u8DF3\u8FC7\u540E\u7EED\u641C\u7D22: ${h.details}`),null;x("info",`[TMDB] \u7C7B\u578B\u5224\u65AD\u901A\u8FC7: ${h.details}`);let g=null,A=-1,y=null,v=0,b=5,E=!1;for(let B of m.results){let N=B.name||B.title||"";if(!N)continue;let O=f(n,N),k=B.original_name||B.original_title||"",P=k?f(n,k):0,D=Math.max(O,P);if(D===1&&!E){E=!0,x("info",`[TMDB] \u5339\u914D\u68C0\u67E5 "${N}" - \u76F8\u4F3C\u5EA6: 100.00% (\u5B8C\u5168\u5339\u914D\uFF0C\u8DF3\u8FC7\u540E\u7EED\u6240\u6709\u522B\u540D\u641C\u7D22)`),D>A&&(A=D,g=B,y=N);continue}let j,H;if(E||!Bu(N))j=N,H=D,E&&Bu(N)?x("info",`[TMDB] \u5339\u914D\u68C0\u67E5 "${N}" - \u76F8\u4F3C\u5EA6: ${(H*100).toFixed(2)}% (\u5DF2\u627E\u5230\u5B8C\u5168\u5339\u914D\uFF0C\u8DF3\u8FC7\u522B\u540D\u641C\u7D22)`):x("info",`[TMDB] \u5339\u914D\u68C0\u67E5 "${N}" - \u76F8\u4F3C\u5EA6: ${(H*100).toFixed(2)}%`);else{if(v<b)try{j=await Mrt(B,u),j!==N&&v++}catch(U){if(U.name==="AbortError")throw U;x("error",`[TMDB] \u5904\u7406\u7ED3\u679C\u5931\u8D25: ${U.message}`),j=N}else j=N,x("info",`[TMDB] \u5DF2\u8FBE\u5230\u522B\u540D\u83B7\u53D6\u4E0A\u9650(${b})\uFF0C\u4F7F\u7528\u539F\u6807\u9898: ${N}`);let V=f(n,j);H=Math.max(V,P);let X=j!==N?`"${N}" (\u522B\u540D: ${j})`:`"${N}"`;x("info",`[TMDB] \u5339\u914D\u68C0\u67E5 ${X} - \u76F8\u4F3C\u5EA6: ${(H*100).toFixed(2)}%`),H===1&&!E&&(E=!0,x("info","[TMDB] \u901A\u8FC7\u522B\u540D\u627E\u5230\u5B8C\u5168\u5339\u914D\uFF0C\u8DF3\u8FC7\u540E\u7EED\u6240\u6709\u522B\u540D\u641C\u7D22"))}H>A&&(A=H,g=B,y=j)}if(!g||A<.2)return x("info",`[TMDB] \u6700\u4F73\u5339\u914D\u76F8\u4F3C\u5EA6\u8FC7\u4F4E\u6216\u672A\u627E\u5230\u5339\u914D (${g?(A*100).toFixed(2)+"%":"N/A"}),\u8DF3\u8FC7`),null;x("info",`[TMDB] TMDB\u6700\u4F73\u5339\u914D: ${y}, \u76F8\u4F3C\u5EA6: ${(A*100).toFixed(2)}%`);let w=g.media_type||(g.name?"tv":"movie"),S=await Ort(w,g.id,{signal:u}),T;if(!S||!S.data)T=g.name||g.title,x("info",`[TMDB] \u4F7F\u7528\u4E2D\u6587\u641C\u7D22\u7ED3\u679C\u6807\u9898: ${T}`);else{let B=typeof S.data=="string"?JSON.parse(S.data):S.data;T=B.original_name||B.original_title||B.name||B.title,x("info",`[TMDB] \u627E\u5230\u65E5\u8BED\u539F\u540D: ${T}`)}return{title:T,cnAlias:y}}catch(u){return u.name==="AbortError"?(x("info",`[TMDB] \u540E\u53F0\u641C\u7D22\u4EFB\u52A1\u5DF2\u5B8C\u5168\u7EC8\u6B62 (${n})`),null):(x("error","[TMDB] Background Search error:",{message:u.message,name:u.name,stack:u.stack}),null)}})().finally(()=>{T2.delete(n)})},T2.set(n,s),x("info",`[TMDB] \u542F\u52A8\u65B0\u641C\u7D22\u4EFB\u52A1: ${n}`)}s.refCount++;let a=()=>{T2.get(n)===s&&(s.refCount--,s.refCount<=0&&(x("info",`[TMDB] \u6240\u6709\u8C03\u7528\u8005\u5DF2\u53D6\u6D88\uFF0C\u7EC8\u6B62\u540E\u53F0\u8BF7\u6C42: ${n}`),s.controller.abort()))};if(t){if(t.aborted)return a(),x("info",`[TMDB] \u641C\u7D22\u5DF2\u88AB\u4E2D\u65AD (Source: ${r})`),null;t.addEventListener("abort",a,{once:!0})}try{let o=new Promise((c,u)=>{t&&t.addEventListener("abort",()=>u(new DOMException("Aborted","AbortError")),{once:!0})});return await Promise.race([s.promise,o])}catch(o){return o.name==="AbortError"?(x("info",`[TMDB] \u641C\u7D22\u5DF2\u88AB\u4E2D\u65AD (Source: ${r})`),null):(x("error",`[TMDB] \u641C\u7D22\u5F02\u5E38: ${o.message}`),null)}}async function sfe(e,t=null,r=null){if(!Bu(e))return e;let n=t!=null,s=n?"tv":"movie";try{let a=await B2(e,s);if(!a.data.results||a.data.results.length===0)return x("info","[TMDB] TMDB\u672A\u627E\u5230\u4EFB\u4F55\u7ED3\u679C"),e;let c=a.data.results.find(l=>{let d=n?l.name:l.title;return d&&!Bu(d)})||a.data.results[0],u=n?c.name:c.title;return u?(x("info",`\u539F\u6807\u9898: ${e} -> \u4E2D\u6587\u6807\u9898: ${u}`),u):e}catch(a){return x("error","\u67E5\u8BE2 TMDB \u65F6\u51FA\u9519:",a),e}}var Frt=[/(\s+|^)(?:)?(\d+|[]+)[]/,/(\s+|^)season\s*\d+/i,/(\s+|^)s\d+/i,/(\s+|^)part\s*\d+/i,/(\s+|^)the\s+final\s+season/i,/(\s+|^)movie(?![a-z])/i,/(\s+|^)film(?![a-z])/i,/(\s+|^)ova(?![a-z])/i,/(\s+|^)oad(?![a-z])/i,/(\s+|^)sp(?![a-z])/i,/[:]\s*.+/,/[~].+/,/\s+.*/,/.*/],Qrt=/[ :~]/;function ife(e){let t=e.length;for(let r of Frt){let n=e.match(r);n&&n.index!==void 0&&n.index<t&&(t=n.index)}return t}function Urt(e){let t=ife(e);return t<e.length?e.substring(0,t).trim():e}function N2(e,t){if(!e||e.length===0||!t)return;x("info",`[TMDB] \u542F\u52A8\u667A\u80FD\u66FF\u6362\uFF0C\u76EE\u6807\u522B\u540D: "${t}"\uFF0C\u5F85\u5904\u7406\u6761\u76EE: ${e.length}`);let r=e.map(s=>{let a=s.org_title||s.title||"",o=ife(a);return a.substring(0,o)}),n="";if(r.length>0){let s=r.concat().sort(),a=s[0],o=s[s.length-1],c=0;for(;c<a.length&&a.charAt(c)===o.charAt(c);)c++;n=a.substring(0,c)}n&&n.length>1&&x("info",`[TMDB] \u8BA1\u7B97\u51FA\u6700\u957F\u516C\u5171\u524D\u7F00 (LCP): "${n}"`);for(let s=0;s<e.length;s++){let a=e[s],o=a.title||"";if(n&&n.length>1&&o.startsWith(n)){let c=o.substring(n.length).trim(),u;c?c.match(/^[~:]/)?u=t+c:u=t+" "+c:u=t,a._displayTitle=u,x("info",`[TMDB] [LCP\u6A21\u5F0F] "${o}" -> "${u}"`)}else{let c=o.match(Qrt);if(c){let u=o.substring(c.index),l=t+u;a._displayTitle=l,x("info",`[TMDB] [\u5206\u9694\u7B26\u6A21\u5F0F] "${o}" -> "${l}"`)}else a._displayTitle=t,x("info",`[TMDB] [\u5168\u66FF\u6A21\u5F0F] "${o}" -> "${t}"`)}}}ht();et();Br();var Wp="$$$",zO="&",qrt=!1,xn=Object.freeze({TITLE_STRUCTURE_CONFLICT:-.15,LANG_MATCH_CN:.15,LANG_MISMATCH:-.2,DATE_MATCH:0,EP_ALIGN:{MOVIE_TYPE_MISMATCH:-5,SPECIAL_STRICT_MISMATCH:-8,LANG_MATCH:3,LANG_MISMATCH:-5,SEASON_NUM_MISMATCH:-10,SPECIAL_TYPE_MISMATCH:-10,SPECIAL_TYPE_MATCH:3,IS_SPECIAL_MATCH:3,SEASON_SHIFT_EXACT:15,CN_STRICT_MATCH:25,CN_STRICT_MISMATCH:-5,NUMERIC_MATCH:2,PATTERN_CONSISTENCY_BONUS:2,ZERO_DIFF_BONUS_BASE:100,ZERO_DIFF_BONUS_PER_HIT:5}}),to=Object.freeze({SIMILARITY_MIN:.6,SIMILARITY_STRONG:.98,TIER_DEFAULT:.001,TIER_CN:.4,TIER_PART:.5,COLLECTION_RATIO:4,COLLECTION_DIFF:6});function at(e,...t){typeof t[0]=="string"&&t[0].includes("[Merge-Check]")&&!qrt||x(e,...t)}var ue={Lang:{CN:/(||||||||||||)(?:)?/,JP:/(|||)(?:)?/,CN_DUB_VER:/(\(||\[)?(||||||||||||)?(\)||\])?/g,JP_DUB_VER:/(\(||\[)?(|||)?(\)||\])?/g,KEYWORDS_STRONG:/(?:||||||||||||||||)(?:)?/g,CN_STD:/||||||||||||/g,JP_STD:/|||/g},Season:{PURE_PART:/^(?:(?:|S(?:eason)?)\s*\d+(?:||)?|(?:Part|P|)\s*\d+(?:)?)$/i,PART_NORM:/(\d+)/g,PART_NORM_2:/(?:Part|P)[\s.]*(\d+)/gi,FINAL:/(?:The\s+)?Final\s+Season/gi,NORM:/(?:Season|S)\s*(\d+)/gi,CN:/([])/g,ROMAN:/(\s|^)(IV|III|II|I)(\s|$)/g,INFO_STRONG:/(?:season|s|)\s*[0-9]+\s*(?:||(?!))?/gi,PART_INFO_STRONG:/(?:part|p|)\s*\d+\s*(?:)?/gi,PART_ANY:/(?:part|p)\s*\d+/gi,CN_STRUCTURE:/(?:^|\s|\d+\s?)(||)(?=$|[\s\(\\[])/i,SUFFIX_AMBIGUOUS:/(?:[\s\u4e00-\u9fa5]|^)(S|T|R|II|III|IV)(?=$|[\s\(\\[])/i,SUFFIX_SEQUEL:/(?:||The Sequel)/i},Clean:{NA_TAG:/(\(||\[)N\/A(\)||\])/gi,SOURCE_TAG:/.*?/g,REGION_LIMIT:/(\(||\[).*?(\)||\])/g,PUNCTUATION:/[!?,.~:\-_]/g,WHITESPACE:/\s+/g,FROM_SUFFIX:/\s*from\s+.*$/i,PARENTHESES_CONTENT:/(\(||\[).*?(\)||\])/g,MOVIE_KEYWORDS:/|the\s*movie|theatrical|movie|film|/gi,LONE_VER_CHAR:/(\s|^)(\s|$)/g,NON_ALPHANUM_CN:/[^\u4e00-\u9fa5a-zA-Z0-9]/g,META_SUFFIX:/(\(||\[)(|TV|||)(\)||\])/gi,YEAR_TAG:/(\(||\[)\d{4}(\)||\]).*$/i,SUBTITLE_SEPARATOR:/^[\s:\-(\[]/,SPACE_STRUCTURE:/.+[\s\u00A0\u3000].+/,SPLIT_SPACES:/[\s\u00A0\u3000]+/,REDUNDANT_SEPARATOR:/[\s:~]/,REDUNDANT_UNSAFE_END:/[\(\\[:~\-]$/,REDUNDANT_VALID_CHARS:/[\u4e00-\u9fa5a-zA-Z]{2,}/},Episode:{SUFFIX_DIGIT:/_\d+(?=$|\s)/g,FILE_NOISE:/_(\d{2,4})(?=\.)/g,SEASON_PREFIX:/(?:^|\s)(?:[0-9]+|S(?:eason)?\s*\d+)(?:\s+|_)/gi,CLEAN_SMART:/(?:^|\s)(?:EP|E|Vol|Episode|No|Part|)\s*\d+(?:\.\d+)?(?:\s*[])?(?!\s*[])/gi,PUNCTUATION:/[!?,.~:\-]/g,DANDAN_TAG:/^(dandan|animeko)/i,SPECIAL_START:/^S\d+/i,MOVIE_CHECK:/|movie|film/i,PV_CHECK:/(pv|trailer|)/i,SPECIAL_CHECK:/^(s|o|sp|special)\d/i,SEASON_MATCH:/(?:^|\s)(?:|S)(\d+)[S]/i,NUM_STRATEGY_A:/(?:|s)(\d+)[s]\s*(?:|ep|e)(\d+)/i,NUM_STRATEGY_B:/(?:ep|e|vol|episode|chapter|no|part|)\s*(\d+(\.\d+)?)(?:\s*[])?(?!\s*[])/i,NUM_STRATEGY_C:/(?:^|\s)(?:)?(\d+(\.\d+)?)(?:||\s|$)/,DANDAN_IGNORE:/^[SC]\d+/i,MAP_EXCLUDE_KEYWORDS:/(?:^|\s)(?:PV|OP|ED|SP|Special|Drama|OAD|OVA|Opening|Ending|||Behind\s+the\s+Scenes|Making|Interview)(?:\s|$|[:])/i,SINK_TITLE_STRICT:/^(?:S\d+|C\d+|SP\d*|OP\d*|ED\d*|PV\d*|Trailers?|Interview|Making||)(?:\s|$|[:.\-]|\u3000)/i},Category:{ANIME_KW:/(|TV|||)/,REAL_KW:/(|||)/,ANIMEKO_SOURCE:/animeko/i},Similarity:{CN_STRICT_CORE_REMOVE:/[0-9a-zA-Z\spartEPep._\-:()]/gi}},P2=[{regex:/(?:\s|^)A's$/i,val:"S2"},{regex:/(?:\s|^)StrikerS$/i,val:"S3"},{regex:/(?:\s|^)ViVid$/i,val:"S4"},{regex:/(?:\s|^)SuperS$/i,val:"S4"}],jrt=[{regex:/(?:)?(\d+)(?:||(?!))/,prefix:"S"},{regex:/season\s*(\d+)/,prefix:"S"},{regex:/s(\d+)/,prefix:"S"},{regex:/part\s*(\d+)/,prefix:"P"},{regex:/(ova|oad)/,val:"OVA"},{regex:/(|the\s*movie|theatrical|movie|film|)/,val:"MOVIE"},{regex:/(|)/,val:"SEQUEL"},{regex:/sp/,val:"SP"},{regex:/[^0-9](\d)$/,prefix:"S",useCleaned:!0}];function Zs(e){if(!e)return"Unspecified";let t=e.toLowerCase();return ue.Lang.CN.test(t)?"CN":ue.Lang.JP.test(t)?"JP":"Unspecified"}function Ru(e){if(!e)return"";let t=Jt(e);t=t.replace(ue.Clean.NA_TAG,""),t=t.replace(ue.Season.PART_NORM,"part $1"),t=t.replace(ue.Season.PART_NORM_2,"part $1"),t=t.replace(ue.Season.FINAL,"\u6700\u7EC8\u5B63"),t=t.replace(ue.Season.NORM,"\u7B2C$1\u5B63");let r={\u4E00:"1",\u4E8C:"2",\u4E09:"3",\u56DB:"4",\u4E94:"5",\u516D:"6",\u4E03:"7",\u516B:"8",\u4E5D:"9",\u5341:"10"};return t=t.replace(ue.Season.CN,(n,s)=>`\u7B2C${r[s]}\u5B63`),t=t.replace(ue.Season.ROMAN,(n,s,a,o)=>`${s}\u7B2C${{I:"1",II:"2",III:"3",IV:"4"}[a]}\u5B63${o}`),t=t.replace(ue.Lang.CN_DUB_VER,"\u4E2D\u914D\u7248"),t=t.replace(ue.Lang.JP_DUB_VER,""),t=t.replace(ue.Clean.SOURCE_TAG,""),t=t.replace(ue.Clean.REGION_LIMIT,""),t=t.replace(/(\d+)\.(\d+)/g,"$1{{DOT}}$2"),t=t.replace(ue.Clean.PUNCTUATION," "),t=t.replace(/{{DOT}}/g,"."),t.replace(ue.Clean.WHITESPACE," ").toLowerCase().trim()}function Pi(e){if(!e)return"";let t=Jt(e),r=t.match(/^(?:|\[)(.+?)(?:|\])/);if(r){let n=r[1];/^(TV||movie|film|anime|||AVC|HEVC|MP4|MKV)$/i.test(n)||(t=t.replace(r[0],n+" "))}return t=t.replace(ue.Clean.SOURCE_TAG,""),t=t.replace(ue.Clean.FROM_SUFFIX,""),t=t.replace(ue.Clean.NA_TAG,""),t=t.replace(ue.Clean.PARENTHESES_CONTENT,""),t=t.replace(ue.Season.INFO_STRONG,""),t=t.replace(ue.Season.PART_INFO_STRONG,""),t=t.replace(ue.Clean.MOVIE_KEYWORDS,""),t=t.replace(ue.Lang.KEYWORDS_STRONG,""),t=t.replace(ue.Clean.LONE_VER_CHAR,""),t=t.replace(ue.Clean.NON_ALPHANUM_CN,""),t.toLowerCase()}function ffe(e){if(!e)return"";let t=Jt(e);return t=t.replace(ue.Episode.SUFFIX_DIGIT,""),t=t.replace(ue.Episode.FILE_NOISE,""),t=t.replace(ue.Episode.SEASON_PREFIX," "),t=t.replace(ue.Episode.CLEAN_SMART," "),t=t.replace(ue.Clean.SOURCE_TAG,""),t=t.replace(ue.Lang.CN_STD,"\u4E2D\u6587"),t=t.replace(ue.Lang.JP_STD,"\u65E5\u6587"),t=t.replace(/(\d+)\.(\d+)/g,"$1{{DOT}}$2"),t=t.replace(ue.Episode.PUNCTUATION," "),t=t.replace(/{{DOT}}/g,"."),t.replace(ue.Clean.WHITESPACE," ").toLowerCase().trim()}function afe(e){return e?e.replace(ue.Clean.PARENTHESES_CONTENT,"").trim():""}function pfe(e){if(!e)return"";let t=String(e).split(Wp)[0].trim();if(t.startsWith("//"))return"https:"+t;let r=t.match(/^([^:]+):(.+)$/);if(r){let n=r[1].toLowerCase(),s=r[2];return n==="http"||n==="https"?t:/^https?:\/\//i.test(s)?s:s.startsWith("//")?"https:"+s:s}return t}function ofe(e){if(!e||e==="N/A")return{year:null,month:null};let t=new Date(e),r=t.getTime();if(isNaN(r))return{year:null,month:null};let n=t.getFullYear();return n>2030?{year:null,month:null}:{year:n,month:t.getMonth()+1}}function Hrt(e,t){let r=e.length,n=t.length;if(r===0)return n;if(n===0)return r;let s=new Array(n+1),a=new Array(n+1);for(let o=0;o<=n;o++)s[o]=o;for(let o=1;o<=r;o++){a[0]=o;let c=e.charCodeAt(o-1);for(let l=1;l<=n;l++){let d=c===t.charCodeAt(l-1)?0:1;a[l]=Math.min(a[l-1]+1,s[l]+1,s[l-1]+d)}let u=s;s=a,a=u}return s[n]}function zrt(e,t){if(!e||!t)return 0;let r=new Set(e.replace(ue.Clean.WHITESPACE,"")),n=new Set(t.replace(ue.Clean.WHITESPACE,"")),s=r.size,a=n.size;if(s===0&&a===0)return 1;if(s===0||a===0)return 0;let o=0,[c,u]=s<a?[r,n]:[n,r];for(let l of c)u.has(l)&&o++;return 2*o/(s+a)}function Yp(e,t){if(!e||!t)return 0;let r=Pi(e),n=Pi(t);if(r===n)return 1;let s=r.length,a=n.length,o=Math.max(s,a),c=Math.min(s,a);if(r.includes(n)||n.includes(r)){let E=c/o;if(E>.5)return .8+E*.2}let u=Hrt(r,n),l=o===0?1:1-u/o,d=new Set(r.replace(ue.Clean.WHITESPACE,"")),f=new Set(n.replace(ue.Clean.WHITESPACE,"")),p=d.size,m=f.size;if(p===0||m===0)return 0;let h=0,[g,A]=p<m?[d,f]:[f,d];for(let E of g)A.has(E)&&h++;let y=2*h/(p+m),v=0,b=Math.min(p,m);return b>2&&(v=h/b,v>.6&&b/Math.max(p,m)<.6&&(v-=.25)),Math.max(l,y,v)}function Grt(e,t,r=!0){if(!e||!t||Pi(e)===Pi(t))return!1;let n=f=>{if(!f)return"";let p=Jt(f);return p=p.replace(ue.Clean.META_SUFFIX,"").replace(ue.Clean.YEAR_TAG,"").replace(ue.Clean.SOURCE_TAG,"").replace(ue.Clean.FROM_SUFFIX,"").replace(ue.Clean.WHITESPACE," "),p.trim().toLowerCase()},s=n(e),a=n(t);if(s===a)return!1;let o=f=>{let p=[":","\uFF1A"," code:"," code\uFF1A"," season"," part"];for(let h of p){let g=f.indexOf(h);if(g!==-1)return f.substring(g).trim()}let m=f.split(ue.Clean.WHITESPACE);return m.length>=2?m.slice(1).join(" "):null},c=o(s),u=o(a),[l,d]=s.length<a.length?[s,a]:[a,s];if(d.startsWith(l)){if(d.length===l.length)return!1;let f=d[l.length];if(ue.Clean.SUBTITLE_SEPARATOR.test(f)){let p=d.slice(l.length).replace(ue.Clean.SUBTITLE_SEPARATOR,"").trim();if(!r&&p.length>1||p.length>2)return!0}}return!!(c&&u&&zrt(c,u)<.2)}function Hs(e,t=""){let r=new Set,n=Ru(e),s=Ru(t||""),a=n.replace(ue.Season.PART_ANY,""),o=a.match(ue.Season.CN_STRUCTURE);if(o){let h=o[1];h==="\u627F"?r.add("S2"):h==="\u8F6C"?r.add("S3"):h==="\u7ED3"&&r.add("S4")}jrt.forEach(h=>{let A=(h.useCleaned?a:n).match(h.regex);A&&(h.prefix?r.add(`${h.prefix}${parseInt(A[1])}`):r.add(h.val))});let c=!1;for(let h of P2)if(h.regex.test(a)){r.add(h.val),c=!0;break}if(!c){let h=a.match(ue.Season.SUFFIX_AMBIGUOUS);if(h){r.add("AMBIGUOUS");let g=h[1].toUpperCase();g==="II"&&r.add("S2"),g==="III"&&r.add("S3"),g==="IV"&&r.add("S4")}}(ue.Season.SUFFIX_SEQUEL.test(n)||s.includes("\u7EED\u7BC7"))&&r.add("SEQUEL"),(s.includes("\u5267\u573A\u7248")||s.includes("movie")||s.includes("film")||s.includes("\u7535\u5F71"))&&r.add("MOVIE"),(s.includes("ova")||s.includes("oad"))&&r.add("OVA"),(s.includes("sp")||s.includes("special"))&&r.add("SP");let u={\u4E00:1,\u4E8C:2,\u4E09:3,\u56DB:4,\u4E94:5,final:99};for(let[h,g]of Object.entries(u))n.includes(`\u7B2C${h}\u5B63`)&&r.add(`S${g}`);let l=Array.from(r).some(h=>h.startsWith("S")),d=Array.from(r).some(h=>h.startsWith("P")),f=r.has("AMBIGUOUS"),p=r.has("SEQUEL"),m=r.has("MOVIE")||r.has("OVA")||r.has("SP");return d&&!l&&r.add("S1"),!l&&!d&&!f&&!p&&!m&&r.add("S1"),r}function rc(e,t=""){let r=Hs(e,t),n=null;for(let s of r)if(s.startsWith("S")){let a=parseInt(s.substring(1));isNaN(a)||(n===null||a>n)&&(n=a)}return n}function ld(e,t){let r=(e+" "+(t||"")).toLowerCase(),n=r.includes("\u7535\u5F71"),s=r.includes("\u7535\u89C6\u5267");return n&&!s?"MOVIE":s&&!n?"TV":null}function Jp(e,t,r){if(r&&ue.Category.ANIMEKO_SOURCE.test(r))return"ANIME";let n=(e+" "+(t||"")).toLowerCase();return ue.Category.ANIME_KW.test(n)?"ANIME":ue.Category.REAL_KW.test(n)?"REAL":"UNKNOWN"}function hfe(e,t,r,n){if(!((r||"").includes("\u5267\u573A\u7248")||(n||"").includes("\u5267\u573A\u7248")))return!1;let a=u=>u?Jt(u).replace(ue.Clean.YEAR_TAG,"").replace(ue.Clean.SOURCE_TAG,"").replace(ue.Clean.FROM_SUFFIX,"").trim():"",o=a(e),c=a(t);if(ue.Clean.SPACE_STRUCTURE.test(o)&&ue.Clean.SPACE_STRUCTURE.test(c)){let u=f=>{let p=f.split(ue.Clean.SPLIT_SPACES);return p.length>1?p.slice(1).join(" "):""},l=u(o),d=u(c);return!(ue.Season.PURE_PART.test(l)||ue.Season.PURE_PART.test(d))}return!1}function Vrt(e,t,r,n,s,a,o="",c=""){let u=Jp(e,r,o),l=Jp(t,n,c);if(u==="REAL"&&l==="ANIME"||u==="ANIME"&&l==="REAL")return!0;let d=ld(e,r),f=ld(t,n);return!d||!f||d===f||hfe(e,t,r,n)?!1:s>0&&a>0?Math.abs(s-a)>5:!0}function Krt(e,t,r,n){let s=Hs(e,r),a=Hs(t,n);if(s.size===0&&a.size===0)return!1;let o=d=>Array.from(d).some(f=>f.startsWith("S")&&parseInt(f.substring(1))>=2),c=d=>d.has("SEQUEL"),u=d=>d.has("AMBIGUOUS"),l=d=>d.has("S1");if(s.size>0&&a.size>0){if(u(s)&&l(a)||u(a)&&l(s))return!0;if(u(s)&&(o(a)||c(a))||u(a)&&(o(s)||c(s))||o(s)&&c(a)||o(a)&&c(s))return!1;for(let d of s)if(d.startsWith("S")){let f=a.has(d),p=Array.from(a).some(m=>m.startsWith("S"));if(!f&&p)return!0}return!1}return s.size!==a.size?!hfe(e,t,r,n):!1}function Yrt(e,t,r,n){let s=Hs(e,r),a=Hs(t,n),o=Array.from(s).filter(u=>u.startsWith("S")),c=Array.from(a).filter(u=>u.startsWith("S"));return o.length>0&&c.length>0?o.some(u=>c.includes(u)):!1}function Wrt(e,t,r=!1){if(!e.year||!t.year)return .05;let n=e.year-t.year;if(n===0){if(e.month&&t.month){let a=Math.abs(e.month-t.month);return a>2?0:a===0?.2:.1}return .1}let s=Math.abs(n);return r&&s<=10?0:s>1?-1:0}function Jrt(e,t,r,n,s,a=!1){if(n==="animeko"||s==="animeko")return!0;if(a){let u=Math.min(t,r);return u>0&&e/u>.5?!0:!(e<2)}let o=Math.max(t,r);if(o===0)return!1;let c=e/o;return!(o>5&&c<.18)}function Xrt(e){let t=new Map;if(!e||e.length<2)return t;let r=e.map(s=>{let a=s.animeTitle||"",o=Ru(a).replace(ue.Clean.SOURCE_TAG,"").replace(ue.Clean.FROM_SUFFIX,"").trim();return{id:s.animeId,raw:a,clean:o}}),n=new Set(r.map(s=>s.clean));for(let s of r){let a=null;for(let o of P2)if(s.clean.match(o.regex)){a=s.clean.replace(o.regex,"").trim();break}if(!a){let o=s.clean.match(ue.Season.SUFFIX_AMBIGUOUS);if(o){let c=o[1];s.clean.endsWith(c)&&(a=s.clean.substring(0,s.clean.length-c.length).trim())}}a&&a.length>1&&n.has(a)&&(t.set(String(s.id),a),at("info",`[Merge-Check] \u4E0A\u4E0B\u6587\u611F\u77E5: \u5224\u5B9A [${s.raw}] \u4E3A\u7EED\u4F5C (Base: "${a}" \u540C\u65F6\u4E5F\u5B58\u5728\u4E8E\u5217\u8868)`))}return t}function Zrt(e,t){let r={isStrongMatch:!1,isStrongMismatch:!1};if(!e.links||!t.links||e.links.length===0||t.links.length===0)return r;let n=g=>g.filter(A=>{let y=(A.title||A.name||"").toLowerCase();return!ue.Episode.PV_CHECK.test(y)&&!ue.Episode.SPECIAL_CHECK.test(y)}).length,s=n(e.links),a=n(t.links);s>5&&a>5&&Math.min(s,a)/Math.max(s,a)<.4;let o=g=>g.map(A=>ffe(A.title||A.name||"").replace(/\d+/g,"").trim()).filter(A=>A.length>1),c=o(e.links),u=o(t.links);if(c.length<3||u.length<3)return r;let l=Zs(c.join(" ")),d=Zs(u.join(" "));if(l!==d||l==="Unspecified")return r;let f=Math.min(c.length,u.length,5),p=0,m=0,h=[];for(let g=0;g<f;g++){let A=Math.floor(g*c.length/f),y=Math.floor(g*u.length/f),v=Yp(c[A],u[y]);g<3&&h.push(`"${c[A]}" vs "${u[y]}" (${v.toFixed(2)})`),v>.6?p++:v<.3&&m++}return p>=Math.ceil(f*.6)?(r.isStrongMatch=!0,at("info",`[Merge-Check] [Probe] \u91C7\u6837\u5BF9\u6BD4 (Match): ${h.join(", ")}`)):m>=Math.ceil(f*.8)&&(r.isStrongMismatch=!0,at("info",`[Merge-Check] [Probe] \u91C7\u6837\u5BF9\u6BD4 (Mismatch): ${h.join(", ")}`)),r}function ent(e,t,r=new Set){if(!t||t.length===0)return[];let n=e.animeTitle||"",s=n.replace(ue.Clean.YEAR_TAG,"").replace(/(|)/g,"").trim(),a=!!s.match(ue.Lang.CN_DUB_VER)||ue.Lang.CN.test(s),o=e.source==="hanjutv",c=n.includes("N/A")||o?{year:null,month:null}:ofe(e.startDate),u=e.episodeCount||(e.links?e.links.length:0),l=Zs(n),d=Ru(s),f=Pi(s),p=afe(s),m=Hs(n,e.typeDescription),h=Array.from(m).filter(T=>T.startsWith("S")),g=[{animeId:e.animeId,animeTitle:n},...t],A=Xrt(g),y=A.has(String(e.animeId)),v=A.get(String(e.animeId)),b=r.has(e.animeId),E=(T,B)=>{at("info",`[Merge-Check] \u62D2\u7EDD: [${e.source}] ${n} vs [${T}] -> ${B}`)},I=[],w=0;for(let T of t){let B=T.animeTitle||"",N=r.has(T.animeId),O=b||N,k=T.source==="hanjutv",P=B.includes("N/A")||k?{year:null,month:null}:ofe(T.startDate),D=Zs(B),j=B.replace(ue.Clean.YEAR_TAG,"").replace(/(|)/g,"").trim(),H=!!j.match(ue.Lang.CN_DUB_VER)||ue.Lang.CN.test(j),V=a||H,X=T.episodeCount||(T.links?T.links.length:0);if(j.includes("\u4E4B")){let G=j.split("\u4E4B"),J=Ru(G[0]);if(d===J){E(B,`\u7ED3\u6784\u51B2\u7A81: \u4E3B\u6807\u9898\u662F\u526F\u6807\u9898\u7684\u524D\u7F00\u7236\u96C6 (Prefix: "${J}")`);continue}}if(Vrt(n,B,e.typeDescription,T.typeDescription,u,X,e.source,T.source)){let G=Jp(n,e.typeDescription,e.source),J=Jp(B,T.typeDescription,T.source);E(B,`\u5A92\u4F53\u7C7B\u578B\u4E0D\u5339\u914D (P:${G}/${ld(n,e.typeDescription)} vs S:${J}/${ld(B,T.typeDescription)})`);continue}let U=c.year!==null&&P.year!==null,re=Grt(n,B,U);if(A.has(String(T.animeId))){let G=A.get(String(T.animeId));if(f===Pi(G)&&!(ue.Season.SUFFIX_AMBIGUOUS.test(d)||P2.some(K=>K.regex.test(d)))){E(B,`\u4E0A\u4E0B\u6587\u963B\u65AD: \u4E3B\u6E90(S1) vs \u526F\u6E90(S2/S\u7EED\u4F5C) (Base: "${G}")`);continue}}if(y&&Pi(j)===Pi(v)){E(B,`\u4E0A\u4E0B\u6587\u963B\u65AD: \u4E3B\u6E90(S2/Sequel) vs \u526F\u6E90(Base/S1) (Base: "${v}")`);continue}if(!U&&re){E(B,"\u6807\u9898\u7ED3\u6784\u51B2\u7A81\u4E14\u65E5\u671F\u65E0\u6548");continue}let te=Yrt(s,j,e.typeDescription,T.typeDescription),ae=Zrt(e,T),xe=n.search(ue.Clean.MOVIE_KEYWORDS)!==-1,_e=B.search(ue.Clean.MOVIE_KEYWORDS)!==-1;if(xe!==_e){let G=m,J=Hs(B,T.typeDescription),K=ee=>Pi(ee.replace(ue.Clean.MOVIE_KEYWORDS,"")),W=K(n),Z=K(B);if(Yp(W,Z)>.9&&!G.has("SEQUEL")&&!J.has("SEQUEL")){E(B,`\u5267\u573A\u7248\u6807\u9898\u963B\u65AD: [${xe?"Movie":"TV"}] vs [${_e?"Movie":"TV"}] (\u65E0\u7EED\u7BC7\u6807\u8BC6)`);continue}}let Ce=O?0:Wrt(c,P,V);if(Ce===-1){let G=te;if(ae.isStrongMatch&&(G=!0),O&&(G=!0),re&&!O&&(G=!1),G&&c.year&&P.year&&Math.abs(c.year-P.year)>2&&!ae.isStrongMatch&&!O&&(G=!1),!G){E(B,`\u65E5\u671F\u4E25\u91CD\u4E0D\u5339\u914D\u4E14\u65E0\u8C41\u514D (P:${c.year} vs S:${P.year}, IsDub:${V})`);continue}}if(!O&&Krt(s,j,e.typeDescription,T.typeDescription))if(ae.isStrongMatch)at("info",`[Merge-Check] \u5B63\u5EA6\u51B2\u7A81\u8C41\u514D: [${n}] vs [${B}] (Probe\u5F3A\u5339\u914D)`);else{E(B,"\u5B63\u5EA6\u6807\u8BB0\u51B2\u7A81");continue}let ve=[j];T.aliases&&Array.isArray(T.aliases)&&T.aliases.forEach(G=>{let J=G.replace(ue.Clean.YEAR_TAG,"").replace(/(|)/g,"").trim();J&&ve.push(J)});let Ae=0,$=0;for(let G of ve){let J=Yp(s,G);J>Ae&&(Ae=J);let K=afe(G),W=Yp(p,K);W>$&&($=W)}let M=Math.max(Ae,$),q=M;re&&(M+=xn.TITLE_STRUCTURE_CONFLICT),Ce!==-1&&(M+=Ce);let L=l==="CN",Q=D==="CN";if(L&&Q?M+=xn.LANG_MATCH_CN:L!==Q&&(M+=xn.LANG_MISMATCH),ae.isStrongMatch?(at("info",`[Merge-Check] \u96C6\u5185\u5BB9\u63A2\u6D4B: \u5F3A\u5339\u914D! \u63D0\u5347\u5206\u6570 (\u539F\u5206: ${M.toFixed(2)}) -> ${to.SIMILARITY_STRONG}`),M=Math.max(M,to.SIMILARITY_STRONG)):ae.isStrongMismatch&&(E(B,"\u96C6\u5185\u5BB9\u63A2\u6D4B: \u5F3A\u4E0D\u5339\u914D (\u96C6\u6807\u9898/\u5185\u5BB9\u5DEE\u5F02\u5DE8\u5927)"),M=0),M<to.SIMILARITY_MIN){let G=f,J=Pi(j);E(B,`\u76F8\u4F3C\u5EA6\u4E0D\u8DB3: ${M.toFixed(2)} (Raw:${q.toFixed(2)}, CleanA:"${G}", CleanB:"${J}")`)}else M>w&&(w=M),I.push({anime:T,score:M,lang:D,debugTitle:B}),at("info",`[Merge-Check] \u5019\u9009\u9009\u4E2D: ${B} Score=${M.toFixed(2)} (BestSoFar=${w.toFixed(2)})`)}if(I.length===0||w<to.SIMILARITY_MIN)return[];let S=I.filter(T=>{if(T.score>=w-to.TIER_DEFAULT||T.lang==="CN"&&T.score>=w-to.TIER_CN)return!0;let B=Hs(T.debugTitle,T.anime.typeDescription);if(Array.from(B).some(O=>O.startsWith("P"))&&T.score>=w-to.TIER_PART){let O=Array.from(B).filter(k=>k.startsWith("S"));if(h.length>0&&O.length>0){if(h.some(P=>O.includes(P)))return!0}else return!0}return!1});return S.sort((T,B)=>B.score-T.score),S.map(T=>T.anime)}function k2(e){if(!e)return null;let t=e.toLowerCase();return t.includes("opening")?"opening":t.includes("ending")?"ending":t.includes("interview")?"interview":t.includes("bloopers")?"Bloopers":null}function dd(e,t=""){let r=!1,n=t;if(e){let h=e.match(ue.Episode.DANDAN_TAG);h&&(n=h[1].toLowerCase())}if(/^(dandan|animeko)$/i.test(n)&&e){let h=e.replace(ue.Clean.SOURCE_TAG,"").replace(ue.Clean.FROM_SUFFIX,"").trim();(ue.Episode.SPECIAL_START.test(h)||ue.Episode.DANDAN_IGNORE.test(h))&&(r=!0)}let a=Ru(e||""),o=ue.Episode.MOVIE_CHECK.test(a),c=ue.Episode.PV_CHECK.test(a),u=null,l=null,d=k2(e),f=c||r||!!d||ue.Episode.SPECIAL_CHECK.test(a),p=a.match(ue.Episode.SEASON_MATCH);p&&(l=parseInt(p[1]));let m=a.match(ue.Episode.NUM_STRATEGY_A);if(m)u=parseFloat(m[2]);else{let h=a.match(ue.Episode.NUM_STRATEGY_B);if(h)u=parseFloat(h[1]);else{let g=a.match(ue.Episode.NUM_STRATEGY_C);g&&(u=parseFloat(g[1]))}}return{isMovie:o,num:u,isSpecial:f,isPV:c,season:l,isStrictSpecial:r}}function VO(e,t){return e?t?e.map((r,n)=>({link:r,originalIndex:n})).filter(r=>{let n=r.link.title||r.link.name||"";return!t.test(n)}):e.map((r,n)=>({link:r,originalIndex:n})):[]}var cfe=new Map;function D2(e,t,r){if(!e||e.length<2||!t)return"";let n=d=>{if(!d||!r)return d||"";try{let f=cfe.get(r);if(!f){let p=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");f=new RegExp(`(\\[|\u3010|\\s)?${p}(\\]|\u3011|\\s)?`,"gi"),cfe.set(r,f)}return d.replace(f,"").trim()}catch{return d}},s=n(t),a=s.match(ue.Clean.REDUNDANT_SEPARATOR);a&&(s=s.substring(0,a.index));let o=e.map(d=>{let f=d.link||d;return f?n(f.title||f.name||""):""});if(o.some(d=>!d))return"";let c=(d,f)=>{let p="";for(let m=0;m<d.length;m++)for(let h=m+1;h<=d.length;h++){let g=d.substring(m,h);f.includes(g)&&g.length>p.length&&(p=g)}return p},u=c(o[0],o[1]);if(u.length<2)return"";for(let d=2;d<o.length;d++)if(u=c(u,o[d]),u.length<2)return"";let l=c(u,s);if(!s.startsWith(l))return"";if(ue.Clean.REDUNDANT_UNSAFE_END.test(l)){let d=l.slice(0,-1).trim();return d.length>=2&&s.startsWith(d)?d:""}return l.length>=2&&(ue.Clean.REDUNDANT_VALID_CHARS.test(l)||l.length>3)?(at("info",`[Merge-Check] \u68C0\u6D4B\u5230\u96C6\u5185\u5197\u4F59\u6807\u9898\u5B57\u6BB5: "${l}" (\u5DF2\u5FFD\u7565\u6765\u6E90: ${r}, \u951A\u5B9A\u9A8C\u8BC1\u901A\u8FC7)`),l):""}function tnt(e,t,r="Unspecified",n="Unspecified",s="",a="",o="",c=""){if(e.length===0||t.length===0)return 0;let u=D2(e,o,s),l=D2(t,c,a),d=(S,T)=>S?T&&S.includes(T)?S.replace(T,""):S:"",f=(S,T,B,N)=>{let O=S.link.title||"",k=d(O,N),P=dd(k,T),D=Zs(k),j=D!=="Unspecified"?D:B,H=j==="Unspecified"&&/^(dandan|animeko)$/i.test(T)?"JP":j,V=ffe(k),X=H==="CN"?k.replace(ue.Similarity.CN_STRICT_CORE_REMOVE,""):null;return{info:P,effLang:H,specialType:k2(k),cleanEpText:V,strictCnCore:X}},p=e.map(S=>f(S,s,r,u)),m=t.map(S=>f(S,a,n,l)),h=0,g=-9999,A=null,y=null;p.forEach(({info:S})=>{S.num!==null&&!S.isSpecial&&(A=A===null?S.num:Math.min(A,S.num))}),m.forEach(({info:S})=>{S.num!==null&&!S.isSpecial&&(y=y===null?S.num:Math.min(y,S.num))});let v=A!==null&&y!==null?A-y:null,b=15,E=v!==null?-v:0,I=Math.max(Math.min(-b,E-b),-Math.max(e.length,t.length)),w=Math.min(Math.max(b,E+b),Math.max(e.length,t.length));for(let S=I;S<=w;S++){let T=0,B=0,N=0,O=new Map,k=!1;for(let P=0;P<t.length;P++){let D=P+S;if(D>=0&&D<e.length){let j=p[D],H=m[P],V=j.info,X=H.info,U=0;V.isMovie!==X.isMovie&&(U+=xn.EP_ALIGN.MOVIE_TYPE_MISMATCH),(V.isStrictSpecial&&!X.isSpecial||X.isStrictSpecial&&!V.isSpecial)&&(U+=xn.EP_ALIGN.SPECIAL_STRICT_MISMATCH);let re=j.effLang==="Unspecified"?"JP":j.effLang,se=H.effLang==="Unspecified"?"JP":H.effLang;re===se?U+=xn.EP_ALIGN.LANG_MATCH:U+=xn.EP_ALIGN.LANG_MISMATCH,V.season!==null&&X.season!==null&&V.season!==X.season&&(U+=xn.EP_ALIGN.SEASON_NUM_MISMATCH),(j.specialType||H.specialType)&&(j.specialType!==H.specialType?U+=xn.EP_ALIGN.SPECIAL_TYPE_MISMATCH:U+=xn.EP_ALIGN.SPECIAL_TYPE_MATCH),V.isSpecial===X.isSpecial&&(U+=xn.EP_ALIGN.IS_SPECIAL_MATCH),v!==null&&!V.isSpecial&&!X.isSpecial&&V.num-X.num===v&&(U+=xn.EP_ALIGN.SEASON_SHIFT_EXACT,k=!0);let te=0;if(j.effLang==="CN"&&H.effLang==="CN"&&j.strictCnCore&&H.strictCnCore&&(j.strictCnCore.includes(H.strictCnCore)||H.strictCnCore.includes(j.strictCnCore))?V.num!==null&&X.num!==null&&V.num===X.num?te=xn.EP_ALIGN.CN_STRICT_MATCH:te=xn.EP_ALIGN.CN_STRICT_MISMATCH:te=Yp(j.cleanEpText,H.cleanEpText),U+=te,B+=te,V.num!==null&&X.num!==null&&V.num===X.num&&(U+=xn.EP_ALIGN.NUMERIC_MATCH),T+=U,V.num!==null&&X.num!==null){let ae=(X.num-V.num).toFixed(4);O.set(ae,(O.get(ae)||0)+1)}N++}}if(N>0){let P=T/N,D=0;for(let X of O.values())D=Math.max(D,X);let j=D/N,H=B/N;j>.6&&(k||H>.33)&&(P+=xn.EP_ALIGN.PATTERN_CONSISTENCY_BONUS),P+=Math.min(N*.15,1.5);let V=O.get("0.0000")||0;V>3?(P+=xn.EP_ALIGN.ZERO_DIFF_BONUS_BASE,P+=V*xn.EP_ALIGN.ZERO_DIFF_BONUS_PER_HIT):V>0&&(P+=V*2),P>g&&(g=P,h=S)}}return g>.3?h:0}function rnt(e,t,r=""){let n=`${e}_${t}_${r}`,s=0;for(let a=0;a<n.length;a++)s=(s<<5)-s+n.charCodeAt(a)|0;return Math.abs(s)%1e9+1e9}function ufe(e,t){let r=e.link,n=r.title||r.name||`Episode ${e.originalIndex+1}`,s=r.url||"";s&&(s=pfe(s),/^https?:\/\//i.test(s)||(s=`${t}:${s}`));let a=n;return a.includes(`\u3010${t}\u3011`)||(a=`\u3010${t}\u3011 ${a}`),{title:a,url:s,name:n}}function nnt(e,t,r){if(!t||t.length===0)return;let n=[],s=[],a=[],o=e.links.length,c=-1;for(let d=o-1;d>=0;d--){let f=e.links[d],p=f.title||f.name||"",m=dd(p,e.source);if(!m.isSpecial&&!m.isPV&&!m.isStrictSpecial&&m.num!==null){c=d;break}}for(let d of t){let f=d.relativeIndex,p=d.info&&d.info.isStrictSpecial,m=d.info&&!d.info.isSpecial&&!d.info.isPV&&!p&&d.info.num!==null;f<0&&!p?n.push(d):f>=o&&!p||m&&f>c?s.push(d):a.push(d)}let u=[],l=(d,f,p)=>{d.length>0&&(d.sort((m,h)=>m.originalIndex-h.originalIndex),f.push(...d.map(m=>ufe(m,r))),u.push(`   [\u8865\u5168-${p}] \u63D2\u5165/\u8FFD\u52A0 ${d.length} \u96C6 (${d.map(m=>m.link.title).join(", ")})`))};n.length>0&&(n.sort((d,f)=>d.originalIndex-f.originalIndex),e.links.unshift(...n.map(d=>ufe(d,r))),u.push(`   [\u8865\u5168-\u5934\u90E8] \u63D2\u5165 ${n.length} \u96C6 (${n.map(d=>d.link.title).join(", ")})`)),l(s,e.links,"\u5C3E\u90E8"),l(a,e.links,"\u7279\u6B8A"),u.length>0&&at("info",`[Merge] [${r}] \u667A\u80FD\u8865\u5168:
${u.join(`
`)}`)}function lfe(e,t){let r=new Set;if(!e)return r;let n=-1;for(let s=0;s<e.length;s++){let a=e[s].title||e[s].name||"",o=dd(a,t);o.num!==null&&!o.isSpecial&&!o.isPV&&o.num%1===0&&(n=s)}return e.forEach((s,a)=>{let o=s.title||s.name||"",c=dd(o,t);c.num!==null&&!c.isSpecial&&!c.isPV&&c.num%1!==0&&a<n&&r.add(c.num)}),r}function dfe(e,t,r,n){let s=[],a=[],o=0;e.forEach(c=>{let u=c.title||c.name||"",l=dd(u,r);l.num!==null&&t.has(l.num)?(a.push(c),o++):s.push(c)}),o>0&&(e.length=0,e.push(...s,...a),at("info",`[Merge-Check] [${n}] \u81EA\u52A8\u6C89\u5E95: \u79FB\u52A8\u4E86 ${o} \u4E2A\u4E2D\u95F4\u63D2\u503C\u96C6\u6570 (${Array.from(t).join(",")}) \u5230\u672B\u5C3E`))}function snt(e,t,r){let n=new Map,s=[];for(let c of e){if(r&&r.has(c.animeId))continue;let u=R.animes.find(p=>String(p.animeId)===String(c.animeId))||c;if(Jp(u.animeTitle,u.typeDescription,u.source)==="REAL"){s.push(`   [\u5254\u9664] [${u.source}] ${u.animeTitle} (\u7C7B\u578B: \u771F\u4EBA\u5267/REAL)`);continue}if(ld(u.animeTitle,u.typeDescription)==="MOVIE"){s.push(`   [\u5254\u9664] [${u.source}] ${u.animeTitle} (\u7C7B\u578B: \u7535\u5F71/MOVIE)`);continue}let f=rc(u.animeTitle,u.typeDescription);if(f!==null&&u.links){let m=VO(u.links,t).filter(h=>{let g=h.link.title||h.link.name||"",y=Ru(g).replace(ue.Clean.SOURCE_TAG,"").replace(ue.Clean.FROM_SUFFIX,"").trim();return!(/^(dandan|animeko)$/i.test(u.source)&&(ue.Episode.SPECIAL_CHECK.test(y)||ue.Episode.DANDAN_IGNORE.test(y))||ue.Episode.MAP_EXCLUDE_KEYWORDS.test(y)||ue.Episode.MAP_EXCLUDE_KEYWORDS.test(g))}).length;if(m>0){n.has(f)||n.set(f,new Map);let h=n.get(f);h.has(m)||h.set(m,[]),h.get(m).push(u.source),s.push(`   [\u91C7\u7EB3] [${u.source}] S${f} = ${m}\u96C6 ("${u.animeTitle}")`)}else s.push(`   [\u5FFD\u7565] [${u.source}] S${f} (\u6709\u6548\u96C6\u6570\u4E3A 0)`)}}let a=new Map,o=[];for(let[c,u]of n.entries()){let l=0,d=0,f=[];for(let[m,h]of u.entries()){let g=h.length;g>d?(d=g,l=m,f=h):g===d&&m<l&&(l=m,f=h)}a.set(c,l);let p=Array.from(u.entries()).map(([m,h])=>`${m}\u96C6(x${h.length})[${h.join(",")}]`).join(", ");o.push(`S${c}=${l} (\u63A8\u65AD\u6765\u6E90: ${f.join(",")} | \u7EDF\u8BA1: ${p})`)}return(s.length>0||o.length>0)&&at("info",`[Merge-Check] [Map-Build] \u5B63\u5EA6\u5730\u56FE\u6784\u5EFA\u8BE6\u60C5:
${s.join(`
`)}
   => \u6700\u7EC8\u5224\u5B9A: { ${o.join("; ")} }`),a}function int(e){if(typeof structuredClone=="function")try{return structuredClone(e)}catch{}return JSON.parse(JSON.stringify(e))}async function GO(e){let{pAnime:t,availableSecondaries:r,curAnimes:n,groupConsumedIds:s,globalConsumedIds:a,generatedSignatures:o,epFilter:c,groupFingerprint:u,currentPrimarySource:l,logPrefix:d,limitSecondaryLang:f,collectionAnimeIds:p,allowReuseIds:m,collectionProgress:h}=e;if(p.has(t.animeId)&&a.has(t.animeId))return at("info",`${d} \u8DF3\u8FC7: [${l}] \u662F\u5408\u96C6\u4E14\u5DF2\u4F5C\u4E3A\u526F\u6E90\u53C2\u4E0E\u8FC7\u5408\u5E76\u3002`),null;let g=R.animes.find(k=>String(k.animeId)===String(t.animeId));if(!g?.links)return at("warn",`${d} \u4E3B\u6E90\u6570\u636E\u4E0D\u5B8C\u6574\uFF0C\u8DF3\u8FC7: ${t.animeTitle}`),null;let A=t.animeTitle.replace(ue.Clean.FROM_SUFFIX,""),y=int(g),v=[],b=[t.animeId],E=!1,I=Zs(t.animeTitle),w=D2(y.links,t.animeTitle,l),S=(k,P)=>k?P&&k.includes(P)?k.replace(P,""):k:"",T=p.has(t.animeId),B=Pi(t.animeTitle),N=n.filter(k=>Pi(k.animeTitle)===B),O=snt(N,c,p);if(O.size>0){let k=Array.from(O.entries()).map(([P,D])=>`S${P}=${D}`).join(", ");(T||r.some(P=>n.some(D=>D.source===P&&p.has(D.animeId))))&&at("info",`${d} [\u5408\u96C6\u5904\u7406] \u6784\u5EFA\u5B63\u5EA6\u96C6\u6570\u5730\u56FE (Mode\u7B56\u7565): { ${k} }`)}for(let k of r){let P=n.filter(j=>{if(j.source!==k)return!1;let H=s.has(j.animeId),V=m&&m.has(j.animeId);return!(H&&!V)});if(f&&(P=P.filter(j=>Zs(j.animeTitle)===f)),P.length>1&&P.sort((j,H)=>{let V=Zs(j.animeTitle)==="CN",X=Zs(H.animeTitle)==="CN";return V===X?0:V?1:-1}),P.length===0)continue;let D=ent(t,P,p);for(let j of D){if(!(m&&m.has(j.animeId))&&s.has(j.animeId))continue;let V=R.animes.find(he=>String(he.animeId)===String(j.animeId));if(!V?.links)continue;let X=[],U=new Set,re=[],se=[],te=V.animeTitle.replace(ue.Clean.FROM_SUFFIX,""),ae=lfe(y.links,l),xe=lfe(V.links,k),_e=new Set([...xe].filter(he=>!ae.has(he))),Ce=new Set([...ae].filter(he=>!xe.has(he)));Ce.size>0&&dfe(y.links,Ce,l,`\u4E3B\u6E90:${l}`);let ve=V.links;_e.size>0&&(ve=[...V.links],dfe(ve,_e,k,`\u526F\u6E90:${k}`));let Ae=VO(y.links,c),$=VO(ve,c),M=Zs(V.animeTitle),q=Ae,L=$,Q=0,G=0,J=p.has(j.animeId),K=(he,ge,Be)=>{let we=0,Ue=ge;if(Be&&Be>1){let De=!1;if(!he&&h&&h.has(j.animeId)){let He=h.get(j.animeId),mt=Be-1;if(He[`S${mt}`]!==void 0){let Ge=He[`S${mt}`]+1;Ge>0&&Ge<ge.length&&(Ue=ge.slice(Ge),we=Ge,at("info",`${d} [\u5408\u96C6\u5207\u7247] \u5386\u53F2\u63A8\u65AD\u547D\u4E2D: \u6839\u636E S${mt} \u7ED3\u675F\u4F4D\u7F6E (Index ${He[`S${mt}`]}), \u8BBE\u5B9A S${Be} \u8D77\u70B9\u4E3A Index ${Ge}`),De=!0)}}if(!De){let He=0;for(let Ge=1;Ge<Be;Ge++)He+=O.get(Ge)||0;let mt=He;if(mt>=ge.length){let Ge=(Be-1)*12;Ge<ge.length&&(at("info",`${d} [\u5408\u96C6\u5207\u7247] \u8D77\u70B9\u8D8A\u754C\u4FEE\u6B63: \u539F\u8BA1\u7B97 ${mt} > Total ${ge.length}\uFF0C\u542F\u7528\u56DE\u9000\u4F30\u7B97 (S${Be} -> Index ${Ge})`),mt=Math.max(0,Ge-2))}if(mt>0&&mt<ge.length){let Ge=He+(O.get(Be)||999),en=Math.min(Ge,ge.length);Ue=ge.slice(mt,en),we=mt;let Gs=he?`\u4E3B\u6E90[${l}]`:`\u526F\u6E90[${k}]`;at("info",`${d} [\u5408\u96C6\u5207\u7247] \u68C0\u6D4B\u5230${Gs}\u4E3A\u5408\u96C6 (Target: S${Be}): \u65E0\u5386\u53F2\u63A8\u65AD(Defensive Fallback)\uFF0C\u4FE1\u4EFB\u5730\u56FE\u5207\u81F3 ${mt}~${en} (\u5171 ${Ue.length} \u96C6) \u53C2\u4E0E\u5BF9\u9F50`)}else at("info",`${d} [\u5408\u96C6\u5207\u7247] \u653E\u5F03\u5207\u7247: \u8BA1\u7B97\u8D77\u70B9 ${mt} \u8D85\u51FA\u8303\u56F4 (Total: ${ge.length})`)}}else if(Be===1){let De=O.get(1);if(De&&De<ge.length){Ue=ge.slice(0,De);let He=he?`\u4E3B\u6E90[${l}]`:`\u526F\u6E90[${k}]`;at("info",`${d} [\u5408\u96C6\u5207\u7247] \u68C0\u6D4B\u5230${He}\u4E3A\u5408\u96C6 (Target: S1): \u4F7F\u7528 Index 0~${De} \u53C2\u4E0E\u5BF9\u9F50`)}}return{sliceStart:we,slicedList:Ue}};if(T&&!J){let he=rc(V.animeTitle,V.typeDescription),ge=K(!0,Ae,he);q=ge.slicedList,Q=ge.sliceStart}else if(!T&&J){let he=rc(t.animeTitle,t.typeDescription),ge=K(!1,$,he);L=ge.slicedList,G=ge.sliceStart}let Z=tnt(q,L,I,M,l,k,t.animeTitle,V.animeTitle)+Q-G;Z!==0&&at("info",`${d} \u96C6\u6570\u81EA\u52A8\u5BF9\u9F50 (${k}): Offset=${Z} (P:${Ae.length}, S:${$.length})`),y.animeId=rnt(y.animeId,j.animeId,u),y.bangumiId=String(y.animeId);let ee=0,oe=D2(V.links,V.animeTitle,k);for(let he=0;he<$.length;he++){let ge=he+Z,Be=$[he],we=Be.link,Ue=we.name||we.title||`Index ${he}`,De={link:we,originalIndex:Be.originalIndex,relativeIndex:ge,info:null},He=S(we.title,oe);if(De.info=dd(He,k),c&&c.test(Ue)){X.push({idx:ge,text:`   [\u7565\u8FC7] ${Ue} (\u547D\u4E2DPV/\u9884\u544A\u8FC7\u6EE4\u5668)`});continue}if(ge>=0&&ge<Ae.length){let mt=Ae[ge].originalIndex,Ge=y.links[mt],en=Ge.name||Ge.title||`Index ${mt}`,Gs=S(Ge.title,w),lt=k2(Gs),Rr=k2(He),vn=dd(Gs,l),qt=De.info;if(qt.isPV&&!lt){X.push({idx:ge,text:`   [\u7565\u8FC7] ${en} =/= ${Ue} (PV\u4E0D\u5339\u914D\u6B63\u7247)`}),se.push(De);continue}if(lt!==Rr){X.push({idx:ge,text:`   [\u7565\u8FC7] ${en} =/= ${Ue} (\u7279\u6B8A\u96C6\u7C7B\u578B\u4E0D\u5339\u914D)`}),se.push(De);continue}if(vn.isStrictSpecial&&!qt.isSpecial||qt.isStrictSpecial&&!vn.isSpecial){X.push({idx:ge,text:`   [\u7565\u8FC7] ${en} =/= ${Ue} (\u6B63\u7247\u4E0E\u756A\u5916\u963B\u65AD)`}),se.push(De);continue}let It=pfe(we.url),$u=Ge.url,tn=`${k}:${It}`;$u.includes(Wp)||$u.startsWith(l+":")||($u=`${l}:${$u}`);let p0=`${$u}${Wp}${tn}`,Lu=Ge.title;if(Lu){let wr=k;if(we.title){let $i=we.title.match(/^([^\d]+)(?:\d*)/);$i&&(wr=$i[1].trim())}Lu=Lu.replace(/^([^]+)/,($i,bI)=>`\u3010${bI}${zO}${wr}\u3011`)}X.push({idx:ge,text:`   [\u5339\u914D] ${en} <-> ${Ue}`}),U.add(ge),ee++,re.push({linkIndex:mt,newUrl:p0,newTitle:Lu})}else X.push({idx:ge,text:`   [\u843D\u5355] (\u4E3B\u6E90\u8D8A\u754C) <-> ${Ue}`}),se.push(De)}for(let he=0;he<Ae.length;he++)if(!U.has(he)){let ge=Ae[he].originalIndex,Be=y.links[ge],we=Be.name||Be.title||`Index ${ge}`;X.push({idx:he,text:`   [\u843D\u5355] ${we} <-> (\u526F\u6E90\u7F3A\u5931\u6216\u88AB\u7565\u8FC7)`})}if(ee>0){let he=p.has(t.animeId)||p.has(j.animeId);if(Jrt(ee,Ae.length,$.length,l,k,he)){for(let we of re){let Ue=y.links[we.linkIndex];Ue.url=we.newUrl,Ue.title=we.newTitle}if(at("info",`${d} \u5173\u8054\u6210\u529F: [${l}] ${A} <-> [${k}] ${te} (\u672C\u6B21\u5408\u5E76 ${ee} \u96C6)`),X.length>0&&(X.sort((we,Ue)=>we.idx-Ue.idx),at("info",`${d} [${k}] \u6620\u5C04\u8BE6\u60C5:
${X.map(we=>we.text).join(`
`)}`)),h&&J){let we=-1;for(let Ue=0;Ue<$.length;Ue++){let De=Ue+Z;if(U.has(De)){let He=$[Ue];He.originalIndex>we&&(we=He.originalIndex)}}if(we!==-1){let Ue=rc(t.animeTitle,t.typeDescription)||1;h.has(j.animeId)||h.set(j.animeId,{});let De=h.get(j.animeId);ee>=3&&(De[`S${Ue}`]=we)}}p.has(j.animeId)?at("info",`${d} [\u667A\u80FD\u8865\u5168] \u8DF3\u8FC7: \u526F\u6E90 [${k}] \u4E3A\u5408\u96C6\uFF0C\u4E3A\u907F\u514D\u6DF7\u5165\u5176\u4ED6\u5B63\u5EA6\u96C6\u6570\uFF0C\u4E0D\u6267\u884C\u8865\u5168\u3002`):nnt(y,se,k);let ge=[],Be=[];y.links.forEach(we=>{let Ue=we.title.replace(ue.Clean.SOURCE_TAG,"").trim();ue.Episode.SINK_TITLE_STRICT.test(Ue)?Be.push(we):ge.push(we)}),Be.length>0&&(y.links=[...ge,...Be],at("info",`${d} [\u6392\u5E8F\u4F18\u5316] \u7ACB\u5373\u6267\u884C\u756A\u5916\u6C89\u5E95: \u79FB\u52A8\u4E86 ${Be.length} \u4E2A\u756A\u5916\u96C6\u5230\u672B\u5C3E`)),p.has(j.animeId)?at("info",`${d} \u5408\u96C6\u4FDD\u7559: [${k}] ${te} \u662F\u5408\u96C6\uFF0C\u4FDD\u7559\u4EE5\u4F9B\u540C\u7EC4\u590D\u7528\u3002`):s.add(j.animeId),a.add(j.animeId),E=!0,v.push(k),b.push(j.animeId)}else at("info",`${d} \u5173\u8054\u53D6\u6D88: [${l}] ${A} <-> [${k}] ${te} (\u5339\u914D\u7387\u8FC7\u4F4E: ${ee}/${Math.max(Ae.length,$.length)})`)}}}if(E){let k=b.join("|");if(o.has(k))return at("info",`${d} \u68C0\u6D4B\u5230\u91CD\u590D\u7684\u5408\u5E76\u7ED3\u679C (Signature: ${k})\uFF0C\u5DF2\u81EA\u52A8\u9690\u53BB\u5197\u4F59\u6761\u76EE\u3002`),y;o.add(k);let P=v.join(zO);return y.animeTitle=y.animeTitle.replace(`from ${l}`,`from ${l}${zO}${P}`),y.source=l,y}return null}function ant(e){let t=new Set;if(!e||e.length===0)return t;let r={\u4E00:"1",\u4E8C:"2",\u4E09:"3",\u56DB:"4",\u4E94:"5",\u516D:"6",\u4E03:"7",\u516B:"8",\u4E5D:"9",\u5341:"10"},n=new Map;e.forEach(s=>{let a=R.animes.find(p=>String(p.animeId)===String(s.animeId))||s,o=Hs(a.animeTitle,a.typeDescription);if(o.has("MOVIE")||o.has("OVA")||o.has("SP")||o.has("SEQUEL"))return;let c=Jt(s.animeTitle||""),u=c.match(/^(?:|\[)(.+?)(?:|\])/);if(u){let p=u[1];/^(TV||movie|film|anime|||AVC|HEVC|MP4|MKV)$/i.test(p)||(c=c.replace(u[0],p+" "))}c=c.replace(/([])/g,(p,m)=>`\u7B2C${r[m]}\u5B63`);let l=c.replace(ue.Clean.SOURCE_TAG,"").replace(ue.Clean.FROM_SUFFIX,"").replace(ue.Clean.YEAR_TAG,"").replace(ue.Clean.META_SUFFIX,"").replace(ue.Lang.KEYWORDS_STRONG,"");if(P2.forEach(p=>l=l.replace(p.regex,"")),l=l.replace(ue.Season.SUFFIX_AMBIGUOUS,"").replace(/(?:|S)\d+(?:||)/gi,"").replace(/(?:Part|P)\s*\d+/gi,"").replace(/\s+/g,"").toLowerCase().trim(),!l)return;let d=Jp(s.animeTitle,a.typeDescription,a.source),f=`${l}|${d}`;n.has(f)||n.set(f,[]),n.get(f).push(s)});for(let[s,a]of n.entries()){if(a.length<2)continue;let[o,c]=s.split("|"),u=a.map(p=>`   - [${p.source}] ${p.animeTitle}`).join(`
`);at("info",`[Merge-Check] [\u5408\u96C6\u63A2\u6D4B] \u6B63\u5728\u68C0\u67E5\u5206\u7EC4: "${o}" [${c}] (\u5305\u542B ${a.length} \u4E2A\u6761\u76EE):
${u}`);let l=new Map,d=0;if(a.forEach(p=>{let m=R.animes.find(v=>String(v.animeId)===String(p.animeId))||p,h=Hs(m.animeTitle,m.typeDescription),g=1;for(let v of h)if(v.startsWith("S")){let b=parseInt(v.substring(1));isNaN(b)||(g=b)}if(g===1){let v=h.has("SEQUEL")||ue.Season.SUFFIX_SEQUEL.test(m.animeTitle),b=h.has("AMBIGUOUS")||ue.Season.SUFFIX_AMBIGUOUS.test(m.animeTitle);(v||b)&&(g=2,at("info",`[Merge-Check] [Detail] [${m.source}] "${m.animeTitle}" -> \u5224\u5B9A\u4E3A S2 (Reason: Sequel/Ambiguous Suffix)`))}g>d&&(d=g);let A=0;m.links&&(/^(dandan|animeko)$/i.test(m.source)?A=m.links.filter((v,b)=>{let E=v.title||v.name||"",I=E.replace(ue.Clean.SOURCE_TAG,"").replace(ue.Clean.FROM_SUFFIX,"").trim();if(ue.Episode.SPECIAL_CHECK.test(I)||ue.Episode.DANDAN_IGNORE.test(I))return!1;let w=Ru(E);return ue.Episode.SPECIAL_CHECK.test(w)||ue.Episode.DANDAN_IGNORE.test(w)||ue.Episode.MAP_EXCLUDE_KEYWORDS.test(I)||ue.Episode.MAP_EXCLUDE_KEYWORDS.test(E)?!1:(at("info",`[Merge-Check] [Detail-Ep] [${m.source}] \u4FDD\u7559: "${E}"`),!0)}).length:A=m.links.length),l.has(m.source)||l.set(m.source,{seasonCounts:{},maxSeason:0,s1Candidates:[]});let y=l.get(m.source);y.seasonCounts[g]||(y.seasonCounts[g]=0),y.seasonCounts[g]+=A,g>y.maxSeason&&(y.maxSeason=g),g===1&&y.s1Candidates.push({anime:m,originalCount:A})}),d<=1)continue;let f=Array.from(l.keys());for(let[p,m]of l.entries()){if(m.maxSeason>1)continue;let h=0,g=!1;for(let b of f){if(b===p)continue;let E=l.get(b);E.seasonCounts[1]&&(g=!0,E.seasonCounts[1]>h&&(h=E.seasonCounts[1]))}if(!g)continue;let A=m.seasonCounts[1],y=h+to.COLLECTION_DIFF,v=h>0?A/h:0;if(A>y){if(v>to.COLLECTION_RATIO){at("info",`[Merge-Check] [\u5408\u96C6\u63A2\u6D4B] \u62D2\u7EDD: [${p}] ${o} (Ratio too high: ${v.toFixed(2)} > ${to.COLLECTION_RATIO})`);continue}let b=m.s1Candidates.filter(E=>E.originalCount>y);b.length>0?b.forEach(E=>{t.add(E.anime.animeId),at("info",`[Merge-Check] [\u5408\u96C6\u63A2\u6D4B] \u53D1\u73B0\u7591\u4F3C\u5408\u96C6(\u5355\u4F53): [${p}] ${E.anime.animeTitle} (Count:${E.originalCount} > Thr:${y}, Ratio:${v.toFixed(2)}) -> \u6807\u8BB0\u4E3A\u5408\u96C6`)}):m.s1Candidates.forEach(E=>{t.add(E.anime.animeId),at("info",`[Merge-Check] [\u5408\u96C6\u63A2\u6D4B] \u53D1\u73B0\u7591\u4F3C\u5408\u96C6(\u805A\u5408): [${p}] ${E.anime.animeTitle} (TotalS1:${A} > Thr:${y}, Ratio:${v.toFixed(2)}) -> \u6807\u8BB0\u4E3A\u5408\u96C6`)})}else at("info",`[Merge-Check] [\u5408\u96C6\u63A2\u6D4B] \u672A\u547D\u4E2D: [${p}] ${o} (TotalS1:${A} <= Threshold:${y})`)}}return t}async function mfe(e){let t=R.mergeSourcePairs;if(!t||t.length===0)return;at("info",`[Merge] \u542F\u52A8\u6E90\u5408\u5E76\u7B56\u7565\uFF0C\u914D\u7F6E: ${JSON.stringify(t)}`);let r=R.episodeTitleFilter;if(r&&typeof r=="string")try{r=new RegExp(r,"i")}catch{r=null}let n=ant(e),s=new Map,a=[],o=new Set,c=new Set,u=new Set;t.forEach(l=>{l.secondaries.length===0&&u.add(l.primary)});for(let l of t){if(l.secondaries.length===0)continue;let d=new Map,f=[l.primary,...l.secondaries];f.forEach((b,E)=>d.set(b,E));let p=f.join("&"),m=new Set,h=(b,E)=>{if(!b||b.length<2)return b;at("info",`[Merge-Check] [Sort] ${E} \u6392\u5E8F\u524D\u9996\u4E2A\u5143\u7D20: ${b[0].animeTitle}`),b.sort((w,S)=>{let T=j=>{let H=Hs(j.animeTitle,j.typeDescription);return H.has("MOVIE")||H.has("OVA")||H.has("SP")||ld(j.animeTitle,j.typeDescription)==="MOVIE"?2:1},B=T(w),N=T(S);if(B!==N)return B-N;let O=rc(w.animeTitle,w.typeDescription)||1,k=rc(S.animeTitle,S.typeDescription)||1;if(O!==k)return O-k;let P=d.get(w.source),D=d.get(S.source);return P-D});let I=b.map(w=>{let S=rc(w.animeTitle,w.typeDescription)||1;return`[${Hs(w.animeTitle,w.typeDescription).has("MOVIE")||ld(w.animeTitle,w.typeDescription)==="MOVIE"?"Movie":`S${S}`}] [${w.source}] ${w.animeTitle}`});return at("info",`[Merge-Check] [Sort] ${E} \u6267\u884C\u987A\u5E8F:
   ${I.join(`
   `)}`),b},g=[];f.forEach(b=>{e.filter(I=>I.source===b&&!c.has(I.animeId)&&Zs(I.animeTitle)==="CN").forEach(I=>g.push(I))});let A=!1;for(let b of f)if(e.some(E=>E.source===b&&!c.has(E.animeId)&&Zs(E.animeTitle)==="CN")){A=!0;break}if(g.length>0&&A){at("info",`[Merge] [Phase 1] \u542F\u52A8 CN \u9694\u79BB\u7B56\u7565: \u5305\u542B ${g.length} \u4E2A CN \u8D44\u6E90\u3002`),h(g,"Phase 1");for(let b of g){if(m.has(b.animeId)||c.has(b.animeId))continue;let E=d.get(b.source),I=f.slice(E+1);if(I.length===0)continue;let w=await GO({pAnime:b,availableSecondaries:I,curAnimes:e,groupConsumedIds:m,globalConsumedIds:c,generatedSignatures:o,epFilter:r,groupFingerprint:p,currentPrimarySource:b.source,logPrefix:"[Merge][Phase 1: CN-Strict]",limitSecondaryLang:"CN",collectionAnimeIds:n,collectionProgress:s});w&&(a.push(w),m.add(b.animeId),c.add(b.animeId))}}let y=[];for(let b=1;b<f.length;b++){let E=f[b];e.filter(w=>w.source===E&&!c.has(w.animeId)&&Zs(w.animeTitle)==="CN").forEach(w=>y.push(w))}if(y.length>=2){at("info",`[Merge] [Phase 1.5] \u542F\u52A8\u526F\u6E90 CN \u81EA\u7EC4\u7EC7: \u68C0\u6D4B\u5230 ${y.length} \u4E2A\u5269\u4F59 CN \u8D44\u6E90\u3002`),h(y,"Phase 1.5");for(let b of y){if(m.has(b.animeId)||c.has(b.animeId))continue;let E=d.get(b.source),I=f.slice(E+1);if(I.length===0)continue;let w=await GO({pAnime:b,availableSecondaries:I,curAnimes:e,groupConsumedIds:m,globalConsumedIds:c,generatedSignatures:o,epFilter:r,groupFingerprint:p,currentPrimarySource:b.source,logPrefix:"[Merge][Phase 1.5: CN-Secondary]",limitSecondaryLang:"CN",collectionAnimeIds:n,collectionProgress:s});w&&(a.push(w),m.add(b.animeId),c.add(b.animeId))}}let v=[];if(f.forEach(b=>{e.filter(I=>I.source===b&&!c.has(I.animeId)).forEach(I=>v.push(I))}),v.length>0){at("info",`[Merge] [Phase 2] \u542F\u52A8\u6807\u51C6\u56DE\u9000\u5339\u914D: \u5269\u4F59 ${v.length} \u4E2A\u8D44\u6E90\u3002`),h(v,"Phase 2");for(let b of v){if(m.has(b.animeId)||c.has(b.animeId))continue;let E=d.get(b.source),I=f.slice(E+1);if(I.length===0)continue;let w=Hs(b.animeTitle,b.typeDescription),S=Array.from(w).some(N=>N.startsWith("P")),T=null;if(S){T=new Set;let N=rc(b.animeTitle,b.typeDescription)||1;for(let O of c){let k=R.animes.find(j=>String(j.animeId)===String(O));if(!k||!I.includes(k.source))continue;let P=Hs(k.animeTitle,k.typeDescription);if(Array.from(P).some(j=>j.startsWith("P")))continue;let D=rc(k.animeTitle,k.typeDescription)||1;N===D&&T.add(k.animeId)}}let B=await GO({pAnime:b,availableSecondaries:I,curAnimes:e,groupConsumedIds:m,globalConsumedIds:c,generatedSignatures:o,epFilter:r,groupFingerprint:p,currentPrimarySource:b.source,logPrefix:"[Merge][Phase 2: Standard]",collectionAnimeIds:n,allowReuseIds:T,collectionProgress:s});B&&(a.push(B),m.add(b.animeId),c.add(b.animeId))}}}if(a.length>0){for(let l of a)tt(l);e.unshift(...a)}if(u.size>0)for(let l of e)c.has(l.animeId)&&u.has(l.source)&&c.delete(l.animeId);for(let l=e.length-1;l>=0;l--){let d=e[l];(d._isMerged||c.has(d.animeId))&&e.splice(l,1)}at("info",`[Merge] \u5408\u5E76\u6267\u884C\u5B8C\u6BD5\uFF0C\u6700\u7EC8\u5217\u8868\u6570\u91CF: ${e.length}`)}function gfe(e,t){let r=[...e||[],...t||[]],n=s=>{if(!s)return 0;if(s.t!==void 0&&s.t!==null)return Number(s.t);if(s.p&&typeof s.p=="string"){let a=parseFloat(s.p.split(",")[0]);return isNaN(a)?0:a}return 0};return r.sort((s,a)=>n(s)-n(a)),r}et();Zr();var Xe=class{constructor(){}async search(t){throw new Error("Method 'search' must be implemented")}async getEpisodes(t){throw new Error("Method 'Episodes' must be implemented")}async handleAnimes(t,r,n,s){throw new Error("Method 'handleAnimes' must be implemented")}async getEpisodeDanmu(t){throw new Error("Method 'getEpisodeDanmu' must be implemented")}async getEpisodeDanmuSegments(t){throw new Error("Method 'getEpisodeDanmuSegments' must be implemented")}async getEpisodeSegmentDanmu(t){throw new Error("Method 'getEpisodeSegmentDanmu' must be implemented")}formatComments(t){throw new Error("Method 'formatComments' must be implemented")}async getComments(t,r,n=!1,s=null){if(n)return s&&await s(5,`\u5F00\u59CB\u83B7\u53D6\u5F39\u5E55${r}\u5F39\u5E55\u5206\u7247\u5217\u8868`),x("info",`\u5F00\u59CB\u83B7\u53D6\u5F39\u5E55${r}\u5F39\u5E55\u5206\u7247\u5217\u8868`),await this.getEpisodeDanmuSegments(t);s&&await s(5,`\u5F00\u59CB\u83B7\u53D6\u5F39\u5E55${r}\u5F39\u5E55`),x("info",`\u5F00\u59CB\u83B7\u53D6\u5F39\u5E55${r}\u5F39\u5E55`);let a=await this.getEpisodeDanmu(t);s&&await s(85,`\u539F\u59CB\u5F39\u5E55 ${a.length} \u6761\uFF0C\u6B63\u5728\u89C4\u8303\u5316`),x("info",`\u539F\u59CB\u5F39\u5E55 ${a.length} \u6761\uFF0C\u6B63\u5728\u89C4\u8303\u5316`);let o=this.formatComments(a);return s&&await s(100,`\u5F39\u5E55\u5904\u7406\u5B8C\u6210\uFF0C\u5171 ${o.length} \u6761`),x("info",`\u5F39\u5E55\u5904\u7406\u5B8C\u6210\uFF0C\u5171 ${o.length} \u6761`),EA(o,r)}async getSegmentComments(t,r=null){r&&await r(5,`\u5F00\u59CB\u83B7\u53D6\u5206\u7247\u5F39\u5E55${t.type}\u5F39\u5E55`),x("info",`\u5F00\u59CB\u83B7\u53D6\u5206\u7247\u5F39\u5E55${t.type}\u5F39\u5E55`);let n=await this.getEpisodeSegmentDanmu(t);r&&await r(85,`\u539F\u59CB\u5206\u7247\u5F39\u5E55 ${n.length} \u6761\uFF0C\u6B63\u5728\u89C4\u8303\u5316`),x("info",`\u539F\u59CB\u5206\u7247\u5F39\u5E55 ${n.length} \u6761\uFF0C\u6B63\u5728\u89C4\u8303\u5316`);let s=this.formatComments(n);return r&&await r(100,`\u5206\u7247\u5F39\u5E55\u5904\u7406\u5B8C\u6210\uFF0C\u5171 ${s.length} \u6761`),x("info",`\u5206\u7247\u5F39\u5E55\u5904\u7406\u5B8C\u6210\uFF0C\u5171 ${s.length} \u6761`),EA(s,t.type)}sortAndPushAnimesByYear(t,r){t.filter(n=>n!==null).sort((n,s)=>{let a=wu(n.animeTitle),o=wu(s.animeTitle);if(a!=null&&o!==null&&o!==void 0){if(o!==a)return o-a;let c=NO(n.animeTitle),u=NO(s.animeTitle);return c.length-u.length}return a!=null&&o==null?-1:a==null&&o!=null?1:0}).forEach(n=>{r.findIndex(a=>a.animeId===n.animeId)===-1&&r.push(n)})}};ht();et();Pt();function zt(e){let t=parseInt(e);return isNaN(t)||t<1900||t>2100?`${new Date().getFullYear()}-01-01T00:00:00Z`:`${t}-01-01T00:00:00Z`}function fd(e){let t=e.split(":").map(Number),r=0;return t.length===3?r=t[0]*3600+t[1]*60+t[2]:t.length===2?r=t[0]*60+t[1]:r=t[0],r}Br();Zr();var vA=class extends Xe{async get360Zongyi(t,r,n,s){try{let a=[];for(let o=0;o<=10;o++){let u=await(await pe(`https://api.so.360kan.com/episodeszongyi?entid=${r}&site=${n}&y=${s}&count=20&offset=${o*20}`,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}})).data;x("info",`360kan zongyi response: ${JSON.stringify(u)}`);let l=u.data.list;if(!l)break;for(let d of l){let f=d.name.match(/(\d+)([])?/)||d.period.match(/(\d+)([])?/),p=f?f[1]:null;p&&f[2]&&(p=f[2]==="\u4E0A"?`${p}.1`:f[2]==="\u4E2D"?`${p}.2`:`${p}.3`),a.push({name:d.id,url:d.url,title:`\u3010${n}\u3011 ${d.name} ${d.period}`,sort:p||d.sort||null})}x("info",`links.length: ${a.length}`)}return a.sort((o,c)=>{if(!o.sort||!c.sort)return 0;let u=parseFloat(o.sort),l=parseFloat(c.sort);return u-l}),a}catch(a){return x("error","get360Animes error:",{message:a.message,name:a.name,stack:a.stack}),[]}}async search(t){try{let n=(await pe(`https://api.so.360kan.com/index?force_v=1&kw=${encodeURIComponent(t)}&from=&pageno=1&v_ap=1&tab=all`,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}})).data;x("info",`360kan response: ${JSON.stringify(n)}`);let s=[];return"rows"in n.data.longData&&(s=n.data.longData.rows),x("info",`360kan animes.length: ${s.length}`),s}catch(r){return x("error","get360Animes error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async getEpisodes(t){}async handleAnimes(t,r,n){let s=[];if(!t||!Array.isArray(t))return x("error","[360kan] sourceAnimes is not a valid array"),[];let a=await Promise.all(t.filter(o=>Wt(o.titleTxt,r)).map(async o=>{try{let c=[];if(o.cat_name==="\u7535\u5F71")for(let u of Object.keys(o.playlinks))R.vodAllowedPlatforms.includes(u)&&c.push({name:u.toString(),url:o.playlinks[u],title:`\u3010${u}\u3011 ${o.titleTxt}(${o.year})`});else if(o.cat_name==="\u7535\u89C6\u5267"||o.cat_name==="\u52A8\u6F2B"){if(R.vodAllowedPlatforms.includes(o.seriesSite))for(let u=0;u<o.seriesPlaylinks.length;u++){let l=o.seriesPlaylinks[u];c.push({name:(u+1).toString(),url:l.url,title:`\u3010${o.seriesSite}\u3011 \u7B2C${u+1}\u96C6`})}}else o.cat_name==="\u7EFC\u827A"&&(c=(await Promise.all(Object.keys(o.playlinks_year).map(async l=>R.vodAllowedPlatforms.includes(l)?(await Promise.all(o.playlinks_year[l].map(async f=>await this.get360Zongyi(o.titleTxt,o.id,l,f)))).flat():[]))).flat());if(c.length>0){let u={animeId:Number(o.id),bangumiId:String(o.id),animeTitle:`${o.titleTxt}(${o.year})\u3010${o.cat_name}\u3011from 360`,type:o.cat_name,typeDescription:o.cat_name,imageUrl:o.cover,startDate:zt(o.year),episodeCount:c.length,rating:0,isFavorited:!0,source:"360"};s.push(u),tt({...u,links:c}),R.animes.length>R.MAX_ANIMES&&it()}}catch(c){x("error",`[360kan] Error processing anime: ${c.message}`)}}));return this.sortAndPushAnimesByYear(s,n),a}async getEpisodeDanmu(t){}formatComments(t){}};ht();et();Pt();Br();Zr();var _A=class extends Xe{async getVodAnimes(t,r,n){try{let s=await pe(`${r}/api.php/provide/vod/?ac=detail&wd=${t}&pg=1`,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}});if(s&&s.data&&s.data.list&&s.data.list.length>0){x("info",`\u8BF7\u6C42 ${n}(${r}) \u6210\u529F`);let a=s.data;return x("info",`${n} response: \u2193\u2193\u2193`),Or(a),{serverName:n,list:a.list}}else return x("info",`\u8BF7\u6C42 ${n}(${r}) \u6210\u529F\uFF0C\u4F46 response.data.list \u4E3A\u7A7A`),{serverName:n,list:[]}}catch(s){return x("error",`\u8BF7\u6C42 ${n}(${r}) \u5931\u8D25:`,{message:s.message,name:s.name,stack:s.stack}),{serverName:n,list:[]}}}async getVodAnimesFromAllServersImpl(t,r){let n=r.map(a=>this.getVodAnimes(t,a.url,a.name));return(await Promise.allSettled(n)).filter(a=>a.status==="fulfilled").map(a=>a.value)}async getVodAnimesFromFastestServer(t,r,n=null,s=null){if(!r||r.length===0)return[];let a=r.map(d=>this.getVodAnimes(t,d.url,d.name)),o;try{o=await Promise.race(a)}catch(d){return x("error","[VOD fastest mode] \u6240\u6709\u670D\u52A1\u5668\u76F4\u63A5\u629B\u9519",d),[]}let c=d=>!n||s!=="vod"?!0:(JSON.stringify(d)?.toLowerCase()||"").includes(String(n).toLowerCase());if(c(o)&&o&&o.list&&o.list.length>0)return x("info",`[VOD fastest mode] \u6700\u5FEB\u670D\u52A1\u5668 ${o.serverName}${s==="vod"?" \u5B57\u7B26\u4E32\u5305\u542B preferAnimeId \u2192 \u4F18\u5148\u4F7F\u7528":""}`),[o];x("info",`[VOD fastest mode] \u6700\u5FEB\u670D\u52A1\u5668 ${o.serverName} \u4E0D\u542B preferAnimeId\uFF0C\u7B49\u5F85\u5176\u4ED6\u670D\u52A1\u5668\u2026`);let u=await Promise.allSettled(a);if(n){for(let d of u)if(d.status==="fulfilled"&&c(d.value)&&d.value&&d.value.list&&d.value.list.length>0)return x("info",`[VOD fastest mode] \u627E\u5230\u5305\u542B preferAnimeId \u7684\u670D\u52A1\u5668: ${d.value.serverName}`),[d.value];x("info","[VOD fastest mode] \u6240\u6709\u670D\u52A1\u5668\u90FD\u4E0D\u5305\u542B preferAnimeId\uFF0C\u56DE\u9000\u5230\u201C\u771F\u6B63\u6709\u6570\u636E\u201D\u7684\u6700\u5FEB\u670D\u52A1\u5668")}let l=u.filter(d=>d.status==="fulfilled").map(d=>d.value).filter(d=>d&&d.list&&d.list.length>0);if(l.length>0){let d=l[0];return x("info",`[VOD fastest mode] \u4F7F\u7528\u6700\u5FEB\u6709\u6570\u636E\u7684\u670D\u52A1\u5668: ${d.serverName}`),[d]}return x("error","[VOD fastest mode] \u6240\u6709\u670D\u52A1\u5668\u5747\u65E0\u6709\u6548\u6570\u636E"),[]}async search(t,r=null,n=null){return!R.vodServers||R.vodServers.length===0?[]:R.vodReturnMode==="fastest"?await this.getVodAnimesFromFastestServer(t,R.vodServers,r,n):await this.getVodAnimesFromAllServersImpl(t,R.vodServers)}async getEpisodes(t){}async handleAnimes(t,r,n,s){let a=[];if(!t||!Array.isArray(t))return x("error","[VOD] sourceAnimes is not a valid array"),[];let o=await Promise.all(t.filter(c=>Wt(c.vod_name,r)).map(async c=>{try{let u=c.vod_play_from.split("$$$");u=u.map(m=>m==="mgtv"?"imgo":m==="bilibili"?"bilibili1":m);let l=c.vod_play_url.split("$$$"),d=u.map((m,h)=>R.vodAllowedPlatforms.includes(m)?h:-1).filter(m=>m!==-1),f=[],p=0;for(let m of d){let h=u[m],g=l[m].split("#");for(let A of g){let y=A.split("$");p++,f.push({name:p.toString(),url:y[1],title:`\u3010${h}\u3011 ${y[0]}`})}}if(f.length>0){let m={animeId:Number(c.vod_id),bangumiId:String(c.vod_id),animeTitle:`${c.vod_name}(${c.vod_year})\u3010${c.type_name}\u3011from ${s}`,type:c.type_name,typeDescription:c.type_name,imageUrl:c.vod_pic,startDate:zt(c.vod_year),episodeCount:f.length,rating:0,isFavorited:!0,source:"vod"};a.push(m),tt({...m,links:f}),R.animes.length>R.MAX_ANIMES&&it()}}catch(u){x("error",`[VOD] Error processing anime: ${u.message}`)}}));return this.sortAndPushAnimesByYear(a,n),o}async getEpisodeDanmu(t){}formatComments(t){}};et();et();Pt();async function Afe(e){let t="https://m.douban.com/rexxar/api/v2";try{let r=await pe(`${t}${e}`,{method:"GET",headers:{Referer:"https://m.douban.com/movie/","Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}});return r.status!=200?null:r}catch(r){return x("error","[DOUBAN] GET API error:",{message:r.message,name:r.name,stack:r.stack}),null}}async function ont(e,t={}){let r="https://api.douban.com/v2";try{let n=await sr(`${r}${e}`,JSON.stringify({...t,apikey:"0ac44ae016490db2204ce0a042db2916"}),{method:"GET",headers:{Referer:"https://api.douban.com","Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}});return n.status!=200?null:n}catch(n){return x("error","[DOUBAN] POST API error:",{message:n.message,name:n.name,stack:n.stack}),null}}async function yfe(e,t=20){let r=`/search?q=${e}&start=0&count=${t}&type=movie`;return await Afe(r)}async function bfe(e){let t=`/movie/${e}?for_mobile=1`;return await Afe(t)}async function Efe(e){let t=`/movie/imdb/${e}`;return await ont(t)}et();Pt();async function xfe(e){let t="https://api.imdbapi.dev";try{let r=await pe(`${t}${e}`,{method:"GET",headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}});return r.status!=200?null:r}catch(r){return x("error","[IMDB] API error:",{message:r.message,name:r.name,stack:r.stack}),null}}async function vfe(e){let t=`/titles/${e}/seasons`;return await xfe(t)}async function _fe(e,t){let r=`/titles/${e}/episodes?season=${t}`;return await xfe(r)}var IA=class extends Xe{constructor(t){super("BaseSource"),this.doubanSource=t}async _getDoubanInfo(t,r,n){if(!t)return;let s=await Efe(t);if(!s||!s?.data)return;let a=s?.data?.id;if(a){let c=a.split("/").pop(),u=r==="movie"?"\u7535\u5F71":"\u7535\u89C6\u5267";c&&n.push({layout:"subject",target_id:c,type_name:u,target:{cover_url:s.data?.image,title:s.data?.alt_title}})}}async getDoubanIdByTmdbId(t,r){try{let n=[],a=(await nfe(t,r)).data?.imdb_id;if(!a)return[];if(t==="movie")await this._getDoubanInfo(a,t,n);else{let o=await vfe(a);x("info","imdb seasons:",o.data.seasons);let c=(o?.data?.seasons??[]).map(async u=>{let l=a;x("info","imdb season:",u.season);try{Number(u.season)!==1&&(l=(await _fe(a,u.season)).data?.episodes.find(f=>f.episodeNumber===1)?.id??""),await this._getDoubanInfo(l,t,n)}catch(d){x("error",`\u5904\u7406\u7B2C ${u.season} \u5B63\u5931\u8D25\uFF0C\u7EE7\u7EED\u6267\u884C\u5176\u4ED6\u5B63:`,d)}});await Promise.all(c)}return n}catch(n){return x("error","getTmdbIds error:",{message:n.message,name:n.name,stack:n.stack}),[]}}async search(t){try{let n=(await B2(t)).data,s=[],a=[];n?.results?.length>0&&(a=n.results.filter(u=>(u.name||u.title)===t)),x("info",`tmdb items.length: ${a.length}`);let o=a.map(async u=>{try{return await this.getDoubanIdByTmdbId(u.media_type,u.id)}catch(l){return x("error",`\u83B7\u53D6 TMDB ID ${u.id} \u7684\u8C46\u74E3 ID \u5931\u8D25\uFF0C\u7EE7\u7EED\u5904\u7406\u5176\u4ED6\u6761\u76EE:`,l),[]}}),c=await Promise.all(o);return s=[...s,...c.flat()],s}catch(r){return x("error","getTmdbAnimes error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async getEpisodes(t){}async handleAnimes(t,r,n,s){return this.doubanSource.handleAnimes(t,r,n,s)}async getEpisodeDanmu(t){}formatComments(t){}};et();var CA=class extends Xe{constructor(t,r,n,s,a){super("BaseSource"),this.tencentSource=t,this.iqiyiSource=r,this.youkuSource=n,this.bilibiliSource=s,this.miguSource=a}async search(t){try{let n=(await yfe(t)).data,s=[];return n?.subjects?.items?.length>0&&(s=[...s,...n.subjects.items]),n?.smart_box?.length>0&&(s=[...s,...n.smart_box]),x("info",`douban animes.length: ${s.length}`),s}catch(r){return x("error","getDoubanAnimes error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async getEpisodes(t){}async handleAnimes(t,r,n,s){let a=[];if(!t||!Array.isArray(t))return x("error","[Douban] sourceAnimes is not a valid array"),[];let o=await Promise.allSettled(t.map(async c=>{try{if(c?.layout!=="subject")return;let u=c.target_id,l=c?.type_name;if(l!=="\u7535\u5F71"&&l!=="\u7535\u89C6\u5267")return;x("info","doubanId: ",u,c?.target?.title,l);let d=await bfe(u),f=[];for(let p of d.data?.vendors??[]){if(!p)continue;x("info","vendor uri: ",p.uri),d.data?.genres.includes("\u771F\u4EBA\u79C0")?l="\u7EFC\u827A":d.data?.genres.includes("\u7EAA\u5F55\u7247")?l="\u7EAA\u5F55\u7247":l==="\u7535\u89C6\u5267"&&d.data?.genres.includes("\u52A8\u753B")&&d.data?.countries.some(h=>h.includes("\u4E2D\u56FD"))?l="\u56FD\u6F2B":l==="\u7535\u89C6\u5267"&&d.data?.genres.includes("\u52A8\u753B")&&d.data?.countries.includes("\u65E5\u672C")?l="\u65E5\u756A":l==="\u7535\u89C6\u5267"&&d.data?.genres.includes("\u52A8\u753B")?l="\u52A8\u6F2B":l==="\u7535\u5F71"&&d.data?.genres.includes("\u52A8\u753B")?l="\u52A8\u753B\u7535\u5F71":l==="\u7535\u5F71"&&d.data?.countries.some(h=>h.includes("\u4E2D\u56FD"))?l="\u534E\u8BED\u7535\u5F71":l==="\u7535\u5F71"?l="\u5916\u8BED\u7535\u5F71":l==="\u7535\u89C6\u5267"&&d.data?.countries.some(h=>h.includes("\u4E2D\u56FD"))?l="\u56FD\u4EA7\u5267":l==="\u7535\u89C6\u5267"&&d.data?.countries.some(h=>["\u65E5\u672C","\u97E9\u56FD"].includes(h))?l="\u65E5\u97E9\u5267":l==="\u7535\u89C6\u5267"&&d.data?.countries.some(h=>["\u7F8E\u56FD","\u82F1\u56FD","\u52A0\u62FF\u5927","\u6CD5\u56FD","\u5FB7\u56FD","\u610F\u5927\u5229","\u897F\u73ED\u7259","\u6FB3\u5927\u5229\u4E9A"].includes(h))&&(l="\u6B27\u7F8E\u5267");let m=[{title:d.data?.title,year:d.data?.year,type:l,imageUrl:c?.target?.cover_url}];switch(p.id){case"qq":{let h=new URL(p.uri).searchParams.get("cid");h&&(m[0].provider="tencent",m[0].mediaId=h,await this.tencentSource.handleAnimes(m,d.data?.title,a));break}case"iqiyi":{let h=new URL(p.uri).searchParams.get("tvid");h&&(m[0].provider="iqiyi",m[0].mediaId=c?.type_name==="\u7535\u5F71"?`movie_${h}`:h,await this.iqiyiSource.handleAnimes(m,d.data?.title,a));break}case"youku":{let h=new URL(p.uri).searchParams.get("showid");h&&(m[0].provider="youku",m[0].mediaId=h,await this.youkuSource.handleAnimes(m,d.data?.title,a));break}case"bilibili":{let h=new URL(p.uri).pathname.split("/").pop();h&&(m[0].provider="bilibili",m[0].mediaId=`ss${h}`,await this.bilibiliSource.handleAnimes(m,d.data?.title,a));break}case"miguvideo":{let h=null,A=decodeURIComponent(p.uri).match(/"contentID":"([^"]+)"/);A&&A[1]&&(h=A[1]),h&&(m[0].provider="migu",m[0].mediaId=`https://v3-sc.miguvideo.com/program/v4/cont/content-info/${h}/1`,await this.miguSource.handleAnimes(m,d.data?.title,a));break}}}return f}catch(u){return x("error",`[Douban] Error processing anime: ${u.message}`),[]}}));return this.sortAndPushAnimesByYear(a,n),o}async getEpisodeDanmu(t){}formatComments(t){}};ht();et();Pt();rs();Br();Zr();zr();var nc=null,wA=0,SA=0,TA=class extends Xe{constructor(){super(),this.isBatchMode=!1}API_CONFIG={SECRET_KEY:"cf65GPholnICgyw1xbrpA79XVkizOdMq",TV_HOST:"api.gorafie.com",TV_DANMU_HOST:"static-dm.qwdjapp.com",TV_VERSION:"1.2.2",TV_USER_AGENT:"okhttp/3.12.13",TV_CLIENT_TYPE:"android_qwtv_RRSP",TV_PKT:"rrmj",WEB_HOST:"api.rrmj.plus",WEB_DANMU_HOST:"static-dm.rrmj.plus"};generateRandomAliId(){let t="aY",r=24-t.length,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=t;for(let a=0;a<r;a++)s+=n.charAt(Math.floor(Math.random()*n.length));return s}rotateAliId(){let t=nc;nc=this.generateRandomAliId(),wA=0,SA=Math.floor(Math.random()*31)+30,t?x("info",`[Renren] AliID \u8F6E\u6362\u5B8C\u6210: ${t} -> ${nc}`):x("info",`[Renren] AliID \u521D\u59CB\u5316\u5B8C\u6210: ${nc}`),x("info",`[Renren] AliID \u4E0B\u6B21\u8F6E\u6362\u5C06\u5728 ${SA} \u6B21\u64CD\u4F5C\u540E\u89E6\u53D1`)}checkAndIncrementUsage(){nc||this.rotateAliId(),wA>=SA&&(x("info",`[Renren] AliID \u89E6\u53D1\u9608\u503C (${wA}/${SA})\uFF0C\u6B63\u5728\u8F6E\u6362 ID...`),this.rotateAliId()),wA++,x("info",`[Renren] AliID \u8BA1\u6570\u589E\u52A0: ${wA}/${SA} (\u5F53\u524DID: ...${nc.slice(-6)})`)}getAliId(){return nc||this.rotateAliId(),this.isBatchMode||this.checkAndIncrementUsage(),nc}generateTvHeaders(t,r){let n=this.getAliId();return{clientVersion:this.API_CONFIG.TV_VERSION,p:"Android",deviceid:"tWEtIN7JG2DTDkBBigvj6A%3D%3D",token:"",aliid:n,umid:"",clienttype:this.API_CONFIG.TV_CLIENT_TYPE,pkt:this.API_CONFIG.TV_PKT,t:t.toString(),sign:r,isAgree:"1",et:"2","Accept-Encoding":"gzip","User-Agent":this.API_CONFIG.TV_USER_AGENT}}async searchAppContent(t,r=30){try{let n=Date.now(),s="/qwtv/search",a={searchWord:t,num:r,searchNext:"",well:"match"},o=m2(s,n,a,this.API_CONFIG.SECRET_KEY),c=Object.entries(a).map(([p,m])=>`${p}=${encodeURIComponent(m==null?"":String(m))}`).join("&"),u=this.generateTvHeaders(n,o),l=`https://${this.API_CONFIG.TV_HOST}${s}?${c}`,d=await pe(l,{headers:u,retries:1});if(!d.data||d.data.code!=="0000")return x("info",`[Renren] TV\u641C\u7D22\u63A5\u53E3\u5F02\u5E38: code=${d?.data?.code}, msg=${d?.data?.msg}`),[];let f=d.data.data||[];return x("info",`[Renren] TV\u641C\u7D22\u8FD4\u56DE\u7ED3\u679C\u6570\u91CF: ${f.length}`),f.map(p=>({provider:"renren",mediaId:String(p.id),title:String(p.title||"").replace(/<[^>]+>/g,"").replace(/:/g,"\uFF1A"),type:p.classify||"Renren",season:null,year:p.year,imageUrl:p.cover,episodeCount:null,currentEpisodeIndex:null}))}catch(n){return x("info","[Renren] searchAppContent error:",n.message),[]}}async getAppDramaDetail(t,r=""){try{let n=Date.now(),s="/qwtv/drama/details",a={isAgeLimit:"false",seriesId:t,episodeId:r,clarity:"HD",caption:"0",hevcOpen:"1"},o=m2(s,n,a,this.API_CONFIG.SECRET_KEY),c=Object.entries(a).map(([p,m])=>`${p}=${encodeURIComponent(m)}`).join("&"),u=this.generateTvHeaders(n,o),l=await pe(`https://${this.API_CONFIG.TV_HOST}${s}?${c}`,{headers:u,retries:1});if(!l||!l.data)return x("info",`[Renren] TV\u8BE6\u60C5\u63A5\u53E3\u7F51\u7EDC\u65E0\u54CD\u5E94\u6216\u6570\u636E\u4E3A\u7A7A: ID=${t}`),null;let d=l.data,f=d.msg||d.message||"";return f.includes("\u8BE5\u5267\u6682\u4E0D\u53EF\u64AD")?(x("info",`[Renren] TV\u63A5\u53E3\u63D0\u793A'\u8BE5\u5267\u6682\u4E0D\u53EF\u64AD' (ID=${t})\uFF0C\u89C6\u4E3A\u7EF4\u62A4\u4E2D\uFF0C\u89E6\u53D1Web\u964D\u7EA7`),null):d.code!=="0000"?(x("info",`[Renren] TV\u8BE6\u60C5\u63A5\u53E3\u8FD4\u56DE\u9519\u8BEF\u7801: ${d.code}, msg=${f} (ID=${t})`),null):!d.data||!d.data.episodeList||d.data.episodeList.length===0?(x("info",`[Renren] TV\u8BE6\u60C5\u63A5\u53E3\u8FD4\u56DE\u6570\u636E\u7F3A\u5931\u5206\u96C6\u5217\u8868 (ID=${t})\uFF0C\u5C1D\u8BD5Web\u964D\u7EA7`),null):(x("info",`[Renren] TV\u8BE6\u60C5\u83B7\u53D6\u6210\u529F: ID=${t}, \u5305\u542B\u96C6\u6570=${d.data.episodeList.length}`),d)}catch(n){return x("info","[Renren] getAppDramaDetail error:",n.message),null}}async getAppDanmu(t){try{let r=Date.now(),n=t;String(t).includes("-")&&(n=String(t).split("-")[1]);let s=`/v1/produce/danmu/EPISODE/${n}`,o=m2(s,r,{},this.API_CONFIG.SECRET_KEY),c=this.generateTvHeaders(r,o),u=`https://${this.API_CONFIG.TV_DANMU_HOST}${s}`,l=await pe(u,{headers:c,retries:1});if(!l.data)return null;let d=mA(l.data);return Array.isArray(d)?d:d&&d.data&&Array.isArray(d.data)?d.data:[]}catch(r){return x("info","[Renren] getAppDanmu error:",r.message),null}}async performNetworkSearch(t,{lockRef:r=null,lastRequestTimeRef:n={value:0},minInterval:s=500}={}){try{x("info",`[Renren] \u5C1D\u8BD5\u6267\u884C\u7F51\u9875\u7248\u641C\u7D22: ${t}`);let a=`https://${this.API_CONFIG.WEB_HOST}/m-station/search/drama`,o={keywords:t,size:20,order:"match",search_after:"",isExecuteVipActivity:!0};if(r){for(;r.value;)await new Promise(p=>setTimeout(p,50));r.value=!0}let u=Date.now()-n.value;u<s&&await new Promise(p=>setTimeout(p,s-u));let l=await this.renrenRequest("GET",a,o);if(n.value=Date.now(),r&&(r.value=!1),!l.data)return x("info","[Renren] \u7F51\u9875\u7248\u641C\u7D22\u65E0\u54CD\u5E94\u6570\u636E"),[];let f=mA(l.data)?.data?.searchDramaList||[];return x("info",`[Renren] \u7F51\u9875\u7248\u641C\u7D22\u7ED3\u679C\u6570\u91CF: ${f.length}`),f.map(p=>({provider:"renren",mediaId:String(p.id),title:String(p.title||"").replace(/<[^>]+>/g,"").replace(/:/g,"\uFF1A"),type:p.classify||"Renren",season:null,year:p.year,imageUrl:p.cover,episodeCount:p.episodeTotal,currentEpisodeIndex:null}))}catch(a){return x("info","[Renren] performNetworkSearch error:",a.message),[]}}async search(t){x("info",`[Renren] \u5F00\u59CB\u641C\u7D22: ${t}`);let r={title:t,season:null},n=r.title,s=r.season,a=[];if(a=await this.searchAppContent(n),a.length===0){x("info","[Renren] TV \u641C\u7D22\u65E0\u7ED3\u679C\uFF0C\u964D\u7EA7\u5230\u7F51\u9875\u63A5\u53E3");let o={value:!1},c={value:0};a=await this.performNetworkSearch(n,{lockRef:o,lastRequestTimeRef:c,minInterval:400})}return s==null?a:a.filter(o=>o.season===s)}async getDetail(t){let r=await this.getAppDramaDetail(String(t));if(r&&r.data)return r.data;x("info",`[Renren] TV\u8BE6\u60C5\u4E0D\u53EF\u7528\uFF0C\u5C1D\u8BD5\u8BF7\u6C42\u7F51\u9875\u7248\u63A5\u53E3 (ID=${t})`);let n=`https://${this.API_CONFIG.WEB_HOST}/m-station/drama/page`,s={hsdrOpen:0,isAgeLimit:0,dramaId:String(t),hevcOpen:1};try{let a=await this.renrenRequest("GET",n,s);if(!a.data)return null;let o=mA(a.data);return o&&o.data?(x("info",`[Renren] \u7F51\u9875\u7248\u8BE6\u60C5\u83B7\u53D6\u6210\u529F: \u5305\u542B\u96C6\u6570=${o.data.episodeList?o.data.episodeList.length:0}`),o.data):null}catch(a){return x("info",`[Renren] \u7F51\u9875\u7248\u8BE6\u60C5\u8BF7\u6C42\u5931\u8D25: ${a.message}`),null}}async getEpisodes(t){x("info",`[Renren] \u6B63\u5728\u83B7\u53D6\u5206\u96C6\u4FE1\u606F: ID=${t}`);let r=await this.getDetail(t);if(!r)return x("info",`[Renren] \u83B7\u53D6\u5206\u96C6\u5931\u8D25: \u8BE6\u60C5\u5BF9\u8C61\u4E3A\u7A7A ID=${t}`),[];if(!r.episodeList||!Array.isArray(r.episodeList))return x("info",`[Renren] \u83B7\u53D6\u5206\u96C6\u5931\u8D25: episodeList \u5B57\u6BB5\u7F3A\u5931\u6216\u975E\u6570\u7EC4 ID=${t}`),[];let n=[],s=String(t);return r.episodeList.forEach((a,o)=>{let c=String(a.sid||"").trim();if(!c)return;let u=a.title?String(a.title):`\u7B2C${String(a.episodeNo||o+1).padStart(2,"0")}\u96C6`,l=`${s}-${c}`;n.push({sid:l,order:a.episodeNo||o+1,title:u})}),x("info",`[Renren] \u6210\u529F\u89E3\u6790\u5206\u96C6\u6570\u91CF: ${n.length} (ID=${t})`),n.map(a=>({provider:"renren",episodeId:a.sid,title:a.title,episodeIndex:a.order,url:null}))}async handleAnimes(t,r,n){let s=[];if(!t||!Array.isArray(t))return x("info","[Renren] sourceAnimes is not a valid array"),[];this.isBatchMode=!0;try{await Promise.all(t.filter(a=>Wt(a.title,r)).map(async a=>{try{let o=await this.getEpisodes(a.mediaId),c=[];for(let u of o)c.push({name:u.episodeIndex.toString(),url:u.episodeId,title:`\u3010${u.provider}\u3011 ${u.title}`});if(c.length>0){let u={animeId:Number(a.mediaId),bangumiId:String(a.mediaId),animeTitle:`${a.title}(${a.year})\u3010${a.type}\u3011from renren`,type:a.type,typeDescription:a.type,imageUrl:a.imageUrl,startDate:zt(a.year),episodeCount:c.length,rating:0,isFavorited:!0,source:"renren"};s.push(u),tt({...u,links:c}),R.animes.length>R.MAX_ANIMES&&it()}}catch(o){x("info",`[Renren] Error processing anime: ${o.message}`)}}))}finally{this.isBatchMode=!1,this.checkAndIncrementUsage()}return this.sortAndPushAnimesByYear(s,n),s}async getEpisodeDanmu(t){let r=await this.getAppDanmu(t);return(!r||r.length===0)&&(x("info","[Renren] TV \u5F39\u5E55\u63A5\u53E3\u5931\u8D25\u6216\u65E0\u6570\u636E\uFF0C\u5C1D\u8BD5\u964D\u7EA7\u7F51\u9875\u63A5\u53E3"),r=await this.getWebDanmuFallback(t)),r&&Array.isArray(r)&&r.length>0?(x("info",`[Renren] \u6210\u529F\u83B7\u53D6 ${r.length} \u6761\u5F39\u5E55`),r):[]}async getWebDanmuFallback(t){let r=t;String(t).includes("-")&&(r=String(t).split("-")[1]),x("info",`[Renren] \u964D\u7EA7\u7F51\u9875\u7248\u5F39\u5E55\uFF0C\u4F7F\u7528 ID: ${r}`);let n={user_agent:"Mozilla/5.0",origin:"https://rrsp.com.cn",referer:"https://rrsp.com.cn/"},s=`https://${this.API_CONFIG.WEB_DANMU_HOST}/v1/produce/danmu/EPISODE/${r}`,a={Accept:"application/json","User-Agent":n.user_agent,Origin:n.origin,Referer:n.referer};try{let o=await this.renrenHttpGet(s,{headers:a});if(!o.data)return[];let c=mA(o.data),u=[];return Array.isArray(c)?u=c:c?.data&&Array.isArray(c.data)&&(u=c.data),u}catch(o){return x("info",`[Renren] \u7F51\u9875\u7248\u5F39\u5E55\u964D\u7EA7\u5931\u8D25: ${o.message}`),[]}}async getEpisodeDanmuSegments(t){return new Ve({type:"renren",segmentList:[{type:"renren",segment_start:0,segment_end:3e4,url:t}]})}async getEpisodeSegmentDanmu(t){return this.getEpisodeDanmu(t.url)}parseRRSPPFields(t){let r=String(t).split(","),n=(d,f,p)=>{if(d==null||d==="")return p;let m=f(d);return isNaN(m)?p:m},s=n(r[0],parseFloat,0),a=n(r[1],d=>parseInt(d,10),1),o=n(r[2],d=>parseInt(d,10),25),c=n(r[3],d=>parseInt(d,10),16777215),u=r[6]||"",l=r[7]||`${s}:${u}`;return{timestamp:s,mode:a,size:o,color:c,userId:u,contentId:l}}formatComments(t){return t.map(r=>{let n=String(r.d||"");if(!n&&r.content&&(n=String(r.content)),!n)return null;if(r.p){let s=this.parseRRSPPFields(r.p);return{cid:Number(s.contentId)||0,p:`${s.timestamp.toFixed(2)},${s.mode},${s.color},[renren]`,m:n,t:s.timestamp}}return null}).filter(Boolean)}generateSignature(t,r,n,s,a,o,c,u){let l=`${t.toUpperCase()}
aliId:${r}
ct:${n}
cv:${s}
t:${a}
${o}?${c}`;return Hde(u,l)}buildSignedHeaders({method:t,url:r,params:n={},deviceId:s,token:a}){let o={client_type:"web_pc",client_version:"1.0.0",user_agent:"Mozilla/5.0",origin:"https://rrsp.com.cn",referer:"https://rrsp.com.cn/"},c=Ode(r),u=bO(n),l=Date.now(),f=this.generateSignature(t,s,o.client_type,o.client_version,l,c,u,"ES513W0B1CsdUrR13Qk5EgDAKPeeKZY");return{clientVersion:o.client_version,deviceId:s,clientType:o.client_type,t:String(l),aliId:s,umid:s,token:a||"",cv:o.client_version,ct:o.client_type,uet:"9","x-ca-sign":f,Accept:"application/json","User-Agent":o.user_agent,Origin:o.origin,Referer:o.referer}}async renrenHttpGet(t,{params:r={},headers:n={}}={}){let s=Pde(t,r);return await pe(s,{headers:n,retries:1})}generateDeviceId(){return Math.random().toString(36).slice(2).toUpperCase()}async renrenRequest(t,r,n={}){let s=this.generateDeviceId(),a=this.buildSignedHeaders({method:t,url:r,params:n,deviceId:s});return await pe(r+"?"+bO(n),{headers:a,retries:1})}};ht();et();Pt();rs();Br();Zr();zr();var BA=class extends Xe{async search(t){try{let r=await pe(`https://hxqapi.hiyun.tv/wapi/search/aggregate/search?keyword=${t}&scope=101&page=1`,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}});if(!r||!r.data)return x("info","hanjutvSearchresp: \u8BF7\u6C42\u5931\u8D25\u6216\u65E0\u6570\u636E\u8FD4\u56DE"),[];if(!r.data.seriesData||!r.data.seriesData.seriesList)return x("info","hanjutvSearchresp: seriesData \u6216 seriesList \u4E0D\u5B58\u5728"),[];x("info",`[Hanjutv] \u641C\u7D22\u627E\u5230 ${r.data.seriesData.seriesList.length} \u4E2A\u6709\u6548\u7ED3\u679C`);let n=[];for(let s of r.data.seriesData.seriesList){let a=Tr(s.sid);n.push({...s,animeId:a})}return n}catch(r){return x("error","getHanjutvAnimes error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async getDetail(t){try{let r=await pe(`https://hxqapi.hiyun.tv/wapi/series/series/detail?sid=${t}`,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}});return!r||!r.data?(x("info","getHanjutvDetail: \u8BF7\u6C42\u5931\u8D25\u6216\u65E0\u6570\u636E\u8FD4\u56DE"),[]):r.data.series?(x("info",`getHanjutvDetail: ${JSON.stringify(r.data.series)}`),r.data.series):(x("info","getHanjutvDetail: series \u4E0D\u5B58\u5728"),[])}catch(r){return x("error","getHanjutvDetail error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async getEpisodes(t){try{let r=await pe(`https://hxqapi.hiyun.tv/wapi/series/series/detail?sid=${t}`,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}});if(!r||!r.data)return x("info","getHanjutvEposides: \u8BF7\u6C42\u5931\u8D25\u6216\u65E0\u6570\u636E\u8FD4\u56DE"),[];if(!r.data.episodes)return x("info","getHanjutvEposides: episodes \u4E0D\u5B58\u5728"),[];let n=r.data.episodes.sort((s,a)=>s.serialNo-a.serialNo);return x("info",`getHanjutvEposides: ${JSON.stringify(n)}`),n}catch(r){return x("error","getHanjutvEposides error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async handleAnimes(t,r,n){let s={1:"\u97E9\u5267",2:"\u7EFC\u827A",3:"\u7535\u5F71",4:"\u65E5\u5267",5:"\u7F8E\u5267",6:"\u6CF0\u5267",7:"\u56FD\u4EA7\u5267"};function a(u){return s[u]||"\u5176\u4ED6"}let o=[];if(!t||!Array.isArray(t))return x("error","[Hanjutv] sourceAnimes is not a valid array"),[];let c=await Promise.all(t.filter(u=>Wt(u.name,r)).map(async u=>{try{let l=await this.getDetail(u.sid),d=await this.getEpisodes(u.sid),f=[];for(let p of d){let m=p.title&&p.title.trim()!==""?`\u7B2C${p.serialNo}\u96C6\uFF1A${p.title}`:`\u7B2C${p.serialNo}\u96C6`;f.push({name:m,url:p.pid,title:`\u3010hanjutv\u3011 ${m}`})}if(f.length>0){let p={animeId:u.animeId,bangumiId:String(u.animeId),animeTitle:`${u.name}(${new Date(u.updateTime).getFullYear()})\u3010${a(l.category)}\u3011from hanjutv`,type:a(l.category),typeDescription:a(l.category),imageUrl:u.image.thumb,startDate:zt(new Date(u.updateTime).getFullYear()),episodeCount:f.length,rating:l.rank,isFavorited:!0,source:"hanjutv"};o.push(p),tt({...p,links:f}),R.animes.length>R.MAX_ANIMES&&it()}}catch(l){x("error",`[Hanjutv] Error processing anime: ${l.message}`)}}));return this.sortAndPushAnimesByYear(o,n),c}async getEpisodeDanmu(t){let r=[],n=0,s=1e8;try{for(;n<s;){let a=await pe(`https://hxqapi.zmdcq.com/api/danmu/playItem/list?fromAxis=${n}&pid=${t}&toAxis=${s}`,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"},retries:1});a.data&&a.data.danmus&&(r=r.concat(a.data.danmus));let o=a.data.nextAxis||s;if(o>=s)break;n=o}return r}catch(a){return x("error","fetchHanjutvEpisodeDanmu error:",{message:a.message,name:a.name,stack:a.stack}),r}}async getEpisodeDanmuSegments(t){return x("info","\u83B7\u53D6\u97E9\u5267TV\u5F39\u5E55\u5206\u6BB5\u5217\u8868...",t),new Ve({type:"hanjutv",segmentList:[{type:"hanjutv",segment_start:0,segment_end:3e4,url:t}]})}async getEpisodeSegmentDanmu(t){return this.getEpisodeDanmu(t.url)}formatComments(t){return t.map(r=>({cid:Number(r.did),p:`${(r.t/1e3).toFixed(2)},${r.tp===2?5:r.tp},${Number(r.sc)},[hanjutv]`,m:r.lc?`${r.con} \u{1F44D}${r.lc}`:r.con,t:Math.round(r.t/1e3)}))}};ht();et();Pt();Br();Zr();zr();var RA=class extends Xe{async search(t){try{let r=ec(t),n=t,s=encodeURIComponent(r);x("info",`[Bahamut] \u539F\u59CB\u641C\u7D22\u8BCD: ${t}`),x("info",`[Bahamut] \u5DF4\u54C8\u4F7F\u7528\u641C\u7D22\u8BCD: ${r}`);let a=new AbortController,o=(async()=>{try{let d=`https://api.gamer.com.tw/mobile_app/anime/v1/search.php?kw=${s}`,f=R.makeProxyUrl(d),p=await pe(f,{headers:{"Content-Type":"application/json","User-Agent":"Anime/2.29.2 (7N5749MM3F.tw.com.gamer.anime; build:972; iOS 26.0.0) Alamofire/5.6.4"}});if(p&&p.data&&p.data.anime&&p.data.anime.length>0){a.abort();let m=p.data.anime;for(let h of m)try{h._originalQuery=t,h._searchUsedTitle=r}catch{}return x("info",`bahamutSearchresp (original): ${JSON.stringify(m)}`),x("info",`[Bahamut] \u8FD4\u56DE ${m.length} \u6761\u7ED3\u679C (source: original)`),{success:!0,data:m,source:"original"}}return x("info","[Bahamut] \u539F\u59CB\u641C\u7D22\u6210\u529F\uFF0C\u4F46\u672A\u8FD4\u56DE\u4EFB\u4F55\u7ED3\u679C (source: original)"),{success:!1,source:"original"}}catch(d){return x("error","[Bahamut] \u539F\u59CB\u641C\u7D22\u5931\u8D25:",{message:d.message,name:d.name,stack:d.stack}),{success:!1,source:"original"}}})(),c=(async()=>{try{await new Promise(y=>setTimeout(y,100));let d=await R2(n,a.signal,"Bahamut");if(!d||!d.title)return x("info","[Bahamut] TMDB\u8F6C\u6362\u672A\u8FD4\u56DE\u7ED3\u679C\uFF0C\u53D6\u6D88\u65E5\u8BED\u539F\u540D\u641C\u7D22"),{success:!1,source:"tmdb"};let{title:f,cnAlias:p}=d;x("info",`[Bahamut] \u4F7F\u7528\u65E5\u8BED\u539F\u540D\u8FDB\u884C\u641C\u7D22: ${f}`);let h=`https://api.gamer.com.tw/mobile_app/anime/v1/search.php?kw=${encodeURIComponent(f)}`,g=R.makeProxyUrl(h),A=await pe(g,{headers:{"Content-Type":"application/json","User-Agent":"Anime/2.29.2 (7N5749MM3F.tw.com.gamer.anime; build:972; iOS 26.0.0) Alamofire/5.6.4"},signal:a.signal});if(A&&A.data&&A.data.anime&&A.data.anime.length>0){let y=A.data.anime;for(let v of y)try{v._originalQuery=t,v._searchUsedTitle=f,v._tmdbCnAlias=p}catch{}return x("info",`bahamutSearchresp (TMDB): ${JSON.stringify(y)}`),x("info",`[Bahamut] \u8FD4\u56DE ${y.length} \u6761\u7ED3\u679C (source: tmdb)`),{success:!0,data:y,source:"tmdb"}}return x("info","[Bahamut] \u65E5\u8BED\u539F\u540D\u641C\u7D22\u6210\u529F\uFF0C\u4F46\u672A\u8FD4\u56DE\u4EFB\u4F55\u7ED3\u679C (source: tmdb)"),{success:!1,source:"tmdb"}}catch(d){if(d.name==="AbortError")return x("info","[Bahamut] \u539F\u59CB\u641C\u7D22\u6210\u529F\uFF0C\u4E2D\u65AD\u65E5\u8BED\u539F\u540D\u641C\u7D22"),{success:!1,source:"tmdb",aborted:!0};throw d}})(),[u,l]=await Promise.all([o,c]);return u.success?u.data:l.success?l.data:(x("info","[Bahamut] \u539F\u59CB\u641C\u7D22\u548C\u57FA\u4E8ETMDB\u7684\u641C\u7D22\u5747\u672A\u8FD4\u56DE\u4EFB\u4F55\u7ED3\u679C"),[])}catch(r){return x("error","getBahamutAnimes error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async getEpisodes(t){try{let r=`https://api.gamer.com.tw/anime/v1/video.php?videoSn=${t}`,n=R.makeProxyUrl(r),s=await pe(n,{headers:{"Content-Type":"application/json","User-Agent":"Anime/2.29.2 (7N5749MM3F.tw.com.gamer.anime; build:972; iOS 26.0.0) Alamofire/5.6.4"}});return!s||!s.data?(x("info","getBahamutEposides: \u8BF7\u6C42\u5931\u8D25\u6216\u65E0\u6570\u636E\u8FD4\u56DE"),[]):!s.data.data||!s.data.data.video||!s.data.data.anime?(x("info","getBahamutEposides: video \u6216 anime \u4E0D\u5B58\u5728"),[]):(x("info",`getBahamutEposides: ${JSON.stringify(s.data.data)}`),s.data.data)}catch(r){return x("error","getBahamutEposides error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async handleAnimes(t,r,n){let s=[];r=ec(r);function a(d,f,p){if(!d)return!1;let m=String(d),h=String(f||""),g=String(p||"");if(R.strictTitleMatch){if(Su(m,h)||g&&Su(m,g))return!0;try{if(Su(m,ec(h))||Su(m,Jt(h))||g&&(Su(m,ec(g))||Su(m,Jt(g))))return!0}catch{}return!1}let A=kn(m),y=kn(h),v=g?kn(g):"";if(A.includes(y)||v&&A.includes(v))return!0;try{if(A.includes(kn(ec(h)))||A.includes(kn(Jt(h)))||v&&(A.includes(kn(ec(g)))||A.includes(kn(Jt(g)))))return!0}catch{}try{if(A.toLowerCase().includes(y.toLowerCase())||v&&A.toLowerCase().includes(v.toLowerCase()))return!0}catch{}return!1}let c=(Array.isArray(t)?t:[]).filter(d=>{let f=d.title||"",p=d._searchUsedTitle||d._originalQuery||"";return d._searchUsedTitle&&d._searchUsedTitle!==r?(x("info",`[Bahamut] TMDB\u7ED3\u679C\u76F4\u63A5\u4FDD\u7559: ${f}`),!0):a(f,r,p)}),u=c.length>0?c[0]._tmdbCnAlias:null;N2(c,u);let l=await Promise.all(c.map(async d=>{try{let f=await this.getEpisodes(d.video_sn),p=f.video,m=null;f.anime.episodes&&(m=f.anime.episodes[0]||Object.values(f.anime.episodes)[0]);let h=[];if(m&&Array.isArray(m))for(let g of m){let A=`\u7B2C${g.episode}\u96C6`;h.push({name:g.episode.toString(),url:g.videoSn.toString(),title:`\u3010bahamut\u3011 ${A}`})}if(h.length>0){let g=(d.info||"").match(/(\d{4})/),A=d._displayTitle||Jt(d.title),y={animeId:d.video_sn,bangumiId:String(d.video_sn),animeTitle:`${A}(${(d.info.match(/(\d{4})/)||[null])[0]})\u3010\u52A8\u6F2B\u3011from bahamut`,type:"\u52A8\u6F2B",typeDescription:"\u52A8\u6F2B",imageUrl:d.cover,startDate:zt(new Date(f.anime.seasonStart).getFullYear()),episodeCount:h.length,rating:p.rating,isFavorited:!0,source:"bahamut"};s.push(y),tt({...y,links:h}),R.animes.length>R.MAX_ANIMES&&it()}}catch(f){x("error",`[Bahamut] Error processing anime: ${f.message}`)}}));return this.sortAndPushAnimesByYear(s,n),l}async getEpisodeDanmu(t){let r=[];try{let n=`https://api.gamer.com.tw/anime/v1/danmu.php?geo=TW%2CHK&videoSn=${t}`,s=R.makeProxyUrl(n),a=await pe(s,{headers:{"Content-Type":"application/json","User-Agent":"Anime/2.29.2 (7N5749MM3F.tw.com.gamer.anime; build:972; iOS 26.0.0) Alamofire/5.6.4"},retries:1});return a.data&&a.data.data&&a.data.data.danmu&&(r=a.data.data.danmu),r}catch(n){return x("error","fetchBahamutEpisodeDanmu error:",{message:n.message,name:n.name,stack:n.stack}),r}}async getEpisodeDanmuSegments(t){return x("info","\u83B7\u53D6\u5DF4\u54C8\u59C6\u7279\u5F39\u5E55\u5206\u6BB5\u5217\u8868...",t),new Ve({type:"bahamut",segmentList:[{type:"bahamut",segment_start:0,segment_end:3e4,url:t}]})}async getEpisodeSegmentDanmu(t){return this.getEpisodeDanmu(t.url)}formatComments(t){let r={0:1,1:5,2:4};return t.map(n=>({cid:Number(n.sn),p:`${Math.round(n.time/10).toFixed(2)},${r[n.position]||n.tp},${parseInt(n.color.slice(1),16)},[bahamut]`,m:R.danmuSimplifiedTraditional==="simplified"?Jt(n.text):n.text,t:Math.round(n.time/10)}))}};ht();et();Pt();Br();zr();var NA=class extends Xe{async search(t){try{let r=await pe(`https://api.danmaku.weeblify.app/ddp/v1?path=/v2/search/anime?keyword=${t}`,{headers:{"Content-Type":"application/json","User-Agent":`LogVar Danmu API/${R.version}`}});return!r||!r.data?(x("info","dandanSearchresp: \u8BF7\u6C42\u5931\u8D25\u6216\u65E0\u6570\u636E\u8FD4\u56DE"),[]):r.data.animes?(x("info",`[Dandan] \u641C\u7D22\u627E\u5230 ${r.data.animes.length} \u4E2A\u6709\u6548\u7ED3\u679C`),r.data.animes):(x("info","dandanSearchresp: seriesData \u6216 seriesList \u4E0D\u5B58\u5728"),[])}catch(r){return x("error","getDandanAnimes error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async getEpisodes(t){try{let r=await pe(`https://api.danmaku.weeblify.app/ddp/v1?path=/v2/bangumi/${t}`,{headers:{"Content-Type":"application/json","User-Agent":`LogVar Danmu API/${R.version}`}});if(!r||!r.data)return x("info","getDandanEposides: \u8BF7\u6C42\u5931\u8D25\u6216\u65E0\u6570\u636E\u8FD4\u56DE"),{episodes:[],titles:[]};if(!r.data.bangumi)return x("info","getDandanEposides: bangumi \u6570\u636E\u4E0D\u5B58\u5728"),{episodes:[],titles:[]};let n=r.data.bangumi,s=Array.isArray(n.episodes)?n.episodes:[],a=Array.isArray(n.titles)?n.titles.map(o=>o.title):[];return x("info",`getDandanEposides: ${JSON.stringify(r.data.bangumi.episodes)}`),{episodes:s,titles:a}}catch(r){return x("error","getDandanEposides error:",{message:r.message,name:r.name,stack:r.stack}),{episodes:[],titles:[]}}}async handleAnimes(t,r,n){let s=[];if(!t||!Array.isArray(t))return x("error","[Dandan] sourceAnimes is not a valid array"),[];let a=await Promise.all(t.map(async o=>{try{let c=await this.getEpisodes(o.animeId),u=c.episodes,l=c.titles,d=[];for(let f of u){let p=f.episodeTitle&&f.episodeTitle.trim()!==""?`${f.episodeTitle}`:`\u7B2C${f.episodeNumber}\u96C6`;d.push({name:p,url:f.episodeId.toString(),title:`\u3010dandan\u3011 ${p}`})}if(d.length>0){let f={animeId:o.animeId,bangumiId:String(o.animeId),animeTitle:`${o.animeTitle}(${new Date(o.startDate).getFullYear()})\u3010${o.typeDescription}\u3011from dandan`,aliases:l,type:o.type,typeDescription:o.typeDescription,imageUrl:o.imageUrl,startDate:o.startDate,episodeCount:d.length,rating:o.rating,isFavorited:!0,source:"dandan"};s.push(f),tt({...f,links:d}),R.animes.length>R.MAX_ANIMES&&it()}}catch(c){x("error",`[Dandan] Error processing anime: ${c.message}`)}}));return this.sortAndPushAnimesByYear(s,n),a}async getEpisodeDanmu(t){let r=[];try{let n=await pe(`https://api.danmaku.weeblify.app/ddp/v1?path=%2Fv2%2Fcomment%2F${t}%3Ffrom%3D0%26withRelated%3Dtrue%26chConvert%3D0`,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"},retries:1});return n.data&&n.data.comments&&(r=n.data.comments),r}catch(n){return x("error","fetchDandanEpisodeDanmu error:",{message:n.message,name:n.name,stack:n.stack}),r}}async getEpisodeDanmuSegments(t){return x("info","\u83B7\u53D6\u5F39\u5F39play\u5F39\u5E55\u5206\u6BB5\u5217\u8868...",t),new Ve({type:"dandan",segmentList:[{type:"dandan",segment_start:0,segment_end:3e4,url:t}]})}async getEpisodeSegmentDanmu(t){return this.getEpisodeDanmu(t.url)}formatComments(t){return t.map(r=>({cid:r.cid,p:`${r.p.replace(/([A-Za-z]+)([0-9a-fA-F]{6})/,(n,s,a)=>{let o=parseInt(a.substring(0,2),16),c=parseInt(a.substring(2,4),16),u=parseInt(a.substring(4,6),16),l=o*256*256+c*256+u;return`${s}${l}`})}`,m:R.danmuSimplifiedTraditional==="simplified"?Jt(r.m):r.m}))}};ht();et();Pt();Br();zr();var kA=class extends Xe{async search(t){try{let r=await pe(`${R.customSourceApiUrl}/api/v2/search/anime?keyword=${t}`,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}});return!r||!r.data?(x("info","customSourceSearchresp: \u8BF7\u6C42\u5931\u8D25\u6216\u65E0\u6570\u636E\u8FD4\u56DE"),[]):r.data.animes?(x("info",`[Custom] \u641C\u7D22\u627E\u5230 ${r.data.animes.length} \u4E2A\u6709\u6548\u7ED3\u679C`),r.data.animes):(x("info","customSourceSearchresp: seriesData \u6216 seriesList \u4E0D\u5B58\u5728"),[])}catch(r){return x("error","getCustomSourceAnimes error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async getEpisodes(t){try{let r=await pe(`${R.customSourceApiUrl}/api/v2/bangumi/${t}`,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}});return!r||!r.data?(x("info","getCustomSourceEposides: \u8BF7\u6C42\u5931\u8D25\u6216\u65E0\u6570\u636E\u8FD4\u56DE"),[]):!r.data.bangumi||!r.data.bangumi.episodes?(x("info",`getCustomSourceEposides: episodes \u4E0D\u5B58\u5728. Response: ${JSON.stringify(r.data)}`),[]):(x("info",`getCustomSourceEposides: ${JSON.stringify(r.data.bangumi.episodes)}`),r.data.bangumi.episodes)}catch(r){return x("error","getCustomSourceEposides error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async handleAnimes(t,r,n){let s=[];if(!t||!Array.isArray(t))return x("error","[Custom Source] sourceAnimes is not a valid array"),[];let a=await Promise.all(t.map(async o=>{try{let c=await this.getEpisodes(o.bangumiId),u=[];for(let l of c){let d=l.episodeTitle&&l.episodeTitle.trim()!==""?`${l.episodeTitle}`:`\u7B2C${l.episodeNumber}\u96C6`;u.push({name:d,url:l.episodeId.toString(),title:`\u3010custom\u3011 ${d}`})}if(u.length>0){let l={animeId:o.animeId,bangumiId:String(o.bangumiId),animeTitle:`${o.animeTitle}(${new Date(o.startDate).getFullYear()})\u3010${o.typeDescription}\u3011from custom`,type:o.type,typeDescription:o.typeDescription,imageUrl:o.imageUrl,startDate:o.startDate,episodeCount:u.length,rating:o.rating,isFavorited:!0,source:"custom"};s.push(l),tt({...l,links:u}),R.animes.length>R.MAX_ANIMES&&it()}}catch(c){x("error",`[Custom Source] Error processing anime: ${c.message}`)}}));return this.sortAndPushAnimesByYear(s,n),a}async getEpisodeDanmu(t){let r=[];try{let n=await pe(`${R.customSourceApiUrl}/api/v2/comment/${t}`,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"},retries:1});return n.data&&n.data.comments&&(r=n.data.comments),r}catch(n){return x("error","fetchCustomSourceEpisodeDanmu error:",{message:n.message,name:n.name,stack:n.stack}),r}}async getEpisodeDanmuSegments(t){return x("info","\u83B7\u53D6Custom Source\u5F39\u5E55\u5206\u6BB5\u5217\u8868...",t),new Ve({type:"custom",segmentList:[{type:"custom",segment_start:0,segment_end:3e4,url:t}]})}async getEpisodeSegmentDanmu(t){return this.getEpisodeDanmu(t.url)}formatComments(t){return t.map(r=>({cid:r.cid,p:`${r.p.replace(/([A-Za-z]+)([0-9a-fA-F]{6})/,(n,s,a)=>{let o=parseInt(a.substring(0,2),16),c=parseInt(a.substring(2,4),16),u=parseInt(a.substring(4,6),16),l=o*256*256+c*256+u;return`${s}${l}`})}`,m:R.danmuSimplifiedTraditional==="simplified"?Jt(r.m):r.m}))}};ht();et();Pt();rs();Br();Zr();zr();var DA=class extends Xe{filterTencentSearchItem(t,r){if(!t.videoInfo||!t.doc)return null;let n=t.videoInfo,s=t.doc.id;if(!n.year||n.year===0||n.subTitle==="\u5168\u7F51\u641C"||n.playFlag===2)return null;let a=n.title.replace(/<em>/g,"").replace(/<\/em>/g,"");if(!a||!s)return null;let o=n.typeName;if(o.includes("\u77ED\u5267")||!["\u7535\u89C6\u5267","\u52A8\u6F2B","\u7535\u5F71","\u7EAA\u5F55\u7247","\u7EFC\u827A","\u7EFC\u827A\u8282\u76EE"].includes(o))return null;let u=(n.playSites||[]).concat(n.episodeSites||[]);if(u.length>0&&!u.some(d=>d.enName==="qq")||o==="\u7535\u5F71"&&["\u82B1\u7D6E","\u5F69\u86CB","\u5E55\u540E","\u72EC\u5BB6","\u89E3\u8BF4","\u7279\u8F91","\u63A2\u73ED","\u62CD\u6444","\u5236\u4F5C","\u5BFC\u6F14","\u8BB0\u5F55","\u56DE\u987E","\u76D8\u70B9","\u6DF7\u526A","\u89E3\u6790","\u62A2\u5148"].some(f=>a.includes(f)))return null;let l=o==="\u7535\u5F71"?1:n.subjectDoc?n.subjectDoc.videoNum:0;return{provider:"tencent",mediaId:s,title:a,type:o,year:n.year,imageUrl:n.imgUrl,episodeCount:l}}async search(t){try{x("info",`[Tencent] \u5F00\u59CB\u641C\u7D22: ${t}`);let r="https://pbaccess.video.qq.com/trpc.videosearch.mobile_search.MultiTerminalSearch/MbSearch?vplatform=2",n={version:"25071701",clientType:1,filterValue:"",uuid:"0379274D-05A0-4EB6-A89C-878C9A460426",query:t,retry:0,pagenum:0,isPrefetch:!0,pagesize:30,queryFrom:0,searchDatakey:"",transInfo:"",isneedQc:!0,preQid:"",adClientInfo:"",extraInfo:{multi_terminal_pc:"1",themeType:"1",sugRelatedIds:"{}",appVersion:""}},s={"Content-Type":"application/json",Origin:"https://v.qq.com","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Accept:"application/json, text/plain, */*","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8",Referer:`https://v.qq.com/x/search/?q=${encodeURIComponent(t)}&stag=&smartbox_ab=`,H38:"220496a1fb1498325e9be6d938",H42:"335a00a80ab9bbbef56793d8e7a97e87b9341dee34ebd83d61afc0cdb303214caaece3",Uk:"8e91af25d3af99d0f0640327e7307666",Cookie:"tvfe_boss_uuid=ee8f05103d59226f; pgv_pvid=3155633511; video_platform=2; ptag=v_qq_com; main_login=qq"},a=await sr(r,JSON.stringify(n),{headers:s});if(!a||!a.data)return x("info","[Tencent] \u641C\u7D22\u54CD\u5E94\u4E3A\u7A7A"),[];let o=typeof a.data=="string"?JSON.parse(a.data):a.data;if(o.ret!==0)return x("error",`[Tencent] API\u8FD4\u56DE\u9519\u8BEF: ${o.msg} (ret: ${o.ret})`),[];let c=[];if(o.data&&o.data.areaBoxList){for(let l of o.data.areaBoxList)if(l.boxId==="MainNeed"&&l.itemList){x("info",`[Tencent] \u4ECE MainNeed box \u627E\u5230 ${l.itemList.length} \u4E2A\u9879\u76EE`),c=l.itemList;break}}if(c.length===0&&o.data&&o.data.normalList&&o.data.normalList.itemList&&(x("info","[Tencent] MainNeed box \u672A\u627E\u5230\uFF0C\u4F7F\u7528 normalList"),c=o.data.normalList.itemList),c.length===0)return x("info","[Tencent] \u641C\u7D22\u65E0\u7ED3\u679C"),[];let u=[];for(let l of c){let d=this.filterTencentSearchItem(l,t);d&&u.push(d)}return x("info",`[Tencent] \u641C\u7D22\u627E\u5230 ${u.length} \u4E2A\u6709\u6548\u7ED3\u679C`),u}catch(r){return x("error","[Tencent] \u641C\u7D22\u51FA\u9519:",r.message),[]}}async getEpisodes(t){try{x("info",`[Tencent] \u83B7\u53D6\u5206\u96C6\u5217\u8868: cid=${t}`);let r="https://pbaccess.video.qq.com/trpc.universal_backend_service.page_server_rpc.PageServer/GetPageData?video_appid=3000010&vversion_name=8.2.96&vversion_platform=2",n={has_cache:1,page_params:{req_from:"web_vsite",page_id:"vsite_episode_list",page_type:"detail_operation",id_type:"1",page_size:"",cid:t,vid:"",lid:"",page_num:"",page_context:`cid=${t}&detail_page_type=1&req_from=web_vsite&req_from_second_type=&req_type=0`,detail_page_type:"1"}},s={"Content-Type":"application/json",Origin:"https://v.qq.com",Referer:`https://v.qq.com/x/cover/${t}.html`,"User-Agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/537.36 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1",Accept:"application/json","Accept-Language":"zh-CN,zh;q=0.9"},a=await sr(r,JSON.stringify(n),{headers:s});if(!a||!a.data)return x("info","[Tencent] \u5206\u96C6\u54CD\u5E94\u4E3A\u7A7A"),[];let o=typeof a.data=="string"?JSON.parse(a.data):a.data;if(o.ret!==0)return x("error",`[Tencent] \u5206\u96C6API\u8FD4\u56DE\u9519\u8BEF: ret=${o.ret}`),[];let c=[];if(o.data&&o.data.module_list_datas)for(let l of o.data.module_list_datas){for(let d of l.module_datas)if(d.module_params&&d.module_params.tabs)try{c=JSON.parse(d.module_params.tabs);break}catch(f){x("error","[Tencent] \u89E3\u6790tabs\u5931\u8D25:",f.message)}if(c.length>0)break}let u=[];if(c.length===0){if(x("info","[Tencent] \u672A\u627E\u5230\u5206\u9875\u4FE1\u606F,\u5C1D\u8BD5\u4ECE\u521D\u59CB\u54CD\u5E94\u4E2D\u63D0\u53D6\u5206\u96C6"),o.data&&o.data.module_list_datas){for(let l of o.data.module_list_datas)for(let d of l.module_datas)if(d.item_data_lists&&d.item_data_lists.item_datas)for(let f of d.item_data_lists.item_datas)f.item_params&&f.item_params.vid&&f.item_params.is_trailer!=="1"&&u.push({vid:f.item_params.vid,title:f.item_params.title,unionTitle:f.item_params.union_title||f.item_params.title})}if(u.length===0)return x("info","[Tencent] \u521D\u59CB\u54CD\u5E94\u4E2D\u4E5F\u672A\u627E\u5230\u5206\u96C6\u4FE1\u606F"),[];x("info",`[Tencent] \u4ECE\u521D\u59CB\u54CD\u5E94\u4E2D\u63D0\u53D6\u5230 ${u.length} \u96C6`)}else{x("info",`[Tencent] \u627E\u5230 ${c.length} \u4E2A\u5206\u9875`);for(let l of c){if(!l.page_context)continue;let d={has_cache:1,page_params:{req_from:"web_vsite",page_id:"vsite_episode_list",page_type:"detail_operation",id_type:"1",page_size:"",cid:t,vid:"",lid:"",page_num:"",page_context:l.page_context,detail_page_type:"1"}},f=await sr(r,JSON.stringify(d),{headers:s});if(!f||!f.data)continue;let p=typeof f.data=="string"?JSON.parse(f.data):f.data;if(!(p.ret!==0||!p.data)&&p.data.module_list_datas){for(let m of p.data.module_list_datas)for(let h of m.module_datas)if(h.item_data_lists&&h.item_data_lists.item_datas)for(let g of h.item_data_lists.item_datas)g.item_params&&g.item_params.vid&&g.item_params.is_trailer!=="1"&&u.push({vid:g.item_params.vid,title:g.item_params.title,unionTitle:g.item_params.union_title||g.item_params.title})}}}return x("info",`[Tencent] \u5171\u83B7\u53D6 ${u.length} \u96C6`),u}catch(r){return x("error","[Tencent] \u83B7\u53D6\u5206\u96C6\u51FA\u9519:",r.message),[]}}async handleAnimes(t,r,n){let s=[];if(!t||!Array.isArray(t))return x("error","[Tencent] sourceAnimes is not a valid array"),[];let a=await Promise.all(t.filter(o=>Wt(o.title,r)).map(async o=>{try{let c=await this.getEpisodes(o.mediaId),u=[];for(let l=0;l<c.length;l++){let d=c[l],f=d.unionTitle||d.title||`\u7B2C${l+1}\u96C6`,p=`https://v.qq.com/x/cover/${o.mediaId}/${d.vid}.html`;u.push({name:(l+1).toString(),url:p,title:`\u3010qq\u3011 ${f}`})}if(u.length>0){let d={animeId:Tr(o.mediaId),bangumiId:o.mediaId,animeTitle:`${o.title}(${o.year})\u3010${o.type}\u3011from tencent`,type:o.type,typeDescription:o.type,imageUrl:o.imageUrl,startDate:zt(o.year),episodeCount:u.length,rating:0,isFavorited:!0,source:"tencent"};s.push(d),tt({...d,links:u}),R.animes.length>R.MAX_ANIMES&&it()}}catch(c){x("error",`[Tencent] Error processing anime: ${c.message}`)}}));return this.sortAndPushAnimesByYear(s,n),a}extractVid(t){let r=t;if(typeof t=="string"&&(t.startsWith("http")||t.includes("vid="))){let n=t.match(/[?&]vid=([^&]+)/);if(n)r=n[1];else{let s=t.split("/");r=s[s.length-1].split(".")[0]}}return r}async getEpisodeDanmu(t){x("info","\u5F00\u59CB\u4ECE\u672C\u5730\u8BF7\u6C42\u817E\u8BAF\u89C6\u9891\u5F39\u5E55...",t);let r=this.extractVid(t);x("info",`vid: ${r}`);let n;try{n=await pe(t,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}})}catch(d){return x("error","\u8BF7\u6C42\u9875\u9762\u5931\u8D25:",d),[]}let s=n.data.match(/<title[^>]*>(.*?)<\/title>/i),a=s?s[1].split("_")[0]:"\u672A\u77E5\u6807\u9898";x("info",`\u6807\u9898: ${a}`);let o=await this.getEpisodeDanmuSegments(t);if(!o||!o.segmentList||o.segmentList.length===0)return[];let c=o.segmentList;x("info",`\u5F39\u5E55\u5206\u6BB5\u6570\u91CF: ${c.length}`);let u=[];for(let d of c)u.push(pe(d.url,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"},retries:1}));let l=[];try{(await Promise.allSettled(u)).filter(p=>p.status==="fulfilled").map(p=>p.value&&p.value.data?p.value.data:null).filter(p=>p!==null).forEach(p=>{p=typeof p=="string"?JSON.parse(p):p,l.push(...p.barrage_list)})}catch(d){return x("error","\u89E3\u6790\u5F39\u5E55\u6570\u636E\u5931\u8D25:",d),[]}return Or(l),l}async getEpisodeDanmuSegments(t){x("info","\u83B7\u53D6\u817E\u8BAF\u89C6\u9891\u5F39\u5E55\u5206\u6BB5\u5217\u8868...",t);let r="https://dm.video.qq.com/barrage/base/",n="https://dm.video.qq.com/barrage/segment/",s=this.extractVid(t);x("info",`\u83B7\u53D6\u5F39\u5E55\u5206\u6BB5\u5217\u8868 - vid: ${s}`);let a;try{a=await pe(r+s,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}})}catch(l){return l.response?.status===404?new Ve({type:"qq",segmentList:[]}):(x("error","\u8BF7\u6C42\u5F39\u5E55\u57FA\u7840\u6570\u636E\u5931\u8D25:",l),new Ve({type:"qq",segmentList:[]}))}let o=typeof a.data=="string"?JSON.parse(a.data):a.data,c=[],u=Object.values(o.segment_index);for(let l of u)c.push({type:"qq",segment_start:(Number(l.segment_start)||0)/1e3,segment_end:(Number(l.segment_name.split("/").pop())||0)/1e3,url:`${n}${s}/${l.segment_name}`});return new Ve({type:"qq",segmentList:c})}async getEpisodeSegmentDanmu(t){try{let r=await pe(t.url,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"},retries:1}),n=[];if(r&&r.data){let s=typeof r.data=="string"?JSON.parse(r.data):r.data;n.push(...s.barrage_list)}return n}catch(r){return x("error","\u8BF7\u6C42\u5206\u7247\u5F39\u5E55\u5931\u8D25:",r),[]}}formatComments(t){return t.map(r=>{let n={timepoint:r.time_offset/1e3,ct:1,size:25,color:16777215,unixtime:Math.floor(Date.now()/1e3),uid:0,content:r.content};if(r.content_style&&r.content_style!=="")try{let s=JSON.parse(r.content_style);s.gradient_colors&&s.gradient_colors.length>0?n.color=parseInt(s.gradient_colors[0].replace("#",""),16):s.color&&s.color!=="ffffff"&&(n.color=parseInt(s.color.replace("#",""),16)),s.position===2?n.ct=5:s.position===3&&(n.ct=4)}catch{}return n})}};et();Pt();Zr();rs();Br();ht();zr();var PA=class e extends Xe{static XOR_KEY=0x75706971676c;static SECRET_KEY="howcuteitis";static KEY_NAME="secret_key";async search(t){try{x("info",`[iQiyi] \u5F00\u59CB\u641C\u7D22: ${t}`);let r={key:t,current_page:"1",mode:"1",source:"input",suggest:"",pcv:"13.074.22699",version:"13.074.22699",pageNum:"1",pageSize:"25",pu:"",u:"f6440fc5d919dca1aea12b6aff56e1c7",scale:"200",token:"",userVip:"0",conduit:"",vipType:"-1",os:"",osShortName:"win10",dataType:"",appMode:"",ad:JSON.stringify({lm:3,azd:0xe8d4a513b7,azt:733,position:"feed"}),adExt:JSON.stringify({r:"2.1.5-ares6-pure"})},s=`https://mesh.if.iqiyi.com/portal/lw/search/homePageV3?${bn(r)}`,a=await pe(s,{headers:{accept:"*/*",origin:"https://www.iqiyi.com",referer:"https://www.iqiyi.com/","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"}});if(!a||!a.data)return x("info","[iQiyi] \u641C\u7D22\u54CD\u5E94\u4E3A\u7A7A"),[];let o=typeof a.data=="string"?JSON.parse(a.data):a.data;if(!o.data||!o.data.templates)return x("info","[iQiyi] \u641C\u7D22\u65E0\u7ED3\u679C"),[];let c=[],u=o.data.templates;for(let l of u){let d=[];l.template===112&&l.intentAlbumInfos?(x("debug",`[iQiyi] \u627E\u5230\u610F\u56FE\u5361\u7247 (template 112)\uFF0C\u5904\u7406 ${l.intentAlbumInfos.length} \u4E2A\u7ED3\u679C`),d=l.intentAlbumInfos):[101,102,103].includes(l.template)&&l.albumInfo&&(x("debug",`[iQiyi] \u627E\u5230\u666E\u901A\u7ED3\u679C\u5361\u7247 (template ${l.template})`),d=[l.albumInfo]);for(let f of d){let p=this._filterIqiyiSearchItem(f,t);p&&c.push(p)}}return x("info",`[iQiyi] \u641C\u7D22\u627E\u5230 ${c.length} \u4E2A\u6709\u6548\u7ED3\u679C`),c}catch(r){return x("error","[iQiyi] \u641C\u7D22\u51FA\u9519:",r.message),[]}}_filterIqiyiSearchItem(t,r){if(!t.title)return null;if(t.btnText==="\u5916\u7AD9\u4ED8\u8D39\u64AD\u653E")return x("debug",`[iQiyi] \u8FC7\u6EE4\u6389\u5916\u7AD9\u4ED8\u8D39\u64AD\u653E\u5185\u5BB9: ${t.title}`),null;let n=t.channel||"",s="\u7535\u89C6\u5267";if(n.includes("\u7535\u5F71"))s="\u7535\u5F71";else if(n.includes("\u52A8\u6F2B"))s="\u52A8\u6F2B";else if(n.includes("\u7EFC\u827A"))s="\u7EFC\u827A";else if(n.includes("\u7EAA\u5F55\u7247"))s="\u7EAA\u5F55\u7247";else if(n.includes("\u7535\u89C6\u5267"))s="\u7535\u89C6\u5267";else return null;if(s==="\u7535\u5F71"){let f=t.qipuId||t.playQipuId;if(!f)return x("debug",`[iQiyi] \u7535\u5F71\u7F3A\u5C11 qipuId: ${t.title}`),null;let p=null;if(t.year){let h=t.year.value||t.year.name;h&&typeof h=="string"&&h.length===4&&/^\d{4}$/.test(h)&&(p=parseInt(h))}let m=t.title.replace(/<[^>]+>/g,"").replace(/:/g,"\uFF1A");return{provider:"iqiyi",mediaId:`movie_${f}`,title:m,type:s,year:p,imageUrl:t.img||t.imgH,episodeCount:1,_qipuId:f}}let a=t.pageUrl;if(!a)return x("debug",`[iQiyi] \u975E\u7535\u5F71\u5185\u5BB9\u7F3A\u5C11 pageUrl: ${t.title}`),null;let o=a.match(/v_(\w+?)\.html/);if(!o)return x("debug",`[iQiyi] \u65E0\u6CD5\u4ECE pageUrl \u63D0\u53D6 link_id: ${a}`),null;let c=o[1],u=null;if(t.year){let f=t.year.value||t.year.name;f&&typeof f=="string"&&f.length===4&&/^\d{4}$/.test(f)&&(u=parseInt(f))}let l=null;if(t.videos&&t.videos.length>0)l=t.videos.length;else if(t.subscriptContent){let f=t.subscriptContent.match(/(?:||)\s*(\d+)\s*(?:||)/);if(f)l=parseInt(f[1]);else{let p=t.subscriptContent.trim().match(/^(\d+)$/);p&&(l=parseInt(p[1]))}}let d=t.title.replace(/<[^>]+>/g,"").replace(/:/g,"\uFF1A");return{provider:"iqiyi",mediaId:c,title:d,type:s,year:u,imageUrl:t.img||t.imgH,episodeCount:l}}async getEpisodes(t){try{if(x("info",`[iQiyi] \u83B7\u53D6\u5206\u96C6\u5217\u8868: media_id=${t}`),t.startsWith("movie_")){let m=t.substring(6);x("info",`[iQiyi] \u7535\u5F71\u7C7B\u578B\uFF0C\u8C03\u7528 base_info API \u83B7\u53D6\u89C6\u9891ID: qipuId=${m}`);let h=await this._getMovieVideoId(m);return h?(x("info",`[iQiyi] \u7535\u5F71\u89C6\u9891ID: ${h}`),[{id:h,title:"\u6B63\u7247",order:1,link:`https://www.iqiyi.com/v_${h}.html`}]):(x("error",`[iQiyi] \u65E0\u6CD5\u83B7\u53D6\u7535\u5F71\u7684\u89C6\u9891ID: qipuId=${m}`),[])}let r=/^\d+$/.test(t)?t:this._videoIdToEntityId(t);if(!r)return x("error",`[iQiyi] \u65E0\u6CD5\u5C06 media_id '${t}' \u8F6C\u6362\u4E3A entity_id`),[];let n={entity_id:r,device_id:"qd5fwuaj4hunxxdgzwkcqmefeb3ww5hx",auth_cookie:"",user_id:"0",vip_type:"-1",vip_status:"0",conduit_id:"",pcv:"13.082.22866",app_version:"13.082.22866",ext:"",app_mode:"standard",scale:"100",timestamp:String(Date.now()),src:"pca_tvg",os:"",ad_ext:'{"r":"2.2.0-ares6-pure"}'};n.sign=this._createSign(n);let a=`https://www.iqiyi.com/prelw/tvg/v2/lw/base_info?${bn(n)}`,o=await pe(a,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Referer:"https://www.iqiyi.com/"}});if(!o||!o.data)return x("error","[iQiyi] \u83B7\u53D6\u5206\u96C6\u54CD\u5E94\u4E3A\u7A7A"),[];let c=typeof o.data=="string"?JSON.parse(o.data):o.data;if(c.status_code!==0||!c.data||!c.data.template)return x("error",`[iQiyi] API \u8FD4\u56DE\u9519\u8BEF\uFF0Cstatus_code: ${c.status_code}`),[];let u=[],l=c.data.template.tabs||[];if(l.length===0)return x("info","[iQiyi] \u672A\u627E\u5230\u5206\u96C6\u6807\u7B7E\u9875"),[];let d=l[0].blocks||[],f=!1;for(let m of d)if(m.bk_type==="video_list"&&m.data?.data){if(x("debug",`[iQiyi] \u627E\u5230 video_list \u7C7B\u578B\u7684\u5206\u96C6\u6570\u636E\u5757, bk_id: ${m.bk_id}`),!m.tag||!m.tag.includes("episodes")){x("debug",`[iQiyi] \u8DF3\u8FC7\u975E\u5206\u96C6\u5757: ${m.bk_id}`);continue}f=!0;let h=m.data.data;if(!Array.isArray(h)){x("warn","[iQiyi] data.data \u4E0D\u662F\u6570\u7EC4\uFF0C\u8DF3\u8FC7\u6B64\u5757");continue}for(let g of h)if(!(!g.videos||!Array.isArray(g.videos))){for(let A of g.videos)if(!(!A.data||!Array.isArray(A.data)))for(let y of A.data){if(y.content_type!==1)continue;let b=(y.play_url||"").match(/tvid=(\d+)/);if(!b)continue;let E=b[1],I=y.short_display_name||y.title||"\u672A\u77E5\u5206\u96C6",w=y.subtitle;w&&!I.includes(w)&&(I=`${I} ${w}`);let S=y.album_order,T=y.page_url;E&&I&&T&&u.push({id:E,title:I,order:S!==void 0?S:u.length,link:T})}}}else if(m.bk_type==="album_episodes"&&m.data?.data){x("debug","[iQiyi] \u627E\u5230 album_episodes \u7C7B\u578B\u7684\u5206\u96C6\u6570\u636E\u5757"),f=!0;let h=m.data.data;for(let g of h){let A=g.videos;if(typeof A=="string"){x("info",`[iQiyi] \u53D1\u73B0\u5206\u5B63URL\uFF0C\u6B63\u5728\u83B7\u53D6: ${A}`);try{let y=await pe(A);A=typeof y.data=="string"?JSON.parse(y.data):y.data}catch(y){x("error",`[iQiyi] \u83B7\u53D6\u5206\u5B63\u6570\u636E\u5931\u8D25: ${y.message}`);continue}}if(A&&typeof A=="object"&&A.feature_paged)for(let y in A.feature_paged){let v=A.feature_paged[y];for(let b of v){if(b.content_type!==1)continue;let I=(b.play_url||"").match(/tvid=(\d+)/);if(!I)continue;let w=I[1],S=b.short_display_name||b.title||"\u672A\u77E5\u5206\u96C6",T=b.subtitle;T&&!S.includes(T)&&(S=`${S} ${T}`);let B=b.album_order,N=b.page_url;w&&S&&B&&N&&u.push({id:w,title:S,order:B,link:N})}}}}if(!f)return x("info","[iQiyi] \u672A\u627E\u5230\u5206\u96C6\u6570\u636E\u5757"),[];let p=Array.from(new Map(u.map(m=>[m.id,m])).values());return p.sort((m,h)=>m.order-h.order),x("info",`[iQiyi] \u6210\u529F\u83B7\u53D6 ${p.length} \u4E2A\u5206\u96C6`),p}catch(r){return x("error","[iQiyi] \u83B7\u53D6\u5206\u96C6\u51FA\u9519:",r.message),[]}}async _getMovieVideoId(t){try{let r={entity_id:t,device_id:"qd5fwuaj4hunxxdgzwkcqmefeb3ww5hx",auth_cookie:"",user_id:"0",vip_type:"-1",vip_status:"0",conduit_id:"",pcv:"13.103.23529",app_version:"13.103.23529",ext:"",app_mode:"standard",scale:"125",timestamp:String(Date.now()),src:"pca_tvg",os:"",ad_ext:'{"r":"2.5.0-ares6-pure"}'};r.sign=this._createSign(r);let s=`https://mesh.if.iqiyi.com/tvg/v2/lw/base_info?${bn(r)}`;x("debug",`[iQiyi] \u8BF7\u6C42\u7535\u5F71\u8BE6\u60C5: ${s}`);let a=await pe(s,{headers:{accept:"*/*",origin:"https://www.iqiyi.com",referer:"https://www.iqiyi.com/","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"}});if(!a||!a.data)return x("error","[iQiyi] base_info API \u54CD\u5E94\u4E3A\u7A7A"),null;let o=typeof a.data=="string"?JSON.parse(a.data):a.data;if(o.data&&o.data.base_data){let c=o.data.base_data;if(c.share_url){let u=c.share_url.match(/v_(\w+)\.html/);if(u){let l=u[1];return x("info",`[iQiyi] \u4ECE share_url \u63D0\u53D6\u89C6\u9891ID: ${l}`),l}}if(c.page_url){let u=c.page_url.match(/v_(\w+)\.html/);if(u){let l=u[1];return x("info",`[iQiyi] \u4ECE page_url \u63D0\u53D6\u89C6\u9891ID: ${l}`),l}}}return x("error","[iQiyi] base_info API \u54CD\u5E94\u4E2D\u672A\u627E\u5230\u89C6\u9891ID"),x("debug",`[iQiyi] \u54CD\u5E94\u6570\u636E\u7ED3\u6784: ${JSON.stringify(o).substring(0,1e3)}...`),null}catch(r){return x("error",`[iQiyi] \u83B7\u53D6\u7535\u5F71\u89C6\u9891ID\u65F6\u51FA\u9519: ${r.message}`),null}}_videoIdToEntityId(t){try{let r=parseInt(t,36),n=this._xorOperation(r),s=n<9e5?100*(n+9e5):n;return String(s)}catch(r){return x("error",`[iQiyi] \u5C06 video_id '${t}' \u8F6C\u6362\u4E3A entity_id \u65F6\u51FA\u9519: ${r.message}`),null}}_xorOperation(t){let r=t.toString(2),n=e.XOR_KEY.toString(2),s=r.split("").reverse(),a=n.split("").reverse(),o=[],c=Math.max(s.length,a.length);for(let l=0;l<c;l++){let d=l<s.length?s[l]:"0",f=l<a.length?a[l]:"0";d==="1"&&f==="1"?o.push("0"):d==="1"||f==="1"?o.push("1"):o.push("0")}let u=o.reverse().join("");return u?parseInt(u,2):0}_createSign(t){let r={};for(let c in t)c!=="sign"&&(r[c]=t[c]);let n=Object.keys(r).sort(),s=[];for(let c of n){let u=r[c]===null||r[c]===void 0?"":r[c];s.push(`${c}=${u}`)}let o=`${s.join("&")}&${e.KEY_NAME}=${e.SECRET_KEY}`;return da(o).toUpperCase()}async handleAnimes(t,r,n){let s=[];if(!t||!Array.isArray(t))return x("error","[iQiyi] sourceAnimes is not a valid array"),[];let a=await Promise.all(t.filter(o=>Wt(o.title,r)).map(async o=>{try{let c=await this.getEpisodes(o.mediaId),u=[];for(let l of c){let d=l.link||`https://www.iqiyi.com/v_${o.mediaId}.html`;u.push({name:l.order.toString(),url:d,title:`\u3010qiyi\u3011 ${l.title}`})}if(u.length>0){let d={animeId:Tr(o.mediaId),bangumiId:o.mediaId,animeTitle:`${o.title}(${o.year||"N/A"})\u3010${o.type}\u3011from iqiyi`,type:o.type,typeDescription:o.type,imageUrl:o.imageUrl,startDate:zt(o.year),episodeCount:u.length,rating:0,isFavorited:!0,source:"iqiyi"};s.push(d),tt({...d,links:u}),R.animes.length>R.MAX_ANIMES&&it()}}catch(c){x("error",`[iQiyi] Error processing anime: ${c.message}`)}}));return this.sortAndPushAnimesByYear(s,n),a}async getEpisodeDanmu(t){x("info","\u5F00\u59CB\u4ECE\u672C\u5730\u8BF7\u6C42\u7231\u5947\u827A\u5F39\u5E55...",t);let r;try{r=await pe(t,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}})}catch(l){return x("error","\u8BF7\u6C42\u9875\u9762\u5931\u8D25:",l),[]}let n=r.data.match(/<title[^>]*>(.*?)<\/title>/i),s=n?n[1].split("_")[0]:"\u672A\u77E5\u6807\u9898";x("info",`\u6807\u9898: ${s}`);let a=await this.getEpisodeDanmuSegments(t);if(!a||!a.segmentList||a.segmentList.length===0)return[];let o=a.segmentList;x("info",`\u5F39\u5E55\u5206\u6BB5\u6570\u91CF: ${o.length}`);let c=[];for(let l of o)c.push(this.getEpisodeSegmentDanmu(l));let u=[];try{(await Promise.allSettled(c)).filter(f=>f.status==="fulfilled").map(f=>f.value).filter(f=>f!==null).forEach(f=>{u.push(...f)})}catch(l){return x("error","\u89E3\u6790\u5F39\u5E55\u6570\u636E\u5931\u8D25:",l),[]}return Or(u),u}async getEpisodeDanmuSegments(t){x("info","\u83B7\u53D6\u7231\u5947\u827A\u89C6\u9891\u5F39\u5E55\u5206\u6BB5\u5217\u8868...",t);let r="https://pcw-api.iq.com/api/decode/",n="https://pcw-api.iqiyi.com/video/video/baseinfo/",s;try{let d=t.match(/v_(\w+)/);if(!d)return x("error","\u65E0\u6CD5\u4ECE URL \u4E2D\u63D0\u53D6 tvid"),new Ve({type:"qiyi",segmentList:[]});s=d[1],x("info",`tvid: ${s}`);let f=`${r}${s}?platformId=3&modeCode=intl&langCode=sg`,p=await pe(f,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}});s=(typeof p.data=="string"?JSON.parse(p.data):p.data).data.toString(),x("info",`\u89E3\u7801\u540E tvid: ${s}`)}catch(d){return x("error","\u8BF7\u6C42\u89E3\u7801\u4FE1\u606F\u5931\u8D25:",d),new Ve({type:"qiyi",segmentList:[]})}let a,o,c;try{let d=`${n}${s}`,f=await pe(d,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}}),m=(typeof f.data=="string"?JSON.parse(f.data):f.data).data;a=m.durationSec,o=m.albumId,c=m.channelId||m.categoryId,x("info",`\u65F6\u957F: ${a}`)}catch(d){return x("error","\u8BF7\u6C42\u89C6\u9891\u57FA\u7840\u4FE1\u606F\u5931\u8D25:",d),new Ve({type:"qiyi",segmentList:[]})}let u=Math.ceil(a/(60*5));x("info",`\u5F39\u5E55\u5206\u6BB5\u6570\u91CF: ${u}`);let l=[];for(let d=0;d<u;d++){let p=bn({rn:"0.0123456789123456",business:"danmu",is_iqiyi:"true",is_video_page:"true",tvid:s,albumid:o,categoryid:c,qypid:"010102101000000000"}),m=`https://cmts.iqiyi.com/bullet/${s.slice(-4,-2)}/${s.slice(-2)}/${s}_300_${d+1}.z?${p.toString()}`;l.push({type:"qiyi",segment_start:d*5*60,segment_end:Math.min((d+1)*5*60,a),url:m})}return new Ve({type:"qiyi",segmentList:l})}async getEpisodeSegmentDanmu(t){try{let n=function(a,o){let c=new RegExp(`<${o}>(.*?)</${o}>`,"g");return a.match(c)?.map(l=>l.substring(o.length+2,l.length-o.length-3))||[]},r=await pe(t.url,{headers:{"Accpet-Encoding":"gzip","Content-Type":"application/xml","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"},zlibMode:!0,retries:1}),s=[];if(r&&r.data){let a=r.data,o=n(a,"content"),c=n(a,"showTime"),u=n(a,"color");s.push(...o.map((l,d)=>({content:l,showTime:c[d],color:u[d]})))}return s}catch(r){return x("error","\u8BF7\u6C42\u5206\u7247\u5F39\u5E55\u5931\u8D25:",r),[]}}formatComments(t){return t.map(r=>{let n={timepoint:0,ct:1,size:25,color:16777215,unixtime:Math.floor(Date.now()/1e3),uid:0,content:""};return n.timepoint=parseFloat(r.showTime),n.color=parseInt(r.color,16),n.content=zde(r.content),n.size=25,n})}};ht();et();Pt();Zr();rs();Br();zr();var OA=class extends Xe{transformV2Color(t){if(!t)return-1;let n=HO(t.color_left),s=HO(t.color_right);return n===-1&&s===-1?-1:n===-1?s:s===-1?n:Math.floor((n+s)/2)}_extractMediaType(t){let r=(t||"").toLowerCase();return r.includes("\u7535\u5F71")||r.includes("movie")?"\u7535\u5F71":r.includes("\u52A8\u6F2B")||r.includes("\u52A8\u753B")||r.includes("anime")?"\u52A8\u6F2B":r.includes("\u7EFC\u827A")||r.includes("\u771F\u4EBA\u79C0")||r.includes("variety")?"\u7EFC\u827A":r.includes("\u7EAA\u5F55\u7247")||r.includes("documentary")?"\u7EAA\u5F55\u7247":(r.includes("\u7535\u89C6\u5267")||r.includes("\u5267\u96C6")||r.includes("drama")||r.includes("tv"),"\u7535\u89C6\u5267")}async search(t){try{x("info",`[Mango] \u5F00\u59CB\u641C\u7D22: ${t}`);let n=`https://mobileso.bz.mgtv.com/msite/search/v2?q=${encodeURIComponent(t)}&pc=30&pn=1&sort=-99&ty=0&du=0&pt=0&corr=1&abroad=0&_support=10000000000000000`,s=await pe(n,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Accept:"application/json",Referer:"https://www.mgtv.com/"}});if(!s||!s.data)return x("info","[Mango] \u641C\u7D22\u54CD\u5E94\u4E3A\u7A7A"),[];let a=typeof s.data=="string"?JSON.parse(s.data):s.data;if(!a.data||!a.data.contents)return x("info","[Mango] \u641C\u7D22\u65E0\u7ED3\u679C"),[];let o=[];for(let c of a.data.contents)if(c.type==="media")for(let u of c.data){if(u.source!=="imgo")continue;let l=u.url?u.url.match(/\/b\/(\d+)/):null;if(!l)continue;let d=l[1],f=u.title?u.title.replace(/<[^>]+>/g,"").replace(/:/g,"\uFF1A"):"",p=u.desc&&u.desc[0]?u.desc[0].match(/[12][890][0-9][0-9]/):null,m=p?parseInt(p[0]):null,h=u.desc&&u.desc[0]?u.desc[0].split("/")[0].replace("\u7C7B\u578B:","").trim():"",g=this._extractMediaType(h);o.push({provider:"imgo",mediaId:d,title:f,type:g,year:m,imageUrl:u.img||null,episodeCount:u.videoCount||null})}return x("info",`[Mango] \u641C\u7D22\u627E\u5230 ${o.length} \u4E2A\u6709\u6548\u7ED3\u679C`),o}catch(r){return x("error","[Mango] \u641C\u7D22\u51FA\u9519:",r.message),[]}}async getEpisodes(t){try{x("info",`[Mango] \u83B7\u53D6\u5206\u96C6\u5217\u8868: collection_id=${t}`);let r=[],n="",s=0,a=1;for(;s<a;){let l=`https://pcweb.api.mgtv.com/variety/showlist?allowedRC=1&collection_id=${t}&month=${n}&page=1&_support=10000000`,d=await pe(l,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Referer:"https://www.mgtv.com/"}});if(!d||!d.data){x("info","[Mango] \u672A\u627E\u5230\u5206\u96C6\u4FE1\u606F");break}let f=typeof d.data=="string"?JSON.parse(d.data):d.data;if(!f.data||!f.data.list){x("info","[Mango] \u5206\u96C6\u5217\u8868\u4E3A\u7A7A");break}f.data.list&&f.data.list.length>0&&r.push(...f.data.list.filter(p=>p.src_clip_id===t)),s===0&&(a=f.data.tab_m&&f.data.tab_m.length>0?f.data.tab_m.length:1,x("info",`[Mango] \u68C0\u6D4B\u5230 ${a} \u4E2A\u6708\u4EFD\u5206\u9875`)),s++,s<a&&f.data.tab_m&&f.data.tab_m[s]&&(n=f.data.tab_m[s].m)}let o=/^(.*?)((|)|()?||||(||)?|||()?|||||||(|)||||||reaction||(vlog)?|()?|.{3,}|)(.*?)$/i,c=r.filter(l=>{let d=`${l.t2||""} ${l.t1||""}`.trim();return l.isnew==="2"?(x("debug",`[Mango] \u8FC7\u6EE4\u9884\u544A\u7247: ${d}`),!1):o.test(d)?(x("debug",`[Mango] \u9ED1\u540D\u5355\u8FC7\u6EE4: ${d}`),!1):!0}),u=this._processVarietyEpisodes(c);return x("info",`[Mango] \u5171\u83B7\u53D6 ${u.length} \u96C6`),u}catch(r){return x("error","[Mango] \u83B7\u53D6\u5206\u96C6\u51FA\u9519:",r.message),[]}}async _getMovieEpisode(t){try{x("info",`[Mango] \u83B7\u53D6\u7535\u5F71\u6B63\u7247: collection_id=${t}`);let r=`https://pcweb.api.mgtv.com/variety/showlist?allowedRC=1&collection_id=${t}&month=&page=1&_support=10000000`,n=await pe(r,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Referer:"https://www.mgtv.com/"}});if(!n||!n.data)return x("info","[Mango] \u672A\u627E\u5230\u7535\u5F71\u4FE1\u606F"),null;let s=typeof n.data=="string"?JSON.parse(n.data):n.data;if(!s.data||!s.data.list||s.data.list.length===0)return x("info","[Mango] \u7535\u5F71\u5217\u8868\u4E3A\u7A7A"),null;let a=s.data.list.find(o=>o.isIntact==="1");return a||(a=s.data.list.find(o=>o.isnew!=="2")),a||(a=s.data.list[0]),x("info",`[Mango] \u627E\u5230\u7535\u5F71\u6B63\u7247: ${a.t3||a.t1||"\u6B63\u7247"}`),a}catch(r){return x("error","[Mango] \u83B7\u53D6\u7535\u5F71\u6B63\u7247\u51FA\u9519:",r.message),null}}_processVarietyEpisodes(t){if(!t||t.length===0)return[];x("debug",`[Mango] \u7EFC\u827A\u5904\u7406\u5F00\u59CB\uFF0C\u539F\u59CB\u5206\u96C6\u6570: ${t.length}`);let r=t.some(a=>{let o=`${a.t2||""} ${a.t1||""}`.trim();return/\d+/.test(o)});x("debug",`[Mango] \u7EFC\u827A\u683C\u5F0F\u5206\u6790: \u6709\u671F\u6570\u683C\u5F0F=${r}`);let n=[],s=new Map;for(let a of t){let o=`${a.t2||""} ${a.t1||""}`.trim();if(r){let c=o.match(/(\d+)([])/),u=o.match(/(\d+)/),l=/\d+[]/.test(o);if(c){let d=c[1],f=c[2],p=`\u7B2C${d}\u671F${f}`,m=o.substring(o.indexOf(p)+p.length);/^(|||||Plus|\+|||||||||)/.test(m)?x("debug",`[Mango] \u7EFC\u827A\u8FC7\u6EE4\u4E0A\u4E2D\u4E0B\u683C\u5F0F+\u540E\u7F00: ${o}`):(s.set(a,[parseInt(d),f]),n.push(a),x("debug",`[Mango] \u7EFC\u827A\u4FDD\u7559\u4E0A\u4E2D\u4E0B\u683C\u5F0F: ${o}`))}else if(u&&!l&&!/|||||Plus|\+||||||||||||||||||NG|||||||||||||OST||/.test(o)){let d=u[1];s.set(a,[parseInt(d),""]),n.push(a),x("debug",`[Mango] \u7EFC\u827A\u4FDD\u7559\u6807\u51C6\u671F\u6570: ${o}`)}else x("debug",`[Mango] \u7EFC\u827A\u8FC7\u6EE4\u975E\u6807\u51C6\u671F\u6570\u683C\u5F0F: ${o}`)}else{if(o.includes("\u5E7F\u544A")||o.includes("\u63A8\u5E7F")){x("debug",`[Mango] \u8DF3\u8FC7\u5E7F\u544A\u5185\u5BB9: ${o}`);continue}n.push(a),x("debug",`[Mango] \u7EFC\u827A\u4FDD\u7559\u539F\u59CB\u6807\u9898: ${o}`)}}return r?n.sort((a,o)=>{let c=s.get(a)||[0,""],u=s.get(o)||[0,""];if(c[0]!==u[0])return c[0]-u[0];let l={"":0,\u4E0A:1,\u4E2D:2,\u4E0B:3};return(l[c[1]]||0)-(l[u[1]]||0)}):n.sort((a,o)=>{let c=d=>{let p=`${d.t2||""} ${d.t1||""}`.trim().match(/(\d+)/);return p?parseInt(p[1]):999999},u=c(a),l=c(o);if(u===999999&&l===999999){let d=a.ts||"0",f=o.ts||"0";return d.localeCompare(f)}return u-l}),x("debug",`[Mango] \u7EFC\u827A\u5904\u7406\u5B8C\u6210\uFF0C\u8FC7\u6EE4\u540E\u5206\u96C6\u6570: ${n.length}`),n}async handleAnimes(t,r,n){let s=[];if(!t||!Array.isArray(t))return x("error","[Mango] sourceAnimes is not a valid array"),[];let a=await Promise.all(t.filter(o=>Wt(o.title,r)).map(async o=>{try{if(o.type==="\u7535\u5F71"){let l=await this._getMovieEpisode(o.mediaId);if(!l)return;let d=`https://www.mgtv.com/b/${o.mediaId}/${l.video_id}.html`,f=l.t3||l.t1||"\u6B63\u7247",p=[{name:"1",url:d,title:`\u3010imgo\u3011 ${f}`}],h={animeId:Tr(o.mediaId),bangumiId:o.mediaId,animeTitle:`${o.title}(${o.year||"N/A"})\u3010${o.type}\u3011from imgo`,type:o.type,typeDescription:o.type,imageUrl:o.imageUrl,startDate:zt(o.year),episodeCount:1,rating:0,isFavorited:!0,source:"imgo"};s.push(h),tt({...h,links:p}),R.animes.length>R.MAX_ANIMES&&it();return}let c=await this.getEpisodes(o.mediaId),u=[];for(let l=0;l<c.length;l++){let d=c[l],f=`https://www.mgtv.com/b/${o.mediaId}/${d.video_id}.html`,p=`${d.t2||""} ${d.t1||""}`.trim();u.push({name:String(l+1),url:f,title:`\u3010imgo\u3011 ${p}`})}if(u.length>0){let d={animeId:Tr(o.mediaId),bangumiId:o.mediaId,animeTitle:`${o.title}(${o.year||"N/A"})\u3010${o.type}\u3011from imgo`,type:o.type,typeDescription:o.type,imageUrl:o.imageUrl,startDate:zt(o.year),episodeCount:u.length,rating:0,isFavorited:!0,source:"imgo"};s.push(d),tt({...d,links:u}),R.animes.length>R.MAX_ANIMES&&it()}}catch(c){x("error",`[Mango] Error processing anime: ${c.message}`)}}));return this.sortAndPushAnimesByYear(s,n),a}async getEpisodeDanmu(t){x("info","\u5F00\u59CB\u4ECE\u672C\u5730\u8BF7\u6C42\u8292\u679CTV\u5F39\u5E55...",t);let r=await this.getEpisodeDanmuSegments(t);if(!r||!r.segmentList||r.segmentList.length===0)return[];let n=r.segmentList;x("info",`\u5F39\u5E55\u5206\u6BB5\u6570\u91CF: ${n.length}`);let s=[];for(let o of n)s.push(pe(o.url,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"},retries:1}));let a=[];try{(await Promise.allSettled(s)).filter(u=>u.status==="fulfilled").map(u=>u.value&&u.value.data?u.value.data:null).filter(u=>u!==null).forEach(u=>{u=typeof u=="string"?JSON.parse(u):u,u.data?.items&&a.push(...u.data.items)})}catch(o){return x("error","\u89E3\u6790\u5F39\u5E55\u6570\u636E\u5931\u8D25:",o),[]}return Or(a),a}async getEpisodeDanmuSegments(t){x("info","\u83B7\u53D6\u8292\u679CTV\u5F39\u5E55\u5206\u6BB5\u5217\u8868...",t);let r="https://pcweb.api.mgtv.com/video/info",n="https://galaxy.bz.mgtv.com/getctlbarrage",s="https://galaxy.bz.mgtv.com/rdbarrage",a=/^(https?:\/\/[^\/]+)(\/[^?#]*)/,o=t.match(a),c;if(o)c=o[2].split("/").filter(Boolean);else return x("error","Invalid URL"),new Ve({type:"imgo",segmentList:[]});let u=c[c.length-2],l=c[c.length-1].split(".")[0];x("info",`\u83B7\u53D6\u5F39\u5E55\u5206\u6BB5\u5217\u8868 - cid: ${u}, vid: ${l}`);let d;try{let h=`${r}?cid=${u}&vid=${l}`;d=await pe(h,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}})}catch(h){return h.response?.status===404?new Ve({type:"imgo",segmentList:[]}):(x("error","\u8BF7\u6C42\u89C6\u9891\u4FE1\u606F\u5931\u8D25:",h),new Ve({type:"imgo",segmentList:[]}))}let p=(typeof d.data=="string"?JSON.parse(d.data):d.data).data.info.time,m=!0;try{let h=`${n}?version=8.1.39&abroad=0&uuid=&os=10.15.7&platform=0&mac=&vid=${l}&pid=&cid=${u}&ticket=`,g=await pe(h,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}}),A=typeof g.data=="string"?JSON.parse(g.data):g.data;(!A.data||!A.data.cdn_list||!A.data.cdn_version)&&(x("warn","\u65B0API\u7F3A\u5C11\u5FC5\u8981\u5B57\u6BB5\uFF0C\u8FD4\u56DE\u7A7A\u5206\u6BB5\u5217\u8868"),m=!1);let y=[];if(m){let v=Math.ceil(fd(p)/60),b=A.data.cdn_list.split(",")[0],E=A.data.cdn_version;for(let I=0;I<v;I++)y.push({type:"imgo",segment_start:I*60,segment_end:Math.min((I+1)*60,fd(p)),url:`https://${b}/${E}/${I}.json`})}else{let b=fd(p);for(let E=0;E<b;E+=60)y.push({type:"imgo",segment_start:E,segment_end:Math.min(E+60,fd(p)),url:`${s}?vid=${l}&cid=${u}&time=${E*1e3}`})}return new Ve({type:"imgo",segmentList:y})}catch(h){return x("error","\u8BF7\u6C42\u5F39\u5E55\u5206\u6BB5\u6570\u636E\u5931\u8D25:",h),new Ve({type:"imgo",segmentList:[]})}}async getEpisodeSegmentDanmu(t){try{let r=await pe(t.url,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"},retries:1}),n=[];if(r&&r.data){let s=typeof r.data=="string"?JSON.parse(r.data):r.data;s.data?.items&&n.push(...s.data.items)}return n}catch(r){return x("error","\u8BF7\u6C42\u5206\u7247\u5F39\u5E55\u5931\u8D25:",r),[]}}formatComments(t){return t.map(r=>{let n={timepoint:0,ct:1,size:25,color:16777215,unixtime:Math.floor(Date.now()/1e3),uid:0,content:""};return r?.v2_color&&(n.color=this.transformV2Color(r?.v2_color)),r?.v2_position&&(r?.v2_position===1?n.ct=5:r?.v2_position===2&&(n.ct=4)),n.timepoint=r.time/1e3,n.content=r.content,n.uid=r.uid,n})}};ht();et();Pt();rs();Br();Zr();zr();var $A=class e extends Xe{static WBI_MIXIN_KEY_CACHE={key:null,timestamp:0};static WBI_MIXIN_KEY_CACHE_TTL=3600;static WBI_MIXIN_KEY_TABLE=[46,47,18,2,53,8,23,32,15,50,10,31,58,3,45,35,27,43,5,49,33,9,42,19,29,28,14,39,12,38,41,13,37,48,7,16,24,55,40,61,26,17,0,1,60,51,30,4,22,25,54,21,56,59,6,63,57,62,11,36,20,34,44,52];static APP_KEY="1d8b6e7d45233436";static APP_SEC="560c52ccd288fed045859ed18bffd973";async resolveB23Link(t){try{x("info",`\u6B63\u5728\u89E3\u6790 b23.tv \u77ED\u94FE\u63A5: ${t}`);let r=parseInt(R.vodRequestTimeout),n=new AbortController,s=setTimeout(()=>n.abort(),r),a=await pe(t,{headers:{"User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"},signal:n.signal,redirect:"follow"});clearTimeout(s);let o=a.url;return o&&o!==t?(x("info",`b23.tv \u77ED\u94FE\u63A5\u5DF2\u89E3\u6790\u4E3A: ${o}`),o):(x("error","\u65E0\u6CD5\u89E3\u6790 b23.tv \u77ED\u94FE\u63A5"),t)}catch(r){return x("error","\u89E3\u6790 b23.tv \u77ED\u94FE\u63A5\u5931\u8D25:",r),t}}async _getWbiMixinKey(){let t=Math.floor(Date.now()/1e3),r=e.WBI_MIXIN_KEY_CACHE;if(r.key&&t-r.timestamp<e.WBI_MIXIN_KEY_CACHE_TTL)return r.key;x("info","[Bilibili] WBI mixin key \u5DF2\u8FC7\u671F\u6216\u4E0D\u5B58\u5728\uFF0C\u6B63\u5728\u83B7\u53D6\u65B0\u7684...");try{let n=await pe("https://api.bilibili.com/x/web-interface/nav",{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Referer:"https://www.bilibili.com/",Cookie:R.bilibliCookie||""}}),s=typeof n.data=="string"?JSON.parse(n.data):n.data;if(s.code!==0)return x("error","[Bilibili] \u83B7\u53D6 WBI \u5BC6\u94A5\u5931\u8D25:",s.message),"dba4a5925b345b4598b7452c75070bca";let a=s.data?.wbi_img||{},o=a.img_url||"",c=a.sub_url||"",u=o.split("/").pop()?.split(".")[0]||"",l=c.split("/").pop()?.split(".")[0]||"",d=e.WBI_MIXIN_KEY_TABLE.map(f=>(u+l)[f]).join("").substring(0,32);return r.key=d,r.timestamp=t,x("info","[Bilibili] \u6210\u529F\u83B7\u53D6\u65B0\u7684 WBI mixin key"),d}catch(n){return x("error","[Bilibili] \u83B7\u53D6 WBI \u5BC6\u94A5\u5931\u8D25:",n.message),"dba4a5925b345b4598b7452c75070bca"}}_getWbiSignedParams(t,r){let n={...t};n.wts=Math.floor(Date.now()/1e3);let c=Object.keys(n).sort().map(l=>{let d=n[l]??"";return`${encodeURIComponent(l)}=${encodeURIComponent(d)}`}).join("&")+r,u=da(c);return n.w_rid=u,n}async _searchByType(t,r,n){try{x("info",`[Bilibili] \u641C\u7D22\u7C7B\u578B '${r}'\uFF0C\u5173\u952E\u8BCD '${t}'`);let s={keyword:t,search_type:r},a=this._getWbiSignedParams(s,n),c=`https://api.bilibili.com/x/web-interface/wbi/search/type?${Object.keys(a).map(f=>`${encodeURIComponent(f)}=${encodeURIComponent(a[f])}`).join("&")}`,u=await pe(c,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Referer:"https://www.bilibili.com/",Cookie:R.bilibliCookie||""}}),l=typeof u.data=="string"?JSON.parse(u.data):u.data;if(l.code!==0||!l.data?.result)return x("info",`[Bilibili] \u7C7B\u578B '${r}' \u65E0\u7ED3\u679C (Code: ${l.code})`),[];let d=[];for(let f of l.data.result){let p=f.season_id?`ss${f.season_id}`:f.bvid?`bv${f.bvid}`:"";if(!p)continue;let m=this._extractMediaType(f.season_type_name),h=m==="\u7535\u5F71"?1:f.ep_size||0,g=null;try{f.pubdate?typeof f.pubdate=="number"?g=new Date(f.pubdate*1e3).getFullYear():typeof f.pubdate=="string"&&f.pubdate.length>=4&&(g=parseInt(f.pubdate.substring(0,4))):f.pubtime&&(g=new Date(f.pubtime*1e3).getFullYear())}catch{}let A=(f.title||"").replace(/<[^>]+>/g,"").replace(/&[^;]+;/g,b=>({"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&#39;":"'"})[b]||b).replace(/:/g,"\uFF1A").trim(),y=(f.org_title||"").replace(/<[^>]+>/g,"").replace(/&[^;]+;/g,b=>({"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&#39;":"'"})[b]||b).trim(),v={provider:"bilibili",mediaId:p,title:A,org_title:y,type:m,year:g,imageUrl:f.cover||null,episodeCount:h};f.eps&&f.eps.length>0&&(v._eps=f.eps),d.push(v)}return x("info",`[Bilibili] \u7C7B\u578B '${r}' \u627E\u5230 ${d.length} \u4E2A\u7ED3\u679C`),d}catch(s){return x("error",`[Bilibili] \u641C\u7D22\u7C7B\u578B '${r}' \u5931\u8D25:`,s.message),[]}}_extractMediaType(t){let r=(t||"").toLowerCase();return r.includes("\u7535\u5F71")||r.includes("movie")?"\u7535\u5F71":r.includes("\u756A\u5267")||r.includes("\u56FD\u521B")||r.includes("\u52A8\u6F2B")||r.includes("anime")?"\u52A8\u6F2B":r.includes("\u7EAA\u5F55\u7247")||r.includes("documentary")?"\u7EAA\u5F55\u7247":r.includes("\u7EFC\u827A")||r.includes("variety")?"\u7EFC\u827A":(r.includes("\u7535\u89C6\u5267")||r.includes("\u5267\u96C6")||r.includes("drama")||r.includes("tv"),"\u7535\u89C6\u5267")}async search(t){try{x("info",`[Bilibili] \u5F00\u59CB\u641C\u7D22: ${t}`);let r=await this._getWbiMixinKey(),a=[...["media_bangumi","media_ft"].map(d=>this._searchByType(t,d,r))];this._hasBilibiliProxy()&&(x("info","[Bilibili] \u68C0\u6D4B\u5230\u4EE3\u7406\u914D\u7F6E\uFF0C\u542F\u7528\u6E2F\u6FB3\u53F0\u5E76\u884C\u641C\u7D22"),a.push(this._searchOversea(t)));let c=(await Promise.all(a)).flat(),u=[],l=new Set;for(let d of c)l.has(d.mediaId)||(l.add(d.mediaId),u.push(d));return x("info",`[Bilibili] \u641C\u7D22\u5B8C\u6210\uFF0C\u627E\u5230 ${u.length} \u4E2A\u6709\u6548\u7ED3\u679C`),u}catch(r){return x("error","[Bilibili] \u641C\u7D22\u51FA\u9519:",r.message),[]}}async _getPgcEpisodes(t){let r=[],n=[`https://api.bilibili.com/pgc/view/web/season?season_id=${t}`,`https://api.bilibili.com/pgc/web/season/section?season_id=${t}`];for(let a of n)try{let o=await pe(a,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Referer:"https://www.bilibili.com/",Cookie:R.bilibliCookie||""}}),c=typeof o.data=="string"?JSON.parse(o.data):o.data;if(c.code===0&&c.result&&(r=c.result.main_section?.episodes||c.result.episodes||[],r.length>0))break}catch{}if(r.length===0)return x("error",`[Bilibili] \u83B7\u53D6\u756A\u5267\u5206\u96C6\u5931\u8D25 (season_id=${t}): \u6240\u6709\u63A5\u53E3\u5747\u65E0\u6570\u636E`),[];let s=r.map((a,o)=>({vid:`${a.aid},${a.cid}`,id:a.id,title:(a.show_title||a.long_title||a.title||`\u7B2C${o+1}\u96C6`).trim(),link:`https://www.bilibili.com/bangumi/play/ep${a.id}`}));return x("info",`[Bilibili] \u83B7\u53D6\u5230 ${s.length} \u4E2A\u756A\u5267\u5206\u96C6`),s}async _getUgcEpisodes(t){try{let r=`https://api.bilibili.com/x/web-interface/view?bvid=${t}`,n=await pe(r,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Referer:"https://www.bilibili.com/",Cookie:R.bilibliCookie||""}}),s=typeof n.data=="string"?JSON.parse(n.data):n.data;if(s.code!==0||!s.data)return x("error",`[Bilibili] \u83B7\u53D6\u89C6\u9891\u5206\u96C6\u5931\u8D25 (bvid=${t}):`,s.message),[];let a=s.data.pages||[];if(a.length===0)return x("info",`[Bilibili] \u89C6\u9891 bvid=${t} \u65E0\u5206\u96C6\u6570\u636E`),[];let o=a.map((c,u)=>({vid:`${s.data.aid},${c.cid}`,id:c.cid,title:(c.part||`P${c.page}`).trim(),link:`https://www.bilibili.com/video/${t}?p=${c.page}`}));return x("info",`[Bilibili] \u83B7\u53D6\u5230 ${o.length} \u4E2A\u89C6\u9891\u5206\u96C6`),o}catch(r){return x("error",`[Bilibili] \u83B7\u53D6\u89C6\u9891\u5206\u96C6\u51FA\u9519 (bvid=${t}):`,r.message),[]}}async getEpisodes(t){if(t.startsWith("ss")){let r=t.substring(2);return await this._getPgcEpisodes(r)}else if(t.startsWith("bv")){let r=t.substring(2);return await this._getUgcEpisodes(r)}return x("error",`[Bilibili] \u4E0D\u652F\u6301\u7684 ID \u683C\u5F0F: ${t}`),[]}async handleAnimes(t,r,n){let s=[];if(!t||!Array.isArray(t))return x("error","[Bilibili] sourceAnimes is not a valid array"),[];let a=t.length>0?t[0]._tmdbCnAlias:null;N2(t,a);let o=t.filter(c=>c.isOversea||Wt(c.title,r)||c.org_title&&Wt(c.org_title,r)).map(async c=>{try{let u=[],l=c.checkMore?.content?.includes("\u67E5\u770B\u5168\u90E8");if(c._eps&&c._eps.length>0&&!l)u=c._eps.map((m,h)=>{let g;c.isOversea&&m.position?g=m.position.toString():g=m.index_title||m.index||(h+1).toString();let A=m.title||m.index_title||g,y=m.long_title||"",v=/^\d+(\.\d+)?$/.test(A)?`\u7B2C${A}\u8BDD`:A;y&&y!==A&&(v+=` ${y}`);let E=`https://www.bilibili.com/bangumi/play/ep${m.id||m.param}?season_id=${c.mediaId.substring(2)}`;return c.isOversea&&(E+="&area=hkmt"),{name:g,url:E,title:`\u3010bilibili1\u3011 ${v.trim()}`}}),u.sort((m,h)=>{let g=parseFloat(m.name),A=parseFloat(h.name);return!isNaN(g)&&!isNaN(A)?g-A:0}),x("info",`[Bilibili] \u76F4\u63A5\u4F7F\u7528\u641C\u7D22\u7ED3\u679C\u4E2D\u7684 ${u.length} \u96C6\u5206\u96C6`);else{let m=await this.getEpisodes(c.mediaId);if(m.length===0){x("info",`[Bilibili] ${c.title} \u65E0\u5206\u96C6\uFF0C\u8DF3\u8FC7`);return}u=m.map((h,g)=>{let A=h.link+`?season_id=${c.mediaId.substring(2)}`;return c.isOversea&&(A+="&area=hkmt"),{name:`${g+1}`,url:A,title:`\u3010bilibili1\u3011 ${h.title}`}})}if(u.length===0)return;let d=Tr(c.mediaId),f=c._displayTitle||Jt(c.title),p={animeId:d,bangumiId:c.mediaId,animeTitle:`${f}(${c.year||"N/A"})\u3010${c.type}\u3011from bilibili`,type:c.type,typeDescription:c.type,imageUrl:c.imageUrl,startDate:zt(c.year),episodeCount:u.length,rating:0,isFavorited:!0,source:"bilibili"};s.push(p),tt({...p,links:u}),R.animes.length>R.MAX_ANIMES&&it()}catch(u){x("error",`[Bilibili] \u5904\u7406 ${c.title} \u5931\u8D25:`,u.message)}});return await Promise.all(o),this.sortAndPushAnimesByYear(s,n),s}async _extractVideoInfo(t){x("info","\u63D0\u53D6B\u7AD9\u89C6\u9891\u4FE1\u606F...",t);let r="https://api.bilibili.com/x/web-interface/view",n="https://api.bilibili.com/pgc/view/web/season",s=/^(https?:\/\/[^\/]+)(\/[^?#]*)/,a=t.match(s),o;if(a)o=a[2].split("/").filter(Boolean),o.unshift(""),x("info",o);else return x("error","Invalid URL"),null;let c,u,l,d;if(t.includes("video/"))try{let f=t.split("?")[1],p=1;if(f){let A=f.split("&");for(let y of A){let[v,b]=y.split("=");v==="p"&&(p=b||1)}}x("info",`p: ${p}`);let m;t.includes("BV")?m=`${r}?bvid=${o[2]}`:(u=o[2].substring(2),m=`${r}?aid=${o[2].substring(2)}`);let h=await pe(m,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}}),g=typeof h.data=="string"?JSON.parse(h.data):h.data;if(g.code!==0)return x("error","\u83B7\u53D6\u666E\u901A\u6295\u7A3F\u89C6\u9891\u4FE1\u606F\u5931\u8D25:",g.message),null;l=g.data.duration,c=g.data.pages[p-1].cid}catch(f){return x("error","\u8BF7\u6C42\u666E\u901A\u6295\u7A3F\u89C6\u9891\u4FE1\u606F\u5931\u8D25:",f),null}else if(t.includes("bangumi/")&&t.includes("ep"))try{let f=o.slice(-1)[0].slice(2),p=t.split("?")[1]||"",m=null,h=!1;p.split("&").forEach(A=>{let[y,v]=A.split("=");y==="season_id"&&(m=v),y==="area"&&v==="hkmt"&&(h=!0)});let g=!1;if(!h){let A=await pe(`${n}?ep_id=${f}`,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0"}}),y=typeof A.data=="string"?JSON.parse(A.data):A.data;if(y.code===0&&y.result){let v=y.result.episodes.find(b=>b.id==f);v&&(c=v.cid,l=v.duration/1e3,d=v.share_copy,g=!0)}}if((!g||h)&&m&&this._hasBilibiliProxy()){try{let A=this._makeProxyUrl(`https://api.bilibili.com/pgc/view/web/season?season_id=${m}`),y=await pe(A,{headers:{Cookie:R.bilibliCookie||"","User-Agent":"Mozilla/5.0"}}),v=typeof y.data=="string"?JSON.parse(y.data):y.data;if(v.code===0&&v.result){let b=(v.result.episodes||v.result.main_section?.episodes||[]).find(E=>E.id==f);b&&(c=b.cid,u=b.aid,l=b.duration/1e3,d=b.long_title,g=!0)}}catch{}if(!g)try{let A=await pe(`https://api.bilibili.com/pgc/web/season/section?season_id=${m}`,{headers:{"User-Agent":"Mozilla/5.0",Cookie:R.bilibliCookie||""}}),y=typeof A.data=="string"?JSON.parse(A.data):A.data;if(y.code===0&&y.result?.main_section?.episodes){let v=y.result.main_section.episodes.find(b=>b.id==f);v&&(c=v.cid,u=v.aid,l=v.duration?v.duration/1e3:0,d=v.long_title,g=!0)}}catch{}}if(!c)return x("error","\u672A\u627E\u5230\u5339\u914D\u7684\u756A\u5267\u96C6\u4FE1\u606F"),null;!l&&l!==0&&(l=0)}catch(f){return x("error","\u8BF7\u6C42\u756A\u5267\u89C6\u9891\u4FE1\u606F\u5931\u8D25:",f),null}else if(t.includes("bangumi/")&&t.includes("ss"))try{let f=o.slice(-1)[0].slice(2).split("?")[0],p=`${n}?season_id=${f}`;x("info",`\u83B7\u53D6\u756A\u5267\u4FE1\u606F: season_id=${f}`);let m=await pe(p,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}}),h=typeof m.data=="string"?JSON.parse(m.data):m.data;if(h.code!==0)return x("error","\u83B7\u53D6\u756A\u5267\u89C6\u9891\u4FE1\u606F\u5931\u8D25:",h.message),null;if(!h.result.episodes||h.result.episodes.length===0)return x("error","\u756A\u5267\u6CA1\u6709\u53EF\u7528\u7684\u96C6\u6570"),null;let g=h.result.episodes[0];c=g.cid,l=g.duration/1e3,d=g.share_copy,x("info",`\u4F7F\u7528\u7B2C\u4E00\u96C6: ${d}, cid=${c}`)}catch(f){return x("error","\u8BF7\u6C42\u756A\u5267\u89C6\u9891\u4FE1\u606F\u5931\u8D25:",f),null}else return x("error","\u4E0D\u652F\u6301\u7684B\u7AD9\u89C6\u9891\u7F51\u5740\uFF0C\u4EC5\u652F\u6301\u666E\u901A\u89C6\u9891(av,bv)\u3001\u5267\u96C6\u89C6\u9891(ep,ss)"),null;return x("info",`\u63D0\u53D6\u89C6\u9891\u4FE1\u606F\u5B8C\u6210: cid=${c}, aid=${u}, duration=${l}`),{cid:c,aid:u,duration:l,title:d}}async getEpisodeDanmu(t){x("info","\u5F00\u59CB\u4ECE\u672C\u5730\u8BF7\u6C42B\u7AD9\u5F39\u5E55...",t);let r=await this.getEpisodeDanmuSegments(t);if(!r||!r.segmentList||r.segmentList.length===0)return[];let n=r.segmentList;x("info",`\u5F39\u5E55\u5206\u6BB5\u6570\u91CF: ${n.length}`);let s=6,a=[];for(let o=0;o<n.length;o+=s){let u=n.slice(o,o+s).map(f=>this.getEpisodeSegmentDanmu(f).then(p=>({status:"ok",value:p})).catch(p=>({status:"err",error:p}))),l=await Promise.all(u),d=!1;for(let f of l)f.status==="ok"&&f.value?a.push(...f.value):(x("info","[Bilibili] \u6355\u83B7\u5230\u5206\u6BB5\u8BF7\u6C42\u51FA\u9519\uFF0C\u8BF4\u660E\u8BF7\u6C42\u5B8C\u6BD5\uFF0C\u505C\u6B62\u540E\u7EED\u8BF7\u6C42"),d=!0);if(d)break}return a}async getEpisodeDanmuSegments(t){x("info","\u83B7\u53D6B\u7AD9\u5F39\u5E55\u5206\u6BB5\u5217\u8868...",t);let r=await this._extractVideoInfo(t);if(!r)return new Ve({type:"bilibili1",segmentList:[]});let{cid:n,aid:s,duration:a}=r;x("info",`\u89C6\u9891\u4FE1\u606F: cid=${n}, aid=${s}, duration=${a}`),a<=0&&x("info","[Bilibili] \u672A\u83B7\u53D6\u5230\u7CBE\u51C6\u65F6\u957F\uFF0C\u4F7F\u7528\u9884\u8BBE 36 \u5206\u6BB5");let o=a>0?Math.floor(a/360)+1:36;x("info",`maxLen: ${o}`);let c=[];for(let u=0;u<o;u+=1){let l;s?l=`https://api.bilibili.com/x/v2/dm/web/seg.so?type=1&oid=${n}&pid=${s}&segment_index=${u+1}`:l=`https://api.bilibili.com/x/v2/dm/web/seg.so?type=1&oid=${n}&segment_index=${u+1}`,c.push({type:"bilibili1",segment_start:u*360,segment_end:(u+1)*360,url:l})}return new Ve({type:"bilibili1",segmentList:c})}async getEpisodeSegmentDanmu(t){try{let r=await pe(t.url,{headers:{"User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36",Cookie:R.bilibliCookie},base64Data:!0,retries:1}),n=[];return r&&r.data&&(n=Ude(r.data)),n}catch(r){throw r}}formatComments(t){return R.danmuSimplifiedTraditional==="simplified"?t.map(r=>(r.m&&(r.m=Jt(r.m)),r)):t}_makeProxyUrl(t){return R.makeProxyUrl(t)}_hasBilibiliProxy(){return(R.proxyUrl||"").split(",").some(t=>{let r=t.trim();return r.startsWith("bilibili@")||r.startsWith("@")})}_javaUrlEncode(t){return encodeURIComponent(t).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")}async _searchOverseaRequest(t,r,n,s="Original",a=null){let c=(R.bilibliCookie||"").match(/([0-9a-fA-F]{32})/);if(!((R.proxyUrl||"").includes("bilibili@")||(R.proxyUrl||"").includes("@")))return[];if(c){x("info",`[Bilibili-Proxy][${s}] \u68C0\u6D4B\u5230 Access Key\uFF0C\u542F\u7528 APP \u7AEF\u63A5\u53E3\u6A21\u5F0F (Type: ${r})...`);try{let l={keyword:t,type:r,area:"tw",mobi_app:"android",platform:"android",build:"8140200",ts:Math.floor(Date.now()/1e3),appkey:e.APP_KEY,access_key:c[1],disable_rcmd:1},d=Object.keys(l).sort().map(g=>`${g}=${this._javaUrlEncode(String(l[g]))}`).join("&"),f=da(d+e.APP_SEC),p=`https://app.bilibili.com/x/v2/search/type?${d}&sign=${f}`,m=R.makeProxyUrl(p),h=await this._fetchAppSearchWithStream(m,{"User-Agent":"Mozilla/5.0 Android","X-From-Biliroaming":"1.0.0"},s,a);if(h&&h.code===0)return(h.data?.items||h.data?.result||h.data||[]).filter(g=>g.goto!=="recommend_tips"&&g.area!=="\u6F2B\u6E38"&&g.badge!=="\u516C\u544A").map(g=>({provider:"bilibili",mediaId:g.season_id?`ss${g.season_id}`:g.uri.match(/season\/(\d+)/)?.[1]?`ss${g.uri.match(/season\/(\d+)/)[1]}`:"",title:(g.title||"").replace(/<[^>]+>/g,"").trim(),type:this._extractMediaType(g.season_type_name),year:g.ptime?new Date(g.ptime*1e3).getFullYear():null,imageUrl:g.cover||g.pic||"",episodeCount:0,_eps:g.episodes||g.episodes_new,checkMore:g.check_more,isOversea:!0})).filter(g=>g.mediaId);h&&h.code!==0&&x("warn",`[Bilibili-Proxy] App \u63A5\u53E3\u8FD4\u56DE\u9519\u8BEF Code ${h.code}: ${h.message}`)}catch(l){if(l.name==="AbortError")throw l;x("error",`[Bilibili-Proxy] App \u63A5\u53E3\u8BF7\u6C42\u5F02\u5E38: ${l.message}`)}x("info","[Bilibili-Proxy] App \u63A5\u53E3\u8BF7\u6C42\u5931\u8D25\uFF0C\u81EA\u52A8\u964D\u7EA7\u81F3 Web \u63A5\u53E3...")}else x("info",`[Bilibili-Proxy][${s}] \u672A\u68C0\u6D4B\u5230 Access Key\uFF0C\u542F\u7528 Web \u7AEF\u63A5\u53E3\u6A21\u5F0F (Type: ${n})...`);try{let l={keyword:t,search_type:n,area:"tw",page:1,order:"totalrank",__refresh__:!0,_timestamp:Date.now()},f=`https://api.bilibili.com/x/web-interface/search/type?${Object.keys(l).map(g=>`${encodeURIComponent(g)}=${encodeURIComponent(l[g])}`).join("&")}`,p=R.makeProxyUrl(f),m=await pe(p,{headers:{"User-Agent":"Mozilla/5.0",Cookie:R.bilibliCookie||"","X-From-Biliroaming":"1.0.0"},signal:a}),h=typeof m.data=="string"?JSON.parse(m.data):m.data;if(h.code!==0)return x("warn",`[Bilibili-Proxy] Web \u63A5\u53E3\u8FD4\u56DE\u9519\u8BEF Code ${h.code}: ${h.message}`),[];if(h.data?.result)return h.data.result.filter(g=>g.url?.includes("bilibili.com")&&!g.areas?.includes("\u6F2B\u6E38")).map(g=>({provider:"bilibili",mediaId:g.season_id?`ss${g.season_id}`:"",title:(g.title||"").replace(/<[^>]+>/g,"").trim(),type:this._extractMediaType(g.season_type_name),year:g.pubtime?new Date(g.pubtime*1e3).getFullYear():null,imageUrl:g.cover||null,episodeCount:g.ep_size||0,_eps:g.eps,isOversea:!0})).filter(g=>g.mediaId)}catch(l){if(l.name==="AbortError")throw l;x("error",`[Bilibili-Proxy] Web \u63A5\u53E3\u8BF7\u6C42\u5F02\u5E38: ${l.message}\uFF08\u5982\u679C\u662F-500/-502\u8BF4\u660E\u53EA\u662F\u98CE\u63A7\uFF09`)}return[]}async _searchOversea(t){let r=new AbortController,n=[{appType:7,webType:"media_bangumi"},{appType:8,webType:"media_ft"}],s=Promise.all(n.map(async(o,c)=>(c>0&&await new Promise(u=>setTimeout(u,c*300)),this._searchOverseaRequest(t,o.appType,o.webType,"Original")))).then(o=>{let c=o.flat();return c.length&&r.abort(),c.forEach(u=>u._originalQuery=t),c}).catch(()=>[]),a=R.tmdbApiKey?new Promise(o=>setTimeout(o,100)).then(async()=>{let o=await R2(t,r.signal,"Bilibili");if(o&&o.title&&o.title!==t){let{title:c,cnAlias:u}=o,l=n.map(async(f,p)=>(p>0&&await new Promise(m=>setTimeout(m,p*300)),this._searchOverseaRequest(c,f.appType,f.webType,"TMDB",r.signal))),d=(await Promise.all(l)).flat();return d.forEach(f=>{f._originalQuery=t,f._searchUsedTitle=c,f._tmdbCnAlias=u}),d}return[]}).catch(()=>[]):Promise.resolve([]);return(await Promise.all([s,a])).flat()}async _fetchAppSearchWithStream(t,r,n,s){if(typeof EO!="function")return null;let a=!1,o=!1,c=await EO(t,{headers:r,sniffLimit:8192,signal:s},u=>a?!0:u.includes('"goto":"recommend_tips"')||u.includes("\u6682\u65E0\u641C\u7D22\u7ED3\u679C")?(x("info",`[Bilibili-Proxy][${n}] \u55C5\u63A2\u5230\u65E0\u6548\u6570\u636E\uFF0C\u4E2D\u65AD`),o=!0,!1):((u.includes('"season_id"')||u.includes('"episodes"'))&&(a=!0),!0));return o?{code:0,data:{items:[]}}:c}};ht();et();Pt();rs();Br();rs();var cnt=`
AGFzbQEAAAABWA5gAn9/AX9gA39/fwF/YAJ/fwBgA39/fwBgAX8Bf2ABfwBgBX9/f39/AX9gBX9/f39/AGAAAX9gBH9/f38AYAR/
f39/AX9gAn5/AX9gBn9/f39/fwBgAAACXAMDd2JnGl9fd2JpbmRnZW5fb2JqZWN0X2Ryb3BfcmVmAAUDd2JnFV9fd2JpbmRnZW5f
c3RyaW5nX25ldwAAA3diZxdfX3diaW5kZ2VuX2RlYnVnX3N0cmluZwACA4gBhgEEAgUBAAIGBQMFAQMBAgMCAwMCAgAGAAsABQIB
CAcHAAIHBgMJAwwDAAMDCQAAAAACBwIDAwMDAAIDAwUAAQIBAwAABg0CCgAAAgUFAwIFBAQCAQAFAAoDBAAAAAAAAgICAgQABAQE
BAIEAAAEBQAAAAQEBAQAAAIAAAECAgABAQgAAAQEBQQFAXABOTkFAwEAEQYJAX8BQYCAwAALB58BCQZtZW1vcnkCAAZlbnNpZ24A
JA9nYXRld2F5X2VuY3J5cHQAIA9nYXRld2F5X2RlY3J5cHQAIQdnZXRfa2V5AIMBEV9fd2JpbmRnZW5fbWFsbG9jAEUSX193Ymlu
ZGdlbl9yZWFsbG9jAEkfX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcgBvD19fd2JpbmRnZW5fZnJlZQBaCUgBAEEBCzhw
RF5fL4gBKzJXMYgBcnFfiAFKS247UUAZc2OIAWJBZE4jM4gBYYgBSlFCe3mIAVZ4UTptXWaIAWGIAQ8/fIABGyIKv+YChgG+IQIP
fwF+IwBBEGsiCyQAAkACQAJ/AkAgAEH1AU8EQEEIQQgQWCEGQRRBCBBYIQVBEEEIEFghAUEAQRBBCBBYQQJ0ayICQYCAfCABIAUg
Bmpqa0F3cUEDayIBIAEgAksbIABNDQQgAEEEakEIEFghBEG0psAAKAIARQ0DQQAgBGshAwJ/QQAgBEGAAkkNABpBHyAEQf///wdL
DQAaIARBBiAEQQh2ZyIAa3ZBAXEgAEEBdGtBPmoLIgZBAnRBmKPAAGooAgAiAUUEQEEAIQBBACEFDAILIAQgBhBTdCEHQQAhAEEA
IQUDQAJAIAEQdCICIARJDQAgAiAEayICIANPDQAgASEFIAIiAw0AQQAhAyABIQBBAAwECyABQRRqKAIAIgIgACACIAEgB0EddkEE
cWpBEGooAgAiAUcbIAAgAhshACAHQQF0IQcgAQ0ACwwBC0EQIABBBGpBEEEIEFhBBWsgAEsbQQgQWCEEQbCmwAAoAgAiASAEQQN2
IgB2IgJBA3EEQAJAIAJBf3NBAXEgAGoiA0EDdCIAQbCkwABqKAIAIgVBCGooAgAiAiAAQaikwABqIgBHBEAgAiAANgIMIAAgAjYC
CAwBC0GwpsAAIAFBfiADd3E2AgALIAUgA0EDdBBQIAUQhgEhAwwECyAEQbimwAAoAgBNDQICQAJAAkACQAJAAkAgAkUEQEG0psAA
KAIAIgBFDQkgABBpaEECdEGYo8AAaigCACIBEHQgBGshAyABEFIiAARAA0AgABB0IARrIgIgAyACIANJIgIbIQMgACABIAIbIQEg
ABBSIgANAAsLIAEgBBCEASEFIAEQHEEQQQgQWCADSw0CIAEgBBBrIAUgAxBUQbimwAAoAgAiAA0BDAULAkBBASAAQR9xIgB0EFsg
AiAAdHEQaWgiAkEDdCIAQbCkwABqKAIAIgNBCGooAgAiASAAQaikwABqIgBHBEAgASAANgIMIAAgATYCCAwBC0GwpsAAQbCmwAAo
AgBBfiACd3E2AgALIAMgBBBrIAMgBBCEASIFIAJBA3QgBGsiAhBUQbimwAAoAgAiAA0CDAMLIABBeHFBqKTAAGohB0HApsAAKAIA
IQYCf0GwpsAAKAIAIgJBASAAQQN2dCIAcUUEQEGwpsAAIAAgAnI2AgAgBwwBCyAHKAIICyEAIAcgBjYCCCAAIAY2AgwgBiAHNgIM
IAYgADYCCAwDCyABIAMgBGoQUAwDCyAAQXhxQaikwABqIQdBwKbAACgCACEGAn9BsKbAACgCACIBQQEgAEEDdnQiAHFFBEBBsKbA
ACAAIAFyNgIAIAcMAQsgBygCCAshACAHIAY2AgggACAGNgIMIAYgBzYCDCAGIAA2AggLQcCmwAAgBTYCAEG4psAAIAI2AgAgAxCG
ASEDDAULQcCmwAAgBTYCAEG4psAAIAM2AgALIAEQhgEiA0UNAgwDCyAAIAVyRQRAQQAhBUEBIAZ0EFtBtKbAACgCAHEiAEUNAiAA
EGloQQJ0QZijwABqKAIAIQALQQELIQEDQCABRQRAIAUgACAFIAAQdCIBIARrIgYgA0kiAhsgASAESSIBGyEFIAMgBiADIAIbIAEb
IQMgABBSIQBBASEBDAELIAAEQEEAIQEMAQUgBUUNAiAEQbimwAAoAgAiAE0gAyAAIARrT3ENAiAFIAQQhAEhBiAFEBwCQEEQQQgQ
WCADTQRAIAUgBBBrIAYgAxBUIANBgAJPBEAgBiADEB0MAgsgA0F4cUGopMAAaiECAn9BsKbAACgCACIBQQEgA0EDdnQiAHFFBEBB
sKbAACAAIAFyNgIAIAIMAQsgAigCCAshACACIAY2AgggACAGNgIMIAYgAjYCDCAGIAA2AggMAQsgBSADIARqEFALIAUQhgEiAw0D
CwsLAkACQCAEQbimwAAoAgAiAEsEQCAEQbymwAAoAgAiAE8EQEEIQQgQWCAEakEUQQgQWGpBEEEIEFhqQYCABBBYIgBBEHZAACEC
IAtBBGoiAUEANgIIIAFBACAAQYCAfHEgAkF/RiIAGzYCBCABQQAgAkEQdCAAGzYCACALKAIEIghFBEBBACEDDAULIAsoAgwhDEHI
psAAIAsoAggiCkHIpsAAKAIAaiIBNgIAQcymwABBzKbAACgCACIAIAEgACABSxs2AgACQEHEpsAAKAIABEBBmKTAACEAA0AgABBs
IAhGDQIgACgCCCIADQALDAQLQdSmwAAoAgAiAEEAIAAgCE0bRQRAQdSmwAAgCDYCAAtB2KbAAEH/HzYCAEGkpMAAIAw2AgBBnKTA
ACAKNgIAQZikwAAgCDYCAEG0pMAAQaikwAA2AgBBvKTAAEGwpMAANgIAQbCkwABBqKTAADYCAEHEpMAAQbikwAA2AgBBuKTAAEGw
pMAANgIAQcykwABBwKTAADYCAEHApMAAQbikwAA2AgBB1KTAAEHIpMAANgIAQcikwABBwKTAADYCAEHcpMAAQdCkwAA2AgBB0KTA
AEHIpMAANgIAQeSkwABB2KTAADYCAEHYpMAAQdCkwAA2AgBB7KTAAEHgpMAANgIAQeCkwABB2KTAADYCAEH0pMAAQeikwAA2AgBB
6KTAAEHgpMAANgIAQfCkwABB6KTAADYCAEH8pMAAQfCkwAA2AgBB+KTAAEHwpMAANgIAQYSlwABB+KTAADYCAEGApcAAQfikwAA2
AgBBjKXAAEGApcAANgIAQYilwABBgKXAADYCAEGUpcAAQYilwAA2AgBBkKXAAEGIpcAANgIAQZylwABBkKXAADYCAEGYpcAAQZCl
wAA2AgBBpKXAAEGYpcAANgIAQaClwABBmKXAADYCAEGspcAAQaClwAA2AgBBqKXAAEGgpcAANgIAQbSlwABBqKXAADYCAEG8pcAA
QbClwAA2AgBBsKXAAEGopcAANgIAQcSlwABBuKXAADYCAEG4pcAAQbClwAA2AgBBzKXAAEHApcAANgIAQcClwABBuKXAADYCAEHU
pcAAQcilwAA2AgBByKXAAEHApcAANgIAQdylwABB0KXAADYCAEHQpcAAQcilwAA2AgBB5KXAAEHYpcAANgIAQdilwABB0KXAADYC
AEHspcAAQeClwAA2AgBB4KXAAEHYpcAANgIAQfSlwABB6KXAADYCAEHopcAAQeClwAA2AgBB/KXAAEHwpcAANgIAQfClwABB6KXA
ADYCAEGEpsAAQfilwAA2AgBB+KXAAEHwpcAANgIAQYymwABBgKbAADYCAEGApsAAQfilwAA2AgBBlKbAAEGIpsAANgIAQYimwABB
gKbAADYCAEGcpsAAQZCmwAA2AgBBkKbAAEGIpsAANgIAQaSmwABBmKbAADYCAEGYpsAAQZCmwAA2AgBBrKbAAEGgpsAANgIAQaCm
wABBmKbAADYCAEGopsAAQaCmwAA2AgBBCEEIEFghBUEUQQgQWCECQRBBCBBYIQFBxKbAACAIIAgQhgEiAEEIEFggAGsiABCEASID
NgIAQbymwAAgCkEIaiABIAIgBWpqIABqayIFNgIAIAMgBUEBcjYCBEEIQQgQWCECQRRBCBBYIQFBEEEIEFghACADIAUQhAEgACAB
IAJBCGtqajYCBEHQpsAAQYCAgAE2AgAMBAsgABB2DQIgABB3IAxHDQIgACgCACICQcSmwAAoAgAiAU0EfyACIAAoAgRqIAFLBUEA
C0UNAiAAIAAoAgQgCmo2AgRBvKbAACgCACAKaiEBQcSmwAAoAgAiACAAEIYBIgBBCBBYIABrIgAQhAEhA0G8psAAIAEgAGsiBTYC
AEHEpsAAIAM2AgAgAyAFQQFyNgIEQQhBCBBYIQJBFEEIEFghAUEQQQgQWCEAIAMgBRCEASAAIAEgAkEIa2pqNgIEQdCmwABBgICA
ATYCAAwDC0G8psAAIAAgBGsiATYCAEHEpsAAQcSmwAAoAgAiAiAEEIQBIgA2AgAgACABQQFyNgIEIAIgBBBrIAIQhgEhAwwDC0HA
psAAKAIAIQJBEEEIEFggACAEayIBTQRAIAIgBBCEASEAQbimwAAgATYCAEHApsAAIAA2AgAgACABEFQgAiAEEGsgAhCGASEDDAML
QcCmwABBADYCAEG4psAAKAIAIQBBuKbAAEEANgIAIAIgABBQIAIQhgEhAwwCC0HUpsAAQdSmwAAoAgAiACAIIAAgCEkbNgIAIAgg
CmohAUGYpMAAIQACQANAIAEgACgCAEcEQCAAKAIIIgANAQwCCwsgABB2DQAgABB3IAxHDQAgACgCACEDIAAgCDYCACAAIAAoAgQg
Cmo2AgQgCBCGASIFQQgQWCECIAMQhgEiAUEIEFghACAIIAIgBWtqIgYgBBCEASEHIAYgBBBrIAMgACABa2oiACAEIAZqayEEAkBB
xKbAACgCACAARwRAIABBwKbAACgCAEYNASAAKAIEQQNxQQFGBEACQCAAEHQiBUGAAk8EQCAAEBwMAQsgAEEMaigCACICIABBCGoo
AgAiAUcEQCABIAI2AgwgAiABNgIIDAELQbCmwABBsKbAACgCAEF+IAVBA3Z3cTYCAAsgBCAFaiEEIAAgBRCEASEACyAHIAQgABBP
IARBgAJPBEAgByAEEB0gBhCGASEDDAULIARBeHFBqKTAAGohAgJ/QbCmwAAoAgAiAUEBIARBA3Z0IgBxRQRAQbCmwAAgACABcjYC
ACACDAELIAIoAggLIQAgAiAHNgIIIAAgBzYCDCAHIAI2AgwgByAANgIIIAYQhgEhAwwEC0HEpsAAIAc2AgBBvKbAAEG8psAAKAIA
IARqIgA2AgAgByAAQQFyNgIEIAYQhgEhAwwDC0HApsAAIAc2AgBBuKbAAEG4psAAKAIAIARqIgA2AgAgByAAEFQgBhCGASEDDAIL
QcSmwAAoAgAhCUGYpMAAIQACQANAIAkgACgCAE8EQCAAEGwgCUsNAgsgACgCCCIADQALQQAhAAsgCSAAEGwiBkEUQQgQWCIPa0EX
ayIBEIYBIgBBCBBYIABrIAFqIgAgAEEQQQgQWCAJakkbIg0QhgEhDiANIA8QhAEhAEEIQQgQWCEDQRRBCBBYIQVBEEEIEFghAkHE
psAAIAggCBCGASIBQQgQWCABayIBEIQBIgc2AgBBvKbAACAKQQhqIAIgAyAFamogAWprIgM2AgAgByADQQFyNgIEQQhBCBBYIQVB
FEEIEFghAkEQQQgQWCEBIAcgAxCEASABIAIgBUEIa2pqNgIEQdCmwABBgICAATYCACANIA8Qa0GYpMAAKQIAIRAgDkEIakGgpMAA
KQIANwIAIA4gEDcCAEGkpMAAIAw2AgBBnKTAACAKNgIAQZikwAAgCDYCAEGgpMAAIA42AgADQCAAQQQQhAEgAEEHNgIEIgBBBGog
BkkNAAsgCSANRg0AIAkgDSAJayIAIAkgABCEARBPIABBgAJPBEAgCSAAEB0MAQsgAEF4cUGopMAAaiECAn9BsKbAACgCACIBQQEg
AEEDdnQiAHFFBEBBsKbAACAAIAFyNgIAIAIMAQsgAigCCAshACACIAk2AgggACAJNgIMIAkgAjYCDCAJIAA2AggLQQAhA0G8psAA
KAIAIgAgBE0NAEG8psAAIAAgBGsiATYCAEHEpsAAQcSmwAAoAgAiAiAEEIQBIgA2AgAgACABQQFyNgIEIAIgBBBrIAIQhgEhAwsg
C0EQaiQAIAMLrRABGH8gACABKAIQIgkgASgCICIHIAEoAjAiCiABKAIAIgsgASgCJCIMIAEoAjQiDSABKAIEIg4gASgCFCIPIA0g
DCAPIA4gCiAHIAkgCyAAKAIAIhkgACgCCCIQIAAoAgQiCHFqIAAoAgwiGCAIQX9zcWpqQYi31cQCa0EHdyAIaiICaiAOIBhqIBAg
AkF/c3FqIAIgCHFqQaqR4bkBa0EMdyACaiIDIAggASgCDCIRaiACIAMgECABKAIIIhJqIAggA0F/c3FqIAIgA3FqQdvhgaECakER
d2oiBUF/c3FqIAMgBXFqQZLiiPIDa0EWdyAFaiIEQX9zcWogBCAFcWpB0eCP1ABrQQd3IARqIgJqIAMgD2ogBSACQX9zcWogAiAE
cWpBqoyfvARqQQx3IAJqIgMgASgCHCITIARqIAIgAyABKAIYIhQgBWogBCADQX9zcWogAiADcWpB7fO+vgVrQRF3aiIFQX9zcWog
AyAFcWpB/9XlFWtBFncgBWoiAkF/c3FqIAIgBXFqQdixgswGakEHdyACaiIEaiADIAxqIAUgBEF/c3FqIAIgBHFqQdGQ7KUHa0EM
dyAEaiIDIAEoAiwiFSACaiAEIAMgASgCKCIWIAVqIAIgA0F/c3FqIAMgBHFqQc/IAmtBEXdqIgJBf3NxaiACIANxakHC0Iy1B2tB
FncgAmoiBUF/c3FqIAIgBXFqQaKiwNwGakEHdyAFaiIGaiABKAI4IhcgAmogBSADIA1qIAIgBkF/c3FqIAUgBnFqQe2cnhNrQQx3
IAZqIgRBf3MiAnFqIAQgBnFqQfL4mswFa0ERdyAEaiIDIAJxaiAFIAEoAjwiBWogBiADQX9zIgFxaiADIARxakGhkNDNBGpBFncg
A2oiBiAEcWpBnrWHzwBrQQV3IAZqIgJqIAMgFWogAiAGQX9zcWogBCAUaiABIAZxaiACIANxakHAmf39A2tBCXcgAmoiBCAGcWpB
0bT5sgJqQQ53IARqIgMgBEF/c3FqIAYgC2ogBCACQX9zcWogAiADcWpB1vCksgFrQRR3IANqIgIgBHFqQaPfw84Ca0EFdyACaiIB
aiADIAVqIAEgAkF/c3FqIAQgFmogAiADQX9zcWogASADcWpB06iQEmpBCXcgAWoiBCACcWpB/7L4ugJrQQ53IARqIgMgBEF/c3Fq
IAIgCWogBCABQX9zcWogASADcWpBuIiwwQFrQRR3IANqIgIgBHFqQeabh48CakEFdyACaiIBaiADIBFqIAEgAkF/c3FqIAQgF2og
AiADQX9zcWogASADcWpBqvCj5gNrQQl3IAFqIgQgAnFqQfnkq9kAa0EOdyAEaiIDIARBf3NxaiACIAdqIAQgAUF/c3FqIAEgA3Fq
Qe2p6KoEakEUdyADaiICIARxakH7rfCwBWtBBXcgAmoiAWogAiAKaiAEIBJqIAIgA0F/c3FqIAEgA3FqQYi4wRhrQQl3IAFqIgYg
AUF/c3FqIAMgE2ogASACQX9zcWogAiAGcWpB2YW8uwZqQQ53IAZqIgQgAXFqQfbm1pYHa0EUdyAEaiIDIARzIgEgBnNqQb6NF2tB
BHcgA2oiAmogBCAVaiACIAYgB2ogASACc2pB/5K4xAdrQQt3IAJqIgJzIgEgA3NqQaLC9ewGakEQdyACaiIEIAJzIAMgF2ogASAE
c2pB9I/rEGtBF3cgBGoiB3NqQbyrhNoFa0EEdyAHaiIBaiAEIBNqIAIgCWogBCAHcyABc2pBqZ/73gRqQQt3IAFqIgQgASAHc3Nq
QaDpksoAa0EQdyAEaiIDIARzIAcgFmogASAEcyADc2pBkIeBigRrQRd3IANqIgJzakHG/e3EAmpBBHcgAmoiAWogAyARaiAEIAtq
IAIgA3MgAXNqQYaw+6oBa0ELdyABaiIEIAEgAnNzakH7nsPYAmtBEHcgBGoiAyAEcyACIBRqIAEgBHMgA3NqQYW6oCRqQRd3IANq
IgJzakHH36yxAmtBBHcgAmoiAWogAiASaiAEIApqIAIgA3MgAXNqQZvMkckBa0ELdyABaiIEIAFzIAMgBWogASACcyAEc2pB+PmJ
/QFqQRB3IARqIgNzakGb087aA2tBF3cgA2oiAiAEQX9zciADc2pBvLvb3gBrQQZ3IAJqIgFqIAIgD2ogAyAXaiAEIBNqIAEgA0F/
c3IgAnNqQZf/q5kEakEKdyABaiIEIAJBf3NyIAFzakHZuK+jBWtBD3cgBGoiAyABQX9zciAEc2pBx7+xG2tBFXcgA2oiAiAEQX9z
ciADc2pBw7PtqgZqQQZ3IAJqIgFqIAIgDmogAyAWaiAEIBFqIAEgA0F/c3IgAnNqQe7mzIcHa0EKdyABaiIEIAJBf3NyIAFzakGD
l8AAa0EPdyAEaiICIAFBf3NyIARzakGvxO7TB2tBFXcgAmoiASAEQX9zciACc2pBz/yh/QZqQQZ3IAFqIgNqIAEgDWogAiAUaiAE
IAVqIAMgAkF/c3IgAXNqQaCyzA5rQQp3IANqIgIgAUF/c3IgA3NqQez5+ucFa0EPdyACaiIBIANBf3NyIAJzakGho6DwBGpBFXcg
AWoiBCACQX9zciABc2pB/oKyxQBrQQZ3IARqIgMgGWo2AgAgACAYIAIgFWogAyABQX9zciAEc2pBy5uUlgRrQQp3IANqIgJqNgIM
IAAgECABIBJqIAIgBEF/c3IgA3NqQbul39YCakEPdyACaiIBajYCCCAAIAEgCGogBCAMaiABIANBf3NyIAJzakHv2OSjAWtBFXdq
NgIEC5IHAQV/IAAQhwEiACAAEHQiARCEASECAkACQAJAAkACQAJAAkACQAJAIAAQdQ0AIAAoAgAhAyAAEGoNASABIANqIQEgACAD
EIUBIgBBwKbAACgCAEYEQCACKAIEQQNxQQNHDQFBuKbAACABNgIAIAAgASACEE8MCQsgA0GAAk8EQCAAEBwMAQsgAEEMaigCACIE
IABBCGooAgAiBUcEQCAFIAQ2AgwgBCAFNgIIDAELQbCmwABBsKbAACgCAEF+IANBA3Z3cTYCAAsgAhBlDQIgAkHEpsAAKAIARg0E
IAJBwKbAACgCAEcNAUHApsAAIAA2AgBBuKbAAEG4psAAKAIAIAFqIgI2AgAgACACEFQPCyABIANqQRBqIQAMBgsgAhB0IgMgAWoh
AQJAIANBgAJPBEAgAhAcDAELIAJBDGooAgAiBCACQQhqKAIAIgJHBEAgAiAENgIMIAQgAjYCCAwBC0GwpsAAQbCmwAAoAgBBfiAD
QQN2d3E2AgALIAAgARBUIABBwKbAACgCAEcNAUG4psAAIAE2AgAPCyAAIAEgAhBPCyABQYACSQ0BIAAgARAdQdimwABB2KbAACgC
AEEBayIANgIAIAANAxAfGg8LQcSmwAAgADYCAEG8psAAQbymwAAoAgAgAWoiAjYCACAAIAJBAXI2AgRBwKbAACgCACAARgRAQbim
wABBADYCAEHApsAAQQA2AgALIAJB0KbAACgCAE0NAkEIQQgQWCEAQRRBCBBYIQJBEEEIEFghA0EAQRBBCBBYQQJ0ayIBQYCAfCAD
IAAgAmpqa0F3cUEDayIAIAAgAUsbRQ0CQcSmwAAoAgBFDQJBCEEIEFghAEEUQQgQWCECQRBBCBBYIQFBACEDQbymwAAoAgAiBCAB
IAIgAEEIa2pqIgBNDQEgBCAAa0H//wNqQYCAfHEiBEGAgARrIQJBxKbAACgCACEBQZikwAAhAAJAA0AgASAAKAIATwRAIAAQbCAB
Sw0CCyAAKAIIIgANAAtBACEACyAAEHYNASAAKAIMGgwBCyABQXhxQaikwABqIQICf0GwpsAAKAIAIgNBASABQQN2dCIBcUUEQEGw
psAAIAEgA3I2AgAgAgwBCyACKAIICyEDIAIgADYCCCADIAA2AgwgACACNgIMIAAgAzYCCA8LEB9BACADa0cNAEG8psAAKAIAQdCm
wAAoAgBNDQBB0KbAAEF/NgIACwv0BgEIfwJAIAAoAgAiCiAAKAIIIgNyBEACQCADRQ0AIAEgAmohCCAAQQxqKAIAQQFqIQcgASEF
A0ACQCAFIQMgB0EBayIHRQ0AIAMgCEYNAgJ/IAMsAAAiBkEATgRAIAZB/wFxIQYgA0EBagwBCyADLQABQT9xIQkgBkEfcSEFIAZB
X00EQCAFQQZ0IAlyIQYgA0ECagwBCyADLQACQT9xIAlBBnRyIQkgBkFwSQRAIAkgBUEMdHIhBiADQQNqDAELIAVBEnRBgIDwAHEg
Ay0AA0E/cSAJQQZ0cnIiBkGAgMQARg0DIANBBGoLIgUgBCADa2ohBCAGQYCAxABHDQEMAgsLIAMgCEYNACADLAAAIgVBAE4gBUFg
SXIgBUFwSXJFBEAgBUH/AXFBEnRBgIDwAHEgAy0AA0E/cSADLQACQT9xQQZ0IAMtAAFBP3FBDHRycnJBgIDEAEYNAQsCQAJAIARF
DQAgAiAETQRAQQAhAyACIARGDQEMAgtBACEDIAEgBGosAABBQEgNAQsgASEDCyAEIAIgAxshAiADIAEgAxshAQsgCkUNASAAKAIE
IQgCQCACQRBPBEAgASACEAchAwwBCyACRQRAQQAhAwwBCyACQQNxIQcCQCACQQRJBEBBACEDQQAhBgwBCyACQXxxIQVBACEDQQAh
BgNAIAMgASAGaiIELAAAQb9/SmogBEEBaiwAAEG/f0pqIARBAmosAABBv39KaiAEQQNqLAAAQb9/SmohAyAFIAZBBGoiBkcNAAsL
IAdFDQAgASAGaiEFA0AgAyAFLAAAQb9/SmohAyAFQQFqIQUgB0EBayIHDQALCwJAIAMgCEkEQCAIIANrIQRBACEDAkACQAJAIAAt
ACBBAWsOAgABAgsgBCEDQQAhBAwBCyAEQQF2IQMgBEEBakEBdiEECyADQQFqIQMgAEEYaigCACEFIAAoAhAhBiAAKAIUIQADQCAD
QQFrIgNFDQIgACAGIAUoAhARAABFDQALQQEPCwwCC0EBIQMgACABIAIgBSgCDBEBAAR/IAMFQQAhAwJ/A0AgBCADIARGDQEaIANB
AWohAyAAIAYgBSgCEBEAAEUNAAsgA0EBawsgBEkLDwsgACgCFCABIAIgAEEYaigCACgCDBEBAA8LIAAoAhQgASACIABBGGooAgAo
AgwRAQAL1wYBCH8CQAJAIAEgAEEDakF8cSICIABrIghJDQAgASAIayIGQQRJDQAgBkEDcSEHQQAhAQJAIAAgAkYiCQ0AAkAgAiAA
QX9zakEDSQRADAELA0AgASAAIARqIgMsAABBv39KaiADQQFqLAAAQb9/SmogA0ECaiwAAEG/f0pqIANBA2osAABBv39KaiEBIARB
BGoiBA0ACwsgCQ0AIAAgAmshAyAAIARqIQIDQCABIAIsAABBv39KaiEBIAJBAWohAiADQQFqIgMNAAsLIAAgCGohBAJAIAdFDQAg
BCAGQXxxaiIALAAAQb9/SiEFIAdBAUYNACAFIAAsAAFBv39KaiEFIAdBAkYNACAFIAAsAAJBv39KaiEFCyAGQQJ2IQYgASAFaiED
A0AgBCEAIAZFDQJBwAEgBiAGQcABTxsiBUEDcSEHIAVBAnQhBEEAIQIgBUEETwRAIAAgBEHwB3FqIQggACEBA0AgAiABKAIAIgJB
f3NBB3YgAkEGdnJBgYKECHFqIAFBBGooAgAiAkF/c0EHdiACQQZ2ckGBgoQIcWogAUEIaigCACICQX9zQQd2IAJBBnZyQYGChAhx
aiABQQxqKAIAIgJBf3NBB3YgAkEGdnJBgYKECHFqIQIgAUEQaiIBIAhHDQALCyAGIAVrIQYgACAEaiEEIAJBCHZB/4H8B3EgAkH/
gfwHcWpBgYAEbEEQdiADaiEDIAdFDQALAn8gACAFQfwBcUECdGoiACgCACIBQX9zQQd2IAFBBnZyQYGChAhxIgEgB0EBRg0AGiAB
IAAoAgQiAUF/c0EHdiABQQZ2ckGBgoQIcWoiASAHQQJGDQAaIAAoAggiAEF/c0EHdiAAQQZ2ckGBgoQIcSABagsiAUEIdkH/gRxx
IAFB/4H8B3FqQYGABGxBEHYgA2oPCyABRQRAQQAPCyABQQNxIQQCQCABQQRJBEBBACECDAELIAFBfHEhBUEAIQIDQCADIAAgAmoi
ASwAAEG/f0pqIAFBAWosAABBv39KaiABQQJqLAAAQb9/SmogAUEDaiwAAEG/f0pqIQMgBSACQQRqIgJHDQALCyAERQ0AIAAgAmoh
AQNAIAMgASwAAEG/f0pqIQMgAUEBaiEBIARBAWsiBA0ACwsgAwunBgEGfyMAQeADayIFJAAgBUEAQeADEIEBIgUgASABEBQgBUEg
aiABQRBqIgEgARAUQcAAIQZBCCEHA0AgBSAHEDUgAyAFaiIBQUBrIgQQDCAEIAQoAgBBf3M2AgAgAUHEAGoiBCAEKAIAQX9zNgIA
IAFB1ABqIgQgBCgCAEF/czYCACABQdgAaiIEIAQoAgBBf3M2AgAgBSAGaiIEIAQoAgBBgIADczYCACAFIAdBCGoiB0EOECogA0GA
A0YEQCAFQeAAaiEHIAVBQGshAyAFQSBqIQZBAyEEA0AgBEEBayEEQQAhAQNAIAEgBmoiAiACKAIAIgIgAiACQQR2c0GAmLwYcSIC
QQR0cyACcyICIAIgAkECdnNBgOaAmANxIgJBAnRzIAJzNgIAIAFBBGoiAUEgRw0AC0EAIQEDQCABIANqIgIgAigCACICIAIgAkEE
dnNBgJ6A+ABxIgJBBHRzIAJzNgIAIAFBBGoiAUEgRw0AC0EAIQEDQCABIAdqIgIgAigCACICIAIgAkEEdnNBgIa84ABxIgJBBHRz
IAJzIgIgAiACQQJ2c0GA5oCYA3EiAkECdHMgAnM2AgAgAUEEaiIBQSBHDQALIAdBgAFqIQcgA0GAAWohAyAGQYABaiEGIAQNAAtB
oAMhAQNAIAEgBWoiAyADKAIAIgMgAyADQQR2c0GAmLwYcSIDQQR0cyADcyIDIAMgA0ECdnNBgOaAmANxIgNBAnRzIANzNgIAIAFB
BGoiAUHAA0cNAAtBACEDA0AgAyAFaiIBQSBqIgYgBigCAEF/czYCACABQSRqIgYgBigCAEF/czYCACABQTRqIgYgBigCAEF/czYC
ACABQThqIgEgASgCAEF/czYCACADQSBqIgNBwANHDQALIAAgBUHgAxCCARogBUHgA2okAAUgBSAHEDUgAUHgAGoiBBAMIAQgBCgC
AEF/czYCACABQeQAaiIEIAQoAgBBf3M2AgAgAUH0AGoiBCAEKAIAQX9zNgIAIAFB+ABqIgEgASgCAEF/czYCACAFIAdBCGoiB0EG
ECogBkHEAGohBiADQUBrIQMMAQsLC7QFAQh/QStBgIDEACAAKAIcIghBAXEiBhshDCAEIAZqIQYCQCAIQQRxRQRAQQAhAQwBCwJA
IAJBEE8EQCABIAIQByEFDAELIAJFBEAMAQsgAkEDcSEJAkAgAkEESQRADAELIAJBfHEhCgNAIAUgASAHaiILLAAAQb9/SmogC0EB
aiwAAEG/f0pqIAtBAmosAABBv39KaiALQQNqLAAAQb9/SmohBSAKIAdBBGoiB0cNAAsLIAlFDQAgASAHaiEHA0AgBSAHLAAAQb9/
SmohBSAHQQFqIQcgCUEBayIJDQALCyAFIAZqIQYLAkACQCAAKAIARQRAQQEhBSAAKAIUIgYgACgCGCIAIAwgASACEEYNAQwCCyAG
IAAoAgQiB08EQEEBIQUgACgCFCIGIAAoAhgiACAMIAEgAhBGDQEMAgsgCEEIcQRAIAAoAhAhCCAAQTA2AhAgAC0AICEKQQEhBSAA
QQE6ACAgACgCFCIJIAAoAhgiCyAMIAEgAhBGDQEgByAGa0EBaiEFAkADQCAFQQFrIgVFDQEgCUEwIAsoAhARAABFDQALQQEPC0EB
IQUgCSADIAQgCygCDBEBAA0BIAAgCjoAICAAIAg2AhBBACEFDAELIAcgBmshBgJAAkACQCAALQAgIgVBAWsOAwABAAILIAYhBUEA
IQYMAQsgBkEBdiEFIAZBAWpBAXYhBgsgBUEBaiEFIABBGGooAgAhCCAAKAIQIQogACgCFCEAAkADQCAFQQFrIgVFDQEgACAKIAgo
AhARAABFDQALQQEPC0EBIQUgACAIIAwgASACEEYNACAAIAMgBCAIKAIMEQEADQBBACEFA0AgBSAGRgRAQQAPCyAFQQFqIQUgACAK
IAgoAhARAABFDQALIAVBAWsgBkkPCyAFDwsgBiADIAQgACgCDBEBAAvYBAEcfyAAIAAoAggiBCAAKAIEIgVzIgwgACgCHCINIAAo
AhAiAXMiFiAAKAIYIgJzIhcgFnFzIAIgDXMiAyAAKAIMIgYgACgCACIHcyIIcyIJcyADIAUgB3MiCnMiEyABIAJzIg8gBCAAKAIU
IgRzIhBzIhlxIhRzIAYgF3MiFSABIAZzIgEgDHMiGHEgCSAYcyABcSILcyIOcyIRIA4gDyABIAdzIhpxIAIgBXMiBSAEIAZzcyIH
IAEgCnMiDnJzcyIScSICIAsgAyAJcXMiCyAHIA5xIAogD3MiCiAEcyIbIAUgCHMiHHFzIAFzIARzcyIGcyARIBQgCiANIBBzIhRx
IAhzcyALcyIEcyIIcSAEcyIFIAYgEnMiCyACIARzcSAGcyINcyIQIAFxIAogDXEiCnMgDSALIAQgEnFBf3NxIAJzIgFzIgQgE3Eg
AyACIAYgEXEgCHFzIAhzIgIgAXMiA3EiCHMiEXM2AgAgACAHIAIgBXMiB3EiBiAFIBtxIhJzIAMgEHMiEyAVcSIVIAMgCXEiA3Mi
CyAQIAkgDHNxIgwgByAOcSIHIAIgD3EiD3NzIg5zIglzNgIcIAAgDCACIBpxIgIgASAXcXMiDCAGIAUgHHFzc3MiBSADIA0gFHEi
AyABIBZxcyIBIA9zcyARc3M2AhggACABIApzIgEgB3MgC3MgBXM2AhQgACADIAQgGXEiA3MgCXM2AhAgACATIBhxIAJzIA5zIgIg
ASADIBJzIgEgCHNzczYCDCAAIAEgDHMgCXM2AgggACAGIBVzIAJzNgIEC9QFAgZ/An4CQCACRQ0AIAJBB2siA0EAIAIgA08bIQcg
AUEDakF8cSABayEIQQAhAwNAAkACQAJAIAEgA2otAAAiBcAiBkEATgRAIAggA2tBA3ENASADIAdPDQIDQCABIANqIgRBBGooAgAg
BCgCAHJBgIGChHhxDQMgA0EIaiIDIAdJDQALDAILQoCAgICAICEKQoCAgIAQIQkCQAJAAn4CQAJAAkACQAJAAkACQAJAAkAgBUGM
oMAAai0AAEECaw4DAAECCgsgA0EBaiIEIAJJDQJCACEKQgAhCQwJC0IAIQogA0EBaiIEIAJJDQJCACEJDAgLQgAhCiADQQFqIgQg
AkkNAkIAIQkMBwsgASAEaiwAAEG/f0oNBgwHCyABIARqLAAAIQQCQAJAIAVB4AFrIgUEQCAFQQ1GBEAMAgUMAwsACyAEQWBxQaB/
Rg0EDAMLIARBn39KDQIMAwsgBkEfakH/AXFBDE8EQCAGQX5xQW5HDQIgBEFASA0DDAILIARBQEgNAgwBCyABIARqLAAAIQQCQAJA
AkACQCAFQfABaw4FAQAAAAIACyAGQQ9qQf8BcUECSyAEQUBOcg0DDAILIARB8ABqQf8BcUEwTw0CDAELIARBj39KDQELIAIgA0EC
aiIETQRAQgAhCQwFCyABIARqLAAAQb9/Sg0CQgAhCSADQQNqIgQgAk8NBCABIARqLAAAQb9/TA0FQoCAgICA4AAMAwtCgICAgIAg
DAILQgAhCSADQQJqIgQgAk8NAiABIARqLAAAQb9/TA0DC0KAgICAgMAACyEKQoCAgIAQIQkLIAAgCiADrYQgCYQ3AgQgAEEBNgIA
DwsgBEEBaiEDDAILIANBAWohAwwBCyACIANNDQADQCABIANqLAAAQQBIDQEgAiADQQFqIgNHDQALDAILIAIgA0sNAAsLIAAgATYC
BCAAQQhqIAI2AgAgAEEANgIAC6YEARt/IAAgACgCHCIBIAAoAgQiBHMiByAAKAIQIgUgACgCCCIKcyIMcyIRIAAoAgxzIgggACgC
GCIGcyILIAEgBXMiEnMiCSAGIAAoAhRzIgJzIgMgBCACIAAoAgAiBHMiBnMiEyAGcXMgAyAHcSINcyAHcyAJIBJxIg4gAiAIIApz
IgJzIgggCXMiFyAMcXMiD3MiECAPIAIgEXEiDyALIAIgBHMiGCATIAEgCnMiCnMiGXFzc3MiFHEiCyAIIApxIA5zIg4gDyAFIAZz
Ig8gBHEgCnMgCHNzcyIFcyAOIA0gAyAEIAlzIg0gASAGcyIOcXNzIAFzcyIBIBBzcSIVIAtzIAFxIhYgEHMiECACcSIaIAQgASAV
cyIEcXMiFSAFIAEgC3MiAiAFIBRzIgVxcyIBIA1xcyADIAIgFnMgAXEgBXMiAyABcyILcSINcyIUIAMgE3FzIAwgAyAEIBBzIgJz
IgUgASAEcyIMcyITcSAMIBJxIhJzIhZzIhsgDSADIAZxcyIGIBMgF3FzIgMgByALcSIHIAUgCHEgFXNzcyIIczYCBCAAIAcgG3M2
AgAgACAWIAIgGXFzIgcgECARcXMiESADIAkgDHFzIglzNgIcIAAgCCABIA5xcyIDIAUgCnEgEnMgCXNzNgIUIAAgAiAYcSAacyAG
cyARcyIBNgIQIAAgByAEIA9xcyADczYCCCAAIAEgCXM2AhggACABIBRzNgIMC4YFAQp/IwBBMGsiAyQAIANBJGogATYCACADQQM6
ACwgA0EgNgIcIANBADYCKCADIAA2AiAgA0EANgIUIANBADYCDAJ/AkACQAJAIAIoAhAiCkUEQCACQQxqKAIAIgBFDQEgAigCCCEB
IABBA3QhBSAAQQFrQf////8BcUEBaiEHIAIoAgAhAANAIABBBGooAgAiBARAIAMoAiAgACgCACAEIAMoAiQoAgwRAQANBAsgASgC
ACADQQxqIAFBBGooAgARAAANAyABQQhqIQEgAEEIaiEAIAVBCGsiBQ0ACwwBCyACQRRqKAIAIgBFDQAgAEEFdCELIABBAWtB////
P3FBAWohByACKAIIIQggAigCACEAA0AgAEEEaigCACIBBEAgAygCICAAKAIAIAEgAygCJCgCDBEBAA0DCyADIAUgCmoiAUEQaigC
ADYCHCADIAFBHGotAAA6ACwgAyABQRhqKAIANgIoIAFBDGooAgAhBkEAIQlBACEEAkACQAJAIAFBCGooAgBBAWsOAgACAQsgBkED
dCAIaiIMKAIEQS1HDQEgDCgCACgCACEGC0EBIQQLIAMgBjYCECADIAQ2AgwgAUEEaigCACEEAkACQAJAIAEoAgBBAWsOAgACAQsg
BEEDdCAIaiIGKAIEQS1HDQEgBigCACgCACEEC0EBIQkLIAMgBDYCGCADIAk2AhQgCCABQRRqKAIAQQN0aiIBKAIAIANBDGogASgC
BBEAAA0CIABBCGohACALIAVBIGoiBUcNAAsLIAcgAigCBE8NASADKAIgIAIoAgAgB0EDdGoiACgCACAAKAIEIAMoAiQoAgwRAQBF
DQELQQEMAQtBAAsgA0EwaiQAC4cVARV/IwBBIGsiAyQAIANBGGpCADcDACADQRBqQgA3AwAgA0EIakIANwMAIANCADcDACADIAIg
AkEQahAUIAFBwANqIQpBACECA0AgAiADaiITIBMoAgAgAiAKaigCAHM2AgAgAkEEaiICQSBHDQALIAMQCkEAIQIDQCACIANqIgog
CigCACIKIAogCkEEdnNBgJ6A+ABxIgpBBHRzIApzNgIAIAJBBGoiAkEgRw0ACyABQcACaiETIAFB4AJqIRQgAUGAA2ohFSABQaAD
aiEWQegAIQoCQANAQQAhAgNAIAIgA2oiBiAGKAIAIAIgFmooAgBzNgIAIAJBBGoiAkEgRw0ACyADIAMoAhgiBkEWd0G//vz5A3Eg
BkEed0HAgYOGfHFyIAZzIgkgAygCHCICcyIHIAJBFndBv/78+QNxIAJBHndBwIGDhnxxciACcyICIAMoAhAiBUEWd0G//vz5A3Eg
BUEed0HAgYOGfHFyIAVzIgwgAygCFCIEcyINcyILQQx3QY+evPgAcSALQRR3QfDhw4d/cXJzIAtzNgIcIAMgBiAEIARBFndBv/78
+QNxIARBHndBwIGDhnxxcnMiCHMiBiADKAIAIgRBFndBv/78+QNxIARBHndBwIGDhnxxciAEcyIPcyILIAtBDHdBj568+ABxIAtB
FHdB8OHDh39xcnMgAiAEcyILczYCACADIAYgCSAFIAMoAgwiBEEWd0G//vz5A3EgBEEed0HAgYOGfHFyIARzIg5zIAJzIhBzIgVB
DHdBj568+ABxIAVBFHdB8OHDh39xcnMgBXM2AhggAyANIAQgAygCCCIFQRZ3Qb/+/PkDcSAFQR53QcCBg4Z8cXIgBXMiCXMgAnMi
ESAHIAhzcyIEQQx3QY+evPgAcSAEQRR3QfDhw4d/cXJzIARzNgIUIAMgECAGIAdzIg0gDCAFIAMoAgQiBEEWd0G//vz5A3EgBEEe
d0HAgYOGfHFyIARzIghzIhJzcyIFQQx3QY+evPgAcSAFQRR3QfDhw4d/cXJzIAVzNgIQIAMgESAEIA9zIAJzIgUgBiAOc3MiAkEM
d0GPnrz4AHEgAkEUd0Hw4cOHf3FycyACczYCDCADIBIgByAJcyALcyICQQx3QY+evPgAcSACQRR3QfDhw4d/cXJzIAJzNgIIIAMg
BSAIIA1zIgJBDHdBj568+ABxIAJBFHdB8OHDh39xcnMgAnM2AgQgAxAKIApBCEYEQEEAIQIDQCACIANqIgogCigCACABIAJqKAIA
czYCACACQQRqIgJBIEcNAAsgACADEBUgA0EgaiQADwtBACECA0AgAiADaiIGIAYoAgAgAiAVaigCAHM2AgAgAkEEaiICQSBHDQAL
IApBEGshCyADIAMoAhgiB0EYdyAHcyIJIAMoAhwiAnMiBiACQRh3IAJzIgIgAygCECIFQRh3IAVzIgwgAygCFCIEcyINcyIIQRB3
cyAIczYCHCADIAcgBCAEQRh3cyIIcyIHIAMoAgAiBEEYdyAEcyIPcyIOQRB3IA5zIAIgBHMiDnM2AgAgAyAHIAkgBSADKAIMIgRB
GHcgBHMiEHMgAnMiEXMiBUEQd3MgBXM2AhggAyANIAQgAygCCCIFQRh3IAVzIglzIAJzIhIgBiAIc3MiBEEQd3MgBHM2AhQgAyAR
IAYgB3MiDSAMIAUgAygCBCIEQRh3IARzIghzIgVzcyIMQRB3cyAMczYCECADIBIgBCAPcyACcyICIAcgEHNzIgdBEHdzIAdzNgIM
IAMgBSAGIAlzIA5zIgZBEHdzIAZzNgIIIAMgAiAIIA1zIgZBEHdzIAZzNgIEIAMQCkEAIQIDQCACIANqIgYgBigCACACIBRqKAIA
czYCACACQQRqIgJBIEcNAAsgAyADKAIYIgZBEndBg4aMGHEgBkEad0H8+fNncXIgBnMiDCADKAIcIgJzIgcgAkESd0GDhowYcSAC
QRp3Qfz582dxciACcyICIAMoAhAiBUESd0GDhowYcSAFQRp3Qfz582dxciAFcyINIAMoAhQiBHMiCHMiCUEMd0GPnrz4AHEgCUEU
d0Hw4cOHf3FycyAJczYCHCADIAYgBCAEQRJ3QYOGjBhxIARBGndB/PnzZ3FycyIPcyIGIAMoAgAiBEESd0GDhowYcSAEQRp3Qfz5
82dxciAEcyIOcyIJIAlBDHdBj568+ABxIAlBFHdB8OHDh39xcnMgAiAEcyIJczYCACADIAYgDCAFIAMoAgwiBEESd0GDhowYcSAE
QRp3Qfz582dxciAEcyIQcyACcyIRcyIFQQx3QY+evPgAcSAFQRR3QfDhw4d/cXJzIAVzNgIYIAMgCCAEIAMoAggiBUESd0GDhowY
cSAFQRp3Qfz582dxciAFcyIMcyACcyISIAcgD3NzIgRBDHdBj568+ABxIARBFHdB8OHDh39xcnMgBHM2AhQgAyARIAYgB3MiCCAN
IAUgAygCBCIEQRJ3QYOGjBhxIARBGndB/PnzZ3FyIARzIg9zIhdzcyIFQQx3QY+evPgAcSAFQRR3QfDhw4d/cXJzIAVzNgIQIAMg
EiAEIA5zIAJzIgUgBiAQc3MiAkEMd0GPnrz4AHEgAkEUd0Hw4cOHf3FycyACczYCDCADIBcgByAMcyAJcyICQQx3QY+evPgAcSAC
QRR3QfDhw4d/cXJzIAJzNgIIIAMgBSAIIA9zIgJBDHdBj568+ABxIAJBFHdB8OHDh39xcnMgAnM2AgQgAxAKIApBGGsiCSALSw0B
QQAhAgNAIAIgA2oiBiAGKAIAIAIgE2ooAgBzNgIAIAJBBGoiAkEgRw0ACyATQYABayETIBRBgAFrIRQgFUGAAWshFSAWQYABayEW
IAMgAygCGCIGQRR3QY+evPgAcSAGQRx3QfDhw4d/cXIgBnMiCyADKAIcIgJzIgcgAkEUd0GPnrz4AHEgAkEcd0Hw4cOHf3FyIAJz
IgIgAygCECIFQRR3QY+evPgAcSAFQRx3QfDhw4d/cXIgBXMiDCADKAIUIgRzIg1zIghBEHdzIAhzNgIcIAMgBiAEIARBFHdBj568
+ABxIARBHHdB8OHDh39xcnMiCHMiBiADKAIAIgRBFHdBj568+ABxIARBHHdB8OHDh39xciAEcyIPcyIOQRB3IA5zIAIgBHMiDnM2
AgAgAyAGIAsgBSADKAIMIgRBFHdBj568+ABxIARBHHdB8OHDh39xciAEcyIQcyACcyIRcyIFQRB3cyAFczYCGCADIA0gBCADKAII
IgVBFHdBj568+ABxIAVBHHdB8OHDh39xciAFcyILcyACcyISIAcgCHNzIgRBEHdzIARzNgIUIAMgESAGIAdzIg0gDCAFIAMoAgQi
BEEUd0GPnrz4AHEgBEEcd0Hw4cOHf3FyIARzIghzIgVzcyIMQRB3cyAMczYCECADIBIgBCAPcyACcyICIAYgEHNzIgZBEHdzIAZz
NgIMIAMgBSAHIAtzIA5zIgZBEHdzIAZzNgIIIAMgAiAIIA1zIgZBEHdzIAZzNgIEIAMQCiAKQSBrIgpBeEcNAAtBeCAJQYyWwAAQ
OQALIAkgC0GclsAAEDkAC5UEAQt/IAAoAgQhCiAAKAIAIQsgACgCCCEMAkADQCAFDQECQAJAIAIgBEkNAANAIAEgBGohBQJAAkAC
QAJAIAIgBGsiBkEITwRAIAVBA2pBfHEiACAFRg0BIAAgBWsiAEUNAUEAIQMDQCADIAVqLQAAQQpGDQUgACADQQFqIgNHDQALIAAg
BkEIayIDSw0DDAILIAIgBEYEQCACIQQMBgtBACEDA0AgAyAFai0AAEEKRg0EIAYgA0EBaiIDRw0ACyACIQQMBQsgBkEIayEDQQAh
AAsDQCAAIAVqIgdBBGooAgAiCUGKlKjQAHNBgYKECGsgCUF/c3EgBygCACIHQYqUqNAAc0GBgoQIayAHQX9zcXJBgIGChHhxDQEg
AEEIaiIAIANNDQALCyAAIAZGBEAgAiEEDAMLA0AgACAFai0AAEEKRgRAIAAhAwwCCyAGIABBAWoiAEcNAAsgAiEEDAILIAMgBGoi
AEEBaiEEAkAgACACTw0AIAAgAWotAABBCkcNAEEAIQUgBCEDIAQhAAwDCyACIARPDQALC0EBIQUgAiIAIAgiA0YNAgsCQCAMLQAA
BEAgC0HUnMAAQQQgCigCDBEBAA0BCyABIAhqIQYgACAIayEHQQAhCSAMIAAgCEcEfyAGIAdqQQFrLQAAQQpGBSAJCzoAACADIQgg
CyAGIAcgCigCDBEBAEUNAQsLQQEhDQsgDQvPBAEEfyAAIAEQhAEhAgJAAkACQAJAAkACQAJAIAAQdQ0AIAAoAgAhAyAAEGoNASAB
IANqIQEgACADEIUBIgBBwKbAACgCAEYEQCACKAIEQQNxQQNHDQFBuKbAACABNgIAIAAgASACEE8PCyADQYACTwRAIAAQHAwBCyAA
QQxqKAIAIgQgAEEIaigCACIFRwRAIAUgBDYCDCAEIAU2AggMAQtBsKbAAEGwpsAAKAIAQX4gA0EDdndxNgIACyACEGUNAiACQcSm
wAAoAgBGDQQgAkHApsAAKAIARw0BQcCmwAAgADYCAEG4psAAQbimwAAoAgAgAWoiATYCACAAIAEQVA8LIAEgA2pBEGohAAwECyAC
EHQiAyABaiEBAkAgA0GAAk8EQCACEBwMAQsgAkEMaigCACIEIAJBCGooAgAiAkcEQCACIAQ2AgwgBCACNgIIDAELQbCmwABBsKbA
ACgCAEF+IANBA3Z3cTYCAAsgACABEFQgAEHApsAAKAIARw0BQbimwAAgATYCAA8LIAAgASACEE8LIAFBgAJPBEAgACABEB0PCyAB
QXhxQaikwABqIQICf0GwpsAAKAIAIgNBASABQQN2dCIBcUUEQEGwpsAAIAEgA3I2AgAgAgwBCyACKAIICyEBIAIgADYCCCABIAA2
AgwgACACNgIMIAAgATYCCA8LQcSmwAAgADYCAEG8psAAQbymwAAoAgAgAWoiATYCACAAIAFBAXI2AgQgAEHApsAAKAIARw0AQbim
wABBADYCAEHApsAAQQA2AgALC5ASAQ5/IwBBIGsiAyQAIANBGGpCADcDACADQRBqQgA3AwAgA0EIakIANwMAIANCADcDACADIAIg
AkEQahAUQQAhAgNAIAIgA2oiCiAKKAIAIAEgAmooAgBzNgIAIAJBBGoiAkEgRw0ACyABQYABaiEKIAFB4ABqIQ0gAUFAayEOIAFB
IGohD0EIIRADQCADEAwgAyADKAIYIgJBFndBv/78+QNxIAJBHndBwIGDhnxxciIGIAJzIgQgAygCHCICQRZ3Qb/+/PkDcSACQR53
QcCBg4Z8cXIiBSACcyICQQx3QY+evPgAcSACQRR3QfDhw4d/cXJzIAVzNgIcIAMgBiADKAIUIgVBFndBv/78+QNxIAVBHndBwIGD
hnxxciIHIAVzIgUgBEEMd0GPnrz4AHEgBEEUd0Hw4cOHf3Fyc3M2AhggAyADKAIQIgRBFndBv/78+QNxIARBHndBwIGDhnxxciIJ
IARzIgQgBUEMd0GPnrz4AHEgBUEUd0Hw4cOHf3FycyAHczYCFCADIAMoAgQiBUEWd0G//vz5A3EgBUEed0HAgYOGfHFyIgsgBXMi
BSADKAIIIgZBFndBv/78+QNxIAZBHndBwIGDhnxxciIHIAZzIgZBDHdBj568+ABxIAZBFHdB8OHDh39xcnMgB3M2AgggAyADKAIA
IgdBFndBv/78+QNxIAdBHndBwIGDhnxxciIIIAdzIgdBDHdBj568+ABxIAdBFHdB8OHDh39xciAIcyACczYCACADIAkgAygCDCII
QRZ3Qb/+/PkDcSAIQR53QcCBg4Z8cXIiDCAIcyIIIARBDHdBj568+ABxIARBFHdB8OHDh39xcnNzIAJzNgIQIAMgBiAIQQx3QY+e
vPgAcSAIQRR3QfDhw4d/cXJzIAxzIAJzNgIMIAMgByAFQQx3QY+evPgAcSAFQRR3QfDhw4d/cXJzIAtzIAJzNgIEQQAhAgNAIAIg
A2oiBCAEKAIAIAIgD2ooAgBzNgIAIAJBBGoiAkEgRw0ACyAQQegARgRAQQAhAgNAIAIgA2oiCiAKKAIAIgogCiAKQQR2c0GAnoD4
AHEiCkEEdHMgCnM2AgAgAkEEaiICQSBHDQALIAFBwANqIQEgAxAMQQAhAgNAIAIgA2oiCiAKKAIAIAEgAmooAgBzNgIAIAJBBGoi
AkEgRw0ACyAAIAMQFSADQSBqJAAFIAMQDCADIAMoAhgiAkEUd0GPnrz4AHEgAkEcd0Hw4cOHf3FyIgUgAnMiBiADKAIcIgJBFHdB
j568+ABxIAJBHHdB8OHDh39xciIEIAJzIgJBEHdzIARzNgIcIAMgBSADKAIUIgRBFHdBj568+ABxIARBHHdB8OHDh39xciIHIARz
IgggBkEQd3NzNgIYIAMgByADKAIQIgRBFHdBj568+ABxIARBHHdB8OHDh39xciIFIARzIgYgCEEQd3NzNgIUIAMgAygCBCIEQRR3
QY+evPgAcSAEQRx3QfDhw4d/cXIiByAEcyIIIAMoAggiBEEUd0GPnrz4AHEgBEEcd0Hw4cOHf3FyIgkgBHMiC0EQd3MgCXM2Aggg
AyADKAIAIgRBFHdBj568+ABxIARBHHdB8OHDh39xciIJIARzIgxBEHcgCXMgAnM2AgAgAyAFIAMoAgwiBEEUd0GPnrz4AHEgBEEc
d0Hw4cOHf3FyIgkgBHMiBCAGQRB3c3MgAnM2AhAgAyALIARBEHdzIAlzIAJzNgIMIAMgDCAIQRB3cyAHcyACczYCBEEAIQIDQCAC
IANqIgQgBCgCACACIA5qKAIAczYCACACQQRqIgJBIEcNAAsgAxAMIAMgAygCGCICQRJ3QYOGjBhxIAJBGndB/PnzZ3FyIgYgAnMi
BCADKAIcIgJBEndBg4aMGHEgAkEad0H8+fNncXIiBSACcyICQQx3QY+evPgAcSACQRR3QfDhw4d/cXJzIAVzNgIcIAMgBiADKAIU
IgVBEndBg4aMGHEgBUEad0H8+fNncXIiByAFcyIFIARBDHdBj568+ABxIARBFHdB8OHDh39xcnNzNgIYIAMgAygCECIEQRJ3QYOG
jBhxIARBGndB/PnzZ3FyIgkgBHMiBCAFQQx3QY+evPgAcSAFQRR3QfDhw4d/cXJzIAdzNgIUIAMgAygCBCIFQRJ3QYOGjBhxIAVB
GndB/PnzZ3FyIgsgBXMiBSADKAIIIgZBEndBg4aMGHEgBkEad0H8+fNncXIiByAGcyIGQQx3QY+evPgAcSAGQRR3QfDhw4d/cXJz
IAdzNgIIIAMgAygCACIHQRJ3QYOGjBhxIAdBGndB/PnzZ3FyIgggB3MiB0EMd0GPnrz4AHEgB0EUd0Hw4cOHf3FyIAhzIAJzNgIA
IAMgCSADKAIMIghBEndBg4aMGHEgCEEad0H8+fNncXIiDCAIcyIIIARBDHdBj568+ABxIARBFHdB8OHDh39xcnNzIAJzNgIQIAMg
BiAIQQx3QY+evPgAcSAIQRR3QfDhw4d/cXJzIAxzIAJzNgIMIAMgByAFQQx3QY+evPgAcSAFQRR3QfDhw4d/cXJzIAtzIAJzNgIE
QQAhAgNAIAIgA2oiBCAEKAIAIAIgDWooAgBzNgIAIAJBBGoiAkEgRw0ACyADEAwgAyADKAIYIgJBGHciBCACcyIFIAMoAhwiAkEY
dyIGIAJzIgJBEHdzIAZzNgIcIAMgBCADKAIUIgZBGHciByAGcyIGIAVBEHdzczYCGCADIAcgAygCECIEQRh3IgUgBHMiBCAGQRB3
c3M2AhQgAyADKAIEIgZBGHciByAGcyIGIAMoAggiCEEYdyIJIAhzIghBEHdzIAlzNgIIIAMgAygCACIJQRh3IgsgCXMiCUEQdyAL
cyACczYCACADIAUgAygCDCILQRh3IgwgC3MiCyAEQRB3c3MgAnM2AhAgAyAIIAtBEHdzIAxzIAJzNgIMIAMgCSAGQRB3cyAHcyAC
czYCBEEAIQIDQCACIANqIgQgBCgCACACIApqKAIAczYCACACQQRqIgJBIEcNAAsgCkGAAWohCiANQYABaiENIA5BgAFqIQ4gD0GA
AWohDyAQQSBqIRAMAQsLC4gEAQh/IAEoAgQiBQRAIAEoAgAhBANAAkAgA0EBaiECAn8gAiADIARqLQAAIgjAIglBAE4NABoCQAJA
AkACQAJAAkACQAJAAkACQAJAIAhBjKDAAGotAABBAmsOAwABAgwLQYyiwAAgAiAEaiACIAVPGy0AAEHAAXFBgAFHDQsgA0ECagwK
C0GMosAAIAIgBGogAiAFTxssAAAhByAIQeABayIGRQ0BIAZBDUYNAgwDC0GMosAAIAIgBGogAiAFTxssAAAhBiAIQfABaw4FBAMD
AwUDCyAHQWBxQaB/Rw0IDAYLIAdBn39KDQcMBQsgCUEfakH/AXFBDE8EQCAJQX5xQW5HIAdBQE5yDQcMBQsgB0FATg0GDAQLIAlB
D2pB/wFxQQJLIAZBQE5yDQUMAgsgBkHwAGpB/wFxQTBPDQQMAQsgBkGPf0oNAwtBjKLAACAEIANBAmoiAmogAiAFTxstAABBwAFx
QYABRw0CQYyiwAAgBCADQQNqIgJqIAIgBU8bLQAAQcABcUGAAUcNAiADQQRqDAELQYyiwAAgBCADQQJqIgJqIAIgBU8bLQAAQcAB
cUGAAUcNASADQQNqCyIDIgIgBUkNAQsLIAAgAzYCBCAAIAQ2AgAgASAFIAJrNgIEIAEgAiAEajYCACAAIAIgA2s2AgwgACADIARq
NgIIDwsgAEEANgIAC/QGAgx/AX4jAEHQAGsiAyQAIANBPGogASACECYCQCADKAI8BEAgA0EoaiADQcQAaiILKAIAIgE2AgAgAyAD
KQI8Ig83AyBBACECIANBGGogAUEAEDwgA0EANgJEIAMgAykDGDcCPCADQRBqIgQgASAPpyIFajYCBCAEIAU2AgAgAygCECIBIAMo
AhQiDEcEQANAIAEtAAAiBEEEdkHkiMAAai0AAEEEdCAEQQ9xQeSIwABqLQAAciENIAMoAkAgAkYEfyMAQRBrIggkACAIQQhqIQog
A0E8aiEJQQAhBiMAQSBrIgUkAAJAIAIgAkEBaiIESw0AQQggCSgCBCICQQF0IgYgBCAEIAZJGyIEIARBCE0bIgRBf3NBH3YhBgJA
IAJFBEAgBUEANgIYDAELIAUgAjYCHCAFQQE2AhggBSAJKAIANgIUCyAFQRRqIQcgBUEIaiICAn8CQAJ/AkACQCAGBEAgBEEASA0B
IAcoAgQEQCAHQQhqKAIAIg4EQCAHKAIAIA4gBiAEEFkMBQsLIARFDQJB3aLAAC0AABogBCAGEGAMAwsgAkEANgIEIAJBCGogBDYC
AAwDCyACQQA2AgQMAgsgBgsiBwRAIAIgBzYCBCACQQhqIAQ2AgBBAAwCCyACIAY2AgQgAkEIaiAENgIAC0EBCzYCACAFKAIMIQYg
BSgCCARAIAVBEGooAgAhBAwBCyAJIAQ2AgQgCSAGNgIAQYGAgIB4IQYLIAogBDYCBCAKIAY2AgAgBUEgaiQAAkACQCAIKAIIIgJB
gYCAgHhHBEAgAkUNASACIAgoAgwQegALIAhBEGokAAwBCxBHAAsgAygCRAUgAgsgAygCPGogDToAACADIAMoAkRBAWoiAjYCRCAB
QQFqIgEgDEcNAAsLIANBOGogCygCACIBNgIAIAMgAykCPCIPNwMwIANBPGogD6cgARALIAMoAjwNASADKAJAIQIgA0EIaiADQcQA
aigCACIBQQAQPCADKAIMIQQgAygCCCACIAEQggEhAiAAIAE2AgggACAENgIEIAAgAjYCACADQTBqEFEgA0EgahBRIANB0ABqJAAP
CyADIAMpAkA3AzBB3IfAAEErIANBMGpBmIjAAEHUiMAAEDQACyADIAMpAkA3A0hB3IfAAEErIANByABqQYiIwABB9IjAABA0AAuk
AwENfyAAIAIoAAwiAyABKAAMIgRBAXZzQdWq1aoFcSIIIANzIgMgAigACCIFIAEoAAgiBkEBdnNB1arVqgVxIgkgBXMiBUECdnNB
s+bMmQNxIgsgA3MiAyACKAAEIgcgASgABCIKQQF2c0HVqtWqBXEiDCAHcyIHIAIoAAAiAiABKAAAIgFBAXZzQdWq1aoFcSINIAJz
IgJBAnZzQbPmzJkDcSIOIAdzIgdBBHZzQY+evPgAcSIPIANzNgIcIAAgBCAIQQF0cyIDIAYgCUEBdHMiBEECdnNBs+bMmQNxIggg
A3MiAyAKIAxBAXRzIgYgASANQQF0cyIBQQJ2c0Gz5syZA3EiCSAGcyIGQQR2c0GPnrz4AHEiCiADczYCGCAAIAtBAnQgBXMiAyAO
QQJ0IAJzIgJBBHZzQY+evPgAcSIFIANzNgIUIAAgD0EEdCAHczYCDCAAIAhBAnQgBHMiAyAJQQJ0IAFzIgFBBHZzQY+evPgAcSIE
IANzNgIQIAAgCkEEdCAGczYCCCAAIAVBBHQgAnM2AgQgACAEQQR0IAFzNgIAC6QDAQ5/IAAgASgCHCICIAEoAhgiBEEBdnNB1arV
qgVxIgcgAnMiAiABKAIUIgUgASgCECIGQQF2c0HVqtWqBXEiCCAFcyIFQQJ2c0Gz5syZA3EiCSACcyICIAEoAgwiAyABKAIIIgtB
AXZzQdWq1aoFcSIMIANzIgMgASgCBCIKIAEoAgAiAUEBdnNB1arVqgVxIg0gCnMiCkECdnNBs+bMmQNxIg4gA3MiA0EEdnNBj568
+ABxIg8gAnM2ABwgACAJQQJ0IAVzIgIgDkECdCAKcyIFQQR2c0GPnrz4AHEiCSACczYAGCAAIA9BBHQgA3M2ABQgACAEIAdBAXRz
IgIgBiAIQQF0cyIEQQJ2c0Gz5syZA3EiByACcyICIAsgDEEBdHMiBiABIA1BAXRzIgFBAnZzQbPmzJkDcSIIIAZzIgZBBHZzQY+e
vPgAcSIDIAJzNgAMIAAgCUEEdCAFczYAECAAIAdBAnQgBHMiAiAIQQJ0IAFzIgFBBHZzQY+evPgAcSIEIAJzNgAIIAAgA0EEdCAG
czYABCAAIARBBHQgAXM2AAAL+wIBB38jAEEQayIEJAACQAJAAkACQAJAAkAgASgCBCICRQ0AIAEoAgAhBiACQQNxIQcCQCACQQRJ
BEBBACECDAELIAZBHGohAyACQXxxIQhBACECA0AgAygCACADQQhrKAIAIANBEGsoAgAgA0EYaygCACACampqaiECIANBIGohAyAI
IAVBBGoiBUcNAAsLIAcEQCAFQQN0IAZqQQRqIQMDQCADKAIAIAJqIQIgA0EIaiEDIAdBAWsiBw0ACwsgAUEMaigCAARAIAJBAEgN
ASAGKAIERSACQRBJcQ0BIAJBAXQhAgsgAg0BC0EBIQNBACECDAELIAJBAEgNAUHdosAALQAAGiACQQEQYCIDRQ0CCyAEQQA2Aggg
BCACNgIEIAQgAzYCACAEQbiZwAAgARANRQ0CQZiawABBMyAEQQ9qQcyawABB9JrAABA0AAsQRwALQQEgAhB6AAsgACAEKQIANwIA
IABBCGogBEEIaigCADYCACAEQRBqJAAL4wIBBX9BEEEIEFggAEsEQEEQQQgQWCEAC0EIQQgQWCEDQRRBCBBYIQJBEEEIEFghBAJA
QQBBEEEIEFhBAnRrIgVBgIB8IAQgAiADamprQXdxQQNrIgMgAyAFSxsgAGsgAU0NACAAQRAgAUEEakEQQQgQWEEFayABSxtBCBBY
IgNqQRBBCBBYakEEaxADIgJFDQAgAhCHASEBAkAgAEEBayIEIAJxRQRAIAEhAAwBCyACIARqQQAgAGtxEIcBIQJBEEEIEFghBCAB
EHQgAiAAQQAgAiABayAETRtqIgAgAWsiAmshBCABEGpFBEAgACAEEEwgASACEEwgASACEBAMAQsgASgCACEBIAAgBDYCBCAAIAEg
Amo2AgALAkAgABBqDQAgABB0IgJBEEEIEFggA2pNDQAgACADEIQBIQEgACADEEwgASACIANrIgMQTCABIAMQEAsgABCGASEGIAAQ
ahoLIAYLigMCBX8BfiMAQUBqIgUkAEEBIQcCQCAALQAEDQAgAC0ABSEJIAAoAgAiBigCHCIIQQRxRQRAIAYoAhRB25zAAEHYnMAA
IAkbQQJBAyAJGyAGQRhqKAIAKAIMEQEADQEgBigCFCABIAIgBigCGCgCDBEBAA0BIAYoAhRBqJzAAEECIAYoAhgoAgwRAQANASAD
IAYgBCgCDBEAACEHDAELIAlFBEAgBigCFEHdnMAAQQMgBkEYaigCACgCDBEBAA0BIAYoAhwhCAsgBUEBOgAbIAVBNGpBvJzAADYC
ACAFIAYpAhQ3AgwgBSAFQRtqNgIUIAUgBikCCDcCJCAGKQIAIQogBSAINgI4IAUgBigCEDYCLCAFIAYtACA6ADwgBSAKNwIcIAUg
BUEMaiIINgIwIAggASACEA8NACAFQQxqQaicwABBAhAPDQAgAyAFQRxqIAQoAgwRAAANACAFKAIwQeCcwABBAiAFKAI0KAIMEQEA
IQcLIABBAToABSAAIAc6AAQgBUFAayQAIAALiAQBBX8jAEEQayIDJAACQAJ/AkAgAUGAAU8EQCADQQA2AgwgAUGAEEkNASABQYCA
BEkEQCADIAFBP3FBgAFyOgAOIAMgAUEMdkHgAXI6AAwgAyABQQZ2QT9xQYABcjoADUEDDAMLIAMgAUE/cUGAAXI6AA8gAyABQQZ2
QT9xQYABcjoADiADIAFBDHZBP3FBgAFyOgANIAMgAUESdkEHcUHwAXI6AAxBBAwCCyAAKAIIIgIgACgCBEYEQCMAQSBrIgQkAAJA
AkAgAkEBaiICRQ0AQQggACgCBCIGQQF0IgUgAiACIAVJGyICIAJBCE0bIgVBf3NBH3YhAgJAIAZFBEAgBEEANgIYDAELIAQgBjYC
HCAEQQE2AhggBCAAKAIANgIUCyAEQQhqIAIgBSAEQRRqEC4gBCgCDCECIAQoAghFBEAgACAFNgIEIAAgAjYCAAwCCyACQYGAgIB4
Rg0BIAJFDQAgAiAEQRBqKAIAEHoACxBHAAsgBEEgaiQAIAAoAgghAgsgACACQQFqNgIIIAAoAgAgAmogAToAAAwCCyADIAFBP3FB
gAFyOgANIAMgAUEGdkHAAXI6AAxBAgshASABIAAoAgQgACgCCCICa0sEQCAAIAIgARAsIAAoAgghAgsgACgCACACaiADQQxqIAEQ
ggEaIAAgASACajYCCAsgA0EQaiQAQQALvgICBX8BfiMAQTBrIgQkAEEnIQICQCAAQpDOAFQEQCAAIQcMAQsDQCAEQQlqIAJqIgNB
BGsgACAAQpDOAIAiB0KQzgB+faciBUH//wNxQeQAbiIGQQF0QaqdwABqLwAAOwAAIANBAmsgBSAGQeQAbGtB//8DcUEBdEGqncAA
ai8AADsAACACQQRrIQIgAEL/wdcvViAHIQANAAsLIAenIgNB4wBLBEAgAkECayICIARBCWpqIAenIgMgA0H//wNxQeQAbiIDQeQA
bGtB//8DcUEBdEGqncAAai8AADsAAAsCQCADQQpPBEAgAkECayICIARBCWpqIANBAXRBqp3AAGovAAA7AAAMAQsgAkEBayICIARB
CWpqIANBMGo6AAALIAFBxJvAAEEAIARBCWogAmpBJyACaxAJIARBMGokAAuyAgEDfyMAQYABayIEJAACQAJAAn8CQCABKAIcIgJB
EHFFBEAgAkEgcQ0BIAA1AgAgARAaDAILIAAoAgAhAEEAIQIDQCACIARqQf8AakEwQdcAIABBD3EiA0EKSRsgA2o6AAAgAkEBayEC
IABBEEkgAEEEdiEARQ0ACyACQYABaiIAQYABSw0CIAFBqJ3AAEECIAIgBGpBgAFqQQAgAmsQCQwBCyAAKAIAIQBBACECA0AgAiAE
akH/AGpBMEE3IABBD3EiA0EKSRsgA2o6AAAgAkEBayECIABBEEkgAEEEdiEARQ0ACyACQYABaiIAQYABSw0CIAFBqJ3AAEECIAIg
BGpBgAFqQQAgAmsQCQsgBEGAAWokAA8LIABBgAFBmJ3AABA2AAsgAEGAAUGYncAAEDYAC7sCAQV/IAAoAhghAwJAAkAgACAAKAIM
RgRAIABBFEEQIABBFGoiASgCACIEG2ooAgAiAg0BQQAhAQwCCyAAKAIIIgIgACgCDCIBNgIMIAEgAjYCCAwBCyABIABBEGogBBsh
BANAIAQhBSACIgFBFGoiAiABQRBqIAIoAgAiAhshBCABQRRBECACG2ooAgAiAg0ACyAFQQA2AgALAkAgA0UNAAJAIAAgACgCHEEC
dEGYo8AAaiICKAIARwRAIANBEEEUIAMoAhAgAEYbaiABNgIAIAENAQwCCyACIAE2AgAgAQ0AQbSmwABBtKbAACgCAEF+IAAoAhx3
cTYCAA8LIAEgAzYCGCAAKAIQIgIEQCABIAI2AhAgAiABNgIYCyAAQRRqKAIAIgBFDQAgAUEUaiAANgIAIAAgATYCGAsLnwIBBH8g
AEIANwIQIAACf0EAIAFBgAJJDQAaQR8gAUH///8HSw0AGiABQQYgAUEIdmciAmt2QQFxIAJBAXRrQT5qCyIDNgIcIANBAnRBmKPA
AGohAgJAQbSmwAAoAgAiBEEBIAN0IgVxRQRAQbSmwAAgBCAFcjYCACACIAA2AgAMAQsgAigCACECIAMQUyEDAkACQCACEHQgAUYE
QCACIQMMAQsgASADdCEEA0AgAiAEQR12QQRxakEQaiIFKAIAIgNFDQIgBEEBdCEEIAMiAhB0IAFHDQALCyADKAIIIgEgADYCDCAD
IAA2AgggACADNgIMIAAgATYCCCAAQQA2AhgPCyAFIAA2AgALIAAgAjYCGCAAIAA2AgggACAANgIMC8QCAgR/AX4jAEFAaiIDJAAg
ACgCACEFIAACf0EBIAAtAAgNABogACgCBCIEKAIcIgZBBHFFBEBBASAEKAIUQducwABB5ZzAACAFG0ECQQEgBRsgBEEYaigCACgC
DBEBAA0BGiABIAQgAigCDBEAAAwBCyAFRQRAQQEgBCgCFEHmnMAAQQIgBEEYaigCACgCDBEBAA0BGiAEKAIcIQYLIANBAToAGyAD
QTRqQbycwAA2AgAgAyAEKQIUNwIMIAMgA0EbajYCFCADIAQpAgg3AiQgBCkCACEHIAMgBjYCOCADIAQoAhA2AiwgAyAELQAgOgA8
IAMgBzcCHCADIANBDGo2AjBBASABIANBHGogAigCDBEAAA0AGiADKAIwQeCcwABBAiADKAI0KAIMEQEACzoACCAAIAVBAWo2AgAg
A0FAayQAIAALXQEMf0GgpMAAKAIAIgIEQEGYpMAAIQYDQCACIgEoAgghAiABKAIEIQMgASgCACEEIAEoAgwaIAEhBiAFQQFqIQUg
Ag0ACwtB2KbAAEH/HyAFIAVB/x9NGzYCACAIC8YeAhB/A34jAEEgayIIJAAgCCACNgIYIAggAjYCFCAIIAE2AhAgCEEQahA+IAgo
AhghEyAIKAIQIQEgCCADBH8gCCAENgIYIAggBDYCFCAIIAM2AhAgCEEQahA+IAggCCgCGCICNgIMIAggAjYCCCAIKAIQBUEACzYC
BCAIQRBqIREjAEGgCWsiBSQAAkACQAJAAkACQCAIQQRqIgMoAgBFBEAgBUHwBGpB4InAAEEsEBMgBSgC8AQiAkUNASAFIAUoAvgE
Igc2AiwgBSAFKAL0BDYCKCAFIAI2AiQMAgsgBUGYAWogA0EIaigCACICNgIAIAUgAykCACIWNwOQASAFQfAEaiAWpyACEBMgBSgC
8AQiAgRAIAUgBSgC+AQiBzYCLCAFIAUoAvQENgIoIAUgAjYCJCAFQZABahBRDAILIAUoAvQEIQIgEUEANgIAIBEgAjYCBCAFQZAB
ahBRDAILIAUoAvQEIQIgEUEANgIAIBEgAjYCBAwBCyAHQSBHBEBBnIrAAEEJEAEhAiARQQA2AgAgESACNgIEIAVBJGoQUQwBCyAF
QcgAaiIHIAJBGGopAAA3AwAgBUFAayIEIAJBEGopAAA3AwAgBUE4aiIDIAJBCGopAAA3AwAgBSACKQAANwMwIAVBGGogE0EAEDwg
BSgCHCECIAUoAhggASATEIIBIQogBSATNgJcIAUgAjYCWCAFIAo2AlQgBUH4AGogBykDADcDACAFQfAAaiAEKQMANwMAIAVB6ABq
IAMpAwA3AwAgBSAFKQMwNwNgIAVBkAFqIAVB4ABqEAggBUEQaiATQXBxIg1BEGoiDkEBEDwgBSAONgKMASAFIAUoAhQ2AogBIAUg
BSgCECISNgKEASAOIBNJDQEgBUHwBGoiECAFQZABakHgAxCCARogBUGACWoiA0IANwAAIANBCGpCADcAACADIAogDWogE0EPcSIC
EIIBGiACIANqQRAgAmsiAiACEIEBGiAFQdgIaiAFQYgJaikAADcDACAFIAUpAIAJNwPQCCAFIBNBBHY2AogJIAUgEjYChAkgBSAK
NgKACSMAQUBqIgkkACADKAIIIhRBAXEgAygCBCEHIAMoAgAhBCAUQQJPBEAgFEEBdiEGIAQhAyAHIQIDQCAJQSBqIBAgAxARIAJB
GGogCUE4aikDADcAACACQRBqIAlBMGopAwA3AAAgAkEIaiAJQShqKQMANwAAIAIgCSkDIDcAACADQSBqIQMgAkEgaiECIAZBAWsi
Bg0ACwsEQCAJEE0gCUEIaiAEIBRB/v///wBxQQR0IgNqIgJBCGopAAA3AwAgCSACKQAANwMAIAlBIGogECAJEBEgAyAHaiICQQhq
IAlBKGopAAA3AAAgAiAJKQAgNwAACyAJQUBrJAAgEkUNASAFQeAIaiICEE0gBUHoCGogBUHYCGopAwA3AwAgBSAFKQPQCDcD4Agg
BUGACWogBUHwBGoiFCACEBEgDSASaiICQQhqIAVBiAlqKQAANwAAIAIgBSkAgAk3AAAgBUEIaiAOQQAQPCAFKAIMIQMgBSgCCCAS
IA4QggEhAiAFIA42AvgEIAUgAzYC9AQgBSACNgLwBCMAQTBrIgwkACAMQRBqIQYgFCgCCCIPIRBBqILAAC0AACEKIwBBIGsiDSQA
IBBBgICAgHxJIQQgEEEDbiICQQJ0IQMCQCAQIAJBA2xrIgdFBEAgAyECDAELAkACQAJAIApFBEBBAiECIAdBAWsOAgMCAQsgEEGA
gICAfEkgA0EEaiICIANPcSEEDAMLIA1BEGpCADcCACANQQE2AgggDUHgjsAANgIEIA0gDUEcajYCDCANQQRqQcyPwAAQSAALQQMh
AgsgAiADciECCyAGIAI2AgQgBiAENgIAIA1BIGokAAJAAkAgDCgCEARAIAxBCGogDCgCFCILQQEQPCAMKAIMIRAgDCgCCCEJQQAh
B0EAIQQCQAJAAkACfyAUKAIAIQ5BACECAkAgD0EbSQ0AIA9BGmsiAkEAIAIgD00bIQoCQANAIA8gB0Eaak8EQCAEQWBGDQIgCyAE
QSBqIgJJBEAgAiALQZSVwAAQOAALIAQgCWoiBiAHIA5qIgQpAAAiFUI4hiIWQjqIp0GrgsAAai0AADoAACAGQQRqIBVCgICA+A+D
QgiGIhdCIoinQauCwABqLQAAOgAAIAZBAWogFiAVQoD+A4NCKIaEIhZCNIinQT9xQauCwABqLQAAOgAAIAZBAmogFiAVQoCA/AeD
QhiGIBeEhCIXQi6Ip0E/cUGrgsAAai0AADoAACAGQQNqIBdCKIinQT9xQauCwABqLQAAOgAAIAZBBmogFUIIiEKAgID4D4MgFUIY
iEKAgPwHg4QgFUIoiEKA/gODIBVCOIiEhCIWpyIDQRZ2QT9xQauCwABqLQAAOgAAIAZBB2ogA0EQdkE/cUGrgsAAai0AADoAACAG
QQVqIBYgF4RCHIinQT9xQauCwABqLQAAOgAAIAZBCGogBEEGaikAACIVQjiGIhZCOoinQauCwABqLQAAOgAAIAZBCWogFiAVQoD+
A4NCKIaEIhdCNIinQT9xQauCwABqLQAAOgAAIAZBCmogFyAVQoCAgPgPg0IIhiIWIBVCgID8B4NCGIaEhCIXQi6Ip0E/cUGrgsAA
ai0AADoAACAGQQtqIBdCKIinQT9xQauCwABqLQAAOgAAIAZBDGogFkIiiKdBq4LAAGotAAA6AAAgBkENaiAXIBVCCIhCgICA+A+D
IBVCGIhCgID8B4OEIBVCKIhCgP4DgyAVQjiIhIQiFoRCHIinQT9xQauCwABqLQAAOgAAIAZBDmogFqciA0EWdkE/cUGrgsAAai0A
ADoAACAGQQ9qIANBEHZBP3FBq4LAAGotAAA6AAAgBkEQaiAEQQxqKQAAIhVCOIYiFkI6iKdBq4LAAGotAAA6AAAgBkERaiAWIBVC
gP4Dg0IohoQiF0I0iKdBP3FBq4LAAGotAAA6AAAgBkESaiAXIBVCgICA+A+DQgiGIhYgFUKAgPwHg0IYhoSEIhdCLoinQT9xQauC
wABqLQAAOgAAIAZBE2ogF0IoiKdBP3FBq4LAAGotAAA6AAAgBkEUaiAWQiKIp0GrgsAAai0AADoAACAGQRZqIBVCCIhCgICA+A+D
IBVCGIhCgID8B4OEIBVCKIhCgP4DgyAVQjiIhIQiFqciA0EWdkE/cUGrgsAAai0AADoAACAGQRdqIANBEHZBP3FBq4LAAGotAAA6
AAAgBkEVaiAWIBeEQhyIp0E/cUGrgsAAai0AADoAACAGQRhqIARBEmopAAAiFUI4hiIWQjqIp0GrgsAAai0AADoAACAGQRlqIBYg
FUKA/gODQiiGhCIXQjSIp0E/cUGrgsAAai0AADoAACAGQRpqIBcgFUKAgID4D4NCCIYiFiAVQoCA/AeDQhiGhIQiF0IuiKdBP3FB
q4LAAGotAAA6AAAgBkEbaiAXQiiIp0E/cUGrgsAAai0AADoAACAGQRxqIBZCIoinQauCwABqLQAAOgAAIAZBHWogFyAVQgiIQoCA
gPgPgyAVQhiIQoCA/AeDhCAVQiiIQoD+A4MgFUI4iISEIhaEQhyIp0E/cUGrgsAAai0AADoAACAGQR5qIBanIgNBFnZBP3FBq4LA
AGotAAA6AAAgBkEfaiADQRB2QT9xQauCwABqLQAAOgAAIAIhBCAKIAdBGGoiB08NAQwDCwsgB0EaaiAPQYSVwAAQOAALQWBBAEGU
lcAAEDkACwJAAkACQAJAAkACfwJAAkACQAJAAkACQCAPIA9BA3AiBmsiEiAHTQRAIAIhAwwBCwNAIAdBfEsNAiAHQQNqIgQgD0sN
AyACQQRqIQMgAkF7Sw0EIAMgC0sEQCADIAtB9JTAABA4AAsgAiAJaiINIAcgDmoiAi0AACIKQQJ2QauCwABqLQAAOgAAIA1BA2og
AkECai0AACIHQT9xQauCwABqLQAAOgAAIA1BAmogAkEBai0AACICQQJ0IAdBBnZyQT9xQauCwABqLQAAOgAAIA1BAWogCkEEdCAC
QQR2ckE/cUGrgsAAai0AADoAACADIQIgBCIHIBJJDQALCyAGQQFrDgIDBAYLIAcgB0EDakHklMAAEDkACyAHQQNqIA9B5JTAABA4
AAsgAiADQfSUwAAQOQALIAMgC0kEQEECIQcgAyAJaiAOIBJqLQAAIgJBAnZBq4LAAGotAAA6AAAgAkEEdEEwcSALIANBAWoiBEsN
AhogBCALQdSUwAAQNwALIAMgC0HElMAAEDcACyADIAtPDQIgAyAJaiAOIBJqLQAAIgJBAnZBq4LAAGotAAA6AAAgEkEBaiIKIA9P
DQMgA0EBaiIEIAtPDQRBAyEHIAQgCWogAkEEdCAKIA5qLQAAIgJBBHZyQT9xQauCwABqLQAAOgAAIANBAmoiBCALTw0FIAJBAnRB
PHELIQIgBCAJaiACQauCwABqLQAAOgAAIAMgB2ohAwsgAwwECyADIAtBhJTAABA3AAsgCiAPQZSUwAAQNwALIAQgC0GklMAAEDcA
CyAEIAtBtJTAABA3AAsiCkGogsAALQAABH8gCiALSw0BAn8gCSAKaiECIAsgCmshB0EAIQMCQEEAIAprQQNxIgQEQANAIAMgB0YN
AiACIANqQT06AAAgBCADQQFqIgNHDQALCyAEDAELIAcgB0Hcj8AAEDcACwVBAAsgCmpLDQEMAgsgCiALQdCFwAAQNgALQeCFwABB
KkGMhsAAED0ACyAMQRxqIAkgCxALIAwoAhwEQCAMKQIgIhZCgICAgPAfg0KAgICAIFINAgsgESALNgIIIBEgEDYCBCARIAk2AgAg
FBBRIAxBMGokAAwCC0GCh8AAQS1BsIfAABA9AAsgDCAWNwIoIAwgCzYCJCAMIBA2AiAgDCAJNgIcQcCHwABBDCAMQRxqQZCBwABB
zIfAABA0AAsgBUGEAWoQUSAFQdQAahBRIAVBJGoQUQsgBUGgCWokAAwBC0Hch8AAQSsgBUHwBGpBuIjAAEGMisAAEDQACyAIKAIY
IQIgCCgCFCEDIAgoAhAhBCATBEAgARAFCyAAIAQEfyAIIAI2AhggCCADNgIUIAggBDYCECAIQRBqED4gCCgCGCEBIAgoAhAhBEEA
IQNBAAVBAQs2AgwgACADNgIIIAAgATYCBCAAIAQ2AgAgCEEgaiQAC9wRAg1/AX4jAEEgayIHJAAgByACNgIYIAcgAjYCFCAHIAE2
AhAgB0EQahA+IAcoAhghDyAHKAIQIQEgByADBH8gByAENgIYIAcgBDYCFCAHIAM2AhAgB0EQahA+IAcgBygCGCICNgIMIAcgAjYC
CCAHKAIQBUEACzYCBCAHQRBqIQsjAEHgCGsiBSQAAkACQAJAIAdBBGoiAigCAEUEQCAFQfQEakHgicAAQSwQEyAFKAL0BCIDRQ0B
IAUgBSgC/AQiBDYCLCAFIAUoAvgENgIoIAUgAzYCJAwCCyAFQZgBaiACQQhqKAIAIgM2AgAgBSACKQIAIhI3A5ABIAVB9ARqIBKn
IAMQEyAFKAL0BCIDBEAgBSAFKAL8BCIENgIsIAUgBSgC+AQ2AiggBSADNgIkIAVBkAFqEFEMAgsgBSgC+AQhAiALQQA2AgAgCyAC
NgIEIAVBkAFqEFEMAgsgBSgC+AQhAiALQQA2AgAgCyACNgIEDAELAkACQAJAIARBIEYEQCAFQcgAaiIEIANBGGopAAA3AwAgBUFA
ayIJIANBEGopAAA3AwAgBUE4aiIGIANBCGopAAA3AwAgBSADKQAANwMwIAVB9ARqIAEgDxAmIAUoAvQEIgINAUG4isAAQRwQASEC
IAtBADYCACALIAI2AgQMAgtBnIrAAEEJEAEhAiALQQA2AgAgCyACNgIEDAELIAUgBSgC/AQiCjYCXCAFIAUoAvgENgJYIAUgAjYC
VCAFQfgAaiAEKQMANwMAIAVB8ABqIAkpAwA3AwAgBUHoAGogBikDADcDACAFIAUpAzA3A2AgBUGQAWoiAyAFQeAAahAIIAVBGGog
CkEBEDwgBSAKNgKMASAFIAUoAhw2AogBIAUgBSgCGCIJNgKEASAFQfQEaiADQeADEIIBGgJAIApBD3ENACAFIAk2AtgIIAUgAjYC
1AggBSAKQQR2Igw2AtwIIAVB9ARqIQ4jAEFAaiIIJAAgBUHUCGoiAigCCCINQQFxIAIoAgQhAyACKAIAIQYgDUECTwRAIA1BAXYh
ECAGIQQgAyECA0AgCEEgaiAOIAQQDiACQRhqIAhBOGopAwA3AAAgAkEQaiAIQTBqKQMANwAAIAJBCGogCEEoaikDADcAACACIAgp
AyA3AAAgBEEgaiEEIAJBIGohAiAQQQFrIhANAAsLBEAgCBBNIAhBCGogBiANQf7///8AcUEEdCICaiIEQQhqKQAANwMAIAggBCkA
ADcDACAIQSBqIA4gCBAOIAIgA2oiAkEIaiAIQShqKQAANwAAIAIgCCkAIDcAAAsgCEFAayQAIAVBEGohCCAJIQJBACEDQQAhBgJA
AkACQCAMRQ0AIAxBBHQgAmpBEGstAA8iBEERa0H/AXFB8AFJDQBBACAEayEDQRAgBGsgAiAMQQR0aiEOAkADQCADQX9GDQEgAyAO
aiEGIANBAWohAyAGLQAAIARGDQALQQAhAwwBC0ERTw0BIAxBBHQgBGshBiACIQMLIAggBjYCBCAIIAM2AgAMAQtB5YDAAEEZQYCB
wAAQQwALIAUoAhBFDQACQCAKRQRAQQAhBgwBCyAKIAkgCmpBAWstAAAiAmshBiACIApLDQMLIAVB9ARqIQhBACEEIwBB8ABrIgMk
ACADQShqIgIgBjYCBCACIAk2AgAgAyADKQMoNwI0IANB0ABqIANBNGoQEgJAAkACQAJAIAMoAlAEQCADQegAaiADQdgAaikCADcD
ACADIAMpAlA3A2AgA0EgaiADQeAAaiICEH4gAygCJCEJIAMoAiAhCiADQRhqIAIQfyADKAIcRQRAIAggCjYCBCAIQQA2AgAgCEEI
aiAJNgIADAILAkAgBkUEQEEBIQIMAQsgBkEASA0DQd2iwAAtAAAaIAZBARBgIgJFDQQLIANBADYCRCADIAI2AjwgAyAGNgJAIAYg
CUkEfyADQTxqQQAgCRAtIAMoAkQhBCADKAI8BSACCyAEaiAKIAkQggEaIAMgBCAJaiIGNgJEIAMoAkAgBmtBAk0EQCADQTxqIAZB
AxAtIAMoAkQhBgsgAygCPCICIAZqIgRBhJvAAC8AACIJOwAAIARBAmpBhpvAAC0AACIKOgAAIAMgBkEDaiIGNgJEIAMgAykCNDcC
SCADQdAAaiADQcgAahASIAMoAlAEQANAIANB6ABqIANB2ABqKQIANwMAIAMgAykCUDcDYCADQRBqIANB4ABqEH4gAygCECEMIAMo
AhQiBCADKAJAIAZrSwRAIANBPGogBiAEEC0gAygCRCEGIAMoAjwhAgsgAiAGaiAMIAQQggEaIAMgBCAGaiIGNgJEIANBCGogA0Hg
AGoQfyADKAIMBEAgAygCQCAGa0ECTQRAIANBPGogBkEDEC0gAygCRCEGCyADKAI8IgIgBmoiBCAJOwAAIARBAmogCjoAACADIAZB
A2oiBjYCRAsgA0HQAGogA0HIAGoQEiADKAJQDQALCyAIIAMpAjw3AgAgCEEIaiADQcQAaigCADYCAAwBCyAIQbiZwAA2AgQgCEEA
NgIAIAhBCGpBADYCAAsgA0HwAGokAAwCCxBHAAtBASAGEHoACwJAIAUoAvQEIgNFBEAgBSgC+AQhBCAFQQhqIAVB/ARqKAIAIgZB
ABA8IAUoAgwhAiAFKAIIIgMgBCAGEIIBGgwBCyAFKAL8BCEGIAUoAvgEIQILIAsgBjYCCCALIAI2AgQgCyADNgIAIAVBhAFqEFEg
BUHUAGoQUSAFQSRqEFEMAwtB1IrAAEEeEAEhAiALQQA2AgAgCyACNgIEIAVBhAFqEFEgBUHUAGoQUQsgBUEkahBRDAELIAYgCkGo
isAAEDgACyAFQeAIaiQAIAcoAhghAiAHKAIUIQMgBygCECEEIA8EQCABEAULIAAgBAR/IAcgAjYCGCAHIAM2AhQgByAENgIQIAdB
EGoQPiAHKAIYIQEgBygCECEEQQAhA0EABUEBCzYCDCAAIAM2AgggACABNgIEIAAgBDYCACAHQSBqJAALjQIBAn8jAEEQayICJAAC
QCAAKAIAIgMtAABFBEAgASgCFEGNosAAQQQgAUEYaigCACgCDBEBACEADAELQQEhACACIANBAWo2AgAgAiABKAIUQZGiwABBBCAB
QRhqKAIAKAIMEQEAOgAMIAIgATYCCCACQQA6AA0gAkEANgIEIAJBBGogAkHsnMAAEB4gAi0ADCEBKAIAIgNFBEAgAUEARyEADAEL
IAENACACKAIIIQECQCADQQFHDQAgAi0ADUUNACABLQAcQQRxDQAgASgCFEHonMAAQQEgAUEYaigCACgCDBEBAA0BCyABKAIUQcSb
wABBASABQRhqKAIAKAIMEQEAIQALIAJBEGokACAAC/ABAgR/AX4jAEEwayICJAAgAUEEaiEEIAEoAgRFBEAgASgCACEDIAJBLGoi
BUEANgIAIAJCATcCJCACQSRqQaCXwAAgAxANGiACQSBqIAUoAgAiAzYCACACIAIpAiQiBjcDGCAEQQhqIAM2AgAgBCAGNwIACyAC
QRBqIgMgBEEIaigCADYCACABQQxqQQA2AgAgBCkCACEGIAFCATcCBEHdosAALQAAGiACIAY3AwhBDEEEEGAiAUUEQEEEQQwQegAL
IAEgAikDCDcCACABQQhqIAMoAgA2AgAgAEHQmMAANgIEIAAgATYCACACQTBqJAAL1wYBCn8jAEEQayIFJAAgBSACNgIIIAUgAjYC
BCAFIAE2AgAgBRA+IAUoAgghCyAFKAIAIQEgBSAENgIIIAUgBDYCBCAFIAM2AgAgBRA+IAUoAgAiDCEEIAUoAgghAyMAQfABayIC
JAAgAiALNgIEIAIgATYCACACIAM2AgwgAiAENgIIIAJBmAFqQYSJwABBLBATIAIoApgBRQRAIAIgAigCnAE2AkBB3IfAAEErIAJB
QGtBqIjAAEGwicAAEDQACyACQRhqIAJBoAFqKAIANgIAIAIgAikCmAE3AxAgAkHMAGpCAzcCACACQawBakEDNgIAIAJBpAFqIg1B
BDYCACACQQM2AkQgAkHAicAANgJAIAJBAzYCnAEgAiACQZgBaiIHNgJIIAIgAkEIajYCqAEgAiACQRBqIg42AqABIAIgAjYCmAEg
AkEcaiIEIAJBQGsiCRAWIAlBAEHAABCBARogAkGIAWpC/rnrxemOlZkQNwIAIAJCgcaUupbx6uZvNwKAASACQgA3ApABIAkgAigC
HCACKAIkECggBBBRIAcgCUHYABCCARogAkEoaiEKQQAhBCMAQdAAayIGJAAgBkEAQTgQgQEiBiAHKAJQIgg2AjggBiAHQdQAaigC
ADYCPCAHQfKKwABBOEH4ACAIQQN2QT9xIghBOEkbIAhrECgDQCAEIAZqIAQgB2ooAgA2AgAgBEEEaiIEQThHDQALIAdBQGsiCCAG
EAQgBkIANwNIIAZCADcDQEFwIQQDQCAEIAZqQdAAaiAEIAhqQRBqKAIANgIAIARBBGoiBA0ACyAKIAYpA0g3AAggCiAGKQNANwAA
IAZB0ABqJAAgDUIBNwIAIAJBATYCnAEgAkHYicAANgKYASACQQU2AjwgAiACQThqNgKgASACIAo2AjggCSAHEBYgBUEIaiACQcgA
aigCADYCACAFIAIpA0A3AgAgDhBRIAJB8AFqJAAgBSgCCCEGIAUoAgQhBCAFKAIAIQIgAwRAIAwQBQsgCwRAIAEQBQsgACACBH8g
BSAGNgIIIAUgBDYCBCAFIAI2AgAgBRA+IAUoAgghASAFKAIAIQNBACEEQQAFQQELNgIMIAAgBDYCCCAAIAE2AgQgACADNgIAIAVB
EGokAAvaAQEBfyMAQRBrIgUkACAFIAAoAhQgASACIABBGGooAgAoAgwRAQA6AAwgBSAANgIIIAUgAkU6AA0gBUEANgIEIAVBBGog
A0Hsj8AAEB4gBEHYi8AAEB4hAAJ/IAUtAAwiAUEARyAAKAIAIgJFDQAaQQEgAQ0AGiAFKAIIIQACQCACQQFHDQAgBS0ADUUNACAA
LQAcQQRxDQBBASAAKAIUQeicwABBASAAQRhqKAIAKAIMEQEADQEaCyAAKAIUQcSbwABBASAAQRhqKAIAKAIMEQEACyAFQRBqJAAL
jSICEX8IfiMAQTBrIgkkACAJQQhqIhEgAkEDdiACQQdxIgNBAEdqNgIAIBEgAkECdiACQQNxQQBHakEDbDYCBCAJIAkpAwg3AhAg
CSAJQRBqKAIEIg5BARA8IAkgDjYCICAJIAkoAgQ2AhwgCSAJKAIAIhE2AhggCUEkaiEGIAEhDCAJKAIQIQogCSgCFBpBqoLAAC0A
ACETQamCwAAtAAAhEgJAAkACQAJAAkACQAJAAkACQAJAAkAgAw4GAAUBAgMFBAtBCCEDDAMLQQohAwwCC0ELIQMMAQtBDCEDC0EA
IQEgAiADayIEQQAgAiAETxsiD0EgTw0BDAMLIAJFDQEgDCACQQFrIgFqLQAAIgJBPUYNASACQeuCwABqLQAAQf8BRw0BIAZBADoA
BCAGQQI2AgAgBkEIaiABNgIAIAZBBWogAjoAAAwECyAPQSBrIQsCQAJAAkACQANAIAVBYEYNASAFQSBqIgEgAksNAiAIQRpqIA5L
DQMCQAJAIAUgDGoiBy0AACIDQeuCwABqMQAAIhlC/wFRDQAgB0EBai0AACIDQeuCwABqMQAAIhdC/wFRBEAgBUEBaiEFDAELIAdB
AmotAAAiA0HrgsAAajEAACIYQv8BUQRAIAVBAmohBQwBCyAHQQNqLQAAIgNB64LAAGoxAAAiGkL/AVEEQCAFQQNqIQUMAQsgB0EE
ai0AACIDQeuCwABqMQAAIhRC/wFRBEAgBUEEaiEFDAELIAdBBWotAAAiA0HrgsAAajEAACIVQv8BUQRAIAVBBWohBQwBCyAHQQZq
LQAAIgNB64LAAGoxAAAiG0L/AVEEQCAFQQZqIQUMAQsgB0EHai0AACIDQeuCwABqMQAAIhZC/wFSDQEgBUEHaiEFCyAGQQI2AgAg
BiADrUIIhiAFrUIghoQ3AgQMCQsgCCARaiINIBdCNIYgGUI6hoQiFyAYQi6GhCIYIBpCKIaEIBRCIoaEIhQgFUIchoQiFSAbQhaG
hCAWQhCGhCIWQoD+A4NCKIYgFkKAgPwHg0IYhiAWQoCAgPgPg0IIhoSEIBVCCIhCgICA+A+DIBRCGIhCgID8B4OEIBhCKIhCgP4D
gyAXQjiIhISENwAAQQghAyAHQQhqLQAAIgRB64LAAGoxAAAiGUL/AVENBEEJIQMgB0EJai0AACIEQeuCwABqMQAAIhdC/wFRDQRB
CiEDIAdBCmotAAAiBEHrgsAAajEAACIYQv8BUQ0EQQshAyAHQQtqLQAAIgRB64LAAGoxAAAiGkL/AVENBEEMIQMgB0EMai0AACIE
QeuCwABqMQAAIhRC/wFRDQRBDSEDIAdBDWotAAAiBEHrgsAAajEAACIVQv8BUQ0EQQ4hAyAHQQ5qLQAAIgRB64LAAGoxAAAiG0L/
AVENBEEPIQMgB0EPai0AACIEQeuCwABqMQAAIhZC/wFRDQQgDUEGaiAXQjSGIBlCOoaEIhcgGEIuhoQiGCAaQiiGhCAUQiKGhCIU
IBVCHIaEIhUgG0IWhoQgFkIQhoQiFkKA/gODQiiGIBZCgID8B4NCGIYgFkKAgID4D4NCCIaEhCAVQgiIQoCAgPgPgyAUQhiIQoCA
/AeDhCAYQiiIQoD+A4MgF0I4iISEhDcAAEEQIQMCQCAHQRBqLQAAIgRB64LAAGoxAAAiGUL/AVENAEERIQMgB0ERai0AACIEQeuC
wABqMQAAIhdC/wFRDQBBEiEDIAdBEmotAAAiBEHrgsAAajEAACIYQv8BUQ0AQRMhAyAHQRNqLQAAIgRB64LAAGoxAAAiGkL/AVEN
AEEUIQMgB0EUai0AACIEQeuCwABqMQAAIhRC/wFRDQBBFSEDIAdBFWotAAAiBEHrgsAAajEAACIVQv8BUQ0AQRYhAyAHQRZqLQAA
IgRB64LAAGoxAAAiG0L/AVENAEEXIQMgB0EXai0AACIEQeuCwABqMQAAIhZC/wFRDQAgDUEMaiAXQjSGIBlCOoaEIhcgGEIuhoQi
GCAaQiiGhCAUQiKGhCIUIBVCHIaEIhUgG0IWhoQgFkIQhoQiFkKA/gODQiiGIBZCgID8B4NCGIYgFkKAgID4D4NCCIaEhCAVQgiI
QoCAgPgPgyAUQhiIQoCA/AeDhCAYQiiIQoD+A4MgF0I4iISEhDcAAEEYIQMgB0EYai0AACIEQeuCwABqMQAAIhlC/wFRDQhBGSED
IAdBGWotAAAiBEHrgsAAajEAACIXQv8BUQ0IQRohAyAHQRpqLQAAIgRB64LAAGoxAAAiGEL/AVENCEEbIQMgB0Ebai0AACIEQeuC
wABqMQAAIhpC/wFRDQhBHCEDIAdBHGotAAAiBEHrgsAAajEAACIUQv8BUQ0IQR0hAyAHQR1qLQAAIgRB64LAAGoxAAAiFUL/AVEN
CEEeIQMgB0Eeai0AACIEQeuCwABqMQAAIhtC/wFRDQhBHyEDIAdBH2otAAAiBEHrgsAAajEAACIWQv8BUQ0IIA1BEmogF0I0hiAZ
QjqGhCIXIBhCLoaEIhggGkIohoQgFEIihoQiFCAVQhyGhCIVIBtCFoaEIBZCEIaEIhZCgP4Dg0IohiAWQoCA/AeDQhiGIBZCgICA
+A+DQgiGhIQgFUIIiEKAgID4D4MgFEIYiEKAgPwHg4QgGEIoiEKA/gODIBdCOIiEhIQ3AAAgCkEEayEKIAhBGGohCCALIAEiBUkN
BwwBCwsMBgtBYEEAQayRwAAQOQALIAEgAkGskcAAEDgACyAIQRpqIA5BvJHAABA4AAsMAgsgBkECNgIAIAZBAToABAwCCwJAAkAg
D0EISQ0AIAEgD0EIayIFTw0AAkACQAJAAkACQANAIAFBCGohBCABQXhGDQIgAiAESQ0DIAhBd0sNBCAIQQhqIA5LDQUgASAMaiIL
LQAAIgNB64LAAGoxAAAiGUL/AVENASALQQFqLQAAIgNB64LAAGoxAAAiF0L/AVEEQCABQQFyIQEMAgsgC0ECai0AACIDQeuCwABq
MQAAIhhC/wFRBEAgAUECciEBDAILIAtBA2otAAAiA0HrgsAAajEAACIaQv8BUQRAIAFBA3IhAQwCCyALQQRqLQAAIgNB64LAAGox
AAAiFEL/AVEEQCABQQRyIQEMAgsgC0EFai0AACIDQeuCwABqMQAAIhVC/wFRBEAgAUEFciEBDAILIAtBBmotAAAiA0HrgsAAajEA
ACIbQv8BUQRAIAFBBnIhAQwCCyALQQdqLQAAIgNB64LAAGoxAAAiFkL/AVIEQCAIIBFqIBdCNIYgGUI6hoQiFyAYQi6GhCIYIBpC
KIaEIBRCIoaEIhQgFUIchoQiFSAbQhaGhCAWQhCGhCIWQoD+A4NCKIYgFkKAgPwHg0IYhiAWQoCAgPgPg0IIhoSEIBVCCIhCgICA
+A+DIBRCGIhCgID8B4OEIBhCKIhCgP4DgyAXQjiIhISENwAAIApBAWshCiAIQQZqIQggBSAEIgFNDQgMAQsLIAFBB3IhAQsgBkEC
NgIAIAYgAa1CIIYgA61CCIaENwIEDAcLQXggBEHMkcAAEDkACyAEIAJBzJHAABA4AAsgCCAIQQhqQdyRwAAQOQALIAhBCGogDkHc
kcAAEDgACyABIQQLAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgCkECSQRAIAghCgwBCyAKQQFrIQUgAiAE
ayEDA0AgAiAESQ0DIAhBBmohCiAIQXlLDQQgCiAOSw0FIAIgBEYNBiAEIAxqIgstAAAiAUHrgsAAajEAACIZQv8BUQ0TIANBAkkN
ByALQQFqLQAAIgFB64LAAGoxAAAiGkL/AVENAiADQQJNDQggC0ECai0AACIBQeuCwABqMQAAIhtC/wFRDQkgA0EDTQ0KIAtBA2ot
AAAiAUHrgsAAajEAACIWQv8BUQ0LIANBBE0NDCALQQRqLQAAIgFB64LAAGoxAAAiF0L/AVENDSADQQVNDQ4gC0EFai0AACIBQeuC
wABqMQAAIhhC/wFRDQ8gA0EGTQ0QIAtBBmotAAAiAUHrgsAAajEAACIUQv8BUQ0RIANBB00NEiALQQdqLQAAIgFB64LAAGoxAAAi
FUL/AVEEQCAEQQdqIQQMFAsgCCARaiIBIBpCNIYgGUI6hoQgG0IuhoQgFkIohoQgF0IihoQgGEIchoQgFEIWhoQiFEIIiEKAgID4
D4MgFEIYiEKAgPwHg4QgFEIoiEKA/gODIBRCOIiEhD4AACABQQRqIBQgFUIQhoQiFUKAgPwHg0IYhiAVQoCAgPgPg0IIhoRCIIg9
AAAgA0EIayEDIARBCGohBCAKIQggBUEBayIFDQALCyASQQBHIRJBACENQQAhCEEAIQNCACEUQQAhB0EAIQEjAEEgayIQJAACQAJA
AkACQAJAIAIgBE8EQCACIARGBEBBACECDAMLIAIgDGohDyAEIAxqIQwDQEEAIQUDQCAFIAdqIQ0gBSAMaiILLQAAIgJBPUcEQAJA
IAVFBEAgAkHrgsAAajEAACIVQv8BUQ0BIA1BAWohByAVIAhBAWoiCEE6bEE+ca2GIBSEIRRBACENIAIhASALQQFqIgwgD0cNBAwH
CyAGQYD6ADsBBCAGQQI2AgAgBkEIaiADIARqNgIADAcLIAZBADoABCAGQQI2AgAgBkEFaiACOgAAIAZBCGogBCAHaiAFajYCAAwG
CyADIA0gBRshAyANQQJxBEAgDCAFQQFqIgVqIA9GDQQMAQsLCyAGQYD6ADsBBCAGQQI2AgAgBkEIaiADIARqNgIADAMLIAQgAkHo
jMAAEDYACyAPIAxrIQ0gASECCwJAAkACQAJAIBNBAWsOAgEAAwsgDQ0BDAILIAggDWpBA3FFDQEgBkECNgIAIAZBAzoABAwCCyAG
QQI2AgAgBkEDOgAEDAELQQAhBQJAAn8CQAJAAkACQAJAAkACQCAIIgwOCQgAAQIDAAQFBgALIBBBEGpCADcCACAQQQE2AgggEEGI
jsAANgIEIBAgEEEcajYCDCAQQQRqQZCOwAAQSAALQQgMBQtBEAwEC0EYDAMLQSAMAgtBKAwBC0EwCyEMQQEhBQsgEkUgFCAMrYZC
AFJxRQRAIAUEQCAKIA4gCiAOSxshAUEAIQJBOCEFA0AgASAKRg0EIAogEWogFCAFQThxrYg8AAAgBUEIayEFIApBAWohCiACQQhq
IgIgDEkNAAsLIAYgCjYCCCAGIAMgBGo2AgQgBiANQQBHNgIADAELIAZBAjoABCAGQQI2AgAgBkEFaiACOgAAIAZBCGogBCAIakEB
azYCAAsgEEEgaiQADAELIAEgDkH4jMAAEDcACwwTCyAEQQFqIQQMEAsgBCACQeyRwAAQNgALIAggCkH8kcAAEDkACyAKIA5B/JHA
ABA4AAtBAEEAQYySwAAQNwALQQFBAUGcksAAEDcAC0ECQQJBrJLAABA3AAsgBEECaiEEDAkLQQNBA0G8ksAAEDcACyAEQQNqIQQM
BwtBBEEEQcySwAAQNwALIARBBGohBAwFC0EFQQVB3JLAABA3AAsgBEEFaiEEDAMLQQZBBkHsksAAEDcACyAEQQZqIQQMAQtBB0EH
QfySwAAQNwALIAZBAjYCACAGIAGtQgiGIAStQiCGhDcCBAwBCyAGQQI2AgAgBiAErUIIhiADIAVqrUIghoQ3AgQLAkAgCSgCJEEC
RwRAIAlBLGooAgAiASAOTQRAIAkgATYCIAsgACAJKQIYNwIAIABBCGogCUEgaigCADYCAAwBCyAJKQIoIRUgAEEANgIAIAAgFTcC
BCAJQRhqEFELIAlBMGokAAvKAQACQAJAIAEEQCACQQBIDQECQAJAAn8gAygCBARAIANBCGooAgAiAUUEQCACRQRAQQEhAQwEC0Hd
osAALQAAGiACQQEQYAwCCyADKAIAIAFBASACEFkMAQsgAkUEQEEBIQEMAgtB3aLAAC0AABogAkEBEGALIgFFDQELIAAgATYCBCAA
QQhqIAI2AgAgAEEANgIADwsgAEEBNgIEDAILIABBADYCBAwBCyAAQQA2AgQgAEEBNgIADwsgAEEIaiACNgIAIABBATYCAAvFAQEE
fyMAQUBqIgMkACADQQBBwAAQgQEhAyAAIAAoAlAiBiACQQN0aiIENgJQIABB1ABqIgUgBSgCACACQR12aiAEIAZJajYCACACBEAg
ASACaiEEIABBQGshBSAGQQN2QT9xIQIDQCAAIAJqIAEtAAA6AAAgAkEBaiICQcAARgRAQQAhAgNAIAIgA2ogACACaigCADYCACAC
QQRqIgJBwABHDQALIAUgAxAEQQAhAgsgAUEBaiIBIARHDQALCyADQUBrJAALhAIBAn8jAEEgayIGJABBlKPAAEGUo8AAKAIAIgdB
AWo2AgACQAJAIAdBAEgNAEHgpsAALQAADQBB4KbAAEEBOgAAQdymwABB3KbAACgCAEEBajYCACAGIAU6AB0gBiAEOgAcIAYgAzYC
GCAGIAI2AhQgBkGYmcAANgIQIAZB9JbAADYCDEGEo8AAKAIAIgJBAEgNAEGEo8AAIAJBAWo2AgBBhKPAAEGMo8AAKAIABH8gBiAA
IAEoAhARAgAgBiAGKQMANwIMQYyjwAAoAgAgBkEMakGQo8AAKAIAKAIUEQIAQYSjwAAoAgBBAWsFIAILNgIAQeCmwABBADoAACAE
DQELAAsAC70BAQR/QXAhBCAAIAFBAnRqIQBB+AAgASABQfgATxtB+ABrIQYCQAJAA0AgASAEaiIDQfgATw0CIAUgBkYNASAAIABB
QGooAgAgACgCACACeEGDhowYcXMiA0ECdEH8+fNncSADQQR0QfDhw4d/cXMgA0EGdEHAgYOGfHFzIANzNgIAIARBAWohBCAAQQRq
IQAgBUEBayIFQXhHDQALDwsgASAFa0H4AEG8lsAAEDcACyADQfgAQayWwAAQNwAL2QEBAn8jAEEQayICJAAgAiAAQQRqNgIEIAEo
AhRBraLAAEEJIAFBGGooAgAoAgwRAQAhAyACQQA6AA0gAiADOgAMIAIgATYCCCACQQhqQbaiwABBCyAAQZiiwAAQGEHBosAAQQkg
AkEEakHMosAAEBghAyACLQAMIQACfyAAQQBHIAItAA1FDQAaQQEgAA0AGiADKAIAIgAtABxBBHFFBEAgACgCFEHjnMAAQQIgACgC
GCgCDBEBAAwBCyAAKAIUQeKcwABBASAAKAIYKAIMEQEACyACQRBqJAALyAEBAn8jAEEgayIDJAACQAJAIAEgASACaiIBSw0AQQgg
ACgCBCICQQF0IgQgASABIARJGyIBIAFBCE0bIgRBf3NBH3YhAQJAIAJFBEAgA0EANgIYDAELIAMgAjYCHCADQQE2AhggAyAAKAIA
NgIUCyADQQhqIAEgBCADQRRqEC4gAygCDCEBIAMoAghFBEAgACAENgIEIAAgATYCAAwCCyABQYGAgIB4Rg0BIAFFDQAgASADQRBq
KAIAEHoACxBHAAsgA0EgaiQAC8gBAQJ/IwBBIGsiAyQAAkACQCABIAEgAmoiAUsNAEEIIAAoAgQiAkEBdCIEIAEgASAESRsiASAB
QQhNGyIEQX9zQR92IQECQCACRQRAIANBADYCGAwBCyADIAI2AhwgA0EBNgIYIAMgACgCADYCFAsgA0EIaiABIAQgA0EUahAnIAMo
AgwhASADKAIIRQRAIAAgBDYCBCAAIAE2AgAMAgsgAUGBgICAeEYNASABRQ0AIAEgA0EQaigCABB6AAsQRwALIANBIGokAAusAQEB
fwJAAkAgAQRAIAJBAEgNAQJ/IAMoAgQEQAJAIANBCGooAgAiBEUEQAwBCyADKAIAIAQgASACEFkMAgsLIAEgAkUNABpB3aLAAC0A
ABogAiABEGALIgMEQCAAIAM2AgQgAEEIaiACNgIAIABBADYCAA8LIAAgATYCBCAAQQhqIAI2AgAMAgsgAEEANgIEIABBCGogAjYC
AAwBCyAAQQA2AgQLIABBATYCAAusAQEDfyMAQdAAayICJAADQAJAIAIgACADajYCDCACQQ02AiwgAkEBNgIkIAJBATYCFCACQbSL
wAA2AhAgAkEBNgIcIAIgAkEMajYCKCACQQM6AEwgAkEINgJIIAJCIDcCQCACQoCAgIAgNwI4IAJBAjYCMCACIAJBMGo2AiAgAiAC
QShqNgIYIAEgAkEQahBcIgQNACADQQFqIgNBEEcNAQsLIAJB0ABqJAAgBAuPAQEDfyMAQYABayIDJAAgAC0AACECQQAhAANAIAAg
A2pB/wBqQTBB1wAgAkEPcSIEQQpJGyAEajoAACAAQQFrIQAgAiIEQQR2IQIgBEEQTw0ACyAAQYABaiICQYABSwRAIAJBgAFBmJ3A
ABA2AAsgAUGoncAAQQIgACADakGAAWpBACAAaxAJIANBgAFqJAALkgEBAX8jAEFAaiICJAAgAkIANwM4IAJBOGogACgCABACIAJB
GGpCATcCACACIAIoAjwiADYCNCACIAA2AjAgAiACKAI4NgIsIAJBDjYCKCACQQI2AhAgAkHIi8AANgIMIAIgAkEsajYCJCACIAJB
JGo2AhQgASACQQxqEFwgAigCMARAIAIoAiwQBQsgAkFAayQAC4sBAQF/IwBBEGsiAiQAAn8CQAJAAkACQCAALQAAQQFrDgMBAgMA
CyACIABBAWo2AgggAUGJkMAAQQsgAEEEaiACQQhqECUMAwsgAUH8j8AAQQ0QVQwCCyACIABBAWo2AgwgAUGUkMAAQREgAEEEaiAC
QQxqECUMAQsgAUGlkMAAQQ4QVQsgAkEQaiQAC4wBAgN/AX4jAEEgayICJAAgAUEEaiEDIAEoAgRFBEAgASgCACEBIAJBHGoiBEEA
NgIAIAJCATcCFCACQRRqQaCXwAAgARANGiACQRBqIAQoAgAiATYCACACIAIpAhQiBTcDCCADQQhqIAE2AgAgAyAFNwIACyAAQdCY
wAA2AgQgACADNgIAIAJBIGokAAt9AQF/IwBBQGoiBSQAIAUgATYCDCAFIAA2AgggBSADNgIUIAUgAjYCECAFQSRqQgI3AgAgBUE8
akEuNgIAIAVBAjYCHCAFQaycwAA2AhggBUEvNgI0IAUgBUEwajYCICAFIAVBEGo2AjggBSAFQQhqNgIwIAVBGGogBBBIAAt4AQJ/
IAFBD2ohAiAAIAFBAnRqIQBBICEBAkACQANAIAJBCGtB+ABPDQIgAkH4AE8NASAAIAFqIgNBHGogA0EEaygCADYCACACQQFrIQIg
AUEEayIBDQALDwsgAkH4AEHclsAAEDcACyACQQhrQfgAQcyWwAAQNwALbAEBfyMAQTBrIgMkACADIAA2AgAgAyABNgIEIANBFGpC
AjcCACADQSxqQRI2AgAgA0ECNgIMIANBqJ/AADYCCCADQRI2AiQgAyADQSBqNgIQIAMgA0EEajYCKCADIAM2AiAgA0EIaiACEEgA
C2wBAX8jAEEwayIDJAAgAyABNgIEIAMgADYCACADQRRqQgI3AgAgA0EsakESNgIAIANBAjYCDCADQZicwAA2AgggA0ESNgIkIAMg
A0EgajYCECADIAM2AiggAyADQQRqNgIgIANBCGogAhBIAAtsAQF/IwBBMGsiAyQAIAMgADYCACADIAE2AgQgA0EUakICNwIAIANB
LGpBEjYCACADQQI2AgwgA0HIn8AANgIIIANBEjYCJCADIANBIGo2AhAgAyADQQRqNgIoIAMgAzYCICADQQhqIAIQSAALbAEBfyMA
QTBrIgMkACADIAA2AgAgAyABNgIEIANBFGpCAjcCACADQSxqQRI2AgAgA0ECNgIMIANB/J/AADYCCCADQRI2AiQgAyADQSBqNgIQ
IAMgA0EEajYCKCADIAM2AiAgA0EIaiACEEgAC/sDAgd/AX4jAEEQayIEJAAgACgCCCEGIAAoAgAhACABKAIUQdCbwABBASABQRhq
KAIAKAIMEQEAIQMgBEEEaiICQQA6AAUgAiADOgAEIAIgATYCACAGBEADQCAEIAA2AgwgBEEMaiEIIwBBQGoiASQAQQEhAwJAIARB
BGoiBS0ABA0AIAUtAAUhAwJAIAUoAgAiAigCHCIHQQRxRQRAIANFDQFBASEDIAIoAhRB25zAAEECIAJBGGooAgAoAgwRAQBFDQEM
AgsgA0UEQEEBIQMgAigCFEHpnMAAQQEgAkEYaigCACgCDBEBAA0CIAIoAhwhBwtBASEDIAFBAToAGyABQTRqQbycwAA2AgAgASAC
KQIUNwIMIAEgAUEbajYCFCABIAIpAgg3AiQgAikCACEJIAEgBzYCOCABIAIoAhA2AiwgASACLQAgOgA8IAEgCTcCHCABIAFBDGo2
AjAgCCABQRxqQbSZwAAoAgARAAANASABKAIwQeCcwABBAiABKAI0KAIMEQEAIQMMAQsgCCACQbSZwAAoAgARAAAhAwsgBUEBOgAF
IAUgAzoABCABQUBrJAAgAEEBaiEAIAZBAWsiBg0ACwsgBEEEaiIALQAEBH9BAQUgACgCACIAKAIUQfycwABBASAAQRhqKAIAKAIM
EQEACyAEQRBqJAALZwAjAEEwayIAJABB3KLAAC0AAARAIABBGGpCATcCACAAQQI2AhAgAEHcl8AANgIMIABBEjYCKCAAIAE2Aiwg
ACAAQSRqNgIUIAAgAEEsajYCJCAAQQxqQYSYwAAQSAALIABBMGokAAt3AAJAAkACQCABRQRAQQEhAgwBCyABQQBIDQECfyACRQRA
Qd2iwAAtAAAaIAFBARBgDAELAkAgARADIgJFDQAgAhCHARBqDQAgAkEAIAEQgQEaCyACCyICRQ0CCyAAIAE2AgQgACACNgIADwsQ
RwALQQEgARB6AAtbAQF/IwBBMGsiAyQAIAMgATYCDCADIAA2AgggA0EcakIBNwIAIANBATYCFCADQcibwAA2AhAgA0EvNgIsIAMg
A0EoajYCGCADIANBCGo2AiggA0EQaiACEEgAC7sCAQd/IwBBEGsiBSQAAkAgACgCCCIEIAAoAgRPDQAgBUEIaiEGIwBBIGsiASQA
AkAgBCAAKAIETQRAIAFBCGohAgJAIAAoAgQiA0UEQCACQQA2AgQMAQsgAiADNgIIIAJBATYCBCACIAAoAgA2AgALAkACQCABKAIM
IgJFDQAgAUEQaigCACEDIAEoAgghByAERQRAIAMEQCAHEAULIABCATcCAAwBCyAHIAMgAiAEEFkiA0UNASAAIAQ2AgQgACADNgIA
C0GBgICAeCECCyAGIAQ2AgQgBiACNgIAIAFBIGokAAwBCyABQRRqQgA3AgAgAUEBNgIMIAFBxIHAADYCCCABQZCBwAA2AhAgAUEI
akGYgsAAEEgACyAFKAIIIgBBgYCAgHhGDQAgACAFKAIMEHoACyAFQRBqJAALTwECfyAAKAIEIQIgACgCACEDAkAgACgCCCIALQAA
RQ0AIANB1JzAAEEEIAIoAgwRAQBFDQBBAQ8LIAAgAUEKRjoAACADIAEgAigCEBEAAAtCAQF/IAIgACgCBCAAKAIIIgNrSwRAIAAg
AyACECwgACgCCCEDCyAAKAIAIANqIAEgAhCCARogACACIANqNgIIQQALTQECf0HdosAALQAAGiABKAIEIQIgASgCACEDQQhBBBBg
IgFFBEBBBEEIEHoACyABIAI2AgQgASADNgIAIABB4JjAADYCBCAAIAE2AgALQgEBfyACIAAoAgQgACgCCCIDa0sEQCAAIAMgAhAt
IAAoAgghAwsgACgCACADaiABIAIQggEaIAAgAiADajYCCEEAC0cBAX8jAEEgayIDJAAgA0EMakIANwIAIANBATYCBCADQcSbwAA2
AgggAyABNgIcIAMgADYCGCADIANBGGo2AgAgAyACEEgAC+cBAQN/IwBBEGsiAyQAIAMgAEEMajYCDCMAQRBrIgIkACABKAIUQaSb
wABBDSABQRhqKAIAKAIMEQEAIQQgAkEAOgANIAIgBDoADCACIAE2AgggAkEIakGHm8AAQQUgAEG0m8AAEBhBjJvAAEEFIANBDGpB
lJvAABAYIQACfyACLQAMIgFBAEcgAi0ADUUNABpBASABDQAaIAAoAgAiAC0AHEEEcUUEQCAAKAIUQeOcwABBAiAAKAIYKAIMEQEA
DAELIAAoAhRB4pzAAEEBIAAoAhgoAgwRAQALIAJBEGokACADQRBqJAALNwACQCABaUEBR0GAgICAeCABayAASXINACAABEBB3aLA
AC0AABogACABEGAiAUUNAQsgAQ8LAAs5AAJAAn8gAkGAgMQARwRAQQEgACACIAEoAhARAAANARoLIAMNAUEACw8LIAAgAyAEIAEo
AgwRAQALPwEBfyMAQSBrIgAkACAAQRRqQgA3AgAgAEEBNgIMIABBgJrAADYCCCAAQbiZwAA2AhAgAEEIakGImsAAEEgAC8kCAQJ/
IwBBIGsiAiQAIAJBATsBHCACIAE2AhggAiAANgIUIAJB1JvAADYCECACQcSbwAA2AgwjAEEQayIBJAACQCACQQxqIgAoAgwiAgRA
IAAoAggiA0UNASABIAI2AgwgASAANgIIIAEgAzYCBCMAQRBrIgAkACABQQRqIgEoAgAiAkEMaigCACEDAkACfwJAAkAgAigCBA4C
AAEDCyADDQJBACECQfSWwAAMAQsgAw0BIAIoAgAiAygCBCECIAMoAgALIQMgACACNgIEIAAgAzYCACAAQfCYwAAgASgCBCIAKAII
IAEoAgggAC0AECAALQARECkACyAAQQA2AgQgACACNgIAIABBhJnAACABKAIEIgAoAgggASgCCCAALQAQIAAtABEQKQALQfSWwABB
K0GwmMAAEEMAC0H0lsAAQStBwJjAABBDAAstAAJAIANpQQFHQYCAgIB4IANrIAFJckUEQCAAIAEgAyACEFkiAA0BCwALIAALsgEB
A38gACgCACEAIAEQZ0UEQCABEGhFBEAgADEAACABEBoPCyMAQYABayIDJAAgAC0AACEAA0AgAiADakH/AGpBMEE3IABBD3EiBEEK
SRsgBGo6AAAgAkEBayECIAAiBEEEdiEAIARBEE8NAAsgAkGAAWoiAEGAAUsEQCAAQYABQZidwAAQNgALIAFBqJ3AAEECIAIgA2pB
gAFqQQAgAmsQCSADQYABaiQADwsgACABEDALpwIBA38gARBnRQRAIAEQaEUEQCAAIAEQbg8LIwBBgAFrIgMkACAAKAIAIQADQCAC
IANqQf8AakEwQTcgAEEPcSIEQQpJGyAEajoAACACQQFrIQIgAEEQSSAAQQR2IQBFDQALIAJBgAFqIgBBgAFLBEAgAEGAAUGYncAA
EDYACyABQaidwABBAiACIANqQYABakEAIAJrEAkgA0GAAWokAA8LIwBBgAFrIgMkACAAKAIAIQADQCACIANqQf8AakEwQdcAIABB
D3EiBEEKSRsgBGo6AAAgAkEBayECIABBEEkgAEEEdiEARQ0ACyACQYABaiIAQYABSwRAIABBgAFBmJ3AABA2AAsgAUGoncAAQQIg
AiADakGAAWpBACACaxAJIANBgAFqJAALJwAgACAAKAIEQQFxIAFyQQJyNgIEIAAgAWoiACAAKAIEQQFyNgIECycAIABCADcAACAA
QRhqQgA3AAAgAEEQakIANwAAIABBCGpCADcAAAsgAQF/AkAgACgCBCIBRQ0AIABBCGooAgBFDQAgARAFCwsjACACIAIoAgRBfnE2
AgQgACABQQFyNgIEIAAgAWogATYCAAseACAAIAFBA3I2AgQgACABaiIAIAAoAgRBAXI2AgQLEQAgACgCBARAIAAoAgAQBQsLGQEB
fyAAKAIQIgEEfyABBSAAQRRqKAIACwsSAEEZIABBAXZrQQAgAEEfRxsLFgAgACABQQFyNgIEIAAgAWogATYCAAsZACAAKAIUIAEg
AiAAQRhqKAIAKAIMEQEACxwAIAEoAhRBqKLAAEEFIAFBGGooAgAoAgwRAQALFAAgACgCACIAQYQBTwRAIAAQAAsLEAAgACABakEB
a0EAIAFrcQuLBgEGfwJ/IAAhBQJAAkACQAJAAkAgAkEJTwRAIAIgAxAXIgcNAUEADAYLQQhBCBBYIQBBFEEIEFghAUEQQQgQWCEC
QQBBEEEIEFhBAnRrIgRBgIB8IAIgACABamprQXdxQQNrIgAgACAESxsgA00NA0EQIANBBGpBEEEIEFhBBWsgA0sbQQgQWCECIAUQ
hwEiACAAEHQiBBCEASEBAkACQAJAAkACQAJAIAAQakUEQCACIARNDQQgAUHEpsAAKAIARg0GIAFBwKbAACgCAEYNAyABEGUNCSAB
EHQiBiAEaiIIIAJJDQkgCCACayEEIAZBgAJJDQEgARAcDAILIAAQdCEBIAJBgAJJDQggASACa0GBgAhJIAJBBGogAU1xDQQgASAA
KAIAIgFqQRBqIQQgAkEfakGAgAQQWCECDAgLIAFBDGooAgAiCSABQQhqKAIAIgFHBEAgASAJNgIMIAkgATYCCAwBC0GwpsAAQbCm
wAAoAgBBfiAGQQN2d3E2AgALQRBBCBBYIARNBEAgACACEIQBIQEgACACEEwgASAEEEwgASAEEBAgAA0JDAcLIAAgCBBMIAANCAwG
C0G4psAAKAIAIARqIgQgAkkNBQJAQRBBCBBYIAQgAmsiAUsEQCAAIAQQTEEAIQFBACEEDAELIAAgAhCEASIEIAEQhAEhBiAAIAIQ
TCAEIAEQVCAGIAYoAgRBfnE2AgQLQcCmwAAgBDYCAEG4psAAIAE2AgAgAA0HDAULQRBBCBBYIAQgAmsiAUsNACAAIAIQhAEhBCAA
IAIQTCAEIAEQTCAEIAEQEAsgAA0FDAMLQbymwAAoAgAgBGoiBCACSw0BDAILIAcgBSABIAMgASADSRsQggEaIAUQBQwCCyAAIAIQ
hAEhASAAIAIQTCABIAQgAmsiAkEBcjYCBEG8psAAIAI2AgBBxKbAACABNgIAIAANAgsgAxADIgFFDQAgASAFIAAQdEF4QXwgABBq
G2oiACADIAAgA0kbEIIBIAUQBQwCCyAHDAELIAAQahogABCGAQsLCwAgAQRAIAAQBQsLDwAgAEEBdCIAQQAgAGtyCxMAIAAoAhQg
AEEYaigCACABEA0LFAAgACgCACABIAAoAgQoAgwRAAALEAAgACgCACAAKAIEIAEQfQsQACAAKAIAIAAoAgggARB9CxkAAn8gAUEJ
TwRAIAEgABAXDAELIAAQAwsLIQAgAEKYo6rL4I761NYANwMIIABCq6qJm/b22twaNwMACyAAIABC5N7HhZDQhd59NwMIIABCwff5
6MyTstFBNwMACyIAIABCqrDurabN4qqqfzcDCCAAQrusqeeAuviazQA3AwALEwAgAEHgmMAANgIEIAAgATYCAAsNACAALQAEQQJx
QQF2CxAAIAEgACgCACAAKAIEEAYLDQAgAC0AHEEQcUEEdgsNACAALQAcQSBxQQV2CwoAQQAgAGsgAHELCwAgAC0ABEEDcUULDAAg
ACABQQNyNgIECw0AIAAoAgAgACgCBGoLDgAgACgCABoDQAwACwALCwAgADUCACABEBoLCwAgACMAaiQAIwALBgAgABBRCwsAIAAo
AgAgARAwCw0AIAFB7JbAAEEIEFULDQAgAEGgl8AAIAEQDQsKACAAKAIEQXhxCwoAIAAoAgRBAXELCgAgACgCDEEBcQsKACAAKAIM
QQF2CwsAIAAoAgAgARArCw0AIABBuJnAACABEA0LGQAgACABQYCjwAAoAgAiAEETIAAbEQIAAAuIBAEFfyMAQRBrIgMkAAJAAn8C
QCABQYABTwRAIANBADYCDCABQYAQSQ0BIAFBgIAESQRAIAMgAUE/cUGAAXI6AA4gAyABQQx2QeABcjoADCADIAFBBnZBP3FBgAFy
OgANQQMMAwsgAyABQT9xQYABcjoADyADIAFBBnZBP3FBgAFyOgAOIAMgAUEMdkE/cUGAAXI6AA0gAyABQRJ2QQdxQfABcjoADEEE
DAILIAAoAggiAiAAKAIERgRAIwBBIGsiBCQAAkACQCACQQFqIgJFDQBBCCAAKAIEIgZBAXQiBSACIAIgBUkbIgIgAkEITRsiBUF/
c0EfdiECAkAgBkUEQCAEQQA2AhgMAQsgBCAGNgIcIARBATYCGCAEIAAoAgA2AhQLIARBCGogAiAFIARBFGoQJyAEKAIMIQIgBCgC
CEUEQCAAIAU2AgQgACACNgIADAILIAJBgYCAgHhGDQEgAkUNACACIARBEGooAgAQegALEEcACyAEQSBqJAAgACgCCCECCyAAIAJB
AWo2AgggACgCACACaiABOgAADAILIAMgAUE/cUGAAXI6AA0gAyABQQZ2QcABcjoADEECCyEBIAEgACgCBCAAKAIIIgJrSwRAIAAg
AiABEC0gACgCCCECCyAAKAIAIAJqIANBDGogARCCARogACABIAJqNgIICyADQRBqJABBAAsNACAAQbycwAAgARANCwoAIAIgACAB
EAYLDAAgACABKQIANwMACwwAIAAgASkCCDcDAAu3AgEDfwJ/IAAoAgAhACMAQYABayIEJAACQAJAAn8CQCABKAIcIgNBEHFFBEAg
A0EgcQ0BIAAxAAAgARAaDAILIAAtAAAhAANAIAIgBGpB/wBqQTBB1wAgAEEPcSIDQQpJGyADajoAACACQQFrIQIgACIDQQR2IQAg
A0EQTw0ACyACQYABaiIAQYABSw0CIAFBqJ3AAEECIAIgBGpBgAFqQQAgAmsQCQwBCyAALQAAIQADQCACIARqQf8AakEwQTcgAEEP
cSIDQQpJGyADajoAACACQQFrIQIgACIDQQR2IQAgA0EQTw0ACyACQYABaiIAQYABSw0CIAFBqJ3AAEECIAIgBGpBgAFqQQAgAmsQ
CQsgBEGAAWokAAwCCyAAQYABQZidwAAQNgALIABBgAFBmJ3AABA2AAsLrwEBA38gASEFAkAgAkEQSQRAIAAhAQwBCyAAQQAgAGtB
A3EiA2ohBCADBEAgACEBA0AgASAFOgAAIAFBAWoiASAESQ0ACwsgBCACIANrIgJBfHEiA2ohASADQQBKBEAgBUH/AXFBgYKECGwh
AwNAIAQgAzYCACAEQQRqIgQgAUkNAAsLIAJBA3EhAgsgAgRAIAEgAmohAgNAIAEgBToAACABQQFqIgEgAkkNAAsLIAALuAIBB38C
QCACIgRBEEkEQCAAIQIMAQsgAEEAIABrQQNxIgNqIQUgAwRAIAAhAiABIQYDQCACIAYtAAA6AAAgBkEBaiEGIAJBAWoiAiAFSQ0A
CwsgBSAEIANrIghBfHEiB2ohAgJAIAEgA2oiA0EDcQRAIAdBAEwNASADQQN0IgRBGHEhCSADQXxxIgZBBGohAUEAIARrQRhxIQQg
BigCACEGA0AgBSAGIAl2IAEoAgAiBiAEdHI2AgAgAUEEaiEBIAVBBGoiBSACSQ0ACwwBCyAHQQBMDQAgAyEBA0AgBSABKAIANgIA
IAFBBGohASAFQQRqIgUgAkkNAAsLIAhBA3EhBCADIAdqIQELIAQEQCACIARqIQMDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiAD
SQ0ACwsgAAsLAEGEicAAQSwQAQsHACAAIAFqCwcAIAAgAWsLBwAgAEEIagsHACAAQQhrCwMAAQsL7SEEAEGAgMAAC/MKL1VzZXJz
L21hZ3Vhbmd6aGkvLmNhcmdvL3JlZ2lzdHJ5L3NyYy9pbmRleC5jcmF0ZXMuaW8tNmYxN2QyMmJiYTE1MDAxZi9ibG9jay1wYWRk
aW5nLTAuMy4zL3NyYy9saWIucnNhc3NlcnRpb24gZmFpbGVkOiBuIDw9IGJzAAAAABAAZQAAAFEAAAARAAAAAQAAABQAAAAEAAAA
AgAAAFRyaWVkIHRvIHNocmluayB0byBhIGxhcmdlciBjYXBhY2l0eaAAEAAkAAAAL3J1c3RjLzc5ZTk3MTZjOTgwNTcwYmZkMWY2
NjZlM2IxNmFjNTgzZjAxNjg5NjIvbGlicmFyeS9hbGxvYy9zcmMvcmF3X3ZlYy5yc8wAEABMAAAArgEAAAkAAAABAAFBQkNERUZH
SElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsv////////////////////////
/////////////////////////////////z7///8/NDU2Nzg5Ojs8Pf////////8AAQIDBAUGBwgJCgsMDQ4PEBESExQVFhcYGf//
/////xobHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIz////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////y9Vc2Vycy9tYWd1YW5nemhpLy5jYXJnby9yZWdpc3RyeS9zcmMvaW5kZXguY3JhdGVzLmlvLTZmMTdkMjJi
YmExNTAwMWYvYmFzZTY0LTAuMjEuMi9zcmMvZW5jb2RlLnJzAAAAawIQAGIAAABQAAAAMwAAAHVzaXplIG92ZXJmbG93IHdoZW4g
Y2FsY3VsYXRpbmcgYjY0IGxlbmd0aAAAawIQAGIAAABXAAAACgAAAC9Vc2Vycy9tYWd1YW5nemhpLy5jYXJnby9yZWdpc3RyeS9z
cmMvaW5kZXguY3JhdGVzLmlvLTZmMTdkMjJiYmExNTAwMWYvYmFzZTY0LTAuMjEuMi9zcmMvZW5naW5lL21vZC5yc2ludGVnZXIg
b3ZlcmZsb3cgd2hlbiBjYWxjdWxhdGluZyBidWZmZXIgc2l6ZQAcAxAAZgAAAHcAAAAOAAAASW52YWxpZCBVVEY4HAMQAGYAAAB8
AAAAIAAAAGNhbGxlZCBgUmVzdWx0Ojp1bndyYXAoKWAgb24gYW4gYEVycmAgdmFsdWUABgAAAAgAAAAEAAAABwAAAAYAAAAIAAAA
BAAAAAgAAAAJAAAABAAAAAQAAAAKAAAACwAAAAAAAAABAAAADAAAAHNyYy9saWIucnMAAEgEEAAKAAAAeQAAACUAAAADBQcADwoN
AQsOBAYJDAgCSAQQAAoAAAB7AAAAJwAAAEFMc1BEcnNPQjdDN0RBZTN1cjhNQ3dzQnNBRUh1Z0M2QXdBQUI3OEtBQTg9SAQQAAoA
AAAVAAAALwAAANwDEAAAAAAA3AMQAAAAAADcAxAAAAAAANwDEAAAAAAAdnd3THU3ZTZ1ZzRIQVFNQXVnOENzQThIRDdvSER3dXhB
ZzRIQVFHNkRMQT1IBBAACgAAADcAAAAKAAAARXJyb3IgS2V5AAAASAQQAAoAAABaAAAANgAAAEVycm9yIGRlY29kaW5nIGNpcGhl
ciB0ZXh0IDFFcnJvciBkZWNyeXB0aW5nIGNpcGhlciB0ZXh0IDKAAEG0i8AAC9gVsgUQAAAAAABKc1ZhbHVlKCkAAAC8BRAACAAA
AMQFEAABAAAADwAAAAQAAAAEAAAAEAAAAC9Vc2Vycy9tYWd1YW5nemhpLy5jYXJnby9yZWdpc3RyeS9zcmMvaW5kZXguY3JhdGVz
LmlvLTZmMTdkMjJiYmExNTAwMWYvYmFzZTY0LTAuMjEuMi9zcmMvZW5naW5lL2dlbmVyYWxfcHVycG9zZS9kZWNvZGVfc3VmZml4
LnJz6AUQAIAAAAAdAAAAGQAAAOgFEACAAAAAmgAAAAkAAABpbnRlcm5hbCBlcnJvcjogZW50ZXJlZCB1bnJlYWNoYWJsZSBjb2Rl
OiBJbXBvc3NpYmxlOiBtdXN0IG9ubHkgaGF2ZSAwIHRvIDggaW5wdXQgYnl0ZXMgaW4gbGFzdCBjaHVuaywgd2l0aCBubyBpbnZh
bGlkIGxlbmd0aHMAAIgGEAB+AAAA6AUQAIAAAACFAAAADgAAAGludGVybmFsIGVycm9yOiBlbnRlcmVkIHVucmVhY2hhYmxlIGNv
ZGU6IEltcG9zc2libGUgcmVtYWluZGVyAAAgBxAAPgAAAC9Vc2Vycy9tYWd1YW5nemhpLy5jYXJnby9yZWdpc3RyeS9zcmMvaW5k
ZXguY3JhdGVzLmlvLTZmMTdkMjJiYmExNTAwMWYvYmFzZTY0LTAuMjEuMi9zcmMvZW5jb2RlLnJzAABoBxAAYgAAAG4AAAAWAAAA
aAcQAGIAAACCAAAACQAAAA8AAAAEAAAABAAAABEAAABJbnZhbGlkTGVuZ3RoSW52YWxpZEJ5dGVJbnZhbGlkTGFzdFN5bWJvbElu
dmFsaWRQYWRkaW5nL1VzZXJzL21hZ3Vhbmd6aGkvLmNhcmdvL3JlZ2lzdHJ5L3NyYy9pbmRleC5jcmF0ZXMuaW8tNmYxN2QyMmJi
YTE1MDAxZi9iYXNlNjQtMC4yMS4yL3NyYy9lbmdpbmUvZ2VuZXJhbF9wdXJwb3NlL2RlY29kZS5yczMIEAB5AAAAcgAAACkAAAAz
CBAAeQAAAHMAAAAvAAAAMwgQAHkAAACZAAAAGwAAADMIEAB5AAAAnQAAABkAAAAzCBAAeQAAALAAAAATAAAAMwgQAHkAAACzAAAA
GAAAADMIEAB5AAAA2gAAAB8AAAAzCBAAeQAAAOAAAAAfAAAAMwgQAHkAAADpAAAAHwAAADMIEAB5AAAA8gAAAB8AAAAzCBAAeQAA
APsAAAAfAAAAMwgQAHkAAAAEAQAAHwAAADMIEAB5AAAADQEAAB8AAAAzCBAAeQAAABYBAAAfAAAAL1VzZXJzL21hZ3Vhbmd6aGkv
LmNhcmdvL3JlZ2lzdHJ5L3NyYy9pbmRleC5jcmF0ZXMuaW8tNmYxN2QyMmJiYTE1MDAxZi9iYXNlNjQtMC4yMS4yL3NyYy9lbmdp
bmUvZ2VuZXJhbF9wdXJwb3NlL21vZC5ycwAAjAkQAHYAAACUAAAADQAAAIwJEAB2AAAAlgAAAEAAAACMCRAAdgAAAJUAAAANAAAA
jAkQAHYAAACYAAAADQAAAIwJEAB2AAAAnAAAAA0AAACMCRAAdgAAAJ0AAAANAAAAjAkQAHYAAACFAAAAJQAAAIwJEAB2AAAAhgAA
ACsAAACMCRAAdgAAAD4AAAAbAAAAjAkQAHYAAABAAAAAIAAAAC9Vc2Vycy9tYWd1YW5nemhpLy5jYXJnby9yZWdpc3RyeS9zcmMv
aW5kZXguY3JhdGVzLmlvLTZmMTdkMjJiYmExNTAwMWYvYWVzLTAuOC4zL3NyYy9zb2Z0L2ZpeHNsaWNlMzIucnMApAoQAGcAAADd
AQAAKQAAAKQKEABnAAAA8gEAAC0AAACkChAAZwAAAIkEAAASAAAApAoQAGcAAACJBAAAPQAAAKQKEABnAAAAFAUAACIAAACkChAA
ZwAAABQFAAAJAAAAUGFkRXJyb3JjYWxsZWQgYE9wdGlvbjo6dW53cmFwKClgIG9uIGEgYE5vbmVgIHZhbHVlABQAAAAMAAAABAAA
ABUAAAAWAAAAFwAAAG1lbW9yeSBhbGxvY2F0aW9uIG9mICBieXRlcyBmYWlsZWQAALgLEAAVAAAAzQsQAA0AAABsaWJyYXJ5L3N0
ZC9zcmMvYWxsb2MucnPsCxAAGAAAAGIBAAAJAAAAbGlicmFyeS9zdGQvc3JjL3Bhbmlja2luZy5ycxQMEAAcAAAAUwIAAB8AAAAU
DBAAHAAAAFQCAAAeAAAAFAAAAAwAAAAEAAAAGAAAABkAAAAIAAAABAAAABoAAAAZAAAACAAAAAQAAAAbAAAAHAAAAB0AAAAQAAAA
BAAAAB4AAAAfAAAAIAAAAAAAAAABAAAAIQAAACIAAAAEAAAABAAAACMAAAAkAAAADAAAAAQAAAAlAAAAJgAAACcAAABsaWJyYXJ5
L2FsbG9jL3NyYy9yYXdfdmVjLnJzY2FwYWNpdHkgb3ZlcmZsb3cAAADsDBAAEQAAANAMEAAcAAAAFgIAAAUAAABhIGZvcm1hdHRp
bmcgdHJhaXQgaW1wbGVtZW50YXRpb24gcmV0dXJuZWQgYW4gZXJyb3IAKAAAAAAAAAABAAAAKQAAAGxpYnJhcnkvYWxsb2Mvc3Jj
L2ZtdC5yc1wNEAAYAAAAYgIAACAAAADvv71ieXRlc2Vycm9yAAAAIgAAAAQAAAAEAAAAKgAAAEZyb21VdGY4RXJyb3IAAAArAAAA
DAAAAAQAAAAsAAAAKQAAAMQNEAAAAAAAWwAAADAAAAAAAAAAAQAAADEAAABpbmRleCBvdXQgb2YgYm91bmRzOiB0aGUgbGVuIGlz
ICBidXQgdGhlIGluZGV4IGlzIAAA5A0QACAAAAAEDhAAEgAAADogAADEDRAAAAAAACgOEAACAAAAMgAAAAwAAAAEAAAAMwAAADQA
AAA1AAAAICAgICB7ICwgIHsKLAp9IH0oKAosCgAAMgAAAAQAAAAEAAAANgAAAF1saWJyYXJ5L2NvcmUvc3JjL2ZtdC9udW0ucnN9
DhAAGwAAAGkAAAAXAAAAMHgwMDAxMDIwMzA0MDUwNjA3MDgwOTEwMTExMjEzMTQxNTE2MTcxODE5MjAyMTIyMjMyNDI1MjYyNzI4
MjkzMDMxMzIzMzM0MzUzNjM3MzgzOTQwNDE0MjQzNDQ0NTQ2NDc0ODQ5NTA1MTUyNTM1NDU1NTY1NzU4NTk2MDYxNjI2MzY0NjU2
NjY3Njg2OTcwNzE3MjczNzQ3NTc2Nzc3ODc5ODA4MTgyODM4NDg1ODY4Nzg4ODk5MDkxOTI5Mzk0OTU5Njk3OTg5OXJhbmdlIHN0
YXJ0IGluZGV4ICBvdXQgb2YgcmFuZ2UgZm9yIHNsaWNlIG9mIGxlbmd0aCAAAHIPEAASAAAAhA8QACIAAAByYW5nZSBlbmQgaW5k
ZXgguA8QABAAAACEDxAAIgAAAHNsaWNlIGluZGV4IHN0YXJ0cyBhdCAgYnV0IGVuZHMgYXQgANgPEAAWAAAA7g8QAA0AAAABAQEB
AQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEB
AQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBBzqHAAAszAgICAgICAgICAgICAgICAgIC
AgICAgICAgICAgICAwMDAwMDAwMDAwMDAwMDAwQEBAQEAEGNosAAC0xOb25lU29tZQAAADIAAAAEAAAABAAAADcAAABFcnJvclV0
ZjhFcnJvcnZhbGlkX3VwX3RvZXJyb3JfbGVuAAAyAAAABAAAAAQAAAA4AHsJcHJvZHVjZXJzAghsYW5ndWFnZQEEUnVzdAAMcHJv
Y2Vzc2VkLWJ5AwVydXN0Yx0xLjc0LjAgKDc5ZTk3MTZjOSAyMDIzLTExLTEzKQZ3YWxydXMGMC4xOS4wDHdhc20tYmluZGdlbhIw
LjIuODcgKGYwYThhZTNiOSkALA90YXJnZXRfZmVhdHVyZXMCKw9tdXRhYmxlLWdsb2JhbHMrCHNpZ24tZXh0
`,ei=null,LA=null,MA=null,YO=null,$2=0,sc=new Array(132).fill(void 0);sc.push(void 0,null,!0,!1);var FA=sc.length;function Cfe(e){let t=sc[e];return e>=132&&(sc[e]=FA,FA=e),t}function KO(){return(MA===null||MA.byteLength===0)&&(MA=new Uint8Array(YO.buffer)),MA}function O2(){return(LA===null||LA.byteLength===0)&&(LA=new Int32Array(YO.buffer)),LA}function wfe(e,t){return e=e>>>0,Xo(KO().subarray(e,e+t))}function Ife(e,t,r){if(r===void 0){let a=h2(e),o=t(a.length,1)>>>0;return KO().subarray(o,o+a.length).set(a),$2=a.length,o}let n=h2(e),s=t(n.length,1)>>>0;return KO().subarray(s,s+n.length).set(n),$2=n.length,s}function unt(e){return e==null}function lnt(e){let t=atob(e.replace(/\s+/g,"")),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}async function dnt(){if(ei!==null)return ei;let e=lnt(cnt),t={wbg:{__wbindgen_object_drop_ref:n=>Cfe(n),__wbindgen_string_new:(n,s)=>{let a=wfe(n,s);FA===sc.length&&sc.push(sc.length+1);let o=FA;return FA=sc[o],sc[o]=a,o},__wbindgen_debug_string:()=>{}}};return ei=(await WebAssembly.instantiate(e,t)).instance.exports,YO=ei.memory,LA=null,MA=null,ei}function fnt(e,t){let r,n;try{let s=ei.__wbindgen_add_to_stack_pointer(-16),a=Ife(e,ei.__wbindgen_malloc,ei.__wbindgen_realloc),o=$2,c=unt(t)?0:Ife(t,ei.__wbindgen_malloc,ei.__wbindgen_realloc),u=$2;ei.gateway_decrypt(s,a,o,c,u);let l=O2()[s/4+0],d=O2()[s/4+1],f=O2()[s/4+2],p=O2()[s/4+3],m=l,h=d;if(p)throw m=0,h=0,Cfe(f);return r=m,n=h,wfe(m,h)}finally{ei.__wbindgen_add_to_stack_pointer(16),r!==void 0&&n!==void 0&&ei.__wbindgen_free(r,n,1)}}async function Sfe(e,t){return e=e.replace(/\s+/g,""),await dnt(),fnt(e,t)}Zr();zr();var WO=class extends Xe{async search(t){try{let r="https://jadeite.migu.cn/search/v3/open-search",n={appVersion:"6.1.1.00",ct:101,isCorrectWord:1,k:t,mediaSource:9e6,packId:"1002581,1002601,1003861,1003862,1003863,1003864,1003865,1003866,1004041,1004121,1004261,1004262,1004281,1004321,1004262,1004281,1004322,1004261,1004421,1004422,1002781,1004301,1004641,1004761,1005061,1005261,1005301,1005321,1005361,1005362,1005341,1005342,1005521,1005722,1005721,1015749,1015761,1015760,1015762,1015763,1015768,1015786,1015790,1015812,1015813,1015814,1015815,1015816,1015817,1015820,1015819,1015821",pageIdx:1,pageSize:20,sid:"1X4A395AL3XS3UV5MT8PQ1L5JUYK6KFM8VKDSDD48S5Y7YX5WY1MOUHRT6512988",copyrightTerminal:3,searchScene:2,uiVersion:"A3.26.0"},s={Accept:"application/json, text/plain, */*","Accept-Language":"zh-CN,zh;q=0.9",Connection:"keep-alive","Content-Type":"application/json",Origin:"https://www.miguvideo.com",Referer:"https://www.miguvideo.com/","Sec-Fetch-Dest":"empty","Sec-Fetch-Mode":"cors","Sec-Fetch-Site":"cross-site","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36",appId:"miguvideo","sec-ch-ua":'Not(A:Brand";v="8", "Chromium";v="144", "Google Chrome";v="144"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"Windows",terminalId:"www"},a=await sr(r,JSON.stringify(n),{headers:s});if(!a||!a.data)return x("info","[Migu] \u641C\u7D22\u54CD\u5E94\u4E3A\u7A7A"),[];let c=(typeof a.data=="string"?JSON.parse(a.data):a.data)?.body?.contentInfoList,u=[];return c.forEach(l=>{let d=l?.shortMediaAsset;if(d&&d.isLong){let f;d?.extraData?f=d?.extraData?.episodes?.[0]:f=d?.pID,u.push({name:d.name,type:d.contDisplayName,year:d.year.trim(),img:d.h5pics?.highResolutionV,url:`https://v3-sc.miguvideo.com/program/v4/cont/content-info/${f}/1`,epsId:f})}}),x("info",`[Migu] \u641C\u7D22\u627E\u5230 ${u.length} \u4E2A\u6709\u6548\u7ED3\u679C`),u}catch(r){return x("error","getMiguAnimes error:",{message:r.message,name:r.name,stack:r.stack}),[]}}extractEpId(t){let n=t.split("?")[0].split("/").filter(s=>s!=="");return n[n.length-1]||""}async getDetail(t){try{let r=await pe(`https://v3-sc.miguvideo.com/program/v4/cont/content-info/${t}/1`,{headers:{"user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}});if(!r||!r.data)return x("info","getMiguDetail: \u8BF7\u6C42\u5931\u8D25\u6216\u65E0\u6570\u636E\u8FD4\u56DE"),{duration:0,epsID:null};let n=r.data?.body?.data?.playing?.duration||0,s=r.data?.body?.data?.epsID||null;return{duration:n,epsID:s}}catch(r){return x("error","getMiguDetail error:",{message:r.message,name:r.name,stack:r.stack}),{duration:0,epsID:null}}}async getEpisodes(t){try{let r=await pe(t,{headers:{"user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}});if(!r||!r.data)return x("info","getMiguEposides: \u8BF7\u6C42\u5931\u8D25\u6216\u65E0\u6570\u636E\u8FD4\u56DE"),[];let n=r.data?.body?.data?.datas;if(n)return n;{let s=r.data?.body?.data?.name,a=r.data?.body?.data?.playing?.pID;return a?[{name:s,pID:a}]:(x("info","getMiguEposides: eps \u4E0D\u5B58\u5728"),[])}}catch(r){return x("error","getMiguEposides error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async handleAnimes(t,r,n){let s=[];if(!t||!Array.isArray(t))return x("error","[Migu] sourceAnimes is not a valid array"),[];let a=await Promise.all(t.filter(o=>Wt(o.name||o.title,r)).map(async o=>{try{let c=await this.getEpisodes(o.url||o.mediaId),u=[];for(let l of c)u.push({name:l.name,url:`https://webapi.miguvideo.com/gateway/live_barrage/videox/barrage/v2/list/${o.epsId??l.pID}/${l.pID}`,title:`\u3010migu\u3011 ${l.name}`});if(u.length>0){let l={animeId:Tr(o.epsId??c[0]?.pID),bangumiId:String(o.epsId??c[0]?.pID),animeTitle:`${o.name||o.title}(${o.year})\u3010${o.type}\u3011from migu`,type:o.type,typeDescription:o.type,imageUrl:o.img??o.imageUrl,startDate:zt(o.year),episodeCount:u.length,rating:0,isFavorited:!0,source:"migu"};s.push(l),tt({...l,links:u}),R.animes.length>R.MAX_ANIMES&&it()}}catch(c){x("error",`[Migu] Error processing anime: ${c.message}`)}}));return this.sortAndPushAnimesByYear(s,n),a}async getEpisodeDanmu(t){x("info","\u5F00\u59CB\u4ECE\u672C\u5730\u8BF7\u6C42\u54AA\u5495\u89C6\u9891\u5F39\u5E55...",t);let r=await this.getEpisodeDanmuSegments(t);if(!r||!r.segmentList||r.segmentList.length===0)return[];let n=r.segmentList;x("info",`\u5F39\u5E55\u5206\u6BB5\u6570\u91CF: ${n.length}`);let s=100,a=[];for(let o=0;o<n.length;o+=s){let c=n.slice(o,o+s),u=c.map(d=>this.getEpisodeSegmentDanmu(d)),l=await Promise.allSettled(u);for(let d=0;d<l.length;d++){let f=l[d],p=c[d],m=p.segment_start,h=p.segment_end;if(f.status==="fulfilled"){let g=f.value;g&&g.length>0&&a.push(...g)}else x("error",`\u83B7\u53D6\u5F39\u5E55\u6BB5\u5931\u8D25 (${m}-${h}s):`,f.reason.message)}o+s<n.length&&await new Promise(d=>setTimeout(d,200))}return a.length===0?(x("info",`\u54AA\u5495\u89C6\u9891: \u8BE5\u89C6\u9891\u6682\u65E0\u5F39\u5E55\u6570\u636E (vid=${t})`),[]):(Or(a),a)}async getEpisodeDanmuSegments(t){x("info","\u83B7\u53D6\u54AA\u5495\u89C6\u9891\u5F39\u5E55\u5206\u6BB5\u5217\u8868...",t);let r=this.extractEpId(t),n=await this.getDetail(r),s=fd(n.duration);x("info","itemId:",r),x("info","durationSec:",s),x("info","epsID:",n.epsID);let a=30,o=[];for(let c=0;c<s;c+=a){let u=c,l=Math.min(c+a,s),d=`https://webapi.miguvideo.com/gateway/live_barrage/videox/barrage/v2/list/${n.epsID??r}/${r}/${u}/${l}/020`;o.push({type:"migu",segment_start:u,segment_end:l,url:d})}return new Ve({type:"migu",segmentList:o})}async getEpisodeSegmentDanmu(t){try{let r=await pe(t.url,{headers:{"user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36",appCode:"miguvideo_default_h5"},retries:1}),n=[];if(r&&r.data){let s=await Sfe(r.data),o=(typeof r.data=="string"?JSON.parse(s):s)?.body?.result??[];n.push(...o)}return n}catch(r){return x("error","\u8BF7\u6C42\u5206\u7247\u5F39\u5E55\u5931\u8D25:",r),[]}}formatComments(t){return t.map(r=>({cid:Number(r.cid),p:`${r.playtime},1,${S2(r.textcolor)},[migu]`,m:r.msg,t:r.playtime}))}},Tfe=WO;ht();et();Pt();Zr();rs();Br();zr();var QA=class extends Xe{convertYoukuUrl(t){let r=t.match(/vid=([^&]+)/);return!r||!r[1]?null:`https://v.youku.com/v_show/id_${r[1]}.html`}filterYoukuSearchItem(t,r){let n=t.commonData;if(!n||!n.titleDTO||n.isYouku!==1&&n.hasYouku!==1)return null;let s=n.titleDTO.displayName;if(["\u4E2D\u914D\u7248","\u62A2\u5148\u770B","\u975E\u6B63\u7247","\u89E3\u8BFB","\u63ED\u79D8","\u8D4F\u6790","\u300A"].some(p=>s.includes(p)))return null;let o=n.feature.match(/[12][890][0-9][0-9]/),c=o?parseInt(o[0]):null,u=s.replace(/<[^>]+>/g,"").replace(/.+?/g,"").trim().replace(/:/g,"\uFF1A"),l="\u7535\u89C6\u5267",d=(n.cats||"").toLowerCase(),f=(n.feature||"").toLowerCase();return d.includes("\u52A8\u6F2B")||d.includes("anime")?l="\u52A8\u6F2B":d.includes("\u7535\u5F71")||d.includes("movie")?l="\u7535\u5F71":d.includes("\u7535\u89C6\u5267")||d.includes("drama")?l="\u7535\u89C6\u5267":d.includes("\u7EFC\u827A")||d.includes("variety")?l="\u7EFC\u827A":f.includes("\u52A8\u6F2B")?l="\u52A8\u6F2B":f.includes("\u7535\u5F71")?l="\u7535\u5F71":f.includes("\u7535\u89C6\u5267")?l="\u7535\u89C6\u5267":f.includes("\u7EFC\u827A")&&(l="\u7EFC\u827A"),{provider:"youku",mediaId:n.showId,title:u,type:l,year:c,imageUrl:n.posterDTO?n.posterDTO.vThumbUrl:null,episodeCount:n.episodeTotal,cats:n.cats}}async search(t){try{x("info",`[Youku] \u5F00\u59CB\u641C\u7D22: ${t}`);let r=encodeURIComponent(t),n=encodeURIComponent("Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"),s=`https://search.youku.com/api/search?keyword=${r}&userAgent=${n}&site=1&categories=0&ftype=0&ob=0&pg=1`,a=await pe(s,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36",Accept:"application/json",Referer:"https://www.youku.com/"}});if(!a||!a.data)return x("info","[Youku] \u641C\u7D22\u54CD\u5E94\u4E3A\u7A7A"),[];let o=typeof a.data=="string"?JSON.parse(a.data):a.data;if(!o.pageComponentList)return x("info","[Youku] \u641C\u7D22\u65E0\u7ED3\u679C"),[];let c=[];for(let u of o.pageComponentList){let l=this.filterYoukuSearchItem(u,t);l&&c.push(l)}return x("info",`[Youku] \u641C\u7D22\u627E\u5230 ${c.length} \u4E2A\u6709\u6548\u7ED3\u679C`),c}catch(r){return x("error","[Youku] \u641C\u7D22\u51FA\u9519:",r.message),[]}}async getEpisodes(t){try{x("info",`[Youku] \u83B7\u53D6\u5206\u96C6\u5217\u8868: show_id=${t}`);let r=100,n=await this._getEpisodesPage(t,1,r);if(!n||!n.videos||n.videos.length===0)return x("info","[Youku] \u672A\u627E\u5230\u5206\u96C6\u4FE1\u606F"),[];let s=[...n.videos],a=n.total;if(a>r){let o=Math.ceil(a/r);x("info",`[Youku] \u68C0\u6D4B\u5230 ${a} \u4E2A\u5206\u96C6\uFF0C\u5C06\u5E76\u53D1\u8BF7\u6C42 ${o} \u9875`);let c=[];for(let l=2;l<=o;l++)c.push(this._getEpisodesPage(t,l,r));let u=await Promise.allSettled(c);for(let l=0;l<u.length;l++){let d=u[l];d.status==="fulfilled"&&d.value&&d.value.videos?s.push(...d.value.videos):d.status==="rejected"&&x("error",`[Youku] \u83B7\u53D6\u5206\u96C6\u9875\u9762 ${l+2} \u5931\u8D25:`,d.reason)}x("info",`[Youku] \u5E76\u53D1\u83B7\u53D6\u5B8C\u6210\uFF0C\u5171\u83B7\u53D6 ${s.length} \u4E2A\u5206\u96C6`)}return x("info",`[Youku] \u5171\u83B7\u53D6 ${s.length} \u96C6`),s}catch(r){return x("error","[Youku] \u83B7\u53D6\u5206\u96C6\u51FA\u9519:",r.message),[]}}async _getEpisodesPage(t,r,n){let s=`https://openapi.youku.com/v2/shows/videos.json?client_id=53e6cc67237fc59a&package=com.huawei.hwvplayer.youku&ext=show&show_id=${t}&page=${r}&count=${n}`,a=await pe(s,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}});return!a||!a.data?null:typeof a.data=="string"?JSON.parse(a.data):a.data}async handleAnimes(t,r,n){let s=[];if(!t||!Array.isArray(t))return x("error","[Youku] sourceAnimes is not a valid array"),[];let a=await Promise.all(t.filter(o=>Wt(o.title,r)).map(async o=>{try{let c=await this.getEpisodes(o.mediaId),u=this._extractMediaType(o.cats,o.type),l=this._processAndFormatEpisodes(c,u),d=[];for(let f of l){let p=f.link||`https://v.youku.com/v_show/id_${f.vid}.html`;d.push({name:f.episodeIndex.toString(),url:p,title:`\u3010youku\u3011 ${f.title}`})}if(d.length>0){let p={animeId:Tr(o.mediaId),bangumiId:o.mediaId,animeTitle:`${o.title}(${o.year||"N/A"})\u3010${o.type}\u3011from youku`,type:o.type,typeDescription:o.type,imageUrl:o.imageUrl,startDate:zt(o.year),episodeCount:d.length,rating:0,isFavorited:!0,source:"youku"};s.push(p),tt({...p,links:d}),R.animes.length>R.MAX_ANIMES&&it()}}catch(c){x("error",`[Youku] Error processing anime: ${c.message}`)}}));return this.sortAndPushAnimesByYear(s,n),a}_processAndFormatEpisodes(t,r="variety"){return[...t].map((a,o)=>{let c=o+1,u=this._formatEpisodeTitle(a,c,r);return{vid:a.id,title:u,episodeIndex:c,link:a.link}})}_formatEpisodeTitle(t,r,n){let s=t.displayName||t.title,a=/^(?:\d{2,4}-\d{2}-\d{2}|\d{2}-\d{2})\s*(?=(?:\d+))|^(?:\d{2,4}-\d{2}-\d{2}|\d{2}-\d{2})\s*:\s*/;if(s=s.replace(a,"").trim(),n==="movie")return s;if(n==="variety"){let o=s.match(/(\d+)/);return o?`\u7B2C${o[1]}\u671F ${t.published?.split(" ")[0]??""} ${s}`:`\u7B2C${r}\u671F ${t.published?.split(" ")[0]??""} ${s}`}return/^\d+/.test(s)?s:`\u7B2C${r}\u96C6 ${s}`}_extractMediaType(t,r){let n=(t||"").toLowerCase(),s=(r||"").toLowerCase();return n.includes("\u7EFC\u827A")||n.includes("variety")?"variety":n.includes("\u7535\u5F71")||n.includes("movie")?"movie":n.includes("\u52A8\u6F2B")||n.includes("anime")?"anime":n.includes("\u7535\u89C6\u5267")||n.includes("drama")?"drama":s.includes("\u7EFC\u827A")?"variety":s.includes("\u7535\u5F71")?"movie":s.includes("\u52A8\u6F2B")?"anime":(s.includes("\u7535\u89C6\u5267"),"drama")}async getEpisodeDanmu(t){if(x("info","\u5F00\u59CB\u4ECE\u672C\u5730\u8BF7\u6C42\u4F18\u9177\u5F39\u5E55...",t),!t)return[];let n=(await this.getEpisodeDanmuSegments(t)).segmentList,s=[],a=R.youkuConcurrency,o=[...n];for(let c=0;c<o.length;c+=a){let u=o.slice(c,c+a).map(async l=>{let d=await sr(l.url,bn({data:l.data}),{headers:{Cookie:`_m_h5_tk=${l._m_h5_tk};_m_h5_tk_enc=${l._m_h5_tk_enc};`,Referer:"https://v.youku.com","Content-Type":"application/x-www-form-urlencoded","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36"},allow_redirects:!1,retries:1}),f=[];if(d.data?.data&&d.data.data.result){let p=JSON.parse(d.data.data.result);p.code!=="-1"&&f.push(...p.data.result)}return f});try{let l=await Promise.allSettled(u);for(let d of l)d.status==="fulfilled"&&Array.isArray(d.value)&&(s=s.concat(d.value))}catch(l){x("error","\u4F18\u9177\u5206\u6BB5\u6279\u91CF\u8BF7\u6C42\u5931\u8D25:",l.message)}}return Or(s),s}async getEpisodeDanmuSegments(t){if(x("info","\u83B7\u53D6\u4F18\u9177\u5F39\u5E55\u5206\u6BB5\u5217\u8868...",t),!t)return new Ve({type:"youku",segmentList:[]});t.includes("youku.com/video?vid")&&(t=this.convertYoukuUrl(t));let r="https://openapi.youku.com/v2/videos/show.json",n="https://acs.youku.com/h5/mopen.youku.danmu.list/1.0/",s=/^(https?:\/\/[^\/]+)(\/[^?#]*)/,a=t.match(s),o;if(a)o=a[2].split("/").filter(Boolean),o.unshift(""),x("info",o);else return x("error","Invalid URL"),[];let c=o[o.length-1].split(".")[0].slice(3);x("info",`video_id: ${c}`);let u;try{let E=`${r}?client_id=53e6cc67237fc59a&video_id=${c}&package=com.huawei.hwvplayer.youku&ext=show`;u=await pe(E,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36"},allow_redirects:!1})}catch(E){return x("error","\u8BF7\u6C42\u89C6\u9891\u4FE1\u606F\u5931\u8D25:",E),[]}let l=typeof u.data=="string"?JSON.parse(u.data):u.data,d=l.title,f=l.duration;x("info",`\u6807\u9898: ${d}, \u65F6\u957F: ${f}`);let p,m,h;try{let E="https://log.mmstat.com/eg.js",I="https://acs.youku.com/h5/mtop.com.youku.aplatform.weakget/1.0/?jsv=2.5.1&appKey=24679788",w=await pe(E,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36"},allow_redirects:!1});x("info",`cnaRes: ${JSON.stringify(w)}`),x("info",`cnaRes.headers: ${JSON.stringify(w.headers)}`);let S=w.headers.etag||w.headers.Etag;x("info",`etag: ${S}`),p=S.replace(/^"|"$/g,""),x("info",`cna: ${p}`);let T;for(;!T;)T=await pe(I,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36"},allow_redirects:!1});x("info",`tkEncRes: ${JSON.stringify(T)}`),x("info",`tkEncRes.headers: ${JSON.stringify(T.headers)}`);let B=T.headers["set-cookie"]||T.headers["Set-Cookie"];x("info",`tkEncSetCookie: ${B}`);let N=B.match(/_m_h5_tk_enc=([^;]+)/);m=N?N[1]:null;let O=B.match(/_m_h5_tk=([^;]+)/);h=O?O[1]:null,x("info",`_m_h5_tk_enc: ${m}`),x("info",`_m_h5_tk: ${h}`)}catch(E){return x("error","\u83B7\u53D6 cna \u6216 tk_enc \u5931\u8D25:",E),[]}let g=60,A=Math.floor(f/g)+1,y=[],v=async E=>{let I={ctime:Date.now(),ctype:10004,cver:"v1.0",guid:p,mat:E,mcount:1,pid:0,sver:"3.1.0",type:1,vid:c},w=JSON.stringify(I);function S(j){let H="";for(let V=0;V<j.length;V++)j.charCodeAt(V)>255?H+=encodeURIComponent(j[V]):H+=j[V];return H}function T(j){let H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",V="",X=0,U=0;for(let re=0;re<j.length;re++)for(X=X<<8|j.charCodeAt(re),U+=8;U>=6;)V+=H[X>>U-6&63],U-=6;for(U>0&&(V+=H[X<<6-U&63]);V.length%4!==0;)V+="=";return V}let B=T(S(w));I.msg=B,I.sign=da(`${B}MkmC9SoIw6xCkSKHhJ7b5D2r51kBiREr`).toString().toLowerCase();let N=JSON.stringify(I),O=Date.now(),k={jsv:"2.5.6",appKey:"24679788",t:O,sign:da([h.slice(0,32),O,"24679788",N].join("&")).toString().toLowerCase(),api:"mopen.youku.danmu.list",v:"1.0",type:"originaljson",dataType:"jsonp",timeout:"20000",jsonpIncPrefix:"utility"},P=bn(k),D=`${n}?${P}`;return x("info",`piece_url: ${D}`),{type:"youku",segment_start:E*g,segment_end:Math.min((E+1)*g,f),url:D,data:N,_m_h5_tk:h,_m_h5_tk_enc:m}},b=Array.from({length:A},(E,I)=>I);for(let E=0;E<b.length;E++){let I=await v(b[E]);y.push(I)}return new Ve({type:"youku",segmentList:y})}async getEpisodeSegmentDanmu(t){x("info","\u5F00\u59CB\u4ECE\u672C\u5730\u8BF7\u6C42\u4F18\u9177\u5206\u6BB5\u5F39\u5E55...",t.url);let r=await sr(t.url,bn({data:t.data}),{headers:{Cookie:`_m_h5_tk=${t._m_h5_tk};_m_h5_tk_enc=${t._m_h5_tk_enc};`,Referer:"https://v.youku.com","Content-Type":"application/x-www-form-urlencoded","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36"},allow_redirects:!1,retries:1}),n=[];if(r.data?.data&&r.data.data.result){let s=JSON.parse(r.data.data.result);s.code!=="-1"&&n.push(...s.data.result)}return n}formatComments(t){return t.map(r=>{let n={timepoint:0,ct:1,size:25,color:16777215,unixtime:Math.floor(Date.now()/1e3),uid:0,content:""};n.timepoint=r.playat/1e3;let s=JSON.parse(r.propertis);if(s?.color&&(n.color=typeof s.color=="string"?parseInt(s.color,10):s.color),s?.pos){let a=s.pos;a===1?n.ct=5:a===2&&(n.ct=4)}return n.content=r.content,n})}};ht();et();Pt();rs();Br();Zr();zr();var UA=class extends Xe{constructor(){super(),this.positionMap={1:1,4:5,5:4}}filterSohuSearchItem(t,r){if(!t.aid||!t.album_name||t.is_trailer===1||t.corner_mark&&t.corner_mark.text==="\u9884\u544A")return null;let n=t.album_name.replace("<<<","").replace(">>>",""),s=null;if(t.meta&&Array.isArray(t.meta)){for(let a of t.meta)if(a.txt&&a.txt.includes("|")){let o=a.txt.split("|");if(o.length>0){let c=o[0].trim();c.includes("\u522B\u540D")&&o.length>1?s=o[1].trim():s=c;break}}}return{mediaId:String(t.aid),title:n,type:s,year:t.year||null,imageUrl:t.ver_big_pic||null,episodeCount:t.total_video_count||0}}async search(t){try{x("info",`[Sohu] \u5F00\u59CB\u641C\u7D22: ${t}`);let r={key:t,type:"1",page:"1",page_size:"20",user_id:"",tabsChosen:"0",poster:"4",tuple:"6",extSource:"1",show_star_detail:"3",pay:"1",hl:"3",uid:String(Math.floor(Date.now()*1e3)),passport:"",plat:"-1",ssl:"0"},n={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36",Accept:"application/json, text/plain, */*","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8",Referer:"https://so.tv.sohu.com/",Origin:"https://so.tv.sohu.com"},s=`https://m.so.tv.sohu.com/search/pc/keyword?${bn(r)}`,a=await pe(s,{headers:n});if(!a||!a.data)return x("info","[Sohu] \u641C\u7D22\u54CD\u5E94\u4E3A\u7A7A"),[];let o=typeof a.data=="string"?JSON.parse(a.data):a.data;if(!o.data||!o.data.items)return x("info","[Sohu] \u641C\u7D22\u54CD\u5E94\u4E2D\u65E0\u6570\u636E"),[];let c=[];for(let u of o.data.items){let l=this.filterSohuSearchItem(u,t);l&&c.push(l)}return x("info",`[Sohu] \u641C\u7D22\u627E\u5230 ${c.length} \u4E2A\u6709\u6548\u7ED3\u679C`),c}catch(r){return x("error","[Sohu] \u641C\u7D22\u51FA\u9519:",r.message),[]}}async getEpisodes(t){try{x("info",`[Sohu] \u83B7\u53D6\u5206\u96C6\u5217\u8868: media_id=${t}`);let r=null,n={playlistid:t,api_key:"f351515304020cad28c92f70f002261c"},s={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",Referer:"https://tv.sohu.com/"},a=`https://pl.hd.sohu.com/videolist?${bn(n)}`,o=await pe(a,{headers:s,timeout:15e3});if(!o||!o.data)return x("info","[Sohu] \u5206\u96C6\u54CD\u5E94\u4E3A\u7A7A"),[];let c=o.data;if(typeof c=="string"&&c.startsWith("jsonp")){let l=c.indexOf("(")+1,d=c.lastIndexOf(")");if(l>0&&d>l){let f=c.substring(l,d);c=JSON.parse(f)}else return x("error","\u641C\u72D0\u89C6\u9891: \u65E0\u6CD5\u89E3\u6790JSONP\u54CD\u5E94"),[]}else typeof c=="string"&&(c=JSON.parse(c));if(r=c.videos||[],!r||r.length===0)return x("warning",`\u641C\u72D0\u89C6\u9891: \u672A\u627E\u5230\u5206\u96C6\u5217\u8868 (media_id=${t})`),[];let u=[];for(let l=0;l<r.length;l++){let d=r[l],f,p,m;typeof d=="object"?(f=String(d.vid||""),p=d.video_name||`\u7B2C${l+1}\u96C6`,m=d.url_html5||""):(f=String(d.vid||d.vid||""),p=d.name||d.video_name||`\u7B2C${l+1}\u96C6`,m=d.pageUrl||d.url_html5||""),m&&m.startsWith("http://")&&(m=m.replace("http://","https://"));let h={vid:f,title:p,url:m,episodeId:`${f}:${t}`};u.push(h)}return x("info",`[Sohu] \u6210\u529F\u83B7\u53D6 ${u.length} \u4E2A\u5206\u96C6 (media_id=${t})`),u}catch(r){return x("error","[Sohu] \u83B7\u53D6\u5206\u96C6\u51FA\u9519:",r.message),[]}}async handleAnimes(t,r,n){let s=[];if(!t||!Array.isArray(t))return x("error","[Sohu] sourceAnimes is not a valid array"),[];let a=await Promise.all(t.filter(o=>Wt(o.title,r)).map(async o=>{try{let c=await this.getEpisodes(o.mediaId),u=[];for(let l=0;l<c.length;l++){let d=c[l],f=d.title||`\u7B2C${l+1}\u96C6`,p=`https://tv.sohu.com/item/${o.mediaId}.html`;u.push({name:(l+1).toString(),url:`${d.url}`,title:`\u3010sohu\u3011 ${f}`})}if(u.length>0){let d={animeId:Tr(o.mediaId),bangumiId:o.mediaId,animeTitle:`${o.title}(${o.year||new Date().getFullYear()})\u3010${o.type}\u3011from sohu`,type:o.type,typeDescription:o.type,imageUrl:o.imageUrl,startDate:zt(o.year||new Date().getFullYear()),episodeCount:u.length,rating:0,isFavorited:!0,source:"sohu"};s.push(d),tt({...d,links:u}),R.animes.length>R.MAX_ANIMES&&it()}}catch(c){x("error",`[Sohu] Error processing anime: ${c.message}`)}}));return this.sortAndPushAnimesByYear(s,n),a}async extractVidAndAid(t){let r,n="0",s=await pe(t,{headers:{"User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}}),a=s.data.match(/vid="(\d+)"/);return a&&(r=a[1]),n=s.data.match(/id="aid"[^>]*value=['"](\d+)['"]/)?.[1],n||(n=s.data.match(/playlistId="(\d+)"/)?.[1]),{vid:r,aid:n}}async getEpisodeDanmu(t){x("info","\u5F00\u59CB\u4ECE\u672C\u5730\u8BF7\u6C42\u641C\u72D0\u89C6\u9891\u5F39\u5E55...",t);let r=await this.getEpisodeDanmuSegments(t);if(!r||!r.segmentList||r.segmentList.length===0)return[];let n=r.segmentList;x("info",`\u5F39\u5E55\u5206\u6BB5\u6570\u91CF: ${n.length}`);let s=10,a=[];for(let o=0;o<n.length;o+=s){let c=n.slice(o,o+s),u=c.map(d=>this.getDanmuSegment(d)),l=await Promise.allSettled(u);for(let d=0;d<l.length;d++){let f=l[d],p=c[d],m=p.segment_start,h=p.segment_end;if(f.status==="fulfilled"){let g=f.value;if(g&&g.length>0)a.push(...g);else if(m>600)break}else x("error",`\u83B7\u53D6\u5F39\u5E55\u6BB5\u5931\u8D25 (${m}-${h}s):`,f.reason.message)}o+s<n.length&&await new Promise(d=>setTimeout(d,200))}return a.length===0?(x("info",`\u641C\u72D0\u89C6\u9891: \u8BE5\u89C6\u9891\u6682\u65E0\u5F39\u5E55\u6570\u636E (vid=${t})`),[]):(Or(a),a)}async getDanmuSegment(t){try{let r={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36",Referer:"https://tv.sohu.com/"},n=await pe(t.url,{headers:r,timeout:1e4});if(!n||!n.data)return x("error",`\u641C\u72D0\u89C6\u9891: \u5F39\u5E55\u6BB5\u54CD\u5E94\u4E3A\u7A7A (${t.segment_start}-${t.segment_end}s)`),[];try{let a=(typeof n.data=="string"?JSON.parse(n.data):n.data).info?.comments||[];return a&&a.length>0&&x("info",`\u641C\u72D0\u89C6\u9891: \u83B7\u53D6\u5230 ${a.length} \u6761\u5F39\u5E55 (${t.segment_start}-${t.segment_end}s)`),a||[]}catch(s){return x("error",`\u641C\u72D0\u89C6\u9891: \u89E3\u6790\u5F39\u5E55\u54CD\u5E94\u5931\u8D25: ${s.message}`),[]}}catch(r){return x("error",`\u641C\u72D0\u89C6\u9891: \u83B7\u53D6\u5F39\u5E55\u6BB5\u5931\u8D25 (vid=${vid}, ${start}-${end}s): ${r.message}`),[]}}async getEpisodeDanmuSegments(t){x("info","\u83B7\u53D6\u641C\u72D0\u89C6\u9891\u5F39\u5E55\u5206\u6BB5\u5217\u8868...",t);let{vid:r,aid:n}=await this.extractVidAndAid(t),s=10800,a=300,o=[];for(let c=0;c<s;c+=a){let u=c+a;o.push({type:"sohu",segment_start:c,segment_end:u,url:`https://api.danmu.tv.sohu.com/dmh5/dmListAll?act=dmlist_v2&vid=${r}&aid=${n}&pct=2&time_begin=${c}&time_end=${u}&dct=1&request_from=h5_js`})}return new Ve({type:"sohu",segmentList:o})}async getEpisodeSegmentDanmu(t){try{let r=await pe(t.url,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"},retries:1}),n=[];if(r&&r.data){let s=typeof r.data=="string"?JSON.parse(r.data):r.data;n.push(...s.info?.comments||[])}return n}catch(r){return x("error","\u8BF7\u6C42\u5206\u7247\u5F39\u5E55\u5931\u8D25:",r),[]}}formatComments(t){return t.map(r=>{try{let n=16777215;if(r.t&&r.t.c){let d=r.t.c;typeof d=="string"&&d.startsWith("#")?n=parseInt(d.substring(1),16):n=parseInt(String(d),16)}let s=r.v||0,a=Math.floor(parseFloat(r.created||Date.now()/1e3)),o=r.uid||"",c=r.i||"",u=1;r.t&&r.t.p&&(u=this.positionMap[r.t.p]||1);let l=`${s},1,25,${n},${a},0,${o},${c}`;return{cid:String(c),p:l,m:r.c||"",t:parseFloat(s)}}catch(n){return x("error",`\u683C\u5F0F\u5316\u5F39\u5E55\u5931\u8D25: ${n.message}, \u5F39\u5E55\u6570\u636E:`,r),null}}).filter(r=>r!==null)}};ht();et();Pt();rs();Br();Zr();zr();var Bfe={tv:"\u7535\u89C6\u5267",movie:"\u7535\u5F71",cartoon:"\u52A8\u6F2B",comic:"\u52A8\u6F2B"},qA=class extends Xe{constructor(){super(),this.positionMap={4:1,3:4,1:5,2:1}}filterLeshiSearchItem(t,r){if(!t.pid||!t.title)return null;let n=t.title,s=Bfe[t.type]||"\u7535\u89C6\u5267";return{mediaId:String(t.pid),title:n,type:s,year:t.year||null,imageUrl:t.imageUrl||null,episodeCount:t.episodeCount||0}}async search(t){try{x("info",`[Leshi] \u5F00\u59CB\u641C\u7D22: ${t}`);let r={wd:t,from:"pc",ref:"click",click_area:"search_button",query:t,is_default_query:"0",module:"search_rst_page"},n={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36",Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8","Accept-Encoding":"gzip, deflate, br",Referer:"https://so.le.com/",Connection:"keep-alive","Upgrade-Insecure-Requests":"1","Sec-Fetch-Dest":"document","Sec-Fetch-Mode":"navigate","Sec-Fetch-Site":"same-origin"},s=`https://so.le.com/s?${bn(r)}`,a=await pe(s,{headers:n,timeout:15e3});if(!a||!a.data)return x("info","[Leshi] \u641C\u7D22\u54CD\u5E94\u4E3A\u7A7A"),[];let o=a.data;x("debug",`[Leshi] \u641C\u7D22\u8BF7\u6C42\u6210\u529F\uFF0C\u54CD\u5E94\u957F\u5EA6: ${o.length} \u5B57\u7B26`);let c=[],u=/<div class="So-detail[^"]*"[^>]*data-info="({.*?})"[^>]*>/g,l,d=[];for(;(l=u.exec(o))!==null;)d.push(l);x("debug",`[Leshi] \u4ECEHTML\u4E2D\u627E\u5230 ${d.length} \u4E2A data-info \u5757`);for(let f of d)try{let p=f[1];x("debug",`[Leshi] \u63D0\u53D6\u5230 data-info \u539F\u59CB\u5B57\u7B26\u4E32: ${p.substring(0,200)}...`),p=p.replace(/'/g,'"'),p=p.replace(/([{,])(\w+):/g,'$1"$2":');let m=JSON.parse(p);x("debug",`[Leshi] \u6210\u529F\u89E3\u6790 data-info\uFF0Cpid=${m.pid}, type=${m.type}`);let h=m.pid||"",g=m.type||"",A=m.total||"0";if(!h)continue;let y=f.index,v=[`</div>
	</div>`,`</div>
</div>`,"</div></div>"],b=-1;for(let D of v){let j=o.indexOf(D,y);if(j!==-1){b=j;break}}if(b===-1){let D=o.indexOf('<div class="So-detail',y+100);if(D!==-1)b=D;else continue}let E=o.substring(y,b),I="",w=/<h1>[\s\S]*?<a[^>]*title="([^"]*)"[^>]*>/.exec(E);if(w&&w[1]&&(I=w[1].trim()),!I&&m.keyWord){let D=/(.*?)(?:\d{4})?(?:||)?$/.exec(m.keyWord);D&&D[1]&&(I=D[1].replace(/[^\u4e00-\u9fa5a-zA-Z0-9]/g,"").trim())}if(!I){let D=/<a[^>]*title="([^"]*?)[^0-9\u4e00-\u9fa5][^"]*"/.exec(E);D&&D[1]&&(I=D[1].trim())}I||x("info","[Leshi] \u672A\u627E\u5230\u6807\u9898\uFF0C\u5C1D\u8BD5\u4ECE\u5176\u4ED6\u6765\u6E90\u83B7\u53D6");let S=/<img[^>]*(?:src|data-src|alt)="([^"]+)"/.exec(E),T=S?S[1]:"",B=null,N=/<b><\/b>.*?>(\d{4})<\/a>/.exec(E);N||(N=/<b><\/b>.*?>(\d{4})<\/a>/.exec(E)),N||(N=/_y(\d{4})_/.exec(E)),N||(N=/(\d{4})/.exec(m.keyWord||"")),N&&(B=parseInt(N[1]));let O=Bfe[g]||"\u7535\u89C6\u5267",k=A&&/^\d+$/.test(A)?parseInt(A):0,P={mediaId:h,title:I,type:O,year:B,imageUrl:T&&T.startsWith("http")?T:T?`https:${T}`:null,episodeCount:k};c.push(P),x("debug",`[Leshi] \u89E3\u6790\u6210\u529F - ${I} (pid=${h}, type=${O}, episodes=${k})`)}catch(p){x("warning",`[Leshi] \u89E3\u6790\u641C\u7D22\u7ED3\u679C\u9879\u5931\u8D25: ${p}`);continue}if(c.length>0){x("info",`[Leshi] \u7F51\u7EDC\u641C\u7D22 '${t}' \u5B8C\u6210\uFF0C\u627E\u5230 ${c.length} \u4E2A\u6709\u6548\u7ED3\u679C\u3002`),x("info","[Leshi] \u641C\u7D22\u7ED3\u679C\u5217\u8868:");for(let f of c)x("info",`  - ${f.title} (ID: ${f.mediaId}, \u7C7B\u578B: ${f.type}, \u5E74\u4EFD: ${f.year})`)}else x("info",`[Leshi] \u7F51\u7EDC\u641C\u7D22 '${t}' \u5B8C\u6210\uFF0C\u627E\u5230 0 \u4E2A\u7ED3\u679C\u3002`);return c}catch(r){return x("error","[Leshi] \u641C\u7D22\u51FA\u9519:",r.message),[]}}async getEpisodes(t){try{x("info",`[Leshi] \u83B7\u53D6\u5206\u96C6\u5217\u8868: media_id=${t}`);let r=[`https://www.le.com/tv/${t}.html`,`https://www.le.com/comic/${t}.html`,`https://www.le.com/playlet/${t}.html`,`https://www.le.com/movie/${t}.html`],n=null;for(let d of r)try{let f=await pe(d,{timeout:1e4});if(f&&f.data&&f.status===200){n=f.data,x("debug",`\u6210\u529F\u83B7\u53D6\u9875\u9762: ${d}`);break}}catch(f){x("debug",`\u5C1D\u8BD5URL\u5931\u8D25 ${d}: ${f}`);continue}if(!n)return x("error",`\u65E0\u6CD5\u83B7\u53D6\u4F5C\u54C1\u9875\u9762: media_id=${t}`),[];let s=/<div class="show_cnt twxj-[^"]*">[\s\S]*?<\/div>\s*<\/div>\s*<\/div>/.exec(n);if(s)return x("debug","\u627E\u5230\u56FE\u6587\u9009\u96C6\u5BB9\u5668"),this.parseEpisodesFromHtml(s[0],t);let a=/<div class="show_cnt sjxj-[^"]*">[\s\S]*?<\/div>\s*<\/div>\s*<\/div>/.exec(n);if(a)return x("debug","\u627E\u5230\u6570\u5B57\u9009\u96C6\u5BB9\u5668"),this.parseEpisodesFromHtml(a[0],t);x("debug","\u672A\u627E\u5230\u7279\u5B9A\u9009\u96C6\u5BB9\u5668\uFF0C\u5C1D\u8BD5\u67E5\u627E\u7B2C\u4E00\u96C6\u89C6\u9891\u5217\u8868...");let o=/<div class="show_play first_videolist[\s\S]*?<\/div>\s*<\/div>\s*<\/div>/.exec(n);if(o){let d=o[0];return this.parseEpisodesFromHtml(d,t)}x("error",`\u65E0\u6CD5\u627E\u5230\u5267\u96C6\u5217\u8868\u5BB9\u5668: media_id=${t}`);let c=/https:\/\/www\.le\.com\/ptv\/vplay\/(\d+)\.html/g,u=n.matchAll(c),l=[];for(let d of u){let f=d[1],p=d[0],m={vid:f,title:`\u7B2C${l.length+1}\u96C6`,url:p,episodeId:`${f}:${t}`};l.push(m)}return l.length>0?(x("info",`[Leshi] \u4ECEHTML\u5185\u5BB9\u4E2D\u5339\u914D\u5230 ${l.length} \u4E2A\u5267\u96C6\u94FE\u63A5`),l):[]}catch(r){return x("error","[Leshi] \u83B7\u53D6\u5206\u96C6\u51FA\u9519:",r.message),[]}}parseEpisodesFromHtml(t,r){try{let n=/<div class="col_4"[^>]*>[\s\S]*?<\/div>/g,s=t.match(n);if(!s||s.length===0){x("debug","\u5728HTML\u4E2D\u672A\u627E\u5230\u5267\u96C6\u5BB9\u5668div.col_4\uFF0C\u5C1D\u8BD5\u67E5\u627Edl.dl_temp\u5143\u7D20");let o=/<dl class="dl_temp">[\s\S]*?<\/dl>/g,c=t.match(o);if(!c||c.length===0){x("debug","\u5728HTML\u4E2D\u672A\u627E\u5230\u5267\u96C6\u5143\u7D20\uFF0C\u5C1D\u8BD5\u66F4\u5E7F\u6CDB\u7684\u9009\u62E9\u5668");let u=/<dl[^>]*class="[^"]*dl_temp[^"]*"[^>]*>[\s\S]*?<\/dl>/g,l=t.match(u);return!l||l.length===0?(x("error",`\u65E0\u6CD5\u4ECEHTML\u4E2D\u89E3\u6790\u5230\u4EFB\u4F55\u5267\u96C6: media_id=${r}`),[]):this.extractEpisodes(l,r)}return this.extractEpisodes(c,r)}let a=[];for(let o of s){let c=/<dl class="dl_temp">[\s\S]*?<\/dl>/.exec(o);c&&a.push(c[0])}return a.length===0?(x("error",`\u4ECE\u5BB9\u5668\u4E2D\u672A\u80FD\u63D0\u53D6\u5230\u4EFB\u4F55dl.dl_temp\u5143\u7D20: media_id=${r}`),[]):this.extractEpisodes(a,r)}catch(n){return x("error",`[Leshi] \u89E3\u6790\u5267\u96C6HTML\u5931\u8D25: ${n.message}`),[]}}extractEpisodes(t,r){let n=[];for(let s of t)try{let a=/<a[^>]+href="(\/\/www\.le\.com\/ptv\/vplay\/(\d+)\.html)"[^>]*>/.exec(s);if(!a){x("debug","\u8DF3\u8FC7\u65E0\u6CD5\u89E3\u6790\u94FE\u63A5\u7684\u5267\u96C6\u5143\u7D20");continue}let o=a[1],c=a[2],u=`https:${o}`,l="",d=/<dt class="d_tit">[\s\n\r]*<a[^>]*title="([^"]*)"[^>]*>([^<]*)<\/a>/.exec(s);if(d&&d[1])l=d[1].trim();else if(d&&d[2])l=d[2].trim();else{let m=/<a[^>]*title="([^"]*)"[^>]*>[\s\S]*?<dt class="d_tit">/.exec(s)||/<dt class="d_tit">[\s\S]*?<a[^>]*title="([^"]*)"/.exec(s);if(m&&m[1])l=m[1].trim();else{let h=/<dd class="d_cnt"[^>]*>([^<]*)/.exec(s);if(h&&h[1])l=h[1].trim();else{let g=/<a[^>]*title="[^"]*"[^>]*>([^<]*)/.exec(s);g&&g[1]&&(l=g[1].trim())}}}if(!l){let m=/(\d+)|(\d+)(?:\s*)?/.exec(s);m?l=`\u7B2C${m[1]||m[2]}\u96C6`:l=`\u7B2C${n.length+1}\u96C6`}if(/|Preview|preview/.test(l)){x("debug",`\u8DF3\u8FC7\u9884\u544A\u7247: ${l}`);continue}let p={vid:c,title:l,url:u,episodeId:`${c}:${r}`};n.push(p)}catch(a){x("warning",`[Leshi] \u89E3\u6790\u5355\u4E2A\u5267\u96C6\u5931\u8D25: ${a.message}`);continue}return x("info",`[Leshi] \u6210\u529F\u89E3\u6790\u5267\u96C6\u5217\u8868: media_id=${r}, \u5171 ${n.length} \u96C6`),n}async handleAnimes(t,r,n){let s=[];if(!t||!Array.isArray(t))return x("error","[Leshi] sourceAnimes is not a valid array"),[];let a=await Promise.all(t.filter(o=>Wt(o.title,r)).map(async o=>{try{let c=await this.getEpisodes(o.mediaId),u=[];for(let l=0;l<c.length;l++){let d=c[l],f=d.title||`\u7B2C${l+1}\u96C6`;u.push({name:(l+1).toString(),url:`${d.url}`,title:`\u3010leshi\u3011 ${f}`})}if(u.length>0){let d={animeId:Tr(o.mediaId),bangumiId:o.mediaId,animeTitle:`${o.title}(${o.year||new Date().getFullYear()})\u3010${o.type}\u3011from leshi`,type:o.type,typeDescription:o.type,imageUrl:o.imageUrl,startDate:zt(o.year||new Date().getFullYear()),episodeCount:u.length,rating:0,isFavorited:!0,source:"leshi"};s.push(d),tt({...d,links:u}),R.animes.length>R.MAX_ANIMES&&it()}}catch(c){x("error",`[Leshi] Error processing anime: ${c.message}`)}}));return this.sortAndPushAnimesByYear(s,n),a}async getEpisodeDanmu(t){x("info","\u5F00\u59CB\u4ECE\u672C\u5730\u8BF7\u6C42\u4E50\u89C6\u7F51\u5F39\u5E55...",t);let r=await this.getEpisodeDanmuSegments(t);if(!r||!r.segmentList||r.segmentList.length===0)return[];let n=r.segmentList;x("info",`\u5F39\u5E55\u5206\u6BB5\u6570\u91CF: ${n.length}`);let s=10,a=[];for(let o=0;o<n.length;o+=s){let c=n.slice(o,o+s),u=c.map(d=>this.getDanmuSegment(d)),l=await Promise.allSettled(u);for(let d=0;d<l.length;d++){let f=l[d],p=c[d],m=p.segment_start,h=p.segment_end;if(f.status==="fulfilled"){let g=f.value;if(g&&g.length>0)a.push(...g);else if(m>600)break}else x("error",`\u83B7\u53D6\u5F39\u5E55\u6BB5\u5931\u8D25 (${m}-${h}s):`,f.reason.message)}o+s<n.length&&await new Promise(d=>setTimeout(d,200))}return a.length===0?(x("info",`\u4E50\u89C6\u7F51: \u8BE5\u89C6\u9891\u6682\u65E0\u5F39\u5E55\u6570\u636E (vid=${t})`),[]):(Or(a),a)}async getDanmuSegment(t){try{let r=await pe(t.url,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"},retries:1}),n=[];if(r&&r.data){let s=typeof r.data=="string"?r.data:JSON.stringify(r.data),a=/vjs_\d+\((.*)\)/.exec(s);if(a){let o=JSON.parse(a[1]);o.code===200&&o.data&&n.push(...o.data.list||[])}}return n}catch(r){return x("error","\u8BF7\u6C42\u5206\u7247\u5F39\u5E55\u5931\u8D25:",r),[]}}async getEpisodeDanmuSegments(t){x("info","\u83B7\u53D6\u4E50\u89C6\u7F51\u5F39\u5E55\u5206\u6BB5\u5217\u8868...",t);let r=t,n=t.match(/\/vplay\/(\d+)\.html/);n&&(r=n[1]);let s=await this.getVideoDuration(r),a=[];for(let o=0;o<Math.ceil(s/300);o++){let c=o*300,u=Math.min((o+1)*300,s);a.push({type:"leshi",segment_start:c,segment_end:u,url:`https://hd-my.le.com/danmu/list?vid=${r}&start=${c}&end=${u}&callback=vjs_${Date.now()}`})}return x("info",`\u4E50\u89C6\u7F51: \u89C6\u9891\u65F6\u957F ${s}\u79D2\uFF0C\u5206\u4E3A ${a.length} \u4E2A\u65F6\u95F4\u6BB5`),new Ve({type:"leshi",segmentList:a})}async getEpisodeSegmentDanmu(t){return this.getDanmuSegment(t)}async getVideoDuration(t){try{let r=await pe(`https://www.le.com/ptv/vplay/${t}.html`,{timeout:1e4});if(!r||!r.data)return x("warning","\u4E50\u89C6\u7F51: \u83B7\u53D6\u89C6\u9891\u65F6\u957F\u5931\u8D25\uFF0C\u4F7F\u7528\u9ED8\u8BA4\u503C2400\u79D2"),2400;let n=/duration['"]?\s*:\s*['"]?(\d{2}):(\d{2}):(\d{2})['"]?|duration['"]?\s*:\s*['"]?(\d{2}):(\d{2})['"]?|duration['"]?\s*:\s*(\d+)['"]?/.exec(r.data);if(n){if(n[1]&&n[2]&&n[3]){let s=parseInt(n[1]),a=parseInt(n[2]),o=parseInt(n[3]);return s*3600+a*60+o}else if(n[4]&&n[5]){let s=parseInt(n[4]),a=parseInt(n[5]);return s*60+a}else if(n[6])return parseInt(n[6])}return 2400}catch(r){return x("warning",`\u83B7\u53D6\u89C6\u9891\u65F6\u957F\u5931\u8D25: ${r}\uFF0C\u4F7F\u7528\u9ED8\u8BA4\u503C2400\u79D2`),2400}}formatComments(t){return t.map(r=>{try{let n=this.positionMap[parseInt(r.position)]||1,s=parseFloat(r.start||0),a=r.color||"FFFFFF",o=parseInt(a,16),c=r.id||r._id||"",u=r.txt||"",l=`${s.toFixed(2)},${n},25,${o},[${this.constructor.name.toLowerCase()}]`;return{cid:String(c),p:l,m:u,t:Math.round(s*100)/100}}catch(n){return x("error",`\u683C\u5F0F\u5316\u5F39\u5E55\u5931\u8D25: ${n.message}, \u5F39\u5E55\u6570\u636E:`,r),null}}).filter(r=>r!==null)}};ht();et();Pt();rs();Br();Zr();zr();var JO=class extends Xe{async search(t){try{let r=`https://m.ixigua.com/s/${t}`,s=(await pe(r,{headers:{"user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/17.5 Mobile/15A5370a Safari/602.1"}})).data,a=[],o=/<section class="search-section">[\s\S]*?<h2 class="search-section-title">[\s\S]*?[\s\S]*?<\/h2>[\s\S]*?<div class="s-long-video-card">([\s\S]*?)<\/div><\/div><\/div>/,c=s.match(o);if(c){let u=c[1],l=/<div class="s-long-video">[\s\S]*?(?=<div class="s-long-video">|$)/g;(u.match(l)||[]).forEach(f=>{let p=f.match(/href="(\/video\/\d+)"/),m=p?`https://m.ixigua.com${p[1]}`:"",h=f.match(/<h3 class="s-long-video-info-title">[\s\S]*?title="([^"]+)"/),g=h?h[1]:"",A=f.match(/<img src="([^"]+)"/),y=A?A[1]:"";y&&y.startsWith("//")&&(y="https:"+y),y=y.replace(/&amp;/g,"&");let v=f.match(/<p>([^<]+\/[^<]+\/\d{4})<\/p>/),b="",E="";if(v){let I=v[1].split("/");b=I[0]||"",E=I[2]||""}m&&g&&a.push({name:g,type:b,year:E,img:y,url:m})})}else return x("info","xiguaSearchresp: \u76F8\u5173\u89C6\u9891\u7684section \u4E0D\u5B58\u5728"),[];return x("info",`[Xigua] \u641C\u7D22\u627E\u5230 ${a.length} \u4E2A\u6709\u6548\u7ED3\u679C`),a}catch(r){return x("error","getXiguaAnimes error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async getDetail(t){try{let n=`https://m.ixigua.com/video/${t.split("/").pop()}`,s=await pe(n,{headers:{"user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/17.5 Mobile/15A5370a Safari/602.1"}});if(!s||!s.data)return x("info","getXiguaDetail: \u8BF7\u6C42\u5931\u8D25\u6216\u65E0\u6570\u636E\u8FD4\u56DE"),0;let a=s.data.match(/"duration"\s*:\s*([\d.]+)/);return a?parseFloat(a[1]):0}catch(r){return x("error","getXiguaDetail error:",{message:r.message,name:r.name,stack:r.stack}),0}}async getEpisodes(t){try{let r=`https://m.ixigua.com/video/${t}`,n=await pe(r,{headers:{"user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/17.5 Mobile/15A5370a Safari/602.1"}});if(!n||!n.data)return x("info","getXiguaEposides: \u8BF7\u6C42\u5931\u8D25\u6216\u65E0\u6570\u636E\u8FD4\u56DE"),[];let s=n.data.match(/"episodes_list"\s*:\s*(\[[\s\S]*?\})\s*\]/);if(s)try{let a=s[0].replace(/"episodes_list"\s*:\s*/,"");return JSON.parse(a).map(u=>({seq_num:u.seq_num,title:u.title||`\u7B2C${u.seq_num}\u96C6`,url:`https://m.ixigua.com/video/${u.gid}`,gid:u.gid,cover_image_url:u.cover_image_url}))}catch(a){x("error","\u89E3\u6790episodes_list\u5931\u8D25:",a)}else return x("info","getXiguaEposides: episodes_list \u4E0D\u5B58\u5728"),[]}catch(r){return x("error","getXiguaEposides error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async handleAnimes(t,r,n){let s=[];if(!t||!Array.isArray(t))return x("error","[Xigua] sourceAnimes is not a valid array"),[];let a=await Promise.all(t.filter(o=>Wt(o.name,r)).map(async o=>{try{let c=o.url.split("/").pop(),u=await this.getEpisodes(c),l=[];for(let d of u){let f=d.title;l.push({name:f,url:d.url,title:`\u3010xigua\u3011 ${f}`})}if(l.length>0){let d={animeId:Tr(c),bangumiId:String(c),animeTitle:`${o.name}(${o.year})\u3010${o.type}\u3011from xigua`,type:o.type,typeDescription:o.type,imageUrl:o.img,startDate:zt(o.year),episodeCount:l.length,rating:0,isFavorited:!0,source:"xigua"};s.push(d),tt({...d,links:l}),R.animes.length>R.MAX_ANIMES&&it()}}catch(c){x("error",`[Xigua] Error processing anime: ${c.message}`)}}));return this.sortAndPushAnimesByYear(s,n),a}async getEpisodeDanmu(t){x("info","\u5F00\u59CB\u4ECE\u672C\u5730\u8BF7\u6C42\u897F\u74DC\u89C6\u9891\u5F39\u5E55...",t);let r=await this.getEpisodeDanmuSegments(t);if(!r||!r.segmentList||r.segmentList.length===0)return[];let n=r.segmentList;x("info",`\u5F39\u5E55\u5206\u6BB5\u6570\u91CF: ${n.length}`);let s=100,a=[];for(let o=0;o<n.length;o+=s){let c=n.slice(o,o+s),u=c.map(d=>this.getEpisodeSegmentDanmu(d)),l=await Promise.allSettled(u);for(let d=0;d<l.length;d++){let f=l[d],p=c[d],m=p.segment_start,h=p.segment_end;if(f.status==="fulfilled"){let g=f.value;g&&g.length>0&&a.push(...g)}else x("error",`\u83B7\u53D6\u5F39\u5E55\u6BB5\u5931\u8D25 (${m}-${h}s):`,f.reason.message)}o+s<n.length&&await new Promise(d=>setTimeout(d,200))}return a.length===0?(x("info",`\u897F\u74DC\u89C6\u9891: \u8BE5\u89C6\u9891\u6682\u65E0\u5F39\u5E55\u6570\u636E (vid=${t})`),[]):(Or(a),a)}async getEpisodeDanmuSegments(t){x("info","\u83B7\u53D6\u897F\u74DC\u89C6\u9891\u5F39\u5E55\u5206\u6BB5\u5217\u8868...",t);let r=t.split("/").pop(),n=await this.getDetail(t)*1e3;x("info","itemId:",r),x("info","duration:",n);let s=3e5,a=[];for(let o=0;o<n;o+=s){let c=o,u=Math.min(o+s,n),d=`https://ib.snssdk.com/vapp/danmaku/list/v1/?${bn({item_id:r,start_time:c,end_time:u,format:"json"})}`;a.push({type:"xigua",segment_start:c,segment_end:u,url:d})}return new Ve({type:"xigua",segmentList:a})}async getEpisodeSegmentDanmu(t){try{let r=await pe(t.url,{headers:{"user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/17.5 Mobile/15A5370a Safari/602.1"},retries:1}),n=[];if(r&&r.data){let a=(typeof r.data=="string"?JSON.parse(r.data):r.data).data??[];n.push(...a)}return n}catch(r){return x("error","\u8BF7\u6C42\u5206\u7247\u5F39\u5E55\u5931\u8D25:",r),[]}}formatComments(t){return t.map(r=>({cid:Number(r.danmaku_id),p:`${(r.offset_time/1e3).toFixed(2)},1,16777215,[xigua]`,m:r.text,t:Math.round(r.offset_time/1e3)}))}},Rfe=JO;ht();et();Pt();rs();Br();Zr();zr();var XO=class extends Xe{constructor(){super(),this.domain="https://mob.mddcloud.com.cn",this.headers={"user-agent":"Mdd/5.8.00 (Android+32+)","Content-Type":"application/json",version:"5.8.00",Referer:"mdd"}}getPlayload(t,r){let n=Date.now(),s=bn(r,!1),a=`os:Android|version:5.8.00|action:${t}|time:${n}|appToken:|privateKey:e1be6b4cf4021b3d181170d1879a530a9e4130b69032144d5568abfd6cd6c1c2|data:${s}&`;return{channel:"1000",data:r,deviceNum:"853BDD7A1DC011F1C341455071C03AEB",deviceType:0,jsonSign:0,os:"Android",sign:da(a),sourceVersion:0,terminalType:"APP",thirdStatus:0,time:n,version:"5.8.00",visitorStatus:0}}extractByRegex(t){let r=t.match(/\/video\/([a-f0-9]+)\.html/i),n=t.match(/[?&]uuid=([a-f0-9]+)/i);return{vodUuid:r?r[1]:null,uuid:n?n[1]:null,success:!!(r&&n)}}async search(t){try{let r="/searchApi/search/getAllSearchResult4820.action",n=`${this.domain}${r}`,s={keyWord:t},a=await sr(n,JSON.stringify(this.getPlayload(r,s)),{headers:this.headers});if(!a||!a.data)return x("info","[Maiduidui] \u641C\u7D22\u54CD\u5E94\u4E3A\u7A7A"),[];let o=typeof a.data=="string"?JSON.parse(a.data):a.data,c=[],u=o?.data;for(let l of u)if(l?.typeName==="\u5267\u96C6"||l?.typeName==="\u7535\u5F71"||l?.typeName==="\u7EFC\u827A")for(let d of l?.vodList)c.push({name:d.name,type:l.typeName,year:d.yearName,img:d.downImage,url:d.uuid});return x("info",`[Maiduidui] \u641C\u7D22\u627E\u5230 ${c.length} \u4E2A\u6709\u6548\u7ED3\u679C`),c}catch(r){return x("error","getMaiduiduiAnimes error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async getDetail(t){try{let r=this.extractByRegex(t),n=r.uuid,s=r.vodUuid,a="/api/vod/listVodSactions.action",o=`${this.domain}${a}`,c={hasIntroduction:0,vodUuid:s},u=await sr(o,JSON.stringify(this.getPlayload(a,c)),{headers:this.headers});if(!u||!u.data)return x("info","[Maiduidui] \u83B7\u53D6\u8BE6\u60C5\u4FE1\u606F\u54CD\u5E94\u4E3A\u7A7A"),[];let l=typeof u.data=="string"?JSON.parse(u.data):u.data;for(let d of l?.data)if(d.uuid===n)return d.duration;return 0}catch(r){return x("error","getMaiduiduiDetail error:",{message:r.message,name:r.name,stack:r.stack}),0}}async getEpisodes(t){try{let r="/api/vod/listVodSactions.action",n=`${this.domain}${r}`,s={hasIntroduction:0,vodUuid:t},a=await sr(n,JSON.stringify(this.getPlayload(r,s)),{headers:this.headers});if(!a||!a.data)return x("info","[Maiduidui] \u83B7\u53D6\u96C6\u4FE1\u606F\u54CD\u5E94\u4E3A\u7A7A"),[];let o=[];return(typeof a.data=="string"?JSON.parse(a.data):a.data)?.data.forEach(u=>{o.push({title:u.name,episodeId:u.uuid})}),o}catch(r){return x("error","getMaiduiduiEposides error:",{message:r.message,name:r.name,stack:r.stack}),[]}}async handleAnimes(t,r,n){let s=[];if(!t||!Array.isArray(t))return x("error","[Maiduidui] sourceAnimes is not a valid array"),[];let a=await Promise.all(t.filter(o=>Wt(o.name,r)).map(async o=>{try{let c=await this.getEpisodes(o.url),u=[];for(let l of c){let d=l.title;u.push({name:d,url:`https://www.mddcloud.com.cn/video/${o.url}.html?uuid=${l.episodeId}`,title:`\u3010maiduidui\u3011 ${d}`})}if(u.length>0){let l={animeId:Tr(o.url),bangumiId:o.url,animeTitle:`${o.name}(${o.year})\u3010${o.type}\u3011from maiduidui`,type:o.type,typeDescription:o.type,imageUrl:o.img,startDate:zt(o.year),episodeCount:u.length,rating:0,isFavorited:!0,source:"maiduidui"};s.push(l),tt({...l,links:u}),R.animes.length>R.MAX_ANIMES&&it()}}catch(c){x("error",`[Maiduidui] Error processing anime: ${c.message}`)}}));return this.sortAndPushAnimesByYear(s,n),a}async getEpisodeDanmu(t){x("info","\u5F00\u59CB\u4ECE\u672C\u5730\u8BF7\u6C42\u57CB\u5806\u5806\u5F39\u5E55...",t);let r=await this.getEpisodeDanmuSegments(t);if(!r||!r.segmentList||r.segmentList.length===0)return[];let n=r.segmentList;x("info",`\u5F39\u5E55\u5206\u6BB5\u6570\u91CF: ${n.length}`);let s=20,a=[];for(let o=0;o<n.length;o+=s){let c=n.slice(o,o+s),u=c.map(d=>this.getEpisodeSegmentDanmu(d)),l=await Promise.allSettled(u);for(let d=0;d<l.length;d++){let f=l[d],p=c[d],m=p.segment_start,h=p.segment_end;if(f.status==="fulfilled"){let g=f.value;g&&g.length>0&&a.push(...g)}else x("error",`\u83B7\u53D6\u5F39\u5E55\u6BB5\u5931\u8D25 (${m}-${h}s):`,f.reason.message)}o+s<n.length&&await new Promise(d=>setTimeout(d,200))}return a.length===0?(x("info",`\u57CB\u5806\u5806: \u8BE5\u89C6\u9891\u6682\u65E0\u5F39\u5E55\u6570\u636E (vid=${t})`),[]):(Or(a),a)}async getEpisodeDanmuSegments(t){x("info","\u83B7\u53D6\u57CB\u5806\u5806\u5F39\u5E55\u5206\u6BB5\u5217\u8868...",t);let n=this.extractByRegex(t).uuid,s=await this.getDetail(t);x("info","uuid:",n),x("info","duration:",s);let a=60,o=[];for(let c=0;c<s;c+=a){let u=c,l=Math.min(c+a,s);o.push({type:"maiduidui",segment_start:u,segment_end:l,url:t})}return new Ve({type:"maiduidui",segmentList:o})}async getEpisodeSegmentDanmu(t){try{let r=this.extractByRegex(t.url),n=r.uuid,s=r.vodUuid,a="/api/barrage/vodBarrage396.action",o=`${this.domain}${a}`,c={sactionUuid:n,times:t.segment_start,vodUuid:s},u=await sr(o,JSON.stringify(this.getPlayload(a,c)),{headers:this.headers,retries:1}),l=[];return u&&u.data&&((typeof u.data=="string"?JSON.parse(u.data):u.data).data??[]).forEach(p=>{l.push(...p.barrageList)}),l}catch(r){return x("error","\u8BF7\u6C42\u5206\u7247\u5F39\u5E55\u5931\u8D25:",r),[]}}formatComments(t){return t.map(r=>({cid:Number(r.uuid),p:`${r.times.toFixed(2)},1,${S2(r.color.replace("#",""))},[maiduidui]`,m:r.content,t:r.times}))}},Nfe=XO;ht();et();Pt();Br();zr();var jA=class extends Xe{get headers(){return{"Content-Type":"application/json","User-Agent":`huangxd-/danmu_api/${R.version}(https://github.com/huangxd-/danmu_api)`}}async search(t){try{let r=t.replace(/[._]/g," ").replace(/\s+/g," ").trim();x("info",`[Animeko] \u5F00\u59CB\u641C\u7D22 (V0): ${r}`);let a=await sr("https://api.bgm.tv/v0/search/subjects?limit=5",JSON.stringify({keyword:r,filter:{type:[2]}}),{headers:this.headers});if(!a||!a.data)return x("info","[Animeko] \u641C\u7D22\u8BF7\u6C42\u5931\u8D25\u6216\u65E0\u6570\u636E\u8FD4\u56DE"),[];let o=a.data.data||[];return o.length===0?(x("info","[Animeko] \u672A\u627E\u5230\u76F8\u5173\u6761\u76EE"),[]):(o=this.filterSearchResults(o,t),o.length===0?(x("info","[Animeko] \u8FC7\u6EE4\u540E\u65E0\u5339\u914D\u7ED3\u679C"),[]):(o.length>1&&(o=await this.checkRelationsAndModifyTitles(o)),x("info",`[Animeko] \u641C\u7D22\u5B8C\u6210\uFF0C\u627E\u5230 ${o.length} \u4E2A\u6709\u6548\u7ED3\u679C`),this.transformResults(o)))}catch(r){return x("error","[Animeko] Search error:",{message:r.message,name:r.name,stack:r.stack}),[]}}getExplicitSeasonNumber(t){if(!t)return null;let r=Jt(t),n=r.match(/(?:^|\s|\[|\(||)(?:Season|S|)\s*(\d+)(?:\s*|||Season|\]|\)||)?/i);if(n&&n[1])return parseInt(n[1],10);let s={\u4E00:1,\u4E8C:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6,\u4E03:7,\u516B:8,\u4E5D:9,\u5341:10},a=r.match(/([]+)[]/);return a&&s[a[1]]?s[a[1]]:null}removePunctuationAndSymbols(t){return t?t.replace(/[\s\x20-\x2F\x3A-\x40\x5B-\x60\x7B-\x7E\u2000-\u206F\u3000-\u3003\u3008-\u301F\u3030-\u303F\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF60\uFFE0-\uFFE6\uFF61-\uFF65\u2190-\u21FF\u2600-\u27BF]+/g,""):""}filterSearchResults(t,r){let s=u=>u?this.removePunctuationAndSymbols(Jt(u).toLowerCase()):"",a=s(r),o=t.filter(u=>{let l=new Set;u.name&&l.add(u.name),u.name_cn&&l.add(u.name_cn),u.infobox&&Array.isArray(u.infobox)&&u.infobox.forEach(f=>{f.key==="\u522B\u540D"&&Array.isArray(f.value)&&f.value.forEach(p=>{p.v&&l.add(p.v)}),f.key==="\u4E2D\u6587\u540D"&&typeof f.value=="string"&&l.add(f.value)});let d=0;for(let f of l){let p=s(f),m=this.calculateSimilarity(a,p);m>d&&(d=m)}return d>=.8});if(o.length===0)return[];let c=this.getExplicitSeasonNumber(r);if(c!==null&&c>1){x("info",`[Animeko] \u68C0\u6D4B\u5230\u6307\u5B9A\u5B63\u5EA6\u641C\u7D22: \u7B2C ${c} \u5B63`);let u=o.filter(l=>{let d=this.getExplicitSeasonNumber(l.name),f=this.getExplicitSeasonNumber(l.name_cn);return(d!==null?d:f!==null?f:1)===c});return u.length>0?u:(x("info",`[Animeko] \u672A\u627E\u5230\u7B2C ${c} \u5B63\u5BF9\u5E94\u6761\u76EE\uFF0C\u56DE\u9000\u81F3\u6700\u4F18\u7ED3\u679C`),[o[0]])}return o}calculateSimilarity(t,r){if(!t||!r)return 0;if(t===r)return 1;if(t.includes(r)||r.includes(t))return .8+Math.min(t.length,r.length)/Math.max(t.length,r.length)*.2;let n=t.length,s=r.length,a=[];for(let u=0;u<=n;u++)a[u]=[u];for(let u=0;u<=s;u++)a[0][u]=u;for(let u=1;u<=n;u++)for(let l=1;l<=s;l++){let d=t.charAt(u-1)===r.charAt(l-1)?0:1;a[u][l]=Math.min(a[u-1][l]+1,a[u][l-1]+1,a[u-1][l-1]+d)}let o=a[n][s],c=Math.max(n,s);return c===0?1:1-o/c}hasExplicitSeasonInfo(t){return t?[/\s*[0-9]+\s*[]/i,/Season\s*\d+/i,/S\d+/i,/Part\s*\d+/i,/OVA/i,/OAD/i,/|Movie|Film/i,/|/i,/SP/i,/(?<!\d)\d+$/,/\S+/i,/\S+/i,/Act\s*\d+/i,/Phase\s*\d+/i].some(n=>n.test(t)):!1}async checkRelationsAndModifyTitles(t){let r=Math.min(t.length,3);for(let n=0;n<r;n++)for(let s=0;s<r;s++){if(n===s)continue;let a=t[n],o=t[s],c=a.name_cn||a.name,u=o.name_cn||o.name;if(u.includes(c)&&u.length>c.length){if(this.hasExplicitSeasonInfo(u))continue;let d=(await this.getSubjectRelations(a.id)).find(f=>f.id===o.id);if(d&&(x("info",`[Animeko] \u68C0\u6D4B\u5230\u5173\u7CFB: [${c}] -> ${d.relation} -> [${u}]`),["\u7EED\u96C6","\u756A\u5916\u7BC7","\u4E3B\u7EBF\u6545\u4E8B","\u524D\u4F20","\u4E0D\u540C\u6F14\u7ECE","\u884D\u751F"].includes(d.relation))){let p=d.relation;p==="\u7EED\u96C6"&&(p="\u7EED\u7BC7"),o._relation_mark=`(${p})`}}}return t}async getSubjectRelations(t){try{let r=`https://api.bgm.tv/v0/subjects/${t}/subjects`,n=await pe(r,{headers:this.headers});return!n||!n.data||!Array.isArray(n.data)?[]:n.data.filter(s=>s.type===2).map(s=>({id:s.id,name:s.name_cn||s.name,relation:s.relation}))}catch(r){return x("warn",`[Animeko] \u83B7\u53D6\u5173\u7CFB\u5931\u8D25 ID:${t}: ${r.message}`),[]}}transformResults(t){return t.map(r=>{let n="\u52A8\u6F2B";if(r.platform)switch(r.platform){case"TV":n="TV\u52A8\u753B";break;case"Web":n="Web\u52A8\u753B";break;case"OVA":n="OVA";break;case"Movie":n="\u5267\u573A\u7248";break;default:n=r.platform}let s=r._relation_mark?` ${r._relation_mark}`:"",a=[];return r.infobox&&Array.isArray(r.infobox)&&r.infobox.forEach(o=>{o.key==="\u522B\u540D"&&Array.isArray(o.value)&&o.value.forEach(c=>{c&&c.v&&a.push(c.v)})}),r.name_cn&&r.name_cn!==r.name&&a.push(r.name_cn),{id:r.id,name:r.name,name_cn:(r.name_cn||r.name)+s,aliases:a,images:r.images,air_date:r.date,score:r.score,typeDescription:n}})}async getEpisodes(t){let r=[],n=0,s=200;try{for(;;){let a=`https://api.bgm.tv/v0/episodes?subject_id=${t}&limit=${s}&offset=${n}`,o=await pe(a,{headers:this.headers});if(!o||!o.data||!Array.isArray(o.data.data)){n===0&&x("info",`[Animeko] Subject ${t} \u65E0\u5267\u96C6\u6570\u636E\u6216\u54CD\u5E94\u5F02\u5E38`);break}let c=o.data.data;if(c.length===0||(r=r.concat(c),c.length===s&&x("info",`[Animeko] ID:${t} \u6B63\u52A0\u8F7D\u66F4\u591A\u5267\u96C6 (\u5F53\u524D\u5DF2\u83B7: ${r.length})`),c.length<s))break;if(n+=s,n>1600){x("warn",`[Animeko] ID:${t} \u5267\u96C6\u6570\u91CF\u8D85\u8FC7\u5B89\u5168\u9650\u5236(1600)\uFF0C\u505C\u6B62\u7FFB\u9875`);break}}return r}catch(a){return x("error","[Animeko] GetEpisodes error:",{message:a.message,id:t,offset:n}),[]}}async handleAnimes(t,r,n){let s=[];if(!t||!Array.isArray(t))return t&&x("error","[Animeko] sourceAnimes is not a valid array"),[];let a=await Promise.all(t.map(async o=>{try{let c=await this.getEpisodes(o.id),u=[],l=o.air_date||"";if(Array.isArray(c)){c.sort((d,f)=>(d.sort||0)-(f.sort||0));for(let d of c){if(d.type!==0)continue;!l&&d.airdate&&(l=d.airdate);let f=d.sort||d.ep,p=d.name_cn||d.name||"",m=`\u7B2C${f}\u8BDD ${p}`.trim();u.push({name:`${f}`,url:d.id.toString(),title:`\u3010animeko\u3011 ${m}`})}}if(u.length>0){let d=l?new Date(l).getFullYear():"",f={animeId:o.id,bangumiId:String(o.id),animeTitle:`${o.name_cn||o.name}(${d})\u3010${o.typeDescription||"\u52A8\u6F2B"}\u3011from animeko`,aliases:o.aliases||[],type:"\u52A8\u6F2B",typeDescription:o.typeDescription||"\u52A8\u6F2B",imageUrl:o.images?o.images.common||o.images.large:"",startDate:l,episodeCount:u.length,rating:o.score||0,isFavorited:!0,source:"animeko"};s.push(f),tt({...f,links:u}),R.animes.length>R.MAX_ANIMES&&it()}}catch(c){x("error",`[Animeko] Error processing anime ${o.id}: ${c.message}`)}}));return this.sortAndPushAnimesByYear(s,n),a}async getEpisodeDanmu(t){let r=String(t).trim();if(r.includes("/")){let c=r.split("/");r=c[c.length-1]}if(r.includes("?")&&(r=r.split("?")[0]),!r)return x("error","[Animeko] \u65E0\u6548\u7684 episodeId"),[];let n="https://danmaku-global.myani.org",s="https://danmaku-cn.myani.org",a=async c=>{let u=`${c}/v1/danmaku/${r}`;try{let l=await pe(u,{headers:this.headers});if(!l||!l.data)return null;let d=l.data;return d.danmakuList?d.danmakuList:null}catch(l){return x("warn",`[Animeko] \u8BF7\u6C42\u8282\u70B9\u5931\u8D25: ${c} - ${l.message}`),null}},o=await a(n);return o||(x("info",`[Animeko] Global \u8282\u70B9\u83B7\u53D6\u5931\u8D25/\u65E0\u6570\u636E\uFF0C\u964D\u7EA7\u5C1D\u8BD5 CN \u8282\u70B9... ID:${r}`),o=await a(s)),o?(x("info",`[Animeko] \u6210\u529F\u83B7\u53D6\u5F39\u5E55\uFF0C\u5171 ${o.length} \u6761`),o):(x("error","[Animeko] \u6240\u6709\u8282\u70B9\u5C1D\u8BD5\u5747\u5931\u8D25\uFF0C\u65E0\u6CD5\u83B7\u53D6\u5F39\u5E55"),[])}async getEpisodeDanmuSegments(t){return new Ve({type:"animeko",segmentList:[{type:"animeko",segment_start:0,segment_end:3e4,url:String(t)}]})}async getEpisodeSegmentDanmu(t){let r=(t.url||"").trim();return r?this.getEpisodeDanmu(r):[]}formatComments(t){if(!Array.isArray(t))return[];let r={NORMAL:1,TOP:5,BOTTOM:4};return t.filter(n=>n&&n.danmakuInfo).map(n=>{let s=n.danmakuInfo,a=(Number(s.playTime)/1e3).toFixed(2),o=r[s.location]||1,c=s.color===-1?16777215:s.color,u=R.danmuSimplifiedTraditional==="simplified"?Jt(s.text):s.text;return{cid:n.id,p:`${a},${o},${c},[animeko]`,m:u}})}};ht();et();Pt();Zr();zr();var HA=class extends Xe{async search(t){}async getEpisodes(t){}async handleAnimes(t,r,n){}async getEpisodeDanmu(t){try{let r=await pe(`${R.otherServer}/?url=${t}&ac=dm`,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"}});return x("info",`danmu response from ${R.otherServer}: \u2193\u2193\u2193`),Or(r.data),r.data}catch(r){return x("error",`\u8BF7\u6C42 ${R.otherServer} \u5931\u8D25:`,r),[]}}async getEpisodeDanmuSegments(t){return x("info","\u83B7\u53D6\u7B2C\u4E09\u65B9\u670D\u52A1\u5668\u5F39\u5E55\u5206\u6BB5\u5217\u8868...",t),new Ve({type:"other_server",segmentList:[{type:"other_server",segment_start:0,segment_end:3e4,url:t}]})}async getEpisodeSegmentDanmu(t){return this.getEpisodeDanmu(t.url)}formatComments(t){return t}};zr();var kfe=new vA,Dfe=new _A,zA=new TA,GA=new BA,VA=new RA,KA=new NA,M2=new kA,pd=new DA,hd=new QA,md=new PA,Xp=new OA,ic=new $A,gd=new Tfe,Zp=new UA,e0=new qA,t0=new Rfe,r0=new Nfe,YA=new jA,r5=new HA,ZO=new CA(pd,md,hd,ic,gd),Pfe=new IA(ZO),L2=new Map;function e5(e,t){if(!t)return!0;let r=wu(e.animeTitle);return r?r===t:!0}function pnt(e,t,r){let n=kn(e.animeTitle),s=kn(t);if(n.includes(s)){let a=n.match(/^(.*?)\(\d{4}\)/),o=a?a[1].trim():n.split("(")[0].trim();if(o.startsWith(s)){let c=o.substring(s.length).trim();if(c===""&&r===1)return!0;let u=c.match(/\d+/);if(u&&u[0]===r.toString())return!0;let l=c.match(/[]+/);if(l&&Kde(l[0])===r)return!0}return!1}else return!1}async function F2(e,t=null,r=null){let n=e.searchParams.get("keyword");if(x("info",`Search anime with keyword: ${n}`),n==="")return Ee({errorCode:0,success:!0,errorMessage:"",animes:[]});if(R.animeTitleSimplified){let c=Jt(n);x("info",`searchAnime converted traditional to simplified: ${n} -> ${c}`),n=c}let s=PO(n);if(s!==null)return Ee({errorCode:0,success:!0,errorMessage:"",animes:s});let a=[];if(/^(https?:\/\/)?([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,6}(:\d+)?(\/[^\s]*)?$/.test(n)){let c=Tu.fromJson({animeId:111,bangumiId:"string",animeTitle:n,type:"type",typeDescription:"string",imageUrl:"string",startDate:"2025-08-08T13:25:11.189Z",episodeCount:1,rating:0,isFavorited:!0}),u="unknown";n.includes(".qq.com")?u="qq":n.includes(".iqiyi.com")?u="qiyi":n.includes(".mgtv.com")?u="imgo":n.includes(".youku.com")?u="youku":n.includes(".bilibili.com")?u="bilibili1":n.includes(".miguvideo.com")?u="migu":n.includes(".sohu.com")?u="sohu":n.includes(".le.com")?u="leshi":n.includes(".douyin.com")||n.includes(".ixigua.com")?u="xigua":n.includes(".mddcloud.com.cn")&&(u="maiduidui");let l=await kde(n),d=[{name:"\u624B\u52A8\u89E3\u6790\u94FE\u63A5\u5F39\u5E55",url:n,title:`\u3010${u}\u3011 ${l}`}];return a.push(c),tt(Tu.fromJson({...c,links:d})),R.animes.length>R.MAX_ANIMES&&it(),R.localCacheValid&&a.length!==0&&await w2(),R.redisValid&&a.length!==0&&await g2(),Ee({errorCode:0,success:!0,errorMessage:"",animes:a})}try{x("info",`Search sourceOrderArr: ${R.sourceOrderArr}`);let c=R.sourceOrderArr.map(D=>{if(D==="360")return kfe.search(n);if(D==="vod")return Dfe.search(n,t,r);if(D==="tmdb")return Pfe.search(n);if(D==="douban")return ZO.search(n);if(D==="renren")return zA.search(n);if(D==="hanjutv")return GA.search(n);if(D==="bahamut")return VA.search(n);if(D==="dandan")return KA.search(n);if(D==="custom")return M2.search(n);if(D==="tencent")return pd.search(n);if(D==="youku")return hd.search(n);if(D==="iqiyi")return md.search(n);if(D==="imgo")return Xp.search(n);if(D==="bilibili")return ic.search(n);if(D==="migu")return gd.search(n);if(D==="sohu")return Zp.search(n);if(D==="leshi")return e0.search(n);if(D==="xigua")return t0.search(n);if(D==="maiduidui")return r0.search(n);if(D==="animeko")return YA.search(n)}),u=await Promise.all(c),l={};R.sourceOrderArr.forEach((D,j)=>{l[D]=u[j]});let{vod:d,360:f,tmdb:p,douban:m,renren:h,hanjutv:g,bahamut:A,dandan:y,custom:v,tencent:b,youku:E,iqiyi:I,imgo:w,bilibili:S,migu:T,sohu:B,leshi:N,xigua:O,maiduidui:k,animeko:P}=l;for(let D of R.sourceOrderArr)if(D==="360")await kfe.handleAnimes(f,n,a);else if(D==="vod"){if(d&&Array.isArray(d))for(let j of d)j&&j.list&&j.list.length>0&&await Dfe.handleAnimes(j.list,n,a,j.serverName)}else D==="tmdb"?await Pfe.handleAnimes(p,n,a):D==="douban"?await ZO.handleAnimes(m,n,a):D==="renren"?await zA.handleAnimes(h,n,a):D==="hanjutv"?await GA.handleAnimes(g,n,a):D==="bahamut"?await VA.handleAnimes(A,n,a):D==="dandan"?await KA.handleAnimes(y,n,a):D==="custom"?await M2.handleAnimes(v,n,a):D==="tencent"?await pd.handleAnimes(b,n,a):D==="youku"?await hd.handleAnimes(E,n,a):D==="iqiyi"?await md.handleAnimes(I,n,a):D==="imgo"?await Xp.handleAnimes(w,n,a):D==="bilibili"?await ic.handleAnimes(S,n,a):D==="migu"?await gd.handleAnimes(T,n,a):D==="sohu"?await Zp.handleAnimes(B,n,a):D==="leshi"?await e0.handleAnimes(N,n,a):D==="xigua"?await t0.handleAnimes(O,n,a):D==="maiduidui"?await r0.handleAnimes(k,n,a):D==="animeko"&&await YA.handleAnimes(P,n,a)}catch(c){x("error","\u53D1\u751F\u9519\u8BEF:",c)}if(R.mergeSourcePairs.length>0&&await mfe(a),LO(a,n),R.enableAnimeEpisodeFilter){let c=[];for(let u of a){let l=u.animeTitle||"";if(R.animeTitleFilter&&R.animeTitleFilter.test(l)){x("info",`[searchAnime] Anime ${u.animeId} filtered by name: ${l}`);continue}let d=R.animes.find(f=>f.animeId===u.animeId);if(d&&d.links){let f=d.links.map((p,m)=>({episodeId:p.id,episodeTitle:p.title,episodeNumber:m+1}));f=f.filter(p=>!R.episodeTitleFilter.test(p.episodeTitle)),x("info",`[searchAnime] Anime ${u.animeId} filtered episodes: ${f.length}/${d.links.length}`),f.length>0&&c.push(u)}}a.length=0,a.push(...c)}return R.localCacheValid&&a.length!==0&&await w2(),R.redisValid&&a.length!==0&&await g2(),a.length>0&&OO(n,a),Ee({errorCode:0,success:!0,errorMessage:"",animes:a})}function n5(e){return e.filter((r,n,s)=>!s.slice(0,n).some(a=>a.episodeTitle===r.episodeTitle))}function hnt(e){if(!e)return null;let t=e.match(/(\d+)/);if(t)return parseInt(t[1],10);let r=e.match(/[Ee][Pp]?(\d+)/);if(r)return parseInt(r[1],10);let n=e.match(/(?:^|\s)(\d+)(?:\s|$)/);return n?parseInt(n[1],10):null}function t5(e,t){if(!e||!t)return 0;let r=e.split("&").map(a=>a.trim().toLowerCase()).filter(a=>a),n=t.split("&").map(a=>a.trim().toLowerCase()).filter(a=>a),s=0;for(let a of n)r.some(c=>c===a||c.includes(a)&&a.length>2||a.includes(c)&&c.length>2)&&s++;return s===0?0:s*1e3-r.length}function mnt(e){let t=e.match(/from\s+([a-zA-Z0-9&]+)/i);return t?t[1]:null}function s5(e,t,r=null){if(!e||e.length===0)return null;let n=e;if(r&&(n=e.filter(s=>{let a=RO(s.episodeTitle);return t5(a,r)>0})),n.length===0)return null;for(let s of n){let a=hnt(s.episodeTitle);if(a===t)return x("info",`Found episode by title number: ${s.episodeTitle} (extracted: ${a})`),s}if(n.length>=t){let s=n[t-1];return x("info",`Using fallback array index for episode ${t}: ${s.episodeTitle}`),s}for(let s of n)if(s.episodeNumber&&parseInt(s.episodeNumber,10)===t)return x("info",`Found episode by episodeNumber: ${s.episodeTitle} (episodeNumber: ${s.episodeNumber})`),s;return null}async function gnt(e,t,r,n,s,a,o,c){let u=R.aiBaseUrl,l=R.aiModel,d=R.aiApiKey,f=R.aiMatchPrompt;if(!R.aiValid||!f)return x("warn","AI configuration is incomplete, falling back to normal matching"),{resEpisode:null,resAnime:null};let p=new tc({apiKey:d,baseURL:u,model:l,systemPrompt:f}),m={title:s,season:e,episode:t,year:r,dynamicPlatformOrder:o,preferAnimeId:c,animes:n.animes.map(h=>{let g=h.animeTitle||"",A=g.match(/^(.*?)\(\d{4}\)/),y=A?A[1].trim():g.split("(")[0].trim();return{animeId:h.animeId,animeTitle:y,type:h.type,year:h.startDate?h.startDate.slice(0,4):null,episodeCount:h.episodeCount,source:h.source}})};try{let h=JSON.stringify(m,null,2),g=await p.ask(h);x("info",`AI match response: ${g}`);let A;try{let S=g.match(/```json\s*([\s\S]*?)\s*```|```([\s\S]*?)\s*```|({[\s\S]*})/),T=S?S[1]||S[2]||S[3]:g;A=JSON.parse(T.trim())}catch(S){return x("error",`Failed to parse AI response: ${S.message}`),{resEpisode:null,resAnime:null}}let y=A.animeIndex;if(y==null)return{resEpisode:null,resAnime:null};let v=n.animes[y];if(!v)return x("error",`AI returned invalid anime index: ${y}`),{resEpisode:null,resAnime:null};let b=new URL(a.url.replace("/match",`bangumi/${v.animeId}`)),I=await(await n0(b.pathname)).json(),w=null;if(e&&t){let S=I.bangumi.episodes.filter(B=>!R.episodeTitleFilter.test(B.episodeTitle)),T=n5(S);x("info","\u8FC7\u6EE4\u540E\u7684\u96C6\u6807\u9898",T.map(B=>B.episodeTitle)),w=s5(T,t)}else I.bangumi.episodes.length>0&&(w=I.bangumi.episodes[0]);return{resEpisode:w,resAnime:v}}catch(h){return x("error",`AI matching failed: ${h.message}`),{resEpisode:null,resAnime:null}}}async function Ant(e,t,r,n,s,a,o,c){let u={anime:null,episode:null,score:-9999},l=kn(s);for(let d of n.animes){if(R.rememberLastSelect&&c&&String(d.bangumiId)!==String(c)&&String(d.animeId)!==String(c))continue;let p=!1;if(e&&t){if(kn(d.animeTitle).includes(l)){if(!e5(d,r)){x("info",`Year mismatch: anime year ${wu(d.animeTitle)} vs query year ${r}`);continue}let y=R.rememberLastSelect&&c&&(String(d.bangumiId)===String(c)||String(d.animeId)===String(c));(pnt(d,s,e)||y)&&(p=!0)}}else if(d.animeTitle.split("(")[0].trim()===s){if(!e5(d,r)){x("info",`Year mismatch: anime year ${wu(d.animeTitle)} vs query year ${r}`);continue}p=!0}if(!p)continue;let m=new URL(a.url.replace("/match",`bangumi/${d.bangumiId}`)),g=await(await n0(m.pathname)).json();x("info","\u5224\u65AD\u5267\u96C6",`Anime: ${d.animeTitle}`),x("info",g);let A=null;if(e&&t){let y=g.bangumi.episodes.filter(b=>!R.episodeTitleFilter.test(b.episodeTitle)),v=n5(y);x("info","\u8FC7\u6EE4\u540E\u7684\u96C6\u6807\u9898",v.map(b=>b.episodeTitle)),A=s5(v,t,o)}else if(g.bangumi.episodes.length>0)if(o){let y=g.bangumi.episodes.find(v=>{let b=RO(v.episodeTitle);return t5(b,o)>0});y&&(A=y)}else A=g.bangumi.episodes[0];if(A){let y=mnt(d.animeTitle)||d.source,v=0;if(o?v=t5(y,o):v=1,v>u.score&&(u={anime:d,episode:A,score:v}),!o)break}}return{resEpisode:u.episode,resAnime:u.anime}}async function ynt(e,t,r,n,s,a,o){for(let c of e.animes){if(s&&!e5(c,s)){x("info",`Fallback: Year mismatch: anime year ${wu(c.animeTitle)} vs query year ${s}`);continue}let u=new URL(t.url.replace("/match",`bangumi/${c.bangumiId}`)),d=await(await n0(u.pathname)).json();if(x("info",d),r&&n){let f=d.bangumi.episodes.filter(h=>!R.episodeTitleFilter.test(h.episodeTitle)),p=n5(f),m=s5(p,n,null);if(m){a=m,o=c;break}}else if(d.bangumi.episodes.length>0){a=d.bangumi.episodes[0],o=c;break}}return{resEpisode:a,resAnime:o}}async function bnt(e){let t=/^(.+?)[.\s]+S(\d+)E(\d+)/i,r=e.match(t),n,s,a,o;if(r){n=r[1].trim(),s=parseInt(r[2],10),a=parseInt(r[3],10);let c=e.match(/(?:\.|\(|)((?:19|20)\d{2})(?:\)||\.|$)/);c&&(o=parseInt(c[1],10));let u=n.match(/^[\u4e00-\u9fa5]+[^.\r\n]*/);if(u)n=u[0];else if(/^[A-Za-z0-9]/.test(n)){let l=n.match(/^([A-Za-z0-9.&\s]+?)(?=\.\d{4}|$)/);l&&(n=l[1].trim().replace(/[._]/g," "))}else{let l=n.split(/\.(?:19|20)\d{2}|2160p|1080p|720p|H265|iPhone/)[0],d=l.match(/^[\u4e00-\u9fa5]+/);n=d?d[0]:l.trim()}n=n.replace(/\.\d{4}$/i,"").trim()}else{let c=/^([^.\s]+(?:[.\s][^.\s]+)*?)(?:[.\s](?:\d{4}|(?:19|20)\d{2}|\d{3,4}p|S\d+|E\d+|WEB|BluRay|Blu-ray|HDTV|DVDRip|BDRip|x264|x265|H\.?264|H\.?265|AAC|AC3|DDP|TrueHD|DTS|10bit|HDR|60FPS))/i,u=e.match(c);n=u?u[1].replace(/[._]/g," ").trim():e,s=null,a=null;let l=e.match(/(?:\.|\(|)((?:19|20)\d{2})(?:\)||\.|$)/);l&&(o=parseInt(l[1],10))}return R.titleToChinese&&(n=await sfe(n.replace("."," "),s,a)),x("info","Parsed title, season, episode, year",{title:n,season:s,episode:a,year:o}),{title:n,season:s,episode:a,year:o}}async function Ofe(e,t){try{let r=await t.json();if(!r)return x("error","Request body is empty"),Ee({errorCode:400,success:!1,errorMessage:"Empty request body"},400);let{fileName:n}=r;if(!n)return x("error","Missing fileName parameter in request body"),Ee({errorCode:400,success:!1,errorMessage:"Missing fileName parameter"},400);let{cleanFileName:s,preferredPlatform:a}=Yde(n);x("info",`Processing anime match for query: ${n}`),x("info",`Parsed cleanFileName: ${s}, preferredPlatform: ${a}`);let{title:o,season:c,episode:u,year:l}=await bnt(s);if(R.titleMappingTable&&R.titleMappingTable.size>0){let E=R.titleMappingTable.get(o);E&&(o=E,x("info",`Title mapped from original: ${e.searchParams.get("keyword")} to: ${o}`))}if(R.animeTitleSimplified){let E=Jt(o);x("info",`matchAnime converted traditional to simplified: ${o} -> ${E}`),o=E}let[d,f]=QO(o);x("info",`prefer animeId: ${d} from ${f}`);let p=new URL(t.url.replace("/match",`/search/anime?keyword=${o}`)),h=await(await F2(p,d,f)).json();x("info",`searchData: ${h.animes}`);let g,A,y=Wde(a);x("info",`Original platformOrderArr: ${R.platformOrderArr}`),x("info",`Dynamic platformOrder: ${y}`),x("info",`Preferred platform: ${a||"none"}`);let v=await gnt(c,u,l,h,o,t,y,d);if(v.resAnime)g=v.resAnime,A=v.resEpisode,x("info",`AI match found: ${g.animeTitle}; episode: ${A.episodeTitle}`);else{for(let E of y){let I=await Ant(c,u,l,h,o,t,E,d);if(A=I.resEpisode,g=I.resAnime,g){x("info",`Found match with platform: ${E||"default"}`);break}}if(!g){let E=await ynt(h,t,c,u,l,A,g);A=E.resEpisode,g=E.resAnime}}let b={errorCode:0,success:!0,errorMessage:"",isMatched:!1,matches:[]};return A&&(b.isMatched=!0,b.matches=[b2.fromJson({episodeId:A.episodeId,animeId:g.animeId,animeTitle:g.animeTitle,episodeTitle:A.episodeTitle,type:g.type,typeDescription:g.typeDescription,shift:0,imageUrl:g.imageUrl})]),x("info",`resMatchData: ${b}`),Ee(b)}catch(r){return x("error",`Failed to parse request body: ${r.message}`),Ee({errorCode:400,success:!1,errorMessage:"Invalid JSON body"},400)}}async function $fe(e){let t=e.searchParams.get("anime"),r=e.searchParams.get("episode")||"";if(R.animeTitleSimplified){let c=Jt(t);x("info",`searchEpisodes converted traditional to simplified: ${t} -> ${c}`),t=c}if(x("info",`Search episodes with anime: ${t}, episode: ${r}`),!t)return x("error","Missing anime parameter"),Ee({errorCode:400,success:!1,errorMessage:"Missing anime parameter"},400);let n=new URL(`/search/anime?keyword=${t}`,e.origin),a=await(await F2(n)).json();if(!a.success||!a.animes||a.animes.length===0)return x("info","No anime found for the given title"),Ee({errorCode:0,success:!0,errorMessage:"",hasMore:!1,animes:[]});let o=[];for(let c of a.animes){let u=new URL(`/bangumi/${c.bangumiId}`,e.origin),d=await(await n0(u.pathname)).json();if(d.success&&d.bangumi&&d.bangumi.episodes){let f=d.bangumi.episodes;if(r){if(r==="movie")f=d.bangumi.episodes.filter(p=>c.typeDescription&&(c.typeDescription.includes("\u7535\u5F71")||c.typeDescription.includes("\u5267\u573A\u7248")||p.episodeTitle.toLowerCase().includes("movie")||p.episodeTitle.includes("\u5267\u573A\u7248")));else if(/^\d+$/.test(r)){let p=parseInt(r);f=d.bangumi.episodes.filter(m=>parseInt(m.episodeNumber)===p)}}f.length>0&&o.push(x2.fromJson({animeId:c.animeId,animeTitle:c.animeTitle,type:c.type,typeDescription:c.typeDescription,episodes:f.map(p=>({episodeId:p.episodeId,episodeTitle:p.episodeTitle}))}))}}return x("info",`Found ${o.length} animes with filtered episodes`),Ee({errorCode:0,success:!0,errorMessage:"",animes:o})}async function n0(e){let t=e.split("/").pop(),r=parseInt(t),n;if(isNaN(r)||(n=R.animes.find(o=>o.animeId.toString()===r.toString())),n||(n=R.animes.find(o=>o.bangumiId===t)),!n)return x("error",`Anime with ID ${t} not found`),Ee({errorCode:404,success:!1,errorMessage:"Anime not found",bangumi:null},404);x("info",`Fetched details for anime ID: ${t}`);let s=[];for(let o=0;o<n.links.length;o++){let c=n.links[o];s.push({seasonId:`season-${n.animeId}`,episodeId:c.id,episodeTitle:`${c.title}`,episodeNumber:`${o+1}`,airDate:n.startDate})}if(R.enableAnimeEpisodeFilter){if(s=s.filter(o=>!R.episodeTitleFilter.test(o.episodeTitle)),x("info",`[getBangumi] Episode filter enabled. Filtered episodes: ${s.length}/${n.links.length}`),s.length===0)return x("warn",`[getBangumi] No valid episodes after filtering for anime ID ${t}`),Ee({errorCode:404,success:!1,errorMessage:"No valid episodes after filtering",bangumi:null},404);s=s.map((o,c)=>({...o,episodeNumber:`${c+1}`}))}let a=v2.fromJson({animeId:n.animeId,bangumiId:n.bangumiId,animeTitle:n.animeTitle,imageUrl:n.imageUrl,isOnAir:!0,airDay:1,isFavorited:n.isFavorited,rating:n.rating,type:n.type,typeDescription:n.typeDescription,seasons:[{id:`season-${n.animeId}`,airDate:n.startDate,name:"Season 1",episodeCount:n.episodeCount}],episodes:s});return Ee({errorCode:0,success:!0,errorMessage:"",bangumi:a})}async function Ent(e){let t=e.split(Wp),n=t.map(d=>d.split(":")[0]).filter(Boolean).join("\uFF06");x("info",`[Merge] \u5F00\u59CB\u83B7\u53D6 [${n}] \u805A\u5408\u5F39\u5E55...`);let s=Zo(e);if(s)return x("info",`[Merge] \u547D\u4E2D\u7F13\u5B58 [${n}]\uFF0C\u8FD4\u56DE ${s.length} \u6761`),s;let a={},o=t.map(async d=>{let f=d.indexOf(":");if(f===-1)return[];let p=d.substring(0,f),m=d.substring(f+1);if(!p||!m)return[];let h=`${p}:${m}`;if(L2.has(h)){x("info",`[Merge] \u590D\u7528\u6B63\u5728\u8FDB\u884C\u7684\u8BF7\u6C42: ${h}`);try{return await L2.get(h)||[]}catch{return[]}}let g=(async()=>{let A=null;if(p==="renren"?A=zA:p==="hanjutv"?A=GA:p==="bahamut"?A=VA:p==="dandan"?A=KA:p==="tencent"?A=pd:p==="youku"?A=hd:p==="iqiyi"?A=md:p==="imgo"?A=Xp:p==="bilibili"?A=ic:p==="migu"?A=gd:p==="sohu"?A=Zp:p==="leshi"?A=e0:p==="xigua"?A=t0:p==="maiduidui"?A=r0:p==="animeko"&&(A=YA),A)try{let y=await A.getEpisodeDanmu(m),v=A.formatComments(y);return a[p]=v.length,v}catch(y){return x("error",`[Merge] \u83B7\u53D6 ${p} \u5931\u8D25: ${y.message}`),a[p]=0,[]}return[]})();L2.set(h,g);try{return await g}finally{L2.delete(h)}}),c=await Promise.all(o),u=[];c.forEach(d=>{u=gfe(u,d)});let l=Object.entries(a).map(([d,f])=>`${d}: ${f}`).join(", ");return x("info",`[Merge] \u805A\u5408\u539F\u59CB\u6570\u636E\u5B8C\u6210: \u603B\u8BA1 ${u.length} \u6761 (${l})`),EA(u,n)}async function Lfe(e,t,r){let n=parseInt(e.split("/").pop()),s=bA(n),a=$O(n),o=a?(a.match(/(.*?)/)||[null])[0]?.replace(/[]/g,""):null;if(x("info","comment url...",s),x("info","comment title...",a),x("info","comment platform...",o),!s)return x("error",`Comment with ID ${n} not found`),Ee({count:0,comments:[]},404);x("info",`Fetched comment ID: ${n}`);let c=Zo(s);if(c!==null){let p={count:c.length,comments:c};return eo(p,t)}x("info","\u5F00\u59CB\u4ECE\u672C\u5730\u8BF7\u6C42\u5F39\u5E55...",s);let u=[];if(s&&s.includes(Wp))u=await Ent(s);else{s.includes(".qq.com")?u=await pd.getComments(s,o,r):s.includes(".iqiyi.com")?u=await md.getComments(s,o,r):s.includes(".mgtv.com")?u=await Xp.getComments(s,o,r):s.includes(".bilibili.com")||s.includes("b23.tv")?(s.includes("b23.tv")&&(s=await ic.resolveB23Link(s)),u=await ic.getComments(s,o,r)):s.includes(".youku.com")?u=await hd.getComments(s,o,r):s.includes(".miguvideo.com")?u=await gd.getComments(s,o,r):s.includes(".sohu.com")?u=await Zp.getComments(s,o,r):s.includes(".le.com")?u=await e0.getComments(s,o,r):s.includes(".douyin.com")||s.includes(".ixigua.com")?u=await t0.getComments(s,o,r):s.includes(".mddcloud.com.cn")&&(u=await r0.getComments(s,o,r));let p=/^(https?:\/\/)?([\w.-]+)\.([a-z]{2,})(\/.*)?$/i;p.test(s)||(o==="renren"?u=await zA.getComments(s,o,r):o==="hanjutv"?u=await GA.getComments(s,o,r):o==="bahamut"?u=await VA.getComments(s,o,r):o==="dandan"?u=await KA.getComments(s,o,r):o==="custom"?u=await M2.getComments(s,o,r):o==="animeko"&&(u=await YA.getComments(s,o,r))),(!u||u.length===0)&&p.test(s)&&(u=await r5.getComments(s,"other_server",r))}let[l,d]=MO(n);l&&d&&(FO(l,d),R.localCacheValid&&l&&C2("lastSelectMap",JSON.stringify(Object.fromEntries(R.lastSelectMap))),R.redisValid&&l&&CO("lastSelectMap",R.lastSelectMap).catch(p=>x("error","Redis set error",p))),r||(u&&u.comments&&(u=u.comments),Array.isArray(u)||(u=[]),u.length>0&&yA(s,u));let f={count:u.length,comments:u};return eo(f,t)}async function Mfe(e,t,r){try{if(!e||typeof e!="string")return x("error","Missing or invalid url parameter"),Ee({errorCode:400,success:!1,errorMessage:"Missing or invalid url parameter",count:0,comments:[]},400);if(e=e.trim(),!e.startsWith("http"))return x("error","Invalid url format, must start with http or https"),Ee({errorCode:400,success:!1,errorMessage:"Invalid url format, must start with http or https",count:0,comments:[]},400);x("info",`Processing comment request for URL: ${e}`);let n=e,s=Zo(n);if(s!==null){let c={errorCode:0,success:!0,errorMessage:"",count:s.length,comments:s};return eo(c,t)}x("info","\u5F00\u59CB\u4ECE\u672C\u5730\u8BF7\u6C42\u5F39\u5E55...",n);let a=[];n.includes(".qq.com")?a=await pd.getComments(n,"qq",r):n.includes(".iqiyi.com")?a=await md.getComments(n,"qiyi",r):n.includes(".mgtv.com")?a=await Xp.getComments(n,"imgo",r):n.includes(".bilibili.com")||n.includes("b23.tv")?(n.includes("b23.tv")&&(n=await ic.resolveB23Link(n)),a=await ic.getComments(n,"bilibili1",r)):n.includes(".youku.com")?a=await hd.getComments(n,"youku",r):n.includes(".miguvideo.com")?a=await gd.getComments(n,"migu",r):n.includes(".sohu.com")?a=await Zp.getComments(n,"sohu",r):n.includes(".le.com")?a=await e0.getComments(n,"leshi",r):n.includes(".douyin.com")||n.includes(".ixigua.com")?a=await t0.getComments(n,"xigua",r):n.includes(".mddcloud.com.cn")?a=await r0.getComments(n,"maiduidui",r):/^(https?:\/\/)?([\w.-]+)\.([a-z]{2,})(\/.*)?$/i.test(n)&&(a=await r5.getComments(n,"other_server",r)),x("info",`Successfully fetched ${a.length} comments from URL`),a.length>0&&yA(n,a);let o={errorCode:0,success:!0,errorMessage:"",count:a.length,comments:a};return eo(o,t)}catch(n){return x("error",`Failed to process comment by URL request: ${n.message}`),Ee({errorCode:500,success:!1,errorMessage:"Internal server error",count:0,comments:[]},500)}}async function Ffe(e,t){try{let r=e.url,n=e.type;if(!r||typeof r!="string")return x("error","Missing or invalid url parameter"),Ee({errorCode:400,success:!1,errorMessage:"Missing or invalid url parameter",count:0,comments:[]},400);r=r.trim(),x("info",`Processing segment comment request for URL: ${r}`);let s=Zo(r);if(s!==null){let c={errorCode:0,success:!0,errorMessage:"",count:s.length,comments:s};return eo(c,t)}x("info",`\u5F00\u59CB\u4ECE\u672C\u5730\u8BF7\u6C42\u5206\u6BB5\u5F39\u5E55... URL: ${r}`);let a=[];n==="qq"?a=await pd.getSegmentComments(e):n==="qiyi"?a=await md.getSegmentComments(e):n==="imgo"?a=await Xp.getSegmentComments(e):n==="bilibili1"?a=await ic.getSegmentComments(e):n==="youku"?a=await hd.getSegmentComments(e):n==="migu"?a=await gd.getSegmentComments(e):n==="sohu"?a=await Zp.getSegmentComments(e):n==="leshi"?a=await e0.getSegmentComments(e):n==="xigua"?a=await t0.getSegmentComments(e):n==="maiduidui"?a=await r0.getSegmentComments(e):n==="hanjutv"?a=await GA.getSegmentComments(e):n==="bahamut"?a=await VA.getSegmentComments(e):n==="renren"?a=await zA.getSegmentComments(e):n==="dandan"?a=await KA.getSegmentComments(e):n==="animeko"?a=await YA.getSegmentComments(e):n==="custom"?a=await M2.getSegmentComments(e):n==="other_server"&&(a=await r5.getSegmentComments(e)),x("info",`Successfully fetched ${a.length} segment comments from URL`),a.length>0&&yA(r,a);let o={errorCode:0,success:!0,errorMessage:"",count:a.length,comments:a};return eo(o,t)}catch(r){return x("error",`Failed to process segment comment request: ${r.message}`),Ee({errorCode:500,success:!1,errorMessage:"Internal server error",count:0,comments:[]},500)}}ht();Pt();ht();var Qfe=`
/* \u57FA\u7840\u6837\u5F0F - Zen-iOS Hybrid Design */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;800&display=swap');

:root {
    --bg-base: #F2F2F7;
    --bg-card: rgba(255, 255, 255, 0.65);
    --bg-glass: rgba(255, 255, 255, 0.4);
    --text-primary: #1C1C1E;
    --text-secondary: #6C6C70;
    --primary-color: #1C1C1E; /* \u6DF1\u7A7A\u9ED1 */
    --accent-color: #007AFF; /* iOS Blue for interactions */
    --danger-color: #FF3B30;
    --success-color: #34C759;
    --warning-color: #FFCC00;
    
    --shadow-floating: 0 24px 48px -12px rgba(0, 0, 0, 0.08);
    --shadow-card: 0 4px 12px rgba(0, 0, 0, 0.03);
    --shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.05);
    
    --radius-xl: 40px;
    --radius-lg: 24px;
    --radius-md: 16px;
    --radius-sm: 8px;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, "SF Pro Display", "Segoe UI", Roboto, sans-serif;
    background-color: var(--bg-base);
    color: var(--text-primary);
    min-height: 100vh;
    padding: 20px;
    line-height: 1.5;
}

/* \u5BB9\u5668\uFF1A\u6781\u81F4\u6BDB\u73BB\u7483 + \u53CC\u5C42\u7269\u7406\u63CF\u8FB9 */
.container {
    max-width: 1200px;
    margin: 0 auto;
    background: var(--bg-card);
    backdrop-filter: blur(50px);
    -webkit-backdrop-filter: blur(50px);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-floating);
    border: 1px solid rgba(255, 255, 255, 0.6); /* \u5185\u63CF\u8FB9 */
    position: relative;
    overflow: hidden;
}

/* \u6A21\u62DF\u5916\u63CF\u8FB9 (\u901A\u8FC7\u4F2A\u5143\u7D20\u6216 box-shadow \u4E5F\u53EF\u4EE5\uFF0C\u8FD9\u91CC\u7528 outline \u4FDD\u6301 dom \u5E72\u51C0) */
.container::after {
    content: '';
    position: absolute;
    inset: -1px;
    border-radius: var(--radius-xl);
    padding: 1px;
    background: linear-gradient(to bottom, rgba(0,0,0,0.05), rgba(0,0,0,0.02));
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
    z-index: 1;
}

.header {
    background: rgba(255, 255, 255, 0.5);
    border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    padding: 30px 40px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 20px;
}

.header-left {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 12px;
}

.logo-title-container {
    display: flex;
    align-items: center;
    gap: 18px;
}

.logo {
    width: 56px;
    height: 56px;
    background: #fff;
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    overflow: hidden;
    border: 1px solid rgba(0,0,0,0.03);
}

.logo img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.header h1 {
    font-size: 28px;
    font-weight: 800;
    color: var(--text-primary);
    letter-spacing: -0.02em;
    margin: 0;
}

.version-info {
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 12px;
    font-weight: 600;
    color: var(--text-secondary);
}

.version-badge {
    background: rgba(0, 0, 0, 0.04);
    padding: 4px 12px;
    border-radius: 100px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.update-badge {
    background: rgba(255, 204, 0, 0.15);
    color: #997a00;
    padding: 4px 12px;
    border-radius: 100px;
    cursor: pointer;
    transition: all 0.2s;
}

.update-badge:hover {
    background: rgba(255, 204, 0, 0.25);
}

.api-endpoint-badge span {
    font-family: 'SF Mono', 'Menlo', monospace;
    font-size: 11px;
}

.content {
    padding: 40px;
}

.section {
    display: none;
    animation: fadeIn 0.4s cubic-bezier(0.16, 1, 0.3, 1); /* iOS easeOut */
}

.section.active {
    display: block;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px) scale(0.98); }
    to { opacity: 1; transform: translateY(0) scale(1); }
}

h2 {
    font-size: 24px;
    font-weight: 700;
    letter-spacing: -0.01em;
    margin-bottom: 24px;
    color: var(--text-primary);
}

/* Footer */
.footer {
    padding: 40px;
    text-align: center;
    font-size: 12px;
    color: var(--text-secondary);
    border-top: 1px solid rgba(0,0,0,0.05);
    background: rgba(255,255,255,0.3);
}

.footer-text {
    color: var(--text-secondary);
    margin: 8px 0;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
    line-height: 1.6;
}

.footer-links {
    margin-top: 20px;
    display: flex;
    justify-content: center;
    gap: 20px;
}

.footer-link {
    color: var(--text-primary);
    text-decoration: none;
    font-weight: 600;
    opacity: 0.7;
    transition: opacity 0.2s;
}

.footer-link:hover {
    opacity: 1;
}

.github-link {
    display: inline-flex;
    align-items: center;
    gap: 6px;
}

.github-icon {
    width: 14px;
    height: 14px;
    opacity: 0.8;
}

.tg-link {
    display: inline-flex;
    align-items: center;
    gap: 6px;
}

.tg-icon {
    width: 14px;
    height: 14px;
    opacity: 0.8;
}

/* \u6EDA\u52A8\u6761\u7F8E\u5316 */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}
::-webkit-scrollbar-track {
    background: transparent;
}
::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.1);
    border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 0, 0, 0.2);
}

/* \u5DE5\u5177\u7C7B */
.text-gray {
    color: var(--text-secondary);
}

.text-dark-gray {
    color: #333;
}

.text-red {
    color: var(--danger-color);
}

.text-center {
    text-align: center;
}

.font-size-12 {
    font-size: 12px;
}

.margin-top-3 {
    margin-top: 3px;
}

.margin-bottom-15 {
    margin-bottom: 15px;
}

.padding-20 {
    padding: 20px;
}

.text-monospace {
    font-family: 'SF Mono', 'Menlo', monospace;
}
`;var Ufe=`
/* \u7EC4\u4EF6\u6837\u5F0F - Zen-iOS Hybrid Design */

/* \u5BFC\u822A\u6309\u94AE\uFF1A\u80F6\u56CA\u5F0F\u8BBE\u8BA1 */
.nav-buttons {
    display: flex;
    gap: 8px;
    background: rgba(118, 118, 128, 0.12);
    padding: 4px;
    border-radius: 14px; /* iOS Segmented Control style */
    flex-wrap: wrap;
}

.nav-btn {
    padding: 8px 16px;
    background: transparent;
    border: none;
    color: var(--text-secondary);
    border-radius: 10px;
    cursor: pointer;
    font-size: 13px;
    font-weight: 600;
    transition: all 0.3s cubic-bezier(0.25, 1, 0.5, 1);
    user-select: none;
}

.nav-btn:hover {
    color: var(--text-primary);
    background: rgba(255, 255, 255, 0.5);
}

.nav-btn.active {
    background: #FFFFFF;
    color: #000000;
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.12), 0 3px 1px rgba(0, 0, 0, 0.04);
}

.nav-btn:active {
    transform: scale(0.97);
}

/* \u73AF\u5883\u53D8\u91CF\u5206\u7C7B\u5207\u6362 */
.env-categories {
    display: flex;
    gap: 12px;
    margin-bottom: 30px;
    flex-wrap: wrap;
}

.category-btn {
    padding: 10px 20px;
    background: #FFFFFF;
    border: 1px solid rgba(0,0,0,0.05);
    border-radius: 100px; /* Fully rounded */
    cursor: pointer;
    font-size: 13px;
    font-weight: 600;
    color: var(--text-secondary);
    transition: all 0.2s;
    box-shadow: var(--shadow-card);
}

.category-btn:hover {
    transform: translateY(-1px);
    background: #FAFAFA;
}

.category-btn.active {
    background: var(--primary-color);
    color: white;
    border-color: var(--primary-color);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.category-btn:active {
    transform: scale(0.95);
}

/* \u5361\u7247\u5217\u8868 (Layering) */
.env-list {
    display: grid;
    gap: 16px;
    margin-bottom: 30px;
}

.env-item {
    background: rgba(255, 255, 255, 0.6);
    backdrop-filter: blur(20px);
    padding: 24px;
    border-radius: var(--radius-lg);
    border: 1px solid rgba(255, 255, 255, 0.8); /* Inner light stroke */
    box-shadow:
        0 4px 6px -1px rgba(0, 0, 0, 0.02),
        0 2px 4px -1px rgba(0, 0, 0, 0.02),
        inset 0 0 0 1px rgba(255, 255, 255, 0.5);
    display: flex;
    justify-content: space-between;
    align-items: flex-start; /* Align to top for better look with descriptions */
    flex-wrap: wrap;
    gap: 20px;
    transition: transform 0.2s;
    overflow: hidden;
}

.env-item:hover {
    transform: translateY(-1px);
    background: rgba(255, 255, 255, 0.8);
}

.env-item .env-info {
    flex: 1;
    min-width: 240px;
    overflow: hidden;
}

.env-item .env-info strong {
    color: var(--text-primary);
    font-size: 15px;
    font-weight: 700;
    margin-bottom: 8px;
    display: block;
    letter-spacing: -0.01em;
    overflow-wrap: break-word;
    word-break: break-word;
}

.env-item .env-info div.text-dark-gray {
    background: rgba(0, 0, 0, 0.03);
    padding: 8px 12px;
    border-radius: 8px;
    font-family: 'SF Mono', 'Menlo', monospace;
    font-size: 14px;
    color: #333;
    display: block;
    border: 1px solid rgba(0,0,0,0.04);
    overflow-wrap: break-word;
    word-break: break-all;
}

.env-item .env-actions {
    display: flex;
    gap: 10px;
    flex-shrink: 0;
}

/* \u6309\u94AE\u4F53\u7CFB */
.btn {
    padding: 10px 20px;
    border: none;
    border-radius: 12px; /* iOS medium radius */
    cursor: pointer;
    font-size: 14px;
    font-weight: 600;
    transition: all 0.2s cubic-bezier(0.25, 1, 0.5, 1);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    letter-spacing: 0.01em;
}

.btn:active {
    transform: scale(0.95); /* Tactile feedback */
}

/* Primary: Dark Space Black */
.btn-primary {
    background: var(--primary-color);
    color: white;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.btn-primary:hover {
    background: #333;
}

/* Success: iOS Green */
.btn-success {
    background: var(--success-color);
    color: white;
    box-shadow: 0 4px 12px rgba(52, 199, 89, 0.2);
}

.btn-success:hover {
    background: #2db54e;
}

/* Danger: iOS Red */
.btn-danger {
    background: var(--danger-color);
    color: white;
    box-shadow: 0 4px 12px rgba(255, 59, 48, 0.2);
}

.btn-danger:hover {
    background: #e03328;
}

/* \u9884\u89C8\u533A\u57DF */
.preview-area {
    display: grid;
    gap: 30px;
    margin-top: 20px;
}

.preview-category {
    background: rgba(255, 255, 255, 0.6);
    backdrop-filter: blur(20px);
    border-radius: var(--radius-lg);
    border: 1px solid rgba(255, 255, 255, 0.8);
    box-shadow:
        0 4px 6px -1px rgba(0, 0, 0, 0.02),
        0 2px 4px -1px rgba(0, 0, 0, 0.02),
        inset 0 0 0 1px rgba(255, 255, 255, 0.5);
    padding: 24px;
    transition: transform 0.2s;
    overflow: hidden;
}

.preview-category:hover {
    transform: translateY(-2px);
    background: rgba(255, 255, 255, 0.75);
    box-shadow: var(--shadow-floating);
}

.preview-category h3 {
    font-size: 18px;
    font-weight: 800;
    margin-bottom: 20px;
    color: var(--text-primary);
    border-bottom: 1px solid rgba(0,0,0,0.05);
    padding-bottom: 12px;
}

.preview-item {
    padding: 16px;
    background: rgba(255, 255, 255, 0.5);
    margin-bottom: 12px;
    border-radius: 12px;
    border-left: 4px solid var(--primary-color);
    box-shadow: 0 2px 8px rgba(0,0,0,0.02);
    transition: all 0.2s;
    overflow: hidden;
}

.preview-item:last-child {
    margin-bottom: 0;
}

.preview-item:hover {
    transform: translateX(4px);
    background: #FFFFFF;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
}

.preview-item .preview-key {
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--text-secondary);
    margin-bottom: 6px;
    font-weight: 700;
    overflow-wrap: break-word;
    word-break: break-word;
}

.preview-item .preview-value {
    background: transparent;
    padding: 0;
    font-family: 'SF Mono', 'Menlo', monospace;
    color: var(--text-primary);
    font-size: 13px;
    word-break: break-all;
    overflow-wrap: break-word;
}

/* \u65E5\u5FD7\u5BB9\u5668 */
.log-container, .api-response, .json-response, .error-response {
    background: #1C1C1E; /* Deep Dark */
    color: #F2F2F7;
    padding: 20px;
    border-radius: 16px;
    border: 1px solid rgba(255,255,255,0.1);
    box-shadow: inset 0 2px 10px rgba(0,0,0,0.2);
    font-family: 'SF Mono', 'Menlo', monospace;
    font-size: 12px;
    line-height: 1.6;
    max-height: 400px;
    overflow: auto;
    white-space: pre-wrap;
    word-wrap: break-word;
}

.api-response.xml {
    color: #88ccff;
}

/* JSON\u9AD8\u4EAE\u6837\u5F0F */
.json-response .key {
    color: #9cdcfe;
}

.json-response .string {
    color: #ce9178;
}

.json-response .number {
    color: #b5cea8;
}

.json-response .boolean {
    color: #569cd6;
}

.json-response .null {
    color: #569cd6;
}

.json-response .undefined {
    color: #569cd6;
}

.error-response {
    color: #f48771;
}

.log-entry {
    padding: 4px 8px;
    border-radius: 4px;
    margin-bottom: 2px;
}
.log-entry:hover {
    background: rgba(255,255,255,0.05);
}

/* \u6A21\u6001\u6846 */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.25);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    z-index: 1000;
    padding: 20px;
    overflow-y: auto;
}

.modal.active {
    display: flex;
    justify-content: center;
    align-items: center;
}

.modal-content {
    background: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(50px);
    -webkit-backdrop-filter: blur(50px);
    border-radius: 32px;
    box-shadow: 0 40px 80px rgba(0,0,0,0.2);
    border: 1px solid rgba(255,255,255,0.5);
    padding: 40px;
}

/* \u914D\u7F6E\u7F16\u8F91\u5F39\u7A97\u4E13\u7528\u6837\u5F0F - \u66F4\u5BBD\u66F4\u534F\u8C03\u7684\u6BD4\u4F8B */
#env-modal .modal-content {
    width: 90vw;
    max-width: 680px;
    max-height: 85vh;
    overflow-y: auto;
    padding: 32px 36px;
}

#env-modal .modal-content::-webkit-scrollbar {
    width: 6px;
}

#env-modal .modal-content::-webkit-scrollbar-track {
    background: transparent;
}

#env-modal .modal-content::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.15);
    border-radius: 3px;
}

#env-modal .modal-content::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 0, 0, 0.25);
}

/* \u591A\u9009\u6807\u7B7E\u533A\u57DF\u4F18\u5316 - \u9650\u5236\u9AD8\u5EA6\u5E76\u652F\u6301\u6EDA\u52A8 */
#env-modal .selected-tags {
    max-height: 140px;
    overflow-y: auto;
}

#env-modal .available-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    max-height: 180px;
    overflow-y: auto;
    padding: 12px;
    background: rgba(245, 245, 247, 0.5);
    border-radius: 12px;
    margin-top: 12px;
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid rgba(0,0,0,0.06);
    padding-bottom: 20px;
    margin-bottom: 30px;
}

.modal-header h3 {
    font-size: 20px;
    font-weight: 700;
    color: var(--text-primary);
}

.close-btn {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: rgba(0,0,0,0.05);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    font-size: 18px;
}

.close-btn:hover {
    background: rgba(0,0,0,0.1);
    transform: rotate(90deg);
}

/* \u8FDB\u5EA6\u6761 */
.progress-container {
    height: 2px;
    background: transparent;
}
.progress-bar {
    background: linear-gradient(90deg, var(--primary-color), var(--text-secondary));
    box-shadow: none;
}

/* Bilibili Status */
.bili-cookie-status {
    background: rgba(255,255,255,0.5);
    border: 1px solid rgba(0,0,0,0.05);
    border-left: 4px solid var(--primary-color);
    border-radius: 12px;
}

/* Tag Styles */
.value-type-badge {
    padding: 4px 10px;
    border-radius: 100px;
    background: var(--text-primary);
    color: #FFFFFF;
    font-weight: 600;
    text-transform: uppercase;
    font-size: 10px;
    letter-spacing: 0.05em;
}

/* \u52A0\u8F7D\u63D0\u793A */
.loading-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.2);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 9998;
}

.loading-overlay.active {
    display: flex;
}

.loading-content {
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    padding: 32px;
    border-radius: 24px;
    text-align: center;
    box-shadow: 0 20px 40px rgba(0,0,0,0.15);
    max-width: 320px;
    border: 1px solid rgba(255,255,255,0.4);
}

.loading-spinner {
    width: 48px;
    height: 48px;
    border: 4px solid rgba(0,0,0,0.05);
    border-top: 4px solid var(--primary-color);
    border-radius: 50%;
    animation: spin 0.8s cubic-bezier(0.6, 0.2, 0.4, 0.8) infinite;
    margin: 0 auto 20px;
}

.loading-spinner-small {
    display: inline-block;
    width: 16px;
    height: 16px;
    border: 2px solid rgba(255,255,255,0.3);
    border-top: 2px solid white;
    border-radius: 50%;
    animation: spin 0.8s cubic-bezier(0.6, 0.2, 0.4, 0.8) infinite;
}

.btn-success .loading-spinner-small {
    border: 2px solid rgba(255,255,255,0.3);
    border-top: 2px solid white;
}

.loading-text {
    font-size: 16px;
    color: var(--text-primary);
    font-weight: 600;
    margin-bottom: 8px;
}

.loading-detail {
    font-size: 13px;
    color: var(--text-secondary);
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* \u52A8\u6F2B\u641C\u7D22\u7ED3\u679C\u7F51\u683C */
.anime-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: 20px;
    margin-top: 16px;
}

.anime-item {
    background: rgba(255, 255, 255, 0.6);
    backdrop-filter: blur(20px);
    border-radius: 16px;
    border: 1px solid rgba(255, 255, 255, 0.8);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.04);
    overflow: hidden;
    cursor: pointer;
    transition: all 0.2s cubic-bezier(0.25, 1, 0.5, 1);
}

.anime-item:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.08);
    background: rgba(255, 255, 255, 0.85);
}

.anime-item:active {
    transform: scale(0.98);
}

.anime-item-img {
    width: 100%;
    aspect-ratio: 3 / 4;
    object-fit: cover;
    display: block;
    background: rgba(0, 0, 0, 0.03);
}

.anime-title {
    padding: 12px;
    font-size: 13px;
    font-weight: 600;
    color: var(--text-primary);
    line-height: 1.4;
    margin: 0;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* \u5267\u96C6\u5217\u8868 */
.episode-list-container {
    display: grid;
    gap: 10px;
    margin-top: 16px;
}

.episode-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 16px;
    padding: 16px 20px;
    background: rgba(255, 255, 255, 0.6);
    backdrop-filter: blur(20px);
    border-radius: 14px;
    border: 1px solid rgba(255, 255, 255, 0.8);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.02);
    transition: all 0.2s;
}

.episode-item:hover {
    background: rgba(255, 255, 255, 0.85);
    transform: translateX(4px);
}

.episode-item-content {
    flex: 1;
    font-size: 14px;
    color: var(--text-primary);
    min-width: 0;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.episode-item-content strong {
    font-weight: 700;
    color: var(--text-primary);
}

.episode-push-btn {
    flex-shrink: 0;
    padding: 8px 16px;
    font-size: 13px;
}

/* \u6587\u5B57\u989C\u8272\u5DE5\u5177\u7C7B */
.text-yellow-gold {
    color: #997a00;
}

/* \u63A8\u9001\u5F39\u5E55\u533A\u57DF\u6807\u9898 */
#push-anime-list h3,
#push-episode-list h3 {
    font-size: 18px;
    font-weight: 700;
    margin-bottom: 8px;
    color: var(--text-primary);
}

#push-anime-list,
#push-episode-list {
    margin-top: 24px;
    padding: 24px;
    background: rgba(255, 255, 255, 0.4);
    border-radius: 20px;
    border: 1px solid rgba(255, 255, 255, 0.6);
}

/* \u8BF7\u6C42\u8BB0\u5F55\u6837\u5F0F */
.request-records-container {
    border-radius: 8px;
}

.no-records {
    text-align: center;
    color: #fff;
    padding: 60px;
    font-style: italic;
    font-size: 16px;
}

.record-item {
    background: linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%);
    border: none;
    border-radius: 16px;
    padding: 10px;
    margin-bottom: 10px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.15);
    transition: transform 0.2s, box-shadow 0.2s;
}

.record-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 40px rgba(0,0,0,0.2);
}

.record-header {
    display: flex;
    justify-content: flex-start;
    align-items: center;
    margin-bottom: 15px;
    flex-wrap: wrap;
    gap: 15px;
}

.record-method {
    background: linear-gradient(135deg, #00b4db 0%, #0083b0 100%);
    color: white;
    padding: 8px 16px;
    border-radius: 10px;
    font-size: 14px;
    font-weight: bold;
    min-width: 60px;
    text-align: center;
    box-shadow: 0 4px 15px rgba(0,180,219,0.3);
}

.record-interface {
    flex: 1;
    font-family: 'Courier New', monospace;
    font-weight: 600;
    color: #2d3748;
    word-break: break-all;
    font-size: 15px;
    background: #edf2f7;
    padding: 8px 16px;
    border-radius: 8px;
}

.record-ip {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    color: white;
    padding: 8px 16px;
    border-radius: 10px;
    font-size: 13px;
    min-width: 120px;
    text-align: center;
    font-weight: 500;
    box-shadow: 0 4px 15px rgba(245,87,108,0.3);
}

.record-timestamp {
    color: #718096;
    font-size: 14px;
    margin-bottom: 15px;
    padding-bottom: 15px;
    border-bottom: 2px dashed #e2e8f0;
    display: flex;
    align-items: center;
    gap: 8px;
}

.record-timestamp.no-params {
    border-bottom: none;
    margin-bottom: 0;
    padding-bottom: 0;
}

.record-timestamp::before {
    content: '\u{1F550}';
    font-size: 16px;
}

.record-params {
    background: #f5f5f5;
    border-radius: 12px;
    padding: 15px;
    border: 1px solid #e0e0e0;
}

.record-params-title {
    color: #667eea;
    font-weight: 600;
    font-size: 14px;
    margin-bottom: 12px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.record-params-title::before {
    content: '\u{1F4CB}';
    font-size: 16px;
}

.record-params pre {
    margin: 0;
    padding: 15px;
    background: #ffffff;
    color: #333;
    border-radius: 8px;
    font-family: 'Courier New', monospace;
    font-size: 13px;
    white-space: pre-wrap;
    word-wrap: break-word;
    overflow-x: auto;
    line-height: 1.6;
    border: 1px solid #ddd;
}

/* \u8BF7\u6C42\u8BB0\u5F55\u79FB\u52A8\u7AEF\u9002\u914D */
@media (max-width: 768px) {
    .record-header {
        flex-direction: column;
        align-items: stretch;
    }
    
    .record-method,
    .record-interface,
    .record-ip {
        width: 100%;
        box-sizing: border-box;
    }
}
`;var qfe=`
/* \u8868\u5355\u6837\u5F0F - Zen-iOS Hybrid Design */
.form-group {
    margin-bottom: 24px;
}

.form-group label {
    display: block;
    margin-bottom: 8px;
    font-size: 11px;
    font-weight: 700;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.08em;
}

.form-group input,
.form-group select,
.form-group textarea {
    width: 100%;
    padding: 12px 16px;
    border: 1px solid rgba(0,0,0,0.06);
    border-radius: 12px; /* Smooth corners */
    font-size: 14px;
    background-color: rgba(245, 245, 247, 0.5); /* #F5F5F7 50% */
    color: var(--text-primary);
    box-shadow: var(--shadow-inner); /* Inner shadow for depth */
    transition: all 0.2s;
    outline: none;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    background-color: #FFFFFF;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 4px rgba(28, 28, 30, 0.1); /* Focus ring */
}

.form-group textarea {
    resize: vertical;
    min-height: 100px;
    font-family: 'SF Mono', 'Menlo', monospace;
    line-height: 1.5;
}

/* \u5F00\u5173\u6309\u94AE (iOS style) */
.switch-container {
    display: flex;
    align-items: center;
    gap: 12px;
}

.switch {
    position: relative;
    display: inline-block;
    width: 52px;
    height: 32px;
}

.switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

.slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(120, 120, 128, 0.16); /* iOS gray */
    transition: .3s cubic-bezier(0.25, 1, 0.5, 1);
    border-radius: 32px;
}

.slider:before {
    position: absolute;
    content: "";
    height: 28px;
    width: 28px;
    left: 2px;
    bottom: 2px;
    background-color: white;
    transition: .3s cubic-bezier(0.25, 1, 0.5, 1);
    border-radius: 50%;
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15), 0 3px 1px rgba(0, 0, 0, 0.06);
}

input:checked + .slider {
    background-color: var(--success-color); /* Green for on */
}

input:checked + .slider:before {
    transform: translateX(20px);
}

.switch-label {
    font-weight: 600;
    color: var(--text-primary);
    font-size: 14px;
}

/* \u6570\u5B57\u6EDA\u8F6E */
.number-picker {
    display: flex;
    align-items: center;
    gap: 20px;
    background: rgba(255, 255, 255, 0.5);
    padding: 20px;
    border-radius: 16px;
    border: 1px solid rgba(0,0,0,0.05);
}

.number-display {
    font-size: 40px;
    font-weight: 800;
    color: var(--text-primary);
    min-width: 70px;
    text-align: center;
    font-variant-numeric: tabular-nums;
}

.number-controls {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.number-btn {
    width: 36px;
    height: 36px;
    border: 1px solid rgba(0,0,0,0.1);
    background: white;
    color: var(--text-primary);
    border-radius: 10px;
    cursor: pointer;
    font-size: 18px;
    font-weight: bold;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}

.number-btn:hover {
    background: #F5F5F7;
    transform: translateY(-1px);
}

.number-btn:active {
    transform: scale(0.95);
    background: #E5E5EA;
}

/* Range Slider */
.number-range input[type="range"] {
    -webkit-appearance: none;
    width: 100%;
    height: 6px;
    border-radius: 3px;
    background: rgba(120, 120, 128, 0.16);
    outline: none;
    padding: 0;
    box-shadow: none;
    border: none;
}

.number-range input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background: white;
    cursor: pointer;
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15), 0 3px 1px rgba(0, 0, 0, 0.06);
    border: 0.5px solid rgba(0,0,0,0.04);
}

/* \u6807\u7B7E\u9009\u62E9 */
.tag-selector {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
}

.tag-option {
    padding: 8px 16px;
    background: #FFFFFF;
    border: 1px solid rgba(0,0,0,0.1);
    border-radius: 100px;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 13px;
    font-weight: 600;
    color: var(--text-secondary);
}

.tag-option:hover {
    background: #F5F5F7;
    color: var(--text-primary);
}

.tag-option.selected {
    background: var(--primary-color);
    color: white;
    border-color: var(--primary-color);
    box-shadow: 0 4px 10px rgba(0,0,0,0.15);
}

/* \u591A\u9009\u533A\u57DF */
.selected-tags {
    min-height: 80px;
    background: rgba(245, 245, 247, 0.5);
    border: 1px dashed rgba(0,0,0,0.15);
    border-radius: 16px;
    padding: 16px;
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    align-items: flex-start;
    box-shadow: var(--shadow-inner);
}

.selected-tag {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: var(--primary-color);
    color: white;
    padding: 8px 16px;
    border-radius: 100px;
    font-size: 13px;
    font-weight: 600;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    cursor: move;
}

.selected-tag .remove-btn {
    width: 20px;
    height: 20px;
    background: rgba(255,255,255,0.2);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: background 0.2s;
    font-size: 12px;
}

.selected-tag .remove-btn:hover {
    background: rgba(255,255,255,0.4);
}

.available-tags {
    margin-top: 15px;
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

.available-tag {
    padding: 6px 14px;
    background: #FFFFFF;
    border: 1px solid rgba(0,0,0,0.1);
    border-radius: 100px;
    font-size: 12px;
    font-weight: 500;
    color: var(--text-secondary);
    transition: all 0.2s;
    display: inline-flex;
    cursor: pointer;
}

.available-tag:hover {
    transform: translateY(-1px);
    border-color: rgba(0,0,0,0.2);
}

.available-tag.disabled {
    opacity: 0.4;
    cursor: not-allowed;
    pointer-events: none;
}

/* \u5408\u5E76\u6A21\u5F0F\u63A7\u5236\u533A */
.merge-mode-controls {
    display: flex;
    align-items: center;
    margin-top: 16px;
    margin-bottom: 12px;
    gap: 0;
}

.merge-mode-btn {
    display: inline-flex;
    align-items: center;
    padding: 0;
    background: transparent;
    border: none;
    color: var(--accent-color);
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
    text-decoration: none;
    position: relative;
}

.merge-mode-btn:hover {
    color: #005ecb;
}

.merge-mode-btn:active {
    opacity: 0.6;
}

.merge-mode-btn.active {
    color: var(--success-color);
}

.merge-mode-controls .form-help {
    font-size: 12px;
    color: var(--text-secondary);
    margin: 0;
    margin-left: 10px;
}

/* \u6682\u5B58\u533A */
.staging-area {
    display: none;
    min-height: 60px;
    background: rgba(255, 243, 205, 0.3);
    border: 1px dashed rgba(255, 193, 7, 0.4);
    border-radius: 12px;
    padding: 12px;
    margin-top: 12px;
    margin-bottom: 12px;
    flex-wrap: wrap;
    gap: 8px;
    align-items: center;
    position: relative;
}

.staging-area.active {
    display: flex;
}

.staging-tag {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    background: rgba(255, 193, 7, 0.15);
    color: var(--text-primary);
    padding: 6px 12px;
    border-radius: 100px;
    font-size: 12px;
    font-weight: 600;
    border: 1px solid rgba(255, 193, 7, 0.3);
    cursor: move;
}

.staging-tag.dragging {
    opacity: 0.5;
}

.staging-tag.drag-over {
    border-color: var(--accent-color);
    background: rgba(0, 122, 255, 0.1);
}

.staging-tag .remove-btn {
    width: 16px;
    height: 16px;
    background: rgba(0, 0, 0, 0.1);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: background 0.2s;
    font-size: 11px;
    line-height: 1;
}

.staging-tag .remove-btn:hover {
    background: rgba(0, 0, 0, 0.2);
}

.confirm-merge-btn {
    width: 32px;
    height: 32px;
    background: var(--success-color);
    color: white;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    font-size: 16px;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    box-shadow: 0 2px 8px rgba(52, 199, 89, 0.3);
    margin-left: auto;
}

.confirm-merge-btn:hover {
    background: #2fb350;
    transform: scale(1.05);
}

.confirm-merge-btn:active {
    transform: scale(0.95);
}

/* Map items */
.map-item {
    background: #FFFFFF;
    border: 1px solid rgba(0,0,0,0.06);
    border-radius: 12px;
    padding: 12px;
    margin-bottom: 12px;
    display: flex;
    align-items: center;
    gap: 12px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.02);
}

.map-input-left, .map-input-right {
    background: #F5F5F7;
    border: none;
    border-radius: 8px;
    padding: 8px 12px;
    font-family: 'SF Mono', monospace;
    font-size: 13px;
}
`;var jfe=`
/* \u54CD\u5E94\u5F0F\u6837\u5F0F - Zen-iOS Hybrid Design */
@media (max-width: 768px) {
    body {
        padding: 10px;
    }

    .container {
        border-radius: 24px; /* Slightly smaller radius on mobile */
    }

    .header {
        padding: 20px;
        flex-direction: column;
        align-items: stretch;
    }

    .header-left {
        width: 100%;
        align-items: center;
        text-align: center;
    }
    
    .logo-title-container {
        flex-direction: column;
        gap: 10px;
    }

    .logo {
        width: 48px;
        height: 48px;
        font-size: 20px;
    }

    .header h1 {
        font-size: 20px;
    }

    .version-info {
        justify-content: center;
        margin-top: 8px;
        width: 100%;
        font-size: 11px;
    }

    .nav-buttons {
        width: 100%;
        justify-content: stretch;
        gap: 4px;
        background: rgba(118, 118, 128, 0.12);
        border-radius: 12px;
        padding: 4px;
    }

    .nav-btn {
        flex: 1;
        text-align: center;
        font-size: 12px;
        padding: 6px 2px;
        border-radius: 8px;
    }

    .content {
        padding: 20px;
    }

    .env-item {
        flex-direction: column;
        align-items: stretch;
        padding: 16px;
    }

    .env-item .env-info {
        min-width: 0; /* Fix flex overflow */
        width: 100%;
    }

    .env-item .env-info div.text-dark-gray {
        font-size: 13px;
        max-width: 100%;
    }

    .env-actions {
        width: 100%;
        margin-top: 12px;
        display: flex;
    }

    .env-actions .btn {
        flex: 1;
    }

    /* \u9884\u89C8\u5361\u7247\u79FB\u52A8\u7AEF */
    .preview-category {
        padding: 16px;
    }

    .preview-item {
        padding: 12px;
    }

    .preview-item .preview-value {
        font-size: 12px;
    }
    
    .api-selector select {
        font-size: 16px; /* Prevent auto-zoom on iOS */
    }

    /* \u914D\u7F6E\u7F16\u8F91\u5F39\u7A97\u79FB\u52A8\u7AEF\u9002\u914D */
    #env-modal .modal-content {
        width: 95vw;
        max-width: none;
        padding: 24px 20px;
        border-radius: 24px;
        max-height: 90vh;
    }

    #env-modal .selected-tags {
        max-height: 120px;
    }

    #env-modal .available-tags {
        max-height: 150px;
    }

    #env-modal .modal-header {
        padding-bottom: 16px;
        margin-bottom: 20px;
    }

    #env-modal .modal-header h3 {
        font-size: 18px;
    }

    /* \u63A8\u9001\u5F39\u5E55\u79FB\u52A8\u7AEF\u9002\u914D */
    .anime-grid {
        grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));
        gap: 12px;
    }

    .anime-item-img {
        aspect-ratio: 3 / 4;
    }

    .anime-title {
        padding: 10px;
        font-size: 12px;
    }

    .episode-item {
        flex-direction: column;
        align-items: stretch;
        gap: 12px;
        padding: 14px 16px;
    }

    .episode-item-content {
        white-space: normal;
    }

    .episode-push-btn {
        width: 100%;
    }

    #push-anime-list,
    #push-episode-list {
        padding: 16px;
        margin-top: 16px;
    }
}
`;var Hfe=`
// \u81EA\u5B9A\u4E49\u5F39\u7A97\u7EC4\u4EF6
function createCustomAlert() {
    // \u68C0\u67E5\u662F\u5426\u5DF2\u5B58\u5728\u81EA\u5B9A\u4E49\u5F39\u7A97\u5143\u7D20
    if (document.getElementById('custom-alert-overlay')) {
        return;
    }

    // \u521B\u5EFA\u5F39\u7A97HTML\u5143\u7D20
    const alertHTML = '<div class="modal" id="custom-alert-overlay"><div class="modal-content" id="custom-alert-content"><div class="modal-header"><h3 id="custom-alert-title">\u63D0\u793A</h3><button class="close-btn" id="custom-alert-close">&times;</button></div><div class="modal-body"><p id="custom-alert-message"></p></div><div class="modal-footer"><button class="btn btn-primary" id="custom-alert-confirm">\u786E\u5B9A</button></div></div></div>';

    // \u6DFB\u52A0\u5230body
    document.body.insertAdjacentHTML('beforeend', alertHTML);

    // \u83B7\u53D6\u5143\u7D20
    const overlay = document.getElementById('custom-alert-overlay');
    const closeBtn = document.getElementById('custom-alert-close');
    const confirmBtn = document.getElementById('custom-alert-confirm');

    // \u5173\u95ED\u5F39\u7A97\u51FD\u6570
    function closeAlert() {
        overlay.classList.remove('active');
        // \u91CD\u7F6E\u6807\u9898\u548C\u6D88\u606F
        document.getElementById('custom-alert-title').textContent = '\u63D0\u793A';
    }

    // \u4E8B\u4EF6\u76D1\u542C\u5668
    closeBtn.addEventListener('click', closeAlert);
    confirmBtn.addEventListener('click', closeAlert);

    // \u70B9\u51FB\u906E\u7F69\u5C42\u5173\u95ED\u5F39\u7A97
    overlay.addEventListener('click', function(e) {
        if (e.target === overlay) {
            closeAlert();
        }
    });
}

// \u81EA\u5B9A\u4E49alert\u51FD\u6570
function customAlert(message, title = '\u63D0\u793A') {
    // \u786E\u4FDD\u5F39\u7A97\u5143\u7D20\u5DF2\u521B\u5EFA
    createCustomAlert();

    // \u83B7\u53D6\u5143\u7D20
    const overlay = document.getElementById('custom-alert-overlay');
    const titleElement = document.getElementById('custom-alert-title');
    const messageElement = document.getElementById('custom-alert-message');

    // \u8BBE\u7F6E\u6807\u9898\u548C\u6D88\u606F
    titleElement.textContent = title;
    messageElement.innerHTML = message;

    // \u663E\u793A\u5F39\u7A97
    overlay.classList.add('active');
}

// \u81EA\u5B9A\u4E49confirm\u51FD\u6570\uFF08\u5982\u679C\u9700\u8981\uFF09
function customConfirm(message, title = '\u786E\u8BA4') {
    return new Promise((resolve) => {
        // \u786E\u4FDD\u5F39\u7A97\u5143\u7D20\u5DF2\u521B\u5EFA
        createCustomAlert();

        // \u83B7\u53D6\u5143\u7D20
        const overlay = document.getElementById('custom-alert-overlay');
        const titleElement = document.getElementById('custom-alert-title');
        const messageElement = document.getElementById('custom-alert-message');
        const confirmBtn = document.getElementById('custom-alert-confirm');

        // \u79FB\u9664\u4E4B\u524D\u7684\u4E8B\u4EF6\u76D1\u542C\u5668\uFF08\u5982\u679C\u6709\uFF09
        const newConfirmBtn = confirmBtn.cloneNode(true);
        confirmBtn.parentNode.replaceChild(newConfirmBtn, confirmBtn);

        // \u8BBE\u7F6E\u6807\u9898\u548C\u6D88\u606F
        titleElement.textContent = title;
        messageElement.innerHTML = message;

        // \u786E\u5B9A\u6309\u94AE\u4E8B\u4EF6
        newConfirmBtn.addEventListener('click', () => {
            overlay.classList.remove('active');
            resolve(true);
        });

        // \u5173\u95ED\u6309\u94AE\u4E8B\u4EF6
        document.getElementById('custom-alert-close').addEventListener('click', () => {
            overlay.classList.remove('active');
            resolve(false);
        });

        // \u70B9\u51FB\u906E\u7F69\u5C42\u5173\u95ED
        overlay.addEventListener('click', function(e) {
            if (e.target === overlay) {
                overlay.classList.remove('active');
                resolve(false);
            }
        });

        // \u663E\u793A\u5F39\u7A97
        overlay.classList.add('active');
    });
}

// \u521D\u59CB\u5316\u81EA\u5B9A\u4E49\u5F39\u7A97
document.addEventListener('DOMContentLoaded', createCustomAlert);

// \u6570\u636E\u5B58\u50A8
let envVariables = {};
let currentCategory = 'api'; // \u9ED8\u8BA4\u5206\u7C7B\u6539\u4E3Aapi
let editingKey = null;
let logs = []; // \u4FDD\u7559\u672C\u5730\u65E5\u5FD7\u6570\u7EC4\uFF0C\u7528\u4E8EUI\u663E\u793A

// \u7248\u672C\u4FE1\u606F
let currentVersion = '';
let latestVersion = '';
let currentToken = 'globals.currentToken';
let currentAdminToken = ''; // admin token\uFF0C\u7528\u4E8E\u7CFB\u7EDF\u7BA1\u7406
let originalToken = '';

// \u53CD\u5411\u4EE3\u7406/API\u57FA\u7840\u8DEF\u5F84\u914D\u7F6E
// \u4ECELocalStorage\u83B7\u53D6\u7528\u6237\u81EA\u5B9A\u4E49\u7684Base URL
let customBaseUrl = localStorage.getItem('logvar_api_base_url') || '';

// \u4FDD\u5B58\u81EA\u5B9A\u4E49Base URL (\u4E3A\u7A7A\u5219\u6E05\u9664)
function saveBaseUrl() {
    const input = document.getElementById('custom-base-url').value.trim();
    if (input) {
        // \u786E\u4FDDURL\u4E0D\u4EE5\u659C\u6760\u7ED3\u5C3E\uFF0C\u65B9\u4FBF\u540E\u7EED\u62FC\u63A5
        let formattedUrl = input;
        if (formattedUrl.endsWith('/')) {
            formattedUrl = formattedUrl.slice(0, -1);
        }
        localStorage.setItem('logvar_api_base_url', formattedUrl);
        customBaseUrl = formattedUrl;
        customAlert('API\u5730\u5740\u914D\u7F6E\u5DF2\u4FDD\u5B58\uFF0C\u5373\u5C06\u5237\u65B0\u9875\u9762\u3002', '\u4FDD\u5B58\u6210\u529F');
        setTimeout(() => {
            location.reload();
        }, 1000);
    } else {
        // \u8F93\u5165\u4E3A\u7A7A\uFF0C\u89C6\u4E3A\u6E05\u9664\u914D\u7F6E/\u91CD\u7F6E\u4E3A\u9ED8\u8BA4
        localStorage.removeItem('logvar_api_base_url');
        customBaseUrl = '';
        customAlert('\u914D\u7F6E\u5DF2\u91CD\u7F6E\u4E3A\u9ED8\u8BA4\u72B6\u6001\uFF0C\u5373\u5C06\u5237\u65B0\u9875\u9762\u3002', '\u64CD\u4F5C\u6210\u529F');
        setTimeout(() => {
            location.reload();
        }, 1000);
    }
}

// \u6784\u5EFA\u5E26token\u7684API\u8BF7\u6C42\u8DEF\u5F84
function buildApiUrl(path, isSystemPath = false) {
    let res;
    // \u5982\u679C\u662F\u7CFB\u7EDF\u7BA1\u7406\u8DEF\u5F84\u4E14\u6709admin token,\u5219\u4F7F\u7528admin token
    if (isSystemPath && currentAdminToken && currentAdminToken.trim() !== '' && currentAdminToken.trim() !== '*'.repeat(currentAdminToken.length)) {
        res = '/' + currentAdminToken + path;
    } else {
        // \u5426\u5219\u4F7F\u7528\u666E\u901Atoken
        res = (currentToken ? '/' + currentToken : "") + path;
    }
    
    // \u5982\u679C\u914D\u7F6E\u4E86\u81EA\u5B9A\u4E49\u57FA\u7840URL (\u89E3\u51B3\u53CD\u4EE3\u95EE\u9898)
    if (customBaseUrl) {
        // \u786E\u4FDD\u8DEF\u5F84\u4EE5/\u5F00\u5934
        const cleanPath = res.startsWith('/') ? res : '/' + res;
        return customBaseUrl + cleanPath;
    }

    return res;
}

// \u4ECEAPI\u52A0\u8F7D\u771F\u5B9E\u73AF\u5883\u53D8\u91CF\u6570\u636E
function loadEnvVariables() {
    // \u4ECEAPI\u83B7\u53D6\u771F\u5B9E\u914D\u7F6E\u6570\u636E
    fetch(buildApiUrl('/api/config', true))
        .then(response => response.json())
        .then(config => {
            // \u4ECE\u914D\u7F6E\u4E2D\u83B7\u53D6admin token
            currentAdminToken = config.originalEnvVars?.ADMIN_TOKEN || '';

            originalToken = config.originalEnvVars?.TOKEN || '';
            
            // \u4F7F\u7528\u4ECEAPI\u83B7\u53D6\u7684\u539F\u59CB\u73AF\u5883\u53D8\u91CF\uFF0C\u7528\u4E8E\u7CFB\u7EDF\u8BBE\u7F6E
            const originalEnvVars = config.originalEnvVars || {};
            
            // \u91CD\u65B0\u7EC4\u7EC7\u6570\u636E\u7ED3\u6784\u4EE5\u9002\u914D\u73B0\u6709UI
            envVariables = {};
            
            // \u5C06\u539F\u59CB\u73AF\u5883\u53D8\u91CF\u8F6C\u6362\u4E3AUI\u6240\u9700\u683C\u5F0F
            // \u8FD9\u91CC\u9700\u8981\u5C06\u539F\u59CB\u73AF\u5883\u53D8\u91CF\u6309\u7C7B\u522B\u7EC4\u7EC7
            Object.keys(originalEnvVars).forEach(key => {
                // \u4ECEenvVarConfig\u83B7\u53D6\u914D\u7F6E\u4FE1\u606F
                const varConfig = config.envVarConfig?.[key] || { category: 'system', type: 'text', description: '\u672A\u5206\u7C7B\u914D\u7F6E\u9879' };
                const category = varConfig.category || 'system';
                
                // \u5982\u679C\u8BE5\u5206\u7C7B\u4E0D\u5B58\u5728\uFF0C\u521B\u5EFA\u5B83
                if (!envVariables[category]) {
                    envVariables[category] = [];
                }
                
                // \u6DFB\u52A0\u5230\u5BF9\u5E94\u5206\u7C7B\uFF0C\u5305\u542B\u5B8C\u6574\u7684\u914D\u7F6E\u4FE1\u606F
                envVariables[category].push({
                    key: key,
                    value: originalEnvVars[key],
                    description: varConfig.description || '',
                    type: varConfig.type || 'text',
                    min: varConfig.min,
                    max: varConfig.max,
                    options: varConfig.options || [] // \u4EC5\u5BF9 select \u548C multi-select \u7C7B\u578B\u6709\u6548
                });
            });
            
            // \u6E32\u67D3\u73AF\u5883\u53D8\u91CF\u5217\u8868
            renderEnvList();
        })
        .catch(error => {
            console.error('Failed to load env variables:', error);
        });
}

// \u66F4\u65B0API\u7AEF\u70B9\u4FE1\u606F
function updateApiEndpoint() {
  return fetch(buildApiUrl('/api/config', true))
    .then(response => {
        // \u68C0\u67E5ContentType\uFF0C\u5982\u679C\u662FHTML\u8BF4\u660E\u53EF\u80FD\u662F404\u9875\u9762\u6216\u53CD\u4EE3\u9519\u8BEF\u9875\u9762
        const contentType = response.headers.get("content-type");
        if (contentType && contentType.indexOf("application/json") === -1) {
             throw new Error("Received HTML instead of JSON. Possible 404 or Proxy Error.");
        }
        if (!response.ok) {
            throw new Error(\`HTTP error! status: \${response.status}\`);
        }
        return response.json();
    })
    .then(config => {
      let _reverseProxy = customBaseUrl; // \u4F7F\u7528\u5168\u5C40\u914D\u7F6E

      // \u83B7\u53D6\u5F53\u524D\u9875\u9762\u7684\u534F\u8BAE\u3001\u4E3B\u673A\u548C\u7AEF\u53E3
      const protocol = window.location.protocol;
      const host = window.location.host;
      const token = config.originalEnvVars?.TOKEN || '87654321'; // \u9ED8\u8BA4token\u503C
      const adminToken = config.originalEnvVars?.ADMIN_TOKEN;

      // \u83B7\u53D6URL\u8DEF\u5F84\u5E76\u63D0\u53D6token
      let urlPath = window.location.pathname;
      if(_reverseProxy) {
          try {
              let proxyPath = _reverseProxy.startsWith('http') 
                  ? new URL(_reverseProxy).pathname 
                  : _reverseProxy;
              
              if (proxyPath.endsWith('/')) {
                  proxyPath = proxyPath.slice(0, -1);
              }
              if(proxyPath && urlPath.startsWith(proxyPath)) {
                  urlPath = urlPath.substring(proxyPath.length);
              }
          } catch(e) { /* ignore */ }
      }

      const pathParts = urlPath.split('/').filter(part => part !== '');
      const urlToken = pathParts.length > 0 ? pathParts[0] : '';
      let apiToken = '********';
      
      // \u5224\u65AD\u662F\u5426\u4F7F\u7528\u9ED8\u8BA4token
      if (token === '87654321') {
        // \u5982\u679C\u662F\u9ED8\u8BA4token\uFF0C\u5219\u663E\u793A\u771F\u5B9Etoken
        apiToken = token;
      } else {
        // \u5982\u679C\u4E0D\u662F\u9ED8\u8BA4token\uFF0C\u5219\u68C0\u67E5URL\u4E2D\u7684token\u662F\u5426\u5339\u914D\uFF0C\u5339\u914D\u5219\u663E\u793A\u771F\u5B9Etoken\uFF0C\u5426\u5219\u663E\u793A\u661F\u53F7
        if (urlToken === token || (adminToken !== "" && urlToken === adminToken)) {
          apiToken = token; // \u66F4\u65B0\u5168\u5C40token\u53D8\u91CF
        }
      }
      
      // \u6784\u9020API\u7AEF\u70B9URL
      let baseUrlStr;
      if (_reverseProxy) {
          // \u5982\u679C\u914D\u7F6E\u4E86\u53CD\u4EE3\uFF0C\u4E14\u662F\u76F8\u5BF9\u8DEF\u5F84\uFF0C\u5219\u8865\u5168\u534F\u8BAE\u548C\u4E3B\u673A\uFF0C\u786E\u4FDD\u663E\u793A\u4E3A\u7EDD\u5BF9\u8DEF\u5F84
          baseUrlStr = _reverseProxy.startsWith('http') 
              ? _reverseProxy 
              : (protocol + '//' + host + _reverseProxy);
      } else {
          baseUrlStr = protocol + '//' + host;
      }

      // \u786E\u4FDD baseUrlStr \u4E0D\u4EE5\u659C\u6760\u7ED3\u5C3E
      let cleanBaseUrl = baseUrlStr;
      if (cleanBaseUrl.endsWith('/')) {
          cleanBaseUrl = cleanBaseUrl.slice(0, -1);
      }
      const apiEndpoint = cleanBaseUrl + '/' + apiToken;
      
      const apiEndpointElement = document.getElementById('api-endpoint');
      if (apiEndpointElement) {
        apiEndpointElement.textContent = apiEndpoint;
      }
      return config; // \u8FD4\u56DE\u914D\u7F6E\u4FE1\u606F\uFF0C\u4EE5\u4FBF\u94FE\u5F0F\u8C03\u7528
    })
    .catch(error => {
      console.error('\u83B7\u53D6\u914D\u7F6E\u4FE1\u606F\u5931\u8D25:', error);
      // \u51FA\u9519\u65F6\u663E\u793A\u9ED8\u8BA4\u503C
      const protocol = window.location.protocol;
      const host = window.location.host;
      let _reverseProxy = customBaseUrl;
      
      // \u6784\u9020\u663E\u793A\u7528\u7684BaseUrl
      let baseUrlStr;
      if (_reverseProxy) {
          baseUrlStr = _reverseProxy.startsWith('http') 
              ? _reverseProxy 
              : (protocol + '//' + host + _reverseProxy);
      } else {
          baseUrlStr = protocol + '//' + host;
      }

      let cleanBaseUrl = baseUrlStr;
      if (cleanBaseUrl.endsWith('/')) {
          cleanBaseUrl = cleanBaseUrl.slice(0, -1);
      }
      const apiEndpoint = cleanBaseUrl + '/********';
      
      const apiEndpointElement = document.getElementById('api-endpoint');
      if (apiEndpointElement) {
        apiEndpointElement.textContent = apiEndpoint;
      }
      
      // \u5982\u679C\u662F\u56E0\u4E3A\u53CD\u4EE3\u5BFC\u81F4\u7684\u95EE\u9898\uFF0C\u663E\u793A\u8F93\u5165\u6846 (\u4EA4\u7531renderPreview\u5904\u7406\uFF0C\u6216\u8005\u5728\u8FD9\u91CC\u4E5F\u53EF\u4EE5\u89E6\u53D1)
      const proxyContainer = document.getElementById('proxy-config-container');
      if(proxyContainer) {
          proxyContainer.style.display = 'block';
          // \u586B\u5145\u5F53\u524D\u8F93\u5165\u6846\uFF08\u5982\u679C\u6709\u503C\uFF09
          if(customBaseUrl) {
              document.getElementById('custom-base-url').value = customBaseUrl;
          }
      }
      
      throw error; // \u629B\u51FA\u9519\u8BEF\uFF0C\u4EE5\u4FBF\u8C03\u7528\u8005\u53EF\u4EE5\u5904\u7406
    });
}

function getDockerVersion() {
  const url = "https://img.shields.io/docker/v/logvar/danmu-api?sort=semver";

  fetch(url)
    .then(response => response.text())
    .then(svgContent => {
      // \u4F7F\u7528\u6B63\u5219\u8868\u8FBE\u5F0F\u4ECE SVG \u4E2D\u63D0\u53D6\u7248\u672C\u53F7
      const versionMatch = svgContent.match(/version<\\/text><text.*?>(v[\\d\\.]+)/);

      if (versionMatch && versionMatch[1]) {
        console.log("Version:", versionMatch[1]);
        const latestVersionElement = document.getElementById('latest-version');
        if (latestVersionElement) {
          latestVersionElement.textContent = versionMatch[1];
        }
      } else {
        console.log("Version not found");
      }
    })
    .catch(error => {
      console.error("Error fetching the SVG:", error);
    });
}

// \u5207\u6362\u5BFC\u822A
function switchSection(section, event = null) {
    // \u68C0\u67E5\u662F\u5426\u5C1D\u8BD5\u8BBF\u95EE\u53D7token\u4FDD\u62A4\u7684section\uFF08\u65E5\u5FD7\u67E5\u770B\u3001\u63A5\u53E3\u8C03\u8BD5\u3001\u63A8\u9001\u5F39\u5E55\u3001\u8BF7\u6C42\u8BB0\u5F55\u3001\u7CFB\u7EDF\u914D\u7F6E\u9700\u8981token\u8BBF\u95EE\uFF09
    if (section === 'logs' || section === 'api' || section === 'env' || section === 'push' || section === 'request-records') {
        let _reverseProxy = customBaseUrl; // \u4F7F\u7528\u5168\u5C40\u914D\u7F6E

        // \u83B7\u53D6URL\u8DEF\u5F84\u5E76\u63D0\u53D6token
        let urlPath = window.location.pathname;
        if(_reverseProxy) {
            // \u4E25\u8C28\u5730\u79FB\u9664BaseUrl\u4E2D\u7684path\u90E8\u5206
            try {
                // \u5982\u679C_reverseProxy\u5305\u542B\u5B8C\u6574URL\uFF0C\u63D0\u53D6pathname
                // \u5982\u679C\u53EA\u662F\u76F8\u5BF9\u8DEF\u5F84\uFF0C\u76F4\u63A5\u4F7F\u7528
                let proxyPath = _reverseProxy.startsWith('http') 
                    ? new URL(_reverseProxy).pathname 
                    : _reverseProxy;
                
                // \u786E\u4FDD\u79FB\u9664\u5C3E\u90E8\u659C\u6760\uFF0C\u9632\u6B62\u5339\u914D\u5931\u8D25
                if (proxyPath.endsWith('/')) {
                    proxyPath = proxyPath.slice(0, -1);
                }
                
                if(proxyPath && urlPath.startsWith(proxyPath)) {
                    urlPath = urlPath.substring(proxyPath.length);
                }
            } catch(e) {
                console.error("\u89E3\u6790\u53CD\u4EE3\u8DEF\u5F84\u5931\u8D25", e);
            }
        }
        
        const pathParts = urlPath.split('/').filter(part => part !== '');
        const urlToken = pathParts.length > 0 ? pathParts[0] : '';
        
        // \u68C0\u67E5URL\u4E2D\u662F\u5426\u6709token
        if (!urlToken && originalToken !== "87654321") {
            // \u63D0\u793A\u7528\u6237\u9700\u8981\u5728URL\u4E2D\u914D\u7F6ETOKEN
            setTimeout(() => {
                // \u83B7\u53D6\u5F53\u524D\u9875\u9762\u7684\u534F\u8BAE\u3001\u4E3B\u673A\u548C\u7AEF\u53E3
                const protocol = window.location.protocol;
                const host = window.location.host;
                
                // \u6784\u9020\u663E\u793A\u7684BaseUrl\uFF0C\u786E\u4FDD\u662F\u7EDD\u5BF9\u8DEF\u5F84
                let displayBase;
                if (_reverseProxy) {
                    displayBase = _reverseProxy.startsWith('http') 
                        ? _reverseProxy 
                        : (protocol + '//' + host + _reverseProxy);
                } else {
                    displayBase = protocol + '//' + host;
                }
                
                if (displayBase.endsWith('/')) {
                    displayBase = displayBase.slice(0, -1);
                }
                
                // \u6839\u636Esection\u7C7B\u578B\u663E\u793A\u4E0D\u540C\u7684token\u63D0\u793A
                const tokenType = section === 'env' ? 'ADMIN_TOKEN' : 'TOKEN';
                customAlert('\u8BF7\u5728URL\u4E2D\u914D\u7F6E\u76F8\u5E94\u7684' + tokenType + '\u4EE5\u8BBF\u95EE\u6B64\u529F\u80FD\uFF01\\n\\n\u8BBF\u95EE\u65B9\u5F0F\uFF1A' + displayBase + '/{' + tokenType + '}');
            }, 100);
            return;
        }
        
        // \u5982\u679C\u662F\u7CFB\u7EDF\u914D\u7F6E\u9875\u9762\uFF0C\u8FD8\u9700\u8981\u68C0\u67E5\u662F\u5426\u914D\u7F6E\u4E86ADMIN_TOKEN\u4E14URL\u4E2D\u7684token\u7B49\u4E8EcurrentAdminToken
        if (section === 'env') {
            // \u68C0\u67E5\u90E8\u7F72\u5E73\u53F0\u914D\u7F6E
            checkDeployPlatformConfig().then(result => {
                if (!result.success) {
                    // \u5982\u679C\u914D\u7F6E\u68C0\u67E5\u4E0D\u901A\u8FC7\uFF0C\u53EA\u663E\u793A\u63D0\u793A\uFF0C\u4E0D\u5207\u6362\u9875\u9762
                    setTimeout(() => {
                        customAlert(result.message);
                    }, 100);
                } else {
                    // \u5982\u679C\u914D\u7F6E\u68C0\u67E5\u901A\u8FC7\uFF0C\u624D\u5207\u6362\u5230env\u9875\u9762
                    document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
                    document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));

                    document.getElementById(\`\${section}-section\`).classList.add('active');
                    // \u5728\u5F02\u6B65\u56DE\u8C03\u4E2D\u4F7F\u7528\u4F20\u5165\u7684event\u53C2\u6570\u6765\u8BBE\u7F6E\u6309\u94AE\u7684active\u72B6\u6001
                    if (event && event.target) {
                        event.target.classList.add('active');
                    }

                    addLog(\`\u5207\u6362\u5230\${section === 'env' ? '\u73AF\u5883\u53D8\u91CF' : section === 'preview' ? '\u914D\u7F6E\u9884\u89C8' : section === 'logs' ? '\u65E5\u5FD7\u67E5\u770B' : section === 'push' ? '\u63A8\u9001\u5F39\u5E55' : section === 'request-records' ? '\u8BF7\u6C42\u8BB0\u5F55' : '\u63A5\u53E3\u8C03\u8BD5'}\u6A21\u5757\`, 'info');
                }
            });
        } else {
            // \u5BF9\u4E8E\u65E5\u5FD7\u67E5\u770B\u3001\u63A5\u53E3\u8C03\u8BD5\u548C\u63A8\u9001\u5F39\u5E55\u9875\u9762\uFF0C\u53EA\u8981URL\u4E2D\u6709token\u5C31\u53EF\u4EE5\u8BBF\u95EE
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));

            document.getElementById(\`\${section}-section\`).classList.add('active');
            if (event && event.target) {
                event.target.classList.add('active');
            }

            addLog(\`\u5207\u6362\u5230\${section === 'env' ? '\u73AF\u5883\u53D8\u91CF' : section === 'preview' ? '\u914D\u7F6E\u9884\u89C8' : section === 'logs' ? '\u65E5\u5FD7\u67E5\u770B' : section === 'push' ? '\u63A8\u9001\u5F39\u5E55' : section === 'request-records' ? '\u8BF7\u6C42\u8BB0\u5F55' : '\u63A5\u53E3\u8C03\u8BD5'}\u6A21\u5757\`, 'info');
            
            // \u5982\u679C\u5207\u6362\u5230\u65E5\u5FD7\u67E5\u770B\u9875\u9762\uFF0C\u5219\u7ACB\u5373\u5237\u65B0\u65E5\u5FD7
            if (section === 'logs') {
                if (typeof fetchRealLogs === 'function') {
                    fetchRealLogs();
                }
            }
        }
    } else {
        // \u5BF9\u4E8E\u975E\u53D7\u4FDD\u62A4\u9875\u9762\uFF08\u5982\u914D\u7F6E\u9884\u89C8\uFF09\uFF0C\u6B63\u5E38\u5207\u6362
        document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));

        document.getElementById(\`\${section}-section\`).classList.add('active');
        if (event && event.target) {
            event.target.classList.add('active');
        }

        addLog(\`\u5207\u6362\u5230\${section === 'env' ? '\u73AF\u5883\u53D8\u91CF' : section === 'preview' ? '\u914D\u7F6E\u9884\u89C8' : section === 'logs' ? '\u65E5\u5FD7\u67E5\u770B' : section === 'push' ? '\u63A8\u9001\u5F39\u5E55' : '\u63A5\u53E3\u8C03\u8BD5'}\u6A21\u5757\`, 'info');
    }
}

// \u5207\u6362\u7C7B\u522B
function switchCategory(category, event = null) {
    currentCategory = category;
    document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
    if (event && event.target) {
        event.target.classList.add('active');
    }
    renderEnvList();
}

// \u5173\u95ED\u6A21\u6001\u6846
function closeModal() {
    document.getElementById('env-modal').classList.remove('active');
    
    // \u91CD\u7F6E\u8868\u5355\u5B57\u6BB5\u72B6\u6001
    document.getElementById('env-category').disabled = false;
    document.getElementById('env-key').readOnly = false;
    document.getElementById('value-type').disabled = false;
    document.getElementById('env-description').readOnly = false;
}

// \u9875\u9762\u52A0\u8F7D\u5B8C\u6210\u540E\u521D\u59CB\u5316\u65F6\u83B7\u53D6\u4E00\u6B21\u65E5\u5FD7
async function init() {
    try {
        await updateApiEndpoint(); // \u7B49\u5F85API\u7AEF\u70B9\u66F4\u65B0\u5B8C\u6210
        getDockerVersion();
        // \u4ECEAPI\u83B7\u53D6\u914D\u7F6E\u4FE1\u606F\uFF0C\u5305\u62EC\u68C0\u67E5\u662F\u5426\u6709admin token
        const config = await fetchAndSetConfig();

        // \u8BBE\u7F6E\u9ED8\u8BA4\u63A8\u9001\u5730\u5740
        setDefaultPushUrl(config);

        // \u68C0\u67E5\u5E76\u5904\u7406\u7BA1\u7406\u5458\u4EE4\u724C
        checkAndHandleAdminToken();
        
        loadEnvVariables(); // \u4ECEAPI\u52A0\u8F7D\u771F\u5B9E\u73AF\u5883\u53D8\u91CF\u6570\u636E
        renderEnvList();
        renderPreview();
        addLog('\u7CFB\u7EDF\u521D\u59CB\u5316\u5B8C\u6210', 'success');
        // \u83B7\u53D6\u771F\u5B9E\u65E5\u5FD7\u6570\u636E
        fetchRealLogs();
        
        // \u521D\u59CB\u5316\u63A8\u9001\u5F39\u5E55\u754C\u9762
        if (typeof initPushDanmuInterface === 'function') {
            initPushDanmuInterface();
        }
        
        // \u521D\u59CB\u5316\u63A5\u53E3\u8C03\u8BD5\u754C\u9762
        if (typeof initApiTestInterface === 'function') {
            initApiTestInterface();
        }
        
    } catch (error) {
        console.error('\u521D\u59CB\u5316\u5931\u8D25:', error);
        addLog('\u7CFB\u7EDF\u521D\u59CB\u5316\u5931\u8D25: ' + error.message, 'error');
        
        // \u786E\u4FDD\u53CD\u4EE3\u914D\u7F6E\u6846\u663E\u793A
        const proxyContainer = document.getElementById('proxy-config-container');
        if(proxyContainer) {
            proxyContainer.style.display = 'block';
            if(customBaseUrl) {
                document.getElementById('custom-base-url').value = customBaseUrl;
            }
        }
        
        // \u5373\u4F7F\u521D\u59CB\u5316\u5931\u8D25\uFF0C\u4E5F\u8981\u5C1D\u8BD5\u83B7\u53D6\u65E5\u5FD7
        fetchRealLogs();
    }
}

// \u590D\u5236API\u7AEF\u70B9\u5230\u526A\u8D34\u677F
function copyApiEndpoint() {
    const apiEndpointElement = document.getElementById('api-endpoint');
    if (apiEndpointElement) {
        const apiEndpoint = apiEndpointElement.textContent;
        navigator.clipboard.writeText(apiEndpoint)
            .then(() => {
                // \u4E34\u65F6\u6539\u53D8\u663E\u793A\u6587\u672C\u4EE5\u63D0\u4F9B\u53CD\u9988
                const originalText = apiEndpointElement.textContent;
                apiEndpointElement.textContent = '\u5DF2\u590D\u5236!';
                apiEndpointElement.style.color = '#ff6b6b';
                
                // 2\u79D2\u540E\u6062\u590D\u539F\u59CB\u6587\u672C
                setTimeout(() => {
                    apiEndpointElement.textContent = originalText;
                    apiEndpointElement.style.color = '#4CAF50';
                }, 2000);
                
                addLog('API\u7AEF\u70B9\u5DF2\u590D\u5236\u5230\u526A\u8D34\u677F: ' + apiEndpoint, 'success');
            })
            .catch(err => {
                console.error('\u590D\u5236\u5931\u8D25:', err);
                customAlert('\u590D\u5236\u5931\u8D25: ' + err);
                addLog('\u590D\u5236API\u7AEF\u70B9\u5931\u8D25: ' + err, 'error');
            });
    }
}

function escapeHtml(text) {
    // \u5982\u679C\u662F null \u6216 undefined\uFF0C\u8FD4\u56DE\u7A7A\u5B57\u7B26\u4E32
    if (text === null || text === undefined) {
        return '';
    }
    
    // \u5C06\u975E\u5B57\u7B26\u4E32\u503C\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32
    const str = String(text);
    
    const map = {
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        '"': '&quot;',
        "'": '&#039;'
    };
    return str.replace(/[&<>"']/g, m => map[m]);
}


// \u9875\u9762\u52A0\u8F7D\u5B8C\u6210\u540E\u521D\u59CB\u5316
init();
`;var zfe=`
// \u6E32\u67D3\u914D\u7F6E\u9884\u89C8
let currentPreviewCategory = 'api';

function renderPreview() {
    const preview = document.getElementById('preview-area');
    const proxyConfigContainer = document.getElementById('proxy-config-container');
    
    // \u4ECEAPI\u83B7\u53D6\u771F\u5B9E\u914D\u7F6E\u6570\u636E
    fetch(buildApiUrl('/api/config'))
        .then(response => {
             const contentType = response.headers.get("content-type");
             if (contentType && contentType.indexOf("application/json") === -1) {
                  // \u8FD4\u56DE\u6587\u672C\u4EE5\u4FBF\u540E\u7EED\u5904\u7406\uFF08\u4F8B\u5982\u663E\u793AHTML\u9519\u8BEF\u7684\u524D\u51E0\u4E2A\u5B57\u7B26\uFF09
                  return response.text().then(text => {
                      throw new Error('Expected JSON, got ' + contentType + '. Content: ' + text.substring(0, 50) + '...');
                  });
             }
             if (!response.ok) {
                throw new Error('HTTP error! status: ' + response.status);
             }
             return response.json();
        })
        .then(config => {
            // \u6210\u529F\u52A0\u8F7D\uFF0C\u9690\u85CF\u53CD\u4EE3\u914D\u7F6E\u6846
            if(proxyConfigContainer) {
                proxyConfigContainer.style.display = 'none';
            }

            // \u4F7F\u7528\u4ECEAPI\u83B7\u53D6\u7684\u5206\u7C7B\u73AF\u5883\u53D8\u91CF
            const categorizedVars = config.categorizedEnvVars || {};
            
            // \u6E32\u67D3\u5F53\u524D\u9009\u4E2D\u7684\u9884\u89C8\u5185\u5BB9
            let html = '';
            
            const items = categorizedVars[currentPreviewCategory];
            if (items && items.length > 0) {
                html += '<div class="preview-category">' +
                    '<h3>' + getCategoryName(currentPreviewCategory) + '</h3>';
                items.forEach(item => {
                    const escapedValue = escapeHtml(item.value);
                    html += '<div class="preview-item">' +
                            '<div class="preview-item-content">' +
                                '<div class="preview-key"><strong>' + item.key + '</strong></div>' +
                                '<div class="preview-value">' + escapedValue + '</div>' +
                            '</div>' +
                            (item.description ? '<div class="text-gray font-size-12 margin-top-3">' + item.description + '</div>' : '') +
                        '</div>';
                });
                html += '</div>';
            }
            
            preview.innerHTML = html || '<p class="text-gray padding-20 text-center">\u6682\u65E0\u914D\u7F6E</p>';
        })
        .catch(error => {
            console.error('Failed to load config for preview:', error);
            
            // \u663E\u793A\u53CD\u4EE3\u914D\u7F6E\u6846
            if(proxyConfigContainer) {
                proxyConfigContainer.style.display = 'block';
                // \u5982\u679C\u6709\u5DF2\u4FDD\u5B58\u7684URL\uFF0C\u586B\u5145\u5B83
                const savedUrl = localStorage.getItem('logvar_api_base_url');
                if(savedUrl) {
                    document.getElementById('custom-base-url').value = savedUrl;
                }
            }
            
            preview.innerHTML = '<p class="text-red">\u52A0\u8F7D\u914D\u7F6E\u5931\u8D25: ' + error.message + '</p>';
            addLog('\u52A0\u8F7D\u914D\u7F6E\u5931\u8D25: ' + error.message, 'error');
        });
}

// \u5207\u6362\u9884\u89C8\u7C7B\u522B
function switchPreviewCategory(category, event = null) {
    currentPreviewCategory = category;
    // \u66F4\u65B0\u6309\u94AE\u72B6\u6001
    const section = document.getElementById('preview-section');
    if (section) {
        section.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
    }
    if (event && event.target) {
        event.target.classList.add('active');
    }
    renderPreview();
}

// \u83B7\u53D6\u7C7B\u522B\u540D\u79F0
function getCategoryName(category) {
    const names = {
        api: 'API\u914D\u7F6E',
        source: '\u6E90\u914D\u7F6E',
        match: '\u5339\u914D\u914D\u7F6E',
        danmu: '\u5F39\u5E55\u914D\u7F6E',
        cache: '\u7F13\u5B58\u914D\u7F6E',
        system: '\u7CFB\u7EDF\u914D\u7F6E'
    };
    return names[category] || category;
}
`;var Gfe=`
// \u65E5\u5FD7\u76F8\u5173
function addLog(message, type = 'info') {
    const timestamp = new Date().toLocaleTimeString();
    logs.push({ timestamp, message, type });
    if (logs.length > 100) logs.shift();
    renderLogs();
}

function renderLogs() {
    const container = document.getElementById('log-container');
    container.innerHTML = logs.map(log =>
        \`<div class="log-entry \${log.type}">[\${log.timestamp}] \${log.message}</div>\`
    ).join('');
    container.scrollTop = container.scrollHeight;
}

// \u4ECEAPI\u83B7\u53D6\u771F\u5B9E\u65E5\u5FD7\u6570\u636E
async function fetchRealLogs() {
    try {
        // \u65E5\u5FD7\u67E5\u770B\u4F7F\u7528\u666E\u901Atoken\u8BBF\u95EE\uFF0C\u4E0D\u9700\u8981admin token
        const response = await fetch(buildApiUrl('/api/logs')); // \u4E0D\u4F7F\u7528admin token
        if (!response.ok) {
            throw new Error(\`HTTP error! status: \${response.status}\`);
        }
        const logText = await response.text();
        // \u89E3\u6790\u65E5\u5FD7\u6587\u672C\u4E3A\u6570\u7EC4
        const logLines = logText.split('\\n').filter(line => line.trim() !== '');
        // \u8F6C\u6362\u4E3Alogs\u6570\u7EC4\u683C\u5F0F
        logs = logLines.map(line => {
            // \u89E3\u6790\u65E5\u5FD7\u884C\uFF0C\u63D0\u53D6\u65F6\u95F4\u6233\u3001\u7EA7\u522B\u548C\u6D88\u606F
            const match = line.match(/\\[([^\\]]+)\\] (\\w+): (.*)/);
            if (match) {
                return {
                    timestamp: match[1],
                    type: match[2],
                    message: match[3]
                };
            }
            // \u5982\u679C\u65E0\u6CD5\u89E3\u6790\uFF0C\u8FD4\u56DE\u539F\u59CB\u884C
            return {
                timestamp: new Date().toLocaleTimeString(),
                type: 'info',
                message: line
            };
        });
        renderLogs();
    } catch (error) {
        console.error('Failed to fetch logs:', error);
        addLog(\`\u83B7\u53D6\u65E5\u5FD7\u5931\u8D25: \${error.message}\`, 'error');
    }
}

function refreshLogs() {
    // \u4ECEAPI\u83B7\u53D6\u771F\u5B9E\u65E5\u5FD7\u6570\u636E
    fetchRealLogs();
}

async function clearLogs() {
    // \u68C0\u67E5\u90E8\u7F72\u5E73\u53F0\u914D\u7F6E
    const configCheck = await checkDeployPlatformConfig();
    if (!configCheck.success) {
        customAlert(configCheck.message);
        return;
    }

    customConfirm('\u786E\u5B9A\u8981\u6E05\u7A7A\u6240\u6709\u65E5\u5FD7\u5417?', '\u6E05\u7A7A\u786E\u8BA4').then(async confirmed => {
        if (confirmed) {
            try {
                const response = await fetch(buildApiUrl('/api/logs/clear', true), { // \u4F7F\u7528admin token
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                });
                
                if (!response.ok) {
                    throw new Error(\`HTTP error! status: \${response.status}\`);
                }
                
                const result = await response.json();
                if (result.success) {
                    // \u6E05\u7A7A\u524D\u7AEF\u663E\u793A\u7684\u65E5\u5FD7
                    logs = [];
                    renderLogs();
                    addLog('\u65E5\u5FD7\u5DF2\u6E05\u7A7A', 'warn');
                } else {
                    addLog(\`\u6E05\u7A7A\u65E5\u5FD7\u5931\u8D25: \${result.message}\`, 'error');
                }
            } catch (error) {
                console.error('Failed to clear logs:', error);
                addLog(\`\u6E05\u7A7A\u65E5\u5FD7\u5931\u8D25: \${error.message}\`, 'error');
            }
        }
    });
}

// JSON\u9AD8\u4EAE\u51FD\u6570
function highlightJSON(obj) {
    let json = JSON.stringify(obj, null, 2);
    // \u8F6C\u4E49HTML\u7279\u6B8A\u5B57\u7B26
    json = json.replace(/&/g, '&').replace(/</g, '<').replace(/>/g, '>');
    
    // \u9AD8\u4EAEJSON\u8BED\u6CD5
    return json.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(s*:)?|\b(true|false|null)\b|-?d+(?:.d*)?(?:[eE][+-]?d+)?)/g, function (match) {
        let cls = 'number';
        if (/^"/.test(match)) {
            if (/:$/.test(match)) {
                cls = 'key';
            } else {
                cls = 'string';
            }
        } else if (/true|false/.test(match)) {
            cls = 'boolean';
        } else if (/null/.test(match)) {
            cls = 'null';
        }
        return '<span class="' + cls + '">' + match + '</span>';
    });
}
`;var Vfe=`
// API \u914D\u7F6E
const apiConfigs = {
    searchAnime: {
        name: '\u641C\u7D22\u52A8\u6F2B',
        method: 'GET',
        path: '/api/v2/search/anime',
        params: [
            { name: 'keyword', label: '\u5173\u952E\u8BCD \u6216 \u64AD\u653E\u94FE\u63A5URL', type: 'text', required: true, placeholder: '\u793A\u4F8B: \u751F\u4E07\u7269 \u6216 http://v.qq.com/x/cover/rjae621myqca41h/j0032ubhl9s.html' }
        ]
    },
    searchEpisodes: {
        name: '\u641C\u7D22\u5267\u96C6',
        method: 'GET',
        path: '/api/v2/search/episodes',
        params: [
            { name: 'anime', label: '\u52A8\u6F2B\u540D\u79F0', type: 'text', required: true, placeholder: '\u793A\u4F8B: \u751F\u4E07\u7269' },
            { name: 'episode', label: '\u96C6', type: 'text', required: false, placeholder: '\u793A\u4F8B: 1, movie' }
        ]
    },
    matchAnime: {
        name: '\u5339\u914D\u52A8\u6F2B',
        method: 'POST',
        path: '/api/v2/match',
        params: [
            { name: 'fileName', label: '\u6587\u4EF6\u540D', type: 'text', required: true, placeholder: '\u793A\u4F8B: \u751F\u4E07\u7269 S02E08, \u65E0\u5FE7\u6E21.S02E08.2160p.WEB-DL.H265.DDP.5.1, \u7231\u60C5\u516C\u5BD3.ipartment.2009.S02E08.H.265.25fps.mkv, \u4EB2\u7231\u7684X S02E08, \u5B87\u5B99Marry Me? S02E08' }
        ]
    },
    getBangumi: {
        name: '\u83B7\u53D6\u756A\u5267\u8BE6\u60C5',
        method: 'GET',
        path: '/api/v2/bangumi/:animeId',
        params: [
            { name: 'animeId', label: '\u52A8\u6F2BID', type: 'text', required: true, placeholder: '\u793A\u4F8B: 236379' }
        ]
    },
    getComment: {
        name: '\u83B7\u53D6\u5F39\u5E55',
        method: 'GET',
        path: '/api/v2/comment/:commentId',
        params: [
            { name: 'commentId', label: '\u5F39\u5E55ID', type: 'text', required: true, placeholder: '\u793A\u4F8B: 10009' },
            { name: 'format', label: '\u683C\u5F0F', type: 'select', required: false, placeholder: '\u53EF\u9009: json\u6216xml', options: ['json', 'xml'] },
            { name: 'segmentflag', label: '\u5206\u7247\u6807\u5FD7', type: 'select', required: false, placeholder: '\u53EF\u9009: true\u6216false', options: ['true', 'false'] }
        ]
    },
    getSegmentComment: {
        name: '\u83B7\u53D6\u5206\u7247\u5F39\u5E55',
        method: 'POST',
        path: '/api/v2/segmentcomment',
        params: [
            { name: 'format', label: '\u683C\u5F0F', type: 'select', required: false, placeholder: '\u53EF\u9009: json\u6216xml', options: ['json', 'xml'] },
        ],
        hasBody: true,
        bodyType: 'json'
    }
};

// \u521D\u59CB\u5316\u63A5\u53E3\u8C03\u8BD5\u754C\u9762
function initApiTestInterface() {
    // \u4E3AAPI\u9009\u62E9\u4E0B\u62C9\u6846\u6DFB\u52A0\u56DE\u8F66\u4E8B\u4EF6\u76D1\u542C
    const apiSelect = document.getElementById('api-select');
    if (apiSelect) {
        apiSelect.addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                loadApiParams();
            }
        });
    }
}

// \u4E3A\u53C2\u6570\u8F93\u5165\u6846\u6DFB\u52A0\u56DE\u8F66\u4E8B\u4EF6\u76D1\u542C
function attachEnterEventToParams() {
    // \u5EF6\u8FDF\u6267\u884C\uFF0C\u786E\u4FDDDOM\u5143\u7D20\u5DF2\u7ECF\u6E32\u67D3
    setTimeout(() => {
        // \u83B7\u53D6\u6240\u6709\u53C2\u6570\u8F93\u5165\u6846
        const paramInputs = document.querySelectorAll('#params-form input[type="text"], #params-form textarea, #params-form select');
        paramInputs.forEach(input => {
            // \u79FB\u9664\u4E4B\u524D\u7684\u4E8B\u4EF6\u76D1\u542C\u5668\uFF08\u907F\u514D\u91CD\u590D\u7ED1\u5B9A\uFF09
            input.removeEventListener('keypress', handleParamInputEnter);
            // \u6DFB\u52A0\u65B0\u7684\u4E8B\u4EF6\u76D1\u542C\u5668
            input.addEventListener('keypress', handleParamInputEnter);
        });
    }, 100);
}

// \u5904\u7406\u53C2\u6570\u8F93\u5165\u6846\u7684\u56DE\u8F66\u4E8B\u4EF6
function handleParamInputEnter(event) {
    if (event.key === 'Enter') {
        // \u89E6\u53D1\u6D4B\u8BD5API\u6309\u94AE\u7684\u70B9\u51FB\u4E8B\u4EF6
        const testButton = document.querySelector('#api-params .btn-success');
        if (testButton) {
            testButton.click();
        }
    }
}

// \u63A5\u53E3\u8C03\u8BD5\u76F8\u5173
function loadApiParams() {
    const select = document.getElementById('api-select');
    const apiKey = select.value;
    const paramsDiv = document.getElementById('api-params');
    const formDiv = document.getElementById('params-form');

    if (!apiKey) {
        paramsDiv.style.display = 'none';
        return;
    }

    const config = apiConfigs[apiKey];
    paramsDiv.style.display = 'block';

    let html = '';

    // \u6DFB\u52A0\u67E5\u8BE2\u53C2\u6570\u90E8\u5206
    if (config.params && config.params.length > 0) {
        html += '<div class="params-section">';
        html += '<h4>\u67E5\u8BE2\u53C2\u6570</h4>';
        html += config.params.map(param => {
            if (param.type === 'select') {
                // \u4E3Aselect\u7C7B\u578B\u53C2\u6570\u6DFB\u52A0\u9ED8\u8BA4\u9009\u9879
                let optionsHtml = '<option value="">-- \u8BF7\u9009\u62E9 --</option>';
                if (param.options) {
                    optionsHtml += param.options.map(opt => \`<option value="\${opt}">\${opt}</option>\`).join('');
                }
                return \`
                    <div class="form-group">
                        <label>\${param.label}\${param.required ? ' *' : ''}</label>
                        <select id="param-\${param.name}">
                            \${optionsHtml}
                        </select>
                        \${param.placeholder ? \`<div class="form-help">\${param.placeholder}</div>\` : ''}
                    </div>
                \`; 
            }
            // \u4F7F\u7528placeholder\u5C5E\u6027\u663E\u793A\u793A\u4F8B\u53C2\u6570
            const placeholder = param.placeholder ? param.placeholder : "\u8BF7\u8F93\u5165" + param.label;
            return \`
                <div class="form-group">
                    <label>\${param.label}\${param.required ? ' *' : ''}</label>
                    <input type="\${param.type}" id="param-\${param.name}" placeholder="\${placeholder}" \${param.required ? 'required' : ''}>
                </div>
            \`; 
        }).join('');
        html += '</div>';
    }

    // \u6DFB\u52A0\u8BF7\u6C42\u4F53\u90E8\u5206\uFF08\u5982\u679C\u63A5\u53E3\u6709\u8BF7\u6C42\u4F53\uFF09
    if (config.hasBody) {
        html += '<div class="body-section">';
        html += '<h4>\u8BF7\u6C42\u4F53</h4>';
        html += \`<div class="form-group">
            <label>\u8BF7\u6C42\u4F53\u5185\u5BB9 * (JSON\u683C\u5F0F)</label>
            <textarea id="body-content" rows="6" placeholder='\u8F93\u5165JSON\u683C\u5F0F\u7684\u8BF7\u6C42\u4F53\uFF0C\u4F8B\u5982\uFF1A{"type": "qq","segment_start":0,"segment_end":30000,"url":"https://dm.video.qq.com/barrage/segment/j0032ubhl9s/t/v1/0/30000"}'></textarea>
            <div class="form-help">\u8F93\u5165JSON\u683C\u5F0F\u7684\u8BF7\u6C42\u4F53\u5185\u5BB9</div>
        </div>\`;
        html += '</div>';
    }

    if (!html) {
        html = '<p class="text-gray">\u6B64\u63A5\u53E3\u65E0\u9700\u53C2\u6570</p>';
    }

    formDiv.innerHTML = html;
    
    // \u4E3A\u53C2\u6570\u8F93\u5165\u6846\u6DFB\u52A0\u56DE\u8F66\u4E8B\u4EF6\u76D1\u542C
    attachEnterEventToParams();
}

function testApi() {
    const select = document.getElementById('api-select');
    const apiKey = select.value;
    const sendButton = document.querySelector('#api-params .btn-success'); // \u83B7\u53D6\u53D1\u9001\u8BF7\u6C42\u6309\u94AE

    if (!apiKey) {
        addLog('\u8BF7\u5148\u9009\u62E9\u63A5\u53E3', 'error');
        return;
    }

    // \u8BBE\u7F6E\u6309\u94AE\u4E3A\u52A0\u8F7D\u72B6\u6001
    const originalText = sendButton.innerHTML;
    sendButton.innerHTML = '<span class="loading-spinner-small"></span>';
    sendButton.disabled = true;

    const config = apiConfigs[apiKey];
    const params = {};

    // \u83B7\u53D6\u67E5\u8BE2\u53C2\u6570
    if (config.params) {
        config.params.forEach(param => {
            const value = document.getElementById(\`param-\${param.name}\`).value;
            if (value) params[param.name] = value;
        });
    }

    addLog(\`\u8C03\u7528\u63A5\u53E3: \${config.name} (\${config.method} \${config.path})\`, 'info');
    addLog(\`\u8BF7\u6C42\u53C2\u6570: \${JSON.stringify(params)}\`, 'info');

    // \u6784\u5EFA\u8BF7\u6C42URL
    let url = config.path;
    
    // \u68C0\u67E5\u662F\u5426\u4E3A\u8DEF\u5F84\u53C2\u6570\u63A5\u53E3
    const isPathParameterApi = config.path.includes(':');
    
    if (isPathParameterApi) {
        // \u5904\u7406\u8DEF\u5F84\u53C2\u6570\u63A5\u53E3 (/api/v2/comment \u548C /api/v2/bangumi)
        // \u5148\u5206\u79BB\u8DEF\u5F84\u53C2\u6570\u548C\u67E5\u8BE2\u53C2\u6570
        const pathParams = {};
        const queryParams = {};
        
        // \u5206\u7C7B\u53C2\u6570
        for (const [key, value] of Object.entries(params)) {
            // \u68C0\u67E5\u53C2\u6570\u662F\u5426\u4E3A\u8DEF\u5F84\u53C2\u6570
            if (config.path.includes(':' + key)) {
                pathParams[key] = value;
            } else {
                // \u5176\u4ED6\u53C2\u6570\u4F5C\u4E3A\u67E5\u8BE2\u53C2\u6570
                queryParams[key] = value;
            }
        }
        
        // \u66FF\u6362\u8DEF\u5F84\u53C2\u6570
        for (const [key, value] of Object.entries(pathParams)) {
            url = url.replace(':' + key, encodeURIComponent(value));
        }
        
        // \u6DFB\u52A0\u67E5\u8BE2\u53C2\u6570
        if (config.method === 'GET' && Object.keys(queryParams).length > 0) {
            const queryString = new URLSearchParams(queryParams).toString();
            url = url + '?' + queryString;
        }
    } else {
        // \u4FDD\u6301\u539F\u6765\u7684\u903B\u8F91\uFF0C\u7528\u4E8E search/anime \u7B49\u63A5\u53E3
        if (config.method === 'GET') {
            const queryString = new URLSearchParams(params).toString();
            url = url + '?' + queryString;
        } else if (config.method === 'POST' && apiKey === 'getSegmentComment') {
            // \u5BF9\u4E8E getSegmentComment \u63A5\u53E3\uFF0C\u9700\u8981\u5C06 format \u53C2\u6570\u6DFB\u52A0\u5230 URL \u67E5\u8BE2\u53C2\u6570\u4E2D
            const queryParams = {};
            if (params.format) {
                queryParams.format = params.format;
            }
            if (Object.keys(queryParams).length > 0) {
                const queryString = new URLSearchParams(queryParams).toString();
                url = url + '?' + queryString;
            }
        }
    }

    // \u914D\u7F6E\u8BF7\u6C42\u9009\u9879
    const requestOptions = {
        method: config.method,
        headers: {
            'Content-Type': 'application/json'
        }
    };

    // \u5904\u7406\u8BF7\u6C42\u4F53
    if (config.hasBody) {
        // \u4ECE\u8BF7\u6C42\u4F53\u8F93\u5165\u6846\u83B7\u53D6\u5185\u5BB9
        const bodyContent = document.getElementById('body-content').value;
        if (bodyContent) {
            try {
                // \u5C1D\u8BD5\u89E3\u6790\u7528\u6237\u8F93\u5165\u7684JSON
                const bodyData = JSON.parse(bodyContent);
                requestOptions.body = JSON.stringify(bodyData);
            } catch (e) {
                addLog('\u8BF7\u6C42\u4F53JSON\u683C\u5F0F\u9519\u8BEF: ' + e.message, 'error');
                sendButton.innerHTML = originalText;
                sendButton.disabled = false;
                return;
            }
        } else {
            // \u5982\u679C\u6CA1\u6709\u5728\u8BF7\u6C42\u4F53\u8F93\u5165\u6846\u4E2D\u8F93\u5165\u5185\u5BB9\uFF0C\u5219\u4F7F\u7528\u53C2\u6570\u6784\u5EFA\u8BF7\u6C42\u4F53\uFF08\u5411\u540E\u517C\u5BB9\uFF09
            if (apiKey === 'getSegmentComment') {
                // \u5BF9\u4E8E getSegmentComment \u63A5\u53E3\uFF0C\u521B\u5EFA segment \u5BF9\u8C61
                const segmentData = { url: params.url };
                if (params.format) {
                    segmentData.format = params.format;
                }
                requestOptions.body = JSON.stringify(segmentData);
            } else {
                requestOptions.body = JSON.stringify(params);
            }
        }
    } else if (config.method === 'POST') {
        // \u5BF9\u4E8E\u6CA1\u6709\u7279\u6B8A\u8BF7\u6C42\u4F53\u914D\u7F6E\u7684POST\u63A5\u53E3\uFF0C\u4F7F\u7528\u53C2\u6570\u6784\u5EFA\u8BF7\u6C42\u4F53
        requestOptions.body = JSON.stringify(params);
    }

    // \u53D1\u9001\u771F\u5B9EAPI\u8BF7\u6C42
    fetch(buildApiUrl(url), requestOptions)
        .then(response => {
            if (!response.ok) {
                throw new Error(\`HTTP error! status: \${response.status}\`);
            }
            
            // \u68C0\u67E5format\u53C2\u6570\u4EE5\u786E\u5B9A\u5982\u4F55\u5904\u7406\u54CD\u5E94
            const formatParam = params.format || 'json';
            
            if (formatParam.toLowerCase() === 'xml') {
                // \u5BF9\u4E8EXML\u683C\u5F0F\uFF0C\u8FD4\u56DE\u6587\u672C\u5185\u5BB9
                return response.text().then(text => ({
                    data: text,
                    format: 'xml'
                }));
            } else {
                // \u5BF9\u4E8EJSON\u683C\u5F0F\u6216\u5176\u4ED6\u60C5\u51B5\uFF0C\u8FD4\u56DEJSON\u5BF9\u8C61
                return response.json().then(json => ({
                    data: json,
                    format: 'json'
                }));
            }
        })
        .then(result => {
            // \u663E\u793A\u54CD\u5E94\u7ED3\u679C
            document.getElementById('api-response-container').style.display = 'block';
            
            if (result.format === 'xml') {
                // \u663E\u793AXML\u54CD\u5E94
                document.getElementById('api-response').textContent = result.data;
                document.getElementById('api-response').className = 'api-response xml'; // \u4F7F\u7528XML\u4E13\u7528\u6837\u5F0F\u7C7B
            } else {
                // \u663E\u793AJSON\u54CD\u5E94
                document.getElementById('api-response').className = 'json-response';
                document.getElementById('api-response').innerHTML = highlightJSON(result.data);
            }
            
            addLog('\u63A5\u53E3\u8C03\u7528\u6210\u529F', 'success');
        })
        .catch(error => {
            // \u5904\u7406\u9519\u8BEF
            const errorMessage = \`API\u8BF7\u6C42\u5931\u8D25: \${error.message}\`;
            document.getElementById('api-response-container').style.display = 'block';
            document.getElementById('api-response').textContent = errorMessage;
            // \u6DFB\u52A0\u9519\u8BEF\u4FE1\u606F\u7684CSS\u7C7B
            document.getElementById('api-response').className = 'error-response';
            addLog(errorMessage, 'error');
        })
        .finally(() => {
            // \u6062\u590D\u6309\u94AE\u72B6\u6001
            sendButton.innerHTML = originalText;
            sendButton.disabled = false;
        });
}
`;var Kfe=`
// \u63A8\u9001\u5F39\u5E55\u529F\u80FD\u76F8\u5173

// \u4ECE\u73AF\u5883\u53D8\u91CF\u83B7\u53D6\u9ED8\u8BA4\u63A8\u9001\u5730\u5740
function getDefaultPushUrl(config) {
    const pushUrl = config.originalEnvVars?.DANMU_PUSH_URL || '';
    return pushUrl.trim();
}

// \u8BBE\u7F6E\u9ED8\u8BA4\u63A8\u9001\u5730\u5740
function setDefaultPushUrl(config) {
    const defaultPushUrl = getDefaultPushUrl(config);
    if (defaultPushUrl) {
        const pushUrlInput = document.getElementById('push-url');
        if (pushUrlInput && !pushUrlInput.value) {
            pushUrlInput.value = defaultPushUrl;
        }
    }
}

// \u521D\u59CB\u5316\u63A8\u9001\u5F39\u5E55\u754C\u9762
function initPushDanmuInterface() {
    const searchKeywordInput = document.getElementById('push-search-keyword');
    if (searchKeywordInput) {
        // \u6DFB\u52A0\u56DE\u8F66\u952E\u641C\u7D22\u4E8B\u4EF6\u76D1\u542C
        searchKeywordInput.addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                searchAnimeForPush();
            }
        });
    }
}

// \u641C\u7D22\u52A8\u6F2B\u7528\u4E8E\u63A8\u9001
function searchAnimeForPush() {
    const keyword = document.getElementById('push-search-keyword').value.trim();
    const pushUrl = document.getElementById('push-url').value.trim();
    const searchBtn = document.querySelector('#push-section .btn-primary');
    
    if (!keyword) {
        customAlert('\u8BF7\u8F93\u5165\u641C\u7D22\u5173\u952E\u5B57');
        return;
    }
    
    // \u641C\u7D22\u65F6\u4E0D\u518D\u6821\u9A8CpushUrl\u662F\u5426\u4E3A\u7A7A\uFF0C\u53EA\u5728\u63A8\u9001\u65F6\u6821\u9A8C
    
    // \u6DFB\u52A0\u52A0\u8F7D\u72B6\u6001
    const originalText = searchBtn.textContent;
    searchBtn.innerHTML = '<span class="loading-spinner-small"></span>';
    searchBtn.disabled = true;
    
    // \u6784\u5EFA\u641C\u7D22API\u8BF7\u6C42URL
    const searchUrl = buildApiUrl('/api/v2/search/anime?keyword=' + encodeURIComponent(keyword));
    
    addLog(\`\u5F00\u59CB\u641C\u7D22\u52A8\u6F2B: \${keyword}\`, 'info');
    
    // \u53D1\u9001\u641C\u7D22\u8BF7\u6C42
    fetch(searchUrl)
        .then(response => {
            if (!response.ok) {
                throw new Error(\`HTTP error! status: \${response.status}\`);
            }
            return response.json();
        })
        .then(data => {
            if (data.success && data.animes.length > 0) {
                displayAnimeListForPush(data.animes, pushUrl);
            } else {
                document.getElementById('push-anime-list').style.display = 'none';
                document.getElementById('push-episode-list').style.display = 'none';
                customAlert('\u672A\u627E\u5230\u76F8\u5173\u52A8\u6F2B');
                addLog('\u672A\u627E\u5230\u76F8\u5173\u52A8\u6F2B', 'warn');
            }
        })
        .catch(error => {
            console.error('\u641C\u7D22\u52A8\u6F2B\u5931\u8D25:', error);
            customAlert('\u641C\u7D22\u52A8\u6F2B\u5931\u8D25: ' + error.message);
            addLog('\u641C\u7D22\u52A8\u6F2B\u5931\u8D25: ' + error.message, 'error');
        })
        .finally(() => {
            // \u6062\u590D\u6309\u94AE\u72B6\u6001
            searchBtn.innerHTML = originalText;
            searchBtn.disabled = false;
        });
}

// \u5C55\u793A\u52A8\u6F2B\u5217\u8868\u7528\u4E8E\u63A8\u9001
function displayAnimeListForPush(animes, pushUrl) {
    const container = document.getElementById('push-anime-list');
    let html = '<h3>\u641C\u7D22\u7ED3\u679C</h3><div class="anime-grid">';

    animes.forEach(anime => {
        const imageUrl = anime.imageUrl || 'https://placehold.co/150x200?text=No+Image';
        html += \`
            <div class="anime-item" onclick="getBangumiForPush(\${anime.animeId}, '\${pushUrl}')">
                <img src="\${imageUrl}" alt="\${anime.animeTitle}" referrerpolicy="no-referrer" class="anime-item-img">
                <h4 class="anime-title">\${anime.animeTitle} - \u5171\${anime.episodeCount}\u96C6</h4>
            </div>
        \`; 
    });
    
    html += '</div>';
    container.innerHTML = html;
    container.style.display = 'block';
    
    addLog(\`\u663E\u793A \${animes.length} \u4E2A\u52A8\u6F2B\u7ED3\u679C\`, 'info');
}

// \u83B7\u53D6\u756A\u5267\u8BE6\u60C5\u7528\u4E8E\u63A8\u9001
function getBangumiForPush(animeId, pushUrl) {
    const bangumiUrl = buildApiUrl('/api/v2/bangumi/' + animeId);
    
    addLog(\`\u83B7\u53D6\u756A\u5267\u8BE6\u60C5: \${animeId}\`, 'info');
    
    fetch(bangumiUrl)
        .then(response => {
            if (!response.ok) {
                throw new Error(\`HTTP error! status: \${response.status}\`);
            }
            return response.json();
        })
        .then(data => {
            if (data.success && data.bangumi && data.bangumi.episodes) {
                displayEpisodeListForPush(data.bangumi.animeTitle, data.bangumi.episodes, pushUrl);
            } else {
                customAlert('\u8BE5\u52A8\u6F2B\u6682\u65E0\u5267\u96C6\u4FE1\u606F');
                addLog('\u8BE5\u52A8\u6F2B\u6682\u65E0\u5267\u96C6\u4FE1\u606F', 'warn');
            }
        })
        .catch(error => {
            console.error('\u83B7\u53D6\u756A\u5267\u8BE6\u60C5\u5931\u8D25:', error);
            customAlert('\u83B7\u53D6\u756A\u5267\u8BE6\u60C5\u5931\u8D25: ' + error.message);
            addLog('\u83B7\u53D6\u756A\u5267\u8BE6\u60C5\u5931\u8D25: ' + error.message, 'error');
        });
}

// \u5C55\u793A\u5267\u96C6\u5217\u8868\u7528\u4E8E\u63A8\u9001
function displayEpisodeListForPush(animeTitle, episodes, pushUrl) {
    const container = document.getElementById('push-episode-list');
    let html = \`<h3>\u5267\u96C6\u5217\u8868</h3><h4 class="text-yellow-gold">\${animeTitle}</h4><div class="episode-list-container">\`;

    episodes.forEach(episode => {
        // \u751F\u6210\u5F39\u5E55URL
        const commentUrl = window.location.origin + buildApiUrl('/api/v2/comment/' + episode.episodeId + '?format=xml');
        html += \`
            <div class="episode-item">
                <div class="episode-item-content">
                    <strong>\u7B2C\${episode.episodeNumber}\u96C6</strong> - \${episode.episodeTitle || '\u65E0\u6807\u9898'}
                </div>
                <button class="btn btn-success btn-sm episode-push-btn" onclick="pushDanmu('\${pushUrl}', '\${commentUrl}', '\${episode.episodeTitle || '\u7B2C' + episode.episodeNumber + '\u96C6'}')">\u63A8\u9001</button>
            </div>
        \`; 
    });
    
    html += '</div>';
    container.innerHTML = html;
    container.style.display = 'block';
    
    addLog(\`\u663E\u793A \${episodes.length} \u4E2A\u5267\u96C6\`, 'info');
    
    // \u81EA\u52A8\u6EDA\u52A8\u5230\u5267\u96C6\u5217\u8868\u5904
    setTimeout(() => {
        container.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }, 10);
}

// \u63A8\u9001\u5F39\u5E55
async function pushDanmu(pushUrl, commentUrl, episodeTitle) {
    // \u83B7\u53D6\u63A8\u9001\u6309\u94AE\u5143\u7D20
    const pushButton = event.target; // \u901A\u8FC7\u4E8B\u4EF6\u5BF9\u8C61\u83B7\u53D6\u5F53\u524D\u70B9\u51FB\u7684\u6309\u94AE

    // \u6821\u9A8C\u63A8\u9001\u5730\u5740\u662F\u5426\u4E3A\u7A7A
    if (!pushUrl || pushUrl.trim() === '') {
        customAlert('\u8BF7\u8F93\u5165\u63A8\u9001\u5730\u5740');
        if (pushButton) {
            pushButton.innerHTML = '\u63A8\u9001';
            pushButton.disabled = false;
        }
        return;
    }

    if (pushButton) {
        const originalText = pushButton.innerHTML;
        pushButton.innerHTML = '<span class="loading-spinner-small"></span>';
        pushButton.disabled = true;
    }

    try {       
        // \u5411\u63A8\u9001\u5730\u5740\u53D1\u9001\u5F39\u5E55\u6570\u636E
        const pushResponse = await fetch(pushUrl + encodeURIComponent(commentUrl), {
            method: 'GET',
            mode: 'no-cors', // \u7531\u4E8E\u8DE8\u57DF\u9650\u5236\uFF0C\u4F7F\u7528no-cors\u6A21\u5F0F
        });

        customAlert('\u5F39\u5E55\u63A8\u9001\u6210\u529F\uFF01' + episodeTitle);
        addLog('\u5F39\u5E55\u63A8\u9001\u6210\u529F - ' + episodeTitle, 'success');
    } catch (error) {
        console.error('\u63A8\u9001\u5F39\u5E55\u5931\u8D25:', error);
        customAlert('\u63A8\u9001\u5F39\u5E55\u5931\u8D25: ' + error.message);
        addLog('\u63A8\u9001\u5F39\u5E55\u5931\u8D25: ' + error.message, 'error');
    } finally {
        // \u6062\u590D\u6309\u94AE\u72B6\u6001
        if (pushButton) {
            pushButton.innerHTML = '\u63A8\u9001';
            pushButton.disabled = false;
        }
    }
}
`;var Yfe=`
// \u8BF7\u6C42\u8BB0\u5F55\u76F8\u5173\u529F\u80FD
async function renderRequestRecords() {
    const recordsContainer = document.getElementById('request-records-list');
    if (!recordsContainer) {
        console.error('\u672A\u627E\u5230\u8BF7\u6C42\u8BB0\u5F55\u5BB9\u5668');
        return;
    }

    try {
        // \u4ECEAPI\u83B7\u53D6\u8BF7\u6C42\u8BB0\u5F55
        const response = await fetch(buildApiUrl('/api/reqrecords'));
        if (!response.ok) {
            throw new Error('\u83B7\u53D6\u8BF7\u6C42\u8BB0\u5F55\u5931\u8D25');
        }
        
        const data = await response.json();
        const records = data.records;
        const todayReqNum = data.todayReqNum;

        // \u663E\u793A\u4ECA\u65E5\u8BF7\u6C42\u603B\u6570
        const totalRequestsElement = document.getElementById('total-requests-today');
        if (totalRequestsElement) {
            totalRequestsElement.textContent = \`\u4ECA\u65E5\u8BF7\u6C42\u603B\u6570: \${todayReqNum}\`;
        }

        if (records.length === 0) {
            recordsContainer.innerHTML = '<div class="no-records">\u6682\u65E0\u8BF7\u6C42\u8BB0\u5F55</div>';
            return;
        }

        // \u751F\u6210\u8BB0\u5F55HTML
        const recordsHtml = records.map(record => {
            const interfaceName = decodeURIComponent(record.interface) || '\u672A\u77E5\u63A5\u53E3';
            const params = record.params || {};
            const timestamp = record.timestamp ? new Date(record.timestamp).toLocaleString('zh-CN') : '\u672A\u77E5\u65F6\u95F4';
            const method = record.method || 'GET';
            const clientIp = record.clientIp || '\u672A\u77E5IP';

            // \u683C\u5F0F\u5316\u53C2\u6570\u663E\u793A
            const hasParams = Object.keys(params).length > 0;
            const paramsHtml = hasParams 
                ? \`<div class="record-params">
                    <div class="record-params-title">\u8BF7\u6C42\u53C2\u6570</div>
                    <pre>\${JSON.stringify(params, null, 2)}</pre>
                   </div>\` 
                : '';

            // \u5982\u679C\u6CA1\u6709\u53C2\u6570\uFF0C\u7ED9\u65F6\u95F4\u6233\u6DFB\u52A0 no-params \u7C7B\u4EE5\u9690\u85CF\u865A\u7EBF
            const timestampClass = hasParams ? 'record-timestamp' : 'record-timestamp no-params';

            return \`
            <div class="record-item">
                <div class="record-header">
                    <div class="record-method">\${method}</div>
                    <div class="record-interface">\${interfaceName}</div>
                    <div class="record-ip">\${clientIp}</div>
                </div>
                <div class="\${timestampClass}">\${timestamp}</div>
                \${paramsHtml}
            </div>\`;
        }).join('');

        recordsContainer.innerHTML = recordsHtml;
    } catch (error) {
        console.error('\u83B7\u53D6\u8BF7\u6C42\u8BB0\u5F55\u65F6\u51FA\u9519:', error);
        recordsContainer.innerHTML = '<div class="no-records">\u83B7\u53D6\u8BF7\u6C42\u8BB0\u5F55\u5931\u8D25: ' + error.message + '</div>';
    }
}

// \u521D\u59CB\u5316\u8BF7\u6C42\u8BB0\u5F55\u754C\u9762
function initRequestRecordsInterface() {
    // \u786E\u4FDD\u5728\u5207\u6362\u5230\u8BF7\u6C42\u8BB0\u5F55\u6807\u7B7E\u9875\u65F6\u4E5F\u66F4\u65B0\u8BB0\u5F55
    const originalSwitchSection = window.switchSection;
    if (originalSwitchSection && typeof originalSwitchSection === 'function') {
        window.switchSection = function(section, event = null) {
            // \u8C03\u7528\u539F\u51FD\u6570
            originalSwitchSection(section, event);
            
            // \u5982\u679C\u5207\u6362\u5230\u8BF7\u6C42\u8BB0\u5F55\u9875\u9762\uFF0C\u5219\u5237\u65B0\u8BB0\u5F55
            if (section === 'request-records') {
                setTimeout(renderRequestRecords, 100);
            }
        };
    }

    // \u9996\u6B21\u521D\u59CB\u5316
    if (document.getElementById('request-records-section') && 
        document.querySelector('.nav-btn[data-section="request-records"]') &&
        document.querySelector('.nav-btn[data-section="request-records"]').classList.contains('active')) {
        renderRequestRecords();
    }
}

// \u9875\u9762\u52A0\u8F7D\u5B8C\u6210\u540E\u521D\u59CB\u5316
document.addEventListener('DOMContentLoaded', function() {
    if (typeof initRequestRecordsInterface === 'function') {
        initRequestRecordsInterface();
    }
    
    // \u6DFB\u52A0\u5237\u65B0\u6309\u94AE\u529F\u80FD
    const refreshBtn = document.getElementById('refresh-request-records');
    if (refreshBtn) {
        refreshBtn.onclick = function() {
            renderRequestRecords();
        };
    }

});
`;var Wfe=`
// \u5168\u5C40\u53D8\u91CF\u5B9A\u4E49
let isMergeMode = false;
let stagingTags = [];

// \u663E\u793A\u6E05\u7406\u7F13\u5B58\u786E\u8BA4\u6A21\u6001\u6846
function showClearCacheModal() {
    document.getElementById('clear-cache-modal').classList.add('active');
}

// \u9690\u85CF\u6E05\u7406\u7F13\u5B58\u786E\u8BA4\u6A21\u6001\u6846
function hideClearCacheModal() {
    document.getElementById('clear-cache-modal').classList.remove('active');
}

// \u786E\u8BA4\u6E05\u7406\u7F13\u5B58
async function confirmClearCache() {
    // \u68C0\u67E5\u90E8\u7F72\u5E73\u53F0\u914D\u7F6E
    const configCheck = await checkDeployPlatformConfig();
    if (!configCheck.success) {
        hideClearCacheModal();
        customAlert(configCheck.message);
        return;
    }

    hideClearCacheModal();
    showLoading('\u6B63\u5728\u6E05\u7406\u7F13\u5B58...', '\u6E05\u9664\u4E2D\uFF0C\u8BF7\u7A0D\u5019');
    addLog('\u5F00\u59CB\u6E05\u7406\u7F13\u5B58', 'info');

    try {
        // \u8C03\u7528\u771F\u5B9E\u7684\u6E05\u7406\u7F13\u5B58API
        const response = await fetch(buildApiUrl('/api/cache/clear', true), { // \u4F7F\u7528admin token
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            }
        });

        const result = await response.json();

        if (result.success) {
            updateLoadingText('\u6E05\u7406\u5B8C\u6210', '\u7F13\u5B58\u5DF2\u6210\u529F\u6E05\u9664');
            addLog('\u7F13\u5B58\u6E05\u7406\u5B8C\u6210', 'success');
            addLog('\u7F13\u5B58\u6E05\u7406\u6210\u529F\uFF01\u5DF2\u6E05\u7406: ' + JSON.stringify(result.clearedItems), 'success');
        } else {
            updateLoadingText('\u6E05\u7406\u5931\u8D25', '\u8BF7\u67E5\u770B\u65E5\u5FD7\u4E86\u89E3\u8BE6\u60C5');
            addLog('\u7F13\u5B58\u6E05\u7406\u5931\u8D25: ' + result.message, 'error');
        }
    } catch (error) {
        updateLoadingText('\u6E05\u7406\u5931\u8D25', '\u7F51\u7EDC\u9519\u8BEF\u6216\u670D\u52A1\u4E0D\u53EF\u7528');
        addLog('\u7F13\u5B58\u6E05\u7406\u8BF7\u6C42\u5931\u8D25: ' + error.message, 'error');
    } finally {
        setTimeout(() => {
            hideLoading();
        }, 10);
    }
}

// \u663E\u793A\u91CD\u65B0\u90E8\u7F72\u786E\u8BA4\u6A21\u6001\u6846
function showDeploySystemModal() {
    document.getElementById('deploy-system-modal').classList.add('active');
}

// \u9690\u85CF\u91CD\u65B0\u90E8\u7F72\u786E\u8BA4\u6A21\u6001\u6846
function hideDeploySystemModal() {
    document.getElementById('deploy-system-modal').classList.remove('active');
}

// \u786E\u8BA4\u91CD\u65B0\u90E8\u7F72\u7CFB\u7EDF
function confirmDeploySystem() {
    // \u68C0\u67E5\u90E8\u7F72\u5E73\u53F0\u914D\u7F6E
    checkDeployPlatformConfig().then(configCheck => {
        if (!configCheck.success) {
            hideDeploySystemModal();
            customAlert(configCheck.message);
            return;
        }

        hideDeploySystemModal();
        showLoading('\u51C6\u5907\u90E8\u7F72...', '\u6B63\u5728\u68C0\u67E5\u7CFB\u7EDF\u72B6\u6001');
        addLog('===== \u5F00\u59CB\u7CFB\u7EDF\u90E8\u7F72 =====', 'info');

        // \u83B7\u53D6\u5F53\u524D\u90E8\u7F72\u5E73\u53F0
        fetch(buildApiUrl('/api/config', true))
            .then(response => response.json())
            .then(config => {
                const deployPlatform = config.envs.deployPlatform || 'node';
                addLog(\`\u68C0\u6D4B\u5230\u90E8\u7F72\u5E73\u53F0: \${deployPlatform}\`, 'info');

                if (deployPlatform.toLowerCase() === 'node') {
                    // Node\u90E8\u7F72\u4E0D\u9700\u8981\u91CD\u65B0\u90E8\u7F72
                    setTimeout(() => {
                        hideLoading();
                        addLog('===== \u90E8\u7F72\u5B8C\u6210 =====', 'success');
                        addLog('Node\u90E8\u7F72\u6A21\u5F0F\uFF0C\u73AF\u5883\u53D8\u91CF\u5DF2\u751F\u6548', 'info');
                        addLog('Node\u90E8\u7F72\u6A21\u5F0F - \u5728Node\u90E8\u7F72\u6A21\u5F0F\u4E0B\uFF0C\u73AF\u5883\u53D8\u91CF\u4FEE\u6539\u540E\u4F1A\u81EA\u52A8\u751F\u6548\uFF0C\u65E0\u9700\u91CD\u65B0\u90E8\u7F72\u3002\u7CFB\u7EDF\u5DF2\u66F4\u65B0\u914D\u7F6E', 'success');
                    }, 150);
                } else {  
                    // \u8C03\u7528\u771F\u5B9E\u7684\u90E8\u7F72API
                    fetch(buildApiUrl('/api/deploy', true), { // \u4F7F\u7528admin token
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        }
                    })
                    .then(response => response.json())
                    .then(result => {
                        if (result.success) {
                            addLog('\u4E91\u7AEF\u90E8\u7F72\u89E6\u53D1\u6210\u529F', 'success');
                            // \u6A21\u62DF\u4E91\u7AEF\u90E8\u7F72\u8FC7\u7A0B
                            simulateDeployProcess();
                        } else {
                            hideLoading();
                            addLog(\`\u4E91\u7AEF\u90E8\u7F72\u5931\u8D25: \${result.message}\`, 'error');
                            addLog(\`\u4E91\u7AEF\u90E8\u7F72\u5931\u8D25: \${result.message}\`, 'error');
                        }
                    })
                    .catch(error => {
                        hideLoading();
                        addLog(\`\u4E91\u7AEF\u90E8\u7F72\u8BF7\u6C42\u5931\u8D25: \${error.message}\`, 'error');
                        addLog(\`\u4E91\u7AEF\u90E8\u7F72\u8BF7\u6C42\u5931\u8D25: \${error.message}\`, 'error');
                    });
                }
            })
            .catch(error => {
                hideLoading();
                addLog(\`\u83B7\u53D6\u90E8\u7F72\u5E73\u53F0\u4FE1\u606F\u5931\u8D25: \${error.message}\`, 'error');
                console.error('\u83B7\u53D6\u90E8\u7F72\u5E73\u53F0\u4FE1\u606F\u5931\u8D25:', error);
            });
    });
}

// \u6A21\u62DF\u4E91\u7AEF\u90E8\u7F72\u8FC7\u7A0B
function simulateDeployProcess() {
    let progress = 0;
    const progressInterval = setInterval(() => {
        progress += Math.random() * 8;
        if (progress >= 100) {
            progress = 10;
            clearInterval(progressInterval);
        }
        updateProgress(progress);
    }, 300);

    // \u6A21\u62DF\u90E8\u7F72\u6B65\u9AA4
    const steps = [
        { delay: 100, text: '\u68C0\u67E5\u73AF\u5883\u53D8\u91CF...', detail: '\u9A8C\u8BC1\u914D\u7F6E\u6587\u4EF6', log: '\u914D\u7F6E\u6587\u4EF6\u9A8C\u8BC1\u901A\u8FC7' },
        { delay: 5000, text: '\u89E6\u53D1\u4E91\u7AEF\u90E8\u7F72...', detail: '\u90E8\u7F72\u5230\u5F53\u524D\u5E73\u53F0', log: '\u4E91\u7AEF\u90E8\u7F72\u5DF2\u89E6\u53D1' },
        { delay: 9500, text: '\u6784\u5EFA\u9879\u76EE...', detail: '\u4E91\u7AEF\u6784\u5EFA\u4E2D', log: '\u4E91\u7AEF\u6784\u5EFA\u5B8C\u6210' },
        { delay: 5000, text: '\u90E8\u7F72\u66F4\u65B0...', detail: '\u53D1\u5E03\u5230\u751F\u4EA7\u73AF\u5883', log: '\u66F4\u65B0\u5DF2\u90E8\u7F72' },
        { delay: 5500, text: '\u670D\u52A1\u91CD\u542F...', detail: '\u5E94\u7528\u65B0\u914D\u7F6E', log: '\u670D\u52A1\u5DF2\u91CD\u542F' },
        { delay: 5000, text: '\u5065\u5EB7\u68C0\u67E5...', detail: '\u9A8C\u8BC1\u670D\u52A1\u72B6\u6001', log: '\u6240\u6709\u670D\u52A1\u8FD0\u884C\u6B63\u5E38' },
    ];

    steps.forEach(step => {
        setTimeout(() => {
            updateLoadingText(step.text, step.detail);
            addLog(step.log, 'success');
        }, step.delay);
    });

    // \u90E8\u7F72\u540E\u68C0\u67E5\u670D\u52A1\u662F\u5426\u53EF\u7528
    setTimeout(() => {
        checkDeploymentStatus();
    }, 900); // \u5EF6\u957F\u5EF6\u8FDF\u4EE5\u786E\u4FDD\u6A21\u62DF\u90E8\u7F72\u8FC7\u7A0B\u5B8C\u6210
}

// \u68C0\u67E5\u90E8\u7F72\u72B6\u6001\uFF0C\u6BCF\u96945\u79D2\u8BF7\u6C42/api/logs\u63A5\u53E3\u76F4\u5230\u8BF7\u6C42\u6210\u529F
function checkDeploymentStatus() {
    const checkInterval = setInterval(() => {
        updateLoadingText('\u90E8\u7F72\u5B8C\u6210\uFF0C\u68C0\u67E5\u670D\u52A1\u72B6\u6001...', '\u6B63\u5728\u8BF7\u6C42 /api/logs \u63A5\u53E3');
        addLog('\u6B63\u5728\u68C0\u67E5\u670D\u52A1\u72B6\u6001...', 'info');

        fetch(buildApiUrl('/api/logs'))
            .then(response => {
                if (response.ok) {
                    // \u8BF7\u6C42\u6210\u529F\uFF0C\u505C\u6B62\u68C0\u67E5
                    clearInterval(checkInterval);
                    // \u66F4\u65B0\u52A0\u8F7D\u72B6\u6001\u800C\u4E0D\u662F\u7ACB\u5373\u9690\u85CF
                    updateLoadingText('\u90E8\u7F72\u6210\u529F\uFF01', '\u670D\u52A1\u5DF2\u91CD\u542F\u5E76\u6B63\u5E38\u8FD0\u884C');
                    addLog('===== \u90E8\u7F72\u5B8C\u6210 =====', 'success');
                    addLog('\u90E8\u7F72\u7248\u672C: ' + latestVersion, 'info');
                    addLog('\u7CFB\u7EDF\u5DF2\u66F4\u65B0\u5E76\u91CD\u542F', 'success');
                    
                    // \u90E8\u7F72\u5B8C\u6210\u540E\u518D\u6B21\u786E\u8BA4\uFF0C\u8BBF\u95EE/api/logs\u63A5\u53E3\u6765\u786E\u8BA4\u90E8\u7F72\u5B8C\u6210
                    confirmDeploymentByLogs();
                } else {
                    addLog('\u670D\u52A1\u68C0\u67E5\u4E2D - \u72B6\u6001\u7801: ' + response.status, 'info');
                }
            })
            .catch(error => {
                addLog('\u670D\u52A1\u68C0\u67E5\u4E2D - \u8FDE\u63A5\u5931\u8D25: ' + error.message, 'info');
            });
    }, 500); // \u6BCF5\u79D2\u68C0\u67E5\u4E00\u6B21
}

// \u90E8\u7F72\u5B8C\u6210\u540E\u901A\u8FC7\u8BBF\u95EE/api/logs\u63A5\u53E3\u6765\u786E\u8BA4\u90E8\u7F72\u5B8C\u6210
function confirmDeploymentByLogs() {
    // \u90E8\u7F72\u5B8C\u6210\u540E\u7684\u786E\u8BA4\u68C0\u67E5
    let confirmationAttempts = 0;
    const maxAttempts = 3; // \u6700\u591A\u5C1D\u8BD53\u6B21\u786E\u8BA4\u90E8\u7F72\u5B8C\u6210

    const confirmationInterval = setInterval(() => {
        confirmationAttempts++;
        updateLoadingText('\u90E8\u7F72\u5B8C\u6210\u786E\u8BA4\u4E2D...', '\u6B63\u5728\u786E\u8BA4\u90E8\u7F72\u5B8C\u6210 (' + confirmationAttempts + '/' + maxAttempts + ')');
        addLog('\u90E8\u7F72\u5B8C\u6210\u786E\u8BA4 - \u5C1D\u8BD5 ' + confirmationAttempts + '/' + maxAttempts, 'info');

        fetch(buildApiUrl('/api/logs'))
            .then(response => {
                if (response.ok) {
                    // \u8BF7\u6C42\u6210\u529F\uFF0C\u505C\u6B62\u786E\u8BA4\u68C0\u67E5
                    clearInterval(confirmationInterval);
                    // \u663E\u793A\u6210\u529F\u4FE1\u606F\u540E\u5EF6\u8FDF\u9690\u85CF\u52A0\u8F7D\u906E\u7F69
                    updateLoadingText('\u90E8\u7F72\u786E\u8BA4\u6210\u529F\uFF01', '\u670D\u52A1\u5DF2\u91CD\u542F\u5E76\u6B63\u5E38\u8FD0\u884C');
                    addLog('\u90E8\u7F72\u786E\u8BA4\u6210\u529F - /api/logs \u63A5\u53E3\u8BBF\u95EE\u6B63\u5E38', 'success');
                    
                    setTimeout(() => {
                        hideLoading();
                        // \u663E\u793A\u6210\u529F\u5F39\u7A97
                        customAlert('\u90E8\u7F72\u6210\u529F\uFF01\u4E91\u7AEF\u90E8\u7F72\u5DF2\u5B8C\u6210\uFF0C\u670D\u52A1\u5DF2\u91CD\u542F\uFF0C\u914D\u7F6E\u5DF2\u751F\u6548');
                        addLog('\u90E8\u7F72\u6210\u529F\uFF01\u4E91\u7AEF\u90E8\u7F72\u5DF2\u5B8C\u6210\uFF0C\u670D\u52A1\u5DF2\u91CD\u542F\uFF0C\u914D\u7F6E\u5DF2\u751F\u6548', 'success');
                    }, 200);
                } else if (confirmationAttempts >= maxAttempts) {
                    // \u8FBE\u5230\u6700\u5927\u5C1D\u8BD5\u6B21\u6570\uFF0C\u505C\u6B62\u786E\u8BA4\u68C0\u67E5
                    clearInterval(confirmationInterval);
                    updateLoadingText('\u90E8\u7F72\u786E\u8BA4\u5B8C\u6210', '\u670D\u52A1\u5DF2\u91CD\u542F');
                    addLog('\u90E8\u7F72\u786E\u8BA4\u5B8C\u6210 - \u5DF2\u8FBE\u5230\u6700\u5927\u5C1D\u8BD5\u6B21\u6570', 'warn');
                    
                    setTimeout(() => {
                        hideLoading();
                        // \u663E\u793A\u6210\u529F\u5F39\u7A97
                        customAlert('\u90E8\u7F72\u6210\u529F\uFF01\u4E91\u7AEF\u90E8\u7F72\u5DF2\u5B8C\u6210\uFF0C\u670D\u52A1\u5DF2\u91CD\u542F\uFF0C\u914D\u7F6E\u5DF2\u751F\u6548');
                        addLog('\u90E8\u7F72\u6210\u529F\uFF01\u4E91\u7AEF\u90E8\u7F72\u5DF2\u5B8C\u6210\uFF0C\u670D\u52A1\u5DF2\u91CD\u542F\uFF0C\u914D\u7F6E\u5DF2\u751F\u6548', 'success');
                    }, 200);
                } else {
                    addLog('\u90E8\u7F72\u786E\u8BA4\u4E2D - \u72B6\u6001\u7801: ' + response.status, 'info');
                }
            })
            .catch(error => {
                if (confirmationAttempts >= maxAttempts) {
                    // \u8FBE\u5230\u6700\u5927\u5C1D\u8BD5\u6B21\u6570\uFF0C\u505C\u6B62\u786E\u8BA4\u68C0\u67E5
                    clearInterval(confirmationInterval);
                    updateLoadingText('\u90E8\u7F72\u786E\u8BA4\u5B8C\u6210', '\u670D\u52A1\u5DF2\u91CD\u542F');
                    addLog('\u90E8\u7F72\u786E\u8BA4\u5B8C\u6210 - \u5DF2\u8FBE\u5230\u6700\u5927\u5C1D\u8BD5\u6B21\u6570', 'warn');
                    
                    setTimeout(() => {
                        hideLoading();
                        // \u663E\u793A\u6210\u529F\u5F39\u7A97
                        customAlert('\u90E8\u7F72\u6210\u529F\uFF01\u4E91\u7AEF\u90E8\u7F72\u5DF2\u5B8C\u6210\uFF0C\u670D\u52A1\u5DF2\u91CD\u542F\uFF0C\u914D\u7F6E\u5DF2\u751F\u6548');
                        addLog('\u90E8\u7F72\u6210\u529F\uFF01\u4E91\u7AEF\u90E8\u7F72\u5DF2\u5B8C\u6210\uFF0C\u670D\u52A1\u5DF2\u91CD\u542F\uFF0C\u914D\u7F6E\u5DF2\u751F\u6548', 'success');
                    }, 200);
                } else {
                    addLog('\u90E8\u7F72\u786E\u8BA4\u4E2D - \u8FDE\u63A5\u5931\u8D25: ' + error.message, 'info');
                }
            });
    }, 5000); // \u6BCF5\u79D2\u68C0\u67E5\u4E00\u6B21\uFF0C\u7528\u4E8E\u786E\u8BA4\u90E8\u7F72\u5B8C\u6210
}

// \u68C0\u67E5URL\u4E2D\u7684token\u662F\u5426\u4E0EcurrentAdminToken\u5339\u914D
function checkAdminToken() {
    let _reverseProxy = customBaseUrl; // \u4F7F\u7528\u5168\u5C40\u53D8\u91CF customBaseUrl

    // \u83B7\u53D6URL\u8DEF\u5F84\u5E76\u63D0\u53D6token
    let urlPath = window.location.pathname;
    
    // \u5982\u679C\u914D\u7F6E\u4E86\u53CD\u4EE3\u8DEF\u5F84\uFF0C\u5FC5\u987B\u5148\u5265\u79BB\u5B83
    if(_reverseProxy) {
        try {
            // \u89E3\u6790\u914D\u7F6E\u4E2D\u7684\u8DEF\u5F84\u90E8\u5206\uFF0C\u4F8B\u5982 http://192.168.8.1:2333/danmu_api => /danmu_api
            let proxyPath = _reverseProxy.startsWith('http') 
                ? new URL(_reverseProxy).pathname 
                : _reverseProxy;
            
            // \u786E\u4FDD\u79FB\u9664\u5C3E\u90E8\u659C\u6760
            if (proxyPath.endsWith('/')) {
                proxyPath = proxyPath.slice(0, -1);
            }
            
            // \u5982\u679C\u5F53\u524DURL\u5305\u542B\u6B64\u524D\u7F00\uFF0C\u5219\u79FB\u9664\u5B83
            if(proxyPath && urlPath.startsWith(proxyPath)) {
                urlPath = urlPath.substring(proxyPath.length);
            }
        } catch(e) {
            console.error("\u89E3\u6790\u53CD\u4EE3\u8DEF\u5F84\u5931\u8D25", e);
        }
    }

    const pathParts = urlPath.split('/').filter(part => part !== '');
    const urlToken = pathParts.length > 0 ? pathParts[0] : currentToken; // \u5982\u679C\u6CA1\u6709\u8DEF\u5F84\u6BB5\uFF0C\u4F7F\u7528\u9ED8\u8BA4token
    
    // \u68C0\u67E5\u662F\u5426\u914D\u7F6E\u4E86ADMIN_TOKEN\u4E14URL\u4E2D\u7684token\u7B49\u4E8EcurrentAdminToken
    return currentAdminToken && currentAdminToken.trim() !== '' && urlToken === currentAdminToken;
}

// \u68C0\u67E5\u90E8\u7F72\u5E73\u53F0\u76F8\u5173\u914D\u7F6E
async function checkDeployPlatformConfig() {
    // \u9996\u5148\u68C0\u67E5\u662F\u5426\u914D\u7F6E\u4E86ADMIN_TOKEN
    if (!checkAdminToken()) {
        // \u83B7\u53D6\u5F53\u524D\u9875\u9762\u7684\u534F\u8BAE\u3001\u4E3B\u673A\u548C\u7AEF\u53E3
        const protocol = window.location.protocol;
        const host = window.location.host;
        
        let displayBase;
        if (customBaseUrl) {
            displayBase = customBaseUrl.startsWith('http') 
                ? customBaseUrl 
                : (protocol + '//' + host + customBaseUrl);
        } else {
            displayBase = protocol + '//' + host;
        }

        if (displayBase.endsWith('/')) {
            displayBase = displayBase.slice(0, -1);
        }
        
        return { success: false, message: \`<div style="text-align: left;">
            <p style="margin-bottom: 12px; font-weight: 500;">\u68C0\u6D4B\u5230\u672A\u914D\u7F6E\u7CFB\u7EDF\u7BA1\u7406\u4EE4\u724C (ADMIN_TOKEN)\uFF0C\u65E0\u6CD5\u4F7F\u7528\u7CFB\u7EDF\u914D\u7F6E\u529F\u80FD\u3002</p>
            <div style="background: rgba(0,0,0,0.03); padding: 16px; border-radius: 12px; font-size: 13px; border: 1px solid rgba(0,0,0,0.05);">
                <p style="margin-bottom: 8px; font-weight: bold; color: var(--text-primary);">\u5982\u4F55\u4FEE\u590D\uFF1A</p>
                <ol style="padding-left: 20px; margin-bottom: 12px; color: var(--text-secondary); line-height: 1.6;">
                    <li>\u5728\u90E8\u7F72\u5E73\u53F0\u8BBE\u7F6E\u73AF\u5883\u53D8\u91CF <code>ADMIN_TOKEN</code></li>
                    <li>\u91CD\u65B0\u90E8\u7F72\u670D\u52A1</li>
                    <li>\u4F7F\u7528\u5E26Token\u7684\u94FE\u63A5\u8BBF\u95EE</li>
                </ol>
                <p style="margin-bottom: 6px; font-weight: bold; color: var(--text-primary);">\u8BBF\u95EE\u793A\u4F8B\uFF1A</p>
                <code style="display: block; background: #fff; padding: 10px; border-radius: 8px; border: 1px solid rgba(0,0,0,0.08); word-break: break-all; font-family: 'SF Mono', monospace; color: var(--primary-color);">\${displayBase}/{ADMIN_TOKEN}</code>
            </div>
        </div>\` };
    }
    
    try {
        const response = await fetch(buildApiUrl('/api/config', true));
        if (!response.ok) {
            throw new Error('HTTP error! status: ' + response.status);
        }
        
        const config = await response.json();
        const deployPlatform = config.envs.deployPlatform || 'node';
        
        // \u5982\u679C\u662Fnode\u90E8\u7F72\u5E73\u53F0\uFF0C\u53EA\u9700\u8981\u68C0\u67E5ADMIN_TOKEN
        if (deployPlatform.toLowerCase() === 'node') {
            return { success: true, message: 'Node\u90E8\u7F72\u5E73\u53F0\uFF0C\u4EC5\u9700\u914D\u7F6EADMIN_TOKEN' };
        }
        
        // \u5BF9\u4E8E\u5176\u4ED6\u90E8\u7F72\u5E73\u53F0\uFF0C\u6536\u96C6\u6240\u6709\u7F3A\u5931\u7684\u73AF\u5883\u53D8\u91CF
        const missingVars = [];
        const deployPlatformProject = config.originalEnvVars.DEPLOY_PLATFROM_PROJECT;
        const deployPlatformToken = config.originalEnvVars.DEPLOY_PLATFROM_TOKEN;
        const deployPlatformAccount = config.originalEnvVars.DEPLOY_PLATFROM_ACCOUNT;
        
        if (!deployPlatformProject || deployPlatformProject.trim() === '') {
            missingVars.push('DEPLOY_PLATFROM_PROJECT');
        }
        
        if (!deployPlatformToken || deployPlatformToken.trim() === '') {
            missingVars.push('DEPLOY_PLATFROM_TOKEN');
        }
        
        // \u5BF9\u4E8Enetlify\u548Ccloudflare\u90E8\u7F72\u5E73\u53F0\uFF0C\u8FD8\u9700\u8981\u68C0\u67E5DEPLOY_PLATFROM_ACCOUNT
        if (deployPlatform.toLowerCase() === 'netlify' || deployPlatform.toLowerCase() === 'cloudflare') {
            if (!deployPlatformAccount || deployPlatformAccount.trim() === '') {
                missingVars.push('DEPLOY_PLATFROM_ACCOUNT');
            }
        }
        
        if (missingVars.length > 0) {
            const missingVarsStr = missingVars.join('\u3001');
            return { success: false, message: '\u90E8\u7F72\u5E73\u53F0\u4E3A' + deployPlatform + '\uFF0C\u8BF7\u914D\u7F6E\u4EE5\u4E0B\u7F3A\u5931\u7684\u73AF\u5883\u53D8\u91CF\uFF1A' + missingVarsStr };
        }
        
        return { success: true, message: deployPlatform + '\u90E8\u7F72\u5E73\u53F0\u914D\u7F6E\u5B8C\u6574' };
    } catch (error) {
        console.error('\u68C0\u67E5\u90E8\u7F72\u5E73\u53F0\u914D\u7F6E\u5931\u8D25:', error);
        return { success: false, message: '\u68C0\u67E5\u90E8\u7F72\u5E73\u53F0\u914D\u7F6E\u5931\u8D25: ' + error.message };
    }
}

// \u83B7\u53D6\u5E76\u8BBE\u7F6E\u914D\u7F6E\u4FE1\u606F
async function fetchAndSetConfig() {
    const config = await fetch(buildApiUrl('/api/config', true)).then(response => response.json());
    const hasAdminToken = config.hasAdminToken;
    currentAdminToken = config.originalEnvVars?.ADMIN_TOKEN || '';
    return config;
}

// \u68C0\u67E5\u5E76\u5904\u7406\u7BA1\u7406\u5458\u4EE4\u724C
function checkAndHandleAdminToken() {
    if (!checkAdminToken()) {
        // \u7981\u7528\u7CFB\u7EDF\u914D\u7F6E\u6309\u94AE\u5E76\u6DFB\u52A0\u63D0\u793A
        const envNavBtn = document.getElementById('env-nav-btn');
        if (envNavBtn) {
            envNavBtn.title = '\u8BF7\u5148\u914D\u7F6EADMIN_TOKEN\u5E76\u4F7F\u7528\u6B63\u786E\u7684admin token\u8BBF\u95EE\u4EE5\u542F\u7528\u7CFB\u7EDF\u7BA1\u7406\u529F\u80FD';
        }
    }
}

// \u6E32\u67D3\u503C\u8F93\u5165\u63A7\u4EF6
function renderValueInput(item) {
    const container = document.getElementById('value-input-container');
    const type = item ? item.type : document.getElementById('value-type').value;
    const value = item ? item.value : '';
    const currentKey = item ? item.key : document.getElementById('env-key').value;

    if (type === 'boolean') {
        // \u5E03\u5C14\u5F00\u5173
        const checked = value === 'true' || value === true;
        container.innerHTML = \`
            <label>\u503C</label>
            <div class="switch-container">
                <label class="switch">
                    <input type="checkbox" id="bool-value" \${checked ? 'checked' : ''}>
                    <span class="slider"></span>
                </label>
                <span class="switch-label" id="bool-label">\${checked ? '\u542F\u7528' : '\u7981\u7528'}</span>
            </div>
        \`;

        document.getElementById('bool-value').addEventListener('change', function(e) {
            document.getElementById('bool-label').textContent = e.target.checked ? '\u542F\u7528' : '\u7981\u7528';
        });

    } else if (type === 'number') {
        // \u6570\u5B57\u6EDA\u8F6E
        const min = item && item.min !== undefined ? item.min : 1;
        const max = item && item.max !== undefined ? item.max : 100;
        const currentValue = value || min;

        container.innerHTML = \`
            <label>\u503C (\${min}-\${max})</label>
            <div class="number-picker">
                <div class="number-controls">
                    <button type="button" class="number-btn" onclick="adjustNumber(1)">\u25B2</button>
                    <button type="button" class="number-btn" onclick="adjustNumber(-1)">\u25BC</button>
                </div>
                <div class="number-display" id="num-value">\${currentValue}</div>
            </div>
            <div class="number-range">
                <input type="range" id="num-slider" min="\${min}" max="\${max}" value="\${currentValue}"
                       oninput="updateNumberDisplay(this.value)">
            </div>
        \`;

    } else if (type === 'select') {
        // \u6807\u7B7E\u9009\u62E9
        const options = item && item.options ? item.options : ['option1', 'option2', 'option3'];
        const optionsInput = item ? '' : \`
            <div class="form-group margin-bottom-15">
                <label>\u53EF\u9009\u9879 (\u9017\u53F7\u5206\u9694)</label>
                <input type="text" id="select-options" placeholder="\u4F8B\u5982: debug,info,warn,error"
                       value="\${options.join(',')}" onchange="updateTagOptions()">
            </div>
        \`; 

        container.innerHTML = \`
            \${optionsInput}
            <label>\u9009\u62E9\u503C</label>
            <div class="tag-selector" id="tag-selector">
                \${options.map(opt => \`
                    <div class="tag-option \${opt === value ? 'selected' : ''}"
                         data-value="\${opt}" onclick="selectTag(this)">
                        \${opt}
                    </div>
                \`).join('')}
            </div>
        \`;

    } else if (type === 'multi-select') {
        // \u591A\u9009\u6807\u7B7E\uFF08\u53EF\u62D6\u52A8\u6392\u5E8F\uFF09
        const options = item && item.options ? item.options : ['option1', 'option2', 'option3', 'option4'];
        // \u786E\u4FDDvalue\u662F\u5B57\u7B26\u4E32\u7C7B\u578B\u540E\u518D\u8FDB\u884Csplit\u64CD\u4F5C
        const stringValue = typeof value === 'string' ? value : String(value || '');
        const selectedValues = stringValue ? stringValue.split(',').map(v => v.trim()).filter(v => v) : [];
        
        // \u68C0\u67E5\u662F\u5426\u4E3A SOURCE_ORDER\uFF0C\u5982\u679C\u662F\u5219\u4E0D\u663E\u793A\u5408\u5E76\u6A21\u5F0F
        const shouldShowMergeMode = currentKey === 'MERGE_SOURCE_PAIRS' || currentKey === 'PLATFORM_ORDER';
        
        // \u6BCF\u6B21\u6E32\u67D3\u65F6\u91CD\u7F6E\u5408\u5E76\u6A21\u5F0F\u72B6\u6001
        isMergeMode = false;
        stagingTags = [];

        const optionsInput = item ? '' : \`
            <div class="form-group margin-bottom-15">
                <label>\u53EF\u9009\u9879 (\u9017\u53F7\u5206\u9694)</label>
                <input type="text" id="multi-options" placeholder="\u4F8B\u5982: auth,payment,analytics"
                       value="\${options.join(',')}" onchange="updateMultiOptions()">
            </div>
        \`; 

        container.innerHTML = \`
            \${optionsInput}
            <label>\u5DF2\u9009\u62E9 (\u62D6\u52A8\u8C03\u6574\u987A\u5E8F)</label>
            <div class="multi-select-container">
                <div class="selected-tags \${selectedValues.length === 0 ? 'empty' : ''}" id="selected-tags">
                    \${selectedValues.map(val => \`
                        <div class="selected-tag" draggable="true" data-value="\${val}">
                            <span class="tag-text">\${val}</span>
                            <button type="button" class="remove-btn" onclick="removeSelectedTag(this)">\xD7</button>
                        </div>
                    \`).join('')}
                </div>

                \${shouldShowMergeMode ? \`
                <div class="merge-mode-controls">
                    <div class="merge-mode-btn" id="merge-mode-toggle" onclick="toggleMergeMode()">
                        \u5F00\u542F\u5408\u5E76\u6A21\u5F0F
                    </div>
                    <div class="form-help" style="margin: 0; margin-left: 10px;">
                        \u5F00\u542F\u540E\u70B9\u51FB\u4E0B\u65B9\u9009\u9879\u5C06\u6DFB\u52A0\u5230\u6682\u5B58\u533A,\u7EC4\u5408\u540E\u70B9\u51FB \u221A \u786E\u8BA4
                    </div>
                </div>

                <div class="staging-area" id="staging-area">
                    <button type="button" class="confirm-merge-btn" onclick="confirmMergeGroup()" title="\u786E\u8BA4\u6DFB\u52A0\u8BE5\u7EC4">\u2713</button>
                </div>
                \` : ''}

                <label>\u53EF\u9009\u9879 (\u70B9\u51FB\u6DFB\u52A0)</label>
                <div class="available-tags" id="available-tags">
                    \${options.map(opt => {
                        return \`
                            <div class="available-tag"
                                 data-value="\${opt}" onclick="addSelectedTag(this)">
                                \${opt}
                            </div>
                        \`;
                    }).join('')}
                </div>
            </div>
        \`;

        // \u8BBE\u7F6E\u62D6\u52A8\u4E8B\u4EF6
        // \u7ACB\u5373\u6267\u884C\u4E00\u6B21\u72B6\u6001\u68C0\u67E5\uFF0C\u786E\u4FDD\u5DF2\u9009\u9879\u53D8\u7070
        setTimeout(updateTagStates, 0);
        setupDragAndDrop();

    } else if (type === 'map') {
        // \u6620\u5C04\u8868\u7C7B\u578B
        const pairs = value ? value.split(';').map(pair => pair.trim()).filter(pair => pair) : [];
        const mapItems = pairs.map(pair => {
            if (pair.includes('->')) {
                const [left, right] = pair.split('->').map(s => s.trim());
                return { left, right };
            }
            return { left: pair, right: '' };
        });

        container.innerHTML = \`
            <label>\u6620\u5C04\u914D\u7F6E</label>
            <div class="map-container" id="map-container">
                \${mapItems.map((item, index) => \`
                    <div class="map-item" data-index="\${index}">
                        <input type="text" class="map-input-left" placeholder="\u539F\u59CB\u503C" value="\${item.left}">
                        <span class="map-separator">-></span>
                        <input type="text" class="map-input-right" placeholder="\u6620\u5C04\u503C" value="\${item.right}">
                        <button type="button" class="btn btn-danger map-remove-btn" onclick="removeMapItem(this)">\u5220\u9664</button>
                    </div>
                \`).join('')}
                <div class="map-item-template" style="display: none;">
                    <input type="text" class="map-input-left" placeholder="\u539F\u59CB\u503C">
                    <span class="map-separator">-></span>
                    <input type="text" class="map-input-right" placeholder="\u6620\u5C04\u503C">
                    <button type="button" class="btn btn-danger map-remove-btn" onclick="removeMapItem(this)">\u5220\u9664</button>
                </div>
            </div>
            <button type="button" class="btn btn-primary" onclick="addMapItem()">\u6DFB\u52A0\u6620\u5C04\u9879</button>
        \`;

    } else {
        // \u6587\u672C\u8F93\u5165
        const currentKey = document.getElementById('env-key') ? document.getElementById('env-key').value : '';
        const isBilibiliCookie = currentKey === 'BILIBILI_COOKIE';
        const isAiApiKey = currentKey === 'AI_API_KEY';
        
        if (isAiApiKey) {
            // AI API Key \u4E13\u7528\u7F16\u8F91\u754C\u9762
            container.innerHTML = \`
                <div class="ai-apikey-editor">
                    <label>API Key \u503C</label>
                    <textarea class="form-group" id="text-value" placeholder="\u8BF7\u8F93\u5165 AI API Key" rows="3">\${value}</textarea>
                    <div class="form-help">\u652F\u6301 OpenAI \u517C\u5BB9\u7684 API\uFF0C\u9700\u914D\u5408 AI_BASE_URL \u548C AI_MODEL \u914D\u7F6E\u4F7F\u7528</div>

                    <div class="ai-apikey-status" id="ai-apikey-status">
                        <span class="ai-status-icon">\u{1F50D}</span>
                        <span class="ai-status-text">\u70B9\u51FB\u4E0B\u65B9\u6309\u94AE\u6D4B\u8BD5\u8FDE\u901A\u6027</span>
                    </div>
                    <div class="ai-apikey-actions" style="margin-bottom: 15px;">
                        <button type="button" class="btn btn-primary btn-sm" id="ai-verify-btn" onclick="verifyAiConnection()">
                            \u{1F9EA} \u6D4B\u8BD5\u8FDE\u901A\u6027
                        </button>
                    </div>
                </div>
            \`;
        } else if (isBilibiliCookie) {
            // Bilibili Cookie \u4E13\u7528\u7F16\u8F91\u754C\u9762
            const rows = value && value.length > 50 ? Math.min(Math.max(Math.ceil(value.length / 50), 3), 8) : 3;
            container.innerHTML = \`
                <div class="bili-cookie-editor">
                    <div class="bili-cookie-status" id="bili-cookie-status">
                        <span class="bili-status-text">\u68C0\u6D4B\u4E2D...</span>
                    </div>
                    
                    <div class="bili-cookie-actions">
                        <button type="button" class="btn btn-primary btn-sm" onclick="startBilibiliQRLogin()">
                            \u626B\u7801\u767B\u5F55
                        </button>
                    </div>
                    
                    <label>Cookie \u503C</label>
                    <textarea class="form-group" id="text-value" placeholder="SESSDATA=xxx; bili_jct=xxx; DedeUserID=xxx;" rows="\${rows}">\${value}</textarea>
                    <div class="form-help">\u63A8\u8350\u4F7F\u7528\u626B\u7801\u767B\u5F55\u81EA\u52A8\u83B7\u53D6\uFF0C\u6216\u624B\u52A8\u7C98\u8D34\u5305\u542B SESSDATA \u548C bili_jct \u7684\u5B8C\u6574 Cookie</div>
                </div>
            \`;
            
            // \u81EA\u52A8\u68C0\u6D4B Cookie \u72B6\u6001 + \u76D1\u542C\u8F93\u5165\u53D8\u5316\uFF08\u9632\u6296\uFF09
            setTimeout(() => {
                autoCheckBilibiliCookieStatus();

                const inputEl = document.getElementById('text-value');
                if (inputEl) {
                    let debounceTimer = null;
                    inputEl.addEventListener('input', () => {
                        if (debounceTimer) clearTimeout(debounceTimer);
                        debounceTimer = setTimeout(() => {
                            autoCheckBilibiliCookieStatus();
                        }, 600);
                    });
                }
            }, 120);
        } else if (value && value.length > 50) {
            const rows = Math.min(Math.max(Math.ceil(value.length / 50), 3), 10);
            container.innerHTML = \`
                <label>\u53D8\u91CF\u503C *</label>
                <textarea id="text-value" placeholder="\u4F8B\u5982: localhost" rows="\${rows}" class="text-monospace">\${value}</textarea>
            \`;
        } else {
            container.innerHTML = \`
                <label>\u53D8\u91CF\u503C *</label>
                <input type="text" id="text-value" placeholder="\u4F8B\u5982: localhost" value="\${value}" required>
            \`; 
        }
    }
}

// \u8C03\u6574\u6570\u5B57
function adjustNumber(delta) {
    const display = document.getElementById('num-value');
    const slider = document.getElementById('num-slider');
    let value = parseInt(display.textContent) + delta;

    value = Math.max(parseInt(slider.min), Math.min(parseInt(slider.max), value));

    display.textContent = value;
    slider.value = value;
}

// \u66F4\u65B0\u6570\u5B57\u663E\u793A
function updateNumberDisplay(value) {
    document.getElementById('num-value').textContent = value;
}

// \u9009\u62E9\u6807\u7B7E
function selectTag(element) {
    document.querySelectorAll('.tag-option').forEach(el => el.classList.remove('selected'));
    element.classList.add('selected');
}

// \u66F4\u65B0\u6807\u7B7E\u9009\u9879
function updateTagOptions() {
    const input = document.getElementById('select-options');
    const options = input.value.split(',').map(s => s.trim()).filter(s => s);
    const container = document.getElementById('tag-selector');

    container.innerHTML = options.map(opt => \`
        <div class="tag-option" data-value="\${opt}" onclick="selectTag(this)">
            \${opt}
        </div>
    \`).join('');
}

// \u7EDF\u4E00\u7684\u72B6\u6001\u68C0\u67E5\u51FD\u6570
function updateTagStates() {
    // \u786E\u4FDD DOM \u5143\u7D20\u5B58\u5728\uFF0C\u9632\u6B62\u5728\u6E32\u67D3\u8FC7\u7A0B\u4E2D\u88AB\u8C03\u7528\u51FA\u9519
    const keyInput = document.getElementById('env-key');
    if (!keyInput) return;

    const currentKey = keyInput.value;
    const isMergeSourcePairs = currentKey === 'MERGE_SOURCE_PAIRS';

    // 1. \u83B7\u53D6\u5F53\u524D\u6682\u5B58\u533A\u4E2D\u7684Token (\u9632\u6B62\u540C\u7EC4\u5185\u91CD\u590D)
    const stagingTokens = new Set(stagingTags);
    
    // 2. \u83B7\u53D6\u5DF2\u786E\u8BA4\u7684 Selected Tags (\u4EC5\u5728\u975E\u5408\u5E76\u6A21\u5F0F\u4E0B\u9700\u8981\u68C0\u67E5)
    const selectedTagElements = Array.from(document.querySelectorAll('.selected-tag'));

    // 3. \u66F4\u65B0\u6240\u6709\u53EF\u9009\u9879\u7684\u72B6\u6001
    const availableTags = document.querySelectorAll('.available-tag');
    availableTags.forEach(tag => {
        const value = tag.dataset.value;
        let shouldDisable = false;

        if (isMergeMode) {
            // [\u5408\u5E76\u6A21\u5F0F\u903B\u8F91]
            // \u53EA\u8981\u4E0D\u5728\u5F53\u524D\u7684\u6682\u5B58\u533A\u4E2D\uFF0C\u5C31\u53EF\u4EE5\u9009\uFF08\u5141\u8BB8 bilibili&a \u548C bilibili&b\uFF09
            // \u4E5F\u5C31\u662F\u8BF4\uFF0C\u6211\u4EEC\u5B8C\u5168\u4E0D\u68C0\u67E5 selectedTagElements
            if (stagingTokens.has(value)) {
                shouldDisable = true;
            }
        } else {
            // [\u666E\u901A\u6A21\u5F0F\u903B\u8F91]
            // \u53EA\u8981\u5DF2\u7ECF\u88AB\u9009\u4E86\uFF0C\u5C31\u7981\u7528 (\u7CBE\u51C6\u5339\u914D)
            const isAlreadySelected = selectedTagElements.some(el => el.dataset.value === value);
            if (isAlreadySelected) {
                shouldDisable = true;
            }

            // \u7279\u6B8A\u60C5\u51B5\uFF1A\u5982\u679C\u662F MERGE_SOURCE_PAIRS \u4F46\u6CA1\u5F00\u5408\u5E76\u6A21\u5F0F\uFF0C\u4E14\u8FD8\u6CA1\u88AB\u9009\uFF0C\u4E5F\u7981\u7528\uFF08\u5F3A\u8FEB\u7528\u6237\u5F00\u5F00\u5173\uFF09
            if (isMergeSourcePairs && !isAlreadySelected) {
                shouldDisable = true;
            }
        }

        if (shouldDisable) {
            tag.classList.add('disabled');
        } else {
            tag.classList.remove('disabled');
        }
    });
}

// \u6DFB\u52A0\u5DF2\u9009\u6807\u7B7E
function addSelectedTag(element) {
    const value = element.dataset.value;

    if (isMergeMode) {
        if (!stagingTags.includes(value)) {
            stagingTags.push(value);
            renderStagingArea();
            updateTagStates(); // \u7ACB\u5373\u66F4\u65B0\u72B6\u6001 (\u8BE5\u9009\u9879\u53D8\u7070\uFF0C\u9632\u6B62\u540C\u7EC4\u91CD\u590D)
        }
        return;
    }

    if (element.classList.contains('disabled')) return;
    
    const container = document.getElementById('selected-tags');

    // \u79FB\u9664empty\u7C7B
    container.classList.remove('empty');

    // \u521B\u5EFA\u65B0\u6807\u7B7E
    const tag = document.createElement('div');
    tag.className = 'selected-tag';
    tag.draggable = true;
    tag.dataset.value = value;
    tag.innerHTML = \`
        <span class="tag-text">\${value}</span>
        <button type="button" class="remove-btn" onclick="removeSelectedTag(this)">\xD7</button>
    \`;

    container.appendChild(tag);
    updateTagStates(); // \u7ACB\u5373\u66F4\u65B0\u72B6\u6001
    setupDragAndDrop();
}

// \u79FB\u9664\u5DF2\u9009\u6807\u7B7E
function removeSelectedTag(button) {
    const tag = button.parentElement;
    tag.remove();

    const container = document.getElementById('selected-tags');
    if (container.children.length === 0) {
        container.classList.add('empty');
    }

    updateTagStates(); // \u79FB\u9664\u540E\u7ACB\u5373\u91CA\u653E\u72B6\u6001
    setupDragAndDrop();
}

// \u66F4\u65B0\u591A\u9009\u9009\u9879
function updateMultiOptions() {
    const input = document.getElementById('multi-options');
    const options = input.value.split(',').map(s => s.trim()).filter(s => s);

    const container = document.getElementById('available-tags');
    container.innerHTML = options.map(opt => {
        return \`
            <div class="available-tag"
                 data-value="\${opt}" onclick="addSelectedTag(this)">
                \${opt}
            </div>
        \`;
    }).join('');
    
    updateTagStates(); // \u521D\u59CB\u5316\u65F6\u66F4\u65B0\u72B6\u6001
}

// \u5207\u6362\u5408\u5E76\u6A21\u5F0F
function toggleMergeMode() {
    isMergeMode = !isMergeMode;
    const btn = document.getElementById('merge-mode-toggle');
    const stagingArea = document.getElementById('staging-area');

    if (isMergeMode) {
        btn.classList.add('active');
        btn.innerHTML = '\u5173\u95ED\u5408\u5E76\u6A21\u5F0F';
        stagingArea.classList.add('active');
        renderStagingArea();
    } else {
        btn.classList.remove('active');
        btn.innerHTML = '\u5F00\u542F\u5408\u5E76\u6A21\u5F0F';
        stagingArea.classList.remove('active');
        stagingTags = [];
    }
    
    // \u5207\u6362\u6A21\u5F0F\u65F6\u7ACB\u5373\u5237\u65B0\u6240\u6709\u53EF\u9009\u9879\u72B6\u6001
    updateTagStates();
}

// \u6E32\u67D3\u6682\u5B58\u533A
function renderStagingArea() {
    const container = document.getElementById('staging-area');
    const confirmBtn = container.querySelector('.confirm-merge-btn');
    
    while (container.firstChild && container.firstChild !== confirmBtn) {
        container.removeChild(container.firstChild);
    }

    if (stagingTags.length === 0) {
        const hint = document.createElement('span');
        hint.textContent = '\u8BF7\u70B9\u51FB\u4E0B\u65B9\u9009\u9879\u8FDB\u884C\u7EC4\u5408...';
        hint.style.color = '#666';
        hint.style.fontSize = '12px';
        container.insertBefore(hint, confirmBtn);
        confirmBtn.disabled = true;
    } else {
        stagingTags.forEach((tag, index) => {
            if (index > 0) {
                const sep = document.createElement('span');
                sep.className = 'staging-separator';
                sep.textContent = '&';
                container.insertBefore(sep, confirmBtn);
            }
            const tagEl = document.createElement('div');
            tagEl.className = 'staging-tag';
            tagEl.draggable = true;
            tagEl.dataset.value = tag;
            tagEl.dataset.index = index;
            tagEl.innerHTML = \`\${tag}<span class="remove-btn" onclick="removeFromStaging(\${index})">\xD7</span>\`;
            container.insertBefore(tagEl, confirmBtn);
        });
        confirmBtn.disabled = false;
        setupStagingDragAndDrop();
    }
}

// \u4ECE\u6682\u5B58\u533A\u79FB\u9664
function removeFromStaging(index) {
    stagingTags.splice(index, 1);
    renderStagingArea();
    updateTagStates(); // \u79FB\u9664\u540E\u5237\u65B0\u72B6\u6001
}

// \u786E\u8BA4\u6DFB\u52A0\u5408\u5E76\u7EC4
function confirmMergeGroup() {
    if (stagingTags.length === 0) return;
    const groupValue = stagingTags.join('&');
    const container = document.getElementById('selected-tags');
    container.classList.remove('empty');

    const tag = document.createElement('div');
    tag.className = 'selected-tag';
    tag.draggable = true;
    tag.dataset.value = groupValue;
    tag.innerHTML = \`<span class="tag-text">\${groupValue}</span><button type="button" class="remove-btn" onclick="removeSelectedTag(this)">\xD7</button>\`;
    
    container.appendChild(tag);
    setupDragAndDrop();
    
    stagingTags = []; // \u6E05\u7A7A\u6682\u5B58\u533A
    renderStagingArea();
    updateTagStates(); // \u5173\u952E\uFF1A\u786E\u8BA4\u540E\u7ACB\u5373\u91CD\u65B0\u8BA1\u7B97\u6240\u6709\u53EF\u9009\u9879\u7684\u7981\u7528\u72B6\u6001 (\u91CD\u7F6E\u4E3A\u53EF\u7528)
}

// \u8BBE\u7F6E\u6682\u5B58\u533A\u62D6\u653E\u529F\u80FD
function setupStagingDragAndDrop() {
    const container = document.getElementById('staging-area');
    const tags = container.querySelectorAll('.staging-tag');
    
    tags.forEach(tag => {
        tag.addEventListener('dragstart', handleStagingDragStart);
        tag.addEventListener('dragend', handleStagingDragEnd);
        tag.addEventListener('dragover', handleStagingDragOver);
        tag.addEventListener('drop', handleStagingDrop);
        tag.addEventListener('dragenter', handleStagingDragEnter);
        tag.addEventListener('dragleave', handleStagingDragLeave);
        
        tag.addEventListener('touchstart', handleStagingTouchStart);
        tag.addEventListener('touchmove', handleStagingTouchMove);
        tag.addEventListener('touchend', handleStagingTouchEnd);
    });
}

let stagingDraggedElement = null;

function handleStagingDragStart(e) {
    stagingDraggedElement = this;
    this.classList.add('dragging');
    e.dataTransfer.effectAllowed = 'move';
}

function handleStagingDragEnd(e) {
    this.classList.remove('dragging');
    document.querySelectorAll('.staging-tag').forEach(tag => {
        tag.classList.remove('drag-over');
    });
}

function handleStagingDragOver(e) {
    if (e.preventDefault) {
        e.preventDefault();
    }
    e.dataTransfer.dropEffect = 'move';
    return false;
}

function handleStagingDragEnter(e) {
    if (this !== stagingDraggedElement) {
        this.classList.add('drag-over');
    }
}

function handleStagingDragLeave(e) {
    this.classList.remove('drag-over');
}

function handleStagingDrop(e) {
    if (e.stopPropagation) {
        e.stopPropagation();
    }

    if (stagingDraggedElement !== this) {
        const draggedIndex = parseInt(stagingDraggedElement.dataset.index);
        const targetIndex = parseInt(this.dataset.index);
        
        const [movedItem] = stagingTags.splice(draggedIndex, 1);
        stagingTags.splice(targetIndex, 0, movedItem);
        
        renderStagingArea();
    }

    this.classList.remove('drag-over');
    return false;
}

function handleStagingTouchStart(e) {
    if (e.target.classList.contains('remove-btn')) {
        return;
    }
    
    e.preventDefault();
    stagingDraggedElement = this;
    this.classList.add('dragging');
    
    this.style.transform = 'rotate(5deg)';
    this.style.opacity = '0.8';
    this.style.zIndex = '1000';
}

function handleStagingTouchMove(e) {
    if (!stagingDraggedElement) return;
    e.preventDefault();
    
    const touch = e.touches[0];
    const elementRect = stagingDraggedElement.getBoundingClientRect();
    
    if (!document.getElementById('staging-touch-drag-ghost')) {
        const ghostElement = stagingDraggedElement.cloneNode(true);
        ghostElement.id = 'staging-touch-drag-ghost';
        ghostElement.style.position = 'fixed';
        ghostElement.style.left = '0';
        ghostElement.style.top = '0';
        ghostElement.style.pointerEvents = 'none';
        ghostElement.style.zIndex = '9999';
        ghostElement.style.transform = 'translate(' + (touch.clientX - (elementRect.width / 2)) + 'px, ' + (touch.clientY - (elementRect.height / 2)) + 'px) rotate(5deg)';
        ghostElement.style.opacity = '0.8';
        ghostElement.style.boxSizing = 'border-box';
        ghostElement.style.width = elementRect.width + 'px';
        ghostElement.style.height = elementRect.height + 'px';
        document.body.appendChild(ghostElement);
    } else {
        const ghostElement = document.getElementById('staging-touch-drag-ghost');
        ghostElement.style.transform = 'translate(' + (touch.clientX - (elementRect.width / 2)) + 'px, ' + (touch.clientY - (elementRect.height / 2)) + 'px) rotate(5deg)';
    }
    
    const container = document.getElementById('staging-area');
    const tags = Array.from(container.querySelectorAll('.staging-tag')).filter(tag => tag !== stagingDraggedElement);
    let targetElement = null;
    
    for (const tag of tags) {
        const rect = tag.getBoundingClientRect();
        if (touch.clientX >= rect.left && touch.clientX <= rect.right &&
            touch.clientY >= rect.top && touch.clientY <= rect.bottom) {
            targetElement = tag;
            break;
        }
    }
    
    document.querySelectorAll('.staging-tag').forEach(tag => {
        if (tag !== stagingDraggedElement) {
            tag.classList.remove('drag-over');
        }
    });
    
    if (targetElement) {
        targetElement.classList.add('drag-over');
    }
}

function handleStagingTouchEnd(e) {
    if (!stagingDraggedElement) return;
    e.preventDefault();
    
    const ghostElement = document.getElementById('staging-touch-drag-ghost');
    if (ghostElement) {
        document.body.removeChild(ghostElement);
    }
    
    const touch = e.changedTouches[0];
    const targetElement = document.elementFromPoint(touch.clientX, touch.clientY);
    const targetTag = targetElement.closest('.staging-tag');
    
    if (targetTag && targetTag !== stagingDraggedElement) {
        const draggedIndex = parseInt(stagingDraggedElement.dataset.index);
        const targetIndex = parseInt(targetTag.dataset.index);
        
        const [movedItem] = stagingTags.splice(draggedIndex, 1);
        stagingTags.splice(targetIndex, 0, movedItem);
        
        renderStagingArea();
    }
    
    stagingDraggedElement.style.transform = '';
    stagingDraggedElement.style.opacity = '';
    stagingDraggedElement.style.zIndex = '';
    stagingDraggedElement.classList.remove('dragging');
    
    document.querySelectorAll('.staging-tag').forEach(tag => {
        tag.classList.remove('drag-over');
    });
    
    stagingDraggedElement = null;
}

// \u8BBE\u7F6E\u62D6\u653E\u529F\u80FD
let draggedElement = null;
let touchDragging = false;

// \u4E3A\u5220\u9664\u6309\u94AE\u6DFB\u52A0\u89E6\u6478\u4E8B\u4EF6\u76D1\u542C\u5668\uFF0C\u4EE5\u786E\u4FDD\u5176\u53EF\u4EE5\u88AB\u70B9\u51FB
function setupDragAndDrop() {
    const container = document.getElementById('selected-tags');
    const tags = container.querySelectorAll('.selected-tag');

    tags.forEach(tag => {
        // \u9F20\u6807\u62D6\u653E\u4E8B\u4EF6
        tag.addEventListener('dragstart', handleDragStart);
        tag.addEventListener('dragend', handleDragEnd);
        tag.addEventListener('dragover', handleDragOver);
        tag.addEventListener('drop', handleDrop);
        tag.addEventListener('dragenter', handleDragEnter);
        tag.addEventListener('dragleave', handleDragLeave);
        
        // \u89E6\u6478\u62D6\u653E\u4E8B\u4EF6
        tag.addEventListener('touchstart', handleTouchStart);
        tag.addEventListener('touchmove', handleTouchMove);
        tag.addEventListener('touchend', handleTouchEnd);
        
        // \u786E\u4FDD\u5220\u9664\u6309\u94AE\u53EF\u4EE5\u88AB\u70B9\u51FB
        const removeBtn = tag.querySelector('.remove-btn');
        if (removeBtn) {
            // \u963B\u6B62\u5220\u9664\u6309\u94AE\u4E0A\u7684\u89E6\u6478\u4E8B\u4EF6\u5192\u6CE1\u5230\u7236\u5143\u7D20
            removeBtn.addEventListener('touchstart', function(e) {
                e.stopPropagation();
            });
            
            removeBtn.addEventListener('touchend', function(e) {
                e.stopPropagation();
            });
        }
    });
}

function handleDragStart(e) {
    draggedElement = this;
    this.classList.add('dragging');
    e.dataTransfer.effectAllowed = 'move';
}

function handleDragEnd(e) {
    this.classList.remove('dragging');
    document.querySelectorAll('.selected-tag').forEach(tag => {
        tag.classList.remove('drag-over');
    });
}

function handleDragOver(e) {
    if (e.preventDefault) {
        e.preventDefault();
    }
    e.dataTransfer.dropEffect = 'move';
    return false;
}

function handleDragEnter(e) {
    if (this !== draggedElement) {
        this.classList.add('drag-over');
    }
}

function handleDragLeave(e) {
    this.classList.remove('drag-over');
}

function handleDrop(e) {
    if (e.stopPropagation) {
        e.stopPropagation();
    }

    if (draggedElement !== this) {
        const container = document.getElementById('selected-tags');
        const allTags = Array.from(container.querySelectorAll('.selected-tag'));
        const draggedIndex = allTags.indexOf(draggedElement);
        const targetIndex = allTags.indexOf(this);

        if (draggedIndex < targetIndex) {
            this.parentNode.insertBefore(draggedElement, this.nextSibling);
        } else {
            this.parentNode.insertBefore(draggedElement, this);
        }
    }

    this.classList.remove('drag-over');
    return false;
}

// \u89E6\u6478\u62D6\u52A8\u4E8B\u4EF6\u5904\u7406
function handleTouchStart(e) {
    // \u68C0\u67E5\u70B9\u51FB\u7684\u662F\u5426\u662F\u5220\u9664\u6309\u94AE
    if (e.target.classList.contains('remove-btn')) {
        // \u5982\u679C\u70B9\u51FB\u7684\u662F\u5220\u9664\u6309\u94AE\uFF0C\u5219\u4E0D\u6267\u884C\u62D6\u52A8\u64CD\u4F5C
        return;
    }
    
    // \u9632\u6B62\u9ED8\u8BA4\u7684\u89E6\u6478\u884C\u4E3A
    e.preventDefault();
    
    // \u83B7\u53D6\u89E6\u6478\u70B9
    const touch = e.touches[0];
    
    // \u6A21\u62DF\u62D6\u52A8\u5F00\u59CB
    draggedElement = this;
    this.classList.add('dragging');
    touchDragging = true;
    
    // \u6DFB\u52A0\u62D6\u52A8\u6837\u5F0F
    this.style.transform = 'rotate(5deg)';
    this.style.opacity = '0.8';
    this.style.zIndex = '1000';
    
    // \u6DFB\u52A0\u89E6\u6478\u79FB\u52A8\u548C\u7ED3\u675F\u4E8B\u4EF6\u76D1\u542C\u5668\u5230\u6587\u6863
    document.addEventListener('touchmove', handleTouchMove, { passive: false });
    document.addEventListener('touchend', handleTouchEnd, { passive: false });
}

function handleTouchMove(e) {
    if (!touchDragging || !draggedElement) return;
    
    // \u9632\u6B62\u9ED8\u8BA4\u7684\u89E6\u6478\u884C\u4E3A
    e.preventDefault();
    
    // \u4F7F\u7528 requestAnimationFrame \u6765\u4F18\u5316\u6027\u80FD
    if (window.requestAnimationFrame) {
        window.requestAnimationFrame(() => {
            // \u83B7\u53D6\u89E6\u6478\u70B9\u4F4D\u7F6E
            const touch = e.touches[0];
            
            // \u83B7\u53D6\u62D6\u52A8\u5143\u7D20\u7684\u5C3A\u5BF8
            const elementRect = draggedElement.getBoundingClientRect();
            
            // \u521B\u5EFA\u4E00\u4E2A\u4E34\u65F6\u7684\u62D6\u52A8\u5143\u7D20\uFF0C\u800C\u4E0D\u662F\u79FB\u52A8\u539F\u59CB\u5143\u7D20
            if (!document.getElementById('touch-drag-ghost')) {
                const ghostElement = draggedElement.cloneNode(true);
                ghostElement.id = 'touch-drag-ghost';
                ghostElement.style.position = 'fixed'; // \u4F7F\u7528 fixed \u800C\u4E0D\u662F absolute
                ghostElement.style.left = '0';
                ghostElement.style.top = '0';
                ghostElement.style.pointerEvents = 'none'; // \u9632\u6B62\u5E72\u6270\u89E6\u6478\u4E8B\u4EF6
                ghostElement.style.zIndex = '9999';
                ghostElement.style.transform = 'translate(' + (touch.clientX - (elementRect.width / 2)) + 'px, ' + (touch.clientY - (elementRect.height / 2)) + 'px) rotate(5deg)';
                ghostElement.style.opacity = '0.8';
                ghostElement.style.boxSizing = 'border-box'; // \u786E\u4FDD\u5C3A\u5BF8\u8BA1\u7B97\u6B63\u786E
                ghostElement.style.width = elementRect.width + 'px'; // \u56FA\u5B9A\u5BBD\u5EA6
                ghostElement.style.height = elementRect.height + 'px'; // \u56FA\u5B9A\u9AD8\u5EA6
                document.body.appendChild(ghostElement);
            } else {
                const ghostElement = document.getElementById('touch-drag-ghost');
                ghostElement.style.transform = 'translate(' + (touch.clientX - (elementRect.width / 2)) + 'px, ' + (touch.clientY - (elementRect.height / 2)) + 'px) rotate(5deg)';
            }
            
            // \u68C0\u67E5\u4E0E\u5176\u4ED6\u5143\u7D20\u7684\u78B0\u649E
            const container = document.getElementById('selected-tags');
            const tags = Array.from(container.querySelectorAll('.selected-tag')).filter(tag => tag !== draggedElement);
            let targetElement = null;
            
            for (const tag of tags) {
                const rect = tag.getBoundingClientRect();
                if (touch.clientX >= rect.left && touch.clientX <= rect.right &&
                    touch.clientY >= rect.top && touch.clientY <= rect.bottom) {
                    targetElement = tag;
                    break;
                }
            }
            
            // \u9AD8\u4EAE\u76EE\u6807\u5143\u7D20
            document.querySelectorAll('.selected-tag').forEach(tag => {
                if (tag !== draggedElement) {
                    tag.classList.remove('drag-over');
                }
            });
            
            if (targetElement) {
                targetElement.classList.add('drag-over');
            }
        });
    } else {
        // \u964D\u7EA7\u5904\u7406\uFF0C\u5982\u679C\u4E0D\u652F\u6301 requestAnimationFrame
        const touch = e.touches[0];
        
        // \u83B7\u53D6\u62D6\u52A8\u5143\u7D20\u7684\u5C3A\u5BF8
        const elementRect = draggedElement.getBoundingClientRect();
        
        // \u521B\u5EFA\u4E00\u4E2A\u4E34\u65F6\u7684\u62D6\u52A8\u5143\u7D20\uFF0C\u800C\u4E0D\u662F\u79FB\u52A8\u539F\u59CB\u5143\u7D20
        if (!document.getElementById('touch-drag-ghost')) {
            const ghostElement = draggedElement.cloneNode(true);
            ghostElement.id = 'touch-drag-ghost';
            ghostElement.style.position = 'fixed'; // \u4F7F\u7528 fixed \u800C\u4E0D\u662F absolute
            ghostElement.style.left = '0';
            ghostElement.style.top = '0';
            ghostElement.style.pointerEvents = 'none'; // \u9632\u6B62\u5E72\u6270\u89E6\u6478\u4E8B\u4EF6
            ghostElement.style.zIndex = '9999';
            ghostElement.style.transform = 'translate(' + (touch.clientX - (elementRect.width / 2)) + 'px, ' + (touch.clientY - (elementRect.height / 2)) + 'px) rotate(5deg)';
            ghostElement.style.opacity = '0.8';
            ghostElement.style.boxSizing = 'border-box'; // \u786E\u4FDD\u5C3A\u5BF8\u8BA1\u7B97\u6B63\u786E
            ghostElement.style.width = elementRect.width + 'px'; // \u56FA\u5B9A\u5BBD\u5EA6
            ghostElement.style.height = elementRect.height + 'px'; // \u56FA\u5B9A\u9AD8\u5EA6
            document.body.appendChild(ghostElement);
        } else {
            const ghostElement = document.getElementById('touch-drag-ghost');
            ghostElement.style.transform = 'translate(' + (touch.clientX - (elementRect.width / 2)) + 'px, ' + (touch.clientY - (elementRect.height / 2)) + 'px) rotate(5deg)';
        }
        
        // \u68C0\u67E5\u4E0E\u5176\u4ED6\u5143\u7D20\u7684\u78B0\u649E
        const container = document.getElementById('selected-tags');
        const tags = Array.from(container.querySelectorAll('.selected-tag')).filter(tag => tag !== draggedElement);
        let targetElement = null;
        
        for (const tag of tags) {
            const rect = tag.getBoundingClientRect();
            if (touch.clientX >= rect.left && touch.clientX <= rect.right &&
                touch.clientY >= rect.top && touch.clientY <= rect.bottom) {
                targetElement = tag;
                break;
            }
        }
        
        // \u9AD8\u4EAE\u76EE\u6807\u5143\u7D20
        document.querySelectorAll('.selected-tag').forEach(tag => {
            if (tag !== draggedElement) {
                tag.classList.remove('drag-over');
            }
        });
        
        if (targetElement) {
            targetElement.classList.add('drag-over');
        }
    }
}

function handleTouchEnd(e) {
    if (!touchDragging || !draggedElement) return;
    
    // \u9632\u6B62\u9ED8\u8BA4\u7684\u89E6\u6478\u884C\u4E3A
    e.preventDefault();
    
    // \u79FB\u9664\u4E34\u65F6\u62D6\u52A8\u5143\u7D20
    const ghostElement = document.getElementById('touch-drag-ghost');
    if (ghostElement) {
        document.body.removeChild(ghostElement);
    }
    
    // \u627E\u5230\u76EE\u6807\u5143\u7D20\uFF08\u5982\u679C\u6709\uFF09
    const touch = e.changedTouches[0];
    const targetElement = document.elementFromPoint(touch.clientX, touch.clientY);
    
    const container = document.getElementById('selected-tags');
    const targetTag = targetElement.closest('.selected-tag');
    
    // \u5982\u679C\u76EE\u6807\u662F\u53E6\u4E00\u4E2A\u6807\u7B7E\uFF0C\u6267\u884C\u4EA4\u6362
    if (targetTag && targetTag !== draggedElement && container.contains(targetTag)) {
        const allTags = Array.from(container.querySelectorAll('.selected-tag'));
        const draggedIndex = allTags.indexOf(draggedElement);
        const targetIndex = allTags.indexOf(targetTag);

        if (draggedIndex < targetIndex) {
            targetTag.parentNode.insertBefore(draggedElement, targetTag.nextSibling);
        } else {
            targetTag.parentNode.insertBefore(draggedElement, targetTag);
        }
    }
    
    // \u91CD\u7F6E\u5143\u7D20\u6837\u5F0F
    draggedElement.style.transform = '';
    draggedElement.style.opacity = '';
    draggedElement.style.zIndex = '';
    
    // \u79FB\u9664\u62D6\u52A8\u7C7B
    draggedElement.classList.remove('dragging');
    document.querySelectorAll('.selected-tag').forEach(tag => {
        tag.classList.remove('drag-over');
    });
    
    // \u91CD\u7F6E\u53D8\u91CF
    touchDragging = false;
    draggedElement = null;
    
    // \u79FB\u9664\u4E8B\u4EF6\u76D1\u542C\u5668
    document.removeEventListener('touchmove', handleTouchMove);
    document.removeEventListener('touchend', handleTouchEnd);
}

// \u663E\u793A\u52A0\u8F7D\u906E\u7F69
function showLoading(text, detail) {
    document.getElementById('loading-text').textContent = text;
    document.getElementById('loading-detail').textContent = detail;
    document.getElementById('loading-overlay').classList.add('active');
    document.getElementById('progress-container').classList.add('active');
    updateProgress(0);
}

// \u9690\u85CF\u52A0\u8F7D\u906E\u7F69
function hideLoading() {
    document.getElementById('loading-overlay').classList.remove('active');
    setTimeout(() => {
        document.getElementById('progress-container').classList.remove('active');
        updateProgress(0);
    }, 300);
}

// \u66F4\u65B0\u52A0\u8F7D\u6587\u672C
function updateLoadingText(text, detail) {
    document.getElementById('loading-text').textContent = text;
    document.getElementById('loading-detail').textContent = detail;
}

// \u66F4\u65B0\u8FDB\u5EA6\u6761
function updateProgress(percent) {
    document.getElementById('progress-bar').style.width = percent + '%';
}

// \u6E32\u67D3\u73AF\u5883\u53D8\u91CF\u5217\u8868
function renderEnvList() {
    const list = document.getElementById('env-list');
    const items = envVariables[currentCategory] || [];

    if (items.length === 0) {
        list.innerHTML = '<p class="text-gray padding-20 text-center">\u6682\u65E0\u914D\u7F6E\u9879</p>';
        return;
    }

    list.innerHTML = items.map((item, index) => {
        const typeLabel = item.type === 'boolean' ? '\u5E03\u5C14' :
                         item.type === 'number' ? '\u6570\u5B57' :
                         item.type === 'select' ? '\u5355\u9009' :
                         item.type === 'map' ? '\u6620\u5C04' :
                         item.type === 'multi-select' ? '\u591A\u9009' : '\u6587\u672C';
        const badgeClass = item.type === 'multi-select' ? 'multi' : '';

        const escapedValue = escapeHtml(item.value);

        return \`
            <div class="env-item">
                <div class="env-info">
                    <strong>\${item.key}<span class="value-type-badge \${badgeClass}">\${typeLabel}</span></strong>
                    <div class="text-dark-gray">\${escapedValue}</div>
                    <div class="text-gray font-size-12 margin-top-3">\${item.description || '\u65E0\u63CF\u8FF0'}</div>
                </div>
                <div class="env-actions">
                    <button class="btn btn-primary" onclick="editEnv(\${index})">\u7F16\u8F91</button>
                    <button class="btn btn-danger" onclick="deleteEnv(\${index})">\u5220\u9664</button>
                </div>
            </div>
        \`;
    }).join('');
}

// \u7F16\u8F91\u73AF\u5883\u53D8\u91CF
function editEnv(index) {
    const item = envVariables[currentCategory][index];
    const editButton = event.target; // \u83B7\u53D6\u5F53\u524D\u70B9\u51FB\u7684\u7F16\u8F91\u6309\u94AE
    
    // \u8BBE\u7F6E\u6309\u94AE\u4E3A\u52A0\u8F7D\u72B6\u6001
    const originalText = editButton.innerHTML;
    editButton.innerHTML = '<span class="loading-spinner-small"></span>';
    editButton.disabled = true;
    
    editingKey = index;
    document.getElementById('modal-title').textContent = '\u7F16\u8F91\u914D\u7F6E\u9879';
    document.getElementById('env-category').value = currentCategory;
    document.getElementById('env-key').value = item.key;
    document.getElementById('env-description').value = item.description || '';
    document.getElementById('value-type').value = item.type || 'text';

    // \u8BBE\u7F6E\u5B57\u6BB5\u4E3A\u53EA\u8BFB\uFF08\u7F16\u8F91\u6A21\u5F0F\u4E0B\uFF09
    document.getElementById('env-category').disabled = true;
    document.getElementById('env-key').readOnly = true;
    document.getElementById('value-type').disabled = true;
    document.getElementById('env-description').readOnly = true;

    // \u6E32\u67D3\u5BF9\u5E94\u7684\u503C\u8F93\u5165\u63A7\u4EF6
    renderValueInput(item);

    document.getElementById('env-modal').classList.add('active');
    
    // \u6062\u590D\u6309\u94AE\u72B6\u6001\uFF08\u5728\u5B9E\u9645\u573A\u666F\u4E2D\uFF0C\u8FD9\u4F1A\u5728\u7F16\u8F91\u5B8C\u6210\u540E\u53D1\u751F\uFF0C\u6BD4\u5982\u5728\u4FDD\u5B58\u540E\u6216\u53D6\u6D88\u540E\uFF09
    // \u4E3A\u4E86\u6F14\u793A\uFF0C\u8FD9\u91CC\u7ACB\u5373\u6062\u590D\u6309\u94AE\u72B6\u6001\uFF0C\u5B9E\u9645\u4F7F\u7528\u4E2D\u5E94\u8BE5\u5728\u9002\u5F53\u7684\u5730\u65B9\u6062\u590D\u6309\u94AE\u72B6\u6001
    editButton.innerHTML = originalText;
    editButton.disabled = false;
}

// \u5220\u9664\u73AF\u5883\u53D8\u91CF
function deleteEnv(index) {
    customConfirm('\u786E\u5B9A\u8981\u5220\u9664\u8FD9\u4E2A\u914D\u7F6E\u9879\u5417?', '\u5220\u9664\u786E\u8BA4').then(confirmed => {
        if (confirmed) {
            const item = envVariables[currentCategory][index];
            const key = item.key;
            const deleteButton = event.target; // \u83B7\u53D6\u5F53\u524D\u70B9\u51FB\u7684\u5220\u9664\u6309\u94AE

            // \u8BBE\u7F6E\u6309\u94AE\u4E3A\u52A0\u8F7D\u72B6\u6001
            const originalText = deleteButton.innerHTML;
            deleteButton.innerHTML = '<span class="loading-spinner-small"></span>';
            deleteButton.disabled = true;

            // \u8C03\u7528API\u5220\u9664\u73AF\u5883\u53D8\u91CF
            fetch(buildApiUrl('/api/env/del'), {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ key })
            })
            .then(response => response.json())
            .then(result => {
                if (result.success) {
                    // \u4ECE\u672C\u5730\u6570\u636E\u4E2D\u5220\u9664
                    envVariables[currentCategory].splice(index, 1);
                    renderEnvList();
                    renderPreview();
                    addLog(\`\u5220\u9664\u914D\u7F6E\u9879: \${key}\`, 'warn');
                } else {
                    addLog(\`\u5220\u9664\u914D\u7F6E\u9879\u5931\u8D25: \${result.message}\`, 'error');
                    addLog(\`\u5220\u9664\u914D\u7F6E\u9879\u5931\u8D25: \${result.message}\`, 'error');
                }
            })
            .catch(error => {
                addLog(\`\u5220\u9664\u914D\u7F6E\u9879\u5931\u8D25: \${error.message}\`, 'error');
                addLog(\`\u5220\u9664\u914D\u7F6E\u9879\u5931\u8D25: \${error.message}\`, 'error');
            })
            .finally(() => {
                // \u6062\u590D\u6309\u94AE\u72B6\u6001
                deleteButton.innerHTML = originalText;
                deleteButton.disabled = false;
            });
        }
    });
}

// \u8868\u5355\u63D0\u4EA4
document.getElementById('env-form').addEventListener('submit', async function(e) {
    e.preventDefault();

    const category = document.getElementById('env-category').value;
    const key = document.getElementById('env-key').value.trim();
    const description = document.getElementById('env-description').value.trim();
    const type = document.getElementById('value-type').value;

    // \u6839\u636E\u7C7B\u578B\u83B7\u53D6\u503C
    let value, itemData;

    if (type === 'boolean') {
        value = document.getElementById('bool-value').checked ? 'true' : 'false';
        itemData = { key, value, description, type };
    } else if (type === 'number') {
        value = document.getElementById('num-value').textContent;
        const min = parseInt(document.getElementById('num-slider').min);
        const max = parseInt(document.getElementById('num-slider').max);
        itemData = { key, value, description, type, min, max };
    } else if (type === 'select') {
        const selected = document.querySelector('.tag-option.selected');
        value = selected ? selected.dataset.value : '';
        const options = Array.from(document.querySelectorAll('.tag-option')).map(el => el.dataset.value);
        itemData = { key, value, description, type, options };
    } else if (type === 'multi-select') {
        // \u5982\u679C\u5F00\u542F\u4E86\u5408\u5E76\u6A21\u5F0F\uFF0C\u4E14\u6682\u5B58\u533A\u8FD8\u6709\u5185\u5BB9\uFF0C\u81EA\u52A8\u5C06\u5176\u89C6\u4E3A\u786E\u8BA4\u6DFB\u52A0
        if (isMergeMode && stagingTags && stagingTags.length > 0) {
            confirmMergeGroup();
        }

        const selectedTags = Array.from(document.querySelectorAll('.selected-tag'))
            .map(el => el.dataset.value);
        value = selectedTags.join(',');
        const options = Array.from(document.querySelectorAll('.available-tag')).map(el => el.dataset.value);
        itemData = { key, value, description, type, options };
    } else if (type === 'map') {
        // \u83B7\u53D6\u6620\u5C04\u8868\u503C
        const mapItems = document.querySelectorAll('#map-container .map-item');
        const pairs = [];
        mapItems.forEach(item => {
            const leftInput = item.querySelector('.map-input-left');
            const rightInput = item.querySelector('.map-input-right');
            const leftValue = leftInput.value.trim();
            const rightValue = rightInput.value.trim();
            if (leftValue && rightValue) {
                pairs.push(leftValue + '->' + rightValue);
            }
        });
        value = pairs.join(';');
        itemData = { key, value, description, type };
    } else {
        value = document.getElementById('text-value').value.trim();
        itemData = { key, value, description, type };
    }

    // \u8C03\u7528API\u66F4\u65B0\u73AF\u5883\u53D8\u91CF - \u5148\u5C1D\u8BD5set\u63A5\u53E3\uFF0C\u5931\u8D25\u5219\u8C03\u7528add\u63A5\u53E3
    try {
        // \u9996\u5148\u5C1D\u8BD5\u4F7F\u7528set\u63A5\u53E3\u66F4\u65B0
        let response = await fetch(buildApiUrl('/api/env/set'), {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ key, value })
        });

        let result = await response.json();

        if (!result.success) {
            // \u5982\u679Cset\u63A5\u53E3\u5931\u8D25\uFF0C\u5C1D\u8BD5\u4F7F\u7528add\u63A5\u53E3
            response = await fetch(buildApiUrl('/api/env/add'), {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ key, value })
            });

            result = await response.json();
        }

        if (result.success) {
            // \u66F4\u65B0\u672C\u5730\u6570\u636E
            if (!envVariables[category]) {
                envVariables[category] = [];
            }

            if (editingKey !== null) {
                envVariables[currentCategory][editingKey] = itemData;
                addLog(\`\u66F4\u65B0\u914D\u7F6E\u9879: \${key} = \${value}\`, 'success');
            } else {
                envVariables[category].push(itemData);
                addLog(\`\u6DFB\u52A0\u914D\u7F6E\u9879: \${key} = \${value}\`, 'success');
            }

            if (category !== currentCategory) {
                currentCategory = category;
                document.querySelectorAll('.category-btn').forEach((btn, i) => {
                    btn.classList.toggle('active', ['api', 'source', 'match', 'danmu', 'cache', 'system'][i] === category);
                });
            }

            renderEnvList();
            renderPreview();
            closeModal();
        } else {
            addLog(\`\u64CD\u4F5C\u5931\u8D25: \${result.message}\`, 'error');
            addLog(\`\u64CD\u4F5C\u5931\u8D25: \${result.message}\`, 'error');
            customAlert(result.message + '\uFF0C\u8BF7\u68C0\u67E5\u90E8\u7F72\u5E73\u53F0\u76F8\u5173\u73AF\u5883\u53D8\u91CF\u914D\u7F6E\u662F\u5426\u6B63\u786E');
        }
    } catch (error) {
        addLog(\`\u66F4\u65B0\u73AF\u5883\u53D8\u91CF\u5931\u8D25: \${error.message}\`, 'error');
        addLog(\`\u66F4\u65B0\u73AF\u5883\u53D8\u91CF\u5931\u8D25: \${error.message}\`, 'error');
        customAlert(result.message + '\uFF0C\u8BF7\u68C0\u67E5\u90E8\u7F72\u5E73\u53F0\u76F8\u5173\u73AF\u5883\u53D8\u91CF\u914D\u7F6E\u662F\u5426\u6B63\u786E');
    }
});

// \u6DFB\u52A0\u6620\u5C04\u9879
function addMapItem() {
    const container = document.getElementById('map-container');
    const template = document.querySelector('.map-item-template');
    const newItem = template.cloneNode(true);
    newItem.style.display = 'flex';
    newItem.classList.remove('map-item-template');
    newItem.classList.add('map-item');
    const index = container.querySelectorAll('.map-item').length;
    newItem.setAttribute('data-index', index);
    container.appendChild(newItem);
}

// \u5220\u9664\u6620\u5C04\u9879
function removeMapItem(button) {
    const item = button.closest('.map-item');
    if (item) {
        item.remove();
    }
}
/* ========================================
   Bilibili Cookie \u626B\u7801\u767B\u5F55\u529F\u80FD
   ======================================== */
let biliQRCheckInterval = null;
let biliBiliQRKey = null;

async function startBilibiliQRLogin() {
    // \u521B\u5EFA\u626B\u7801\u767B\u5F55\u6A21\u6001\u6846
    if (!document.getElementById('bili-qr-modal')) {
        const modalHTML = \`
            <div class="modal" id="bili-qr-modal">
                <div class="modal-content" style="max-width: 400px;">
                    <div class="modal-header">
                        <h3>\u626B\u7801\u767B\u5F55 Bilibili</h3>
                        <button class="close-btn" onclick="closeBiliQRModal()">\xD7</button>
                    </div>
                    <div class="modal-body" style="text-align: center;">
                        <div id="bili-qr-container">
                            <div class="loading-spinner" id="bili-qr-loading"></div>
                            <p id="bili-qr-status">\u6B63\u5728\u751F\u6210\u4E8C\u7EF4\u7801...</p>
                            <div id="bili-qr-code" style="display: none;"></div>
                        </div>
                    </div>
                </div>
            </div>
        \`;
        document.body.insertAdjacentHTML('beforeend', modalHTML);
    }
    
    const modal = document.getElementById('bili-qr-modal');
    const qrCode = document.getElementById('bili-qr-code');
    const qrLoading = document.getElementById('bili-qr-loading');
    const qrStatus = document.getElementById('bili-qr-status');
    
    modal.classList.add('active');
    qrCode.style.display = 'none';
    qrCode.innerHTML = '';
    qrLoading.style.display = 'block';
    qrStatus.textContent = '\u6B63\u5728\u751F\u6210\u4E8C\u7EF4\u7801...';
    
    if (biliQRCheckInterval) {
        clearInterval(biliQRCheckInterval);
    }
    
    try {
        const response = await fetch(buildApiUrl('/api/cookie/qr/generate', true), {
            method: 'POST'
        });
        
        const result = await response.json();
        
        if (result.success && result.data) {
            biliBiliQRKey = result.data.qrcode_key;
            const qrUrl = result.data.url;
            
            qrCode.innerHTML = '<img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=' + encodeURIComponent(qrUrl) + '" alt="\u4E8C\u7EF4\u7801">';
            qrCode.style.display = 'block';
            qrLoading.style.display = 'none';
            qrStatus.textContent = '\u8BF7\u4F7F\u7528 Bilibili APP \u626B\u63CF';
            
            startBiliQRCheck();
        } else {
            throw new Error(result.message || '\u751F\u6210\u4E8C\u7EF4\u7801\u5931\u8D25');
        }
    } catch (error) {
        qrLoading.style.display = 'none';
        qrStatus.textContent = error.message;
    }
}

function startBiliQRCheck() {
    if (!biliBiliQRKey) return;
    
    const qrStatus = document.getElementById('bili-qr-status');
    
    biliQRCheckInterval = setInterval(async () => {
        try {
            const response = await fetch(buildApiUrl('/api/cookie/qr/check', true), {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ qrcode_key: biliBiliQRKey })
            });
            
            const result = await response.json();
            
            if (result.success && result.data) {
                const code = result.data.code;
                
                switch (code) {
                    case 86101:
                        qrStatus.textContent = '\u7B49\u5F85\u626B\u7801...';
                        break;
                    case 86090:
                        qrStatus.textContent = '\u5DF2\u626B\u7801\uFF0C\u8BF7\u786E\u8BA4';
                        break;
                    case 86038:
                        qrStatus.textContent = '\u4E8C\u7EF4\u7801\u5DF2\u8FC7\u671F';
                        clearInterval(biliQRCheckInterval);
                        break;
                    case 0:
                        qrStatus.textContent = '\u767B\u5F55\u6210\u529F\uFF01';
                        clearInterval(biliQRCheckInterval);
                        
                        if (result.data.cookie) {
                            fillBilibiliCookie(result.data.cookie);
                        }
                        
                        setTimeout(() => {
                            closeBiliQRModal();
                        }, 1000);
                        break;
                }
            }
        } catch (error) {
            console.error('\u68C0\u67E5\u626B\u7801\u72B6\u6001\u5931\u8D25:', error);
        }
    }, 2000);
}

function fillBilibiliCookie(cookie) {
    const textInput = document.getElementById('text-value');
    if (textInput) {
        textInput.value = cookie;
        textInput.dispatchEvent(new Event('input', { bubbles: true }));
        
        textInput.style.borderColor = 'var(--success-color, #28a745)';
        setTimeout(() => {
            textInput.style.borderColor = '';
            // \u586B\u5165\u540E\u89E6\u53D1\u68C0\u6D4B\u4E00\u6B21\uFF08\u4F1A\u63D0\u793A\u7528\u6237\u4FDD\u5B58\uFF09
            autoCheckBilibiliCookieStatus();
        }, 2000);
    }
}

function closeBiliQRModal() {
    const modal = document.getElementById('bili-qr-modal');
    if (modal) {
        modal.classList.remove('active');
    }
    
    if (biliQRCheckInterval) {
        clearInterval(biliQRCheckInterval);
    }
}

async function autoCheckBilibiliCookieStatus() {
    const textInput = document.getElementById('text-value');
    const statusEl = document.getElementById('bili-cookie-status');
    
    if (!textInput || !statusEl) return;
    
    const cookie = textInput.value.trim();
    
    // \u5982\u679C\u8F93\u5165\u6846\u4E3A\u7A7A,\u63D0\u793A\u672A\u914D\u7F6E
    if (!cookie) {
        statusEl.innerHTML = '<span class="bili-status-text">\u672A\u914D\u7F6E</span>';
        return;
    }
    
    statusEl.innerHTML = '<span class="bili-status-text">\u68C0\u6D4B\u4E2D...</span>';

    // \u8131\u654F\u540E\u7684 *...* \u65E0\u6CD5\u76F4\u63A5\u6821\u9A8C\uFF0C\u540E\u7AEF\u4F1A\u81EA\u52A8\u6539\u4E3A\u6821\u9A8C\u201C\u5DF2\u4FDD\u5B58\u201D\u7684 Cookie
    const isMasked = /^[*]+$/.test(cookie);
    const payload = isMasked ? {} : { cookie };

    try {
        const response = await fetch(buildApiUrl('/api/cookie/verify', true), {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
        });

        const result = await response.json();

        if (result && result.success && result.data) {
            if (result.data.isValid) {
                const uname = result.data.uname || '\u5DF2\u767B\u5F55';
                const expiresAt = result.data.expiresAt;
                const now = Math.floor(Date.now() / 1000);

                let leftText = '';
                if (typeof expiresAt === 'number' && expiresAt > now) {
                    const daysLeft = Math.ceil((expiresAt - now) / (24 * 60 * 60));
                    leftText = \` (\u5269\u4F59 \${daysLeft} \u5929)\`;
                }

                // \u7528\u6237\u624B\u52A8\u8F93\u5165/\u626B\u7801\u586B\u5165\u7684 Cookie \u2192 \u63D0\u793A\u4FDD\u5B58
                if (!isMasked) {
                    statusEl.innerHTML = \`<span class="bili-status-text">\${uname}\${leftText} \xB7 \u8BF7\u70B9\u51FB\u4FDD\u5B58\u6309\u94AE\uFF08Vercel\u7B49\u5E73\u53F0\u9700\u91CD\u65B0\u90E8\u7F72\u540E\u751F\u6548\uFF09</span>\`;
                } else {
                    // \u8131\u654F\u663E\u793A\u65F6\u53EA\u5C55\u793A\u5F53\u524D\u5DF2\u4FDD\u5B58 Cookie \u7684\u72B6\u6001
                    statusEl.innerHTML = \`<span class="bili-status-text">\${uname}\${leftText}</span>\`;
                }
            } else {
                const err = result.data.error || 'Cookie\u65E0\u6548\u6216\u5DF2\u5931\u6548';
                statusEl.innerHTML = \`<span class="bili-status-text">\${err}\uFF0C\u8BF7\u91CD\u65B0\u626B\u7801\u767B\u5F55\u5E76\u4FDD\u5B58</span>\`;
            }
        } else {
            statusEl.innerHTML = '<span class="bili-status-text">\u68C0\u6D4B\u5931\u8D25</span>';
        }
    } catch (error) {
        statusEl.innerHTML = '<span class="bili-status-text">\u68C0\u6D4B\u5931\u8D25</span>';
    }
}
// \u663E\u793A Bilibili Cookie \u4FDD\u5B58\u63D0\u793A
function showBilibiliCookieSaveHint(text) {
    const statusEl = document.getElementById('bili-cookie-status');
    if (!statusEl) return;

    const msg = text || '\u8BF7\u70B9\u51FB\u4FDD\u5B58\u6309\u94AE,Vercel\u7B49\u5E73\u53F0\u9700\u91CD\u65B0\u90E8\u7F72\u540E\u751F\u6548';
    statusEl.innerHTML = \`<span class="bili-status-text">\${msg}</span>\`;
}

/* ========================================
   AI API Key \u8FDE\u901A\u6027\u6D4B\u8BD5\u529F\u80FD
   ======================================== */
async function verifyAiConnection() {
    const statusEl = document.getElementById('ai-apikey-status');
    const btn = document.getElementById('ai-verify-btn');
    const textInput = document.getElementById('text-value');
    
    if (!statusEl || !textInput) return;
    
    const apiKey = textInput.value.trim();
    
    // \u5982\u679C\u8F93\u5165\u6846\u4E3A\u7A7A\uFF0C\u63D0\u793A\u672A\u914D\u7F6E
    if (!apiKey) {
        statusEl.innerHTML = '<span class="ai-status-icon">\u26A0\uFE0F</span><span class="ai-status-text">\u8BF7\u5148\u8F93\u5165 API Key</span>';
        return;
    }
    
    // \u8BBE\u7F6E\u6309\u94AE\u4E3A\u52A0\u8F7D\u72B6\u6001
    const originalText = btn.innerHTML;
    btn.innerHTML = '<span class="loading-spinner-small"></span>';
    btn.disabled = true;
    
    statusEl.innerHTML = '<span class="ai-status-icon">\u{1F50D}</span><span class="ai-status-text">\u6B63\u5728\u6D4B\u8BD5\u8FDE\u901A\u6027...</span>';
    
    // \u68C0\u67E5\u662F\u5426\u4E3A\u8131\u654F\u540E\u7684 *...* 
    const isMasked = /^[*]+$/.test(apiKey);
    
    try {
        const response = await fetch(buildApiUrl('/api/ai/verify', true), {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(isMasked ? {} : { 'aiApiKey': apiKey })
        });
        
        const result = await response.json();
        
        if (result.ok) {
            statusEl.innerHTML = '<span class="ai-status-icon">\u2705</span><span class="ai-status-text">' + (result.message || 'AI \u670D\u52A1\u8FDE\u901A\u6027\u6D4B\u8BD5\u6210\u529F') + '</span>';
            statusEl.style.color = 'var(--success-color, #28a745)';
        } else {
            statusEl.innerHTML = '<span class="ai-status-icon">\u274C</span><span class="ai-status-text">' + (result.message || '\u8FDE\u901A\u6027\u6D4B\u8BD5\u5931\u8D25') + '</span>';
            statusEl.style.color = 'var(--danger-color, #dc3545)';
        }
    } catch (error) {
        statusEl.innerHTML = '<span class="ai-status-icon">\u26A0\uFE0F</span><span class="ai-status-text">\u6D4B\u8BD5\u8BF7\u6C42\u5931\u8D25: ' + error.message + '</span>';
        statusEl.style.color = 'var(--warning-color, #ffc107)';
    } finally {
        // \u6062\u590D\u6309\u94AE\u72B6\u6001
        btn.innerHTML = originalText;
        btn.disabled = false;
    }
}
`;var Jfe=`
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LogVar\u5F39\u5E55API</title>
    <link rel="icon" type="image/jpg" href="https://i.mji.rip/2025/09/27/eedc7b701c0fa5c1f7c175b22f441ad9.jpeg">
    <link rel="apple-touch-icon" href="https://i.mji.rip/2025/09/27/eedc7b701c0fa5c1f7c175b22f441ad9.jpeg">
    <style>${Qfe}</style>
    <style>${Ufe}</style>
    <style>${qfe}</style>
    <style>${jfe}</style>
    
</head>
<body>
    <div class="container">
        <!-- \u8FDB\u5EA6\u6761 -->
        <div class="progress-container" id="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>

        <div class="header">
            <div class="header-left">
                <div class="logo-title-container">
                    <div class="logo"><img src="https://i.mji.rip/2025/09/27/eedc7b701c0fa5c1f7c175b22f441ad9.jpeg" width="500"/></div>
                    <h1>LogVar\u5F39\u5E55API</h1>
                </div>
                <div class="version-info">
                    <span class="version-badge">\u5F53\u524D\u7248\u672C: <span id="current-version">v${R.version}</span></span>
                    <span class="update-badge" id="update-badge">
                        \u6700\u65B0\u7248\u672C: <span id="latest-version">\u52A0\u8F7D\u4E2D...</span>
                    </span>
                    <span class="api-endpoint-badge">
                        API\u7AEF\u70B9: <span id="api-endpoint" title="\u70B9\u51FB\u590D\u5236API\u7AEF\u70B9" style="cursor: pointer; color: var(--success-color); font-weight: bold;" onclick="copyApiEndpoint()">\u52A0\u8F7D\u4E2D...</span>
                    </span>
                </div>
            </div>
            <div class="nav-buttons">
                <button class="nav-btn active" onclick="switchSection('preview', event)">\u914D\u7F6E\u9884\u89C8</button>
                <button class="nav-btn" onclick="switchSection('logs', event)">\u65E5\u5FD7\u67E5\u770B</button>
                <button class="nav-btn" onclick="switchSection('api', event)">\u63A5\u53E3\u8C03\u8BD5</button>
                <button class="nav-btn" onclick="switchSection('push', event)">\u63A8\u9001\u5F39\u5E55</button>
                <button class="nav-btn" onclick="switchSection('request-records', event)">\u8BF7\u6C42\u8BB0\u5F55</button>
                <button class="nav-btn" onclick="switchSection('env', event)" id="env-nav-btn">\u7CFB\u7EDF\u914D\u7F6E</button>
            </div>
        </div>

        <div class="content">
            <!-- \u914D\u7F6E\u9884\u89C8 -->
            <div class="section active" id="preview-section">
                <h2>\u914D\u7F6E\u9884\u89C8</h2>
                
                <div id="proxy-config-container" style="display: none; background: rgba(255, 204, 0, 0.08); border: 1px solid rgba(255, 204, 0, 0.2); padding: 24px; border-radius: 16px; margin-bottom: 24px;">
                    <h3 style="color: #997a00; margin-top: 0; font-size: 16px; margin-bottom: 12px;">\u83B7\u53D6\u914D\u7F6E\u5931\u8D25</h3>
                    <p style="color: #997a00; margin-bottom: 16px; font-size: 14px; opacity: 0.9;">
                        \u68C0\u6D4B\u5230\u65E0\u6CD5\u83B7\u53D6\u914D\u7F6E\u3002\u5982\u679C\u60A8\u4F7F\u7528\u4E86\u590D\u6742\u7684\u53CD\u5411\u4EE3\u7406\uFF1A\u4F8B\u5982\u5C06 <code>http://{ip}:9321/</code> \u4EE3\u7406\u5230\u4E86 <code>http://{ip}:9321/danmu_api/</code>\uFF0C\u8BF7\u5728\u6B64\u5904\u624B\u52A8\u8F93\u5165\u5B8C\u6574\u7684\u53CD\u4EE3\u540E\u94FE\u63A5\uFF08\u4E0D\u5305\u542BTOKEN\u548CADMIN_TOKEN\u7684\uFF09
                    </p>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <input type="text" id="custom-base-url" placeholder="\u4F8B\u5982: http://192.168.8.1:2333/danmu_api/ (\u7559\u7A7A\u4FDD\u5B58\u5373\u6062\u590D\u9ED8\u8BA4)" style="flex: 1; min-width: 200px; padding: 12px; border: 1px solid rgba(0,0,0,0.1); border-radius: 12px;">
                        <button class="btn btn-primary" onclick="saveBaseUrl()">\u4FDD\u5B58\u5E76\u5237\u65B0</button>
                    </div>
                    <p style="color: var(--text-secondary); font-size: 12px; margin-top: 10px; opacity: 0.8;">* \u8BBE\u7F6E\u5C06\u4FDD\u5B58\u5728\u6D4F\u89C8\u5668\u672C\u5730\u5B58\u50A8\u4E2D\uFF0C\u6E05\u9664\u7F51\u9875\u7684\u2018\u672C\u5730\u5B58\u50A8\u7A7A\u95F4\u2019\u6216\u8005\u8F93\u5165\u6846\u4E2D\u7559\u7A7A\u5E76\u4FDD\u5B58\u53EF\u6062\u590D\u9ED8\u8BA4</p>
                </div>

                <div class="env-categories">
                    <button class="category-btn active" onclick="switchPreviewCategory('api', event)">API\u914D\u7F6E</button>
                    <button class="category-btn" onclick="switchPreviewCategory('source', event)">\u6E90\u914D\u7F6E</button>
                    <button class="category-btn" onclick="switchPreviewCategory('match', event)">\u5339\u914D\u914D\u7F6E</button>
                    <button class="category-btn" onclick="switchPreviewCategory('danmu', event)">\u5F39\u5E55\u914D\u7F6E</button>
                    <button class="category-btn" onclick="switchPreviewCategory('cache', event)">\u7F13\u5B58\u914D\u7F6E</button>
                    <button class="category-btn" onclick="switchPreviewCategory('system', event)">\u7CFB\u7EDF\u914D\u7F6E</button>
                </div>

                <p style="color: var(--text-secondary); margin-bottom: 20px; font-size: 14px;">\u5F53\u524D\u751F\u6548\u7684\u73AF\u5883\u53D8\u91CF\u914D\u7F6E</p>
                <div class="preview-area" id="preview-area"></div>
            </div>

            <!-- \u65E5\u5FD7\u67E5\u770B -->
            <div class="section" id="logs-section">
                <h2>\u65E5\u5FD7\u67E5\u770B</h2>
                <div class="log-controls">
                    <div>
                        <button class="btn btn-primary" onclick="refreshLogs()">\u5237\u65B0\u65E5\u5FD7</button>
                        <button class="btn btn-danger" onclick="clearLogs()">\u6E05\u7406\u65E5\u5FD7</button>
                    </div>
                    <span style="color: var(--text-secondary); font-size: 13px;">\u5B9E\u65F6\u65E5\u5FD7\u76D1\u63A7</span>
                </div>
                <div class="log-container" id="log-container"></div>
            </div>

            <!-- \u63A5\u53E3\u8C03\u8BD5 -->
            <div class="section" id="api-section">
                <h2>\u63A5\u53E3\u8C03\u8BD5</h2>
                <div class="api-selector">
                    <div class="form-group">
                        <label>\u9009\u62E9\u63A5\u53E3</label>
                        <select id="api-select" onchange="loadApiParams()">
                            <option value="">-- \u8BF7\u9009\u62E9\u63A5\u53E3 --</option>
                            <option value="searchAnime">\u641C\u7D22\u52A8\u6F2B - /api/v2/search/anime</option>
                            <option value="searchEpisodes">\u641C\u7D22\u5267\u96C6 - /api/v2/search/episodes</option>
                            <option value="matchAnime">\u5339\u914D\u52A8\u6F2B - /api/v2/match</option>
                            <option value="getBangumi">\u83B7\u53D6\u756A\u5267\u8BE6\u60C5 - /api/v2/bangumi/:animeId</option>
                            <option value="getComment">\u83B7\u53D6\u5F39\u5E55 - /api/v2/comment/:commentId</option>
                            <option value="getSegmentComment">\u83B7\u53D6\u5206\u7247\u5F39\u5E55 - /api/v2/segmentcomment</option>
                        </select>
                    </div>
                </div>

                <div class="api-params" id="api-params" style="display: none;">
                    <h3 style="margin-bottom: 15px; font-size: 16px;">\u63A5\u53E3\u53C2\u6570</h3>
                    <div id="params-form"></div>
                    <button class="btn btn-success" onclick="testApi()" style="margin-top: 15px;">\u53D1\u9001\u8BF7\u6C42</button>
                </div>

                <div id="api-response-container" style="display: none;">
                    <h3 style="margin: 24px 0 12px; font-size: 16px;">\u54CD\u5E94\u7ED3\u679C</h3>
                    <div class="api-response" id="api-response"></div>
                </div>
            </div>

            <!-- \u63A8\u9001\u5F39\u5E55 -->
            <div class="section" id="push-section">
                <h2>\u63A8\u9001\u5F39\u5E55</h2>
                <p style="color: var(--text-secondary); margin-bottom: 24px; font-size: 13px;">\u652F\u6301OK\u5F71\u89C6\u7B49\u64AD\u653E\u5668\uFF0C\u4E24\u7AEF\u9700\u8981\u5728\u540C\u4E00\u5C40\u57DF\u7F51\u6216\u4F7F\u7528\u516C\u7F51ip\uFF0C\u63A8\u9001\u5730\u5740\u683C\u5F0F\u5982 http://127.0.0.1:9978/action?do=refresh&type=danmaku&path=</p>
                <div class="push-controls" style="margin-bottom: 24px;">
                    <div class="form-group" style="margin-bottom: 20px;">
                        <label>\u63A8\u9001\u5730\u5740</label>
                        <input type="text" id="push-url" placeholder="\u8BF7\u8F93\u5165\u63A8\u9001\u5730\u5740\uFF0C\u4F8B\u5982: http://127.0.0.1:9978/action?do=refresh&type=danmaku&path=">
                    </div>
                    <div class="form-group" style="margin-bottom: 20px;">
                        <label>\u641C\u7D22\u5173\u952E\u5B57</label>
                        <div style="margin-top: 8px; display: flex; gap: 10px;">
                            <input type="text" id="push-search-keyword" placeholder="\u8BF7\u8F93\u5165\u641C\u7D22\u5173\u952E\u5B57" style="flex: 1;">
                            <button class="btn btn-primary" onclick="searchAnimeForPush()" style="width: auto; padding: 0 24px;">\u641C\u7D22</button>
                        </div>
                    </div>
                </div>
                <div id="push-anime-list" class="anime-list" style="display: none;"></div>
                <div id="push-episode-list" class="episode-list" style="display: none; margin-top: 24px;"></div>
            </div>

            <!-- \u8BF7\u6C42\u8BB0\u5F55 -->
            <div class="section" id="request-records-section">
                <h2>\u8BF7\u6C42\u8BB0\u5F55</h2>
                <div class="log-controls">
                    <div>
                        <button class="btn btn-primary" id="refresh-request-records">\u{1F504} \u5237\u65B0\u8BB0\u5F55</button>
                        <span id="total-requests-today" style="color: #ff5722; margin-left: 15px; vertical-align: middle; font-size: 1.2em; font-weight: bold;"></span>
                    </div>
                    <span style="color: #666;">\u4E91\u670D\u52A1\u90E8\u7F72\u9700\u8981\u914D\u7F6Eredis</span>
                </div>
                <div class="request-records-container" id="request-records-list"></div>
            </div>

            <!-- \u7CFB\u7EDF\u914D\u7F6E -->
            <div class="section" id="env-section">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px; flex-wrap: wrap; gap: 16px;">
                    <div>
                        <h2 style="margin: 0;">\u73AF\u5883\u53D8\u91CF\u914D\u7F6E</h2>
                        <p style="margin: 8px 0 0 0; color: var(--text-secondary); font-size: 13px;">vercel/netlify/edgeone\u5E73\u53F0\u4FEE\u6539\u53D8\u91CF\u540E\u9700\u8981\u91CD\u65B0\u90E8\u7F72</p>
                    </div>
                <div style="display: flex; gap: 12px; flex-wrap: wrap;">
                    <button class="btn btn-danger" onclick="showClearCacheModal()" title="\u6E05\u7406\u7CFB\u7EDF\u7F13\u5B58">
                        \u6E05\u7406\u7F13\u5B58
                    </button>
                    <button class="btn btn-success" onclick="showDeploySystemModal()" title="\u91CD\u65B0\u90E8\u7F72\u7CFB\u7EDF">
                        \u91CD\u65B0\u90E8\u7F72
                    </button>
                </div>

                <!-- \u6E05\u7406\u7F13\u5B58\u786E\u8BA4\u6A21\u6001\u6846 -->
                <div class="modal" id="clear-cache-modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>\u786E\u8BA4\u6E05\u7406\u7F13\u5B58</h3>
                            <button class="close-btn" onclick="hideClearCacheModal()">&times;</button>
                        </div>
                        <div class="modal-body">
                            <p style="margin-bottom: 20px;">\u786E\u5B9A\u8981\u6E05\u7406\u6240\u6709\u7F13\u5B58\u5417\uFF1F\u8FD9\u5C06\u6E05\u9664\uFF1A</p>
                            <ul class="confirmation-list">
                                <li>\u52A8\u6F2B\u641C\u7D22\u7F13\u5B58 (animes)</li>
                                <li>\u5267\u96C6ID\u7F13\u5B58 (episodeIds)</li>
                                <li>\u5267\u96C6\u7F16\u53F7\u7F13\u5B58 (episodeNum)</li>
                                <li>\u6700\u540E\u9009\u62E9\u6620\u5C04\u7F13\u5B58 (lastSelectMap)</li>
                                <li>\u641C\u7D22\u7ED3\u679C\u7F13\u5B58</li>
                                <li>\u5F39\u5E55\u5185\u5BB9\u7F13\u5B58</li>
                                <li>\u8BF7\u6C42\u5386\u53F2\u8BB0\u5F55</li>
                            </ul>
                            <p style="color: var(--text-secondary); margin-top: 20px; font-size: 13px;">\u6E05\u7406\u540E\u53EF\u80FD\u9700\u8981\u91CD\u65B0\u767B\u5F55</p>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-success" onclick="confirmClearCache()">\u786E\u8BA4\u6E05\u7406</button>
                            <button class="btn btn-danger" onclick="hideClearCacheModal()">\u53D6\u6D88</button>
                        </div>
                    </div>
                </div>

                <!-- \u91CD\u65B0\u90E8\u7F72\u786E\u8BA4\u6A21\u6001\u6846 -->
                <div class="modal" id="deploy-system-modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>\u786E\u8BA4\u91CD\u65B0\u90E8\u7F72</h3>
                            <button class="close-btn" onclick="hideDeploySystemModal()">&times;</button>
                        </div>
                        <div class="modal-body">
                            <p style="margin-bottom: 20px;">\u786E\u5B9A\u8981\u91CD\u65B0\u90E8\u7F72\u7CFB\u7EDF\u5417\uFF1F</p>
                            <div class="warning-box" style="background: rgba(255, 204, 0, 0.08); border-left: 4px solid #FFCC00;">
                                <p style="margin: 0; font-weight: bold;">\u90E8\u7F72\u8FC7\u7A0B\u4E2D\uFF1A</p>
                                <ul class="confirmation-list">
                                    <li>\u7CFB\u7EDF\u5C06\u77ED\u6682\u4E0D\u53EF\u7528</li>
                                    <li>\u6240\u6709\u914D\u7F6E\u5C06\u91CD\u65B0\u52A0\u8F7D</li>
                                    <li>\u670D\u52A1\u5C06\u81EA\u52A8\u91CD\u542F</li>
                                </ul>
                                <p style="margin-top: 10px; font-size: 13px;">\u9884\u8BA1\u8017\u65F6\uFF1A30-90\u79D2</p>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-success" onclick="confirmDeploySystem()">\u786E\u8BA4\u90E8\u7F72</button>
                            <button class="btn btn-danger" onclick="hideDeploySystemModal()">\u53D6\u6D88</button>
                        </div>
                    </div>
                </div>
                </div>

                <div class="env-categories">
                    <button class="category-btn active" onclick="switchCategory('api', event)">API\u914D\u7F6E</button>
                    <button class="category-btn" onclick="switchCategory('source', event)">\u6E90\u914D\u7F6E</button>
                    <button class="category-btn" onclick="switchCategory('match', event)">\u5339\u914D\u914D\u7F6E</button>
                    <button class="category-btn" onclick="switchCategory('danmu', event)">\u5F39\u5E55\u914D\u7F6E</button>
                    <button class="category-btn" onclick="switchCategory('cache', event)">\u7F13\u5B58\u914D\u7F6E</button>
                    <button class="category-btn" onclick="switchCategory('system', event)">\u7CFB\u7EDF\u914D\u7F6E</button>
                </div>

                <div class="env-list" id="env-list"></div>
            </div>
        </div>
    </div>

    <!-- \u52A0\u8F7D\u906E\u7F69\u5C42 -->
    <div class="loading-overlay" id="loading-overlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <div class="loading-text" id="loading-text">\u6B63\u5728\u5904\u7406...</div>
            <div class="loading-detail" id="loading-detail">\u8BF7\u7A0D\u5019</div>
        </div>
    </div>

    <!-- \u7F16\u8F91\u6A21\u6001\u6846 -->
    <div class="modal" id="env-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">\u7F16\u8F91\u914D\u7F6E\u9879</h3>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <form id="env-form">
                <div class="form-group">
                    <label>\u53D8\u91CF\u7C7B\u522B</label>
                    <select id="env-category" disabled>
                        <option value="api">API\u914D\u7F6E</option>
                        <option value="source">\u6E90\u914D\u7F6E</option>
                        <option value="match">\u5339\u914D\u914D\u7F6E</option>
                        <option value="danmu">\u5F39\u5E55\u914D\u7F6E</option>
                        <option value="cache">\u7F13\u5B58\u914D\u7F6E</option>
                        <option value="system">\u7CFB\u7EDF\u914D\u7F6E</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>\u53D8\u91CF\u540D</label>
                    <input type="text" id="env-key" placeholder="\u4F8B\u5982: DB_HOST" required readonly>
                </div>
                <div class="form-group">
                    <label>\u503C\u7C7B\u578B</label>
                    <select id="value-type" onchange="renderValueInput()" disabled>
                        <option value="text">\u6587\u672C</option>
                        <option value="boolean">\u5E03\u5C14\u503C</option>
                        <option value="number">\u6570\u5B57 (1-100)</option>
                        <option value="select">\u5355\u9009</option>
                        <option value="multi-select">\u591A\u9009 (\u53EF\u6392\u5E8F)</option>
                        <option value="map">\u6620\u5C04</option>
                    </select>
                </div>
                <div class="form-group" id="value-input-container">
                    <!-- \u52A8\u6001\u6E32\u67D3\u7684\u503C\u8F93\u5165\u63A7\u4EF6 -->
                    </div>
                <div class="form-group">
                    <label>\u63CF\u8FF0</label>
                    <textarea id="env-description" placeholder="\u914D\u7F6E\u9879\u8BF4\u660E" readonly></textarea>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button type="submit" class="btn btn-success" style="flex: 1;">\u4FDD\u5B58</button>
                    <button type="button" class="btn btn-danger" onclick="closeModal()" style="flex: 1;">\u53D6\u6D88</button>
                </div>
            </form>
        </div>
    </div>

    <!-- \u9879\u76EE\u58F0\u660E -->
    <footer class="footer">
        <p class="footer-text">
            \u4E00\u4E2A\u4EBA\u4EBA\u90FD\u80FD\u90E8\u7F72\u7684\u57FA\u4E8E js \u7684\u5F39\u5E55 API \u670D\u52A1\u5668\uFF0C\u652F\u6301\u7231\u4F18\u817E\u8292\u54D4\u54AA\u4EBA\u97E9\u5DF4\u72D0\u4E50\u897F\u5F39\u5E55\u76F4\u63A5\u83B7\u53D6\uFF0C\u517C\u5BB9\u5F39\u5F39play\u7684\u641C\u7D22\u3001\u8BE6\u60C5\u67E5\u8BE2\u548C\u5F39\u5E55\u83B7\u53D6\u63A5\u53E3\u89C4\u8303\uFF0C\u5E76\u63D0\u4F9B\u65E5\u5FD7\u8BB0\u5F55\uFF0C\u652F\u6301vercel/netlify/edgeone/cloudflare/docker/claw\u7B49\u90E8\u7F72\u65B9\u5F0F\uFF0C\u4E0D\u7528\u63D0\u524D\u4E0B\u8F7D\u5F39\u5E55\uFF0C\u6CA1\u6709nas\u6216\u5C0F\u9E21\u4E5F\u80FD\u4E00\u952E\u90E8\u7F72\u3002
        </p>
        <p class="footer-text">\u672C\u9879\u76EE\u4EC5\u4E3A\u4E2A\u4EBA\u7231\u597D\u5F00\u53D1\uFF0C\u4EE3\u7801\u5F00\u6E90\u3002\u5982\u6709\u4EFB\u4F55\u4FB5\u6743\u884C\u4E3A\uFF0C\u8BF7\u8054\u7CFB\u672C\u4EBA\u5220\u9664\u3002</p>
        <p class="footer-links">
            <a href="https://t.me/ddjdd_bot" target="_blank" class="footer-link tg-link">
                <svg class="tg-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/></svg>
                TG MSG ROBOT
            </a>
            <a href="https://t.me/logvar_danmu_group" target="_blank" class="footer-link tg-link">
                <svg class="tg-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/></svg>
                TG GROUP
            </a>
            <a href="https://t.me/logvar_danmu_channel" target="_blank" class="footer-link tg-link">
                <svg class="tg-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/></svg>
                TG CHANNEL
            </a>
            <a href="https://github.com/huangxd-/danmu_api" target="_blank" class="footer-link github-link">
                <img src="https://upload.wikimedia.org/wikipedia/commons/9/91/Octicons-mark-github.svg" alt="GitHub" class="github-icon">
                GitHub Repo
            </a>
        </p>
        <p>\u6709\u95EE\u9898\u63D0issue\u6216\u79C1\u4FE1\u673A\u5668\u4EBA\u90FDok</p>
    </footer>

    <script>
        ${Hfe}
        ${zfe}
        ${Gfe}
        ${Vfe}
        ${Kfe}
        ${Yfe}
        ${Wfe}
    </script>
</body>
</html>
`;et();var As=class{static async getHandler(t){switch(t?.toLowerCase()){case"cloudflare":let{CloudflareHandler:r}=await Promise.resolve().then(()=>(Zfe(),Xfe));return new r;case"vercel":let{VercelHandler:n}=await Promise.resolve().then(()=>(tpe(),epe));return new n;case"netlify":let{NetlifyHandler:s}=await Promise.resolve().then(()=>(npe(),rpe));return new s;case"edgeone":let{EdgeoneHandler:a}=await Promise.resolve().then(()=>(ipe(),spe));return new a;case"node":let{NodeHandler:o}=await import(["./node-handler",".js"].join(""));return new o;default:let{NodeHandler:c}=await import(["./node-handler",".js"].join(""));return new c}}static getSupportedPlatforms(){return["cloudflare","vercel","netlify","edgeone","node"]}};function u5(){return new Response(Jfe.replace("globals.currentToken",R.currentToken),{headers:{"Content-Type":"text/html; charset=utf-8","Access-Control-Allow-Origin":"*"}})}function Q2(e=!1){let t=R.envVarConfig,r={api:[],source:[],match:[],danmu:[],cache:[],system:[]},n={...R.accessedEnvVars,localCacheValid:R.localCacheValid,redisValid:R.redisValid,aiValid:R.aiValid,deployPlatform:R.deployPlatform};Object.keys(n).forEach(c=>{let u=t[c]||{category:"system",type:"text",description:"\u672A\u5206\u7C7B\u914D\u7F6E\u9879"},l=u.category||"system";r[l].push({key:c,value:n[c].value||n[c],type:n[c].type||u.type||"text",description:u.description||"\u65E0\u63CF\u8FF0",options:n[c].options||u.options})});let a=(R.adminToken||"").trim()!=="",o={...R.originalEnvVars};return(!e||R.currentToken!==R.adminToken)&&Object.keys(o).forEach(c=>{(R.currentToken!==R.token||c!=="TOKEN")&&c in n&&/^\*+$/.test(n[c])&&(o[c]=n[c])}),Ee({message:"Welcome to the LogVar Danmu API server",version:R.VERSION,envs:n,categorizedEnvVars:r,envVarConfig:t,originalEnvVars:o,hasAdminToken:a,repository:"https://github.com/huangxd-/danmu_api.git",description:"\u4E00\u4E2A\u4EBA\u4EBA\u90FD\u80FD\u90E8\u7F72\u7684\u57FA\u4E8E js \u7684\u5F39\u5E55 API \u670D\u52A1\u5668\uFF0C\u652F\u6301\u7231\u4F18\u817E\u8292\u54D4\u54AA\u4EBA\u97E9\u5DF4\u72D0\u4E50\u897F\u5F39\u5E55\u76F4\u63A5\u83B7\u53D6\uFF0C\u517C\u5BB9\u5F39\u5F39play\u7684\u641C\u7D22\u3001\u8BE6\u60C5\u67E5\u8BE2\u548C\u5F39\u5E55\u83B7\u53D6\u63A5\u53E3\u89C4\u8303\uFF0C\u5E76\u63D0\u4F9B\u65E5\u5FD7\u8BB0\u5F55\uFF0C\u652F\u6301vercel/netlify/edgeone/cloudflare/docker/claw\u7B49\u90E8\u7F72\u65B9\u5F0F\uFF0C\u4E0D\u7528\u63D0\u524D\u4E0B\u8F7D\u5F39\u5E55\uFF0C\u6CA1\u6709nas\u6216\u5C0F\u9E21\u4E5F\u80FD\u4E00\u952E\u90E8\u7F72\u3002",notice:"\u672C\u9879\u76EE\u4EC5\u4E3A\u4E2A\u4EBA\u7231\u597D\u5F00\u53D1\uFF0C\u4EE3\u7801\u5F00\u6E90\u3002\u5982\u6709\u4EFB\u4F55\u4FB5\u6743\u884C\u4E3A\uFF0C\u8BF7\u8054\u7CFB\u672C\u4EBA\u5220\u9664\u3002\u6709\u95EE\u9898\u63D0issue\u6216\u79C1\u4FE1\u673A\u5668\u4EBA\u90FDok\uFF0CTG MSG ROBOT: [https://t.me/ddjdd_bot]; \u63A8\u8350\u52A0\u4E92\u52A9\u7FA4\u54A8\u8BE2\uFF0CTG GROUP: [https://t.me/logvar_danmu_group]; \u5173\u6CE8\u9891\u9053\u83B7\u53D6\u6700\u65B0\u66F4\u65B0\u5185\u5BB9\uFF0CTG CHANNEL: [https://t.me/logvar_danmu_channel]\u3002"})}async function ape(){try{let e=R.deployPlatform;if(x("info",`[server] Deployment request received for platform: ${e}`),e.toLowerCase()==="node")return x("info","[server] Node/Docker deployment - no redeployment needed, config changes take effect automatically"),Ee({success:!0,message:"Node/Docker deployment - configuration changes take effect automatically"},200);let t=await As.getHandler(e);return t?await t.deploy()?(x("info",`[server] Deployment triggered successfully for platform: ${e}`),Ee({success:!0,message:"Deployment triggered successfully"},200)):(x("error",`[server] Failed to trigger deployment for platform: ${e}`),Ee({success:!1,message:"Failed to trigger deployment"},500)):(x("error",`[server] No handler found for platform: ${e}`),Ee({success:!1,message:`No handler found for platform: ${e}`},400))}catch(e){return x("error",`[server] Deployment error: ${e.message}`),Ee({success:!1,message:`Deployment failed: ${e.message}`},500)}}function ope(){let e=R.logBuffer.map(r=>`[${r.timestamp}] ${r.level}: ${Rde(r.message)}`).join(`
`),t=e;return R.currentToken!==R.adminToken&&(t=e.replace(/(client\s+ip:\s*)([^\n\r]*)/gi,(r,n,s)=>{let a=s.replace(/[^.\s\n\r]/g,"*");return n+a})),new Response(t,{headers:{"Content-Type":"text/plain; charset=utf-8"}})}function cpe(){return R.logBuffer=[],Ee({success:!0,message:"Logs cleared"},200)}async function upe(){try{R.animes=[],R.episodeIds=[],R.episodeNum=10001,R.lastSelectMap=new Map,R.reqRecords=[],R.todayReqNum=0,R.searchCache=new Map,R.commentCache=new Map,R.requestHistory=new Map,x("info","[server] Memory cache cleared successfully");try{if(R.localCacheValid){let{updateLocalCaches:e}=await Promise.resolve().then(()=>(Br(),tfe));await e(),x("info","[server] Local cache cleared successfully")}}catch(e){x("warn",`[server] Local cache may not be available: ${e.message}`)}try{if(R.redisValid){let{updateRedisCaches:e}=await Promise.resolve().then(()=>(A2(),Vde));await e(),x("info","[server] Redis cache cleared successfully")}}catch(e){x("warn",`[server] Redis may not be available: ${e.message}`)}return x("info","[server] All caches cleared successfully"),Ee({success:!0,message:"Cache cleared successfully",clearedItems:{animes:0,episodeIds:0,episodeNum:10001,lastSelectMap:0,searchCache:0,commentCache:0,requestHistory:0,reqRecords:0,todayReqNum:0}},200)}catch(e){return x("error",`[server] Cache clear failed: ${e.message}`),Ee({success:!1,message:`Cache clear failed: ${e.message}`},500)}}function lpe(){let e=[...R.reqRecords].reverse(),t=R.todayReqNum||0;return R.currentToken!==R.adminToken&&(e=e.map(r=>{if(r.clientIp){let n=r.clientIp.replace(/[^.]/g,"*");return{...r,clientIp:n}}return r})),Ee({records:e,todayReqNum:t},200)}Pt();ht();async function dpe(e){try{let{key:t,value:r}=await e.json();if(!t)return Ee({success:!1,message:"\u7F3A\u5C11\u73AF\u5883\u53D8\u91CF\u540D\u79F0"},400);let n=R.deployPlatform;return await(await As.getHandler(n)).setEnv(t,r)?Ee({success:!0,message:`\u73AF\u5883\u53D8\u91CF ${t} \u8BBE\u7F6E\u6210\u529F`}):Ee({success:!1,message:`\u73AF\u5883\u53D8\u91CF ${t} \u8BBE\u7F6E\u5931\u8D25`},500)}catch(t){return console.error("\u8BBE\u7F6E\u73AF\u5883\u53D8\u91CF\u5931\u8D25:",t),Ee({success:!1,message:`\u8BBE\u7F6E\u73AF\u5883\u53D8\u91CF\u5931\u8D25: ${t.message}`},500)}}async function fpe(e){try{let{key:t,value:r}=await e.json();if(!t)return Ee({success:!1,message:"\u7F3A\u5C11\u73AF\u5883\u53D8\u91CF\u540D\u79F0"},400);let n=R.deployPlatform;return await(await As.getHandler(n)).addEnv(t,r)?Ee({success:!0,message:`\u73AF\u5883\u53D8\u91CF ${t} \u6DFB\u52A0\u6210\u529F`}):Ee({success:!1,message:`\u73AF\u5883\u53D8\u91CF ${t} \u6DFB\u52A0\u5931\u8D25`},500)}catch(t){return console.error("\u6DFB\u52A0\u73AF\u5883\u53D8\u91CF\u5931\u8D25:",t),Ee({success:!1,message:`\u6DFB\u52A0\u73AF\u5883\u53D8\u91CF\u5931\u8D25: ${t.message}`},500)}}async function ppe(e){try{let{key:t}=await e.json();if(!t)return Ee({success:!1,message:"\u7F3A\u5C11\u73AF\u5883\u53D8\u91CF\u540D\u79F0"},400);let r=R.deployPlatform;return await(await As.getHandler(r)).delEnv(t)?Ee({success:!0,message:`\u73AF\u5883\u53D8\u91CF ${t} \u5220\u9664\u6210\u529F`}):Ee({success:!1,message:`\u73AF\u5883\u53D8\u91CF ${t} \u5220\u9664\u5931\u8D25`},500)}catch(t){return console.error("\u5220\u9664\u73AF\u5883\u53D8\u91CF\u5931\u8D25:",t),Ee({success:!1,message:`\u5220\u9664\u73AF\u5883\u53D8\u91CF\u5931\u8D25: ${t.message}`},500)}}async function hpe(e){try{let t=await e.json(),r=t.aiBaseUrl||R.aiBaseUrl||"https://api.openai.com/v1",n=t.aiModel||R.aiModel||"gpt-4o",s=t.aiApiKey||R.aiApiKey;if(!s)return Ee({success:!1,ok:!1,message:"AI_API_KEY \u672A\u914D\u7F6E"},400);let o=await new tc({baseURL:r,model:n,apiKey:s,systemPrompt:"\u56DE\u7B54\u5C3D\u91CF\u7B80\u6D01"}).verify();return o.ok?Ee({success:!0,ok:!0,message:"AI \u670D\u52A1\u8FDE\u901A\u6027\u6D4B\u8BD5\u6210\u529F"}):Ee({success:!1,ok:!1,message:`AI \u670D\u52A1\u8FDE\u901A\u6027\u6D4B\u8BD5\u5931\u8D25: ${o.error}`},200)}catch(t){return console.error("AI \u8FDE\u901A\u6027\u9A8C\u8BC1\u5931\u8D25:",t),Ee({success:!1,ok:!1,message:`AI \u8FDE\u901A\u6027\u9A8C\u8BC1\u5931\u8D25: ${t.message}`},500)}}zr();Pt();et();ht();var xnt=new Map;function mpe(){try{if(R&&typeof R.bilibliCookie=="string"&&R.bilibliCookie)return R.bilibliCookie}catch{}try{if(R&&R.env&&typeof R.env.BILIBILI_COOKIE=="string"&&R.env.BILIBILI_COOKIE)return R.env.BILIBILI_COOKIE}catch{}return typeof process<"u"&&process.env&&typeof process.env.BILIBILI_COOKIE=="string"&&process.env.BILIBILI_COOKIE?process.env.BILIBILI_COOKIE:""}function vnt(e){try{let t=e.match(/SESSDATA=([^;]+)/);if(!t)return Math.floor(Date.now()/1e3)+30*24*60*60;let r=t[1],n=decodeURIComponent(r),s=Math.floor(Date.now()/1e3),a=(n.match(/\d{10,}/g)||[]).map(u=>Number(u)).filter(u=>Number.isFinite(u)),o=10*365*24*60*60,c=a.filter(u=>u>s&&u<s+o);if(c.length>0)return Math.max(...c);if(n.includes(",")){let u=n.split(",");if(u.length>1){let l=parseInt(u[1],10);if(!isNaN(l)&&l>s)return l}}}catch{}return Math.floor(Date.now()/1e3)+30*24*60*60}async function gpe(e){if(!e)return{isValid:!1,error:"\u7F3A\u5C11Cookie"};if(!e.includes("SESSDATA")||!e.includes("bili_jct"))return{isValid:!1,error:"Cookie\u683C\u5F0F\u4E0D\u5B8C\u6574\uFF08\u9700\u8981\u5305\u542B SESSDATA \u548C bili_jct\uFF09"};try{let t=await fetch("https://api.bilibili.com/x/web-interface/nav",{method:"GET",headers:{Cookie:e,"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Referer:"https://www.bilibili.com/",Origin:"https://www.bilibili.com",Accept:"application/json, text/plain, */*","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8"}});if(!t.ok){let n=await t.text().catch(()=>"");return{isValid:!1,error:`\u9A8C\u8BC1\u8BF7\u6C42\u5931\u8D25\uFF1AHTTP ${t.status}${n?" - "+n.slice(0,80):""}`}}let r;try{r=await t.json()}catch(n){let s=await t.text().catch(()=>"");return{isValid:!1,error:`\u9A8C\u8BC1\u54CD\u5E94\u89E3\u6790\u5931\u8D25\uFF1A${s?s.slice(0,80):n.message}`}}return r?.code===0&&r?.data?.isLogin?{isValid:!0,data:{uname:r.data.uname,mid:r.data.mid,face:r.data.face}}:r?.code===0&&r?.data&&r.data.isLogin===!1?{isValid:!1,error:"\u8D26\u53F7\u672A\u767B\u5F55\uFF08Cookie \u5DF2\u5931\u6548\uFF09"}:{isValid:!1,error:r?.message||"Cookie\u65E0\u6548\u6216\u5DF2\u8FC7\u671F"}}catch(t){return{isValid:!1,error:"\u9A8C\u8BC1\u8BF7\u6C42\u5931\u8D25: "+t.message}}}async function Ape(e,t="saved"){if(!e)return{success:!0,data:{isValid:!1,checked:t,error:"\u672A\u914D\u7F6ECookie"}};let r=await gpe(e);return r.isValid?{success:!0,data:{isValid:!0,checked:t,uname:r.data?.uname||"\u672A\u77E5\u7528\u6237",expiresAt:vnt(e)}}:{success:!0,data:{isValid:!1,checked:t,error:r.error||"Cookie\u65E0\u6548\u6216\u5DF2\u5931\u6548"}}}async function ype(){try{let e=mpe(),t=await Ape(e,"saved");return Ee(t)}catch(e){return Ee({success:!1,message:e.message},500)}}async function bpe(e){try{let t={};try{t=await e.json()}catch{t={}}let r=typeof t.cookie=="string"?t.cookie.trim():"",n=!r||/^\*+$/.test(r),s=n?mpe():r,o=await Ape(s,n?"saved":"input");return Ee(o)}catch(t){return Ee({success:!1,message:t.message},500)}}async function Epe(){try{let t=await(await fetch("https://passport.bilibili.com/x/passport-login/web/qrcode/generate",{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Referer:"https://www.bilibili.com/"}})).json();return t.code!==0?Ee({success:!1,message:t.message||"\u751F\u6210\u4E8C\u7EF4\u7801\u5931\u8D25"},500):(xnt.set(t.data.qrcode_key,{createTime:Date.now(),status:"generated"}),Ee({success:!0,data:t.data}))}catch(e){return Ee({success:!1,message:e.message},500)}}function _nt(e){let t=new Map,r=[];try{if(e?.headers&&typeof e.headers.getSetCookie=="function")r=e.headers.getSetCookie()||[];else{let l=e?.headers?.get?.("set-cookie");l&&(r=[l])}}catch{r=[]}for(let l of r){if(!l||typeof l!="string")continue;let d=l.split(";")[0],f=d.indexOf("=");if(f<=0)continue;let p=d.slice(0,f).trim(),m=d.slice(f+1).trim();p&&t.set(p,m)}let n=t.get("SESSDATA"),s=t.get("bili_jct"),a=t.get("DedeUserID"),o=t.get("DedeUserID__ckMd5"),c=t.get("sid");if(!n)return null;let u=[`SESSDATA=${n}`];return s&&u.push(`bili_jct=${s}`),a&&u.push(`DedeUserID=${a}`),o&&u.push(`DedeUserID__ckMd5=${o}`),c&&u.push(`sid=${c}`),u.join("; ")}async function xpe(e){try{let t=await e.json(),r=t.qrcodeKey||t.qrcode_key;if(!r)return Ee({success:!1,message:"\u7F3A\u5C11qrcodeKey\u53C2\u6570"},400);let n=await fetch(`https://passport.bilibili.com/x/passport-login/web/qrcode/poll?qrcode_key=${r}`,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Referer:"https://www.bilibili.com/"}}),s=await n.json(),a=null;if(s?.data?.code===0&&(a=_nt(n),!a&&s?.data?.url))try{let c=new URL(s.data.url),u=new URLSearchParams(c.search),l=decodeURIComponent(u.get("SESSDATA")||""),d=decodeURIComponent(u.get("bili_jct")||""),f=decodeURIComponent(u.get("DedeUserID")||"");if(l){let p=[`SESSDATA=${l}`];d&&p.push(`bili_jct=${d}`),f&&p.push(`DedeUserID=${f}`),a=p.join("; ")}}catch{}let o={success:!0,data:{code:s?.data?.code,message:s?.data?.message||""}};return a&&(o.data.cookie=a),Ee(o)}catch(t){return Ee({success:!1,message:t.message},500)}}async function vpe(e){try{let r=((await e.json()).cookie||"").trim();if(!r)return Ee({success:!1,message:"\u7F3A\u5C11cookie\u53C2\u6570"},400);if(!r.includes("SESSDATA")||!r.includes("bili_jct"))return Ee({success:!1,message:"Cookie\u683C\u5F0F\u4E0D\u6B63\u786E"},400);let n=await gpe(r);if(!n.isValid)return Ee({success:!1,message:"Cookie\u9A8C\u8BC1\u5931\u8D25: "+(n.error||"\u65E0\u6548")},400);let s=R.deployPlatform,a=await As.getHandler(s);return a?await a.setEnv("BILIBILI_COOKIE",r)?Ee({success:!0,data:{uname:n.data?.uname},message:"Cookie\u4FDD\u5B58\u6210\u529F"}):Ee({success:!1,message:"Cookie\u4FDD\u5B58\u5931\u8D25\uFF1A\u73AF\u5883\u53D8\u91CF\u5199\u5165\u5931\u8D25"},500):Ee({success:!1,message:`Cookie\u4FDD\u5B58\u5931\u8D25\uFF1A\u4E0D\u652F\u6301\u7684\u90E8\u7F72\u5E73\u53F0 ${s||"unknown"}`},400)}catch(t){return Ee({success:!1,message:t.message},500)}}var ze;async function _pe(e,t,r,n){ze=cd.init(t);let s=new URL(e.url),a=s.pathname,o=e.method;ze.deployPlatform=r,r==="node"&&await qO(a,r),await TO(a),!ze.aiValid&&ze.aiBaseUrl&&ze.aiModel&&ze.aiApiKey&&a!=="/favicon.ico"&&a!=="/robots.txt"&&(await new tc({baseURL:ze.aiBaseUrl,model:ze.aiModel,apiKey:ze.aiApiKey,systemPrompt:"\u56DE\u7B54\u5C3D\u91CF\u7B80\u6D01"}).verify()).ok&&(ze.aiValid=!0),x("info",`request url: ${JSON.stringify(s)}`),x("info",`request path: ${a}`),x("info",`client ip: ${n}`);let c=a.split("/").filter(Boolean),u=["api","v1","v2","search","match","bangumi","comment"],l=c[0]||"",d=ze.token==="87654321",f=l===ze.token||l===ze.adminToken;if(ze.currentToken=f?l:d&&(l==="87654321"||u.includes(l))?l==="87654321"?l:"87654321":"",r==="node"&&ze.localCacheValid&&a!=="/favicon.ico"&&a!=="/robots.txt"&&await UO(),ze.redisValid&&a!=="/favicon.ico"&&a!=="/robots.txt"&&await SO(),["/api/v2/search/anime","/api/v2/match","/api/v2/search/episodes","/api/v2/bangumi","/api/v2/comment","/api/v2/segmentcomment"].some(m=>a.includes(m))){let m=ze.reqRecords.length>0?ze.reqRecords[ze.reqRecords.length-1]:null,h=new Date().toDateString();if(m){let b=new Date(m.timestamp).toDateString();console.log("currentDate: ",h),console.log("lastDate: ",b),b!==h?ze.todayReqNum=1:ze.todayReqNum++}else ze.todayReqNum=1;let g=e.url,A=g.indexOf("/api/v2");A!==-1&&(g=g.substring(A));let y=null;if(o==="POST"||o==="PUT"||o==="PATCH")try{let b=e.clone();if((b.headers.get("content-type")||"").includes("application/json"))y=await b.json();else{let I=await b.text();I&&(y=JSON.parse(I))}}catch{y=null}let v={interface:g,params:y,timestamp:new Date().toISOString(),method:o,clientIp:n};ze.reqRecords.push(v),ze.reqRecords.length>ze.MAX_RECORDS&&(ze.reqRecords=ze.reqRecords.slice(-ze.MAX_RECORDS))}if(a==="/"&&o==="GET")return u5();if(a==="/favicon.ico"||a==="/robots.txt"||o==="OPTIONS")return new Response(null,{status:204,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Authorization, User-Agent"}});if(ze.token==="87654321"){if(c.length>0){if(c[0]==="87654321"||c[0]===ze.adminToken)a="/"+c.slice(1).join("/");else if(!u.includes(c[0]))return a==="/api/config"&&o==="GET"?Q2(!1):(x("error",`Invalid token in path: ${a}`),Ee({errorCode:401,success:!1,errorMessage:"Unauthorized"},401))}}else{if(c.length<1||c[0]!==ze.token&&c[0]!==ze.adminToken)return a==="/api/config"&&o==="GET"?Q2(!1):(x("error",`Invalid or missing token in path: ${a}`),Ee({errorCode:401,success:!1,errorMessage:"Unauthorized"},401));a="/"+c.slice(1).join("/")}if(a==="/api/config"&&o==="GET")return Q2(!0);if(a==="/api/reqrecords"&&o==="GET")return lpe();if(x("info",a),a!=="/"&&a!=="/api/logs"&&!a.startsWith("/api/env")&&!a.startsWith("/api/deploy")&&!a.startsWith("/api/cache")&&!a.startsWith("/api/cookie")&&!a.startsWith("/api/config")&&!a.startsWith("/api/ai")){x("info",`[Path Check] Starting path normalization for: "${a}"`);let m=a;for(;a.startsWith("/api/v2/api/v2/");)x("info","[Path Check] Found redundant /api/v2 prefix. Cleaning..."),a=a.substring(7);a!==m?x("info",`[Path Check] Path after cleanup: "${a}"`):x("info","[Path Check] Path after cleanup: No cleanup needed.");let h=a;!a.startsWith("/api/v2")&&a!=="/"&&!a.startsWith("/api/logs")&&!a.startsWith("/api/env")&&!a.startsWith("/api/cache")&&!a.startsWith("/api/cookie")&&!a.startsWith("/api/config")&&!a.startsWith("/api/ai")&&(x("info","[Path Check] Path is missing /api/v2 prefix. Adding..."),a="/api/v2"+a),a===h&&x("info","[Path Check] Prefix Check: No prefix addition needed."),x("info",`[Path Check] Final normalized path: "${a}"`)}if(a==="/"&&o==="GET")return u5();if(a==="/api/v2/search/anime"&&o==="GET")return F2(s);if(a==="/api/v2/search/episodes"&&o==="GET")return $fe(s);if(a==="/api/v2/match"&&o==="POST")return Ofe(s,e);if(a.startsWith("/api/v2/bangumi/")&&o==="GET")return n0(a);if(a.startsWith("/api/v2/comment")&&o==="GET"){let m=s.searchParams.get("format"),h=s.searchParams.get("url"),g=s.searchParams.get("segmentflag"),A=g==="true"||g==="1";if(h){let b=Zo(h);if(b!==null){x("info",`[Rate Limit] Cache hit for URL: ${h}, skipping rate limit check`);let E={count:b.length,comments:b};return eo(E,m)}if(ze.rateLimitMaxRequests>0){let E=Date.now(),I=60*1e3;_2(E),ze.requestHistory.has(n)||ze.requestHistory.set(n,[]);let S=ze.requestHistory.get(n).filter(T=>E-T<=I);if(S.length>=ze.rateLimitMaxRequests)return x("warn",`[Rate Limit] IP ${n} exceeded rate limit (${S.length}/${ze.rateLimitMaxRequests} requests in 1 minute)`),Ee({errorCode:429,success:!1,errorMessage:"Too many requests, please try again later"},429);S.push(E),ze.requestHistory.set(n,S),x("info",`[Rate Limit] IP ${n} request count: ${S.length}/${ze.rateLimitMaxRequests}`)}return Mfe(h,m,A)}if(!a.startsWith("/api/v2/comment/"))return x("error","Missing commentId or url parameter"),Ee({errorCode:400,success:!1,errorMessage:"Missing commentId or url parameter"},400);let y=parseInt(a.split("/").pop()),v=bA(y);if(v){let b=Zo(v);if(b!==null){x("info",`[Rate Limit] Cache hit for URL: ${v}, skipping rate limit check`);let E={count:b.length,comments:b};return eo(E,m)}}if(ze.rateLimitMaxRequests>0){let b=Date.now(),E=60*1e3;_2(b),ze.requestHistory.has(n)||ze.requestHistory.set(n,[]);let w=ze.requestHistory.get(n).filter(S=>b-S<=E);if(w.length>=ze.rateLimitMaxRequests)return x("warn",`[Rate Limit] IP ${n} exceeded rate limit (${w.length}/${ze.rateLimitMaxRequests} requests in 1 minute)`),Ee({errorCode:429,success:!1,errorMessage:"Too many requests, please try again later"},429);w.push(b),ze.requestHistory.set(n,w),x("info",`[Rate Limit] IP ${n} request count: ${w.length}/${ze.rateLimitMaxRequests}`)}return Lfe(a,m,A)}if(a.startsWith("/api/v2/segmentcomment")&&o==="POST")try{let m=s.searchParams.get("format"),h=await e.json(),g;try{g=Kp.fromJson(h)}catch{return x("error","Invalid JSON in request body for segment"),Ee({errorCode:400,success:!1,errorMessage:"Invalid JSON in request body"},400)}return Ffe(g,m)}catch(m){return x("error",`Error processing segmentcomment request: ${m.message}`),Ee({errorCode:500,success:!1,errorMessage:"Internal server error"},500)}return a==="/api/logs"&&o==="GET"?ope():a==="/api/logs/clear"&&o==="POST"?cpe():a==="/api/env/set"&&o==="POST"?dpe(e):a==="/api/env/add"&&o==="POST"?fpe(e):a==="/api/env/del"&&o==="POST"?ppe(e):a==="/api/deploy"&&o==="POST"?ape():a==="/api/cache/clear"&&o==="POST"?upe():a==="/api/cookie/status"&&o==="GET"?ype():a==="/api/cookie/qr/generate"&&o==="POST"?Epe():a==="/api/cookie/qr/check"&&o==="POST"?xpe(e):a==="/api/cookie/verify"&&o==="POST"?bpe(e):a==="/api/cookie/save"&&o==="POST"?vpe(e):a==="/api/ai/verify"&&o==="POST"?hpe(e):Ee({message:"Not found"},404)}var pa=null,y5=9321,d5=0,Ad=null,Ipe=!1,s0={...process.env,ADMIN_TOKEN:"douer"},U2=!1,JA=null,Oi=null,Ar={overrides:{},deletedKeys:[]};function Dn(...e){console.log("[danmu:debug]",...e)}function XA(...e){console.error("[danmu:debug]",...e)}function Int(){try{let byEval=eval("1 + 1")===2,byFunction=Function("return 2 + 2")()===4;return byEval&&byFunction}catch{return!1}}function f5(){return{overrides:{},deletedKeys:[]}}function Spe(){let e=String(process.env.DANMU_ENV_STORE_FILE||"").trim();if(e)return e;let t=String(process.env.NODE_PATH||"").trim()||process.cwd();return A5.default.resolve(t,"danmu_env_overrides.json")}function Cnt(e){let t=f5();if(!e||typeof e!="object")return t;let r=Array.isArray(e.deletedKeys)?e.deletedKeys.map(s=>String(s||"").trim()).filter(s=>s):[];t.deletedKeys=Array.from(new Set(r));let n=new Set(t.deletedKeys);return e.overrides&&typeof e.overrides=="object"&&!Array.isArray(e.overrides)&&Object.entries(e.overrides).forEach(([s,a])=>{let o=String(s||"").trim();!o||n.has(o)||(t.overrides[o]=a==null?"":String(a))}),t}function wnt(){Oi=Spe();try{if(!ZA.default.existsSync(Oi)){Ar=f5(),Dn("loadPersistedEnvStore()",{loaded:!1,reason:"store file not found",path:Oi});return}let e=ZA.default.readFileSync(Oi,"utf8"),t=e?JSON.parse(e):{};Ar=Cnt(t),Dn("loadPersistedEnvStore()",{loaded:!0,path:Oi,overrides:Object.keys(Ar.overrides).length,deleted:Ar.deletedKeys.length})}catch(e){Ar=f5(),XA("loadPersistedEnvStore() failed",{message:e?.message||String(e),stack:e?.stack||"",path:Oi})}}function Snt(){try{Oi||(Oi=Spe());let e=A5.default.dirname(Oi);ZA.default.mkdirSync(e,{recursive:!0});let t={version:1,updatedAt:new Date().toISOString(),overrides:Ar.overrides,deletedKeys:Ar.deletedKeys};return ZA.default.writeFileSync(Oi,JSON.stringify(t,null,2),"utf8"),!0}catch(e){return XA("savePersistedEnvStore() failed",{message:e?.message||String(e),stack:e?.stack||"",path:Oi||""}),!1}}function p5(){let e={...process.env};return Object.entries(Ar.overrides).forEach(([t,r])=>{e[t]=r}),Ar.deletedKeys.forEach(t=>{delete e[t]}),Tnt(e)}function Tnt(e){let t=e||{},r=String(t.TOKEN||"").trim();t.TOKEN=r||"87654321";let n=String(t.SOURCE_ORDER||"").trim();t.SOURCE_ORDER=n||"tencent,youku,iqiyi,imgo,bilibili,dandan,renren";let s=String(t.RATE_LIMIT_MAX_REQUESTS||"").trim();t.RATE_LIMIT_MAX_REQUESTS=s||"0";let a=String(t.ADMIN_TOKEN||"").trim();return t.ADMIN_TOKEN=a||"douer",t}function Bnt(e){return e==null?null:Array.isArray(e)?e.map(t=>String(t)).join(","):typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"?String(e):null}function Rnt(e,t){if(!e||typeof e!="object"||!e.originalEnvVars||typeof e.originalEnvVars!="object")return e;let r=e.originalEnvVars,n=e.envs&&typeof e.envs=="object"?e.envs:{};return Object.keys(r).forEach(s=>{let a=r[s];if(!(a==null||String(a).trim()===""))return;if(s==="TOKEN"){r[s]=String(t.TOKEN||"87654321");return}if(s==="ADMIN_TOKEN"){r[s]=String(t.ADMIN_TOKEN||"");return}let c=t[s];if(c!=null&&String(c).trim()!==""){r[s]=String(c);return}if(!Object.prototype.hasOwnProperty.call(n,s))return;let u=n[s];if(typeof u=="string"&&/^\*+$/.test(u))return;let l=Bnt(u);l!==null&&l!==""&&(r[s]=l)}),e}function l5(e,t,r=!1){let n=String(e||"").trim();if(!n)return!1;let s=Object.prototype.hasOwnProperty.call(process.env,n),a=process.env[n],o=Object.prototype.hasOwnProperty.call(Ar.overrides,n),c=Ar.overrides[n],u=Ar.deletedKeys.includes(n);if(r)delete process.env[n],delete Ar.overrides[n],Ar.deletedKeys.includes(n)||Ar.deletedKeys.push(n);else{let l=t==null?"":String(t);process.env[n]=l,Ar.overrides[n]=l,Ar.deletedKeys=Ar.deletedKeys.filter(d=>d!==n)}return Snt()?(s0=p5(),!0):(o?Ar.overrides[n]=c:delete Ar.overrides[n],u&&!Ar.deletedKeys.includes(n)&&Ar.deletedKeys.push(n),u||(Ar.deletedKeys=Ar.deletedKeys.filter(l=>l!==n)),s?process.env[n]=a:delete process.env[n],s0=p5(),!1)}var Nnt={async setEnv(e,t){return l5(e,t,!1)?(Dn("memoryNodeEnvHandler.setEnv()",{key:String(e||"")}),!0):!1},async addEnv(e,t){return l5(e,t,!1)?(Dn("memoryNodeEnvHandler.addEnv()",{key:String(e||"")}),!0):!1},async delEnv(e){return l5(e,"",!0)?(Dn("memoryNodeEnvHandler.delEnv()",{key:String(e||"")}),!0):!1}};function knt(){U2||(JA=As.getHandler,As.getHandler=async function(t){let r=String(t||"").toLowerCase();return!r||r==="node"?Nnt:JA.call(As,t)},U2=!0,Dn("installNodeEnvHotReloadPatch()",{patched:!0}))}function Dnt(){!U2||!JA||(As.getHandler=JA,JA=null,U2=!1,Dn("uninstallNodeEnvHotReloadPatch()",{patched:!1}))}function Pnt(e){return e==null?Buffer.alloc(0):Buffer.isBuffer(e)?e:e instanceof ArrayBuffer?Buffer.from(e):ArrayBuffer.isView(e)?Buffer.from(e.buffer,e.byteOffset,e.byteLength):Buffer.from(String(e),"utf8")}async function Ont(e){if(!e||typeof e.getReader!="function")return Buffer.from(String(e??""),"utf8");let t=e.getReader(),r=[];try{for(;;){let{done:n,value:s}=await t.read();if(n)break;if(s!=null){if(Buffer.isBuffer(s)){r.push(s);continue}if(s instanceof Uint8Array){r.push(Buffer.from(s));continue}if(s instanceof ArrayBuffer){r.push(Buffer.from(s));continue}if(ArrayBuffer.isView(s)){r.push(Buffer.from(s.buffer,s.byteOffset,s.byteLength));continue}r.push(Buffer.from(String(s),"utf8"))}}}finally{typeof t.releaseLock=="function"&&t.releaseLock()}return r.length?Buffer.concat(r):Buffer.alloc(0)}async function $nt(e){if(e==null)return Buffer.alloc(0);if(Buffer.isBuffer(e))return e;if(e instanceof ArrayBuffer)return Buffer.from(e);if(ArrayBuffer.isView(e))return Buffer.from(e.buffer,e.byteOffset,e.byteLength);if(typeof e=="string")return Buffer.from(e,"utf8");if(typeof Blob=="function"&&e instanceof Blob){let t=await e.arrayBuffer();return Buffer.from(t)}return typeof e.getReader=="function"?Ont(e):Buffer.from(String(e),"utf8")}var ey=class{constructor(t=void 0){if(this._map=new Map,!!t){if(typeof t.forEach=="function"){t.forEach((r,n)=>this.set(n,r));return}if(Array.isArray(t)){t.forEach(([r,n])=>this.set(r,n));return}typeof t=="object"&&Object.entries(t).forEach(([r,n])=>this.set(r,n))}}set(t,r){this._map.set(String(t).toLowerCase(),String(r))}get(t){let r=this._map.get(String(t).toLowerCase());return r===void 0?null:r}has(t){return this._map.has(String(t).toLowerCase())}delete(t){this._map.delete(String(t).toLowerCase())}forEach(t,r=void 0){for(let[n,s]of this._map.entries())t.call(r,s,n,this)}entries(){return this._map.entries()}[Symbol.iterator](){return this._map[Symbol.iterator]()}},h5=class e{constructor(t,r={}){this.url=String(t||""),this.method=String(r.method||"GET").toUpperCase();let n=globalThis.Headers||ey;this.headers=r.headers instanceof n?r.headers:new n(r.headers||{}),this._bodyBuffer=Pnt(r.body)}clone(){return new e(this.url,{method:this.method,headers:Object.fromEntries(this.headers.entries()),body:this._bodyBuffer})}async text(){return this._bodyBuffer.toString("utf8")}async json(){let t=await this.text();return t?JSON.parse(t):null}async arrayBuffer(){return this._bodyBuffer.buffer.slice(this._bodyBuffer.byteOffset,this._bodyBuffer.byteOffset+this._bodyBuffer.byteLength)}},m5=class{constructor(t=null,r={}){let n=globalThis.Headers||ey;this.status=Number(r.status||200),this.statusText=String(r.statusText||""),this.headers=r.headers instanceof n?r.headers:new n(r.headers||{}),this.ok=this.status>=200&&this.status<300,this.body=t,this.bodyUsed=!1,this._bodyBuffer=null,this._bodyBufferPromise=null}async _ensureBodyBuffer(){return this._bodyBuffer?this._bodyBuffer:(this._bodyBufferPromise||(this._bodyBufferPromise=$nt(this.body).then(t=>(this._bodyBuffer=t,this.bodyUsed=!0,t))),this._bodyBufferPromise)}async text(){return(await this._ensureBodyBuffer()).toString("utf8")}async json(){let t=await this.text();return t?JSON.parse(t):null}async arrayBuffer(){let t=await this._ensureBodyBuffer();return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}};function Lnt(){Ipe||(typeof globalThis.Headers!="function"&&(globalThis.Headers=ey),typeof globalThis.Response!="function"&&(globalThis.Response=m5),typeof globalThis.Request!="function"&&(globalThis.Request=h5),Ipe=!0,Dn("installWebApiPolyfills()",{hasFetch:typeof globalThis.fetch=="function",hasRequest:typeof globalThis.Request=="function",hasHeaders:typeof globalThis.Headers=="function",hasResponse:typeof globalThis.Response=="function"}))}async function Cpe(e,t={}){let r=await Ie({url:e,method:t.method||"GET",headers:t.headers||{},data:t.body,signal:t.signal,responseType:"arraybuffer",validateStatus:()=>!0,timeout:1e4}),n=Buffer.from(r.data),s={};return Object.entries(r.headers||{}).forEach(([a,o])=>{s[a]=String(o)}),{ok:r.status>=200&&r.status<300,status:r.status,statusText:r.statusText||"",headers:new Headers(s),url:String(e),async text(){return n.toString("utf8")},async json(){return JSON.parse(n.toString("utf8"))},async arrayBuffer(){return n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)}}}function Mnt(){Dn("installPatches()",{hasFetch:typeof globalThis.fetch=="function"}),Ad=globalThis.fetch,globalThis.fetch=function(t,r){return d5>0?Cpe(t,r):typeof Ad=="function"?Ad(t,r):Cpe(t,r)}}function g5(){if(Dn("uninstallPatches()",{hasOriginalFetch:!!Ad}),typeof Ad=="function")globalThis.fetch=Ad;else try{delete globalThis.fetch}catch{globalThis.fetch=void 0}Ad=null}function Tpe(e=9321){if(y5=e,Lnt(),knt(),wnt(),s0=p5(),Dn("loadDanmuEnv()",{source:"process.env + persisted store",adminTokenFallback:s0.ADMIN_TOKEN==="douer",persistedEnvStorePath:Oi,persistedOverrides:Object.keys(Ar.overrides).length,persistedDeletedKeys:Ar.deletedKeys.length}),Dn("start()",{port:e,alreadyRunning:!!pa,node:process.version,platform:`${process.platform}/${process.arch}`,v8:process.versions?.v8,dynamicCode:Int()}),!pa){Mnt();try{pa=wpe.default.createServer(async(t,r)=>{d5++;let n=`${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`,s=Date.now();Dn(`[${n}] inbound`,{method:t.method,url:t.url,host:t.headers.host,remote:t.socket?.remoteAddress||"unknown"});try{let a=`http://${t.headers.host||`127.0.0.1:${e}`}${t.url}`,o=(()=>{try{return new URL(a).pathname||""}catch{return String(t.url||"")}})(),c=t.method==="GET"&&o.endsWith("/api/config"),u;(t.method==="POST"||t.method==="PUT")&&(u=await new Promise(m=>{let h="";t.on("data",g=>h+=g),t.on("end",()=>m(h))}));let l=new Request(a,{method:t.method,headers:Object.fromEntries(Object.entries(t.headers).map(([m,h])=>[m,String(h)])),body:u||void 0}),d={...s0},f=await _pe(l,d,"node",t.socket?.remoteAddress||"unknown");Dn(`[${n}] worker done`,{status:f.status}),r.statusCode=f.status,f.headers.forEach((m,h)=>{let g=h.toLowerCase();g!=="content-encoding"&&g!=="content-length"&&r.setHeader(h,m)});let p;if(c){let m=await f.text();try{let h=JSON.parse(m),g=Rnt(h,d);p=Buffer.from(JSON.stringify(g),"utf8")}catch{p=Buffer.from(m||"","utf8")}}else p=Buffer.from(await f.arrayBuffer());r.setHeader("Content-Length",p.length),r.end(p)}catch(a){XA(`[${n}] request failed`,{message:a?.message||String(a),stack:a?.stack||""}),r.statusCode=500,r.end("Internal Server Error")}finally{Dn(`[${n}] complete`,{costMs:Date.now()-s}),d5--}}),pa.listen(e,"0.0.0.0",()=>{let t=pa?.address?.();Dn("listen ok",{address:t})}),pa.on("error",t=>{XA("server error",{message:t?.message||String(t),code:t?.code}),console.warn(`[danmu] \u5185\u7F6E\u5F39\u5E55\u670D\u52A1\u542F\u52A8\u5931\u8D25: ${t.message}`),g5(),pa=null})}catch(t){XA("start() failed",{message:t?.message||String(t),stack:t?.stack||""}),console.warn(`[danmu] \u5185\u7F6E\u5F39\u5E55\u670D\u52A1\u542F\u52A8\u5931\u8D25: ${t.message}`),g5()}}}function Bpe(){Dn("stop()",{hasServer:!!pa,port:y5}),pa&&(pa.close(),pa=null),Dnt(),g5()}function pBt(){return y5}function Rpe(){return String(s0?.ADMIN_TOKEN||"").trim()||"douer"}function Qnt(e){return ty.default.enc.Utf8.stringify(ty.default.enc.Base64.parse(e))}function Npe(e){return ty.default.enc.Base64.stringify(ty.default.enc.Utf8.parse(e))}function Dpe(e){let t=`http://${new URL(e).hostname}:9321`,r=String(Rpe()||"").trim();return r?`${t}/${encodeURIComponent(r)}`:t}async function Unt(e,t){return{}}async function qnt(e,t){return{class:[{type_id:"setting",type_name:`${e.server.address().url}/website`}]}}async function jnt(e,t){let r=e.server.address().url,n=r+e.server.prefix+"/proxy",s=Dpe(r);return{page:1,pagecount:1,limit:1,total:1,list:[{vod_id:"openInternalWebsite",vod_name:"\u901A\u7528\u914D\u7F6E",vod_pic:n+"/"+Npe(`${r}/website`)},{vod_id:"builtinDanmuApiQr",vod_name:"\u5F39\u5E55\u670D\u52A1",vod_pic:n+"/"+Npe(s)}]}}async function Hnt(e,t){return e.body.id==="openInternalWebsite"?(await e.server.messageToDart({action:"openInternalWebview",opt:{url:`${e.server.address().url}/website`}}),{list:[{vod_name:"",vod_content:""}]}):e.body.id==="builtinDanmuApiQr"?(await e.server.messageToDart({action:"openInternalWebview",opt:{url:Dpe(e.server.address().url)}}),{list:[{vod_name:"",vod_content:""}]}):{list:[{vod_name:"",vod_content:""}]}}async function znt(e,t){let r=e.params.img,n=Qnt(r),s=await kpe.default.toBuffer(n,{width:120,height:120,margin:15});t.send(s)}var Ppe={meta:{key:"baseset",name:"\u914D\u7F6E",type:3},api:async e=>{e.post("/init",Unt),e.post("/home",qnt),e.post("/category",jnt),e.post("/detail",Hnt),e.get("/proxy/:img",znt)}};var Gnt=["https://666.666291.xyz","https://www.muou.asia","https://www.muou.site"],b5=async e=>(await e.db.getObjectDefault("/muou",{}))?.urls||e.config.muou?.urls||Gnt,Vnt=async(e,t)=>{await e.db.push("/muou/urls",t)},Knt=async e=>{await e.db.delete("/muou/urls")};async function E5(e){e.get("/urls",async(t,r)=>{r.send({code:0,data:await b5(t.server)})}),e.put("/urls",async(t,r)=>{await Vnt(t.server,t.body),r.send({code:0})}),e.delete("/urls",async(t,r)=>{await Knt(t.server),r.send({code:0})})}var x5,q2=e=>{if(!x5){let t=Date.now();x5=new Promise(async r=>{let n=await b5(e),s=await Wr(n);console.log("\u6728\u5076\u57DF\u540D",s,`${Date.now()-t}ms`),r(s)})}return x5};async function v5(e){return(await Oe.get(e,{headers:{"User-Agent":gr}})).data}async function Ynt(e,t){let r=[{type_id:"1",type_name:"\u7535\u5F71"},{type_id:"2",type_name:"\u5267\u96C6"},{type_id:"3",type_name:"\u52A8\u6F2B"},{type_id:"4",type_name:"\u7EAA\u5F55"},{type_id:"29",type_name:"\u7EFC\u827A"},{type_id:"25",type_name:"115"}],n={};return n[1]=[{key:"class",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u559C\u5267",v:"\u559C\u5267"},{n:"\u7231\u60C5",v:"\u7231\u60C5"},{n:"\u6050\u6016",v:"\u6050\u6016"},{n:"\u52A8\u4F5C",v:"\u52A8\u4F5C"},{n:"\u79D1\u5E7B",v:"\u79D1\u5E7B"},{n:"\u5267\u60C5",v:"\u5267\u60C5"},{n:"\u6218\u4E89",v:"\u6218\u4E89"},{n:"\u8B66\u532A",v:"\u8B66\u532A"},{n:"\u72AF\u7F6A",v:"\u72AF\u7F6A"},{n:"\u52A8\u753B",v:"\u52A8\u753B"},{n:"\u5947\u5E7B",v:"\u5947\u5E7B"},{n:"\u6B66\u4FA0",v:"\u6B66\u4FA0"},{n:"\u5192\u9669",v:"\u5192\u9669"},{n:"\u67AA\u6218",v:"\u67AA\u6218"},{n:"\u60AC\u7591",v:"\u60AC\u7591"},{n:"\u60CA\u609A",v:"\u60CA\u609A"},{n:"\u7ECF\u5178",v:"\u7ECF\u5178"},{n:"\u9752\u6625",v:"\u9752\u6625"},{n:"\u6587\u827A",v:"\u6587\u827A"},{n:"\u5FAE\u7535\u5F71",v:"\u5FAE\u7535\u5F71"},{n:"\u53E4\u88C5",v:"\u53E4\u88C5"},{n:"\u5386\u53F2",v:"\u5386\u53F2"},{n:"\u8FD0\u52A8",v:"\u8FD0\u52A8"},{n:"\u519C\u6751",v:"\u519C\u6751"},{n:"\u513F\u7AE5",v:"\u513F\u7AE5"},{n:"\u7F51\u7EDC\u7535\u5F71",v:"\u7F51\u7EDC\u7535\u5F71"}]},{key:"area",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u5927\u9646",v:"\u5927\u9646"},{n:"\u9999\u6E2F",v:"\u9999\u6E2F"},{n:"\u53F0\u6E7E",v:"\u53F0\u6E7E"},{n:"\u7F8E\u56FD",v:"\u7F8E\u56FD"},{n:"\u6CD5\u56FD",v:"\u6CD5\u56FD"},{n:"\u82F1\u56FD",v:"\u82F1\u56FD"},{n:"\u65E5\u672C",v:"\u65E5\u672C"},{n:"\u97E9\u56FD",v:"\u97E9\u56FD"},{n:"\u5FB7\u56FD",v:"\u5FB7\u56FD"},{n:"\u6CF0\u56FD",v:"\u6CF0\u56FD"},{n:"\u5370\u5EA6",v:"\u5370\u5EA6"},{n:"\u610F\u5927\u5229",v:"\u610F\u5927\u5229"},{n:"\u897F\u73ED\u7259",v:"\u897F\u73ED\u7259"},{n:"\u52A0\u62FF\u5927",v:"\u52A0\u62FF\u5927"},{n:"\u5176\u4ED6",v:"\u5176\u4ED6"}]},{key:"year",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"2026",v:"2026"},{n:"2025",v:"2025"},{n:"2024",v:"2024"},{n:"2023",v:"2023"},{n:"2022",v:"2022"},{n:"2021",v:"2021"},{n:"2020",v:"2020"},{n:"2019",v:"2019"},{n:"2018",v:"2018"},{n:"2017",v:"2017"},{n:"2016",v:"2016"},{n:"2015",v:"2015"},{n:"2014",v:"2014"},{n:"2013",v:"2013"},{n:"2012",v:"2012"},{n:"2011",v:"2011"},{n:"2010",v:"2010"}]},{key:"by",name:"",init:"time",value:[{n:"\u65F6\u95F4",v:"time"},{n:"\u4EBA\u6C14",v:"hits"},{n:"\u8BC4\u5206",v:"score"}]}],n[2]=[{key:"class",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u53E4\u88C5",v:"\u53E4\u88C5"},{n:"\u6218\u4E89",v:"\u6218\u4E89"},{n:"\u9752\u6625\u5076\u50CF",v:"\u9752\u6625\u5076\u50CF"},{n:"\u559C\u5267",v:"\u559C\u5267"},{n:"\u5BB6\u5EAD",v:"\u5BB6\u5EAD"},{n:"\u72AF\u7F6A",v:"\u72AF\u7F6A"},{n:"\u52A8\u4F5C",v:"\u52A8\u4F5C"},{n:"\u5947\u5E7B",v:"\u5947\u5E7B"},{n:"\u5267\u60C5",v:"\u5267\u60C5"},{n:"\u5386\u53F2",v:"\u5386\u53F2"},{n:"\u7ECF\u5178",v:"\u7ECF\u5178"},{n:"\u4E61\u6751",v:"\u4E61\u6751"},{n:"\u60C5\u666F",v:"\u60C5\u666F"},{n:"\u5546\u6218",v:"\u5546\u6218"},{n:"\u7F51\u5267",v:"\u7F51\u5267"},{n:"\u5176\u4ED6",v:"\u5176\u4ED6"}]},{key:"area",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u4E2D\u56FD\u5927\u9646",v:"\u4E2D\u56FD\u5927\u9646"},{n:"\u5927\u9646",v:"\u5927\u9646"},{n:"\u5185\u5730",v:"\u5185\u5730"},{n:"\u97E9\u56FD",v:"\u97E9\u56FD"},{n:"\u9999\u6E2F",v:"\u9999\u6E2F"},{n:"\u53F0\u6E7E",v:"\u53F0\u6E7E"},{n:"\u65E5\u672C",v:"\u65E5\u672C"},{n:"\u7F8E\u56FD",v:"\u7F8E\u56FD"},{n:"\u6CF0\u56FD",v:"\u6CF0\u56FD"},{n:"\u82F1\u56FD",v:"\u82F1\u56FD"},{n:"\u65B0\u52A0\u5761",v:"\u65B0\u52A0\u5761"},{n:"\u5176\u4ED6",v:"\u5176\u4ED6"}]},{key:"year",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"2026",v:"2026"},{n:"2025",v:"2025"},{n:"2024",v:"2024"},{n:"2023",v:"2023"},{n:"2022",v:"2022"},{n:"2021",v:"2021"},{n:"2020",v:"2020"},{n:"2019",v:"2019"},{n:"2018",v:"2018"},{n:"2017",v:"2017"},{n:"2016",v:"2016"},{n:"2015",v:"2015"},{n:"2014",v:"2014"},{n:"2013",v:"2013"},{n:"2012",v:"2012"},{n:"2011",v:"2011"},{n:"2010",v:"2010"}]},{key:"by",name:"",init:"time",value:[{n:"\u65F6\u95F4",v:"time"},{n:"\u4EBA\u6C14",v:"hits"},{n:"\u8BC4\u5206",v:"score"}]}],n[3]=[{key:"year",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"2026",v:"2026"},{n:"2025",v:"2025"},{n:"2024",v:"2024"},{n:"2023",v:"2023"},{n:"2022",v:"2022"},{n:"2021",v:"2021"},{n:"2020",v:"2020"},{n:"2019",v:"2019"},{n:"2018",v:"2018"},{n:"2017",v:"2017"},{n:"2016",v:"2016"},{n:"2015",v:"2015"},{n:"2014",v:"2014"},{n:"2013",v:"2013"},{n:"2012",v:"2012"},{n:"2011",v:"2011"},{n:"2010",v:"2010"}]},{key:"by",name:"",init:"time",value:[{n:"\u65F6\u95F4",v:"time"},{n:"\u4EBA\u6C14",v:"hits"},{n:"\u8BC4\u5206",v:"score"}]}],n[4]=[{key:"year",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"2026",v:"2026"},{n:"2025",v:"2025"},{n:"2024",v:"2024"},{n:"2023",v:"2023"},{n:"2022",v:"2022"},{n:"2021",v:"2021"},{n:"2020",v:"2020"},{n:"2019",v:"2019"},{n:"2018",v:"2018"},{n:"2017",v:"2017"},{n:"2016",v:"2016"},{n:"2015",v:"2015"},{n:"2014",v:"2014"},{n:"2013",v:"2013"},{n:"2012",v:"2012"},{n:"2011",v:"2011"},{n:"2010",v:"2010"}]},{key:"by",name:"",init:"time",value:[{n:"\u65F6\u95F4",v:"time"},{n:"\u4EBA\u6C14",v:"hits"},{n:"\u8BC4\u5206",v:"score"}]}],n[29]=[{key:"by",name:"",init:"time",value:[{n:"\u65F6\u95F4",v:"time"},{n:"\u4EBA\u6C14",v:"hits"},{n:"\u8BC4\u5206",v:"score"}]}],n[25]=[{key:"year",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"2026",v:"2026"},{n:"2025",v:"2025"},{n:"2024",v:"2024"},{n:"2023",v:"2023"},{n:"2022",v:"2022"},{n:"2021",v:"2021"},{n:"2020",v:"2020"},{n:"2019",v:"2019"},{n:"2018",v:"2018"},{n:"2017",v:"2017"},{n:"2016",v:"2016"},{n:"2015",v:"2015"},{n:"2014",v:"2014"},{n:"2013",v:"2013"},{n:"2012",v:"2012"},{n:"2011",v:"2011"},{n:"2010",v:"2010"}]},{key:"by",name:"",init:"time",value:[{n:"\u65F6\u95F4",v:"time"},{n:"\u4EBA\u6C14",v:"hits"},{n:"\u8BC4\u5206",v:"score"}]}],{class:r,filters:n}}async function Wnt(e,t){let r=await q2(e.server),n=e.body.id,s=e.body.page,a=e.body.filters||{},o=s||1;o==0&&(o=1);let c=r+"/index.php/vod/show";a.area&&(c+=`/area/${a.area}`),a.by&&(c+=`/by/${a.by}`),a.class&&(c+=`/class/${a.class}`),c+=`/id/${n}/page/${o}`,a.year&&(c+=`/year/${a.year}`),c+=".html";let u=await v5(c,gr),l=Je(u),d=l("#main .module-item"),f=[];for(var p of d){let g=l(p).find(".module-item-pic a").attr("href"),A=l(p).find(".module-item-pic img").attr("alt"),y=l(p).find(".module-item-pic img").attr("data-src"),v=l(p).find(".module-item-text").text();f.push({vod_id:g,vod_name:A,vod_pic:y,vod_remarks:v})}let h=l("#page > a:contains(\u4E0B\u4E00\u9875)").length>0?parseInt(o)+1:parseInt(o);return{page:parseInt(o),pagecount:h,limit:72,total:72*h,list:f}}async function Jnt(e,t){let r=await q2(e.server),n=Array.isArray(e.body.id)?e.body.id:[e.body.id],s=[];for(let a of n){let o=await v5(r+a),c=Je(o),u={vod_id:a,vod_name:c(".page-title")[0].children[0].data,vod_pic:c(c(".mobile-play")).find(".lazyload")[0].attribs["data-src"]},l=c(".video-info-itemtitle");for(let p of l){let m=c(p).text(),g=c(p).next().find("a").map((A,y)=>{let v=c(y).text().trim();return v||null}).get().filter(Boolean).join(", ");m.includes("\u5267\u60C5")?u.vod_content=c(p).next().find("p").text().trim():m.includes("\u5BFC\u6F14")?u.vod_director=g.trim():m.includes("\u4E3B\u6F14")&&(u.vod_actor=g.trim())}let d=c("div.module-row-info p").map((p,m)=>m.children[0].data).get(),f=await Vt(d,e);f&&(u.vod_play_from=f.froms,u.vod_play_url=f.urls),s.push(u)}return{list:s}}async function Xnt(e,t){let r=await q2(e.server),n=e.body.page,s=e.body.wd,a=n||1;a==0&&(a=1);let o=await v5(`${r}/index.php/vod/search/wd/${s}.html`),c=Je(o),u=c(".module-search-item").map((l,d)=>({vod_id:c(d).find(".video-serial")[0].attribs.href,vod_name:c(d).find(".video-serial")[0].attribs.title,vod_pic:c(d).find(".module-item-pic > img")[0].attribs["data-src"],vod_remarks:c(c(d).find(".video-serial")[0]).text()})).get();return{page:a,pagecount:u.length<10?a:a+1,list:u}}var Ope={meta:{key:"muou",name:"\u6728\u5076",type:3},api:async e=>{e.post("/init",nr),e.post("/home",Ynt),e.post("/category",Wnt),e.post("/detail",Jnt),e.post("/play",Yt),e.post("/search",Xnt),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",Kt)},check:q2};var Znt=["https://feimao666.fun","https://feimao888.fun"],_5=async e=>(await e.db.getObjectDefault("/labi",{}))?.urls||e.config.labi?.urls||Znt,est=async(e,t)=>{await e.db.push("/labi/urls",t)},tst=async e=>{await e.db.delete("/labi/urls")};async function I5(e){e.get("/urls",async(t,r)=>{r.send({code:0,data:await _5(t.server)})}),e.put("/urls",async(t,r)=>{await est(t.server,t.body),r.send({code:0})}),e.delete("/urls",async(t,r)=>{await tst(t.server),r.send({code:0})})}var C5,j2=e=>{if(!C5){let t=Date.now();C5=new Promise(async r=>{let n=await _5(e),s=await Wr(n);console.log("\u8721\u7B14\u57DF\u540D",s,`${Date.now()-t}ms`),r(s)})}return C5};async function w5(e){return(await Oe.get(e,{headers:{"User-Agent":gr}})).data}async function rst(e,t){return{class:[{type_id:"1",type_name:"\u7535\u5F71"},{type_id:"2",type_name:"\u5267\u96C6"},{type_id:"3",type_name:"\u52A8\u6F2B"},{type_id:"4",type_name:"\u7EFC\u827A"},{type_id:"24",type_name:"4K"},{type_id:"29",type_name:"\u81FB\u5F69"},{type_id:"5",type_name:"\u77ED\u5267"}],filters:{}}}async function nst(e,t){let r=await j2(e.server),n=e.body.id,s=e.body.page,a=s||1;a==0&&(a=1);let o=r+`/index.php/vod/show/id/${n}/page/${s}.html`,c=await w5(o,gr),u=Je(c),l=u("#main .module-item"),d=[];for(var f of l){let h=u(f).find(".module-item-pic a").attr("href"),g=u(f).find(".module-item-pic img").attr("alt"),A=u(f).find(".module-item-pic img").attr("data-src"),y=u(f).find(".module-item-text").text();d.push({vod_id:h,vod_name:g,vod_pic:A,vod_remarks:y})}let m=u("#page > a:contains(\u4E0B\u4E00\u9875)").length>0?parseInt(a)+1:parseInt(a);return{page:parseInt(a),pagecount:m,limit:72,total:72*m,list:d}}async function sst(e,t){let r=await j2(e.server),n=Array.isArray(e.body.id)?e.body.id:[e.body.id],s=[];for(let a of n){let o=await w5(r+a),c=Je(o),u={vod_id:a,vod_name:c(".page-title")[0].children[0].data,vod_pic:c(c(".mobile-play")).find(".lazyload")[0].attribs["data-src"]},l=c(".video-info-itemtitle");for(let p of l){let m=c(p).text(),g=c(p).next().find("a").map((A,y)=>{let v=c(y).text().trim();return v||null}).get().filter(Boolean).join(", ");m.includes("\u5267\u60C5")?u.vod_content=c(p).next().find("p").text().trim():m.includes("\u5BFC\u6F14")?u.vod_director=g.trim():m.includes("\u4E3B\u6F14")&&(u.vod_actor=g.trim())}let d=c("div.module-row-info p").map((p,m)=>m.children[0].data).get(),f=await Vt(d,e);f&&(u.vod_play_from=f.froms,u.vod_play_url=f.urls),s.push(u)}return{list:s}}async function ist(e,t){let r=await j2(e.server),n=e.body.page,s=e.body.wd,a=n||1;a==0&&(a=1);let o=await w5(`${r}/index.php/vod/search/wd/${s}.html`),c=Je(o),u=c(".module-search-item").map((l,d)=>({vod_id:c(d).find(".video-serial")[0].attribs.href,vod_name:c(d).find(".video-serial")[0].attribs.title,vod_pic:c(d).find(".module-item-pic > img")[0].attribs["data-src"],vod_remarks:c(c(d).find(".video-serial")[0]).text()})).get();return{page:a,pagecount:u.length<10?a:a+1,list:u}}var $pe={meta:{key:"labi",name:"\u8721\u7B14",type:3},api:async e=>{e.post("/init",nr),e.post("/home",rst),e.post("/category",nst),e.post("/detail",sst),e.post("/play",Yt),e.post("/search",ist),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",Kt)},check:j2};var ast=["https://woog.nxog.eu.org"],S5=async e=>(await e.db.getObjectDefault("/ouge",{}))?.urls||e.config.ouge?.urls||ast,ost=async(e,t)=>{await e.db.push("/ouge/urls",t)},cst=async e=>{await e.db.delete("/ouge/urls")};async function T5(e){e.get("/urls",async(t,r)=>{r.send({code:0,data:await S5(t.server)})}),e.put("/urls",async(t,r)=>{await ost(t.server,t.body),r.send({code:0})}),e.delete("/urls",async(t,r)=>{await cst(t.server),r.send({code:0})})}var B5,H2=e=>{if(!B5){let t=Date.now();B5=new Promise(async r=>{let n=await S5(e),s=await Wr(n);console.log("\u6B27\u54E5\u57DF\u540D",s,`${Date.now()-t}ms`),r(s)})}return B5};async function R5(e){return(await Oe.get(e,{headers:{"User-Agent":gr}})).data}async function ust(e,t){return{class:[{type_id:"1",type_name:"\u7535\u5F71"},{type_id:"2",type_name:"\u5267\u96C6"},{type_id:"3",type_name:"\u52A8\u6F2B"},{type_id:"5",type_name:"\u77ED\u5267"},{type_id:"4",type_name:"\u7EFC\u827A"},{type_id:"21",type_name:"\u7EFC\u5408"}],filters:{}}}async function lst(e,t){let r=await H2(e.server),n=e.body.id,s=e.body.page,a=s||1;a==0&&(a=1);let o=r+`/index.php/vod/show/id/${n}/page/${s}.html`,c=await R5(o,gr),u=Je(c),l=u("#main .module-item"),d=[];for(var f of l){let h=u(f).find(".module-item-pic a").attr("href"),g=u(f).find(".module-item-pic img").attr("alt"),A=u(f).find(".module-item-pic img").attr("data-src"),y=u(f).find(".module-item-text").text();d.push({vod_id:h,vod_name:g,vod_pic:A,vod_remarks:y})}let m=u("#page > a:contains(\u4E0B\u4E00\u9875)").length>0?parseInt(a)+1:parseInt(a);return{page:parseInt(a),pagecount:m,limit:72,total:72*m,list:d}}async function dst(e,t){let r=await H2(e.server),n=Array.isArray(e.body.id)?e.body.id:[e.body.id],s=[];for(let a of n){let o=await R5(r+a),c=Je(o),u={vod_id:a,vod_name:c(".page-title")[0].children[0].data,vod_pic:c(c(".mobile-play")).find(".lazyload")[0].attribs["data-src"]},l=c(".video-info-itemtitle");for(let p of l){let m=c(p).text(),g=c(p).next().find("a").map((A,y)=>{let v=c(y).text().trim();return v||null}).get().filter(Boolean).join(", ");m.includes("\u5267\u60C5")?u.vod_content=c(p).next().find("p").text().trim():m.includes("\u5BFC\u6F14")?u.vod_director=g.trim():m.includes("\u4E3B\u6F14")&&(u.vod_actor=g.trim())}let d=c("div.module-row-info p").map((p,m)=>m.children[0].data).get(),f=await Vt(d,e);f&&(u.vod_play_from=f.froms,u.vod_play_url=f.urls),s.push(u)}return{list:s}}async function fst(e,t){let r=await H2(e.server),n=e.body.page,s=e.body.wd,a=n||1;a==0&&(a=1);let o=await R5(`${r}/index.php/vod/search/wd/${s}.html`),c=Je(o),u=c(".module-search-item").map((l,d)=>({vod_id:c(d).find(".video-serial")[0].attribs.href,vod_name:c(d).find(".video-serial")[0].attribs.title,vod_pic:c(d).find(".module-item-pic > img")[0].attribs["data-src"],vod_remarks:c(c(d).find(".video-serial")[0]).text()})).get();return{page:a,pagecount:u.length<10?a:a+1,list:u}}var Lpe={meta:{key:"ouge",name:"\u6B27\u6B4C",type:3},api:async e=>{e.post("/init",nr),e.post("/home",ust),e.post("/category",lst),e.post("/detail",dst),e.post("/play",Yt),e.post("/search",fst),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",Kt)},check:H2};var pst=["https://erxiaofn.click","https://erxiaofn.site"],N5=async e=>(await e.db.getObjectDefault("/erxiao",{}))?.urls||e.config.erxiao?.urls||pst,hst=async(e,t)=>{await e.db.push("/erxiao/urls",t)},mst=async e=>{await e.db.delete("/erxiao/urls")};async function k5(e){e.get("/urls",async(t,r)=>{r.send({code:0,data:await N5(t.server)})}),e.put("/urls",async(t,r)=>{await hst(t.server,t.body),r.send({code:0})}),e.delete("/urls",async(t,r)=>{await mst(t.server),r.send({code:0})})}var D5,z2=e=>{if(!D5){let t=Date.now();D5=new Promise(async r=>{let n=await N5(e),s=await Wr(n);console.log("\u4E8C\u5C0F\u57DF\u540D",s,`${Date.now()-t}ms`),r(s)})}return D5};async function P5(e){return(await Oe.get(e,{headers:{"User-Agent":gr}})).data}async function gst(e,t){return{class:[{type_id:"1",type_name:"\u7535\u5F71"},{type_id:"2",type_name:"\u5267\u96C6"},{type_id:"3",type_name:"\u52A8\u6F2B"},{type_id:"4",type_name:"\u70ED\u64AD"},{type_id:"21",type_name:"\u7EFC\u827A"}],filters:{}}}async function Ast(e,t){let r=await z2(e.server),n=e.body.id,s=e.body.page,a=s||1;a==0&&(a=1);let o=r+`/index.php/vod/show/id/${n}/page/${s}.html`,c=await P5(o,gr),u=Je(c),l=u("#main .module-item"),d=[];for(var f of l){let h=u(f).find(".module-item-pic a").attr("href"),g=u(f).find(".module-item-pic img").attr("alt"),A=u(f).find(".module-item-pic img").attr("data-src"),y=u(f).find(".module-item-text").text();d.push({vod_id:h,vod_name:g,vod_pic:A,vod_remarks:y})}let m=u("#page > a:contains(\u4E0B\u4E00\u9875)").length>0?parseInt(a)+1:parseInt(a);return{page:parseInt(a),pagecount:m,limit:72,total:72*m,list:d}}async function yst(e,t){let r=await z2(e.server),n=Array.isArray(e.body.id)?e.body.id:[e.body.id],s=[];for(let a of n){let o=await P5(r+a),c=Je(o),u={vod_id:a,vod_name:c(".page-title")[0].children[0].data,vod_pic:c(c(".mobile-play")).find(".lazyload")[0].attribs["data-src"]},l=c(".video-info-itemtitle");for(let p of l){let m=c(p).text(),g=c(p).next().find("a").map((A,y)=>{let v=c(y).text().trim();return v||null}).get().filter(Boolean).join(", ");m.includes("\u5267\u60C5")?u.vod_content=c(p).next().find("p").text().trim():m.includes("\u5BFC\u6F14")?u.vod_director=g.trim():m.includes("\u4E3B\u6F14")&&(u.vod_actor=g.trim())}let d=c("div.module-row-info p").map((p,m)=>m.children[0].data).get(),f=await Vt(d,e);f&&(u.vod_play_from=f.froms,u.vod_play_url=f.urls),s.push(u)}return{list:s}}async function bst(e,t){let r=await z2(e.server),n=e.body.page,s=e.body.wd,a=n||1;a==0&&(a=1);let o=await P5(`${r}/index.php/vod/search/wd/${s}.html`),c=Je(o),u=c(".module-search-item").map((l,d)=>({vod_id:c(d).find(".video-serial")[0].attribs.href,vod_name:c(d).find(".video-serial")[0].attribs.title,vod_pic:c(d).find(".module-item-pic > img")[0].attribs["data-src"],vod_remarks:c(c(d).find(".video-serial")[0]).text()})).get();return{page:a,pagecount:u.length<10?a:a+1,list:u}}var Mpe={meta:{key:"erxiao",name:"\u4E8C\u5C0F",type:3},api:async e=>{e.post("/init",nr),e.post("/home",gst),e.post("/category",Ast),e.post("/detail",yst),e.post("/play",Yt),e.post("/search",bst),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",Kt)},check:z2};var Est=["http://103.45.162.207:20720"],O5=async e=>(await e.db.getObjectDefault("/huban",{}))?.urls||e.config.huban?.urls||Est,xst=async(e,t)=>{await e.db.push("/huban/urls",t)},vst=async e=>{await e.db.delete("/huban/urls")};async function $5(e){e.get("/urls",async(t,r)=>{r.send({code:0,data:await O5(t.server)})}),e.put("/urls",async(t,r)=>{await xst(t.server,t.body),r.send({code:0})}),e.delete("/urls",async(t,r)=>{await vst(t.server),r.send({code:0})})}var L5,G2=e=>{if(!L5){let t=Date.now();L5=new Promise(async r=>{let n=await O5(e),s=await Wr(n);console.log("\u864E\u6591\u57DF\u540D",s,`${Date.now()-t}ms`),r(s)})}return L5};async function M5(e){return(await Oe.get(e,{headers:{"User-Agent":gr}})).data}async function _st(e,t){return{class:[{type_id:"1",type_name:"\u5F71"},{type_id:"2",type_name:"\u5267"},{type_id:"3",type_name:"\u7EFC"},{type_id:"4",type_name:"\u6F2B"},{type_id:"6",type_name:"\u77ED"},{type_id:"5",type_name:"\u7CBE"},{type_id:"30",type_name:"115"}],filters:{}}}async function Ist(e,t){let r=await G2(e.server),n=e.body.id,s=e.body.page,a=s||1;a==0&&(a=1);let o=r+`/index.php/vod/show/id/${n}/page/${s}.html`,c=await M5(o,gr),u=Je(c),l=u("#main .module-item"),d=[];for(var f of l){let h=u(f).find(".module-item-pic a").attr("href"),g=u(f).find(".module-item-pic img").attr("alt"),A=u(f).find(".module-item-pic img").attr("data-src"),y=u(f).find(".module-item-text").text();d.push({vod_id:h,vod_name:g,vod_pic:A,vod_remarks:y})}let m=u("#page > a:contains(\u4E0B\u4E00\u9875)").length>0?parseInt(a)+1:parseInt(a);return{page:parseInt(a),pagecount:m,limit:72,total:72*m,list:d}}async function Cst(e,t){let r=await G2(e.server),n=Array.isArray(e.body.id)?e.body.id:[e.body.id],s=[];for(let a of n){let o=await M5(r+a),c=Je(o),u={vod_id:a,vod_name:c(".page-title")[0].children[0].data,vod_pic:c(c(".mobile-play")).find(".lazyload")[0].attribs["data-src"]},l=c(".video-info-itemtitle");for(let p of l){let m=c(p).text(),g=c(p).next().find("a").map((A,y)=>{let v=c(y).text().trim();return v||null}).get().filter(Boolean).join(", ");m.includes("\u5267\u60C5")?u.vod_content=c(p).next().find("p").text().trim():m.includes("\u5BFC\u6F14")?u.vod_director=g.trim():m.includes("\u4E3B\u6F14")&&(u.vod_actor=g.trim())}let d=c("div.module-row-info p").map((p,m)=>m.children[0].data).get(),f=await Vt(d,e);f&&(u.vod_play_from=f.froms,u.vod_play_url=f.urls),s.push(u)}return{list:s}}async function wst(e,t){let r=await G2(e.server),n=e.body.page,s=e.body.wd,a=n||1;a==0&&(a=1);let o=await M5(`${r}/index.php/vod/search/wd/${s}.html`),c=Je(o),u=c(".module-search-item").map((l,d)=>({vod_id:c(d).find(".video-serial")[0].attribs.href,vod_name:c(d).find(".video-serial")[0].attribs.title,vod_pic:c(d).find(".module-item-pic > img")[0].attribs["data-src"],vod_remarks:c(c(d).find(".video-serial")[0]).text()})).get();return{page:a,pagecount:u.length<10?a:a+1,list:u}}var Fpe={meta:{key:"huban",name:"\u864E\u6591",type:3},api:async e=>{e.post("/init",nr),e.post("/home",_st),e.post("/category",Ist),e.post("/detail",Cst),e.post("/play",Yt),e.post("/search",wst),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",Kt)},check:G2};var Sst=["http://xsayang.fun:12512"],F5=async e=>(await e.db.getObjectDefault("/xiaoban",{}))?.urls||e.config.xiaoban?.urls||Sst,Tst=async(e,t)=>{await e.db.push("/xiaoban/urls",t)},Bst=async e=>{await e.db.delete("/xiaoban/urls")};async function Q5(e){e.get("/urls",async(t,r)=>{r.send({code:0,data:await F5(t.server)})}),e.put("/urls",async(t,r)=>{await Tst(t.server,t.body),r.send({code:0})}),e.delete("/urls",async(t,r)=>{await Bst(t.server),r.send({code:0})})}var U5,V2=e=>{if(!U5){let t=Date.now();U5=new Promise(async r=>{let n=await F5(e),s=await Wr(n);console.log("\u5C0F\u6591\u57DF\u540D",s,`${Date.now()-t}ms`),r(s)})}return U5};async function q5(e){return(await Oe.get(e,{headers:{"User-Agent":gr}})).data}async function Rst(e,t){return{class:[{type_id:"30",type_name:"115"},{type_id:"35",type_name:"123"},{type_id:"36",type_name:"\u5929\u79FB\u8FC5"},{type_id:"1",type_name:"\u5F71"},{type_id:"2",type_name:"\u5267"},{type_id:"3",type_name:"\u7EFC"},{type_id:"4",type_name:"\u6F2B"},{type_id:"6",type_name:"\u77ED"},{type_id:"5",type_name:"\u7CBE"}],filters:{}}}async function Nst(e,t){let r=await V2(e.server),n=e.body.id,s=e.body.page,a=s||1;a==0&&(a=1);let o=r+`/index.php/vod/show/id/${n}/page/${s}.html`,c=await q5(o,gr),u=Je(c),l=u("#main .module-item"),d=[];for(var f of l){let h=u(f).find(".module-item-pic a").attr("href"),g=u(f).find(".module-item-pic img").attr("alt"),A=u(f).find(".module-item-pic img").attr("data-src"),y=u(f).find(".module-item-text").text();d.push({vod_id:h,vod_name:g,vod_pic:A,vod_remarks:y})}let m=u("#page > a:contains(\u4E0B\u4E00\u9875)").length>0?parseInt(a)+1:parseInt(a);return{page:parseInt(a),pagecount:m,limit:72,total:72*m,list:d}}async function kst(e,t){let r=await V2(e.server),n=Array.isArray(e.body.id)?e.body.id:[e.body.id],s=[];for(let a of n){let o=await q5(r+a),c=Je(o),u={vod_id:a,vod_name:c(".page-title")[0].children[0].data,vod_pic:c(c(".mobile-play")).find(".lazyload")[0].attribs["data-src"]},l=c(".video-info-itemtitle");for(let p of l){let m=c(p).text(),g=c(p).next().find("a").map((A,y)=>{let v=c(y).text().trim();return v||null}).get().filter(Boolean).join(", ");m.includes("\u5267\u60C5")?u.vod_content=c(p).next().find("p").text().trim():m.includes("\u5BFC\u6F14")?u.vod_director=g.trim():m.includes("\u4E3B\u6F14")&&(u.vod_actor=g.trim())}let d=c("div.module-row-info p").map((p,m)=>m.children[0].data).get(),f=await Vt(d,e);f&&(u.vod_play_from=f.froms,u.vod_play_url=f.urls),s.push(u)}return{list:s}}async function Dst(e,t){let r=await V2(e.server),n=e.body.page,s=e.body.wd,a=n||1;a==0&&(a=1);let o=await q5(`${r}/index.php/vod/search/wd/${s}.html`),c=Je(o),u=c(".module-search-item").map((l,d)=>({vod_id:c(d).find(".video-serial")[0].attribs.href,vod_name:c(d).find(".video-serial")[0].attribs.title,vod_pic:c(d).find(".module-item-pic > img")[0].attribs["data-src"],vod_remarks:c(c(d).find(".video-serial")[0]).text()})).get();return{page:a,pagecount:u.length<10?a:a+1,list:u}}var Qpe={meta:{key:"xiaoban",name:"\u5C0F\u6591",type:3},api:async e=>{e.post("/init",nr),e.post("/home",Rst),e.post("/category",Nst),e.post("/detail",kst),e.post("/play",Yt),e.post("/search",Dst),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",Kt)},check:V2};var qpe=Pe(require("vm"),1),H5=class{add(t,r,n){if(typeof arguments[0]!="string")for(let s in arguments[0])this.add(s,arguments[0][s],arguments[1]);else(Array.isArray(t)?t:[t]).forEach(function(s){this[s]=this[s]||[],r&&this[s][n?"unshift":"push"](r)},this)}run(t,r){this[t]=this[t]||[],this[t].forEach(function(n){n.call(r&&r.context?r.context:r,r)})}},z5=class{constructor(t){this.jsep=t,this.registered={}}register(...t){t.forEach(r=>{if(typeof r!="object"||!r.name||!r.init)throw new Error("Invalid JSEP plugin format");this.registered[r.name]||(r.init(this.jsep),this.registered[r.name]=r)})}},zs=class e{static get version(){return"1.4.0"}static toString(){return"JavaScript Expression Parser (JSEP) v"+e.version}static addUnaryOp(t){return e.max_unop_len=Math.max(t.length,e.max_unop_len),e.unary_ops[t]=1,e}static addBinaryOp(t,r,n){return e.max_binop_len=Math.max(t.length,e.max_binop_len),e.binary_ops[t]=r,n?e.right_associative.add(t):e.right_associative.delete(t),e}static addIdentifierChar(t){return e.additional_identifier_chars.add(t),e}static addLiteral(t,r){return e.literals[t]=r,e}static removeUnaryOp(t){return delete e.unary_ops[t],t.length===e.max_unop_len&&(e.max_unop_len=e.getMaxKeyLen(e.unary_ops)),e}static removeAllUnaryOps(){return e.unary_ops={},e.max_unop_len=0,e}static removeIdentifierChar(t){return e.additional_identifier_chars.delete(t),e}static removeBinaryOp(t){return delete e.binary_ops[t],t.length===e.max_binop_len&&(e.max_binop_len=e.getMaxKeyLen(e.binary_ops)),e.right_associative.delete(t),e}static removeAllBinaryOps(){return e.binary_ops={},e.max_binop_len=0,e}static removeLiteral(t){return delete e.literals[t],e}static removeAllLiterals(){return e.literals={},e}get char(){return this.expr.charAt(this.index)}get code(){return this.expr.charCodeAt(this.index)}constructor(t){this.expr=t,this.index=0}static parse(t){return new e(t).parse()}static getMaxKeyLen(t){return Math.max(0,...Object.keys(t).map(r=>r.length))}static isDecimalDigit(t){return t>=48&&t<=57}static binaryPrecedence(t){return e.binary_ops[t]||0}static isIdentifierStart(t){return t>=65&&t<=90||t>=97&&t<=122||t>=128&&!e.binary_ops[String.fromCharCode(t)]||e.additional_identifier_chars.has(String.fromCharCode(t))}static isIdentifierPart(t){return e.isIdentifierStart(t)||e.isDecimalDigit(t)}throwError(t){let r=new Error(t+" at character "+this.index);throw r.index=this.index,r.description=t,r}runHook(t,r){if(e.hooks[t]){let n={context:this,node:r};return e.hooks.run(t,n),n.node}return r}searchHook(t){if(e.hooks[t]){let r={context:this};return e.hooks[t].find(function(n){return n.call(r.context,r),r.node}),r.node}}gobbleSpaces(){let t=this.code;for(;t===e.SPACE_CODE||t===e.TAB_CODE||t===e.LF_CODE||t===e.CR_CODE;)t=this.expr.charCodeAt(++this.index);this.runHook("gobble-spaces")}parse(){this.runHook("before-all");let t=this.gobbleExpressions(),r=t.length===1?t[0]:{type:e.COMPOUND,body:t};return this.runHook("after-all",r)}gobbleExpressions(t){let r=[],n,s;for(;this.index<this.expr.length;)if(n=this.code,n===e.SEMCOL_CODE||n===e.COMMA_CODE)this.index++;else if(s=this.gobbleExpression())r.push(s);else if(this.index<this.expr.length){if(n===t)break;this.throwError('Unexpected "'+this.char+'"')}return r}gobbleExpression(){let t=this.searchHook("gobble-expression")||this.gobbleBinaryExpression();return this.gobbleSpaces(),this.runHook("after-expression",t)}gobbleBinaryOp(){this.gobbleSpaces();let t=this.expr.substr(this.index,e.max_binop_len),r=t.length;for(;r>0;){if(e.binary_ops.hasOwnProperty(t)&&(!e.isIdentifierStart(this.code)||this.index+t.length<this.expr.length&&!e.isIdentifierPart(this.expr.charCodeAt(this.index+t.length))))return this.index+=r,t;t=t.substr(0,--r)}return!1}gobbleBinaryExpression(){let t,r,n,s,a,o,c,u,l;if(o=this.gobbleToken(),!o||(r=this.gobbleBinaryOp(),!r))return o;for(a={value:r,prec:e.binaryPrecedence(r),right_a:e.right_associative.has(r)},c=this.gobbleToken(),c||this.throwError("Expected expression after "+r),s=[o,a,c];r=this.gobbleBinaryOp();){if(n=e.binaryPrecedence(r),n===0){this.index-=r.length;break}a={value:r,prec:n,right_a:e.right_associative.has(r)},l=r;let d=f=>a.right_a&&f.right_a?n>f.prec:n<=f.prec;for(;s.length>2&&d(s[s.length-2]);)c=s.pop(),r=s.pop().value,o=s.pop(),t={type:e.BINARY_EXP,operator:r,left:o,right:c},s.push(t);t=this.gobbleToken(),t||this.throwError("Expected expression after "+l),s.push(a,t)}for(u=s.length-1,t=s[u];u>1;)t={type:e.BINARY_EXP,operator:s[u-1].value,left:s[u-2],right:t},u-=2;return t}gobbleToken(){let t,r,n,s;if(this.gobbleSpaces(),s=this.searchHook("gobble-token"),s)return this.runHook("after-token",s);if(t=this.code,e.isDecimalDigit(t)||t===e.PERIOD_CODE)return this.gobbleNumericLiteral();if(t===e.SQUOTE_CODE||t===e.DQUOTE_CODE)s=this.gobbleStringLiteral();else if(t===e.OBRACK_CODE)s=this.gobbleArray();else{for(r=this.expr.substr(this.index,e.max_unop_len),n=r.length;n>0;){if(e.unary_ops.hasOwnProperty(r)&&(!e.isIdentifierStart(this.code)||this.index+r.length<this.expr.length&&!e.isIdentifierPart(this.expr.charCodeAt(this.index+r.length)))){this.index+=n;let a=this.gobbleToken();return a||this.throwError("missing unaryOp argument"),this.runHook("after-token",{type:e.UNARY_EXP,operator:r,argument:a,prefix:!0})}r=r.substr(0,--n)}e.isIdentifierStart(t)?(s=this.gobbleIdentifier(),e.literals.hasOwnProperty(s.name)?s={type:e.LITERAL,value:e.literals[s.name],raw:s.name}:s.name===e.this_str&&(s={type:e.THIS_EXP})):t===e.OPAREN_CODE&&(s=this.gobbleGroup())}return s?(s=this.gobbleTokenProperty(s),this.runHook("after-token",s)):this.runHook("after-token",!1)}gobbleTokenProperty(t){this.gobbleSpaces();let r=this.code;for(;r===e.PERIOD_CODE||r===e.OBRACK_CODE||r===e.OPAREN_CODE||r===e.QUMARK_CODE;){let n;if(r===e.QUMARK_CODE){if(this.expr.charCodeAt(this.index+1)!==e.PERIOD_CODE)break;n=!0,this.index+=2,this.gobbleSpaces(),r=this.code}this.index++,r===e.OBRACK_CODE?(t={type:e.MEMBER_EXP,computed:!0,object:t,property:this.gobbleExpression()},t.property||this.throwError('Unexpected "'+this.char+'"'),this.gobbleSpaces(),r=this.code,r!==e.CBRACK_CODE&&this.throwError("Unclosed ["),this.index++):r===e.OPAREN_CODE?t={type:e.CALL_EXP,arguments:this.gobbleArguments(e.CPAREN_CODE),callee:t}:(r===e.PERIOD_CODE||n)&&(n&&this.index--,this.gobbleSpaces(),t={type:e.MEMBER_EXP,computed:!1,object:t,property:this.gobbleIdentifier()}),n&&(t.optional=!0),this.gobbleSpaces(),r=this.code}return t}gobbleNumericLiteral(){let t="",r,n;for(;e.isDecimalDigit(this.code);)t+=this.expr.charAt(this.index++);if(this.code===e.PERIOD_CODE)for(t+=this.expr.charAt(this.index++);e.isDecimalDigit(this.code);)t+=this.expr.charAt(this.index++);if(r=this.char,r==="e"||r==="E"){for(t+=this.expr.charAt(this.index++),r=this.char,(r==="+"||r==="-")&&(t+=this.expr.charAt(this.index++));e.isDecimalDigit(this.code);)t+=this.expr.charAt(this.index++);e.isDecimalDigit(this.expr.charCodeAt(this.index-1))||this.throwError("Expected exponent ("+t+this.char+")")}return n=this.code,e.isIdentifierStart(n)?this.throwError("Variable names cannot start with a number ("+t+this.char+")"):(n===e.PERIOD_CODE||t.length===1&&t.charCodeAt(0)===e.PERIOD_CODE)&&this.throwError("Unexpected period"),{type:e.LITERAL,value:parseFloat(t),raw:t}}gobbleStringLiteral(){let t="",r=this.index,n=this.expr.charAt(this.index++),s=!1;for(;this.index<this.expr.length;){let a=this.expr.charAt(this.index++);if(a===n){s=!0;break}else if(a==="\\")switch(a=this.expr.charAt(this.index++),a){case"n":t+=`
`;break;case"r":t+="\r";break;case"t":t+="	";break;case"b":t+="\b";break;case"f":t+="\f";break;case"v":t+="\v";break;default:t+=a}else t+=a}return s||this.throwError('Unclosed quote after "'+t+'"'),{type:e.LITERAL,value:t,raw:this.expr.substring(r,this.index)}}gobbleIdentifier(){let t=this.code,r=this.index;for(e.isIdentifierStart(t)?this.index++:this.throwError("Unexpected "+this.char);this.index<this.expr.length&&(t=this.code,e.isIdentifierPart(t));)this.index++;return{type:e.IDENTIFIER,name:this.expr.slice(r,this.index)}}gobbleArguments(t){let r=[],n=!1,s=0;for(;this.index<this.expr.length;){this.gobbleSpaces();let a=this.code;if(a===t){n=!0,this.index++,t===e.CPAREN_CODE&&s&&s>=r.length&&this.throwError("Unexpected token "+String.fromCharCode(t));break}else if(a===e.COMMA_CODE){if(this.index++,s++,s!==r.length){if(t===e.CPAREN_CODE)this.throwError("Unexpected token ,");else if(t===e.CBRACK_CODE)for(let o=r.length;o<s;o++)r.push(null)}}else if(r.length!==s&&s!==0)this.throwError("Expected comma");else{let o=this.gobbleExpression();(!o||o.type===e.COMPOUND)&&this.throwError("Expected comma"),r.push(o)}}return n||this.throwError("Expected "+String.fromCharCode(t)),r}gobbleGroup(){this.index++;let t=this.gobbleExpressions(e.CPAREN_CODE);if(this.code===e.CPAREN_CODE)return this.index++,t.length===1?t[0]:t.length?{type:e.SEQUENCE_EXP,expressions:t}:!1;this.throwError("Unclosed (")}gobbleArray(){return this.index++,{type:e.ARRAY_EXP,elements:this.gobbleArguments(e.CBRACK_CODE)}}},Pst=new H5;Object.assign(zs,{hooks:Pst,plugins:new z5(zs),COMPOUND:"Compound",SEQUENCE_EXP:"SequenceExpression",IDENTIFIER:"Identifier",MEMBER_EXP:"MemberExpression",LITERAL:"Literal",THIS_EXP:"ThisExpression",CALL_EXP:"CallExpression",UNARY_EXP:"UnaryExpression",BINARY_EXP:"BinaryExpression",ARRAY_EXP:"ArrayExpression",TAB_CODE:9,LF_CODE:10,CR_CODE:13,SPACE_CODE:32,PERIOD_CODE:46,COMMA_CODE:44,SQUOTE_CODE:39,DQUOTE_CODE:34,OPAREN_CODE:40,CPAREN_CODE:41,OBRACK_CODE:91,CBRACK_CODE:93,QUMARK_CODE:63,SEMCOL_CODE:59,COLON_CODE:58,unary_ops:{"-":1,"!":1,"~":1,"+":1},binary_ops:{"||":1,"??":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10,"**":11},right_associative:new Set(["**"]),additional_identifier_chars:new Set(["$","_"]),literals:{true:!0,false:!1,null:null},this_str:"this"});zs.max_unop_len=zs.getMaxKeyLen(zs.unary_ops);zs.max_binop_len=zs.getMaxKeyLen(zs.binary_ops);var ac=e=>new zs(e).parse(),Ost=Object.getOwnPropertyNames(class{});Object.getOwnPropertyNames(zs).filter(e=>!Ost.includes(e)&&ac[e]===void 0).forEach(e=>{ac[e]=zs[e]});ac.Jsep=zs;var $st="ConditionalExpression",Lst={name:"ternary",init(e){e.hooks.add("after-expression",function(r){if(r.node&&this.code===e.QUMARK_CODE){this.index++;let n=r.node,s=this.gobbleExpression();if(s||this.throwError("Expected expression"),this.gobbleSpaces(),this.code===e.COLON_CODE){this.index++;let a=this.gobbleExpression();if(a||this.throwError("Expected expression"),r.node={type:$st,test:n,consequent:s,alternate:a},n.operator&&e.binary_ops[n.operator]<=.9){let o=n;for(;o.right.operator&&e.binary_ops[o.right.operator]<=.9;)o=o.right;r.node.test=o.right,o.right=r.node,r.node=n}}else this.throwError("Expected :")}})}};ac.plugins.register(Lst);var Upe=47,Mst=92,Fst={name:"regex",init(e){e.hooks.add("gobble-token",function(r){if(this.code===Upe){let n=++this.index,s=!1;for(;this.index<this.expr.length;){if(this.code===Upe&&!s){let a=this.expr.slice(n,this.index),o="";for(;++this.index<this.expr.length;){let u=this.code;if(u>=97&&u<=122||u>=65&&u<=90||u>=48&&u<=57)o+=this.char;else break}let c;try{c=new RegExp(a,o)}catch(u){this.throwError(u.message)}return r.node={type:e.LITERAL,value:c,raw:this.expr.slice(n-1,this.index)},r.node=this.gobbleTokenProperty(r.node),r.node}this.code===e.OBRACK_CODE?s=!0:s&&this.code===e.CBRACK_CODE&&(s=!1),this.index+=this.code===Mst?2:1}this.throwError("Unclosed Regex")}})}},j5=43,Qst=45,i0={name:"assignment",assignmentOperators:new Set(["=","*=","**=","/=","%=","+=","-=","<<=",">>=",">>>=","&=","^=","|=","||=","&&=","??="]),updateOperators:[j5,Qst],assignmentPrecedence:.9,init(e){let t=[e.IDENTIFIER,e.MEMBER_EXP];i0.assignmentOperators.forEach(n=>e.addBinaryOp(n,i0.assignmentPrecedence,!0)),e.hooks.add("gobble-token",function(s){let a=this.code;i0.updateOperators.some(o=>o===a&&o===this.expr.charCodeAt(this.index+1))&&(this.index+=2,s.node={type:"UpdateExpression",operator:a===j5?"++":"--",argument:this.gobbleTokenProperty(this.gobbleIdentifier()),prefix:!0},(!s.node.argument||!t.includes(s.node.argument.type))&&this.throwError(`Unexpected ${s.node.operator}`))}),e.hooks.add("after-token",function(s){if(s.node){let a=this.code;i0.updateOperators.some(o=>o===a&&o===this.expr.charCodeAt(this.index+1))&&(t.includes(s.node.type)||this.throwError(`Unexpected ${s.node.operator}`),this.index+=2,s.node={type:"UpdateExpression",operator:a===j5?"++":"--",argument:s.node,prefix:!1})}}),e.hooks.add("after-expression",function(s){s.node&&r(s.node)});function r(n){i0.assignmentOperators.has(n.operator)?(n.type="AssignmentExpression",r(n.left),r(n.right)):n.operator||Object.values(n).forEach(s=>{s&&typeof s=="object"&&r(s)})}}};ac.plugins.register(Fst,i0);ac.addUnaryOp("typeof");ac.addLiteral("null",null);ac.addLiteral("undefined",void 0);var Ust=new Set(["constructor","__proto__","__defineGetter__","__defineSetter__"]),ir={evalAst(e,t){switch(e.type){case"BinaryExpression":case"LogicalExpression":return ir.evalBinaryExpression(e,t);case"Compound":return ir.evalCompound(e,t);case"ConditionalExpression":return ir.evalConditionalExpression(e,t);case"Identifier":return ir.evalIdentifier(e,t);case"Literal":return ir.evalLiteral(e,t);case"MemberExpression":return ir.evalMemberExpression(e,t);case"UnaryExpression":return ir.evalUnaryExpression(e,t);case"ArrayExpression":return ir.evalArrayExpression(e,t);case"CallExpression":return ir.evalCallExpression(e,t);case"AssignmentExpression":return ir.evalAssignmentExpression(e,t);default:throw SyntaxError("Unexpected expression",e)}},evalBinaryExpression(e,t){return{"||":(n,s)=>n||s(),"&&":(n,s)=>n&&s(),"|":(n,s)=>n|s(),"^":(n,s)=>n^s(),"&":(n,s)=>n&s(),"==":(n,s)=>n==s(),"!=":(n,s)=>n!=s(),"===":(n,s)=>n===s(),"!==":(n,s)=>n!==s(),"<":(n,s)=>n<s(),">":(n,s)=>n>s(),"<=":(n,s)=>n<=s(),">=":(n,s)=>n>=s(),"<<":(n,s)=>n<<s(),">>":(n,s)=>n>>s(),">>>":(n,s)=>n>>>s(),"+":(n,s)=>n+s(),"-":(n,s)=>n-s(),"*":(n,s)=>n*s(),"/":(n,s)=>n/s(),"%":(n,s)=>n%s()}[e.operator](ir.evalAst(e.left,t),()=>ir.evalAst(e.right,t))},evalCompound(e,t){let r;for(let n=0;n<e.body.length;n++){e.body[n].type==="Identifier"&&["var","let","const"].includes(e.body[n].name)&&e.body[n+1]&&e.body[n+1].type==="AssignmentExpression"&&(n+=1);let s=e.body[n];r=ir.evalAst(s,t)}return r},evalConditionalExpression(e,t){return ir.evalAst(e.test,t)?ir.evalAst(e.consequent,t):ir.evalAst(e.alternate,t)},evalIdentifier(e,t){if(Object.hasOwn(t,e.name))return t[e.name];throw ReferenceError(`${e.name} is not defined`)},evalLiteral(e){return e.value},evalMemberExpression(e,t){let r=String(e.computed?ir.evalAst(e.property):e.property.name),n=ir.evalAst(e.object,t);if(n==null)throw TypeError(`Cannot read properties of ${n} (reading '${r}')`);if(!Object.hasOwn(n,r)&&Ust.has(r))throw TypeError(`Cannot read properties of ${n} (reading '${r}')`);let s=n[r];return typeof s=="function"?s.bind(n):s},evalUnaryExpression(e,t){return{"-":n=>-ir.evalAst(n,t),"!":n=>!ir.evalAst(n,t),"~":n=>~ir.evalAst(n,t),"+":n=>+ir.evalAst(n,t),typeof:n=>typeof ir.evalAst(n,t)}[e.operator](e.argument)},evalArrayExpression(e,t){return e.elements.map(r=>ir.evalAst(r,t))},evalCallExpression(e,t){let r=e.arguments.map(s=>ir.evalAst(s,t));return ir.evalAst(e.callee,t)(...r)},evalAssignmentExpression(e,t){if(e.left.type!=="Identifier")throw SyntaxError("Invalid left-hand side in assignment");let r=e.left.name,n=ir.evalAst(e.right,t);return t[r]=n,t[r]}},G5=class{constructor(t){this.code=t,this.ast=ac(this.code)}runInNewContext(t){let r=Object.assign(Object.create(null),t);return ir.evalAst(this.ast,r)}};function Nu(e,t){return e=e.slice(),e.push(t),e}function V5(e,t){return t=t.slice(),t.unshift(e),t}var K5=class extends Error{constructor(t){super('JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)'),this.avoidNew=!0,this.value=t,this.name="NewError"}};function Ut(e,t,r,n,s){if(!(this instanceof Ut))try{return new Ut(e,t,r,n,s)}catch(o){if(!o.avoidNew)throw o;return o.value}typeof e=="string"&&(s=n,n=r,r=t,t=e,e=null);let a=e&&typeof e=="object";if(e=e||{},this.json=e.json||r,this.path=e.path||t,this.resultType=e.resultType||"value",this.flatten=e.flatten||!1,this.wrap=Object.hasOwn(e,"wrap")?e.wrap:!0,this.sandbox=e.sandbox||{},this.eval=e.eval===void 0?"safe":e.eval,this.ignoreEvalErrors=typeof e.ignoreEvalErrors>"u"?!1:e.ignoreEvalErrors,this.parent=e.parent||null,this.parentProperty=e.parentProperty||null,this.callback=e.callback||n||null,this.otherTypeCallback=e.otherTypeCallback||s||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},e.autostart!==!1){let o={path:a?e.path:t};a?"json"in e&&(o.json=e.json):o.json=r;let c=this.evaluate(o);if(!c||typeof c!="object")throw new K5(c);return c}}Ut.prototype.evaluate=function(e,t,r,n){let s=this.parent,a=this.parentProperty,{flatten:o,wrap:c}=this;if(this.currResultType=this.resultType,this.currEval=this.eval,this.currSandbox=this.sandbox,r=r||this.callback,this.currOtherTypeCallback=n||this.otherTypeCallback,t=t||this.json,e=e||this.path,e&&typeof e=="object"&&!Array.isArray(e)){if(!e.path&&e.path!=="")throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!Object.hasOwn(e,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');({json:t}=e),o=Object.hasOwn(e,"flatten")?e.flatten:o,this.currResultType=Object.hasOwn(e,"resultType")?e.resultType:this.currResultType,this.currSandbox=Object.hasOwn(e,"sandbox")?e.sandbox:this.currSandbox,c=Object.hasOwn(e,"wrap")?e.wrap:c,this.currEval=Object.hasOwn(e,"eval")?e.eval:this.currEval,r=Object.hasOwn(e,"callback")?e.callback:r,this.currOtherTypeCallback=Object.hasOwn(e,"otherTypeCallback")?e.otherTypeCallback:this.currOtherTypeCallback,s=Object.hasOwn(e,"parent")?e.parent:s,a=Object.hasOwn(e,"parentProperty")?e.parentProperty:a,e=e.path}if(s=s||null,a=a||null,Array.isArray(e)&&(e=Ut.toPathString(e)),!e&&e!==""||!t)return;let u=Ut.toPathArray(e);u[0]==="$"&&u.length>1&&u.shift(),this._hasParentSelector=null;let l=this._trace(u,t,["$"],s,a,r).filter(function(d){return d&&!d.isParentSelector});return l.length?!c&&l.length===1&&!l[0].hasArrExpr?this._getPreferredOutput(l[0]):l.reduce((d,f)=>{let p=this._getPreferredOutput(f);return o&&Array.isArray(p)?d=d.concat(p):d.push(p),d},[]):c?[]:void 0};Ut.prototype._getPreferredOutput=function(e){let t=this.currResultType;switch(t){case"all":{let r=Array.isArray(e.path)?e.path:Ut.toPathArray(e.path);return e.pointer=Ut.toPointer(r),e.path=typeof e.path=="string"?e.path:Ut.toPathString(e.path),e}case"value":case"parent":case"parentProperty":return e[t];case"path":return Ut.toPathString(e[t]);case"pointer":return Ut.toPointer(e.path);default:throw new TypeError("Unknown result type")}};Ut.prototype._handleCallback=function(e,t,r){if(t){let n=this._getPreferredOutput(e);e.path=typeof e.path=="string"?e.path:Ut.toPathString(e.path),t(n,r,e)}};Ut.prototype._trace=function(e,t,r,n,s,a,o,c){let u;if(!e.length)return u={path:r,value:t,parent:n,parentProperty:s,hasArrExpr:o},this._handleCallback(u,a,"value"),u;let l=e[0],d=e.slice(1),f=[];function p(m){Array.isArray(m)?m.forEach(h=>{f.push(h)}):f.push(m)}if((typeof l!="string"||c)&&t&&Object.hasOwn(t,l))p(this._trace(d,t[l],Nu(r,l),t,l,a,o));else if(l==="*")this._walk(t,m=>{p(this._trace(d,t[m],Nu(r,m),t,m,a,!0,!0))});else if(l==="..")p(this._trace(d,t,r,n,s,a,o)),this._walk(t,m=>{typeof t[m]=="object"&&p(this._trace(e.slice(),t[m],Nu(r,m),t,m,a,!0))});else{if(l==="^")return this._hasParentSelector=!0,{path:r.slice(0,-1),expr:d,isParentSelector:!0};if(l==="~")return u={path:Nu(r,l),value:s,parent:n,parentProperty:null},this._handleCallback(u,a,"property"),u;if(l==="$")p(this._trace(d,t,r,null,null,a,o));else if(/^(-?\d*):(-?\d*):?(\d*)$/u.test(l))p(this._slice(l,d,t,r,n,s,a));else if(l.indexOf("?(")===0){if(this.currEval===!1)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");let m=l.replace(/^\?\((.*?)\)$/u,"$1"),h=/@.?([^?]*)[['](\??\(.*?\))(?!.\)\])[\]']/gu.exec(m);h?this._walk(t,g=>{let A=[h[2]],y=h[1]?t[g][h[1]]:t[g];this._trace(A,y,r,n,s,a,!0).length>0&&p(this._trace(d,t[g],Nu(r,g),t,g,a,!0))}):this._walk(t,g=>{this._eval(m,t[g],g,r,n,s)&&p(this._trace(d,t[g],Nu(r,g),t,g,a,!0))})}else if(l[0]==="("){if(this.currEval===!1)throw new Error("Eval [(expr)] prevented in JSONPath expression.");p(this._trace(V5(this._eval(l,t,r.at(-1),r.slice(0,-1),n,s),d),t,r,n,s,a,o))}else if(l[0]==="@"){let m=!1,h=l.slice(1,-2);switch(h){case"scalar":(!t||!["object","function"].includes(typeof t))&&(m=!0);break;case"boolean":case"string":case"undefined":case"function":typeof t===h&&(m=!0);break;case"integer":Number.isFinite(t)&&!(t%1)&&(m=!0);break;case"number":Number.isFinite(t)&&(m=!0);break;case"nonFinite":typeof t=="number"&&!Number.isFinite(t)&&(m=!0);break;case"object":t&&typeof t===h&&(m=!0);break;case"array":Array.isArray(t)&&(m=!0);break;case"other":m=this.currOtherTypeCallback(t,r,n,s);break;case"null":t===null&&(m=!0);break;default:throw new TypeError("Unknown value type "+h)}if(m)return u={path:r,value:t,parent:n,parentProperty:s},this._handleCallback(u,a,"value"),u}else if(l[0]==="`"&&t&&Object.hasOwn(t,l.slice(1))){let m=l.slice(1);p(this._trace(d,t[m],Nu(r,m),t,m,a,o,!0))}else if(l.includes(",")){let m=l.split(",");for(let h of m)p(this._trace(V5(h,d),t,r,n,s,a,!0))}else!c&&t&&Object.hasOwn(t,l)&&p(this._trace(d,t[l],Nu(r,l),t,l,a,o,!0))}if(this._hasParentSelector)for(let m=0;m<f.length;m++){let h=f[m];if(h&&h.isParentSelector){let g=this._trace(h.expr,t,h.path,n,s,a,o);if(Array.isArray(g)){f[m]=g[0];let A=g.length;for(let y=1;y<A;y++)m++,f.splice(m,0,g[y])}else f[m]=g}}return f};Ut.prototype._walk=function(e,t){if(Array.isArray(e)){let r=e.length;for(let n=0;n<r;n++)t(n)}else e&&typeof e=="object"&&Object.keys(e).forEach(r=>{t(r)})};Ut.prototype._slice=function(e,t,r,n,s,a,o){if(!Array.isArray(r))return;let c=r.length,u=e.split(":"),l=u[2]&&Number.parseInt(u[2])||1,d=u[0]&&Number.parseInt(u[0])||0,f=u[1]&&Number.parseInt(u[1])||c;d=d<0?Math.max(0,d+c):Math.min(c,d),f=f<0?Math.max(0,f+c):Math.min(c,f);let p=[];for(let m=d;m<f;m+=l)this._trace(V5(m,t),r,n,s,a,o,!0).forEach(g=>{p.push(g)});return p};Ut.prototype._eval=function(e,t,r,n,s,a){this.currSandbox._$_parentProperty=a,this.currSandbox._$_parent=s,this.currSandbox._$_property=r,this.currSandbox._$_root=this.json,this.currSandbox._$_v=t;let o=e.includes("@path");o&&(this.currSandbox._$_path=Ut.toPathString(n.concat([r])));let c=this.currEval+"Script:"+e;if(!Ut.cache[c]){let u=e.replaceAll("@parentProperty","_$_parentProperty").replaceAll("@parent","_$_parent").replaceAll("@property","_$_property").replaceAll("@root","_$_root").replaceAll(/@([.\s)[])/gu,"_$_v$1");if(o&&(u=u.replaceAll("@path","_$_path")),this.currEval==="safe"||this.currEval===!0||this.currEval===void 0)Ut.cache[c]=new this.safeVm.Script(u);else if(this.currEval==="native")Ut.cache[c]=new this.vm.Script(u);else if(typeof this.currEval=="function"&&this.currEval.prototype&&Object.hasOwn(this.currEval.prototype,"runInNewContext")){let l=this.currEval;Ut.cache[c]=new l(u)}else if(typeof this.currEval=="function")Ut.cache[c]={runInNewContext:l=>this.currEval(u,l)};else throw new TypeError(`Unknown "eval" property "${this.currEval}"`)}try{return Ut.cache[c].runInNewContext(this.currSandbox)}catch(u){if(this.ignoreEvalErrors)return!1;throw new Error("jsonPath: "+u.message+": "+e)}};Ut.cache={};Ut.toPathString=function(e){let t=e,r=t.length,n="$";for(let s=1;s<r;s++)/^(~|\^|@.*?\(\))$/u.test(t[s])||(n+=/^[0-9*]+$/u.test(t[s])?"["+t[s]+"]":"['"+t[s]+"']");return n};Ut.toPointer=function(e){let t=e,r=t.length,n="";for(let s=1;s<r;s++)/^(~|\^|@.*?\(\))$/u.test(t[s])||(n+="/"+t[s].toString().replaceAll("~","~0").replaceAll("/","~1"));return n};Ut.toPathArray=function(e){let{cache:t}=Ut;if(t[e])return t[e].concat();let r=[],s=e.replaceAll(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/gu,";$&;").replaceAll(/[['](\??\(.*?\))[\]'](?!.\])/gu,function(a,o){return"[#"+(r.push(o)-1)+"]"}).replaceAll(/\[['"]([^'\]]*)['"]\]/gu,function(a,o){return"['"+o.replaceAll(".","%@%").replaceAll("~","%%@@%%")+"']"}).replaceAll("~",";~;").replaceAll(/['"]?\.['"]?(?![^[]*\])|\[['"]?/gu,";").replaceAll("%@%",".").replaceAll("%%@@%%","~").replaceAll(/(?:;)?(\^+)(?:;)?/gu,function(a,o){return";"+o.split("").join(";")+";"}).replaceAll(/;;;|;;/gu,";..;").replaceAll(/;$|'?\]|'$/gu,"").split(";").map(function(a){let o=a.match(/#(\d+)/u);return!o||!o[1]?a:r[o[1]]});return t[e]=s,t[e].concat()};Ut.prototype.safeVm={Script:G5};Ut.prototype.vm=qpe.default;var jpe=(e,t)=>(e=e||"",t=t||"",resolve(e,t)),Hpe={query(e,t){return Ut.JSONPath({path:t,json:e})}},Y5=!0,zpe=":eq|:lt|:gt|:first|:last|:not|:even|:odd|:has|:contains|:matches|:empty|^body$|^#",qst="(url|src|href|-original|-src|-play|-url|style)$|^(data-|url-|src-)",jst="^(ftp|magnet|thunder|ws):",W5=class{constructor(t=""){this.MY_URL=t,this.pdfh_html="",this.pdfa_html="",this.pdfh_doc=null,this.pdfa_doc=null}test(t,r){return!!new RegExp(t,"mi").exec(r)}contains(t,r){return t.indexOf(r)!==-1}parseHikerToJq(t,r=!1){if(this.contains(t,"&&")){let n=t.split("&&"),s=[];for(let a=0;a<n.length;a++){let o=n[a].split(" "),c=o[o.length-1];this.test(zpe,c)||!r&&a>=n.length-1?s.push(n[a]):s.push(`${n[a]}:eq(0)`)}t=s.join(" ")}else{let n=t.split(" "),s=n[n.length-1];!this.test(zpe,s)&&r&&(t=`${t}:eq(0)`)}return t}getParseInfo(t){let r=[],n=0,s=t;if(this.contains(t,":eq")){s=t.split(":eq")[0];let a=t.split(":eq")[1];this.contains(s,"--")?(r=s.split("--").slice(1),s=s.split("--")[0]):this.contains(a,"--")&&(r=a.split("--").slice(1),a=a.split("--")[0]);try{n=parseInt(a.split("(")[1].split(")")[0])}catch{}}else this.contains(t,"--")&&(s=t.split("--")[0],r=t.split("--").slice(1));return{nparse_rule:s,nparse_index:n,excludes:r}}reorderAdjacentLtAndGt(t){let r=/:gt\((\d+)\):lt\((\d+)\)/,n;for(;(n=r.exec(t))!==null;){let s=`:lt(${n[2]}):gt(${n[1]})`;t=t.substring(0,n.index)+s+t.substring(n.index+n[0].length),r.lastIndex=n.index}return t}parseOneRule(t,r,n){let{nparse_rule:s,nparse_index:a,excludes:o}=this.getParseInfo(r);if(s=this.reorderAdjacentLtAndGt(s),n?n=n.find(s):n=t(s),this.contains(r,":eq")&&(n=n.eq(a)),o.length>0&&n){n=n.clone();for(let c of o)n.find(c).remove()}return n}parseText(t){return t=t.replace(/[\s]+/gm,`
`),t=t.replace(/\n+/g,`
`).replace(/^\s+/,""),t=t.replace(/\n/g," "),t}pdfa(t,r){if(!t||!r)return[];r=this.parseHikerToJq(r);let n=Je(t);Y5&&this.pdfa_html!==t&&(this.pdfa_html=t,this.pdfa_doc=n);let s=r.split(" "),a=null;for(let c of s)if(a=this.parseOneRule(n,c,a),!a)return[];return(a?.toArray()??[]).map(c=>{let u=`${n(c)}`;return u||""})}pdfl(t,r,n,s,a){if(!t||!r)return[];r=this.parseHikerToJq(r,!1);let o=[],c=Je(t),u=r.split(" "),l=null;for(let d of u)if(l=this.parseOneRule(c,d,l),!l)return[];return l.each((d,f)=>{o.push(`${c(f)}`)}),o}pdfh(t,r,n=""){if(!t||!r)return"";let s=Je(t);if(typeof Y5<"u"&&Y5&&this.pdfa_html!==t&&(this.pdfa_html=t,this.pdfa_doc=s),r==="body&&Text"||r==="Text")return this.parseText(s.text());if(r==="body&&Html"||r==="Html")return s.html();let a;if(this.contains(r,"&&")){let u=r.split("&&");a=u.pop(),r=u.join("&&")}r=this.parseHikerToJq(r,!0);let o=r.split(" "),c=null;for(let u of o)if(c=this.parseOneRule(s,u,c),!c)return"";if(a)switch(a){case"Text":c=c?this.parseText(c.text()):"";break;case"Html":c=c?c.html():"";break;default:let u=c.clone(),l=a.split("||");for(let d of l){if(c=u?.attr(d)||"",this.contains(d.toLowerCase(),"style")&&this.contains(c,"url("))try{c=c.match(/url\((.*?)\)/)[1],c=c.replace(/^['"]|['"]$/g,"")}catch{}if(c&&n&&this.test(qst,d)&&!this.test(jst,c)&&(c=c.includes("http")?c.slice(c.indexOf("http")):jpe(n,c)),c)break}}else c=`${c}`;return c}pd(t,r,n=""){return n||(n=this.MY_URL),this.pdfh(t,r,n)}pq(t){return Je(t)}pjfh(t,r,n=!1){if(!t||!r)return"";try{t=typeof t=="string"?JSON.parse(t):t}catch{return console.log("\u5B57\u7B26\u4E32\u8F6C JSON \u5931\u8D25"),""}r.startsWith("$.")||(r="$."+r);let s="",a=r.split("||");for(let o of a){let c=Hpe.query(t,o);if(s=Array.isArray(c)?c[0]||"":c||"",n&&s&&(s=jpe(this.MY_URL,s)),s)break}return s}pj(t,r){return this.pjfh(t,r,!0)}pjfa(t,r){if(!t||!r)return[];try{t=typeof t=="string"?JSON.parse(t):t}catch{return[]}r.startsWith("$.")||(r="$."+r);let n=Hpe.query(t,r);return Array.isArray(n)&&Array.isArray(n[0])&&n.length===1?n[0]:n||[]}},K2=W5;var Hst=["https://www.leijing1.com"],J5=async e=>(await e.db.getObjectDefault("/leijing",{}))?.urls||e.config.leijing?.urls||Hst,zst=async(e,t)=>{await e.db.push("/leijing/urls",t)},Gst=async e=>{await e.db.delete("/leijing/urls")};async function X5(e){e.get("/urls",async(t,r)=>{r.send({code:0,data:await J5(t.server)})}),e.put("/urls",async(t,r)=>{await zst(t.server,t.body),r.send({code:0})}),e.delete("/urls",async(t,r)=>{await Gst(t.server),r.send({code:0})})}var Gpe={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.131 Safari/537.36","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8"},Z5,Y2=e=>{if(!Z5){let t=Date.now();Z5=new Promise(async r=>{let n=await J5(e),s=await Wr(n,Gpe);console.log("\u96F7\u9CB8\u57DF\u540D",s,`${Date.now()-t}ms`),r(s)})}return Z5};async function e$(e){return(await Oe.get(e,{headers:Gpe})).data}var t$=e=>new K2().pq(e);async function Vst(e,t){return{class:[{type_id:"42204681950354",type_name:"\u7535\u5F71"},{type_id:"42204684250355",type_name:"\u5267\u96C6"},{type_id:"42204792950357",type_name:"\u52A8\u6F2B"},{type_id:"42212287587456",type_name:"\u539F\u76D8"},{type_id:"42204697150356",type_name:"\u7EAA\u5F55"},{type_id:"42210356650363",type_name:"\u7EFC\u827A"}],filters:{}}}async function Kst(e,t){let r=await Y2(e.server),n=e.body.id,a=e.body.page||1;a==0&&(a=1);let o=await e$(`${r}/?tagId=${n}&page=${a}`),c=t$(o),u=[];c(".topicList .topicItem").each((p,m)=>{let h=c(m).find("h2 a:first")[0];u.push({vod_name:h.children[0].data,vod_id:h.attribs.href,vod_pic:e.server.address().url+e.server.prefix+"/icon"})});let l=c(".topicPage .pg")[0],d=c(l).find(".count")[0].children[0].data.match(/\d+/)[0],f=c(l).find(".last")[0].attribs.title.match(/\d+/)[0];return{page:parseInt(a),pagecount:f?parseInt(f):1,limit:u.length,total:d?parseInt(d):u.length,list:u}}async function Yst(e,t){let r=await Y2(e.server),n=await e$(`${r}/${e.body.id}`),s=t$(n),a={vod_name:s(".title")[0].children[0].data.trim(),vod_id:`${e.body.id}`,vod_content:s("div.topicContent p:nth-child(1)").text().replace(/\s+/g,"")},o=s(".topicContent").html(),c=o.match(/<a\s+(?:[^>]*?\s+)?href=["'](https?:\/\/cloud\.189\.cn\/[^"']*)["'][^>]*>/gi);if(!c||c.length===0?(c=o.match(/<span\s+style="color:\s*#0070C0;\s*">https?:\/\/cloud\.189\.cn\/[^<]*<\/span>/gi),c&&c.length>0?c=c[0].match(/https?:\/\/cloud\.189\.cn\/[^<]*/)[0]:c=o.match(/https?:\/\/cloud\.189\.cn\/[^<]*/)[0]):c=c[0].match(/https?:\/\/cloud\.189\.cn\/[^"']*/)[0],jg(c)){let u=await Vt(c,e);u&&(a.vod_play_from=u.froms,a.vod_play_url=u.urls)}return{list:[a]}}async function Wst(e,t){let r=await Y2(e.server),n=e.body.page||1,s=e.body.wd,a=await e$(`${r}/search?keyword=${encodeURIComponent(decodeURIComponent(s))}&page=${n}`),o=t$(a),c=[];return o(".topicList .topicItem").each((u,l)=>{let d=o(l).find(".tag")[0];if(["\u7535\u5F71","\u5267\u96C6","\u52A8\u6F2B","\u5F71\u89C6\u539F\u76D8","\u7EFC\u827A"].includes(o(d).html())){let f=o(l).find(".title a:first")[0];c.push({vod_name:o(f).html().replace(/<[^>]*>/g,"").replace(/\s+/g,""),vod_id:f.attribs.href,vod_remarks:"",vod_pic:`${r}/favicon.ico`})}}),{page:n,pagecount:1,list:c}}async function Jst(e,t){try{let n=Buffer.from("iVBORw0KGgoAAAANSUhEUgAAAEAAAABABAMAAABYR2ztAAAALVBMVEVHcEw9r+cipOQqp+VItOhCsedives7ruccouNVueovquW74/eV1PLW7vpzxu6kNLMaAAAACHRSTlMAK9qm1B0KZtVpWLIAAAJCSURBVEjHxZUxj9MwFMdzQzsD1cFMGegKJ3QnPgITEirz3cAxw0l8gJbBl4E5TqssDCShyh45Ye+16X5y3JmkqT8Dz0lo4zSpN/iryZD30/s/1/Z7mvbv1B0+rGh4WY9/eHLWr+js03s5fnXT15G9+yG7f/64Gu/cDFBNo/O3FaB3EAfiRcXgJWrQs51Jt4catUtxctEMjB+UwLtBMzB6VTp8Ri16fnnUYefxcdAGjL4UJaBWFUU8ageeHq8RoR+iys7rdmAs9qPzph34rgK+inWeCEB3C4mv+1cFcJaFbGDzV2bIgEcIYfBAzKOmi/TotwToDsZTijGGzD/pcu46ke/YFcCD7AsmPAx9G4T+hDJK7irAjJYAMzyKo3QqWAlYW9yKLZ5ExoRmbGWCm1m1mPkbwuMpmQPAQsYwCYhfLdKblxkywyFTP8J0tVhLy3SzIM8AC8yB2J7dSwCyVnhlLVNYcRhSdgjoUFUCjw0ZNr/Agm9kCy/M/0lq5BYbDIVKRaJvMc8o56EAFkFo4mhuyhlibNHEIgAsYEvMZJukcgZGQrBgdr4t2Iu32dqWLZIpZACLW2xlq8n9lkM9EgAWWFjMYJuC6G6bRmnNglCwMGBjOXaIFaaTtJZBSBTpQh3JjBquVMNtkp9Bbpen1Uls+cihIuI2nepjF6e4FxeKm3XsbuYdpKu63VpP1R+UHUbZo5RdrrVJ/e2T6k6r7NXaVWOK8X6kdFXzQj1xxMyS47WZpZ56mnY9PN2PzdPDufk/9QdaMC7B2rkgYwAAAABJRU5ErkJggg==","base64");return t.header("Content-Type","image/png"),t.header("Content-Length",n.length),t.send(n)}catch{t.code(500).send({error:"Failed to load image"})}}var Vpe={meta:{key:"leijing",name:"\u96F7\u9CB8",type:3},api:async e=>{e.post("/init",nr),e.post("/home",Vst),e.post("/category",Kst),e.post("/detail",Yst),e.post("/play",Yt),e.post("/search",Wst),e.get("/icon",Jst),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",Kt)},check:Y2};async function Xst(e){try{return await Ie.request(typeof e=="string"?e:{url:e.url,method:e.method||"GET",headers:e.headers||{"User-Agent":fD},data:e.data||"",responseType:e.responseType||""})}catch(t){return t.response}}async function Kpe(e){return(await Oe.get(e,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.131 Safari/537.36"}})).data}var r$="https://www.91panta.cn",n$=e=>new K2().pq(e),Ype=[{type_id:"39765285016165",type_name:"\u7535\u5F71"},{type_id:"39765284616164",type_name:"\u7535\u89C6\u5267"},{type_id:"39724839640293",type_name:"\u7EFC\u827A"},{type_id:"39724838540291",type_name:"\u52A8\u6F2B"},{type_id:"44732560408431",type_name:"\u77ED\u5267"},{type_id:"39956600861068",type_name:"\u7EAA\u5F55\u7247"}],Zst=Ype.map(e=>e.type_name.trim());async function eit(e,t){return{class:Ype,filters:{}}}async function tit(e,t){let r=e.body.id,s=e.body.page||1;s==0&&(s=1);let a=await Kpe(`${r$}/?tagId=${r}&page=${s}`),o=n$(a),c=[];o(".topicList .topicItem").each((f,p)=>{let m=o(p).find("h2 a:first")[0];if(!m||!m.children||!m.children[0]||!m.attribs)return;let h=m.children[0].data;if(!h)return;let g=o(p).find(".tm-m-photos-thumb li:first")[0]?.attribs["data-src"];c.push({vod_name:h.split(" ")[0],vod_id:m.attribs.href,vod_pic:g?`https://www.91panta.cn/${g}`:"https://www.91panta.cn/favicon.ico"})});let u=o(".topicPage .pg")[0],l=c.length,d=1;if(u){let f=o(u).find(".count")[0];if(f&&f.children&&f.children[0]){let m=f.children[0].data.match(/\d+/);m&&(l=m[0])}let p=o(u).find(".last")[0];if(p&&p.attribs&&p.attribs.title){let m=p.attribs.title.match(/\d+/);m&&(d=m[0])}}return{page:parseInt(s),pagecount:d?parseInt(d):1,limit:c.length,total:l?parseInt(l):c.length,list:c}}async function rit(e,t){let r=await Kpe(`${r$}/${e.body.id}`),n=n$(r),s=n(".title")[0];if(!s||!s.children||!s.children[0])return{list:[]};let a={vod_name:s.children[0].data.trim(),vod_id:`/${e.body.id}`,vod_content:n("div.topicContent p:nth-child(1)").text().replace(/\s+/g,"")},o=n(".topicContent").html(),c=o.match(/<a\s+(?:[^>]*?\s+)?href=["'](https:\/\/(?:caiyun|yun)\.139\.com\/[^"']*)["'][^>]*>/gi);if(!c||c.length===0)if(c=o.match(/<span\s+style="color:\s*#0070C0;\s*">https:\/\/(?:caiyun|yun)\.139\.com\/[^<]*<\/span>/gi),c&&c.length>0){let u=c[0].match(/https:\/\/(?:caiyun|yun)\.139\.com\/[^<]*/);c=u?u[0]:null}else{let u=o.match(/https:\/\/(?:caiyun|yun)\.139\.com\/[^<\s]*/);c=u?u[0]:null}else{let u=c[0].match(/https:\/\/(?:caiyun|yun)\.139\.com\/[^"']*/);c=u?u[0]:null}if(c){let u=await Vt(c,e);u&&u.froms&&u.urls&&(a.vod_play_from=u.froms,a.vod_play_url=u.urls)}return{list:[a]}}async function nit(e,t){let r=e.body.page||1,n=e.body.wd,s=(await Xst(`${r$}/search?keyword=${encodeURIComponent(decodeURIComponent(n))}&page=${r}`)).data,a=n$(s),o=[];return a(".topicList .topicItem").each((c,u)=>{let l=a(u).find(".tag")[0],d=l?a(l).html().trim():null;if(l&&Zst.includes(d)){let f=a(u).find(".title a:first")[0];if(!f||!f.attribs)return;let p=a(u).find(".tm-m-photos-thumb li:first")[0]?.attribs["data-src"],m=a(f).html().replace(/<[^>]*>/g,"").replace(/\s+/g,"");o.push({vod_name:m,vod_id:f.attribs.href,vod_remarks:"",vod_pic:p?`https://www.91panta.cn/${p}`:"https://www.91panta.cn/favicon.ico"})}}),{page:r,pagecount:1,list:o}}var Wpe={meta:{key:"panta",name:"\u76D8Ta",type:3},api:async e=>{e.post("/init",nr),e.post("/home",eit),e.post("/category",tit),e.post("/detail",rit),e.post("/play",Yt),e.post("/search",nit),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",Kt)}};var sit=["https://wogg.xxooo.cf","https://wogg.333232.xyz","https://www.wogg.net"],s$=async e=>(await e.db.getObjectDefault("/wanou",{}))?.urls||e.config.wanou?.urls||sit,iit=async(e,t)=>{await e.db.push("/wanou/urls",t)},ait=async e=>{await e.db.delete("/wanou/urls")};async function i$(e){e.get("/urls",async(t,r)=>{r.send({code:0,data:await s$(t.server)})}),e.put("/urls",async(t,r)=>{await iit(t.server,t.body),r.send({code:0})}),e.delete("/urls",async(t,r)=>{await ait(t.server),r.send({code:0})})}var a$,J2=e=>{if(!a$){let t=Date.now();a$=new Promise(async r=>{let n=await s$(e),s=await Wr(n);console.log("\u73A9\u5076\u57DF\u540D",s,`${Date.now()-t}ms`),r(s)})}return a$};async function W2(e){return(await Oe.get(e,{headers:{"User-Agent":gr}})).data}async function oit(e,t){return await nr(e,t),{}}async function cit(e,t){let r=[{type_id:"1",type_name:"\u7535\u5F71"},{type_id:"2",type_name:"\u5267\u96C6"},{type_id:"3",type_name:"\u52A8\u6F2B"},{type_id:"44",type_name:"\u81FB\u5F69"},{type_id:"4",type_name:"\u7EFC\u827A"},{type_id:"46",type_name:"\u7EAA\u5F55"},{type_id:"6",type_name:"\u77ED\u5267"},{type_id:"5",type_name:"\u97F3\u4E50"}],n=[{n:"\u5168\u90E8",v:""},{n:"2026",v:"2026"},{n:"2025",v:"2025"},{n:"2024",v:"2024"},{n:"2023",v:"2023"},{n:"2022",v:"2022"},{n:"2021",v:"2021"},{n:"2020",v:"2020"},{n:"2019",v:"2019"},{n:"2018",v:"2018"},{n:"2017",v:"2017"},{n:"2016",v:"2016"},{n:"2015",v:"2015"},{n:"2014",v:"2014"},{n:"2013",v:"2013"},{n:"2012",v:"2012"},{n:"2011",v:"2011"},{n:"2010",v:"2010"}],s=[{n:"\u65F6\u95F4",v:"time"},{n:"\u4EBA\u6C14",v:"hits"},{n:"\u8BC4\u5206",v:"score"}],a=[{n:"\u5168\u90E8",v:""},{n:"\u559C\u5267",v:"\u559C\u5267"},{n:"\u7231\u60C5",v:"\u7231\u60C5"},{n:"\u6050\u6016",v:"\u6050\u6016"},{n:"\u52A8\u4F5C",v:"\u52A8\u4F5C"},{n:"\u79D1\u5E7B",v:"\u79D1\u5E7B"},{n:"\u5267\u60C5",v:"\u5267\u60C5"},{n:"\u6218\u4E89",v:"\u6218\u4E89"},{n:"\u8B66\u532A",v:"\u8B66\u532A"},{n:"\u72AF\u7F6A",v:"\u72AF\u7F6A"},{n:"\u53E4\u88C5",v:"\u53E4\u88C5"},{n:"\u5947\u5E7B",v:"\u5947\u5E7B"},{n:"\u6B66\u4FA0",v:"\u6B66\u4FA0"},{n:"\u5192\u9669",v:"\u5192\u9669"},{n:"\u67AA\u6218",v:"\u67AA\u6218"},{n:"\u60AC\u7591",v:"\u60AC\u7591"},{n:"\u60CA\u609A",v:"\u60CA\u609A"},{n:"\u7ECF\u5178",v:"\u7ECF\u5178"},{n:"\u9752\u6625",v:"\u9752\u6625"},{n:"\u6587\u827A",v:"\u6587\u827A"},{n:"\u5FAE\u7535\u5F71",v:"\u5FAE\u7535\u5F71"},{n:"\u5386\u53F2",v:"\u5386\u53F2"}],o=[{n:"\u5168\u90E8",v:""},{n:"\u4E2D\u56FD\u5927\u9646",v:"\u4E2D\u56FD\u5927\u9646"},{n:"\u4E2D\u56FD\u9999\u6E2F",v:"\u4E2D\u56FD\u9999\u6E2F"},{n:"\u4E2D\u56FD\u53F0\u6E7E",v:"\u4E2D\u56FD\u53F0\u6E7E"},{n:"\u7F8E\u56FD",v:"\u7F8E\u56FD"},{n:"\u897F\u73ED\u7259",v:"\u897F\u73ED\u7259"},{n:"\u6CD5\u56FD",v:"\u6CD5\u56FD"},{n:"\u82F1\u56FD",v:"\u82F1\u56FD"},{n:"\u65E5\u672C",v:"\u65E5\u672C"},{n:"\u97E9\u56FD",v:"\u97E9\u56FD"},{n:"\u6CF0\u56FD",v:"\u6CF0\u56FD"},{n:"\u5FB7\u56FD",v:"\u5FB7\u56FD"},{n:"\u5370\u5EA6",v:"\u5370\u5EA6"},{n:"\u610F\u5927\u5229",v:"\u610F\u5927\u5229"},{n:"\u52A0\u62FF\u5927",v:"\u52A0\u62FF\u5927"},{n:"\u5176\u4ED6",v:"\u5176\u4ED6"}],c={};return c[1]=[{key:"class",name:"",init:"",value:a},{key:"area",name:"",init:"",value:o},{key:"year",name:"",init:"",value:n},{key:"by",name:"",init:"time",value:s}],c[2]=[{key:"class",name:"",init:"",value:a},{key:"area",name:"",init:"",value:o},{key:"year",name:"",init:"",value:n},{key:"by",name:"",init:"time",value:s}],c[3]=[{key:"class",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u60C5\u611F",v:"\u60C5\u611F"},{n:"\u79D1\u5E7B",v:"\u79D1\u5E7B"},{n:"\u70ED\u8840",v:"\u70ED\u8840"},{n:"\u63A8\u7406",v:"\u63A8\u7406"},{n:"\u641E\u7B11",v:"\u641E\u7B11"},{n:"\u5192\u9669",v:"\u5192\u9669"},{n:"\u841D\u8389",v:"\u841D\u8389"},{n:"\u6821\u56ED",v:"\u6821\u56ED"},{n:"\u52A8\u4F5C",v:"\u52A8\u4F5C"},{n:"\u673A\u6218",v:"\u673A\u6218"},{n:"\u8FD0\u52A8",v:"\u8FD0\u52A8"},{n:"\u6218\u4E89",v:"\u6218\u4E89"},{n:"\u5C11\u5E74",v:"\u5C11\u5E74"},{n:"\u5C11\u5973",v:"\u5C11\u5973"},{n:"\u793E\u4F1A",v:"\u793E\u4F1A"},{n:"\u539F\u521B",v:"\u539F\u521B"},{n:"\u4EB2\u5B50",v:"\u4EB2\u5B50"},{n:"\u76CA\u667A",v:"\u76CA\u667A"},{n:"\u52B1\u5FD7",v:"\u52B1\u5FD7"},{n:"\u5176\u4ED6",v:"\u5176\u4ED6"}]},{key:"area",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u4E2D\u56FD\u5927\u9646",v:"\u4E2D\u56FD\u5927\u9646"},{n:"\u65E5\u672C",v:"\u65E5\u672C"},{n:"\u7F8E\u56FD",v:"\u7F8E\u56FD"},{n:"\u82F1\u56FD",v:"\u82F1\u56FD"},{n:"\u897F\u73ED\u7259",v:"\u897F\u73ED\u7259"},{n:"\u6CD5\u56FD",v:"\u6CD5\u56FD"},{n:"\u5176\u4ED6",v:"\u5176\u4ED6"}]},{key:"year",name:"",init:"",value:n},{key:"by",name:"",init:"time",value:s}],c[44]=[{key:"class",name:"",init:"",value:a},{key:"area",name:"",init:"",value:o},{key:"year",name:"",init:"",value:n},{key:"by",name:"",init:"time",value:s}],c[4]=[{key:"area",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u4E2D\u56FD\u5927\u9646",v:"\u4E2D\u56FD\u5927\u9646"},{n:"\u4E2D\u56FD\u53F0\u6E7E",v:"\u4E2D\u56FD\u53F0\u6E7E"},{n:"\u7F8E\u56FD",v:"\u7F8E\u56FD"},{n:"\u6CD5\u56FD",v:"\u6CD5\u56FD"},{n:"\u82F1\u56FD",v:"\u82F1\u56FD"},{n:"\u65E5\u672C",v:"\u65E5\u672C"},{n:"\u97E9\u56FD",v:"\u97E9\u56FD"}]},{key:"year",name:"",init:"",value:n},{key:"by",name:"",init:"time",value:s}],c[46]=[{key:"year",name:"",init:"",value:n},{key:"by",name:"",init:"time",value:s}],c[6]=[{key:"class",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u7537\u9891",v:"\u7537\u9891"},{n:"\u5973\u9891",v:"\u5973\u9891"},{n:"\u90FD\u5E02",v:"\u90FD\u5E02"},{n:"\u751C\u5BA0",v:"\u751C\u5BA0"},{n:"\u5E74\u4EE3",v:"\u5E74\u4EE3"},{n:"\u7A7F\u8D8A",v:"\u7A7F\u8D8A"},{n:"\u53E4\u88C5",v:"\u53E4\u88C5"},{n:"\u4EB2\u60C5",v:"\u4EB2\u60C5"},{n:"\u5947\u5E7B",v:"\u5947\u5E7B"},{n:"\u840C\u5B9D",v:"\u840C\u5B9D"},{n:"\u91CD\u751F",v:"\u91CD\u751F"},{n:"\u5192\u9669",v:"\u5192\u9669"},{n:"\u9006\u88AD",v:"\u9006\u88AD"},{n:"\u8650\u604B",v:"\u8650\u604B"},{n:"\u9274\u5B9D",v:"\u9274\u5B9D"},{n:"\u590D\u4EC7",v:"\u590D\u4EC7"},{n:"\u4FEE\u4ED9",v:"\u4FEE\u4ED9"}]},{key:"year",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"2026",v:"2026"},{n:"2025",v:"2025"},{n:"2024",v:"2024"},{n:"2023",v:"2023"},{n:"2022",v:"2022"},{n:"2021",v:"2021"}]},{key:"by",name:"",init:"time",value:s}],c[5]=[{key:"by",name:"",init:"time",value:s}],{class:r,filters:c}}function o$(e){return e.startsWith("/img.php?url=")?e.substr(13):e}function uit(e){let t=Array.isArray(e)?e:e.split("-");for(let r=1;r<t.length;r++)if(t[r]!="")return r;return-1}async function lit(e,t){let r=await J2(e.server),n=e.body.id,s=e.body.page,a=e.body.filters||{},o=s||1;if(o==0&&(o=1),n.startsWith("s-")){let c=["","","","","","","","","","",o,"","",""],u=n.split("-");c[parseInt(u[1])]=u[2];let l=await W2(`${r}/index.php/vodsearch/${c.join("-")}.html`),d=Je(l),f=d("div.module-items > div.module-search-item").map((p,m)=>{let h=d(m).find("div.video-info-header h3 a")[0];return{vod_id:h.attribs.href.match(/voddetail\/(.*).html/)[1],vod_name:h.attribs.title,vod_pic:o$(d(m).find("div.module-item-pic img")[0].attribs["data-src"]),vod_remarks:d(m).find("a.video-serial").text()}}).get();return{page:o,pagecount:f.length<10?o:o+1,list:f}}else{let c=[n,"","","","","","","",o,"","",""];a.area&&(c[1]=a.area),a.by&&(c[2]=a.by),a.class&&(c[3]=a.class),a.year&&(c[11]=a.year);let u=`${r}/index.php/vodshow/${c.join("-")}.html`,l=await W2(u),d=Je(l),f=d("div.module-items > div.module-item").map((p,m)=>{let h=d(m).find("div.video-name a")[0];return{vod_id:h.attribs.href.match(/voddetail\/(.*).html/)[1],vod_name:h.attribs.title,vod_pic:o$(d(m).find("div.module-item-pic img")[0].attribs["data-src"]),vod_remarks:d(m).find("div.module-item-text").text()}}).get();return{page:o,pagecount:f.length<70?o:o+1,list:f}}}async function dit(e,t){let r=await J2(e.server),n=Array.isArray(e.body.id)?e.body.id:[e.body.id],s=[];for(let a of n){let o=await W2(`${r}/index.php/voddetail/${a}.html`),c=Je(o),u=[],l=[],d="";c("div.video-info-items a[href*=/vodsearch/]").each((h,g)=>{let A=g.attribs.href.match(/vodsearch\/(.*).html/)[1].split("-"),y=c(g).text().trim(),v=uit(A);if(v===5){let b={id:"s-5-"+decodeURIComponent(A[5].toString()),name:y};u.push(`[a=cr:${JSON.stringify(b)}/]${y}[/a]`)}else if(v===1){let b={id:"s-1-"+decodeURIComponent(A[1].toString()),name:y};l.push(`[a=cr:${JSON.stringify(b)}/]${y}[/a]`)}else v===13&&(d=y)});let f={vod_name:c(".page-title")[0].children[0].data,vod_year:d,vod_actor:l.join(", "),vod_director:u.join(", "),vod_content:c("div.video-info-content p[style*=none]")[0].children[0].data.trim()},p=c("div.module-row-info p").map((h,g)=>g.children[0].data).get(),m=await Vt(p,e);m&&(f.vod_play_from=m.froms,f.vod_play_url=m.urls),s.push(f)}return{list:s}}async function fit(e,t){let r=await J2(e.server),n=e.body.page,s=e.body.wd,a=n||1;a==0&&(a=1);let o=await W2(`${r}/index.php/vodsearch/-------------.html?wd=${s}`),c=Je(o),u=c("div.module-items > div.module-search-item").map((l,d)=>{let f=c(d).find("div.video-info-header h3 a")[0];return{vod_id:f.attribs.href.match(/voddetail\/(.*).html/)[1],vod_name:f.attribs.title,vod_pic:o$(c(d).find("div.module-item-pic img")[0].attribs["data-src"]),vod_remarks:c(d).find("a.video-serial").text()}}).get();return{page:a,pagecount:u.length<10?a:a+1,list:u}}async function pit(e,t){try{let r=function(o){o.statusCode&&o.statusCode==500&&console.error(o)},n=e.server.prefix,s={},a=await e.server.inject().post(`${n}/init`);if(s.init=a.json(),r(a.json()),a=await e.server.inject().post(`${n}/home`),s.home=a.json(),r(a.json()),s.home.class.length>0&&(a=await e.server.inject().post(`${n}/category`).payload({id:s.home.class[0].type_id,page:1,filter:!0,filters:{}}),s.category=a.json(),r(a.json()),s.category.list.length>0&&(a=await e.server.inject().post(`${n}/detail`).payload({id:s.category.list[0].vod_id}),s.detail=a.json(),r(a.json()),s.detail.list&&s.detail.list.length>0))){s.play=[];for(let o of s.detail.list){let c=o.vod_play_from.split("$$$"),u=o.vod_play_url.split("$$$");for(let l=0;l<c.length;l++){let d=c[l],f=u[l].split("#");for(let p=0;p<f.length&&p<2;p++)a=await e.server.inject().post(`${n}/play`).payload({flag:d,id:f[p].split("$")[1]}),s.play.push(a.json())}}}return a=await e.server.inject().post(`${n}/search`).payload({wd:"\u7231",page:1}),s.search=a.json(),r(a.json()),s}catch(r){return console.error(r),t.code(500),{err:r.message,tip:"check debug console output"}}}var Jpe={meta:{key:"wanou",name:"\u73A9\u5076",type:3},api:async e=>{e.post("/init",oit),e.post("/home",cit),e.post("/category",lit),e.post("/detail",dit),e.post("/play",Yt),e.post("/search",fit),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",Kt),e.get("/test",pit)},check:J2};var hit=["http://www.miqk.cc","https://mihdr.top","https://www.mihdr.top","http://xiaomi666.fun"],c$=async e=>(await e.db.getObjectDefault("/zhizhen",{}))?.urls||e.config.zhizhen?.urls||hit,mit=async(e,t)=>{await e.db.push("/zhizhen/urls",t)},git=async e=>{await e.db.delete("/zhizhen/urls")};async function u$(e){e.get("/urls",async(t,r)=>{r.send({code:0,data:await c$(t.server)})}),e.put("/urls",async(t,r)=>{await mit(t.server,t.body),r.send({code:0})}),e.delete("/urls",async(t,r)=>{await git(t.server),r.send({code:0})})}var l$,X2=e=>{if(!l$){let t=Date.now();l$=new Promise(async r=>{let n=await c$(e),s=await Wr(n);console.log("\u81F3\u81FB\u57DF\u540D",s,`${Date.now()-t}ms`),r(s)})}return l$};async function d$(e){return(await Oe.get(e,{headers:{"User-Agent":gr}})).data}async function Ait(e,t){return{class:[{type_id:"26",type_name:"\u4E25\u9009"},{type_id:"1",type_name:"\u7535\u5F71"},{type_id:"2",type_name:"\u5267\u96C6"},{type_id:"3",type_name:"\u52A8\u6F2B"},{type_id:"4",type_name:"\u7EFC\u827A"},{type_id:"5",type_name:"\u77ED\u5267"},{type_id:"24",type_name:"\u8001\u5267"}],filters:{}}}async function yit(e,t){let r=await X2(e.server),n=e.body.id,s=e.body.page,a=s||1;a==0&&(a=1);let o=r+`/index.php/vod/show/id/${n}/page/${s}.html`,c=await d$(o,gr),u=Je(c),l=u("#main .module-item"),d=[];for(var f of l){let h=u(f).find(".module-item-pic a").attr("href"),g=u(f).find(".module-item-pic img").attr("alt"),A=u(f).find(".module-item-pic img").attr("data-src"),y=u(f).find(".module-item-text").text();d.push({vod_id:h,vod_name:g,vod_pic:A,vod_remarks:y})}let m=u("#page > a:contains(\u4E0B\u4E00\u9875)").length>0?parseInt(a)+1:parseInt(a);return{page:parseInt(a),pagecount:m,limit:72,total:72*m,list:d}}async function bit(e,t){let r=await X2(e.server),n=Array.isArray(e.body.id)?e.body.id:[e.body.id],s=[];for(let a of n){let o=await d$(r+a),c=Je(o),u={vod_id:a,vod_name:c(".page-title")[0].children[0].data,vod_pic:c(c(".mobile-play")).find(".lazyload")[0].attribs["data-src"]},l=c(".video-info-itemtitle");for(let p of l){let m=c(p).text(),g=c(p).next().find("a").map((A,y)=>{let v=c(y).text().trim();return v||null}).get().filter(Boolean).join(", ");m.includes("\u5267\u60C5")?u.vod_content=c(p).next().find("p").text().trim():m.includes("\u5BFC\u6F14")?u.vod_director=g.trim():m.includes("\u4E3B\u6F14")&&(u.vod_actor=g.trim())}let d=c("div.module-row-info p").map((p,m)=>m.children[0].data).get(),f=await Vt(d,e);f&&(u.vod_play_from=f.froms,u.vod_play_url=f.urls),s.push(u)}return{list:s}}async function Eit(e,t){let r=await X2(e.server),n=e.body.page,s=e.body.wd,a=n||1;a==0&&(a=1);let o=await d$(`${r}/index.php/vod/search/wd/${s}.html`),c=Je(o),u=c(".module-search-item").map((l,d)=>({vod_id:c(d).find(".video-serial")[0].attribs.href,vod_name:c(d).find(".video-serial")[0].attribs.title,vod_pic:c(d).find(".module-item-pic > img")[0].attribs["data-src"],vod_remarks:c(c(d).find(".video-serial")[0]).text()})).get();return{page:a,pagecount:u.length<10?a:a+1,list:u}}var Xpe={meta:{key:"zhizhen",name:"\u81F3\u81FB",type:3},api:async e=>{e.post("/init",nr),e.post("/home",Ait),e.post("/category",yit),e.post("/detail",bit),e.post("/play",Yt),e.post("/search",Eit),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",Kt)},check:X2};var e0e=async(e,t,r)=>(await e.db.getObjectDefault("/tgsou",{}))?.[t]||e.config.tgsou[t]||r,xit={douerpan:"\u8C46\u513F\u76D8"},Zpe=e=>{if(!e||typeof e!="object"||Array.isArray(e))return{};let t={};for(let[r,n]of Object.entries(e))typeof n=="string"&&n.trim()!==""&&(t[r]=n);return t},f$=e=>e0e(e,"url","https://tgsou.252035.xyz"),p$=async e=>{let t=await e.db.getObjectDefault("/tgsou",{});if(Object.prototype.hasOwnProperty.call(t,"count"))return t.count;let r=e.config?.tgsou||{};return Object.prototype.hasOwnProperty.call(r,"count")?r.count:""},h$=e=>e0e(e,"channelUsername","douerpan"),m$=async e=>{let t=await e.db.getObjectDefault("/tgsou",{});if(Object.prototype.hasOwnProperty.call(t,"pic"))return t.pic;let r=e.config?.tgsou||{};return Object.prototype.hasOwnProperty.call(r,"pic")?r.pic:!0},g$=async e=>{let t=await e.db.getObjectDefault("/tgsou",{}),r={};if(Object.prototype.hasOwnProperty.call(t,"channelNameMap"))r=Zpe(t.channelNameMap);else{let n=e.config?.tgsou||{};Object.prototype.hasOwnProperty.call(n,"channelNameMap")&&(r=Zpe(n.channelNameMap))}return{...xit,...r}},ry=async(e,t,r)=>{await e.db.push(`/tgsou/${t}`,r)};async function A$(e){e.get("/config",async(t,r)=>{let n=await f$(t.server),s=await p$(t.server),a=await h$(t.server),o=await m$(t.server),c=await g$(t.server),u=s===""||s===null||typeof s>"u"?"":Number(s);r.send({code:0,data:{url:n,count:u,channelUsername:a.split(","),pic:o,channelNameMap:c}})}),e.put("/config",async(t,r)=>{await ry(t.server,"url",t.body.url),await ry(t.server,"count",t.body.count),await ry(t.server,"channelUsername",t.body.channelUsername.join(",")),await ry(t.server,"pic",t.body.pic),await ry(t.server,"channelNameMap",t.body.channelNameMap||{}),r.send({code:0})})}async function vit(e,t){return await nr(e,t),{}}async function _it(e,t){return{class:[]}}var Iit=(e,t)=>!t||typeof t!="object"?e:t[e]||e;function Cit(e){return e&&(e=e.replace(/https?:\/\/[^\s]+/gi,""),e=e.split(/[|:]/)?.[1]||e,e=e.split(`
`)?.[0]||e,e=e.trim(),e=e.replace(/^[^\u4e00-\u9fa5A-Za-z0-9\(\[\{]+/,"").trim(),e=e.replace(/^(|||||)[\s|]+/,"").trim(),/^[\(\[\{]/.test(e)?(e=e.replace(/^[\(\[\{][^\)\]\}]*[\)\]\}]/,"").trim(),e=e.replace(/[\(\[\{].*$/,"").trim()):e=e.replace(/[\(\[\{].*$/,"").trim(),e=e.replace(/((?:|||)\s*(?:)?\s*\d+\s*)|((?:|||)\s*(?:)?\s*[]+\s*)|(\d+\s*\s*)|([]+\s*\s*)|((?:|)\s*(?:EP)?\s*\d+)|((?:\s*)?EP\d+)|(\d+)|(S\d+\s*E\d+(?:)?)/g,"").trim(),e=e.replace(/\s*\d+\s*\+\s*\d+\s*\s*/g,"").replace(/\s*4[Kk]\s*(DV|HDR10|SDR10||)?\s*(|50|10bit)?\s*/g,"").replace(/\s*\d+[pP]\s*/g,"").replace(/\s*(||WEB-60fpsMAX|WEB-|DV|HDR10|HDR|SDR|||||50|25|60|10bit|10BIT|||||EDR||Vivid||txb||||ATVP|IQ|Friday|||||||||MAX|||||||||||Viu|10B|)\s*/g,"").replace(/\s*[^\s]*\s*/g,"").replace(/\s*\s*/g," ").replace(/\s*\d{4}?\s*/g,"").replace(/\s*\s*\d+\.?\d*\s*[KMGT]B\s*/g,"").replace(/\d+\.?\d*\s*[KMGT]B/g,"").replace(/\s*?\s*/g,"").replace(/\s*\+\s*/g," ").replace(/\s+/g," ").trim(),e=e.split(/|,/)?.[0],e?.trim())}async function wit(e,t){return{page:1,pagecount:1,list:[]}}async function Sit(e,t){let r=Array.isArray(e.body.id)?e.body.id:[e.body.id],n=[];for(let s of r){let a=s.includes("|")?s.split("|"):[s],o=await Vt(a,e),c={};o&&(c.vod_play_from=o.froms,c.vod_play_url=o.urls),n.push(c)}return{list:n}}async function Tit(e,t){let r=await f$(e.server),n=await p$(e.server),s=await h$(e.server),a=await m$(e.server),o=await g$(e.server),c=e.body.wd,u=Number(n),l=Number.isFinite(u)?Math.floor(u):0,d=l>0,f=new URL(r);f.searchParams.set("pic",String(a)),d&&f.searchParams.set("count",String(l)),f.searchParams.set("channelUsername",s),f.searchParams.set("keyword",c||"");let p=await Ie.get(f.toString()),m=new Map;for(let g of p.data.results){let[A,y]=g.split("$$$");if(!y)continue;let v=y.split("##");for(let b=0;b<v.length&&(!d||b<=l);b++){let[E,I]=v[b].split("$$"),[w,S]=E.split("@"),T=Wo().find(B=>B.validator(w));if(T){let B=Cit(I)||c,N=!!S,O=N?/^https?:\/\//i.test(S)?S:`${r}/down?id=${S}&channelUsername=${A}`:T.pic,k=N?O:w;m.has(k)||m.set(k,{links:[],panInfos:[],pic:O,group:A,title:B});let P=m.get(k),D=w?.replace(/\s+/g,"");P.links.includes(D)||(P.links.push(D),P.panInfos.push(T))}}}let h=[];for(let[g,A]of m.entries()){let y=[...new Set(A.panInfos.map(v=>v.name))].join("/");h.push({vod_id:A.links.join("|"),vod_name:A.title,vod_pic:A.pic,vod_remarks:`${y}:${Iit(A.group,o)}`})}return{page:1,pagecount:1,list:h}}var t0e={meta:{key:"tgsou",name:"TG\u641C\xB2",type:3},api:async e=>{e.post("/init",vit),e.post("/home",_it),e.post("/category",wit),e.post("/detail",Sit),e.post("/play",Yt),e.post("/search",Tit),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",Kt)}};var y$=async(e,t,r)=>(await e.db.getObjectDefault("/tgchannel",{}))?.[t]||e.config.tgchannel[t]||r,Bit={douerpan:"\u8C46\u513F\u76D8"},r0e=e=>{if(!e||typeof e!="object"||Array.isArray(e))return{};let t={};for(let[r,n]of Object.entries(e))typeof n=="string"&&n.trim()!==""&&(t[r]=n);return t},Z2=e=>y$(e,"url","https://t.me"),b$=async e=>{let t=await e.db.getObjectDefault("/tgchannel",{});if(Object.prototype.hasOwnProperty.call(t,"count"))return t.count;let r=e.config?.tgchannel||{};return Object.prototype.hasOwnProperty.call(r,"count")?r.count:""},E$=e=>y$(e,"channelUsername","douerpan"),x$=e=>y$(e,"homeChannelUsername","douerpan"),eI=async e=>{let t=await e.db.getObjectDefault("/tgchannel",{});if(Object.prototype.hasOwnProperty.call(t,"pic"))return t.pic;let r=e.config?.tgchannel||{};return Object.prototype.hasOwnProperty.call(r,"pic")?r.pic:!0},tI=async e=>{let t=await e.db.getObjectDefault("/tgchannel",{}),r={};if(Object.prototype.hasOwnProperty.call(t,"channelNameMap"))r=r0e(t.channelNameMap);else{let n=e.config?.tgchannel||{};Object.prototype.hasOwnProperty.call(n,"channelNameMap")&&(r=r0e(n.channelNameMap))}return{...Bit,...r}},a0=async(e,t,r)=>{await e.db.push(`/tgchannel/${t}`,r)};async function v$(e){e.get("/config",async(t,r)=>{let n=await Z2(t.server),s=await b$(t.server),a=await E$(t.server),o=await x$(t.server),c=await eI(t.server),u=await tI(t.server),l=s===""||s===null||typeof s>"u"?"":Number(s);r.send({code:0,data:{url:n,count:l,channelUsername:a.split(","),homeChannelUsername:o.split(","),pic:c,channelNameMap:u}})}),e.put("/config",async(t,r)=>{await a0(t.server,"url",t.body.url),await a0(t.server,"count",t.body.count),await a0(t.server,"channelUsername",t.body.channelUsername.join(",")),await a0(t.server,"homeChannelUsername",t.body.homeChannelUsername.join(",")),await a0(t.server,"pic",t.body.pic),await a0(t.server,"channelNameMap",t.body.channelNameMap||{}),r.send({code:0})})}function Rit(e){let t=e.attr("style"),r=/background-image:url\('([^']+)'\)/.exec(t);if(r&&r.length>1)return r[1]}function i0e(e){return e=e.replace(/https?:\/\/[^\s]+/gi,""),e=e.split(/[|:]/)?.[1]||e,e=e.split(`
`)?.[0]||e,e=e.trim(),e=e.replace(/^[^\u4e00-\u9fa5A-Za-z0-9\(\[\{]+/,"").trim(),e=e.replace(/^(|||||)[\s|]+/,"").trim(),/^[\(\[\{]/.test(e)?(e=e.replace(/^[\(\[\{][^\)\]\}]*[\)\]\}]/,"").trim(),e=e.replace(/[\(\[\{].*$/,"").trim()):e=e.replace(/[\(\[\{].*$/,"").trim(),e=e.replace(/((?:|||)\s*(?:)?\s*\d+\s*)|((?:|||)\s*(?:)?\s*[]+\s*)|(\d+\s*\s*)|([]+\s*\s*)|((?:|)\s*(?:EP)?\s*\d+)|((?:\s*)?EP\d+)|(\d+)|(S\d+\s*E\d+(?:)?)/g,"").trim(),e=e.replace(/\s*\d+\s*\+\s*\d+\s*\s*/g,"").replace(/\s*4[Kk]\s*(DV|HDR10|SDR10||)?\s*(|50|10bit)?\s*/g,"").replace(/\s*\d+[pP]\s*/g,"").replace(/\s*(||WEB-60fpsMAX|WEB-|DV|HDR10|HDR|SDR|||||50|25|60|10bit|10BIT|||||EDR||Vivid||txb||||ATVP|IQ|Friday|||||||||MAX|||||||||||Viu|10B|)\s*/g,"").replace(/\s*[^\s]*\s*/g,"").replace(/\s*\s*/g," ").replace(/\s*\d{4}?\s*/g,"").replace(/\s*\s*\d+\.?\d*\s*[KMGT]B\s*/g,"").replace(/\d+\.?\d*\s*[KMGT]B/g,"").replace(/\s*?\s*/g,"").replace(/\s*\+\s*/g," ").replace(/\s+/g," ").trim(),e=e.split(/|,/)?.[0],e?.trim()}function Nit(e){let t=[];for(let r of e){let n=r.attribs?.href;Wo().some(s=>s.validator(n))&&t.push(n)}return t}function kit(e){let t=[],r=e.match(/https?:\/\/[^\s]+/gi);if(r)for(let n of r)Wo().some(s=>s.validator(n))&&t.push(n);return t}function Dit(e){for(let t of e){let r=t.attribs?.href;if(a0e(r))return r}}var a0e=e=>/t.me\/.*\/.*/.test(e),o0e=e=>Wo().find(t=>t.validator(e)),c0e=(e,t)=>!t||typeof t!="object"?e:t[e]||e;async function Pit(e){let t=await Ie.get(e,{timeout:5e3,headers:{"User-Agent":"MoZhao"}}),r=Je(t.data),n=r(".tgme_widget_message"),s=[];for(let a of n){let o=a.attribs["data-post"],c=Rit(r(a).find(".tgme_widget_message_photo_wrap"));r("br").replaceWith(`
`);let u=r(a).find(".tgme_widget_message_text").text(),l=i0e(u),d=u,f=Nit(r(a).find(".tgme_widget_message_text a")),p=[...f];if(!f.length){let m=Dit(r(a).find(".tgme_widget_message_text a"));m&&f.push(m)}f.length&&s.push({id:f.join("|"),title:l,description:d,cover:c,messageId:Number(o.split("/")[1]),panLinks:p})}return s}async function Oit(e){let t=await Ie.get(e,{timeout:5e3,headers:{"User-Agent":"MoZhao"}}),r=Je(t.data),n=r('meta[property="og:image"]').attr("content"),s=i0e(r('meta[property="og:description"]').attr("content")),a=r('meta[property="og:description"]').attr("content"),o=kit(r('meta[property="og:description"]').attr("content"));return{title:s,description:a,cover:n,links:o}}async function $it(e,t){return await nr(e,t),{}}async function Lit(e){let t=await x$(e.server),r=await tI(e.server);return{class:t.split(",").map(n=>({type_id:n,type_name:c0e(n,r)}))}}var n0e={},s0e={};async function u0e(e){let t=await Z2(e.server),r=await eI(e.server),n=e.body.id,s=e.body.page;s||(s=1);try{let a=await Pit(`${t}/s/${n}${s>1?`?before=${s0e[n]}`:""}`);s0e[n]=a[0].messageId,s===1&&(n0e[n]=a[a.length-1].messageId),a.reverse();let o=a.map(c=>{let u,l="";return c.panLinks.length&&c.panLinks.forEach(d=>{let f=o0e(d);f&&(l+=l?`|${f.name}`:f.name,u||(u=f.pic))}),u||(u="https://telegram.org/img/apple-touch-icon.png"),{vod_name:c.title,vod_id:c.id,vod_pic:r&&c.cover||u,vod_remarks:l,rawData:c}});return{page:s,pagecount:Math.ceil(n0e[n]/o.length),list:o}}catch(a){return console.error(a),{page:s,pagecount:1,list:[]}}}async function Mit(e,t){let r=await Z2(e.server),n=Array.isArray(e.body.id)?e.body.id:[e.body.id],s=[];for(let a of n){let o=a.split("|");o.length===1&&a0e(o[0])&&(o=(await Oit(a.replace("https://t.me",r))).links);let c=await Vt(o,e),u={vod_id:a};c&&(u.vod_play_from=c.froms,u.vod_play_url=c.urls),s.push(u)}return{list:s}}async function Fit(e,t){let r=await b$(e.server),n=await E$(e.server),s=await eI(e.server),a=await tI(e.server),o=e.body.wd,c=Number(r),u=Number.isFinite(c)?Math.floor(c):0,l=u>0,d=n.split(","),f=await Promise.all(d.map(m=>u0e({body:{id:`${m}?q=${encodeURIComponent(o)}`},server:e.server}))),p=[];return f.forEach((m,h)=>{let g=m.list.filter(y=>y.rawData.panLinks.length);(l?g.slice(0,u):g).forEach(y=>{let v="",b;y.rawData.panLinks.forEach(E=>{let I=o0e(E);I&&(v+=v?`|${I.name}`:I.name),b||(b=I.pic)}),p.push({vod_id:y.vod_id,vod_name:y.vod_name,vod_pic:s&&y.vod_pic||b,vod_remarks:`${v}:${c0e(d[h],a)}`})})}),{page:1,pagecount:1,list:p}}var l0e={meta:{key:"tgchannel",name:"TG\u641C",type:3},api:async e=>{e.post("/init",$it),e.post("/home",Lit),e.post("/category",u0e),e.post("/detail",Mit),e.post("/play",Yt),e.post("/search",Fit),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",Kt)}};var d0e=Pe(C$(),1),w$=Pe(js(),1),yd="https://frodo.douban.com",ro={};function bd(e){e+=`&udid=${ro.id}&uuid=${ro.id}&&rom=android&apikey=0dad551ec0f84ed02907ff5c42e8ec70&s=rexxar_new&channel=Yingyongbao_Market&timezone=Asia/Shanghai&device_id=${ro.id}&os_rom=android&apple=c52fbb99b908be4d026954cc4374f16d&mooncake=0f607264fc6318a92b9e13c65db7cd3c&sugar=0`;let t=new URL(e),r=(0,d0e.default)().unix().toString(),n=w$.default.HmacSHA1("GET&"+encodeURIComponent(t.pathname)+"&"+r,"bf7dddc7c9cfe6f7"),s=w$.default.enc.Base64.stringify(n);return e+"&_sig="+encodeURIComponent(s)+"&_ts="+r}async function Ed(e,t){return(await Oe.get(e,{headers:{"User-Agent":t||ro.ua}})).data}async function Qit(e,t){let r=e.server.prefix+"/device";return ro=await e.server.db.getObjectDefault(r,{}),ro.id||(ro.id=sae(40).toLowerCase(),ro.ua=`Rexxar-Core/0.1.3 api-client/1 com.douban.frodo/7.9.0(216) Android/28 product/Xiaomi11 rom/android network/wifi udid/${ro.id} platform/mobile com.douban.frodo/7.9.0(216) Rexxar/1.2.151 platform/mobile 1.2.151`,await e.server.db.push(r,ro)),{}}async function Uit(e,t){let r=[{type_id:"t1",type_name:"\u70ED\u64AD"},{type_id:"t2",type_name:"\u7247\u5E93"},{type_id:"t250",type_name:"Top250"},{type_id:"t3",type_name:"\u699C\u5355",ratio:1},{type_id:"t4",type_name:"\u7247\u5355",ratio:1}],n={};return n.t1=[{key:"u",name:"",init:"movie/hot_gaia",value:[{n:"\u7535\u5F71",v:"movie/hot_gaia"},{n:"\u7535\u89C6\u5267",v:"subject_collection/tv_hot/items"},{n:"\u56FD\u4EA7\u5267",v:"subject_collection/tv_domestic/items"},{n:"\u7F8E\u5267",v:"subject_collection/tv_american/items"},{n:"\u65E5\u5267",v:"subject_collection/tv_japanese/items"},{n:"\u97E9\u5267",v:"subject_collection/tv_korean/items"},{n:"\u52A8\u6F2B",v:"subject_collection/tv_animation/items"},{n:"\u7EFC\u827A",v:"subject_collection/show_hot/items"}]}],n.t4=[{key:"type",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u7535\u5F71",v:"movie"},{n:"\u7535\u89C6\u5267",v:"tv"}]},{key:"cate",name:"",init:"all",value:[{n:"\u5168\u90E8",v:"all"},{n:"\u8C46\u74E3\u7247\u5355",v:"official"},{n:"\u7CBE\u9009",v:"selected"},{n:"\u7ECF\u5178",v:"classical"},{n:"\u83B7\u5956",v:"prize"},{n:"\u9AD8\u5206",v:"high_score"},{n:"\u699C\u5355",v:"movie_list"},{n:"\u51B7\u95E8\u4F73\u7247",v:"dark_horse"},{n:"\u4E3B\u9898",v:"topic"},{n:"\u5BFC\u6F14",v:"director"},{n:"\u6F14\u5458",v:"actor"},{n:"\u7CFB\u5217",v:"series"}]}],n.t2=[{key:"form",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u7535\u5F71",v:"\u7535\u5F71"},{n:"\u7535\u89C6\u5267",v:"\u7535\u89C6\u5267"},{n:"\u52A8\u6F2B",v:"\u52A8\u753B"},{n:"\u7EFC\u827A",v:"\u7EFC\u827A"},{n:"\u7EAA\u5F55\u7247",v:"\u7EAA\u5F55\u7247"},{n:"\u77ED\u7247",v:"\u77ED\u7247"}]},{key:"genre",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u5267\u60C5",v:"\u5267\u60C5"},{n:"\u559C\u5267",v:"\u559C\u5267"},{n:"\u52A8\u4F5C",v:"\u52A8\u4F5C"},{n:"\u79D1\u5E7B",v:"\u79D1\u5E7B"},{n:"\u7231\u60C5",v:"\u7231\u60C5"},{n:"\u60AC\u7591",v:"\u60AC\u7591"},{n:"\u72AF\u7F6A",v:"\u72AF\u7F6A"},{n:"\u6218\u4E89",v:"\u6218\u4E89"},{n:"\u6050\u6016",v:"\u6050\u6016"},{n:"\u5BB6\u5EAD",v:"\u5BB6\u5EAD"},{n:"\u53E4\u88C5",v:"\u53E4\u88C5"},{n:"\u6B66\u4FA0",v:"\u6B66\u4FA0"},{n:"\u9752\u6625",v:"\u9752\u6625"},{n:"\u540C\u6027",v:"\u540C\u6027"},{n:"\u97F3\u4E50",v:"\u97F3\u4E50"},{n:"\u6B4C\u821E",v:"\u6B4C\u821E"},{n:"\u5386\u53F2",v:"\u5386\u53F2"},{n:"\u5192\u9669",v:"\u5192\u9669"},{n:"\u5947\u5E7B",v:"\u5947\u5E7B"},{n:"\u4F20\u8BB0",v:"\u4F20\u8BB0"},{n:"\u8FD0\u52A8",v:"\u8FD0\u52A8"},{n:"\u897F\u90E8",v:"\u897F\u90E8"},{n:"\u707E\u96BE",v:"\u707E\u96BE"}]},{key:"region",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u4E2D\u56FD\u5927\u9646",v:"\u4E2D\u56FD\u5927\u9646"},{n:"\u4E2D\u56FD\u9999\u6E2F",v:"\u4E2D\u56FD\u9999\u6E2F"},{n:"\u4E2D\u56FD\u53F0\u6E7E",v:"\u4E2D\u56FD\u53F0\u6E7E"},{n:"\u7F8E\u56FD",v:"\u7F8E\u56FD"},{n:"\u82F1\u56FD",v:"\u82F1\u56FD"},{n:"\u65E5\u672C",v:"\u65E5\u672C"},{n:"\u97E9\u56FD",v:"\u97E9\u56FD"},{n:"\u5370\u5EA6",v:"\u5370\u5EA6"},{n:"\u6CD5\u56FD",v:"\u6CD5\u56FD"},{n:"\u5FB7\u56FD",v:"\u5FB7\u56FD"},{n:"\u897F\u73ED\u7259",v:"\u897F\u73ED\u7259"},{n:"\u6CF0\u56FD",v:"\u6CF0\u56FD"},{n:"\u610F\u5927\u5229",v:"\u610F\u5927\u5229"},{n:"\u52A0\u62FF\u5927",v:"\u52A0\u62FF\u5927"},{n:"\u6FB3\u5927\u5229\u4E9A",v:"\u6FB3\u5927\u5229\u4E9A"},{n:"\u4FC4\u7F57\u65AF",v:"\u4FC4\u7F57\u65AF"},{n:"\u745E\u5178",v:"\u745E\u5178"},{n:"\u4E39\u9EA6",v:"\u4E39\u9EA6"},{n:"\u5DF4\u897F",v:"\u5DF4\u897F"},{n:"\u58A8\u897F\u54E5",v:"\u58A8\u897F\u54E5"}]},{key:"year",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"2026",v:"2026"},{n:"2025",v:"2025"},{n:"2024",v:"2024"},{n:"2023",v:"2023"},{n:"2022",v:"2022"},{n:"2021",v:"2021"},{n:"2020",v:"2020"},{n:"2019",v:"2019"},{n:"2010\u5E74\u4EE3",v:"2010\u5E74\u4EE3"},{n:"2000\u5E74\u4EE3",v:"2000\u5E74\u4EE3"},{n:"90\u5E74\u4EE3",v:"90\u5E74\u4EE3"},{n:"80\u5E74\u4EE3",v:"80\u5E74\u4EE3"},{n:"70\u5E74\u4EE3",v:"70\u5E74\u4EE3"},{n:"60\u5E74\u4EE3",v:"60\u5E74\u4EE3"},{n:"\u66F4\u65E9",v:"\u66F4\u65E9"}]},{key:"sort",name:"",init:"U",value:[{n:"\u70ED\u5EA6",v:"U"},{n:"\u8BC4\u5206",v:"S"},{n:"\u65F6\u95F4",v:"R"}]}],{class:r,filters:n}}async function qit(e,t){let r=e.body.id,n=e.body.page,s=e.body.filters,a=n||1;if(a==0&&(a=1),r=="t1"){let o=bd(`${yd}/api/v2/${s.u||"movie/hot_gaia"}?area=\u5168\u90E8&sort=recommend&playable=0&loc_id=0&start=${(a-1)*30}&count=30`),c=await Ed(o),u=[];for(let l of c.items||c.subject_collection_items){let d=(l.rating&&l.rating.value||"").toString();u.push({vod_id:l.id,vod_name:l.title,vod_pic:l.pic.normal||l.pic.large,vod_remarks:d.length>0?"\u8BC4\u5206:"+d:""})}return{page:parseInt(a),pagecount:Math.ceil(c.total/30),list:u}}else if(r=="t250"){let o=bd(`${yd}/api/v2/subject_collection/movie_top250/items?area=\u5168\u90E8&sort=recommend&playable=0&loc_id=0&start=${(a-1)*30}&count=30`),c=await Ed(o),u=[];for(let l of c.items||c.subject_collection_items){let d=(l.rating&&l.rating.value||"").toString();u.push({vod_id:l.id,vod_name:l.title,vod_pic:l.pic.normal||l.pic.large,vod_remarks:d.length>0?"\u8BC4\u5206:"+d:""})}return{page:parseInt(a),pagecount:Math.ceil(c.total/30),list:u}}else if(r=="t2"){let o=s.form||"",c=s.genre||"",u=s.region||"",l=s.year||"",d=s.sort||"U",f=o,p=c,m="movie";f==="\u52A8\u753B"&&(f="\u7535\u89C6\u5267",p||(p="\u52A8\u753B")),(f==="\u7535\u89C6\u5267"||f==="\u7EFC\u827A")&&(m="tv");let h={};p&&(h.\u7C7B\u578B=p),f&&(h.\u5F62\u5F0F=f),u&&(h.\u5730\u533A=u);let g=[];o&&g.push(o),c&&g.push(c),u&&g.push(u),l&&g.push(l);let A=new URLSearchParams({refresh:"0",start:((a-1)*30).toString(),count:"30",selected_categories:JSON.stringify(h),uncollect:"false",score_range:"0,10"});d&&A.append("sort",d),g.length>0&&A.append("tags",g.join(","));let y=`https://m.douban.com/rexxar/api/v2/${m}/recommend?${A.toString()}`,b=(await Oe.get(y,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",Referer:"https://m.douban.com/"}})).data,E=b&&b.items?b.items:[],I=[];for(let w of E)if(w&&(w.type==="movie"||w.type==="tv")){let S="";if(w.rating&&typeof w.rating.value<"u"){let T=w.rating.value;S=typeof T=="number"?T.toFixed(1):T.toString()}I.push({vod_id:w.id||"",vod_name:w.title||"",vod_pic:w.pic&&(w.pic.normal||w.pic.large)||"",vod_remarks:S?"\u8BC4\u5206:"+S:""})}return{page:parseInt(a),pagecount:a<10?a+1:a,list:I}}else if(r=="t3"){let o=bd(`${yd}/api/v2/movie/category_ranks?count=30&category=recent_hot`),c=await Ed(o),u=[];for(let l of c.selected_collections)u.push({vod_id:"cr_"+l.id,vod_name:l.short_name||l.title,vod_pic:l.cover_url,vod_remarks:"",cate:{}});o=bd(`${yd}/api/v2/tv/category_ranks?count=30&category=recent_hot`),c=await Ed(o);for(let l of c.selected_collections)u.push({vod_id:"cr_"+l.id,vod_name:l.short_name||l.title,vod_pic:l.cover_url,vod_remarks:"",cate:{}});return{page:1,pagecount:1,list:u}}else if(r=="t4"){let o=bd(`${yd}/api/v2/skynet/new_playlists?subject_type=${s.type||""}&category=${s.cate||"all"}&loc_id=0&start=${(a-1)*30}&count=30`),c=await Ed(o),u=[];for(let l of c.data[0].items)u.push({vod_id:l.owner?"dl_"+l.id:"cr_"+l.id,vod_name:l.title,vod_pic:l.cover_url,vod_remarks:"",cate:{}});return{page:parseInt(a),pagecount:Math.ceil(c.total/30),list:u}}else if(r.startsWith("cr_")){let o=bd(`${yd}/api/v2/subject_collection/${r.substring(3)}/items?start=${(a-1)*30}&count=30&updated_at=&items_only=1`),c=await Ed(o),u=[];for(let l of c.subject_collection_items){let d=(l.rating&&l.rating.value||"").toString();u.push({vod_id:l.id,vod_name:l.title,vod_pic:l.pic.normal||l.pic.large,vod_remarks:d.length>0?"\u8BC4\u5206:"+d:""})}return{page:parseInt(a),pagecount:Math.ceil(c.total/30),list:u}}else if(r.startsWith("dl_")){let o=bd(`${yd}/api/v2/doulist/${r.substring(3)}/posts?start=${(a-1)*30}&count=30&updated_at=&items_only=1`),c=await Ed(o),u=[];for(let l of c.items){let d=l.content.subject;if(!d)continue;let f=(d.rating&&d.rating.value||"").toString();u.push({vod_id:d.id,vod_name:d.title,vod_pic:d.pic.normal||d.pic.large,vod_remarks:f.length>0?"\u8BC4\u5206:"+f:""})}return{page:parseInt(a),pagecount:Math.ceil(c.total/30),list:u}}}async function jit(e,t){return{}}async function Hit(e,t){return{}}async function zit(e,t){return{}}async function Git(e,t){try{let r=function(o){o.statusCode&&o.statusCode==500&&console.error(o)},n=e.server.prefix,s={},a=await e.server.inject().post(`${n}/init`);if(s.init=a.json(),r(a.json()),a=await e.server.inject().post(`${n}/home`),s.home=a.json(),r(a.json()),s.home.class.length>0&&(a=await e.server.inject().post(`${n}/category`).payload({id:s.home.class[0].type_id,page:1,filter:!0,filters:{}}),s.category=a.json(),r(a.json()),s.category.list.length>0&&(a=await e.server.inject().post(`${n}/detail`).payload({id:s.category.list[0].vod_id}),s.detail=a.json(),r(a.json()),s.detail.list&&s.detail.list.length>0))){s.play=[];for(let o of s.detail.list){let c=o.vod_play_from.split("$$$"),u=o.vod_play_url.split("$$$");for(let l=0;l<c.length;l++){let d=c[l],f=u[l].split("#");for(let p=0;p<f.length&&p<2;p++)a=await e.server.inject().post(`${n}/play`).payload({flag:d,id:f[p].split("$")[1]}),s.play.push(a.json())}}}return a=await e.server.inject().post(`${n}/search`).payload({wd:"\u7231",page:1}),s.search=a.json(),r(a.json()),s}catch(r){return console.error(r),t.code(500),{err:r.message,tip:"check debug console output"}}}var f0e={meta:{key:"douban",name:"\u8C46\u74E3\u200D",type:3,indexs:1},api:async e=>{e.post("/init",Qit),e.post("/home",Uit),e.post("/category",qit),e.post("/detail",jit),e.post("/play",Hit),e.post("/search",zit),e.get("/test",Git)}};async function Vit(e,t){return{}}async function Kit(e,t){return"true"}async function Yit(e,t){let r=Array.isArray(e.body.id)?e.body.id:[e.body.id],n=[];for(let s of r){let a={vod_id:s,vod_content:"",vod_name:s,vod_pic:"https://pic.rmb.bdstatic.com/bjh/1d0b02d0f57f0a42201f92caba5107ed.jpeg"},o=await Vt(s,e);o&&(a.vod_play_from=o.froms,a.vod_play_url=o.urls),n.push(a)}return{list:n}}async function Wit(e,t){try{let r=function(o){o.statusCode&&o.statusCode==500&&console.error(o)},n=e.server.prefix,s={},a=await e.server.inject().post(`${n}/support`).payload({clip:"https://xx.xx/1.m3u8"});return s.support=a.json(),r(a.json()),a=await e.server.inject().post(`${n}/detail`).payload({id:"https://xx.xx/1.m3u8"}),s.detail=a.json(),r(a.json()),a=await e.server.inject().post(`${n}/play`).payload({flag:"xx",id:"https://xx.xx/1.m3u8"}),s.play=a.json(),r(a.json()),s}catch(r){return console.error(r),t.code(500),{err:r.message,tip:"check debug console output"}}}var p0e={meta:{key:"push",name:"\u63A8\u9001",type:4},api:async e=>{e.post("/init",Vit),e.post("/support",Kit),e.post("/detail",Yit),e.post("/play",Yt),e.get("/test",Wit),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",Kt)}};var nI=async(e,t,r)=>(await e.db.getObjectDefault("/pansou",{}))?.[t]||e.config.pansou?.[t]||r,S$=async e=>nI(e,"url","https://pan.wnng.cn"),T$=async e=>{let t=await nI(e,"channels","");return t?t.split(",").map(r=>r.trim()).filter(r=>r):[]},B$=async e=>{let t=await nI(e,"plugins","");return t?t.split(",").map(r=>r.trim()).filter(r=>r):[]},R$=async e=>{let t=await nI(e,"cloudTypes","");return t?t.split(",").map(r=>r.trim()).filter(r=>r):[]},rI=async(e,t,r)=>{await e.db.push(`/pansou/${t}`,r)},Jit=async e=>{await e.db.delete("/pansou")};async function N$(e){e.get("/config",async(t,r)=>{let n=await S$(t.server),s=await T$(t.server),a=await B$(t.server),o=await R$(t.server);r.send({code:0,data:{url:n,channels:s,plugins:a,cloudTypes:o}})}),e.put("/config",async(t,r)=>{await rI(t.server,"url",t.body.url||""),await rI(t.server,"channels",Array.isArray(t.body.channels)?t.body.channels.join(","):""),await rI(t.server,"plugins",Array.isArray(t.body.plugins)?t.body.plugins.join(","):""),await rI(t.server,"cloudTypes",Array.isArray(t.body.cloudTypes)?t.body.cloudTypes.join(","):""),r.send({code:0})}),e.delete("/config",async(t,r)=>{await Jit(t.server),r.send({code:0})})}function Xit(e){return e?e.startsWith("tg:")?e.substring(3):e.startsWith("plugin:")?e.substring(7):e:null}function Zit(e){return e?e.replace(/^([:])/,"").replace(/\s+/g," ").trim():""}function eat(e,t){let r=new Map;for(let[,s]of Object.entries(e))if(Array.isArray(s))for(let a of s){if(!a||!a.url)continue;let o=Wo().find(p=>p.validator(a.url));if(!o)continue;let c=a.images&&Array.isArray(a.images)&&a.images.length>0,u=c?a.images[0]:o.pic,l=c?u:a.url;r.has(l)||r.set(l,{links:[],panInfos:[],sources:[],pic:u,title:Zit(a.note||t)});let d=r.get(l),f=a.url?.replace(/\s+/g,"");if(!d.links.includes(f)&&(d.links.push(f),d.panInfos.push(o),a.source)){let p=Xit(a.source);p&&!d.sources.includes(p)&&d.sources.push(p)}}let n=[];for(let[,s]of r.entries()){let a=[...new Set(s.panInfos.map(c=>c.name))].join("/"),o=s.sources.length>0?`:${s.sources[0]}`:"";n.push({vod_id:s.links.join("|"),vod_name:s.title,vod_pic:s.pic,vod_remarks:`${a}${o}`})}return n}async function tat(e,t){return await nr(e,t),{}}async function rat(e,t){return{class:[]}}async function nat(e,t){return{page:1,pagecount:1,list:[]}}async function sat(e,t){let r=Array.isArray(e.body.id)?e.body.id:[e.body.id],n=[];for(let s of r){let a=s.includes("|")?s.split("|"):[s],o=await Vt(a,e),c={};o&&(c.vod_play_from=o.froms,c.vod_play_url=o.urls),n.push(c)}return{list:n}}async function iat(e,t){try{let r=e.body.wd,n=await S$(e.server),s=await T$(e.server),a=await B$(e.server),o=await R$(e.server),c={kw:r};s.length>0&&(c.channels=s),a.length>0&&(c.plugins=a),o.length>0&&(c.cloud_types=o);let u=await Ie.post(`${n}/api/search`,c);return u.data&&u.data.data&&u.data.data.merged_by_type?{page:1,pagecount:1,list:eat(u.data.data.merged_by_type,r)}:{page:1,pagecount:1,list:[]}}catch(r){return console.error("PanSou search error:",r),{page:1,pagecount:1,list:[]}}}var h0e={meta:{key:"pansou",name:"PanSou",type:3},api:async e=>{e.post("/init",tat),e.post("/home",rat),e.post("/category",nat),e.post("/detail",sat),e.post("/play",Yt),e.post("/search",iat),e.get("/proxy/:site/:what/:flag/:shareId/:fileId/:end",Kt)}};var o0=async e=>{let t=await e.db.getObjectDefault("/live2vod",{});return{sources:t?.sources||e.config.live2vod?.sources||[],showMode:t?.showMode||e.config.live2vod?.showMode||"groups",def_pic:t?.def_pic||e.config.live2vod?.def_pic||"https://ghproxy.net/https://raw.githubusercontent.com/hjdhnx/hipy-server/master/app/static/img/lives.jpg"}},k$=async(e,t)=>{await e.db.push("/live2vod",t)},aat=async e=>{await e.db.delete("/live2vod")};async function D$(e){e.get("/config",async(t,r)=>{r.send({code:0,data:await o0(t.server)})}),e.put("/config",async(t,r)=>{await k$(t.server,t.body),r.send({code:0})}),e.delete("/config",async(t,r)=>{await aat(t.server),r.send({code:0})}),e.get("/sources",async(t,r)=>{let n=await o0(t.server);r.send({code:0,data:n.sources||[]})}),e.post("/sources",async(t,r)=>{let{name:n,url:s,img:a}=t.body;if(!n||!s){r.code(400).send({code:1,msg:"\u540D\u79F0\u548CURL\u4E0D\u80FD\u4E3A\u7A7A"});return}let o=await o0(t.server);o.sources=o.sources||[],o.sources.push({name:n,url:s,img:a||""}),await k$(t.server,o),r.send({code:0})}),e.delete("/sources/:index",async(t,r)=>{let n=parseInt(t.params.index),s=await o0(t.server);s.sources&&n>=0&&n<s.sources.length?(s.sources.splice(n,1),await k$(t.server,s),r.send({code:0})):r.code(404).send({code:1,msg:"\u7D22\u5F15\u65E0\u6548"})})}var ti={sources:[],def_pic:"https://ghproxy.net/https://raw.githubusercontent.com/hjdhnx/hipy-server/master/app/static/img/lives.jpg"},ny={},sI={};async function oat(e){return(await Oe(e,{method:"get",headers:{"User-Agent":"okhttp/3.14.9"},timeout:1e4})).data}function cat(e){let t=e.split(`
`),r={},n=[],s=null;return t.forEach(a=>{if(a=a.trim(),a.startsWith("#EXTINF:")){let o=a.replace(/'/g,'"'),c="\u672A\u77E5\u9891\u9053",u="";try{let d=o.match(/group-title="(.*?)"/);d&&(c=d[1].trim())}catch{}try{let d=o.match(/tvg-logo="(.*?)"/);d&&(u=d[1].trim())}catch{}s={name:a.split(",").slice(-1)[0].trim(),logo:u,group:c}}else if(a.startsWith("http")&&s){let o=s.group;r[o]||(r[o]=[],n.push(o)),r[o].push({name:s.name,url:a,logo:s.logo}),s=null}}),{groups:r,groupNames:n}}function uat(e){let t=e.split(`
`),r={},n=[],s="";return t.forEach(a=>{if(a=a.trim(),!!a){if(/,#/.test(a))s=a.split(",")[0].trim(),r[s]||(r[s]=[],n.push(s));else if(a.includes(",")&&s){let o=a.split(",");o.length>=2&&o[1].trim().startsWith("http")&&r[s].push({name:o[0].trim(),url:o[1].trim(),logo:""})}}}),{groups:r,groupNames:n}}async function iI(e){if(ny[e])return ny[e];let t=await oat(e),r;/#EXTM3U/.test(t)?r=cat(t):r=uat(t);for(let n of Object.keys(r.groups)){let s=r.groups[n],a=new Map;s.forEach(o=>{a.has(o.name)?(a.get(o.name).urls.push(o.url),!a.get(o.name).logo&&o.logo&&(a.get(o.name).logo=o.logo)):a.set(o.name,{...o,urls:[o.url]})}),r.groups[n]=Array.from(a.values())}return ny[e]=r,r}async function lat(e,t){let r=await o0(e.server);ti.sources=r.sources||[],ti.def_pic=r.def_pic||ti.def_pic,Object.keys(ny).forEach(s=>delete ny[s]),sI={};let n=ti.sources.map(async s=>{try{let a=await iI(s.url),o=[{n:"\u5168\u90E8",v:""}];a.groupNames.forEach(c=>{o.push({n:c,v:c})}),sI[s.url]=[{key:"group",name:"",init:"",value:o}]}catch(a){console.error(`\u9884\u52A0\u8F7D\u76F4\u64AD\u6E90 ${s.name} \u5931\u8D25: ${a.message}`),sI[s.url]=[]}});return await Promise.all(n),{}}async function dat(e,t){return{class:ti.sources.map(n=>({type_id:n.url,type_name:n.name})),filters:sI}}async function fat(e,t){let r=e.body.id,n=e.body.page||1,a=(e.body.filters||{}).group||"";if(n>1)return{page:n,pagecount:1,list:[]};let c=ti.sources.find(u=>u.url===r)?.img||"";try{let u=await iI(r),l=[],d=a?[a]:u.groupNames;for(let f of d){let p=u.groups[f];p&&p.forEach(m=>{l.push({vod_id:r+"$"+f+"$"+m.name,vod_name:m.name,vod_pic:m.logo||c||ti.def_pic,vod_remarks:f})})}return{page:1,pagecount:1,total:l.length,list:l}}catch(u){return console.error(`\u83B7\u53D6\u5206\u7C7B\u9875\u5931\u8D25: ${u.message}`),{page:1,pagecount:1,list:[]}}}async function pat(e,t){let r=Array.isArray(e.body.id)?e.body.id:[e.body.id],n=[];for(let s of r){let a=s.split("$"),o=a[0],c=a[1],u=a.slice(2).join("$"),l=ti.sources.find(p=>p.url===o),d=l?.img||"",f=l?.name||"\u76F4\u64AD\u6E90";try{let h=(await iI(o)).groups[c]?.find(y=>y.name===u);if(!h){n.push({vod_id:s,vod_name:u,vod_pic:d||ti.def_pic,vod_content:"\u672A\u627E\u5230\u9891\u9053",vod_play_from:f,vod_play_url:""});continue}let A=(h.urls||[h.url]).map((y,v)=>`\u7EBF\u8DEF${v+1}$${y}`);n.push({vod_id:s,vod_name:u,type_name:c,vod_pic:h.logo||d||ti.def_pic,vod_content:`\u9891\u9053: ${u}
\u5206\u7EC4: ${c}
\u6765\u6E90: ${f}`,vod_play_from:f,vod_play_url:A.join("#"),vod_remarks:c})}catch(p){console.error(`\u83B7\u53D6\u8BE6\u60C5\u5931\u8D25: ${p.message}`),n.push({vod_id:s,vod_name:u,vod_pic:d||ti.def_pic,vod_content:`\u83B7\u53D6\u5931\u8D25: ${p.message}`,vod_play_from:f,vod_play_url:""})}}return{list:n}}async function hat(e,t){return{parse:0,url:e.body.id}}async function mat(e,t){let r=e.body.wd,n=[];for(let s of ti.sources)try{let a=await iI(s.url),o=s.img||"",c=new RegExp(r,"i");for(let u of a.groupNames){let l=a.groups[u];l&&l.forEach(d=>{c.test(d.name)&&n.push({vod_id:s.url+"$"+u+"$"+d.name,vod_name:d.name,vod_pic:d.logo||o||ti.def_pic,vod_remarks:`${s.name} \xB7 ${u}`})})}}catch(a){console.error(`\u641C\u7D22\u6E90 ${s.name} \u5931\u8D25: ${a.message}`)}return{page:1,pagecount:1,total:n.length,list:n}}async function gat(e,t){try{let r=function(o){o.statusCode&&o.statusCode===500&&console.error(o)},n=e.server.prefix,s={},a=await e.server.inject().post(`${n}/init`);return s.init=a.json(),r(a.json()),a=await e.server.inject().post(`${n}/home`),s.home=a.json(),r(a.json()),s.home.class&&s.home.class.length>0&&(a=await e.server.inject().post(`${n}/category`).payload({id:s.home.class[0].type_id,page:1,filters:{}}),s.category=a.json(),r(a.json()),s.category.list&&s.category.list.length>0&&(a=await e.server.inject().post(`${n}/detail`).payload({id:s.category.list[0].vod_id}),s.detail=a.json(),r(a.json()))),a=await e.server.inject().post(`${n}/search`).payload({wd:"CCTV",page:1}),s.search=a.json(),r(a.json()),s}catch(r){return console.error(r),t.code(500),{err:r.message,tip:"check debug console output"}}}var m0e={meta:{key:"live2vod",name:"\u76F4\u64AD",type:3},api:async e=>{e.post("/init",lat),e.post("/home",dat),e.post("/category",fat),e.post("/detail",pat),e.post("/play",hat),e.post("/search",mat),e.get("/test",gat)}};var ku={host:"https://api.ztcgi.com",headers:{"User-Agent":"Mozilla/5.0 (Linux; Android 9; V2196A Build/PQ3A.190705.08211809; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/91.0.4472.114 Mobile Safari/537.36;webank/h5face;webank/1.0;netType:NETWORK_WIFI;appVersion:416;packageName:com.jp3.xg3",Referer:"https://api.ztcgi.com",Accept:"application/json"},imgHost:"https://img2.jgsfnl.com"};function Aat(){return[{type_id:"1",type_name:"\u7535\u5F71"},{type_id:"2",type_name:"\u7535\u89C6\u5267"},{type_id:"3",type_name:"\u52A8\u6F2B"},{type_id:"4",type_name:"\u7EFC\u827A"}]}function P$(e){return e?e.startsWith("http")?e:ku.imgHost+e:""}async function yat(e,t){return{}}async function bat(e,t){return{class:Aat()}}async function Eat(e,t){let r=e.body.id,s=e.body.page||1;s==0&&(s=1);try{let a=`${ku.host}/api/crumb/list?fcate_pid=${r}&category_id=&area=&year=&type=&sort=&page=${s}`,c=(await Oe.get(a,{headers:ku.headers})).data,l=(Array.isArray(c.data)?c.data:[]).map(p=>({vod_id:String(p.id),vod_name:p.title||"",vod_pic:P$(p.path||""),vod_remarks:p.mask||""})).filter(p=>p.vod_id&&p.vod_name),d=l.length>0,f=d?parseInt(s)+1:parseInt(s);return{page:parseInt(s),pagecount:f,limit:l.length||20,total:d?9999:l.length,list:l}}catch{return{list:[],page:parseInt(s),pagecount:1,limit:20,total:0}}}async function xat(e,t){let r=Array.isArray(e.body.id)?e.body.id:[e.body.id],n=[];for(let s of r)try{let a=`${ku.host}/api/video/detailv2?id=${s}`,c=(await Oe.get(a,{headers:ku.headers})).data.data,u={vod_id:String(c.id||s),vod_name:c.title||"",vod_pic:P$(c.thumbnail||c.path||c.tvimg||""),type_name:(c.types||[]).map(p=>p.name).join("/")||"",vod_year:c.year||"",vod_area:c.area||"",vod_remarks:c.mask||"",vod_actor:(c.actors||[]).map(p=>p.name).join("/")||"",vod_director:(c.directors||[]).map(p=>p.name).join("/")||"",vod_content:c.description||"",vod_play_from:"",vod_play_url:""},l=Array.isArray(c.source_list_source)?c.source_list_source:[],d=[],f=[];l.forEach((p,m)=>{let h=p.name||p.source_name||`\u7EBF\u8DEF${m+1}`;if(h==="\u5E38\u89C4\u7EBF\u8DEF")return;let g=Array.isArray(p.source_list)?p.source_list:[],A=[];g.forEach((y,v)=>{let b=y.source_name||y.name||`\u7B2C${v+1}\u96C6`,E=y.url||y.play_url||"";E&&A.push(`${b}$${E}`)}),A.length>0&&(d.push(h),f.push(A.join("#")))}),u.vod_play_from=d.join("$$$"),u.vod_play_url=f.join("$$$"),n.push(u)}catch{}return{list:n}}async function vat(e,t){let r=e.body.id,n=r.startsWith("//")?`https:${r}`:r;return n.includes(".m3u8")||n.includes(".mp4")?{parse:0,url:n,header:ku.headers}:{parse:1,url:n}}async function _at(e,t){let r=e.body.page,n=e.body.wd,s=r||1;s==0&&(s=1);try{let a=`${ku.host}/api/v2/search/videoV2?key=${encodeURIComponent(n)}&category_id=88&page=${s}&pageSize=20`,c=(await Oe.get(a,{headers:ku.headers})).data,l=(Array.isArray(c.data)?c.data:[]).map(f=>({vod_id:String(f.id),vod_name:f.title||"",vod_pic:P$(f.thumbnail||f.path||""),vod_remarks:f.mask||""})).filter(f=>f.vod_id&&f.vod_name),d=c.total||0;return{page:parseInt(s),pagecount:l.length>0?parseInt(s)+1:parseInt(s),total:d,list:l}}catch{return{list:[],page:parseInt(s),pagecount:1}}}async function Iat(e,t){try{let r=e.server.prefix,n={},s=await e.server.inject().post(`${r}/init`);if(n.init=s.json(),s=await e.server.inject().post(`${r}/home`),n.home=s.json(),n.home.class.length>0&&(s=await e.server.inject().post(`${r}/category`).payload({id:n.home.class[0].type_id,page:1}),n.category=s.json(),n.category.list.length>0&&(s=await e.server.inject().post(`${r}/detail`).payload({id:n.category.list[0].vod_id}),n.detail=s.json(),n.detail.list&&n.detail.list.length>0))){n.play=[];for(let a of n.detail.list){let o=a.vod_play_from.split("$$$"),c=a.vod_play_url.split("$$$");for(let u=0;u<o.length;u++){let l=o[u],d=c[u].split("#");for(let f=0;f<d.length&&f<2;f++)s=await e.server.inject().post(`${r}/play`).payload({flag:l,id:d[f].split("$")[1]}),n.play.push(s.json())}}}return s=await e.server.inject().post(`${r}/search`).payload({wd:"\u7231",page:1}),n.search=s.json(),n}catch(r){return t.code(500),{err:r.message,tip:"check debug console output"}}}var g0e={meta:{key:"jianpian",name:"\u8350\u7247",type:3},api:async e=>{e.post("/init",yat),e.post("/home",bat),e.post("/category",Eat),e.post("/detail",xat),e.post("/play",vat),e.post("/search",_at),e.get("/test",Iat)}};var A0e=Pe(require("crypto"),1),Du="https://film.symx.club",y0e={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36",Accept:"application/json, text/plain, */*","Accept-Language":"zh-CN,zh;q=0.9","Cache-Control":"no-cache",Pragma:"no-cache","Sec-Ch-Ua":'"Google Chrome";v="143", "Chromium";v="143", "Not A(Brand";v="24"',"Sec-Ch-Ua-Mobile":"?0","Sec-Ch-Ua-Platform":'"Windows"',"Sec-Fetch-Dest":"empty","Sec-Fetch-Mode":"cors","Sec-Fetch-Site":"same-origin","X-Platform":"web",Referer:"https://film.symx.club/"},no={reportId:"X-Sign",traceId:"pts",session:"symx",updatedAt:0};function Cat(e){if(e==null)return null;if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}function $r(e){return e==null?"":String(e)}function wat(e){return $r(e).replace(/\$/g,"\uFE69").replace(/#/g,"\uFF03")}function O$(e){let t="0x1A2B3C4D5E6F7A8B9C",r=$r(e);if(!r||r.length%2!==0)return"";let n="";for(let s=0;s<r.length;s+=2){let a=parseInt(r.substring(s,s+2),16);if(Number.isNaN(a))return"";let o=t.charCodeAt(s/2%t.length);n+=String.fromCharCode(a^o)}return n}async function xd(e,t={}){try{let r={...y0e,...t.headers||{}},n=await Oe(e,{method:"get",...t,headers:r});return Cat(n.data)}catch(r){return console.error("\u8BF7\u6C42\u5931\u8D25:",e,r.message),null}}async function Sat(){let e=Date.now();if(no.updatedAt>0&&e-no.updatedAt<5*60*1e3)return;let t=await xd(`${Du}/api/system/config`),r=t&&t.data?t.data:null;if(!r)return;let n=O$(r.reportId),s=O$(r.traceId),a=O$(r.session);n&&s&&a&&(no.reportId=n,no.traceId=s,no.session=a,no.updatedAt=e)}function Tat(){let t=Date.now().toString().slice(0,-1),r=t.split("").reduce((n,s)=>n+Number(s),0);return`${t}${r%10}`}function Bat(e,t){try{let n={p:$r(e).split("?")[0],t,s:`symx_${no.session}`},s="";return $r(no.traceId).split("").forEach(a=>{s+=n[a]||""}),s=s.split("1").join("i").split("0").join("o").split("5").join("s"),A0e.default.createHmac("sha256",no.session).update(s).digest("hex")}catch{return""}}async function b0e(e){await Sat();let t=Tat(),r=Bat(e,t);return r?{"X-Timestamp":t,[no.reportId]:r}:{}}async function Rat(e,t){return{}}async function Nat(e,t){let r=await xd(`${Du}/api/category/top`),n=[];return r&&r.data&&Array.isArray(r.data)&&r.data.forEach(s=>{n.push({type_id:String(s.id),type_name:s.name||""})}),{class:n}}async function kat(e,t){let r=await xd(`${Du}/api/film/category`),n=[];return r&&r.data&&Array.isArray(r.data)&&r.data.forEach(s=>{(s.filmList||[]).forEach(o=>{n.push({vod_id:String(o.id),vod_name:o.name||"",vod_pic:o.cover||"",vod_remarks:o.doubanScore||""})})}),{list:n.slice(0,30)}}async function Dat(e,t){let r=e.body.id,s=e.body.page||1;s==0&&(s=1);let a=await xd(`${Du}/api/film/category/list?area=&categoryId=${encodeURIComponent(r)}&language=&pageNum=${s}&pageSize=15&sort=updateTime&year=`),o=[];return a&&a.data&&a.data.list&&Array.isArray(a.data.list)&&a.data.list.forEach(c=>{o.push({vod_id:String(c.id),vod_name:c.name||"",vod_pic:c.cover||"",vod_remarks:c.updateStatus||""})}),{page:s,pagecount:o.length>=15?s+1:s,list:o}}async function Pat(e,t){let r=Array.isArray(e.body.id)?e.body.id:[e.body.id],n=[];for(let s of r){let a=$r(s),o=`/film/detail?id=${encodeURIComponent(a)}`,c=await b0e(o),u=await xd(`${Du}/api${o}`,{headers:c});if(!u||!u.data)continue;let l=u.data,d=[],f=[];l.playLineList&&Array.isArray(l.playLineList)&&l.playLineList.forEach(p=>{let h=(Array.isArray(p.lines)?p.lines:[]).map(g=>{let A=wat(g.name),y=$r(g.id),v=$r(p.playerId||"");return!A||!y?"":`${A}$${$r(l.id||a)}:${y}:${v}`}).filter(Boolean);h.length!==0&&(d.push($r(p.playerName)||`\u7EBF\u8DEF${d.length+1}`),f.push(h.join("#")))}),n.push({vod_id:$r(l.id||a),vod_name:$r(l.name),vod_pic:$r(l.cover),vod_year:$r(l.year),vod_area:$r(l.other),vod_actor:$r(l.actor),vod_director:$r(l.director),vod_content:$r(l.blurb),vod_remarks:$r(l.updateStatus),vod_douban_score:$r(l.doubanScore),type_name:$r(l.vod_class),vod_play_from:d.join("$$$"),vod_play_url:f.join("$$$")})}return{list:n}}async function Oat(e,t){let r=$r(e.body.id),n=r.split(":"),s=n.length>=2?n[1]:r,a=`/line/play/parse?lineId=${encodeURIComponent(s)}`,o=await b0e(a),c=await xd(`${Du}/api${a}`,{headers:o}),u=c&&c.data?$r(c.data):"";return u?{parse:0,url:u,header:{"User-Agent":y0e["User-Agent"],Referer:Du+"/"}}:{parse:1,url:""}}async function $at(e,t){let r=e.body.page,n=e.body.wd,s=r||1;s==0&&(s=1);let a=await xd(`${Du}/api/film/search?keyword=${encodeURIComponent(n)}&pageNum=${s}&pageSize=10`),o=[];return a&&a.data&&a.data.list&&Array.isArray(a.data.list)&&a.data.list.forEach(c=>{o.push({vod_id:String(c.id),vod_name:c.name||"",vod_pic:c.cover||"",vod_remarks:c.updateStatus||"",vod_year:c.year||"",vod_area:c.area||"",vod_director:c.director||""})}),{page:s,pagecount:o.length>=10?s+1:s,list:o}}async function Lat(e,t){try{let r=function(o){o.statusCode&&o.statusCode==500&&console.error(o)},n=e.server.prefix,s={},a=await e.server.inject().post(`${n}/init`);if(s.init=a.json(),r(a.json()),a=await e.server.inject().post(`${n}/home`),s.home=a.json(),r(a.json()),s.home.class&&s.home.class.length>0&&(a=await e.server.inject().post(`${n}/category`).payload({id:s.home.class[0].type_id,page:1}),s.category=a.json(),r(a.json()),s.category.list&&s.category.list.length>0&&(a=await e.server.inject().post(`${n}/detail`).payload({id:s.category.list[0].vod_id}),s.detail=a.json(),r(a.json()),s.detail.list&&s.detail.list.length>0))){s.play=[];for(let o of s.detail.list){let c=o.vod_play_from.split("$$$"),u=o.vod_play_url.split("$$$");for(let l=0;l<c.length;l++){let d=u[l].split("#");for(let f=0;f<d.length&&f<2;f++)a=await e.server.inject().post(`${n}/play`).payload({flag:c[l],id:d[f].split("$")[1]}),s.play.push(a.json())}}}return a=await e.server.inject().post(`${n}/search`).payload({wd:"\u7231",page:1}),s.search=a.json(),r(a.json()),s}catch(r){return console.error(r),t.code(500),{err:r.message,tip:"check debug console output"}}}var E0e={meta:{key:"symx",name:"\u6728\u516E",type:3},api:async e=>{e.post("/init",Rat),e.post("/home",Nat),e.post("/homeVod",kat),e.post("/category",Dat),e.post("/detail",Pat),e.post("/play",Oat),e.post("/search",$at),e.get("/test",Lat)}};var vd="https://qqqys.com",v0e={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36"},Mat=[{keywords:["8K","8k"],score:200},{keywords:["4K","4k","\u8D85\u6E054K"],score:190},{keywords:["\u84DD\u51494K","\u84DD\u5149HDR"],score:180},{keywords:["AE","\u84DD\u5149"],score:170},{keywords:["1080P\u84DD\u5149","1080PHDR"],score:160},{keywords:["1080P","1080p","\u8D85\u6E05"],score:150},{keywords:["720P","720p","\u9AD8\u6E05"],score:140},{keywords:["480P","480p","\u6807\u6E05"],score:130},{keywords:["360P","360p","\u6D41\u7545"],score:120},{keywords:["YK","\u4F18\u9177"],score:100},{keywords:["TX","\u817E\u8BAF"],score:95},{keywords:["IQ","\u7231\u5947\u827A"],score:90},{keywords:["MG","\u8292\u679C"],score:85},{keywords:["BL","\u54D4\u54E9"],score:80}],Fat=50;function x0e(e,t){let r=`${e}${t}`.toLowerCase();for(let n of Mat)if(n.keywords.some(s=>r.includes(s.toLowerCase())))return n.score;return Fat}async function _d(e){try{return(await Oe(e,{method:"get",headers:v0e})).data}catch(t){return console.error("\u8BF7\u6C42\u5931\u8D25:",e,t.message),null}}async function Qat(e,t){return{}}function $$(e){let t=[];if(!e)return t;for(let r of e){let n=r.type_name||"";r.vod_class&&(n=n+","+r.vod_class),t.push({vod_id:String(r.vod_id),vod_name:r.vod_name,vod_pic:r.vod_pic,vod_remarks:r.vod_remarks,type_name:n,vod_year:r.vod_year})}return t}async function Uat(e,t){let r=await _d(`${vd}/api.php/index/home`);return!r||!r.data?{class:[]}:{class:(r.data.categories||[]).map(o=>({type_id:o.type_name,type_name:o.type_name})),filters:{\u7535\u5F71:[{key:"class",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u52A8\u4F5C",v:"\u52A8\u4F5C"},{n:"\u559C\u5267",v:"\u559C\u5267"},{n:"\u7231\u60C5",v:"\u7231\u60C5"},{n:"\u79D1\u5E7B",v:"\u79D1\u5E7B"},{n:"\u6050\u6016",v:"\u6050\u6016"},{n:"\u60AC\u7591",v:"\u60AC\u7591"},{n:"\u72AF\u7F6A",v:"\u72AF\u7F6A"},{n:"\u6218\u4E89",v:"\u6218\u4E89"},{n:"\u52A8\u753B",v:"\u52A8\u753B"},{n:"\u5192\u9669",v:"\u5192\u9669"},{n:"\u5386\u53F2",v:"\u5386\u53F2"},{n:"\u707E\u96BE",v:"\u707E\u96BE"},{n:"\u7EAA\u5F55",v:"\u7EAA\u5F55"},{n:"\u5267\u60C5",v:"\u5267\u60C5"}]},{key:"area",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u5927\u9646",v:"\u5927\u9646"},{n:"\u9999\u6E2F",v:"\u9999\u6E2F"},{n:"\u53F0\u6E7E",v:"\u53F0\u6E7E"},{n:"\u7F8E\u56FD",v:"\u7F8E\u56FD"},{n:"\u65E5\u672C",v:"\u65E5\u672C"},{n:"\u97E9\u56FD",v:"\u97E9\u56FD"},{n:"\u6CF0\u56FD",v:"\u6CF0\u56FD"},{n:"\u5370\u5EA6",v:"\u5370\u5EA6"},{n:"\u82F1\u56FD",v:"\u82F1\u56FD"},{n:"\u6CD5\u56FD",v:"\u6CD5\u56FD"},{n:"\u5FB7\u56FD",v:"\u5FB7\u56FD"},{n:"\u52A0\u62FF\u5927",v:"\u52A0\u62FF\u5927"},{n:"\u897F\u73ED\u7259",v:"\u897F\u73ED\u7259"},{n:"\u610F\u5927\u5229",v:"\u610F\u5927\u5229"},{n:"\u6FB3\u5927\u5229\u4E9A",v:"\u6FB3\u5927\u5229\u4E9A"}]},{key:"year",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"2026",v:"2026"},{n:"2025",v:"2025"},{n:"2024",v:"2024"},{n:"2023",v:"2023"},{n:"2022",v:"2022"},{n:"2021",v:"2021"},{n:"2020",v:"2020"},{n:"2019",v:"2019"},{n:"2018",v:"2018"},{n:"2017",v:"2017"},{n:"2016",v:"2016"},{n:"2015-2011",v:"2015-2011"},{n:"2010-2000",v:"2010-2000"},{n:"90\u5E74\u4EE3",v:"90\u5E74\u4EE3"},{n:"80\u5E74\u4EE3",v:"80\u5E74\u4EE3"},{n:"\u66F4\u65E9",v:"\u66F4\u65E9"}]},{key:"sort",name:"",init:"hits",value:[{n:"\u4EBA\u6C14",v:"hits"},{n:"\u6700\u65B0",v:"time"},{n:"\u8BC4\u5206",v:"score"},{n:"\u5E74\u4EFD",v:"year"}]}],\u5267\u96C6:[{key:"class",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u7231\u60C5",v:"\u7231\u60C5"},{n:"\u53E4\u88C5",v:"\u53E4\u88C5"},{n:"\u6B66\u4FA0",v:"\u6B66\u4FA0"},{n:"\u5386\u53F2",v:"\u5386\u53F2"},{n:"\u5BB6\u5EAD",v:"\u5BB6\u5EAD"},{n:"\u559C\u5267",v:"\u559C\u5267"},{n:"\u60AC\u7591",v:"\u60AC\u7591"},{n:"\u72AF\u7F6A",v:"\u72AF\u7F6A"},{n:"\u6218\u4E89",v:"\u6218\u4E89"},{n:"\u5947\u5E7B",v:"\u5947\u5E7B"},{n:"\u79D1\u5E7B",v:"\u79D1\u5E7B"},{n:"\u6050\u6016",v:"\u6050\u6016"}]},{key:"area",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u5927\u9646",v:"\u5927\u9646"},{n:"\u9999\u6E2F",v:"\u9999\u6E2F"},{n:"\u53F0\u6E7E",v:"\u53F0\u6E7E"},{n:"\u7F8E\u56FD",v:"\u7F8E\u56FD"},{n:"\u65E5\u672C",v:"\u65E5\u672C"},{n:"\u97E9\u56FD",v:"\u97E9\u56FD"},{n:"\u6CF0\u56FD",v:"\u6CF0\u56FD"},{n:"\u82F1\u56FD",v:"\u82F1\u56FD"}]},{key:"year",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"2026",v:"2026"},{n:"2025",v:"2025"},{n:"2024",v:"2024"},{n:"2023",v:"2023"},{n:"2022",v:"2022"},{n:"2021",v:"2021"},{n:"2020-2016",v:"2020-2016"},{n:"2015-2011",v:"2015-2011"},{n:"2010-2000",v:"2010-2000"},{n:"\u66F4\u65E9",v:"\u66F4\u65E9"}]},{key:"sort",name:"",init:"hits",value:[{n:"\u4EBA\u6C14",v:"hits"},{n:"\u6700\u65B0",v:"time"},{n:"\u8BC4\u5206",v:"score"},{n:"\u5E74\u4EFD",v:"year"}]}],\u52A8\u6F2B:[{key:"class",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u5192\u9669",v:"\u5192\u9669"},{n:"\u5947\u5E7B",v:"\u5947\u5E7B"},{n:"\u79D1\u5E7B",v:"\u79D1\u5E7B"},{n:"\u6B66\u4FA0",v:"\u6B66\u4FA0"},{n:"\u60AC\u7591",v:"\u60AC\u7591"}]},{key:"area",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u5927\u9646",v:"\u5927\u9646"},{n:"\u65E5\u672C",v:"\u65E5\u672C"},{n:"\u6B27\u7F8E",v:"\u6B27\u7F8E"}]},{key:"year",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"2026",v:"2026"},{n:"2025",v:"2025"},{n:"2024",v:"2024"},{n:"2023",v:"2023"},{n:"2022",v:"2022"},{n:"2021",v:"2021"},{n:"2020",v:"2020"},{n:"2019",v:"2019"},{n:"2018",v:"2018"},{n:"2017",v:"2017"},{n:"2016",v:"2016"},{n:"2015",v:"2015"},{n:"2014",v:"2014"},{n:"2013",v:"2013"},{n:"2012",v:"2012"},{n:"2011",v:"2011"},{n:"\u66F4\u65E9",v:"\u66F4\u65E9"}]},{key:"sort",name:"",init:"hits",value:[{n:"\u4EBA\u6C14",v:"hits"},{n:"\u6700\u65B0",v:"time"},{n:"\u8BC4\u5206",v:"score"},{n:"\u5E74\u4EFD",v:"year"}]}],\u7EFC\u827A:[{key:"class",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u771F\u4EBA\u79C0",v:"\u771F\u4EBA\u79C0"},{n:"\u97F3\u4E50",v:"\u97F3\u4E50"},{n:"\u8131\u53E3\u79C0",v:"\u8131\u53E3\u79C0"},{n:"\u6B4C\u821E",v:"\u6B4C\u821E"},{n:"\u7231\u60C5",v:"\u7231\u60C5"}]},{key:"area",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"\u5927\u9646",v:"\u5927\u9646"},{n:"\u9999\u6E2F",v:"\u9999\u6E2F"},{n:"\u53F0\u6E7E",v:"\u53F0\u6E7E"},{n:"\u7F8E\u56FD",v:"\u7F8E\u56FD"},{n:"\u65E5\u672C",v:"\u65E5\u672C"},{n:"\u97E9\u56FD",v:"\u97E9\u56FD"}]},{key:"year",name:"",init:"",value:[{n:"\u5168\u90E8",v:""},{n:"2026",v:"2026"},{n:"2025",v:"2025"},{n:"2024",v:"2024"},{n:"2023",v:"2023"},{n:"2022",v:"2022"},{n:"2021",v:"2021"},{n:"2020",v:"2020"},{n:"2019",v:"2019"},{n:"2018",v:"2018"},{n:"2017",v:"2017"},{n:"2016",v:"2016"},{n:"2015",v:"2015"},{n:"2014",v:"2014"},{n:"2013",v:"2013"},{n:"2012",v:"2012"},{n:"2011",v:"2011"},{n:"\u66F4\u65E9",v:"\u66F4\u65E9"}]},{key:"sort",name:"",init:"hits",value:[{n:"\u4EBA\u6C14",v:"hits"},{n:"\u6700\u65B0",v:"time"},{n:"\u8BC4\u5206",v:"score"},{n:"\u5E74\u4EFD",v:"year"}]}]}}}async function qat(e,t){let r=await _d(`${vd}/api.php/index/home`);if(!r||!r.data)return{list:[]};let n=r.data.categories||[],s=[];for(let a of n)s.push(...$$(a.videos));return{list:s.slice(0,30)}}async function jat(e,t){let r=e.body.id,n=e.body.page,s=e.body.filters||{},a=n||1;a==0&&(a=1);let o=s.sort||"hits",c=`${vd}/api.php/filter/vod?type_name=${encodeURIComponent(r)}&page=${a}&sort=${o}`;s.class&&(c+=`&class=${encodeURIComponent(s.class)}`),s.area&&(c+=`&area=${encodeURIComponent(s.area)}`),s.year&&(c+=`&year=${encodeURIComponent(s.year)}`);let u=await _d(c);return u?{page:a,pagecount:u.pageCount||a,list:$$(u.data)}:{page:a,pagecount:a,list:[]}}async function Hat(e,t){let r=Array.isArray(e.body.id)?e.body.id:[e.body.id],n=[];for(let s of r){let a=await _d(`${vd}/api.php/vod/get_detail?vod_id=${s}`);if(!a||!a.data||!a.data[0])continue;let o=a.data[0],c=a.vodplayer||[],u=null;try{u=await _d(`${vd}/api.php/internal/search_aggregate?vod_id=${s}`)}catch(h){console.error("\u805A\u5408\u6E90\u83B7\u53D6\u5931\u8D25:",h.message)}let l=[],d=(o.vod_play_from||"").split("$$$"),f=(o.vod_play_url||"").split("$$$");for(let h=0;h<d.length;h++){let g=d[h],A=f[h]||"",y=0,v=0,b=g;for(let E of c)if(E.from===g){v=1,y=E.decode_status,g.toLowerCase()!==E.show.toLowerCase()&&(b=`${E.show} (${g})`);break}if(v===1){let E=[],I=A.split("#");for(let w of I)if(w.includes("$")){let S=w.split("$");E.push(`${S[0]}$${g}@${y}@${S[1]}`)}if(E.length>0){let w=x0e(g,b);l.push({lineName:b,playUrls:E.join("#"),qualityScore:w})}}}if(u&&u.data){let h=l.map(g=>g.lineName);u.data.forEach(g=>{if(!h.includes(g.site_name)&&g.vod_play_url){let A=g.site_name,y=g.vod_play_url.replace(/\t+/g,"").trim(),v=[],b=y.split("#");for(let E of b)if(E.includes("$")){let I=E.split("$");v.push(`${I[0]}$${A}@0@${I[1]}`)}if(v.length>0){let E=x0e(A,A);l.push({lineName:A,playUrls:v.join("#"),qualityScore:E})}}})}l.sort((h,g)=>g.qualityScore-h.qualityScore);let p=l.map(h=>h.lineName),m=l.map(h=>h.playUrls);n.push({vod_id:String(o.vod_id),vod_name:o.vod_name||"",vod_pic:o.vod_pic||"",vod_remarks:o.vod_remarks||"",vod_year:o.vod_year||"",vod_area:o.vod_area||"",vod_actor:o.vod_actor||"",vod_director:o.vod_director||"",vod_content:o.vod_content||"",type_name:o.vod_class||"",vod_play_from:p.join("$$$"),vod_play_url:m.join("$$$")})}return{list:n}}async function zat(inReq,_outResp){let id=inReq.body.id,parts=id.split("@"),playFrom=parts[0],needParse=parts[1],rawUrl=parts.slice(2).join("@"),finalUrl="";if(needParse==="1"){let authToken="";for(let i=0;i<3;i++)try{let apiUrl=`${vd}/api.php/decode/url/?url=${encodeURIComponent(rawUrl)}&vodFrom=${playFrom}${authToken}`,data=await _d(apiUrl);if(!data)continue;if(data.code===2&&data.challenge){try{let token=eval(data.challenge);authToken=`&token=${token}`}catch(e){console.error("token\u8BA1\u7B97\u5931\u8D25:",e.message)}continue}if(data.code===1&&data.data&&typeof data.data=="string"&&data.data.startsWith("http")){finalUrl=data.data;break}}catch(e){console.error("\u89E3\u6790\u8BF7\u6C42\u5F02\u5E38:",e.message)}}return!finalUrl&&(finalUrl=rawUrl,/(?:www\.iqiyi|v\.qq|v\.youku|www\.mgtv|www\.bilibili)\.com/.test(rawUrl))?{parse:1,url:finalUrl}:{parse:0,url:finalUrl,header:{"User-Agent":v0e["User-Agent"]}}}async function Gat(e,t){let r=e.body.page,n=e.body.wd,s=r||1;s==0&&(s=1);let a=await _d(`${vd}/api.php/search/index?wd=${encodeURIComponent(n)}&page=${s}&limit=15`);return a?{page:s,pagecount:a.pageCount||s,list:$$(a.data)}:{page:s,pagecount:s,list:[]}}async function Vat(e,t){try{let r=function(o){o.statusCode&&o.statusCode==500&&console.error(o)},n=e.server.prefix,s={},a=await e.server.inject().post(`${n}/init`);if(s.init=a.json(),r(a.json()),a=await e.server.inject().post(`${n}/home`),s.home=a.json(),r(a.json()),s.home.class&&s.home.class.length>0&&(a=await e.server.inject().post(`${n}/category`).payload({id:s.home.class[0].type_id,page:1,filters:{}}),s.category=a.json(),r(a.json()),s.category.list&&s.category.list.length>0&&(a=await e.server.inject().post(`${n}/detail`).payload({id:s.category.list[0].vod_id}),s.detail=a.json(),r(a.json()),s.detail.list&&s.detail.list.length>0))){s.play=[];for(let o of s.detail.list){let c=o.vod_play_from.split("$$$"),u=o.vod_play_url.split("$$$");for(let l=0;l<c.length;l++){let d=u[l].split("#");for(let f=0;f<d.length&&f<2;f++)a=await e.server.inject().post(`${n}/play`).payload({flag:c[l],id:d[f].split("$")[1]}),s.play.push(a.json())}}}return a=await e.server.inject().post(`${n}/search`).payload({wd:"\u7231",page:1}),s.search=a.json(),r(a.json()),s}catch(r){return console.error(r),t.code(500),{err:r.message,tip:"check debug console output"}}}var _0e={meta:{key:"qqqys",name:"3Q",type:3},api:async e=>{e.post("/init",Qat),e.post("/home",Uat),e.post("/homeVod",qat),e.post("/category",jat),e.post("/detail",Hat),e.post("/play",zat),e.post("/search",Gat),e.get("/test",Vat)}};var sy="http://su.haotv.site",Kat={"User-Agent":"okhttp/3.12.11"},Yat={user_id:"XPGBOX",token2:"X28tpHOOiCB6T2VddyLaFNV4JZT0+i9Ep88+rWLcRPJXUkVhsTx5q9Be2N8=",version:"XPGBOX com.phoenix.tv1.6.1",hash:"bd56",screenx:"2268","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/117.0.0.0 Safari/537.36",token:"Yz0QiCqorD4JdlVqQTe4JJB0JazI2RUjg/9smAGhdtRQM3IXmiRx2PEt4t9EUFS+BiIyBffFa4MPMJkOZQJqe/ApC3U9wm2iDW9jWrFCWwR9mDwuMQU33A+F/VyQOhI/jYxKZFsGOcmWilxqLylX8bLLNnAU5jaTrSPwRO+DfBnIdhckWld4V1k2ZfZ3QKbN",timestamp:"1768109944",screeny:"1116"},I0e=20;async function iy(e){try{return(await Oe(e,{method:"get",headers:Kat,timeout:15e3})).data}catch(t){return console.error("\u5C0F\u82F9\u679C\u8BF7\u6C42\u5931\u8D25:",e,t.message),null}}function Wat(e){return!e||!Array.isArray(e)?[]:e.filter(t=>!t.key||!t.key.includes("\u53CA\u65F6\u96E8"))}async function Jat(e,t){return{}}async function Xat(e,t){let r=await iy(`${sy}/api.php/v2.vod/androidtypes`),n=[];return r&&r.data&&Array.isArray(r.data)&&r.data.forEach(s=>{n.push({type_id:String(s.type_id||""),type_name:s.type_name||""})}),{class:n}}async function Zat(e,t){let r=await iy(`${sy}/api.php/v2.main/androidhome`),n=[];return r&&r.data&&r.data.list&&Array.isArray(r.data.list)&&r.data.list.forEach(s=>{s.list&&Array.isArray(s.list)&&s.list.forEach(a=>{let o=a.updateInfo?"\u66F4\u65B0\u81F3"+a.updateInfo:a.score?String(a.score):"";n.push({vod_id:String(a.id||""),vod_name:a.name||"",vod_pic:a.pic||"",vod_remarks:o})})}),{list:n.slice(0,20)}}async function eot(e,t){let r=e.body.id,n=e.body.page,s=e.body.filters||{},a=n||1;a==0&&(a=1);let o={page:a,type:r||"",area:s.areaes||"",year:s.yeares||"",sortby:s.sortby||"",class:s.classes||""},c=Object.keys(o).filter(d=>o[d]!=="").map(d=>d+"="+encodeURIComponent(o[d])).join("&"),u=await iy(`${sy}/api.php/v2.vod/androidfilter10086?${c}`),l=[];return u&&u.data&&Array.isArray(u.data)&&u.data.forEach(d=>{let f=d.updateInfo?"\u66F4\u65B0\u81F3"+d.updateInfo:d.score?String(d.score):"";l.push({vod_id:String(d.id||""),vod_name:d.name||"",vod_pic:d.pic||"",vod_remarks:f})}),{page:a,pagecount:l.length>=I0e?a+1:a,list:l}}async function tot(e,t){let r=Array.isArray(e.body.id)?e.body.id:[e.body.id],n=[];for(let s of r){let a=await iy(`${sy}/api.php/v3.vod/androiddetail2?vod_id=${s}`);if(!a||!a.data)continue;let o=a.data,u=Wat(o.urls||[]).map(l=>l.key+"$"+l.url).join("#");n.push({vod_id:String(o.id||""),vod_name:o.name||"",vod_pic:o.pic||"",vod_remarks:o.updateInfo?"\u66F4\u65B0\u81F3"+o.updateInfo:"",vod_actor:o.actor||"",vod_director:o.director||"",vod_content:o.content||"",vod_play_from:"\u5C0F\u82F9\u679C",vod_play_url:u||""})}return{list:n}}async function rot(e,t){let r=e.body.id;return r.startsWith("http")||(r="http://s.xpgtv.net/m3u8/"+r+".m3u8"),{parse:0,url:r,header:Yat}}async function not(e,t){let r=e.body.page,n=e.body.wd,s=r||1;s==0&&(s=1);let a=await iy(`${sy}/api.php/v2.vod/androidsearch10086?page=${s}&wd=${encodeURIComponent(n)}`),o=[];return a&&a.data&&Array.isArray(a.data)&&a.data.forEach(c=>{let u=c.updateInfo?"\u66F4\u65B0\u81F3"+c.updateInfo:c.score?String(c.score):"";o.push({vod_id:String(c.id||""),vod_name:c.name||"",vod_pic:c.pic||"",vod_remarks:u})}),{page:s,pagecount:o.length>=I0e?s+1:s,list:o}}async function sot(e,t){try{let r=function(o){o.statusCode&&o.statusCode==500&&console.error(o)},n=e.server.prefix,s={},a=await e.server.inject().post(`${n}/init`);if(s.init=a.json(),r(a.json()),a=await e.server.inject().post(`${n}/home`),s.home=a.json(),r(a.json()),s.home.class&&s.home.class.length>0&&(a=await e.server.inject().post(`${n}/category`).payload({id:s.home.class[0].type_id,page:1}),s.category=a.json(),r(a.json()),s.category.list&&s.category.list.length>0&&(a=await e.server.inject().post(`${n}/detail`).payload({id:s.category.list[0].vod_id}),s.detail=a.json(),r(a.json()),s.detail.list&&s.detail.list.length>0))){s.play=[];for(let o of s.detail.list){let c=o.vod_play_from.split("$$$"),u=o.vod_play_url.split("$$$");for(let l=0;l<c.length;l++){let d=u[l].split("#");for(let f=0;f<d.length&&f<2;f++)a=await e.server.inject().post(`${n}/play`).payload({flag:c[l],id:d[f].split("$")[1]}),s.play.push(a.json())}}}return a=await e.server.inject().post(`${n}/search`).payload({wd:"\u7231",page:1}),s.search=a.json(),r(a.json()),s}catch(r){return console.error(r),t.code(500),{err:r.message,tip:"check debug console output"}}}var C0e={meta:{key:"xiaopingguo",name:"\u82F9\u679C",type:3},api:async e=>{e.post("/init",Jat),e.post("/home",Xat),e.post("/homeVod",Zat),e.post("/category",eot),e.post("/detail",tot),e.post("/play",rot),e.post("/search",not),e.get("/test",sot)}};var L$=async e=>(await e.db.getObjectDefault("/sites",{}))?.list||e.config.sites.list,iot=async(e,t)=>{await e.db.push("/sites/list",t)},aot=async e=>{await e.db.delete("/sites/list")};async function M$(e){e.get("/list",async(t,r)=>{r.send({code:0,data:await L$(t.server)})}),e.put("/list",async(t,r)=>{await iot(t.server,t.body.list),r.send({code:0})}),e.delete("/list",async(t,r)=>{await aot(t.server),r.send({code:0})})}var aI=async e=>await e.db.getObjectDefault("/danmu")||e.config.danmu,oot=async(e,t)=>{await e.db.push("/danmu",t)},cot=async e=>{await e.db.delete("/danmu")},uot=3,F$=(e,t=uot)=>{messageToDart({action:"toast",opt:{message:e,duration:t}})},lot=e=>{try{let t=new URL(e);return t.searchParams.set("format","json"),t.toString()}catch{return null}},dot=e=>Array.isArray(e?.comments)?e.comments.length:Array.isArray(e)?e.length:0;async function Q$(e){e.get("/setting",async(t,r)=>{r.send({code:0,data:await aI(t.server)})}),e.put("/setting",async(t,r)=>{await oot(t.server,t.body),r.send({code:0})}),e.delete("/setting",async(t,r)=>{await cot(t.server),r.send({code:0})}),e.post("/push",async(t,r)=>{let n=t.body||{},s=n.url,a=n.sourceName||"\u5F39\u5E55\u6E90",o=n.previewUrl||lot(s);if(!s){r.code(400).send({code:1,message:"Missing push url"});return}o&&(async()=>{try{let c=await Ie.get(o,{timeout:1e4}),u=dot(c.data);u>0?F$(`\u901A\u8FC7 ${a} - \u89E3\u6790\u5230 ${u} \u6761\u5F39\u5E55`):F$("\u6CA1\u6709\u627E\u5230\u5F39\u5E55\u5466~")}catch(c){console.error("Manual danmu preview failed:",c),F$("\u6CA1\u6709\u627E\u5230\u5F39\u5E55\u5466~")}})(),messageToDart({action:"danmuPush",opt:{url:s}}),r.send({code:0})}),e.get("/fe",(t,r)=>{r.type("text/html").send(`
    <!DOCTYPE html>
    <html>
      <head>
        <meta charset="utf-8">
        <title>\u5F39\u5E55\u641C\u7D22</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://lib.baomitu.com/antd/5.25.0/reset.min.css">      </head>
      <body>
        <div id="app"></div>
        <script crossorigin src="https://lib.baomitu.com/react/18.2.0/umd/react.production.min.js"></script>
        <script crossorigin src="https://lib.baomitu.com/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
        <script crossorigin src="https://lib.baomitu.com/axios/0.26.0/axios.min.js"></script>
        <script crossorigin src="https://lib.baomitu.com/dayjs/1.10.8/dayjs.min.js"></script>
        <script crossorigin src="https://lib.baomitu.com/antd/5.25.0/antd.min.js"></script>
        <script>${globalThis.danmuBundle}</script>
      </body>
    </html>
    `)})}var U$=["\u7F8E\u5267","\u97E9\u5267","\u65E5\u5267","\u53F0\u5267","\u6E2F\u5267","\u6E2F\u53F0\u5267","\u56FD\u4EA7\u5267","\u5927\u9646\u5267","\u5185\u5730\u5267","\u6CF0\u5267","\u82F1\u5267","\u7F8E\u5267\u7248","\u82F1\u5267\u7248","\u65E5\u5267\u7248","\u97E9\u5267\u7248","\u53F0\u5267\u7248","\u6E2F\u5267\u7248","\u6CF0\u5267\u7248","\u5F71\u540E","\u5F71\u5E1D","\u56FD\u5267","\u5FAE\u77ED\u5267","\u77ED\u5267","\u7535\u5F71","\u5267\u96C6","\u7EFC\u827A","\u72AF\u7F6A","\u52A8\u6F2B","\u52A8\u753B","\u7EAA\u5F55\u7247","\u77ED\u7247","\u8FDE\u7EED\u5267","\u7CFB\u5217\u5267","\u7F51\u7EDC\u5267","\u7535\u89C6\u5267"],fot=["\u5F71\u7247","\u7247\u5B50","\u7247\u82B1","\u7247\u6BB5","\u9884\u544A","\u9884\u544A\u7247","\u82B1\u7D6E","\u5E55\u540E","\u8BBF\u8C08","\u7279\u522B\u7BC7","\u756A\u5916\u7BC7","OVA","OAD","SP","TV\u7248","\u5267\u573A\u7248","\u7535\u5F71\u7248","\u5F71\u7248","\u5267\u7248","\u56FD\u8BED\u7248","\u666E\u901A\u8BDD\u7248","\u7CA4\u8BED\u7248","\u95FD\u5357\u8BED\u7248","\u5BA2\u5BB6\u8BED\u7248","\u5434\u8BED\u7248","\u5DDD\u8BED\u7248","\u6E58\u8BED\u7248","\u8D63\u8BED\u7248","\u7CA4\u8BED\u914D\u97F3\u7248","\u56FD\u8BED\u914D\u97F3\u7248","\u666E\u901A\u8BDD\u914D\u97F3\u7248","\u65B9\u8A00\u7248","\u539F\u7248\u914D\u97F3","\u539F\u97F3\u7248","\u53F0\u8BED\u7248","\u7CA4\u8BED\u4E2D\u5B57\u7248","\u56FD\u8BED\u4E2D\u5B57\u7248","\u666E\u901A\u8BDD\u4E2D\u5B57\u7248","\u7CA4\u8BED\u539F\u58F0\u7248","\u56FD\u8BED\u539F\u58F0\u7248","\u666E\u901A\u8BDD\u539F\u58F0\u7248","\u7CA4\u8BED\u5185\u5D4C\u5B57\u5E55\u7248","\u56FD\u8BED\u5185\u5D4C\u5B57\u5E55\u7248","\u666E\u901A\u8BDD\u5185\u5D4C\u5B57\u5E55\u7248","\u52A8\u753B\u7248","\u771F\u4EBA\u7248","\u6539\u7F16\u7248","\u91CD\u5236\u7248","\u4FEE\u590D\u7248","\u52A0\u957F\u7248","\u672A\u5220\u51CF\u7248","\u5B8C\u6574\u7248","\u5BFC\u6F14\u526A\u8F91\u7248","\u7EC8\u6781\u7248","\u7279\u522B\u7248","\u9650\u5B9A\u7248","\u6536\u85CF\u7248","\u8C6A\u534E\u7248","\u5178\u85CF\u7248","\u9AD8\u6E05\u7248","\u8D85\u6E05\u7248","\u6807\u6E05\u7248","HD\u7248","UHD\u7248","4K\u7248","\u84DD\u5149\u7248","DVD\u7248","BD\u7248","WEB\u7248","TVrip","BDrip","DVDrip","HDrip","WEB-DL","HDTV","DVDRip","BRRip","HDRip","BluRay","TS","TC","CAM","\u62A2\u5148\u7248","\u67AA\u7248","\u5077\u62CD\u7248","\u6CC4\u9732\u7248","\u62A2\u5148\u770B","\u6B63\u7247","\u6B63\u7247\u7247\u6BB5","\u6B63\u7247\u7CBE\u534E","\u82B1\u7D6E\u96C6\u9526","\u5E55\u540E\u82B1\u7D6E","\u5236\u4F5C\u7279\u8F91","\u8BBF\u8C08\u5F55","\u9996\u6620\u793C","\u7EA2\u6BEF\u79C0","\u8DEF\u6F14","\u53D1\u5E03\u4F1A","\u9884\u544A\u7247\u5408\u96C6","\u9884\u544A\u7247\u82B1\u7D6E","\u7247\u82B1\u9884\u544A","\u7CBE\u5F69\u7247\u6BB5","\u7CBE\u5F69\u96C6\u9526","\u7CBE\u9009\u7247\u6BB5","\u9AD8\u80FD\u7247\u6BB5","\u9AD8\u5149\u65F6\u523B","\u526A\u8F91\u7248","\u6DF7\u526A","MV","\u4E3B\u9898\u66F2","\u63D2\u66F2","\u7247\u5C3E\u66F2","\u914D\u4E50","\u539F\u58F0","OST","\u539F\u58F0\u5E26","\u539F\u58F0\u5927\u789F","\u97F3\u4E50\u96C6","\u97F3\u4E50\u4F1A","\u6F14\u5531","Live","Live\u7248","\u73B0\u573A\u7248","\u73B0\u573A\u5F55\u5236","\u821E\u53F0\u7248","\u821E\u53F0\u5267","\u8BDD\u5267","\u6B4C\u5267","\u821E\u5267","\u620F\u66F2","\u4EAC\u5267","\u8D8A\u5267","\u7CA4\u5267","\u8BC4\u5267","\u9EC4\u6885\u620F","\u4E8C\u4EBA\u8F6C","\u76F8\u58F0","\u5C0F\u54C1","\u7EFC\u827A\u79C0","\u771F\u4EBA\u79C0","\u8131\u53E3\u79C0","\u8BBF\u8C08\u8282\u76EE","\u7EAA\u5F55\u7247\u7CFB\u5217","\u4E13\u9898\u7247","\u79D1\u6559\u7247","\u52A8\u753B\u7247","\u52A8\u6F2B\u7247","\u52A8\u753B\u77ED\u7247","\u52A8\u753B\u7535\u5F71","\u52A8\u753B\u7CFB\u5217","\u52A8\u753B\u5267\u96C6","\u52A8\u753B\u8FDE\u7EED\u5267","\u52A8\u753BOVA","\u52A8\u753BOAD","\u52A8\u753BSP","\u52A8\u753B\u7279\u5178","\u52A8\u753B\u5408\u96C6","\u52A8\u753B\u7CBE\u9009","\u7535\u5F71\u5408\u96C6","\u5F71\u7247\u5408\u96C6","\u7CFB\u5217\u5408\u96C6","\u5408\u96C6\u7248","\u5957\u88C5\u7248","\u5957\u88C5\u5408\u96C6","\u5168\u96C6","\u5168\u7CFB\u5217","\u5168\u5B63","\u7B2C\u4E00\u5B63","\u7B2C\u4E8C\u5B63","\u7B2C\u4E09\u5B63","\u7B2C\u56DB\u5B63","\u7B2C\u4E94\u5B63","\u7B2C\u516D\u5B63","\u7B2C\u4E03\u5B63","\u7B2C\u516B\u5B63","\u7B2C\u4E5D\u5B63","\u7B2C\u5341\u5B63","\u66F4\u65B0\u4E2D","\u5B8C\u7ED3","\u5B8C\u7ED3\u7BC7","\u5B8C\u7ED3\u5B63","\u6700\u7EC8\u5B63","\u6700\u7EC8\u7AE0","\u7EC8\u7AE0","\u7EC8\u7BC7","\u5927\u7ED3\u5C40","\u5927\u7D50\u5C40","\u7279\u522B\u7BC7\u5B8C\u7ED3","\u756A\u5916\u5B8C\u7ED3","OVA\u5B8C\u7ED3","OAD\u5B8C\u7ED3","SP\u5B8C\u7ED3","\u5168\u5267\u7EC8","\u5B8C\u7ED3\u6492\u82B1","\u5B8C\u7ED3\u7EAA\u5FF5","\u5B8C\u7ED3\u7279\u8F91","\u5B8C\u7ED3\u8BBF\u8C08","\u5B8C\u7ED3\u82B1\u7D6E","\u5B8C\u7ED3\u5408\u96C6","\u5B8C\u7ED3\u7BC7\u5408\u96C6","\u5B8C\u7ED3\u7EAA\u5FF5\u5408\u96C6","\u5B8C\u7ED3\u7279\u8F91\u5408\u96C6","\u5B8C\u7ED3\u8BBF\u8C08\u5408\u96C6","\u5B8C\u7ED3\u82B1\u7D6E\u5408\u96C6","\u5B8C\u7ED3\u7EAA\u5FF5\u7279\u8F91","\u5B8C\u7ED3\u7EAA\u5FF5\u8BBF\u8C08","\u5B8C\u7ED3\u7EAA\u5FF5\u82B1\u7D6E","\u5B8C\u7ED3\u7EAA\u5FF5\u5408\u96C6\u7279\u8F91","\u5B8C\u7ED3\u7EAA\u5FF5\u5408\u96C6\u8BBF\u8C08","\u5B8C\u7ED3\u7EAA\u5FF5\u5408\u96C6\u82B1\u7D6E","\u5B8C\u7ED3\u7EAA\u5FF5\u7279\u8F91\u8BBF\u8C08","\u5B8C\u7ED3\u7EAA\u5FF5\u7279\u8F91\u82B1\u7D6E","\u5B8C\u7ED3\u7EAA\u5FF5\u8BBF\u8C08\u82B1\u7D6E","\u5B8C\u7ED3\u7EAA\u5FF5\u5408\u96C6\u7279\u8F91\u8BBF\u8C08\u82B1\u7D6E","BD","BDRIP","WEB-DL","HDRip","DVDRip","BDRip","BRRip","Rip","BluRay","IMAX","CAM","HD","HDR","UHD","4K","1080p","720p","2160p","480p","120fps","60fps","x264","x265","H264","HEVC","AAC","dts","ddp","truehd","10bit","8bit","5.1","7.1","\u56FD\u8BED","\u7CA4\u8BED","\u82F1\u8BED","\u65E5\u8BED","\u97E9\u8BED","\u6CF0\u8BED","\u6CD5\u8BED","\u5FB7\u8BED","\u897F\u73ED\u7259\u8BED","\u4FC4\u8BED","\u8461\u8404\u7259\u8BED","\u610F\u5927\u5229\u8BED","\u81FB\u5F69","\u4E2D\u5B57","\u7B80\u4E2D","\u7E41\u4E2D","\u7B80\u7E41\u4E2D\u5B57","\u4E2D\u82F1\u53CC\u5B57","\u5185\u5D4C","\u5185\u5C01","\u675C\u6BD4\u5168\u666F\u58F0","\u675C\u6BD4\u97F3\u6548","\u65E0\u6C34\u5370","\u5B8C\u6574\u7248","\u539F\u58F0\u7248","\u89E3\u8BF4\u7248","\u9884\u544A\u7247","\u672A\u5220\u51CF\u7248","\u52A0\u957F\u7248","\u84DD\u5149","\u62A2\u5148\u7248","TC\u7248","\u62A2\u5148","TC","\u4E24\u5B63\u5168","\u5168\u5B63","\u5168\u96C6","DV","\u538B\u5236","HQ","\u5E27","\u7535\u5F71\u7248","\u8C46\u74E3","\u66F4\u65B0","\u66F4\u65B0\u5230","\u63A8\u8350","\u52A8\u4F5C","\u5192\u9669","\u7231\u60C5","\u79D1\u5E7B","\u60AC\u7591","\u60CA\u609A","\u6050\u6016","\u559C\u5267","\u60B2\u5267","\u5267\u60C5","\u5947\u5E7B","\u72AF\u7F6A","\u6218\u4E89","\u5386\u53F2","\u4F20\u8BB0","\u97F3\u4E50","\u6B4C\u821E","\u5BB6\u5EAD","\u513F\u7AE5","\u4F53\u80B2","\u707E\u96BE","\u4F26\u7406","\u77ED\u7247","\u5FAE\u7535\u5F71","\u9AD8\u6E05","\u8D85\u6E05","\u6807\u6E05","\u62A2\u9C9C\u770B","\u9996\u64AD","\u72EC\u64AD","\u70ED\u64AD","\u8FDE\u8F7D\u4E2D","\u6700\u65B0","\u7ECF\u5178","\u70ED\u95E8","\u83B7\u5956","\u53E3\u7891","\u597D\u8BC4","\u9AD8\u5206","\u8C46\u74E3\u9AD8\u5206","IMDb\u9AD8\u5206","\u672A\u5206\u7EA7","\u9650\u5236\u7EA7","\u5BFC\u6F14\u526A\u8F91","\u52A0\u957F","\u7279\u522B\u52A0\u957F","\u7EC8\u6781\u526A\u8F91","\u6536\u85CF","\u8C6A\u534E","\u7EAA\u5FF5","\u9650\u5B9A","\u91CD\u6620","\u4FEE\u590D","\u6570\u7801\u4FEE\u590D","\u91CD\u5236","\u84DD\u5149\u4FEE\u590D","\u91CD\u5236\u9AD8\u6E05","\u9AD8\u6E05\u91CD\u5236","\u91CD\u7F16","\u91CD\u526A","\u914D\u97F3","\u8BD1\u5236","\u539F\u58F0","\u53CC\u8BED","\u591A\u8BED","\u591A\u58F0\u9053","\u73AF\u7ED5\u58F0","\u5168\u666F\u58F0","3D","VR","\u5168\u666F","360\u5EA6","8K","\u539F\u753B","\u65E0\u635F","\u6709\u635F","\u538B\u7F29","\u672A\u538B\u7F29","\u9AD8\u7801\u7387","\u4F4E\u7801\u7387","\u91CD\u7F16\u7801","\u591A\u5B57\u5E55","\u591A\u97F3\u8F68","\u53CC\u97F3\u8F68","\u591A\u7248\u672C","\u5408\u96C6","\u5957\u88C5","\u7CFB\u5217","\u5B8C\u7ED3\u7248","\u6700\u7EC8\u5B63","\u6700\u7EC8\u7AE0","\u7EC8\u7AE0","\u5927\u7ED3\u5C40","\u7279\u522B\u7BC7","\u756A\u5916\u7BC7","OVA","OAD","SP","\u5267\u573A\u7248","\u7535\u5F71\u7248","\u5F71\u7248","\u5267\u7248","\u52A8\u753B\u7248","\u771F\u4EBA\u7248","\u6539\u7F16\u7248","\u539F\u521B","\u884D\u751F","\u756A\u5916","\u7EED\u96C6","\u524D\u4F20","\u540E\u4F20","\u91CD\u542F","\u7FFB\u62CD","\u91CD\u62CD","\u81F4\u656C","\u7EAA\u5FF5","\u732E\u793C","\u8D3A\u5C81","\u6691\u671F\u6863","\u56FD\u5E86\u6863","\u8D3A\u5C81\u6863","\u6625\u8282\u6863","\u60C5\u4EBA\u8282\u6863","\u4E2D\u79CB\u6863","\u6863\u671F","\u4E0A\u6620","\u5B9A\u6863","\u9996\u6620","\u516C\u6620","\u4E0A\u6620\u65F6\u95F4","\u4E0A\u6620\u65E5\u671F","\u7968\u623F","\u7968\u623F\u51A0\u519B","\u7968\u623F\u699C","\u53E3\u7891\u699C","\u8BC4\u5206\u699C","\u6392\u884C\u699C","\u699C\u5355","\u699C\u5355\u7B2C\u4E00","\u70ED\u95E8\u699C","\u70ED\u641C","\u70ED\u8BAE","\u8BDD\u9898","\u70ED\u8BAE\u8BDD\u9898","\u70ED\u95E8\u8BDD\u9898","\u8BA8\u8BBA\u5EA6","\u5173\u6CE8\u5EA6","\u70ED\u5EA6","\u70ED\u5EA6\u699C","\u70ED\u95E8\u63A8\u8350","\u7CBE\u9009","\u529B\u8350","\u5F3A\u70C8\u63A8\u8350","\u5FC5\u770B","\u4E0D\u53EF\u9519\u8FC7","\u7ECF\u5178\u4E4B\u4F5C","\u795E\u4F5C","\u4F73\u4F5C","\u9AD8\u5206\u4F73\u4F5C","\u9AD8\u5206\u795E\u4F5C","\u70C2\u7247","\u5DEE\u8BC4","\u4F4E\u5206","\u53E3\u7891\u7206\u68DA","\u53E3\u7891\u6251\u8857","\u53E3\u7891\u4E24\u6781","\u53E3\u7891\u5206\u5316","\u4E89\u8BAE","\u70ED\u8BAE\u4E0D\u65AD","\u5907\u53D7\u5173\u6CE8","\u4E07\u4F17\u671F\u5F85","\u671F\u5F85\u5DF2\u4E45","\u4E07\u4F17\u77A9\u76EE","\u5E74\u5EA6\u6700\u4F73","\u5E74\u5EA6\u6700\u5DEE","\u5E74\u5EA6\u4E4B\u4F5C","\u5E74\u5EA6\u9ED1\u9A6C","\u5E74\u5EA6\u60CA\u559C","\u5E74\u5EA6\u5931\u671B","\u538B\u8F74\u4E4B\u4F5C","\u6536\u5B98\u4E4B\u4F5C","\u6536\u5B98","\u6536\u5B98\u5B63","\u6536\u5B98\u6218","\u5927\u7ED3\u5C40\u524D\u7BC7","\u5927\u7ED3\u5C40\u540E\u7BC7","\u6700\u7EC8\u56DE","\u6700\u7EC8\u8BDD","\u6700\u7EC8\u7AE0\u524D\u7BC7","\u6700\u7EC8\u7AE0\u540E\u7BC7"],pot=[...U$,...fot],w0e=new RegExp(pot.join("|"),"ig"),hot=new RegExp(U$.join("|"),"ig");function B0e(e){if(!e||!e.trim())return"";let t=e.trim();t=t.replace(//g,""),t=t.replace(/-/g," "),t=t.replace(hot,""),t=t.replace(/\s+/g," ").trim();let r=t.match(/^[\u4e00-\u9fa5]+\d+(?=|\s|$)/);if(r)return r[0];let n=t.match(/^[\u4e00-\u9fa5]+[\u4e00-\u9fa50-9]+\s*(?=\(\d{4}\))/);if(n)return n[0];let s=t.match(/^[\u4e00-\u9fa5]+[\u4e00-\u9fa5 ,.]+\s*(?=\(||\s+\d{4})/),a=s?s[0].trim():"",o=!1,c=t.match(/(.+?)/);if(c)t=c[1],o=!0;else{let d=new RegExp(`\u3010((?!${U$.join("|")})[\u4E00-\u9FA5]{2,}[^/]+?)\u3011`,"i"),f=t.match(d);f&&(t=f[1],o=!0)}!o&&a&&(t=a);let u=[[/.*-/g,""],[/\b\d{4}\b/g,""],[/(?<!^)\[.*?\]|\{.*?\}|.*?|.*?/g," "],[/\b\d+(\.\d+)?[GMK]B?\b/gi,""],[w0e,""],[/\d+(\.\d+)?/g,""],[/\b\d+(?=fps|)/g,""],[/\b[a-zA-Z]\b/g,""],[/(?<![\u4e00-\u9fa5])\b\d+\b(?![\u4e00-\u9fa5])/g,""],[/[^a-zA-Z0-9\u4e00-\u9fa5 ]/g,""],[/\s+/g," "]];for(let d of u)t=t.replace(d[0],d[1]);t=t.trim(),t.includes(" ")&&(t=t.substring(0,t.indexOf(" "))),!o&&a&&(t=t.replace(/\s/g,""));let l=e.match(/([\u4e00-\u9fa5]{2,})\s*$/);if(l){let d=l[1];(t.length<2||/\d+/.test(t))&&(t=d)}if(!t){let d=e.match(/\[(.*?)\]/);d&&(t=d[1].trim(),t=t.replace(w0e,"").replace(/\d+/g,"").replace(/\s+/g," ").trim())}return t.trim()}var S0e={\u96F6:0,\u4E00:1,\u4E8C:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6,\u4E03:7,\u516B:8,\u4E5D:9},T0e={\u5341:10,\u767E:100,\u5343:1e3,\u4E07:1e4,\u4EBF:1e8};function R0e(e){if(!e)return-1;let t=0,r=0,n=0,s=!1;for(let a=0;a<e.length;a++){let o=e[a];if(S0e.hasOwnProperty(o))n=S0e[o];else if(T0e.hasOwnProperty(o)){let c=T0e[o];c===10?(n===0&&(n=1),r+=n*c,n=0):c===1e4||c===1e8?(r+=n,t+=r*c,r=0,n=0,s=!0):(r+=(n||1)*c,n=0)}else return-1}return s||(t+=r),t+=n,e.startsWith("\u5341")&&t<20&&(t=10+t%10),t}function Pu(e){return e&&e.replace(/([]+)|(\d+)/g,(t,r,n)=>{if(r){let s=R0e(r);return s!==-1?String(s):t}else if(n)return String(parseInt(n,10));return t})}function mot(e){let t=e;return t=t.replace(/[()[\]{}]\s*([])\s*[()[\]{}]/g,"$1"),t=t.replace(/(\[|\{|\|).*?(\]|\}||)/g," "),t=t.replace(/\d+\s*(fps||frames?|hz|)/gi," "),t=t.replace(/\b(\d+(p|k|i)|4k|8k|uhd|hd|fhd|qhd|2160p|1440p|1080p|720p|480p|360p)\b/gi," "),t=t.replace(/\b(19|20)\d{2}\b/g," "),t=t.replace(/\b(?:dts|ddp|aac|ac3|eac3|truehd|atmos)\d+(?:\.\d+)?\b|\b\d+\.\d+\b/gi," "),t=t.replace(/\b(8bit|10bit|12bit)\b/gi," "),t=t.replace(/\b(hdr|hdr10|hdr10\+|dolby vision|dv|hlg)\b/gi," "),t=t.replace(/\b(x264|x265|h\.264|h\.265|h264|h265|hevc|mpeg4|av1|vp9)\b/gi," "),t=t.replace(/\b(web-dl|bluray|bdrip|hdrip|dvdrip|brrip|hdtv|dvdr|cam|ts|tc|r5|scr)\b/gi," "),t=t.replace(/\b(hq|sd|hd|fhd|uhd|imax|superbit|remux|extended|uncut|directors cut|dc|special edition|se)\b/gi," "),t=t.replace(/\b(|||||||||||||||||||||hdr)\b/gi," "),t=t.replace(/[\-\_.,()]+/g," "),t.replace(/\s+/g," ").trim()}function got(e){let t=e.replace(/(\[|\{|\|).*?(\]|\}||)/g," ");if(/s\d+e\d+/i.test(t))return"-1";let r=t.match(/[\u4e00-\u9fa5\-\_\.\s]+(0*\d{1,8})(?:[\-\_\.\s]|$)/);if(r){let n=r[1],s=parseInt(n,10);if(s>0&&!(s>=1900&&s<=2100))return Pu(n)}if(r=t.trim().match(/^0*\d{1,8}$/),r){let n=r[0],s=parseInt(n,10);if(s>0&&!(s>=1900&&s<=2100))return Pu(n)}return"-1"}function Aot(e){let t="\u671F|\u5B63",r="\u4E0A\u4E2D\u4E0B",n="\u96C6\u8A71\u8BDD",s=new RegExp(`(\u7B2C?)(0*(d{1,8}|[\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D\u5341\u767E\u5343\u4E07\u4EBF]+))((?:${t})[${r}]?[\uFF08(]?[${r}]?[)\uFF09]?)`),a=e.match(s);if(a){let c=a[1],u=a[2],l=a[4].replace(/[()]/g,"");return u=Pu(u),c+u+l}let o=Array.from(e.matchAll(/(?:s\d+.*?e|e)(\d{1,8})(?!\d)/gi));if(o.length>0)return Pu(o[o.length-1][1]);if(s=new RegExp(`\u7B2C([\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D\u5341\u767E\u5343\u4E07\u4EBF]+)[${n}]`),a=e.match(s),a){let c=R0e(a[1]);return c>0?String(c):"-1"}return s=new RegExp(`\u7B2C(d{1,8})[${n}]`),a=e.match(s),a||(a=e.match(/ep(\d{1,8})/i),a)||(s=new RegExp(`(d{1,8})[${n}]`),a=e.match(s),a)?Pu(a[1]):"-1"}function yot(e){let t="a-zA-Z\xC0-\u017F",r=new RegExp(`(?<![${t}d])0*(\\d{1,8})(?![${t}d])`,"gu"),n=e.match(r);if(n)for(let s of n){let a=parseInt(s,10);if(!(a>=1900&&a<=2100))return Pu(s)}return"-1"}function N0e(e){if(!e)return"-1";let t=e,r=t.lastIndexOf(".");r>0&&(t=t.substring(0,r));let n=mot(t),s=Aot(n);if(s!=="-1")return s;let a=got(t);return a!=="-1"?a:yot(n)}var q$=async e=>(await e.db.getObjectDefault("/t4",{}))?.list||e.config.t4?.list||[],bot=async(e,t)=>{await e.db.push("/t4/list",t)},Eot=async e=>{await e.db.delete("/t4/list")};async function j$(e){e.get("/list",async(t,r)=>{r.send({code:0,data:await q$(t.server)})}),e.put("/list",async(t,r)=>{await bot(t.server,t.body),r.send({code:0})}),e.delete("/list",async(t,r)=>{await Eot(t.server),r.send({code:0})})}function H$(e,t){let r=Ie.create({baseURL:t});function n(){return{}}async function s(){try{let{data:l}=await r.get("",{params:{filter:!0}});return l}catch(l){return console.warn(l),{class:[]}}}async function a(l){try{let{data:d}=await r.get("",{params:{ac:"detail",t:l.body.id,pg:l.body.page||1}});return d}catch(d){console.warn(d)}}async function o(l){try{let{data:d}=await r.get("",{params:{ac:"detail",ids:l.body.id}});return d}catch(d){console.warn(d)}}async function c(l){try{let{data:d}=await r.get("",{params:{play:l.body.id,flag:l.body.flag}});return!d.url&&!d.urls&&l.body.id.startsWith("http")?{url:l.body.id}:d}catch(d){console.warn(d)}}async function u(l){try{let{data:d}=await r.get("",{params:{ac:"list",wd:l.body.wd}});return d}catch(d){console.warn(d)}}return{meta:{key:e,name:e,type:3,t4:!0},api:async l=>{l.post("/init",n),l.post("/home",s),l.post("/category",a),l.post("/detail",o),l.post("/play",c),l.post("/search",u)}}}var z$=async e=>(await e.db.getObjectDefault("/cms",{}))?.list||e.config.cms?.list||[],xot=async(e,t)=>{await e.db.push("/cms/list",t)},vot=async e=>{await e.db.delete("/cms/list")};async function G$(e){e.get("/list",async(t,r)=>{r.send({code:0,data:await z$(t.server)})}),e.put("/list",async(t,r)=>{await xot(t.server,t.body),r.send({code:0})}),e.delete("/list",async(t,r)=>{await vot(t.server),r.send({code:0})})}function V$(e,t){let r=Ie.create({baseURL:t});function n(){return{}}async function s(){try{let{data:l}=await r.get("",{params:{ac:"class"}});return l}catch(l){return console.warn(l),{class:[]}}}async function a(l){try{let{data:d}=await r.get("",{params:{ac:"detail",t:l.body.id,pg:l.body.page||1}});return d}catch(d){console.warn(d)}}async function o(l){try{let{data:d}=await r.get("",{params:{ac:"detail",ids:l.body.id}});return d}catch(d){console.warn(d)}}async function c(l){return{url:l.body.id}}async function u(l){try{let{data:d}=await r.get("",{params:{ac:"list",wd:l.body.wd}});return d}catch(d){console.warn(d)}}return{meta:{key:e,name:e,type:3,cms:!0},api:async l=>{l.post("/init",n),l.post("/home",s),l.post("/category",a),l.post("/detail",o),l.post("/play",c),l.post("/search",u)}}}var k0e=async e=>{let t=[f0e,Jpe,Ope,$pe,Xpe,Sde,Lpe,Mpe,Fpe,Qpe,Vpe,Wpe,l0e,t0e,h0e,E0e,_0e,C0e,g0e,m0e,Ppe,p0e];return(await q$(e)).forEach(s=>{t.push(H$(s.name,s.address))}),(await z$(e)).forEach(s=>{t.push(V$(s.name,s.address))}),t},D0e="/spider",K$={};async function Y$(e,{db:t,config:r}){(await k0e({db:t,config:r})).forEach(s=>{let a=D0e+"/"+s.meta.key+"/"+s.meta.type;e.register(s.api,{prefix:a}),s.check?.(e),console.log("Register spider: "+a)}),e.register(async s=>{s.get("/check",async function(o,c){c.send({run:!s.stop})});let a=async()=>{let o={video:{sites:[]},read:{sites:[]},comic:{sites:[]},music:{sites:[]},pan:{sites:[]},color:s.config.color||[]};return(await k0e({db:t,config:r})).forEach(u=>{let l=Object.assign({},u.meta);l.api=D0e+"/"+l.key+"/"+l.type,l.key="nodejs_"+l.key;let d=u.meta.type;d<10?o.video.sites.push(l):d>=10&&d<20?o.read.sites.push(l):d>=20&&d<30?o.comic.sites.push(l):d>=30&&d<40?o.music.sites.push(l):d>=40&&d<50&&o.pan.sites.push(l)}),o};s.get("/config",async function(o,c){let u=await a(),l=await L$(o.server),d=u.video.sites,f={},p={};d.forEach(h=>{p[h.key]=h});let m=[];l.forEach(h=>{f[h.key]=!0;let g=p[h.key];if(g&&h.enable){let A=typeof h.name=="string"?h.name.trim():"";m.push({...g,name:A||g.name})}}),d.forEach(h=>{f[h.key]||m.push(h)}),u.video.sites=m,u.video.danmuSearchUrl=`http://127.0.0.1:${o.server.address().port}/website/danmu/fe`,c.send(u)}),s.get("/full-config",a)}),e.get("/danmu-proxy",async(s,a)=>{try{let{name:o,episodeNumber:c,originalName:u}=s.query,l=await aI(s.server),d=l.debug||!1;d&&(console.log("=== \u5F39\u5E55\u5339\u914D\u8C03\u8BD5\u4FE1\u606F ==="),console.log("\u4F20\u5165\u53C2\u6570:"),console.log("  - \u89C6\u9891\u540D\u79F0:",o),console.log("  - \u539F\u59CB\u540D\u79F0:",u||"(\u672A\u63D0\u4F9B)"),console.log("  - \u96C6\u6570:",c),console.log("\u914D\u7F6E\u7684\u5F39\u5E55\u6E90\u6570\u91CF:",l.urls.length));let f=1,m=(u||o).match(/([\d]+)/);if(m){let I=m[1];f={\u4E00:1,\u4E8C:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6,\u4E03:7,\u516B:8,\u4E5D:9,\u5341:10}[I]||parseInt(I)||1,d&&console.log("\u68C0\u6D4B\u5230\u5B63\u6570\u4FE1\u606F:",`\u7B2C${f}\u5B63`)}let h=`S${f}`,g=!c||c==="0",A=o;!g&&c&&(A=`${o} ${h}E${c}`),d&&console.log("\u6784\u9020\u7684\u6587\u4EF6\u540D:",A);let y=l.urls.map(async I=>{try{d&&(console.log(`
\u6B63\u5728\u8BF7\u6C42\u5F39\u5E55\u6E90: ${I.name||I.address}`),console.log(`\u8BF7\u6C42URL: ${I.address}/api/v2/match`),console.log(`\u8BF7\u6C42\u6570\u636E: { fileName: "${A}" }`));let w=await Ie.post(`${I.address}/api/v2/match`,{fileName:A},{headers:{"Content-Type":"application/json"},timeout:1e4});if(d&&(console.log(`
${I.name||I.address} \u8FD4\u56DE\u7ED3\u679C:`),console.log("  - \u5339\u914D\u6210\u529F:",w.data?.success),console.log("  - \u662F\u5426\u5339\u914D:",w.data?.isMatched)),w.data?.success&&w.data?.isMatched&&w.data?.matches?.length>0){let S=w.data.matches[0];return d&&(console.log("  - \u5339\u914D\u7ED3\u679C:"),console.log("    * \u96C6\u6570ID:",S.episodeId),console.log("    * \u96C6\u6570\u6807\u9898:",S.episodeTitle),console.log("    * \u52A8\u753B\u6807\u9898:",S.animeTitle)),{url:I,match:S,score:100}}else return d&&console.log("  - \u672A\u627E\u5230\u7CBE\u786E\u5339\u914D"),null}catch(w){return d&&(console.log(`
${I.name||I.address} \u8BF7\u6C42\u5931\u8D25:`),console.log("  - \u9519\u8BEF\u4FE1\u606F:",w.message),w.response&&(console.log("  - \u54CD\u5E94\u72B6\u6001\u7801:",w.response.status),console.log("  - \u54CD\u5E94\u6570\u636E:",JSON.stringify(w.response.data)))),null}}),b=(await Promise.all(y)).filter(I=>I!==null);d&&console.log(`
\u5339\u914D\u7ED3\u679C\u6C47\u603B: \u5171 ${b.length} \u4E2A\u6709\u6548\u7ED3\u679C`);let E=null;if(b.length>0){let I=b[0];d&&(console.log("\u9009\u62E9\u7684\u5F39\u5E55\u6E90:",I.url.name||I.url.address),console.log("\u9009\u62E9\u7684\u96C6\u6570:",I.match.episodeTitle)),E={url:`${I.url.address}/api/v2/comment/${I.match.episodeId}?withRelated=true&chConvert=1`,sourceName:I.url.name||"\u5F39\u5E55\u6E90",episodeTitle:I.match.episodeTitle},messageToDart({action:"toast",opt:{message:`\u5339\u914D\u5230 ${E.episodeTitle} - \u5F39\u5E55\u89E3\u6790\u4E2D......`,duration:3}})}else d&&console.log(`
\u6240\u6709\u5F39\u5E55\u6E90\u5747\u672A\u5339\u914D\u6210\u529F`);if(E){d&&(console.log(`
=== \u8BF7\u6C42\u5F39\u5E55\u6570\u636E ===`),console.log("\u5F39\u5E55URL:",E.url));let I=await Ie.get(E.url,{timeout:1e4});d&&(console.log("\u5F39\u5E55\u54CD\u5E94\u72B6\u6001:",I.status),console.log("\u5F39\u5E55\u6570\u636E:",I.data?.comments?.length||0,"\u6761"));let w=`<?xml version="1.0" encoding="UTF-8"?>
<i>
`,S=0;if(I.data?.comments?.length>0){for(let T of I.data.comments)if(T.p&&T.m){let B=T.m.trim();if(B){let N=B.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");w+=`    <d p="${T.p}">${N}</d>
`,S++}}}w+="</i>",d&&(console.log("\u8F6C\u6362\u540E\u7684\u5F39\u5E55\u6570\u91CF:",S),console.log("XML\u6570\u636E\u5927\u5C0F:",w.length,"\u5B57\u8282"),console.log("XML\u6570\u636E\u9884\u89C8:",w.substring(0,500)),console.log(`=== \u5F39\u5E55\u5339\u914D\u5B8C\u6210 ===
`)),messageToDart({action:"toast",opt:{message:`\u901A\u8FC7 ${E.sourceName} - \u89E3\u6790\u5230 ${S} \u6761\u5F39\u5E55`,duration:3}}),a.header("Content-Type","application/xml"),a.send(w)}else messageToDart({action:"toast",opt:{message:"\u6CA1\u6709\u627E\u5230\u5F39\u5E55\u5466~",duration:3}}),a.header("Content-Type","application/xml"),a.send('<?xml version="1.0" encoding="UTF-8"?><i/>')}catch(o){console.error(`
=== \u5F39\u5E55\u5339\u914D\u53D1\u751F\u9519\u8BEF ===`),console.error("\u9519\u8BEF\u7C7B\u578B:",o.name),console.error("\u9519\u8BEF\u4FE1\u606F:",o.message),console.error("\u9519\u8BEF\u5806\u6808:",o.stack),console.error(`=========================
`),messageToDart({action:"toast",opt:{message:"\u6CA1\u6709\u627E\u5230\u5F39\u5E55\u5466~",duration:2}}),a.code(500).send({error:"Failed to fetch danmu content"})}}),e.addHook("onSend",(s,a,o,c)=>{if(a.sent||a.raw?.headersSent||!s.url.endsWith("/detail")&&!s.url.endsWith("/play"))return c(null,o);let u=typeof o=="string"?o:Buffer.isBuffer(o)?o.toString():null;if(!u)return c(null,o);aI(s.server).then(l=>{if(!l?.autoPush)return c(null,o);try{if(s.url.endsWith("/detail")){let f=JSON.parse(u).list[0];K$={};let p=f.vod_play_from.split("$$$")||[];return f.vod_play_url.split("$$$").filter(Boolean).forEach((m,h)=>{m.split("#").forEach(g=>{let[A,y]=g.split("$");K$[`${p[h]}_${y}`]={name:B0e(f.vod_name),originalName:f.vod_name,episodeNumber:N0e(A)}})}),c(null,o)}if(s.url.endsWith("/play")){let d=JSON.parse(u);if((d.url||d.url?.length||d.urls?.length)&&!d?.extra?.danmaku){let f=`${s.body.flag}_${s.body.id}`,p=K$[f];if(p){d.extra||(d.extra={});let m=new URL(`http://127.0.0.1:${s.server.address().port}/danmu-proxy`);return m.searchParams.set("name",p.name),m.searchParams.set("episodeNumber",p.episodeNumber),p.originalName&&m.searchParams.set("originalName",p.originalName),d.extra.danmaku=m.toString(),c(null,JSON.stringify(d))}}}}catch(d){console.error(d)}return c(null,o)}).catch(l=>(console.error(l),c(null,o)))})}var yI=Pe(W0e(),1);var X0e=Pe(Hp(),1),oy=Pe(js(),1);var pI="Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.81 Safari/537.36 SE 2.X MetaSr 1.0",d0={NEW:"NEW",SCANNED:"SCANNED",CONFIRMED:"CONFIRMED",EXPIRED:"EXPIRED",CANCELED:"CANCELED"},J0e={encode(e,t=3e5){let r={data:e,expireTime:Date.now()+t};return Buffer.from(JSON.stringify(r)).toString("base64url")},decode(e){try{if(!e)return null;let t=JSON.parse(Buffer.from(e,"base64url").toString());return Date.now()>t.expireTime?null:t.data}catch{return null}}},Mot=async e=>{let t=oy.default.enc.Hex.stringify(oy.default.MD5(e.config.quark.cookie)).toString();return(await e.db.getObjectDefault("/quark",{}))[t]??""},Fot=async(e,t)=>{let r=oy.default.enc.Hex.stringify(oy.default.MD5(e.config.quark.cookie)).toString();await e.db.push(`/quark/${r}`,t)};async function p8(e){e.get("/qrcode",async(r,n)=>{try{let s=await Ie.get("https://uop.quark.cn/cas/ajax/getTokenForQrcodeLogin?client_id=532&v=1.2",{headers:{"User-Agent":pI}}),a=s.data.data.members.token,o=za(s.headers["set-cookie"]),c=J0e.encode({token:a,cookies:o}),u="https://su.quark.cn/4_eMHBJ?token="+a+"&client_id=532&ssb=weblogin&uc_param_str=&uc_biz_str=S%3Acustom%7COPT%3ASAREA%400%7COPT%3AIMMERSIVE%401%7COPT%3ABACK_BTN_STYLE%400",l=await X0e.default.toBuffer(u,{width:300,height:300});n.header("X-Session-Key",c),n.send(l)}catch(s){console.error("\u5938\u514B\u4E8C\u7EF4\u7801\u751F\u6210\u5931\u8D25:",s),n.status(500).send({code:-1,message:"\u4E8C\u7EF4\u7801\u751F\u6210\u5931\u8D25"})}}),e.post("/check-status",async(r,n)=>{let{sessionKey:s}=r.body,a=J0e.decode(s);if(!a)return n.send({code:0,data:{status:d0.EXPIRED}});let{token:o,cookies:c}=a;try{let u=await Ie.get(`https://uop.quark.cn/cas/ajax/getServiceTicketByQrcodeToken?client_id=532&v=1.2&token=${o}`,{headers:{"User-Agent":pI}});if(u.data.status===2e6){let l=await t(u.data.data.members.service_ticket,c);n.send({code:0,data:{status:d0.CONFIRMED,cookie:l}})}else u.data.status===50004002?n.send({code:0,data:{status:d0.EXPIRED}}):u.data.status===50004001?n.send({code:0,data:{status:d0.NEW}}):n.send({code:0,data:{status:d0.NEW}})}catch(u){console.error("\u5938\u514B\u72B6\u6001\u68C0\u67E5\u5931\u8D25:",u),n.send({code:0,data:{status:d0.NEW}})}});async function t(r,n){let s=[...n],a=await Ie.get(`https://pan.quark.cn/account/info?st=${r}&fr=pc&platform=pc`,{headers:{"User-Agent":pI,Cookie:s.join("")}});a.headers["set-cookie"]&&(s=s.concat(za(a.headers["set-cookie"])));let o=await Ie.get("https://drive-pc.quark.cn/1/clouddrive/share/sharepage/dir?pr=ucpro&fr=pc&uc_param_str=&aver=1",{headers:{"User-Agent":pI,Cookie:s.join("")}});return o.headers["set-cookie"]&&(s=s.concat(za(o.headers["set-cookie"]))),s.join("")}e.post("/cookie",(r,n)=>{n.send({code:-1,message:"\u8BF7\u4F7F\u7528 /check-status \u63A5\u53E3"})}),e.get("/cookie",async(r,n)=>{n.send({code:0,data:await Mot(r.server)})}),e.put("/cookie",async(r,n)=>{await Fot(r.server,r.body.cookie),n.send({code:0})})}var cy=Pe(js(),1);var Cd={NEW:"NEW",SCANNED:"SCANNED",CONFIRMED:"CONFIRMED",EXPIRED:"EXPIRED",CANCELED:"CANCELED"},Z0e={encode(e,t=3e5){let r={data:e,expireTime:Date.now()+t};return Buffer.from(JSON.stringify(r)).toString("base64url")},decode(e){try{if(!e)return null;let t=JSON.parse(Buffer.from(e,"base64url").toString());return Date.now()>t.expireTime?null:t.data}catch{return null}}},Qot=async e=>{let t=cy.default.enc.Hex.stringify(cy.default.MD5(e.config.uc.token)).toString();return(await e.db.getObjectDefault("/uc",{}))[t]??""},Uot=async(e,t)=>{let r=cy.default.enc.Hex.stringify(cy.default.MD5(e.config.uc.token)).toString();await e.db.push(`/uc/${r}`,t)};async function h8(e){e.get("/qrcode",async(t,r)=>{try{let n="/oauth/authorize",s=Math.floor(Date.now()/1e3).toString()+"000",a=Di.DeviceID,o=sA(a,s),c=W_("GET",n,s,Xr.signKey),u={Accept:"application/json, text/plain, */*","User-Agent":"Mozilla/5.0 (Linux; U; Android 13; zh-cn; M2004J7AC Build/UKQ1.231108.001) AppleWebKit/533.1 (KHTML, like Gecko) Mobile Safari/533.1","x-pan-tm":s,"x-pan-token":c,"x-pan-client-id":Xr.clientID,...Di.AccessToken?{Authorization:`Bearer ${Di.AccessToken}`}:{}},l=await Ie.get(`${Xr.api}${n}`,{params:{req_id:o,access_token:Di.AccessToken,app_ver:Xr.appVer,device_id:a,device_brand:"Xiaomi",platform:"tv",device_name:"M2004J7AC",device_model:"M2004J7AC",build_device:"M2004J7AC",build_product:"M2004J7AC",device_gpu:"Adreno (TM) 550",activity_rect:"{}",channel:Xr.channel,auth_type:"code",client_id:Xr.clientID,scope:"netdisk",qrcode:"1",qr_width:"460",qr_height:"460"},headers:u}),d=Z0e.encode({query_token:l.data.query_token,req_id:o});r.header("X-Session-Key",d),r.send(Buffer.from(l.data.qr_data,"base64"))}catch(n){console.error("UC-TV\u4E8C\u7EF4\u7801\u751F\u6210\u5931\u8D25:",n),r.status(500).send({code:-1,message:"\u4E8C\u7EF4\u7801\u751F\u6210\u5931\u8D25"})}}),e.post("/check-status",async(t,r)=>{let{sessionKey:n}=t.body,s=Z0e.decode(n);if(!s)return r.send({code:0,data:{status:Cd.EXPIRED}});let{query_token:a}=s;try{let o="/oauth/code",c=Math.floor(Date.now()/1e3).toString()+"000",u=Di.DeviceID,l=sA(u,c),d=W_("GET",o,c,Xr.signKey),f={Accept:"application/json, text/plain, */*","User-Agent":"Mozilla/5.0 (Linux; U; Android 13; zh-cn; M2004J7AC Build/UKQ1.231108.001) AppleWebKit/533.1 (KHTML, like Gecko) Mobile Safari/533.1","x-pan-tm":c,"x-pan-token":d,"x-pan-client-id":Xr.clientID,...Di.AccessToken?{Authorization:`Bearer ${Di.AccessToken}`}:{}},p=await Ie.get(`${Xr.api}${o}`,{params:{req_id:l,access_token:Di.AccessToken,app_ver:Xr.appVer,device_id:u,device_brand:"Xiaomi",platform:"tv",device_name:"M2004J7AC",device_model:"M2004J7AC",build_device:"M2004J7AC",build_product:"M2004J7AC",device_gpu:"Adreno (TM) 550",activity_rect:"{}",channel:Xr.channel,client_id:Xr.clientID,scope:"netdisk",query_token:a},headers:f,validateStatus:m=>m<500});if(p.data.status===0){let m="/token",h=Math.floor(Date.now()/1e3).toString()+"000",g=sA(Di.DeviceID,h),A=JSON.stringify({req_id:g,app_ver:Xr.appVer,device_id:Di.DeviceID,device_brand:"Xiaomi",platform:"tv",device_name:"M2004J7AC",device_model:"M2004J7AC",build_device:"M2004J7AC",build_product:"M2004J7AC",device_gpu:"Adreno (TM) 550",activity_rect:"{}",channel:Xr.channel,code:p.data.code}),y=await Ie.post(`${Xr.codeApi}${m}`,A,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36",Accept:"application/json, text/plain, */*","Content-Type":"application/json"}});y.data.code===200?r.send({code:0,data:{status:Cd.CONFIRMED,cookie:y.data.data.access_token}}):r.send({code:0,data:{status:Cd.NEW}})}else p.data.errno===11003?r.send({code:0,data:{status:Cd.NEW}}):p.data.status===-1||p.data.errno===11001?r.send({code:0,data:{status:Cd.EXPIRED}}):r.send({code:0,data:{status:Cd.NEW}})}catch(o){console.error("UC-TV\u72B6\u6001\u68C0\u67E5\u5931\u8D25:",o),r.send({code:0,data:{status:Cd.NEW}})}}),e.post("/token",async(t,r)=>{r.send({code:-1,message:"\u8BF7\u4F7F\u7528 /check-status \u63A5\u53E3"})}),e.get("/token",async(t,r)=>{r.send({code:0,data:await Qot(t.server)})}),e.put("/token",async(t,r)=>{await Uot(t.server,t.body.cookie),r.send({code:0})})}var ehe=async(e,t)=>(await e.db.getObjectDefault("/tyi",{}))?.[t]||"",the=async(e,t,r)=>{await e.db.push(`/tyi/${t}`,r)};async function m8(e){e.get("/account",async(t,r)=>{let n=await ehe(t.server,"cloud_account"),s=await ehe(t.server,"cloud_password");r.send({code:0,data:{username:n,password:s}})}),e.put("/account",async(t,r)=>{await the(t.server,"cloud_account",t.body.username),await the(t.server,"cloud_password",t.body.password),r.send({code:0})})}var rhe=async(e,t)=>(await e.db.getObjectDefault("/pan123",{}))?.[t]||"",nhe=async(e,t,r)=>{await e.db.push(`/pan123/${t}`,r)};async function g8(e){e.get("/account",async(t,r)=>{let n=await rhe(t.server,"pan_passport"),s=await rhe(t.server,"pan_password");r.send({code:0,data:{username:n,password:s}})}),e.put("/account",async(t,r)=>{await nhe(t.server,"pan_passport",t.body.username),await nhe(t.server,"pan_password",t.body.password),r.send({code:0})})}var VNt=Pe(Hp(),1),YNt=Pe(js(),1);var f0="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36",wd={NEW:"NEW",SCANNED:"SCANNED",CONFIRMED:"CONFIRMED",EXPIRED:"EXPIRED",CANCELED:"CANCELED"},she={encode(e,t=3e5){let r={data:e,expireTime:Date.now()+t};return Buffer.from(JSON.stringify(r)).toString("base64url")},decode(e){try{if(!e)return null;let t=JSON.parse(Buffer.from(e,"base64url").toString());return Date.now()>t.expireTime?null:t.data}catch{return null}}},qot=async e=>(await e.db.getObjectDefault("/baidu",{}))["baidu_cookie"]??"",A8=async(e,t)=>{await e.db.push("/baidu/baidu_cookie",t)};function jot(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}async function y8(e){e.get("/qrcode",async(r,n)=>{try{let s=jot(),a=new Date().getTime().toString(),o=Math.floor(new Date().getTime()/1e3).toString(),c=`tangram_guid_${a}`,l=(await Oe.get("https://passport.baidu.com/v2/api/getqrcode",{params:{lp:"pc",qrloginfrom:"pc",gid:s,callback:c,apiver:"v3",tt:o,tpl:"netdisk",_:a},headers:{"User-Agent":f0,Referer:"https://pan.baidu.com","sec-ch-ua-platform":'"Windows"',DNT:"1"}})).data;if(typeof l=="string"){l=l.replace(/^[^(]*\(/,"").replace(/\);?$/,"");let d=JSON.parse(l);if(d.errno===0){let f=she.encode({sign:d.sign,channel_id:d.channel_id}),p="https://"+d.imgurl,m=await Oe.get(p,{responseType:"arraybuffer",headers:{"User-Agent":f0}});n.header("X-Session-Key",f),n.send(m.data)}else throw new Error(`\u83B7\u53D6\u4E8C\u7EF4\u7801\u5931\u8D25: ${d.errmsg||"\u672A\u77E5\u9519\u8BEF"}`)}else throw new Error("\u54CD\u5E94\u683C\u5F0F\u9519\u8BEF")}catch(s){console.error("\u767E\u5EA6\u4E8C\u7EF4\u7801\u83B7\u53D6\u5931\u8D25:",s),n.status(500).send({code:-1,message:s?.message||"\u83B7\u53D6\u4E8C\u7EF4\u7801\u5931\u8D25"})}}),e.post("/check-status",async(r,n)=>{let{sessionKey:s}=r.body,a=she.decode(s);if(!a)return n.send({code:0,data:{status:wd.EXPIRED}});let{sign:o}=a;try{let c=new Date().getTime().toString(),u=`tangram_guid_${c}`,d=(await Oe.get("https://passport.baidu.com/channel/unicast",{params:{channel_id:o,tpl:"netdisk",apiver:"v3",tt:Math.floor(new Date().getTime()/1e3).toString(),callback:u,_:c},headers:{"User-Agent":f0,Referer:"https://pan.baidu.com"}})).data;if(typeof d=="string"){d=d.replace(/^[^(]*\(/,"").replace(/\);?\s*$/,"").trim();let f=JSON.parse(d);if(f.errno===0&&f.channel_v){let p=JSON.parse(f.channel_v);if(p.status===1)return n.send({code:0,data:{status:wd.SCANNED}});if(p.status===0&&p.v){let m=await t(p.v,r.server);return n.send({code:0,data:{status:wd.CONFIRMED,cookie:m}})}}else{if(f.errno===1)return n.send({code:0,data:{status:wd.NEW}});if(f.errno===2)return n.send({code:0,data:{status:wd.EXPIRED}})}}n.send({code:0,data:{status:wd.NEW}})}catch(c){console.error("\u767E\u5EA6\u72B6\u6001\u68C0\u67E5\u5931\u8D25:",c),n.send({code:0,data:{status:wd.NEW}})}});async function t(r,n){let s=new Date().getTime().toString(),a=Math.floor(new Date().getTime()/1e3).toString(),c=(await Oe.get("https://passport.baidu.com/v3/login/main/qrbdusslogin",{params:{v:s,bduss:r,u:"https://pan.baidu.com/disk/main#/index?category=all",loginVersion:"v5",qrcode:"1",tpl:"netdisk",maskId:"",fileId:"",apiver:"v3",tt:s,traceid:"",time:a,alg:"v3",elapsed:"1"},headers:{"User-Agent":f0,Referer:"https://pan.baidu.com/","Accept-Language":"zh-CN,zh;q=0.9"},timeout:3e4})).data;if(typeof c=="string"){c=c.replace(/^[^(]*\(/,"").replace(/\);?\s*$/,"").trim();let u=c.match(/"bduss":\s*"([^"]+)"/),l=c.match(/"stoken":\s*"([^"]+)"/),d=c.match(/"ptoken":\s*"([^"]+)"/),f=c.match(/"ubi":\s*"([^"]+)"/);if(u&&l&&d&&f){let p=u[1],m=l[1],h=d[1],g=encodeURIComponent(f[1]),y=Object.entries({newlogin:"1",UBI:g,STOKEN:m,BDUSS:p,PTOKEN:h,BDUSS_BFESS:p,STOKEN_BFESS:m,PTOKEN_BFESS:h,UBI_BFESS:g}).map(([E,I])=>`${E}=${I}`).join("; "),b=(await Oe.get("https://passport.baidu.com/v3/login/api/auth/?return_type=5&tpl=netdisk&u=https://pan.baidu.com/disk/home",{headers:{"User-Agent":f0,Referer:"https://pan.baidu.com/",Cookie:y},maxRedirects:0,validateStatus:E=>E===302||E===200})).headers.location;if(b){let I=(await Oe.get(b,{headers:{"User-Agent":f0,Referer:"https://pan.baidu.com/",Cookie:y},maxRedirects:0,validateStatus:T=>T===302||T===200})).headers["set-cookie"],w="";if(I){let T=I.find(B=>B.toLowerCase().includes("stoken"));T&&(w=T.split(";")[0])}let S=w?`BDUSS=${p};${w};`:`BDUSS=${p};STOKEN=${m};`;return await A8(n,S),S}else{let E=`BDUSS=${p};STOKEN=${m};`;return await A8(n,E),E}}}throw new Error("Cookie\u89E3\u6790\u5931\u8D25")}e.post("/cookie",async(r,n)=>{n.send({code:-1,message:"\u8BF7\u4F7F\u7528 /check-status \u63A5\u53E3"})}),e.get("/cookie",async(r,n)=>{n.send({code:0,data:await qot(r.server)})}),e.put("/cookie",async(r,n)=>{await A8(r.server,r.body.cookie),n.send({code:0})})}var hI=[{key:"quark",name:"\u5938\u514B",enable:!0,chunkSize:512,poolSize:10},{key:"uc",name:"UC",enable:!0,chunkSize:512,poolSize:10},{key:"baidu",name:"\u767E\u5EA6",enable:!0},{key:"tianyi",name:"\u5929\u7FFC",enable:!0},{key:"yidong",name:"\u79FB\u52A8",enable:!0},{key:"123",name:"123",enable:!0},{key:"115",name:"115",enable:!0}],b8=async e=>{let r=(await e.db.getObjectDefault("/pans",{}))?.list||e.config.pans.list;return r.filter(n=>hI.some(s=>s.key===n.key)).concat(hI.filter(n=>!r.some(s=>s.key===n.key))).map(n=>({...hI.find(a=>a.key===n.key),...n}))},Hot=async(e,t)=>{await e.db.push("/pans/list",t),globalThis.Pans=t},zot=async e=>{await e.db.delete("/pans/list"),globalThis.Pans=hI};async function E8(e){e.get("/list",async(t,r)=>{r.send({code:0,data:await b8(t.server)})}),e.put("/list",async(t,r)=>{await Hot(t.server,t.body.list),r.send({code:0})}),e.delete("/list",async(t,r)=>{await zot(t.server),r.send({code:0})})}var ihe=Pe(C$(),1);async function x8(e){e.get("/",async(t,r)=>{r.header("Content-Disposition",`attachment; filename="config.${(0,ihe.default)().format("YYYY-MM-DD")}.json"`);let n=await t.server.db.getData("/");r.send(JSON.stringify(n,null,4))}),e.put("/",async(t,r)=>{await t.server.db.push("/",t.body),r.send({code:0})})}async function v8(e){e.get("/",(t,r)=>{r.type("text/html").send(`
    <!DOCTYPE html>
    <html>
      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <title>\u9996\u9875</title>
      </head>
      <body>
        <div id="app"></div>
        <script crossorigin src="https://lib.baomitu.com/react/18.2.0/umd/react.production.min.js"></script>
        <script crossorigin src="https://lib.baomitu.com/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
        <script crossorigin src="https://lib.baomitu.com/axios/0.26.0/axios.min.js"></script>
        <script crossorigin src="https://lib.baomitu.com/dayjs/1.10.8/dayjs.min.js"></script>
        <script crossorigin src="https://lib.baomitu.com/antd/5.25.0/antd.min.js"></script>
        <link rel="stylesheet" href="https://lib.baomitu.com/antd/5.25.0/reset.min.css">
        <script>${globalThis.websiteBundle}</script>
      </body>
    </html>
    `)}),e.register(p8,{prefix:"/quark"}),e.register(gP,{prefix:"/uc"}),e.register(h8,{prefix:"/uc-tv"}),e.register(sO,{prefix:"/115"}),e.register(E5,{prefix:"/muou"}),e.register(pO,{prefix:"/duoduo"}),e.register(I5,{prefix:"/labi"}),e.register(T5,{prefix:"/ouge"}),e.register(k5,{prefix:"/erxiao"}),e.register($5,{prefix:"/huban"}),e.register(Q5,{prefix:"/xiaoban"}),e.register(m8,{prefix:"/tianyi"}),e.register(i$,{prefix:"/wanou"}),e.register(X5,{prefix:"/leijing"}),e.register(u$,{prefix:"/zhizhen"}),e.register(A$,{prefix:"/tgsou"}),e.register(N$,{prefix:"/pansou"}),e.register(g8,{prefix:"/pan123"}),e.register(y8,{prefix:"/baidu"}),e.register(v$,{prefix:"/tgchannel"}),e.register(M$,{prefix:"/sites"}),e.register(E8,{prefix:"/pans"}),e.register(x8,{prefix:"/backup"}),e.register(Q$,{prefix:"/danmu"}),e.register(j$,{prefix:"/t4"}),e.register(G$,{prefix:"/cms"}),e.register(D$,{prefix:"/live2vod"})}var ahe=Pe(require("os"),1),_8=e=>e?.find(t=>t.family==="IPv4")?.address,ohe=function(){let e=ahe.default.networkInterfaces();return _8(e.en0)||_8(e.en1)||_8(e.en2)||"127.0.0.1"};var ar=null,mI=Number.parseInt(process.env.CATPAW_LOG_LIMIT||"1500",10)||1500,Sd=[],uhe=["log","info","warn","error","debug"],uy={},gI=!1;function Got(e){if(typeof e=="string")return e;if(e instanceof Error)return`${e.name}: ${e.message}
${e.stack||""}`;try{return JSON.stringify(e)}catch{try{return String(e)}catch{return"[Unserializable]"}}}function Vot(e,t){Sd.push({ts:new Date().toISOString(),level:e,msg:t.map(Got).join(" ")}),Sd.length>mI&&Sd.splice(0,Sd.length-mI)}function Kot(){gI||(uhe.forEach(e=>{let t=console[e];typeof t=="function"&&(uy[e]=t.bind(console),console[e]=(...r)=>{Vot(e,r),uy[e](...r)})}),gI=!0)}function Yot(){gI&&(uhe.forEach(e=>{uy[e]&&(console[e]=uy[e],delete uy[e])}),gI=!1)}function Wot(e){e.get("/api/catpaw-logs",async t=>{let r=Number.parseInt(t.query?.limit,10),n=Number.isFinite(r)&&r>0?Math.min(r,mI):mI,s=Sd.slice(-n);return{success:!0,total:Sd.length,count:s.length,logs:s}}),e.post("/api/catpaw-logs/clear",async()=>(Sd.length=0,{success:!0}))}function AI(...e){console.log("[danmu:debug][index]",...e)}async function Jot(e){ar=(0,che.default)({serverFactory:catServerFactory,forceCloseConnections:!0,logger:process.env.NODE_ENV!=="development",maxParamLength:10240}),Kot(),Wot(ar),globalThis.messageToDart=ar.messageToDart=async a=>{try{console.log("messageToDart",a);let o=catDartServerPort();return o==0?null:(await Ie.post(`http://127.0.0.1:${o}/msg`,a)).data}catch(o){return console.error(o),null}},ar.address=function(){let a=this.server.address();return a.url=`http://${ohe()}:${a.port}`,a.dynamic="js2p://_WEB_",a},ar.addHook("onError",async(a,o,c)=>(console.error(c),c.statusCode||(c.statusCode=500),c)),ar.stop=!1,ar.config=e;let t=9321;AI("before start()",{danmuPort:t,node:process.version,platform:`${process.platform}/${process.arch}`}),Tpe(t),AI("after start()",{danmuPort:t}),ar.db=new yI.JsonDB(new yI.Config((process.env.NODE_PATH||".")+"/default.db.json",!0,!0,"/",!0));let r=ar.db.push.bind(ar.db);ar.db.push=async(...a)=>{let o=await r(...a);return ar.db.getData("/").then(c=>{ar.messageToDart({action:"saveProfile",opt:c})}),o};let n=ar.db.delete.bind(ar.db);ar.db.delete=async(...a)=>{let o=await n(...a);return ar.db.getData("/").then(c=>{ar.messageToDart({action:"saveProfile",opt:c})}),o},ar.messageToDart({action:"queryProfile"}).then(a=>{a&&Object.keys(a).length>0&&r("/",a||{})}),ar.register(Y$,{db:ar.db,config:e}),ar.register(v8,{prefix:"/website"}),globalThis.Pans=await b8(ar),globalThis.getPanName=a=>globalThis.Pans.find(o=>o.key===a)?.name,globalThis.getPanEnabled=a=>globalThis.Pans.find(o=>o.key===a)?.enable;let s=(a,o=!0)=>{let c=o&&process.env.DEV_HTTP_PORT?process.env.DEV_HTTP_PORT:a;ar.listen({port:c,host:"0.0.0.0"},(u,l)=>{u?(console.error(u),u.code==="EADDRINUSE"&&(console.log(`Port ${c} is already in use. Trying next available port...`),s(a+1,!1))):console.log(`Server listening on ${l}`)})};s(2333)}async function Xot(){AI("before stop()"),Bpe(),AI("after stop()"),ar&&(ar.close(),ar.stop=!0),Yot(),ar=null}0&&(module.exports={start,stop});
/*! Bundled license information:

forwarded/index.js:
  (*!
   * forwarded
   * Copyright(c) 2014-2017 Douglas Christopher Wilson
   * MIT Licensed
   *)

proxy-addr/index.js:
  (*!
   * proxy-addr
   * Copyright(c) 2014-2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

toad-cache/dist/toad-cache.cjs:
  (**
   * toad-cache
   *
   * @copyright 2024 Igor Savin <kibertoad@gmail.com>
   * @license MIT
   * @version 3.7.0
   *)

cookie/index.js:
  (*!
   * cookie
   * Copyright(c) 2012-2014 Roman Shtylman
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

light-my-request/lib/form-data.js:
  (*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

mime-db/index.js:
  (*!
   * mime-db
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

mime-types/index.js:
  (*!
   * mime-types
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cdric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

rwlock/lib/lock.js:
  (*! ReadWriteLock - v5.0.0 - 2015-01-16
   * Author: Alberto La Rocca <a71104@gmail.com> (https://github.com/71104)
   * Released under the MIT license
   * Copyright (c) 2015 Alberto La Rocca *)
*/
